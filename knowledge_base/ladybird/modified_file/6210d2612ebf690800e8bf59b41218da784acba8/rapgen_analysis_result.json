{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/6210d2612ebf690800e8bf59b41218da784acba8",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/6210d2612ebf690800e8bf59b41218da784acba8/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/6210d2612ebf690800e8bf59b41218da784acba8/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/6210d2612ebf690800e8bf59b41218da784acba8/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 215,
          "old_api": "get",
          "new_api": "get_ptr",
          "old_text": "object.get(\"events\")",
          "new_text": "object.get_ptr(\"events\")",
          "old_line_content": "    auto events_value = object.get(\"events\");",
          "new_line_content": "    auto events_value = object.get_ptr(\"events\");",
          "content_same": false
        },
        {
          "line": 302,
          "old_api": "get",
          "new_api": "get_ptr",
          "old_text": "perf_event.get(\"stack\").as_array()",
          "new_text": "perf_event.get_ptr(\"stack\")",
          "old_line_content": "        auto stack_array = perf_event.get(\"stack\").as_array();",
          "new_line_content": "        auto* stack = perf_event.get_ptr(\"stack\");",
          "content_same": false
        },
        {
          "line": 303,
          "old_api": "values",
          "new_api": "VERIFY",
          "old_text": "stack_array.values().size()",
          "new_text": "VERIFY(stack)",
          "old_line_content": "        for (ssize_t i = stack_array.values().size() - 1; i >= 0; --i) {",
          "new_line_content": "        VERIFY(stack);",
          "content_same": false
        },
        {
          "line": 304,
          "old_api": "at",
          "new_api": "as_array",
          "old_text": "stack_array.at(i)",
          "new_text": "stack->as_array()",
          "old_line_content": "            auto& frame = stack_array.at(i);",
          "new_line_content": "        auto& stack_array = stack->as_array();",
          "content_same": false
        },
        {
          "line": 305,
          "old_api": "frame.to_number<u32>()",
          "new_api": "values",
          "old_text": "frame.to_number<u32>()",
          "new_text": "stack_array.values().size()",
          "old_line_content": "            auto ptr = frame.to_number<u32>();",
          "new_line_content": "        for (ssize_t i = stack_array.values().size() - 1; i >= 0; --i) {",
          "content_same": false
        },
        {
          "line": 314,
          "old_api": "String::formatted(\"?? <{:p}>\", ptr)",
          "new_api": "symbolicate",
          "old_text": "String::formatted(\"?? <{:p}>\", ptr)",
          "new_text": "kernel_elf->symbolicate(ptr, &offset)",
          "old_line_content": "                    symbol = String::formatted(\"?? <{:p}>\", ptr);",
          "new_line_content": "                    symbol = kernel_elf->symbolicate(ptr, &offset);",
          "content_same": false
        },
        {
          "line": 322,
          "old_api": "library_containing",
          "new_api": "end",
          "old_text": "library_metadata->library_containing(ptr)",
          "new_text": "current_processes.end()",
          "old_line_content": "                if (auto* library = library_metadata ? library_metadata->library_containing(ptr) : nullptr) {",
          "new_line_content": "                if (it != current_processes.end())",
          "content_same": false
        },
        {
          "line": 324,
          "old_api": "symbolicate",
          "new_api": "library_containing",
          "old_text": "library->symbolicate(ptr, &offset)",
          "new_text": "library_metadata->library_containing(ptr)",
          "old_line_content": "                    symbol = library->symbolicate(ptr, &offset);",
          "new_line_content": "                if (auto* library = library_metadata ? library_metadata->library_containing(ptr) : nullptr) {",
          "content_same": false
        },
        {
          "line": 326,
          "old_api": "String::formatted(\"?? <{:p}>\", ptr)",
          "new_api": "symbolicate",
          "old_text": "String::formatted(\"?? <{:p}>\", ptr)",
          "new_text": "library->symbolicate(ptr, &offset)",
          "old_line_content": "                    symbol = String::formatted(\"?? <{:p}>\", ptr);",
          "new_line_content": "                    symbol = library->symbolicate(ptr, &offset);",
          "content_same": false
        },
        {
          "line": 373,
          "old_api": "rebuild_tree",
          "new_api": "max",
          "old_text": "rebuild_tree()",
          "new_text": "max(start, end)",
          "old_line_content": "    rebuild_tree();",
          "new_line_content": "    m_timestamp_filter_range_end = max(start, end);",
          "content_same": false
        },
        {
          "line": 391,
          "old_api": "move",
          "new_api": "contains_slow",
          "old_text": "move(filter)",
          "new_text": "m_process_filters.contains_slow(filter)",
          "old_line_content": "    m_process_filters.append(move(filter));",
          "new_line_content": "    if (m_process_filters.contains_slow(filter))",
          "content_same": false
        },
        {
          "line": 393,
          "old_api": "rebuild_tree",
          "new_api": "move",
          "old_text": "rebuild_tree()",
          "new_text": "move(filter)",
          "old_line_content": "    rebuild_tree();",
          "new_line_content": "    m_process_filters.append(move(filter));",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": "update",
          "new_api": "rebuild_tree",
          "old_text": "m_disassembly_model->update()",
          "new_text": "rebuild_tree()",
          "old_line_content": "        m_disassembly_model->update();",
          "new_line_content": "    rebuild_tree();",
          "content_same": false
        },
        {
          "line": 404,
          "old_api": "remove_first_matching",
          "new_api": "contains_slow",
          "old_text": "m_process_filters.remove_first_matching([&filter](ProcessFilter const& other_filter) {\n        return other_filter == filter;\n    })",
          "new_text": "m_process_filters.contains_slow(filter)",
          "old_line_content": "    m_process_filters.remove_first_matching([&filter](ProcessFilter const& other_filter) {",
          "new_line_content": "    if (!m_process_filters.contains_slow(filter))",
          "content_same": false
        },
        {
          "line": 410,
          "old_api": "update",
          "new_api": "rebuild_tree",
          "old_text": "m_disassembly_model->update()",
          "new_text": "rebuild_tree()",
          "old_line_content": "        m_disassembly_model->update();",
          "new_line_content": "    rebuild_tree();",
          "content_same": false
        },
        {
          "line": 418,
          "old_api": "clear",
          "new_api": "is_empty",
          "old_text": "m_process_filters.clear()",
          "new_text": "m_process_filters.is_empty()",
          "old_line_content": "    m_process_filters.clear();",
          "new_line_content": "    if (m_process_filters.is_empty())",
          "content_same": false
        },
        {
          "line": 421,
          "old_api": "update",
          "new_api": "rebuild_tree",
          "old_text": "m_disassembly_model->update()",
          "new_text": "rebuild_tree()",
          "old_line_content": "        m_disassembly_model->update();",
          "new_line_content": "    rebuild_tree();",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 384,
          "old_api": null,
          "new_api": "rebuild_tree",
          "old_text": null,
          "new_text": "rebuild_tree()",
          "old_line_content": "}",
          "new_line_content": "    rebuild_tree();",
          "content_same": false
        },
        {
          "line": 385,
          "old_api": null,
          "new_api": "update",
          "old_text": null,
          "new_text": "m_samples_model->update()",
          "old_line_content": "",
          "new_line_content": "    m_samples_model->update();",
          "content_same": false
        },
        {
          "line": 397,
          "old_api": null,
          "new_api": "update",
          "old_text": null,
          "new_text": "m_disassembly_model->update()",
          "old_line_content": "}",
          "new_line_content": "        m_disassembly_model->update();",
          "content_same": false
        },
        {
          "line": 398,
          "old_api": null,
          "new_api": "update",
          "old_text": null,
          "new_text": "m_samples_model->update()",
          "old_line_content": "",
          "new_line_content": "    m_samples_model->update();",
          "content_same": false
        },
        {
          "line": 406,
          "old_api": null,
          "new_api": "remove_first_matching",
          "old_text": null,
          "new_text": "m_process_filters.remove_first_matching([&filter](ProcessFilter const& other_filter) {\n        return other_filter == filter;\n    })",
          "old_line_content": "    });",
          "new_line_content": "    m_process_filters.remove_first_matching([&filter](ProcessFilter const& other_filter) {",
          "content_same": false
        },
        {
          "line": 412,
          "old_api": null,
          "new_api": "update",
          "old_text": null,
          "new_text": "m_disassembly_model->update()",
          "old_line_content": "}",
          "new_line_content": "        m_disassembly_model->update();",
          "content_same": false
        },
        {
          "line": 413,
          "old_api": null,
          "new_api": "update",
          "old_text": null,
          "new_text": "m_samples_model->update()",
          "old_line_content": "",
          "new_line_content": "    m_samples_model->update();",
          "content_same": false
        },
        {
          "line": 420,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "m_process_filters.clear()",
          "old_line_content": "    if (m_disassembly_model)",
          "new_line_content": "    m_process_filters.clear();",
          "content_same": false
        },
        {
          "line": 423,
          "old_api": null,
          "new_api": "update",
          "old_text": null,
          "new_text": "m_disassembly_model->update()",
          "old_line_content": "}",
          "new_line_content": "        m_disassembly_model->update();",
          "content_same": false
        },
        {
          "line": 424,
          "old_api": null,
          "new_api": "update",
          "old_text": null,
          "new_text": "m_samples_model->update()",
          "old_line_content": "",
          "new_line_content": "    m_samples_model->update();",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": null,
          "new_api": "has_process_filter",
          "old_text": null,
          "new_text": "has_process_filter()",
          "old_line_content": "",
          "new_line_content": "    if (!has_process_filter())",
          "content_same": false
        },
        {
          "line": 306,
          "old_api": null,
          "new_api": "at",
          "old_text": null,
          "new_text": "stack_array.at(i)",
          "old_line_content": "            u32 offset = 0;",
          "new_line_content": "            auto& frame = stack_array.at(i);",
          "content_same": false
        },
        {
          "line": 307,
          "old_api": null,
          "new_api": "frame.to_number<u32>()",
          "old_text": null,
          "new_text": "frame.to_number<u32>()",
          "old_line_content": "            FlyString object_name;",
          "new_line_content": "            auto ptr = frame.to_number<u32>();",
          "content_same": false
        },
        {
          "line": 316,
          "old_api": null,
          "new_api": "String::formatted(\"?? <{:p}>\", ptr)",
          "old_text": null,
          "new_text": "String::formatted(\"?? <{:p}>\", ptr)",
          "old_line_content": "            } else {",
          "new_line_content": "                    symbol = String::formatted(\"?? <{:p}>\", ptr);",
          "content_same": false
        },
        {
          "line": 444,
          "old_api": null,
          "new_api": "rebuild_tree",
          "old_text": null,
          "new_text": "rebuild_tree()",
          "old_line_content": "",
          "new_line_content": "    rebuild_tree();",
          "content_same": false
        },
        {
          "line": 319,
          "old_api": null,
          "new_api": "find",
          "old_text": null,
          "new_text": "current_processes.find(event.pid)",
          "old_line_content": "                LibraryMetadata* library_metadata {};",
          "new_line_content": "                auto it = current_processes.find(event.pid);",
          "content_same": false
        },
        {
          "line": 452,
          "old_api": null,
          "new_api": "rebuild_tree",
          "old_text": null,
          "new_text": "rebuild_tree()",
          "old_line_content": "",
          "new_line_content": "    rebuild_tree();",
          "content_same": false
        },
        {
          "line": 328,
          "old_api": null,
          "new_api": "String::formatted(\"?? <{:p}>\", ptr)",
          "old_text": null,
          "new_text": "String::formatted(\"?? <{:p}>\", ptr)",
          "old_line_content": "            }",
          "new_line_content": "                    symbol = String::formatted(\"?? <{:p}>\", ptr);",
          "content_same": false
        },
        {
          "line": 332,
          "old_api": null,
          "new_api": "append",
          "old_text": null,
          "new_text": "event.frames.append({ object_name, symbol, ptr, offset })",
          "old_line_content": "",
          "new_line_content": "            event.frames.append({ object_name, symbol, ptr, offset });",
          "content_same": false
        },
        {
          "line": 335,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "event.frames.size()",
          "old_line_content": "",
          "new_line_content": "        if (event.frames.size() < 2)",
          "content_same": false
        },
        {
          "line": 338,
          "old_api": null,
          "new_api": "at",
          "old_text": null,
          "new_text": "event.frames.at(1)",
          "old_line_content": "",
          "new_line_content": "        FlatPtr innermost_frame_address = event.frames.at(1).address;",
          "content_same": false
        },
        {
          "line": 468,
          "old_api": null,
          "new_api": "rebuild_tree",
          "old_text": null,
          "new_text": "rebuild_tree()",
          "old_line_content": "",
          "new_line_content": "    rebuild_tree();",
          "content_same": false
        },
        {
          "line": 341,
          "old_api": null,
          "new_api": "move",
          "old_text": null,
          "new_text": "move(event)",
          "old_line_content": "",
          "new_line_content": "        events.append(move(event));",
          "content_same": false
        },
        {
          "line": 344,
          "old_api": null,
          "new_api": "is_empty",
          "old_text": null,
          "new_text": "events.is_empty()",
          "old_line_content": "",
          "new_line_content": "    if (events.is_empty())",
          "content_same": false
        },
        {
          "line": 347,
          "old_api": null,
          "new_api": "quick_sort",
          "old_text": null,
          "new_text": "quick_sort(all_processes, [](auto& a, auto& b) {\n        if (a.pid == b.pid)\n            return a.start_valid < b.start_valid;\n        else\n            return a.pid < b.pid;\n    })",
          "old_line_content": "            return a.start_valid < b.start_valid;",
          "new_line_content": "    quick_sort(all_processes, [](auto& a, auto& b) {",
          "content_same": false
        },
        {
          "line": 476,
          "old_api": null,
          "new_api": "internal_data",
          "old_text": null,
          "new_text": "index.internal_data()",
          "old_line_content": "}",
          "new_line_content": "    auto* node = static_cast<ProfileNode*>(index.internal_data());",
          "content_same": false
        },
        {
          "line": 477,
          "old_api": null,
          "new_api": "DisassemblyModel::create(*this, *node)",
          "old_text": null,
          "new_text": "DisassemblyModel::create(*this, *node)",
          "old_line_content": "",
          "new_line_content": "    m_disassembly_model = DisassemblyModel::create(*this, *node);",
          "content_same": false
        },
        {
          "line": 503,
          "old_api": null,
          "new_api": "find_process",
          "old_text": null,
          "new_text": "profile.find_process(m_pid, timestamp)",
          "old_line_content": "",
          "new_line_content": "    return profile.find_process(m_pid, timestamp);",
          "content_same": false
        },
        {
          "line": 358,
          "old_api": null,
          "new_api": "move",
          "old_text": null,
          "new_text": "move(events)",
          "old_line_content": "",
          "new_line_content": "    return adopt_own(*new Profile(move(processes), move(events)));",
          "content_same": false
        },
        {
          "line": 486,
          "old_api": null,
          "new_api": "move",
          "old_text": null,
          "new_text": "move(symbol)",
          "old_line_content": "    , m_address(address)",
          "new_line_content": "    : m_symbol(move(symbol))",
          "content_same": false
        },
        {
          "line": 363,
          "old_api": null,
          "new_api": "sort_profile_nodes",
          "old_text": null,
          "new_text": "sort_profile_nodes(m_children)",
          "old_line_content": "",
          "new_line_content": "    sort_profile_nodes(m_children);",
          "content_same": false
        },
        {
          "line": 493,
          "old_api": null,
          "new_api": "ends_with",
          "old_text": null,
          "new_text": "object_name.ends_with(\": .text\"sv)",
          "old_line_content": "    } else {",
          "new_line_content": "    if (object_name.ends_with(\": .text\"sv)) {",
          "content_same": false
        },
        {
          "line": 494,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "object_name.length()",
          "old_line_content": "        object = object_name;",
          "new_line_content": "        object = object_name.view().substring_view(0, object_name.length() - 7);",
          "content_same": false
        },
        {
          "line": 498,
          "old_api": null,
          "new_api": "basename",
          "old_text": null,
          "new_text": "LexicalPath(object).basename()",
          "old_line_content": "",
          "new_line_content": "    m_object_name = LexicalPath(object).basename();",
          "content_same": false
        },
        {
          "line": 372,
          "old_api": null,
          "new_api": "min",
          "old_text": null,
          "new_text": "min(start, end)",
          "old_line_content": "",
          "new_line_content": "    m_timestamp_filter_range_start = min(start, end);",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": null,
          "new_api": "rebuild_tree",
          "old_text": null,
          "new_text": "rebuild_tree()",
          "old_line_content": "}",
          "new_line_content": "    rebuild_tree();",
          "content_same": false
        },
        {
          "line": 376,
          "old_api": null,
          "new_api": "update",
          "old_text": null,
          "new_text": "m_samples_model->update()",
          "old_line_content": "",
          "new_line_content": "    m_samples_model->update();",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 389,
          "old_api": "contains_slow",
          "new_api": null,
          "old_text": "m_process_filters.contains_slow(filter)",
          "new_text": null,
          "old_line_content": "    if (m_process_filters.contains_slow(filter))",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 396,
          "old_api": "update",
          "new_api": null,
          "old_text": "m_samples_model->update()",
          "new_text": null,
          "old_line_content": "    m_samples_model->update();",
          "new_line_content": "    if (m_disassembly_model)",
          "content_same": false
        },
        {
          "line": 402,
          "old_api": "contains_slow",
          "new_api": null,
          "old_text": "m_process_filters.contains_slow(filter)",
          "new_text": null,
          "old_line_content": "    if (!m_process_filters.contains_slow(filter))",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 408,
          "old_api": "rebuild_tree",
          "new_api": null,
          "old_text": "rebuild_tree()",
          "new_text": null,
          "old_line_content": "    rebuild_tree();",
          "new_line_content": "    });",
          "content_same": false
        },
        {
          "line": 411,
          "old_api": "update",
          "new_api": null,
          "old_text": "m_samples_model->update()",
          "new_text": null,
          "old_line_content": "    m_samples_model->update();",
          "new_line_content": "    if (m_disassembly_model)",
          "content_same": false
        },
        {
          "line": 416,
          "old_api": "is_empty",
          "new_api": null,
          "old_text": "m_process_filters.is_empty()",
          "new_text": null,
          "old_line_content": "    if (m_process_filters.is_empty())",
          "new_line_content": "void Profile::clear_process_filter()",
          "content_same": false
        },
        {
          "line": 419,
          "old_api": "rebuild_tree",
          "new_api": null,
          "old_text": "rebuild_tree()",
          "new_text": null,
          "old_line_content": "    rebuild_tree();",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": "update",
          "new_api": null,
          "old_text": "m_samples_model->update()",
          "new_text": null,
          "old_line_content": "    m_samples_model->update();",
          "new_line_content": "    if (m_disassembly_model)",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": "has_process_filter",
          "new_api": null,
          "old_text": "has_process_filter()",
          "new_text": null,
          "old_line_content": "    if (!has_process_filter())",
          "new_line_content": "bool Profile::process_filter_contains(pid_t pid, u32 timestamp)",
          "content_same": false
        },
        {
          "line": 312,
          "old_api": "symbolicate",
          "new_api": null,
          "old_text": "kernel_elf->symbolicate(ptr, &offset)",
          "new_text": null,
          "old_line_content": "                    symbol = kernel_elf->symbolicate(ptr, &offset);",
          "new_line_content": "            if (ptr >= 0xc0000000) {",
          "content_same": false
        },
        {
          "line": 442,
          "old_api": "rebuild_tree",
          "new_api": null,
          "old_text": "rebuild_tree()",
          "new_text": null,
          "old_line_content": "    rebuild_tree();",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 317,
          "old_api": "find",
          "new_api": null,
          "old_text": "current_processes.find(event.pid)",
          "new_text": null,
          "old_line_content": "                auto it = current_processes.find(event.pid);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 320,
          "old_api": "end",
          "new_api": null,
          "old_text": "current_processes.end()",
          "new_text": null,
          "old_line_content": "                if (it != current_processes.end())",
          "new_line_content": "                // FIXME: This logic is kinda gnarly, find a way to clean it up.",
          "content_same": false
        },
        {
          "line": 450,
          "old_api": "rebuild_tree",
          "new_api": null,
          "old_text": "rebuild_tree()",
          "new_text": null,
          "old_line_content": "    rebuild_tree();",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 330,
          "old_api": "append",
          "new_api": null,
          "old_text": "event.frames.append({ object_name, symbol, ptr, offset })",
          "new_text": null,
          "old_line_content": "            event.frames.append({ object_name, symbol, ptr, offset });",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 333,
          "old_api": "size",
          "new_api": null,
          "old_text": "event.frames.size()",
          "new_text": null,
          "old_line_content": "        if (event.frames.size() < 2)",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 336,
          "old_api": "at",
          "new_api": null,
          "old_text": "event.frames.at(1)",
          "new_text": null,
          "old_line_content": "        FlatPtr innermost_frame_address = event.frames.at(1).address;",
          "new_line_content": "            continue;",
          "content_same": false
        },
        {
          "line": 466,
          "old_api": "rebuild_tree",
          "new_api": null,
          "old_text": "rebuild_tree()",
          "new_text": null,
          "old_line_content": "    rebuild_tree();",
          "new_line_content": "    m_show_scheduler = show_scheduler;",
          "content_same": false
        },
        {
          "line": 339,
          "old_api": "move",
          "new_api": null,
          "old_text": "move(event)",
          "new_text": null,
          "old_line_content": "        events.append(move(event));",
          "new_line_content": "        event.in_kernel = innermost_frame_address >= 0xc0000000;",
          "content_same": false
        },
        {
          "line": 342,
          "old_api": "is_empty",
          "new_api": null,
          "old_text": "events.is_empty()",
          "new_text": null,
          "old_line_content": "    if (events.is_empty())",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 345,
          "old_api": "quick_sort",
          "new_api": null,
          "old_text": "quick_sort(all_processes, [](auto& a, auto& b) {\n        if (a.pid == b.pid)\n            return a.start_valid < b.start_valid;\n        else\n            return a.pid < b.pid;\n    })",
          "new_text": null,
          "old_line_content": "    quick_sort(all_processes, [](auto& a, auto& b) {",
          "new_line_content": "        return String { \"No events captured (targeted process was never on CPU)\" };",
          "content_same": false
        },
        {
          "line": 474,
          "old_api": "internal_data",
          "new_api": null,
          "old_text": "index.internal_data()",
          "new_text": null,
          "old_line_content": "    auto* node = static_cast<ProfileNode*>(index.internal_data());",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 475,
          "old_api": "DisassemblyModel::create(*this, *node)",
          "new_api": null,
          "old_text": "DisassemblyModel::create(*this, *node)",
          "new_text": null,
          "old_line_content": "    m_disassembly_model = DisassemblyModel::create(*this, *node);",
          "new_line_content": "    m_disassembly_index = index;",
          "content_same": false
        },
        {
          "line": 354,
          "old_api": "move",
          "new_api": null,
          "old_text": "move(it)",
          "new_text": null,
          "old_line_content": "        processes.append(move(it));",
          "new_line_content": "    Vector<Process> processes;",
          "content_same": false
        },
        {
          "line": 484,
          "old_api": "move",
          "new_api": null,
          "old_text": "move(symbol)",
          "new_text": null,
          "old_line_content": "    : m_symbol(move(symbol))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 361,
          "old_api": "sort_profile_nodes",
          "new_api": null,
          "old_text": "sort_profile_nodes(m_children)",
          "new_text": null,
          "old_line_content": "    sort_profile_nodes(m_children);",
          "new_line_content": "void ProfileNode::sort_children()",
          "content_same": false
        },
        {
          "line": 491,
          "old_api": "ends_with",
          "new_api": null,
          "old_text": "object_name.ends_with(\": .text\"sv)",
          "new_text": null,
          "old_line_content": "    if (object_name.ends_with(\": .text\"sv)) {",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 492,
          "old_api": "length",
          "new_api": null,
          "old_text": "object_name.length()",
          "new_text": null,
          "old_line_content": "        object = object_name.view().substring_view(0, object_name.length() - 7);",
          "new_line_content": "    String object;",
          "content_same": false
        },
        {
          "line": 496,
          "old_api": "basename",
          "new_api": null,
          "old_text": "LexicalPath(object).basename()",
          "new_text": null,
          "old_line_content": "    m_object_name = LexicalPath(object).basename();",
          "new_line_content": "        object = object_name;",
          "content_same": false
        },
        {
          "line": 370,
          "old_api": "min",
          "new_api": null,
          "old_text": "min(start, end)",
          "new_text": null,
          "old_line_content": "    m_timestamp_filter_range_start = min(start, end);",
          "new_line_content": "    m_has_timestamp_filter_range = true;",
          "content_same": false
        },
        {
          "line": 371,
          "old_api": "max",
          "new_api": null,
          "old_text": "max(start, end)",
          "new_text": null,
          "old_line_content": "    m_timestamp_filter_range_end = max(start, end);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 501,
          "old_api": "find_process",
          "new_api": null,
          "old_text": "profile.find_process(m_pid, timestamp)",
          "new_text": null,
          "old_line_content": "    return profile.find_process(m_pid, timestamp);",
          "new_line_content": "const Process* ProfileNode::process(Profile& profile, u64 timestamp) const",
          "content_same": false
        },
        {
          "line": 374,
          "old_api": "update",
          "new_api": null,
          "old_text": "m_samples_model->update()",
          "new_text": null,
          "old_line_content": "    m_samples_model->update();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 382,
          "old_api": "rebuild_tree",
          "new_api": null,
          "old_text": "rebuild_tree()",
          "new_text": null,
          "old_line_content": "    rebuild_tree();",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 383,
          "old_api": "update",
          "new_api": null,
          "old_text": "m_samples_model->update()",
          "new_text": null,
          "old_line_content": "    m_samples_model->update();",
          "new_line_content": "    m_has_timestamp_filter_range = false;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 17,
      "total_additions": 37,
      "total_deletions": 35,
      "total_api_changes": 89
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 6,
        "api_related_lines": 89,
        "non_api_lines": 2,
        "non_api_line_numbers": [
          216,
          219
        ]
      }
    },
    "api_calls_before": 207,
    "api_calls_after": 208,
    "diff_info": {
      "added_lines": 6,
      "removed_lines": 4,
      "total_diff_lines": 31
    }
  }
}