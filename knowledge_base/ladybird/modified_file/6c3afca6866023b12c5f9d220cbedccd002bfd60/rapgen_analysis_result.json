{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/6c3afca6866023b12c5f9d220cbedccd002bfd60",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/6c3afca6866023b12c5f9d220cbedccd002bfd60/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/6c3afca6866023b12c5f9d220cbedccd002bfd60/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/6c3afca6866023b12c5f9d220cbedccd002bfd60/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": true,
    "api_changes": {
      "replacements": [
        {
          "line": 63,
          "old_api": "HeapBlock::create_with_cell_size(*this, size)",
          "new_api": "round_up_to_power_of_two",
          "old_text": "HeapBlock::create_with_cell_size(*this, size)",
          "new_text": "round_up_to_power_of_two(size, 16)",
          "old_line_content": "    auto block = HeapBlock::create_with_cell_size(*this, size);",
          "new_line_content": "    size_t cell_size = round_up_to_power_of_two(size, 16);",
          "content_same": false
        },
        {
          "line": 64,
          "old_api": "allocate",
          "new_api": "HeapBlock::create_with_cell_size(*this, cell_size)",
          "old_text": "block->allocate()",
          "new_text": "HeapBlock::create_with_cell_size(*this, cell_size)",
          "old_line_content": "    auto* cell = block->allocate();",
          "new_line_content": "    auto block = HeapBlock::create_with_cell_size(*this, cell_size);",
          "content_same": false
        },
        {
          "line": 65,
          "old_api": "move",
          "new_api": "allocate",
          "old_text": "move(block)",
          "new_text": "block->allocate()",
          "old_line_content": "    m_blocks.append(move(block));",
          "new_line_content": "    auto* cell = block->allocate();",
          "content_same": false
        },
        {
          "line": 73,
          "old_api": "mark_live_cells",
          "new_api": "gather_roots",
          "old_text": "mark_live_cells(roots)",
          "new_text": "gather_roots(roots)",
          "old_line_content": "    mark_live_cells(roots);",
          "new_line_content": "    gather_roots(roots);",
          "content_same": false
        },
        {
          "line": 74,
          "old_api": "sweep_dead_cells",
          "new_api": "mark_live_cells",
          "old_text": "sweep_dead_cells()",
          "new_text": "mark_live_cells(roots)",
          "old_line_content": "    sweep_dead_cells();",
          "new_line_content": "    mark_live_cells(roots);",
          "content_same": false
        },
        {
          "line": 113,
          "old_api": "perror",
          "new_api": "get_stack_bounds",
          "old_text": "perror(\"get_stack_bounds\")",
          "new_text": "get_stack_bounds(&stack_base, &stack_size)",
          "old_line_content": "        perror(\"get_stack_bounds\");",
          "new_line_content": "    if (get_stack_bounds(&stack_base, &stack_size) < 0) {",
          "content_same": false
        },
        {
          "line": 114,
          "old_api": "ASSERT_NOT_REACHED",
          "new_api": "perror",
          "old_text": "ASSERT_NOT_REACHED()",
          "new_text": "perror(\"get_stack_bounds\")",
          "old_line_content": "        ASSERT_NOT_REACHED();",
          "new_line_content": "        perror(\"get_stack_bounds\");",
          "content_same": false
        },
        {
          "line": 122,
          "old_api": "set",
          "new_api": "reinterpret_cast<FlatPtr*>(stack_address)",
          "old_text": "possible_pointers.set(data)",
          "new_text": "reinterpret_cast<FlatPtr*>(stack_address)",
          "old_line_content": "        possible_pointers.set(data);",
          "new_line_content": "        auto data = *reinterpret_cast<FlatPtr*>(stack_address);",
          "content_same": false
        },
        {
          "line": 132,
          "old_api": "is_live",
          "new_api": "cell_from_possible_pointer",
          "old_text": "cell->is_live()",
          "new_text": "cell_from_possible_pointer(possible_pointer)",
          "old_line_content": "            if (cell->is_live()) {",
          "new_line_content": "        if (auto* cell = cell_from_possible_pointer(possible_pointer)) {",
          "content_same": false
        },
        {
          "line": 149,
          "old_api": "end",
          "new_api": "reinterpret_cast<const Cell*>(pointer)",
          "old_text": "m_blocks.end()",
          "new_text": "reinterpret_cast<const Cell*>(pointer)",
          "old_line_content": "    if (m_blocks.find([possible_heap_block](auto& block) { return block.ptr() == possible_heap_block; }) == m_blocks.end())",
          "new_line_content": "    auto* possible_heap_block = HeapBlock::from_cell(reinterpret_cast<const Cell*>(pointer));",
          "content_same": false
        },
        {
          "line": 166,
          "old_api": "visit_children",
          "new_api": "set_marked",
          "old_text": "cell->visit_children(*this)",
          "new_text": "cell->set_marked(true)",
          "old_line_content": "        cell->visit_children(*this);",
          "new_line_content": "        cell->set_marked(true);",
          "content_same": false
        },
        {
          "line": 193,
          "old_api": "is_live",
          "new_api": "for_each_cell",
          "old_text": "cell->is_live()",
          "new_text": "block->for_each_cell([&](Cell* cell) {\n            if (cell->is_live()) {\n                if (!cell->is_marked()) {\n#ifdef HEAP_DEBUG\n                    dbg() << \"  ~ \" << cell;\n#endif\n                    block->deallocate(cell);\n                } else {\n                    cell->set_marked(false);\n                    block_has_live_cells = true;\n                }\n            }\n        })",
          "old_line_content": "            if (cell->is_live()) {",
          "new_line_content": "        block->for_each_cell([&](Cell* cell) {",
          "content_same": false
        },
        {
          "line": 194,
          "old_api": "is_marked",
          "new_api": "is_live",
          "old_text": "cell->is_marked()",
          "new_text": "cell->is_live()",
          "old_line_content": "                if (!cell->is_marked()) {",
          "new_line_content": "            if (cell->is_live()) {",
          "content_same": false
        },
        {
          "line": 211,
          "old_api": "remove_first_matching",
          "new_api": "cell_size",
          "old_text": "m_blocks.remove_first_matching([block](auto& entry) { return entry == block; })",
          "new_text": "block->cell_size()",
          "old_line_content": "        m_blocks.remove_first_matching([block](auto& entry) { return entry == block; });",
          "new_line_content": "        dbg() << \" - Reclaim HeapBlock @ \" << block << \": cell_size=\" << block->cell_size();",
          "content_same": false
        },
        {
          "line": 222,
          "old_api": "set",
          "new_api": "contains",
          "old_text": "m_handles.set(&impl)",
          "new_text": "m_handles.contains(&impl)",
          "old_line_content": "    m_handles.set(&impl);",
          "new_line_content": "    ASSERT(!m_handles.contains(&impl));",
          "content_same": false
        },
        {
          "line": 228,
          "old_api": "remove",
          "new_api": "contains",
          "old_text": "m_handles.remove(&impl)",
          "new_text": "m_handles.contains(&impl)",
          "old_line_content": "    m_handles.remove(&impl);",
          "new_line_content": "    ASSERT(m_handles.contains(&impl));",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 130,
          "old_api": null,
          "new_api": "dbg",
          "old_text": null,
          "new_text": "dbg()",
          "old_line_content": "#endif",
          "new_line_content": "        dbg() << \"  ? \" << (const void*)possible_pointer;",
          "content_same": false
        },
        {
          "line": 133,
          "old_api": null,
          "new_api": "is_live",
          "old_text": null,
          "new_text": "cell->is_live()",
          "old_line_content": "#ifdef HEAP_DEBUG",
          "new_line_content": "            if (cell->is_live()) {",
          "content_same": false
        },
        {
          "line": 135,
          "old_api": null,
          "new_api": "dbg",
          "old_text": null,
          "new_text": "dbg()",
          "old_line_content": "#endif",
          "new_line_content": "                dbg() << \"  ?-> \" << (const void*)cell;",
          "content_same": false
        },
        {
          "line": 137,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "roots.set(cell)",
          "old_line_content": "            } else {",
          "new_line_content": "                roots.set(cell);",
          "content_same": false
        },
        {
          "line": 140,
          "old_api": null,
          "new_api": "dbg",
          "old_text": null,
          "new_text": "dbg()",
          "old_line_content": "#endif",
          "new_line_content": "                dbg() << \"  #-> \" << (const void*)cell;",
          "content_same": false
        },
        {
          "line": 150,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "m_blocks.end()",
          "old_line_content": "        return nullptr;",
          "new_line_content": "    if (m_blocks.find([possible_heap_block](auto& block) { return block.ptr() == possible_heap_block; }) == m_blocks.end())",
          "content_same": false
        },
        {
          "line": 152,
          "old_api": null,
          "new_api": "cell_from_possible_pointer",
          "old_text": null,
          "new_text": "possible_heap_block->cell_from_possible_pointer(pointer)",
          "old_line_content": "}",
          "new_line_content": "    return possible_heap_block->cell_from_possible_pointer(pointer);",
          "content_same": false
        },
        {
          "line": 161,
          "old_api": null,
          "new_api": "is_marked",
          "old_text": null,
          "new_text": "cell->is_marked()",
          "old_line_content": "            return;",
          "new_line_content": "        if (cell->is_marked())",
          "content_same": false
        },
        {
          "line": 164,
          "old_api": null,
          "new_api": "dbg",
          "old_text": null,
          "new_text": "dbg()",
          "old_line_content": "#endif",
          "new_line_content": "        dbg() << \"  ! \" << cell;",
          "content_same": false
        },
        {
          "line": 167,
          "old_api": null,
          "new_api": "visit_children",
          "old_text": null,
          "new_text": "cell->visit_children(*this)",
          "old_line_content": "    }",
          "new_line_content": "        cell->visit_children(*this);",
          "content_same": false
        },
        {
          "line": 174,
          "old_api": null,
          "new_api": "dbg",
          "old_text": null,
          "new_text": "dbg()",
          "old_line_content": "#endif",
          "new_line_content": "    dbg() << \"mark_live_cells:\";",
          "content_same": false
        },
        {
          "line": 180,
          "old_api": null,
          "new_api": "visit",
          "old_text": null,
          "new_text": "visitor.visit(root)",
          "old_line_content": "    }",
          "new_line_content": "        visitor.visit(root);",
          "content_same": false
        },
        {
          "line": 187,
          "old_api": null,
          "new_api": "dbg",
          "old_text": null,
          "new_text": "dbg()",
          "old_line_content": "#endif",
          "new_line_content": "    dbg() << \"sweep_dead_cells:\";",
          "content_same": false
        },
        {
          "line": 66,
          "old_api": null,
          "new_api": "move",
          "old_text": null,
          "new_text": "move(block)",
          "old_line_content": "    return cell;",
          "new_line_content": "    m_blocks.append(move(block));",
          "content_same": false
        },
        {
          "line": 195,
          "old_api": null,
          "new_api": "is_marked",
          "old_text": null,
          "new_text": "cell->is_marked()",
          "old_line_content": "#ifdef HEAP_DEBUG",
          "new_line_content": "                if (!cell->is_marked()) {",
          "content_same": false
        },
        {
          "line": 197,
          "old_api": null,
          "new_api": "dbg",
          "old_text": null,
          "new_text": "dbg()",
          "old_line_content": "#endif",
          "new_line_content": "                    dbg() << \"  ~ \" << cell;",
          "content_same": false
        },
        {
          "line": 199,
          "old_api": null,
          "new_api": "deallocate",
          "old_text": null,
          "new_text": "block->deallocate(cell)",
          "old_line_content": "                } else {",
          "new_line_content": "                    block->deallocate(cell);",
          "content_same": false
        },
        {
          "line": 201,
          "old_api": null,
          "new_api": "set_marked",
          "old_text": null,
          "new_text": "cell->set_marked(false)",
          "old_line_content": "                    block_has_live_cells = true;",
          "new_line_content": "                    cell->set_marked(false);",
          "content_same": false
        },
        {
          "line": 75,
          "old_api": null,
          "new_api": "sweep_dead_cells",
          "old_text": null,
          "new_text": "sweep_dead_cells()",
          "old_line_content": "}",
          "new_line_content": "    sweep_dead_cells();",
          "content_same": false
        },
        {
          "line": 207,
          "old_api": null,
          "new_api": "append",
          "old_text": null,
          "new_text": "empty_blocks.append(block)",
          "old_line_content": "    }",
          "new_line_content": "            empty_blocks.append(block);",
          "content_same": false
        },
        {
          "line": 80,
          "old_api": null,
          "new_api": "gather_roots",
          "old_text": null,
          "new_text": "m_interpreter.gather_roots({}, roots)",
          "old_line_content": "",
          "new_line_content": "    m_interpreter.gather_roots({}, roots);",
          "content_same": false
        },
        {
          "line": 82,
          "old_api": null,
          "new_api": "gather_conservative_roots",
          "old_text": null,
          "new_text": "gather_conservative_roots(roots)",
          "old_line_content": "",
          "new_line_content": "    gather_conservative_roots(roots);",
          "content_same": false
        },
        {
          "line": 212,
          "old_api": null,
          "new_api": "remove_first_matching",
          "old_text": null,
          "new_text": "m_blocks.remove_first_matching([block](auto& entry) { return entry == block; })",
          "old_line_content": "    }",
          "new_line_content": "        m_blocks.remove_first_matching([block](auto& entry) { return entry == block; });",
          "content_same": false
        },
        {
          "line": 85,
          "old_api": null,
          "new_api": "cell",
          "old_text": null,
          "new_text": "handle->cell()",
          "old_line_content": "",
          "new_line_content": "        roots.set(handle->cell());",
          "content_same": false
        },
        {
          "line": 88,
          "old_api": null,
          "new_api": "dbg",
          "old_text": null,
          "new_text": "dbg()",
          "old_line_content": "    for (auto* root : roots) {",
          "new_line_content": "    dbg() << \"gather_roots:\";",
          "content_same": false
        },
        {
          "line": 216,
          "old_api": null,
          "new_api": "cell_size",
          "old_text": null,
          "new_text": "block->cell_size()",
          "old_line_content": "    }",
          "new_line_content": "        dbg() << \" > Live HeapBlock @ \" << block << \": cell_size=\" << block->cell_size();",
          "content_same": false
        },
        {
          "line": 90,
          "old_api": null,
          "new_api": "dbg",
          "old_text": null,
          "new_text": "dbg()",
          "old_line_content": "    }",
          "new_line_content": "        dbg() << \"  + \" << root;",
          "content_same": false
        },
        {
          "line": 223,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "m_handles.set(&impl)",
          "old_line_content": "}",
          "new_line_content": "    m_handles.set(&impl);",
          "content_same": false
        },
        {
          "line": 100,
          "old_api": null,
          "new_api": "dbg",
          "old_text": null,
          "new_text": "dbg()",
          "old_line_content": "#endif",
          "new_line_content": "    dbg() << \"gather_conservative_roots:\";",
          "content_same": false
        },
        {
          "line": 229,
          "old_api": null,
          "new_api": "remove",
          "old_text": null,
          "new_text": "m_handles.remove(&impl)",
          "old_line_content": "}",
          "new_line_content": "    m_handles.remove(&impl);",
          "content_same": false
        },
        {
          "line": 104,
          "old_api": null,
          "new_api": "setjmp",
          "old_text": null,
          "new_text": "setjmp(buf)",
          "old_line_content": "",
          "new_line_content": "    setjmp(buf);",
          "content_same": false
        },
        {
          "line": 109,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "possible_pointers.set(buf->regs[i])",
          "old_line_content": "",
          "new_line_content": "        possible_pointers.set(buf->regs[i]);",
          "content_same": false
        },
        {
          "line": 115,
          "old_api": null,
          "new_api": "ASSERT_NOT_REACHED",
          "old_text": null,
          "new_text": "ASSERT_NOT_REACHED()",
          "old_line_content": "    }",
          "new_line_content": "        ASSERT_NOT_REACHED();",
          "content_same": false
        },
        {
          "line": 118,
          "old_api": null,
          "new_api": "reinterpret_cast<FlatPtr>(&dummy)",
          "old_text": null,
          "new_text": "reinterpret_cast<FlatPtr>(&dummy)",
          "old_line_content": "    FlatPtr stack_top = stack_base + stack_size;",
          "new_line_content": "    FlatPtr stack_reference = reinterpret_cast<FlatPtr>(&dummy);",
          "content_same": false
        },
        {
          "line": 123,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "possible_pointers.set(data)",
          "old_line_content": "    }",
          "new_line_content": "        possible_pointers.set(data);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 129,
          "old_api": "dbg",
          "new_api": null,
          "old_text": "dbg()",
          "new_text": null,
          "old_line_content": "        dbg() << \"  ? \" << (const void*)possible_pointer;",
          "new_line_content": "#ifdef HEAP_DEBUG",
          "content_same": false
        },
        {
          "line": 131,
          "old_api": "cell_from_possible_pointer",
          "new_api": null,
          "old_text": "cell_from_possible_pointer(possible_pointer)",
          "new_text": null,
          "old_line_content": "        if (auto* cell = cell_from_possible_pointer(possible_pointer)) {",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 134,
          "old_api": "dbg",
          "new_api": null,
          "old_text": "dbg()",
          "new_text": null,
          "old_line_content": "                dbg() << \"  ?-> \" << (const void*)cell;",
          "new_line_content": "#ifdef HEAP_DEBUG",
          "content_same": false
        },
        {
          "line": 136,
          "old_api": "set",
          "new_api": null,
          "old_text": "roots.set(cell)",
          "new_text": null,
          "old_line_content": "                roots.set(cell);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 139,
          "old_api": "dbg",
          "new_api": null,
          "old_text": "dbg()",
          "new_text": null,
          "old_line_content": "                dbg() << \"  #-> \" << (const void*)cell;",
          "new_line_content": "#ifdef HEAP_DEBUG",
          "content_same": false
        },
        {
          "line": 148,
          "old_api": "reinterpret_cast<const Cell*>(pointer)",
          "new_api": null,
          "old_text": "reinterpret_cast<const Cell*>(pointer)",
          "new_text": null,
          "old_line_content": "    auto* possible_heap_block = HeapBlock::from_cell(reinterpret_cast<const Cell*>(pointer));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 151,
          "old_api": "cell_from_possible_pointer",
          "new_api": null,
          "old_text": "possible_heap_block->cell_from_possible_pointer(pointer)",
          "new_text": null,
          "old_line_content": "    return possible_heap_block->cell_from_possible_pointer(pointer);",
          "new_line_content": "        return nullptr;",
          "content_same": false
        },
        {
          "line": 160,
          "old_api": "is_marked",
          "new_api": null,
          "old_text": "cell->is_marked()",
          "new_text": null,
          "old_line_content": "        if (cell->is_marked())",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 163,
          "old_api": "dbg",
          "new_api": null,
          "old_text": "dbg()",
          "new_text": null,
          "old_line_content": "        dbg() << \"  ! \" << cell;",
          "new_line_content": "#ifdef HEAP_DEBUG",
          "content_same": false
        },
        {
          "line": 165,
          "old_api": "set_marked",
          "new_api": null,
          "old_text": "cell->set_marked(true)",
          "new_text": null,
          "old_line_content": "        cell->set_marked(true);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 173,
          "old_api": "dbg",
          "new_api": null,
          "old_text": "dbg()",
          "new_text": null,
          "old_line_content": "    dbg() << \"mark_live_cells:\";",
          "new_line_content": "#ifdef HEAP_DEBUG",
          "content_same": false
        },
        {
          "line": 179,
          "old_api": "visit",
          "new_api": null,
          "old_text": "visitor.visit(root)",
          "new_text": null,
          "old_line_content": "        visitor.visit(root);",
          "new_line_content": "            continue;",
          "content_same": false
        },
        {
          "line": 186,
          "old_api": "dbg",
          "new_api": null,
          "old_text": "dbg()",
          "new_text": null,
          "old_line_content": "    dbg() << \"sweep_dead_cells:\";",
          "new_line_content": "#ifdef HEAP_DEBUG",
          "content_same": false
        },
        {
          "line": 192,
          "old_api": "for_each_cell",
          "new_api": null,
          "old_text": "block->for_each_cell([&](Cell* cell) {\n            if (cell->is_live()) {\n                if (!cell->is_marked()) {\n#ifdef HEAP_DEBUG\n                    dbg() << \"  ~ \" << cell;\n#endif\n                    block->deallocate(cell);\n                } else {\n                    cell->set_marked(false);\n                    block_has_live_cells = true;\n                }\n            }\n        })",
          "new_text": null,
          "old_line_content": "        block->for_each_cell([&](Cell* cell) {",
          "new_line_content": "        bool block_has_live_cells = false;",
          "content_same": false
        },
        {
          "line": 196,
          "old_api": "dbg",
          "new_api": null,
          "old_text": "dbg()",
          "new_text": null,
          "old_line_content": "                    dbg() << \"  ~ \" << cell;",
          "new_line_content": "#ifdef HEAP_DEBUG",
          "content_same": false
        },
        {
          "line": 198,
          "old_api": "deallocate",
          "new_api": null,
          "old_text": "block->deallocate(cell)",
          "new_text": null,
          "old_line_content": "                    block->deallocate(cell);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 72,
          "old_api": "gather_roots",
          "new_api": null,
          "old_text": "gather_roots(roots)",
          "new_text": null,
          "old_line_content": "    gather_roots(roots);",
          "new_line_content": "    HashTable<Cell*> roots;",
          "content_same": false
        },
        {
          "line": 200,
          "old_api": "set_marked",
          "new_api": null,
          "old_text": "cell->set_marked(false)",
          "new_text": null,
          "old_line_content": "                    cell->set_marked(false);",
          "new_line_content": "                } else {",
          "content_same": false
        },
        {
          "line": 206,
          "old_api": "append",
          "new_api": null,
          "old_text": "empty_blocks.append(block)",
          "new_text": null,
          "old_line_content": "            empty_blocks.append(block);",
          "new_line_content": "        if (!block_has_live_cells)",
          "content_same": false
        },
        {
          "line": 79,
          "old_api": "gather_roots",
          "new_api": null,
          "old_text": "m_interpreter.gather_roots({}, roots)",
          "new_text": null,
          "old_line_content": "    m_interpreter.gather_roots({}, roots);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 81,
          "old_api": "gather_conservative_roots",
          "new_api": null,
          "old_text": "gather_conservative_roots(roots)",
          "new_text": null,
          "old_line_content": "    gather_conservative_roots(roots);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 210,
          "old_api": "cell_size",
          "new_api": null,
          "old_text": "block->cell_size()",
          "new_text": null,
          "old_line_content": "        dbg() << \" - Reclaim HeapBlock @ \" << block << \": cell_size=\" << block->cell_size();",
          "new_line_content": "    for (auto* block : empty_blocks) {",
          "content_same": false
        },
        {
          "line": 84,
          "old_api": "cell",
          "new_api": null,
          "old_text": "handle->cell()",
          "new_text": null,
          "old_line_content": "        roots.set(handle->cell());",
          "new_line_content": "    for (auto* handle : m_handles)",
          "content_same": false
        },
        {
          "line": 87,
          "old_api": "dbg",
          "new_api": null,
          "old_text": "dbg()",
          "new_text": null,
          "old_line_content": "    dbg() << \"gather_roots:\";",
          "new_line_content": "#ifdef HEAP_DEBUG",
          "content_same": false
        },
        {
          "line": 215,
          "old_api": "cell_size",
          "new_api": null,
          "old_text": "block->cell_size()",
          "new_text": null,
          "old_line_content": "        dbg() << \" > Live HeapBlock @ \" << block << \": cell_size=\" << block->cell_size();",
          "new_line_content": "    for (auto& block : m_blocks) {",
          "content_same": false
        },
        {
          "line": 89,
          "old_api": "dbg",
          "new_api": null,
          "old_text": "dbg()",
          "new_text": null,
          "old_line_content": "        dbg() << \"  + \" << root;",
          "new_line_content": "    for (auto* root : roots) {",
          "content_same": false
        },
        {
          "line": 221,
          "old_api": "contains",
          "new_api": null,
          "old_text": "m_handles.contains(&impl)",
          "new_text": null,
          "old_line_content": "    ASSERT(!m_handles.contains(&impl));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 99,
          "old_api": "dbg",
          "new_api": null,
          "old_text": "dbg()",
          "new_text": null,
          "old_line_content": "    dbg() << \"gather_conservative_roots:\";",
          "new_line_content": "#ifdef HEAP_DEBUG",
          "content_same": false
        },
        {
          "line": 227,
          "old_api": "contains",
          "new_api": null,
          "old_text": "m_handles.contains(&impl)",
          "new_text": null,
          "old_line_content": "    ASSERT(m_handles.contains(&impl));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 103,
          "old_api": "setjmp",
          "new_api": null,
          "old_text": "setjmp(buf)",
          "new_text": null,
          "old_line_content": "    setjmp(buf);",
          "new_line_content": "    jmp_buf buf;",
          "content_same": false
        },
        {
          "line": 108,
          "old_api": "set",
          "new_api": null,
          "old_text": "possible_pointers.set(buf->regs[i])",
          "new_text": null,
          "old_line_content": "        possible_pointers.set(buf->regs[i]);",
          "new_line_content": "    for (size_t i = 0; i < (sizeof(buf->regs) / sizeof(FlatPtr)); ++i)",
          "content_same": false
        },
        {
          "line": 112,
          "old_api": "get_stack_bounds",
          "new_api": null,
          "old_text": "get_stack_bounds(&stack_base, &stack_size)",
          "new_text": null,
          "old_line_content": "    if (get_stack_bounds(&stack_base, &stack_size) < 0) {",
          "new_line_content": "    size_t stack_size;",
          "content_same": false
        },
        {
          "line": 117,
          "old_api": "reinterpret_cast<FlatPtr>(&dummy)",
          "new_api": null,
          "old_text": "reinterpret_cast<FlatPtr>(&dummy)",
          "new_text": null,
          "old_line_content": "    FlatPtr stack_reference = reinterpret_cast<FlatPtr>(&dummy);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 121,
          "old_api": "reinterpret_cast<FlatPtr*>(stack_address)",
          "new_api": null,
          "old_text": "reinterpret_cast<FlatPtr*>(stack_address)",
          "new_text": null,
          "old_line_content": "        auto data = *reinterpret_cast<FlatPtr*>(stack_address);",
          "new_line_content": "    for (FlatPtr stack_address = stack_reference; stack_address < stack_top; stack_address += sizeof(FlatPtr)) {",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 16,
      "total_additions": 35,
      "total_deletions": 34,
      "total_api_changes": 85
    },
    "non_api_changes": {
      "has_non_api_changes": false,
      "evidence": {
        "total_diff_lines": 2,
        "api_related_lines": 85,
        "non_api_lines": 0,
        "non_api_line_numbers": []
      }
    },
    "api_calls_before": 63,
    "api_calls_after": 64,
    "diff_info": {
      "added_lines": 2,
      "removed_lines": 1,
      "total_diff_lines": 15
    }
  }
}