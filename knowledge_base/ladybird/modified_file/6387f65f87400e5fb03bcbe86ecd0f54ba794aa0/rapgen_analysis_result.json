{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/6387f65f87400e5fb03bcbe86ecd0f54ba794aa0",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/6387f65f87400e5fb03bcbe86ecd0f54ba794aa0/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/6387f65f87400e5fb03bcbe86ecd0f54ba794aa0/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/6387f65f87400e5fb03bcbe86ecd0f54ba794aa0/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 57,
          "old_api": "size",
          "new_api": "model",
          "old_text": "m_section_data.size()",
          "new_text": "model()",
          "old_line_content": "    if (static_cast<size_t>(section) >= m_section_data.size())",
          "new_line_content": "    VERIFY(model());",
          "content_same": false
        },
        {
          "line": 58,
          "old_api": "resize",
          "new_api": "size",
          "old_text": "m_section_data.resize(section + 1)",
          "new_text": "m_section_data.size()",
          "old_line_content": "        m_section_data.resize(section + 1);",
          "new_line_content": "    if (static_cast<size_t>(section) >= m_section_data.size()) {",
          "content_same": false
        },
        {
          "line": 59,
          "old_api": "at",
          "new_api": "section_count",
          "old_text": "m_section_data.at(section)",
          "new_text": "section_count()",
          "old_line_content": "    return m_section_data.at(section);",
          "new_line_content": "        m_section_data.resize(section_count());",
          "content_same": false
        },
        {
          "line": 66,
          "old_api": "section_data",
          "new_api": "model",
          "old_text": "section_data(section)",
          "new_text": "model()",
          "old_line_content": "    auto& data = section_data(section);",
          "new_line_content": "    if (!model())",
          "content_same": false
        },
        {
          "line": 73,
          "old_api": "section_data",
          "new_api": "is_section_visible",
          "old_text": "section_data(i)",
          "new_text": "is_section_visible(i)",
          "old_line_content": "        offset += section_data(i).size;",
          "new_line_content": "        if (!is_section_visible(i))",
          "content_same": false
        },
        {
          "line": 75,
          "old_api": "horizontal_padding",
          "new_api": "section_data",
          "old_text": "m_table_view.horizontal_padding()",
          "new_text": "section_data(i)",
          "old_line_content": "            offset += m_table_view.horizontal_padding() * 2;",
          "new_line_content": "        offset += section_data(i).size;",
          "content_same": false
        },
        {
          "line": 77,
          "old_api": "orientation",
          "new_api": "horizontal_padding",
          "old_text": "orientation()",
          "new_text": "m_table_view.horizontal_padding()",
          "old_line_content": "    if (orientation() == Gfx::Orientation::Horizontal)",
          "new_line_content": "            offset += m_table_view.horizontal_padding() * 2;",
          "content_same": false
        },
        {
          "line": 79,
          "old_api": "section_size",
          "new_api": "orientation",
          "old_text": "section_size(section)",
          "new_text": "orientation()",
          "old_line_content": "    return { 0, offset, width(), section_size(section) };",
          "new_line_content": "    if (orientation() == Gfx::Orientation::Horizontal)",
          "content_same": false
        },
        {
          "line": 97,
          "old_api": "row_count",
          "new_api": "model",
          "old_text": "model()->row_count()",
          "new_text": "model()",
          "old_line_content": "    return m_orientation == Gfx::Orientation::Horizontal ? model()->column_count() : model()->row_count();",
          "new_line_content": "    if (!model())",
          "content_same": false
        },
        {
          "line": 107,
          "old_api": "position",
          "new_api": "section_count",
          "old_text": "event.position()",
          "new_text": "this->section_count()",
          "old_line_content": "        if (section_resize_grabbable_rect(i).contains(event.position())) {",
          "new_line_content": "    int section_count = this->section_count();",
          "content_same": false
        },
        {
          "line": 109,
          "old_api": "on_resize_doubleclick",
          "new_api": "position",
          "old_text": "on_resize_doubleclick(i)",
          "new_text": "event.position()",
          "old_line_content": "                on_resize_doubleclick(i);",
          "new_line_content": "        if (section_resize_grabbable_rect(i).contains(event.position())) {",
          "content_same": false
        },
        {
          "line": 161,
          "old_api": "set_hovered_section",
          "new_api": "section_rect",
          "old_text": "set_hovered_section(m_pressed_section)",
          "new_text": "this->section_rect(m_pressed_section)",
          "old_line_content": "            set_hovered_section(m_pressed_section);",
          "new_line_content": "        auto header_rect = this->section_rect(m_pressed_section);",
          "content_same": false
        },
        {
          "line": 163,
          "old_api": "update",
          "new_api": "set_hovered_section",
          "old_text": "update()",
          "new_text": "set_hovered_section(m_pressed_section)",
          "old_line_content": "                update();",
          "new_line_content": "            set_hovered_section(m_pressed_section);",
          "content_same": false
        },
        {
          "line": 168,
          "old_api": "update",
          "new_api": "set_hovered_section",
          "old_text": "update()",
          "new_text": "set_hovered_section(-1)",
          "old_line_content": "                update();",
          "new_line_content": "            set_hovered_section(-1);",
          "content_same": false
        },
        {
          "line": 180,
          "old_api": "set_hovered_section",
          "new_api": "position",
          "old_text": "set_hovered_section(-1)",
          "new_text": "event.position()",
          "old_line_content": "                set_hovered_section(-1);",
          "new_line_content": "            if (section_resize_grabbable_rect(i).contains(event.position())) {",
          "content_same": false
        },
        {
          "line": 191,
          "old_api": "set_override_cursor",
          "new_api": "set_hovered_section",
          "old_text": "set_override_cursor(Gfx::StandardCursor::None)",
          "new_text": "set_hovered_section(-1)",
          "old_line_content": "    set_override_cursor(Gfx::StandardCursor::None);",
          "new_line_content": "            set_hovered_section(-1);",
          "content_same": false
        },
        {
          "line": 198,
          "old_api": "position",
          "new_api": "button",
          "old_text": "event.position()",
          "new_text": "event.button()",
          "old_line_content": "            if (!section_resize_grabbable_rect(m_resizing_section).contains(event.position()))",
          "new_line_content": "    if (event.button() == MouseButton::Left) {",
          "content_same": false
        },
        {
          "line": 206,
          "old_api": "key_column",
          "new_api": "position",
          "old_text": "m_table_view.key_column()",
          "new_text": "event.position()",
          "old_line_content": "                if (m_table_view.key_column() == m_pressed_section)",
          "new_line_content": "            if (m_orientation == Gfx::Orientation::Horizontal && section_rect(m_pressed_section).contains(event.position())) {",
          "content_same": false
        },
        {
          "line": 225,
          "old_api": "section_count",
          "new_api": "threed_shadow1",
          "old_text": "this->section_count()",
          "new_text": "palette().threed_shadow1()",
          "old_line_content": "    int section_count = this->section_count();",
          "new_line_content": "    painter.draw_line({ 0, rect().bottom() }, { rect().right(), rect().bottom() }, palette().threed_shadow1());",
          "content_same": false
        },
        {
          "line": 227,
          "old_api": "is_section_visible",
          "new_api": "section_count",
          "old_text": "is_section_visible(section)",
          "new_text": "this->section_count()",
          "old_line_content": "        if (!is_section_visible(section))",
          "new_line_content": "    int section_count = this->section_count();",
          "content_same": false
        },
        {
          "line": 229,
          "old_api": "section_size",
          "new_api": "is_section_visible",
          "old_text": "section_size(section)",
          "new_text": "is_section_visible(section)",
          "old_line_content": "        int section_width = section_size(section);",
          "new_line_content": "        if (!is_section_visible(section))",
          "content_same": false
        },
        {
          "line": 231,
          "old_api": "height",
          "new_api": "section_size",
          "old_text": "height()",
          "new_text": "section_size(section)",
          "old_line_content": "        Gfx::IntRect cell_rect(x_offset, 0, section_width + m_table_view.horizontal_padding() * 2, height());",
          "new_line_content": "        int section_width = section_size(section);",
          "content_same": false
        },
        {
          "line": 233,
          "old_api": "is_column_sortable",
          "new_api": "height",
          "old_text": "model()->is_column_sortable(section)",
          "new_text": "height()",
          "old_line_content": "        bool hovered = section == m_hovered_section && model()->is_column_sortable(section);",
          "new_line_content": "        Gfx::IntRect cell_rect(x_offset, 0, section_width + m_table_view.horizontal_padding() * 2, height());",
          "content_same": false
        },
        {
          "line": 240,
          "old_api": "append",
          "new_api": "column_name",
          "old_text": "builder.append(\" \\xE2\\xAC\\x86\")",
          "new_text": "model()->column_name(section)",
          "old_line_content": "                builder.append(\" \\xE2\\xAC\\x86\"); // UPWARDS BLACK ARROW",
          "new_line_content": "            builder.append(model()->column_name(section));",
          "content_same": false
        },
        {
          "line": 243,
          "old_api": "to_string",
          "new_api": "sort_order",
          "old_text": "builder.to_string()",
          "new_text": "m_table_view.sort_order()",
          "old_line_content": "            text = builder.to_string();",
          "new_line_content": "            else if (m_table_view.sort_order() == SortOrder::Descending)",
          "content_same": false
        },
        {
          "line": 245,
          "old_api": "column_name",
          "new_api": "to_string",
          "old_text": "model()->column_name(section)",
          "new_text": "builder.to_string()",
          "old_line_content": "            text = model()->column_name(section);",
          "new_line_content": "            text = builder.to_string();",
          "content_same": false
        },
        {
          "line": 247,
          "old_api": "horizontal_padding",
          "new_api": "column_name",
          "old_text": "m_table_view.horizontal_padding()",
          "new_text": "model()->column_name(section)",
          "old_line_content": "        auto text_rect = cell_rect.shrunken(m_table_view.horizontal_padding() * 2, 0);",
          "new_line_content": "            text = model()->column_name(section);",
          "content_same": false
        },
        {
          "line": 249,
          "old_api": "translate_by",
          "new_api": "horizontal_padding",
          "old_text": "text_rect.translate_by(1, 1)",
          "new_text": "m_table_view.horizontal_padding()",
          "old_line_content": "            text_rect.translate_by(1, 1);",
          "new_line_content": "        auto text_rect = cell_rect.shrunken(m_table_view.horizontal_padding() * 2, 0);",
          "content_same": false
        },
        {
          "line": 251,
          "old_api": "horizontal_padding",
          "new_api": "translate_by",
          "old_text": "m_table_view.horizontal_padding()",
          "new_text": "text_rect.translate_by(1, 1)",
          "old_line_content": "        x_offset += section_width + m_table_view.horizontal_padding() * 2;",
          "new_line_content": "            text_rect.translate_by(1, 1);",
          "content_same": false
        },
        {
          "line": 256,
          "old_api": "palette",
          "new_api": "right",
          "old_text": "palette()",
          "new_text": "rect().right()",
          "old_line_content": "        Gfx::StylePainter::paint_button(painter, cell_rect, palette(), Gfx::ButtonStyle::Normal, false, false);",
          "new_line_content": "    if (x_offset < rect().right()) {",
          "content_same": false
        },
        {
          "line": 265,
          "old_api": "section_count",
          "new_api": "threed_shadow1",
          "old_text": "this->section_count()",
          "new_text": "palette().threed_shadow1()",
          "old_line_content": "    int section_count = this->section_count();",
          "new_line_content": "    painter.draw_line(rect().top_right(), rect().bottom_right(), palette().threed_shadow1());",
          "content_same": false
        },
        {
          "line": 267,
          "old_api": "is_section_visible",
          "new_api": "section_count",
          "old_text": "is_section_visible(section)",
          "new_text": "this->section_count()",
          "old_line_content": "        if (!is_section_visible(section))",
          "new_line_content": "    int section_count = this->section_count();",
          "content_same": false
        },
        {
          "line": 269,
          "old_api": "section_size",
          "new_api": "is_section_visible",
          "old_text": "this->section_size(section)",
          "new_text": "is_section_visible(section)",
          "old_line_content": "        int section_size = this->section_size(section);",
          "new_line_content": "        if (!is_section_visible(section))",
          "content_same": false
        },
        {
          "line": 275,
          "old_api": "horizontal_padding",
          "new_api": "palette",
          "old_text": "m_table_view.horizontal_padding()",
          "new_text": "palette()",
          "old_line_content": "        auto text_rect = cell_rect.shrunken(m_table_view.horizontal_padding() * 2, 0);",
          "new_line_content": "        Gfx::StylePainter::paint_button(painter, cell_rect, palette(), Gfx::ButtonStyle::Normal, pressed, hovered);",
          "content_same": false
        },
        {
          "line": 277,
          "old_api": "translate_by",
          "new_api": "horizontal_padding",
          "old_text": "text_rect.translate_by(1, 1)",
          "new_text": "m_table_view.horizontal_padding()",
          "old_line_content": "            text_rect.translate_by(1, 1);",
          "new_line_content": "        auto text_rect = cell_rect.shrunken(m_table_view.horizontal_padding() * 2, 0);",
          "content_same": false
        },
        {
          "line": 284,
          "old_api": "palette",
          "new_api": "bottom",
          "old_text": "palette()",
          "new_text": "rect().bottom()",
          "old_line_content": "        Gfx::StylePainter::paint_button(painter, cell_rect, palette(), Gfx::ButtonStyle::Normal, false, false);",
          "new_line_content": "    if (y_offset < rect().bottom()) {",
          "content_same": false
        },
        {
          "line": 293,
          "old_api": "orientation",
          "new_api": "rect",
          "old_text": "orientation()",
          "new_text": "event.rect()",
          "old_line_content": "    if (orientation() == Gfx::Orientation::Horizontal)",
          "new_line_content": "    painter.add_clip_rect(event.rect());",
          "content_same": false
        },
        {
          "line": 294,
          "old_api": "paint_horizontal",
          "new_api": "button",
          "old_text": "paint_horizontal(painter)",
          "new_text": "palette().button()",
          "old_line_content": "        paint_horizontal(painter);",
          "new_line_content": "    painter.fill_rect(rect(), palette().button());",
          "content_same": false
        },
        {
          "line": 296,
          "old_api": "paint_vertical",
          "new_api": "paint_horizontal",
          "old_text": "paint_vertical(painter)",
          "new_text": "paint_horizontal(painter)",
          "old_line_content": "        paint_vertical(painter);",
          "new_line_content": "        paint_horizontal(painter);",
          "content_same": false
        },
        {
          "line": 308,
          "old_api": "header_did_change_section_visibility",
          "new_api": "set_checked",
          "old_text": "m_table_view.header_did_change_section_visibility({}, m_orientation, section, visible)",
          "new_text": "data.visibility_action->set_checked(visible)",
          "old_line_content": "    m_table_view.header_did_change_section_visibility({}, m_orientation, section, visible);",
          "new_line_content": "        data.visibility_action->set_checked(visible);",
          "content_same": false
        },
        {
          "line": 327,
          "old_api": "section_data",
          "new_api": "section_count",
          "old_text": "this->section_data(section)",
          "new_text": "this->section_count()",
          "old_line_content": "            auto& column_data = this->section_data(section);",
          "new_line_content": "        int section_count = this->section_count();",
          "content_same": false
        },
        {
          "line": 329,
          "old_api": "is_checked",
          "new_api": "section_data",
          "old_text": "Action::create_checkable(name, [this, section](auto& action) {\n                set_section_visible(section, action.is_checked());\n            })",
          "new_text": "this->section_data(section)",
          "old_line_content": "            column_data.visibility_action = Action::create_checkable(name, [this, section](auto& action) {",
          "new_line_content": "            auto& column_data = this->section_data(section);",
          "content_same": false
        },
        {
          "line": 330,
          "old_api": "is_checked",
          "new_api": "column_name",
          "old_text": "action.is_checked()",
          "new_text": "model()->column_name(section)",
          "old_line_content": "                set_section_visible(section, action.is_checked());",
          "new_line_content": "            auto name = model()->column_name(section);",
          "content_same": false
        },
        {
          "line": 332,
          "old_api": "set_checked",
          "new_api": "is_checked",
          "old_text": "column_data.visibility_action->set_checked(column_data.visibility)",
          "new_text": "action.is_checked()",
          "old_line_content": "            column_data.visibility_action->set_checked(column_data.visibility);",
          "new_line_content": "                set_section_visible(section, action.is_checked());",
          "content_same": false
        },
        {
          "line": 334,
          "old_api": "add_action",
          "new_api": "set_checked",
          "old_text": "m_context_menu->add_action(*column_data.visibility_action)",
          "new_text": "column_data.visibility_action->set_checked(column_data.visibility)",
          "old_line_content": "            m_context_menu->add_action(*column_data.visibility_action);",
          "new_line_content": "            column_data.visibility_action->set_checked(column_data.visibility);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 61,
          "old_api": null,
          "new_api": "at",
          "old_text": null,
          "new_text": "m_section_data.at(section)",
          "old_line_content": "",
          "new_line_content": "    return m_section_data.at(section);",
          "content_same": false
        },
        {
          "line": 68,
          "old_api": null,
          "new_api": "section_data",
          "old_text": null,
          "new_text": "section_data(section)",
          "old_line_content": "        return {};",
          "new_line_content": "    auto& data = section_data(section);",
          "content_same": false
        },
        {
          "line": 76,
          "old_api": null,
          "new_api": "orientation",
          "old_text": null,
          "new_text": "orientation()",
          "old_line_content": "    }",
          "new_line_content": "        if (orientation() == Gfx::Orientation::Horizontal)",
          "content_same": false
        },
        {
          "line": 80,
          "old_api": null,
          "new_api": "height",
          "old_text": null,
          "new_text": "height()",
          "old_line_content": "}",
          "new_line_content": "        return { offset, 0, section_size(section) + m_table_view.horizontal_padding() * 2, height() };",
          "content_same": false
        },
        {
          "line": 81,
          "old_api": null,
          "new_api": "section_size",
          "old_text": null,
          "new_text": "section_size(section)",
          "old_line_content": "",
          "new_line_content": "    return { 0, offset, width(), section_size(section) };",
          "content_same": false
        },
        {
          "line": 86,
          "old_api": null,
          "new_api": "model",
          "old_text": null,
          "new_text": "model()",
          "old_line_content": "    // FIXME: Support resizable rows.",
          "new_line_content": "    if (!model())",
          "content_same": false
        },
        {
          "line": 91,
          "old_api": null,
          "new_api": "section_rect",
          "old_text": null,
          "new_text": "section_rect(section)",
          "old_line_content": "}",
          "new_line_content": "    auto rect = section_rect(section);",
          "content_same": false
        },
        {
          "line": 92,
          "old_api": null,
          "new_api": "height",
          "old_text": null,
          "new_text": "rect.height()",
          "old_line_content": "",
          "new_line_content": "    return { rect.right() - 1, rect.top(), 4, rect.height() };",
          "content_same": false
        },
        {
          "line": 99,
          "old_api": null,
          "new_api": "row_count",
          "old_text": null,
          "new_text": "model()->row_count()",
          "old_line_content": "",
          "new_line_content": "    return m_orientation == Gfx::Orientation::Horizontal ? model()->column_count() : model()->row_count();",
          "content_same": false
        },
        {
          "line": 104,
          "old_api": null,
          "new_api": "model",
          "old_text": null,
          "new_text": "model()",
          "old_line_content": "",
          "new_line_content": "    if (!model())",
          "content_same": false
        },
        {
          "line": 111,
          "old_api": null,
          "new_api": "on_resize_doubleclick",
          "old_text": null,
          "new_text": "on_resize_doubleclick(i)",
          "old_line_content": "    }",
          "new_line_content": "                on_resize_doubleclick(i);",
          "content_same": false
        },
        {
          "line": 118,
          "old_api": null,
          "new_api": "button",
          "old_text": null,
          "new_text": "event.button()",
          "old_line_content": "",
          "new_line_content": "    if (event.button() != GUI::MouseButton::Left)",
          "content_same": false
        },
        {
          "line": 121,
          "old_api": null,
          "new_api": "model",
          "old_text": null,
          "new_text": "model()",
          "old_line_content": "",
          "new_line_content": "    if (!model())",
          "content_same": false
        },
        {
          "line": 124,
          "old_api": null,
          "new_api": "model",
          "old_text": null,
          "new_text": "this->model()",
          "old_line_content": "",
          "new_line_content": "    auto& model = *this->model();",
          "content_same": false
        },
        {
          "line": 125,
          "old_api": null,
          "new_api": "section_count",
          "old_text": null,
          "new_text": "this->section_count()",
          "old_line_content": "    for (int i = 0; i < section_count; ++i) {",
          "new_line_content": "    int section_count = this->section_count();",
          "content_same": false
        },
        {
          "line": 128,
          "old_api": null,
          "new_api": "position",
          "old_text": null,
          "new_text": "event.position()",
          "old_line_content": "            m_in_section_resize = true;",
          "new_line_content": "        if (section_resize_grabbable_rect(i).contains(event.position())) {",
          "content_same": false
        },
        {
          "line": 131,
          "old_api": null,
          "new_api": "section_size",
          "old_text": null,
          "new_text": "section_size(i)",
          "old_line_content": "            return;",
          "new_line_content": "            m_section_resize_original_width = section_size(i);",
          "content_same": false
        },
        {
          "line": 132,
          "old_api": null,
          "new_api": "position",
          "old_text": null,
          "new_text": "event.position()",
          "old_line_content": "        }",
          "new_line_content": "            m_section_resize_origin = event.position();",
          "content_same": false
        },
        {
          "line": 135,
          "old_api": null,
          "new_api": "section_rect",
          "old_text": null,
          "new_text": "this->section_rect(i)",
          "old_line_content": "            m_pressed_section = i;",
          "new_line_content": "        auto rect = this->section_rect(i);",
          "content_same": false
        },
        {
          "line": 136,
          "old_api": null,
          "new_api": "is_column_sortable",
          "old_text": null,
          "new_text": "model.is_column_sortable(i)",
          "old_line_content": "            m_pressed_section_is_pressed = true;",
          "new_line_content": "        if (rect.contains(event.position()) && model.is_column_sortable(i)) {",
          "content_same": false
        },
        {
          "line": 139,
          "old_api": null,
          "new_api": "update",
          "old_text": null,
          "new_text": "update()",
          "old_line_content": "        }",
          "new_line_content": "            update();",
          "content_same": false
        },
        {
          "line": 147,
          "old_api": null,
          "new_api": "model",
          "old_text": null,
          "new_text": "model()",
          "old_line_content": "",
          "new_line_content": "    if (!model())",
          "content_same": false
        },
        {
          "line": 151,
          "old_api": null,
          "new_api": "position",
          "old_text": null,
          "new_text": "event.position()",
          "old_line_content": "        if (new_size <= minimum_column_size)",
          "new_line_content": "        auto delta = event.position() - m_section_resize_origin;",
          "content_same": false
        },
        {
          "line": 152,
          "old_api": null,
          "new_api": "primary_offset_for_orientation",
          "old_text": null,
          "new_text": "delta.primary_offset_for_orientation(m_orientation)",
          "old_line_content": "            new_size = minimum_column_size;",
          "new_line_content": "        int new_size = m_section_resize_original_width + delta.primary_offset_for_orientation(m_orientation);",
          "content_same": false
        },
        {
          "line": 155,
          "old_api": null,
          "new_api": "column_count",
          "old_text": null,
          "new_text": "model()->column_count()",
          "old_line_content": "        return;",
          "new_line_content": "        VERIFY(m_resizing_section >= 0 && m_resizing_section < model()->column_count());",
          "content_same": false
        },
        {
          "line": 156,
          "old_api": null,
          "new_api": "set_section_size",
          "old_text": null,
          "new_text": "set_section_size(m_resizing_section, new_size)",
          "old_line_content": "    }",
          "new_line_content": "        set_section_size(m_resizing_section, new_size);",
          "content_same": false
        },
        {
          "line": 162,
          "old_api": null,
          "new_api": "position",
          "old_text": null,
          "new_text": "event.position()",
          "old_line_content": "            if (!m_pressed_section_is_pressed)",
          "new_line_content": "        if (header_rect.contains(event.position())) {",
          "content_same": false
        },
        {
          "line": 165,
          "old_api": null,
          "new_api": "update",
          "old_text": null,
          "new_text": "update()",
          "old_line_content": "        } else {",
          "new_line_content": "                update();",
          "content_same": false
        },
        {
          "line": 170,
          "old_api": null,
          "new_api": "update",
          "old_text": null,
          "new_text": "update()",
          "old_line_content": "        }",
          "new_line_content": "                update();",
          "content_same": false
        },
        {
          "line": 176,
          "old_api": null,
          "new_api": "buttons",
          "old_text": null,
          "new_text": "event.buttons()",
          "old_line_content": "        bool found_hovered_header = false;",
          "new_line_content": "    if (event.buttons() == 0) {",
          "content_same": false
        },
        {
          "line": 177,
          "old_api": null,
          "new_api": "section_count",
          "old_text": null,
          "new_text": "this->section_count()",
          "old_line_content": "        for (int i = 0; i < section_count; ++i) {",
          "new_line_content": "        int section_count = this->section_count();",
          "content_same": false
        },
        {
          "line": 181,
          "old_api": null,
          "new_api": "set_override_cursor",
          "old_text": null,
          "new_text": "set_override_cursor(Gfx::StandardCursor::ResizeColumn)",
          "old_line_content": "                return;",
          "new_line_content": "                set_override_cursor(Gfx::StandardCursor::ResizeColumn);",
          "content_same": false
        },
        {
          "line": 182,
          "old_api": null,
          "new_api": "set_hovered_section",
          "old_text": null,
          "new_text": "set_hovered_section(-1)",
          "old_line_content": "            }",
          "new_line_content": "                set_hovered_section(-1);",
          "content_same": false
        },
        {
          "line": 185,
          "old_api": null,
          "new_api": "position",
          "old_text": null,
          "new_text": "event.position()",
          "old_line_content": "                found_hovered_header = true;",
          "new_line_content": "            if (section_rect(i).contains(event.position())) {",
          "content_same": false
        },
        {
          "line": 186,
          "old_api": null,
          "new_api": "set_hovered_section",
          "old_text": null,
          "new_text": "set_hovered_section(i)",
          "old_line_content": "            }",
          "new_line_content": "                set_hovered_section(i);",
          "content_same": false
        },
        {
          "line": 193,
          "old_api": null,
          "new_api": "set_override_cursor",
          "old_text": null,
          "new_text": "set_override_cursor(Gfx::StandardCursor::None)",
          "old_line_content": "",
          "new_line_content": "    set_override_cursor(Gfx::StandardCursor::None);",
          "content_same": false
        },
        {
          "line": 200,
          "old_api": null,
          "new_api": "position",
          "old_text": null,
          "new_text": "event.position()",
          "old_line_content": "            m_in_section_resize = false;",
          "new_line_content": "            if (!section_resize_grabbable_rect(m_resizing_section).contains(event.position()))",
          "content_same": false
        },
        {
          "line": 201,
          "old_api": null,
          "new_api": "set_override_cursor",
          "old_text": null,
          "new_text": "set_override_cursor(Gfx::StandardCursor::None)",
          "old_line_content": "            return;",
          "new_line_content": "                set_override_cursor(Gfx::StandardCursor::None);",
          "content_same": false
        },
        {
          "line": 208,
          "old_api": null,
          "new_api": "key_column",
          "old_text": null,
          "new_text": "m_table_view.key_column()",
          "old_line_content": "                        ? SortOrder::Descending",
          "new_line_content": "                if (m_table_view.key_column() == m_pressed_section)",
          "content_same": false
        },
        {
          "line": 209,
          "old_api": null,
          "new_api": "sort_order",
          "old_text": null,
          "new_text": "m_table_view.sort_order()",
          "old_line_content": "                        : SortOrder::Ascending;",
          "new_line_content": "                    new_sort_order = m_table_view.sort_order() == SortOrder::Ascending",
          "content_same": false
        },
        {
          "line": 212,
          "old_api": null,
          "new_api": "set_key_column_and_sort_order",
          "old_text": null,
          "new_text": "m_table_view.set_key_column_and_sort_order(m_pressed_section, new_sort_order)",
          "old_line_content": "            m_pressed_section = -1;",
          "new_line_content": "                m_table_view.set_key_column_and_sort_order(m_pressed_section, new_sort_order);",
          "content_same": false
        },
        {
          "line": 216,
          "old_api": null,
          "new_api": "update",
          "old_text": null,
          "new_text": "update()",
          "old_line_content": "        }",
          "new_line_content": "            update();",
          "content_same": false
        },
        {
          "line": 224,
          "old_api": null,
          "new_api": "threed_highlight",
          "old_text": null,
          "new_text": "palette().threed_highlight()",
          "old_line_content": "    int x_offset = 0;",
          "new_line_content": "    painter.draw_line({ 0, 0 }, { rect().right(), 0 }, palette().threed_highlight());",
          "content_same": false
        },
        {
          "line": 232,
          "old_api": null,
          "new_api": "key_column",
          "old_text": null,
          "new_text": "m_table_view.key_column()",
          "old_line_content": "        bool pressed = section == m_pressed_section && m_pressed_section_is_pressed;",
          "new_line_content": "        bool is_key_column = m_table_view.key_column() == section;",
          "content_same": false
        },
        {
          "line": 235,
          "old_api": null,
          "new_api": "is_column_sortable",
          "old_text": null,
          "new_text": "model()->is_column_sortable(section)",
          "old_line_content": "        String text;",
          "new_line_content": "        bool hovered = section == m_hovered_section && model()->is_column_sortable(section);",
          "content_same": false
        },
        {
          "line": 236,
          "old_api": null,
          "new_api": "palette",
          "old_text": null,
          "new_text": "palette()",
          "old_line_content": "        if (is_key_column) {",
          "new_line_content": "        Gfx::StylePainter::paint_button(painter, cell_rect, palette(), Gfx::ButtonStyle::Normal, pressed, hovered);",
          "content_same": false
        },
        {
          "line": 244,
          "old_api": null,
          "new_api": "append",
          "old_text": null,
          "new_text": "builder.append(\" \\xE2\\xAC\\x87\")",
          "old_line_content": "        } else {",
          "new_line_content": "                builder.append(\" \\xE2\\xAC\\x87\"); // DOWNWARDS BLACK ARROW",
          "content_same": false
        },
        {
          "line": 252,
          "old_api": null,
          "new_api": "button_text",
          "old_text": null,
          "new_text": "palette().button_text()",
          "old_line_content": "    }",
          "new_line_content": "        painter.draw_text(text_rect, text, font(), section_alignment(section), palette().button_text());",
          "content_same": false
        },
        {
          "line": 253,
          "old_api": null,
          "new_api": "horizontal_padding",
          "old_text": null,
          "new_text": "m_table_view.horizontal_padding()",
          "old_line_content": "",
          "new_line_content": "        x_offset += section_width + m_table_view.horizontal_padding() * 2;",
          "content_same": false
        },
        {
          "line": 257,
          "old_api": null,
          "new_api": "height",
          "old_text": null,
          "new_text": "height()",
          "old_line_content": "    }",
          "new_line_content": "        Gfx::IntRect cell_rect(x_offset, 0, width() - x_offset, height());",
          "content_same": false
        },
        {
          "line": 258,
          "old_api": null,
          "new_api": "palette",
          "old_text": null,
          "new_text": "palette()",
          "old_line_content": "}",
          "new_line_content": "        Gfx::StylePainter::paint_button(painter, cell_rect, palette(), Gfx::ButtonStyle::Normal, false, false);",
          "content_same": false
        },
        {
          "line": 264,
          "old_api": null,
          "new_api": "threed_highlight",
          "old_text": null,
          "new_text": "palette().threed_highlight()",
          "old_line_content": "    int y_offset = 0;",
          "new_line_content": "    painter.draw_line(rect().top_left(), rect().bottom_left(), palette().threed_highlight());",
          "content_same": false
        },
        {
          "line": 271,
          "old_api": null,
          "new_api": "section_size",
          "old_text": null,
          "new_text": "this->section_size(section)",
          "old_line_content": "        bool pressed = section == m_pressed_section && m_pressed_section_is_pressed;",
          "new_line_content": "        int section_size = this->section_size(section);",
          "content_same": false
        },
        {
          "line": 272,
          "old_api": null,
          "new_api": "width",
          "old_text": null,
          "new_text": "width()",
          "old_line_content": "        bool hovered = false;",
          "new_line_content": "        Gfx::IntRect cell_rect(0, y_offset, width(), section_size);",
          "content_same": false
        },
        {
          "line": 276,
          "old_api": null,
          "new_api": "String::number(section)",
          "old_text": null,
          "new_text": "String::number(section)",
          "old_line_content": "        if (pressed)",
          "new_line_content": "        String text = String::number(section);",
          "content_same": false
        },
        {
          "line": 279,
          "old_api": null,
          "new_api": "translate_by",
          "old_text": null,
          "new_text": "text_rect.translate_by(1, 1)",
          "old_line_content": "        y_offset += section_size;",
          "new_line_content": "            text_rect.translate_by(1, 1);",
          "content_same": false
        },
        {
          "line": 280,
          "old_api": null,
          "new_api": "button_text",
          "old_text": null,
          "new_text": "palette().button_text()",
          "old_line_content": "    }",
          "new_line_content": "        painter.draw_text(text_rect, text, font(), section_alignment(section), palette().button_text());",
          "content_same": false
        },
        {
          "line": 285,
          "old_api": null,
          "new_api": "height",
          "old_text": null,
          "new_text": "height()",
          "old_line_content": "    }",
          "new_line_content": "        Gfx::IntRect cell_rect(0, y_offset, width(), height() - y_offset);",
          "content_same": false
        },
        {
          "line": 286,
          "old_api": null,
          "new_api": "palette",
          "old_text": null,
          "new_text": "palette()",
          "old_line_content": "}",
          "new_line_content": "        Gfx::StylePainter::paint_button(painter, cell_rect, palette(), Gfx::ButtonStyle::Normal, false, false);",
          "content_same": false
        },
        {
          "line": 295,
          "old_api": null,
          "new_api": "orientation",
          "old_text": null,
          "new_text": "orientation()",
          "old_line_content": "    else",
          "new_line_content": "    if (orientation() == Gfx::Orientation::Horizontal)",
          "content_same": false
        },
        {
          "line": 298,
          "old_api": null,
          "new_api": "paint_vertical",
          "old_text": null,
          "new_text": "paint_vertical(painter)",
          "old_line_content": "",
          "new_line_content": "        paint_vertical(painter);",
          "content_same": false
        },
        {
          "line": 303,
          "old_api": null,
          "new_api": "section_data",
          "old_text": null,
          "new_text": "section_data(section)",
          "old_line_content": "        return;",
          "new_line_content": "    auto& data = section_data(section);",
          "content_same": false
        },
        {
          "line": 310,
          "old_api": null,
          "new_api": "header_did_change_section_visibility",
          "old_text": null,
          "new_text": "m_table_view.header_did_change_section_visibility({}, m_orientation, section, visible)",
          "old_line_content": "}",
          "new_line_content": "    m_table_view.header_did_change_section_visibility({}, m_orientation, section, visible);",
          "content_same": false
        },
        {
          "line": 311,
          "old_api": null,
          "new_api": "update",
          "old_text": null,
          "new_text": "update()",
          "old_line_content": "",
          "new_line_content": "    update();",
          "content_same": false
        },
        {
          "line": 319,
          "old_api": null,
          "new_api": "model",
          "old_text": null,
          "new_text": "model()",
          "old_line_content": "",
          "new_line_content": "        VERIFY(model());",
          "content_same": false
        },
        {
          "line": 320,
          "old_api": null,
          "new_api": "Menu::construct()",
          "old_text": null,
          "new_text": "Menu::construct()",
          "old_line_content": "        if (m_orientation == Gfx::Orientation::Vertical) {",
          "new_line_content": "        m_context_menu = Menu::construct();",
          "content_same": false
        },
        {
          "line": 323,
          "old_api": null,
          "new_api": "dbgln",
          "old_text": null,
          "new_text": "dbgln(\"FIXME: Support context menus for vertical GUI::HeaderView\")",
          "old_line_content": "        }",
          "new_line_content": "            dbgln(\"FIXME: Support context menus for vertical GUI::HeaderView\");",
          "content_same": false
        },
        {
          "line": 331,
          "old_api": null,
          "new_api": "is_checked",
          "old_text": null,
          "new_text": "Action::create_checkable(name, [this, section](auto& action) {\n                set_section_visible(section, action.is_checked());\n            })",
          "old_line_content": "            });",
          "new_line_content": "            column_data.visibility_action = Action::create_checkable(name, [this, section](auto& action) {",
          "content_same": false
        },
        {
          "line": 336,
          "old_api": null,
          "new_api": "add_action",
          "old_text": null,
          "new_text": "m_context_menu->add_action(*column_data.visibility_action)",
          "old_line_content": "    }",
          "new_line_content": "            m_context_menu->add_action(*column_data.visibility_action);",
          "content_same": false
        },
        {
          "line": 344,
          "old_api": null,
          "new_api": "screen_position",
          "old_text": null,
          "new_text": "event.screen_position()",
          "old_line_content": "",
          "new_line_content": "    ensure_context_menu().popup(event.screen_position());",
          "content_same": false
        },
        {
          "line": 349,
          "old_api": null,
          "new_api": "Widget::leave_event(event)",
          "old_text": null,
          "new_text": "Widget::leave_event(event)",
          "old_line_content": "}",
          "new_line_content": "    Widget::leave_event(event);",
          "content_same": false
        },
        {
          "line": 350,
          "old_api": null,
          "new_api": "set_hovered_section",
          "old_text": null,
          "new_text": "set_hovered_section(-1)",
          "old_line_content": "",
          "new_line_content": "    set_hovered_section(-1);",
          "content_same": false
        },
        {
          "line": 355,
          "old_api": null,
          "new_api": "section_data",
          "old_text": null,
          "new_text": "section_data(section)",
          "old_line_content": "",
          "new_line_content": "    return section_data(section).alignment;",
          "content_same": false
        },
        {
          "line": 360,
          "old_api": null,
          "new_api": "section_data",
          "old_text": null,
          "new_text": "section_data(section)",
          "old_line_content": "",
          "new_line_content": "    section_data(section).alignment = alignment;",
          "content_same": false
        },
        {
          "line": 365,
          "old_api": null,
          "new_api": "orientation",
          "old_text": null,
          "new_text": "orientation()",
          "old_line_content": "",
          "new_line_content": "    if (orientation() == Gfx::Orientation::Horizontal && size < minimum_column_size)",
          "content_same": false
        },
        {
          "line": 368,
          "old_api": null,
          "new_api": "section_data",
          "old_text": null,
          "new_text": "section_data(section)",
          "old_line_content": "        return;",
          "new_line_content": "    auto& data = section_data(section);",
          "content_same": false
        },
        {
          "line": 377,
          "old_api": null,
          "new_api": "section_data",
          "old_text": null,
          "new_text": "section_data(section)",
          "old_line_content": "",
          "new_line_content": "    return section_data(section).default_size;",
          "content_same": false
        },
        {
          "line": 382,
          "old_api": null,
          "new_api": "section_data",
          "old_text": null,
          "new_text": "section_data(section)",
          "old_line_content": "",
          "new_line_content": "    return section_data(section).has_initialized_default_size;",
          "content_same": false
        },
        {
          "line": 387,
          "old_api": null,
          "new_api": "section_data",
          "old_text": null,
          "new_text": "section_data(section)",
          "old_line_content": "",
          "new_line_content": "    return section_data(section).visibility;",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": null,
          "new_api": "update",
          "old_text": null,
          "new_text": "update()",
          "old_line_content": "",
          "new_line_content": "    update();",
          "content_same": false
        },
        {
          "line": 400,
          "old_api": null,
          "new_api": "model",
          "old_text": null,
          "new_text": "m_table_view.model()",
          "old_line_content": "",
          "new_line_content": "    return m_table_view.model();",
          "content_same": false
        },
        {
          "line": 405,
          "old_api": null,
          "new_api": "model",
          "old_text": null,
          "new_text": "m_table_view.model()",
          "old_line_content": "",
          "new_line_content": "    return m_table_view.model();",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 64,
          "old_api": "model",
          "new_api": null,
          "old_text": "model()",
          "new_text": null,
          "old_line_content": "    if (!model())",
          "new_line_content": "Gfx::IntRect HeaderView::section_rect(int section) const",
          "content_same": false
        },
        {
          "line": 71,
          "old_api": "is_section_visible",
          "new_api": null,
          "old_text": "is_section_visible(i)",
          "new_text": null,
          "old_line_content": "        if (!is_section_visible(i))",
          "new_line_content": "    int offset = 0;",
          "content_same": false
        },
        {
          "line": 74,
          "old_api": "orientation",
          "new_api": null,
          "old_text": "orientation()",
          "new_text": null,
          "old_line_content": "        if (orientation() == Gfx::Orientation::Horizontal)",
          "new_line_content": "            continue;",
          "content_same": false
        },
        {
          "line": 78,
          "old_api": "height",
          "new_api": null,
          "old_text": "height()",
          "new_text": null,
          "old_line_content": "        return { offset, 0, section_size(section) + m_table_view.horizontal_padding() * 2, height() };",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 84,
          "old_api": "model",
          "new_api": null,
          "old_text": "model()",
          "new_text": null,
          "old_line_content": "    if (!model())",
          "new_line_content": "Gfx::IntRect HeaderView::section_resize_grabbable_rect(int section) const",
          "content_same": false
        },
        {
          "line": 89,
          "old_api": "section_rect",
          "new_api": null,
          "old_text": "section_rect(section)",
          "new_text": null,
          "old_line_content": "    auto rect = section_rect(section);",
          "new_line_content": "    if (m_orientation == Gfx::Orientation::Vertical)",
          "content_same": false
        },
        {
          "line": 90,
          "old_api": "height",
          "new_api": null,
          "old_text": "rect.height()",
          "new_text": null,
          "old_line_content": "    return { rect.right() - 1, rect.top(), 4, rect.height() };",
          "new_line_content": "        return {};",
          "content_same": false
        },
        {
          "line": 95,
          "old_api": "model",
          "new_api": null,
          "old_text": "model()",
          "new_text": null,
          "old_line_content": "    if (!model())",
          "new_line_content": "int HeaderView::section_count() const",
          "content_same": false
        },
        {
          "line": 102,
          "old_api": "model",
          "new_api": null,
          "old_text": "model()",
          "new_text": null,
          "old_line_content": "    if (!model())",
          "new_line_content": "void HeaderView::doubleclick_event(MouseEvent& event)",
          "content_same": false
        },
        {
          "line": 105,
          "old_api": "section_count",
          "new_api": null,
          "old_text": "this->section_count()",
          "new_text": null,
          "old_line_content": "    int section_count = this->section_count();",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 116,
          "old_api": "button",
          "new_api": null,
          "old_text": "event.button()",
          "new_text": null,
          "old_line_content": "    if (event.button() != GUI::MouseButton::Left)",
          "new_line_content": "void HeaderView::mousedown_event(MouseEvent& event)",
          "content_same": false
        },
        {
          "line": 119,
          "old_api": "model",
          "new_api": null,
          "old_text": "model()",
          "new_text": null,
          "old_line_content": "    if (!model())",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 122,
          "old_api": "model",
          "new_api": null,
          "old_text": "this->model()",
          "new_text": null,
          "old_line_content": "    auto& model = *this->model();",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 123,
          "old_api": "section_count",
          "new_api": null,
          "old_text": "this->section_count()",
          "new_text": null,
          "old_line_content": "    int section_count = this->section_count();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 126,
          "old_api": "position",
          "new_api": null,
          "old_text": "event.position()",
          "new_text": null,
          "old_line_content": "        if (section_resize_grabbable_rect(i).contains(event.position())) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 129,
          "old_api": "section_size",
          "new_api": null,
          "old_text": "section_size(i)",
          "new_text": null,
          "old_line_content": "            m_section_resize_original_width = section_size(i);",
          "new_line_content": "            m_resizing_section = i;",
          "content_same": false
        },
        {
          "line": 130,
          "old_api": "position",
          "new_api": null,
          "old_text": "event.position()",
          "new_text": null,
          "old_line_content": "            m_section_resize_origin = event.position();",
          "new_line_content": "            m_in_section_resize = true;",
          "content_same": false
        },
        {
          "line": 133,
          "old_api": "section_rect",
          "new_api": null,
          "old_text": "this->section_rect(i)",
          "new_text": null,
          "old_line_content": "        auto rect = this->section_rect(i);",
          "new_line_content": "            return;",
          "content_same": false
        },
        {
          "line": 134,
          "old_api": "is_column_sortable",
          "new_api": null,
          "old_text": "model.is_column_sortable(i)",
          "new_text": null,
          "old_line_content": "        if (rect.contains(event.position()) && model.is_column_sortable(i)) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 137,
          "old_api": "update",
          "new_api": null,
          "old_text": "update()",
          "new_text": null,
          "old_line_content": "            update();",
          "new_line_content": "            m_pressed_section = i;",
          "content_same": false
        },
        {
          "line": 145,
          "old_api": "model",
          "new_api": null,
          "old_text": "model()",
          "new_text": null,
          "old_line_content": "    if (!model())",
          "new_line_content": "void HeaderView::mousemove_event(MouseEvent& event)",
          "content_same": false
        },
        {
          "line": 149,
          "old_api": "position",
          "new_api": null,
          "old_text": "event.position()",
          "new_text": null,
          "old_line_content": "        auto delta = event.position() - m_section_resize_origin;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 150,
          "old_api": "primary_offset_for_orientation",
          "new_api": null,
          "old_text": "delta.primary_offset_for_orientation(m_orientation)",
          "new_text": null,
          "old_line_content": "        int new_size = m_section_resize_original_width + delta.primary_offset_for_orientation(m_orientation);",
          "new_line_content": "    if (m_in_section_resize) {",
          "content_same": false
        },
        {
          "line": 153,
          "old_api": "column_count",
          "new_api": null,
          "old_text": "model()->column_count()",
          "new_text": null,
          "old_line_content": "        VERIFY(m_resizing_section >= 0 && m_resizing_section < model()->column_count());",
          "new_line_content": "        if (new_size <= minimum_column_size)",
          "content_same": false
        },
        {
          "line": 154,
          "old_api": "set_section_size",
          "new_api": null,
          "old_text": "set_section_size(m_resizing_section, new_size)",
          "new_text": null,
          "old_line_content": "        set_section_size(m_resizing_section, new_size);",
          "new_line_content": "            new_size = minimum_column_size;",
          "content_same": false
        },
        {
          "line": 159,
          "old_api": "section_rect",
          "new_api": null,
          "old_text": "this->section_rect(m_pressed_section)",
          "new_text": null,
          "old_line_content": "        auto header_rect = this->section_rect(m_pressed_section);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 160,
          "old_api": "position",
          "new_api": null,
          "old_text": "event.position()",
          "new_text": null,
          "old_line_content": "        if (header_rect.contains(event.position())) {",
          "new_line_content": "    if (m_pressed_section != -1) {",
          "content_same": false
        },
        {
          "line": 166,
          "old_api": "set_hovered_section",
          "new_api": null,
          "old_text": "set_hovered_section(-1)",
          "new_text": null,
          "old_line_content": "            set_hovered_section(-1);",
          "new_line_content": "            m_pressed_section_is_pressed = true;",
          "content_same": false
        },
        {
          "line": 174,
          "old_api": "buttons",
          "new_api": null,
          "old_text": "event.buttons()",
          "new_text": null,
          "old_line_content": "    if (event.buttons() == 0) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 175,
          "old_api": "section_count",
          "new_api": null,
          "old_text": "this->section_count()",
          "new_text": null,
          "old_line_content": "        int section_count = this->section_count();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 178,
          "old_api": "position",
          "new_api": null,
          "old_text": "event.position()",
          "new_text": null,
          "old_line_content": "            if (section_resize_grabbable_rect(i).contains(event.position())) {",
          "new_line_content": "        bool found_hovered_header = false;",
          "content_same": false
        },
        {
          "line": 179,
          "old_api": "set_override_cursor",
          "new_api": null,
          "old_text": "set_override_cursor(Gfx::StandardCursor::ResizeColumn)",
          "new_text": null,
          "old_line_content": "                set_override_cursor(Gfx::StandardCursor::ResizeColumn);",
          "new_line_content": "        for (int i = 0; i < section_count; ++i) {",
          "content_same": false
        },
        {
          "line": 183,
          "old_api": "position",
          "new_api": null,
          "old_text": "event.position()",
          "new_text": null,
          "old_line_content": "            if (section_rect(i).contains(event.position())) {",
          "new_line_content": "                return;",
          "content_same": false
        },
        {
          "line": 184,
          "old_api": "set_hovered_section",
          "new_api": null,
          "old_text": "set_hovered_section(i)",
          "new_text": null,
          "old_line_content": "                set_hovered_section(i);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 189,
          "old_api": "set_hovered_section",
          "new_api": null,
          "old_text": "set_hovered_section(-1)",
          "new_text": null,
          "old_line_content": "            set_hovered_section(-1);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 196,
          "old_api": "button",
          "new_api": null,
          "old_text": "event.button()",
          "new_text": null,
          "old_line_content": "    if (event.button() == MouseButton::Left) {",
          "new_line_content": "void HeaderView::mouseup_event(MouseEvent& event)",
          "content_same": false
        },
        {
          "line": 199,
          "old_api": "set_override_cursor",
          "new_api": null,
          "old_text": "set_override_cursor(Gfx::StandardCursor::None)",
          "new_text": null,
          "old_line_content": "                set_override_cursor(Gfx::StandardCursor::None);",
          "new_line_content": "        if (m_in_section_resize) {",
          "content_same": false
        },
        {
          "line": 204,
          "old_api": "position",
          "new_api": null,
          "old_text": "event.position()",
          "new_text": null,
          "old_line_content": "            if (m_orientation == Gfx::Orientation::Horizontal && section_rect(m_pressed_section).contains(event.position())) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 205,
          "old_api": "sort_order",
          "new_api": null,
          "old_text": "m_table_view.sort_order()",
          "new_text": null,
          "old_line_content": "                auto new_sort_order = m_table_view.sort_order();",
          "new_line_content": "        if (m_pressed_section != -1) {",
          "content_same": false
        },
        {
          "line": 210,
          "old_api": "set_key_column_and_sort_order",
          "new_api": null,
          "old_text": "m_table_view.set_key_column_and_sort_order(m_pressed_section, new_sort_order)",
          "new_text": null,
          "old_line_content": "                m_table_view.set_key_column_and_sort_order(m_pressed_section, new_sort_order);",
          "new_line_content": "                        ? SortOrder::Descending",
          "content_same": false
        },
        {
          "line": 214,
          "old_api": "update",
          "new_api": null,
          "old_text": "update()",
          "new_text": null,
          "old_line_content": "            update();",
          "new_line_content": "            m_pressed_section = -1;",
          "content_same": false
        },
        {
          "line": 222,
          "old_api": "threed_highlight",
          "new_api": null,
          "old_text": "palette().threed_highlight()",
          "new_text": null,
          "old_line_content": "    painter.draw_line({ 0, 0 }, { rect().right(), 0 }, palette().threed_highlight());",
          "new_line_content": "void HeaderView::paint_horizontal(Painter& painter)",
          "content_same": false
        },
        {
          "line": 223,
          "old_api": "threed_shadow1",
          "new_api": null,
          "old_text": "palette().threed_shadow1()",
          "new_text": null,
          "old_line_content": "    painter.draw_line({ 0, rect().bottom() }, { rect().right(), rect().bottom() }, palette().threed_shadow1());",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 230,
          "old_api": "key_column",
          "new_api": null,
          "old_text": "m_table_view.key_column()",
          "new_text": null,
          "old_line_content": "        bool is_key_column = m_table_view.key_column() == section;",
          "new_line_content": "            continue;",
          "content_same": false
        },
        {
          "line": 234,
          "old_api": "palette",
          "new_api": null,
          "old_text": "palette()",
          "new_text": null,
          "old_line_content": "        Gfx::StylePainter::paint_button(painter, cell_rect, palette(), Gfx::ButtonStyle::Normal, pressed, hovered);",
          "new_line_content": "        bool pressed = section == m_pressed_section && m_pressed_section_is_pressed;",
          "content_same": false
        },
        {
          "line": 238,
          "old_api": "column_name",
          "new_api": null,
          "old_text": "model()->column_name(section)",
          "new_text": null,
          "old_line_content": "            builder.append(model()->column_name(section));",
          "new_line_content": "        if (is_key_column) {",
          "content_same": false
        },
        {
          "line": 239,
          "old_api": "sort_order",
          "new_api": null,
          "old_text": "m_table_view.sort_order()",
          "new_text": null,
          "old_line_content": "            if (m_table_view.sort_order() == SortOrder::Ascending)",
          "new_line_content": "            StringBuilder builder;",
          "content_same": false
        },
        {
          "line": 250,
          "old_api": "button_text",
          "new_api": null,
          "old_text": "palette().button_text()",
          "new_text": null,
          "old_line_content": "        painter.draw_text(text_rect, text, font(), section_alignment(section), palette().button_text());",
          "new_line_content": "        if (pressed)",
          "content_same": false
        },
        {
          "line": 254,
          "old_api": "right",
          "new_api": null,
          "old_text": "rect().right()",
          "new_text": null,
          "old_line_content": "    if (x_offset < rect().right()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 255,
          "old_api": "height",
          "new_api": null,
          "old_text": "height()",
          "new_text": null,
          "old_line_content": "        Gfx::IntRect cell_rect(x_offset, 0, width() - x_offset, height());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 262,
          "old_api": "threed_highlight",
          "new_api": null,
          "old_text": "palette().threed_highlight()",
          "new_text": null,
          "old_line_content": "    painter.draw_line(rect().top_left(), rect().bottom_left(), palette().threed_highlight());",
          "new_line_content": "void HeaderView::paint_vertical(Painter& painter)",
          "content_same": false
        },
        {
          "line": 263,
          "old_api": "threed_shadow1",
          "new_api": null,
          "old_text": "palette().threed_shadow1()",
          "new_text": null,
          "old_line_content": "    painter.draw_line(rect().top_right(), rect().bottom_right(), palette().threed_shadow1());",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 270,
          "old_api": "width",
          "new_api": null,
          "old_text": "width()",
          "new_text": null,
          "old_line_content": "        Gfx::IntRect cell_rect(0, y_offset, width(), section_size);",
          "new_line_content": "            continue;",
          "content_same": false
        },
        {
          "line": 273,
          "old_api": "palette",
          "new_api": null,
          "old_text": "palette()",
          "new_text": null,
          "old_line_content": "        Gfx::StylePainter::paint_button(painter, cell_rect, palette(), Gfx::ButtonStyle::Normal, pressed, hovered);",
          "new_line_content": "        bool pressed = section == m_pressed_section && m_pressed_section_is_pressed;",
          "content_same": false
        },
        {
          "line": 274,
          "old_api": "String::number(section)",
          "new_api": null,
          "old_text": "String::number(section)",
          "new_text": null,
          "old_line_content": "        String text = String::number(section);",
          "new_line_content": "        bool hovered = false;",
          "content_same": false
        },
        {
          "line": 278,
          "old_api": "button_text",
          "new_api": null,
          "old_text": "palette().button_text()",
          "new_text": null,
          "old_line_content": "        painter.draw_text(text_rect, text, font(), section_alignment(section), palette().button_text());",
          "new_line_content": "        if (pressed)",
          "content_same": false
        },
        {
          "line": 282,
          "old_api": "bottom",
          "new_api": null,
          "old_text": "rect().bottom()",
          "new_text": null,
          "old_line_content": "    if (y_offset < rect().bottom()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 283,
          "old_api": "height",
          "new_api": null,
          "old_text": "height()",
          "new_text": null,
          "old_line_content": "        Gfx::IntRect cell_rect(0, y_offset, width(), height() - y_offset);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 291,
          "old_api": "rect",
          "new_api": null,
          "old_text": "event.rect()",
          "new_text": null,
          "old_line_content": "    painter.add_clip_rect(event.rect());",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 292,
          "old_api": "button",
          "new_api": null,
          "old_text": "palette().button()",
          "new_text": null,
          "old_line_content": "    painter.fill_rect(rect(), palette().button());",
          "new_line_content": "    Painter painter(*this);",
          "content_same": false
        },
        {
          "line": 301,
          "old_api": "section_data",
          "new_api": null,
          "old_text": "section_data(section)",
          "new_text": null,
          "old_line_content": "    auto& data = section_data(section);",
          "new_line_content": "void HeaderView::set_section_visible(int section, bool visible)",
          "content_same": false
        },
        {
          "line": 306,
          "old_api": "set_checked",
          "new_api": null,
          "old_text": "data.visibility_action->set_checked(visible)",
          "new_text": null,
          "old_line_content": "        data.visibility_action->set_checked(visible);",
          "new_line_content": "    data.visibility = visible;",
          "content_same": false
        },
        {
          "line": 309,
          "old_api": "update",
          "new_api": null,
          "old_text": "update()",
          "new_text": null,
          "old_line_content": "    update();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 317,
          "old_api": "model",
          "new_api": null,
          "old_text": "model()",
          "new_text": null,
          "old_line_content": "        VERIFY(model());",
          "new_line_content": "    //        or if the column count/names change.",
          "content_same": false
        },
        {
          "line": 318,
          "old_api": "Menu::construct()",
          "new_api": null,
          "old_text": "Menu::construct()",
          "new_text": null,
          "old_line_content": "        m_context_menu = Menu::construct();",
          "new_line_content": "    if (!m_context_menu) {",
          "content_same": false
        },
        {
          "line": 321,
          "old_api": "dbgln",
          "new_api": null,
          "old_text": "dbgln(\"FIXME: Support context menus for vertical GUI::HeaderView\")",
          "new_text": null,
          "old_line_content": "            dbgln(\"FIXME: Support context menus for vertical GUI::HeaderView\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 325,
          "old_api": "section_count",
          "new_api": null,
          "old_text": "this->section_count()",
          "new_text": null,
          "old_line_content": "        int section_count = this->section_count();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 328,
          "old_api": "column_name",
          "new_api": null,
          "old_text": "model()->column_name(section)",
          "new_text": null,
          "old_line_content": "            auto name = model()->column_name(section);",
          "new_line_content": "        for (int section = 0; section < section_count; ++section) {",
          "content_same": false
        },
        {
          "line": 342,
          "old_api": "screen_position",
          "new_api": null,
          "old_text": "event.screen_position()",
          "new_text": null,
          "old_line_content": "    ensure_context_menu().popup(event.screen_position());",
          "new_line_content": "void HeaderView::context_menu_event(ContextMenuEvent& event)",
          "content_same": false
        },
        {
          "line": 347,
          "old_api": "Widget::leave_event(event)",
          "new_api": null,
          "old_text": "Widget::leave_event(event)",
          "new_text": null,
          "old_line_content": "    Widget::leave_event(event);",
          "new_line_content": "void HeaderView::leave_event(Core::Event& event)",
          "content_same": false
        },
        {
          "line": 348,
          "old_api": "set_hovered_section",
          "new_api": null,
          "old_text": "set_hovered_section(-1)",
          "new_text": null,
          "old_line_content": "    set_hovered_section(-1);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 353,
          "old_api": "section_data",
          "new_api": null,
          "old_text": "section_data(section)",
          "new_text": null,
          "old_line_content": "    return section_data(section).alignment;",
          "new_line_content": "Gfx::TextAlignment HeaderView::section_alignment(int section) const",
          "content_same": false
        },
        {
          "line": 358,
          "old_api": "section_data",
          "new_api": null,
          "old_text": "section_data(section)",
          "new_text": null,
          "old_line_content": "    section_data(section).alignment = alignment;",
          "new_line_content": "void HeaderView::set_section_alignment(int section, Gfx::TextAlignment alignment)",
          "content_same": false
        },
        {
          "line": 363,
          "old_api": "orientation",
          "new_api": null,
          "old_text": "orientation()",
          "new_text": null,
          "old_line_content": "    if (orientation() == Gfx::Orientation::Horizontal && size < minimum_column_size)",
          "new_line_content": "void HeaderView::set_default_section_size(int section, int size)",
          "content_same": false
        },
        {
          "line": 366,
          "old_api": "section_data",
          "new_api": null,
          "old_text": "section_data(section)",
          "new_text": null,
          "old_line_content": "    auto& data = section_data(section);",
          "new_line_content": "        size = minimum_column_size;",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": "section_data",
          "new_api": null,
          "old_text": "section_data(section)",
          "new_text": null,
          "old_line_content": "    return section_data(section).default_size;",
          "new_line_content": "int HeaderView::default_section_size(int section) const",
          "content_same": false
        },
        {
          "line": 380,
          "old_api": "section_data",
          "new_api": null,
          "old_text": "section_data(section)",
          "new_text": null,
          "old_line_content": "    return section_data(section).has_initialized_default_size;",
          "new_line_content": "bool HeaderView::is_default_section_size_initialized(int section) const",
          "content_same": false
        },
        {
          "line": 385,
          "old_api": "section_data",
          "new_api": null,
          "old_text": "section_data(section)",
          "new_text": null,
          "old_line_content": "    return section_data(section).visibility;",
          "new_line_content": "bool HeaderView::is_section_visible(int section) const",
          "content_same": false
        },
        {
          "line": 393,
          "old_api": "update",
          "new_api": null,
          "old_text": "update()",
          "new_text": null,
          "old_line_content": "    update();",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 398,
          "old_api": "model",
          "new_api": null,
          "old_text": "m_table_view.model()",
          "new_text": null,
          "old_line_content": "    return m_table_view.model();",
          "new_line_content": "Model* HeaderView::model()",
          "content_same": false
        },
        {
          "line": 403,
          "old_api": "model",
          "new_api": null,
          "old_text": "m_table_view.model()",
          "new_text": null,
          "old_line_content": "    return m_table_view.model();",
          "new_line_content": "const Model* HeaderView::model() const",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 45,
      "total_additions": 82,
      "total_deletions": 81,
      "total_api_changes": 208
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 4,
        "api_related_lines": 208,
        "non_api_lines": 1,
        "non_api_line_numbers": [
          60
        ]
      }
    },
    "api_calls_before": 219,
    "api_calls_after": 222,
    "diff_info": {
      "added_lines": 4,
      "removed_lines": 2,
      "total_diff_lines": 18
    }
  }
}