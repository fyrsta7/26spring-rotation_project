{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/1a07205c33b449f82579726f7ae838a660dea7c7",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/1a07205c33b449f82579726f7ae838a660dea7c7/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/1a07205c33b449f82579726f7ae838a660dea7c7/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/1a07205c33b449f82579726f7ae838a660dea7c7/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 128,
          "old_api": "is_local",
          "new_api": "visit",
          "old_text": "identifier.is_local()",
          "new_text": "parameter.binding.visit(\n            [&](Identifier const& identifier) {\n                if (m_parameter_names.set(identifier.string(), identifier.is_local() ? ParameterIsLocal::Yes : ParameterIsLocal::No) != AK::HashSetResult::InsertedNewEntry)\n                    m_has_duplicates = true;\n                else if (!identifier.is_local())\n                    ++parameters_in_environment;\n            },\n            [&](NonnullRefPtr<BindingPattern const> const& pattern) {\n                if (pattern->contains_expression())\n                    m_has_parameter_expressions = true;\n\n                // NOTE: Nothing in the callback throws an exception.\n                MUST(pattern->for_each_bound_identifier([&](auto& identifier) {\n                    if (m_parameter_names.set(identifier.string(), identifier.is_local() ? ParameterIsLocal::Yes : ParameterIsLocal::No) != AK::HashSetResult::InsertedNewEntry)\n                        m_has_duplicates = true;\n                    else if (!identifier.is_local())\n                        ++parameters_in_environment;\n                }));\n            })",
          "old_line_content": "                if (m_parameter_names.set(identifier.string(), identifier.is_local() ? ParameterIsLocal::Yes : ParameterIsLocal::No) != AK::HashSetResult::InsertedNewEntry)",
          "new_line_content": "        parameter.binding.visit(",
          "content_same": false
        },
        {
          "line": 132,
          "old_api": "contains_expression",
          "new_api": "is_local",
          "old_text": "pattern->contains_expression()",
          "new_text": "identifier.is_local()",
          "old_line_content": "                if (pattern->contains_expression())",
          "new_line_content": "                else if (!identifier.is_local())",
          "content_same": false
        },
        {
          "line": 136,
          "old_api": "set",
          "new_api": "contains_expression",
          "old_text": "pattern->for_each_bound_identifier([&](auto& identifier) {\n                    if (m_parameter_names.set(identifier.string(), identifier.is_local() ? ParameterIsLocal::Yes : ParameterIsLocal::No) != AK::HashSetResult::InsertedNewEntry)\n                        m_has_duplicates = true;\n                })",
          "new_text": "pattern->contains_expression()",
          "old_line_content": "                MUST(pattern->for_each_bound_identifier([&](auto& identifier) {",
          "new_line_content": "                if (pattern->contains_expression())",
          "content_same": false
        },
        {
          "line": 153,
          "old_api": "as_string",
          "new_api": "this_mode",
          "old_text": "vm().names.arguments.as_string()",
          "new_text": "this_mode()",
          "old_line_content": "    else if (m_parameter_names.contains(vm().names.arguments.as_string())) {",
          "new_line_content": "    if (this_mode() == ThisMode::Lexical) {",
          "content_same": false
        },
        {
          "line": 173,
          "old_api": "contains",
          "new_api": "name",
          "old_text": "function_names.contains(arguments_name)",
          "new_text": "function.name()",
          "old_line_content": "        if (!m_has_parameter_expressions && function_names.contains(arguments_name))",
          "new_line_content": "            if (function_names.set(function.name()) == AK::HashSetResult::InsertedNewEntry)",
          "content_same": false
        },
        {
          "line": 179,
          "old_api": "string",
          "new_api": "contains",
          "old_text": "identifier.string()",
          "new_text": "function_names.contains(arguments_name)",
          "old_line_content": "                if (identifier.string() == arguments_name)",
          "new_line_content": "        if (!m_has_parameter_expressions && function_names.contains(arguments_name))",
          "content_same": false
        },
        {
          "line": 245,
          "old_api": "is_local",
          "new_api": "append",
          "old_text": ".is_local())\n",
          "new_text": "var_names_to_initialize_binding.append({\n                        .identifier = id,\n                        .parameter_binding = parameter_bindings.contains(id.string()),\n                        .function_name = function_names.contains(id.string()),\n                    });\n",
          "old_line_content": "                    if (!id.is_local())",
          "new_line_content": "                    m_var_names_to_initialize_binding.append({",
          "content_same": false
        },
        {
          "line": 270,
          "old_api": "append",
          "new_api": "CreateMutableBinding",
          "old_text": "var_names_to_initialize_binding.append({\n                        .identifier = id,\n                        .parameter_binding = parameter_bindings.contains(id.string()),\n                        .function_name = function_names.contains(id.string()),\n                    });\n",
          "new_text": "ope_body->for_each_var_declared_identifier([&](auto const& id) {\n                // 1. Append n to instantiatedVarNames.\n                // Following steps will be executed in function_declaration_instantiation:\n                // 2. Perform ! env.CreateMutableBinding(n, false).\n                // 3. Perform ! env.InitializeBinding(n, undefined).\n                if (instantiated_var_names.set(id.string(), id.is_local() ? ParameterIsLocal::Yes : ParameterIsLocal::No) == AK::HashSetResult::InsertedNewEntry) {\n                    m_var_names_to_initialize_binding.append({\n                        .identifier = id,\n                        .parameter_binding = parameter_bindings.contains(id.string()),\n                        .function_name = function_names.contains(id.string()),\n                    });\n\n                    if (!id.is_local())\n                        (*var_environment_size)++;\n                }\n            }));",
          "old_line_content": "                    m_var_names_to_initialize_binding.append({",
          "new_line_content": "            MUST(scope_body->for_each_var_declared_identifier([&](auto const& id) {",
          "content_same": false
        },
        {
          "line": 276,
          "old_api": "is_local",
          "new_api": "append",
          "old_text": ".is_local())\n",
          "new_text": "var_names_to_initialize_binding.append({\n                        .identifier = id,\n                        .parameter_binding = parameter_bindings.contains(id.string()),\n                        .function_name = function_names.contains(id.string()),\n                    });\n",
          "old_line_content": "                    if (!id.is_local())",
          "new_line_content": "                    m_var_names_to_initialize_binding.append({",
          "content_same": false
        },
        {
          "line": 292,
          "old_api": "append",
          "new_api": "name",
          "old_text": "function_names_to_initialize_binding.append(function_name);\n",
          "new_text": "ope_body->for_each_function_hoistable_with_annexB_extension([&](FunctionDeclaration& function_declaration) {\n            auto function_name = function_declaration.name();\n            if (parameter_bindings.contains(function_name))\n                return;\n\n            if (!instantiated_var_names.contains(function_name) && function_name != vm().names.arguments.as_string()) {\n                m_function_names_to_initialize_binding.append(function_name);\n                instantiated_var_names.set(function_name, ParameterIsLocal::No);\n                (*var_environment_size)++;\n            }\n\n            function_declaration.set_should_do_additional_annexB_steps();\n        }));",
          "old_line_content": "                m_function_names_to_initialize_binding.append(function_name);",
          "new_line_content": "        MUST(scope_body->for_each_function_hoistable_with_annexB_extension([&](FunctionDeclaration& function_declaration) {",
          "content_same": false
        },
        {
          "line": 293,
          "old_api": "set",
          "new_api": "name",
          "old_text": "stantiated_var_names.set(function_name, ParameterIsLocal::No);\n",
          "new_text": "nction_declaration.name();\n",
          "old_line_content": "                instantiated_var_names.set(function_name, ParameterIsLocal::No);",
          "new_line_content": "            auto function_name = function_declaration.name();",
          "content_same": false
        },
        {
          "line": 297,
          "old_api": "set_should_do_additional_annexB_steps",
          "new_api": "as_string",
          "old_text": "nction_declaration.set_should_do_additional_annexB_steps();\n",
          "new_text": "().names.arguments.as_string()) ",
          "old_line_content": "            function_declaration.set_should_do_additional_annexB_steps();",
          "new_line_content": "            if (!instantiated_var_names.contains(function_name) && function_name != vm().names.arguments.as_string()) {",
          "content_same": false
        },
        {
          "line": 345,
          "old_api": "intrinsics",
          "new_api": "fine_property_or_throw",
          "old_text": "alm.intrinsics().new_ordinary_function_prototype_object_shape());",
          "new_text": "fine_property_or_throw(vm.names.name, { .value = m_name_string, .writable = false, .enumerable = false, .configurable = true }));",
          "old_line_content": "            prototype = vm.heap().allocate<Object>(realm, realm.intrinsics().new_ordinary_function_prototype_object_shape());",
          "new_line_content": "    MUST(define_property_or_throw(vm.names.name, { .value = m_name_string, .writable = false, .enumerable = false, .configurable = true }));",
          "content_same": false
        },
        {
          "line": 361,
          "old_api": "fine_direct_property",
          "new_api": "intrinsics",
          "old_text": "fine_direct_property(vm.names.prototype, prototype, Attribute::Writable);\n",
          "new_text": "alm.intrinsics().async_generator_function_prototype_prototype());",
          "old_line_content": "            define_direct_property(vm.names.prototype, prototype, Attribute::Writable);",
          "new_line_content": "            prototype = Object::create(realm, realm.intrinsics().async_generator_function_prototype_prototype());",
          "content_same": false
        },
        {
          "line": 379,
          "old_api": "bytecode_interpreter",
          "new_api": "ap",
          "old_text": ".bytecode_interpreter().instruction_stream_iterator();\n",
          "new_text": "ap());",
          "old_line_content": "    callee_context->instruction_stream_iterator = vm.bytecode_interpreter().instruction_stream_iterator();",
          "new_line_content": "    auto callee_context = ExecutionContext::create(heap());",
          "content_same": false
        },
        {
          "line": 392,
          "old_api": ".throw_completion<TypeError>(ErrorType::ClassConstructorWithoutNew, m_name);",
          "new_api": "running_execution_context",
          "old_text": ".throw_completion<TypeError>(ErrorType::ClassConstructorWithoutNew, m_name);\n",
          "new_text": ".running_execution_context() =",
          "old_line_content": "        auto throw_completion = vm.throw_completion<TypeError>(ErrorType::ClassConstructorWithoutNew, m_name);",
          "new_line_content": "    VERIFY(&vm.running_execution_context() == callee_context);",
          "content_same": false
        },
        {
          "line": 408,
          "old_api": "pop_execution_context",
          "new_api": "dinary_call_bind_this",
          "old_text": ".pop_execution_context();\n",
          "new_text": "dinary_call_bind_this(*callee_context, this_argument);\n",
          "old_line_content": "    vm.pop_execution_context();",
          "new_line_content": "    ordinary_call_bind_this(*callee_context, this_argument);",
          "content_same": false
        },
        {
          "line": 411,
          "old_api": "type",
          "new_api": "dinary_call_evaluate_body",
          "old_text": "sult.type() =",
          "new_text": "dinary_call_evaluate_body();\n",
          "old_line_content": "    if (result.type() == Completion::Type::Return)",
          "new_line_content": "    auto result = ordinary_call_evaluate_body();",
          "content_same": false
        },
        {
          "line": 421,
          "old_api": "_undefined",
          "new_api": "is_abrupt",
          "old_text": "_undefined();\n",
          "new_text": "sult.is_abrupt()) ",
          "old_line_content": "    return js_undefined();",
          "new_line_content": "    if (result.is_abrupt()) {",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": "vm",
          "new_api": "_undefined",
          "old_text": "is->vm();\n",
          "new_text": "_undefined();\n",
          "old_line_content": "    auto& vm = this->vm();",
          "new_line_content": "    return js_undefined();",
          "content_same": false
        },
        {
          "line": 449,
          "old_api": "bytecode_interpreter",
          "new_api": "ap",
          "old_text": ".bytecode_interpreter().instruction_stream_iterator();\n",
          "new_text": "ap());",
          "old_line_content": "    callee_context->instruction_stream_iterator = vm.bytecode_interpreter().instruction_stream_iterator();",
          "new_line_content": "    auto callee_context = ExecutionContext::create(heap());",
          "content_same": false
        },
        {
          "line": 467,
          "old_api": "is_throw_completion",
          "new_api": "dinary_call_bind_this",
          "old_text": "itialize_result.is_throw_completion()) ",
          "new_text": "dinary_call_bind_this(*callee_context, this_argument);\n",
          "old_line_content": "        if (initialize_result.is_throw_completion()) {",
          "new_line_content": "        ordinary_call_bind_this(*callee_context, this_argument);",
          "content_same": false
        },
        {
          "line": 486,
          "old_api": "type",
          "new_api": "dinary_call_evaluate_body",
          "old_text": "sult.type() =",
          "new_text": "dinary_call_evaluate_body();\n",
          "old_line_content": "    if (result.type() == Completion::Type::Return) {",
          "new_line_content": "    auto result = ordinary_call_evaluate_body();",
          "content_same": false
        },
        {
          "line": 489,
          "old_api": "value",
          "new_api": "pop_execution_context",
          "old_text": "sult.value()->is_object()) ",
          "new_text": ".pop_execution_context();\n",
          "old_line_content": "        if (kind == ConstructorKind::Derived && result.value()->is_object()) {",
          "new_line_content": "    vm.pop_execution_context();",
          "content_same": false
        },
        {
          "line": 492,
          "old_api": "as_object",
          "new_api": "type",
          "old_text": "ototype.as_object()))",
          "new_text": "sult.type() =",
          "old_line_content": "                TRY(result.value()->as_object().internal_set_prototype_of(&prototype.as_object()));",
          "new_line_content": "    if (result.type() == Completion::Type::Return) {",
          "content_same": false
        },
        {
          "line": 497,
          "old_api": "value",
          "new_api": "is_object",
          "old_text": "sult.value()->is_object())\n",
          "new_text": "ototype.is_object())\n",
          "old_line_content": "        if (result.value()->is_object())",
          "new_line_content": "            if (prototype.is_object())",
          "content_same": false
        },
        {
          "line": 498,
          "old_api": "value",
          "new_api": "as_object",
          "old_text": "sult.value()->as_object();\n",
          "new_text": "ototype.as_object()))",
          "old_line_content": "            return result.value()->as_object();",
          "new_line_content": "                TRY(result.value()->as_object().internal_set_prototype_of(&prototype.as_object()));",
          "content_same": false
        },
        {
          "line": 515,
          "old_api": "get_this_binding",
          "new_api": "is_abrupt",
          "old_text": "nstructor_env->get_this_binding(vm));",
          "new_text": "sult.is_abrupt()) ",
          "old_line_content": "    auto this_binding = TRY(constructor_env->get_this_binding(vm));",
          "new_line_content": "    else if (result.is_abrupt()) {",
          "content_same": false
        },
        {
          "line": 521,
          "old_api": "as_object",
          "new_api": "get_this_binding",
          "old_text": "is_binding.as_object();\n",
          "new_text": "nstructor_env->get_this_binding(vm));",
          "old_line_content": "    return this_binding.as_object();",
          "new_line_content": "    auto this_binding = TRY(constructor_env->get_this_binding(vm));",
          "content_same": false
        },
        {
          "line": 527,
          "old_api": "visit",
          "new_api": "as_object",
          "old_text": "sitor.visit(m_environment);\n",
          "new_text": "is_binding.as_object();\n",
          "old_line_content": "    visitor.visit(m_environment);",
          "new_line_content": "    return this_binding.as_object();",
          "content_same": false
        },
        {
          "line": 532,
          "old_api": "visit",
          "new_api": "se::visit_edges(visitor);",
          "old_text": "sitor.visit(m_bytecode_executable);\n",
          "new_text": "se::visit_edges(visitor);\n",
          "old_line_content": "    visitor.visit(m_bytecode_executable);",
          "new_line_content": "    Base::visit_edges(visitor);",
          "content_same": false
        },
        {
          "line": 538,
          "old_api": "as_symbol",
          "new_api": "visit",
          "old_text": "operty_key_ptr->as_symbol());",
          "new_text": "sitor.visit(m_bytecode_executable);\n",
          "old_line_content": "            visitor.visit(property_key_ptr->as_symbol());",
          "new_line_content": "    visitor.visit(m_bytecode_executable);",
          "content_same": false
        },
        {
          "line": 544,
          "old_api": "visit",
          "new_api": "as_symbol",
          "old_text": "script_or_module.visit(\n        [](Empty) {},\n        [&](auto& script_or_module) {\n            visitor.visit(script_or_module);\n        });\n",
          "new_text": "operty_key_ptr->as_symbol());",
          "old_line_content": "    m_script_or_module.visit(",
          "new_line_content": "            visitor.visit(property_key_ptr->as_symbol());",
          "content_same": false
        },
        {
          "line": 663,
          "old_api": "as_string",
          "new_api": "running_execution_context",
          "old_text": ".names.arguments.as_string(), ",
          "new_text": ".running_execution_context().a",
          "old_line_content": "            MUST(environment->create_immutable_binding(vm, vm.names.arguments.as_string(), false));",
          "new_line_content": "            arguments_object = create_mapped_arguments_object(vm, *this, formal_parameters(), vm.running_execution_context().arguments, *environment);",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": "append",
          "new_api": "visit",
          "old_text": "y->indexed_properties().append(execution_context_arguments[rest_index]);\n  ",
          "new_text": "meter.binding.visit(\n            [&](auto const& param) -> ThrowCompletionOr<void> {\n                Value argument_value;\n                if (parameter.is_rest) {\n                    auto array = MUST(Array::create(realm, 0));\n                    for (size_t rest_index = i; rest_index < execution_context_arguments.size(); ++rest_index)\n                        array->indexed_properties().append(execution_context_arguments[rest_index]);\n                    argument_value = array;\n                } else if (i < execution_context_arguments.size() && !execution_context_arguments[i].is_undefined()) {\n                    argument_value = execution_context_arguments[i];\n                } else if (parameter.default_value) {\n                    auto value_and_frame = vm.bytecode_interpreter().run_and_return_frame(*m_default_parameter_bytecode_executables[default_parameter_index - 1], nullptr);\n                    if (value_and_frame.value.is_error())\n                        return value_and_frame.value.release_error();\n                    // Resulting value is in the accumulator.\n                    argument_value = value_and_frame.frame->registers()[0];\n                } else {\n                    argument_value = js_undefined();\n                }\n\n                Environment* used_environment = m_has_duplicates ? nullptr : environment;\n\n                if constexpr (IsSame<NonnullRefPtr<Identifier const> const&, decltype(param)>) {\n                    if (param->is_local()) {\n                        callee_context.locals[param->local_variable_index()] = argument_value;\n                        return {};\n                    }\n                    Reference reference = TRY(vm.resolve_binding(param->string(), used_environment));\n                    // Here the difference from hasDuplicates is important\n                    if (m_has_duplicates)\n                        return reference.put_value(vm, argument_value);\n                    return reference.initialize_referenced_binding(vm, argument_value);\n                }\n                if constexpr (IsSame<NonnullRefPtr<BindingPattern const> const&, decltype(param)>) {\n                    // Here the difference from hasDuplicates is important\n                    return vm.binding_initialization(param, argument_value, used_environment);\n                }\n            }));\n ",
          "old_line_content": "                        array->indexed_properties().append(execution_context_arguments[rest_index]);",
          "new_line_content": "        TRY(parameter.binding.visit(",
          "content_same": false
        },
        {
          "line": 710,
          "old_api": "run_and_return_frame",
          "new_api": "size",
          "old_text": "ytecode_interpreter().run_and_return_frame(*m_default_parameter_bytecode_executables[default_parameter_index - 1], nullptr);\n  ",
          "new_text": "ution_context_arguments.size(); ++",
          "old_line_content": "                    auto value_and_frame = vm.bytecode_interpreter().run_and_return_frame(*m_default_parameter_bytecode_executables[default_parameter_index - 1], nullptr);",
          "new_line_content": "                    for (size_t rest_index = i; rest_index < execution_context_arguments.size(); ++rest_index)",
          "content_same": false
        },
        {
          "line": 711,
          "old_api": "is_error",
          "new_api": "append",
          "old_text": "e_and_frame.value.is_error())\n  ",
          "new_text": "y->indexed_properties().append(execution_context_arguments[rest_index]);\n  ",
          "old_line_content": "                    if (value_and_frame.value.is_error())",
          "new_line_content": "                        array->indexed_properties().append(execution_context_arguments[rest_index]);",
          "content_same": false
        },
        {
          "line": 716,
          "old_api": "ndefined",
          "new_api": "run_and_return_frame",
          "old_text": "ndefined();\n  ",
          "new_text": "ytecode_interpreter().run_and_return_frame(*m_default_parameter_bytecode_executables[default_parameter_index - 1], nullptr);\n  ",
          "old_line_content": "                    argument_value = js_undefined();",
          "new_line_content": "                    auto value_and_frame = vm.bytecode_interpreter().run_and_return_frame(*m_default_parameter_bytecode_executables[default_parameter_index - 1], nullptr);",
          "content_same": false
        },
        {
          "line": 722,
          "old_api": "is_local",
          "new_api": "ndefined",
          "old_text": "m->is_local()) {\n",
          "new_text": "ndefined();\n  ",
          "old_line_content": "                    if (param->is_local()) {",
          "new_line_content": "                    argument_value = js_undefined();",
          "content_same": false
        },
        {
          "line": 729,
          "old_api": "put_value",
          "new_api": "local_variable_index",
          "old_text": "rence.put_value(vm, argument_value);\n  ",
          "new_text": "m->local_variable_index()] = ",
          "old_line_content": "                        return reference.put_value(vm, argument_value);",
          "new_line_content": "                        callee_context.locals[param->local_variable_index()] = argument_value;",
          "content_same": false
        },
        {
          "line": 764,
          "old_api": "ndefined",
          "new_api": "s_local",
          "old_text": "ndefined(), En",
          "new_text": "s_local()) {\n",
          "old_line_content": "                    MUST(environment->initialize_binding(vm, id.string(), js_undefined(), Environment::InitializeBindingHint::Normal));",
          "new_line_content": "                if (id.is_local()) {",
          "content_same": false
        },
        {
          "line": 814,
          "old_api": "ocal_variable_index",
          "new_api": "ndefined",
          "old_text": "ocal_variable_index()];\n ",
          "new_text": "ndefined();\n  ",
          "old_line_content": "                        initial_value = callee_context.locals[id.local_variable_index()];",
          "new_line_content": "                    initial_value = js_undefined();",
          "content_same": false
        },
        {
          "line": 894,
          "old_api": "is_constant_declaration",
          "new_api": "s_local",
          "old_text": "aration.is_constant_declaration()) {\n",
          "new_text": "s_local()) {\n",
          "old_line_content": "                if (declaration.is_constant_declaration()) {",
          "new_line_content": "                if (id.is_local()) {",
          "content_same": false
        },
        {
          "line": 920,
          "old_api": "name",
          "new_api": "contains_direct_call_to_eval",
          "old_text": "aration.name(), fu",
          "new_text": "aration.contains_direct_call_to_eval());\n\n",
          "old_line_content": "            MUST(var_environment->set_mutable_binding(vm, declaration.name(), function, false));",
          "new_line_content": "        auto function = ECMAScriptFunctionObject::create(realm, declaration.name(), declaration.source_text(), declaration.body(), declaration.parameters(), declaration.function_length(), declaration.local_variables_names(), lex_environment, private_environment, declaration.kind(), declaration.is_strict_mode(), declaration.might_need_arguments_object(), declaration.contains_direct_call_to_eval());",
          "content_same": false
        },
        {
          "line": 924,
          "old_api": "eclarativeEnvironment>(*lex_environment))",
          "new_api": "name_identifier",
          "old_text": "eclarativeEnvironment>(*lex_environment))\n  ",
          "new_text": "aration.name_identifier()->local_variable_index()] = ",
          "old_line_content": "    if (is<DeclarativeEnvironment>(*lex_environment))",
          "new_line_content": "            callee_context.locals[declaration.name_identifier()->local_variable_index()] = function;",
          "content_same": false
        },
        {
          "line": 926,
          "old_api": "eclarativeEnvironment>(*var_environment))",
          "new_api": "name",
          "old_text": "eclarativeEnvironment>(*var_environment))\n  ",
          "new_text": "aration.name(), fu",
          "old_line_content": "    if (lex_environment != var_environment && is<DeclarativeEnvironment>(*var_environment))",
          "new_line_content": "            MUST(var_environment->set_mutable_binding(vm, declaration.name(), function, false));",
          "content_same": false
        },
        {
          "line": 1035,
          "old_api": "global_this_value",
          "new_api": "is_nullish",
          "old_text": "al_env.global_this_value();\n  ",
          "new_text": "_argument.is_nullish()) {\n",
          "old_line_content": "            this_value = &global_env.global_this_value();",
          "new_line_content": "        if (this_argument.is_nullish()) {",
          "content_same": false
        },
        {
          "line": 1114,
          "old_api": "op_execution_context",
          "new_api": "c_body",
          "old_text": "op_execution_context();\n\n ",
          "new_text": "c_body();\n  ",
          "old_line_content": "        vm.pop_execution_context();",
          "new_line_content": "            result = async_body();",
          "content_same": false
        },
        {
          "line": 1128,
          "old_api": "type",
          "new_api": "ptr",
          "old_text": "lt.type() == ",
          "new_text": "ptr()), r",
          "old_line_content": "        if (result.type() == Completion::Type::Normal) {",
          "new_line_content": "            result = dispose_resources(vm, verify_cast<DeclarativeEnvironment>(env.ptr()), result);",
          "content_same": false
        },
        {
          "line": 1162,
          "old_api": "is_undefined",
          "new_api": "ed",
          "old_text": "ue().is_undefined());\n\n    //",
          "new_text": "ed() : async_c",
          "old_line_content": "    VERIFY(result.has_value() && result.value().is_undefined());",
          "new_line_content": "    auto result = call(vm, *execution_steps, async_context.this_value.is_empty() ? js_undefined() : async_context.this_value);",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": "wrapper",
          "new_api": "append",
          "old_text": "wrapper())\n        ",
          "new_text": "parameter_bytecode_executables.append(*parameter.bytecode_executable);\n        ",
          "old_line_content": "        if (is_module_wrapper())",
          "new_line_content": "                m_default_parameter_bytecode_executables.append(*parameter.bytecode_executable);",
          "content_same": false
        },
        {
          "line": 1209,
          "old_api": "is_error",
          "new_api": "wrapper",
          "old_text": "n_result.is_error())\n        ",
          "new_text": "wrapper())\n        ",
          "old_line_content": "        if (declaration_result.is_error())",
          "new_line_content": "        if (is_module_wrapper())",
          "content_same": false
        },
        {
          "line": 1215,
          "old_api": "compile",
          "new_api": "is_error",
          "old_text": "compile(vm, *m_ecmascript_code, m_kind, m_name)));\n      ",
          "new_text": "n_result.is_error())\n        ",
          "old_line_content": "            const_cast<Statement&>(*m_ecmascript_code).set_bytecode_executable(TRY(Bytecode::compile(vm, *m_ecmascript_code, m_kind, m_name)));",
          "new_line_content": "        if (declaration_result.is_error())",
          "content_same": false
        },
        {
          "line": 1216,
          "old_api": "bytecode_executable",
          "new_api": "release_error",
          "old_text": "pt_code->bytecode_executable();\n    }\n\n ",
          "new_text": "n_result.release_error();\n    }\n\n ",
          "old_line_content": "        m_bytecode_executable = m_ecmascript_code->bytecode_executable();",
          "new_line_content": "            return declaration_result.release_error();",
          "content_same": false
        },
        {
          "line": 1220,
          "old_api": "is_throw_completion",
          "new_api": "bytecode_executable",
          "old_text": "n_result.is_throw_completion()) {\n      ",
          "new_text": "pt_code->bytecode_executable())\n        ",
          "old_line_content": "        if (declaration_result.is_throw_completion()) {",
          "new_line_content": "        if (!m_ecmascript_code->bytecode_executable())",
          "content_same": false
        },
        {
          "line": 1221,
          "old_api": "promise_constructor",
          "new_api": "compile",
          "old_text": "insics().promise_constructor()));\n      ",
          "new_text": "compile(vm, *m_ecmascript_code, m_kind, m_name)));\n      ",
          "old_line_content": "            auto promise_capability = MUST(new_promise_capability(vm, realm.intrinsics().promise_constructor()));",
          "new_line_content": "            const_cast<Statement&>(*m_ecmascript_code).set_bytecode_executable(TRY(Bytecode::compile(vm, *m_ecmascript_code, m_kind, m_name)));",
          "content_same": false
        },
        {
          "line": 1222,
          "old_api": "throw_completion",
          "new_api": "bytecode_executable",
          "old_text": "n_result.throw_completion().value()));\n      ",
          "new_text": "pt_code->bytecode_executable();\n    }\n\n ",
          "old_line_content": "            MUST(call(vm, *promise_capability->reject(), js_undefined(), *declaration_result.throw_completion().value()));",
          "new_line_content": "        m_bytecode_executable = m_ecmascript_code->bytecode_executable();",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": "run_and_return_frame",
          "new_api": "promise_constructor",
          "old_text": "e_interpreter().run_and_return_frame(*m_bytecode_executable, nullptr);\n\n    VER",
          "new_text": "insics().promise_constructor()));\n      ",
          "old_line_content": "    auto result_and_frame = vm.bytecode_interpreter().run_and_return_frame(*m_bytecode_executable, nullptr);",
          "new_line_content": "            auto promise_capability = MUST(new_promise_capability(vm, realm.intrinsics().promise_constructor()));",
          "content_same": false
        },
        {
          "line": 1229,
          "old_api": "ult_and_frame.frame != nullptr);\n    if (",
          "new_api": "promise",
          "old_text": "ult_and_frame.frame != nullptr);\n    if (",
          "new_text": "pability->promise(), {} };\n  ",
          "old_line_content": "    VERIFY(result_and_frame.frame != nullptr);",
          "new_line_content": "            return Completion { Completion::Type::Return, promise_capability->promise(), {} };",
          "content_same": false
        },
        {
          "line": 1233,
          "old_api": "release_value",
          "new_api": "run_and_return_frame",
          "old_text": "_frame.value.release_value();\n\n    // ",
          "new_text": "e_interpreter().run_and_return_frame(*m_bytecode_executable, nullptr);\n\n    VER",
          "old_line_content": "    auto result = result_and_frame.value.release_value();",
          "new_line_content": "    auto result_and_frame = vm.bytecode_interpreter().run_and_return_frame(*m_bytecode_executable, nullptr);",
          "content_same": false
        },
        {
          "line": 1258,
          "old_api": "ll",
          "new_api": "ind == FunctionKind::Generator);\n    retu",
          "old_text": "ll());\n    aut",
          "new_text": "ind == FunctionKind::Generator);\n    retu",
          "old_line_content": "    VERIFY(!name.is_null());",
          "new_line_content": "    VERIFY(m_kind == FunctionKind::Generator);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 512,
          "old_api": null,
          "new_api": ".throw_completion<TypeError>(ErrorType::DerivedConstructorReturningInvalidValue);",
          "old_text": null,
          "new_text": ".throw_completion<TypeError>(ErrorType::DerivedConstructorReturningInvalidValue);\n",
          "old_line_content": "    }",
          "new_line_content": "            return vm.throw_completion<TypeError>(ErrorType::DerivedConstructorReturningInvalidValue);",
          "content_same": false
        },
        {
          "line": 516,
          "old_api": null,
          "new_api": "is_error",
          "old_text": null,
          "new_text": "sult.is_error());",
          "old_line_content": "",
          "new_line_content": "        VERIFY(result.is_error());",
          "content_same": false
        },
        {
          "line": 524,
          "old_api": null,
          "new_api": "is_object",
          "old_text": null,
          "new_text": "is_binding.is_object());",
          "old_line_content": "void ECMAScriptFunctionObject::visit_edges(Visitor& visitor)",
          "new_line_content": "    VERIFY(this_binding.is_object());",
          "content_same": false
        },
        {
          "line": 1038,
          "old_api": null,
          "new_api": "global_environment",
          "old_text": null,
          "new_text": "ee_realm->global_environment();\n\n ",
          "old_line_content": "        else {",
          "new_line_content": "            auto& global_env = callee_realm->global_environment();",
          "content_same": false
        },
        {
          "line": 1041,
          "old_api": null,
          "new_api": "global_this_value",
          "old_text": null,
          "new_text": "al_env.global_this_value();\n  ",
          "old_line_content": "",
          "new_line_content": "            this_value = &global_env.global_this_value();",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": null,
          "new_api": "visit",
          "old_text": null,
          "new_text": "sitor.visit(m_environment);\n",
          "old_line_content": "    for (auto& executable : m_default_parameter_bytecode_executables)",
          "new_line_content": "    visitor.visit(m_environment);",
          "content_same": false
        },
        {
          "line": 1046,
          "old_api": null,
          "new_api": "to_object",
          "old_text": null,
          "new_text": "_argument.to_object(vm));\n\n",
          "old_line_content": "",
          "new_line_content": "            this_value = MUST(this_argument.to_object(vm));",
          "content_same": false
        },
        {
          "line": 535,
          "old_api": null,
          "new_api": "visit",
          "old_text": null,
          "new_text": "sitor.visit(m_realm);\n",
          "old_line_content": "",
          "new_line_content": "    visitor.visit(m_realm);",
          "content_same": false
        },
        {
          "line": 536,
          "old_api": null,
          "new_api": "visit",
          "old_text": null,
          "new_text": "sitor.visit(m_home_object);\n",
          "old_line_content": "    for (auto& field : m_fields) {",
          "new_line_content": "    visitor.visit(m_home_object);",
          "content_same": false
        },
        {
          "line": 1049,
          "old_api": null,
          "new_api": "urrent_realm",
          "old_text": null,
          "new_text": "urrent_realm() == ",
          "old_line_content": "    // 9. Perform ! localEnv.BindThisValue(thisValue).",
          "new_line_content": "            VERIFY(vm.current_realm() == callee_realm);",
          "content_same": false
        },
        {
          "line": 540,
          "old_api": null,
          "new_api": "visit",
          "old_text": null,
          "new_text": "sitor.visit(executable);\n",
          "old_line_content": "",
          "new_line_content": "        visitor.visit(executable);",
          "content_same": false
        },
        {
          "line": 543,
          "old_api": null,
          "new_api": "is_symbol",
          "old_text": null,
          "new_text": "operty_key_ptr->is_symbol())\n",
          "old_line_content": "",
          "new_line_content": "        if (auto* property_key_ptr = field.name.get_pointer<PropertyKey>(); property_key_ptr && property_key_ptr->is_symbol())",
          "content_same": false
        },
        {
          "line": 1056,
          "old_api": null,
          "new_api": "bind_this_value",
          "old_text": null,
          "new_text": "fy_cast<FunctionEnvironment>(*local_env).bind_this_value(vm, this_value));\n\n",
          "old_line_content": "template<typename T>",
          "new_line_content": "    MUST(verify_cast<FunctionEnvironment>(*local_env).bind_this_value(vm, this_value));",
          "content_same": false
        },
        {
          "line": 548,
          "old_api": null,
          "new_api": "visit",
          "old_text": null,
          "new_text": "sitor.visit(private_element.value);\n",
          "old_line_content": "        });",
          "new_line_content": "        visitor.visit(private_element.value);",
          "content_same": false
        },
        {
          "line": 550,
          "old_api": null,
          "new_api": "visit",
          "old_text": null,
          "new_text": "script_or_module.visit(\n        [](Empty) {},\n        [&](auto& script_or_module) {\n            visitor.visit(script_or_module);\n        });\n",
          "old_line_content": "",
          "new_line_content": "    m_script_or_module.visit(",
          "content_same": false
        },
        {
          "line": 553,
          "old_api": null,
          "new_api": "visit",
          "old_text": null,
          "new_text": "sitor.visit(script_or_module);\n",
          "old_line_content": "{",
          "new_line_content": "            visitor.visit(script_or_module);",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": null,
          "new_api": "unning_execution_context",
          "old_text": null,
          "new_text": "unning_execution_context();\n\n ",
          "old_line_content": "",
          "new_line_content": "    auto& running_context = vm.running_execution_context();",
          "content_same": false
        },
        {
          "line": 1069,
          "old_api": null,
          "new_api": "copy",
          "old_text": null,
          "new_text": "ing_context.copy();\n\n ",
          "old_line_content": "",
          "new_line_content": "    auto async_context = running_context.copy();",
          "content_same": false
        },
        {
          "line": 1074,
          "old_api": null,
          "new_api": "c_block_start",
          "old_text": null,
          "new_text": "c_block_start(vm, async_function_body, promise_capability, *async_context);\n\n ",
          "old_line_content": "// 12.7.1.1 AsyncBlockStart ( promiseCapability, asyncBody, asyncContext ), https://tc39.es/proposal-explicit-resource-management/#sec-asyncblockstart",
          "new_line_content": "    async_block_start(vm, async_function_body, promise_capability, *async_context);",
          "content_same": false
        },
        {
          "line": 569,
          "old_api": null,
          "new_api": "vm",
          "old_text": null,
          "new_text": "is->vm();\n",
          "old_line_content": "    // 2. Let code be func.[[ECMAScriptCode]].",
          "new_line_content": "    auto& vm = this->vm();",
          "content_same": false
        },
        {
          "line": 570,
          "old_api": null,
          "new_api": "current_realm",
          "old_text": null,
          "new_text": ".current_realm();\n",
          "old_line_content": "    ScopeNode const* scope_body = nullptr;",
          "new_line_content": "    auto& realm = *vm.current_realm();",
          "content_same": false
        },
        {
          "line": 573,
          "old_api": null,
          "new_api": "running_execution_context",
          "old_text": null,
          "new_text": ".running_execution_context();\n",
          "old_line_content": "",
          "new_line_content": "    auto& callee_context = vm.running_execution_context();",
          "content_same": false
        },
        {
          "line": 1087,
          "old_api": null,
          "new_api": "urrent_realm",
          "old_text": null,
          "new_text": "urrent_realm();\n\n ",
          "old_line_content": "",
          "new_line_content": "    auto& realm = *vm.current_realm();",
          "content_same": false
        },
        {
          "line": 577,
          "old_api": null,
          "new_api": "<ScopeNode>(*m_ecmascript_code))",
          "old_text": null,
          "new_text": "<ScopeNode>(*m_ecmascript_code))\n",
          "old_line_content": "    //       5. Let parameterNames be the BoundNames of formals.",
          "new_line_content": "    if (is<ScopeNode>(*m_ecmascript_code))",
          "content_same": false
        },
        {
          "line": 578,
          "old_api": null,
          "new_api": "ptr",
          "old_text": null,
          "new_text": "ecmascript_code.ptr());",
          "old_line_content": "    //       6. If parameterNames has any duplicate entries, let hasDuplicates be true. Otherwise, let hasDuplicates be false.",
          "new_line_content": "        scope_body = static_cast<ScopeNode const*>(m_ecmascript_code.ptr());",
          "content_same": false
        },
        {
          "line": 1092,
          "old_api": null,
          "new_api": "unning_execution_context",
          "old_text": null,
          "new_text": "unning_execution_context();\n\n ",
          "old_line_content": "        // a. If asyncBody is a Parse Node, then",
          "new_line_content": "    auto& running_context = vm.running_execution_context();",
          "content_same": false
        },
        {
          "line": 1095,
          "old_api": null,
          "new_api": "is_error",
          "old_text": null,
          "new_text": "veFunction::create(realm, \"\", [&async_body, &promise_capability, &async_context](auto& vm) -> ThrowCompletionOr<Value> {\n        Completion result;\n\n        // a. If asyncBody is a Parse Node, then\n        if constexpr (!IsCallableWithArguments<T, Completion>) {\n            // a. Let result be the result of evaluating asyncBody.\n            // FIXME: Cache this executable somewhere.\n            auto maybe_executable = Bytecode::compile(vm, async_body, FunctionKind::Async, \"AsyncBlockStart\"sv);\n            if (maybe_executable.is_error())\n                result = maybe_executable.release_error();\n            else\n                result = vm.bytecode_interpreter().run_and_return_frame(*maybe_executable.value(), nullptr).value;\n        }\n        // b. Else,\n        else {\n            // i. Assert: asyncBody is an Abstract Closure with no parameters.\n            static_assert(IsCallableWithArguments<T, Completion>);\n\n            // ii. Let result be asyncBody().\n            result = async_body();\n        }\n\n        // c. Assert: If we return here, the async function either threw an exception or performed an implicit or explicit return; all awaiting is done.\n\n        // d. Remove asyncContext from the execution context stack and restore the execution context that is at the top of the execution context stack as the running execution context.\n        vm.pop_execution_context();\n\n        // NOTE: This does not work for Array.fromAsync, likely due to conflicts between that proposal and Explicit Resource Management proposal.\n        if constexpr (!IsCallableWithArguments<T, Completion>) {\n            // e. Let env be asyncContext's LexicalEnvironment.\n            auto env = async_context.lexical_environment;\n\n            // f. Set result to DisposeResources(env, result).\n            result = dispose_resources(vm, verify_cast<DeclarativeEnvironment>(env.ptr()), result);\n        } else {\n            (void)async_context;\n        }\n\n        // g. If result.[[Type]] is normal, then\n        if (result.type() == Completion::Type::Normal) {\n            // i. Perform ! Call(promiseCapability.[[Resolve]], undefined, « undefined »).\n            MUST(call(vm, *promise_capability.resolve(), js_undefined(), js_undefined()));\n        }\n        // h. Else if result.[[Type]] is return, then\n        else if (result.type() == Completion::Type::Return) {\n            // i. Perform ! Call(promiseCapability.[[Resolve]], undefined, « result.[[Value]] »).\n            MUST(call(vm, *promise_capability.resolve(), js_undefined(), *result.value()));\n        }\n        // i. Else,\n        else {\n            // i. Assert: result.[[Type]] is throw.\n            VERIFY(result.type() == Completion::Type::Throw);\n\n            // ii. Perform ! Call(promiseCapability.[[Reject]], undefined, « result.[[Value]] »).\n            MUST(call(vm, *promise_capability.reject(), js_undefined(), *result.value()));\n        }\n        // j. Return unused.\n        // NOTE: We don't support returning an empty/optional/unused value here.\n        return js_undefined();\n    });\n\n    // ",
          "old_line_content": "            // FIXME: Cache this executable somewhere.",
          "new_line_content": "    auto execution_steps = NativeFunction::create(realm, \"\", [&async_body, &promise_capability, &async_context](auto& vm) -> ThrowCompletionOr<Value> {",
          "content_same": false
        },
        {
          "line": 587,
          "old_api": null,
          "new_api": "s_simple_parameter_list",
          "old_text": null,
          "new_text": "s_simple_parameter_list();\n",
          "old_line_content": "    //       11. Let lexicalNames be the LexicallyDeclaredNames of code.",
          "new_line_content": "    bool const simple_parameter_list = has_simple_parameter_list();",
          "content_same": false
        },
        {
          "line": 1102,
          "old_api": null,
          "new_api": "code::compile(vm, async_body, FunctionKind::Async, \"AsyncBlockStart\"sv);",
          "old_text": null,
          "new_text": "code::compile(vm, async_body, FunctionKind::Async, \"AsyncBlockStart\"sv);\n  ",
          "old_line_content": "        // b. Else,",
          "new_line_content": "            auto maybe_executable = Bytecode::compile(vm, async_body, FunctionKind::Async, \"AsyncBlockStart\"sv);",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": null,
          "new_api": "is_error",
          "old_text": null,
          "new_text": "e_executable.is_error())\n  ",
          "old_line_content": "        else {",
          "new_line_content": "            if (maybe_executable.is_error())",
          "content_same": false
        },
        {
          "line": 1104,
          "old_api": null,
          "new_api": "release_error",
          "old_text": null,
          "new_text": "e_executable.release_error();\n  ",
          "old_line_content": "            // i. Assert: asyncBody is an Abstract Closure with no parameters.",
          "new_line_content": "                result = maybe_executable.release_error();",
          "content_same": false
        },
        {
          "line": 1106,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "e_executable.value(), nu",
          "old_line_content": "",
          "new_line_content": "                result = vm.bytecode_interpreter().run_and_return_frame(*maybe_executable.value(), nullptr).value;",
          "content_same": false
        },
        {
          "line": 1120,
          "old_api": null,
          "new_api": "op_execution_context",
          "old_text": null,
          "new_text": "op_execution_context();\n\n ",
          "old_line_content": "",
          "new_line_content": "        vm.pop_execution_context();",
          "content_same": false
        },
        {
          "line": 618,
          "old_api": null,
          "new_api": "w_declarative_environment",
          "old_text": null,
          "new_text": "w_declarative_environment(*callee_env);\n",
          "old_line_content": "        callee_context.lexical_environment = environment;",
          "new_line_content": "        environment = new_declarative_environment(*callee_env);",
          "content_same": false
        },
        {
          "line": 621,
          "old_api": null,
          "new_api": "RIFY",
          "old_text": null,
          "new_text": "RIFY(callee_context.variable_environment == callee_context.lexical_environment);\n",
          "old_line_content": "    // 21. For each String paramName of parameterNames, do",
          "new_line_content": "        VERIFY(callee_context.variable_environment == callee_context.lexical_environment);",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "lt.type() == ",
          "old_line_content": "            // i. Perform ! Call(promiseCapability.[[Resolve]], undefined, « result.[[Value]] »).",
          "new_line_content": "        if (result.type() == Completion::Type::Normal) {",
          "content_same": false
        },
        {
          "line": 1136,
          "old_api": null,
          "new_api": "efined",
          "old_text": null,
          "new_text": "efined()));\n  ",
          "old_line_content": "        }",
          "new_line_content": "            MUST(call(vm, *promise_capability.resolve(), js_undefined(), js_undefined()));",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": ".type() == Co",
          "old_line_content": "            // i. Assert: result.[[Type]] is throw.",
          "new_line_content": "        else if (result.type() == Completion::Type::Return) {",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": null,
          "new_api": "alue",
          "old_text": null,
          "new_text": "alue()));\n    ",
          "old_line_content": "",
          "new_line_content": "            MUST(call(vm, *promise_capability.resolve(), js_undefined(), *result.value()));",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": null,
          "new_api": "ype",
          "old_text": null,
          "new_text": "ype() == Comp",
          "old_line_content": "        // NOTE: We don't support returning an empty/optional/unused value here.",
          "new_line_content": "            VERIFY(result.type() == Completion::Type::Throw);",
          "content_same": false
        },
        {
          "line": 1149,
          "old_api": null,
          "new_api": "ue",
          "old_text": null,
          "new_text": "ue()));\n      ",
          "old_line_content": "",
          "new_line_content": "            MUST(call(vm, *promise_capability.reject(), js_undefined(), *result.value()));",
          "content_same": false
        },
        {
          "line": 640,
          "old_api": null,
          "new_api": "create_mutable_binding",
          "old_text": null,
          "new_text": "vironment->create_mutable_binding(vm, parameter_name.key, false));",
          "old_line_content": "        }",
          "new_line_content": "        MUST(environment->create_mutable_binding(vm, parameter_name.key, false));",
          "content_same": false
        },
        {
          "line": 1153,
          "old_api": null,
          "new_api": "ed",
          "old_text": null,
          "new_text": "ed();\n    });\n",
          "old_line_content": "        return;",
          "new_line_content": "        return js_undefined();",
          "content_same": false
        },
        {
          "line": 130,
          "old_api": null,
          "new_api": "is_local",
          "old_text": null,
          "new_text": "identifier.is_local()",
          "old_line_content": "            },",
          "new_line_content": "                if (m_parameter_names.set(identifier.string(), identifier.is_local() ? ParameterIsLocal::Yes : ParameterIsLocal::No) != AK::HashSetResult::InsertedNewEntry)",
          "content_same": false
        },
        {
          "line": 645,
          "old_api": null,
          "new_api": "_undefined",
          "old_text": null,
          "new_text": "_undefined(), ",
          "old_line_content": "        Object* arguments_object;",
          "new_line_content": "            MUST(environment->initialize_binding(vm, parameter_name.key, js_undefined(), Environment::InitializeBindingHint::Normal));",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": null,
          "new_api": "ecution_context",
          "old_text": null,
          "new_text": "ecution_context(async_context, {});\n    if (",
          "old_line_content": "",
          "new_line_content": "    auto push_result = vm.push_execution_context(async_context, {});",
          "content_same": false
        },
        {
          "line": 1158,
          "old_api": null,
          "new_api": "is_error",
          "old_text": null,
          "new_text": "t.is_error())\n        ",
          "old_line_content": "    // 6. Assert: When we return here, asyncContext has already been removed from the execution context stack and runningContext is the currently running execution context.",
          "new_line_content": "    if (push_result.is_error())",
          "content_same": false
        },
        {
          "line": 140,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "pattern->for_each_bound_identifier([&](auto& identifier) {\n                    if (m_parameter_names.set(identifier.string(), identifier.is_local() ? ParameterIsLocal::Yes : ParameterIsLocal::No) != AK::HashSetResult::InsertedNewEntry)\n                        m_has_duplicates = true;\n                    else if (!identifier.is_local())\n                        ++parameters_in_environment;\n                })",
          "old_line_content": "            });",
          "new_line_content": "                MUST(pattern->for_each_bound_identifier([&](auto& identifier) {",
          "content_same": false
        },
        {
          "line": 141,
          "old_api": null,
          "new_api": "is_local",
          "old_text": null,
          "new_text": "identifier.is_local()",
          "old_line_content": "    }",
          "new_line_content": "                    if (m_parameter_names.set(identifier.string(), identifier.is_local() ? ParameterIsLocal::Yes : ParameterIsLocal::No) != AK::HashSetResult::InsertedNewEntry)",
          "content_same": false
        },
        {
          "line": 1165,
          "old_api": null,
          "new_api": "_execution_context",
          "old_text": null,
          "new_text": "_execution_context() == &runni",
          "old_line_content": "}",
          "new_line_content": "    VERIFY(&vm.running_execution_context() == &running_context);",
          "content_same": false
        },
        {
          "line": 143,
          "old_api": null,
          "new_api": "is_local",
          "old_text": null,
          "new_text": "identifier.is_local()",
          "old_line_content": "    // 15. Let argumentsObjectNeeded be true.",
          "new_line_content": "                    else if (!identifier.is_local())",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": null,
          "new_api": "running_execution_context",
          "old_text": null,
          "new_text": ".running_execution_context().a",
          "old_line_content": "            // ii. Let ao be CreateMappedArgumentsObject(func, formals, argumentsList, env).",
          "new_line_content": "            arguments_object = create_unmapped_arguments_object(vm, vm.running_execution_context().arguments);",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": null,
          "new_api": "is_undefined",
          "old_text": null,
          "new_text": "ue().is_undefined());\n\n    //",
          "old_line_content": "template void async_function_start(VM&, PromiseCapability const&, NonnullRefPtr<Statement const> const& async_function_body);",
          "new_line_content": "    VERIFY(result.has_value() && result.value().is_undefined());",
          "content_same": false
        },
        {
          "line": 669,
          "old_api": null,
          "new_api": "as_string",
          "old_text": null,
          "new_text": ".names.arguments.as_string(), ",
          "old_line_content": "            // i. Perform ! env.CreateMutableBinding(\"arguments\", false).",
          "new_line_content": "            MUST(environment->create_immutable_binding(vm, vm.names.arguments.as_string(), false));",
          "content_same": false
        },
        {
          "line": 159,
          "old_api": null,
          "new_api": "as_string",
          "old_text": null,
          "new_text": "vm().names.arguments.as_string()",
          "old_line_content": "",
          "new_line_content": "    else if (m_parameter_names.contains(vm().names.arguments.as_string())) {",
          "content_same": false
        },
        {
          "line": 1183,
          "old_api": null,
          "new_api": ";\n    auto",
          "old_text": null,
          "new_text": ";\n    auto",
          "old_line_content": "    //       This is why FunctionDeclarationInstantiation is invoked in the middle.",
          "new_line_content": "    auto& vm = this->vm();",
          "content_same": false
        },
        {
          "line": 1184,
          "old_api": null,
          "new_api": "_realm",
          "old_text": null,
          "new_text": "_realm();\n\n    // ",
          "old_line_content": "    //       The issue is that FunctionDeclarationInstantiation may mark certain functions as hoisted",
          "new_line_content": "    auto& realm = *vm.current_realm();",
          "content_same": false
        },
        {
          "line": 676,
          "old_api": null,
          "new_api": "as_string",
          "old_text": null,
          "new_text": ".names.arguments.as_string(), ",
          "old_line_content": "        // f. Let parameterBindings be the list-concatenation of parameterNames and « \"arguments\" ».",
          "new_line_content": "            MUST(environment->create_mutable_binding(vm, vm.names.arguments.as_string(), false));",
          "content_same": false
        },
        {
          "line": 680,
          "old_api": null,
          "new_api": "as_string",
          "old_text": null,
          "new_text": ".names.arguments.as_string(), ",
          "old_line_content": "        // a. Let parameterBindings be parameterNames.",
          "new_line_content": "        MUST(environment->initialize_binding(vm, vm.names.arguments.as_string(), arguments_object, Environment::InitializeBindingHint::Normal));",
          "content_same": false
        },
        {
          "line": 172,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "scope_body->for_each_var_function_declaration_in_reverse_order([&](FunctionDeclaration const& function) {\n            if (function_names.set(function.name()) == AK::HashSetResult::InsertedNewEntry)\n                m_functions_to_initialize.append(function);\n        })",
          "old_line_content": "",
          "new_line_content": "        MUST(scope_body->for_each_var_function_declaration_in_reverse_order([&](FunctionDeclaration const& function) {",
          "content_same": false
        },
        {
          "line": 174,
          "old_api": null,
          "new_api": "append",
          "old_text": null,
          "new_text": "m_functions_to_initialize.append(function)",
          "old_line_content": "            m_arguments_object_needed = false;",
          "new_line_content": "                m_functions_to_initialize.append(function);",
          "content_same": false
        },
        {
          "line": 1198,
          "old_api": null,
          "new_api": "is_null",
          "old_text": null,
          "new_text": "bytecode_executable.is_null()) {\n      ",
          "old_line_content": "            }",
          "new_line_content": "            if (parameter.bytecode_executable.is_null()) {",
          "content_same": false
        },
        {
          "line": 1199,
          "old_api": null,
          "new_api": "::formatted(\"default parameter #{} for {}\", default_parameter_index++, m_name)));",
          "old_text": null,
          "new_text": "::formatted(\"default parameter #{} for {}\", default_parameter_index++, m_name)));\n      ",
          "old_line_content": "        }",
          "new_line_content": "                auto executable = TRY(Bytecode::compile(vm, *parameter.default_value, FunctionKind::Normal, ByteString::formatted(\"default parameter #{} for {}\", default_parameter_index++, m_name)));",
          "content_same": false
        },
        {
          "line": 177,
          "old_api": null,
          "new_api": "as_string",
          "old_text": null,
          "new_text": "vm().names.arguments.as_string()",
          "old_line_content": "            // NOTE: Nothing in the callback throws an exception.",
          "new_line_content": "        auto const& arguments_name = vm().names.arguments.as_string();",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": null,
          "new_api": "<FunctionParameter&>(parameter).bytecode_",
          "old_text": null,
          "new_text": "<FunctionParameter&>(parameter).bytecode_",
          "old_line_content": "    }",
          "new_line_content": "                const_cast<FunctionParameter&>(parameter).bytecode_executable = executable;",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": null,
          "new_api": "table));",
          "old_text": null,
          "new_text": "table));\n       ",
          "old_line_content": "",
          "new_line_content": "                m_default_parameter_bytecode_executables.append(move(executable));",
          "content_same": false
        },
        {
          "line": 184,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": "scope_body->for_each_lexically_declared_identifier([&](auto const& identifier) {\n                if (identifier.string() == arguments_name)\n                    m_arguments_object_needed = false;\n            })",
          "old_line_content": "        m_arguments_object_needed = false;",
          "new_line_content": "            MUST(scope_body->for_each_lexically_declared_identifier([&](auto const& identifier) {",
          "content_same": false
        },
        {
          "line": 185,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": "identifier.string()",
          "old_line_content": "    }",
          "new_line_content": "                if (identifier.string() == arguments_name)",
          "content_same": false
        },
        {
          "line": 697,
          "old_api": null,
          "new_api": "unning_execution_context",
          "old_text": null,
          "new_text": "unning_execution_context().arg",
          "old_line_content": "            ++default_parameter_index;",
          "new_line_content": "    auto const& execution_context_arguments = vm.running_execution_context().arguments;",
          "content_same": false
        },
        {
          "line": 1208,
          "old_api": null,
          "new_api": "wCompletionOr<void> {\n        if (is_module_wrapper())\n            return {};\n        return function_declaration_instantiation();\n    }();\n\n    if",
          "old_text": null,
          "new_text": "wCompletionOr<void> {\n        if (is_module_wrapper())\n            return {};\n        return function_declaration_instantiation();\n    }();\n\n    if ",
          "old_line_content": "    if (m_kind == FunctionKind::Normal || m_kind == FunctionKind::Generator || m_kind == FunctionKind::AsyncGenerator) {",
          "new_line_content": "    auto declaration_result = [&]() -> ThrowCompletionOr<void> {",
          "content_same": false
        },
        {
          "line": 700,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "rmal_parameters.size(); ++",
          "old_line_content": "            [&](auto const& param) -> ThrowCompletionOr<void> {",
          "new_line_content": "    for (size_t i = 0; i < m_formal_parameters.size(); ++i) {",
          "content_same": false
        },
        {
          "line": 1211,
          "old_api": null,
          "new_api": "eclaration_instantiation",
          "old_text": null,
          "new_text": "eclaration_instantiation();\n    }();",
          "old_line_content": "    }",
          "new_line_content": "        return function_declaration_instantiation();",
          "content_same": false
        },
        {
          "line": 709,
          "old_api": null,
          "new_api": "y::create(realm, 0));",
          "old_text": null,
          "new_text": "y::create(realm, 0));\n ",
          "old_line_content": "                } else if (parameter.default_value) {",
          "new_line_content": "                    auto array = MUST(Array::create(realm, 0));",
          "content_same": false
        },
        {
          "line": 713,
          "old_api": null,
          "new_api": "is_undefined",
          "old_text": null,
          "new_text": "ution_context_arguments[i].is_undefined()) {\n",
          "old_line_content": "                    // Resulting value is in the accumulator.",
          "new_line_content": "                } else if (i < execution_context_arguments.size() && !execution_context_arguments[i].is_undefined()) {",
          "content_same": false
        },
        {
          "line": 1226,
          "old_api": null,
          "new_api": "is_throw_completion",
          "old_text": null,
          "new_text": "n_result.is_throw_completion()) {\n      ",
          "old_line_content": "",
          "new_line_content": "        if (declaration_result.is_throw_completion()) {",
          "content_same": false
        },
        {
          "line": 1228,
          "old_api": null,
          "new_api": "throw_completion",
          "old_text": null,
          "new_text": "n_result.throw_completion().value()));\n      ",
          "old_line_content": "",
          "new_line_content": "            MUST(call(vm, *promise_capability->reject(), js_undefined(), *declaration_result.throw_completion().value()));",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": null,
          "new_api": "is_error",
          "old_text": null,
          "new_text": "e_and_frame.value.is_error())\n  ",
          "old_line_content": "                }",
          "new_line_content": "                    if (value_and_frame.value.is_error())",
          "content_same": false
        },
        {
          "line": 718,
          "old_api": null,
          "new_api": "release_error",
          "old_text": null,
          "new_text": "e_and_frame.value.release_error();\n  ",
          "old_line_content": "",
          "new_line_content": "                        return value_and_frame.value.release_error();",
          "content_same": false
        },
        {
          "line": 720,
          "old_api": null,
          "new_api": "registers",
          "old_text": null,
          "new_text": "e_and_frame.frame->registers()[0];",
          "old_line_content": "",
          "new_line_content": "                    argument_value = value_and_frame.frame->registers()[0];",
          "content_same": false
        },
        {
          "line": 1235,
          "old_api": null,
          "new_api": "ult_and_frame.frame != nullptr);\n    if (",
          "old_text": null,
          "new_text": "ult_and_frame.frame != nullptr);\n    if (",
          "old_line_content": "    // NOTE: Running the bytecode should eventually return a completion.",
          "new_line_content": "    VERIFY(result_and_frame.frame != nullptr);",
          "content_same": false
        },
        {
          "line": 1236,
          "old_api": null,
          "new_api": "is_error",
          "old_text": null,
          "new_text": "_frame.value.is_error())\n        ",
          "old_line_content": "    // Until it does, we assume \"return\" and include the undefined fallback from the call site.",
          "new_line_content": "    if (result_and_frame.value.is_error())",
          "content_same": false
        },
        {
          "line": 1237,
          "old_api": null,
          "new_api": "release_error",
          "old_text": null,
          "new_text": "_frame.value.release_error();\n\n    aut",
          "old_line_content": "    if (m_kind == FunctionKind::Normal)",
          "new_line_content": "        return result_and_frame.value.release_error();",
          "content_same": false
        },
        {
          "line": 1239,
          "old_api": null,
          "new_api": "release_value",
          "old_text": null,
          "new_text": "_frame.value.release_value();\n\n    // ",
          "old_line_content": "",
          "new_line_content": "    auto result = result_and_frame.value.release_value();",
          "content_same": false
        },
        {
          "line": 728,
          "old_api": null,
          "new_api": "is_local",
          "old_text": null,
          "new_text": "m->is_local()) {\n",
          "old_line_content": "                    if (m_has_duplicates)",
          "new_line_content": "                    if (param->is_local()) {",
          "content_same": false
        },
        {
          "line": 219,
          "old_api": null,
          "new_api": "as_string",
          "old_text": null,
          "new_text": "().names.arguments.as_string(), ",
          "old_line_content": "    }",
          "new_line_content": "        parameter_bindings.set(vm().names.arguments.as_string(), ParameterIsLocal::No);",
          "content_same": false
        },
        {
          "line": 732,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": "m->string(), us",
          "old_line_content": "                if constexpr (IsSame<NonnullRefPtr<BindingPattern const> const&, decltype(param)>) {",
          "new_line_content": "                    Reference reference = TRY(vm.resolve_binding(param->string(), used_environment));",
          "content_same": false
        },
        {
          "line": 1244,
          "old_api": null,
          "new_api": "ed",
          "old_text": null,
          "new_text": "ed()), {} };\n\n",
          "old_line_content": "",
          "new_line_content": "        return { Completion::Type::Return, result.value_or(js_undefined()), {} };",
          "content_same": false
        },
        {
          "line": 735,
          "old_api": null,
          "new_api": "put_value",
          "old_text": null,
          "new_text": "rence.put_value(vm, argument_value);\n  ",
          "old_line_content": "                }",
          "new_line_content": "                        return reference.put_value(vm, argument_value);",
          "content_same": false
        },
        {
          "line": 736,
          "old_api": null,
          "new_api": "initialize_referenced_binding",
          "old_text": null,
          "new_text": "rence.initialize_referenced_binding(vm, argument_value);\n  ",
          "old_line_content": "            }));",
          "new_line_content": "                    return reference.initialize_referenced_binding(vm, argument_value);",
          "content_same": false
        },
        {
          "line": 1247,
          "old_api": null,
          "new_api": "release_nonnull",
          "old_text": null,
          "new_text": "_frame.frame.release_nonnull()));\n      ",
          "old_line_content": "    // NOTE: Async functions are entirely transformed to generator functions, and wrapped in a custom driver that returns a promise",
          "new_line_content": "        auto async_generator_object = TRY(AsyncGenerator::create(realm, result, this, vm.running_execution_context().copy(), result_and_frame.frame.release_nonnull()));",
          "content_same": false
        },
        {
          "line": 1251,
          "old_api": null,
          "new_api": "release_nonnull",
          "old_text": null,
          "new_text": "_frame.frame.release_nonnull()));\n\n    /",
          "old_line_content": "",
          "new_line_content": "    auto generator_object = TRY(GeneratorObject::create(realm, result, this, vm.running_execution_context().copy(), result_and_frame.frame.release_nonnull()));",
          "content_same": false
        },
        {
          "line": 740,
          "old_api": null,
          "new_api": "inding_initialization",
          "old_text": null,
          "new_text": "inding_initialization(param, argument_value, used_environment);\n  ",
          "old_line_content": "",
          "new_line_content": "                    return vm.binding_initialization(param, argument_value, used_environment);",
          "content_same": false
        },
        {
          "line": 1256,
          "old_api": null,
          "new_api": "ionDriverWrapper::create(realm, generator_object), {} };",
          "old_text": null,
          "new_text": "ionDriverWrapper::create(realm, generator_object), {} };\n\n ",
          "old_line_content": "void ECMAScriptFunctionObject::set_name(DeprecatedFlyString const& name)",
          "new_line_content": "        return { Completion::Type::Return, AsyncFunctionDriverWrapper::create(realm, generator_object), {} };",
          "content_same": false
        },
        {
          "line": 238,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "ope_body->for_each_var_declared_identifier([&](auto const& id) {\n                // i. If instantiatedVarNames does not contain n, then\n                if (instantiated_var_names.set(id.string(), id.is_local() ? ParameterIsLocal::Yes : ParameterIsLocal::No) == AK::HashSetResult::InsertedNewEntry) {\n                    // 1. Append n to instantiatedVarNames.\n                    // Following steps will be executed in function_declaration_instantiation:\n                    // 2. Perform ! env.CreateMutableBinding(n, false).\n                    // 3. Perform ! env.InitializeBinding(n, undefined).\n                    m_var_names_to_initialize_binding.append({\n                        .identifier = id,\n                        .parameter_binding = parameter_bindings.contains(id.string()),\n                        .function_name = function_names.contains(id.string()),\n                    });\n\n                    if (!id.is_local())\n                        (*environment_size)++;\n                }\n            }));",
          "old_line_content": "                    // 3. Perform ! env.InitializeBinding(n, undefined).",
          "new_line_content": "            MUST(scope_body->for_each_var_declared_identifier([&](auto const& id) {",
          "content_same": false
        },
        {
          "line": 240,
          "old_api": null,
          "new_api": "is_local",
          "old_text": null,
          "new_text": ".is_local() ?",
          "old_line_content": "                        .identifier = id,",
          "new_line_content": "                if (instantiated_var_names.set(id.string(), id.is_local() ? ParameterIsLocal::Yes : ParameterIsLocal::No) == AK::HashSetResult::InsertedNewEntry) {",
          "content_same": false
        },
        {
          "line": 1264,
          "old_api": null,
          "new_api": "ll",
          "old_text": null,
          "new_text": "ll());\n    aut",
          "old_line_content": "}",
          "new_line_content": "    VERIFY(!name.is_null());",
          "content_same": false
        },
        {
          "line": 1265,
          "old_api": null,
          "new_api": ";\n    m_na",
          "old_text": null,
          "new_text": ";\n    m_na",
          "old_line_content": "",
          "new_line_content": "    auto& vm = this->vm();",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": null,
          "new_api": "tring::create(vm, m_name);\n    MUST",
          "old_text": null,
          "new_text": "tring::create(vm, m_name);\n    MUST",
          "old_line_content": "",
          "new_line_content": "    m_name_string = PrimitiveString::create(vm, m_name);",
          "content_same": false
        },
        {
          "line": 1268,
          "old_api": null,
          "new_api": "perty_or_throw",
          "old_text": null,
          "new_text": "perty_or_throw(vm.names.name, { .value = m_name_string, .writable = false, .enumerable = false, .configurable = true }));\n}\n}\n",
          "old_line_content": "",
          "new_line_content": "    MUST(define_property_or_throw(vm.names.name, { .value = m_name_string, .writable = false, .enumerable = false, .configurable = true }));",
          "content_same": false
        },
        {
          "line": 247,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": ".string()),",
          "old_line_content": "                }",
          "new_line_content": "                        .parameter_binding = parameter_bindings.contains(id.string()),",
          "content_same": false
        },
        {
          "line": 248,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": ".string()),",
          "old_line_content": "            }));",
          "new_line_content": "                        .function_name = function_names.contains(id.string()),",
          "content_same": false
        },
        {
          "line": 251,
          "old_api": null,
          "new_api": "is_local",
          "old_text": null,
          "new_text": ".is_local())\n",
          "old_line_content": "        // d. Let varEnv be env",
          "new_line_content": "                    if (!id.is_local())",
          "content_same": false
        },
        {
          "line": 765,
          "old_api": null,
          "new_api": "ndefined",
          "old_text": null,
          "new_text": "ndefined();\n  ",
          "old_line_content": "                }",
          "new_line_content": "                    callee_context.locals[id.local_variable_index()] = js_undefined();",
          "content_same": false
        },
        {
          "line": 769,
          "old_api": null,
          "new_api": "tring",
          "old_text": null,
          "new_text": "tring(), fa",
          "old_line_content": "        // d.Let varEnv be env",
          "new_line_content": "                    MUST(environment->create_mutable_binding(vm, id.string(), false));",
          "content_same": false
        },
        {
          "line": 770,
          "old_api": null,
          "new_api": "ndefined",
          "old_text": null,
          "new_text": "ndefined(), En",
          "old_line_content": "        var_environment = environment;",
          "new_line_content": "                    MUST(environment->initialize_binding(vm, id.string(), js_undefined(), Environment::InitializeBindingHint::Normal));",
          "content_same": false
        },
        {
          "line": 783,
          "old_api": null,
          "new_api": "declarative_environment",
          "old_text": null,
          "new_text": "declarative_environment(*environment);\n  ",
          "old_line_content": "        // d. Let instantiatedVarNames be a new empty List.",
          "new_line_content": "        var_environment = new_declarative_environment(*environment);",
          "content_same": false
        },
        {
          "line": 784,
          "old_api": null,
          "new_api": "ptr",
          "old_text": null,
          "new_text": "environment.ptr())->e",
          "old_line_content": "        // NOTE: Already done above.",
          "new_line_content": "        static_cast<DeclarativeEnvironment*>(var_environment.ptr())->ensure_capacity(m_var_environment_bindings_count);",
          "content_same": false
        },
        {
          "line": 275,
          "old_api": null,
          "new_api": "is_local",
          "old_text": null,
          "new_text": ".is_local() ?",
          "old_line_content": "",
          "new_line_content": "                if (instantiated_var_names.set(id.string(), id.is_local() ? ParameterIsLocal::Yes : ParameterIsLocal::No) == AK::HashSetResult::InsertedNewEntry) {",
          "content_same": false
        },
        {
          "line": 278,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": ".string()),",
          "old_line_content": "                }",
          "new_line_content": "                        .parameter_binding = parameter_bindings.contains(id.string()),",
          "content_same": false
        },
        {
          "line": 279,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": ".string()),",
          "old_line_content": "            }));",
          "new_line_content": "                        .function_name = function_names.contains(id.string()),",
          "content_same": false
        },
        {
          "line": 282,
          "old_api": null,
          "new_api": "is_local",
          "old_text": null,
          "new_text": ".is_local())\n",
          "old_line_content": "",
          "new_line_content": "                    if (!id.is_local())",
          "content_same": false
        },
        {
          "line": 294,
          "old_api": null,
          "new_api": "contains",
          "old_text": null,
          "new_text": "rameter_bindings.contains(function_name))\n",
          "old_line_content": "                (*var_environment_size)++;",
          "new_line_content": "            if (parameter_bindings.contains(function_name))",
          "content_same": false
        },
        {
          "line": 806,
          "old_api": null,
          "new_api": "s_local",
          "old_text": null,
          "new_text": "s_local())\n  ",
          "old_line_content": "                if (!variable_to_initialize.parameter_binding || variable_to_initialize.function_name) {",
          "new_line_content": "                if (!id.is_local())",
          "content_same": false
        },
        {
          "line": 807,
          "old_api": null,
          "new_api": "tring",
          "old_text": null,
          "new_text": "tring(), fa",
          "old_line_content": "                    // a. Let initialValue be undefined.",
          "new_line_content": "                    MUST(var_environment->create_mutable_binding(vm, id.string(), false));",
          "content_same": false
        },
        {
          "line": 298,
          "old_api": null,
          "new_api": "append",
          "old_text": null,
          "new_text": "function_names_to_initialize_binding.append(function_name);\n",
          "old_line_content": "        }));",
          "new_line_content": "                m_function_names_to_initialize_binding.append(function_name);",
          "content_same": false
        },
        {
          "line": 299,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "stantiated_var_names.set(function_name, ParameterIsLocal::No);\n",
          "old_line_content": "    }",
          "new_line_content": "                instantiated_var_names.set(function_name, ParameterIsLocal::No);",
          "content_same": false
        },
        {
          "line": 303,
          "old_api": null,
          "new_api": "set_should_do_additional_annexB_steps",
          "old_text": null,
          "new_text": "nction_declaration.set_should_do_additional_annexB_steps();\n",
          "old_line_content": "    // 30. If strict is false, then",
          "new_line_content": "            function_declaration.set_should_do_additional_annexB_steps();",
          "content_same": false
        },
        {
          "line": 819,
          "old_api": null,
          "new_api": "s_local",
          "old_text": null,
          "new_text": "s_local()) {\n",
          "old_line_content": "",
          "new_line_content": "                    if (id.is_local()) {",
          "content_same": false
        },
        {
          "line": 820,
          "old_api": null,
          "new_api": "ocal_variable_index",
          "old_text": null,
          "new_text": "ocal_variable_index()];\n ",
          "old_line_content": "                // 5. Perform ! varEnv.InitializeBinding(n, initialValue).",
          "new_line_content": "                        initial_value = callee_context.locals[id.local_variable_index()];",
          "content_same": false
        },
        {
          "line": 822,
          "old_api": null,
          "new_api": "tring",
          "old_text": null,
          "new_text": "tring(), fa",
          "old_line_content": "                    // NOTE: Local variables are supported only in bytecode interpreter",
          "new_line_content": "                        initial_value = MUST(environment->get_binding_value(vm, id.string(), false));",
          "content_same": false
        },
        {
          "line": 311,
          "old_api": null,
          "new_api": "has_lexical_declarations",
          "old_text": null,
          "new_text": "ope_body->has_lexical_declarations());",
          "old_line_content": "        }",
          "new_line_content": "        bool can_elide_declarative_environment = !m_contains_direct_call_to_eval && (!scope_body || !scope_body->has_lexical_declarations());",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": null,
          "new_api": "s_local",
          "old_text": null,
          "new_text": "s_local()) {\n",
          "old_line_content": "",
          "new_line_content": "                if (id.is_local()) {",
          "content_same": false
        },
        {
          "line": 829,
          "old_api": null,
          "new_api": "ocal_variable_index",
          "old_text": null,
          "new_text": "ocal_variable_index()] = ",
          "old_line_content": "            }",
          "new_line_content": "                    callee_context.locals[id.local_variable_index()] = initial_value;",
          "content_same": false
        },
        {
          "line": 831,
          "old_api": null,
          "new_api": "tring",
          "old_text": null,
          "new_text": "tring(), in",
          "old_line_content": "    }",
          "new_line_content": "                    MUST(var_environment->initialize_binding(vm, id.string(), initial_value, Environment::InitializeBindingHint::Normal));",
          "content_same": false
        },
        {
          "line": 325,
          "old_api": null,
          "new_api": "is_local",
          "old_text": null,
          "new_text": "ope_body->for_each_lexically_declared_identifier([&](auto const& id) {\n            if (!id.is_local())\n                (*lex_environment_size)++;\n        }));",
          "old_line_content": "",
          "new_line_content": "        MUST(scope_body->for_each_lexically_declared_identifier([&](auto const& id) {",
          "content_same": false
        },
        {
          "line": 326,
          "old_api": null,
          "new_api": "is_local",
          "old_text": null,
          "new_text": ".is_local())\n",
          "old_line_content": "void ECMAScriptFunctionObject::initialize(Realm& realm)",
          "new_line_content": "            if (!id.is_local())",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": null,
          "new_api": "create_mutable_binding",
          "old_text": null,
          "new_text": "environment->create_mutable_binding(vm, function_name, false));\n ",
          "old_line_content": "",
          "new_line_content": "            MUST(var_environment->create_mutable_binding(vm, function_name, false));",
          "content_same": false
        },
        {
          "line": 334,
          "old_api": null,
          "new_api": "vm",
          "old_text": null,
          "new_text": "is->vm();\n",
          "old_line_content": "    //       are defined in the spec.",
          "new_line_content": "    auto& vm = this->vm();",
          "content_same": false
        },
        {
          "line": 335,
          "old_api": null,
          "new_api": "se::initialize(realm);",
          "old_text": null,
          "new_text": "se::initialize(realm);\n",
          "old_line_content": "",
          "new_line_content": "    Base::initialize(realm);",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": null,
          "new_api": "ndefined",
          "old_text": null,
          "new_text": "ndefined(), En",
          "old_line_content": "    // 30. If strict is false, then",
          "new_line_content": "            MUST(var_environment->initialize_binding(vm, function_name, js_undefined(), Environment::InitializeBindingHint::Normal));",
          "content_same": false
        },
        {
          "line": 342,
          "old_api": null,
          "new_api": "imitiveString::create(vm, m_name);",
          "old_text": null,
          "new_text": "imitiveString::create(vm, m_name);\n",
          "old_line_content": "        Object* prototype = nullptr;",
          "new_line_content": "    m_name_string = PrimitiveString::create(vm, m_name);",
          "content_same": false
        },
        {
          "line": 344,
          "old_api": null,
          "new_api": "lue",
          "old_text": null,
          "new_text": "lue(m_function_length), ",
          "old_line_content": "        case FunctionKind::Normal:",
          "new_line_content": "    MUST(define_property_or_throw(vm.names.length, { .value = Value(m_function_length), .writable = false, .enumerable = false, .configurable = true }));",
          "content_same": false
        },
        {
          "line": 857,
          "old_api": null,
          "new_api": "has_lexical_declarations",
          "old_text": null,
          "new_text": "e_body->has_lexical_declarations());\n ",
          "old_line_content": "            //          can determine whether any var scoped declarations introduced by the eval code conflict with pre-existing top-level",
          "new_line_content": "        bool can_elide_declarative_environment = !m_contains_direct_call_to_eval && (!scope_body || !scope_body->has_lexical_declarations());",
          "content_same": false
        },
        {
          "line": 351,
          "old_api": null,
          "new_api": "intrinsics",
          "old_text": null,
          "new_text": "alm.intrinsics().new_ordinary_function_prototype_object_shape());",
          "old_line_content": "            break;",
          "new_line_content": "            prototype = vm.heap().allocate<Object>(realm, realm.intrinsics().new_ordinary_function_prototype_object_shape());",
          "content_same": false
        },
        {
          "line": 352,
          "old_api": null,
          "new_api": "define_property_or_throw",
          "old_text": null,
          "new_text": "ototype->define_property_or_throw(vm.names.constructor, { .value = this, .writable = true, .enumerable = false, .configurable = true }));",
          "old_line_content": "        case FunctionKind::Async:",
          "new_line_content": "            MUST(prototype->define_property_or_throw(vm.names.constructor, { .value = this, .writable = true, .enumerable = false, .configurable = true }));",
          "content_same": false
        },
        {
          "line": 866,
          "old_api": null,
          "new_api": "declarative_environment",
          "old_text": null,
          "new_text": "declarative_environment(*var_environment);\n  ",
          "old_line_content": "        // a. let lexEnv be varEnv.",
          "new_line_content": "            lex_environment = new_declarative_environment(*var_environment);",
          "content_same": false
        },
        {
          "line": 867,
          "old_api": null,
          "new_api": "ptr",
          "old_text": null,
          "new_text": "environment.ptr())->e",
          "old_line_content": "        lex_environment = var_environment;",
          "new_line_content": "            static_cast<DeclarativeEnvironment*>(lex_environment.ptr())->ensure_capacity(m_lex_environment_bindings_count);",
          "content_same": false
        },
        {
          "line": 356,
          "old_api": null,
          "new_api": "intrinsics",
          "old_text": null,
          "new_text": "alm.intrinsics().generator_function_prototype_prototype());",
          "old_line_content": "            break;",
          "new_line_content": "            prototype = Object::create(realm, realm.intrinsics().generator_function_prototype_prototype());",
          "content_same": false
        },
        {
          "line": 367,
          "old_api": null,
          "new_api": "fine_direct_property",
          "old_text": null,
          "new_text": "fine_direct_property(vm.names.prototype, prototype, Attribute::Writable);\n",
          "old_line_content": "{",
          "new_line_content": "            define_direct_property(vm.names.prototype, prototype, Attribute::Writable);",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": null,
          "new_api": "has_lexical_declarations",
          "old_text": null,
          "new_text": "e_body->has_lexical_declarations()) {\n",
          "old_line_content": "",
          "new_line_content": "    if (scope_body->has_lexical_declarations()) {",
          "content_same": false
        },
        {
          "line": 374,
          "old_api": null,
          "new_api": "vm",
          "old_text": null,
          "new_text": "is->vm();\n",
          "old_line_content": "",
          "new_line_content": "    auto& vm = this->vm();",
          "content_same": false
        },
        {
          "line": 886,
          "old_api": null,
          "new_api": "for_each_bound_identifier",
          "old_text": null,
          "new_text": "e_body->for_each_lexically_scoped_declaration([&](Declaration const& declaration) {\n            // NOTE: Due to the use of MUST with `create_immutable_binding` and `create_mutable_binding` below,\n            //       an exception should not result from `for_each_bound_name`.\n\n            // a. NOTE: A lexically declared name cannot be the same as a function/generator declaration, formal parameter, or a var name. Lexically declared names are only instantiated here but not initialized.\n\n            // b. For each element dn of the BoundNames of d, do\n            MUST(declaration.for_each_bound_identifier([&](auto const& id) {\n                if (id.is_local()) {\n                    // NOTE: Local variables are supported only in bytecode interpreter\n                    return;\n                }\n\n                // i. If IsConstantDeclaration of d is true, then\n                if (declaration.is_constant_declaration()) {\n                    // 1. Perform ! lexEnv.CreateImmutableBinding(dn, true).\n                    MUST(lex_environment->create_immutable_binding(vm, id.string(), true));\n                }\n                // ii. Else,\n                else {\n                    // 1. Perform ! lexEnv.CreateMutableBinding(dn, false).\n                    MUST(lex_environment->create_mutable_binding(vm, id.string(), false));\n                }\n            }));\n        }));\n ",
          "old_line_content": "            // b. For each element dn of the BoundNames of d, do",
          "new_line_content": "        MUST(scope_body->for_each_lexically_scoped_declaration([&](Declaration const& declaration) {",
          "content_same": false
        },
        {
          "line": 381,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "local_variables_names.size());",
          "old_line_content": "    // 2. Let calleeContext be PrepareForOrdinaryCall(F, undefined).",
          "new_line_content": "    callee_context->locals.resize(m_local_variables_names.size());",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": null,
          "new_api": "for_each_bound_identifier",
          "old_text": null,
          "new_text": "aration.for_each_bound_identifier([&](auto const& id) {\n                if (id.is_local()) {\n                    // NOTE: Local variables are supported only in bytecode interpreter\n                    return;\n                }\n\n                // i. If IsConstantDeclaration of d is true, then\n                if (declaration.is_constant_declaration()) {\n                    // 1. Perform ! lexEnv.CreateImmutableBinding(dn, true).\n                    MUST(lex_environment->create_immutable_binding(vm, id.string(), true));\n                }\n                // ii. Else,\n                else {\n                    // 1. Perform ! lexEnv.CreateMutableBinding(dn, false).\n                    MUST(lex_environment->create_mutable_binding(vm, id.string(), false));\n                }\n            }));\n ",
          "old_line_content": "                // i. If IsConstantDeclaration of d is true, then",
          "new_line_content": "            MUST(declaration.for_each_bound_identifier([&](auto const& id) {",
          "content_same": false
        },
        {
          "line": 384,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "guments_list.size());",
          "old_line_content": "",
          "new_line_content": "    callee_context->arguments.append(arguments_list.data(), arguments_list.size());",
          "content_same": false
        },
        {
          "line": 385,
          "old_api": null,
          "new_api": "bytecode_interpreter",
          "old_text": null,
          "new_text": ".bytecode_interpreter().instruction_stream_iterator();\n",
          "old_line_content": "    // 3. Assert: calleeContext is now the running execution context.",
          "new_line_content": "    callee_context->instruction_stream_iterator = vm.bytecode_interpreter().instruction_stream_iterator();",
          "content_same": false
        },
        {
          "line": 900,
          "old_api": null,
          "new_api": "is_constant_declaration",
          "old_text": null,
          "new_text": "aration.is_constant_declaration()) {\n",
          "old_line_content": "                    // 1. Perform ! lexEnv.CreateMutableBinding(dn, false).",
          "new_line_content": "                if (declaration.is_constant_declaration()) {",
          "content_same": false
        },
        {
          "line": 389,
          "old_api": null,
          "new_api": "epare_for_ordinary_call",
          "old_text": null,
          "new_text": "epare_for_ordinary_call(*callee_context, nullptr));",
          "old_line_content": "    if (m_is_class_constructor) {",
          "new_line_content": "    TRY(prepare_for_ordinary_call(*callee_context, nullptr));",
          "content_same": false
        },
        {
          "line": 902,
          "old_api": null,
          "new_api": "tring",
          "old_text": null,
          "new_text": "tring(), tr",
          "old_line_content": "                }",
          "new_line_content": "                    MUST(lex_environment->create_immutable_binding(vm, id.string(), true));",
          "content_same": false
        },
        {
          "line": 907,
          "old_api": null,
          "new_api": "tring",
          "old_text": null,
          "new_text": "tring(), fa",
          "old_line_content": "    // 35. Let privateEnv be the PrivateEnvironment of calleeContext.",
          "new_line_content": "                    MUST(lex_environment->create_mutable_binding(vm, id.string(), false));",
          "content_same": false
        },
        {
          "line": 398,
          "old_api": null,
          "new_api": ".throw_completion<TypeError>(ErrorType::ClassConstructorWithoutNew, m_name);",
          "old_text": null,
          "new_text": ".throw_completion<TypeError>(ErrorType::ClassConstructorWithoutNew, m_name);\n",
          "old_line_content": "        return throw_completion;",
          "new_line_content": "        auto throw_completion = vm.throw_completion<TypeError>(ErrorType::ClassConstructorWithoutNew, m_name);",
          "content_same": false
        },
        {
          "line": 401,
          "old_api": null,
          "new_api": "pop_execution_context",
          "old_text": null,
          "new_text": ".pop_execution_context();\n",
          "old_line_content": "    // 5. Perform OrdinaryCallBindThis(F, calleeContext, thisArgument).",
          "new_line_content": "        vm.pop_execution_context();",
          "content_same": false
        },
        {
          "line": 923,
          "old_api": null,
          "new_api": "name_identifier",
          "old_text": null,
          "new_text": "aration.name_identifier()->is_local()) {\n",
          "old_line_content": "",
          "new_line_content": "        if (declaration.name_identifier()->is_local()) {",
          "content_same": false
        },
        {
          "line": 414,
          "old_api": null,
          "new_api": "pop_execution_context",
          "old_text": null,
          "new_text": ".pop_execution_context();\n",
          "old_line_content": "    // 9. ReturnIfAbrupt(result).",
          "new_line_content": "    vm.pop_execution_context();",
          "content_same": false
        },
        {
          "line": 417,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "sult.type() =",
          "old_line_content": "        return result;",
          "new_line_content": "    if (result.type() == Completion::Type::Return)",
          "content_same": false
        },
        {
          "line": 418,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "sult.value();\n",
          "old_line_content": "    }",
          "new_line_content": "        return *result.value();",
          "content_same": false
        },
        {
          "line": 930,
          "old_api": null,
          "new_api": "eclarativeEnvironment>(*lex_environment))",
          "old_text": null,
          "new_text": "eclarativeEnvironment>(*lex_environment))\n  ",
          "old_line_content": "    return {};",
          "new_line_content": "    if (is<DeclarativeEnvironment>(*lex_environment))",
          "content_same": false
        },
        {
          "line": 931,
          "old_api": null,
          "new_api": "ptr",
          "old_text": null,
          "new_text": "environment.ptr())->s",
          "old_line_content": "}",
          "new_line_content": "        static_cast<DeclarativeEnvironment*>(lex_environment.ptr())->shrink_to_fit();",
          "content_same": false
        },
        {
          "line": 932,
          "old_api": null,
          "new_api": "eclarativeEnvironment>(*var_environment))",
          "old_text": null,
          "new_text": "eclarativeEnvironment>(*var_environment))\n  ",
          "old_line_content": "",
          "new_line_content": "    if (lex_environment != var_environment && is<DeclarativeEnvironment>(*var_environment))",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": null,
          "new_api": "is_error",
          "old_text": null,
          "new_text": "sult.is_error());",
          "old_line_content": "}",
          "new_line_content": "        VERIFY(result.is_error());",
          "content_same": false
        },
        {
          "line": 933,
          "old_api": null,
          "new_api": "ptr",
          "old_text": null,
          "new_text": "environment.ptr())->s",
          "old_line_content": "// 10.2.1.1 PrepareForOrdinaryCall ( F, newTarget ), https://tc39.es/ecma262/#sec-prepareforordinarycall",
          "new_line_content": "        static_cast<DeclarativeEnvironment*>(var_environment.ptr())->shrink_to_fit();",
          "content_same": false
        },
        {
          "line": 942,
          "old_api": null,
          "new_api": "vm",
          "old_text": null,
          "new_text": "->vm();\n\n ",
          "old_line_content": "    // 2. Let calleeContext be a new ECMAScript code execution context.",
          "new_line_content": "    auto& vm = this->vm();",
          "content_same": false
        },
        {
          "line": 433,
          "old_api": null,
          "new_api": "vm",
          "old_text": null,
          "new_text": "is->vm();\n",
          "old_line_content": "    auto kind = m_constructor_kind;",
          "new_line_content": "    auto& vm = this->vm();",
          "content_same": false
        },
        {
          "line": 446,
          "old_api": null,
          "new_api": "dinary_create_from_constructor<Object>(vm, new_target, &Intrinsics::object_prototype, ConstructWithPrototypeTag::Tag));",
          "old_text": null,
          "new_text": "dinary_create_from_constructor<Object>(vm, new_target, &Intrinsics::object_prototype, ConstructWithPrototypeTag::Tag));",
          "old_line_content": "",
          "new_line_content": "        this_argument = TRY(ordinary_create_from_constructor<Object>(vm, new_target, &Intrinsics::object_prototype, ConstructWithPrototypeTag::Tag));",
          "content_same": false
        },
        {
          "line": 451,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "local_variables_names.size());",
          "old_line_content": "    // 4. Let calleeContext be PrepareForOrdinaryCall(F, newTarget).",
          "new_line_content": "    callee_context->locals.resize(m_local_variables_names.size());",
          "content_same": false
        },
        {
          "line": 454,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "guments_list.size());",
          "old_line_content": "",
          "new_line_content": "    callee_context->arguments.append(arguments_list.data(), arguments_list.size());",
          "content_same": false
        },
        {
          "line": 455,
          "old_api": null,
          "new_api": "bytecode_interpreter",
          "old_text": null,
          "new_text": ".bytecode_interpreter().instruction_stream_iterator();\n",
          "old_line_content": "    // 5. Assert: calleeContext is now the running execution context.",
          "new_line_content": "    callee_context->instruction_stream_iterator = vm.bytecode_interpreter().instruction_stream_iterator();",
          "content_same": false
        },
        {
          "line": 966,
          "old_api": null,
          "new_api": "urrent_realm",
          "old_text": null,
          "new_text": "urrent_realm();\n  ",
          "old_line_content": "    // 6. Set the ScriptOrModule of calleeContext to F.[[ScriptOrModule]].",
          "new_line_content": "        callee_realm = vm.current_realm();",
          "content_same": false
        },
        {
          "line": 967,
          "old_api": null,
          "new_api": "FY",
          "old_text": null,
          "new_text": "FY(callee_realm);\n\n ",
          "old_line_content": "    callee_context.script_or_module = m_script_or_module;",
          "new_line_content": "    VERIFY(callee_realm);",
          "content_same": false
        },
        {
          "line": 459,
          "old_api": null,
          "new_api": "epare_for_ordinary_call",
          "old_text": null,
          "new_text": "epare_for_ordinary_call(*callee_context, &new_target));",
          "old_line_content": "    if (kind == ConstructorKind::Base) {",
          "new_line_content": "    TRY(prepare_for_ordinary_call(*callee_context, &new_target));",
          "content_same": false
        },
        {
          "line": 462,
          "old_api": null,
          "new_api": "running_execution_context",
          "old_text": null,
          "new_text": ".running_execution_context() =",
          "old_line_content": "",
          "new_line_content": "    VERIFY(&vm.running_execution_context() == callee_context);",
          "content_same": false
        },
        {
          "line": 976,
          "old_api": null,
          "new_api": "function_environment",
          "old_text": null,
          "new_text": "function_environment(*this, new_target);\n  ",
          "old_line_content": "    // 9. Set the VariableEnvironment of calleeContext to localEnv.",
          "new_line_content": "    auto local_environment = new_function_environment(*this, new_target);",
          "content_same": false
        },
        {
          "line": 977,
          "old_api": null,
          "new_api": "ensure_capacity",
          "old_text": null,
          "new_text": "l_environment->ensure_capacity(m_function_environment_bindings_count);\n\n ",
          "old_line_content": "    callee_context.variable_environment = local_environment;",
          "new_line_content": "    local_environment->ensure_capacity(m_function_environment_bindings_count);",
          "content_same": false
        },
        {
          "line": 470,
          "old_api": null,
          "new_api": "initialize_instance_elements",
          "old_text": null,
          "new_text": "is_argument->initialize_instance_elements(*this);\n",
          "old_line_content": "",
          "new_line_content": "        auto initialize_result = this_argument->initialize_instance_elements(*this);",
          "content_same": false
        },
        {
          "line": 473,
          "old_api": null,
          "new_api": "is_throw_completion",
          "old_text": null,
          "new_text": "itialize_result.is_throw_completion()) ",
          "old_line_content": "        }",
          "new_line_content": "        if (initialize_result.is_throw_completion()) {",
          "content_same": false
        },
        {
          "line": 475,
          "old_api": null,
          "new_api": "pop_execution_context",
          "old_text": null,
          "new_text": ".pop_execution_context();\n",
          "old_line_content": "",
          "new_line_content": "            vm.pop_execution_context();",
          "content_same": false
        },
        {
          "line": 478,
          "old_api": null,
          "new_api": "throw_completion",
          "old_text": null,
          "new_text": "itialize_result.throw_completion();\n",
          "old_line_content": "",
          "new_line_content": "            return initialize_result.throw_completion();",
          "content_same": false
        },
        {
          "line": 992,
          "old_api": null,
          "new_api": "ush_execution_context",
          "old_text": null,
          "new_text": "ush_execution_context(callee_context, {}));\n\n",
          "old_line_content": "}",
          "new_line_content": "    TRY(vm.push_execution_context(callee_context, {}));",
          "content_same": false
        },
        {
          "line": 1003,
          "old_api": null,
          "new_api": "vm",
          "old_text": null,
          "new_text": "->vm();\n\n ",
          "old_line_content": "    if (this_mode == ThisMode::Lexical)",
          "new_line_content": "    auto& vm = this->vm();",
          "content_same": false
        },
        {
          "line": 495,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "sult.value()->is_object()) ",
          "old_line_content": "",
          "new_line_content": "        if (kind == ConstructorKind::Derived && result.value()->is_object()) {",
          "content_same": false
        },
        {
          "line": 496,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "w_target.get(vm.names.prototype));",
          "old_line_content": "        // a. If Type(result.[[Value]]) is Object, return result.[[Value]].",
          "new_line_content": "            auto prototype = TRY(new_target.get(vm.names.prototype));",
          "content_same": false
        },
        {
          "line": 503,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "sult.value()->is_object())\n",
          "old_line_content": "",
          "new_line_content": "        if (result.value()->is_object())",
          "content_same": false
        },
        {
          "line": 504,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "sult.value()->as_object();\n",
          "old_line_content": "        // c. If result.[[Value]] is not undefined, throw a TypeError exception.",
          "new_line_content": "            return result.value()->as_object();",
          "content_same": false
        },
        {
          "line": 1020,
          "old_api": null,
          "new_api": "urrent_realm",
          "old_text": null,
          "new_text": "urrent_realm();\n  ",
          "old_line_content": "    Value this_value;",
          "new_line_content": "        callee_realm = vm.current_realm();",
          "content_same": false
        },
        {
          "line": 1021,
          "old_api": null,
          "new_api": "FY",
          "old_text": null,
          "new_text": "FY(callee_realm);\n\n ",
          "old_line_content": "",
          "new_line_content": "    VERIFY(callee_realm);",
          "content_same": false
        },
        {
          "line": 511,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "sult.value()->is_undefined())\n",
          "old_line_content": "        return result;",
          "new_line_content": "        if (!result.value()->is_undefined())",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1029,
          "old_api": "is_nullish",
          "new_api": null,
          "old_text": "_argument.is_nullish()) {\n",
          "new_text": null,
          "old_line_content": "        if (this_argument.is_nullish()) {",
          "new_line_content": "    if (this_mode == ThisMode::Strict) {",
          "content_same": false
        },
        {
          "line": 518,
          "old_api": "is_object",
          "new_api": null,
          "old_text": "is_binding.is_object());",
          "new_text": null,
          "old_line_content": "    VERIFY(this_binding.is_object());",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1032,
          "old_api": "global_environment",
          "new_api": null,
          "old_text": "ee_realm->global_environment();\n\n ",
          "new_text": null,
          "old_line_content": "            auto& global_env = callee_realm->global_environment();",
          "new_line_content": "    // 6. Else,",
          "content_same": false
        },
        {
          "line": 526,
          "old_api": "se::visit_edges(visitor);",
          "new_api": null,
          "old_text": "se::visit_edges(visitor);\n",
          "new_text": null,
          "old_line_content": "    Base::visit_edges(visitor);",
          "new_line_content": "    // 14. Return thisBinding.",
          "content_same": false
        },
        {
          "line": 528,
          "old_api": "visit",
          "new_api": null,
          "old_text": "sitor.visit(m_private_environment);\n",
          "new_text": null,
          "old_line_content": "    visitor.visit(m_private_environment);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": "visit",
          "new_api": null,
          "old_text": "sitor.visit(m_realm);\n",
          "new_text": null,
          "old_line_content": "    visitor.visit(m_realm);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 530,
          "old_api": "visit",
          "new_api": null,
          "old_text": "sitor.visit(m_home_object);\n",
          "new_text": null,
          "old_line_content": "    visitor.visit(m_home_object);",
          "new_line_content": "void ECMAScriptFunctionObject::visit_edges(Visitor& visitor)",
          "content_same": false
        },
        {
          "line": 1040,
          "old_api": "to_object",
          "new_api": null,
          "old_text": "_argument.to_object(vm));\n\n",
          "new_text": null,
          "old_line_content": "            this_value = MUST(this_argument.to_object(vm));",
          "new_line_content": "            // iii. Let thisValue be globalEnv.[[GlobalThisValue]].",
          "content_same": false
        },
        {
          "line": 1043,
          "old_api": "urrent_realm",
          "new_api": null,
          "old_text": "urrent_realm() == ",
          "new_text": null,
          "old_line_content": "            VERIFY(vm.current_realm() == callee_realm);",
          "new_line_content": "        // b. Else,",
          "content_same": false
        },
        {
          "line": 537,
          "old_api": "is_symbol",
          "new_api": null,
          "old_text": "operty_key_ptr->is_symbol())\n",
          "new_text": null,
          "old_line_content": "        if (auto* property_key_ptr = field.name.get_pointer<PropertyKey>(); property_key_ptr && property_key_ptr->is_symbol())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1050,
          "old_api": "bind_this_value",
          "new_api": null,
          "old_text": "fy_cast<FunctionEnvironment>(*local_env).bind_this_value(vm, this_value));\n\n",
          "new_text": null,
          "old_line_content": "    MUST(verify_cast<FunctionEnvironment>(*local_env).bind_this_value(vm, this_value));",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 542,
          "old_api": "visit",
          "new_api": null,
          "old_text": "sitor.visit(private_element.value);\n",
          "new_text": null,
          "old_line_content": "        visitor.visit(private_element.value);",
          "new_line_content": "    for (auto& field : m_fields) {",
          "content_same": false
        },
        {
          "line": 547,
          "old_api": "visit",
          "new_api": null,
          "old_text": "sitor.visit(script_or_module);\n",
          "new_text": null,
          "old_line_content": "            visitor.visit(script_or_module);",
          "new_line_content": "    for (auto& private_element : m_private_methods)",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": "unning_execution_context",
          "new_api": null,
          "old_text": "unning_execution_context();\n\n ",
          "new_text": null,
          "old_line_content": "    auto& running_context = vm.running_execution_context();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": "copy",
          "new_api": null,
          "old_text": "ing_context.copy();\n\n ",
          "new_text": null,
          "old_line_content": "    auto async_context = running_context.copy();",
          "new_line_content": "void async_function_start(VM& vm, PromiseCapability const& promise_capability, T const& async_function_body)",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": "c_block_start",
          "new_api": null,
          "old_text": "c_block_start(vm, async_function_body, promise_capability, *async_context);\n\n ",
          "new_text": null,
          "old_line_content": "    async_block_start(vm, async_function_body, promise_capability, *async_context);",
          "new_line_content": "    // 2. Let asyncContext be a copy of runningContext.",
          "content_same": false
        },
        {
          "line": 563,
          "old_api": "vm",
          "new_api": null,
          "old_text": "is->vm();\n",
          "new_text": null,
          "old_line_content": "    auto& vm = this->vm();",
          "new_line_content": "    // 2. Return unused.",
          "content_same": false
        },
        {
          "line": 564,
          "old_api": "current_realm",
          "new_api": null,
          "old_text": ".current_realm();\n",
          "new_text": null,
          "old_line_content": "    auto& realm = *vm.current_realm();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 567,
          "old_api": "running_execution_context",
          "new_api": null,
          "old_text": ".running_execution_context();\n",
          "new_text": null,
          "old_line_content": "    auto& callee_context = vm.running_execution_context();",
          "new_line_content": "ThrowCompletionOr<void> ECMAScriptFunctionObject::function_declaration_instantiation()",
          "content_same": false
        },
        {
          "line": 1081,
          "old_api": "urrent_realm",
          "new_api": null,
          "old_text": "urrent_realm();\n\n ",
          "new_text": null,
          "old_line_content": "    auto& realm = *vm.current_realm();",
          "new_line_content": "// 1.2.1.1 AsyncBlockStart ( promiseCapability, asyncBody, asyncContext ), https://tc39.es/proposal-array-from-async/#sec-asyncblockstart",
          "content_same": false
        },
        {
          "line": 571,
          "old_api": "<ScopeNode>(*m_ecmascript_code))",
          "new_api": null,
          "old_text": "<ScopeNode>(*m_ecmascript_code))\n",
          "new_text": null,
          "old_line_content": "    if (is<ScopeNode>(*m_ecmascript_code))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 572,
          "old_api": "ptr",
          "new_api": null,
          "old_text": "ecmascript_code.ptr());",
          "new_text": null,
          "old_line_content": "        scope_body = static_cast<ScopeNode const*>(m_ecmascript_code.ptr());",
          "new_line_content": "    // 1. Let calleeContext be the running execution context.",
          "content_same": false
        },
        {
          "line": 1086,
          "old_api": "unning_execution_context",
          "new_api": null,
          "old_text": "unning_execution_context();\n\n ",
          "new_text": null,
          "old_line_content": "    auto& running_context = vm.running_execution_context();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1089,
          "old_api": "is_error",
          "new_api": null,
          "old_text": "veFunction::create(realm, \"\", [&async_body, &promise_capability, &async_context](auto& vm) -> ThrowCompletionOr<Value> {\n        Completion result;\n\n        // a. If asyncBody is a Parse Node, then\n        if constexpr (!IsCallableWithArguments<T, Completion>) {\n            // a. Let result be the result of evaluating asyncBody.\n            // FIXME: Cache this executable somewhere.\n            auto maybe_executable = Bytecode::compile(vm, async_body, FunctionKind::Async, \"AsyncBlockStart\"sv);\n            if (maybe_executable.is_error())\n                result = maybe_executable.release_error();\n            else\n                result = vm.bytecode_interpreter().run_and_return_frame(*maybe_executable.value(), nullptr).value;\n        }\n        // b. Else,\n        else {\n            // i. Assert: asyncBody is an Abstract Closure with no parameters.\n            static_assert(IsCallableWithArguments<T, Completion>);\n\n            // ii. Let result be asyncBody().\n            result = async_body();\n        }\n\n        // c. Assert: If we return here, the async function either threw an exception or performed an implicit or explicit return; all awaiting is done.\n\n        // d. Remove asyncContext from the execution context stack and restore the execution context that is at the top of the execution context stack as the running execution context.\n        vm.pop_execution_context();\n\n        // NOTE: This does not work for Array.fromAsync, likely due to conflicts between that proposal and Explicit Resource Management proposal.\n        if constexpr (!IsCallableWithArguments<T, Completion>) {\n            // e. Let env be asyncContext's LexicalEnvironment.\n            auto env = async_context.lexical_environment;\n\n            // f. Set result to DisposeResources(env, result).\n            result = dispose_resources(vm, verify_cast<DeclarativeEnvironment>(env.ptr()), result);\n        } else {\n            (void)async_context;\n        }\n\n        // g. If result.[[Type]] is normal, then\n        if (result.type() == Completion::Type::Normal) {\n            // i. Perform ! Call(promiseCapability.[[Resolve]], undefined, « undefined »).\n            MUST(call(vm, *promise_capability.resolve(), js_undefined(), js_undefined()));\n        }\n        // h. Else if result.[[Type]] is return, then\n        else if (result.type() == Completion::Type::Return) {\n            // i. Perform ! Call(promiseCapability.[[Resolve]], undefined, « result.[[Value]] »).\n            MUST(call(vm, *promise_capability.resolve(), js_undefined(), *result.value()));\n        }\n        // i. Else,\n        else {\n            // i. Assert: result.[[Type]] is throw.\n            VERIFY(result.type() == Completion::Type::Throw);\n\n            // ii. Perform ! Call(promiseCapability.[[Reject]], undefined, « result.[[Value]] »).\n            MUST(call(vm, *promise_capability.reject(), js_undefined(), *result.value()));\n        }\n        // j. Return unused.\n        // NOTE: We don't support returning an empty/optional/unused value here.\n        return js_undefined();\n    });\n\n    // ",
          "new_text": null,
          "old_line_content": "    auto execution_steps = NativeFunction::create(realm, \"\", [&async_body, &promise_capability, &async_context](auto& vm) -> ThrowCompletionOr<Value> {",
          "new_line_content": "    // 1. Assert: promiseCapability is a PromiseCapability Record.",
          "content_same": false
        },
        {
          "line": 581,
          "old_api": "s_simple_parameter_list",
          "new_api": null,
          "old_text": "s_simple_parameter_list();\n",
          "new_text": null,
          "old_line_content": "    bool const simple_parameter_list = has_simple_parameter_list();",
          "new_line_content": "    //       3. Let strict be func.[[Strict]].",
          "content_same": false
        },
        {
          "line": 1096,
          "old_api": "code::compile(vm, async_body, FunctionKind::Async, \"AsyncBlockStart\"sv);",
          "new_api": null,
          "old_text": "code::compile(vm, async_body, FunctionKind::Async, \"AsyncBlockStart\"sv);\n  ",
          "new_text": null,
          "old_line_content": "            auto maybe_executable = Bytecode::compile(vm, async_body, FunctionKind::Async, \"AsyncBlockStart\"sv);",
          "new_line_content": "        Completion result;",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": "is_error",
          "new_api": null,
          "old_text": "e_executable.is_error())\n  ",
          "new_text": null,
          "old_line_content": "            if (maybe_executable.is_error())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1098,
          "old_api": "release_error",
          "new_api": null,
          "old_text": "e_executable.release_error();\n  ",
          "new_text": null,
          "old_line_content": "                result = maybe_executable.release_error();",
          "new_line_content": "        // a. If asyncBody is a Parse Node, then",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": "value",
          "new_api": null,
          "old_text": "e_executable.value(), nu",
          "new_text": null,
          "old_line_content": "                result = vm.bytecode_interpreter().run_and_return_frame(*maybe_executable.value(), nullptr).value;",
          "new_line_content": "            // a. Let result be the result of evaluating asyncBody.",
          "content_same": false
        },
        {
          "line": 1108,
          "old_api": "c_body",
          "new_api": null,
          "old_text": "c_body();\n  ",
          "new_text": null,
          "old_line_content": "            result = async_body();",
          "new_line_content": "        // b. Else,",
          "content_same": false
        },
        {
          "line": 1122,
          "old_api": "ptr",
          "new_api": null,
          "old_text": "ptr()), r",
          "new_text": null,
          "old_line_content": "            result = dispose_resources(vm, verify_cast<DeclarativeEnvironment>(env.ptr()), result);",
          "new_line_content": "        // NOTE: This does not work for Array.fromAsync, likely due to conflicts between that proposal and Explicit Resource Management proposal.",
          "content_same": false
        },
        {
          "line": 612,
          "old_api": "w_declarative_environment",
          "new_api": null,
          "old_text": "w_declarative_environment(*callee_env);\n",
          "new_text": null,
          "old_line_content": "        environment = new_declarative_environment(*callee_env);",
          "new_line_content": "        // a. NOTE: A separate Environment Record is needed to ensure that bindings created by direct eval calls in the formal parameter list are outside the environment where parameters are declared.",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": "RIFY",
          "new_api": null,
          "old_text": "RIFY(callee_context.variable_environment == callee_context.lexical_environment);\n",
          "new_text": null,
          "old_line_content": "        VERIFY(callee_context.variable_environment == callee_context.lexical_environment);",
          "new_line_content": "        auto callee_env = callee_context.lexical_environment;",
          "content_same": false
        },
        {
          "line": 1130,
          "old_api": "efined",
          "new_api": null,
          "old_text": "efined()));\n  ",
          "new_text": null,
          "old_line_content": "            MUST(call(vm, *promise_capability.resolve(), js_undefined(), js_undefined()));",
          "new_line_content": "            (void)async_context;",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": "type",
          "new_api": null,
          "old_text": ".type() == Co",
          "new_text": null,
          "old_line_content": "        else if (result.type() == Completion::Type::Return) {",
          "new_line_content": "        // g. If result.[[Type]] is normal, then",
          "content_same": false
        },
        {
          "line": 1135,
          "old_api": "alue",
          "new_api": null,
          "old_text": "alue()));\n    ",
          "new_text": null,
          "old_line_content": "            MUST(call(vm, *promise_capability.resolve(), js_undefined(), *result.value()));",
          "new_line_content": "            // i. Perform ! Call(promiseCapability.[[Resolve]], undefined, « undefined »).",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": "ype",
          "new_api": null,
          "old_text": "ype() == Comp",
          "new_text": null,
          "old_line_content": "            VERIFY(result.type() == Completion::Type::Throw);",
          "new_line_content": "            // i. Perform ! Call(promiseCapability.[[Resolve]], undefined, « result.[[Value]] »).",
          "content_same": false
        },
        {
          "line": 1143,
          "old_api": "ue",
          "new_api": null,
          "old_text": "ue()));\n      ",
          "new_text": null,
          "old_line_content": "            MUST(call(vm, *promise_capability.reject(), js_undefined(), *result.value()));",
          "new_line_content": "        // i. Else,",
          "content_same": false
        },
        {
          "line": 634,
          "old_api": "create_mutable_binding",
          "new_api": null,
          "old_text": "vironment->create_mutable_binding(vm, parameter_name.key, false));",
          "new_text": null,
          "old_line_content": "        MUST(environment->create_mutable_binding(vm, parameter_name.key, false));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": "ed",
          "new_api": null,
          "old_text": "ed();\n    });\n",
          "new_text": null,
          "old_line_content": "        return js_undefined();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 126,
          "old_api": "visit",
          "new_api": null,
          "old_text": "parameter.binding.visit(\n            [&](Identifier const& identifier) {\n                if (m_parameter_names.set(identifier.string(), identifier.is_local() ? ParameterIsLocal::Yes : ParameterIsLocal::No) != AK::HashSetResult::InsertedNewEntry)\n                    m_has_duplicates = true;\n            },\n            [&](NonnullRefPtr<BindingPattern const> const& pattern) {\n                if (pattern->contains_expression())\n                    m_has_parameter_expressions = true;\n\n                // NOTE: Nothing in the callback throws an exception.\n                MUST(pattern->for_each_bound_identifier([&](auto& identifier) {\n                    if (m_parameter_names.set(identifier.string(), identifier.is_local() ? ParameterIsLocal::Yes : ParameterIsLocal::No) != AK::HashSetResult::InsertedNewEntry)\n                        m_has_duplicates = true;\n                }));\n            })",
          "new_text": null,
          "old_line_content": "        parameter.binding.visit(",
          "new_line_content": "            m_has_parameter_expressions = true;",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": "ecution_context",
          "new_api": null,
          "old_text": "ecution_context(async_context, {});\n    if (",
          "new_text": null,
          "old_line_content": "    auto push_result = vm.push_execution_context(async_context, {});",
          "new_line_content": "        // j. Return unused.",
          "content_same": false
        },
        {
          "line": 1152,
          "old_api": "is_error",
          "new_api": null,
          "old_text": "t.is_error())\n        ",
          "new_text": null,
          "old_line_content": "    if (push_result.is_error())",
          "new_line_content": "        // NOTE: We don't support returning an empty/optional/unused value here.",
          "content_same": false
        },
        {
          "line": 639,
          "old_api": "_undefined",
          "new_api": null,
          "old_text": "_undefined(), ",
          "new_text": null,
          "old_line_content": "            MUST(environment->initialize_binding(vm, parameter_name.key, js_undefined(), Environment::InitializeBindingHint::Normal));",
          "new_line_content": "        // i. Perform ! env.CreateMutableBinding(paramName, false).",
          "content_same": false
        },
        {
          "line": 1156,
          "old_api": "ed",
          "new_api": null,
          "old_text": "ed() : async_c",
          "new_text": null,
          "old_line_content": "    auto result = call(vm, *execution_steps, async_context.this_value.is_empty() ? js_undefined() : async_context.this_value);",
          "new_line_content": "    // 4. Push asyncContext onto the execution context stack; asyncContext is now the running execution context.",
          "content_same": false
        },
        {
          "line": 1159,
          "old_api": "_execution_context",
          "new_api": null,
          "old_text": "_execution_context() == &runni",
          "new_text": null,
          "old_line_content": "    VERIFY(&vm.running_execution_context() == &running_context);",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 137,
          "old_api": "is_local",
          "new_api": null,
          "old_text": "identifier.is_local()",
          "new_text": null,
          "old_line_content": "                    if (m_parameter_names.set(identifier.string(), identifier.is_local() ? ParameterIsLocal::Yes : ParameterIsLocal::No) != AK::HashSetResult::InsertedNewEntry)",
          "new_line_content": "                    m_has_parameter_expressions = true;",
          "content_same": false
        },
        {
          "line": 650,
          "old_api": "running_execution_context",
          "new_api": null,
          "old_text": ".running_execution_context().a",
          "new_text": null,
          "old_line_content": "            arguments_object = create_unmapped_arguments_object(vm, vm.running_execution_context().arguments);",
          "new_line_content": "    if (m_arguments_object_needed) {",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": "running_execution_context",
          "new_api": null,
          "old_text": ".running_execution_context().a",
          "new_text": null,
          "old_line_content": "            arguments_object = create_mapped_arguments_object(vm, *this, formal_parameters(), vm.running_execution_context().arguments, *environment);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 147,
          "old_api": "this_mode",
          "new_api": null,
          "old_text": "this_mode()",
          "new_text": null,
          "old_line_content": "    if (this_mode() == ThisMode::Lexical) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1177,
          "old_api": ";\n    auto",
          "new_api": null,
          "old_text": ";\n    auto",
          "new_text": null,
          "old_line_content": "    auto& vm = this->vm();",
          "new_line_content": "template void async_function_start(VM&, PromiseCapability const&, SafeFunction<Completion()> const& async_function_body);",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": "_realm",
          "new_api": null,
          "old_text": "_realm();\n\n    // ",
          "new_text": null,
          "old_line_content": "    auto& realm = *vm.current_realm();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 670,
          "old_api": "as_string",
          "new_api": null,
          "old_text": ".names.arguments.as_string(), ",
          "new_text": null,
          "old_line_content": "            MUST(environment->create_mutable_binding(vm, vm.names.arguments.as_string(), false));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 674,
          "old_api": "as_string",
          "new_api": null,
          "old_text": ".names.arguments.as_string(), ",
          "new_text": null,
          "old_line_content": "        MUST(environment->initialize_binding(vm, vm.names.arguments.as_string(), arguments_object, Environment::InitializeBindingHint::Normal));",
          "new_line_content": "        else {",
          "content_same": false
        },
        {
          "line": 166,
          "old_api": "set",
          "new_api": null,
          "old_text": "scope_body->for_each_var_function_declaration_in_reverse_order([&](FunctionDeclaration const& function) {\n            if (function_names.set(function.name()) == AK::HashSetResult::InsertedNewEntry)\n                m_functions_to_initialize.append(function);\n        })",
          "new_text": null,
          "old_line_content": "        MUST(scope_body->for_each_var_function_declaration_in_reverse_order([&](FunctionDeclaration const& function) {",
          "new_line_content": "    // 18. Else if hasParameterExpressions is false, then",
          "content_same": false
        },
        {
          "line": 167,
          "old_api": "name",
          "new_api": null,
          "old_text": "function.name()",
          "new_text": null,
          "old_line_content": "            if (function_names.set(function.name()) == AK::HashSetResult::InsertedNewEntry)",
          "new_line_content": "    //     a. If functionNames contains \"arguments\" or lexicalNames contains \"arguments\", then",
          "content_same": false
        },
        {
          "line": 168,
          "old_api": "append",
          "new_api": null,
          "old_text": "m_functions_to_initialize.append(function)",
          "new_text": null,
          "old_line_content": "                m_functions_to_initialize.append(function);",
          "new_line_content": "    //         i. Set argumentsObjectNeeded to false.",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": "is_null",
          "new_api": null,
          "old_text": "bytecode_executable.is_null()) {\n      ",
          "new_text": null,
          "old_line_content": "            if (parameter.bytecode_executable.is_null()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": "::formatted(\"default parameter #{} for {}\", default_parameter_index++, m_name)));",
          "new_api": null,
          "old_text": "::formatted(\"default parameter #{} for {}\", default_parameter_index++, m_name)));\n      ",
          "new_text": null,
          "old_line_content": "                auto executable = TRY(Bytecode::compile(vm, *parameter.default_value, FunctionKind::Normal, ByteString::formatted(\"default parameter #{} for {}\", default_parameter_index++, m_name)));",
          "new_line_content": "    if (!m_bytecode_executable) {",
          "content_same": false
        },
        {
          "line": 171,
          "old_api": "as_string",
          "new_api": null,
          "old_text": "vm().names.arguments.as_string()",
          "new_text": null,
          "old_line_content": "        auto const& arguments_name = vm().names.arguments.as_string();",
          "new_line_content": "        // NOTE: Nothing in the callback throws an exception.",
          "content_same": false
        },
        {
          "line": 1194,
          "old_api": "<FunctionParameter&>(parameter).bytecode_",
          "new_api": null,
          "old_text": "<FunctionParameter&>(parameter).bytecode_",
          "new_text": null,
          "old_line_content": "                const_cast<FunctionParameter&>(parameter).bytecode_executable = executable;",
          "new_line_content": "        size_t default_parameter_index = 0;",
          "content_same": false
        },
        {
          "line": 1195,
          "old_api": "table));",
          "new_api": null,
          "old_text": "table));\n       ",
          "new_text": null,
          "old_line_content": "                m_default_parameter_bytecode_executables.append(move(executable));",
          "new_line_content": "        for (auto& parameter : m_formal_parameters) {",
          "content_same": false
        },
        {
          "line": 1197,
          "old_api": "append",
          "new_api": null,
          "old_text": "parameter_bytecode_executables.append(*parameter.bytecode_executable);\n        ",
          "new_text": null,
          "old_line_content": "                m_default_parameter_bytecode_executables.append(*parameter.bytecode_executable);",
          "new_line_content": "                continue;",
          "content_same": false
        },
        {
          "line": 178,
          "old_api": "string",
          "new_api": null,
          "old_text": "scope_body->for_each_lexically_declared_identifier([&](auto const& identifier) {\n                if (identifier.string() == arguments_name)\n                    m_arguments_object_needed = false;\n            })",
          "new_text": null,
          "old_line_content": "            MUST(scope_body->for_each_lexically_declared_identifier([&](auto const& identifier) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": "unning_execution_context",
          "new_api": null,
          "old_text": "unning_execution_context().arg",
          "new_text": null,
          "old_line_content": "    auto const& execution_context_arguments = vm.running_execution_context().arguments;",
          "new_line_content": "    // 24. Let iteratorRecord be CreateListIteratorRecord(argumentsList).",
          "content_same": false
        },
        {
          "line": 1202,
          "old_api": "wCompletionOr<void> {\n        if (is_module_wrapper())\n            return {};\n        return function_declaration_instantiation();\n    }();\n\n    if",
          "new_api": null,
          "old_text": "wCompletionOr<void> {\n        if (is_module_wrapper())\n            return {};\n        return function_declaration_instantiation();\n    }();\n\n    if ",
          "new_text": null,
          "old_line_content": "    auto declaration_result = [&]() -> ThrowCompletionOr<void> {",
          "new_line_content": "            } else {",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": "eclaration_instantiation",
          "new_api": null,
          "old_text": "eclaration_instantiation();\n    }();",
          "new_text": null,
          "old_line_content": "        return function_declaration_instantiation();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 694,
          "old_api": "size",
          "new_api": null,
          "old_text": "rmal_parameters.size(); ++",
          "new_text": null,
          "old_line_content": "    for (size_t i = 0; i < m_formal_parameters.size(); ++i) {",
          "new_line_content": "    // 26. Else,",
          "content_same": false
        },
        {
          "line": 1210,
          "old_api": "release_error",
          "new_api": null,
          "old_text": "n_result.release_error();\n    }\n\n ",
          "new_text": null,
          "old_line_content": "            return declaration_result.release_error();",
          "new_line_content": "            return {};",
          "content_same": false
        },
        {
          "line": 699,
          "old_api": "visit",
          "new_api": null,
          "old_text": "meter.binding.visit(\n            [&](auto const& param) -> ThrowCompletionOr<void> {\n                Value argument_value;\n                if (parameter.is_rest) {\n                    auto array = MUST(Array::create(realm, 0));\n                    for (size_t rest_index = i; rest_index < execution_context_arguments.size(); ++rest_index)\n                        array->indexed_properties().append(execution_context_arguments[rest_index]);\n                    argument_value = array;\n                } else if (i < execution_context_arguments.size() && !execution_context_arguments[i].is_undefined()) {\n                    argument_value = execution_context_arguments[i];\n                } else if (parameter.default_value) {\n                    auto value_and_frame = vm.bytecode_interpreter().run_and_return_frame(*m_default_parameter_bytecode_executables[default_parameter_index - 1], nullptr);\n                    if (value_and_frame.value.is_error())\n                        return value_and_frame.value.release_error();\n                    // Resulting value is in the accumulator.\n                    argument_value = value_and_frame.frame->registers()[0];\n                } else {\n                    argument_value = js_undefined();\n                }\n\n                Environment* used_environment = m_has_duplicates ? nullptr : environment;\n\n                if constexpr (IsSame<NonnullRefPtr<Identifier const> const&, decltype(param)>) {\n                    if (param->is_local()) {\n                        callee_context.locals[param->local_variable_index()] = argument_value;\n                        return {};\n                    }\n                    Reference reference = TRY(vm.resolve_binding(param->string(), used_environment));\n                    // Here the difference from hasDuplicates is important\n                    if (m_has_duplicates)\n                        return reference.put_value(vm, argument_value);\n                    return reference.initialize_referenced_binding(vm, argument_value);\n                }\n                if constexpr (IsSame<NonnullRefPtr<BindingPattern const> const&, decltype(param)>) {\n                    // Here the difference from hasDuplicates is important\n                    return vm.binding_initialization(param, argument_value, used_environment);\n                }\n            }));\n ",
          "new_text": null,
          "old_line_content": "        TRY(parameter.binding.visit(",
          "new_line_content": "    size_t default_parameter_index = 0;",
          "content_same": false
        },
        {
          "line": 1214,
          "old_api": "bytecode_executable",
          "new_api": null,
          "old_text": "pt_code->bytecode_executable())\n        ",
          "new_text": null,
          "old_line_content": "        if (!m_ecmascript_code->bytecode_executable())",
          "new_line_content": "    if (m_kind == FunctionKind::Normal || m_kind == FunctionKind::Generator || m_kind == FunctionKind::AsyncGenerator) {",
          "content_same": false
        },
        {
          "line": 703,
          "old_api": "y::create(realm, 0));",
          "new_api": null,
          "old_text": "y::create(realm, 0));\n ",
          "new_text": null,
          "old_line_content": "                    auto array = MUST(Array::create(realm, 0));",
          "new_line_content": "            ++default_parameter_index;",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": "size",
          "new_api": null,
          "old_text": "ution_context_arguments.size(); ++",
          "new_text": null,
          "old_line_content": "                    for (size_t rest_index = i; rest_index < execution_context_arguments.size(); ++rest_index)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 707,
          "old_api": "is_undefined",
          "new_api": null,
          "old_text": "ution_context_arguments[i].is_undefined()) {\n",
          "new_text": null,
          "old_line_content": "                } else if (i < execution_context_arguments.size() && !execution_context_arguments[i].is_undefined()) {",
          "new_line_content": "                Value argument_value;",
          "content_same": false
        },
        {
          "line": 1223,
          "old_api": "promise",
          "new_api": null,
          "old_text": "pability->promise(), {} };\n  ",
          "new_text": null,
          "old_line_content": "            return Completion { Completion::Type::Return, promise_capability->promise(), {} };",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 712,
          "old_api": "release_error",
          "new_api": null,
          "old_text": "e_and_frame.value.release_error();\n  ",
          "new_text": null,
          "old_line_content": "                        return value_and_frame.value.release_error();",
          "new_line_content": "                    argument_value = array;",
          "content_same": false
        },
        {
          "line": 714,
          "old_api": "registers",
          "new_api": null,
          "old_text": "e_and_frame.frame->registers()[0];",
          "new_text": null,
          "old_line_content": "                    argument_value = value_and_frame.frame->registers()[0];",
          "new_line_content": "                    argument_value = execution_context_arguments[i];",
          "content_same": false
        },
        {
          "line": 205,
          "old_api": "size",
          "new_api": null,
          "old_text": "m_parameter_names.size()",
          "new_text": null,
          "old_line_content": "    *environment_size += m_parameter_names.size();",
          "new_line_content": "        // a. NOTE: A separate Environment Record is needed to ensure that bindings created by direct eval calls in the formal parameter list are outside the environment where parameters are declared.",
          "content_same": false
        },
        {
          "line": 1230,
          "old_api": "is_error",
          "new_api": null,
          "old_text": "_frame.value.is_error())\n        ",
          "new_text": null,
          "old_line_content": "    if (result_and_frame.value.is_error())",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": "release_error",
          "new_api": null,
          "old_text": "_frame.value.release_error();\n\n    aut",
          "new_text": null,
          "old_line_content": "        return result_and_frame.value.release_error();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 723,
          "old_api": "local_variable_index",
          "new_api": null,
          "old_text": "m->local_variable_index()] = ",
          "new_text": null,
          "old_line_content": "                        callee_context.locals[param->local_variable_index()] = argument_value;",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 213,
          "old_api": "as_string",
          "new_api": null,
          "old_text": "().names.arguments.as_string(), ",
          "new_text": null,
          "old_line_content": "        parameter_bindings.set(vm().names.arguments.as_string(), ParameterIsLocal::No);",
          "new_line_content": "    HashMap<DeprecatedFlyString, ParameterIsLocal> parameter_bindings;",
          "content_same": false
        },
        {
          "line": 726,
          "old_api": "string",
          "new_api": null,
          "old_text": "m->string(), us",
          "new_text": null,
          "old_line_content": "                    Reference reference = TRY(vm.resolve_binding(param->string(), used_environment));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1238,
          "old_api": "ed",
          "new_api": null,
          "old_text": "ed()), {} };\n\n",
          "new_text": null,
          "old_line_content": "        return { Completion::Type::Return, result.value_or(js_undefined()), {} };",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1241,
          "old_api": "release_nonnull",
          "new_api": null,
          "old_text": "_frame.frame.release_nonnull()));\n      ",
          "new_text": null,
          "old_line_content": "        auto async_generator_object = TRY(AsyncGenerator::create(realm, result, this, vm.running_execution_context().copy(), result_and_frame.frame.release_nonnull()));",
          "new_line_content": "    // NOTE: Running the bytecode should eventually return a completion.",
          "content_same": false
        },
        {
          "line": 730,
          "old_api": "initialize_referenced_binding",
          "new_api": null,
          "old_text": "rence.initialize_referenced_binding(vm, argument_value);\n  ",
          "new_text": null,
          "old_line_content": "                    return reference.initialize_referenced_binding(vm, argument_value);",
          "new_line_content": "                        return {};",
          "content_same": false
        },
        {
          "line": 1245,
          "old_api": "release_nonnull",
          "new_api": null,
          "old_text": "_frame.frame.release_nonnull()));\n\n    /",
          "new_text": null,
          "old_line_content": "    auto generator_object = TRY(GeneratorObject::create(realm, result, this, vm.running_execution_context().copy(), result_and_frame.frame.release_nonnull()));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 734,
          "old_api": "inding_initialization",
          "new_api": null,
          "old_text": "inding_initialization(param, argument_value, used_environment);\n  ",
          "new_text": null,
          "old_line_content": "                    return vm.binding_initialization(param, argument_value, used_environment);",
          "new_line_content": "                    if (m_has_duplicates)",
          "content_same": false
        },
        {
          "line": 1250,
          "old_api": "ionDriverWrapper::create(realm, generator_object), {} };",
          "new_api": null,
          "old_text": "ionDriverWrapper::create(realm, generator_object), {} };\n\n ",
          "new_text": null,
          "old_line_content": "        return { Completion::Type::Return, AsyncFunctionDriverWrapper::create(realm, generator_object), {} };",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1252,
          "old_api": "ind == FunctionKind::Generator);\n    retu",
          "new_api": null,
          "old_text": "ind == FunctionKind::Generator);\n    retu",
          "new_text": null,
          "old_line_content": "    VERIFY(m_kind == FunctionKind::Generator);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 232,
          "old_api": "set",
          "new_api": null,
          "old_text": "ope_body->for_each_var_declared_identifier([&](auto const& id) {\n                // i. If instantiatedVarNames does not contain n, then\n                if (instantiated_var_names.set(id.string(), id.is_local() ? ParameterIsLocal::Yes : ParameterIsLocal::No) == AK::HashSetResult::InsertedNewEntry) {\n                    // 1. Append n to instantiatedVarNames.\n                    // Following steps will be executed in function_declaration_instantiation:\n                    // 2. Perform ! env.CreateMutableBinding(n, false).\n                    // 3. Perform ! env.InitializeBinding(n, undefined).\n                    m_var_names_to_initialize_binding.append({\n                        .identifier = id,\n                        .parameter_binding = parameter_bindings.contains(id.string()),\n                        .function_name = function_names.contains(id.string()),\n                    });\n\n                    if (!id.is_local())\n                        (*environment_size)++;\n                }\n            }));",
          "new_text": null,
          "old_line_content": "            MUST(scope_body->for_each_var_declared_identifier([&](auto const& id) {",
          "new_line_content": "    if (!m_has_parameter_expressions) {",
          "content_same": false
        },
        {
          "line": 234,
          "old_api": "is_local",
          "new_api": null,
          "old_text": ".is_local() ?",
          "new_text": null,
          "old_line_content": "                if (instantiated_var_names.set(id.string(), id.is_local() ? ParameterIsLocal::Yes : ParameterIsLocal::No) == AK::HashSetResult::InsertedNewEntry) {",
          "new_line_content": "        instantiated_var_names = parameter_bindings;",
          "content_same": false
        },
        {
          "line": 1259,
          "old_api": ";\n    m_na",
          "new_api": null,
          "old_text": ";\n    m_na",
          "new_text": null,
          "old_line_content": "    auto& vm = this->vm();",
          "new_line_content": "    return { Completion::Type::Return, generator_object, {} };",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": "tring::create(vm, m_name);\n    MUST",
          "new_api": null,
          "old_text": "tring::create(vm, m_name);\n    MUST",
          "new_text": null,
          "old_line_content": "    m_name_string = PrimitiveString::create(vm, m_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1262,
          "old_api": "perty_or_throw",
          "new_api": null,
          "old_text": "perty_or_throw(vm.names.name, { .value = m_name_string, .writable = false, .enumerable = false, .configurable = true }));\n}\n}\n",
          "new_text": null,
          "old_line_content": "    MUST(define_property_or_throw(vm.names.name, { .value = m_name_string, .writable = false, .enumerable = false, .configurable = true }));",
          "new_line_content": "void ECMAScriptFunctionObject::set_name(DeprecatedFlyString const& name)",
          "content_same": false
        },
        {
          "line": 239,
          "old_api": "append",
          "new_api": null,
          "old_text": "var_names_to_initialize_binding.append({\n                        .identifier = id,\n                        .parameter_binding = parameter_bindings.contains(id.string()),\n                        .function_name = function_names.contains(id.string()),\n                    });\n",
          "new_text": null,
          "old_line_content": "                    m_var_names_to_initialize_binding.append({",
          "new_line_content": "                // i. If instantiatedVarNames does not contain n, then",
          "content_same": false
        },
        {
          "line": 241,
          "old_api": "string",
          "new_api": null,
          "old_text": ".string()),",
          "new_text": null,
          "old_line_content": "                        .parameter_binding = parameter_bindings.contains(id.string()),",
          "new_line_content": "                    // 1. Append n to instantiatedVarNames.",
          "content_same": false
        },
        {
          "line": 242,
          "old_api": "string",
          "new_api": null,
          "old_text": ".string()),",
          "new_text": null,
          "old_line_content": "                        .function_name = function_names.contains(id.string()),",
          "new_line_content": "                    // Following steps will be executed in function_declaration_instantiation:",
          "content_same": false
        },
        {
          "line": 758,
          "old_api": "s_local",
          "new_api": null,
          "old_text": "s_local()) {\n",
          "new_text": null,
          "old_line_content": "                if (id.is_local()) {",
          "new_line_content": "            // c. For each element n of varNames, do",
          "content_same": false
        },
        {
          "line": 759,
          "old_api": "ndefined",
          "new_api": null,
          "old_text": "ndefined();\n  ",
          "new_text": null,
          "old_line_content": "                    callee_context.locals[id.local_variable_index()] = js_undefined();",
          "new_line_content": "            for (auto const& variable_to_initialize : m_var_names_to_initialize_binding) {",
          "content_same": false
        },
        {
          "line": 763,
          "old_api": "tring",
          "new_api": null,
          "old_text": "tring(), fa",
          "new_text": null,
          "old_line_content": "                    MUST(environment->create_mutable_binding(vm, id.string(), false));",
          "new_line_content": "                //       1. Append n to instantiatedVarNames.",
          "content_same": false
        },
        {
          "line": 264,
          "old_api": "CreateMutableBinding",
          "new_api": null,
          "old_text": "ope_body->for_each_var_declared_identifier([&](auto const& id) {\n                // 1. Append n to instantiatedVarNames.\n                // Following steps will be executed in function_declaration_instantiation:\n                // 2. Perform ! env.CreateMutableBinding(n, false).\n                // 3. Perform ! env.InitializeBinding(n, undefined).\n                if (instantiated_var_names.set(id.string(), id.is_local() ? ParameterIsLocal::Yes : ParameterIsLocal::No) == AK::HashSetResult::InsertedNewEntry) {\n                    m_var_names_to_initialize_binding.append({\n                        .identifier = id,\n                        .parameter_binding = parameter_bindings.contains(id.string()),\n                        .function_name = function_names.contains(id.string()),\n                    });\n\n                    if (!id.is_local())\n                        (*var_environment_size)++;\n                }\n            }));",
          "new_text": null,
          "old_line_content": "            MUST(scope_body->for_each_var_declared_identifier([&](auto const& id) {",
          "new_line_content": "        var_environment_size = &m_var_environment_bindings_count;",
          "content_same": false
        },
        {
          "line": 777,
          "old_api": "declarative_environment",
          "new_api": null,
          "old_text": "declarative_environment(*environment);\n  ",
          "new_text": null,
          "old_line_content": "        var_environment = new_declarative_environment(*environment);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 778,
          "old_api": "ptr",
          "new_api": null,
          "old_text": "environment.ptr())->e",
          "new_text": null,
          "old_line_content": "        static_cast<DeclarativeEnvironment*>(var_environment.ptr())->ensure_capacity(m_var_environment_bindings_count);",
          "new_line_content": "    // 28. Else,",
          "content_same": false
        },
        {
          "line": 269,
          "old_api": "is_local",
          "new_api": null,
          "old_text": ".is_local() ?",
          "new_text": null,
          "old_line_content": "                if (instantiated_var_names.set(id.string(), id.is_local() ? ParameterIsLocal::Yes : ParameterIsLocal::No) == AK::HashSetResult::InsertedNewEntry) {",
          "new_line_content": "        if (scope_body) {",
          "content_same": false
        },
        {
          "line": 272,
          "old_api": "string",
          "new_api": null,
          "old_text": ".string()),",
          "new_text": null,
          "old_line_content": "                        .parameter_binding = parameter_bindings.contains(id.string()),",
          "new_line_content": "                // Following steps will be executed in function_declaration_instantiation:",
          "content_same": false
        },
        {
          "line": 273,
          "old_api": "string",
          "new_api": null,
          "old_text": ".string()),",
          "new_text": null,
          "old_line_content": "                        .function_name = function_names.contains(id.string()),",
          "new_line_content": "                // 2. Perform ! env.CreateMutableBinding(n, false).",
          "content_same": false
        },
        {
          "line": 286,
          "old_api": "name",
          "new_api": null,
          "old_text": "ope_body->for_each_function_hoistable_with_annexB_extension([&](FunctionDeclaration& function_declaration) {\n            auto function_name = function_declaration.name();\n            if (parameter_bindings.contains(function_name))\n                return;\n\n            if (!instantiated_var_names.contains(function_name) && function_name != vm().names.arguments.as_string()) {\n                m_function_names_to_initialize_binding.append(function_name);\n                instantiated_var_names.set(function_name, ParameterIsLocal::No);\n                (*var_environment_size)++;\n            }\n\n            function_declaration.set_should_do_additional_annexB_steps();\n        }));",
          "new_text": null,
          "old_line_content": "        MUST(scope_body->for_each_function_hoistable_with_annexB_extension([&](FunctionDeclaration& function_declaration) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 287,
          "old_api": "name",
          "new_api": null,
          "old_text": "nction_declaration.name();\n",
          "new_text": null,
          "old_line_content": "            auto function_name = function_declaration.name();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 288,
          "old_api": "contains",
          "new_api": null,
          "old_text": "rameter_bindings.contains(function_name))\n",
          "new_text": null,
          "old_line_content": "            if (parameter_bindings.contains(function_name))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 800,
          "old_api": "s_local",
          "new_api": null,
          "old_text": "s_local())\n  ",
          "new_text": null,
          "old_line_content": "                if (!id.is_local())",
          "new_line_content": "                // NOTE: Following steps were executed in ECMAScriptFunctionObject constructor.",
          "content_same": false
        },
        {
          "line": 801,
          "old_api": "tring",
          "new_api": null,
          "old_text": "tring(), fa",
          "new_text": null,
          "old_line_content": "                    MUST(var_environment->create_mutable_binding(vm, id.string(), false));",
          "new_line_content": "                //       i. If instantiatedVarNames does not contain n, then",
          "content_same": false
        },
        {
          "line": 291,
          "old_api": "as_string",
          "new_api": null,
          "old_text": "().names.arguments.as_string()) ",
          "new_text": null,
          "old_line_content": "            if (!instantiated_var_names.contains(function_name) && function_name != vm().names.arguments.as_string()) {",
          "new_line_content": "    if (!m_strict && scope_body) {",
          "content_same": false
        },
        {
          "line": 808,
          "old_api": "ndefined",
          "new_api": null,
          "old_text": "ndefined();\n  ",
          "new_text": null,
          "old_line_content": "                    initial_value = js_undefined();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 813,
          "old_api": "s_local",
          "new_api": null,
          "old_text": "s_local()) {\n",
          "new_text": null,
          "old_line_content": "                    if (id.is_local()) {",
          "new_line_content": "                    // a. Let initialValue be undefined.",
          "content_same": false
        },
        {
          "line": 816,
          "old_api": "tring",
          "new_api": null,
          "old_text": "tring(), fa",
          "new_text": null,
          "old_line_content": "                        initial_value = MUST(environment->get_binding_value(vm, id.string(), false));",
          "new_line_content": "                // 4. Else,",
          "content_same": false
        },
        {
          "line": 305,
          "old_api": "has_lexical_declarations",
          "new_api": null,
          "old_text": "ope_body->has_lexical_declarations());",
          "new_text": null,
          "old_line_content": "        bool can_elide_declarative_environment = !m_contains_direct_call_to_eval && (!scope_body || !scope_body->has_lexical_declarations());",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 821,
          "old_api": "s_local",
          "new_api": null,
          "old_text": "s_local()) {\n",
          "new_text": null,
          "old_line_content": "                if (id.is_local()) {",
          "new_line_content": "                    } else {",
          "content_same": false
        },
        {
          "line": 823,
          "old_api": "ocal_variable_index",
          "new_api": null,
          "old_text": "ocal_variable_index()] = ",
          "new_text": null,
          "old_line_content": "                    callee_context.locals[id.local_variable_index()] = initial_value;",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 825,
          "old_api": "tring",
          "new_api": null,
          "old_text": "tring(), in",
          "new_text": null,
          "old_line_content": "                    MUST(var_environment->initialize_binding(vm, id.string(), initial_value, Environment::InitializeBindingHint::Normal));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 319,
          "old_api": "is_local",
          "new_api": null,
          "old_text": "ope_body->for_each_lexically_declared_identifier([&](auto const& id) {\n            if (!id.is_local())\n                (*lex_environment_size)++;\n        }));",
          "new_text": null,
          "old_line_content": "        MUST(scope_body->for_each_lexically_declared_identifier([&](auto const& id) {",
          "new_line_content": "        // a. let lexEnv be varEnv.",
          "content_same": false
        },
        {
          "line": 320,
          "old_api": "is_local",
          "new_api": null,
          "old_text": ".is_local())\n",
          "new_text": null,
          "old_line_content": "            if (!id.is_local())",
          "new_line_content": "        // NOTE: Here we are only interested in the size of the environment.",
          "content_same": false
        },
        {
          "line": 839,
          "old_api": "create_mutable_binding",
          "new_api": null,
          "old_text": "environment->create_mutable_binding(vm, function_name, false));\n ",
          "new_text": null,
          "old_line_content": "            MUST(var_environment->create_mutable_binding(vm, function_name, false));",
          "new_line_content": "    // 29. NOTE: Annex B.3.2.1 adds additional steps at this point.",
          "content_same": false
        },
        {
          "line": 328,
          "old_api": "vm",
          "new_api": null,
          "old_text": "is->vm();\n",
          "new_text": null,
          "old_line_content": "    auto& vm = this->vm();",
          "new_line_content": "        }));",
          "content_same": false
        },
        {
          "line": 329,
          "old_api": "se::initialize(realm);",
          "new_api": null,
          "old_text": "se::initialize(realm);\n",
          "new_text": null,
          "old_line_content": "    Base::initialize(realm);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": "ndefined",
          "new_api": null,
          "old_text": "ndefined(), En",
          "new_text": null,
          "old_line_content": "            MUST(var_environment->initialize_binding(vm, function_name, js_undefined(), Environment::InitializeBindingHint::Normal));",
          "new_line_content": "    // B.3.2.1 Changes to FunctionDeclarationInstantiation, https://tc39.es/ecma262/#sec-web-compat-functiondeclarationinstantiation",
          "content_same": false
        },
        {
          "line": 336,
          "old_api": "imitiveString::create(vm, m_name);",
          "new_api": null,
          "old_text": "imitiveString::create(vm, m_name);\n",
          "new_text": null,
          "old_line_content": "    m_name_string = PrimitiveString::create(vm, m_name);",
          "new_line_content": "    // Note: The ordering of these properties must be: length, name, prototype which is the order",
          "content_same": false
        },
        {
          "line": 338,
          "old_api": "lue",
          "new_api": null,
          "old_text": "lue(m_function_length), ",
          "new_text": null,
          "old_line_content": "    MUST(define_property_or_throw(vm.names.length, { .value = Value(m_function_length), .writable = false, .enumerable = false, .configurable = true }));",
          "new_line_content": "    //       This is observable through something like: https://tc39.es/ecma262/#sec-ordinaryownpropertykeys",
          "content_same": false
        },
        {
          "line": 339,
          "old_api": "fine_property_or_throw",
          "new_api": null,
          "old_text": "fine_property_or_throw(vm.names.name, { .value = m_name_string, .writable = false, .enumerable = false, .configurable = true }));",
          "new_text": null,
          "old_line_content": "    MUST(define_property_or_throw(vm.names.name, { .value = m_name_string, .writable = false, .enumerable = false, .configurable = true }));",
          "new_line_content": "    //       which must give the properties in chronological order which in this case is the order they",
          "content_same": false
        },
        {
          "line": 851,
          "old_api": "has_lexical_declarations",
          "new_api": null,
          "old_text": "e_body->has_lexical_declarations());\n ",
          "new_text": null,
          "old_line_content": "        bool can_elide_declarative_environment = !m_contains_direct_call_to_eval && (!scope_body || !scope_body->has_lexical_declarations());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 346,
          "old_api": "define_property_or_throw",
          "new_api": null,
          "old_text": "ototype->define_property_or_throw(vm.names.constructor, { .value = this, .writable = true, .enumerable = false, .configurable = true }));",
          "new_text": null,
          "old_line_content": "            MUST(prototype->define_property_or_throw(vm.names.constructor, { .value = this, .writable = true, .enumerable = false, .configurable = true }));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": "declarative_environment",
          "new_api": null,
          "old_text": "declarative_environment(*var_environment);\n  ",
          "new_text": null,
          "old_line_content": "            lex_environment = new_declarative_environment(*var_environment);",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 861,
          "old_api": "ptr",
          "new_api": null,
          "old_text": "environment.ptr())->e",
          "new_text": null,
          "old_line_content": "            static_cast<DeclarativeEnvironment*>(lex_environment.ptr())->ensure_capacity(m_lex_environment_bindings_count);",
          "new_line_content": "            // a. Let lexEnv be NewDeclarativeEnvironment(varEnv).",
          "content_same": false
        },
        {
          "line": 350,
          "old_api": "intrinsics",
          "new_api": null,
          "old_text": "alm.intrinsics().generator_function_prototype_prototype());",
          "new_text": null,
          "old_line_content": "            prototype = Object::create(realm, realm.intrinsics().generator_function_prototype_prototype());",
          "new_line_content": "        case FunctionKind::Normal:",
          "content_same": false
        },
        {
          "line": 355,
          "old_api": "intrinsics",
          "new_api": null,
          "old_text": "alm.intrinsics().async_generator_function_prototype_prototype());",
          "new_text": null,
          "old_line_content": "            prototype = Object::create(realm, realm.intrinsics().async_generator_function_prototype_prototype());",
          "new_line_content": "            // prototype is \"g1.prototype\" in figure-2 (https://tc39.es/ecma262/img/figure-2.png)",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": "has_lexical_declarations",
          "new_api": null,
          "old_text": "e_body->has_lexical_declarations()) {\n",
          "new_text": null,
          "old_line_content": "    if (scope_body->has_lexical_declarations()) {",
          "new_line_content": "    if (!scope_body)",
          "content_same": false
        },
        {
          "line": 368,
          "old_api": "vm",
          "new_api": null,
          "old_text": "is->vm();\n",
          "new_text": null,
          "old_line_content": "    auto& vm = this->vm();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": "for_each_bound_identifier",
          "new_api": null,
          "old_text": "e_body->for_each_lexically_scoped_declaration([&](Declaration const& declaration) {\n            // NOTE: Due to the use of MUST with `create_immutable_binding` and `create_mutable_binding` below,\n            //       an exception should not result from `for_each_bound_name`.\n\n            // a. NOTE: A lexically declared name cannot be the same as a function/generator declaration, formal parameter, or a var name. Lexically declared names are only instantiated here but not initialized.\n\n            // b. For each element dn of the BoundNames of d, do\n            MUST(declaration.for_each_bound_identifier([&](auto const& id) {\n                if (id.is_local()) {\n                    // NOTE: Local variables are supported only in bytecode interpreter\n                    return;\n                }\n\n                // i. If IsConstantDeclaration of d is true, then\n                if (declaration.is_constant_declaration()) {\n                    // 1. Perform ! lexEnv.CreateImmutableBinding(dn, true).\n                    MUST(lex_environment->create_immutable_binding(vm, id.string(), true));\n                }\n                // ii. Else,\n                else {\n                    // 1. Perform ! lexEnv.CreateMutableBinding(dn, false).\n                    MUST(lex_environment->create_mutable_binding(vm, id.string(), false));\n                }\n            }));\n        }));\n ",
          "new_text": null,
          "old_line_content": "        MUST(scope_body->for_each_lexically_scoped_declaration([&](Declaration const& declaration) {",
          "new_line_content": "        return {};",
          "content_same": false
        },
        {
          "line": 373,
          "old_api": "ap",
          "new_api": null,
          "old_text": "ap());",
          "new_text": null,
          "old_line_content": "    auto callee_context = ExecutionContext::create(heap());",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": "size",
          "new_api": null,
          "old_text": "local_variables_names.size());",
          "new_text": null,
          "old_line_content": "    callee_context->locals.resize(m_local_variables_names.size());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 887,
          "old_api": "for_each_bound_identifier",
          "new_api": null,
          "old_text": "aration.for_each_bound_identifier([&](auto const& id) {\n                if (id.is_local()) {\n                    // NOTE: Local variables are supported only in bytecode interpreter\n                    return;\n                }\n\n                // i. If IsConstantDeclaration of d is true, then\n                if (declaration.is_constant_declaration()) {\n                    // 1. Perform ! lexEnv.CreateImmutableBinding(dn, true).\n                    MUST(lex_environment->create_immutable_binding(vm, id.string(), true));\n                }\n                // ii. Else,\n                else {\n                    // 1. Perform ! lexEnv.CreateMutableBinding(dn, false).\n                    MUST(lex_environment->create_mutable_binding(vm, id.string(), false));\n                }\n            }));\n ",
          "new_text": null,
          "old_line_content": "            MUST(declaration.for_each_bound_identifier([&](auto const& id) {",
          "new_line_content": "            // NOTE: Due to the use of MUST with `create_immutable_binding` and `create_mutable_binding` below,",
          "content_same": false
        },
        {
          "line": 888,
          "old_api": "s_local",
          "new_api": null,
          "old_text": "s_local()) {\n",
          "new_text": null,
          "old_line_content": "                if (id.is_local()) {",
          "new_line_content": "            //       an exception should not result from `for_each_bound_name`.",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": "size",
          "new_api": null,
          "old_text": "guments_list.size());",
          "new_text": null,
          "old_line_content": "    callee_context->arguments.append(arguments_list.data(), arguments_list.size());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 383,
          "old_api": "epare_for_ordinary_call",
          "new_api": null,
          "old_text": "epare_for_ordinary_call(*callee_context, nullptr));",
          "new_text": null,
          "old_line_content": "    TRY(prepare_for_ordinary_call(*callee_context, nullptr));",
          "new_line_content": "    // Non-standard",
          "content_same": false
        },
        {
          "line": 896,
          "old_api": "tring",
          "new_api": null,
          "old_text": "tring(), tr",
          "new_text": null,
          "old_line_content": "                    MUST(lex_environment->create_immutable_binding(vm, id.string(), true));",
          "new_line_content": "                    return;",
          "content_same": false
        },
        {
          "line": 386,
          "old_api": "running_execution_context",
          "new_api": null,
          "old_text": ".running_execution_context() =",
          "new_text": null,
          "old_line_content": "    VERIFY(&vm.running_execution_context() == callee_context);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 901,
          "old_api": "tring",
          "new_api": null,
          "old_text": "tring(), fa",
          "new_text": null,
          "old_line_content": "                    MUST(lex_environment->create_mutable_binding(vm, id.string(), false));",
          "new_line_content": "                    // 1. Perform ! lexEnv.CreateImmutableBinding(dn, true).",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": "pop_execution_context",
          "new_api": null,
          "old_text": ".pop_execution_context();\n",
          "new_text": null,
          "old_line_content": "        vm.pop_execution_context();",
          "new_line_content": "    if (m_is_class_constructor) {",
          "content_same": false
        },
        {
          "line": 402,
          "old_api": "dinary_call_bind_this",
          "new_api": null,
          "old_text": "dinary_call_bind_this(*callee_context, this_argument);\n",
          "new_text": null,
          "old_line_content": "    ordinary_call_bind_this(*callee_context, this_argument);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 914,
          "old_api": "contains_direct_call_to_eval",
          "new_api": null,
          "old_text": "aration.contains_direct_call_to_eval());\n\n",
          "new_text": null,
          "old_line_content": "        auto function = ECMAScriptFunctionObject::create(realm, declaration.name(), declaration.source_text(), declaration.body(), declaration.parameters(), declaration.function_length(), declaration.local_variables_names(), lex_environment, private_environment, declaration.kind(), declaration.is_strict_mode(), declaration.might_need_arguments_object(), declaration.contains_direct_call_to_eval());",
          "new_line_content": "    auto private_environment = callee_context.private_environment;",
          "content_same": false
        },
        {
          "line": 405,
          "old_api": "dinary_call_evaluate_body",
          "new_api": null,
          "old_text": "dinary_call_evaluate_body();\n",
          "new_text": null,
          "old_line_content": "    auto result = ordinary_call_evaluate_body();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 917,
          "old_api": "name_identifier",
          "new_api": null,
          "old_text": "aration.name_identifier()->is_local()) {\n",
          "new_text": null,
          "old_line_content": "        if (declaration.name_identifier()->is_local()) {",
          "new_line_content": "    for (auto& declaration : m_functions_to_initialize) {",
          "content_same": false
        },
        {
          "line": 918,
          "old_api": "name_identifier",
          "new_api": null,
          "old_text": "aration.name_identifier()->local_variable_index()] = ",
          "new_text": null,
          "old_line_content": "            callee_context.locals[declaration.name_identifier()->local_variable_index()] = function;",
          "new_line_content": "        // a. Let fn be the sole element of the BoundNames of f.",
          "content_same": false
        },
        {
          "line": 412,
          "old_api": "value",
          "new_api": null,
          "old_text": "sult.value();\n",
          "new_text": null,
          "old_line_content": "        return *result.value();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 925,
          "old_api": "ptr",
          "new_api": null,
          "old_text": "environment.ptr())->s",
          "new_text": null,
          "old_line_content": "        static_cast<DeclarativeEnvironment*>(lex_environment.ptr())->shrink_to_fit();",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 415,
          "old_api": "is_abrupt",
          "new_api": null,
          "old_text": "sult.is_abrupt()) ",
          "new_text": null,
          "old_line_content": "    if (result.is_abrupt()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 416,
          "old_api": "is_error",
          "new_api": null,
          "old_text": "sult.is_error());",
          "new_text": null,
          "old_line_content": "        VERIFY(result.is_error());",
          "new_line_content": "    // 8. If result.[[Type]] is return, return result.[[Value]].",
          "content_same": false
        },
        {
          "line": 927,
          "old_api": "ptr",
          "new_api": null,
          "old_text": "environment.ptr())->s",
          "new_text": null,
          "old_line_content": "        static_cast<DeclarativeEnvironment*>(var_environment.ptr())->shrink_to_fit();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 936,
          "old_api": "vm",
          "new_api": null,
          "old_text": "->vm();\n\n ",
          "new_text": null,
          "old_line_content": "    auto& vm = this->vm();",
          "new_line_content": "    return {};",
          "content_same": false
        },
        {
          "line": 440,
          "old_api": "dinary_create_from_constructor<Object>(vm, new_target, &Intrinsics::object_prototype, ConstructWithPrototypeTag::Tag));",
          "new_api": null,
          "old_text": "dinary_create_from_constructor<Object>(vm, new_target, &Intrinsics::object_prototype, ConstructWithPrototypeTag::Tag));",
          "new_text": null,
          "old_line_content": "        this_argument = TRY(ordinary_create_from_constructor<Object>(vm, new_target, &Intrinsics::object_prototype, ConstructWithPrototypeTag::Tag));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 443,
          "old_api": "ap",
          "new_api": null,
          "old_text": "ap());",
          "new_text": null,
          "old_line_content": "    auto callee_context = ExecutionContext::create(heap());",
          "new_line_content": "    // 3. If kind is base, then",
          "content_same": false
        },
        {
          "line": 445,
          "old_api": "size",
          "new_api": null,
          "old_text": "local_variables_names.size());",
          "new_text": null,
          "old_line_content": "    callee_context->locals.resize(m_local_variables_names.size());",
          "new_line_content": "        // a. Let thisArgument be ? OrdinaryCreateFromConstructor(newTarget, \"%Object.prototype%\").",
          "content_same": false
        },
        {
          "line": 448,
          "old_api": "size",
          "new_api": null,
          "old_text": "guments_list.size());",
          "new_text": null,
          "old_line_content": "    callee_context->arguments.append(arguments_list.data(), arguments_list.size());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": "urrent_realm",
          "new_api": null,
          "old_text": "urrent_realm();\n  ",
          "new_text": null,
          "old_line_content": "        callee_realm = vm.current_realm();",
          "new_line_content": "    // NOTE: This non-standard fallback is needed until we can guarantee that literally",
          "content_same": false
        },
        {
          "line": 961,
          "old_api": "FY",
          "new_api": null,
          "old_text": "FY(callee_realm);\n\n ",
          "new_text": null,
          "old_line_content": "    VERIFY(callee_realm);",
          "new_line_content": "    // every function has a realm - especially in LibWeb that's sometimes not the case",
          "content_same": false
        },
        {
          "line": 453,
          "old_api": "epare_for_ordinary_call",
          "new_api": null,
          "old_text": "epare_for_ordinary_call(*callee_context, &new_target));",
          "new_text": null,
          "old_line_content": "    TRY(prepare_for_ordinary_call(*callee_context, &new_target));",
          "new_line_content": "    // Non-standard",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": "running_execution_context",
          "new_api": null,
          "old_text": ".running_execution_context() =",
          "new_text": null,
          "old_line_content": "    VERIFY(&vm.running_execution_context() == callee_context);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 970,
          "old_api": "function_environment",
          "new_api": null,
          "old_text": "function_environment(*this, new_target);\n  ",
          "new_text": null,
          "old_line_content": "    auto local_environment = new_function_environment(*this, new_target);",
          "new_line_content": "    callee_context.realm = callee_realm;",
          "content_same": false
        },
        {
          "line": 971,
          "old_api": "ensure_capacity",
          "new_api": null,
          "old_text": "l_environment->ensure_capacity(m_function_environment_bindings_count);\n\n ",
          "new_text": null,
          "old_line_content": "    local_environment->ensure_capacity(m_function_environment_bindings_count);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 461,
          "old_api": "dinary_call_bind_this",
          "new_api": null,
          "old_text": "dinary_call_bind_this(*callee_context, this_argument);\n",
          "new_text": null,
          "old_line_content": "        ordinary_call_bind_this(*callee_context, this_argument);",
          "new_line_content": "    // 5. Assert: calleeContext is now the running execution context.",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": "initialize_instance_elements",
          "new_api": null,
          "old_text": "is_argument->initialize_instance_elements(*this);\n",
          "new_text": null,
          "old_line_content": "        auto initialize_result = this_argument->initialize_instance_elements(*this);",
          "new_line_content": "    // 6. If kind is base, then",
          "content_same": false
        },
        {
          "line": 469,
          "old_api": "pop_execution_context",
          "new_api": null,
          "old_text": ".pop_execution_context();\n",
          "new_text": null,
          "old_line_content": "            vm.pop_execution_context();",
          "new_line_content": "        // b. Let initializeResult be Completion(InitializeInstanceElements(thisArgument, F)).",
          "content_same": false
        },
        {
          "line": 472,
          "old_api": "throw_completion",
          "new_api": null,
          "old_text": "itialize_result.throw_completion();\n",
          "new_text": null,
          "old_line_content": "            return initialize_result.throw_completion();",
          "new_line_content": "        // c. If initializeResult is an abrupt completion, then",
          "content_same": false
        },
        {
          "line": 986,
          "old_api": "ush_execution_context",
          "new_api": null,
          "old_text": "ush_execution_context(callee_context, {}));\n\n",
          "new_text": null,
          "old_line_content": "    TRY(vm.push_execution_context(callee_context, {}));",
          "new_line_content": "    callee_context.private_environment = m_private_environment;",
          "content_same": false
        },
        {
          "line": 480,
          "old_api": "dinary_call_evaluate_body",
          "new_api": null,
          "old_text": "dinary_call_evaluate_body();\n",
          "new_text": null,
          "old_line_content": "    auto result = ordinary_call_evaluate_body();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 483,
          "old_api": "pop_execution_context",
          "new_api": null,
          "old_text": ".pop_execution_context();\n",
          "new_text": null,
          "old_line_content": "    vm.pop_execution_context();",
          "new_line_content": "    auto constructor_env = callee_context->lexical_environment;",
          "content_same": false
        },
        {
          "line": 997,
          "old_api": "vm",
          "new_api": null,
          "old_text": "->vm();\n\n ",
          "new_text": null,
          "old_line_content": "    auto& vm = this->vm();",
          "new_line_content": "    return {};",
          "content_same": false
        },
        {
          "line": 490,
          "old_api": "get",
          "new_api": null,
          "old_text": "w_target.get(vm.names.prototype));",
          "new_text": null,
          "old_line_content": "            auto prototype = TRY(new_target.get(vm.names.prototype));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 491,
          "old_api": "is_object",
          "new_api": null,
          "old_text": "ototype.is_object())\n",
          "new_text": null,
          "old_line_content": "            if (prototype.is_object())",
          "new_line_content": "    // 10. If result.[[Type]] is return, then",
          "content_same": false
        },
        {
          "line": 1014,
          "old_api": "urrent_realm",
          "new_api": null,
          "old_text": "urrent_realm();\n  ",
          "new_text": null,
          "old_line_content": "        callee_realm = vm.current_realm();",
          "new_line_content": "    // NOTE: This non-standard fallback is needed until we can guarantee that literally",
          "content_same": false
        },
        {
          "line": 1015,
          "old_api": "FY",
          "new_api": null,
          "old_text": "FY(callee_realm);\n\n ",
          "new_text": null,
          "old_line_content": "    VERIFY(callee_realm);",
          "new_line_content": "    // every function has a realm - especially in LibWeb that's sometimes not the case",
          "content_same": false
        },
        {
          "line": 505,
          "old_api": "value",
          "new_api": null,
          "old_text": "sult.value()->is_undefined())\n",
          "new_text": null,
          "old_line_content": "        if (!result.value()->is_undefined())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 506,
          "old_api": ".throw_completion<TypeError>(ErrorType::DerivedConstructorReturningInvalidValue);",
          "new_api": null,
          "old_text": ".throw_completion<TypeError>(ErrorType::DerivedConstructorReturningInvalidValue);\n",
          "new_text": null,
          "old_line_content": "            return vm.throw_completion<TypeError>(ErrorType::DerivedConstructorReturningInvalidValue);",
          "new_line_content": "        // b. If kind is base, return thisArgument.",
          "content_same": false
        },
        {
          "line": 509,
          "old_api": "is_abrupt",
          "new_api": null,
          "old_text": "sult.is_abrupt()) ",
          "new_text": null,
          "old_line_content": "    else if (result.is_abrupt()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 510,
          "old_api": "is_error",
          "new_api": null,
          "old_text": "sult.is_error());",
          "new_text": null,
          "old_line_content": "        VERIFY(result.is_error());",
          "new_line_content": "        // c. If result.[[Value]] is not undefined, throw a TypeError exception.",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 61,
      "total_additions": 186,
      "total_deletions": 185,
      "total_api_changes": 432
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 8,
        "api_related_lines": 432,
        "non_api_lines": 5,
        "non_api_line_numbers": [
          133,
          144,
          211,
          121,
          122
        ]
      }
    },
    "api_calls_before": 469,
    "api_calls_after": 470,
    "diff_info": {
      "added_lines": 7,
      "removed_lines": 1,
      "total_diff_lines": 41
    }
  }
}