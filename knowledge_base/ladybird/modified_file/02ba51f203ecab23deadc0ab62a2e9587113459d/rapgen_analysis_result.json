{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/02ba51f203ecab23deadc0ab62a2e9587113459d",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/02ba51f203ecab23deadc0ab62a2e9587113459d/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/02ba51f203ecab23deadc0ab62a2e9587113459d/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/02ba51f203ecab23deadc0ab62a2e9587113459d/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1074,
          "old_api": "_active",
          "new_api": "navigable",
          "old_text": "_active())\n",
          "new_text": "is->navigable();\n",
          "old_line_content": "    if (!is_active())",
          "new_line_content": "    auto navigable = this->navigable();",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": "build",
          "new_api": "opagate_overflow_to_viewport",
          "old_text": "ee_builder.build(*this));",
          "new_text": "opagate_overflow_to_viewport(*document_element, *m_layout_root);\n",
          "old_line_content": "        m_layout_root = verify_cast<Layout::Viewport>(*tree_builder.build(*this));",
          "new_line_content": "            propagate_overflow_to_viewport(*document_element, *m_layout_root);",
          "content_same": false
        },
        {
          "line": 1113,
          "old_api": "atic_cast<Layout::Viewport&>(*m_layout_root);",
          "new_api": "height",
          "old_text": "atic_cast<Layout::Viewport&>(*m_layout_root);\n",
          "new_text": "ewport_rect.height());",
          "old_line_content": "        auto& viewport = static_cast<Layout::Viewport&>(*m_layout_root);",
          "new_line_content": "        viewport_state.set_content_height(viewport_rect.height());",
          "content_same": false
        },
        {
          "line": 1115,
          "old_api": "width",
          "new_api": "layout_node",
          "old_text": "ewport_rect.width());",
          "new_text": "cument_element->layout_node()) ",
          "old_line_content": "        viewport_state.set_content_width(viewport_rect.width());",
          "new_line_content": "        if (document_element && document_element->layout_node()) {",
          "content_same": false
        },
        {
          "line": 1116,
          "old_api": "height",
          "new_api": "layout_node",
          "old_text": "ewport_rect.height());",
          "new_text": "cument_element->layout_node()))",
          "old_line_content": "        viewport_state.set_content_height(viewport_rect.height());",
          "new_line_content": "            auto& icb_state = layout_state.get_mutable(verify_cast<Layout::NodeWithStyleAndBoxModelMetrics>(*document_element->layout_node()));",
          "content_same": false
        },
        {
          "line": 1120,
          "old_api": "width",
          "new_api": "run",
          "old_text": "ewport_rect.width());",
          "new_text": "ot_formatting_context.run(\n            *m_layout_root,\n            Layout::LayoutMode::Normal,\n            Layout::AvailableSpace(\n                Layout::AvailableSize::make_definite(viewport_rect.width()),\n                Layout::AvailableSize::make_definite(viewport_rect.height())));\n",
          "old_line_content": "            icb_state.set_content_width(viewport_rect.width());",
          "new_line_content": "        root_formatting_context.run(",
          "content_same": false
        },
        {
          "line": 1123,
          "old_api": "run",
          "new_api": "width",
          "old_text": "ot_formatting_context.run(\n            *m_layout_root,\n            Layout::LayoutMode::Normal,\n            Layout::AvailableSpace(\n                Layout::AvailableSize::make_definite(viewport_rect.width()),\n                Layout::AvailableSize::make_definite(viewport_rect.height())));\n",
          "new_text": "yout::AvailableSpace(\n                Layout::AvailableSize::make_definite(viewport_rect.width()),\n                Layout::AvailableSize::make_definite(viewport_rect.height())));",
          "old_line_content": "        root_formatting_context.run(",
          "new_line_content": "            Layout::AvailableSpace(",
          "content_same": false
        },
        {
          "line": 1128,
          "old_api": "height",
          "new_api": "commit",
          "old_text": "ewport_rect.height()))",
          "new_text": "yout_state.commit(*m_layout_root);\n",
          "old_line_content": "                Layout::AvailableSize::make_definite(viewport_rect.height())));",
          "new_line_content": "    layout_state.commit(*m_layout_root);",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": "commit",
          "new_api": "form_all_viewport_clients_about_the_current_viewport_rect",
          "old_text": "yout_state.commit(*m_layout_root);\n",
          "new_text": "form_all_viewport_clients_about_the_current_viewport_rect();\n",
          "old_line_content": "    layout_state.commit(*m_layout_root);",
          "new_line_content": "    inform_all_viewport_clients_about_the_current_viewport_rect();",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": "form_all_viewport_clients_about_the_current_viewport_rect",
          "new_api": "t_needs_to_resolve_paint_only_properties",
          "old_text": "form_all_viewport_clients_about_the_current_viewport_rect();\n",
          "new_text": "t_needs_to_resolve_paint_only_properties();\n",
          "old_line_content": "    inform_all_viewport_clients_about_the_current_viewport_rect();",
          "new_line_content": "    set_needs_to_resolve_paint_only_properties();",
          "content_same": false
        },
        {
          "line": 1136,
          "old_api": "set_needs_display",
          "new_api": "is_traversable",
          "old_text": "vigable->set_needs_display();\n",
          "new_text": "vigable->is_traversable()) ",
          "old_line_content": "    navigable->set_needs_display();",
          "new_line_content": "    if (navigable->is_traversable()) {",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": "is_traversable",
          "new_api": "assign_scroll_frames",
          "old_text": "vigable->is_traversable()) ",
          "new_text": "intable()->assign_scroll_frames();\n",
          "old_line_content": "    if (navigable->is_traversable()) {",
          "new_line_content": "        paintable()->assign_scroll_frames();",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": "assign_scroll_frames",
          "new_api": "client",
          "old_text": "intable()->assign_scroll_frames();\n",
          "new_text": "ge().client().page_did_layout();\n",
          "old_line_content": "        paintable()->assign_scroll_frames();",
          "new_line_content": "        page().client().page_did_layout();",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": "client",
          "new_api": "recompute_selection_states",
          "old_text": "ge().client().page_did_layout();\n",
          "new_text": "intable()->recompute_selection_states();\n",
          "old_line_content": "        page().client().page_did_layout();",
          "new_line_content": "    paintable()->recompute_selection_states();",
          "content_same": false
        },
        {
          "line": 1155,
          "old_api": "scroll_by",
          "new_api": "discard]]",
          "old_text": "ndow->scroll_by(0, 0);\n",
          "new_text": "discard]]",
          "old_line_content": "        window->scroll_by(0, 0);",
          "new_line_content": "[[nodiscard]] static CSS::RequiredInvalidationAfterStyleChange update_style_recursively(Node& node, CSS::StyleComputer& style_computer)",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": "document",
          "new_api": "is_element",
          "old_text": "de.document().needs_full_style_update();\n",
          "new_text": "de.is_element())\n",
          "old_line_content": "    bool const needs_full_style_update = node.document().needs_full_style_update();",
          "new_line_content": "    if (node.is_element())",
          "content_same": false
        },
        {
          "line": 1172,
          "old_api": "recompute_style",
          "new_api": "set_needs_style_update",
          "old_text": "atic_cast<Element&>(node).recompute_style();\n",
          "new_text": "de.set_needs_style_update(false);\n",
          "old_line_content": "        invalidation |= static_cast<Element&>(node).recompute_style();",
          "new_line_content": "    node.set_needs_style_update(false);",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": "set_needs_style_update",
          "new_api": "is_element",
          "old_text": "de.set_needs_style_update(false);\n",
          "new_text": "de.is_element()) ",
          "old_line_content": "    node.set_needs_style_update(false);",
          "new_line_content": "        if (node.is_element()) {",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": "is_element",
          "new_api": "date_style_recursively",
          "old_text": "de.is_element()) ",
          "new_text": "date_style_recursively(*shadow_root, style_computer);\n",
          "old_line_content": "        if (node.is_element()) {",
          "new_line_content": "                    auto subtree_invalidation = update_style_recursively(*shadow_root, style_computer);",
          "content_same": false
        },
        {
          "line": 1198,
          "old_api": "set_child_needs_style_update",
          "new_api": "atic_cast<Element const&>(node));",
          "old_text": "de.set_child_needs_style_update(false);\n",
          "new_text": "atic_cast<Element const&>(node));",
          "old_line_content": "    node.set_child_needs_style_update(false);",
          "new_line_content": "        style_computer.pop_ancestor(static_cast<Element const&>(node));",
          "content_same": false
        },
        {
          "line": 1208,
          "old_api": "owsing_context",
          "new_api": "date_animated_style_if_needed",
          "old_text": "owsing_context())\n",
          "new_text": "date_animated_style_if_needed();\n",
          "old_line_content": "    if (!browsing_context())",
          "new_line_content": "    update_animated_style_if_needed();",
          "content_same": false
        },
        {
          "line": 1233,
          "old_api": "validate_layout",
          "new_api": "t_needs_layout",
          "old_text": "validate_layout();\n",
          "new_text": "t_needs_layout();\n",
          "old_line_content": "        invalidate_layout();",
          "new_line_content": "            set_needs_layout();",
          "content_same": false
        },
        {
          "line": 1251,
          "old_api": "target",
          "new_api": "associated_animations",
          "old_text": "fect->target()->reset_animated_css_properties();\n",
          "new_text": "meline->associated_animations()) ",
          "old_line_content": "                effect->target()->reset_animated_css_properties();",
          "new_line_content": "        for (auto& animation : timeline->associated_animations()) {",
          "content_same": false
        },
        {
          "line": 1298,
          "old_api": "ptr",
          "new_api": "paintable",
          "old_text": "inspected_node.ptr() =",
          "new_text": "yout_node->paintable())\n",
          "old_line_content": "    if (m_inspected_node.ptr() == node && m_inspected_pseudo_element == pseudo_element)",
          "new_line_content": "    if (auto layout_node = inspected_layout_node(); layout_node && layout_node->paintable())",
          "content_same": false
        },
        {
          "line": 1315,
          "old_api": "is_element",
          "new_api": "value",
          "old_text": "inspected_node->is_element())\n",
          "new_text": "inspected_pseudo_element.value());",
          "old_line_content": "    if (!m_inspected_pseudo_element.has_value() || !m_inspected_node->is_element())",
          "new_line_content": "    return element.get_pseudo_element_node(m_inspected_pseudo_element.value());",
          "content_same": false
        },
        {
          "line": 1331,
          "old_api": "set",
          "new_api": "contains",
          "old_text": "cestors.set(node);\n",
          "new_text": "cestors.contains(node))\n",
          "old_line_content": "        ancestors.set(node);",
          "new_line_content": "        if (ancestors.contains(node))",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": "ptr",
          "new_api": "ve",
          "old_text": "hovered_node.ptr() =",
          "new_text": "ve(m_hovered_node);\n",
          "old_line_content": "    if (m_hovered_node.ptr() == node)",
          "new_line_content": "    JS::GCPtr<Node> old_hovered_node = move(m_hovered_node);",
          "content_same": false
        },
        {
          "line": 1346,
          "old_api": "ve",
          "new_api": "nd_common_ancestor",
          "old_text": "ve(m_hovered_node);\n",
          "new_text": "nd_common_ancestor(old_hovered_node, m_hovered_node);\n",
          "old_line_content": "    JS::GCPtr<Node> old_hovered_node = move(m_hovered_node);",
          "new_line_content": "    auto* common_ancestor = find_common_ancestor(old_hovered_node, m_hovered_node);",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": "split_view",
          "new_api": "in_quirks_mode",
          "old_text": "ass_names.split_view(' ')) ",
          "new_text": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [list_of_class_names = move(list_of_class_names), quirks_mode = document().in_quirks_mode()](Element const& element) {\n        for (auto& name : list_of_class_names) {\n            if (!element.has_class(name, quirks_mode ? CaseSensitivity::CaseInsensitive : CaseSensitivity::CaseSensitive))\n                return false;\n        }\n        return true;\n    });\n",
          "old_line_content": "    for (auto& name : class_names.split_view(' ')) {",
          "new_line_content": "    return HTMLCollection::create(*this, HTMLCollection::Scope::Descendants, [list_of_class_names = move(list_of_class_names), quirks_mode = document().in_quirks_mode()](Element const& element) {",
          "content_same": false
        },
        {
          "line": 1571,
          "old_api": "to_byte_string",
          "new_api": "_valid_name",
          "old_text": "local_name.to_byte_string();\n",
          "new_text": "_valid_name(a_local_name))\n",
          "old_line_content": "    auto local_name = a_local_name.to_byte_string();",
          "new_line_content": "    if (!is_valid_name(a_local_name))",
          "content_same": false
        },
        {
          "line": 1575,
          "old_api": "alm",
          "new_api": "cument_type",
          "old_text": "alm(), ",
          "new_text": "cument_type() =",
          "old_line_content": "        return WebIDL::InvalidCharacterError::create(realm(), \"Invalid character in tag name.\"_fly_string);",
          "new_line_content": "    if (document_type() == Type::HTML)",
          "content_same": false
        },
        {
          "line": 1585,
          "old_api": "tions.has<ElementCreationOptions>())",
          "new_api": "value",
          "old_text": "tions.has<ElementCreationOptions>()) ",
          "new_text": "ement_creation_options.is.value();\n",
          "old_line_content": "    if (options.has<ElementCreationOptions>()) {",
          "new_line_content": "            is_value = element_creation_options.is.value();",
          "content_same": false
        },
        {
          "line": 1611,
          "old_api": "ons.has<ElementCreationOptions>()) {",
          "new_api": "value",
          "old_text": "ons.has<ElementCreationOptions>()) {\n",
          "new_text": "ent_creation_options.is.value();\n  ",
          "old_line_content": "    if (options.has<ElementCreationOptions>()) {",
          "new_line_content": "            is_value = element_creation_options.is.value();",
          "content_same": false
        },
        {
          "line": 1636,
          "old_api": "m",
          "new_api": "contains",
          "old_text": "m(), \"T",
          "new_text": ".contains(\"]]>\"sv))\n  ",
          "old_line_content": "        return WebIDL::NotSupportedError::create(realm(), \"This operation is not supported for HTML documents\"_fly_string);",
          "new_line_content": "    if (data.contains(\"]]>\"sv))",
          "content_same": false
        },
        {
          "line": 1678,
          "old_api": "a::is_ascii_case_insensitive_match(interface, \"beforeunloadevent\"sv)) {",
          "new_api": "t::create(realm, FlyString {}); //",
          "old_text": "a::is_ascii_case_insensitive_match(interface, \"beforeunloadevent\"sv)) {\n",
          "new_text": "t::create(realm, FlyString {}); //",
          "old_line_content": "    if (Infra::is_ascii_case_insensitive_match(interface, \"beforeunloadevent\"sv)) {",
          "new_line_content": "        event = Event::create(realm, FlyString {}); // FIXME: Create CompositionEvent",
          "content_same": false
        },
        {
          "line": 1679,
          "old_api": "t::create(realm, FlyString {}); //",
          "new_api": "a::is_ascii_case_insensitive_match(interface, \"customevent\"sv)) {",
          "old_text": "t::create(realm, FlyString {}); //",
          "new_text": "a::is_ascii_case_insensitive_match(interface, \"customevent\"sv)) {\n",
          "old_line_content": "        event = Event::create(realm, FlyString {}); // FIXME: Create BeforeUnloadEvent",
          "new_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"customevent\"sv)) {",
          "content_same": false
        },
        {
          "line": 1680,
          "old_api": "a::is_ascii_case_insensitive_match(interface, \"compositionevent\"sv)) {",
          "new_api": "omEvent::create(realm, FlyString {});",
          "old_text": "a::is_ascii_case_insensitive_match(interface, \"compositionevent\"sv)) {\n",
          "new_text": "omEvent::create(realm, FlyString {});\n  ",
          "old_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"compositionevent\"sv)) {",
          "new_line_content": "        event = CustomEvent::create(realm, FlyString {});",
          "content_same": false
        },
        {
          "line": 1681,
          "old_api": "t::create(realm, FlyString {}); //",
          "new_api": "a::is_ascii_case_insensitive_match(interface, \"devicemotionevent\"sv)) {",
          "old_text": "t::create(realm, FlyString {}); //",
          "new_text": "a::is_ascii_case_insensitive_match(interface, \"devicemotionevent\"sv)) {\n",
          "old_line_content": "        event = Event::create(realm, FlyString {}); // FIXME: Create CompositionEvent",
          "new_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"devicemotionevent\"sv)) {",
          "content_same": false
        },
        {
          "line": 1682,
          "old_api": "a::is_ascii_case_insensitive_match(interface, \"customevent\"sv)) {",
          "new_api": "t::create(realm, FlyString {}); //",
          "old_text": "a::is_ascii_case_insensitive_match(interface, \"customevent\"sv)) {\n",
          "new_text": "t::create(realm, FlyString {}); //",
          "old_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"customevent\"sv)) {",
          "new_line_content": "        event = Event::create(realm, FlyString {}); // FIXME: Create DeviceMotionEvent",
          "content_same": false
        },
        {
          "line": 1683,
          "old_api": "omEvent::create(realm, FlyString {});",
          "new_api": "a::is_ascii_case_insensitive_match(interface, \"deviceorientationevent\"sv)) {",
          "old_text": "omEvent::create(realm, FlyString {});\n  ",
          "new_text": "a::is_ascii_case_insensitive_match(interface, \"deviceorientationevent\"sv)) {\n",
          "old_line_content": "        event = CustomEvent::create(realm, FlyString {});",
          "new_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"deviceorientationevent\"sv)) {",
          "content_same": false
        },
        {
          "line": 1684,
          "old_api": "a::is_ascii_case_insensitive_match(interface, \"devicemotionevent\"sv)) {",
          "new_api": "t::create(realm, FlyString {}); //",
          "old_text": "a::is_ascii_case_insensitive_match(interface, \"devicemotionevent\"sv)) {\n",
          "new_text": "t::create(realm, FlyString {}); //",
          "old_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"devicemotionevent\"sv)) {",
          "new_line_content": "        event = Event::create(realm, FlyString {}); // FIXME: Create DeviceOrientationEvent",
          "content_same": false
        },
        {
          "line": 1685,
          "old_api": "t::create(realm, FlyString {}); //",
          "new_api": "a::is_ascii_case_insensitive_match(interface, \"dragevent\"sv)) {",
          "old_text": "t::create(realm, FlyString {}); //",
          "new_text": "a::is_ascii_case_insensitive_match(interface, \"dragevent\"sv)) {\n",
          "old_line_content": "        event = Event::create(realm, FlyString {}); // FIXME: Create DeviceMotionEvent",
          "new_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"dragevent\"sv)) {",
          "content_same": false
        },
        {
          "line": 1686,
          "old_api": "a::is_ascii_case_insensitive_match(interface, \"deviceorientationevent\"sv)) {",
          "new_api": "t::create(realm, FlyString {}); //",
          "old_text": "a::is_ascii_case_insensitive_match(interface, \"deviceorientationevent\"sv)) {\n",
          "new_text": "t::create(realm, FlyString {}); //",
          "old_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"deviceorientationevent\"sv)) {",
          "new_line_content": "        event = Event::create(realm, FlyString {}); // FIXME: Create DragEvent",
          "content_same": false
        },
        {
          "line": 1687,
          "old_api": "t::create(realm, FlyString {}); //",
          "new_api": "a::is_ascii_case_insensitive_match(interface, \"event\"sv)",
          "old_text": "t::create(realm, FlyString {}); //",
          "new_text": "a::is_ascii_case_insensitive_match(interface, \"event\"sv)\n   ",
          "old_line_content": "        event = Event::create(realm, FlyString {}); // FIXME: Create DeviceOrientationEvent",
          "new_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"event\"sv)",
          "content_same": false
        },
        {
          "line": 1688,
          "old_api": "a::is_ascii_case_insensitive_match(interface, \"dragevent\"sv)) {",
          "new_api": "a::is_ascii_case_insensitive_match(interface, \"events\"sv)) {",
          "old_text": "a::is_ascii_case_insensitive_match(interface, \"dragevent\"sv)) {\n",
          "new_text": "a::is_ascii_case_insensitive_match(interface, \"events\"sv)) {\n",
          "old_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"dragevent\"sv)) {",
          "new_line_content": "        || Infra::is_ascii_case_insensitive_match(interface, \"events\"sv)) {",
          "content_same": false
        },
        {
          "line": 1689,
          "old_api": "t::create(realm, FlyString {}); //",
          "new_api": "t::create(realm, FlyString {});",
          "old_text": "t::create(realm, FlyString {}); //",
          "new_text": "t::create(realm, FlyString {});\n  ",
          "old_line_content": "        event = Event::create(realm, FlyString {}); // FIXME: Create DragEvent",
          "new_line_content": "        event = Event::create(realm, FlyString {});",
          "content_same": false
        },
        {
          "line": 1690,
          "old_api": "a::is_ascii_case_insensitive_match(interface, \"event\"sv)",
          "new_api": "a::is_ascii_case_insensitive_match(interface, \"focusevent\"sv)) {",
          "old_text": "a::is_ascii_case_insensitive_match(interface, \"event\"sv)\n   ",
          "new_text": "a::is_ascii_case_insensitive_match(interface, \"focusevent\"sv)) {\n",
          "old_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"event\"sv)",
          "new_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"focusevent\"sv)) {",
          "content_same": false
        },
        {
          "line": 1691,
          "old_api": "a::is_ascii_case_insensitive_match(interface, \"events\"sv)) {",
          "new_api": "ents::FocusEvent::create(realm, FlyString {});",
          "old_text": "a::is_ascii_case_insensitive_match(interface, \"events\"sv)) {\n",
          "new_text": "ents::FocusEvent::create(realm, FlyString {});\n  ",
          "old_line_content": "        || Infra::is_ascii_case_insensitive_match(interface, \"events\"sv)) {",
          "new_line_content": "        event = UIEvents::FocusEvent::create(realm, FlyString {});",
          "content_same": false
        },
        {
          "line": 1692,
          "old_api": "t::create(realm, FlyString {});",
          "new_api": "a::is_ascii_case_insensitive_match(interface, \"hashchangeevent\"sv)) {",
          "old_text": "t::create(realm, FlyString {});\n  ",
          "new_text": "a::is_ascii_case_insensitive_match(interface, \"hashchangeevent\"sv)) {\n",
          "old_line_content": "        event = Event::create(realm, FlyString {});",
          "new_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"hashchangeevent\"sv)) {",
          "content_same": false
        },
        {
          "line": 1693,
          "old_api": "a::is_ascii_case_insensitive_match(interface, \"focusevent\"sv)) {",
          "new_api": "::HashChangeEvent::create(realm, FlyString {}, {});",
          "old_text": "a::is_ascii_case_insensitive_match(interface, \"focusevent\"sv)) {\n",
          "new_text": "::HashChangeEvent::create(realm, FlyString {}, {});\n  ",
          "old_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"focusevent\"sv)) {",
          "new_line_content": "        event = HTML::HashChangeEvent::create(realm, FlyString {}, {});",
          "content_same": false
        },
        {
          "line": 1694,
          "old_api": "ents::FocusEvent::create(realm, FlyString {});",
          "new_api": "a::is_ascii_case_insensitive_match(interface, \"htmlevents\"sv)) {",
          "old_text": "ents::FocusEvent::create(realm, FlyString {});\n  ",
          "new_text": "a::is_ascii_case_insensitive_match(interface, \"htmlevents\"sv)) {\n",
          "old_line_content": "        event = UIEvents::FocusEvent::create(realm, FlyString {});",
          "new_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"htmlevents\"sv)) {",
          "content_same": false
        },
        {
          "line": 1695,
          "old_api": "a::is_ascii_case_insensitive_match(interface, \"hashchangeevent\"sv)) {",
          "new_api": "t::create(realm, FlyString {});",
          "old_text": "a::is_ascii_case_insensitive_match(interface, \"hashchangeevent\"sv)) {\n",
          "new_text": "t::create(realm, FlyString {});\n  ",
          "old_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"hashchangeevent\"sv)) {",
          "new_line_content": "        event = Event::create(realm, FlyString {});",
          "content_same": false
        },
        {
          "line": 1696,
          "old_api": "::HashChangeEvent::create(realm, FlyString {}, {});",
          "new_api": "a::is_ascii_case_insensitive_match(interface, \"keyboardevent\"sv)) {",
          "old_text": "::HashChangeEvent::create(realm, FlyString {}, {});\n  ",
          "new_text": "a::is_ascii_case_insensitive_match(interface, \"keyboardevent\"sv)) {\n",
          "old_line_content": "        event = HTML::HashChangeEvent::create(realm, FlyString {}, {});",
          "new_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"keyboardevent\"sv)) {",
          "content_same": false
        },
        {
          "line": 1697,
          "old_api": "a::is_ascii_case_insensitive_match(interface, \"htmlevents\"sv)) {",
          "new_api": "ents::KeyboardEvent::create(realm, String {});",
          "old_text": "a::is_ascii_case_insensitive_match(interface, \"htmlevents\"sv)) {\n",
          "new_text": "ents::KeyboardEvent::create(realm, String {});\n  ",
          "old_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"htmlevents\"sv)) {",
          "new_line_content": "        event = UIEvents::KeyboardEvent::create(realm, String {});",
          "content_same": false
        },
        {
          "line": 1698,
          "old_api": "t::create(realm, FlyString {});",
          "new_api": "a::is_ascii_case_insensitive_match(interface, \"messageevent\"sv)) {",
          "old_text": "t::create(realm, FlyString {});\n  ",
          "new_text": "a::is_ascii_case_insensitive_match(interface, \"messageevent\"sv)) {\n",
          "old_line_content": "        event = Event::create(realm, FlyString {});",
          "new_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"messageevent\"sv)) {",
          "content_same": false
        },
        {
          "line": 1699,
          "old_api": "a::is_ascii_case_insensitive_match(interface, \"keyboardevent\"sv)) {",
          "new_api": "::MessageEvent::create(realm, String {});",
          "old_text": "a::is_ascii_case_insensitive_match(interface, \"keyboardevent\"sv)) {\n",
          "new_text": "::MessageEvent::create(realm, String {});\n  ",
          "old_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"keyboardevent\"sv)) {",
          "new_line_content": "        event = HTML::MessageEvent::create(realm, String {});",
          "content_same": false
        },
        {
          "line": 1700,
          "old_api": "ents::KeyboardEvent::create(realm, String {});",
          "new_api": "a::is_ascii_case_insensitive_match(interface, \"mouseevent\"sv)",
          "old_text": "ents::KeyboardEvent::create(realm, String {});\n  ",
          "new_text": "a::is_ascii_case_insensitive_match(interface, \"mouseevent\"sv)\n   ",
          "old_line_content": "        event = UIEvents::KeyboardEvent::create(realm, String {});",
          "new_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"mouseevent\"sv)",
          "content_same": false
        },
        {
          "line": 1701,
          "old_api": "a::is_ascii_case_insensitive_match(interface, \"messageevent\"sv)) {",
          "new_api": "a::is_ascii_case_insensitive_match(interface, \"mouseevents\"sv)) {",
          "old_text": "a::is_ascii_case_insensitive_match(interface, \"messageevent\"sv)) {\n",
          "new_text": "a::is_ascii_case_insensitive_match(interface, \"mouseevents\"sv)) {\n",
          "old_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"messageevent\"sv)) {",
          "new_line_content": "        || Infra::is_ascii_case_insensitive_match(interface, \"mouseevents\"sv)) {",
          "content_same": false
        },
        {
          "line": 1702,
          "old_api": "::MessageEvent::create(realm, String {});",
          "new_api": "ents::MouseEvent::create(realm, FlyString {});",
          "old_text": "::MessageEvent::create(realm, String {});\n  ",
          "new_text": "ents::MouseEvent::create(realm, FlyString {});\n  ",
          "old_line_content": "        event = HTML::MessageEvent::create(realm, String {});",
          "new_line_content": "        event = UIEvents::MouseEvent::create(realm, FlyString {});",
          "content_same": false
        },
        {
          "line": 1703,
          "old_api": "a::is_ascii_case_insensitive_match(interface, \"mouseevent\"sv)",
          "new_api": "a::is_ascii_case_insensitive_match(interface, \"storageevent\"sv)) {",
          "old_text": "a::is_ascii_case_insensitive_match(interface, \"mouseevent\"sv)\n   ",
          "new_text": "a::is_ascii_case_insensitive_match(interface, \"storageevent\"sv)) {\n",
          "old_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"mouseevent\"sv)",
          "new_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"storageevent\"sv)) {",
          "content_same": false
        },
        {
          "line": 1704,
          "old_api": "a::is_ascii_case_insensitive_match(interface, \"mouseevents\"sv)) {",
          "new_api": "t::create(realm, FlyString {}); //",
          "old_text": "a::is_ascii_case_insensitive_match(interface, \"mouseevents\"sv)) {\n",
          "new_text": "t::create(realm, FlyString {}); //",
          "old_line_content": "        || Infra::is_ascii_case_insensitive_match(interface, \"mouseevents\"sv)) {",
          "new_line_content": "        event = Event::create(realm, FlyString {}); // FIXME: Create StorageEvent",
          "content_same": false
        },
        {
          "line": 1705,
          "old_api": "ents::MouseEvent::create(realm, FlyString {});",
          "new_api": "a::is_ascii_case_insensitive_match(interface, \"svgevents\"sv)) {",
          "old_text": "ents::MouseEvent::create(realm, FlyString {});\n  ",
          "new_text": "a::is_ascii_case_insensitive_match(interface, \"svgevents\"sv)) {\n",
          "old_line_content": "        event = UIEvents::MouseEvent::create(realm, FlyString {});",
          "new_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"svgevents\"sv)) {",
          "content_same": false
        },
        {
          "line": 1706,
          "old_api": "a::is_ascii_case_insensitive_match(interface, \"storageevent\"sv)) {",
          "new_api": "t::create(realm, FlyString {});",
          "old_text": "a::is_ascii_case_insensitive_match(interface, \"storageevent\"sv)) {\n",
          "new_text": "t::create(realm, FlyString {});\n  ",
          "old_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"storageevent\"sv)) {",
          "new_line_content": "        event = Event::create(realm, FlyString {});",
          "content_same": false
        },
        {
          "line": 1707,
          "old_api": "t::create(realm, FlyString {}); //",
          "new_api": "a::is_ascii_case_insensitive_match(interface, \"textevent\"sv)) {",
          "old_text": "t::create(realm, FlyString {}); //",
          "new_text": "a::is_ascii_case_insensitive_match(interface, \"textevent\"sv)) {\n",
          "old_line_content": "        event = Event::create(realm, FlyString {}); // FIXME: Create StorageEvent",
          "new_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"textevent\"sv)) {",
          "content_same": false
        },
        {
          "line": 1708,
          "old_api": "a::is_ascii_case_insensitive_match(interface, \"svgevents\"sv)) {",
          "new_api": "t::create(realm, FlyString {}); //",
          "old_text": "a::is_ascii_case_insensitive_match(interface, \"svgevents\"sv)) {\n",
          "new_text": "t::create(realm, FlyString {}); //",
          "old_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"svgevents\"sv)) {",
          "new_line_content": "        event = Event::create(realm, FlyString {}); // FIXME: Create CompositionEvent",
          "content_same": false
        },
        {
          "line": 1709,
          "old_api": "t::create(realm, FlyString {});",
          "new_api": "a::is_ascii_case_insensitive_match(interface, \"touchevent\"sv)) {",
          "old_text": "t::create(realm, FlyString {});\n  ",
          "new_text": "a::is_ascii_case_insensitive_match(interface, \"touchevent\"sv)) {\n",
          "old_line_content": "        event = Event::create(realm, FlyString {});",
          "new_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"touchevent\"sv)) {",
          "content_same": false
        },
        {
          "line": 1710,
          "old_api": "a::is_ascii_case_insensitive_match(interface, \"textevent\"sv)) {",
          "new_api": "t::create(realm, FlyString {}); //",
          "old_text": "a::is_ascii_case_insensitive_match(interface, \"textevent\"sv)) {\n",
          "new_text": "t::create(realm, FlyString {}); //",
          "old_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"textevent\"sv)) {",
          "new_line_content": "        event = Event::create(realm, FlyString {}); // FIXME: Create TouchEvent",
          "content_same": false
        },
        {
          "line": 1711,
          "old_api": "t::create(realm, FlyString {}); //",
          "new_api": "a::is_ascii_case_insensitive_match(interface, \"uievent\"sv)",
          "old_text": "t::create(realm, FlyString {}); //",
          "new_text": "a::is_ascii_case_insensitive_match(interface, \"uievent\"sv)\n   ",
          "old_line_content": "        event = Event::create(realm, FlyString {}); // FIXME: Create CompositionEvent",
          "new_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"uievent\"sv)",
          "content_same": false
        },
        {
          "line": 1712,
          "old_api": "a::is_ascii_case_insensitive_match(interface, \"touchevent\"sv)) {",
          "new_api": "a::is_ascii_case_insensitive_match(interface, \"uievents\"sv)) {",
          "old_text": "a::is_ascii_case_insensitive_match(interface, \"touchevent\"sv)) {\n",
          "new_text": "a::is_ascii_case_insensitive_match(interface, \"uievents\"sv)) {\n",
          "old_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"touchevent\"sv)) {",
          "new_line_content": "        || Infra::is_ascii_case_insensitive_match(interface, \"uievents\"sv)) {",
          "content_same": false
        },
        {
          "line": 1713,
          "old_api": "t::create(realm, FlyString {}); //",
          "new_api": "ents::UIEvent::create(realm, FlyString {});",
          "old_text": "t::create(realm, FlyString {}); //",
          "new_text": "ents::UIEvent::create(realm, FlyString {});\n  ",
          "old_line_content": "        event = Event::create(realm, FlyString {}); // FIXME: Create TouchEvent",
          "new_line_content": "        event = UIEvents::UIEvent::create(realm, FlyString {});",
          "content_same": false
        },
        {
          "line": 1733,
          "old_api": "s_trusted",
          "new_api": "tialized",
          "old_text": "s_trusted(false);\n\n    // 9.",
          "new_text": "tialized(false);\n\n    // 10. ",
          "old_line_content": "    event->set_is_trusted(false);",
          "new_line_content": "    event->set_initialized(false);",
          "content_same": false
        },
        {
          "line": 1736,
          "old_api": "tialized",
          "new_api": "tr",
          "old_text": "tialized(false);\n\n    // 10. ",
          "new_text": "tr(*event);\n}\n\nvoid Docu",
          "old_line_content": "    event->set_initialized(false);",
          "new_line_content": "    return JS::NonnullGCPtr(*event);",
          "content_same": false
        },
        {
          "line": 1802,
          "old_api": "ot impo",
          "new_api": "de",
          "old_text": "ot impo",
          "new_text": "de(this, deep);\n}\n\n// https:",
          "old_line_content": "        return WebIDL::NotSupportedError::create(realm(), \"Cannot import a document or shadow root.\"_fly_string);",
          "new_line_content": "    return node->clone_node(this, deep);",
          "content_same": false
        },
        {
          "line": 1812,
          "old_api": "// 2. If",
          "new_api": "node.rem",
          "old_text": "\n\n    // 2. If ",
          "new_text": "     node.rem",
          "old_line_content": "    auto& old_document = node.document();",
          "new_line_content": "    if (node.parent())",
          "content_same": false
        },
        {
          "line": 1834,
          "old_api": "_descendant))\n                return T",
          "new_api": "(inclusive_descendant);\n            if (element.",
          "old_text": "_descendant))\n                return T",
          "new_text": "(inclusive_descendant);\n            if (element.",
          "old_line_content": "            if (!is<DOM::Element>(inclusive_descendant))",
          "new_line_content": "            auto& element = static_cast<DOM::Element&>(inclusive_descendant);",
          "content_same": false
        },
        {
          "line": 1838,
          "old_api": "auto&",
          "new_api": "argume",
          "old_text": "             auto& ",
          "new_text": "   argume",
          "old_line_content": "            if (element.is_custom()) {",
          "new_line_content": "                JS::MarkedVector<JS::Value> arguments { vm.heap() };",
          "content_same": false
        },
        {
          "line": 1839,
          "old_api": "JS::Mar",
          "new_api": "ment);\n                argument",
          "old_text": "   JS::Mar",
          "new_text": "ment);\n                argument",
          "old_line_content": "                auto& vm = this->vm();",
          "new_line_content": "                arguments.append(&old_document);",
          "content_same": false
        },
        {
          "line": 1842,
          "old_api": "ment);\n                argument",
          "new_api": "}",
          "old_text": "ment);\n                argument",
          "new_text": "    }\n\n        ",
          "old_line_content": "                arguments.append(&old_document);",
          "new_line_content": "                element.enqueue_a_custom_element_callback_reaction(HTML::CustomElementReactionNames::adoptedCallback, move(arguments));",
          "content_same": false
        },
        {
          "line": 1875,
          "old_api": "return WebIDL::Not",
          "new_api": "return WebIDL::Hie",
          "old_text": " return WebIDL::Not",
          "new_text": "   return WebIDL::Hie",
          "old_line_content": "    if (is<Document>(*node))",
          "new_line_content": "    if (is<ShadowRoot>(*node))",
          "content_same": false
        },
        {
          "line": 1876,
          "old_api": "ument i",
          "new_api": "dow roo",
          "old_text": "ument i",
          "new_text": "dow roo",
          "old_line_content": "        return WebIDL::NotSupportedError::create(realm(), \"Cannot adopt a document into a document\"_fly_string);",
          "new_line_content": "        return WebIDL::HierarchyRequestError::create(realm(), \"Cannot adopt a shadow root into a document\"_fly_string);",
          "content_same": false
        },
        {
          "line": 1878,
          "old_api": "return WebIDL::Hie",
          "new_api": "host",
          "old_text": "   return WebIDL::Hie",
          "new_text": ">(*node).host())\n        return node;\n\n    ",
          "old_line_content": "    if (is<ShadowRoot>(*node))",
          "new_line_content": "    if (is<DocumentFragment>(*node) && verify_cast<DocumentFragment>(*node).host())",
          "content_same": false
        },
        {
          "line": 1881,
          "old_api": "host",
          "new_api": "rn node;\n}\n\nDocum",
          "old_text": ">(*node).host())\n        return node;\n\n    ",
          "new_text": "rn node;\n}\n\nDocum",
          "old_line_content": "    if (is<DocumentFragment>(*node) && verify_cast<DocumentFragment>(*node).host())",
          "new_line_content": "    adopt_node(*node);",
          "content_same": false
        },
        {
          "line": 1914,
          "old_api": ". Set candidate t",
          "new_api": "is);\n\n    // 3. If candidate's",
          "old_text": ". Set candidate t",
          "new_text": "is);\n\n    // 3. If candidate's ",
          "old_line_content": "    Node* candidate = focused_element();",
          "new_line_content": "    candidate = retarget<Node>(candidate, this);",
          "content_same": false
        },
        {
          "line": 1917,
          "old_api": "is);\n\n    // 3. If candidate's",
          "new_api": "set_acti",
          "old_text": "is);\n\n    // 3. If candidate's ",
          "new_text": "\n        set_acti",
          "old_line_content": "    candidate = retarget<Node>(candidate, this);",
          "new_line_content": "    if (&candidate->root() != this) {",
          "content_same": false
        },
        {
          "line": 1931,
          "old_api": "date);\n\n    // 5. If candidate ha",
          "new_api": "{\n        set_active_eleme",
          "old_text": "date);\n\n    // 5. If candidate ha",
          "new_text": "{\n        set_active_eleme",
          "old_line_content": "    auto* candidate_document = static_cast<Document*>(candidate);",
          "new_line_content": "    if (candidate_document->body()) {",
          "content_same": false
        },
        {
          "line": 1964,
          "old_api": "_style_update",
          "new_api": "le",
          "old_text": "_style_update(true);\n    }\n\n    if (paintable()",
          "new_text": "le()->set_n",
          "old_line_content": "        m_focused_element->set_needs_style_update(true);",
          "new_line_content": "    if (paintable())",
          "content_same": false
        },
        {
          "line": 2005,
          "old_api": "style_update",
          "new_api": "ay",
          "old_text": "style_update(true);\n\n    if (paintable())\n    ",
          "new_text": "ay();\n}\n\n// https://html.spec.wh",
          "old_line_content": "        m_target_element->set_needs_style_update(true);",
          "new_line_content": "        paintable()->set_needs_display();",
          "content_same": false
        },
        {
          "line": 2017,
          "old_api": "If fragment is",
          "new_api": "return Document::T",
          "old_text": " If fragment is ",
          "new_text": "  return Document::T",
          "old_line_content": "    auto fragment = url().fragment();",
          "new_line_content": "    if (!fragment.has_value() || fragment->is_empty())",
          "content_same": false
        },
        {
          "line": 2032,
          "old_api": "t);\n\n    // 7. Set potentialIn",
          "new_api": "ly_string",
          "old_text": "t);\n\n    // 7. Set potentialIn",
          "new_text": "ly_string(decoded_fragment)));\n\n    // 8. If potentialI",
          "old_line_content": "    auto decoded_fragment = URL::percent_decode(*fragment);",
          "new_line_content": "    potential_indicated_element = find_a_potential_indicated_element(MUST(FlyString::from_deprecated_fly_string(decoded_fragment)));",
          "content_same": false
        },
        {
          "line": 2083,
          "old_api": "return;\n\n    auto& c",
          "new_api": "(*animation);\n\n    JS::GCPtr<Element> targ",
          "old_text": "return;\n\n    auto& c",
          "new_text": "(*animation);\n\n    JS::GCPtr<Element> targ",
          "old_line_content": "    if (!effect || !effect->is_keyframe_effect() || !animation->is_css_animation() || animation->pending())",
          "new_line_content": "    auto& css_animation = verify_cast<CSS::CSSAnimation>(*animation);",
          "content_same": false
        },
        {
          "line": 2092,
          "old_api": "paintable",
          "new_api": "auto current_phase = eff",
          "old_text": "arget->paintable()-",
          "new_text": "auto current_phase = eff",
          "old_line_content": "    if (target->paintable())",
          "new_line_content": "    auto previous_phase = effect->previous_phase();",
          "content_same": false
        },
        {
          "line": 2093,
          "old_api": "_display",
          "new_api": "ent_iteration =",
          "old_text": "_display();\n\n    auto previous_phase = e",
          "new_text": "ent_iteration =",
          "old_line_content": "        target->paintable()->set_needs_display();",
          "new_line_content": "    auto current_phase = effect->phase();",
          "content_same": false
        },
        {
          "line": 2097,
          "old_api": "lue_or",
          "new_api": ";\n\n        auto dispatch_event",
          "old_text": "lue_or(0.0);\n\n    if (previous_phase != c",
          "new_text": ";\n\n        auto dispatch_event",
          "old_line_content": "    auto current_iteration = effect->current_iteration().value_or(0.0);",
          "new_line_content": "        auto owning_element = css_animation.owning_element();",
          "content_same": false
        },
        {
          "line": 2100,
          "old_api": ";\n\n        auto dispatch_event",
          "new_api": "id",
          "old_text": ";\n\n        auto dispatch_event",
          "new_text": "({\n                .event = CSS::AnimationEvent::create(\n                    owning_element->realm(),\n                    name,\n                    {\n                        { .bubbles = true },\n                        css_animation.id(),\n                        elapsed_time,\n                    }),\n                .animation = css_animation,\n                .target = *target,\n                .scheduled_event_time = HighResolutionTime::unsafe_shared_current_time(),\n            });\n        };\n\n        // For c",
          "old_line_content": "        auto owning_element = css_animation.owning_element();",
          "new_line_content": "            append_pending_animation_event({",
          "content_same": false
        },
        {
          "line": 2121,
          "old_api": "0);\n\n        // - interva",
          "new_api": "0);\n\n        switch (prev",
          "old_text": "0);\n\n        // - interva",
          "new_text": "0);\n\n        switch (prev",
          "old_line_content": "        auto interval_start = max(min(-effect->start_delay(), effect->active_duration()), 0.0);",
          "new_line_content": "        auto interval_end = max(min(effect->end_time() - effect->start_delay(), effect->active_duration()), 0.0);",
          "content_same": false
        },
        {
          "line": 2131,
          "old_api": "s::animationstart, interval_start);\n            } else if (curre",
          "new_api": "s::animationend, interval_end);\n            }\n            br",
          "old_text": "s::animationstart, interval_start);\n            } else if (curre",
          "new_text": "s::animationend, interval_end);\n            }\n            br",
          "old_line_content": "                dispatch_event(HTML::EventNames::animationstart, interval_start);",
          "new_line_content": "                dispatch_event(HTML::EventNames::animationend, interval_end);",
          "content_same": false
        },
        {
          "line": 2153,
          "old_api": "double>();\n                    auto elap",
          "new_api": "::animationiteration, elapsed_time);\n                }",
          "old_text": "double>();\n                    auto elap",
          "new_text": "::animationiteration, elapsed_time);\n                }\n           ",
          "old_line_content": "                    auto iteration_duration = iteration_duration_variant.has<String>() ? 0.0 : iteration_duration_variant.get<double>();",
          "new_line_content": "                    dispatch_event(HTML::EventNames::animationiteration, elapsed_time);",
          "content_same": false
        },
        {
          "line": 2156,
          "old_api": "::animationiteration, elapsed_time);\n                }",
          "new_api": "::animationend, interval_end);\n            }\n            bre",
          "old_text": "::animationiteration, elapsed_time);\n                }\n           ",
          "new_text": "::animationend, interval_end);\n            }\n            bre",
          "old_line_content": "                    dispatch_event(HTML::EventNames::animationiteration, elapsed_time);",
          "new_line_content": "                dispatch_event(HTML::EventNames::animationend, interval_end);",
          "content_same": false
        },
        {
          "line": 2164,
          "old_api": "::animationstart, interval_end);\n            } else if (curren",
          "new_api": "::animationend, interval_start);\n            }\n            bre",
          "old_text": "::animationstart, interval_end);\n            } else if (curren",
          "new_text": "::animationend, interval_start);\n            }\n            bre",
          "old_line_content": "                dispatch_event(HTML::EventNames::animationstart, interval_end);",
          "new_line_content": "                dispatch_event(HTML::EventNames::animationend, interval_start);",
          "content_same": false
        },
        {
          "line": 2175,
          "old_api": "::animationcancel, cancel_time);\n        }\n    }\n    effect->s",
          "new_api": "ent_phase);\n    effect->set_previous_curr",
          "old_text": "::animationcancel, cancel_time);\n        }\n    }\n    effect->s",
          "new_text": "ent_phase);\n    effect->set_previous_curr",
          "old_line_content": "            dispatch_event(HTML::EventNames::animationcancel, cancel_time);",
          "new_line_content": "    effect->set_previous_phase(current_phase);",
          "content_same": false
        },
        {
          "line": 2196,
          "old_api": "// 2. Scroll to the",
          "new_api": "document",
          "old_text": "       // 2. Scroll to the ",
          "new_text": "document();\n\n        // 3. Return.\n      ",
          "old_line_content": "        set_target_element(nullptr);",
          "new_line_content": "        scroll_to_the_beginning_of_the_document();",
          "content_same": false
        },
        {
          "line": 2208,
          "old_api": ";\n\n        // 2. Let target be",
          "new_api": "// 3. Set document's",
          "old_text": ";\n\n        // 2. Let target be",
          "new_text": "\n\n        // 3. Set document's",
          "old_line_content": "        VERIFY(indicated_part.has<Element*>());",
          "new_line_content": "        auto target = indicated_part.get<Element*>();",
          "content_same": false
        },
        {
          "line": 2211,
          "old_api": "// 3. Set document's",
          "new_api": "// FIXME: 4. Run the",
          "old_text": "\n\n        // 3. Set document's",
          "new_text": "      // FIXME: 4. Run the",
          "old_line_content": "        auto target = indicated_part.get<Element*>();",
          "new_line_content": "        set_target_element(target);",
          "content_same": false
        },
        {
          "line": 2283,
          "old_api": "ystatec",
          "new_api": "navigable && navi",
          "old_text": "ystatec",
          "new_text": "navigable && navi",
          "old_line_content": "    dispatch_event(Event::create(realm(), HTML::EventNames::readystatechange));",
          "new_line_content": "        auto navigable = this->navigable();",
          "content_same": false
        },
        {
          "line": 2286,
          "old_api": "navigable && navi",
          "new_api": "release_value_but_fixme_should_propagate_errors",
          "old_text": "navigable && navi",
          "new_text": "lback_favicon_if_needed(*this).release_value_but_fixme_should_propagate_errors();\n            }\n            nav",
          "old_line_content": "        auto navigable = this->navigable();",
          "new_line_content": "                HTML::HTMLLinkElement::load_fallback_favicon_if_needed(*this).release_value_but_fixme_should_propagate_errors();",
          "content_same": false
        },
        {
          "line": 2288,
          "old_api": "HTML::HTMLL",
          "new_api": "",
          "old_text": "     HTML::HTMLL",
          "new_text": "     ",
          "old_line_content": "            if (!is_decoded_svg()) {",
          "new_line_content": "            navigable->traversable_navigable()->page().client().page_did_finish_loading(url());",
          "content_same": false
        },
        {
          "line": 2320,
          "old_api": "\"%m/%d/%Y",
          "new_api": "ng",
          "old_text": "\"%m/%d/%Y",
          "new_text": "ng(format_string));\n\n    return MUST(Core::DateT",
          "old_line_content": "    constexpr auto format_string = \"%m/%d/%Y %H:%M:%S\"sv;",
          "new_line_content": "        return MUST(m_last_modified.value().to_string(format_string));",
          "content_same": false
        },
        {
          "line": 2322,
          "old_api": "return MUST(m_last_mo",
          "new_api": "(format_string));\n}\n\nPage& Document::page()\n{",
          "old_text": "      return MUST(m_last_mo",
          "new_text": "(format_string));\n}\n\nPage& Document::page()\n{\n",
          "old_line_content": "    if (m_last_modified.has_value())",
          "new_line_content": "    return MUST(Core::DateTime::now().to_string(format_string));",
          "content_same": false
        },
        {
          "line": 2359,
          "old_api": "for (auto& document_o",
          "new_api": "function",
          "old_text": "        for (auto& document_o",
          "new_text": "pletely_loaded()->function()();\n        }\n    };\n\n    // 1. A",
          "old_line_content": "        auto observers_to_notify = m_document_observers.values();",
          "new_line_content": "                document_observer->document_completely_loaded()->function()();",
          "content_same": false
        },
        {
          "line": 2367,
          "old_api": "Set document's co",
          "new_api": "/ NOTE: See the end of",
          "old_text": " Set document's co",
          "new_text": "/ NOTE: See the end of ",
          "old_line_content": "    VERIFY(browsing_context());",
          "new_line_content": "    m_completely_loaded_time = AK::UnixDateTime::now();",
          "content_same": false
        },
        {
          "line": 2374,
          "old_api": ";\n\n    // 3. Let container be d",
          "new_api": "return;\n\n    auto con",
          "old_text": ";\n\n    // 3. Let container be d",
          "new_text": "   return;\n\n    auto con",
          "old_line_content": "        m_active_refresh_timer->start();",
          "new_line_content": "    if (!navigable()->container())",
          "content_same": false
        },
        {
          "line": 2377,
          "old_api": "return;\n\n    auto con",
          "new_api": "// 4. If container is a",
          "old_text": "   return;\n\n    auto con",
          "new_text": " // 4. If container is a",
          "old_line_content": "    if (!navigable()->container())",
          "new_line_content": "    auto container = JS::make_handle(navigable()->container());",
          "content_same": false
        },
        {
          "line": 2380,
          "old_api": "// 4. If container is a",
          "new_api": "ntainer)) {\n        container->queue_an",
          "old_text": " // 4. If container is a",
          "new_text": "ntainer)) {\n        container->queue_an",
          "old_line_content": "    auto container = JS::make_handle(navigable()->container());",
          "new_line_content": "    if (container && is<HTML::HTMLIFrameElement>(*container)) {",
          "content_same": false
        },
        {
          "line": 2404,
          "old_api": "urn;\n\n    page().c",
          "new_api": "ing Document::",
          "old_text": "urn;\n\n    page().c",
          "new_text": "ing Document::",
          "old_line_content": "    if (!cookie.has_value())",
          "new_line_content": "    page().client().page_did_set_cookie(m_url, cookie.value(), source);",
          "content_same": false
        },
        {
          "line": 2478,
          "old_api": "ate",
          "new_api": "(builder.to_s",
          "old_text": "ate(builder));\n    serialize_tree_as_json(j",
          "new_text": "(builder.to_s",
          "old_line_content": "    auto json = MUST(JsonObjectSerializer<>::try_create(builder));",
          "new_line_content": "    MUST(json.finish());",
          "content_same": false
        },
        {
          "line": 2479,
          "old_api": "finish",
          "new_api": "ps://html.spec.what",
          "old_text": "    MUST(json.finish());\n   ",
          "new_text": "ps://html.spec.what",
          "old_line_content": "    serialize_tree_as_json(json);",
          "new_line_content": "    return MUST(builder.to_string());",
          "content_same": false
        },
        {
          "line": 2527,
          "old_api": "rsable",
          "new_api": ";\n    if (container_document &&",
          "old_text": "rsable())\n        return true;\n\n    aut",
          "new_text": ";\n    if (container_document &&",
          "old_line_content": "    if (navigable == traversable && traversable->is_top_level_traversable())",
          "new_line_content": "    auto container_document = navigable->container_document();",
          "content_same": false
        },
        {
          "line": 2549,
          "old_api": "rn nullptr;",
          "new_api": "ps://html.spec.whatw",
          "old_text": "rn nullptr;\n\n    ",
          "new_text": "ps://html.spec.whatw",
          "old_line_content": "    if (!is_fully_active())",
          "new_line_content": "    return window()->location();",
          "content_same": false
        },
        {
          "line": 2623,
          "old_api": "auto event = DOM::Eve",
          "new_api": "// FIXME: Fire at the a",
          "old_text": "auto event = DOM::Eve",
          "new_text": "      // FIXME: Fire at the a",
          "old_line_content": "        if (is<Document>(*target)) {",
          "new_line_content": "            target->dispatch_event(event);",
          "content_same": false
        },
        {
          "line": 2661,
          "old_api": "ontinue;\n        JS::GCPtr<CSS",
          "new_api": "_matches = media_query_list",
          "old_text": "ontinue;\n        JS::GCPtr<CSS",
          "new_text": "_matches = media_query_list",
          "old_line_content": "        if (media_query_list_ptr.is_null())",
          "new_line_content": "        bool did_match = media_query_list->matches();",
          "content_same": false
        },
        {
          "line": 2669,
          "old_api": "atches = now_matches;",
          "new_api": "a_query_list->dispatch_even",
          "old_text": "atches = now_matches;\n   ",
          "new_text": "a_query_list->dispatch_even",
          "old_line_content": "            init.media = media_query_list->media();",
          "new_line_content": "            event->set_is_trusted(true);",
          "content_same": false
        },
        {
          "line": 2759,
          "old_api": "to code_points",
          "new_api": "start_character",
          "old_text": "to code_points ",
          "new_text": "start_character(*it",
          "old_line_content": "    if (name.is_empty())",
          "new_line_content": "    auto it = code_points.begin();",
          "content_same": false
        },
        {
          "line": 2761,
          "old_api": "begin",
          "new_api": "eturn false;\n    ++it;\n\n    for (;",
          "old_text": ".begin();\n\n    if ",
          "new_text": "eturn false;\n    ++it;\n\n    for (;",
          "old_line_content": "    auto code_points = name.code_points();",
          "new_line_content": "    if (!is_valid_name_start_character(*it))",
          "content_same": false
        },
        {
          "line": 2779,
          "old_api": "IDL::InvalidCharacterErro",
          "new_api": "ize_t> colon_offset;\n\n    bo",
          "old_text": "IDL::InvalidCharacterErro",
          "new_text": "ize_t> colon_offset;\n\n    bo",
          "old_line_content": "    if (qualified_name.is_empty())",
          "new_line_content": "    auto utf8view = qualified_name.code_points();",
          "content_same": false
        },
        {
          "line": 2788,
          "old_api": "nt = *it;",
          "new_api": "urn WebIDL::InvalidChara",
          "old_text": "nt = *it;\n    ",
          "new_text": "urn WebIDL::InvalidChara",
          "old_line_content": "    for (auto it = utf8view.begin(); it != utf8view.end(); ++it) {",
          "new_line_content": "            if (colon_offset.has_value())",
          "content_same": false
        },
        {
          "line": 2804,
          "old_api": "has_value",
          "new_api": "ment::PrefixAndTagName {",
          "old_text": "\"Invalid character in qualified name.\"_fly_string);\n    }\n\n    if (!colon_offset.has_value())\n ",
          "new_text": "ment::PrefixAndTagName {",
          "old_line_content": "            return WebIDL::InvalidCharacterError::create(realm, \"Invalid character in qualified name.\"_fly_string);",
          "new_line_content": "    if (!colon_offset.has_value())",
          "content_same": false
        },
        {
          "line": 2814,
          "old_api": "\"Qualified name can't start with colon (:).\"_fly_string);\n\n    if (*colon_offset >= (qualified_name.b",
          "new_api": "\"Qualified name can't end with colon (:).\"_fly_string);\n\n    return Document::PrefixAndTagName {",
          "old_text": "\"Qualified name can't start with colon (:).\"_fly_string);\n\n    if (*colon_offset >= (qualified_name.b",
          "new_text": "\"Qualified name can't end with colon (:).\"_fly_string);\n\n    return Document::PrefixAndTagName {\n  ",
          "old_line_content": "        return WebIDL::InvalidCharacterError::create(realm, \"Qualified name can't start with colon (:).\"_fly_string);",
          "new_line_content": "        return WebIDL::InvalidCharacterError::create(realm, \"Qualified name can't end with colon (:).\"_fly_string);",
          "content_same": false
        },
        {
          "line": 2817,
          "old_api": "\"Qualified name can't end with colon (:).\"_fly_string);\n\n    return Document::PrefixAndTagName {",
          "new_api": "ng_view",
          "old_text": "\"Qualified name can't end with colon (:).\"_fly_string);\n\n    return Document::PrefixAndTagName {\n  ",
          "new_text": "ng_view(0, *colon_offset))),\n        .tag_name = MUST(FlyString::from_",
          "old_line_content": "        return WebIDL::InvalidCharacterError::create(realm, \"Qualified name can't end with colon (:).\"_fly_string);",
          "new_line_content": "        .prefix = MUST(FlyString::from_utf8(qualified_name.bytes_as_string_view().substring_view(0, *colon_offset))),",
          "content_same": false
        },
        {
          "line": 2870,
          "old_api": "vent);\n    --m_number_of_things_delaying_the_load_",
          "new_api": "t",
          "old_text": "vent);\n    --m_number_of_things_delaying_the_load_",
          "new_text": "t(m_number_of_things_delaying_the_load_event);\n}\n\nbool Document::anything_is_delaying_the_",
          "old_line_content": "    VERIFY(m_number_of_things_delaying_the_load_event);",
          "new_line_content": "    page().client().page_did_update_resource_count(m_number_of_things_delaying_the_load_event);",
          "content_same": false
        },
        {
          "line": 2906,
          "old_api": "return false;\n\n        return s",
          "new_api": "has_loaded_icon",
          "old_text": "   return false;\n\n        return s",
          "new_text": "ment).has_loaded_icon();\n    });\n\n    if (favicon_link_elements->len",
          "old_line_content": "        if (!is<HTML::HTMLLinkElement>(element))",
          "new_line_content": "        return static_cast<HTML::HTMLLinkElement const&>(element).has_loaded_icon();",
          "content_same": false
        },
        {
          "line": 2909,
          "old_api": "has_loaded_icon",
          "new_api": "dbgln_if(SPAM_DEBUG, \"No fav",
          "old_text": "ment).has_loaded_icon();\n    });\n\n    if (favicon_link_elements->len",
          "new_text": "   dbgln_if(SPAM_DEBUG, \"No fav",
          "old_line_content": "        return static_cast<HTML::HTMLLinkElement const&>(element).has_loaded_icon();",
          "new_line_content": "    if (favicon_link_elements->length() == 0) {",
          "content_same": false
        },
        {
          "line": 2926,
          "old_api": "auto favicon_element =",
          "new_api": "// If the user",
          "old_text": "        auto favicon_element = ",
          "new_text": "        // If the user",
          "old_line_content": "    for (auto i = favicon_link_elements->length(); i-- > 0;) {",
          "new_line_content": "        if (favicon_element == m_active_element.ptr())",
          "content_same": false
        },
        {
          "line": 2973,
          "old_api": "return registr",
          "new_api": "yleSheetList& Document::style_sh",
          "old_text": "return registr",
          "new_text": "yleSheetList& Document::style_sh",
          "old_line_content": "    if (!is.has_value())",
          "new_line_content": "    return registry->get_definition_with_name_and_local_name(is.value(), converted_local_name.to_string());",
          "content_same": false
        },
        {
          "line": 3007,
          "old_api": "fectiveDomain is null, then",
          "new_api": "String {};\n\n    // 3. Return",
          "old_text": "fectiveDomain is null, then",
          "new_text": "String {};\n\n    // 3. Return",
          "old_line_content": "    auto effective_domain = origin().effective_domain();",
          "new_line_content": "    if (!effective_domain.has_value())",
          "content_same": false
        },
        {
          "line": 3064,
          "old_api": "sient_activation",
          "new_api": "olicy_container = m_policy",
          "old_text": "sient_activation(),\n        .sandbo",
          "new_text": "olicy_container = m_policy",
          "old_line_content": "        .has_transient_activation = verify_cast<HTML::Window>(HTML::relevant_global_object(*this)).has_transient_activation(),",
          "new_line_content": "        .fetch_client = relevant_settings_object(),",
          "content_same": false
        },
        {
          "line": 3081,
          "old_api": "auto& navigable_container = s",
          "new_api": "return TraversalDecision::C",
          "old_text": "     auto& navigable_container = s",
          "new_text": "            return TraversalDecision::C",
          "old_line_content": "        if (is<HTML::NavigableContainer>(node)) {",
          "new_line_content": "            if (!navigable_container.content_navigable())",
          "content_same": false
        },
        {
          "line": 3107,
          "old_api": "document's",
          "new_api": "igables.\n    return nav",
          "old_text": " document's",
          "new_text": "igables.\n    return nav",
          "old_line_content": "    navigables.append(*navigable());",
          "new_line_content": "    navigables.extend(descendant_navigables());",
          "content_same": false
        },
        {
          "line": 3133,
          "old_api": "et navigable to navigable's p",
          "new_api": "cestors.\n    return",
          "old_text": "et navigable to navigable's p",
          "new_text": "cestors.\n    return",
          "old_line_content": "        ancestors.prepend(*navigable);",
          "new_line_content": "        navigable = navigable->parent();",
          "content_same": false
        },
        {
          "line": 3152,
          "old_api": "nt's node navigable t",
          "new_api": "return nav",
          "old_text": "nt's node navigable t",
          "new_text": " return nav",
          "old_line_content": "    auto navigables = ancestor_navigables();",
          "new_line_content": "    navigables.append(*navigable());",
          "content_same": false
        },
        {
          "line": 3175,
          "old_api": "return TraversalDecision::Continu",
          "new_api": "return TraversalDecision::Continue;",
          "old_text": "      return TraversalDecision::Continu",
          "new_text": "   return TraversalDecision::Continue;\n",
          "old_line_content": "        if (!navigable_container.content_navigable())",
          "new_line_content": "        navigables.append(*navigable_container.content_navigable());",
          "content_same": false
        },
        {
          "line": 3201,
          "old_api": "// 2. Clear window's map of active t",
          "new_api": "FileAPI::run_unloading_cleanup_ste",
          "old_text": "      // 2. Clear window's map of active t",
          "new_text": "  FileAPI::run_unloading_cleanup_ste",
          "old_line_content": "        window->forcibly_close_all_event_sources();",
          "new_line_content": "        window->clear_map_of_active_timers();",
          "content_same": false
        },
        {
          "line": 3204,
          "old_api": "FileAPI::run_unloading_cleanup_ste",
          "new_api": "// https://html.spec.whatwg.org/multipage/",
          "old_text": "  FileAPI::run_unloading_cleanup_ste",
          "new_text": "\n// https://html.spec.whatwg.org/multipage/",
          "old_line_content": "        window->clear_map_of_active_timers();",
          "new_line_content": "    FileAPI::run_unloading_cleanup_steps(*this);",
          "content_same": false
        },
        {
          "line": 3221,
          "old_api": "e any tasks whose document is",
          "new_api": "document",
          "old_text": "e any tasks whose document is",
          "new_text": "ove_tasks_matching([this](auto& task) {\n        return task.document() == this;\n    });\n\n    // 6. Set document's browsing context to",
          "old_line_content": "    run_unloading_cleanup_steps();",
          "new_line_content": "    HTML::main_thread_event_loop().task_queue().remove_tasks_matching([this](auto& task) {",
          "content_same": false
        },
        {
          "line": 3261,
          "old_api": "ed] { ++number_destroyed; });\n\n            // 2. Destroy a document and its",
          "new_api": "// 4. Wait until num",
          "old_text": "ed] { ++number_destroyed; });\n\n            // 2. Destroy a document and its",
          "new_text": "\n    // 4. Wait until num",
          "old_line_content": "            auto increment_destroyed = JS::create_heap_function(heap, [&number_destroyed] { ++number_destroyed; });",
          "new_line_content": "            child_navigable->active_document()->destroy_a_document_and_its_descendants(move(increment_destroyed));",
          "content_same": false
        },
        {
          "line": 3328,
          "old_api": "t_navi",
          "new_api": ");\n\n            // 1. Abort descendantNavigable'",
          "old_text": "t_navi",
          "new_text": ");\n\n            // 1. Abort descendantNavigable'",
          "old_line_content": "        HTML::queue_global_task(HTML::Task::Source::NavigationAndTraversal, *descendant_navigable->active_window(), JS::create_heap_function(heap(), [this, descendant_navigable = descendant_navigable.ptr()] {",
          "new_line_content": "            descendant_navigable->set_ongoing_navigation({});",
          "content_same": false
        },
        {
          "line": 3331,
          "old_api": ");\n\n            // 1. Abort descendantNavigable'",
          "new_api": ");\n\n            // 2. If descendantNavigable's a",
          "old_text": ");\n\n            // 1. Abort descendantNavigable'",
          "new_text": ");\n\n            // 2. If descendantNavigable's a",
          "old_line_content": "            descendant_navigable->set_ongoing_navigation({});",
          "new_line_content": "            descendant_navigable->active_document()->abort();",
          "content_same": false
        },
        {
          "line": 3334,
          "old_api": ");\n\n            // 2. If descendantNavigable's a",
          "new_api": "ageable)\n                m_salvageable",
          "old_text": ");\n\n            // 2. If descendantNavigable's a",
          "new_text": "ageable)\n                m_salvageable ",
          "old_line_content": "            descendant_navigable->active_document()->abort();",
          "new_line_content": "            if (!descendant_navigable->active_document()->m_salvageable)",
          "content_same": false
        },
        {
          "line": 3381,
          "old_api": "se eventLoop's t",
          "new_api": ");\n\n    // 8. Increase oldDocument's unload coun",
          "old_text": "se eventLoop's t",
          "new_text": ");\n\n    // 8. Increase oldDocument's unload coun",
          "old_line_content": "    auto& event_loop = *verify_cast<Bindings::WebEngineCustomData>(*vm.custom_data()).event_loop;",
          "new_line_content": "    event_loop.increment_termination_nesting_level();",
          "content_same": false
        },
        {
          "line": 3400,
          "old_api": "sition_event",
          "new_api": "te::Hidden);\n    }\n\n    // FIXME: 11. If unloadTimingInfo",
          "old_text": "sition_event(HTML::EventNames",
          "new_text": "te::Hidden);\n    }\n\n    // FIXME: 11. If unloadTimingInfo ",
          "old_line_content": "        verify_cast<HTML::Window>(relevant_global_object(*this)).fire_a_page_transition_event(HTML::EventNames::pagehide, m_salvageable);",
          "new_line_content": "        update_the_visibility_state(HTML::VisibilityState::Hidden);",
          "content_same": false
        },
        {
          "line": 3473,
          "old_api": ":Navigable>> desc",
          "new_api": "is_ancestor_of",
          "old_text": ":Navigable>> desc",
          "new_text": "->is_ancestor_of(*othe",
          "old_line_content": "    auto navigable = this->navigable();",
          "new_line_content": "    for (auto& other_navigable : HTML::all_navigables()) {",
          "content_same": false
        },
        {
          "line": 3478,
          "old_api": "}\n\n    auto unloaded_documents_count = de",
          "new_api": "eue_global_task",
          "old_text": "    }\n\n    auto unloaded_documents_count = de",
          "new_text": "eue_global_task(HTML::Task::",
          "old_line_content": "            descendant_navigables.append(other_navigable);",
          "new_line_content": "    auto unloaded_documents_count = descendant_navigables.size() + 1;",
          "content_same": false
        },
        {
          "line": 3481,
          "old_api": "eue_global_task",
          "new_api": ";\n    }));\n\n    for",
          "old_text": "eue_global_task(HTML::Task::",
          "new_text": ";\n    }));\n\n    for ",
          "old_line_content": "    auto unloaded_documents_count = descendant_navigables.size() + 1;",
          "new_line_content": "        unload(new_document);",
          "content_same": false
        },
        {
          "line": 3531,
          "old_api": "ocument_observer : observers_",
          "new_api": "function",
          "old_text": "ocument_observer : observers_",
          "new_text": "function()();\n    }\n\n    if (m_animation_driver_timer)\n    ",
          "old_line_content": "    auto observers_to_notify = m_document_observers.values();",
          "new_line_content": "            document_observer->document_became_inactive()->function()();",
          "content_same": false
        },
        {
          "line": 3582,
          "old_api": "// Empty document\n    if (!accessibilit",
          "new_api": "add",
          "old_text": "    // Empty document\n    if (!accessibilit",
          "new_text": "n.add(\"type\"sv, \"element\"sv",
          "old_line_content": "    auto json = MUST(JsonObjectSerializer<>::try_create(builder));",
          "new_line_content": "    if (!accessibility_tree->value()) {",
          "content_same": false
        },
        {
          "line": 3586,
          "old_api": "add",
          "new_api": "finish",
          "old_text": "json.add(\"role\"sv, \"document\"sv",
          "new_text": ", *this);\n    }\n\n    MUST(json.finish());\n    return MU",
          "old_line_content": "        MUST(json.add(\"type\"sv, \"element\"sv));",
          "new_line_content": "        accessibility_tree->serialize_tree_as_json(json, *this);",
          "content_same": false
        },
        {
          "line": 3589,
          "old_api": "finish",
          "new_api": "ng",
          "old_text": ", *this);\n    }\n\n    MUST(json.finish());\n    return MU",
          "new_text": "ng());\n}\n\n// ",
          "old_line_content": "        accessibility_tree->serialize_tree_as_json(json, *this);",
          "new_line_content": "    MUST(json.finish());",
          "content_same": false
        },
        {
          "line": 3625,
          "old_api": "rowsing context's",
          "new_api": "is_top_level",
          "old_text": "rowsing context's ",
          "new_text": "window);\n\n    if (m_browsing_context->is_top_level()) ",
          "old_line_content": "    set_window(window);",
          "new_line_content": "    m_browsing_context->window_proxy()->set_window(window);",
          "content_same": false
        },
        {
          "line": 3628,
          "old_api": "is_top_level",
          "new_api": "_in_top_level_browsing_context",
          "old_text": "window);\n\n    if (m_browsing_context->is_top_level()) ",
          "new_text": "_in_top_level_browsing_context(*this);\n    }\n\n    // 3. Set document's visibility st",
          "old_line_content": "    m_browsing_context->window_proxy()->set_window(window);",
          "new_line_content": "        page().client().page_did_change_active_document_in_top_level_browsing_context(*this);",
          "content_same": false
        },
        {
          "line": 3640,
          "old_api": "n_ready = true;\n\n    if (m_needs_to_ca",
          "new_api": "fals",
          "old_text": "n_ready = true;\n\n    if (m_needs_to_ca",
          "new_text": " fals",
          "old_line_content": "    HTML::relevant_settings_object(window).execution_ready = true;",
          "new_line_content": "        navigable()->traversable_navigable()->page().client().page_did_finish_loading(url());",
          "content_same": false
        },
        {
          "line": 3747,
          "old_api": "s internal [[QueuedEntri",
          "new_api": "to wrapped_queue",
          "old_text": "s internal [[QueuedEntri",
          "new_text": "to wrapped_queue",
          "old_line_content": "            auto queue = observer->take_records();",
          "new_line_content": "            if (queue.is_empty())",
          "content_same": false
        },
        {
          "line": 3750,
          "old_api": "to wrapped_queue",
          "new_api": "size",
          "old_text": "to wrapped_queue",
          "new_text": "; i < queue.size(); ++i) {\n",
          "old_line_content": "            if (queue.is_empty())",
          "new_line_content": "            auto wrapped_queue = MUST(JS::Array::create(realm, 0));",
          "content_same": false
        },
        {
          "line": 3754,
          "old_api": "t",
          "new_api": "ck be the va",
          "old_text": "t(i);\n      ",
          "new_text": "ck be the va",
          "old_line_content": "            for (size_t i = 0; i < queue.size(); ++i) {",
          "new_line_content": "                MUST(wrapped_queue->create_data_property(property_index, record.ptr()));",
          "content_same": false
        },
        {
          "line": 3761,
          "old_api": "queue as the first",
          "new_api": "HT",
          "old_text": " queue as the first ",
          "new_text": "            HT",
          "old_line_content": "            auto& callback = observer->callback();",
          "new_line_content": "            auto completion = WebIDL::invoke_callback(callback, observer.ptr(), wrapped_queue, observer.ptr());",
          "content_same": false
        },
        {
          "line": 3774,
          "old_api": "try, passing",
          "new_api": "verEntry>(realm, realm, time, root_bounds, bounding_client_rect, intersection_rect, is_intersecting, intersection_ratio, target);\n\n    // 2. Append it to observers internal [[QueuedEntries",
          "old_text": "try, passing ",
          "new_text": "verEntry>(realm, realm, time, root_bounds, bounding_client_rect, intersection_rect, is_intersecting, intersection_ratio, target);\n\n    // 2. Append it to observers internal [[QueuedEntries",
          "old_line_content": "    auto& realm = this->realm();",
          "new_line_content": "    auto entry = realm.heap().allocate<IntersectionObserver::IntersectionObserverEntry>(realm, realm, time, root_bounds, bounding_client_rect, intersection_rect, is_intersecting, intersection_ratio, target);",
          "content_same": false
        },
        {
          "line": 3777,
          "old_api": "verEntry>(realm, realm, time, root_bounds, bounding_client_rect, intersection_rect, is_intersecting, intersection_ratio, target);\n\n    // 2. Append it to observers internal [[QueuedEntries",
          "new_api": "on observer task for document.",
          "old_text": "verEntry>(realm, realm, time, root_bounds, bounding_client_rect, intersection_rect, is_intersecting, intersection_ratio, target);\n\n    // 2. Append it to observers internal [[QueuedEntries",
          "new_text": "on observer task for document.\n",
          "old_line_content": "    auto entry = realm.heap().allocate<IntersectionObserver::IntersectionObserverEntry>(realm, realm, time, root_bounds, bounding_client_rect, intersection_rect, is_intersecting, intersection_ratio, target);",
          "new_line_content": "    observer.queue_entry({}, entry);",
          "content_same": false
        },
        {
          "line": 3780,
          "old_api": "on observer task for document.",
          "new_api": "/intersection-observer/#compute-th",
          "old_text": "on observer task for document.\n",
          "new_text": "/intersection-observer/#compute-th",
          "old_line_content": "    observer.queue_entry({}, entry);",
          "new_line_content": "    queue_intersection_observer_task();",
          "content_same": false
        },
        {
          "line": 3805,
          "old_api": "on_rect_as_pixel_rect",
          "new_api": "(static_cast<double>(intersection_r",
          "old_text": "on_rect_as_pixel_rect(intersection_rec",
          "new_text": "(static_cast<double>(intersection_r",
          "old_line_content": "    auto root_intersection_rectangle = observer.root_intersection_rectangle();",
          "new_line_content": "    intersection_rect->set_x(static_cast<double>(intersection_rect_as_pixel_rect.x()));",
          "content_same": false
        },
        {
          "line": 3806,
          "old_api": "ntersect",
          "new_api": "idth",
          "old_text": "ntersect(root_intersection_",
          "new_text": "idth(static_cast<double>(intersecti",
          "old_line_content": "    CSSPixelRect intersection_rect_as_pixel_rect(intersection_rect->x(), intersection_rect->y(), intersection_rect->width(), intersection_rect->height());",
          "new_line_content": "    intersection_rect->set_y(static_cast<double>(intersection_rect_as_pixel_rect.y()));",
          "content_same": false
        },
        {
          "line": 3807,
          "old_api": "set_x",
          "new_api": "et_height",
          "old_text": "le);\n    intersection_rect->set_x(static_cast<double>(intersection_rec",
          "new_text": "et_height(static_cast<double>(intersect",
          "old_line_content": "    intersection_rect_as_pixel_rect.intersect(root_intersection_rectangle);",
          "new_line_content": "    intersection_rect->set_width(static_cast<double>(intersection_rect_as_pixel_rect.width()));",
          "content_same": false
        },
        {
          "line": 3808,
          "old_api": "(static_cast<double>(intersection_r",
          "new_api": "ntersectionRect to the coordinate space",
          "old_text": "(static_cast<double>(intersection_r",
          "new_text": "ntersectionRect to the coordinate space ",
          "old_line_content": "    intersection_rect->set_x(static_cast<double>(intersection_rect_as_pixel_rect.x()));",
          "new_line_content": "    intersection_rect->set_height(static_cast<double>(intersection_rect_as_pixel_rect.height()));",
          "content_same": false
        },
        {
          "line": 3855,
          "old_api": "document",
          "new_api": "t.has<JS::Handle<DOM::Element>>(",
          "old_text": "                return node->document();\n            });\n            if (!(observer->root().has<Empty>() && &target->document(",
          "new_text": "t.has<JS::Handle<DOM::Element>>(",
          "old_line_content": "            auto intersection_root_document = intersection_root.visit([](auto& node) -> JS::NonnullGCPtr<Document> {",
          "new_line_content": "            if (!(observer->root().has<Empty>() && &target->document() == intersection_root_document.ptr())",
          "content_same": false
        },
        {
          "line": 3856,
          "old_api": "s<Empty>() && &t",
          "new_api": "// 4. Set targetRect to the DOMRectReadOnly obtai",
          "old_text": "s<Empty>() && &t",
          "new_text": "// 4. Set targetRect to the DOMRectReadOnly obtai",
          "old_line_content": "                return node->document();",
          "new_line_content": "                || !(intersection_root.has<JS::Handle<DOM::Element>>() && !target->is_descendant_of(*intersection_root.get<JS::Handle<DOM::Element>>()))) {",
          "content_same": false
        },
        {
          "line": 3858,
          "old_api": "t.has<JS::Handle<DOM::Element>>(",
          "new_api": "tionRect be the result of running",
          "old_text": "t.has<JS::Handle<DOM::Element>>(",
          "new_text": "tionRect be the result of running ",
          "old_line_content": "            if (!(observer->root().has<Empty>() && &target->document() == intersection_root_document.ptr())",
          "new_line_content": "                target_rect = target->get_bounding_client_rect();",
          "content_same": false
        },
        {
          "line": 3865,
          "old_api": "Area be targetRects area.",
          "new_api": "sectionRects area.",
          "old_text": "Area be targetRects area.\n           ",
          "new_text": "sectionRects area.\n ",
          "old_line_content": "                intersection_rect = compute_intersection(target, observer);",
          "new_line_content": "                auto target_area = target_rect->width() * target_rect->height();",
          "content_same": false
        },
        {
          "line": 3868,
          "old_api": "sectionRects area.",
          "new_api": "e if targetRect and rootBou",
          "old_text": "sectionRects area.\n ",
          "new_text": "e if targetRect and rootBou",
          "old_line_content": "                auto target_area = target_rect->width() * target_rect->height();",
          "new_line_content": "                auto intersection_area = intersection_rect->width() * intersection_rect->height();",
          "content_same": false
        },
        {
          "line": 3888,
          "old_api": "value_or",
          "new_api": "ctionObserverRegistration be",
          "old_text": "hold_value) {\n                                                            return threshold_value > intersection_ratio;\n                                                        })\n                                      .value_or(observer->thresholds().size());\n            }\n\n            // 11. Let intersectionObserverRegistration be t",
          "new_text": "ctionObserverRegistration be ",
          "old_line_content": "                threshold_index = observer->thresholds().find_first_index_if([&intersection_ratio](double threshold_value) {",
          "new_line_content": "                                      .value_or(observer->thresholds().size());",
          "content_same": false
        },
        {
          "line": 3908,
          "old_api": "// SPEC ISSU",
          "new_api": "t_rect, intersection_rect, is_intersecting, intersection_ratio, target);\n            }\n\n            // 15. Assign thresholdIndex to intersectionObserverRe",
          "old_text": "        // SPEC ISSU",
          "new_text": "t_rect, intersection_rect, is_intersecting, intersection_ratio, target);\n            }\n\n            // 15. Assign thresholdIndex to intersectionObserverRe",
          "old_line_content": "                auto root_bounds_as_dom_rect = Geometry::DOMRectReadOnly::construct_impl(realm, static_cast<double>(root_bounds.x()), static_cast<double>(root_bounds.y()), static_cast<double>(root_bounds.width()), static_cast<double>(root_bounds.height())).release_value_but_fixme_should_propagate_errors();",
          "new_line_content": "                queue_an_intersection_observer_entry(observer, time, root_bounds_as_dom_rect, target_rect, intersection_rect, is_intersecting, intersection_ratio, target);",
          "content_same": false
        },
        {
          "line": 3928,
          "old_api": "ent",
          "new_api": "l, set it to a new",
          "old_text": "ent() == this",
          "new_text": "l, set it to a new",
          "old_line_content": "    auto& realm = this->realm();",
          "new_line_content": "    VERIFY(&element.document() == this);",
          "content_same": false
        },
        {
          "line": 3936,
          "old_api": "argument",
          "new_api": "es_length; ++i) {",
          "old_text": "alue> {\n            // For each entry in entries using a method of iteration which does not trigger developer-modifiable array accessors or iteration hooks:\n            auto& entries = verify_cast<JS::Array>(vm.argument(0).as_object());\n            auto entries_length = MUST(MUST(entries.get(vm.names.length)).to_length(vm));\n\n            for (size_t i = 0; i < entries_length; ++i) {\n                auto property_key = JS::PropertyKey { i };\n                auto& entry = verify_cast<IntersectionObserver::IntersectionObserverEntry>(entries.get_without_side_effects(property_key).as_object());\n\n                // 1. Let resumptionSteps be null.\n                JS::GCPtr<JS::HeapFunction<void()>> resumption_steps;\n\n                // 2. If entry.isIntersecting is true, then set resumptionSteps to entry.target's lazy load resumption steps.\n                if (entry.is_intersecting()) {\n                    // 5. Set entry.target's lazy load resumption steps to null.\n                    VERIFY(entry.target()->is_lazy_loading());\n                    resumption_steps = entry.target()->take_lazy_load_resumption_steps({});\n                }\n\n                // 3. If resumptionSteps is null, then return.\n                if (!resumption_steps) {\n                    // NOTE: This is wrong in the spec, since we want to keep processing\n                    //       entries even if one of them doesn't have resumption steps.\n                    // FIXME: Spec bug: https://github.com/whatwg/html/issues/10019\n                    continue;\n                }\n\n                // 4. Stop intersection-observing a lazy loading element for entry.target.\n                // https://html.spec.whatwg.org/multipage/urls-and-fetching.html#stop-intersection-observing-a-lazy-loading-element\n                // 1. Let doc be element's node document.\n                // NOTE: It's `this`.\n\n                // 2. Assert: doc's lazy load intersection observer is not null.\n                VERIFY(m_lazy_load_intersection_observer);\n\n                // 3. Call doc's lazy load intersection observer unobserve method with element as the argument.\n                m_lazy_load_intersection_observer->unobserve(entry.target());\n\n                // 6. Invoke resumptionSteps.\n                resumption_steps->function()();\n            }\n\n            return JS::js_undefined();\n        });\n\n        // FIXME: The options is an IntersectionObserverInit dictionary with the fol",
          "new_text": "es_length; ++i) {\n          ",
          "old_line_content": "        auto callback = JS::NativeFunction::create(realm, \"\", [this](JS::VM& vm) -> JS::ThrowCompletionOr<JS::Value> {",
          "new_line_content": "            auto entries_length = MUST(MUST(entries.get(vm.names.length)).to_length(vm));",
          "content_same": false
        },
        {
          "line": 3949,
          "old_api": "ption steps to null.",
          "new_api": "// 3. If resumptionSteps is null, then return.",
          "old_text": "ption steps to null.\n  ",
          "new_text": " // 3. If resumptionSteps is null, then return.\n   ",
          "old_line_content": "                if (entry.is_intersecting()) {",
          "new_line_content": "                    resumption_steps = entry.target()->take_lazy_load_resumption_steps({});",
          "content_same": false
        },
        {
          "line": 3969,
          "old_api": "intersection observer unobserve method wi",
          "new_api": "ion_steps->fun",
          "old_text": "intersection observer unobserve method wi",
          "new_text": "ion_steps->fun",
          "old_line_content": "                VERIFY(m_lazy_load_intersection_observer);",
          "new_line_content": "                m_lazy_load_intersection_observer->unobserve(entry.target());",
          "content_same": false
        },
        {
          "line": 3972,
          "old_api": "ion_steps->fun",
          "new_api": "});\n\n        // FIXME:",
          "old_text": "ion_steps->fun",
          "new_text": "       });\n\n        // FIXME: ",
          "old_line_content": "                m_lazy_load_intersection_observer->unobserve(entry.target());",
          "new_line_content": "                resumption_steps->function()();",
          "content_same": false
        },
        {
          "line": 3975,
          "old_api": "});\n\n        // FIXME:",
          "new_api": "erInit dictionary",
          "old_text": "       });\n\n        // FIXME: ",
          "new_text": "erInit dictionary ",
          "old_line_content": "                resumption_steps->function()();",
          "new_line_content": "            return JS::js_undefined();",
          "content_same": false
        },
        {
          "line": 4011,
          "old_api": "is_empty",
          "new_api": "t U+002E (.), then ret",
          "old_text": " (time_string.is_empty()) {\n       ",
          "new_text": "t U+002E (.), then ret",
          "old_line_content": "    auto time_string = lexer.consume_while(is_ascii_digit);",
          "new_line_content": "    if (time_string.is_empty()) {",
          "content_same": false
        },
        {
          "line": 4021,
          "old_api": "I digits, this can only fail because of overflow.",
          "new_api": "uence of code poin",
          "old_text": "I digits, this can only fail because of overflow. ",
          "new_text": "uence of code poin",
          "old_line_content": "    auto maybe_time = Web::HTML::parse_non_negative_integer(time_string);",
          "new_line_content": "    if (maybe_time.has_value() && maybe_time.value() < NumericLimits<int>::max() && !Checked<int>::multiplication_would_overflow(static_cast<int>(maybe_time.value()), 1000)) {",
          "content_same": false
        },
        {
          "line": 4035,
          "old_api": "",
          "new_api": "(;), U+002C (",
          "old_text": "     ",
          "new_text": " (;), U+002C (",
          "old_line_content": "    auto url_record = url();",
          "new_line_content": "    if (!lexer.is_eof()) {",
          "content_same": false
        },
        {
          "line": 4044,
          "old_api": "ed to by position is U+003B (;) or U+002C (,),",
          "new_api": "nput given p",
          "old_text": "ed to by position is U+003B (;) or U+002C (,),",
          "new_text": "nput given p",
          "old_line_content": "        lexer.ignore_while(Infra::is_ascii_whitespace);",
          "new_line_content": "        if (lexer.peek() == ';' || lexer.peek() == ',')",
          "content_same": false
        },
        {
          "line": 4048,
          "old_api": "ignore_while",
          "new_api": "is_eof",
          "old_text": "r.ignore_while(",
          "new_text": "nd of input, then:\n    if (!lexer.is_eof()) {\n",
          "old_line_content": "            lexer.ignore(1);",
          "new_line_content": "        lexer.ignore_while(Infra::is_ascii_whitespace);",
          "content_same": false
        },
        {
          "line": 4057,
          "old_api": "U) or U+0075 (u),",
          "new_api": "// 3.",
          "old_text": "U) or U+0075 (u),",
          "new_text": "       // 3.",
          "old_line_content": "        auto url_string = lexer.remaining();",
          "new_line_content": "        if (lexer.peek() == 'U' || lexer.peek() == 'u')",
          "content_same": false
        },
        {
          "line": 4078,
          "old_api": "ed to by position is U+003D (=), then advance",
          "new_api": "// 7. Skip",
          "old_text": "ed to by position is U+003D (=), then advance ",
          "new_text": " // 7. Skip ",
          "old_line_content": "        lexer.ignore_while(Infra::is_ascii_whitespace);",
          "new_line_content": "        if (lexer.peek() == '=')",
          "content_same": false
        },
        {
          "line": 4124,
          "old_api": "return;\n\n        auto navig",
          "new_api": "n;\n\n        MUST(",
          "old_text": " return;\n\n        auto navig",
          "new_text": "n;\n\n        MUST(",
          "old_line_content": "        if (has_meta_element && has_flag(active_sandboxing_flag_set(), HTML::SandboxingFlagSet::SandboxedAutomaticFeatures))",
          "new_line_content": "        auto navigable = this->navigable();",
          "content_same": false
        },
        {
          "line": 4128,
          "old_api": "url_record, .source_document =",
          "new_api": "::NavigationHistoryBehavior::Replace }));\n    });\n\n    // For the purposes of the previous paragraph, a refresh is said to have come d",
          "old_text": " url_record, .source_document =",
          "new_text": "::NavigationHistoryBehavior::Replace }));\n    });\n\n    // For the purposes of the previous paragraph, a refresh is said to have come d",
          "old_line_content": "        if (!navigable || navigable->has_been_destroyed())",
          "new_line_content": "        MUST(navigable->navigate({ .url = url_record, .source_document = *this, .history_handling = Bindings::NavigationHistoryBehavior::Replace }));",
          "content_same": false
        },
        {
          "line": 4170,
          "old_api": "set_state",
          "new_api": "html#update-document-for-histo",
          "old_text": "ory->set_state(state_or_e",
          "new_text": "html#update-document-for-histo",
          "old_line_content": "    if (state_or_error.is_error())",
          "new_line_content": "        m_history->set_state(state_or_error.release_value());",
          "content_same": false
        },
        {
          "line": 4186,
          "old_api": "scriptHi",
          "new_api": "// N",
          "old_text": " scriptHi",
          "new_text": "\n    // N",
          "old_line_content": "    history()->m_index = script_history_index;",
          "new_line_content": "    history()->m_length = script_history_length;",
          "content_same": false
        },
        {
          "line": 4203,
          "old_api": "obal object's navigation API.\n        a",
          "new_api": "en:\n        if (!document_is_new) {",
          "old_text": "obal object's navigation API.\n        a",
          "new_text": "en:\n        if (!document_is_new) {",
          "old_line_content": "        restore_the_history_object_state(entry);",
          "new_line_content": "        auto navigation = verify_cast<HTML::Window>(HTML::relevant_global_object(*this)).navigation();",
          "content_same": false
        },
        {
          "line": 4224,
          "old_api": "(HTML::relevant_global_ob",
          "new_api": "sted state given entry.\n\n            // 4. If oldURL's",
          "old_text": "(HTML::relevant_global_ob",
          "new_text": "sted state given entry.\n\n            // 4. If oldURL's",
          "old_line_content": "            popstate_event_init.state = history()->unsafe_state();",
          "new_line_content": "            relevant_global_object.dispatch_event(pop_state_event);",
          "content_same": false
        },
        {
          "line": 4235,
          "old_api": "hashchange",
          "new_api": "te",
          "old_text": "             hashchange",
          "new_text": "te(realm(), \"hashchange\"",
          "old_line_content": "            if (old_url.fragment() != entry->url().fragment()) {",
          "new_line_content": "                hashchange_event_init.new_url = MUST(String::from_byte_string(entry->url().serialize()));",
          "content_same": false
        },
        {
          "line": 4237,
          "old_api": "url",
          "new_api": "ect.di",
          "old_text": "tring(entry->url().",
          "new_text": "ect.di",
          "old_line_content": "                hashchange_event_init.old_url = MUST(String::from_byte_string(old_url.serialize()));",
          "new_line_content": "                HTML::queue_global_task(HTML::Task::Source::DOMManipulation, relevant_global_object, JS::create_heap_function(heap(), [hashchange_event, &relevant_global_object]() {",
          "content_same": false
        },
        {
          "line": 4238,
          "old_api": "te",
          "new_api": "}\n\n        // 6. Otherwise:\n        else {",
          "old_text": "te(realm(), \"hashchange\"",
          "new_text": "     }\n\n        // 6. Otherwise:\n        else {\n       ",
          "old_line_content": "                hashchange_event_init.new_url = MUST(String::from_byte_string(entry->url().serialize()));",
          "new_line_content": "                    relevant_global_object.dispatch_event(hashchange_event);",
          "content_same": false
        },
        {
          "line": 4320,
          "old_api": "replaced_animations",
          "new_api": "otask_checkpoint",
          "old_text": "replaced_animations();\n\n    // 3. Per",
          "new_text": "otask_checkpoint();\n\n    // ",
          "old_line_content": "        timeline->set_current_time(timestamp);",
          "new_line_content": "    remove_replaced_animations();",
          "content_same": false
        },
        {
          "line": 4323,
          "old_api": "otask_checkpoint",
          "new_api": "ing animation event queue.\n    // 5. C",
          "old_text": "otask_checkpoint();\n\n    // ",
          "new_text": "ing animation event queue.\n    // 5. C",
          "old_line_content": "    remove_replaced_animations();",
          "new_line_content": "    HTML::perform_a_microtask_checkpoint();",
          "content_same": false
        },
        {
          "line": 4336,
          "old_api": "s_to_dispatch, [&](auto const& a, auto const& b) {\n        // S",
          "new_api": "has_value",
          "old_text": "s_to_dispatch, [&](auto const& a, auto const& b) {\n        // S",
          "new_text": "their scheduled event time such that events that were scheduled to occur earlier, sort\n        // before events scheduled to occur later and events whose scheduled event time is unresolved sort before events\n        // with a resolved scheduled event time.\n        //\n        // Within events with equal scheduled event times, sort by their composite order.\n        if (b.scheduled_event_time.has_value()) {\n            if (!a.scheduled_event_time.has_value())\n                return true;\n\n            auto a_time = a.scheduled_event_time.value();\n            auto b_time = b.scheduled_event_time.value();\n            if (a_time == b_time)\n                return sort_events_by_composite_order(a, b);\n\n            return a.scheduled_event_time.value() < b.scheduled_event_time.value();\n        }\n\n        if (a.scheduled_event_time.has_value())\n            return false;\n\n        return sort_events_by_composite_order(a, b);\n    });\n\n    // 7. Dispatch each of the events in events to dispatch at their corresponding target using th",
          "old_line_content": "        return Animations::KeyframeEffect::composite_order(a_effect, b_effect) < 0;",
          "new_line_content": "    insertion_sort(events_to_dispatch, [&](auto const& a, auto const& b) {",
          "content_same": false
        },
        {
          "line": 4346,
          "old_api": "value",
          "new_api": "if (a_time == b_time)",
          "old_text": "ed_event_time.value();\n           ",
          "new_text": " if (a_time == b_time)\n       ",
          "old_line_content": "            if (!a.scheduled_event_time.has_value())",
          "new_line_content": "            auto a_time = a.scheduled_event_time.value();",
          "content_same": false
        },
        {
          "line": 4349,
          "old_api": "if (a_time == b_time)",
          "new_api": "value",
          "old_text": " if (a_time == b_time)\n       ",
          "new_text": "d_event_time.value();\n        }\n\n   ",
          "old_line_content": "            auto a_time = a.scheduled_event_time.value();",
          "new_line_content": "                return sort_events_by_composite_order(a, b);",
          "content_same": false
        },
        {
          "line": 4354,
          "old_api": "return false;\n\n        retur",
          "new_api": "e_order",
          "old_text": "  return false;\n\n        retur",
          "new_text": "e_order(a, b);\n    });\n\n    // 7. ",
          "old_line_content": "            return a.scheduled_event_time.value() < b.scheduled_event_time.value();",
          "new_line_content": "        if (a.scheduled_event_time.has_value())",
          "content_same": false
        },
        {
          "line": 4357,
          "old_api": "e_order",
          "new_api": "patch at their corresponding target",
          "old_text": "e_order(a, b);\n    });\n\n    // 7. ",
          "new_text": "patch at their corresponding target ",
          "old_line_content": "        if (a.scheduled_event_time.has_value())",
          "new_line_content": "        return sort_events_by_composite_order(a, b);",
          "content_same": false
        },
        {
          "line": 4366,
          "old_api": "s) {\n        for (auto& animation : timel",
          "new_api": "}\n}\n\n// https://www.w3.org/T",
          "old_text": "s) {\n        for (auto& animation : timel",
          "new_text": "\n    }\n}\n\n// https://www.w3.org/T",
          "old_line_content": "        event.target->dispatch_event(event.event);",
          "new_line_content": "        for (auto& animation : timeline->associated_animations())",
          "content_same": false
        },
        {
          "line": 4388,
          "old_api": "is_replaceable",
          "new_api": "Bindings::AnimationReplace",
          "old_text": "ion->is_replaceable())\n                co",
          "new_text": " Bindings::AnimationReplace",
          "old_line_content": "            if (!animation->effect() || !animation->effect()->target() || &animation->effect()->target()->document() != this)",
          "new_line_content": "            if (!animation->is_replaceable())",
          "content_same": false
        },
        {
          "line": 4391,
          "old_api": "Bindings::AnimationReplace",
          "new_api": "// Composite orde",
          "old_text": " Bindings::AnimationReplace",
          "new_text": "         // Composite orde",
          "old_line_content": "            if (!animation->is_replaceable())",
          "new_line_content": "            if (animation->replace_state() != Bindings::AnimationReplaceState::Active)",
          "content_same": false
        },
        {
          "line": 4398,
          "old_api": "append",
          "new_api": "JS::NonnullGCPtr<Animations::Animation>&",
          "old_text": "ons.append(animation);\n        }\n    }\n\n ",
          "new_text": "JS::NonnullGCPtr<Animations::Animation>&",
          "old_line_content": "            if (!animation->effect()->is_keyframe_effect())",
          "new_line_content": "            replaceable_animations.append(animation);",
          "content_same": false
        },
        {
          "line": 4405,
          "old_api": "ptr",
          "new_api": "r",
          "old_text": "imations::Animation>& b) {\n        VERIFY(a->effect()->is_keyframe_effect());\n        VERIFY(b->effect()->is_keyframe_effect());\n        auto& a_effect = *static_cast<Animations::KeyframeEffect*>(a->effect().ptr());\n        auto& b_effect = *static_cast<Animations::KeyframeEffect*>(b->effect().ptr());\n        return Animations::KeyframeEffect::composite_order(a_effect, b_effect) < 0;\n    });\n\n    // Lower value = higher priority\n    HashMap<CSS::PropertyID, size_t> highest_property_composi",
          "new_text": "r());\n        ret",
          "old_line_content": "    quick_sort(replaceable_animations, [](JS::NonnullGCPtr<Animations::Animation>& a, JS::NonnullGCPtr<Animations::Animation>& b) {",
          "new_line_content": "        auto& a_effect = *static_cast<Animations::KeyframeEffect*>(a->effect().ptr());",
          "content_same": false
        },
        {
          "line": 4406,
          "old_api": "a_effect = *static_cast<Animation",
          "new_api": "0;\n    });\n\n    /",
          "old_text": "a_effect = *static_cast<Animation",
          "new_text": "0;\n    });\n\n    /",
          "old_line_content": "        VERIFY(a->effect()->is_keyframe_effect());",
          "new_line_content": "        auto& b_effect = *static_cast<Animations::KeyframeEffect*>(b->effect().ptr());",
          "content_same": false
        },
        {
          "line": 4407,
          "old_api": "ptr",
          "new_api": "gher priority\n    HashMap<CSS::PropertyID, size_t> highest_prop",
          "old_text": ">(a->effect().ptr());\n        aut",
          "new_text": "gher priority\n    HashMap<CSS::PropertyID, size_t> highest_prop",
          "old_line_content": "        VERIFY(b->effect()->is_keyframe_effect());",
          "new_line_content": "        return Animations::KeyframeEffect::composite_order(a_effect, b_effect) < 0;",
          "content_same": false
        },
        {
          "line": 4419,
          "old_api": "ns",
          "new_api": "hest_priority_property) {\n            // perform t",
          "old_text": "ns(property)) {\n                has_any_",
          "new_text": "hest_priority_property) {\n            // perform t",
          "old_line_content": "        for (auto const& property : animation->effect()->target_properties()) {",
          "new_line_content": "                highest_property_composite_orders.set(property, i);",
          "content_same": false
        },
        {
          "line": 4470,
          "old_api": "is_empty",
          "new_api": "break;\n                }\n            }",
          "old_text": "or (auto& timeline : m_associated_animation_timelines) {\n                if (!timeline->associated_animations().is_empty()) {\n                    has_animations = true;\n                    break;\n                }\n            }\n            if (!has_animations) {\n                m_animation_driver_timer->stop();\n                return;\n            }\n            auto* window_or_worker = dynamic_cast<HTML::WindowOrWorkerGlobalScopeMixin*>(&realm().global_object());\n            VERIFY(window_or_worker);\n            update_animations_and_send_events(window_or_worker->performance()->now());\n        });\n    }\n\n    m_animation_driver_timer->start();\n}\n\nVector<JS::NonnullGCPtr<Animations::Animation>> Document::",
          "new_text": "  break;\n                }\n            }\n   ",
          "old_line_content": "        m_animation_driver_timer = Core::Timer::create_repeating(timer_delay_ms, [this] {",
          "new_line_content": "                if (!timeline->associated_animations().is_empty()) {",
          "content_same": false
        },
        {
          "line": 4479,
          "old_api": "dynamic_cast<HTML::WindowOrWorke",
          "new_api": "(window_or_worker->perf",
          "old_text": "dynamic_cast<HTML::WindowOrWorke",
          "new_text": "(window_or_worker->perf",
          "old_line_content": "                m_animation_driver_timer->stop();",
          "new_line_content": "            auto* window_or_worker = dynamic_cast<HTML::WindowOrWorkerGlobalScopeMixin*>(&realm().global_object());",
          "content_same": false
        },
        {
          "line": 4520,
          "old_api": "has_value",
          "new_api": ";\n}\n\nvoid Documen",
          "old_text": "position(element) & Node::DOCUMENT_POSITION_FOLLOWING;\n    });\n    if (index.has_value())\n        elements.insert(index.value(), element);\n    else\n        elements.appen",
          "new_text": ";\n}\n\nvoid Documen",
          "old_line_content": "    auto index = elements.find_first_index_if([&](auto& existing_element) {",
          "new_line_content": "    if (index.has_value())",
          "content_same": false
        },
        {
          "line": 4521,
          "old_api": "has_value",
          "new_api": "e<DOM::Elemen",
          "old_text": "ex.has_value())\n        elements.insert(index.value(",
          "new_text": "e<DOM::Elemen",
          "old_line_content": "        return existing_element->compare_document_position(element) & Node::DOCUMENT_POSITION_FOLLOWING;",
          "new_line_content": "        elements.insert(index.value(), element);",
          "content_same": false
        },
        {
          "line": 4523,
          "old_api": ";\n}\n\nvoid Documen",
          "new_api": "ment> element)\n{\n    for",
          "old_text": ";\n}\n\nvoid Documen",
          "new_text": "ment> element)\n{\n    for",
          "old_line_content": "    if (index.has_value())",
          "new_line_content": "        elements.append(element);",
          "content_same": false
        },
        {
          "line": 4532,
          "old_api": "rder",
          "new_api": "remove_first_matching",
          "old_text": "rder(m_potentially_named_elements, element);\n  ",
          "new_text": "nts.remove_first_matching([element](auto& e) { return e == ",
          "old_line_content": "        form_associated_element->element_id_changed({});",
          "new_line_content": "        insert_in_tree_order(m_potentially_named_elements, element);",
          "content_same": false
        },
        {
          "line": 4534,
          "old_api": "(void)m_potentially_n",
          "new_api": "ment::element_with_id_was_added(Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element)\n{",
          "old_text": "    (void)m_potentially_n",
          "new_text": "ment::element_with_id_was_added(Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element)\n{\n",
          "old_line_content": "    if (element->id().has_value())",
          "new_line_content": "        (void)m_potentially_named_elements.remove_first_matching([element](auto& e) { return e == element; });",
          "content_same": false
        },
        {
          "line": 4543,
          "old_api": "d",
          "new_api": "dge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element)",
          "old_text": "d(*element))\n        insert_in_tree_order(m_potentially_named_ele",
          "new_text": "dge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element)\n",
          "old_line_content": "        form_associated_element->element_with_id_was_added_or_removed({});",
          "new_line_content": "        insert_in_tree_order(m_potentially_named_elements, element);",
          "content_same": false
        },
        {
          "line": 4552,
          "old_api": "d",
          "new_api": "ment::element_name_changed(Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element)\n{\n    i",
          "old_text": "d(*element))\n        (void)m_potentially_named_elements.remove_fi",
          "new_text": "ment::element_name_changed(Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element)\n{\n    i",
          "old_line_content": "        form_associated_element->element_with_id_was_added_or_removed({});",
          "new_line_content": "        (void)m_potentially_named_elements.remove_first_matching([element](auto& e) { return e == element; });",
          "content_same": false
        },
        {
          "line": 4560,
          "old_api": "e {\n        if (is_potentia",
          "new_api": "ng",
          "old_text": "e {\n        if (is_potentia",
          "new_text": "ng([element](auto& e) { r",
          "old_line_content": "    if (element->name().has_value()) {",
          "new_line_content": "        if (is_potentially_named_element_by_id(element) && element->id().has_value())",
          "content_same": false
        },
        {
          "line": 4577,
          "old_api": "has_value",
          "new_api": "d Document::add_form_associated_element_with_form_attribute(HTML::FormAssociatedElement& form_a",
          "old_text": "id().has_value())\n            return;",
          "new_text": "d Document::add_form_associated_element_with_form_attribute(HTML::FormAssociatedElement& form_a",
          "old_line_content": "    if (is_potentially_named_element(element)) {",
          "new_line_content": "        (void)m_potentially_named_elements.remove_first_matching([element](auto& e) { return e == element; });",
          "content_same": false
        },
        {
          "line": 4617,
          "old_api": "to be at the start of this.",
          "new_api": "RY",
          "old_text": "to be at the start of this.\n       ",
          "new_text": "RY(active_range->s",
          "old_line_content": "        set_design_mode_enabled_state(true);",
          "new_line_content": "            if (auto active_range = selection->range(); active_range) {",
          "content_same": false
        },
        {
          "line": 4619,
          "old_api": "TRY(ac",
          "new_api": "the focusing steps for this's d",
          "old_text": "         TRY(ac",
          "new_text": "the focusing steps for this's d",
          "old_line_content": "        if (auto selection = get_selection(); selection) {",
          "new_line_content": "                TRY(active_range->set_end(*this, 0));",
          "content_same": false
        },
        {
          "line": 4620,
          "old_api": "RY",
          "new_api": "non-null.",
          "old_text": "RY(active_range->s",
          "new_text": " non-null.\n    ",
          "old_line_content": "            if (auto active_range = selection->range(); active_range) {",
          "new_line_content": "                update_layout();",
          "content_same": false
        },
        {
          "line": 4643,
          "old_api": "the scroll bar.",
          "new_api": "update_layout();",
          "old_text": " the scroll bar.\n    ",
          "new_text": "   update_layout();\n\n ",
          "old_line_content": "    auto viewport_rect = this->viewport_rect();",
          "new_line_content": "    if (x < 0 || y < 0 || position.x() > viewport_rect.width() || position.y() > viewport_rect.height())",
          "content_same": false
        },
        {
          "line": 4655,
          "old_api": "::Exact, [&](Painting",
          "new_api": ":Break;\n            }",
          "old_text": "::Exact, [&](Painting",
          "new_text": ":Break;\n            }\n",
          "old_line_content": "    if (auto const* paintable_box = this->paintable_box(); paintable_box) {",
          "new_line_content": "            if (dom_node && dom_node->is_element()) {",
          "content_same": false
        },
        {
          "line": 4666,
          "old_api": "inate these steps.\n    if (",
          "new_api": "n null.\n    return nullptr;\n}",
          "old_text": "inate these steps.\n    if (",
          "new_text": "n null.\n    return nullptr;\n}\n",
          "old_line_content": "        return static_cast<Element*>(hit_test_result->dom_node());",
          "new_line_content": "    if (auto const* document_root_element = first_child_of_type<Element>(); document_root_element)",
          "content_same": false
        },
        {
          "line": 4685,
          "old_api": "the scroll bar.",
          "new_api": "update_layout();",
          "old_text": " the scroll bar.\n    ",
          "new_text": "    update_layout();\n\n",
          "old_line_content": "    auto viewport_rect = this->viewport_rect();",
          "new_line_content": "    if (x < 0 || y < 0 || position.x() > viewport_rect.width() || position.y() > viewport_rect.height())",
          "content_same": false
        },
        {
          "line": 4697,
          "old_api": "::Exact, [&](Painting",
          "new_api": "TraversalDecision::Co",
          "old_text": "::Exact, [&](Painting",
          "new_text": " TraversalDecision::Co",
          "old_line_content": "    if (auto const* paintable_box = this->paintable_box(); paintable_box) {",
          "new_line_content": "            if (dom_node && dom_node->is_element())",
          "content_same": false
        },
        {
          "line": 4698,
          "old_api": "dom_node",
          "new_api": ". If the document has a root el",
          "old_text": "     auto* dom_node = result.dom_node();\n            if (dom_node && dom_node->is_element())\n                sequence.append(*static_cast<Element*>(dom_node));\n            return TraversalDecision::Continue;\n        });\n    }\n\n    // 4. If the document has a root element, and the last item in sequence is not the root element,",
          "new_text": ". If the document has a root el",
          "old_line_content": "        (void)paintable_box->hit_test(position, Painting::HitTestType::Exact, [&](Painting::HitTestResult result) {",
          "new_line_content": "                sequence.append(*static_cast<Element*>(dom_node));",
          "content_same": false
        },
        {
          "line": 4719,
          "old_api": "e body element a",
          "new_api": "t these steps.\n        return nullptr;",
          "old_text": "e body element a",
          "new_text": "t these steps.\n        return nullptr;\n  ",
          "old_line_content": "    if (in_quirks_mode()) {",
          "new_line_content": "        if (auto const* body_element = body(); body_element && !body_element->is_potentially_scrollable())",
          "content_same": false
        },
        {
          "line": 4758,
          "old_api": "nt>(*element)",
          "new_api": "t))) {\n            if (auto name = e",
          "old_text": "nt>(*element)\n     ",
          "new_text": "t))) {\n            if (auto name = e",
          "old_line_content": "        if ((is<HTML::HTMLEmbedElement>(*element) && is_exposed(element))",
          "new_line_content": "            || is<HTML::HTMLImageElement>(*element)",
          "content_same": false
        },
        {
          "line": 4759,
          "old_api": "::HTMLImageElement>(*element)",
          "new_api": "value",
          "old_text": "::HTMLImageElement>(*element)\n     ",
          "new_text": "set(name.value());\n",
          "old_line_content": "            || is<HTML::HTMLFormElement>(*element)",
          "new_line_content": "            || (is<HTML::HTMLObjectElement>(*element) && is_exposed(element))) {",
          "content_same": false
        },
        {
          "line": 4760,
          "old_api": "ML::HTMLObjectElement>(*element) && i",
          "new_api": "the id content",
          "old_text": "ML::HTMLObjectElement>(*element) && i",
          "new_text": " the id content ",
          "old_line_content": "            || is<HTML::HTMLIFrameElement>(*element)",
          "new_line_content": "            if (auto name = element->name(); name.has_value()) {",
          "content_same": false
        },
        {
          "line": 4761,
          "old_api": "t))) {\n            if (auto name = e",
          "new_api": "ct elements",
          "old_text": "t))) {\n            if (auto name = e",
          "new_text": "ct elements ",
          "old_line_content": "            || is<HTML::HTMLImageElement>(*element)",
          "new_line_content": "                names.set(name.value());",
          "content_same": false
        },
        {
          "line": 4794,
          "old_api": "nt)\n        || is<H",
          "new_api": "name",
          "old_text": "nt)\n        || is<H",
          "new_text": "\n        if (element.name() == name",
          "old_line_content": "    if ((is<HTML::HTMLEmbedElement>(element) && is_exposed(element))",
          "new_line_content": "        || is<HTML::HTMLImageElement>(element)",
          "content_same": false
        },
        {
          "line": 4795,
          "old_api": "eElement>(element)\n        || (is<",
          "new_api": "ject elements that",
          "old_text": "eElement>(element)\n        || (is<",
          "new_text": "ject elements that ",
          "old_line_content": "        || is<HTML::HTMLFormElement>(element)",
          "new_line_content": "        || (is<HTML::HTMLObjectElement>(element) && is_exposed(element))) {",
          "content_same": false
        },
        {
          "line": 4796,
          "old_api": "jectElement>(element) && is_exposed(",
          "new_api": "t attribute wh",
          "old_text": "jectElement>(element) && is_exposed(",
          "new_text": "t attribute wh",
          "old_line_content": "        || is<HTML::HTMLIFrameElement>(element)",
          "new_line_content": "        if (element.name() == name)",
          "content_same": false
        },
        {
          "line": 4840,
          "old_api": "if (ifram",
          "new_api": "size",
          "old_text": "       if (ifram",
          "new_text": " element, return that element.\n    if (elements.size() ==",
          "old_line_content": "    if (elements.size() == 1 && is<HTML::HTMLIFrameElement>(*elements.first())) {",
          "new_line_content": "            return iframe_element.content_navigable()->active_window_proxy();",
          "content_same": false
        },
        {
          "line": 4848,
          "old_api": "es only named el",
          "new_api": "d_element_with_name",
          "old_text": "es only named el",
          "new_text": "d_element_with_name(element",
          "old_line_content": "        return elements.first();",
          "new_line_content": "    return HTMLCollection::create(*const_cast<Document*>(this), HTMLCollection::Scope::Descendants, [name](auto& element) {",
          "content_same": false
        },
        {
          "line": 4913,
          "old_api": "s step:\n        for (auto const& ob",
          "new_api": ">is_active()) {",
          "old_text": "s step:\n        for (auto const& ob",
          "new_text": ">is_active()) {\n               ",
          "old_line_content": "        observer->skipped_targets().clear();",
          "new_line_content": "        for (auto const& observation : observer->observation_targets()) {",
          "content_same": false
        },
        {
          "line": 4924,
          "old_api": "tion to [[skippedTargets]].",
          "new_api": "ts.csswg.org/resize-observer-1/#broadcast-activ",
          "old_text": "tion to [[skippedTargets]].\n                  ",
          "new_text": "ts.csswg.org/resize-observer-1/#broadcast-activ",
          "old_line_content": "                    observer->active_targets().append(observation);",
          "new_line_content": "                    observer->skipped_targets().append(observation);",
          "content_same": false
        },
        {
          "line": 4953,
          "old_api": "entries.app",
          "new_api": "ch (observation->obse",
          "old_text": "          entries.app",
          "new_text": "ch (observation->obse",
          "old_line_content": "            auto entry = ResizeObserver::ResizeObserverEntry::create_and_populate(realm(), *observation->target()).release_value_but_fixme_should_propagate_errors();",
          "new_line_content": "            entries.append(entry);",
          "content_same": false
        },
        {
          "line": 4956,
          "old_api": "ch (observation->obse",
          "new_api": "ching sizes are entry.borde",
          "old_text": "ch (observation->obse",
          "new_text": "ching sizes are entry.borde",
          "old_line_content": "            entries.append(entry);",
          "new_line_content": "            switch (observation->observed_box()) {",
          "content_same": false
        },
        {
          "line": 4959,
          "old_api": "ching sizes are entry.borde",
          "new_api": "// Matching",
          "old_text": "ching sizes are entry.borde",
          "new_text": "             // Matching",
          "old_line_content": "            switch (observation->observed_box()) {",
          "new_line_content": "                observation->last_reported_sizes() = entry->border_box_size();",
          "content_same": false
        },
        {
          "line": 4970,
          "old_api": "D",
          "new_api": "observation.target.",
          "old_text": "D();\n            }\n\n            // 4. ",
          "new_text": "observation.target.\n",
          "old_line_content": "                observation->last_reported_sizes() = entry->device_pixel_content_box_size();",
          "new_line_content": "                VERIFY_NOT_REACHED();",
          "content_same": false
        },
        {
          "line": 4985,
          "old_api": "clear",
          "new_api": "observer-1/#has-active-observation",
          "old_text": "().clear();\n    }\n\n    return shal",
          "new_text": "observer-1/#has-active-observation",
          "old_line_content": "        observer->invoke_callback(entries);",
          "new_line_content": "        observer->active_targets().clear();",
          "content_same": false
        },
        {
          "line": 5032,
          "old_api": ", new_value, JS::IteratorHin",
          "new_api": "tor_",
          "old_text": ", new_value, JS::IteratorHin",
          "new_text": "tor_",
          "old_line_content": "        m_adopted_style_sheets = create_adopted_style_sheets_list(const_cast<Document&>(*this));",
          "new_line_content": "    auto iterator_record = TRY(get_iterator(vm(), new_value, JS::IteratorHint::Sync));",
          "content_same": false
        },
        {
          "line": 5034,
          "old_api": ");\n    while (true) {\n        a",
          "new_api": "(*ne",
          "old_text": ");\n    while (true) {\n        a",
          "new_text": "(*ne",
          "old_line_content": "    m_adopted_style_sheets->clear();",
          "new_line_content": "        auto next = TRY(iterator_step_value(vm(), iterator_record));",
          "content_same": false
        },
        {
          "line": 5035,
          "old_api": "tor_",
          "new_api": "d Document::for_",
          "old_text": "tor_",
          "new_text": "d Document::for_",
          "old_line_content": "    auto iterator_record = TRY(get_iterator(vm(), new_value, JS::IteratorHint::Sync));",
          "new_line_content": "        if (!next.has_value())",
          "content_same": false
        },
        {
          "line": 5037,
          "old_api": "(*ne",
          "new_api": "d",
          "old_text": "(*ne",
          "new_text": "d(CSS::CSSStyleSheet&)>&& callback) c",
          "old_line_content": "        auto next = TRY(iterator_step_value(vm(), iterator_record));",
          "new_line_content": "        TRY(m_adopted_style_sheets->append(*next));",
          "content_same": false
        },
        {
          "line": 5094,
          "old_api": "remove",
          "new_api": "s top layer.\n    m_top_layer_elemen",
          "old_text": "vals.\n        m_top_layer_elements.remove(elem",
          "new_text": "s top layer.\n    m_top_layer_elemen",
          "old_line_content": "        VERIFY(m_top_layer_pending_removals.contains(element));",
          "new_line_content": "        m_top_layer_elements.remove(element);",
          "content_same": false
        },
        {
          "line": 5144,
          "old_api": "lement->set_in_top_l",
          "new_api": "ntable",
          "old_text": "lement->set_in_top_l",
          "new_text": "ntable())\n        paintable->set",
          "old_line_content": "        if (!element->paintable()) {",
          "new_line_content": "            element->set_in_top_layer(false);",
          "content_same": false
        },
        {
          "line": 5170,
          "old_api": "Handle<DOM::Ran",
          "new_api": "size_t offset = 0;",
          "old_text": "Handle<DOM::Ran",
          "new_text": "size_t offset = 0;\n   ",
          "old_line_content": "    update_layout();",
          "new_line_content": "    if (text_blocks.is_empty())",
          "content_same": false
        },
        {
          "line": 5186,
          "old_api": "ions[i + 1].start_offse",
          "new_api": "auto start_po",
          "old_text": "ions[i + 1].start_offse",
          "new_text": "      auto start_po",
          "old_line_content": "            if (!match_index.has_value())",
          "new_line_content": "            for (; i < text_block.positions.size() - 1 && match_index.value() > text_block.positions[i + 1].start_offset; ++i)",
          "content_same": false
        },
        {
          "line": 5189,
          "old_api": "auto start_po",
          "new_api": "atch_end_position =",
          "old_text": "      auto start_po",
          "new_text": "atch_end_position =",
          "old_line_content": "            for (; i < text_block.positions.size() - 1 && match_index.value() > text_block.positions[i + 1].start_offset; ++i)",
          "new_line_content": "            auto start_position = match_index.value() - match_start_position->start_offset;",
          "content_same": false
        },
        {
          "line": 5202,
          "old_api": "value",
          "new_api": "ow-declarative-shadow-roots\nbool Doc",
          "old_text": "fset = match_index.value() + query.bytes_as_string_view().length() + 1;\n ",
          "new_text": "ow-declarative-shadow-roots\nbool Doc",
          "old_line_content": "            matches.append(Range::create(start_dom_node, start_position, end_dom_node, end_position));",
          "new_line_content": "            if (offset >= text.bytes_as_string_view().length())",
          "content_same": false
        },
        {
          "line": 5249,
          "old_api": "tive_shadow_roots",
          "new_api": "parse_html_from_a_string",
          "old_text": "tive_shadow_roots(true);\n\n    // 4. Parse HTML",
          "new_text": "HTML.\n    document->parse_html_from_a_string(html)",
          "old_line_content": "    document->set_content_type(\"text/html\"_string);",
          "new_line_content": "    document->set_allow_declarative_shadow_roots(true);",
          "content_same": false
        },
        {
          "line": 5252,
          "old_api": "parse_html_from_a_string",
          "new_api": "",
          "old_text": "HTML.\n    document->parse_html_from_a_string(html)",
          "new_text": "",
          "old_line_content": "    document->set_allow_declarative_shadow_roots(true);",
          "new_line_content": "    document->parse_html_from_a_string(html);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 4097,
          "old_api": null,
          "new_api": "e",
          "old_text": null,
          "new_text": "e();\n        });\n    }\n\n    parse:\n        // 11. Parse: Parse urlString relative to document. If that fails, ",
          "old_line_content": "        // 9. Set urlString to the substring of input from the code point at position to the end of the string.",
          "new_line_content": "        url_string = lexer.consume_while([&quote](auto c) {",
          "content_same": false
        },
        {
          "line": 4098,
          "old_api": null,
          "new_api": "document. If",
          "old_text": null,
          "new_text": "document. If ",
          "old_line_content": "        // 10. If quote is not the empty string, and there is a code point in urlString equal to quote, then truncate",
          "new_line_content": "            return !quote.has_value() || c != quote.value();",
          "content_same": false
        },
        {
          "line": 2053,
          "old_api": null,
          "new_api": "return const_cast<",
          "old_text": null,
          "new_text": "\n        return const_cast<",
          "old_line_content": "",
          "new_line_content": "    if (auto element = get_element_by_id(fragment))",
          "content_same": false
        },
        {
          "line": 2054,
          "old_api": null,
          "new_api": "f there is an",
          "old_text": null,
          "new_text": "f there is an",
          "old_line_content": "    // 1. If there is an element in the document tree whose root is document and that has an ID equal to",
          "new_line_content": "        return const_cast<Element*>(element.ptr());",
          "content_same": false
        },
        {
          "line": 4105,
          "old_api": null,
          "new_api": "rl_record = maybe_url",
          "old_text": null,
          "new_text": "rl_record = maybe_url",
          "old_line_content": "    parse:",
          "new_line_content": "        auto maybe_url_record = parse_url(url_string);",
          "content_same": false
        },
        {
          "line": 4106,
          "old_api": null,
          "new_api": "// 12. Set document's",
          "old_text": null,
          "new_text": "\n    // 12. Set document's ",
          "old_line_content": "        // 11. Parse: Parse urlString relative to document. If that fails, return. Otherwise, set urlRecord to the",
          "new_line_content": "        if (!maybe_url_record.is_valid())",
          "content_same": false
        },
        {
          "line": 2059,
          "old_api": null,
          "new_api": "name",
          "old_text": null,
          "new_text": "f_type<Element>([&](Element const& element) {\n        if (element.name() == fragment) {\n            element_with_name = const_cast<Element*>(&element);\n            return TraversalDecision::Break;\n        }\n        return TraversalDecision::Continue;\n    });\n    if (element_with_name)",
          "old_line_content": "    // 2. If there is an a element in the document tree whose root is document that has a name attribute",
          "new_line_content": "    root().for_each_in_subtree_of_type<Element>([&](Element const& element) {",
          "content_same": false
        },
        {
          "line": 2060,
          "old_api": null,
          "new_api": "{",
          "old_text": null,
          "new_text": "{\n            ",
          "old_line_content": "    //    whose value is equal to fragment, then return the first such element in tree order.",
          "new_line_content": "        if (element.name() == fragment) {",
          "content_same": false
        },
        {
          "line": 2061,
          "old_api": null,
          "new_api": "t);\n            return Travers",
          "old_text": null,
          "new_text": "t);\n            return Travers",
          "old_line_content": "    Element* element_with_name = nullptr;",
          "new_line_content": "            element_with_name = const_cast<Element*>(&element);",
          "content_same": false
        },
        {
          "line": 4120,
          "old_api": null,
          "new_api": "navigable",
          "old_text": null,
          "new_text": "rd = move(url_record)]() {\n        if (has_meta_element && has_flag(active_sandboxing_flag_set(), HTML::SandboxingFlagSet::SandboxedAutomaticFeatures))\n            return;\n\n        auto navigable = this->navigable();\n        if (!navigable || navigable->has_been_destroyed())\n            return;\n\n        MUST(navigable->navigate({ .url = url_record, .source_document = *this, .history_handling = Bindings::NavigationHistoryBehavior::Replace }));\n    });\n\n    // For the purposes of the previous paragraph, a refresh is said to have come due as soo",
          "old_line_content": "    //   given, document's active sandboxing flag set does not have the sandboxed automatic features browsing context",
          "new_line_content": "    m_active_refresh_timer = Core::Timer::create_single_shot(time * 1000, [this, has_meta_element = !!meta_element, url_record = move(url_record)]() {",
          "content_same": false
        },
        {
          "line": 4121,
          "old_api": null,
          "new_api": "return;\n\n        auto navig",
          "old_text": null,
          "new_text": " return;\n\n        auto navig",
          "old_line_content": "    //   flag set, then navigate document's node navigable to urlRecord using document, with historyHandling set to",
          "new_line_content": "        if (has_meta_element && has_flag(active_sandboxing_flag_set(), HTML::SandboxingFlagSet::SandboxedAutomaticFeatures))",
          "content_same": false
        },
        {
          "line": 4125,
          "old_api": null,
          "new_api": "url_record, .source_document =",
          "old_text": null,
          "new_text": " url_record, .source_document =",
          "old_line_content": "            return;",
          "new_line_content": "        if (!navigable || navigable->has_been_destroyed())",
          "content_same": false
        },
        {
          "line": 2079,
          "old_api": null,
          "new_api": "effect || !effect->",
          "old_text": null,
          "new_text": "effect || !effect->",
          "old_line_content": "    // Each time a new animation frame is established and the animation does not have a pending play task or pending",
          "new_line_content": "    auto effect = animation->effect();",
          "content_same": false
        },
        {
          "line": 2080,
          "old_api": null,
          "new_api": "return;\n\n    auto& c",
          "old_text": null,
          "new_text": "return;\n\n    auto& c",
          "old_line_content": "    // pause task, the events to dispatch are determined by comparing the animations phase before and after",
          "new_line_content": "    if (!effect || !effect->is_keyframe_effect() || !animation->is_css_animation() || animation->pending())",
          "content_same": false
        },
        {
          "line": 2085,
          "old_api": null,
          "new_api": "get)\n        ret",
          "old_text": null,
          "new_text": "get)\n        ret",
          "old_line_content": "",
          "new_line_content": "    JS::GCPtr<Element> target = effect->target();",
          "content_same": false
        },
        {
          "line": 2089,
          "old_api": null,
          "new_api": "paintable",
          "old_text": null,
          "new_text": "arget->paintable()-",
          "old_line_content": "    if (!target)",
          "new_line_content": "    if (target->paintable())",
          "content_same": false
        },
        {
          "line": 2090,
          "old_api": null,
          "new_api": "_display",
          "old_text": null,
          "new_text": "_display();\n\n    auto previous_phase = e",
          "old_line_content": "        return;",
          "new_line_content": "        target->paintable()->set_needs_display();",
          "content_same": false
        },
        {
          "line": 2094,
          "old_api": null,
          "new_api": "lue_or",
          "old_text": null,
          "new_text": "lue_or(0.0);\n\n    if (previous_phase != c",
          "old_line_content": "",
          "new_line_content": "    auto current_iteration = effect->current_iteration().value_or(0.0);",
          "content_same": false
        },
        {
          "line": 4143,
          "old_api": null,
          "new_api": "ing::ViewportPaintable const* Docume",
          "old_text": null,
          "new_text": "ing::ViewportPaintable const* Docume",
          "old_line_content": "    // NOTE: This is only done if completely loaded time has a value because shared_declarative_refresh_steps is called",
          "new_line_content": "    if (meta_element && m_completely_loaded_time.has_value()) {",
          "content_same": false
        },
        {
          "line": 4144,
          "old_api": null,
          "new_api": "e",
          "old_text": null,
          "new_text": "e() const\n{\n    return static_c",
          "old_line_content": "    // by HTMLMetaElement::inserted and if the document hasn't finished loading when the meta element was inserted,",
          "new_line_content": "        m_active_refresh_timer->start();",
          "content_same": false
        },
        {
          "line": 2101,
          "old_api": null,
          "new_api": "id",
          "old_text": null,
          "new_text": "                   owning_element->realm(),\n                    name,\n                    {\n                        { .bubbles = true },\n                        css_animation.id(),\n                        elapsed_time,\n                    }),\n                .animation =",
          "old_line_content": "",
          "new_line_content": "                .event = CSS::AnimationEvent::create(",
          "content_same": false
        },
        {
          "line": 2102,
          "old_api": null,
          "new_api": "name,",
          "old_text": null,
          "new_text": "               name,\n  ",
          "old_line_content": "        auto dispatch_event = [&](FlyString const& name, double elapsed_time) {",
          "new_line_content": "                    owning_element->realm(),",
          "content_same": false
        },
        {
          "line": 4150,
          "old_api": null,
          "new_api": "ast<Painting::Vie",
          "old_text": null,
          "new_text": "ast<Painting::Vie",
          "old_line_content": "",
          "new_line_content": "    return static_cast<Painting::ViewportPaintable const*>(Node::paintable());",
          "content_same": false
        },
        {
          "line": 2106,
          "old_api": null,
          "new_api": "elap",
          "old_text": null,
          "new_text": "              elap",
          "old_line_content": "                    name,",
          "new_line_content": "                        css_animation.id(),",
          "content_same": false
        },
        {
          "line": 4155,
          "old_api": null,
          "new_api": "the-history-objec",
          "old_text": null,
          "new_text": "the-history-objec",
          "old_line_content": "",
          "new_line_content": "    return static_cast<Painting::ViewportPaintable*>(Node::paintable());",
          "content_same": false
        },
        {
          "line": 2111,
          "old_api": null,
          "new_api": "red_current_time",
          "old_text": null,
          "new_text": "red_current_time(),\n            });\n        };\n\n",
          "old_line_content": "                    }),",
          "new_line_content": "                .scheduled_event_time = HighResolutionTime::unsafe_shared_current_time(),",
          "content_same": false
        },
        {
          "line": 4162,
          "old_api": null,
          "new_api": "ory API state, targetRealm)",
          "old_text": null,
          "new_text": "ory API state, targetRealm)",
          "old_line_content": "void Document::restore_the_history_object_state(JS::NonnullGCPtr<HTML::SessionHistoryEntry> entry)",
          "new_line_content": "    auto& target_realm = HTML::relevant_realm(*this);",
          "content_same": false
        },
        {
          "line": 2118,
          "old_api": null,
          "new_api": "0);\n\n        // - interva",
          "old_text": null,
          "new_text": "0);\n\n        // - interva",
          "old_line_content": "        // For calculating the elapsedTime of each event, the following definitions are used:",
          "new_line_content": "        auto interval_start = max(min(-effect->start_delay(), effect->active_duration()), 0.0);",
          "content_same": false
        },
        {
          "line": 4166,
          "old_api": null,
          "new_api": "set_state",
          "old_text": null,
          "new_text": "   m_history->set_state(JS::js_nul",
          "old_line_content": "",
          "new_line_content": "    auto state_or_error = HTML::structured_deserialize(target_realm.vm(), entry->classic_history_api_state(), target_realm, {});",
          "content_same": false
        },
        {
          "line": 4167,
          "old_api": null,
          "new_api": "set_state",
          "old_text": null,
          "new_text": "ory->set_state(state_or_e",
          "old_line_content": "    // 2. Let state be StructuredDeserialize(entry's classic history API state, targetRealm). If this throws an exception, catch it and let state be null.",
          "new_line_content": "    if (state_or_error.is_error())",
          "content_same": false
        },
        {
          "line": 4168,
          "old_api": null,
          "new_api": "tps://html.sp",
          "old_text": null,
          "new_text": "tps://html.sp",
          "old_line_content": "    // 3. Set document's history object's state to state.",
          "new_line_content": "        m_history->set_state(JS::js_null());",
          "content_same": false
        },
        {
          "line": 2128,
          "old_api": null,
          "new_api": "s::animationstart, interval_start);\n            } else if (curre",
          "old_text": null,
          "new_text": "s::animationstart, interval_start);\n            } else if (curre",
          "old_line_content": "            [[fallthrough]];",
          "new_line_content": "                dispatch_event(HTML::EventNames::animationstart, interval_start);",
          "content_same": false
        },
        {
          "line": 2130,
          "old_api": null,
          "new_api": "s::animationstart, interval_start);\n                dispatch_eve",
          "old_text": null,
          "new_text": "s::animationstart, interval_start);\n                dispatch_eve",
          "old_line_content": "            if (current_phase == Animations::AnimationEffect::Phase::Active) {",
          "new_line_content": "                dispatch_event(HTML::EventNames::animationstart, interval_start);",
          "content_same": false
        },
        {
          "line": 4183,
          "old_api": null,
          "new_api": "scriptHi",
          "old_text": null,
          "new_text": " scriptHi",
          "old_line_content": "    auto documents_entry_changed = m_latest_entry != entry;",
          "new_line_content": "    history()->m_index = script_history_index;",
          "content_same": false
        },
        {
          "line": 2136,
          "old_api": null,
          "new_api": "s::animationend, interval_start);\n            } else if (curre",
          "old_text": null,
          "new_text": "s::animationend, interval_start);\n            } else if (curre",
          "old_line_content": "            break;",
          "new_line_content": "                dispatch_event(HTML::EventNames::animationend, interval_start);",
          "content_same": false
        },
        {
          "line": 2138,
          "old_api": null,
          "new_api": "tion",
          "old_text": null,
          "new_text": "tion();\n                if (previous",
          "old_line_content": "            if (current_phase == Animations::AnimationEffect::Phase::Before) {",
          "new_line_content": "                auto previous_current_iteration = effect->previous_current_iteration();",
          "content_same": false
        },
        {
          "line": 4194,
          "old_api": null,
          "new_api": "m_latest_entry = e",
          "old_text": null,
          "new_text": "   m_latest_entry = e",
          "old_line_content": "    //      The doNotReactivate argument distinguishes between these two cases.",
          "new_line_content": "        auto old_url = m_latest_entry ? m_latest_entry->url() : URL::URL {};",
          "content_same": false
        },
        {
          "line": 2149,
          "old_api": null,
          "new_api": "auto iter",
          "old_text": null,
          "new_text": "                   auto iter",
          "old_line_content": "                    auto iteration_boundary = previous_current_iteration > current_iteration ? current_iteration + 1 : current_iteration;",
          "new_line_content": "                    auto iteration_duration_variant = effect->iteration_duration();",
          "content_same": false
        },
        {
          "line": 2150,
          "old_api": null,
          "new_api": "double>();\n                    auto elap",
          "old_text": null,
          "new_text": "double>();\n                    auto elap",
          "old_line_content": "",
          "new_line_content": "                    auto iteration_duration = iteration_duration_variant.has<String>() ? 0.0 : iteration_duration_variant.get<double>();",
          "content_same": false
        },
        {
          "line": 2151,
          "old_api": null,
          "new_api": "eration_duration;",
          "old_text": null,
          "new_text": "eration_duration;\n\n      ",
          "old_line_content": "                    // 3. The elapsed time is the result of evaluating (iteration boundary - iteration start)  iteration duration).",
          "new_line_content": "                    auto elapsed_time = (iteration_boundary - effect->iteration_start()) * iteration_duration;",
          "content_same": false
        },
        {
          "line": 4200,
          "old_api": null,
          "new_api": "obal object's navigation API.\n        a",
          "old_text": null,
          "new_text": "obal object's navigation API.\n        a",
          "old_line_content": "        m_latest_entry = entry;",
          "new_line_content": "        restore_the_history_object_state(entry);",
          "content_same": false
        },
        {
          "line": 4208,
          "old_api": null,
          "new_api": "",
          "old_text": null,
          "new_text": "\n           ",
          "old_line_content": "        // 5. If documentIsNew is false, then:",
          "new_line_content": "            set_url(entry->url());",
          "content_same": false
        },
        {
          "line": 2161,
          "old_api": null,
          "new_api": "::animationstart, interval_end);\n            } else if (curren",
          "old_text": null,
          "new_text": "::animationstart, interval_end);\n            } else if (curren",
          "old_line_content": "            break;",
          "new_line_content": "                dispatch_event(HTML::EventNames::animationstart, interval_end);",
          "content_same": false
        },
        {
          "line": 2163,
          "old_api": null,
          "new_api": "::animationstart, interval_end);\n                dispatch_even",
          "old_text": null,
          "new_text": "::animationstart, interval_end);\n                dispatch_even",
          "old_line_content": "            if (current_phase == Animations::AnimationEffect::Phase::Active) {",
          "new_line_content": "                dispatch_event(HTML::EventNames::animationstart, interval_end);",
          "content_same": false
        },
        {
          "line": 4213,
          "old_api": null,
          "new_api": "avigationType::Traverse);\n            }\n\n            // 2. Fire an event named popstate at document's relevant global o",
          "old_text": null,
          "new_text": "avigationType::Traverse);\n            }\n\n            // 2. Fire an event named popstate at document's relevant global o",
          "old_line_content": "            // AD HOC: Skip this in situations the spec steps don't account for",
          "new_line_content": "                navigation->update_the_navigation_api_entries_for_a_same_document_navigation(entry, Bindings::NavigationType::Traverse);",
          "content_same": false
        },
        {
          "line": 2171,
          "old_api": null,
          "new_api": "value_or",
          "old_text": null,
          "new_text": "_time().value_or(0.0);\n            dispatch_event(HT",
          "old_line_content": "",
          "new_line_content": "            auto cancel_time = animation->release_saved_cancel_time().value_or(0.0);",
          "content_same": false
        },
        {
          "line": 2172,
          "old_api": null,
          "new_api": "::animationcancel, cancel_time);\n        }\n    }\n    effect->s",
          "old_text": null,
          "new_text": "::animationcancel, cancel_time);\n        }\n    }\n    effect->s",
          "old_line_content": "        if (current_phase == Animations::AnimationEffect::Phase::Idle && previous_phase != Animations::AnimationEffect::Phase::Idle && previous_phase != Animations::AnimationEffect::Phase::After) {",
          "new_line_content": "            dispatch_event(HTML::EventNames::animationcancel, cancel_time);",
          "content_same": false
        },
        {
          "line": 4221,
          "old_api": null,
          "new_api": "(HTML::relevant_global_ob",
          "old_text": null,
          "new_text": "(HTML::relevant_global_ob",
          "old_line_content": "            //    if a visual transition, to display a cached rendered state of the latest entry, was done by the user agent.",
          "new_line_content": "            popstate_event_init.state = history()->unsafe_state();",
          "content_same": false
        },
        {
          "line": 4222,
          "old_api": null,
          "new_api": "reate",
          "old_text": null,
          "new_text": "reate(realm(), \"popstate\"_fly_strin",
          "old_line_content": "            // FIXME: Initialise hasUAVisualTransition",
          "new_line_content": "            auto& relevant_global_object = verify_cast<HTML::Window>(HTML::relevant_global_object(*this));",
          "content_same": false
        },
        {
          "line": 4223,
          "old_api": null,
          "new_api": "ch_even",
          "old_text": null,
          "new_text": "ch_even",
          "old_line_content": "            HTML::PopStateEventInit popstate_event_init;",
          "new_line_content": "            auto pop_state_event = HTML::PopStateEvent::create(realm(), \"popstate\"_fly_string, popstate_event_init);",
          "content_same": false
        },
        {
          "line": 2176,
          "old_api": null,
          "new_api": "eration",
          "old_text": null,
          "new_text": "eration(current_iteration);\n}\n\n// https://html.spec.whatw",
          "old_line_content": "        }",
          "new_line_content": "    effect->set_previous_current_iteration(current_iteration);",
          "content_same": false
        },
        {
          "line": 4232,
          "old_api": null,
          "new_api": "hashchange",
          "old_text": null,
          "new_text": "             hashchange",
          "old_line_content": "            //    given document's relevant global object to fire an event named hashchange at document's relevant global object,",
          "new_line_content": "            if (old_url.fragment() != entry->url().fragment()) {",
          "content_same": false
        },
        {
          "line": 2185,
          "old_api": null,
          "new_api": "if (indicated_part.has<El",
          "old_text": null,
          "new_text": "\n    if (indicated_part.has<El",
          "old_line_content": "    // To scroll to the fragment given a Document document:",
          "new_line_content": "    auto indicated_part = determine_the_indicated_part();",
          "content_same": false
        },
        {
          "line": 2186,
          "old_api": null,
          "new_api": "== nullptr) {\n        set_targ",
          "old_text": null,
          "new_text": "== nullptr) {\n        set_targ",
          "old_line_content": "",
          "new_line_content": "    if (indicated_part.has<Element*>() && indicated_part.get<Element*>() == nullptr) {",
          "content_same": false
        },
        {
          "line": 2187,
          "old_api": null,
          "new_api": "}\n\n    // 2. Otherwise, i",
          "old_text": null,
          "new_text": "  }\n\n    // 2. Otherwise, i",
          "old_line_content": "    // 1. If document's indicated part is null, then set document's target element to null.",
          "new_line_content": "        set_target_element(nullptr);",
          "content_same": false
        },
        {
          "line": 4234,
          "old_api": null,
          "new_api": "url",
          "old_text": null,
          "new_text": "tring(entry->url().",
          "old_line_content": "            //    initialized to the serialization of entry's URL.",
          "new_line_content": "                hashchange_event_init.old_url = MUST(String::from_byte_string(old_url.serialize()));",
          "content_same": false
        },
        {
          "line": 4236,
          "old_api": null,
          "new_api": "sk",
          "old_text": null,
          "new_text": "sk(HTML",
          "old_line_content": "                HTML::HashChangeEventInit hashchange_event_init;",
          "new_line_content": "                auto hashchange_event = HTML::HashChangeEvent::create(realm(), \"hashchange\"_fly_string, hashchange_event_init);",
          "content_same": false
        },
        {
          "line": 2191,
          "old_api": null,
          "new_api": "ment>()) {\n        // 1. Set document'",
          "old_text": null,
          "new_text": "ment>()) {\n        // 1. Set document'",
          "old_line_content": "    }",
          "new_line_content": "    else if (indicated_part.has<TopOfTheDocument>()) {",
          "content_same": false
        },
        {
          "line": 2193,
          "old_api": null,
          "new_api": "// 2. Scroll to the",
          "old_text": null,
          "new_text": "       // 2. Scroll to the ",
          "old_line_content": "    // 2. Otherwise, if document's indicated part is top of the document, then:",
          "new_line_content": "        set_target_element(nullptr);",
          "content_same": false
        },
        {
          "line": 4246,
          "old_api": null,
          "new_api": "n entry.\n\n            // 3. Initialize",
          "old_text": null,
          "new_text": "n entry.\n\n            // 3. Initialize",
          "old_line_content": "        // 6. Otherwise:",
          "new_line_content": "            VERIFY(entries_for_navigation_api.has_value());",
          "content_same": false
        },
        {
          "line": 4251,
          "old_api": null,
          "new_api": "i, entry);\n        }\n    }\n\n    // 6. If documentIsNew is true, then:\n    if (document_is_new) {",
          "old_text": null,
          "new_text": "i, entry);\n        }\n    }\n\n    // 6. If documentIsNew is true, then:\n    if (document_is_new) {\n       ",
          "old_line_content": "            // FIXME: 2. Restore persisted state given entry.",
          "new_line_content": "            navigation->initialize_the_navigation_api_entries_for_a_new_document(*entries_for_navigation_api, entry);",
          "content_same": false
        },
        {
          "line": 2205,
          "old_api": null,
          "new_api": ";\n\n        // 2. Let target be",
          "old_text": null,
          "new_text": ";\n\n        // 2. Let target be",
          "old_line_content": "    // 3. Otherwise:",
          "new_line_content": "        VERIFY(indicated_part.has<Element*>());",
          "content_same": false
        },
        {
          "line": 4261,
          "old_api": null,
          "new_api": "cument document.",
          "old_text": null,
          "new_text": "cument document.\n       ",
          "old_line_content": "        // FIXME: According to the spec we should only scroll here if document has no parser or parsing has stopped.",
          "new_line_content": "        scroll_to_the_fragment();",
          "content_same": false
        },
        {
          "line": 2221,
          "old_api": null,
          "new_api": "_options);\n\n        // 7. Run the focusi",
          "old_text": null,
          "new_text": "_options);\n\n        // 7. Run the focusi",
          "old_line_content": "        ScrollIntoViewOptions scroll_options;",
          "new_line_content": "        (void)target->scroll_into_view(scroll_options);",
          "content_same": false
        },
        {
          "line": 2225,
          "old_api": null,
          "new_api": ");\n\n        // FIXME: 8. Move th",
          "old_text": null,
          "new_text": ");\n\n        // FIXME: 8. Move th",
          "old_line_content": "",
          "new_line_content": "        HTML::run_focusing_steps(target);",
          "content_same": false
        },
        {
          "line": 2235,
          "old_api": null,
          "new_api": "gable->perform_sc",
          "old_text": null,
          "new_text": "gable->perform_sc",
          "old_line_content": "void Document::scroll_to_the_beginning_of_the_document()",
          "new_line_content": "    if (auto navigable = this->navigable())",
          "content_same": false
        },
        {
          "line": 2236,
          "old_api": null,
          "new_api": "ewport",
          "old_text": null,
          "new_text": "ewport({ 0, 0 });\n}\n\nStringView Document::ready",
          "old_line_content": "{",
          "new_line_content": "        navigable->perform_scroll_of_viewport({ 0, 0 });",
          "content_same": false
        },
        {
          "line": 4286,
          "old_api": null,
          "new_api": "(JS::No",
          "old_text": null,
          "new_text": "(JS::No",
          "old_line_content": "    // The DocumentTimeline object representing the default document timeline. The default document timeline has an",
          "new_line_content": "        m_default_timeline = Animations::DocumentTimeline::create(realm(), *this, 0.0);",
          "content_same": false
        },
        {
          "line": 4292,
          "old_api": null,
          "new_api": "::NonnullGCPtr<Animations::AnimationTimeline>",
          "old_text": null,
          "new_text": "::NonnullGCPtr<Animations::AnimationTimeline> ",
          "old_line_content": "",
          "new_line_content": "    m_associated_animation_timelines.set(timeline);",
          "content_same": false
        },
        {
          "line": 2249,
          "old_api": null,
          "new_api": "ps://html.spec.whatw",
          "old_text": null,
          "new_text": "ps://html.spec.whatw",
          "old_line_content": "    case HTML::DocumentReadyState::Complete:",
          "new_line_content": "    VERIFY_NOT_REACHED();",
          "content_same": false
        },
        {
          "line": 4297,
          "old_api": null,
          "new_api": "vent",
          "old_text": null,
          "new_text": "vent(Web::DOM::Document::PendingAnimationEvent co",
          "old_line_content": "",
          "new_line_content": "    m_associated_animation_timelines.remove(timeline);",
          "content_same": false
        },
        {
          "line": 4302,
          "old_api": null,
          "new_api": "date-animations-and-send-events\nvoid Document",
          "old_text": null,
          "new_text": "date-animations-and-send-events\nvoid Document",
          "old_line_content": "",
          "new_line_content": "    m_pending_animation_event_queue.append(event);",
          "content_same": false
        },
        {
          "line": 2265,
          "old_api": null,
          "new_api": "// 2. If readinessV",
          "old_text": null,
          "new_text": "\n\n        // 2. If readinessV",
          "old_line_content": "    // 3. If document is associated with an HTML parser, then:",
          "new_line_content": "        auto now = HighResolutionTime::current_high_resolution_time(relevant_global_object(*this));",
          "content_same": false
        },
        {
          "line": 4317,
          "old_api": null,
          "new_api": "replaced_animations",
          "old_text": null,
          "new_text": "replaced_animations();\n\n    // 3. Per",
          "old_line_content": "    // - Queueing animation events for any such animations.",
          "new_line_content": "        timeline->set_current_time(timestamp);",
          "content_same": false
        },
        {
          "line": 4327,
          "old_api": null,
          "new_api": "ents to dispatch as follows:\n    auto",
          "old_text": null,
          "new_text": "ents to dispatch as follows:\n    auto",
          "old_line_content": "",
          "new_line_content": "    auto events_to_dispatch = move(m_pending_animation_event_queue);",
          "content_same": false
        },
        {
          "line": 2280,
          "old_api": null,
          "new_api": "ystatec",
          "old_text": null,
          "new_text": "ystatec",
          "old_line_content": "    }",
          "new_line_content": "    dispatch_event(Event::create(realm(), HTML::EventNames::readystatechange));",
          "content_same": false
        },
        {
          "line": 4331,
          "old_api": null,
          "new_api": "effect",
          "old_text": null,
          "new_text": "->effect());\n        ",
          "old_line_content": "",
          "new_line_content": "        auto& a_effect = verify_cast<Animations::KeyframeEffect>(*a.animation->effect());",
          "content_same": false
        },
        {
          "line": 2284,
          "old_api": null,
          "new_api": "if (!is_decoded",
          "old_text": null,
          "new_text": "            if (!is_decoded",
          "old_line_content": "",
          "new_line_content": "        if (navigable && navigable->is_traversable()) {",
          "content_same": false
        },
        {
          "line": 2285,
          "old_api": null,
          "new_api": "HTML::HTMLL",
          "old_text": null,
          "new_text": "     HTML::HTMLL",
          "old_line_content": "    if (readiness_value == HTML::DocumentReadyState::Complete) {",
          "new_line_content": "            if (!is_decoded_svg()) {",
          "content_same": false
        },
        {
          "line": 4332,
          "old_api": null,
          "new_api": ") < 0;\n    };\n\n    in",
          "old_text": null,
          "new_text": ") < 0;\n    };\n\n    in",
          "old_line_content": "    // 6. Perform a stable sort of the animation events in events to dispatch as follows:",
          "new_line_content": "        auto& b_effect = verify_cast<Animations::KeyframeEffect>(*b.animation->effect());",
          "content_same": false
        },
        {
          "line": 4333,
          "old_api": null,
          "new_api": "s_to_dispatch, [&](auto const& a, auto const& b) {\n        // S",
          "old_text": null,
          "new_text": "s_to_dispatch, [&](auto const& a, auto const& b) {\n        // S",
          "old_line_content": "    auto sort_events_by_composite_order = [](auto const& a, auto const& b) {",
          "new_line_content": "        return Animations::KeyframeEffect::composite_order(a_effect, b_effect) < 0;",
          "content_same": false
        },
        {
          "line": 4342,
          "old_api": null,
          "new_api": "return true;\n\n            au",
          "old_text": null,
          "new_text": "      return true;\n\n            au",
          "old_line_content": "        // with a resolved scheduled event time.",
          "new_line_content": "        if (b.scheduled_event_time.has_value()) {",
          "content_same": false
        },
        {
          "line": 4343,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "ed_event_time.value();\n           ",
          "old_line_content": "        //",
          "new_line_content": "            if (!a.scheduled_event_time.has_value())",
          "content_same": false
        },
        {
          "line": 4347,
          "old_api": null,
          "new_api": "by_composite_order",
          "old_text": null,
          "new_text": "by_composite_order(a, b);\n\n   ",
          "old_line_content": "                return true;",
          "new_line_content": "            auto b_time = b.scheduled_event_time.value();",
          "content_same": false
        },
        {
          "line": 4351,
          "old_api": null,
          "new_api": "return false;\n\n        retur",
          "old_text": null,
          "new_text": "  return false;\n\n        retur",
          "old_line_content": "            if (a_time == b_time)",
          "new_line_content": "            return a.scheduled_event_time.value() < b.scheduled_event_time.value();",
          "content_same": false
        },
        {
          "line": 4363,
          "old_api": null,
          "new_api": "s) {\n        for (auto& animation : timel",
          "old_text": null,
          "new_text": "s) {\n        for (auto& animation : timel",
          "old_line_content": "    // 7. Dispatch each of the events in events to dispatch at their corresponding target using the order established in",
          "new_line_content": "        event.target->dispatch_event(event.event);",
          "content_same": false
        },
        {
          "line": 2317,
          "old_api": null,
          "new_api": "\"%m/%d/%Y",
          "old_text": null,
          "new_text": "\"%m/%d/%Y",
          "old_line_content": "    // of the networking protocols used, e.g. from the value of the HTTP `Last-Modified` header of the document,",
          "new_line_content": "    constexpr auto format_string = \"%m/%d/%Y %H:%M:%S\"sv;",
          "content_same": false
        },
        {
          "line": 2319,
          "old_api": null,
          "new_api": "return MUST(m_last_mo",
          "old_text": null,
          "new_text": "      return MUST(m_last_mo",
          "old_line_content": "    // the attribute must return the current date and time in the above format.",
          "new_line_content": "    if (m_last_modified.has_value())",
          "content_same": false
        },
        {
          "line": 4367,
          "old_api": null,
          "new_api": "ns-1/#remove-replaced-animations\nvoid Document::remov",
          "old_text": null,
          "new_text": "ns-1/#remove-replaced-animations\nvoid Document::remov",
          "old_line_content": "",
          "new_line_content": "            dispatch_events_for_animation_if_necessary(animation);",
          "content_same": false
        },
        {
          "line": 4384,
          "old_api": null,
          "new_api": "effect",
          "old_text": null,
          "new_text": "rget() || &animation->effect()->t",
          "old_line_content": "",
          "new_line_content": "        for (auto const& animation : timeline->associated_animations()) {",
          "content_same": false
        },
        {
          "line": 2337,
          "old_api": null,
          "new_api": "s::load)",
          "old_text": null,
          "new_text": "s::load)\n   ",
          "old_line_content": "",
          "new_line_content": "    if (event.type() == HTML::EventNames::load)",
          "content_same": false
        },
        {
          "line": 4385,
          "old_api": null,
          "new_api": "is_replaceable",
          "old_text": null,
          "new_text": "ion->is_replaceable())\n                co",
          "old_line_content": "    Vector<JS::NonnullGCPtr<Animations::Animation>> replaceable_animations;",
          "new_line_content": "            if (!animation->effect() || !animation->effect()->target() || &animation->effect()->target()->document() != this)",
          "content_same": false
        },
        {
          "line": 2346,
          "old_api": null,
          "new_api": "lue",
          "old_text": null,
          "new_text": "lue();\n}\n\n// https://html.spec.whatw",
          "old_line_content": "// https://html.spec.whatwg.org/#completely-loaded",
          "new_line_content": "    return m_completely_loaded_time.has_value();",
          "content_same": false
        },
        {
          "line": 4395,
          "old_api": null,
          "new_api": "append",
          "old_text": null,
          "new_text": "ons.append(animation);\n        }\n    }\n\n ",
          "old_line_content": "                continue;",
          "new_line_content": "            if (!animation->effect()->is_keyframe_effect())",
          "content_same": false
        },
        {
          "line": 2352,
          "old_api": null,
          "new_api": "ScopeGua",
          "old_text": null,
          "new_text": "   ScopeGua",
          "old_line_content": "// https://html.spec.whatwg.org/multipage/browsing-the-web.html#completely-finish-loading",
          "new_line_content": "    if (!navigable())",
          "content_same": false
        },
        {
          "line": 4402,
          "old_api": null,
          "new_api": "ptr",
          "old_text": null,
          "new_text": "imations::Animation>& b) {\n        VERIFY(a->effect()->is_keyframe_effect());\n        VERIFY(b->effect()->is_keyframe_effect());\n        auto& a_effect = *static_cast<Animations::KeyframeEffect*>(a->effect().ptr());\n        auto& b_effect = *static_cast<Animations::KeyframeEffect*>(b->effect().ptr());\n        return Animations::KeyframeEffect::composite_order(a_effect, b_effect) < 0;\n    });\n\n    // Lower value = higher priority\n    HashMap<CSS::PropertyID, size_t> highest_property_composi",
          "old_line_content": "        }",
          "new_line_content": "    quick_sort(replaceable_animations, [](JS::NonnullGCPtr<Animations::Animation>& a, JS::NonnullGCPtr<Animations::Animation>& b) {",
          "content_same": false
        },
        {
          "line": 4403,
          "old_api": null,
          "new_api": "a_effect = *static_cast<Animation",
          "old_text": null,
          "new_text": "a_effect = *static_cast<Animation",
          "old_line_content": "    }",
          "new_line_content": "        VERIFY(a->effect()->is_keyframe_effect());",
          "content_same": false
        },
        {
          "line": 2356,
          "old_api": null,
          "new_api": "for (auto& document_o",
          "old_text": null,
          "new_text": "        for (auto& document_o",
          "old_line_content": "        return;",
          "new_line_content": "        auto observers_to_notify = m_document_observers.values();",
          "content_same": false
        },
        {
          "line": 4404,
          "old_api": null,
          "new_api": "ptr",
          "old_text": null,
          "new_text": ">(a->effect().ptr());\n        aut",
          "old_line_content": "",
          "new_line_content": "        VERIFY(b->effect()->is_keyframe_effect());",
          "content_same": false
        },
        {
          "line": 2358,
          "old_api": null,
          "new_api": "pletely_loaded",
          "old_text": null,
          "new_text": "pletely_loaded())\n                document_obse",
          "old_line_content": "    ScopeGuard notify_observers = [this] {",
          "new_line_content": "            if (document_observer->document_completely_loaded())",
          "content_same": false
        },
        {
          "line": 2364,
          "old_api": null,
          "new_api": "Set document's co",
          "old_text": null,
          "new_text": " Set document's co",
          "old_line_content": "    };",
          "new_line_content": "    VERIFY(browsing_context());",
          "content_same": false
        },
        {
          "line": 4412,
          "old_api": null,
          "new_api": "bool has_any_highest",
          "old_text": null,
          "new_text": "\n        bool has_any_highest",
          "old_line_content": "",
          "new_line_content": "    for (int i = replaceable_animations.size() - 1; i >= 0; i--) {",
          "content_same": false
        },
        {
          "line": 4416,
          "old_api": null,
          "new_api": "ns",
          "old_text": null,
          "new_text": "ns(property)) {\n                has_any_",
          "old_line_content": "        auto animation = replaceable_animations[i];",
          "new_line_content": "        for (auto const& property : animation->effect()->target_properties()) {",
          "content_same": false
        },
        {
          "line": 4417,
          "old_api": null,
          "new_api": "erty = true;\n                highest_property_compos",
          "old_text": null,
          "new_text": "erty = true;\n                highest_property_compos",
          "old_line_content": "        bool has_any_highest_priority_property = false;",
          "new_line_content": "            if (!highest_property_composite_orders.contains(property)) {",
          "content_same": false
        },
        {
          "line": 2371,
          "old_api": null,
          "new_api": ";\n\n    // 3. Let container be d",
          "old_text": null,
          "new_text": ";\n\n    // 3. Let container be d",
          "old_line_content": "",
          "new_line_content": "        m_active_refresh_timer->start();",
          "content_same": false
        },
        {
          "line": 4427,
          "old_api": null,
          "new_api": "mationPlaybackEvent, removeEvent.\n            // - Set removeEvents t",
          "old_text": null,
          "new_text": "mationPlaybackEvent, removeEvent.\n            // - Set removeEvents t",
          "old_line_content": "            // perform the following steps:",
          "new_line_content": "            animation->set_replace_state(Bindings::AnimationReplaceState::Removed);",
          "content_same": false
        },
        {
          "line": 2381,
          "old_api": null,
          "new_api": "k",
          "old_text": null,
          "new_text": "k(HTML::Task::Source::DOMManipulation, [container] {\n            run_iframe_load_event_steps(static_cast<HTML::HTMLIFrameElement&>(*container));\n        });\n    }\n    // 5. Otherwise, if",
          "old_line_content": "",
          "new_line_content": "        container->queue_an_element_task(HTML::Task::Source::DOMManipulation, [container] {",
          "content_same": false
        },
        {
          "line": 2382,
          "old_api": null,
          "new_api": "ment&>(*container));\n        });\n    }\n    // 5.",
          "old_text": null,
          "new_text": "ment&>(*container));\n        });\n    }\n    // 5. ",
          "old_line_content": "    // 4. If container is an iframe element, then queue an element task on the DOM manipulation task source given container to run the iframe load event steps given container.",
          "new_line_content": "            run_iframe_load_event_steps(static_cast<HTML::HTMLIFrameElement&>(*container));",
          "content_same": false
        },
        {
          "line": 2387,
          "old_api": null,
          "new_api": "dispatch_event",
          "old_text": null,
          "new_text": "k(HTML::Task::Source::DOMManipulation, [container] {\n            container->dispatch_event(DOM::Event::create(container->realm(), HTML::EventNames::load));\n        });\n    }\n}\n\nString Document::coo",
          "old_line_content": "    }",
          "new_line_content": "        container->queue_an_element_task(HTML::Task::Source::DOMManipulation, [container] {",
          "content_same": false
        },
        {
          "line": 2388,
          "old_api": null,
          "new_api": "Names::load));",
          "old_text": null,
          "new_text": "Names::load));\n   ",
          "old_line_content": "    // 5. Otherwise, if container is non-null, then queue an element task on the DOM manipulation task source given container to fire an event named load at container.",
          "new_line_content": "            container->dispatch_event(DOM::Event::create(container->realm(), HTML::EventNames::load));",
          "content_same": false
        },
        {
          "line": 4435,
          "old_api": null,
          "new_api": "auto remove_event = Ani",
          "old_text": null,
          "new_text": "  auto remove_event = Ani",
          "old_line_content": "            // - Set removeEvents timelineTime attribute to the current time of the timeline with which animation is",
          "new_line_content": "            init.current_time = animation->current_time();",
          "content_same": false
        },
        {
          "line": 4436,
          "old_api": null,
          "new_api": "eate",
          "old_text": null,
          "new_text": "eate(realm(), HTML::EventNames::remov",
          "old_line_content": "            //   associated.",
          "new_line_content": "            init.timeline_time = animation->timeline()->current_time();",
          "content_same": false
        },
        {
          "line": 4437,
          "old_api": null,
          "new_api": "nd remo",
          "old_text": null,
          "new_text": "nd remo",
          "old_line_content": "            Animations::AnimationPlaybackEventInit init;",
          "new_line_content": "            auto remove_event = Animations::AnimationPlaybackEvent::create(realm(), HTML::EventNames::remove, init);",
          "content_same": false
        },
        {
          "line": 2395,
          "old_api": null,
          "new_api": "t_cookie",
          "old_text": null,
          "new_text": "t_cookie(m_url, source);\n}\n\nvoid Document::set_cookie(",
          "old_line_content": "",
          "new_line_content": "    return page().client().page_did_request_cookie(m_url, source);",
          "content_same": false
        },
        {
          "line": 4443,
          "old_api": null,
          "new_api": ".event = remove_event",
          "old_text": null,
          "new_text": "           .event = remove_event",
          "old_line_content": "            //   animation event queue along with its target, animation. For the scheduled event time, use the result of",
          "new_line_content": "            if (auto document = animation->document_for_timing()) {",
          "content_same": false
        },
        {
          "line": 2400,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "ing);\n    if (!cookie.has_value())\n",
          "old_line_content": "",
          "new_line_content": "    auto cookie = Cookie::parse_cookie(cookie_string);",
          "content_same": false
        },
        {
          "line": 2401,
          "old_api": null,
          "new_api": "urn;\n\n    page().c",
          "old_text": null,
          "new_text": "urn;\n\n    page().c",
          "old_line_content": "void Document::set_cookie(StringView cookie_string, Cookie::Source source)",
          "new_line_content": "    if (!cookie.has_value())",
          "content_same": false
        },
        {
          "line": 4448,
          "old_api": null,
          "new_api": "append_pending_animation_event",
          "old_text": null,
          "new_text": "  };\n                document->append_pending_animation_event(pending_animation_event);\n     ",
          "old_line_content": "                    .event = remove_event,",
          "new_line_content": "                    .scheduled_event_time = animation->timeline()->convert_a_timeline_time_to_an_origin_relative_time(init.timeline_time),",
          "content_same": false
        },
        {
          "line": 4450,
          "old_api": null,
          "new_api": "queue a task to dispatch removeEvent at animation. The task sourc",
          "old_text": null,
          "new_text": "queue a task to dispatch removeEvent at animation. The task sourc",
          "old_line_content": "                    .target = animation,",
          "new_line_content": "                document->append_pending_animation_event(pending_animation_event);",
          "content_same": false
        },
        {
          "line": 4455,
          "old_api": null,
          "new_api": "",
          "old_text": null,
          "new_text": "      ",
          "old_line_content": "            //   Otherwise, queue a task to dispatch removeEvent at animation. The task source for this task is the DOM",
          "new_line_content": "                HTML::queue_global_task(HTML::Task::Source::DOMManipulation, realm().global_object(), JS::create_heap_function(heap(), [animation, remove_event]() {",
          "content_same": false
        },
        {
          "line": 4456,
          "old_api": null,
          "new_api": ":ensure_animation_timer()\n{\n    constex",
          "old_text": null,
          "new_text": ":ensure_animation_timer()\n{\n    constex",
          "old_line_content": "            //   manipulation task source.",
          "new_line_content": "                    animation->dispatch_event(remove_event);",
          "content_same": false
        },
        {
          "line": 2409,
          "old_api": null,
          "new_api": "body_element))\n        return body_element->",
          "old_text": null,
          "new_text": "body_element))\n        return body_element->",
          "old_line_content": "",
          "new_line_content": "    if (auto* body_element = body(); body_element && !is<HTML::HTMLFrameSetElement>(*body_element))",
          "content_same": false
        },
        {
          "line": 2410,
          "old_api": null,
          "new_api": "ue",
          "old_text": null,
          "new_text": "ue(HTML::AttributeNames::text);\n    return \"\"_string;\n}\n\nvoid",
          "old_line_content": "String Document::fg_color() const",
          "new_line_content": "        return body_element->get_attribute_value(HTML::AttributeNames::text);",
          "content_same": false
        },
        {
          "line": 2416,
          "old_api": null,
          "new_api": "body_element))\n        MUST(body_element->se",
          "old_text": null,
          "new_text": "body_element))\n        MUST(body_element->se",
          "old_line_content": "",
          "new_line_content": "    if (auto* body_element = body(); body_element && !is<HTML::HTMLFrameSetElement>(*body_element))",
          "content_same": false
        },
        {
          "line": 2417,
          "old_api": null,
          "new_api": "L::AttributeNames::text, value));\n}\n\nString Document::link_col",
          "old_text": null,
          "new_text": "L::AttributeNames::text, value));\n}\n\nString Document::link_col",
          "old_line_content": "void Document::set_fg_color(String const& value)",
          "new_line_content": "        MUST(body_element->set_attribute(HTML::AttributeNames::text, value));",
          "content_same": false
        },
        {
          "line": 4465,
          "old_api": null,
          "new_api": "iver_time",
          "old_text": null,
          "new_text": "iver_time",
          "old_line_content": "",
          "new_line_content": "    constexpr static auto timer_delay_ms = 1000 / 60;",
          "content_same": false
        },
        {
          "line": 4467,
          "old_api": null,
          "new_api": "is_empty",
          "old_text": null,
          "new_text": "or (auto& timeline : m_associated_animation_timelines) {\n                if (!timeline->associated_animations().is_empty()) {\n                    has_animations = true;\n                    break;\n                }\n            }\n            if (!has_animations) {\n                m_animation_driver_timer->stop();\n                return;\n            }\n            auto* window_or_worker = dynamic_cast<HTML::WindowOrWorkerGlobalScopeMixin*>(&realm().global_object());\n            VERIFY(window_or_worker);\n            update_animations_and_send_events(window_or_worker->performance()->now());\n        });\n    }\n\n    m_animation_driver_timer->start();\n}\n\nVector<JS::NonnullGCPtr<Animations::Animation>> Document::",
          "old_line_content": "{",
          "new_line_content": "        m_animation_driver_timer = Core::Timer::create_repeating(timer_delay_ms, [this] {",
          "content_same": false
        },
        {
          "line": 2422,
          "old_api": null,
          "new_api": "body_element))\n        return body_element->",
          "old_text": null,
          "new_text": "body_element))\n        return body_element->",
          "old_line_content": "",
          "new_line_content": "    if (auto* body_element = body(); body_element && !is<HTML::HTMLFrameSetElement>(*body_element))",
          "content_same": false
        },
        {
          "line": 2423,
          "old_api": null,
          "new_api": "ue",
          "old_text": null,
          "new_text": "ue(HTML::AttributeNames::link);\n    return \"\"_string;\n}\n\nvoid",
          "old_line_content": "String Document::link_color() const",
          "new_line_content": "        return body_element->get_attribute_value(HTML::AttributeNames::link);",
          "content_same": false
        },
        {
          "line": 4476,
          "old_api": null,
          "new_api": "dynamic_cast<HTML::WindowOrWorke",
          "old_text": null,
          "new_text": "dynamic_cast<HTML::WindowOrWorke",
          "old_line_content": "                }",
          "new_line_content": "                m_animation_driver_timer->stop();",
          "content_same": false
        },
        {
          "line": 2429,
          "old_api": null,
          "new_api": "body_element))\n        MUST(body_element->se",
          "old_text": null,
          "new_text": "body_element))\n        MUST(body_element->se",
          "old_line_content": "",
          "new_line_content": "    if (auto* body_element = body(); body_element && !is<HTML::HTMLFrameSetElement>(*body_element))",
          "content_same": false
        },
        {
          "line": 2430,
          "old_api": null,
          "new_api": "L::AttributeNames::link, value));\n}\n\nString Document::vlink_co",
          "old_text": null,
          "new_text": "L::AttributeNames::link, value));\n}\n\nString Document::vlink_co",
          "old_line_content": "void Document::set_link_color(String const& value)",
          "new_line_content": "        MUST(body_element->set_attribute(HTML::AttributeNames::link, value));",
          "content_same": false
        },
        {
          "line": 4480,
          "old_api": null,
          "new_api": "));\n        });\n    }",
          "old_text": null,
          "new_text": "));\n        });\n    }\n\n ",
          "old_line_content": "                return;",
          "new_line_content": "            VERIFY(window_or_worker);",
          "content_same": false
        },
        {
          "line": 4481,
          "old_api": null,
          "new_api": "JS::NonnullGCPtr<Animations::Animation",
          "old_text": null,
          "new_text": "JS::NonnullGCPtr<Animations::Animation",
          "old_line_content": "            }",
          "new_line_content": "            update_animations_and_send_events(window_or_worker->performance()->now());",
          "content_same": false
        },
        {
          "line": 2435,
          "old_api": null,
          "new_api": "body_element))\n        return body_element->",
          "old_text": null,
          "new_text": "body_element))\n        return body_element->",
          "old_line_content": "",
          "new_line_content": "    if (auto* body_element = body(); body_element && !is<HTML::HTMLFrameSetElement>(*body_element))",
          "content_same": false
        },
        {
          "line": 2436,
          "old_api": null,
          "new_api": "ue",
          "old_text": null,
          "new_text": "ue(HTML::AttributeNames::vlink);\n    return \"\"_string;\n}\n\nvoid",
          "old_line_content": "String Document::vlink_color() const",
          "new_line_content": "        return body_element->get_attribute_value(HTML::AttributeNames::vlink);",
          "content_same": false
        },
        {
          "line": 4485,
          "old_api": null,
          "new_api": "s",
          "old_text": null,
          "new_text": "s()\n{\n    Vector<JS::NonnullGCPtr",
          "old_line_content": "        });",
          "new_line_content": "    m_animation_driver_timer->start();",
          "content_same": false
        },
        {
          "line": 2442,
          "old_api": null,
          "new_api": "body_element))\n        MUST(body_element->se",
          "old_text": null,
          "new_text": "body_element))\n        MUST(body_element->se",
          "old_line_content": "",
          "new_line_content": "    if (auto* body_element = body(); body_element && !is<HTML::HTMLFrameSetElement>(*body_element))",
          "content_same": false
        },
        {
          "line": 2443,
          "old_api": null,
          "new_api": "L::AttributeNames::vlink, value));\n}\n\nString Document::alink_co",
          "old_text": null,
          "new_text": "L::AttributeNames::vlink, value));\n}\n\nString Document::alink_co",
          "old_line_content": "void Document::set_vlink_color(String const& value)",
          "new_line_content": "        MUST(body_element->set_attribute(HTML::AttributeNames::vlink, value));",
          "content_same": false
        },
        {
          "line": 4491,
          "old_api": null,
          "new_api": ".subtree = true }));\n        return IterationDecision::Continue;\n    });\n    return relevant_animations;\n}\n\n// https://html.spec.whatwg.org/multipage/dom.html#dom-document-namedite",
          "old_text": null,
          "new_text": ".subtree = true }));\n        return IterationDecision::Continue;\n    });\n    return relevant_animations;\n}\n\n// https://html.spec.whatwg.org/multipage/dom.html#dom-document-namedite",
          "old_line_content": "Vector<JS::NonnullGCPtr<Animations::Animation>> Document::get_animations()",
          "new_line_content": "    for_each_child_of_type<Element>([&](auto& child) {",
          "content_same": false
        },
        {
          "line": 4492,
          "old_api": null,
          "new_api": "levant_animations;\n}\n\n// https://html.spe",
          "old_text": null,
          "new_text": "levant_animations;\n}\n\n// https://html.spe",
          "old_line_content": "{",
          "new_line_content": "        relevant_animations.extend(child.get_animations({ .subtree = true }));",
          "content_same": false
        },
        {
          "line": 2448,
          "old_api": null,
          "new_api": "body_element))\n        return body_element->",
          "old_text": null,
          "new_text": "body_element))\n        return body_element->",
          "old_line_content": "",
          "new_line_content": "    if (auto* body_element = body(); body_element && !is<HTML::HTMLFrameSetElement>(*body_element))",
          "content_same": false
        },
        {
          "line": 2449,
          "old_api": null,
          "new_api": "ue",
          "old_text": null,
          "new_text": "ue(HTML::AttributeNames::alink);\n    return \"\"_string;\n}\n\nvoid",
          "old_line_content": "String Document::alink_color() const",
          "new_line_content": "        return body_element->get_attribute_value(HTML::AttributeNames::alink);",
          "content_same": false
        },
        {
          "line": 4501,
          "old_api": null,
          "new_api": "ditem-filter\nstatic bool is_potentia",
          "old_text": null,
          "new_text": "ditem-filter\nstatic bool is_potentia",
          "old_line_content": "// https://html.spec.whatwg.org/multipage/dom.html#dom-document-nameditem-filter",
          "new_line_content": "    return is<HTML::HTMLEmbedElement>(element) || is<HTML::HTMLFormElement>(element) || is<HTML::HTMLIFrameElement>(element) || is<HTML::HTMLImageElement>(element) || is<HTML::HTMLObjectElement>(element);",
          "content_same": false
        },
        {
          "line": 2455,
          "old_api": null,
          "new_api": "body_element))\n        MUST(body_element->se",
          "old_text": null,
          "new_text": "body_element))\n        MUST(body_element->se",
          "old_line_content": "",
          "new_line_content": "    if (auto* body_element = body(); body_element && !is<HTML::HTMLFrameSetElement>(*body_element))",
          "content_same": false
        },
        {
          "line": 2456,
          "old_api": null,
          "new_api": "L::AttributeNames::alink, value));\n}\n\nString Document::bg_color",
          "old_text": null,
          "new_text": "L::AttributeNames::alink, value));\n}\n\nString Document::bg_color",
          "old_line_content": "void Document::set_alink_color(String const& value)",
          "new_line_content": "        MUST(body_element->set_attribute(HTML::AttributeNames::alink, value));",
          "content_same": false
        },
        {
          "line": 4507,
          "old_api": null,
          "new_api": ">>& elements, DOM::Element& element",
          "old_text": null,
          "new_text": ">>& elements, DOM::Element& element",
          "old_line_content": "// https://html.spec.whatwg.org/multipage/dom.html#dom-document-nameditem-filter",
          "new_line_content": "    return is<HTML::HTMLObjectElement>(element) || is<HTML::HTMLImageElement>(element);",
          "content_same": false
        },
        {
          "line": 2461,
          "old_api": null,
          "new_api": "body_element))\n        return body_element->",
          "old_text": null,
          "new_text": "body_element))\n        return body_element->",
          "old_line_content": "",
          "new_line_content": "    if (auto* body_element = body(); body_element && !is<HTML::HTMLFrameSetElement>(*body_element))",
          "content_same": false
        },
        {
          "line": 2462,
          "old_api": null,
          "new_api": "ue",
          "old_text": null,
          "new_text": "ue(HTML::AttributeNames::bgcolor);\n    return \"\"_string;\n}\n\nvoid",
          "old_line_content": "String Document::bg_color() const",
          "new_line_content": "        return body_element->get_attribute_value(HTML::AttributeNames::bgcolor);",
          "content_same": false
        },
        {
          "line": 2468,
          "old_api": null,
          "new_api": "body_element))\n        MUST(body_element->se",
          "old_text": null,
          "new_text": "body_element))\n        MUST(body_element->se",
          "old_line_content": "",
          "new_line_content": "    if (auto* body_element = body(); body_element && !is<HTML::HTMLFrameSetElement>(*body_element))",
          "content_same": false
        },
        {
          "line": 2469,
          "old_api": null,
          "new_api": "L::AttributeNames::bgcolor, value));\n}\n\nString Document::dump_dom",
          "old_text": null,
          "new_text": "L::AttributeNames::bgcolor, value));\n}\n\nString Document::dump_dom",
          "old_line_content": "void Document::set_bg_color(String const& value)",
          "new_line_content": "        MUST(body_element->set_attribute(HTML::AttributeNames::bgcolor, value));",
          "content_same": false
        },
        {
          "line": 4517,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "position(element) & Node::DOCUMENT_POSITION_FOLLOWING;\n    });\n    if (index.has_value())\n        elements.insert(index.value(), element);\n    else\n        elements.appen",
          "old_line_content": "            return;",
          "new_line_content": "    auto index = elements.find_first_index_if([&](auto& existing_element) {",
          "content_same": false
        },
        {
          "line": 4518,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "ex.has_value())\n        elements.insert(index.value(",
          "old_line_content": "    }",
          "new_line_content": "        return existing_element->compare_document_position(element) & Node::DOCUMENT_POSITION_FOLLOWING;",
          "content_same": false
        },
        {
          "line": 2475,
          "old_api": null,
          "new_api": "ate",
          "old_text": null,
          "new_text": "ate(builder));\n    serialize_tree_as_json(j",
          "old_line_content": "String Document::dump_dom_tree_as_json() const",
          "new_line_content": "    auto json = MUST(JsonObjectSerializer<>::try_create(builder));",
          "content_same": false
        },
        {
          "line": 2476,
          "old_api": null,
          "new_api": "finish",
          "old_text": null,
          "new_text": "    MUST(json.finish());\n   ",
          "old_line_content": "{",
          "new_line_content": "    serialize_tree_as_json(json);",
          "content_same": false
        },
        {
          "line": 4529,
          "old_api": null,
          "new_api": "rder",
          "old_text": null,
          "new_text": "rder(m_potentially_named_elements, element);\n  ",
          "old_line_content": "void Document::element_id_changed(Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element)",
          "new_line_content": "        form_associated_element->element_id_changed({});",
          "content_same": false
        },
        {
          "line": 4531,
          "old_api": null,
          "new_api": "(void)m_potentially_n",
          "old_text": null,
          "new_text": "    (void)m_potentially_n",
          "old_line_content": "    for (auto* form_associated_element : m_form_associated_elements_with_form_attribute)",
          "new_line_content": "    if (element->id().has_value())",
          "content_same": false
        },
        {
          "line": 2490,
          "old_api": null,
          "new_api": "se;\n\n    //",
          "old_text": null,
          "new_text": "se;\n\n    //",
          "old_line_content": "        return true;",
          "new_line_content": "    if (!navigable())",
          "content_same": false
        },
        {
          "line": 4540,
          "old_api": null,
          "new_api": "d",
          "old_text": null,
          "new_text": "d(*element))\n        insert_in_tree_order(m_potentially_named_ele",
          "old_line_content": "void Document::element_with_id_was_added(Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element)",
          "new_line_content": "        form_associated_element->element_with_id_was_added_or_removed({});",
          "content_same": false
        },
        {
          "line": 2494,
          "old_api": null,
          "new_api": "();\n\n    // FIXME: 4. If containe",
          "old_text": null,
          "new_text": "();\n\n    // FIXME: 4. If containe",
          "old_line_content": "        return false;",
          "new_line_content": "    auto container_document = navigable()->container_document();",
          "content_same": false
        },
        {
          "line": 4542,
          "old_api": null,
          "new_api": "ent);\n}\n\nvoid Document::element_with_id_was_",
          "old_text": null,
          "new_text": "ent);\n}\n\nvoid Document::element_with_id_was_",
          "old_line_content": "    for (auto* form_associated_element : m_form_associated_elements_with_form_attribute)",
          "new_line_content": "    if (is_potentially_named_element_by_id(*element))",
          "content_same": false
        },
        {
          "line": 4549,
          "old_api": null,
          "new_api": "d",
          "old_text": null,
          "new_text": "d(*element))\n        (void)m_potentially_named_elements.remove_fi",
          "old_line_content": "void Document::element_with_id_was_removed(Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element)",
          "new_line_content": "        form_associated_element->element_with_id_was_added_or_removed({});",
          "content_same": false
        },
        {
          "line": 4551,
          "old_api": null,
          "new_api": "g",
          "old_text": null,
          "new_text": "g([element](auto& e) { return e == element; ",
          "old_line_content": "    for (auto* form_associated_element : m_form_associated_elements_with_form_attribute)",
          "new_line_content": "    if (is_potentially_named_element_by_id(*element))",
          "content_same": false
        },
        {
          "line": 4557,
          "old_api": null,
          "new_api": "e {\n        if (is_potentia",
          "old_text": null,
          "new_text": "e {\n        if (is_potentia",
          "old_line_content": "",
          "new_line_content": "    if (element->name().has_value()) {",
          "content_same": false
        },
        {
          "line": 4558,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "ement_by_id(element) && element->id().has_value())\n        ",
          "old_line_content": "void Document::element_name_changed(Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element)",
          "new_line_content": "        insert_in_tree_order(m_potentially_named_elements, element);",
          "content_same": false
        },
        {
          "line": 2511,
          "old_api": null,
          "new_api": "tml.spec.whatw",
          "old_text": null,
          "new_text": "tml.spec.whatw",
          "old_line_content": "",
          "new_line_content": "    m_referrer = move(referrer);",
          "content_same": false
        },
        {
          "line": 4562,
          "old_api": null,
          "new_api": "d Document::element_with_name_was_added(Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> ele",
          "old_text": null,
          "new_text": "d Document::element_with_name_was_added(Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> ele",
          "old_line_content": "    } else {",
          "new_line_content": "        (void)m_potentially_named_elements.remove_first_matching([element](auto& e) { return e == element; });",
          "content_same": false
        },
        {
          "line": 2519,
          "old_api": null,
          "new_api": "igable)\n        r",
          "old_text": null,
          "new_text": "igable)\n        r",
          "old_line_content": "{",
          "new_line_content": "    auto navigable = this->navigable();",
          "content_same": false
        },
        {
          "line": 4568,
          "old_api": null,
          "new_api": "void Document::element_with_name_wa",
          "old_text": null,
          "new_text": "\n\nvoid Document::element_with_name_wa",
          "old_line_content": "",
          "new_line_content": "    if (is_potentially_named_element(element))",
          "content_same": false
        },
        {
          "line": 4569,
          "old_api": null,
          "new_api": "Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element",
          "old_text": null,
          "new_text": "Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element",
          "old_line_content": "void Document::element_with_name_was_added(Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element)",
          "new_line_content": "        insert_in_tree_order(m_potentially_named_elements, element);",
          "content_same": false
        },
        {
          "line": 2523,
          "old_api": null,
          "new_api": "e",
          "old_text": null,
          "new_text": "e();\n    if (navigable == traversa",
          "old_line_content": "    if (!navigable)",
          "new_line_content": "    auto traversable = navigable->traversable_navigable();",
          "content_same": false
        },
        {
          "line": 2524,
          "old_api": null,
          "new_api": "rsable",
          "old_text": null,
          "new_text": "rsable())\n        return true;\n\n    aut",
          "old_line_content": "        return false;",
          "new_line_content": "    if (navigable == traversable && traversable->is_top_level_traversable())",
          "content_same": false
        },
        {
          "line": 4574,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "id().has_value())\n            return;",
          "old_line_content": "",
          "new_line_content": "    if (is_potentially_named_element(element)) {",
          "content_same": false
        },
        {
          "line": 4575,
          "old_api": null,
          "new_api": "ng",
          "old_text": null,
          "new_text": "ng([element](auto& e) { r",
          "old_line_content": "void Document::element_with_name_was_removed(Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element)",
          "new_line_content": "        if (is_potentially_named_element_by_id(element) && element->id().has_value())",
          "content_same": false
        },
        {
          "line": 2528,
          "old_api": null,
          "new_api": "tive",
          "old_text": null,
          "new_text": "tive())\n        return true;\n\n    ret",
          "old_line_content": "        return true;",
          "new_line_content": "    if (container_document && container_document->is_fully_active())",
          "content_same": false
        },
        {
          "line": 4583,
          "old_api": null,
          "new_api": "m_associated_element_with_form_attribute",
          "old_text": null,
          "new_text": "m_associated_element_with_form_attribute(HTML::FormAssociatedElement& form_asso",
          "old_line_content": "",
          "new_line_content": "    m_form_associated_elements_with_form_attribute.append(&form_associated_element);",
          "content_same": false
        },
        {
          "line": 2536,
          "old_api": null,
          "new_api": "avigable && navig",
          "old_text": null,
          "new_text": "avigable && navig",
          "old_line_content": "",
          "new_line_content": "    auto navigable = this->navigable();",
          "content_same": false
        },
        {
          "line": 2537,
          "old_api": null,
          "new_api": "this;\n}\n\n// https://html.sp",
          "old_text": null,
          "new_text": " this;\n}\n\n// https://html.sp",
          "old_line_content": "bool Document::is_active() const",
          "new_line_content": "    return navigable && navigable->active_document() == this;",
          "content_same": false
        },
        {
          "line": 4588,
          "old_api": null,
          "new_api": "t == &form_associated_element;\n    });\n}\n\nvoid Document::set_design_mode_enabled_state(bool design_mode_enabled)\n{\n    m_design_mode_enabled = des",
          "old_text": null,
          "new_text": "t == &form_associated_element;\n    });\n}\n\nvoid Document::set_design_mode_enabled_state(bool design_mode_enabled)\n{\n    m_design_mode_enabled = des",
          "old_line_content": "",
          "new_line_content": "    m_form_associated_elements_with_form_attribute.remove_all_matching([&](auto* element) {",
          "content_same": false
        },
        {
          "line": 2546,
          "old_api": null,
          "new_api": "rn nullptr;",
          "old_text": null,
          "new_text": "rn nullptr;\n\n    ",
          "old_line_content": "    // The Document object's location attribute's getter must return this Document object's relevant global object's Location object,",
          "new_line_content": "    if (!is_fully_active())",
          "content_same": false
        },
        {
          "line": 4596,
          "old_api": null,
          "new_api": "e-documents-editable:-the-designm",
          "old_text": null,
          "new_text": "e-documents-editable:-the-designm",
          "old_line_content": "void Document::set_design_mode_enabled_state(bool design_mode_enabled)",
          "new_line_content": "    set_editable(design_mode_enabled);",
          "content_same": false
        },
        {
          "line": 4603,
          "old_api": null,
          "new_api": "ode",
          "old_text": null,
          "new_text": "ode(String const& design_mo",
          "old_line_content": "String Document::design_mode() const",
          "new_line_content": "    return design_mode_enabled_state() ? \"on\"_string : \"off\"_string;",
          "content_same": false
        },
        {
          "line": 4609,
          "old_api": null,
          "new_api": "f (value == \"on\"sv && !m_d",
          "old_text": null,
          "new_text": "f (value == \"on\"sv && !m_d",
          "old_line_content": "WebIDL::ExceptionOr<void> Document::set_design_mode(String const& design_mode)",
          "new_line_content": "    auto value = MUST(design_mode.to_lowercase());",
          "content_same": false
        },
        {
          "line": 4614,
          "old_api": null,
          "new_api": "to be at the start of this.",
          "old_text": null,
          "new_text": "to be at the start of this.\n       ",
          "old_line_content": "    // 2. If value is \"on\" and this's design mode enabled is false, then:",
          "new_line_content": "        set_design_mode_enabled_state(true);",
          "content_same": false
        },
        {
          "line": 2567,
          "old_api": null,
          "new_api": "ocument::set_visibil",
          "old_text": null,
          "new_text": "ocument::set_visibil",
          "old_line_content": "    case HTML::VisibilityState::Visible:",
          "new_line_content": "    VERIFY_NOT_REACHED();",
          "content_same": false
        },
        {
          "line": 4616,
          "old_api": null,
          "new_api": "TRY(ac",
          "old_text": null,
          "new_text": "         TRY(ac",
          "old_line_content": "        // 1. Set this's design mode enabled to true.",
          "new_line_content": "        if (auto selection = get_selection(); selection) {",
          "content_same": false
        },
        {
          "line": 4618,
          "old_api": null,
          "new_api": "ate_layout",
          "old_text": null,
          "new_text": "ate_layout();\n            }\n     ",
          "old_line_content": "        // 2. Reset this's active range's start and end boundary points to be at the start of this.",
          "new_line_content": "                TRY(active_range->set_start(*this, 0));",
          "content_same": false
        },
        {
          "line": 4624,
          "old_api": null,
          "new_api": "// 3. If value is \"off\"",
          "old_text": null,
          "new_text": " // 3. If value is \"off\"",
          "old_line_content": "            }",
          "new_line_content": "        if (auto* document_element = this->document_element(); document_element)",
          "content_same": false
        },
        {
          "line": 4625,
          "old_api": null,
          "new_api": "abled to false.\n    else if (value == \"off",
          "old_text": null,
          "new_text": "abled to false.\n    else if (value == \"off",
          "old_line_content": "        }",
          "new_line_content": "            HTML::run_focusing_steps(document_element);",
          "content_same": false
        },
        {
          "line": 4629,
          "old_api": null,
          "new_api": "ument-elementfrompoint\nElement const",
          "old_text": null,
          "new_text": "ument-elementfrompoint\nElement const",
          "old_line_content": "    }",
          "new_line_content": "        set_design_mode_enabled_state(false);",
          "content_same": false
        },
        {
          "line": 2588,
          "old_api": null,
          "new_api": "bilityc",
          "old_text": null,
          "new_text": "bilityc",
          "old_line_content": "    // FIXME: 3. Run any page visibility change steps which may be defined in other specifications, with visibility state and document.",
          "new_line_content": "    auto event = DOM::Event::create(realm(), HTML::EventNames::visibilitychange);",
          "content_same": false
        },
        {
          "line": 2589,
          "old_api": null,
          "new_api": "ispatch_event",
          "old_text": null,
          "new_text": "ispatch_event(event);\n}\n",
          "old_line_content": "",
          "new_line_content": "    event->set_bubbles(true);",
          "content_same": false
        },
        {
          "line": 2590,
          "old_api": null,
          "new_api": "tps://drafts.csswg.or",
          "old_text": null,
          "new_text": "tps://drafts.csswg.or",
          "old_line_content": "    // 4. Fire an event named visibilitychange at document, with its bubbles attribute initialized to true.",
          "new_line_content": "    dispatch_event(event);",
          "content_same": false
        },
        {
          "line": 4640,
          "old_api": null,
          "new_api": "the scroll bar.",
          "old_text": null,
          "new_text": " the scroll bar.\n    ",
          "old_line_content": "    // 1. If either argument is negative, x is greater than the viewport width excluding the size of a rendered scroll",
          "new_line_content": "    auto viewport_rect = this->viewport_rect();",
          "content_same": false
        },
        {
          "line": 4647,
          "old_api": null,
          "new_api": "inates x,y, whe",
          "old_text": null,
          "new_text": "inates x,y, whe",
          "old_line_content": "        return nullptr;",
          "new_line_content": "    update_layout();",
          "content_same": false
        },
        {
          "line": 2601,
          "old_api": null,
          "new_api": "();\n    bool is_initial_size = !m_las",
          "old_text": null,
          "new_text": "();\n    bool is_initial_size = !m_las",
          "old_line_content": "    //    or an iframe elements dimensions are changed) since the last time these steps were run,",
          "new_line_content": "    auto viewport_size = viewport_rect().size().to_type<int>();",
          "content_same": false
        },
        {
          "line": 2602,
          "old_api": null,
          "new_api": "if (m_last_viewport_size ==",
          "old_text": null,
          "new_text": "    if (m_last_viewport_size == ",
          "old_line_content": "    //    fire an event named resize at the Window object associated with doc.",
          "new_line_content": "    bool is_initial_size = !m_last_viewport_size.has_value();",
          "content_same": false
        },
        {
          "line": 4652,
          "old_api": null,
          "new_api": "::Exact, [&](Painting",
          "old_text": null,
          "new_text": "::Exact, [&](Painting",
          "old_line_content": "    // 2. If there is a box in the viewport that would be a target for hit testing at coordinates x,y, when applying the transforms",
          "new_line_content": "    if (auto const* paintable_box = this->paintable_box(); paintable_box) {",
          "content_same": false
        },
        {
          "line": 4653,
          "old_api": null,
          "new_api": "dom_node",
          "old_text": null,
          "new_text": "     auto* dom_node = result.dom_node();\n            if (dom_node && dom_node->is_element()) {\n                hit_test_result = result;\n                return TraversalDecision::Break;\n            }\n            return TraversalDecision::Continue;\n        });\n    }\n    if (hit_test_result.has_value())\n        return static_cast<Element*>(hit_test_result->dom_node()",
          "old_line_content": "    //    that apply to the descendants of the viewport, return the associated element and terminate these steps.",
          "new_line_content": "        (void)paintable_box->hit_test(position, Painting::HitTestType::Exact, [&](Painting::HitTestResult result) {",
          "content_same": false
        },
        {
          "line": 4654,
          "old_api": null,
          "new_api": "sult;",
          "old_text": null,
          "new_text": "sult;\n           ",
          "old_line_content": "    Optional<Painting::HitTestResult> hit_test_result;",
          "new_line_content": "            auto* dom_node = result.dom_node();",
          "content_same": false
        },
        {
          "line": 2609,
          "old_api": null,
          "new_api": "ze));",
          "old_text": null,
          "new_text": "ze));\n\n",
          "old_line_content": "    m_last_viewport_size = viewport_size;",
          "new_line_content": "        window()->dispatch_event(DOM::Event::create(realm(), UIEvents::EventNames::resize));",
          "content_same": false
        },
        {
          "line": 2611,
          "old_api": null,
          "new_api": "ps://w3c.github.io/csswg",
          "old_text": null,
          "new_text": "ps://w3c.github.io/csswg",
          "old_line_content": "    if (!is_initial_size)",
          "new_line_content": "    schedule_layout_update();",
          "content_same": false
        },
        {
          "line": 4662,
          "old_api": null,
          "new_api": "the document has a root el",
          "old_text": null,
          "new_text": " the document has a root el",
          "old_line_content": "            return TraversalDecision::Continue;",
          "new_line_content": "    if (hit_test_result.has_value())",
          "content_same": false
        },
        {
          "line": 4663,
          "old_api": null,
          "new_api": "inate these steps.\n    if (",
          "old_text": null,
          "new_text": "inate these steps.\n    if (",
          "old_line_content": "        });",
          "new_line_content": "        return static_cast<Element*>(hit_test_result->dom_node());",
          "content_same": false
        },
        {
          "line": 2620,
          "old_api": null,
          "new_api": "auto event = DOM::Eve",
          "old_text": null,
          "new_text": "auto event = DOM::Eve",
          "old_line_content": "    // 1. For each item target in docs pending scroll event targets, in the order they were added to the list, run these substeps:",
          "new_line_content": "        if (is<Document>(*target)) {",
          "content_same": false
        },
        {
          "line": 2621,
          "old_api": null,
          "new_api": "",
          "old_text": null,
          "new_text": "       ",
          "old_line_content": "    for (auto& target : m_pending_scroll_event_targets) {",
          "new_line_content": "            auto event = DOM::Event::create(realm(), HTML::EventNames::scroll);",
          "content_same": false
        },
        {
          "line": 2622,
          "old_api": null,
          "new_api": "dispatch_event",
          "old_text": null,
          "new_text": " target->dispatch_event(",
          "old_line_content": "        // 1. If target is a Document, fire an event named scroll that bubbles at target and fire an event named scroll at the VisualViewport that is associated with target.",
          "new_line_content": "            event->set_bubbles(true);",
          "content_same": false
        },
        {
          "line": 2628,
          "old_api": null,
          "new_api": "",
          "old_text": null,
          "new_text": "       ",
          "old_line_content": "        }",
          "new_line_content": "            auto event = DOM::Event::create(realm(), HTML::EventNames::scroll);",
          "content_same": false
        },
        {
          "line": 2629,
          "old_api": null,
          "new_api": "}\n    }\n\n    // 2. Empty do",
          "old_text": null,
          "new_text": "  }\n    }\n\n    // 2. Empty do",
          "old_line_content": "        // 2. Otherwise, fire an event named scroll at target.",
          "new_line_content": "            target->dispatch_event(event);",
          "content_same": false
        },
        {
          "line": 2634,
          "old_api": null,
          "new_api": "}\n\nvoid Document::add_media_query_lis",
          "old_text": null,
          "new_text": "\n}\n\nvoid Document::add_media_query_lis",
          "old_line_content": "    }",
          "new_line_content": "    m_pending_scroll_event_targets.clear();",
          "content_same": false
        },
        {
          "line": 4682,
          "old_api": null,
          "new_api": "the scroll bar.",
          "old_text": null,
          "new_text": " the scroll bar.\n    ",
          "old_line_content": "    // 2. If either argument is negative, x is greater than the viewport width excluding the size of a rendered scroll bar (if any),",
          "new_line_content": "    auto viewport_rect = this->viewport_rect();",
          "content_same": false
        },
        {
          "line": 2639,
          "old_api": null,
          "new_api": "_list);\n}\n\n// https://drafts.csswg.org/cssom-",
          "old_text": null,
          "new_text": "_list);\n}\n\n// https://drafts.csswg.org/cssom-",
          "old_line_content": "",
          "new_line_content": "    m_media_query_lists.append(*media_query_list);",
          "content_same": false
        },
        {
          "line": 4689,
          "old_api": null,
          "new_api": "would be a tar",
          "old_text": null,
          "new_text": " would be a tar",
          "old_line_content": "        return sequence;",
          "new_line_content": "    update_layout();",
          "content_same": false
        },
        {
          "line": 2646,
          "old_api": null,
          "new_api": "is_null",
          "old_text": null,
          "new_text": "([](auto& it) {\n        return it.is_null();\n    });\n\n    // 1. For each MediaQueryList ob",
          "old_line_content": "void Document::evaluate_media_queries_and_report_changes()",
          "new_line_content": "    m_media_query_lists.remove_all_matching([](auto& it) {",
          "content_same": false
        },
        {
          "line": 2647,
          "old_api": null,
          "new_api": "ch MediaQuer",
          "old_text": null,
          "new_text": "ch MediaQuer",
          "old_line_content": "{",
          "new_line_content": "        return it.is_null();",
          "content_same": false
        },
        {
          "line": 4694,
          "old_api": null,
          "new_api": "::Exact, [&](Painting",
          "old_text": null,
          "new_text": "::Exact, [&](Painting",
          "old_line_content": "    // 3. For each box in the viewport, in paint order, starting with the topmost box, that would be a target for",
          "new_line_content": "    if (auto const* paintable_box = this->paintable_box(); paintable_box) {",
          "content_same": false
        },
        {
          "line": 4695,
          "old_api": null,
          "new_api": "dom_node",
          "old_text": null,
          "new_text": "     auto* dom_node = result.dom_node();\n            if (dom_node && dom_node->is_element())\n                sequence.append(*static_cast<Element*>(dom_node));\n            return TraversalDecision::Continue;\n        });\n    }\n\n    // 4. If the document has a root element, and the last item in sequence is not the root element,",
          "old_line_content": "    //    hit testing at coordinates x,y even if nothing would be overlapping it, when applying the transforms that",
          "new_line_content": "        (void)paintable_box->hit_test(position, Painting::HitTestType::Exact, [&](Painting::HitTestResult result) {",
          "content_same": false
        },
        {
          "line": 4696,
          "old_api": null,
          "new_api": "c_cast<Element*>(",
          "old_text": null,
          "new_text": "c_cast<Element*>(",
          "old_line_content": "    //    apply to the descendants of the viewport, append the associated element to sequence.",
          "new_line_content": "            auto* dom_node = result.dom_node();",
          "content_same": false
        },
        {
          "line": 4705,
          "old_api": null,
          "new_api": "turn sequence;",
          "old_text": null,
          "new_text": "turn sequence;\n",
          "old_line_content": "",
          "new_line_content": "    if (auto* root_element = document_element(); root_element && (sequence.is_empty() || (sequence.last() != root_element)))",
          "content_same": false
        },
        {
          "line": 2658,
          "old_api": null,
          "new_api": "ontinue;\n        JS::GCPtr<CSS",
          "old_text": null,
          "new_text": "ontinue;\n        JS::GCPtr<CSS",
          "old_line_content": "        //    with its type attribute initialized to change, its isTrusted attribute",
          "new_line_content": "        if (media_query_list_ptr.is_null())",
          "content_same": false
        },
        {
          "line": 4706,
          "old_api": null,
          "new_api": "rg/cssom-view/#dom-document-sc",
          "old_text": null,
          "new_text": "rg/cssom-view/#dom-document-sc",
          "old_line_content": "    // 4. If the document has a root element, and the last item in sequence is not the root element,",
          "new_line_content": "        sequence.append(*root_element);",
          "content_same": false
        },
        {
          "line": 2660,
          "old_api": null,
          "new_api": "match = media_query_list->",
          "old_text": null,
          "new_text": "match = media_query_list->",
          "old_line_content": "        //    and its matches attribute initialized to targets matches state.",
          "new_line_content": "        JS::GCPtr<CSS::MediaQueryList> media_query_list = media_query_list_ptr.ptr();",
          "content_same": false
        },
        {
          "line": 2662,
          "old_api": null,
          "new_api": "d_match != now_matches) {",
          "old_text": null,
          "new_text": "d_match != now_matches) {\n  ",
          "old_line_content": "            continue;",
          "new_line_content": "        bool now_matches = media_query_list->evaluate();",
          "content_same": false
        },
        {
          "line": 2666,
          "old_api": null,
          "new_api": "atches = now_matches;",
          "old_text": null,
          "new_text": "atches = now_matches;\n   ",
          "old_line_content": "",
          "new_line_content": "            init.media = media_query_list->media();",
          "content_same": false
        },
        {
          "line": 2668,
          "old_api": null,
          "new_api": "",
          "old_text": null,
          "new_text": "       ",
          "old_line_content": "            CSS::MediaQueryListEventInit init;",
          "new_line_content": "            auto event = CSS::MediaQueryListEvent::create(realm(), HTML::EventNames::change, init);",
          "content_same": false
        },
        {
          "line": 4716,
          "old_api": null,
          "new_api": "e body element a",
          "old_text": null,
          "new_text": "e body element a",
          "old_line_content": "JS::GCPtr<Element const> Document::scrolling_element() const",
          "new_line_content": "    if (in_quirks_mode()) {",
          "content_same": false
        },
        {
          "line": 2670,
          "old_api": null,
          "new_api": "}\n    }\n\n    // Also not in the spe",
          "old_text": null,
          "new_text": "     }\n    }\n\n    // Also not in the spe",
          "old_line_content": "            init.matches = now_matches;",
          "new_line_content": "            media_query_list->dispatch_event(*event);",
          "content_same": false
        },
        {
          "line": 2675,
          "old_api": null,
          "new_api": "luate_media_rules",
          "old_text": null,
          "new_text": "luate_media_rules()\n{\n",
          "old_line_content": "    }",
          "new_line_content": "    evaluate_media_rules();",
          "content_same": false
        },
        {
          "line": 4727,
          "old_api": null,
          "new_api": "/ https://html.spe",
          "old_text": null,
          "new_text": "/ https://html.spe",
          "old_line_content": "    }",
          "new_line_content": "    if (auto const* root_element = document_element(); root_element)",
          "content_same": false
        },
        {
          "line": 2680,
          "old_api": null,
          "new_api": "rn;\n\n    bool",
          "old_text": null,
          "new_text": "rn;\n\n    bool ",
          "old_line_content": "",
          "new_line_content": "    auto window = this->window();",
          "content_same": false
        },
        {
          "line": 2685,
          "old_api": null,
          "new_api": "evaluate_media_queries",
          "old_text": null,
          "new_text": "et& style_sheet) {\n        if (style_sheet.evaluate_media_queries(*window))\n            any_media_queries_changed_match_state = true;\n    });\n\n    if (any_media_queries_changed_match_st",
          "old_line_content": "        return;",
          "new_line_content": "    for_each_css_style_sheet([&](CSS::CSSStyleSheet& style_sheet) {",
          "content_same": false
        },
        {
          "line": 2686,
          "old_api": null,
          "new_api": "any_media_queries_changed_match",
          "old_text": null,
          "new_text": "            any_media_queries_changed_match",
          "old_line_content": "",
          "new_line_content": "        if (style_sheet.evaluate_media_queries(*window))",
          "content_same": false
        },
        {
          "line": 4737,
          "old_api": null,
          "new_api": "s no exposed object ancestor, and,",
          "old_text": null,
          "new_text": "s no exposed object ancestor, and,\n ",
          "old_line_content": "// https://html.spec.whatwg.org/multipage/dom.html#exposed",
          "new_line_content": "    VERIFY(is<HTML::HTMLEmbedElement>(element) || is<HTML::HTMLObjectElement>(element));",
          "content_same": false
        },
        {
          "line": 2691,
          "old_api": null,
          "new_api": "invalidate_style();\n        invalid",
          "old_text": null,
          "new_text": "     invalidate_style();\n        invalid",
          "old_line_content": "    });",
          "new_line_content": "        style_computer().invalidate_rule_cache();",
          "content_same": false
        },
        {
          "line": 2692,
          "old_api": null,
          "new_api": "();\n    }\n}\n\nDOMIm",
          "old_text": null,
          "new_text": "();\n    }\n}\n\nDOMIm",
          "old_line_content": "",
          "new_line_content": "        invalidate_style();",
          "content_same": false
        },
        {
          "line": 2693,
          "old_api": null,
          "new_api": "on* Document::imple",
          "old_text": null,
          "new_text": "on* Document::imple",
          "old_line_content": "    if (any_media_queries_changed_match_state) {",
          "new_line_content": "        invalidate_layout();",
          "content_same": false
        },
        {
          "line": 2700,
          "old_api": null,
          "new_api": "m_implementation;\n}\n\nbool Docume",
          "old_text": null,
          "new_text": "m_implementation;\n}\n\nbool Docume",
          "old_line_content": "DOMImplementation* Document::implementation()",
          "new_line_content": "        m_implementation = DOMImplementation::create(*this);",
          "content_same": false
        },
        {
          "line": 4755,
          "old_api": null,
          "new_api": "nt>(*element)",
          "old_text": null,
          "new_text": "nt>(*element)\n     ",
          "old_line_content": "    for (auto const& element : m_potentially_named_elements) {",
          "new_line_content": "        if ((is<HTML::HTMLEmbedElement>(*element) && is_exposed(element))",
          "content_same": false
        },
        {
          "line": 4756,
          "old_api": null,
          "new_api": "::HTMLImageElement>(*element)",
          "old_text": null,
          "new_text": "::HTMLImageElement>(*element)\n     ",
          "old_line_content": "        // - the value of the name content attribute for all exposed embed, form, iframe, img, and exposed object elements",
          "new_line_content": "            || is<HTML::HTMLFormElement>(*element)",
          "content_same": false
        },
        {
          "line": 4757,
          "old_api": null,
          "new_api": "ML::HTMLObjectElement>(*element) && i",
          "old_text": null,
          "new_text": "ML::HTMLObjectElement>(*element) && i",
          "old_line_content": "        //   that have a non-empty name content attribute and are in a document tree with document as their root;",
          "new_line_content": "            || is<HTML::HTMLIFrameElement>(*element)",
          "content_same": false
        },
        {
          "line": 4767,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "value());\n         ",
          "old_line_content": "",
          "new_line_content": "        if (is<HTML::HTMLObjectElement>(*element) && is_exposed(element)) {",
          "content_same": false
        },
        {
          "line": 4768,
          "old_api": null,
          "new_api": "id content at",
          "old_text": null,
          "new_text": " id content at",
          "old_line_content": "        // - the value of the id content attribute for all exposed object elements that have a non-empty id content attribute",
          "new_line_content": "            if (auto id = element->id(); id.has_value()) {",
          "content_same": false
        },
        {
          "line": 4769,
          "old_api": null,
          "new_api": "hat have b",
          "old_text": null,
          "new_text": "hat have b",
          "old_line_content": "        //   and are in a document tree with document as their root; and",
          "new_line_content": "                names.set(id.value());",
          "content_same": false
        },
        {
          "line": 4775,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "e().has_value()) {\n                n",
          "old_line_content": "",
          "new_line_content": "        if (is<HTML::HTMLImageElement>(*element)) {",
          "content_same": false
        },
        {
          "line": 4776,
          "old_api": null,
          "new_api": "values",
          "old_text": null,
          "new_text": " names.values();\n}\n\nstatic ",
          "old_line_content": "        // - the value of the id content attribute for all img elements that have both a non-empty id content attribute",
          "new_line_content": "            if (auto id = element->id(); id.has_value() && element->name().has_value()) {",
          "content_same": false
        },
        {
          "line": 4777,
          "old_api": null,
          "new_api": "e",
          "old_text": null,
          "new_text": "e(Element ",
          "old_line_content": "        //   and a non-empty name content attribute, and are in a document tree with document as their root.",
          "new_line_content": "                names.set(id.value());",
          "content_same": false
        },
        {
          "line": 4782,
          "old_api": null,
          "new_api": "// Named eleme",
          "old_text": null,
          "new_text": "// Named eleme",
          "old_line_content": "        }",
          "new_line_content": "    return names.values();",
          "content_same": false
        },
        {
          "line": 4791,
          "old_api": null,
          "new_api": "nt)\n        || is<H",
          "old_text": null,
          "new_text": "nt)\n        || is<H",
          "old_line_content": "",
          "new_line_content": "    if ((is<HTML::HTMLEmbedElement>(element) && is_exposed(element))",
          "content_same": false
        },
        {
          "line": 2744,
          "old_api": null,
          "new_api": "|| code_point == '-'\n        || code",
          "old_text": null,
          "new_text": "     || code_point == '-'\n        || code",
          "old_line_content": "// https://www.w3.org/TR/xml/#NT-NameChar",
          "new_line_content": "    return is_valid_name_start_character(code_point)",
          "content_same": false
        },
        {
          "line": 4792,
          "old_api": null,
          "new_api": "eElement>(element)\n        || (is<",
          "old_text": null,
          "new_text": "eElement>(element)\n        || (is<",
          "old_line_content": "    // - Exposed embed, form, iframe, img, or exposed object elements that have a name content attribute whose value",
          "new_line_content": "        || is<HTML::HTMLFormElement>(element)",
          "content_same": false
        },
        {
          "line": 4793,
          "old_api": null,
          "new_api": "jectElement>(element) && is_exposed(",
          "old_text": null,
          "new_text": "jectElement>(element) && is_exposed(",
          "old_line_content": "    //   is name, or",
          "new_line_content": "        || is<HTML::HTMLIFrameElement>(element)",
          "content_same": false
        },
        {
          "line": 4801,
          "old_api": null,
          "new_api": "that have an id con",
          "old_text": null,
          "new_text": "that have an id con",
          "old_line_content": "    }",
          "new_line_content": "    if (is<HTML::HTMLObjectElement>(element) && is_exposed(element)) {",
          "content_same": false
        },
        {
          "line": 4802,
          "old_api": null,
          "new_api": "hose value i",
          "old_text": null,
          "new_text": "hose value i",
          "old_line_content": "",
          "new_line_content": "        if (element.id() == name)",
          "content_same": false
        },
        {
          "line": 2756,
          "old_api": null,
          "new_api": "to code_points",
          "old_text": null,
          "new_text": "to code_points ",
          "old_line_content": "// https://www.w3.org/TR/xml/#NT-Name",
          "new_line_content": "    if (name.is_empty())",
          "content_same": false
        },
        {
          "line": 2758,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": ".begin();\n\n    if ",
          "old_line_content": "{",
          "new_line_content": "    auto code_points = name.code_points();",
          "content_same": false
        },
        {
          "line": 4808,
          "old_api": null,
          "new_api": "return true;\n    }\n\n    return",
          "old_text": null,
          "new_text": "    return true;\n    }\n\n    return ",
          "old_line_content": "",
          "new_line_content": "    if (is<HTML::HTMLImageElement>(element)) {",
          "content_same": false
        },
        {
          "line": 4809,
          "old_api": null,
          "new_api": "<DOM::Element>> named_elem",
          "old_text": null,
          "new_text": "<DOM::Element>> named_elem",
          "old_line_content": "    // - img elements that have an id content attribute whose value is name, and that have a non-empty name content",
          "new_line_content": "        if (element.id() == name && element.name().has_value())",
          "content_same": false
        },
        {
          "line": 2765,
          "old_api": null,
          "new_api": "lid_name_characte",
          "old_text": null,
          "new_text": "lid_name_characte",
          "old_line_content": "        return false;",
          "new_line_content": "    for (; it != code_points.end(); ++it) {",
          "content_same": false
        },
        {
          "line": 2766,
          "old_api": null,
          "new_api": "urn false;\n    }\n\n    return",
          "old_text": null,
          "new_text": "urn false;\n    }\n\n    return",
          "old_line_content": "    ++it;",
          "new_line_content": "        if (!is_valid_name_character(*it))",
          "content_same": false
        },
        {
          "line": 4820,
          "old_api": null,
          "new_api": "append",
          "old_text": null,
          "new_text": "ed_elements.append(element);\n    }\n\n ",
          "old_line_content": "{",
          "new_line_content": "    for (auto const& element : document.potentially_named_elements()) {",
          "content_same": false
        },
        {
          "line": 4821,
          "old_api": null,
          "new_api": "elements;\n}\n\n// https://html.spec.whatwg.",
          "old_text": null,
          "new_text": "elements;\n}\n\n// https://html.spec.whatwg.",
          "old_line_content": "    Vector<JS::NonnullGCPtr<DOM::Element>> named_elements;",
          "new_line_content": "        if (is_named_element_with_name(element, name))",
          "content_same": false
        },
        {
          "line": 4822,
          "old_api": null,
          "new_api": "dom.html#dom-document-namedite",
          "old_text": null,
          "new_text": "dom.html#dom-document-namedite",
          "old_line_content": "",
          "new_line_content": "            named_elements.append(element);",
          "content_same": false
        },
        {
          "line": 2776,
          "old_api": null,
          "new_api": "IDL::InvalidCharacterErro",
          "old_text": null,
          "new_text": "IDL::InvalidCharacterErro",
          "old_line_content": "// https://dom.spec.whatwg.org/#validate",
          "new_line_content": "    if (qualified_name.is_empty())",
          "content_same": false
        },
        {
          "line": 2777,
          "old_api": null,
          "new_api": "\"Empty string is not a valid qualified name.\"_fly_string);\n\n    auto utf8view = qualified_name.code_po",
          "old_text": null,
          "new_text": "\"Empty string is not a valid qualified name.\"_fly_string);\n\n    auto utf8view = qualified_name.code_po",
          "old_line_content": "WebIDL::ExceptionOr<Document::PrefixAndTagName> Document::validate_qualified_name(JS::Realm& realm, FlyString const& qualified_name)",
          "new_line_content": "        return WebIDL::InvalidCharacterError::create(realm, \"Empty string is not a valid qualified name.\"_fly_string);",
          "content_same": false
        },
        {
          "line": 2785,
          "old_api": null,
          "new_api": "nt = *it;",
          "old_text": null,
          "new_text": "nt = *it;\n    ",
          "old_line_content": "",
          "new_line_content": "    for (auto it = utf8view.begin(); it != utf8view.end(); ++it) {",
          "content_same": false
        },
        {
          "line": 4833,
          "old_api": null,
          "new_api": "me element, and that iframe element's",
          "old_text": null,
          "new_text": "me element, and that iframe element's",
          "old_line_content": "{",
          "new_line_content": "    auto elements = named_elements_with_name(*this, name);",
          "content_same": false
        },
        {
          "line": 2789,
          "old_api": null,
          "new_api": "\"More than one colon (:) in qualified name.\"_fly_string);\n            colon_offset = utf8view.byte_of",
          "old_text": null,
          "new_text": "\"More than one colon (:) in qualified name.\"_fly_string);\n            colon_offset = utf8view.byte_of",
          "old_line_content": "        auto code_point = *it;",
          "new_line_content": "                return WebIDL::InvalidCharacterError::create(realm, \"More than one colon (:) in qualified name.\"_fly_string);",
          "content_same": false
        },
        {
          "line": 2790,
          "old_api": null,
          "new_api": "tart_of_name = true;",
          "old_text": null,
          "new_text": "tart_of_name = true;\n      ",
          "old_line_content": "        if (code_point == ':') {",
          "new_line_content": "            colon_offset = utf8view.byte_offset_of(it);",
          "content_same": false
        },
        {
          "line": 4837,
          "old_api": null,
          "new_api": "if (ifram",
          "old_text": null,
          "new_text": "       if (ifram",
          "old_line_content": "",
          "new_line_content": "    if (elements.size() == 1 && is<HTML::HTMLIFrameElement>(*elements.first())) {",
          "content_same": false
        },
        {
          "line": 4838,
          "old_api": null,
          "new_api": ".content_navigab",
          "old_text": null,
          "new_text": ".content_navigab",
          "old_line_content": "    // 2. If elements has only one element, and that element is an iframe element, and that iframe element's content navigable is not null,",
          "new_line_content": "        auto& iframe_element = static_cast<HTML::HTMLIFrameElement&>(*elements.first());",
          "content_same": false
        },
        {
          "line": 4839,
          "old_api": null,
          "new_api": "ndow_proxy",
          "old_text": null,
          "new_text": "ndow_proxy();\n    }\n\n    // 3. Oth",
          "old_line_content": "    //    then return the active WindowProxy of the element's content navigable.",
          "new_line_content": "        if (iframe_element.content_navigable() != nullptr)",
          "content_same": false
        },
        {
          "line": 2795,
          "old_api": null,
          "new_api": "return WebIDL::InvalidChara",
          "old_text": null,
          "new_text": "              return WebIDL::InvalidChara",
          "old_line_content": "            continue;",
          "new_line_content": "            if (!is_valid_name_start_character(code_point))",
          "content_same": false
        },
        {
          "line": 2796,
          "old_api": null,
          "new_api": "\"Invalid start of qualified name.\"_fly_string);\n            at_start_of_name = false;",
          "old_text": null,
          "new_text": "\"Invalid start of qualified name.\"_fly_string);\n            at_start_of_name = false;\n     ",
          "old_line_content": "        }",
          "new_line_content": "                return WebIDL::InvalidCharacterError::create(realm, \"Invalid start of qualified name.\"_fly_string);",
          "content_same": false
        },
        {
          "line": 4844,
          "old_api": null,
          "new_api": "the Document no",
          "old_text": null,
          "new_text": "the Document no",
          "old_line_content": "    }",
          "new_line_content": "    if (elements.size() == 1)",
          "content_same": false
        },
        {
          "line": 4845,
          "old_api": null,
          "new_api": "es only named el",
          "old_text": null,
          "new_text": "es only named el",
          "old_line_content": "",
          "new_line_content": "        return elements.first();",
          "content_same": false
        },
        {
          "line": 2800,
          "old_api": null,
          "new_api": "return WebIDL::InvalidCharacter",
          "old_text": null,
          "new_text": "    return WebIDL::InvalidCharacter",
          "old_line_content": "            at_start_of_name = false;",
          "new_line_content": "        if (!is_valid_name_character(code_point))",
          "content_same": false
        },
        {
          "line": 2801,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "\"Invalid character in qualified name.\"_fly_string);\n    }\n\n    if (!colon_offset.has_value())\n ",
          "old_line_content": "            continue;",
          "new_line_content": "            return WebIDL::InvalidCharacterError::create(realm, \"Invalid character in qualified name.\"_fly_string);",
          "content_same": false
        },
        {
          "line": 4849,
          "old_api": null,
          "new_api": "mmand",
          "old_text": null,
          "new_text": "mmand()\nbool Document::exec_command(Strin",
          "old_line_content": "",
          "new_line_content": "        return is_named_element_with_name(element, name);",
          "content_same": false
        },
        {
          "line": 2811,
          "old_api": null,
          "new_api": "\"Qualified name can't start with colon (:).\"_fly_string);\n\n    if (*colon_offset >= (qualified_name.b",
          "old_text": null,
          "new_text": "\"Qualified name can't start with colon (:).\"_fly_string);\n\n    if (*colon_offset >= (qualified_name.b",
          "old_line_content": "        };",
          "new_line_content": "        return WebIDL::InvalidCharacterError::create(realm, \"Qualified name can't start with colon (:).\"_fly_string);",
          "content_same": false
        },
        {
          "line": 2813,
          "old_api": null,
          "new_api": ") - 1))\n        return WebIDL::InvalidCharacte",
          "old_text": null,
          "new_text": ") - 1))\n        return WebIDL::InvalidCharacte",
          "old_line_content": "    if (*colon_offset == 0)",
          "new_line_content": "    if (*colon_offset >= (qualified_name.bytes_as_string_view().length() - 1))",
          "content_same": false
        },
        {
          "line": 2818,
          "old_api": null,
          "new_api": "ng_view",
          "old_text": null,
          "new_text": "ng_view(*colon_offset + 1))),\n    };\n}\n\n// https://dom.spec.whatwg.org/",
          "old_line_content": "",
          "new_line_content": "        .tag_name = MUST(FlyString::from_utf8(qualified_name.bytes_as_string_view().substring_view(*colon_offset + 1))),",
          "content_same": false
        },
        {
          "line": 2825,
          "old_api": null,
          "new_api": "release_value_but_fixme_should_propagate_errors",
          "old_text": null,
          "new_text": "er).release_value_but_fixme_should_propagate_errors();\n}\n\n// https://dom.spec.whatwg.org/#dom-docu",
          "old_line_content": "// https://dom.spec.whatwg.org/#dom-document-createnodeiterator",
          "new_line_content": "    return NodeIterator::create(root, what_to_show, filter).release_value_but_fixme_should_propagate_errors();",
          "content_same": false
        },
        {
          "line": 2831,
          "old_api": null,
          "new_api": ");\n}\n\nvoid Document::register_node_iterator(Ba",
          "old_text": null,
          "new_text": ");\n}\n\nvoid Document::register_node_iterator(Ba",
          "old_line_content": "// https://dom.spec.whatwg.org/#dom-document-createtreewalker",
          "new_line_content": "    return TreeWalker::create(root, what_to_show, filter);",
          "content_same": false
        },
        {
          "line": 2836,
          "old_api": null,
          "new_api": "IFY",
          "old_text": null,
          "new_text": "IFY(result == AK::HashSetResult::Ins",
          "old_line_content": "",
          "new_line_content": "    auto result = m_node_iterators.set(&node_iterator);",
          "content_same": false
        },
        {
          "line": 2837,
          "old_api": null,
          "new_api": "ewEntry);\n}\n\nvoid Document::unregister_node_iterator(",
          "old_text": null,
          "new_text": "ewEntry);\n}\n\nvoid Document::unregister_node_iterator(",
          "old_line_content": "void Document::register_node_iterator(Badge<NodeIterator>, NodeIterator& node_iterator)",
          "new_line_content": "    VERIFY(result == AK::HashSetResult::InsertedNewEntry);",
          "content_same": false
        },
        {
          "line": 2842,
          "old_api": null,
          "new_api": "VERIFY",
          "old_text": null,
          "new_text": "VERIFY(was_removed);\n}\n\nvoid Document::",
          "old_line_content": "",
          "new_line_content": "    bool was_removed = m_node_iterators.remove(&node_iterator);",
          "content_same": false
        },
        {
          "line": 2843,
          "old_api": null,
          "new_api": "er_document_observe",
          "old_text": null,
          "new_text": "er_document_observe",
          "old_line_content": "void Document::unregister_node_iterator(Badge<NodeIterator>, NodeIterator& node_iterator)",
          "new_line_content": "    VERIFY(was_removed);",
          "content_same": false
        },
        {
          "line": 2848,
          "old_api": null,
          "new_api": "VERIFY(result == AK::HashSetResult::Ins",
          "old_text": null,
          "new_text": "    VERIFY(result == AK::HashSetResult::Ins",
          "old_line_content": "",
          "new_line_content": "    auto result = m_document_observers.set(document_observer);",
          "content_same": false
        },
        {
          "line": 2849,
          "old_api": null,
          "new_api": "ewEntry);\n}\n\nvoid Document::unregister_document_obser",
          "old_text": null,
          "new_text": "ewEntry);\n}\n\nvoid Document::unregister_document_obser",
          "old_line_content": "void Document::register_document_observer(Badge<DocumentObserver>, DocumentObserver& document_observer)",
          "new_line_content": "    VERIFY(result == AK::HashSetResult::InsertedNewEntry);",
          "content_same": false
        },
        {
          "line": 4896,
          "old_api": null,
          "new_api": "tive-observations",
          "old_text": null,
          "new_text": "tive-observations",
          "old_line_content": "    // 2. Return number of nodes in p.",
          "new_line_content": "    for (auto const* current = &node; current; current = current->parent())",
          "content_same": false
        },
        {
          "line": 2854,
          "old_api": null,
          "new_api": ");\n    VERIFY(was_removed);\n}\n\nvoid Document::",
          "old_text": null,
          "new_text": ");\n    VERIFY(was_removed);\n}\n\nvoid Document::",
          "old_line_content": "",
          "new_line_content": "    bool was_removed = m_document_observers.remove(document_observer);",
          "content_same": false
        },
        {
          "line": 2855,
          "old_api": null,
          "new_api": "ent_number_of_thing",
          "old_text": null,
          "new_text": "ent_number_of_thing",
          "old_line_content": "void Document::unregister_document_observer(Badge<DocumentObserver>, DocumentObserver& document_observer)",
          "new_line_content": "    VERIFY(was_removed);",
          "content_same": false
        },
        {
          "line": 4909,
          "old_api": null,
          "new_api": "n in observer.[[observationTargets",
          "old_text": null,
          "new_text": "n in observer.[[observationTargets",
          "old_line_content": "    // 2. For each observer in [[resizeObservers]] run these steps:",
          "new_line_content": "        observer->active_targets().clear();",
          "content_same": false
        },
        {
          "line": 2862,
          "old_api": null,
          "new_api": "t",
          "old_text": null,
          "new_text": "t(m_number_of_things_delaying_the_load_event);\n}\n\nvoid Document::decrement_number_of_thing",
          "old_line_content": "{",
          "new_line_content": "    page().client().page_did_update_resource_count(m_number_of_things_delaying_the_load_event);",
          "content_same": false
        },
        {
          "line": 4910,
          "old_api": null,
          "new_api": "s step:\n        for (auto const& ob",
          "old_text": null,
          "new_text": "s step:\n        for (auto const& ob",
          "old_line_content": "    for (auto const& observer : m_resize_observers) {",
          "new_line_content": "        observer->skipped_targets().clear();",
          "content_same": false
        },
        {
          "line": 2867,
          "old_api": null,
          "new_api": "vent);\n    --m_number_of_things_delaying_the_load_",
          "old_text": null,
          "new_text": "vent);\n    --m_number_of_things_delaying_the_load_",
          "old_line_content": "",
          "new_line_content": "    VERIFY(m_number_of_things_delaying_the_load_event);",
          "content_same": false
        },
        {
          "line": 4915,
          "old_api": null,
          "new_api": "tion.target.",
          "old_text": null,
          "new_text": "tion.target.\n           ",
          "old_line_content": "        // 2. For each observation in observer.[[observationTargets]] run this step:",
          "new_line_content": "            if (observation->is_active()) {",
          "content_same": false
        },
        {
          "line": 4917,
          "old_api": null,
          "new_api": "eTargets]].",
          "old_text": null,
          "new_text": "eTargets]].\n         ",
          "old_line_content": "            // 1. If observation.isActive() is true",
          "new_line_content": "                auto target_depth = calculate_depth_for_node(*observation->target());",
          "content_same": false
        },
        {
          "line": 4921,
          "old_api": null,
          "new_api": "tion to [[skippedTargets]].",
          "old_text": null,
          "new_text": "tion to [[skippedTargets]].\n                  ",
          "old_line_content": "",
          "new_line_content": "                    observer->active_targets().append(observation);",
          "content_same": false
        },
        {
          "line": 2878,
          "old_api": null,
          "new_api": "container",
          "old_text": null,
          "new_text": "ble->container()->curre",
          "old_line_content": "    if (m_number_of_things_delaying_the_load_event > 0)",
          "new_line_content": "    for (auto& navigable : descendant_navigables()) {",
          "content_same": false
        },
        {
          "line": 2879,
          "old_api": null,
          "new_api": "load_event",
          "old_text": null,
          "new_text": "load_event())\n            return true;\n    }\n\n    // FIXM",
          "old_line_content": "        return true;",
          "new_line_content": "        if (navigable->container()->currently_delays_the_load_event())",
          "content_same": false
        },
        {
          "line": 4935,
          "old_api": null,
          "new_api": "auto const& observer : m_res",
          "old_text": null,
          "new_text": "auto const& observer : m_res",
          "old_line_content": "size_t Document::broadcast_active_resize_observations()",
          "new_line_content": "    auto shallowest_target_depth = NumericLimits<size_t>::max();",
          "content_same": false
        },
        {
          "line": 2890,
          "old_api": null,
          "new_api": ">invalidate_stacking_",
          "old_text": null,
          "new_text": ">invalidate_stacking_",
          "old_line_content": "",
          "new_line_content": "    if (auto* paintable_box = this->paintable_box())",
          "content_same": false
        },
        {
          "line": 2891,
          "old_api": null,
          "new_api": "}\n\nvoid Document::check_favicon_after_loadi",
          "old_text": null,
          "new_text": "\n}\n\nvoid Document::check_favicon_after_loadi",
          "old_line_content": "void Document::invalidate_stacking_context_tree()",
          "new_line_content": "        paintable_box->invalidate_stacking_context();",
          "content_same": false
        },
        {
          "line": 4940,
          "old_api": null,
          "new_api": "of ResizeObserverEntryies.\n        Ve",
          "old_text": null,
          "new_text": "of ResizeObserverEntryies.\n        Ve",
          "old_line_content": "    // 2. For each observer in document.[[resizeObservers]] run these steps:",
          "new_line_content": "        if (observer->active_targets().is_empty()) {",
          "content_same": false
        },
        {
          "line": 2898,
          "old_api": null,
          "new_api": ";",
          "old_text": null,
          "new_text": ";\n\n   ",
          "old_line_content": "{",
          "new_line_content": "    auto* head_element = head();",
          "content_same": false
        },
        {
          "line": 4948,
          "old_api": null,
          "new_api": "erEntry given observation.",
          "old_text": null,
          "new_text": "erEntry given observation.",
          "old_line_content": "        Vector<JS::NonnullGCPtr<ResizeObserver::ResizeObserverEntry>> entries;",
          "new_line_content": "        for (auto const& observation : observer->active_targets()) {",
          "content_same": false
        },
        {
          "line": 2902,
          "old_api": null,
          "new_api": "has_loaded_icon",
          "old_text": null,
          "new_text": "lection::Scope::Descendants, [](Element const& element) {\n        if (!is<HTML::HTMLLinkElement>(element))\n            return false;\n\n        return static_cast<HTML::HTMLLinkElement const&>(element).has_loaded_icon();\n    });\n\n    if (favicon_link_elements->length() ==",
          "old_line_content": "    if (!head_element)",
          "new_line_content": "    auto favicon_link_elements = HTMLCollection::create(*head_element, HTMLCollection::Scope::Descendants, [](Element const& element) {",
          "content_same": false
        },
        {
          "line": 2903,
          "old_api": null,
          "new_api": "return false;\n\n        return s",
          "old_text": null,
          "new_text": "   return false;\n\n        return s",
          "old_line_content": "        return;",
          "new_line_content": "        if (!is<HTML::HTMLLinkElement>(element))",
          "content_same": false
        },
        {
          "line": 4950,
          "old_api": null,
          "new_api": "entries.app",
          "old_text": null,
          "new_text": "          entries.app",
          "old_line_content": "        // 3. For each observation in [[activeTargets]] perform these steps:",
          "new_line_content": "            auto entry = ResizeObserver::ResizeObserverEntry::create_and_populate(realm(), *observation->target()).release_value_but_fixme_should_propagate_errors();",
          "content_same": false
        },
        {
          "line": 2910,
          "old_api": null,
          "new_api": "used\");\n        return;\n    }\n\n    // 4.6.7.8 Link",
          "old_text": null,
          "new_text": "used\");\n        return;\n    }\n\n    // 4.6.7.8 Link ",
          "old_line_content": "    });",
          "new_line_content": "        dbgln_if(SPAM_DEBUG, \"No favicon found to be used\");",
          "content_same": false
        },
        {
          "line": 4963,
          "old_api": null,
          "new_api": "tentBox:",
          "old_text": null,
          "new_text": "tentBox:\n                ",
          "old_line_content": "                break;",
          "new_line_content": "                observation->last_reported_sizes() = entry->content_box_size();",
          "content_same": false
        },
        {
          "line": 4967,
          "old_api": null,
          "new_api": "D",
          "old_text": null,
          "new_text": "D();\n            }\n\n            // 4. ",
          "old_line_content": "                break;",
          "new_line_content": "                observation->last_reported_sizes() = entry->device_pixel_content_box_size();",
          "content_same": false
        },
        {
          "line": 2923,
          "old_api": null,
          "new_api": "auto favicon_element =",
          "old_text": null,
          "new_text": "        auto favicon_element = ",
          "old_line_content": "    // according to the type, media, and sizes attributes.",
          "new_line_content": "    for (auto i = favicon_link_elements->length(); i-- > 0;) {",
          "content_same": false
        },
        {
          "line": 2924,
          "old_api": null,
          "new_api": "favicon_element == m_active_el",
          "old_text": null,
          "new_text": "favicon_element == m_active_el",
          "old_line_content": "    //",
          "new_line_content": "        auto favicon_element = favicon_link_elements->item(i);",
          "content_same": false
        },
        {
          "line": 4974,
          "old_api": null,
          "new_api": "Depth\n            if",
          "old_text": null,
          "new_text": "Depth\n            if ",
          "old_line_content": "            }",
          "new_line_content": "            auto target_depth = calculate_depth_for_node(*observation->target());",
          "content_same": false
        },
        {
          "line": 2932,
          "old_api": null,
          "new_api": "load_favicon_and_use_if_window_is_active",
          "old_text": null,
          "new_text": "lement)->load_favicon_and_use_if_window_is_active()) {\n            m_active_favicon = favicon_el",
          "old_line_content": "        // If the user agent tries to use an icon but that icon is determined, upon closer examination,",
          "new_line_content": "        if (static_cast<HTML::HTMLLinkElement*>(favicon_element)->load_favicon_and_use_if_window_is_active()) {",
          "content_same": false
        },
        {
          "line": 4982,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "().clear();\n    }\n\n    return shal",
          "old_line_content": "        }",
          "new_line_content": "        observer->invoke_callback(entries);",
          "content_same": false
        },
        {
          "line": 2938,
          "old_api": null,
          "new_api": "used\");\n}\n\nvoid Document::set_window(HTML::Window&",
          "old_text": null,
          "new_text": "used\");\n}\n\nvoid Document::set_window(HTML::Window& ",
          "old_line_content": "        }",
          "new_line_content": "    dbgln_if(SPAM_DEBUG, \"No favicon found to be used\");",
          "content_same": false
        },
        {
          "line": 4997,
          "old_api": null,
          "new_api": "/ https://drafts.csswg.org/resize-obs",
          "old_text": null,
          "new_text": "/ https://drafts.csswg.org/resize-obs",
          "old_line_content": "    // 1. For each observer in [[resizeObservers]] run this step:",
          "new_line_content": "        if (!observer->active_targets().is_empty())",
          "content_same": false
        },
        {
          "line": 2954,
          "old_api": null,
          "new_api": "// 3. Let regi",
          "old_text": null,
          "new_text": "    // 3. Let regi",
          "old_line_content": "        return nullptr;",
          "new_line_content": "    if (!browsing_context())",
          "content_same": false
        },
        {
          "line": 2958,
          "old_api": null,
          "new_api": "s",
          "old_text": null,
          "new_text": "s();\n\n    // 4. If there is c",
          "old_line_content": "        return nullptr;",
          "new_line_content": "    auto registry = verify_cast<HTML::Window>(relevant_global_object(*this)).custom_elements();",
          "content_same": false
        },
        {
          "line": 2962,
          "old_api": null,
          "new_api": "ybe_definition)\n        return m",
          "old_text": null,
          "new_text": "ybe_definition)\n        return m",
          "old_line_content": "",
          "new_line_content": "    auto maybe_definition = registry->get_definition_with_name_and_local_name(converted_local_name.to_string(), converted_local_name.to_string());",
          "content_same": false
        },
        {
          "line": 5011,
          "old_api": null,
          "new_api": "JS::NonnullGCPtr<WebIDL::ObservableArr",
          "old_text": null,
          "new_text": "JS::NonnullGCPtr<WebIDL::ObservableArr",
          "old_line_content": "    // 1. For each observer in [[resizeObservers]] run this step:",
          "new_line_content": "        if (!observer->skipped_targets().is_empty())",
          "content_same": false
        },
        {
          "line": 2970,
          "old_api": null,
          "new_api": "return registr",
          "old_text": null,
          "new_text": "return registr",
          "old_line_content": "    // 6. Return null.",
          "new_line_content": "    if (!is.has_value())",
          "content_same": false
        },
        {
          "line": 5022,
          "old_api": null,
          "new_api": "_style_sheets",
          "old_text": null,
          "new_text": "_style_sheets(JS::Value new_",
          "old_line_content": "JS::NonnullGCPtr<WebIDL::ObservableArray> Document::adopted_style_sheets() const",
          "new_line_content": "        m_adopted_style_sheets = create_adopted_style_sheets_list(const_cast<Document&>(*this));",
          "content_same": false
        },
        {
          "line": 2979,
          "old_api": null,
          "new_api": "n *m_style_sheets;\n}\n\nCSS::StyleSh",
          "old_text": null,
          "new_text": "n *m_style_sheets;\n}\n\nCSS::StyleSh",
          "old_line_content": "CSS::StyleSheetList& Document::style_sheets()",
          "new_line_content": "        m_style_sheets = CSS::StyleSheetList::create(*this);",
          "content_same": false
        },
        {
          "line": 5029,
          "old_api": null,
          "new_api": ", new_value, JS::IteratorHin",
          "old_text": null,
          "new_text": ", new_value, JS::IteratorHin",
          "old_line_content": "WebIDL::ExceptionOr<void> Document::set_adopted_style_sheets(JS::Value new_value)",
          "new_line_content": "        m_adopted_style_sheets = create_adopted_style_sheets_list(const_cast<Document&>(*this));",
          "content_same": false
        },
        {
          "line": 5031,
          "old_api": null,
          "new_api": ");\n    while (true) {\n        a",
          "old_text": null,
          "new_text": ");\n    while (true) {\n        a",
          "old_line_content": "    if (!m_adopted_style_sheets)",
          "new_line_content": "    m_adopted_style_sheets->clear();",
          "content_same": false
        },
        {
          "line": 2985,
          "old_api": null,
          "new_api": "}\n\nJS::NonnullGCPtr<HTML::History> Document",
          "old_text": null,
          "new_text": "}\n\nJS::NonnullGCPtr<HTML::History> Document",
          "old_line_content": "",
          "new_line_content": "    return const_cast<Document*>(this)->style_sheets();",
          "content_same": false
        },
        {
          "line": 2991,
          "old_api": null,
          "new_api": "::Nonnu",
          "old_text": null,
          "new_text": "::Nonnu",
          "old_line_content": "JS::NonnullGCPtr<HTML::History> Document::history()",
          "new_line_content": "        m_history = HTML::History::create(realm(), *this);",
          "content_same": false
        },
        {
          "line": 2997,
          "old_api": null,
          "new_api": "https://html.spec.whatwg.org/multipag",
          "old_text": null,
          "new_text": " https://html.spec.whatwg.org/multipag",
          "old_line_content": "",
          "new_line_content": "    return const_cast<Document*>(this)->history();",
          "content_same": false
        },
        {
          "line": 5046,
          "old_api": null,
          "new_api": "callback(*style_sheet)",
          "old_text": null,
          "new_text": "  callback(*style_sheet)",
          "old_line_content": "void Document::for_each_css_style_sheet(Function<void(CSS::CSSStyleSheet&)>&& callback) const",
          "new_line_content": "        for (auto& style_sheet : m_style_sheets->sheets()) {",
          "content_same": false
        },
        {
          "line": 5047,
          "old_api": null,
          "new_api": "m_adopted_style",
          "old_text": null,
          "new_text": "        m_adopted_style",
          "old_line_content": "{",
          "new_line_content": "            if (!(style_sheet->is_alternate() && style_sheet->disabled()))",
          "content_same": false
        },
        {
          "line": 5048,
          "old_api": null,
          "new_api": "SS::CSSStyleSheet>([&]",
          "old_text": null,
          "new_text": "SS::CSSStyleSheet>([&]",
          "old_line_content": "    if (m_style_sheets) {",
          "new_line_content": "                callback(*style_sheet);",
          "content_same": false
        },
        {
          "line": 3004,
          "old_api": null,
          "new_api": "fectiveDomain is null, then",
          "old_text": null,
          "new_text": "fectiveDomain is null, then",
          "old_line_content": "String Document::domain() const",
          "new_line_content": "    auto effective_domain = origin().effective_domain();",
          "content_same": false
        },
        {
          "line": 5053,
          "old_api": null,
          "new_api": ")\n                callback(style_sheet);\n        });\n    }\n}\n\nvoid Document::register_shadow_root(Badge<DOM::ShadowRoot>, DOM::ShadowRoot& shadow_root)\n{\n    m_shadow_r",
          "old_text": null,
          "new_text": ")\n                callback(style_sheet);\n        });\n    }\n}\n\nvoid Document::register_shadow_root(Badge<DOM::ShadowRoot>, DOM::ShadowRoot& shadow_root)\n{\n    m_shadow_r",
          "old_line_content": "    }",
          "new_line_content": "        m_adopted_style_sheets->for_each<CSS::CSSStyleSheet>([&](auto& style_sheet) {",
          "content_same": false
        },
        {
          "line": 5054,
          "old_api": null,
          "new_api": "ot",
          "old_text": null,
          "new_text": "ot(Badge<DOM::ShadowRo",
          "old_line_content": "",
          "new_line_content": "            if (!style_sheet.disabled())",
          "content_same": false
        },
        {
          "line": 5055,
          "old_api": null,
          "new_api": "ot& shadow_root)\n{",
          "old_text": null,
          "new_text": "ot& shadow_root)\n{\n  ",
          "old_line_content": "    if (m_adopted_style_sheets) {",
          "new_line_content": "                callback(style_sheet);",
          "content_same": false
        },
        {
          "line": 3011,
          "old_api": null,
          "new_api": "ocument::set_domain(String const",
          "old_text": null,
          "new_text": "ocument::set_domain(String const",
          "old_line_content": "        return String {};",
          "new_line_content": "    return MUST(URL::Parser::serialize_host(effective_domain.release_value()));",
          "content_same": false
        },
        {
          "line": 5062,
          "old_api": null,
          "new_api": "shadow_root)\n{\n    m_shadow_roots",
          "old_text": null,
          "new_text": " shadow_root)\n{\n    m_shadow_roots",
          "old_line_content": "",
          "new_line_content": "    m_shadow_roots.append(shadow_root);",
          "content_same": false
        },
        {
          "line": 3016,
          "old_api": null,
          "new_api": "'{}')\", domain);\n}\n\nvoid Document::set_navigation_id(Optiona",
          "old_text": null,
          "new_text": "'{}')\", domain);\n}\n\nvoid Document::set_navigation_id(Optiona",
          "old_line_content": "",
          "new_line_content": "    dbgln(\"(STUBBED) Document::set_domain(domain='{}')\", domain);",
          "content_same": false
        },
        {
          "line": 5067,
          "old_api": null,
          "new_api": "ent::for_each_shadow_root(Function<void(DOM::ShadowRoot&)>&& callback)\n{\n    for (auto& shadow_root :",
          "old_text": null,
          "new_text": "ent::for_each_shadow_root(Function<void(DOM::ShadowRoot&)>&& callback)\n{\n    for (auto& shadow_root : ",
          "old_line_content": "",
          "new_line_content": "    m_shadow_roots.remove_all_matching([&](auto& item) {",
          "content_same": false
        },
        {
          "line": 5068,
          "old_api": null,
          "new_api": "k)\n{\n    f",
          "old_text": null,
          "new_text": "k)\n{\n    f",
          "old_line_content": "void Document::unregister_shadow_root(Badge<DOM::ShadowRoot>, DOM::ShadowRoot& shadow_root)",
          "new_line_content": "        return item.ptr() == &shadow_root;",
          "content_same": false
        },
        {
          "line": 3021,
          "old_api": null,
          "new_api": "ment::navigation_id",
          "old_text": null,
          "new_text": "ment::navigation_id",
          "old_line_content": "",
          "new_line_content": "    m_navigation_id = move(navigation_id);",
          "content_same": false
        },
        {
          "line": 5075,
          "old_api": null,
          "new_api": "eClient>(page().clien",
          "old_text": null,
          "new_text": "eClient>(page().clien",
          "old_line_content": "void Document::for_each_shadow_root(Function<void(DOM::ShadowRoot&)>&& callback)",
          "new_line_content": "        callback(shadow_root);",
          "content_same": false
        },
        {
          "line": 5080,
          "old_api": null,
          "new_api": "n_element_to_th",
          "old_text": null,
          "new_text": "n_element_to_th",
          "old_line_content": "",
          "new_line_content": "    return is<Web::SVG::SVGDecodedImageData::SVGPageClient>(page().client());",
          "content_same": false
        },
        {
          "line": 3041,
          "old_api": null,
          "new_api": "ec.whatwg.org/multipag",
          "old_text": null,
          "new_text": "ec.whatwg.org/multipag",
          "old_line_content": "",
          "new_line_content": "    m_policy_container = move(policy_container);",
          "content_same": false
        },
        {
          "line": 5089,
          "old_api": null,
          "new_api": "this is a spec error.)\n        VERIFY(",
          "old_text": null,
          "new_text": "this is a spec error.)\n        VERIFY(",
          "old_line_content": "    // 1. Let doc be els node document.",
          "new_line_content": "    if (m_top_layer_elements.contains(element)) {",
          "content_same": false
        },
        {
          "line": 5091,
          "old_api": null,
          "new_api": "remove",
          "old_text": null,
          "new_text": "vals.\n        m_top_layer_elements.remove(elem",
          "old_line_content": "    // 2. If el is already contained in docs top layer:",
          "new_line_content": "        VERIFY(m_top_layer_pending_removals.contains(element));",
          "content_same": false
        },
        {
          "line": 5095,
          "old_api": null,
          "new_api": "set_in_top_layer",
          "old_text": null,
          "new_text": "ment);\n\n    element->set_in_top_layer(true);",
          "old_line_content": "",
          "new_line_content": "        m_top_layer_pending_removals.remove(element);",
          "content_same": false
        },
        {
          "line": 5099,
          "old_api": null,
          "new_api": "add a rule targeting el containi",
          "old_text": null,
          "new_text": " add a rule targeting el containi",
          "old_line_content": "    }",
          "new_line_content": "    m_top_layer_elements.set(element);",
          "content_same": false
        },
        {
          "line": 5101,
          "old_api": null,
          "new_api": "verlay: auto declaration.\n}\n\n//",
          "old_text": null,
          "new_text": "verlay: auto declaration.\n}\n\n//",
          "old_line_content": "    // 3. Append el to docs top layer.",
          "new_line_content": "    element->set_in_top_layer(true);",
          "content_same": false
        },
        {
          "line": 3061,
          "old_api": null,
          "new_api": "sient_activation",
          "old_text": null,
          "new_text": "sient_activation(),\n        .sandbo",
          "old_line_content": "    //     sourceDocument's policy container",
          "new_line_content": "        .has_transient_activation = verify_cast<HTML::Window>(HTML::relevant_global_object(*this)).has_transient_activation(),",
          "content_same": false
        },
        {
          "line": 3063,
          "old_api": null,
          "new_api": "SandboxingFlagSet::SandboxedDownloads),\n        .fetch_client = relevant_settings_o",
          "old_text": null,
          "new_text": "SandboxingFlagSet::SandboxedDownloads),\n        .fetch_client = relevant_settings_o",
          "old_line_content": "    return HTML::SourceSnapshotParams {",
          "new_line_content": "        .allows_downloading = !has_flag(m_active_sandboxing_flag_set, HTML::SandboxingFlagSet::SandboxedDownloads),",
          "content_same": false
        },
        {
          "line": 5112,
          "old_api": null,
          "new_api": "ng el.\n\n    // 4. Append el to docs pending t",
          "old_text": null,
          "new_text": "ng el.\n\n    // 4. Append el to docs pending t",
          "old_line_content": "    // 1. Let doc be els node document.",
          "new_line_content": "    if (!m_top_layer_elements.contains(element) || m_top_layer_pending_removals.contains(element))",
          "content_same": false
        },
        {
          "line": 5118,
          "old_api": null,
          "new_api": "ely\nvoid Document::remove_an_element_from",
          "old_text": null,
          "new_text": "ely\nvoid Document::remove_an_element_from",
          "old_line_content": "    // FIXME: 3. Remove the UA !important overlay: auto rule targeting el.",
          "new_line_content": "    m_top_layer_pending_removals.set(element);",
          "content_same": false
        },
        {
          "line": 3077,
          "old_api": null,
          "new_api": "content_navigable",
          "old_text": null,
          "new_text": ":Node& node) {\n        if (is<HTML::NavigableContainer>(node)) {\n            auto& navigable_container = static_cast<HTML::NavigableContainer&>(node);\n            // 1. If navigableContainer's content navigable is null, then continue.\n            if (!navigable_container.content_navigable())\n                return TraversalDecision::Continue;\n\n            // 2. Extend navigables with navigableContainer's content navigable's active document's inclusive descendant navigables.\n            navigables.extend(navigable_container.content_navigable()->active_document()->inclusive_descendant_navigables());\n        }\n        return TraversalDecision::Continue;\n    });\n\n    // 4. Return navigables.\n    return na",
          "old_line_content": "",
          "new_line_content": "    for_each_shadow_including_descendant([&](DOM::Node& node) {",
          "content_same": false
        },
        {
          "line": 3078,
          "old_api": null,
          "new_api": "auto& navigable_container = s",
          "old_text": null,
          "new_text": "     auto& navigable_container = s",
          "old_line_content": "    // 2. Let navigableContainers be a list of all shadow-including descendants of document that are navigable containers, in shadow-including tree order.",
          "new_line_content": "        if (is<HTML::NavigableContainer>(node)) {",
          "content_same": false
        },
        {
          "line": 3079,
          "old_api": null,
          "new_api": "// 1. If navigableContainer's c",
          "old_text": null,
          "new_text": "\n            // 1. If navigableContainer's c",
          "old_line_content": "    // 3. For each navigableContainer of navigableContainers:",
          "new_line_content": "            auto& navigable_container = static_cast<HTML::NavigableContainer&>(node);",
          "content_same": false
        },
        {
          "line": 5127,
          "old_api": null,
          "new_api": "targeting el, if it exists.\n}\n\n// ht",
          "old_text": null,
          "new_text": "targeting el, if it exists.\n}\n\n// ht",
          "old_line_content": "    // 1. Let doc be els node document.",
          "new_line_content": "    m_top_layer_elements.remove(element);",
          "content_same": false
        },
        {
          "line": 5129,
          "old_api": null,
          "new_api": "rafts.csswg.org/css-position-4/#",
          "old_text": null,
          "new_text": "rafts.csswg.org/css-position-4/#",
          "old_line_content": "    // 2. Remove el from docs top layer and pending top layer removals.",
          "new_line_content": "    element->set_in_top_layer(false);",
          "content_same": false
        },
        {
          "line": 3085,
          "old_api": null,
          "new_api": "inclusive_descendant_navigables",
          "old_text": null,
          "new_text": "ve_document()->inclusive_descendant_navigables());\n        }\n        return TraversalDecision",
          "old_line_content": "                return TraversalDecision::Continue;",
          "new_line_content": "            navigables.extend(navigable_container.content_navigable()->active_document()->inclusive_descendant_navigables());",
          "content_same": false
        },
        {
          "line": 5141,
          "old_api": null,
          "new_api": "lement->set_in_top_l",
          "old_text": null,
          "new_text": "lement->set_in_top_l",
          "old_line_content": "    //    not rendered, remove el from docs top layer and pending top layer removals.",
          "new_line_content": "        if (!element->paintable()) {",
          "content_same": false
        },
        {
          "line": 5142,
          "old_api": null,
          "new_api": "}\n    }\n}\n\nvoid Document::set_n",
          "old_text": null,
          "new_text": "     }\n    }\n}\n\nvoid Document::set_n",
          "old_line_content": "    for (auto& element : m_top_layer_pending_removals) {",
          "new_line_content": "            m_top_layer_elements.remove(element);",
          "content_same": false
        },
        {
          "line": 5143,
          "old_api": null,
          "new_api": "h_clip_state",
          "old_text": null,
          "new_text": "h_clip_state(bool b)\n{\n    if (auto* paintab",
          "old_line_content": "        // FIXME: Check overlay property",
          "new_line_content": "            m_top_layer_pending_removals.remove(element);",
          "content_same": false
        },
        {
          "line": 3096,
          "old_api": null,
          "new_api": "ables",
          "old_text": null,
          "new_text": "ables();\n}\n\n// https://html.spec.whatwg.org/multipag",
          "old_line_content": "",
          "new_line_content": "    return const_cast<Document&>(*this).descendant_navigables();",
          "content_same": false
        },
        {
          "line": 5151,
          "old_api": null,
          "new_api": "uto* paintable =",
          "old_text": null,
          "new_text": "uto* paintable = ",
          "old_line_content": "",
          "new_line_content": "    if (auto* paintable = this->paintable())",
          "content_same": false
        },
        {
          "line": 3104,
          "old_api": null,
          "new_api": "document's",
          "old_text": null,
          "new_text": " document's",
          "old_line_content": "{",
          "new_line_content": "    navigables.append(*navigable());",
          "content_same": false
        },
        {
          "line": 5152,
          "old_api": null,
          "new_api": "table",
          "old_text": null,
          "new_text": "table())\n        paintable->set_needs_to_refr",
          "old_line_content": "void Document::set_needs_to_refresh_clip_state(bool b)",
          "new_line_content": "        paintable->set_needs_to_refresh_clip_state(b);",
          "content_same": false
        },
        {
          "line": 5157,
          "old_api": null,
          "new_api": "const& query, Ca",
          "old_text": null,
          "new_text": " const& query, Ca",
          "old_line_content": "",
          "new_line_content": "    if (auto* paintable = this->paintable())",
          "content_same": false
        },
        {
          "line": 5158,
          "old_api": null,
          "new_api": "ity case_sensitivity)\n{\n    if (!layout_node())",
          "old_text": null,
          "new_text": "ity case_sensitivity)\n{\n    if (!layout_node())",
          "old_line_content": "void Document::set_needs_to_refresh_scroll_state(bool b)",
          "new_line_content": "        paintable->set_needs_to_refresh_scroll_state(b);",
          "content_same": false
        },
        {
          "line": 5163,
          "old_api": null,
          "new_api": "text_blocks =",
          "old_text": null,
          "new_text": "text_blocks =",
          "old_line_content": "",
          "new_line_content": "    if (!layout_node())",
          "content_same": false
        },
        {
          "line": 3117,
          "old_api": null,
          "new_api": "able)\n        ret",
          "old_text": null,
          "new_text": "able)\n        ret",
          "old_line_content": "Vector<JS::Handle<HTML::Navigable>> Document::ancestor_navigables()",
          "new_line_content": "    auto document_node_navigable = this->navigable();",
          "content_same": false
        },
        {
          "line": 5167,
          "old_api": null,
          "new_api": "Handle<DOM::Ran",
          "old_text": null,
          "new_text": "Handle<DOM::Ran",
          "old_line_content": "        return {};",
          "new_line_content": "    update_layout();",
          "content_same": false
        },
        {
          "line": 5169,
          "old_api": null,
          "new_api": "& text_block : text_blocks)",
          "old_text": null,
          "new_text": "& text_block : text_blocks) ",
          "old_line_content": "    // Ensure the layout tree exists before searching for text matches.",
          "new_line_content": "    auto const& text_blocks = layout_node()->text_blocks();",
          "content_same": false
        },
        {
          "line": 3122,
          "old_api": null,
          "new_api": "et ancestors be an empty list.",
          "old_text": null,
          "new_text": "et ancestors be an empty list.\n  ",
          "old_line_content": "        return {};",
          "new_line_content": "    auto navigable = document_node_navigable->parent();",
          "content_same": false
        },
        {
          "line": 1075,
          "old_api": null,
          "new_api": "active_document",
          "old_text": null,
          "new_text": "vigable->active_document() !",
          "old_line_content": "        return;",
          "new_line_content": "    if (!navigable || navigable->active_document() != this)",
          "content_same": false
        },
        {
          "line": 3130,
          "old_api": null,
          "new_api": "et navigable to navigable's p",
          "old_text": null,
          "new_text": "et navigable to navigable's p",
          "old_line_content": "    // 3. While navigable is not null:",
          "new_line_content": "        ancestors.prepend(*navigable);",
          "content_same": false
        },
        {
          "line": 5181,
          "old_api": null,
          "new_api": "())\n                break;\n\n            for (; i <",
          "old_text": null,
          "new_text": "())\n                break;\n\n            for (; i <",
          "old_line_content": "        auto* match_start_position = &text_block.positions[0];",
          "new_line_content": "                ? text.find_byte_offset_ignoring_case(query, offset)",
          "content_same": false
        },
        {
          "line": 5182,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "ns.size() - 1 && match_index.value()",
          "old_line_content": "        while (true) {",
          "new_line_content": "                : text.find_byte_offset(query, offset);",
          "content_same": false
        },
        {
          "line": 5183,
          "old_api": null,
          "new_api": "ions[i + 1].start_offse",
          "old_text": null,
          "new_text": "ions[i + 1].start_offse",
          "old_line_content": "            auto match_index = case_sensitivity == CaseSensitivity::CaseInsensitive",
          "new_line_content": "            if (!match_index.has_value())",
          "content_same": false
        },
        {
          "line": 1092,
          "old_api": null,
          "new_api": "document_element",
          "old_text": null,
          "new_text": "is->document_element();\n",
          "old_line_content": "    if (!navigable)",
          "new_line_content": "    auto* document_element = this->document_element();",
          "content_same": false
        },
        {
          "line": 1093,
          "old_api": null,
          "new_api": "viewport_rect",
          "old_text": null,
          "new_text": "vigable->viewport_rect();\n",
          "old_line_content": "        return;",
          "new_line_content": "    auto viewport_rect = navigable->viewport_rect();",
          "content_same": false
        },
        {
          "line": 3142,
          "old_api": null,
          "new_api": "s",
          "old_text": null,
          "new_text": "s();\n}\n\n// https://html.spec.whatwg.org/multipage/",
          "old_line_content": "",
          "new_line_content": "    return const_cast<Document&>(*this).ancestor_navigables();",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": null,
          "new_api": "build",
          "old_text": null,
          "new_text": "ee_builder.build(*this));",
          "old_line_content": "",
          "new_line_content": "        m_layout_root = verify_cast<Layout::Viewport>(*tree_builder.build(*this));",
          "content_same": false
        },
        {
          "line": 5193,
          "old_api": null,
          "new_api": "s[i + 1];\n\n            auto& end_dom_",
          "old_text": null,
          "new_text": "s[i + 1];\n\n            auto& end_dom_",
          "old_line_content": "            auto& start_dom_node = match_start_position->dom_node;",
          "new_line_content": "            for (; i < text_block.positions.size() - 1 && (match_index.value() + query.bytes_as_string_view().length() > text_block.positions[i + 1].start_offset); ++i)",
          "content_same": false
        },
        {
          "line": 1099,
          "old_api": null,
          "new_api": "layout_node",
          "old_text": null,
          "new_text": "cument_element->layout_node()) ",
          "old_line_content": "        Layout::TreeBuilder tree_builder;",
          "new_line_content": "        if (document_element && document_element->layout_node()) {",
          "content_same": false
        },
        {
          "line": 1101,
          "old_api": null,
          "new_api": "opagate_scrollbar_width_to_viewport",
          "old_text": null,
          "new_text": "opagate_scrollbar_width_to_viewport(*document_element, *m_layout_root);\n",
          "old_line_content": "",
          "new_line_content": "            propagate_scrollbar_width_to_viewport(*document_element, *m_layout_root);",
          "content_same": false
        },
        {
          "line": 3149,
          "old_api": null,
          "new_api": "nt's node navigable t",
          "old_text": null,
          "new_text": "nt's node navigable t",
          "old_line_content": "Vector<JS::Handle<HTML::Navigable>> Document::inclusive_ancestor_navigables()",
          "new_line_content": "    auto navigables = ancestor_navigables();",
          "content_same": false
        },
        {
          "line": 5197,
          "old_api": null,
          "new_api": "n, end_dom_node, end_position));",
          "old_text": null,
          "new_text": "n, end_dom_node, end_position));\n    ",
          "old_line_content": "                match_end_position = &text_block.positions[i + 1];",
          "new_line_content": "            auto end_position = match_index.value() + query.bytes_as_string_view().length() - match_end_position->start_offset;",
          "content_same": false
        },
        {
          "line": 5199,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "fset = match_index.value() + query.bytes_as_string_view().length() + 1;\n ",
          "old_line_content": "            auto& end_dom_node = match_end_position->dom_node;",
          "new_line_content": "            matches.append(Range::create(start_dom_node, start_position, end_dom_node, end_position));",
          "content_same": false
        },
        {
          "line": 5201,
          "old_api": null,
          "new_api": "return matches;\n}\n\n// https://d",
          "old_text": null,
          "new_text": "\n\n    return matches;\n}\n\n// https://d",
          "old_line_content": "",
          "new_line_content": "            offset = match_index.value() + query.bytes_as_string_view().length() + 1;",
          "content_same": false
        },
        {
          "line": 1110,
          "old_api": null,
          "new_api": "atic_cast<Layout::Viewport&>(*m_layout_root);",
          "old_text": null,
          "new_text": "atic_cast<Layout::Viewport&>(*m_layout_root);\n",
          "old_line_content": "    {",
          "new_line_content": "        auto& viewport = static_cast<Layout::Viewport&>(*m_layout_root);",
          "content_same": false
        },
        {
          "line": 1111,
          "old_api": null,
          "new_api": "get_mutable",
          "old_text": null,
          "new_text": "yout_state.get_mutable(viewport);\n",
          "old_line_content": "        Layout::BlockFormattingContext root_formatting_context(layout_state, *m_layout_root, nullptr);",
          "new_line_content": "        auto& viewport_state = layout_state.get_mutable(viewport);",
          "content_same": false
        },
        {
          "line": 1112,
          "old_api": null,
          "new_api": "width",
          "old_text": null,
          "new_text": "ewport_rect.width());",
          "old_line_content": "",
          "new_line_content": "        viewport_state.set_content_width(viewport_rect.width());",
          "content_same": false
        },
        {
          "line": 3162,
          "old_api": null,
          "new_api": "navigables",
          "old_text": null,
          "new_text": "navigables ",
          "old_line_content": "Vector<JS::Handle<HTML::Navigable>> Document::document_tree_child_navigables()",
          "new_line_content": "    if (!navigable())",
          "content_same": false
        },
        {
          "line": 1117,
          "old_api": null,
          "new_api": "width",
          "old_text": null,
          "new_text": "ewport_rect.width());",
          "old_line_content": "",
          "new_line_content": "            icb_state.set_content_width(viewport_rect.width());",
          "content_same": false
        },
        {
          "line": 3170,
          "old_api": null,
          "new_api": "content_navigable",
          "old_text": null,
          "new_text": "ainer>([&](HTML::NavigableContainer& navigable_container) {\n        // 1. If navigableContainer's content navigable is null, then continue.\n        if (!navigable_container.content_navigable())\n            return TraversalDecision::Continue;\n        // 2. Append navigableContainer's content navigable to navigables.\n        navigables.append(*navigable_container.content_navigable());\n        return TraversalDecision::Continue;\n    });\n\n    // 5. Return navigables.\n    return navi",
          "old_line_content": "",
          "new_line_content": "    for_each_in_subtree_of_type<HTML::NavigableContainer>([&](HTML::NavigableContainer& navigable_container) {",
          "content_same": false
        },
        {
          "line": 1124,
          "old_api": null,
          "new_api": "width",
          "old_text": null,
          "new_text": "ewport_rect.width()),",
          "old_line_content": "            *m_layout_root,",
          "new_line_content": "                Layout::AvailableSize::make_definite(viewport_rect.width()),",
          "content_same": false
        },
        {
          "line": 1125,
          "old_api": null,
          "new_api": "height",
          "old_text": null,
          "new_text": "ewport_rect.height()))",
          "old_line_content": "            Layout::LayoutMode::Normal,",
          "new_line_content": "                Layout::AvailableSize::make_definite(viewport_rect.height())));",
          "content_same": false
        },
        {
          "line": 3172,
          "old_api": null,
          "new_api": "return TraversalDecision::Continu",
          "old_text": null,
          "new_text": "      return TraversalDecision::Continu",
          "old_line_content": "    // 4. For each navigableContainer of navigableContainers:",
          "new_line_content": "        if (!navigable_container.content_navigable())",
          "content_same": false
        },
        {
          "line": 5226,
          "old_api": null,
          "new_api": "put stream for parser. The encoding confiden",
          "old_text": null,
          "new_text": "put stream for parser. The encoding confiden",
          "old_line_content": "void Document::parse_html_from_a_string(StringView html)",
          "new_line_content": "    set_document_type(DOM::Document::Type::HTML);",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": null,
          "new_api": "set_needs_display",
          "old_text": null,
          "new_text": "vigable->set_needs_display();\n",
          "old_line_content": "    // Broadcast the current viewport rect to any new paintables, so they know whether they're visible or not.",
          "new_line_content": "    navigable->set_needs_display();",
          "content_same": false
        },
        {
          "line": 5231,
          "old_api": null,
          "new_api": "nto the input stream.\n    // FIXME: This is to m",
          "old_text": null,
          "new_text": "nto the input stream.\n    // FIXME: This is to m",
          "old_line_content": "    // 2. Create an HTML parser parser, associated with document.",
          "new_line_content": "    auto parser = HTML::HTMLParser::create(*this, html, \"UTF-8\"sv);",
          "content_same": false
        },
        {
          "line": 3187,
          "old_api": null,
          "new_api": "Y",
          "old_text": null,
          "new_text": "Y(window);\n\n    // FIXME: 2. For ea",
          "old_line_content": "void Document::run_unloading_cleanup_steps()",
          "new_line_content": "    auto* window = dynamic_cast<HTML::WindowOrWorkerGlobalScopeMixin*>(&HTML::relevant_global_object(*this));",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": null,
          "new_api": "assign_clip_frames",
          "old_text": null,
          "new_text": "intable()->assign_clip_frames();\n",
          "old_line_content": "        // NOTE: The assignment of scroll frames only needs to occur for traversables because they take care of all",
          "new_line_content": "        paintable()->assign_clip_frames();",
          "content_same": false
        },
        {
          "line": 3188,
          "old_api": null,
          "new_api": "ocket object w",
          "old_text": null,
          "new_text": "ocket object w",
          "old_line_content": "{",
          "new_line_content": "    VERIFY(window);",
          "content_same": false
        },
        {
          "line": 5235,
          "old_api": null,
          "new_api": "ument> Document::parse_html_",
          "old_text": null,
          "new_text": "ument> Document::parse_html_",
          "old_line_content": "",
          "new_line_content": "    parser->run(\"about:blank\"sv);",
          "content_same": false
        },
        {
          "line": 5241,
          "old_api": null,
          "new_api": ", this's relevant",
          "old_text": null,
          "new_text": ", this's relevant ",
          "old_line_content": "// https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-parsehtmlunsafe",
          "new_line_content": "    auto& realm = *vm.current_realm();",
          "content_same": false
        },
        {
          "line": 5245,
          "old_api": null,
          "new_api": "document->set_allow_d",
          "old_text": null,
          "new_text": "  document->set_allow_d",
          "old_line_content": "    // FIXME: 1. Let compliantHTML to the result of invoking the Get Trusted Type compliant string algorithm with TrustedHTML, this's relevant global object, html, \"Document parseHTMLUnsafe\", and \"script\".",
          "new_line_content": "    JS::NonnullGCPtr<DOM::Document> document = Document::create(realm);",
          "content_same": false
        },
        {
          "line": 3198,
          "old_api": null,
          "new_api": "// 2. Clear window's map of active t",
          "old_text": null,
          "new_text": "      // 2. Clear window's map of active t",
          "old_line_content": "    // 4. If document's salvageable state is false, then:",
          "new_line_content": "        window->forcibly_close_all_event_sources();",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": null,
          "new_api": "window",
          "old_text": null,
          "new_text": "is->window())\n",
          "old_line_content": "",
          "new_line_content": "    if (auto window = this->window())",
          "content_same": false
        },
        {
          "line": 1152,
          "old_api": null,
          "new_api": "scroll_by",
          "old_text": null,
          "new_text": "ndow->scroll_by(0, 0);\n",
          "old_line_content": "    // Scrolling by zero offset will clamp scroll offset back to valid range if it was out of bounds",
          "new_line_content": "        window->scroll_by(0, 0);",
          "content_same": false
        },
        {
          "line": 5246,
          "old_api": null,
          "new_api": "tive_shadow_roots",
          "old_text": null,
          "new_text": "tive_shadow_roots(true);\n\n    // 4. Parse HTML",
          "old_line_content": "",
          "new_line_content": "    document->set_content_type(\"text/html\"_string);",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": null,
          "new_api": "document",
          "old_text": null,
          "new_text": "de.document().needs_full_style_update();\n",
          "old_line_content": "",
          "new_line_content": "    bool const needs_full_style_update = node.document().needs_full_style_update();",
          "content_same": false
        },
        {
          "line": 1161,
          "old_api": null,
          "new_api": "atic_cast<Element const&>(node));",
          "old_text": null,
          "new_text": "atic_cast<Element const&>(node));",
          "old_line_content": "    CSS::RequiredInvalidationAfterStyleChange invalidation;",
          "new_line_content": "        style_computer.push_ancestor(static_cast<Element const&>(node));",
          "content_same": false
        },
        {
          "line": 3212,
          "old_api": null,
          "new_api": "state t",
          "old_text": null,
          "new_text": "state t",
          "old_line_content": "{",
          "new_line_content": "    abort();",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": null,
          "new_api": "<Element>(node))",
          "old_text": null,
          "new_text": "<Element>(node)) ",
          "old_line_content": "    //       We will still recompute style for the children, though.",
          "new_line_content": "    if (is<Element>(node)) {",
          "content_same": false
        },
        {
          "line": 1169,
          "old_api": null,
          "new_api": "recompute_style",
          "old_text": null,
          "new_text": "atic_cast<Element&>(node).recompute_style();\n",
          "old_line_content": "    bool is_display_none = false;",
          "new_line_content": "        invalidation |= static_cast<Element&>(node).recompute_style();",
          "content_same": false
        },
        {
          "line": 1170,
          "old_api": null,
          "new_api": "computed_css_values",
          "old_text": null,
          "new_text": "atic_cast<Element&>(node).computed_css_values()->display().is_none();\n",
          "old_line_content": "",
          "new_line_content": "        is_display_none = static_cast<Element&>(node).computed_css_values()->display().is_none();",
          "content_same": false
        },
        {
          "line": 3218,
          "old_api": null,
          "new_api": "e any tasks whose document is",
          "old_text": null,
          "new_text": "e any tasks whose document is",
          "old_line_content": "    m_salvageable = false;",
          "new_line_content": "    run_unloading_cleanup_steps();",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": null,
          "new_api": "child_needs_style_update",
          "old_text": null,
          "new_text": "de.child_needs_style_update()) ",
          "old_line_content": "    }",
          "new_line_content": "    if (needs_full_style_update || node.child_needs_style_update()) {",
          "content_same": false
        },
        {
          "line": 3222,
          "old_api": null,
          "new_api": "document's bro",
          "old_text": null,
          "new_text": " document's bro",
          "old_line_content": "",
          "new_line_content": "        return task.document() == this;",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": null,
          "new_api": "shadow_root",
          "old_text": null,
          "new_text": "atic_cast<DOM::Element&>(node).shadow_root()) ",
          "old_line_content": "",
          "new_line_content": "            if (auto shadow_root = static_cast<DOM::Element&>(node).shadow_root()) {",
          "content_same": false
        },
        {
          "line": 3229,
          "old_api": null,
          "new_api": "document",
          "old_text": null,
          "new_text": "      if (&navigable_container->document(",
          "old_line_content": "    m_browsing_context = nullptr;",
          "new_line_content": "    for (auto& navigable_container : HTML::NavigableContainer::all_instances()) {",
          "content_same": false
        },
        {
          "line": 3230,
          "old_api": null,
          "new_api": "HTML::all_navigables().re",
          "old_text": null,
          "new_text": "      HTML::all_navigables().re",
          "old_line_content": "",
          "new_line_content": "        if (&navigable_container->document() == this)",
          "content_same": false
        },
        {
          "line": 3231,
          "old_api": null,
          "new_api": "}\n\n    // 7. Set document's node navigab",
          "old_text": null,
          "new_text": "}\n\n    // 7. Set document's node navigab",
          "old_line_content": "    // Not in the spec:",
          "new_line_content": "            HTML::all_navigables().remove(navigable_container->content_navigable());",
          "content_same": false
        },
        {
          "line": 1185,
          "old_api": null,
          "new_api": "for_each_child",
          "old_text": null,
          "new_text": "de.for_each_child([&](auto& child) {\n            if (needs_full_style_update || child.needs_style_update() || child.child_needs_style_update()) {\n                auto subtree_invalidation = update_style_recursively(child, style_computer);\n                if (!is_display_none)\n                    invalidation |= subtree_invalidation;\n            }\n            return IterationDecision::Continue;\n        });\n",
          "old_line_content": "            }",
          "new_line_content": "        node.for_each_child([&](auto& child) {",
          "content_same": false
        },
        {
          "line": 1186,
          "old_api": null,
          "new_api": "child_needs_style_update",
          "old_text": null,
          "new_text": "ild.child_needs_style_update()) ",
          "old_line_content": "        }",
          "new_line_content": "            if (needs_full_style_update || child.needs_style_update() || child.child_needs_style_update()) {",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": null,
          "new_api": "date_style_recursively",
          "old_text": null,
          "new_text": "date_style_recursively(child, style_computer);\n",
          "old_line_content": "",
          "new_line_content": "                auto subtree_invalidation = update_style_recursively(child, style_computer);",
          "content_same": false
        },
        {
          "line": 3235,
          "old_api": null,
          "new_api": "ion_history",
          "old_text": null,
          "new_text": "ion_history",
          "old_line_content": "    }",
          "new_line_content": "    if (navigable()) {",
          "content_same": false
        },
        {
          "line": 3236,
          "old_api": null,
          "new_api": "set_document",
          "old_text": null,
          "new_text": "cument_state()->set_document(nullptr);\n    }\n\n    // FIXME: 8. Remove document from ",
          "old_line_content": "",
          "new_line_content": "        navigable()->active_session_history_entry()->document_state()->set_document(nullptr);",
          "content_same": false
        },
        {
          "line": 1195,
          "old_api": null,
          "new_api": "set_child_needs_style_update",
          "old_text": null,
          "new_text": "de.set_child_needs_style_update(false);\n",
          "old_line_content": "        });",
          "new_line_content": "    node.set_child_needs_style_update(false);",
          "content_same": false
        },
        {
          "line": 1197,
          "old_api": null,
          "new_api": "is_element",
          "old_text": null,
          "new_text": "de.is_element())\n",
          "old_line_content": "",
          "new_line_content": "    if (node.is_element())",
          "content_same": false
        },
        {
          "line": 3248,
          "old_api": null,
          "new_api": "t numberDestroyed be 0.\n    IGNO",
          "old_text": null,
          "new_text": "t numberDestroyed be 0.\n    IGNO",
          "old_line_content": "void Document::destroy_a_document_and_its_descendants(JS::GCPtr<JS::HeapFunction<void()>> after_all_destruction)",
          "new_line_content": "    auto child_navigables = document_tree_child_navigables();",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": null,
          "new_api": "owsing_context",
          "old_text": null,
          "new_text": "owsing_context())\n",
          "old_line_content": "",
          "new_line_content": "    if (!browsing_context())",
          "content_same": false
        },
        {
          "line": 3256,
          "old_api": null,
          "new_api": "ld_nav",
          "old_text": null,
          "new_text": "ld_nav",
          "old_line_content": "    // 3. For each childNavigable of childNavigable's, queue a global task on the navigation and traversal task source",
          "new_line_content": "        HTML::queue_global_task(HTML::Task::Source::NavigationAndTraversal, *child_navigable->active_window(), JS::create_heap_function(heap(), [&heap = heap(), &number_destroyed, child_navigable = child_navigable.ptr()] {",
          "content_same": false
        },
        {
          "line": 3258,
          "old_api": null,
          "new_api": "ed] { ++number_destroyed; });\n\n            // 2. Destroy a document and its",
          "old_text": null,
          "new_text": "ed] { ++number_destroyed; });\n\n            // 2. Destroy a document and its",
          "old_line_content": "    for (auto& child_navigable : child_navigables) {",
          "new_line_content": "            auto increment_destroyed = JS::create_heap_function(heap, [&number_destroyed] { ++number_destroyed; });",
          "content_same": false
        },
        {
          "line": 1214,
          "old_api": null,
          "new_api": "ild_needs_style_update",
          "old_text": null,
          "new_text": "ild_needs_style_update())\n",
          "old_line_content": "    // style change event. [CSS-Transitions-2]",
          "new_line_content": "    if (!needs_full_style_update() && !needs_style_update() && !child_needs_style_update())",
          "content_same": false
        },
        {
          "line": 3266,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "\n        return number_destroyed == child_navigables.size();\n    });\n\n    // 4. Queue a global task on the navigat",
          "old_line_content": "    }",
          "new_line_content": "    HTML::main_thread_event_loop().spin_until([&] {",
          "content_same": false
        },
        {
          "line": 3267,
          "old_api": null,
          "new_api": "ue a global task on the",
          "old_text": null,
          "new_text": "ue a global task on the",
          "old_line_content": "",
          "new_line_content": "        return number_destroyed == child_navigables.size();",
          "content_same": false
        },
        {
          "line": 1222,
          "old_api": null,
          "new_api": "ewport_rect",
          "old_text": null,
          "new_text": "ewport_rect());",
          "old_line_content": "        return;",
          "new_line_content": "    style_computer().set_viewport_rect({}, viewport_rect());",
          "content_same": false
        },
        {
          "line": 3271,
          "old_api": null,
          "new_api": "_destr",
          "old_text": null,
          "new_text": "_destr",
          "old_line_content": "    });",
          "new_line_content": "    HTML::queue_global_task(HTML::Task::Source::NavigationAndTraversal, relevant_global_object(*this), JS::create_heap_function(heap(), [after_all_destruction = move(after_all_destruction), this] {",
          "content_same": false
        },
        {
          "line": 1224,
          "old_api": null,
          "new_api": "aluate_media_rules",
          "old_text": null,
          "new_text": "aluate_media_rules();\n",
          "old_line_content": "    // Fetch the viewport rect once, instead of repeatedly, during style computation.",
          "new_line_content": "    evaluate_media_rules();",
          "content_same": false
        },
        {
          "line": 3273,
          "old_api": null,
          "new_api": "n was giv",
          "old_text": null,
          "new_text": "n was giv",
          "old_line_content": "    // 4. Queue a global task on the navigation and traversal task source given document's relevant global object to perform the following steps:",
          "new_line_content": "        destroy();",
          "content_same": false
        },
        {
          "line": 1226,
          "old_api": null,
          "new_api": "reset_ancestor_filter",
          "old_text": null,
          "new_text": "yle_computer().reset_ancestor_filter();\n",
          "old_line_content": "",
          "new_line_content": "    style_computer().reset_ancestor_filter();",
          "content_same": false
        },
        {
          "line": 1228,
          "old_api": null,
          "new_api": "yle_computer",
          "old_text": null,
          "new_text": "yle_computer());",
          "old_line_content": "",
          "new_line_content": "    auto invalidation = update_style_recursively(*this, style_computer());",
          "content_same": false
        },
        {
          "line": 3277,
          "old_api": null,
          "new_api": "// https://html.spec.whatwg.org/m",
          "old_text": null,
          "new_text": "\n\n// https://html.spec.whatwg.org/m",
          "old_line_content": "",
          "new_line_content": "            after_all_destruction->function()();",
          "content_same": false
        },
        {
          "line": 1230,
          "old_api": null,
          "new_api": "validate_layout",
          "old_text": null,
          "new_text": "validate_layout();\n",
          "old_line_content": "",
          "new_line_content": "        invalidate_layout();",
          "content_same": false
        },
        {
          "line": 1235,
          "old_api": null,
          "new_api": "validate_stacking_context_tree",
          "old_text": null,
          "new_text": "validate_stacking_context_tree();\n",
          "old_line_content": "        if (invalidation.relayout)",
          "new_line_content": "            invalidate_stacking_context_tree();",
          "content_same": false
        },
        {
          "line": 3293,
          "old_api": null,
          "new_api": "XME: Invoke WebDriver BiDi",
          "old_text": null,
          "new_text": "XME: Invoke WebDriver BiDi ",
          "old_line_content": "    //           then set document's salvageable state to false.",
          "new_line_content": "    if (m_navigation_id.has_value()) {",
          "content_same": false
        },
        {
          "line": 1246,
          "old_api": null,
          "new_api": "associated_animations",
          "old_text": null,
          "new_text": "meline->associated_animations()) ",
          "old_line_content": "        return;",
          "new_line_content": "        for (auto& animation : timeline->associated_animations()) {",
          "content_same": false
        },
        {
          "line": 1247,
          "old_api": null,
          "new_api": "target",
          "old_text": null,
          "new_text": "fect->target())\n",
          "old_line_content": "",
          "new_line_content": "            if (auto effect = animation->effect(); effect && effect->target())",
          "content_same": false
        },
        {
          "line": 1248,
          "old_api": null,
          "new_api": "target",
          "old_text": null,
          "new_text": "fect->target()->reset_animated_css_properties();\n",
          "old_line_content": "    for (auto& timeline : m_associated_animation_timelines) {",
          "new_line_content": "                effect->target()->reset_animated_css_properties();",
          "content_same": false
        },
        {
          "line": 1252,
          "old_api": null,
          "new_api": "effect",
          "old_text": null,
          "new_text": "imation->effect())\n",
          "old_line_content": "        }",
          "new_line_content": "            if (auto effect = animation->effect())",
          "content_same": false
        },
        {
          "line": 1253,
          "old_api": null,
          "new_api": "update_style_properties",
          "old_text": null,
          "new_text": "fect->update_style_properties();\n",
          "old_line_content": "",
          "new_line_content": "                effect->update_style_properties();",
          "content_same": false
        },
        {
          "line": 3303,
          "old_api": null,
          "new_api": "active parser",
          "old_text": null,
          "new_text": " active parser ",
          "old_line_content": "    }",
          "new_line_content": "    if (auto parser = active_parser()) {",
          "content_same": false
        },
        {
          "line": 3308,
          "old_api": null,
          "new_api": "salvageable sta",
          "old_text": null,
          "new_text": "salvageable sta",
          "old_line_content": "        m_active_parser_was_aborted = true;",
          "new_line_content": "        parser->abort();",
          "content_same": false
        },
        {
          "line": 1264,
          "old_api": null,
          "new_api": "paintable",
          "old_text": null,
          "new_text": "is->paintable())\n",
          "old_line_content": "    if (!m_needs_to_resolve_paint_only_properties)",
          "new_line_content": "    if (auto* paintable = this->paintable())",
          "content_same": false
        },
        {
          "line": 1265,
          "old_api": null,
          "new_api": "resolve_paint_only_properties",
          "old_text": null,
          "new_text": "intable->resolve_paint_only_properties();\n",
          "old_line_content": "        return;",
          "new_line_content": "        paintable->resolve_paint_only_properties();",
          "content_same": false
        },
        {
          "line": 3321,
          "old_api": null,
          "new_api": "ach descendantNavigable of de",
          "old_text": null,
          "new_text": "ach descendantNavigable of de",
          "old_line_content": "    // FIXME 1. Assert: this is running as part of a task queued on document's relevant agent's event loop.",
          "new_line_content": "    auto descendant_navigables = this->descendant_navigables();",
          "content_same": false
        },
        {
          "line": 3325,
          "old_api": null,
          "new_api": "t_navi",
          "old_text": null,
          "new_text": "t_navi",
          "old_line_content": "",
          "new_line_content": "        HTML::queue_global_task(HTML::Task::Source::NavigationAndTraversal, *descendant_navigable->active_window(), JS::create_heap_function(heap(), [this, descendant_navigable = descendant_navigable.ptr()] {",
          "content_same": false
        },
        {
          "line": 1285,
          "old_api": null,
          "new_api": "de::layout_node());",
          "old_text": null,
          "new_text": "de::layout_node());",
          "old_line_content": "",
          "new_line_content": "    return static_cast<Layout::Viewport const*>(Node::layout_node());",
          "content_same": false
        },
        {
          "line": 1290,
          "old_api": null,
          "new_api": "de::layout_node());",
          "old_text": null,
          "new_text": "de::layout_node());",
          "old_line_content": "",
          "new_line_content": "    return static_cast<Layout::Viewport*>(Node::layout_node());",
          "content_same": false
        },
        {
          "line": 3340,
          "old_api": null,
          "new_api": "tipage/",
          "old_text": null,
          "new_text": "tipage/",
          "old_line_content": "    }",
          "new_line_content": "    abort();",
          "content_same": false
        },
        {
          "line": 1295,
          "old_api": null,
          "new_api": "ptr",
          "old_text": null,
          "new_text": "inspected_node.ptr() =",
          "old_line_content": "",
          "new_line_content": "    if (m_inspected_node.ptr() == node && m_inspected_pseudo_element == pseudo_element)",
          "content_same": false
        },
        {
          "line": 1299,
          "old_api": null,
          "new_api": "paintable",
          "old_text": null,
          "new_text": "yout_node->paintable()->set_needs_display();\n",
          "old_line_content": "        return;",
          "new_line_content": "        layout_node->paintable()->set_needs_display();",
          "content_same": false
        },
        {
          "line": 3349,
          "old_api": null,
          "new_api": "return m_parser;",
          "old_text": null,
          "new_text": "   return m_parser;",
          "old_line_content": "    if (!m_parser)",
          "new_line_content": "    if (m_parser->aborted() || m_parser->stopped())",
          "content_same": false
        },
        {
          "line": 1304,
          "old_api": null,
          "new_api": "paintable",
          "old_text": null,
          "new_text": "yout_node->paintable())\n",
          "old_line_content": "    m_inspected_node = node;",
          "new_line_content": "    if (auto layout_node = inspected_layout_node(); layout_node && layout_node->paintable())",
          "content_same": false
        },
        {
          "line": 1305,
          "old_api": null,
          "new_api": "paintable",
          "old_text": null,
          "new_text": "yout_node->paintable()->set_needs_display();\n",
          "old_line_content": "    m_inspected_pseudo_element = pseudo_element;",
          "new_line_content": "        layout_node->paintable()->set_needs_display();",
          "content_same": false
        },
        {
          "line": 1312,
          "old_api": null,
          "new_api": "is_element",
          "old_text": null,
          "new_text": "inspected_node->is_element())\n",
          "old_line_content": "{",
          "new_line_content": "    if (!m_inspected_pseudo_element.has_value() || !m_inspected_node->is_element())",
          "content_same": false
        },
        {
          "line": 1313,
          "old_api": null,
          "new_api": "layout_node",
          "old_text": null,
          "new_text": "inspected_node->layout_node();\n",
          "old_line_content": "    if (!m_inspected_node)",
          "new_line_content": "        return m_inspected_node->layout_node();",
          "content_same": false
        },
        {
          "line": 1314,
          "old_api": null,
          "new_api": "atic_cast<Element&>(*m_inspected_node);",
          "old_text": null,
          "new_text": "atic_cast<Element&>(*m_inspected_node);\n",
          "old_line_content": "        return nullptr;",
          "new_line_content": "    auto& element = static_cast<Element&>(*m_inspected_node);",
          "content_same": false
        },
        {
          "line": 3363,
          "old_api": null,
          "new_api": "unning as",
          "old_text": null,
          "new_text": "unning as ",
          "old_line_content": "// https://html.spec.whatwg.org/multipage/document-lifecycle.html#unload-a-document",
          "new_line_content": "    auto& vm = this->vm();",
          "content_same": false
        },
        {
          "line": 1327,
          "old_api": null,
          "new_api": "parent_or_shadow_host",
          "old_text": null,
          "new_text": "de->parent_or_shadow_host())\n",
          "old_line_content": "        return a;",
          "new_line_content": "    for (auto* node = a; node; node = node->parent_or_shadow_host())",
          "content_same": false
        },
        {
          "line": 1328,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "cestors.set(node);\n",
          "old_line_content": "",
          "new_line_content": "        ancestors.set(node);",
          "content_same": false
        },
        {
          "line": 3378,
          "old_api": null,
          "new_api": "se eventLoop's t",
          "old_text": null,
          "new_text": "se eventLoop's t",
          "old_line_content": "    auto intend_to_store_in_bfcache = false;",
          "new_line_content": "    auto& event_loop = *verify_cast<Bindings::WebEngineCustomData>(*vm.custom_data()).event_loop;",
          "content_same": false
        },
        {
          "line": 1340,
          "old_api": null,
          "new_api": "ptr",
          "old_text": null,
          "new_text": "hovered_node.ptr() =",
          "old_line_content": "",
          "new_line_content": "    if (m_hovered_node.ptr() == node)",
          "content_same": false
        },
        {
          "line": 1348,
          "old_api": null,
          "new_api": "invalidate_style",
          "old_text": null,
          "new_text": "mmon_ancestor->invalidate_style();\n",
          "old_line_content": "",
          "new_line_content": "        common_ancestor->invalidate_style();",
          "content_same": false
        },
        {
          "line": 3397,
          "old_api": null,
          "new_api": "sition_event",
          "old_text": null,
          "new_text": "sition_event(HTML::EventNames",
          "old_line_content": "        m_page_showing = false;",
          "new_line_content": "        verify_cast<HTML::Window>(relevant_global_object(*this)).fire_a_page_transition_event(HTML::EventNames::pagehide, m_salvageable);",
          "content_same": false
        },
        {
          "line": 1350,
          "old_api": null,
          "new_api": "validate_style",
          "old_text": null,
          "new_text": "validate_style();\n",
          "old_line_content": "    if (common_ancestor)",
          "new_line_content": "        invalidate_style();",
          "content_same": false
        },
        {
          "line": 1359,
          "old_api": null,
          "new_api": "alm",
          "old_text": null,
          "new_text": "alm(), ",
          "old_line_content": "        mouse_event_init.cancelable = true;",
          "new_line_content": "        auto event = UIEvents::MouseEvent::create(realm(), UIEvents::EventNames::mouseout, mouse_event_init);",
          "content_same": false
        },
        {
          "line": 1360,
          "old_api": null,
          "new_api": "dispatch_event",
          "old_text": null,
          "new_text": "d_hovered_node->dispatch_event(event);\n",
          "old_line_content": "        mouse_event_init.composed = true;",
          "new_line_content": "        old_hovered_node->dispatch_event(event);",
          "content_same": false
        },
        {
          "line": 3411,
          "old_api": null,
          "new_api": "bal_obj",
          "old_text": null,
          "new_text": "bal_obj",
          "old_line_content": "        // then fire an event named unload at document's relevant global object, with legacy target override flag set.",
          "new_line_content": "        auto event = DOM::Event::create(realm(), HTML::EventNames::unload);",
          "content_same": false
        },
        {
          "line": 1364,
          "old_api": null,
          "new_api": "is_descendant_of",
          "old_text": null,
          "new_text": "hovered_node->is_descendant_of(*old_hovered_node)))",
          "old_line_content": "    }",
          "new_line_content": "    if (old_hovered_node && (!m_hovered_node || !m_hovered_node->is_descendant_of(*old_hovered_node))) {",
          "content_same": false
        },
        {
          "line": 3412,
          "old_api": null,
          "new_api": "// FIXME: 13. If unloadTimingInfo",
          "old_text": null,
          "new_text": "   // FIXME: 13. If unloadTimingInfo ",
          "old_line_content": "        // FIXME: The legacy target override flag is currently set by a virtual override of dispatch_event()",
          "new_line_content": "        global_object().dispatch_event(event);",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": null,
          "new_api": "parent",
          "old_text": null,
          "new_text": "rget->parent()) ",
          "old_line_content": "    // https://w3c.github.io/uievents/#mouseleave",
          "new_line_content": "        for (auto target = old_hovered_node; target && target.ptr() != common_ancestor; target = target->parent()) {",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": null,
          "new_api": "alm",
          "old_text": null,
          "new_text": "alm(), ",
          "old_line_content": "            // FIXME: Populate the event with mouse coordinates, etc.",
          "new_line_content": "            target->dispatch_event(UIEvents::MouseEvent::create(realm(), UIEvents::EventNames::mouseleave, mouse_event_init));",
          "content_same": false
        },
        {
          "line": 3419,
          "old_api": null,
          "new_api": ");\n\n    // FIXME: 15. Set oldDocument's suspensi",
          "old_text": null,
          "new_text": ");\n\n    // FIXME: 15. Set oldDocument's suspensi",
          "old_line_content": "    //            given oldDocument's relevant settings object's cross-origin isolated capability.",
          "new_line_content": "    event_loop.decrement_termination_nesting_level();",
          "content_same": false
        },
        {
          "line": 1381,
          "old_api": null,
          "new_api": "alm",
          "old_text": null,
          "new_text": "alm(), ",
          "old_line_content": "        mouse_event_init.cancelable = true;",
          "new_line_content": "        auto event = UIEvents::MouseEvent::create(realm(), UIEvents::EventNames::mouseover, mouse_event_init);",
          "content_same": false
        },
        {
          "line": 1382,
          "old_api": null,
          "new_api": "dispatch_event",
          "old_text": null,
          "new_text": "hovered_node->dispatch_event(event);\n",
          "old_line_content": "        mouse_event_init.composed = true;",
          "new_line_content": "        m_hovered_node->dispatch_event(event);",
          "content_same": false
        },
        {
          "line": 1386,
          "old_api": null,
          "new_api": "is_ancestor_of",
          "old_text": null,
          "new_text": "hovered_node->is_ancestor_of(*old_hovered_node)))",
          "old_line_content": "    }",
          "new_line_content": "    if (m_hovered_node && (!old_hovered_node || !m_hovered_node->is_ancestor_of(*old_hovered_node))) {",
          "content_same": false
        },
        {
          "line": 1388,
          "old_api": null,
          "new_api": "parent",
          "old_text": null,
          "new_text": "rget->parent()) ",
          "old_line_content": "    // https://w3c.github.io/uievents/#mouseenter",
          "new_line_content": "        for (auto target = m_hovered_node; target && target.ptr() != common_ancestor; target = target->parent()) {",
          "content_same": false
        },
        {
          "line": 1392,
          "old_api": null,
          "new_api": "alm",
          "old_text": null,
          "new_text": "alm(), ",
          "old_line_content": "            // FIXME: Populate the event with mouse coordinates, etc.",
          "new_line_content": "            target->dispatch_event(UIEvents::MouseEvent::create(realm(), UIEvents::EventNames::mouseenter, mouse_event_init));",
          "content_same": false
        },
        {
          "line": 3440,
          "old_api": null,
          "new_api": "}\n\n// https://html.spec.whatwg.org/multipage/",
          "old_text": null,
          "new_text": "}\n\n// https://html.spec.whatwg.org/multipage/",
          "old_line_content": "    // FIXME: 21. If newDocument is given, newDocument's was created via cross-origin redirects is false, and newDocument's origin is the same as oldDocument's origin, then set",
          "new_line_content": "    did_stop_being_active_document_in_navigable();",
          "content_same": false
        },
        {
          "line": 1399,
          "old_api": null,
          "new_api": "name",
          "old_text": null,
          "new_text": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [name](Element const& element) {\n        return element.name() == name;\n    });\n",
          "old_line_content": "",
          "new_line_content": "    return HTMLCollection::create(*this, HTMLCollection::Scope::Descendants, [name](Element const& element) {",
          "content_same": false
        },
        {
          "line": 1400,
          "old_api": null,
          "new_api": "name",
          "old_text": null,
          "new_text": "ement.name() =",
          "old_line_content": "JS::NonnullGCPtr<HTMLCollection> Document::get_elements_by_name(FlyString const& name)",
          "new_line_content": "        return element.name() == name;",
          "content_same": false
        },
        {
          "line": 1407,
          "old_api": null,
          "new_api": "split_view",
          "old_text": null,
          "new_text": "ass_names.split_view(' ')) ",
          "old_line_content": "JS::NonnullGCPtr<HTMLCollection> Document::get_elements_by_class_name(StringView class_names)",
          "new_line_content": "    for (auto& name : class_names.split_view(' ')) {",
          "content_same": false
        },
        {
          "line": 1408,
          "old_api": null,
          "new_api": "release_value_but_fixme_should_propagate_errors",
          "old_text": null,
          "new_text": "yString::from_utf8(name).release_value_but_fixme_should_propagate_errors());",
          "old_line_content": "{",
          "new_line_content": "        list_of_class_names.append(FlyString::from_utf8(name).release_value_but_fixme_should_propagate_errors());",
          "content_same": false
        },
        {
          "line": 1412,
          "old_api": null,
          "new_api": "has_class",
          "old_text": null,
          "new_text": "ement.has_class(name, quirks_mode ? CaseSensitivity::CaseInsensitive : CaseSensitivity::CaseSensitive))\n",
          "old_line_content": "    }",
          "new_line_content": "            if (!element.has_class(name, quirks_mode ? CaseSensitivity::CaseInsensitive : CaseSensitivity::CaseSensitive))",
          "content_same": false
        },
        {
          "line": 3470,
          "old_api": null,
          "new_api": ":Navigable>> desc",
          "old_text": null,
          "new_text": ":Navigable>> desc",
          "old_line_content": "",
          "new_line_content": "    auto navigable = this->navigable();",
          "content_same": false
        },
        {
          "line": 1423,
          "old_api": null,
          "new_api": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](auto&) { return false; });",
          "old_text": null,
          "new_text": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](auto&) { return false; });\n",
          "old_line_content": "JS::NonnullGCPtr<HTMLCollection> Document::applets()",
          "new_line_content": "        m_applets = HTMLCollection::create(*this, HTMLCollection::Scope::Descendants, [](auto&) { return false; });",
          "content_same": false
        },
        {
          "line": 3474,
          "old_api": null,
          "new_api": "append",
          "old_text": null,
          "new_text": "          descendant_navigables.append(othe",
          "old_line_content": "",
          "new_line_content": "        if (navigable->is_ancestor_of(*other_navigable))",
          "content_same": false
        },
        {
          "line": 3475,
          "old_api": null,
          "new_api": "}\n\n    auto unloaded_documents_count = de",
          "old_text": null,
          "new_text": "    }\n\n    auto unloaded_documents_count = de",
          "old_line_content": "    Vector<JS::Handle<HTML::Navigable>> descendant_navigables;",
          "new_line_content": "            descendant_navigables.append(other_navigable);",
          "content_same": false
        },
        {
          "line": 1431,
          "old_api": null,
          "new_api": "name",
          "old_text": null,
          "new_text": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {\n            return is<HTML::HTMLAnchorElement>(element) && element.name().has_value();\n        });\n",
          "old_line_content": "JS::NonnullGCPtr<HTMLCollection> Document::anchors()",
          "new_line_content": "        m_anchors = HTMLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {",
          "content_same": false
        },
        {
          "line": 1432,
          "old_api": null,
          "new_api": "name",
          "old_text": null,
          "new_text": "ement.name().has_value();\n",
          "old_line_content": "{",
          "new_line_content": "            return is<HTML::HTMLAnchorElement>(element) && element.name().has_value();",
          "content_same": false
        },
        {
          "line": 3480,
          "old_api": null,
          "new_api": "{",
          "old_text": null,
          "new_text": "{\n    ",
          "old_line_content": "",
          "new_line_content": "    HTML::queue_global_task(HTML::Task::Source::NavigationAndTraversal, HTML::relevant_global_object(*this), JS::create_heap_function(heap(), [&number_unloaded, this, new_document] {",
          "content_same": false
        },
        {
          "line": 3486,
          "old_api": null,
          "new_api": "= des",
          "old_text": null,
          "new_text": " = des",
          "old_line_content": "    }));",
          "new_line_content": "        HTML::queue_global_task(HTML::Task::Source::NavigationAndTraversal, *descendant_navigable->active_window(), JS::create_heap_function(heap(), [&number_unloaded, descendant_navigable = descendant_navigable.ptr()] {",
          "content_same": false
        },
        {
          "line": 3487,
          "old_api": null,
          "new_api": "();\n            ++number_unloaded;\n        }));",
          "old_text": null,
          "new_text": "();\n            ++number_unloaded;\n        }));\n ",
          "old_line_content": "",
          "new_line_content": "            descendant_navigable->active_document()->unload();",
          "content_same": false
        },
        {
          "line": 1442,
          "old_api": null,
          "new_api": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {\n            return is<HTML::HTMLImageElement>(element);\n        });",
          "old_text": null,
          "new_text": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {\n            return is<HTML::HTMLImageElement>(element);\n        });\n",
          "old_line_content": "JS::NonnullGCPtr<HTMLCollection> Document::images()",
          "new_line_content": "        m_images = HTMLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {",
          "content_same": false
        },
        {
          "line": 1443,
          "old_api": null,
          "new_api": "<HTML::HTMLImageElement>(element);",
          "old_text": null,
          "new_text": "<HTML::HTMLImageElement>(element);\n",
          "old_line_content": "{",
          "new_line_content": "            return is<HTML::HTMLImageElement>(element);",
          "content_same": false
        },
        {
          "line": 3492,
          "old_api": null,
          "new_api": "return number_unloaded == unloaded_documents_count;\n    });\n\n    destroy_a_document_and_its_descendants(m",
          "old_text": null,
          "new_text": "\n        return number_unloaded == unloaded_documents_count;\n    });\n\n    destroy_a_document_and_its_descendants(m",
          "old_line_content": "        }));",
          "new_line_content": "    HTML::main_thread_event_loop().spin_until([&] {",
          "content_same": false
        },
        {
          "line": 3496,
          "old_api": null,
          "new_api": "ec.whatwg.org/multipage",
          "old_text": null,
          "new_text": "ec.whatwg.org/multipage",
          "old_line_content": "        return number_unloaded == unloaded_documents_count;",
          "new_line_content": "    destroy_a_document_and_its_descendants(move(after_all_unloads));",
          "content_same": false
        },
        {
          "line": 1453,
          "old_api": null,
          "new_api": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {\n            return is<HTML::HTMLEmbedElement>(element);\n        });",
          "old_text": null,
          "new_text": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {\n            return is<HTML::HTMLEmbedElement>(element);\n        });\n",
          "old_line_content": "JS::NonnullGCPtr<HTMLCollection> Document::embeds()",
          "new_line_content": "        m_embeds = HTMLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": null,
          "new_api": "<HTML::HTMLEmbedElement>(element);",
          "old_text": null,
          "new_text": "<HTML::HTMLEmbedElement>(element);\n",
          "old_line_content": "{",
          "new_line_content": "            return is<HTML::HTMLEmbedElement>(element);",
          "content_same": false
        },
        {
          "line": 3503,
          "old_api": null,
          "new_api": "alse;\n\n    // 2. I",
          "old_text": null,
          "new_text": "alse;\n\n    // 2. I",
          "old_line_content": "bool Document::is_allowed_to_use_feature(PolicyControlledFeature feature) const",
          "new_line_content": "    if (browsing_context() == nullptr)",
          "content_same": false
        },
        {
          "line": 3507,
          "old_api": null,
          "new_api": "/ 3. If the resul",
          "old_text": null,
          "new_text": "/ 3. If the resul",
          "old_line_content": "        return false;",
          "new_line_content": "    if (!is_fully_active())",
          "content_same": false
        },
        {
          "line": 1463,
          "old_api": null,
          "new_api": "beds",
          "old_text": null,
          "new_text": "beds();\n",
          "old_line_content": "// https://html.spec.whatwg.org/multipage/dom.html#dom-document-plugins",
          "new_line_content": "    return embeds();",
          "content_same": false
        },
        {
          "line": 3515,
          "old_api": null,
          "new_api": "ed)",
          "old_text": null,
          "new_text": "ed)\n    ",
          "old_line_content": "    // FIXME: This is ad-hoc. Implement the Permissions Policy specification.",
          "new_line_content": "        if (PermissionsPolicy::AutoplayAllowlist::the().is_allowed_for_origin(*this, origin()) == PermissionsPolicy::Decision::Enabled)",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": null,
          "new_api": "has_attribute",
          "old_text": null,
          "new_text": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {\n            return (is<HTML::HTMLAnchorElement>(element) || is<HTML::HTMLAreaElement>(element)) && element.has_attribute(HTML::AttributeNames::href);\n        });\n",
          "old_line_content": "JS::NonnullGCPtr<HTMLCollection> Document::links()",
          "new_line_content": "        m_links = HTMLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {",
          "content_same": false
        },
        {
          "line": 1471,
          "old_api": null,
          "new_api": "has_attribute",
          "old_text": null,
          "new_text": "ement.has_attribute(HTML::AttributeNames::href);\n",
          "old_line_content": "{",
          "new_line_content": "            return (is<HTML::HTMLAnchorElement>(element) || is<HTML::HTMLAreaElement>(element)) && element.has_attribute(HTML::AttributeNames::href);",
          "content_same": false
        },
        {
          "line": 3526,
          "old_api": null,
          "new_api": "_notify = m_document_ob",
          "old_text": null,
          "new_text": "_notify = m_document_ob",
          "old_line_content": "",
          "new_line_content": "    tear_down_layout_tree();",
          "content_same": false
        },
        {
          "line": 3528,
          "old_api": null,
          "new_api": "ocument_observer : observers_",
          "old_text": null,
          "new_text": "ocument_observer : observers_",
          "old_line_content": "{",
          "new_line_content": "    auto observers_to_notify = m_document_observers.values();",
          "content_same": false
        },
        {
          "line": 1481,
          "old_api": null,
          "new_api": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {\n            return is<HTML::HTMLFormElement>(element);\n        });",
          "old_text": null,
          "new_text": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {\n            return is<HTML::HTMLFormElement>(element);\n        });\n",
          "old_line_content": "JS::NonnullGCPtr<HTMLCollection> Document::forms()",
          "new_line_content": "        m_forms = HTMLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {",
          "content_same": false
        },
        {
          "line": 1482,
          "old_api": null,
          "new_api": "<HTML::HTMLFormElement>(element);",
          "old_text": null,
          "new_text": "<HTML::HTMLFormElement>(element);\n",
          "old_line_content": "{",
          "new_line_content": "            return is<HTML::HTMLFormElement>(element);",
          "content_same": false
        },
        {
          "line": 3530,
          "old_api": null,
          "new_api": "document_observer->document_becam",
          "old_text": null,
          "new_text": "            document_observer->document_becam",
          "old_line_content": "",
          "new_line_content": "        if (document_observer->document_became_inactive())",
          "content_same": false
        },
        {
          "line": 3535,
          "old_api": null,
          "new_api": "ent::increment_throw_on_dynamic_",
          "old_text": null,
          "new_text": "ent::increment_throw_on_dynamic_",
          "old_line_content": "    }",
          "new_line_content": "        m_animation_driver_timer->stop();",
          "content_same": false
        },
        {
          "line": 1492,
          "old_api": null,
          "new_api": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {\n            return is<HTML::HTMLScriptElement>(element);\n        });",
          "old_text": null,
          "new_text": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {\n            return is<HTML::HTMLScriptElement>(element);\n        });\n",
          "old_line_content": "JS::NonnullGCPtr<HTMLCollection> Document::scripts()",
          "new_line_content": "        m_scripts = HTMLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {",
          "content_same": false
        },
        {
          "line": 1493,
          "old_api": null,
          "new_api": "<HTML::HTMLScriptElement>(element);",
          "old_text": null,
          "new_text": "<HTML::HTMLScriptElement>(element);\n",
          "old_line_content": "{",
          "new_line_content": "            return is<HTML::HTMLScriptElement>(element);",
          "content_same": false
        },
        {
          "line": 3545,
          "old_api": null,
          "new_api": "ter);\n    --m_throw_on_dynamic_markup_insertion_cou",
          "old_text": null,
          "new_text": "ter);\n    --m_throw_on_dynamic_markup_insertion_cou",
          "old_line_content": "",
          "new_line_content": "    VERIFY(m_throw_on_dynamic_markup_insertion_counter);",
          "content_same": false
        },
        {
          "line": 1504,
          "old_api": null,
          "new_api": "ML::HTMLAllCollection::create(*this, HTML::HTMLAllCollection::Scope::Descendants, [](Element const&) {\n            return true;\n        });",
          "old_text": null,
          "new_text": "ML::HTMLAllCollection::create(*this, HTML::HTMLAllCollection::Scope::Descendants, [](Element const&) {\n            return true;\n        });\n",
          "old_line_content": "{",
          "new_line_content": "        m_all = HTML::HTMLAllCollection::create(*this, HTML::HTMLAllCollection::Scope::Descendants, [](Element const&) {",
          "content_same": false
        },
        {
          "line": 3553,
          "old_api": null,
          "new_api": "// 1. If doc does not yet have an a",
          "old_text": null,
          "new_text": "        // 1. If doc does not yet have an a",
          "old_line_content": "JS::NonnullGCPtr<DOM::Document> Document::appropriate_template_contents_owner_document()",
          "new_line_content": "    if (!created_for_appropriate_template_contents()) {",
          "content_same": false
        },
        {
          "line": 3557,
          "old_api": null,
          "new_api": "or_appr",
          "old_text": null,
          "new_text": "or_appr",
          "old_line_content": "        // 1. If doc does not yet have an associated inert template document, then:",
          "new_line_content": "            auto new_document = HTML::HTMLDocument::create(realm());",
          "content_same": false
        },
        {
          "line": 3561,
          "old_api": null,
          "new_api": "new_document->s",
          "old_text": null,
          "new_text": "new_document->s",
          "old_line_content": "            new_document->m_created_for_appropriate_template_contents = true;",
          "new_line_content": "            if (document_type() == Type::HTML)",
          "content_same": false
        },
        {
          "line": 3562,
          "old_api": null,
          "new_api": "// 3. Let doc's associated inert",
          "old_text": null,
          "new_text": "           // 3. Let doc's associated inert",
          "old_line_content": "",
          "new_line_content": "                new_document->set_document_type(Type::HTML);",
          "content_same": false
        },
        {
          "line": 1515,
          "old_api": null,
          "new_api": "alm",
          "old_text": null,
          "new_text": "alm());",
          "old_line_content": "JS::NonnullGCPtr<CSS::FontFaceSet> Document::fonts()",
          "new_line_content": "        m_fonts = CSS::FontFaceSet::create(realm());",
          "content_same": false
        },
        {
          "line": 3577,
          "old_api": null,
          "new_api": "build_accessibility_tree(*&accessibility_",
          "old_text": null,
          "new_text": "   build_accessibility_tree(*&accessibility_",
          "old_line_content": "String Document::dump_accessibility_tree_as_json()",
          "new_line_content": "    auto accessibility_tree = AccessibilityTreeNode::create(this, nullptr);",
          "content_same": false
        },
        {
          "line": 3578,
          "old_api": null,
          "new_api": "auto json = MUST(JsonObjectSerializer<>::",
          "old_text": null,
          "new_text": "\n    auto json = MUST(JsonObjectSerializer<>::",
          "old_line_content": "{",
          "new_line_content": "    build_accessibility_tree(*&accessibility_tree);",
          "content_same": false
        },
        {
          "line": 3579,
          "old_api": null,
          "new_api": "// Empty document\n    if (!accessibilit",
          "old_text": null,
          "new_text": "    // Empty document\n    if (!accessibilit",
          "old_line_content": "    StringBuilder builder;",
          "new_line_content": "    auto json = MUST(JsonObjectSerializer<>::try_create(builder));",
          "content_same": false
        },
        {
          "line": 3583,
          "old_api": null,
          "new_api": "add",
          "old_text": null,
          "new_text": "json.add(\"role\"sv, \"document\"sv",
          "old_line_content": "",
          "new_line_content": "        MUST(json.add(\"type\"sv, \"element\"sv));",
          "content_same": false
        },
        {
          "line": 3584,
          "old_api": null,
          "new_api": "accessibility_tree->ser",
          "old_text": null,
          "new_text": "\n        accessibility_tree->ser",
          "old_line_content": "    // Empty document",
          "new_line_content": "        MUST(json.add(\"role\"sv, \"document\"sv));",
          "content_same": false
        },
        {
          "line": 1539,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "normal_link_color.has_value())\n",
          "old_line_content": "",
          "new_line_content": "    if (m_normal_link_color.has_value())",
          "content_same": false
        },
        {
          "line": 1540,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "normal_link_color.value();\n",
          "old_line_content": "Color Document::normal_link_color() const",
          "new_line_content": "        return m_normal_link_color.value();",
          "content_same": false
        },
        {
          "line": 1541,
          "old_api": null,
          "new_api": "S::SystemColor::link_text();",
          "old_text": null,
          "new_text": "S::SystemColor::link_text();\n",
          "old_line_content": "{",
          "new_line_content": "    return CSS::SystemColor::link_text();",
          "content_same": false
        },
        {
          "line": 3590,
          "old_api": null,
          "new_api": "atwg.org/#dom-docum",
          "old_text": null,
          "new_text": "atwg.org/#dom-docum",
          "old_line_content": "    }",
          "new_line_content": "    return MUST(builder.to_string());",
          "content_same": false
        },
        {
          "line": 1546,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "active_link_color.has_value())\n",
          "old_line_content": "",
          "new_line_content": "    if (m_active_link_color.has_value())",
          "content_same": false
        },
        {
          "line": 1547,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "active_link_color.value();\n",
          "old_line_content": "Color Document::active_link_color() const",
          "new_line_content": "        return m_active_link_color.value();",
          "content_same": false
        },
        {
          "line": 1548,
          "old_api": null,
          "new_api": "S::SystemColor::active_text();",
          "old_text": null,
          "new_text": "S::SystemColor::active_text();\n",
          "old_line_content": "{",
          "new_line_content": "    return CSS::SystemColor::active_text();",
          "content_same": false
        },
        {
          "line": 3597,
          "old_api": null,
          "new_api": "L::InvalidCharacterError:",
          "old_text": null,
          "new_text": "L::InvalidCharacterError:",
          "old_line_content": "WebIDL::ExceptionOr<JS::NonnullGCPtr<Attr>> Document::create_attribute(String const& local_name)",
          "new_line_content": "    if (!is_valid_name(local_name))",
          "content_same": false
        },
        {
          "line": 3598,
          "old_api": null,
          "new_api": "_fly_st",
          "old_text": null,
          "new_text": "_fly_st",
          "old_line_content": "{",
          "new_line_content": "        return WebIDL::InvalidCharacterError::create(realm(), \"Invalid character in attribute name.\"_fly_string);",
          "content_same": false
        },
        {
          "line": 1553,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "visited_link_color.has_value())\n",
          "old_line_content": "",
          "new_line_content": "    if (m_visited_link_color.has_value())",
          "content_same": false
        },
        {
          "line": 1554,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "visited_link_color.value();\n",
          "old_line_content": "Color Document::visited_link_color() const",
          "new_line_content": "        return m_visited_link_color.value();",
          "content_same": false
        },
        {
          "line": 1555,
          "old_api": null,
          "new_api": "S::SystemColor::visited_text();",
          "old_text": null,
          "new_text": "S::SystemColor::visited_text();\n",
          "old_line_content": "{",
          "new_line_content": "    return CSS::SystemColor::visited_text();",
          "content_same": false
        },
        {
          "line": 3602,
          "old_api": null,
          "new_api": "name);\n}\n\n// https://dom.spec.whatwg.",
          "old_text": null,
          "new_text": "name);\n}\n\n// https://dom.spec.whatwg.",
          "old_line_content": "",
          "new_line_content": "    return Attr::create(*this, is_html_document() ? MUST(Infra::to_ascii_lowercase(local_name)) : local_name);",
          "content_same": false
        },
        {
          "line": 3609,
          "old_api": null,
          "new_api": "2. Retu",
          "old_text": null,
          "new_text": "2. Retu",
          "old_line_content": "WebIDL::ExceptionOr<JS::NonnullGCPtr<Attr>> Document::create_attribute_ns(Optional<FlyString> const& namespace_, String const& qualified_name)",
          "new_line_content": "    auto extracted_qualified_name = TRY(validate_and_extract(realm(), namespace_, qualified_name));",
          "content_same": false
        },
        {
          "line": 1562,
          "old_api": null,
          "new_api": "alm",
          "old_text": null,
          "new_text": "alm());",
          "old_line_content": "HTML::EnvironmentSettingsObject& Document::relevant_settings_object() const",
          "new_line_content": "    return Bindings::host_defined_environment_settings_object(realm());",
          "content_same": false
        },
        {
          "line": 3613,
          "old_api": null,
          "new_api": "}\n\n// https://html.spec.whatwg.org/multipage/",
          "old_text": null,
          "new_text": "}\n\n// https://html.spec.whatwg.org/multipage/",
          "old_line_content": "",
          "new_line_content": "    return Attr::create(*this, extracted_qualified_name);",
          "content_same": false
        },
        {
          "line": 1568,
          "old_api": null,
          "new_api": "to_byte_string",
          "old_text": null,
          "new_text": "local_name.to_byte_string();\n",
          "old_line_content": "// https://dom.spec.whatwg.org/#dom-document-createelement",
          "new_line_content": "    auto local_name = a_local_name.to_byte_string();",
          "content_same": false
        },
        {
          "line": 1572,
          "old_api": null,
          "new_api": "alm",
          "old_text": null,
          "new_text": "alm(), ",
          "old_line_content": "",
          "new_line_content": "        return WebIDL::InvalidCharacterError::create(realm(), \"Invalid character in tag name.\"_fly_string);",
          "content_same": false
        },
        {
          "line": 3620,
          "old_api": null,
          "new_api": "window",
          "old_text": null,
          "new_text": "window(window);\n\n    // 2. Set docu",
          "old_line_content": "void Document::make_active()",
          "new_line_content": "    auto& window = verify_cast<HTML::Window>(HTML::relevant_global_object(*this));",
          "content_same": false
        },
        {
          "line": 3622,
          "old_api": null,
          "new_api": "rowsing context's",
          "old_text": null,
          "new_text": "rowsing context's ",
          "old_line_content": "    // 1. Let window be document's relevant global object.",
          "new_line_content": "    set_window(window);",
          "content_same": false
        },
        {
          "line": 1576,
          "old_api": null,
          "new_api": "to_lowercase",
          "old_text": null,
          "new_text": "cal_name.to_lowercase();\n",
          "old_line_content": "",
          "new_line_content": "        local_name = local_name.to_lowercase();",
          "content_same": false
        },
        {
          "line": 3627,
          "old_api": null,
          "new_api": "client",
          "old_text": null,
          "new_text": "age().client().page_did_change_act",
          "old_line_content": "    // 2. Set document's browsing context's WindowProxy's [[Window]] internal slot value to window.",
          "new_line_content": "    if (m_browsing_context->is_top_level()) {",
          "content_same": false
        },
        {
          "line": 1582,
          "old_api": null,
          "new_api": "tions.has<ElementCreationOptions>())",
          "old_text": null,
          "new_text": "tions.has<ElementCreationOptions>()) ",
          "old_line_content": "    Optional<String> is_value;",
          "new_line_content": "    if (options.has<ElementCreationOptions>()) {",
          "content_same": false
        },
        {
          "line": 1583,
          "old_api": null,
          "new_api": "tions.get<ElementCreationOptions>();",
          "old_text": null,
          "new_text": "tions.get<ElementCreationOptions>();\n",
          "old_line_content": "",
          "new_line_content": "        auto const& element_creation_options = options.get<ElementCreationOptions>();",
          "content_same": false
        },
        {
          "line": 1584,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "ement_creation_options.is.has_value())\n",
          "old_line_content": "    // 4. If options is a dictionary and options[\"is\"] exists, then set is to it.",
          "new_line_content": "        if (element_creation_options.is.has_value())",
          "content_same": false
        },
        {
          "line": 3632,
          "old_api": null,
          "new_api": "igable",
          "old_text": null,
          "new_text": "igable()->t",
          "old_line_content": "    }",
          "new_line_content": "    if (navigable()) {",
          "content_same": false
        },
        {
          "line": 3633,
          "old_api": null,
          "new_api": "sibility_state",
          "old_text": null,
          "new_text": "sibility_state();\n    }\n\n    // 4. Set window's relevant settin",
          "old_line_content": "",
          "new_line_content": "        m_visibility_state = navigable()->traversable_navigable()->system_visibility_state();",
          "content_same": false
        },
        {
          "line": 3637,
          "old_api": null,
          "new_api": "n_ready = true;\n\n    if (m_needs_to_ca",
          "old_text": null,
          "new_text": "n_ready = true;\n\n    if (m_needs_to_ca",
          "old_line_content": "    }",
          "new_line_content": "    HTML::relevant_settings_object(window).execution_ready = true;",
          "content_same": false
        },
        {
          "line": 1590,
          "old_api": null,
          "new_api": "ent_type",
          "old_text": null,
          "new_text": "ent_type() == ",
          "old_line_content": "",
          "new_line_content": "    if (document_type() == Type::HTML || content_type() == \"application/xhtml+xml\"sv)",
          "content_same": false
        },
        {
          "line": 1594,
          "old_api": null,
          "new_api": "(is_value), tr",
          "old_text": null,
          "new_text": "(is_value), tr",
          "old_line_content": "        namespace_ = Namespace::HTML;",
          "new_line_content": "    return TRY(DOM::create_element(*this, MUST(FlyString::from_deprecated_fly_string(local_name)), move(namespace_), {}, move(is_value), true));",
          "content_same": false
        },
        {
          "line": 1602,
          "old_api": null,
          "new_api": "m",
          "old_text": null,
          "new_text": "m(), na",
          "old_line_content": "WebIDL::ExceptionOr<JS::NonnullGCPtr<Element>> Document::create_element_ns(Optional<FlyString> const& namespace_, String const& qualified_name, Variant<String, ElementCreationOptions> const& options)",
          "new_line_content": "    auto extracted_qualified_name = TRY(validate_and_extract(realm(), namespace_, qualified_name));",
          "content_same": false
        },
        {
          "line": 1608,
          "old_api": null,
          "new_api": "ons.has<ElementCreationOptions>()) {",
          "old_text": null,
          "new_text": "ons.has<ElementCreationOptions>()) {\n",
          "old_line_content": "    Optional<String> is_value;",
          "new_line_content": "    if (options.has<ElementCreationOptions>()) {",
          "content_same": false
        },
        {
          "line": 1609,
          "old_api": null,
          "new_api": "ons.get<ElementCreationOptions>();",
          "old_text": null,
          "new_text": "ons.get<ElementCreationOptions>();\n  ",
          "old_line_content": "",
          "new_line_content": "        auto const& element_creation_options = options.get<ElementCreationOptions>();",
          "content_same": false
        },
        {
          "line": 1610,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "ent_creation_options.is.has_value())\n  ",
          "old_line_content": "    // 3. If options is a dictionary and options[\"is\"] exists, then set is to it.",
          "new_line_content": "        if (element_creation_options.is.has_value())",
          "content_same": false
        },
        {
          "line": 3657,
          "old_api": null,
          "new_api": "ewport_rect",
          "old_text": null,
          "new_text": "ewport_rect();\n  ",
          "old_line_content": "",
          "new_line_content": "    if (auto const navigable = this->navigable())",
          "content_same": false
        },
        {
          "line": 3658,
          "old_api": null,
          "new_api": "Rect {};\n}\n\nJS::NonnullGCP",
          "old_text": null,
          "new_text": "Rect {};\n}\n\nJS::NonnullGCP",
          "old_line_content": "CSSPixelRect Document::viewport_rect() const",
          "new_line_content": "        return navigable->viewport_rect();",
          "content_same": false
        },
        {
          "line": 1615,
          "old_api": null,
          "new_api": "(is_value), tr",
          "old_text": null,
          "new_text": "(is_value), tr",
          "old_line_content": "    }",
          "new_line_content": "    return TRY(DOM::create_element(*this, extracted_qualified_name.local_name(), extracted_qualified_name.namespace_(), extracted_qualified_name.prefix(), move(is_value), true));",
          "content_same": false
        },
        {
          "line": 3665,
          "old_api": null,
          "new_api": "*m_visual_viewport;\n}\n\nvoid Docume",
          "old_text": null,
          "new_text": "*m_visual_viewport;\n}\n\nvoid Docume",
          "old_line_content": "JS::NonnullGCPtr<CSS::VisualViewport> Document::visual_viewport()",
          "new_line_content": "        m_visual_viewport = CSS::VisualViewport::create(*this);",
          "content_same": false
        },
        {
          "line": 1620,
          "old_api": null,
          "new_api": "m",
          "old_text": null,
          "new_text": "m(), *t",
          "old_line_content": "",
          "new_line_content": "    return heap().allocate<DocumentFragment>(realm(), *this);",
          "content_same": false
        },
        {
          "line": 3671,
          "old_api": null,
          "new_api": "ult == AK::HashSetResult::Inser",
          "old_text": null,
          "new_text": "ult == AK::HashSetResult::Inser",
          "old_line_content": "",
          "new_line_content": "    auto result = m_viewport_clients.set(&client);",
          "content_same": false
        },
        {
          "line": 3672,
          "old_api": null,
          "new_api": "Entry);\n}\n\nvoid Document::unregister_viewport_client(",
          "old_text": null,
          "new_text": "Entry);\n}\n\nvoid Document::unregister_viewport_client(",
          "old_line_content": "void Document::register_viewport_client(ViewportClient& client)",
          "new_line_content": "    VERIFY(result == AK::HashSetResult::InsertedNewEntry);",
          "content_same": false
        },
        {
          "line": 1625,
          "old_api": null,
          "new_api": "m",
          "old_text": null,
          "new_text": "m(), *t",
          "old_line_content": "",
          "new_line_content": "    return heap().allocate<Text>(realm(), *this, data);",
          "content_same": false
        },
        {
          "line": 3677,
          "old_api": null,
          "new_api": "was_removed);\n}\n\nvoid Document::in",
          "old_text": null,
          "new_text": "was_removed);\n}\n\nvoid Document::in",
          "old_line_content": "",
          "new_line_content": "    bool was_removed = m_viewport_clients.remove(&client);",
          "content_same": false
        },
        {
          "line": 3678,
          "old_api": null,
          "new_api": "ll_viewport_clients",
          "old_text": null,
          "new_text": "ll_viewport_clients",
          "old_line_content": "void Document::unregister_viewport_client(ViewportClient& client)",
          "new_line_content": "    VERIFY(was_removed);",
          "content_same": false
        },
        {
          "line": 1632,
          "old_api": null,
          "new_api": "tml_document",
          "old_text": null,
          "new_text": "tml_document())\n  ",
          "old_line_content": "WebIDL::ExceptionOr<JS::NonnullGCPtr<CDATASection>> Document::create_cdata_section(String const& data)",
          "new_line_content": "    if (is_html_document())",
          "content_same": false
        },
        {
          "line": 1633,
          "old_api": null,
          "new_api": "m",
          "old_text": null,
          "new_text": "m(), \"T",
          "old_line_content": "{",
          "new_line_content": "        return WebIDL::NotSupportedError::create(realm(), \"This operation is not supported for HTML documents\"_fly_string);",
          "content_same": false
        },
        {
          "line": 3684,
          "old_api": null,
          "new_api": "tersection_obse",
          "old_text": null,
          "new_text": "tersection_obse",
          "old_line_content": "void Document::inform_all_viewport_clients_about_the_current_viewport_rect()",
          "new_line_content": "        client->did_set_viewport_rect(viewport_rect());",
          "content_same": false
        },
        {
          "line": 1637,
          "old_api": null,
          "new_api": "m",
          "old_text": null,
          "new_text": "m(), \"S",
          "old_line_content": "",
          "new_line_content": "        return WebIDL::InvalidCharacterError::create(realm(), \"String may not contain ']]>'\"_fly_string);",
          "content_same": false
        },
        {
          "line": 3689,
          "old_api": null,
          "new_api": "IFY",
          "old_text": null,
          "new_text": "IFY(result == AK::HashSetResult::Inser",
          "old_line_content": "",
          "new_line_content": "    auto result = m_intersection_observers.set(observer);",
          "content_same": false
        },
        {
          "line": 3690,
          "old_api": null,
          "new_api": "Entry);\n}\n\nvoid Document::unregister_intersection_obs",
          "old_text": null,
          "new_text": "Entry);\n}\n\nvoid Document::unregister_intersection_obs",
          "old_line_content": "void Document::register_intersection_observer(Badge<IntersectionObserver::IntersectionObserver>, IntersectionObserver::IntersectionObserver& observer)",
          "new_line_content": "    VERIFY(result == AK::HashSetResult::InsertedNewEntry);",
          "content_same": false
        },
        {
          "line": 1645,
          "old_api": null,
          "new_api": "m",
          "old_text": null,
          "new_text": "m(), *t",
          "old_line_content": "",
          "new_line_content": "    return heap().allocate<Comment>(realm(), *this, data);",
          "content_same": false
        },
        {
          "line": 3695,
          "old_api": null,
          "new_api": "VERIFY",
          "old_text": null,
          "new_text": "VERIFY(was_removed);\n}\n\nvoid Document::re",
          "old_line_content": "",
          "new_line_content": "    bool was_removed = m_intersection_observers.remove(observer);",
          "content_same": false
        },
        {
          "line": 3696,
          "old_api": null,
          "new_api": "_resize_observer",
          "old_text": null,
          "new_text": "_resize_observer(Ba",
          "old_line_content": "void Document::unregister_intersection_observer(Badge<IntersectionObserver::IntersectionObserver>, IntersectionObserver::IntersectionObserver& observer)",
          "new_line_content": "    VERIFY(was_removed);",
          "content_same": false
        },
        {
          "line": 3701,
          "old_api": null,
          "new_api": "cument::unregister_resize_observer(",
          "old_text": null,
          "new_text": "cument::unregister_resize_observer(",
          "old_line_content": "",
          "new_line_content": "    m_resize_observers.append(observer);",
          "content_same": false
        },
        {
          "line": 1656,
          "old_api": null,
          "new_api": "m",
          "old_text": null,
          "new_text": "m(), *t",
          "old_line_content": "    // FIXME: 2. If data contains the string \"?>\", then throw an \"InvalidCharacterError\" DOMException.",
          "new_line_content": "    return heap().allocate<ProcessingInstruction>(realm(), *this, data, target);",
          "content_same": false
        },
        {
          "line": 3706,
          "old_api": null,
          "new_api": "ptr",
          "old_text": null,
          "new_text": "to& registered_observer) {\n        return registered_observer.ptr() == &observer;\n    });\n}\n\n// https://www.w3.org/TR/intersection-obse",
          "old_line_content": "",
          "new_line_content": "    m_resize_observers.remove_first_matching([&](auto& registered_observer) {",
          "content_same": false
        },
        {
          "line": 3707,
          "old_api": null,
          "new_api": "}\n\n// https://www.w3.org",
          "old_text": null,
          "new_text": "\n}\n\n// https://www.w3.org",
          "old_line_content": "void Document::unregister_resize_observer(Badge<ResizeObserver::ResizeObserver>, ResizeObserver::ResizeObserver& observer)",
          "new_line_content": "        return registered_observer.ptr() == &observer;",
          "content_same": false
        },
        {
          "line": 1661,
          "old_api": null,
          "new_api": "e::create(*this);\n}",
          "old_text": null,
          "new_text": "e::create(*this);\n}\n",
          "old_line_content": "",
          "new_line_content": "    return Range::create(*this);",
          "content_same": false
        },
        {
          "line": 3714,
          "old_api": null,
          "new_api": ";\n\n    // 1. I",
          "old_text": null,
          "new_text": ";\n\n    // 1. I",
          "old_line_content": "// https://www.w3.org/TR/intersection-observer/#queue-an-intersection-observer-task",
          "new_line_content": "    auto window = this->window();",
          "content_same": false
        },
        {
          "line": 1667,
          "old_api": null,
          "new_api": "realm",
          "old_text": null,
          "new_text": "->realm();\n\n ",
          "old_line_content": "// https://dom.spec.whatwg.org/#dom-document-createevent",
          "new_line_content": "    auto& realm = this->realm();",
          "content_same": false
        },
        {
          "line": 1675,
          "old_api": null,
          "new_api": "a::is_ascii_case_insensitive_match(interface, \"beforeunloadevent\"sv)) {",
          "old_text": null,
          "new_text": "a::is_ascii_case_insensitive_match(interface, \"beforeunloadevent\"sv)) {\n",
          "old_line_content": "",
          "new_line_content": "    if (Infra::is_ascii_case_insensitive_match(interface, \"beforeunloadevent\"sv)) {",
          "content_same": false
        },
        {
          "line": 1676,
          "old_api": null,
          "new_api": "t::create(realm, FlyString {}); //",
          "old_text": null,
          "new_text": "t::create(realm, FlyString {}); //",
          "old_line_content": "    // 2. If interface is an ASCII case-insensitive match for any of the strings in the first column in the following table,",
          "new_line_content": "        event = Event::create(realm, FlyString {}); // FIXME: Create BeforeUnloadEvent",
          "content_same": false
        },
        {
          "line": 1677,
          "old_api": null,
          "new_api": "a::is_ascii_case_insensitive_match(interface, \"compositionevent\"sv)) {",
          "old_text": null,
          "new_text": "a::is_ascii_case_insensitive_match(interface, \"compositionevent\"sv)) {\n",
          "old_line_content": "    //      then set constructor to the interface in the second column on the same row as the matching string:",
          "new_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"compositionevent\"sv)) {",
          "content_same": false
        },
        {
          "line": 3726,
          "old_api": null,
          "new_api": "m",
          "old_text": null,
          "new_text": "m();\n\n",
          "old_line_content": "    m_intersection_observer_task_queued = true;",
          "new_line_content": "    HTML::queue_global_task(HTML::Task::Source::IntersectionObserver, *window, JS::create_heap_function(heap(), [this]() {",
          "content_same": false
        },
        {
          "line": 3727,
          "old_api": null,
          "new_api": "tersection-ob",
          "old_text": null,
          "new_text": "tersection-ob",
          "old_line_content": "",
          "new_line_content": "        auto& realm = this->realm();",
          "content_same": false
        },
        {
          "line": 3735,
          "old_api": null,
          "new_api": "xme_should_propagate_errors",
          "old_text": null,
          "new_text": "xme_should_propagate_errors();\n",
          "old_line_content": "",
          "new_line_content": "        notify_list.try_ensure_capacity(m_intersection_observers.size()).release_value_but_fixme_should_propagate_errors();",
          "content_same": false
        },
        {
          "line": 3737,
          "old_api": null,
          "new_api": "For each IntersectionObse",
          "old_text": null,
          "new_text": "For each IntersectionObse",
          "old_line_content": "        Vector<JS::Handle<IntersectionObserver::IntersectionObserver>> notify_list;",
          "new_line_content": "            notify_list.append(JS::make_handle(observer));",
          "content_same": false
        },
        {
          "line": 3744,
          "old_api": null,
          "new_api": "s internal [[QueuedEntri",
          "old_text": null,
          "new_text": "s internal [[QueuedEntri",
          "old_line_content": "        for (auto& observer : notify_list) {",
          "new_line_content": "            auto queue = observer->take_records();",
          "content_same": false
        },
        {
          "line": 3751,
          "old_api": null,
          "new_api": "t",
          "old_text": null,
          "new_text": "t(i);\n      ",
          "old_line_content": "                continue;",
          "new_line_content": "            for (size_t i = 0; i < queue.size(); ++i) {",
          "content_same": false
        },
        {
          "line": 3752,
          "old_api": null,
          "new_api": "ertyKey { i",
          "old_text": null,
          "new_text": "ertyKey { i",
          "old_line_content": "",
          "new_line_content": "                auto& record = queue.at(i);",
          "content_same": false
        },
        {
          "line": 3758,
          "old_api": null,
          "new_api": "queue as the first",
          "old_text": null,
          "new_text": " queue as the first ",
          "old_line_content": "            }",
          "new_line_content": "            auto& callback = observer->callback();",
          "content_same": false
        },
        {
          "line": 3762,
          "old_api": null,
          "new_api": "n",
          "old_text": null,
          "new_text": "n(completion, realm);\n",
          "old_line_content": "",
          "new_line_content": "            if (completion.is_abrupt())",
          "content_same": false
        },
        {
          "line": 3763,
          "old_api": null,
          "new_api": "}\n\n// https://www.w3.org/TR/intersection",
          "old_text": null,
          "new_text": "\n}\n\n// https://www.w3.org/TR/intersection",
          "old_line_content": "            // 5. Invoke callback with queue as the first argument, observer as the second argument, and observer as the callback this value. If this throws an exception, report the exception.",
          "new_line_content": "                HTML::report_exception(completion, realm);",
          "content_same": false
        },
        {
          "line": 1718,
          "old_api": null,
          "new_api": "DL::NotSupportedError::create(realm, \"No constructor for interface found\"_fly_string);",
          "old_text": null,
          "new_text": "DL::NotSupportedError::create(realm, \"No constructor for interface found\"_fly_string);\n  ",
          "old_line_content": "",
          "new_line_content": "        return WebIDL::NotSupportedError::create(realm, \"No constructor for interface found\"_fly_string);",
          "content_same": false
        },
        {
          "line": 3771,
          "old_api": null,
          "new_api": "try, passing",
          "old_text": null,
          "new_text": "try, passing ",
          "old_line_content": "// https://www.w3.org/TR/intersection-observer/#queue-an-intersectionobserverentry",
          "new_line_content": "    auto& realm = this->realm();",
          "content_same": false
        },
        {
          "line": 1730,
          "old_api": null,
          "new_api": "s_trusted",
          "old_text": null,
          "new_text": "s_trusted(false);\n\n    // 9.",
          "old_line_content": "    // NOTE: This is handled by each constructor.",
          "new_line_content": "    event->set_is_trusted(false);",
          "content_same": false
        },
        {
          "line": 3787,
          "old_api": null,
          "new_api": "iner be the containing block of ta",
          "old_text": null,
          "new_text": "iner be the containing block of ta",
          "old_line_content": "static JS::NonnullGCPtr<Geometry::DOMRectReadOnly> compute_intersection(JS::NonnullGCPtr<Element> target, IntersectionObserver::IntersectionObserver const& observer)",
          "new_line_content": "    auto intersection_rect = target->get_bounding_client_rect();",
          "content_same": false
        },
        {
          "line": 1746,
          "old_api": null,
          "new_api": "ng_parsing_blocking_script);\n    auto scr",
          "old_text": null,
          "new_text": "ng_parsing_blocking_script);\n    auto scr",
          "old_line_content": "",
          "new_line_content": "    VERIFY(m_pending_parsing_blocking_script);",
          "content_same": false
        },
        {
          "line": 1754,
          "old_api": null,
          "new_api": "append",
          "old_text": null,
          "new_text": "xecute_when_parsing_has_finished.append(script);\n}\n\nVector<JS",
          "old_line_content": "",
          "new_line_content": "    m_scripts_to_execute_when_parsing_has_finished.append(script);",
          "content_same": false
        },
        {
          "line": 3802,
          "old_api": null,
          "new_api": "on_rect_as_pixel_rect",
          "old_text": null,
          "new_text": "on_rect_as_pixel_rect(intersection_rec",
          "old_line_content": "",
          "new_line_content": "    auto root_intersection_rectangle = observer.root_intersection_rectangle();",
          "content_same": false
        },
        {
          "line": 3803,
          "old_api": null,
          "new_api": "ntersect",
          "old_text": null,
          "new_text": "ntersect(root_intersection_",
          "old_line_content": "    // 5. Update intersectionRect by intersecting it with the root intersection rectangle.",
          "new_line_content": "    CSSPixelRect intersection_rect_as_pixel_rect(intersection_rect->x(), intersection_rect->y(), intersection_rect->width(), intersection_rect->height());",
          "content_same": false
        },
        {
          "line": 3804,
          "old_api": null,
          "new_api": "set_x",
          "old_text": null,
          "new_text": "le);\n    intersection_rect->set_x(static_cast<double>(intersection_rec",
          "old_line_content": "    // FIXME: Pass in target so we can properly apply rootMargin.",
          "new_line_content": "    intersection_rect_as_pixel_rect.intersect(root_intersection_rectangle);",
          "content_same": false
        },
        {
          "line": 1761,
          "old_api": null,
          "new_api": "e",
          "old_text": null,
          "new_text": "e(script));\n    m_scrip",
          "old_line_content": "{",
          "new_line_content": "        handles.append(JS::make_handle(script));",
          "content_same": false
        },
        {
          "line": 1762,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "xecute_when_parsing_has_finished.clear();\n    return h",
          "old_line_content": "    Vector<JS::Handle<HTML::HTMLScriptElement>> handles;",
          "new_line_content": "    m_scripts_to_execute_when_parsing_has_finished.clear();",
          "content_same": false
        },
        {
          "line": 1768,
          "old_api": null,
          "new_api": "append",
          "old_text": null,
          "new_text": "xecute_as_soon_as_possible.append(script);\n}\n\nVector<JS",
          "old_line_content": "",
          "new_line_content": "    m_scripts_to_execute_as_soon_as_possible.append(script);",
          "content_same": false
        },
        {
          "line": 3819,
          "old_api": null,
          "new_api": "ectionObserve",
          "old_text": null,
          "new_text": "ectionObserve",
          "old_line_content": "// https://www.w3.org/TR/intersection-observer/#run-the-update-intersection-observations-steps",
          "new_line_content": "    auto& realm = this->realm();",
          "content_same": false
        },
        {
          "line": 1775,
          "old_api": null,
          "new_api": "e",
          "old_text": null,
          "new_text": "e(script));\n    m_scrip",
          "old_line_content": "{",
          "new_line_content": "        handles.append(JS::make_handle(script));",
          "content_same": false
        },
        {
          "line": 1776,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "xecute_as_soon_as_possible.clear();\n    return h",
          "old_line_content": "    Vector<JS::Handle<HTML::HTMLScriptElement>> handles;",
          "new_line_content": "    m_scripts_to_execute_as_soon_as_possible.clear();",
          "content_same": false
        },
        {
          "line": 3826,
          "old_api": null,
          "new_api": "et in observers internal [[Observation",
          "old_text": null,
          "new_text": "et in observers internal [[Observation",
          "old_line_content": "    // 2. For each observer in observer list:",
          "new_line_content": "        auto root_bounds = observer->root_intersection_rectangle();",
          "content_same": false
        },
        {
          "line": 1782,
          "old_api": null,
          "new_api": "append",
          "old_text": null,
          "new_text": "xecute_in_order_as_soon_as_possible.append(script);\n}\n\nVector<JS",
          "old_line_content": "",
          "new_line_content": "    m_scripts_to_execute_in_order_as_soon_as_possible.append(script);",
          "content_same": false
        },
        {
          "line": 3830,
          "old_api": null,
          "new_api": "/ thresholdIndex be 0.",
          "old_text": null,
          "new_text": "/ thresholdIndex be 0.\n        ",
          "old_line_content": "",
          "new_line_content": "        for (auto& target : observer->observation_targets()) {",
          "content_same": false
        },
        {
          "line": 1789,
          "old_api": null,
          "new_api": "e",
          "old_text": null,
          "new_text": "e(script));\n    m_scrip",
          "old_line_content": "{",
          "new_line_content": "        handles.append(JS::make_handle(script));",
          "content_same": false
        },
        {
          "line": 1790,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "xecute_in_order_as_soon_as_possible.clear();\n    return h",
          "old_line_content": "    Vector<JS::Handle<HTML::HTMLScriptElement>> handles;",
          "new_line_content": "    m_scripts_to_execute_in_order_as_soon_as_possible.clear();",
          "content_same": false
        },
        {
          "line": 3839,
          "old_api": null,
          "new_api": "lue_but_fixme_should_propagate_errors",
          "old_text": null,
          "new_text": "lue_but_fixme_should_propagate_errors();\n\n            // intersectionRect be a DOMRectReadOnly with x, y, widt",
          "old_line_content": "            bool is_intersecting = false;",
          "new_line_content": "            auto target_rect = Geometry::DOMRectReadOnly::construct_impl(realm, 0, 0, 0, 0).release_value_but_fixme_should_propagate_errors();",
          "content_same": false
        },
        {
          "line": 1798,
          "old_api": null,
          "new_api": "(*node))\n        retu",
          "old_text": null,
          "new_text": "(*node))\n        retu",
          "old_line_content": "WebIDL::ExceptionOr<JS::NonnullGCPtr<Node>> Document::import_node(JS::NonnullGCPtr<Node> node, bool deep)",
          "new_line_content": "    if (is<Document>(*node) || is<ShadowRoot>(*node))",
          "content_same": false
        },
        {
          "line": 1799,
          "old_api": null,
          "new_api": "ot impo",
          "old_text": null,
          "new_text": "ot impo",
          "old_line_content": "{",
          "new_line_content": "        return WebIDL::NotSupportedError::create(realm(), \"Cannot import a document or shadow root.\"_fly_string);",
          "content_same": false
        },
        {
          "line": 3851,
          "old_api": null,
          "new_api": "ent = intersection_root.visit",
          "old_text": null,
          "new_text": "ent = intersection_root.visit",
          "old_line_content": "            // 2. If the intersection root is not the implicit root, and target is not in the same document as the intersection root, skip to step 11.",
          "new_line_content": "            auto intersection_root = observer->intersection_root();",
          "content_same": false
        },
        {
          "line": 3852,
          "old_api": null,
          "new_api": "document",
          "old_text": null,
          "new_text": "                return node->document();\n            });\n            if (!(observer->root().has<Empty>() && &target->document(",
          "old_line_content": "            // 3. If the intersection root is an Element, and target is not a descendant of the intersection root in the containing block chain, skip to step 11.",
          "new_line_content": "            auto intersection_root_document = intersection_root.visit([](auto& node) -> JS::NonnullGCPtr<Document> {",
          "content_same": false
        },
        {
          "line": 3853,
          "old_api": null,
          "new_api": "s<Empty>() && &t",
          "old_text": null,
          "new_text": "s<Empty>() && &t",
          "old_line_content": "            // FIXME: Actually use the containing block chain.",
          "new_line_content": "                return node->document();",
          "content_same": false
        },
        {
          "line": 1809,
          "old_api": null,
          "new_api": "// 2. If",
          "old_text": null,
          "new_text": "\n\n    // 2. If ",
          "old_line_content": "void Document::adopt_node(Node& node)",
          "new_line_content": "    auto& old_document = node.document();",
          "content_same": false
        },
        {
          "line": 1813,
          "old_api": null,
          "new_api": "// 3. If do",
          "old_text": null,
          "new_text": "  // 3. If do",
          "old_line_content": "",
          "new_line_content": "        node.remove();",
          "content_same": false
        },
        {
          "line": 3862,
          "old_api": null,
          "new_api": "Area be targetRects area.",
          "old_text": null,
          "new_text": "Area be targetRects area.\n           ",
          "old_line_content": "",
          "new_line_content": "                intersection_rect = compute_intersection(target, observer);",
          "content_same": false
        },
        {
          "line": 1818,
          "old_api": null,
          "new_api": "set_document",
          "old_text": null,
          "new_text": "_including_inclusive_descendant([&](DOM::Node& inclusive_descendant) {\n            // 1. Set inclusiveDescendants node document to document.\n            inclusive_descendant.set_document({}, *this);\n\n            // FIXME: 2. If inclusiveDescendant is an element, then set the node document of each attribute in inclusiveDescendants\n            //           attribute list to document.\n            return TraversalDecision::Continue;\n        });\n\n        // 2. For eac",
          "old_line_content": "    // 3. If document is not oldDocument, then:",
          "new_line_content": "        node.for_each_shadow_including_inclusive_descendant([&](DOM::Node& inclusive_descendant) {",
          "content_same": false
        },
        {
          "line": 1820,
          "old_api": null,
          "new_api": "et_document",
          "old_text": null,
          "new_text": "et_document({}, *this);\n\n            // FIXM",
          "old_line_content": "        // 1. For each inclusiveDescendant in nodes shadow-including inclusive descendants:",
          "new_line_content": "            inclusive_descendant.set_document({}, *this);",
          "content_same": false
        },
        {
          "line": 3872,
          "old_api": null,
          "new_api": "intersects",
          "old_text": null,
          "new_text": "l_rect.intersects(roo",
          "old_line_content": "",
          "new_line_content": "                CSSPixelRect target_rect_as_pixel_rect(target_rect->x(), target_rect->y(), target_rect->width(), target_rect->height());",
          "content_same": false
        },
        {
          "line": 3873,
          "old_api": null,
          "new_api": "targetArea is non-zero, let intersectionRatio be",
          "old_text": null,
          "new_text": "targetArea is non-zero, let intersectionRatio be ",
          "old_line_content": "                // 8. Let isIntersecting be true if targetRect and rootBounds intersect or are edge-adjacent, even if the",
          "new_line_content": "                is_intersecting = target_rect_as_pixel_rect.intersects(root_bounds);",
          "content_same": false
        },
        {
          "line": 1830,
          "old_api": null,
          "new_api": "is_custom",
          "old_text": null,
          "new_text": "ding_inclusive_descendant([&](DOM::Node& inclusive_descendant) {\n            if (!is<DOM::Element>(inclusive_descendant))\n                return TraversalDecision::Continue;\n\n            auto& element = static_cast<DOM::Element&>(inclusive_descendant);\n            if (element.is_custom()) {\n                auto& vm = this->vm();\n\n                JS::MarkedVector<JS::Value> arguments { vm.heap() };\n                arguments.append(&old_document);\n                arguments.append(this);\n\n                element.enqueue_a_custom_element_callback_reaction(HTML::CustomElementReactionNames::adoptedCallback, move(arguments));\n            }\n\n            return TraversalDecision::Continue;\n        });\n\n        // 3. For each ",
          "old_line_content": "        // 2. For each inclusiveDescendant in nodes shadow-including inclusive descendants that is custom,",
          "new_line_content": "        node.for_each_shadow_including_inclusive_descendant([&](DOM::Node& inclusive_descendant) {",
          "content_same": false
        },
        {
          "line": 1831,
          "old_api": null,
          "new_api": "_descendant))\n                return T",
          "old_text": null,
          "new_text": "_descendant))\n                return T",
          "old_line_content": "        //    enqueue a custom element callback reaction with inclusiveDescendant, callback name \"adoptedCallback\",",
          "new_line_content": "            if (!is<DOM::Element>(inclusive_descendant))",
          "content_same": false
        },
        {
          "line": 1835,
          "old_api": null,
          "new_api": "auto&",
          "old_text": null,
          "new_text": "             auto& ",
          "old_line_content": "                return TraversalDecision::Continue;",
          "new_line_content": "            if (element.is_custom()) {",
          "content_same": false
        },
        {
          "line": 1836,
          "old_api": null,
          "new_api": "JS::Mar",
          "old_text": null,
          "new_text": "   JS::Mar",
          "old_line_content": "",
          "new_line_content": "                auto& vm = this->vm();",
          "content_same": false
        },
        {
          "line": 3885,
          "old_api": null,
          "new_api": "value_or",
          "old_text": null,
          "new_text": "hold_value) {\n                                                            return threshold_value > intersection_ratio;\n                                                        })\n                                      .value_or(observer->thresholds().size());\n            }\n\n            // 11. Let intersectionObserverRegistration be t",
          "old_line_content": "                // 10. Set thresholdIndex to the index of the first entry in observer.thresholds whose value is greater",
          "new_line_content": "                threshold_index = observer->thresholds().find_first_index_if([&intersection_ratio](double threshold_value) {",
          "content_same": false
        },
        {
          "line": 1840,
          "old_api": null,
          "new_api": "element",
          "old_text": null,
          "new_text": "               element",
          "old_line_content": "",
          "new_line_content": "                arguments.append(this);",
          "content_same": false
        },
        {
          "line": 3893,
          "old_api": null,
          "new_api": "2. Let previousThresholdIndex be the intersectionObserverReg",
          "old_text": null,
          "new_text": "2. Let previousThresholdIndex be the intersectionObserverReg",
          "old_line_content": "",
          "new_line_content": "            auto& intersection_observer_registration = target->get_intersection_observer_registration({}, observer);",
          "content_same": false
        },
        {
          "line": 1850,
          "old_api": null,
          "new_api": "adopted_from",
          "old_text": null,
          "new_text": "ng_inclusive_descendant([&](auto& inclusive_descendant) {\n            inclusive_descendant.adopted_from(old_document);\n            return TraversalDecision::Continue;\n        });\n\n        // Transfer NodeI",
          "old_line_content": "",
          "new_line_content": "        node.for_each_shadow_including_inclusive_descendant([&](auto& inclusive_descendant) {",
          "content_same": false
        },
        {
          "line": 1851,
          "old_api": null,
          "new_api": "_from",
          "old_text": null,
          "new_text": "_from(old_document);\n            return Travers",
          "old_line_content": "        // 3. For each inclusiveDescendant in nodes shadow-including inclusive descendants, in shadow-including tree order,",
          "new_line_content": "            inclusive_descendant.adopted_from(old_document);",
          "content_same": false
        },
        {
          "line": 3905,
          "old_api": null,
          "new_api": "// SPEC ISSU",
          "old_text": null,
          "new_text": "        // SPEC ISSU",
          "old_line_content": "            //     previousIsIntersecting, queue an IntersectionObserverEntry, passing in observer, time,",
          "new_line_content": "                auto root_bounds_as_dom_rect = Geometry::DOMRectReadOnly::construct_impl(realm, static_cast<double>(root_bounds.x()), static_cast<double>(root_bounds.y()), static_cast<double>(root_bounds.width()), static_cast<double>(root_bounds.height())).release_value_but_fixme_should_propagate_errors();",
          "content_same": false
        },
        {
          "line": 1858,
          "old_api": null,
          "new_api": "== &node)\n                n",
          "old_text": null,
          "new_text": "== &node)\n                n",
          "old_line_content": "        // Transfer NodeIterators rooted at `node` from old_document to this document.",
          "new_line_content": "            if (node_iterator->root().ptr() == &node)",
          "content_same": false
        },
        {
          "line": 1859,
          "old_api": null,
          "new_api": "ppend",
          "old_text": null,
          "new_text": "ppend(*node_iterator);\n        }\n\n        for (au",
          "old_line_content": "        Vector<NodeIterator&> node_iterators_to_transfer;",
          "new_line_content": "                node_iterators_to_transfer.append(*node_iterator);",
          "content_same": false
        },
        {
          "line": 1863,
          "old_api": null,
          "new_api": "remove",
          "old_text": null,
          "new_text": "s.remove(&node_iterator);\n            m_node_iterato",
          "old_line_content": "        }",
          "new_line_content": "            old_document.m_node_iterators.remove(&node_iterator);",
          "content_same": false
        },
        {
          "line": 1864,
          "old_api": null,
          "new_api": "terator);\n        }\n    }\n}\n\n// http",
          "old_text": null,
          "new_text": "terator);\n        }\n    }\n}\n\n// http",
          "old_line_content": "",
          "new_line_content": "            m_node_iterators.set(&node_iterator);",
          "content_same": false
        },
        {
          "line": 1872,
          "old_api": null,
          "new_api": "return WebIDL::Not",
          "old_text": null,
          "new_text": " return WebIDL::Not",
          "old_line_content": "// https://dom.spec.whatwg.org/#dom-document-adoptnode",
          "new_line_content": "    if (is<Document>(*node))",
          "content_same": false
        },
        {
          "line": 1873,
          "old_api": null,
          "new_api": "ument i",
          "old_text": null,
          "new_text": "ument i",
          "old_line_content": "WebIDL::ExceptionOr<JS::NonnullGCPtr<Node>> Document::adopt_node_binding(JS::NonnullGCPtr<Node> node)",
          "new_line_content": "        return WebIDL::NotSupportedError::create(realm(), \"Cannot adopt a document into a document\"_fly_string);",
          "content_same": false
        },
        {
          "line": 3923,
          "old_api": null,
          "new_api": "ment's node document.",
          "old_text": null,
          "new_text": "ment's node document.\n   ",
          "old_line_content": "// https://html.spec.whatwg.org/multipage/urls-and-fetching.html#start-intersection-observing-a-lazy-loading-element",
          "new_line_content": "    VERIFY(element.is_lazy_loading());",
          "content_same": false
        },
        {
          "line": 3925,
          "old_api": null,
          "new_api": "ent",
          "old_text": null,
          "new_text": "ent() == this",
          "old_line_content": "{",
          "new_line_content": "    auto& realm = this->realm();",
          "content_same": false
        },
        {
          "line": 3933,
          "old_api": null,
          "new_api": "argument",
          "old_text": null,
          "new_text": "alue> {\n            // For each entry in entries using a method of iteration which does not trigger developer-modifiable array accessors or iteration hooks:\n            auto& entries = verify_cast<JS::Array>(vm.argument(0).as_object());\n            auto entries_length = MUST(MUST(entries.get(vm.names.length)).to_length(vm));\n\n            for (size_t i = 0; i < entries_length; ++i) {\n                auto property_key = JS::PropertyKey { i };\n                auto& entry = verify_cast<IntersectionObserver::IntersectionObserverEntry>(entries.get_without_side_effects(property_key).as_object());\n\n                // 1. Let resumptionSteps be null.\n                JS::GCPtr<JS::HeapFunction<void()>> resumption_steps;\n\n                // 2. If entry.isIntersecting is true, then set resumptionSteps to entry.target's lazy load resumption steps.\n                if (entry.is_intersecting()) {\n                    // 5. Set entry.target's lazy load resumption steps to null.\n                    VERIFY(entry.target()->is_lazy_loading());\n                    resumption_steps = entry.target()->take_lazy_load_resumption_steps({});\n                }\n\n                // 3. If resumptionSteps is null, then return.\n                if (!resumption_steps) {\n                    // NOTE: This is wrong in the spec, since we want to keep processing\n                    //       entries even if one of them doesn't have resumption steps.\n                    // FIXME: Spec bug: https://github.com/whatwg/html/issues/10019\n                    continue;\n                }\n\n                // 4. Stop intersection-observing a lazy loading element for entry.target.\n                // https://html.spec.whatwg.org/multipage/urls-and-fetching.html#stop-intersection-observing-a-lazy-loading-element\n                // 1. Let doc be element's node document.\n                // NOTE: It's `this`.\n\n                // 2. Assert: doc's lazy load intersection observer is not null.\n                VERIFY(m_lazy_load_intersection_observer);\n\n                // 3. Call doc's lazy load intersection observer unobserve method with element as the argument.\n                m_lazy_load_intersection_observer->unobserve(entry.target());\n\n                // 6. Invoke resumptionSteps.\n                resumption_steps->function()();\n            }\n\n            return JS::js_undefined();\n        });\n\n        // FIXME: The options is an IntersectionObserverInit dictionary with the fol",
          "old_line_content": "    // 2. If doc's lazy load intersection observer is null, set it to a new IntersectionObserver instance, initialized as follows:",
          "new_line_content": "        auto callback = JS::NativeFunction::create(realm, \"\", [this](JS::VM& vm) -> JS::ThrowCompletionOr<JS::Value> {",
          "content_same": false
        },
        {
          "line": 3935,
          "old_api": null,
          "new_api": "to_length",
          "old_text": null,
          "new_text": ".names.length)).to_length(",
          "old_line_content": "        // - The callback is these steps, with arguments entries and observer:",
          "new_line_content": "            auto& entries = verify_cast<JS::Array>(vm.argument(0).as_object());",
          "content_same": false
        },
        {
          "line": 1888,
          "old_api": null,
          "new_api": "Type>();\n}\n\nString const& Document:",
          "old_text": null,
          "new_text": "Type>();\n}\n\nString const& Document:",
          "old_line_content": "",
          "new_line_content": "    return first_child_of_type<DocumentType>();",
          "content_same": false
        },
        {
          "line": 3940,
          "old_api": null,
          "new_api": "resumptionSteps be null.\n                JS::GCPtr<JS::He",
          "old_text": null,
          "new_text": " resumptionSteps be null.\n                JS::GCPtr<JS::He",
          "old_line_content": "",
          "new_line_content": "                auto& entry = verify_cast<IntersectionObserver::IntersectionObserverEntry>(entries.get_without_side_effects(property_key).as_object());",
          "content_same": false
        },
        {
          "line": 3946,
          "old_api": null,
          "new_api": "ption steps to null.",
          "old_text": null,
          "new_text": "ption steps to null.\n  ",
          "old_line_content": "                JS::GCPtr<JS::HeapFunction<void()>> resumption_steps;",
          "new_line_content": "                if (entry.is_intersecting()) {",
          "content_same": false
        },
        {
          "line": 3948,
          "old_api": null,
          "new_api": "()->take_lazy_load_resumption_ste",
          "old_text": null,
          "new_text": "()->take_lazy_load_resumption_ste",
          "old_line_content": "                // 2. If entry.isIntersecting is true, then set resumptionSteps to entry.target's lazy load resumption steps.",
          "new_line_content": "                    VERIFY(entry.target()->is_lazy_loading());",
          "content_same": false
        },
        {
          "line": 1911,
          "old_api": null,
          "new_api": ". Set candidate t",
          "old_text": null,
          "new_text": ". Set candidate t",
          "old_line_content": "void Document::update_active_element()",
          "new_line_content": "    Node* candidate = focused_element();",
          "content_same": false
        },
        {
          "line": 1918,
          "old_api": null,
          "new_api": "return;\n    }",
          "old_text": null,
          "new_text": "\n        return;\n    }\n\n   ",
          "old_line_content": "",
          "new_line_content": "        set_active_element(nullptr);",
          "content_same": false
        },
        {
          "line": 3966,
          "old_api": null,
          "new_api": "intersection observer unobserve method wi",
          "old_text": null,
          "new_text": "intersection observer unobserve method wi",
          "old_line_content": "                // NOTE: It's `this`.",
          "new_line_content": "                VERIFY(m_lazy_load_intersection_observer);",
          "content_same": false
        },
        {
          "line": 1923,
          "old_api": null,
          "new_api": "set_active_eleme",
          "old_text": null,
          "new_text": "       set_active_eleme",
          "old_line_content": "    }",
          "new_line_content": "    if (!is<Document>(candidate)) {",
          "content_same": false
        },
        {
          "line": 1924,
          "old_api": null,
          "new_api": "te));\n        return;\n    }",
          "old_text": null,
          "new_text": "te));\n        return;\n    }\n\n  ",
          "old_line_content": "",
          "new_line_content": "        set_active_element(verify_cast<Element>(candidate));",
          "content_same": false
        },
        {
          "line": 1928,
          "old_api": null,
          "new_api": "date);\n\n    // 5. If candidate ha",
          "old_text": null,
          "new_text": "date);\n\n    // 5. If candidate ha",
          "old_line_content": "        return;",
          "new_line_content": "    auto* candidate_document = static_cast<Document*>(candidate);",
          "content_same": false
        },
        {
          "line": 1932,
          "old_api": null,
          "new_api": "return;\n    }",
          "old_text": null,
          "new_text": "\n        return;\n    }\n\n  ",
          "old_line_content": "",
          "new_line_content": "        set_active_element(candidate_document->body());",
          "content_same": false
        },
        {
          "line": 3982,
          "old_api": null,
          "new_api": "server = IntersectionObserver::IntersectionObserver::cons",
          "old_text": null,
          "new_text": "server = IntersectionObserver::IntersectionObserver::cons",
          "old_line_content": "        // Spec Note: This allows for fetching the image during scrolling, when it does not yet  but is about to  intersect the viewport.",
          "new_line_content": "        auto wrapped_callback = realm.heap().allocate_without_realm<WebIDL::CallbackType>(callback, Bindings::host_defined_environment_settings_object(realm));",
          "content_same": false
        },
        {
          "line": 3983,
          "old_api": null,
          "new_api": "lease_value_but_fixme_should_propagate_errors",
          "old_text": null,
          "new_text": "lease_value_but_fixme_should_propagate_errors();\n    }\n\n    // 3. Call doc's lazy load intersection observer's observe method with element as ",
          "old_line_content": "        auto options = IntersectionObserver::IntersectionObserverInit {};",
          "new_line_content": "        m_lazy_load_intersection_observer = IntersectionObserver::IntersectionObserver::construct_impl(realm, wrapped_callback, options).release_value_but_fixme_should_propagate_errors();",
          "content_same": false
        },
        {
          "line": 1937,
          "old_api": null,
          "new_api": "_element",
          "old_text": null,
          "new_text": "_element()) {\n        set_active_eleme",
          "old_line_content": "    }",
          "new_line_content": "    if (candidate_document->document_element()) {",
          "content_same": false
        },
        {
          "line": 1938,
          "old_api": null,
          "new_api": "_element",
          "old_text": null,
          "new_text": "_element());\n        return;\n    }\n\n  ",
          "old_line_content": "",
          "new_line_content": "        set_active_element(candidate_document->document_element());",
          "content_same": false
        },
        {
          "line": 3987,
          "old_api": null,
          "new_api": "nt);\n}\n\n// https://html.spec.whatwg.org/m",
          "old_text": null,
          "new_text": "nt);\n}\n\n// https://html.spec.whatwg.org/m",
          "old_line_content": "    }",
          "new_line_content": "    VERIFY(m_lazy_load_intersection_observer);",
          "content_same": false
        },
        {
          "line": 3988,
          "old_api": null,
          "new_api": "ge/semantics.html#shared-declarative-refresh-steps",
          "old_text": null,
          "new_text": "ge/semantics.html#shared-declarative-refresh-steps\n",
          "old_line_content": "",
          "new_line_content": "    m_lazy_load_intersection_observer->observe(element);",
          "content_same": false
        },
        {
          "line": 1943,
          "old_api": null,
          "new_api": "return;\n}\n\nvoid Docume",
          "old_text": null,
          "new_text": "\n    return;\n}\n\nvoid Docume",
          "old_line_content": "    }",
          "new_line_content": "    set_active_element(nullptr);",
          "content_same": false
        },
        {
          "line": 1949,
          "old_api": null,
          "new_api": "lement)\n        return;",
          "old_text": null,
          "new_text": "lement)\n        return;",
          "old_line_content": "",
          "new_line_content": "    if (m_focused_element.ptr() == element)",
          "content_same": false
        },
        {
          "line": 1953,
          "old_api": null,
          "new_api": "focus",
          "old_text": null,
          "new_text": "focus();\n        m_focused_element-",
          "old_line_content": "        return;",
          "new_line_content": "        m_focused_element->did_lose_focus();",
          "content_same": false
        },
        {
          "line": 1954,
          "old_api": null,
          "new_api": "_style_update",
          "old_text": null,
          "new_text": "_style_update(true);\n    }\n\n    m_focused_eleme",
          "old_line_content": "",
          "new_line_content": "        m_focused_element->set_needs_style_update(true);",
          "content_same": false
        },
        {
          "line": 4002,
          "old_api": null,
          "new_api": "// 5. Collect a sequence of code points that",
          "old_text": null,
          "new_text": "  // 5. Collect a sequence of code points that",
          "old_line_content": "    GenericLexer lexer(input);",
          "new_line_content": "    lexer.ignore_while(Infra::is_ascii_whitespace);",
          "content_same": false
        },
        {
          "line": 1960,
          "old_api": null,
          "new_api": "ve_focus",
          "old_text": null,
          "new_text": "ve_focus();\n        m_focused_element-",
          "old_line_content": "    m_focused_element = element;",
          "new_line_content": "        m_focused_element->did_receive_focus();",
          "content_same": false
        },
        {
          "line": 1961,
          "old_api": null,
          "new_api": "_style_update",
          "old_text": null,
          "new_text": "_style_update(true);\n    }\n\n    if (paintable()",
          "old_line_content": "",
          "new_line_content": "        m_focused_element->set_needs_style_update(true);",
          "content_same": false
        },
        {
          "line": 4008,
          "old_api": null,
          "new_api": "is_empty",
          "old_text": null,
          "new_text": " (time_string.is_empty()) {\n       ",
          "old_line_content": "    u32 time = 0;",
          "new_line_content": "    auto time_string = lexer.consume_while(is_ascii_digit);",
          "content_same": false
        },
        {
          "line": 1965,
          "old_api": null,
          "new_api": "ay",
          "old_text": null,
          "new_text": "ay();\n\n    // Scroll the viewpor",
          "old_line_content": "    }",
          "new_line_content": "        paintable()->set_needs_display();",
          "content_same": false
        },
        {
          "line": 4013,
          "old_api": null,
          "new_api": "parsing time",
          "old_text": null,
          "new_text": "parsing time",
          "old_line_content": "    // 6. If timeString is the empty string, then:",
          "new_line_content": "        if (lexer.peek() != '.')",
          "content_same": false
        },
        {
          "line": 1969,
          "old_api": null,
          "new_api": "scroll_into_view",
          "old_text": null,
          "new_text": "element_task(HTML::Task::Source::UserInteraction, [&]() {\n            ScrollIntoViewOptions scroll_options;\n            scroll_options.block = Bindings::ScrollLogicalPosition::Nearest;\n            scroll_options.inline_ = Bindings::ScrollLogicalPosition::Nearest;\n            (void)m_focused_element->scroll_into_view(scroll_options);\n        });\n    }\n\n    update_active_e",
          "old_line_content": "",
          "new_line_content": "        m_focused_element->queue_an_element_task(HTML::Task::Source::UserInteraction, [&]() {",
          "content_same": false
        },
        {
          "line": 4018,
          "old_api": null,
          "new_api": "I digits, this can only fail because of overflow.",
          "old_text": null,
          "new_text": "I digits, this can only fail because of overflow. ",
          "old_line_content": "    }",
          "new_line_content": "    auto maybe_time = Web::HTML::parse_non_negative_integer(time_string);",
          "content_same": false
        },
        {
          "line": 1973,
          "old_api": null,
          "new_api": "to_view",
          "old_text": null,
          "new_text": "to_view(scroll_options);\n        });\n    }\n\n    upd",
          "old_line_content": "            ScrollIntoViewOptions scroll_options;",
          "new_line_content": "            (void)m_focused_element->scroll_into_view(scroll_options);",
          "content_same": false
        },
        {
          "line": 4022,
          "old_api": null,
          "new_api": "d U+002E FULL STOP",
          "old_text": null,
          "new_text": "d U+002E FULL STOP",
          "old_line_content": "",
          "new_line_content": "        time = maybe_time.value();",
          "content_same": false
        },
        {
          "line": 1977,
          "old_api": null,
          "new_api": "void Document::set_acti",
          "old_text": null,
          "new_text": "void Document::set_acti",
          "old_line_content": "        });",
          "new_line_content": "    update_active_element();",
          "content_same": false
        },
        {
          "line": 4027,
          "old_api": null,
          "new_api": ". Let urlRecord be document's URL.\n    auto url_record = url();\n\n    // 10. If posit",
          "old_text": null,
          "new_text": ". Let urlRecord be document's URL.\n    auto url_record = url();\n\n    // 10. If posit",
          "old_line_content": "",
          "new_line_content": "    lexer.ignore_while([](auto c) {",
          "content_same": false
        },
        {
          "line": 4028,
          "old_api": null,
          "new_api": "_record = url();",
          "old_text": null,
          "new_text": "_record = url();\n",
          "old_line_content": "    // 8. Collect a sequence of code points that are ASCII digits and U+002E FULL STOP characters (.) from input given",
          "new_line_content": "        return is_ascii_digit(c) || c == '.';",
          "content_same": false
        },
        {
          "line": 1982,
          "old_api": null,
          "new_api": "ement)\n        return;",
          "old_text": null,
          "new_text": "ement)\n        return;",
          "old_line_content": "",
          "new_line_content": "    if (m_active_element.ptr() == element)",
          "content_same": false
        },
        {
          "line": 4032,
          "old_api": null,
          "new_api": "",
          "old_text": null,
          "new_text": "     ",
          "old_line_content": "    });",
          "new_line_content": "    auto url_record = url();",
          "content_same": false
        },
        {
          "line": 1987,
          "old_api": null,
          "new_api": "le",
          "old_text": null,
          "new_text": "le()->set_n",
          "old_line_content": "",
          "new_line_content": "    if (paintable())",
          "content_same": false
        },
        {
          "line": 1988,
          "old_api": null,
          "new_api": "ay",
          "old_text": null,
          "new_text": "ay();\n}\n\nvoid Document::set_targ",
          "old_line_content": "    m_active_element = element;",
          "new_line_content": "        paintable()->set_needs_display();",
          "content_same": false
        },
        {
          "line": 4037,
          "old_api": null,
          "new_api": "tion.",
          "old_text": null,
          "new_text": "tion.\n      ",
          "old_line_content": "    // 10. If position is not past the end of input, then:",
          "new_line_content": "        if (lexer.peek() != ';' && lexer.peek() != ',' && !Infra::is_ascii_whitespace(lexer.peek()))",
          "content_same": false
        },
        {
          "line": 1993,
          "old_api": null,
          "new_api": "ement)\n        return;",
          "old_text": null,
          "new_text": "ement)\n        return;",
          "old_line_content": "",
          "new_line_content": "    if (m_target_element.ptr() == element)",
          "content_same": false
        },
        {
          "line": 4041,
          "old_api": null,
          "new_api": "ed to by position is U+003B (;) or U+002C (,),",
          "old_text": null,
          "new_text": "ed to by position is U+003B (;) or U+002C (,),",
          "old_line_content": "            return;",
          "new_line_content": "        lexer.ignore_while(Infra::is_ascii_whitespace);",
          "content_same": false
        },
        {
          "line": 1997,
          "old_api": null,
          "new_api": "style_update",
          "old_text": null,
          "new_text": "style_update(true);\n\n    m_target_element = el",
          "old_line_content": "        return;",
          "new_line_content": "        m_target_element->set_needs_style_update(true);",
          "content_same": false
        },
        {
          "line": 4045,
          "old_api": null,
          "new_api": "ignore_while",
          "old_text": null,
          "new_text": "r.ignore_while(",
          "old_line_content": "",
          "new_line_content": "            lexer.ignore(1);",
          "content_same": false
        },
        {
          "line": 2002,
          "old_api": null,
          "new_api": "style_update",
          "old_text": null,
          "new_text": "style_update(true);\n\n    if (paintable())\n    ",
          "old_line_content": "    m_target_element = element;",
          "new_line_content": "        m_target_element->set_needs_style_update(true);",
          "content_same": false
        },
        {
          "line": 2004,
          "old_api": null,
          "new_api": "le",
          "old_text": null,
          "new_text": "le()->set_n",
          "old_line_content": "    if (m_target_element)",
          "new_line_content": "    if (paintable())",
          "content_same": false
        },
        {
          "line": 4052,
          "old_api": null,
          "new_api": "position to th",
          "old_text": null,
          "new_text": "position to th",
          "old_line_content": "    }",
          "new_line_content": "    if (!lexer.is_eof()) {",
          "content_same": false
        },
        {
          "line": 4054,
          "old_api": null,
          "new_api": "U) or U+0075 (u),",
          "old_text": null,
          "new_text": "U) or U+0075 (u),",
          "old_line_content": "    // 11. If position is not past the end of input, then:",
          "new_line_content": "        auto url_string = lexer.remaining();",
          "content_same": false
        },
        {
          "line": 4058,
          "old_api": null,
          "new_api": "input pointed",
          "old_text": null,
          "new_text": " input pointed ",
          "old_line_content": "",
          "new_line_content": "            lexer.ignore(1);",
          "content_same": false
        },
        {
          "line": 2014,
          "old_api": null,
          "new_api": "If fragment is",
          "old_text": null,
          "new_text": " If fragment is ",
          "old_line_content": "    // For an HTML document document, the following processing model must be followed to determine its indicated part:",
          "new_line_content": "    auto fragment = url().fragment();",
          "content_same": false
        },
        {
          "line": 4063,
          "old_api": null,
          "new_api": "// 4. If th",
          "old_text": null,
          "new_text": " // 4. If th",
          "old_line_content": "            goto skip_quotes;",
          "new_line_content": "        if (lexer.peek() == 'R' || lexer.peek() == 'r')",
          "content_same": false
        },
        {
          "line": 4064,
          "old_api": null,
          "new_api": "pointed to by",
          "old_text": null,
          "new_text": " pointed to by ",
          "old_line_content": "",
          "new_line_content": "            lexer.ignore(1);",
          "content_same": false
        },
        {
          "line": 2021,
          "old_api": null,
          "new_api": "lement",
          "old_text": null,
          "new_text": "lement(*fragment);\n\n    // 4. If potentialInd",
          "old_line_content": "        return Document::TopOfTheDocument {};",
          "new_line_content": "    auto* potential_indicated_element = find_a_potential_indicated_element(*fragment);",
          "content_same": false
        },
        {
          "line": 4069,
          "old_api": null,
          "new_api": "// 5. Skip",
          "old_text": null,
          "new_text": " // 5. Skip ",
          "old_line_content": "            goto parse;",
          "new_line_content": "        if (lexer.peek() == 'L' || lexer.peek() == 'l')",
          "content_same": false
        },
        {
          "line": 4070,
          "old_api": null,
          "new_api": "in input given",
          "old_text": null,
          "new_text": "in input given ",
          "old_line_content": "",
          "new_line_content": "            lexer.ignore(1);",
          "content_same": false
        },
        {
          "line": 4075,
          "old_api": null,
          "new_api": "ed to by position is U+003D (=), then advance",
          "old_text": null,
          "new_text": "ed to by position is U+003D (=), then advance ",
          "old_line_content": "            goto parse;",
          "new_line_content": "        lexer.ignore_while(Infra::is_ascii_whitespace);",
          "content_same": false
        },
        {
          "line": 2029,
          "old_api": null,
          "new_api": "t);\n\n    // 7. Set potentialIn",
          "old_text": null,
          "new_text": "t);\n\n    // 7. Set potentialIn",
          "old_line_content": "",
          "new_line_content": "    auto decoded_fragment = URL::percent_decode(*fragment);",
          "content_same": false
        },
        {
          "line": 4079,
          "old_api": null,
          "new_api": "in input given",
          "old_text": null,
          "new_text": "in input given ",
          "old_line_content": "",
          "new_line_content": "            lexer.ignore(1);",
          "content_same": false
        },
        {
          "line": 4084,
          "old_api": null,
          "new_api": "If the code point in input pointed to by posit",
          "old_text": null,
          "new_text": "If the code point in input pointed to by posit",
          "old_line_content": "            goto parse;",
          "new_line_content": "        lexer.ignore_while(Infra::is_ascii_whitespace);",
          "content_same": false
        },
        {
          "line": 2039,
          "old_api": null,
          "new_api": "tive_match",
          "old_text": null,
          "new_text": "tive_match(decoded_fragment, \"top\"sv))\n        return Document::T",
          "old_line_content": "        return potential_indicated_element;",
          "new_line_content": "    if (Infra::is_ascii_case_insensitive_match(decoded_fragment, \"top\"sv))",
          "content_same": false
        },
        {
          "line": 4091,
          "old_api": null,
          "new_api": "ubstring of",
          "old_text": null,
          "new_text": "ubstring of ",
          "old_line_content": "        //    quote be that code point, and advance position to the next code point. Otherwise, let quote be the empty",
          "new_line_content": "        if (lexer.peek() == '\\'' || lexer.peek() == '\"')",
          "content_same": false
        },
        {
          "line": 4092,
          "old_api": null,
          "new_api": "position to the",
          "old_text": null,
          "new_text": "position to the",
          "old_line_content": "        //    string.",
          "new_line_content": "            quote = lexer.consume();",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 4100,
          "old_api": "e",
          "new_api": null,
          "old_text": "e();\n        });\n    }\n\n    parse:\n        // 11. Parse: Parse urlString relative to document. If that fails, ",
          "new_text": null,
          "old_line_content": "        url_string = lexer.consume_while([&quote](auto c) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4101,
          "old_api": "document. If",
          "new_api": null,
          "old_text": "document. If ",
          "new_text": null,
          "old_line_content": "            return !quote.has_value() || c != quote.value();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2056,
          "old_api": "return const_cast<",
          "new_api": null,
          "old_text": "\n        return const_cast<",
          "new_text": null,
          "old_line_content": "    if (auto element = get_element_by_id(fragment))",
          "new_line_content": "    // 2. If there is an a element in the document tree whose root is document that has a name attribute",
          "content_same": false
        },
        {
          "line": 2057,
          "old_api": "f there is an",
          "new_api": null,
          "old_text": "f there is an",
          "new_text": null,
          "old_line_content": "        return const_cast<Element*>(element.ptr());",
          "new_line_content": "    //    whose value is equal to fragment, then return the first such element in tree order.",
          "content_same": false
        },
        {
          "line": 4108,
          "old_api": "rl_record = maybe_url",
          "new_api": null,
          "old_text": "rl_record = maybe_url",
          "new_text": null,
          "old_line_content": "        auto maybe_url_record = parse_url(url_string);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4109,
          "old_api": "// 12. Set document's",
          "new_api": null,
          "old_text": "\n    // 12. Set document's ",
          "new_text": null,
          "old_line_content": "        if (!maybe_url_record.is_valid())",
          "new_line_content": "        url_record = maybe_url_record;",
          "content_same": false
        },
        {
          "line": 2062,
          "old_api": "name",
          "new_api": null,
          "old_text": "f_type<Element>([&](Element const& element) {\n        if (element.name() == fragment) {\n            element_with_name = const_cast<Element*>(&element);\n            return TraversalDecision::Break;\n        }\n        return TraversalDecision::Continue;\n    });\n    if (element_with_name)",
          "new_text": null,
          "old_line_content": "    root().for_each_in_subtree_of_type<Element>([&](Element const& element) {",
          "new_line_content": "            return TraversalDecision::Break;",
          "content_same": false
        },
        {
          "line": 2063,
          "old_api": "{",
          "new_api": null,
          "old_text": "{\n            ",
          "new_text": null,
          "old_line_content": "        if (element.name() == fragment) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2064,
          "old_api": "t);\n            return Travers",
          "new_api": null,
          "old_text": "t);\n            return Travers",
          "new_text": null,
          "old_line_content": "            element_with_name = const_cast<Element*>(&element);",
          "new_line_content": "        return TraversalDecision::Continue;",
          "content_same": false
        },
        {
          "line": 4123,
          "old_api": "navigable",
          "new_api": null,
          "old_text": "rd = move(url_record)]() {\n        if (has_meta_element && has_flag(active_sandboxing_flag_set(), HTML::SandboxingFlagSet::SandboxedAutomaticFeatures))\n            return;\n\n        auto navigable = this->navigable();\n        if (!navigable || navigable->has_been_destroyed())\n            return;\n\n        MUST(navigable->navigate({ .url = url_record, .source_document = *this, .history_handling = Bindings::NavigationHistoryBehavior::Replace }));\n    });\n\n    // For the purposes of the previous paragraph, a refresh is said to have come due as soo",
          "new_text": null,
          "old_line_content": "    m_active_refresh_timer = Core::Timer::create_single_shot(time * 1000, [this, has_meta_element = !!meta_element, url_record = move(url_record)]() {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4127,
          "old_api": "n;\n\n        MUST(",
          "new_api": null,
          "old_text": "n;\n\n        MUST(",
          "new_text": null,
          "old_line_content": "        auto navigable = this->navigable();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2082,
          "old_api": "effect || !effect->",
          "new_api": null,
          "old_text": "effect || !effect->",
          "new_text": null,
          "old_line_content": "    auto effect = animation->effect();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4131,
          "old_api": "::NavigationHistoryBehavior::Replace }));\n    });\n\n    // For the purposes of the previous paragraph, a refresh is said to have come d",
          "new_api": null,
          "old_text": "::NavigationHistoryBehavior::Replace }));\n    });\n\n    // For the purposes of the previous paragraph, a refresh is said to have come d",
          "new_text": null,
          "old_line_content": "        MUST(navigable->navigate({ .url = url_record, .source_document = *this, .history_handling = Bindings::NavigationHistoryBehavior::Replace }));",
          "new_line_content": "    // For the purposes of the previous paragraph, a refresh is said to have come due as soon as the later of the",
          "content_same": false
        },
        {
          "line": 2086,
          "old_api": "(*animation);\n\n    JS::GCPtr<Element> targ",
          "new_api": null,
          "old_text": "(*animation);\n\n    JS::GCPtr<Element> targ",
          "new_text": null,
          "old_line_content": "    auto& css_animation = verify_cast<CSS::CSSAnimation>(*animation);",
          "new_line_content": "    if (!target)",
          "content_same": false
        },
        {
          "line": 2088,
          "old_api": "get)\n        ret",
          "new_api": null,
          "old_text": "get)\n        ret",
          "new_text": null,
          "old_line_content": "    JS::GCPtr<Element> target = effect->target();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2095,
          "old_api": "auto current_phase = eff",
          "new_api": null,
          "old_text": "auto current_phase = eff",
          "new_text": null,
          "old_line_content": "    auto previous_phase = effect->previous_phase();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2096,
          "old_api": "ent_iteration =",
          "new_api": null,
          "old_text": "ent_iteration =",
          "new_text": null,
          "old_line_content": "    auto current_phase = effect->phase();",
          "new_line_content": "    if (previous_phase != current_phase) {",
          "content_same": false
        },
        {
          "line": 4146,
          "old_api": "ing::ViewportPaintable const* Docume",
          "new_api": null,
          "old_text": "ing::ViewportPaintable const* Docume",
          "new_text": null,
          "old_line_content": "    if (meta_element && m_completely_loaded_time.has_value()) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4147,
          "old_api": "e",
          "new_api": null,
          "old_text": "e() const\n{\n    return static_c",
          "new_text": null,
          "old_line_content": "        m_active_refresh_timer->start();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2103,
          "old_api": "id",
          "new_api": null,
          "old_text": "({\n                .event = CSS::AnimationEvent::create(\n                    owning_element->realm(),\n                    name,\n                    {\n                        { .bubbles = true },\n                        css_animation.id(),\n                        elapsed_time,\n                    }),\n                .animation = css_animation,\n                .target = *target,\n                .scheduled_event_time = HighResolutionTime::unsafe_shared_current_time(),\n            });\n        };\n\n        // For c",
          "new_text": null,
          "old_line_content": "            append_pending_animation_event({",
          "new_line_content": "                    name,",
          "content_same": false
        },
        {
          "line": 2104,
          "old_api": "id",
          "new_api": null,
          "old_text": "                   owning_element->realm(),\n                    name,\n                    {\n                        { .bubbles = true },\n                        css_animation.id(),\n                        elapsed_time,\n                    }),\n                .animation =",
          "new_text": null,
          "old_line_content": "                .event = CSS::AnimationEvent::create(",
          "new_line_content": "                    {",
          "content_same": false
        },
        {
          "line": 2105,
          "old_api": "name,",
          "new_api": null,
          "old_text": "               name,\n  ",
          "new_text": null,
          "old_line_content": "                    owning_element->realm(),",
          "new_line_content": "                        { .bubbles = true },",
          "content_same": false
        },
        {
          "line": 4153,
          "old_api": "ast<Painting::Vie",
          "new_api": null,
          "old_text": "ast<Painting::Vie",
          "new_text": null,
          "old_line_content": "    return static_cast<Painting::ViewportPaintable const*>(Node::paintable());",
          "new_line_content": "Painting::ViewportPaintable* Document::paintable()",
          "content_same": false
        },
        {
          "line": 2109,
          "old_api": "elap",
          "new_api": null,
          "old_text": "              elap",
          "new_text": null,
          "old_line_content": "                        css_animation.id(),",
          "new_line_content": "                .animation = css_animation,",
          "content_same": false
        },
        {
          "line": 4158,
          "old_api": "the-history-objec",
          "new_api": null,
          "old_text": "the-history-objec",
          "new_text": null,
          "old_line_content": "    return static_cast<Painting::ViewportPaintable*>(Node::paintable());",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/browsing-the-web.html#restore-the-history-object-state",
          "content_same": false
        },
        {
          "line": 2114,
          "old_api": "red_current_time",
          "new_api": null,
          "old_text": "red_current_time(),\n            });\n        };\n\n",
          "new_text": null,
          "old_line_content": "                .scheduled_event_time = HighResolutionTime::unsafe_shared_current_time(),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4165,
          "old_api": "ory API state, targetRealm)",
          "new_api": null,
          "old_text": "ory API state, targetRealm)",
          "new_text": null,
          "old_line_content": "    auto& target_realm = HTML::relevant_realm(*this);",
          "new_line_content": "    // 3. Set document's history object's state to state.",
          "content_same": false
        },
        {
          "line": 4169,
          "old_api": "set_state",
          "new_api": null,
          "old_text": "   m_history->set_state(JS::js_nul",
          "new_text": null,
          "old_line_content": "    auto state_or_error = HTML::structured_deserialize(target_realm.vm(), entry->classic_history_api_state(), target_realm, {});",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 4171,
          "old_api": "tps://html.sp",
          "new_api": null,
          "old_text": "tps://html.sp",
          "new_text": null,
          "old_line_content": "        m_history->set_state(JS::js_null());",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2124,
          "old_api": "0);\n\n        switch (prev",
          "new_api": null,
          "old_text": "0);\n\n        switch (prev",
          "new_text": null,
          "old_line_content": "        auto interval_end = max(min(effect->end_time() - effect->start_delay(), effect->active_duration()), 0.0);",
          "new_line_content": "        case Animations::AnimationEffect::Phase::Before:",
          "content_same": false
        },
        {
          "line": 4173,
          "old_api": "html#update-document-for-histo",
          "new_api": null,
          "old_text": "html#update-document-for-histo",
          "new_text": null,
          "old_line_content": "        m_history->set_state(state_or_error.release_value());",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/browsing-the-web.html#update-document-for-history-step-application",
          "content_same": false
        },
        {
          "line": 2133,
          "old_api": "s::animationstart, interval_start);\n                dispatch_eve",
          "new_api": null,
          "old_text": "s::animationstart, interval_start);\n                dispatch_eve",
          "new_text": null,
          "old_line_content": "                dispatch_event(HTML::EventNames::animationstart, interval_start);",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 2134,
          "old_api": "s::animationend, interval_end);\n            }\n            br",
          "new_api": null,
          "old_text": "s::animationend, interval_end);\n            }\n            br",
          "new_text": null,
          "old_line_content": "                dispatch_event(HTML::EventNames::animationend, interval_end);",
          "new_line_content": "        case Animations::AnimationEffect::Phase::Active:",
          "content_same": false
        },
        {
          "line": 2139,
          "old_api": "s::animationend, interval_start);\n            } else if (curre",
          "new_api": null,
          "old_text": "s::animationend, interval_start);\n            } else if (curre",
          "new_text": null,
          "old_line_content": "                dispatch_event(HTML::EventNames::animationend, interval_start);",
          "new_line_content": "                if (previous_current_iteration != current_iteration) {",
          "content_same": false
        },
        {
          "line": 2141,
          "old_api": "tion",
          "new_api": null,
          "old_text": "tion();\n                if (previous",
          "new_text": null,
          "old_line_content": "                auto previous_current_iteration = effect->previous_current_iteration();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4189,
          "old_api": "// N",
          "new_api": null,
          "old_text": "\n    // N",
          "new_text": null,
          "old_line_content": "    history()->m_length = script_history_length;",
          "new_line_content": "    // NOTE: documentsEntryChanged can be false for one of two reasons: either we are restoring from bfcache,",
          "content_same": false
        },
        {
          "line": 4197,
          "old_api": "m_latest_entry = e",
          "new_api": null,
          "old_text": "   m_latest_entry = e",
          "new_text": null,
          "old_line_content": "        auto old_url = m_latest_entry ? m_latest_entry->url() : URL::URL {};",
          "new_line_content": "        m_latest_entry = entry;",
          "content_same": false
        },
        {
          "line": 2152,
          "old_api": "auto iter",
          "new_api": null,
          "old_text": "                   auto iter",
          "new_text": null,
          "old_line_content": "                    auto iteration_duration_variant = effect->iteration_duration();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2154,
          "old_api": "eration_duration;",
          "new_api": null,
          "old_text": "eration_duration;\n\n      ",
          "new_text": null,
          "old_line_content": "                    auto elapsed_time = (iteration_boundary - effect->iteration_start()) * iteration_duration;",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 4206,
          "old_api": "en:\n        if (!document_is_new) {",
          "new_api": null,
          "old_text": "en:\n        if (!document_is_new) {",
          "new_text": null,
          "old_line_content": "        auto navigation = verify_cast<HTML::Window>(HTML::relevant_global_object(*this)).navigation();",
          "new_line_content": "        if (!document_is_new) {",
          "content_same": false
        },
        {
          "line": 2159,
          "old_api": "::animationend, interval_end);\n            }\n            bre",
          "new_api": null,
          "old_text": "::animationend, interval_end);\n            }\n            bre",
          "new_text": null,
          "old_line_content": "                dispatch_event(HTML::EventNames::animationend, interval_end);",
          "new_line_content": "        case Animations::AnimationEffect::Phase::After:",
          "content_same": false
        },
        {
          "line": 4211,
          "old_api": "",
          "new_api": null,
          "old_text": "\n           ",
          "new_text": null,
          "old_line_content": "            set_url(entry->url());",
          "new_line_content": "            if (update_navigation_api) {",
          "content_same": false
        },
        {
          "line": 2166,
          "old_api": "::animationstart, interval_end);\n                dispatch_even",
          "new_api": null,
          "old_text": "::animationstart, interval_end);\n                dispatch_even",
          "new_text": null,
          "old_line_content": "                dispatch_event(HTML::EventNames::animationstart, interval_end);",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 2167,
          "old_api": "::animationend, interval_start);\n            }\n            bre",
          "new_api": null,
          "old_text": "::animationend, interval_start);\n            }\n            bre",
          "new_text": null,
          "old_line_content": "                dispatch_event(HTML::EventNames::animationend, interval_start);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4216,
          "old_api": "avigationType::Traverse);\n            }\n\n            // 2. Fire an event named popstate at document's relevant global o",
          "new_api": null,
          "old_text": "avigationType::Traverse);\n            }\n\n            // 2. Fire an event named popstate at document's relevant global o",
          "new_text": null,
          "old_line_content": "                navigation->update_the_navigation_api_entries_for_a_same_document_navigation(entry, Bindings::NavigationType::Traverse);",
          "new_line_content": "            // 2. Fire an event named popstate at document's relevant global object, using PopStateEvent,",
          "content_same": false
        },
        {
          "line": 2174,
          "old_api": "value_or",
          "new_api": null,
          "old_text": "_time().value_or(0.0);\n            dispatch_event(HT",
          "new_text": null,
          "old_line_content": "            auto cancel_time = animation->release_saved_cancel_time().value_or(0.0);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4225,
          "old_api": "reate",
          "new_api": null,
          "old_text": "reate(realm(), \"popstate\"_fly_strin",
          "new_text": null,
          "old_line_content": "            auto& relevant_global_object = verify_cast<HTML::Window>(HTML::relevant_global_object(*this));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2178,
          "old_api": "ent_phase);\n    effect->set_previous_curr",
          "new_api": null,
          "old_text": "ent_phase);\n    effect->set_previous_curr",
          "new_text": null,
          "old_line_content": "    effect->set_previous_phase(current_phase);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2179,
          "old_api": "eration",
          "new_api": null,
          "old_text": "eration(current_iteration);\n}\n\n// https://html.spec.whatw",
          "new_text": null,
          "old_line_content": "    effect->set_previous_current_iteration(current_iteration);",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/browsing-the-web.html#scroll-to-the-fragment-identifier",
          "content_same": false
        },
        {
          "line": 4226,
          "old_api": "ch_even",
          "new_api": null,
          "old_text": "ch_even",
          "new_text": null,
          "old_line_content": "            auto pop_state_event = HTML::PopStateEvent::create(realm(), \"popstate\"_fly_string, popstate_event_init);",
          "new_line_content": "            // FIXME: 3. Restore persisted state given entry.",
          "content_same": false
        },
        {
          "line": 4227,
          "old_api": "sted state given entry.\n\n            // 4. If oldURL's",
          "new_api": null,
          "old_text": "sted state given entry.\n\n            // 4. If oldURL's",
          "new_text": null,
          "old_line_content": "            relevant_global_object.dispatch_event(pop_state_event);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2188,
          "old_api": "if (indicated_part.has<El",
          "new_api": null,
          "old_text": "\n    if (indicated_part.has<El",
          "new_text": null,
          "old_line_content": "    auto indicated_part = determine_the_indicated_part();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2189,
          "old_api": "== nullptr) {\n        set_targ",
          "new_api": null,
          "old_text": "== nullptr) {\n        set_targ",
          "new_text": null,
          "old_line_content": "    if (indicated_part.has<Element*>() && indicated_part.get<Element*>() == nullptr) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2190,
          "old_api": "}\n\n    // 2. Otherwise, i",
          "new_api": null,
          "old_text": "  }\n\n    // 2. Otherwise, i",
          "new_text": null,
          "old_line_content": "        set_target_element(nullptr);",
          "new_line_content": "    // 2. Otherwise, if document's indicated part is top of the document, then:",
          "content_same": false
        },
        {
          "line": 4239,
          "old_api": "sk",
          "new_api": null,
          "old_text": "sk(HTML",
          "new_text": null,
          "old_line_content": "                auto hashchange_event = HTML::HashChangeEvent::create(realm(), \"hashchange\"_fly_string, hashchange_event_init);",
          "new_line_content": "                }));",
          "content_same": false
        },
        {
          "line": 4240,
          "old_api": "ect.di",
          "new_api": null,
          "old_text": "ect.di",
          "new_text": null,
          "old_line_content": "                HTML::queue_global_task(HTML::Task::Source::DOMManipulation, relevant_global_object, JS::create_heap_function(heap(), [hashchange_event, &relevant_global_object]() {",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 4241,
          "old_api": "}\n\n        // 6. Otherwise:\n        else {",
          "new_api": null,
          "old_text": "     }\n\n        // 6. Otherwise:\n        else {\n       ",
          "new_text": null,
          "old_line_content": "                    relevant_global_object.dispatch_event(hashchange_event);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2194,
          "old_api": "ment>()) {\n        // 1. Set document'",
          "new_api": null,
          "old_text": "ment>()) {\n        // 1. Set document'",
          "new_text": null,
          "old_line_content": "    else if (indicated_part.has<TopOfTheDocument>()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2199,
          "old_api": "document",
          "new_api": null,
          "old_text": "document();\n\n        // 3. Return.\n      ",
          "new_text": null,
          "old_line_content": "        scroll_to_the_beginning_of_the_document();",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 4249,
          "old_api": "n entry.\n\n            // 3. Initialize",
          "new_api": null,
          "old_text": "n entry.\n\n            // 3. Initialize",
          "new_text": null,
          "old_line_content": "            VERIFY(entries_for_navigation_api.has_value());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4254,
          "old_api": "i, entry);\n        }\n    }\n\n    // 6. If documentIsNew is true, then:\n    if (document_is_new) {",
          "new_api": null,
          "old_text": "i, entry);\n        }\n    }\n\n    // 6. If documentIsNew is true, then:\n    if (document_is_new) {\n       ",
          "new_text": null,
          "old_line_content": "            navigation->initialize_the_navigation_api_entries_for_a_new_document(*entries_for_navigation_api, entry);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2214,
          "old_api": "// FIXME: 4. Run the",
          "new_api": null,
          "old_text": "      // FIXME: 4. Run the",
          "new_text": null,
          "old_line_content": "        set_target_element(target);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4264,
          "old_api": "cument document.",
          "new_api": null,
          "old_text": "cument document.\n       ",
          "new_text": null,
          "old_line_content": "        scroll_to_the_fragment();",
          "new_line_content": "        m_ready_to_run_scripts = true;",
          "content_same": false
        },
        {
          "line": 2224,
          "old_api": "_options);\n\n        // 7. Run the focusi",
          "new_api": null,
          "old_text": "_options);\n\n        // 7. Run the focusi",
          "new_text": null,
          "old_line_content": "        (void)target->scroll_into_view(scroll_options);",
          "new_line_content": "        // FIXME: Pass the Document's viewport somehow.",
          "content_same": false
        },
        {
          "line": 2228,
          "old_api": ");\n\n        // FIXME: 8. Move th",
          "new_api": null,
          "old_text": ");\n\n        // FIXME: 8. Move th",
          "new_text": null,
          "old_line_content": "        HTML::run_focusing_steps(target);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2238,
          "old_api": "gable->perform_sc",
          "new_api": null,
          "old_text": "gable->perform_sc",
          "new_text": null,
          "old_line_content": "    if (auto navigable = this->navigable())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2239,
          "old_api": "ewport",
          "new_api": null,
          "old_text": "ewport({ 0, 0 });\n}\n\nStringView Document::ready",
          "new_text": null,
          "old_line_content": "        navigable->perform_scroll_of_viewport({ 0, 0 });",
          "new_line_content": "StringView Document::ready_state() const",
          "content_same": false
        },
        {
          "line": 4289,
          "old_api": "(JS::No",
          "new_api": null,
          "old_text": "(JS::No",
          "new_text": null,
          "old_line_content": "        m_default_timeline = Animations::DocumentTimeline::create(realm(), *this, 0.0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4295,
          "old_api": "::NonnullGCPtr<Animations::AnimationTimeline>",
          "new_api": null,
          "old_text": "::NonnullGCPtr<Animations::AnimationTimeline> ",
          "new_text": null,
          "old_line_content": "    m_associated_animation_timelines.set(timeline);",
          "new_line_content": "void Document::disassociate_with_timeline(JS::NonnullGCPtr<Animations::AnimationTimeline> timeline)",
          "content_same": false
        },
        {
          "line": 2252,
          "old_api": "ps://html.spec.whatw",
          "new_api": null,
          "old_text": "ps://html.spec.whatw",
          "new_text": null,
          "old_line_content": "    VERIFY_NOT_REACHED();",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/dom.html#update-the-current-document-readiness",
          "content_same": false
        },
        {
          "line": 4300,
          "old_api": "vent",
          "new_api": null,
          "old_text": "vent(Web::DOM::Document::PendingAnimationEvent co",
          "new_text": null,
          "old_line_content": "    m_associated_animation_timelines.remove(timeline);",
          "new_line_content": "void Document::append_pending_animation_event(Web::DOM::Document::PendingAnimationEvent const& event)",
          "content_same": false
        },
        {
          "line": 4305,
          "old_api": "date-animations-and-send-events\nvoid Document",
          "new_api": null,
          "old_text": "date-animations-and-send-events\nvoid Document",
          "new_text": null,
          "old_line_content": "    m_pending_animation_event_queue.append(event);",
          "new_line_content": "// https://www.w3.org/TR/web-animations-1/#update-animations-and-send-events",
          "content_same": false
        },
        {
          "line": 2268,
          "old_api": "// 2. If readinessV",
          "new_api": null,
          "old_text": "\n\n        // 2. If readinessV",
          "new_text": null,
          "old_line_content": "        auto now = HighResolutionTime::current_high_resolution_time(relevant_global_object(*this));",
          "new_line_content": "        //    then set document's load timing info's DOM complete time to now.",
          "content_same": false
        },
        {
          "line": 4326,
          "old_api": "ing animation event queue.\n    // 5. C",
          "new_api": null,
          "old_text": "ing animation event queue.\n    // 5. C",
          "new_text": null,
          "old_line_content": "    HTML::perform_a_microtask_checkpoint();",
          "new_line_content": "    // 5. Clear docs pending animation event queue.",
          "content_same": false
        },
        {
          "line": 4330,
          "old_api": "ents to dispatch as follows:\n    auto",
          "new_api": null,
          "old_text": "ents to dispatch as follows:\n    auto",
          "new_text": null,
          "old_line_content": "    auto events_to_dispatch = move(m_pending_animation_event_queue);",
          "new_line_content": "    auto sort_events_by_composite_order = [](auto const& a, auto const& b) {",
          "content_same": false
        },
        {
          "line": 4334,
          "old_api": "effect",
          "new_api": null,
          "old_text": "->effect());\n        ",
          "new_text": null,
          "old_line_content": "        auto& a_effect = verify_cast<Animations::KeyframeEffect>(*a.animation->effect());",
          "new_line_content": "    };",
          "content_same": false
        },
        {
          "line": 2287,
          "old_api": "if (!is_decoded",
          "new_api": null,
          "old_text": "            if (!is_decoded",
          "new_text": null,
          "old_line_content": "        if (navigable && navigable->is_traversable()) {",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 4335,
          "old_api": ") < 0;\n    };\n\n    in",
          "new_api": null,
          "old_text": ") < 0;\n    };\n\n    in",
          "new_text": null,
          "old_line_content": "        auto& b_effect = verify_cast<Animations::KeyframeEffect>(*b.animation->effect());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2289,
          "old_api": "release_value_but_fixme_should_propagate_errors",
          "new_api": null,
          "old_text": "lback_favicon_if_needed(*this).release_value_but_fixme_should_propagate_errors();\n            }\n            nav",
          "new_text": null,
          "old_line_content": "                HTML::HTMLLinkElement::load_fallback_favicon_if_needed(*this).release_value_but_fixme_should_propagate_errors();",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 2291,
          "old_api": "",
          "new_api": null,
          "old_text": "     ",
          "new_text": null,
          "old_line_content": "            navigable->traversable_navigable()->page().client().page_did_finish_loading(url());",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4339,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "their scheduled event time such that events that were scheduled to occur earlier, sort\n        // before events scheduled to occur later and events whose scheduled event time is unresolved sort before events\n        // with a resolved scheduled event time.\n        //\n        // Within events with equal scheduled event times, sort by their composite order.\n        if (b.scheduled_event_time.has_value()) {\n            if (!a.scheduled_event_time.has_value())\n                return true;\n\n            auto a_time = a.scheduled_event_time.value();\n            auto b_time = b.scheduled_event_time.value();\n            if (a_time == b_time)\n                return sort_events_by_composite_order(a, b);\n\n            return a.scheduled_event_time.value() < b.scheduled_event_time.value();\n        }\n\n        if (a.scheduled_event_time.has_value())\n            return false;\n\n        return sort_events_by_composite_order(a, b);\n    });\n\n    // 7. Dispatch each of the events in events to dispatch at their corresponding target using th",
          "new_text": null,
          "old_line_content": "    insertion_sort(events_to_dispatch, [&](auto const& a, auto const& b) {",
          "new_line_content": "        // with a resolved scheduled event time.",
          "content_same": false
        },
        {
          "line": 4345,
          "old_api": "return true;\n\n            au",
          "new_api": null,
          "old_text": "      return true;\n\n            au",
          "new_text": null,
          "old_line_content": "        if (b.scheduled_event_time.has_value()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4350,
          "old_api": "by_composite_order",
          "new_api": null,
          "old_text": "by_composite_order(a, b);\n\n   ",
          "new_text": null,
          "old_line_content": "            auto b_time = b.scheduled_event_time.value();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4352,
          "old_api": "value",
          "new_api": null,
          "old_text": "d_event_time.value();\n        }\n\n   ",
          "new_text": null,
          "old_line_content": "                return sort_events_by_composite_order(a, b);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4360,
          "old_api": "patch at their corresponding target",
          "new_api": null,
          "old_text": "patch at their corresponding target ",
          "new_text": null,
          "old_line_content": "        return sort_events_by_composite_order(a, b);",
          "new_line_content": "    // 7. Dispatch each of the events in events to dispatch at their corresponding target using the order established in",
          "content_same": false
        },
        {
          "line": 4369,
          "old_api": "}\n}\n\n// https://www.w3.org/T",
          "new_api": null,
          "old_text": "\n    }\n}\n\n// https://www.w3.org/T",
          "new_text": null,
          "old_line_content": "        for (auto& animation : timeline->associated_animations())",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4370,
          "old_api": "ns-1/#remove-replaced-animations\nvoid Document::remov",
          "new_api": null,
          "old_text": "ns-1/#remove-replaced-animations\nvoid Document::remov",
          "new_text": null,
          "old_line_content": "            dispatch_events_for_animation_if_necessary(animation);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2323,
          "old_api": "ng",
          "new_api": null,
          "old_text": "ng(format_string));\n\n    return MUST(Core::DateT",
          "new_text": null,
          "old_line_content": "        return MUST(m_last_modified.value().to_string(format_string));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2325,
          "old_api": "(format_string));\n}\n\nPage& Document::page()\n{",
          "new_api": null,
          "old_text": "(format_string));\n}\n\nPage& Document::page()\n{\n",
          "new_text": null,
          "old_line_content": "    return MUST(Core::DateTime::now().to_string(format_string));",
          "new_line_content": "Page& Document::page()",
          "content_same": false
        },
        {
          "line": 4387,
          "old_api": "effect",
          "new_api": null,
          "old_text": "rget() || &animation->effect()->t",
          "new_text": null,
          "old_line_content": "        for (auto const& animation : timeline->associated_animations()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2340,
          "old_api": "s::load)",
          "new_api": null,
          "old_text": "s::load)\n   ",
          "new_text": null,
          "old_line_content": "    if (event.type() == HTML::EventNames::load)",
          "new_line_content": "    return m_window;",
          "content_same": false
        },
        {
          "line": 4394,
          "old_api": "// Composite orde",
          "new_api": null,
          "old_text": "         // Composite orde",
          "new_text": null,
          "old_line_content": "            if (animation->replace_state() != Bindings::AnimationReplaceState::Active)",
          "new_line_content": "            // Composite order is only defined for KeyframeEffects",
          "content_same": false
        },
        {
          "line": 2349,
          "old_api": "lue",
          "new_api": null,
          "old_text": "lue();\n}\n\n// https://html.spec.whatw",
          "new_text": null,
          "old_line_content": "    return m_completely_loaded_time.has_value();",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/browsing-the-web.html#completely-finish-loading",
          "content_same": false
        },
        {
          "line": 4401,
          "old_api": "JS::NonnullGCPtr<Animations::Animation>&",
          "new_api": null,
          "old_text": "JS::NonnullGCPtr<Animations::Animation>&",
          "new_text": null,
          "old_line_content": "            replaceable_animations.append(animation);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2355,
          "old_api": "ScopeGua",
          "new_api": null,
          "old_text": "   ScopeGua",
          "new_text": null,
          "old_line_content": "    if (!navigable())",
          "new_line_content": "    ScopeGuard notify_observers = [this] {",
          "content_same": false
        },
        {
          "line": 4408,
          "old_api": "r",
          "new_api": null,
          "old_text": "r());\n        ret",
          "new_text": null,
          "old_line_content": "        auto& a_effect = *static_cast<Animations::KeyframeEffect*>(a->effect().ptr());",
          "new_line_content": "    });",
          "content_same": false
        },
        {
          "line": 2361,
          "old_api": "pletely_loaded",
          "new_api": null,
          "old_text": "pletely_loaded())\n                document_obse",
          "new_text": null,
          "old_line_content": "            if (document_observer->document_completely_loaded())",
          "new_line_content": "    };",
          "content_same": false
        },
        {
          "line": 2362,
          "old_api": "function",
          "new_api": null,
          "old_text": "pletely_loaded()->function()();\n        }\n    };\n\n    // 1. A",
          "new_text": null,
          "old_line_content": "                document_observer->document_completely_loaded()->function()();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4409,
          "old_api": "0;\n    });\n\n    /",
          "new_api": null,
          "old_text": "0;\n    });\n\n    /",
          "new_text": null,
          "old_line_content": "        auto& b_effect = *static_cast<Animations::KeyframeEffect*>(b->effect().ptr());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4410,
          "old_api": "gher priority\n    HashMap<CSS::PropertyID, size_t> highest_prop",
          "new_api": null,
          "old_text": "gher priority\n    HashMap<CSS::PropertyID, size_t> highest_prop",
          "new_text": null,
          "old_line_content": "        return Animations::KeyframeEffect::composite_order(a_effect, b_effect) < 0;",
          "new_line_content": "    // Lower value = higher priority",
          "content_same": false
        },
        {
          "line": 4415,
          "old_api": "bool has_any_highest",
          "new_api": null,
          "old_text": "\n        bool has_any_highest",
          "new_text": null,
          "old_line_content": "    for (int i = replaceable_animations.size() - 1; i >= 0; i--) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2370,
          "old_api": "/ NOTE: See the end of",
          "new_api": null,
          "old_text": "/ NOTE: See the end of ",
          "new_text": null,
          "old_line_content": "    m_completely_loaded_time = AK::UnixDateTime::now();",
          "new_line_content": "    if (m_active_refresh_timer)",
          "content_same": false
        },
        {
          "line": 4420,
          "old_api": "erty = true;\n                highest_property_compos",
          "new_api": null,
          "old_text": "erty = true;\n                highest_property_compos",
          "new_text": null,
          "old_line_content": "            if (!highest_property_composite_orders.contains(property)) {",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 4422,
          "old_api": "hest_priority_property) {\n            // perform t",
          "new_api": null,
          "old_text": "hest_priority_property) {\n            // perform t",
          "new_text": null,
          "old_line_content": "                highest_property_composite_orders.set(property, i);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4430,
          "old_api": "mationPlaybackEvent, removeEvent.\n            // - Set removeEvents t",
          "new_api": null,
          "old_text": "mationPlaybackEvent, removeEvent.\n            // - Set removeEvents t",
          "new_text": null,
          "old_line_content": "            animation->set_replace_state(Bindings::AnimationReplaceState::Removed);",
          "new_line_content": "            // - Set removeEvents type attribute to remove.",
          "content_same": false
        },
        {
          "line": 2383,
          "old_api": "ntainer)) {\n        container->queue_an",
          "new_api": null,
          "old_text": "ntainer)) {\n        container->queue_an",
          "new_text": null,
          "old_line_content": "    if (container && is<HTML::HTMLIFrameElement>(*container)) {",
          "new_line_content": "        });",
          "content_same": false
        },
        {
          "line": 2384,
          "old_api": "k",
          "new_api": null,
          "old_text": "k(HTML::Task::Source::DOMManipulation, [container] {\n            run_iframe_load_event_steps(static_cast<HTML::HTMLIFrameElement&>(*container));\n        });\n    }\n    // 5. Otherwise, if",
          "new_text": null,
          "old_line_content": "        container->queue_an_element_task(HTML::Task::Source::DOMManipulation, [container] {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2385,
          "old_api": "ment&>(*container));\n        });\n    }\n    // 5.",
          "new_api": null,
          "old_text": "ment&>(*container));\n        });\n    }\n    // 5. ",
          "new_text": null,
          "old_line_content": "            run_iframe_load_event_steps(static_cast<HTML::HTMLIFrameElement&>(*container));",
          "new_line_content": "    // 5. Otherwise, if container is non-null, then queue an element task on the DOM manipulation task source given container to fire an event named load at container.",
          "content_same": false
        },
        {
          "line": 2390,
          "old_api": "dispatch_event",
          "new_api": null,
          "old_text": "k(HTML::Task::Source::DOMManipulation, [container] {\n            container->dispatch_event(DOM::Event::create(container->realm(), HTML::EventNames::load));\n        });\n    }\n}\n\nString Document::coo",
          "new_text": null,
          "old_line_content": "        container->queue_an_element_task(HTML::Task::Source::DOMManipulation, [container] {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2391,
          "old_api": "Names::load));",
          "new_api": null,
          "old_text": "Names::load));\n   ",
          "new_text": null,
          "old_line_content": "            container->dispatch_event(DOM::Event::create(container->realm(), HTML::EventNames::load));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4438,
          "old_api": "auto remove_event = Ani",
          "new_api": null,
          "old_text": "  auto remove_event = Ani",
          "new_text": null,
          "old_line_content": "            init.current_time = animation->current_time();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4439,
          "old_api": "eate",
          "new_api": null,
          "old_text": "eate(realm(), HTML::EventNames::remov",
          "new_text": null,
          "old_line_content": "            init.timeline_time = animation->timeline()->current_time();",
          "new_line_content": "            // - If animation has a document for timing, then append removeEvent to its document for timing's pending",
          "content_same": false
        },
        {
          "line": 4440,
          "old_api": "nd remo",
          "new_api": null,
          "old_text": "nd remo",
          "new_text": null,
          "old_line_content": "            auto remove_event = Animations::AnimationPlaybackEvent::create(realm(), HTML::EventNames::remove, init);",
          "new_line_content": "            //   animation event queue along with its target, animation. For the scheduled event time, use the result of",
          "content_same": false
        },
        {
          "line": 2398,
          "old_api": "t_cookie",
          "new_api": null,
          "old_text": "t_cookie(m_url, source);\n}\n\nvoid Document::set_cookie(",
          "new_text": null,
          "old_line_content": "    return page().client().page_did_request_cookie(m_url, source);",
          "new_line_content": "void Document::set_cookie(StringView cookie_string, Cookie::Source source)",
          "content_same": false
        },
        {
          "line": 4446,
          "old_api": ".event = remove_event",
          "new_api": null,
          "old_text": "           .event = remove_event",
          "new_text": null,
          "old_line_content": "            if (auto document = animation->document_for_timing()) {",
          "new_line_content": "                    .animation = animation,",
          "content_same": false
        },
        {
          "line": 2403,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "ing);\n    if (!cookie.has_value())\n",
          "new_text": null,
          "old_line_content": "    auto cookie = Cookie::parse_cookie(cookie_string);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4451,
          "old_api": "append_pending_animation_event",
          "new_api": null,
          "old_text": "  };\n                document->append_pending_animation_event(pending_animation_event);\n     ",
          "new_text": null,
          "old_line_content": "                    .scheduled_event_time = animation->timeline()->convert_a_timeline_time_to_an_origin_relative_time(init.timeline_time),",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 4453,
          "old_api": "queue a task to dispatch removeEvent at animation. The task sourc",
          "new_api": null,
          "old_text": "queue a task to dispatch removeEvent at animation. The task sourc",
          "new_text": null,
          "old_line_content": "                document->append_pending_animation_event(pending_animation_event);",
          "new_line_content": "            //   manipulation task source.",
          "content_same": false
        },
        {
          "line": 2407,
          "old_api": "ing Document::",
          "new_api": null,
          "old_text": "ing Document::",
          "new_text": null,
          "old_line_content": "    page().client().page_did_set_cookie(m_url, cookie.value(), source);",
          "new_line_content": "String Document::fg_color() const",
          "content_same": false
        },
        {
          "line": 4458,
          "old_api": "",
          "new_api": null,
          "old_text": "      ",
          "new_text": null,
          "old_line_content": "                HTML::queue_global_task(HTML::Task::Source::DOMManipulation, realm().global_object(), JS::create_heap_function(heap(), [animation, remove_event]() {",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 4459,
          "old_api": ":ensure_animation_timer()\n{\n    constex",
          "new_api": null,
          "old_text": ":ensure_animation_timer()\n{\n    constex",
          "new_text": null,
          "old_line_content": "                    animation->dispatch_event(remove_event);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2412,
          "old_api": "body_element))\n        return body_element->",
          "new_api": null,
          "old_text": "body_element))\n        return body_element->",
          "new_text": null,
          "old_line_content": "    if (auto* body_element = body(); body_element && !is<HTML::HTMLFrameSetElement>(*body_element))",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2413,
          "old_api": "ue",
          "new_api": null,
          "old_text": "ue(HTML::AttributeNames::text);\n    return \"\"_string;\n}\n\nvoid",
          "new_text": null,
          "old_line_content": "        return body_element->get_attribute_value(HTML::AttributeNames::text);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2419,
          "old_api": "body_element))\n        MUST(body_element->se",
          "new_api": null,
          "old_text": "body_element))\n        MUST(body_element->se",
          "new_text": null,
          "old_line_content": "    if (auto* body_element = body(); body_element && !is<HTML::HTMLFrameSetElement>(*body_element))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2420,
          "old_api": "L::AttributeNames::text, value));\n}\n\nString Document::link_col",
          "new_api": null,
          "old_text": "L::AttributeNames::text, value));\n}\n\nString Document::link_col",
          "new_text": null,
          "old_line_content": "        MUST(body_element->set_attribute(HTML::AttributeNames::text, value));",
          "new_line_content": "String Document::link_color() const",
          "content_same": false
        },
        {
          "line": 4468,
          "old_api": "iver_time",
          "new_api": null,
          "old_text": "iver_time",
          "new_text": null,
          "old_line_content": "    constexpr static auto timer_delay_ms = 1000 / 60;",
          "new_line_content": "            bool has_animations = false;",
          "content_same": false
        },
        {
          "line": 2425,
          "old_api": "body_element))\n        return body_element->",
          "new_api": null,
          "old_text": "body_element))\n        return body_element->",
          "new_text": null,
          "old_line_content": "    if (auto* body_element = body(); body_element && !is<HTML::HTMLFrameSetElement>(*body_element))",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2426,
          "old_api": "ue",
          "new_api": null,
          "old_text": "ue(HTML::AttributeNames::link);\n    return \"\"_string;\n}\n\nvoid",
          "new_text": null,
          "old_line_content": "        return body_element->get_attribute_value(HTML::AttributeNames::link);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4473,
          "old_api": "break;\n                }\n            }",
          "new_api": null,
          "old_text": "  break;\n                }\n            }\n   ",
          "new_text": null,
          "old_line_content": "                if (!timeline->associated_animations().is_empty()) {",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 2432,
          "old_api": "body_element))\n        MUST(body_element->se",
          "new_api": null,
          "old_text": "body_element))\n        MUST(body_element->se",
          "new_text": null,
          "old_line_content": "    if (auto* body_element = body(); body_element && !is<HTML::HTMLFrameSetElement>(*body_element))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2433,
          "old_api": "L::AttributeNames::link, value));\n}\n\nString Document::vlink_co",
          "new_api": null,
          "old_text": "L::AttributeNames::link, value));\n}\n\nString Document::vlink_co",
          "new_text": null,
          "old_line_content": "        MUST(body_element->set_attribute(HTML::AttributeNames::link, value));",
          "new_line_content": "String Document::vlink_color() const",
          "content_same": false
        },
        {
          "line": 4482,
          "old_api": "(window_or_worker->perf",
          "new_api": null,
          "old_text": "(window_or_worker->perf",
          "new_text": null,
          "old_line_content": "            auto* window_or_worker = dynamic_cast<HTML::WindowOrWorkerGlobalScopeMixin*>(&realm().global_object());",
          "new_line_content": "        });",
          "content_same": false
        },
        {
          "line": 4483,
          "old_api": "));\n        });\n    }",
          "new_api": null,
          "old_text": "));\n        });\n    }\n\n ",
          "new_text": null,
          "old_line_content": "            VERIFY(window_or_worker);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4484,
          "old_api": "JS::NonnullGCPtr<Animations::Animation",
          "new_api": null,
          "old_text": "JS::NonnullGCPtr<Animations::Animation",
          "new_text": null,
          "old_line_content": "            update_animations_and_send_events(window_or_worker->performance()->now());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2438,
          "old_api": "body_element))\n        return body_element->",
          "new_api": null,
          "old_text": "body_element))\n        return body_element->",
          "new_text": null,
          "old_line_content": "    if (auto* body_element = body(); body_element && !is<HTML::HTMLFrameSetElement>(*body_element))",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2439,
          "old_api": "ue",
          "new_api": null,
          "old_text": "ue(HTML::AttributeNames::vlink);\n    return \"\"_string;\n}\n\nvoid",
          "new_text": null,
          "old_line_content": "        return body_element->get_attribute_value(HTML::AttributeNames::vlink);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4488,
          "old_api": "s",
          "new_api": null,
          "old_text": "s()\n{\n    Vector<JS::NonnullGCPtr",
          "new_text": null,
          "old_line_content": "    m_animation_driver_timer->start();",
          "new_line_content": "Vector<JS::NonnullGCPtr<Animations::Animation>> Document::get_animations()",
          "content_same": false
        },
        {
          "line": 2445,
          "old_api": "body_element))\n        MUST(body_element->se",
          "new_api": null,
          "old_text": "body_element))\n        MUST(body_element->se",
          "new_text": null,
          "old_line_content": "    if (auto* body_element = body(); body_element && !is<HTML::HTMLFrameSetElement>(*body_element))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2446,
          "old_api": "L::AttributeNames::vlink, value));\n}\n\nString Document::alink_co",
          "new_api": null,
          "old_text": "L::AttributeNames::vlink, value));\n}\n\nString Document::alink_co",
          "new_text": null,
          "old_line_content": "        MUST(body_element->set_attribute(HTML::AttributeNames::vlink, value));",
          "new_line_content": "String Document::alink_color() const",
          "content_same": false
        },
        {
          "line": 4494,
          "old_api": ".subtree = true }));\n        return IterationDecision::Continue;\n    });\n    return relevant_animations;\n}\n\n// https://html.spec.whatwg.org/multipage/dom.html#dom-document-namedite",
          "new_api": null,
          "old_text": ".subtree = true }));\n        return IterationDecision::Continue;\n    });\n    return relevant_animations;\n}\n\n// https://html.spec.whatwg.org/multipage/dom.html#dom-document-namedite",
          "new_text": null,
          "old_line_content": "    for_each_child_of_type<Element>([&](auto& child) {",
          "new_line_content": "    });",
          "content_same": false
        },
        {
          "line": 4495,
          "old_api": "levant_animations;\n}\n\n// https://html.spe",
          "new_api": null,
          "old_text": "levant_animations;\n}\n\n// https://html.spe",
          "new_text": null,
          "old_line_content": "        relevant_animations.extend(child.get_animations({ .subtree = true }));",
          "new_line_content": "    return relevant_animations;",
          "content_same": false
        },
        {
          "line": 2451,
          "old_api": "body_element))\n        return body_element->",
          "new_api": null,
          "old_text": "body_element))\n        return body_element->",
          "new_text": null,
          "old_line_content": "    if (auto* body_element = body(); body_element && !is<HTML::HTMLFrameSetElement>(*body_element))",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2452,
          "old_api": "ue",
          "new_api": null,
          "old_text": "ue(HTML::AttributeNames::alink);\n    return \"\"_string;\n}\n\nvoid",
          "new_text": null,
          "old_line_content": "        return body_element->get_attribute_value(HTML::AttributeNames::alink);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4504,
          "old_api": "ditem-filter\nstatic bool is_potentia",
          "new_api": null,
          "old_text": "ditem-filter\nstatic bool is_potentia",
          "new_text": null,
          "old_line_content": "    return is<HTML::HTMLEmbedElement>(element) || is<HTML::HTMLFormElement>(element) || is<HTML::HTMLIFrameElement>(element) || is<HTML::HTMLImageElement>(element) || is<HTML::HTMLObjectElement>(element);",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/dom.html#dom-document-nameditem-filter",
          "content_same": false
        },
        {
          "line": 2458,
          "old_api": "body_element))\n        MUST(body_element->se",
          "new_api": null,
          "old_text": "body_element))\n        MUST(body_element->se",
          "new_text": null,
          "old_line_content": "    if (auto* body_element = body(); body_element && !is<HTML::HTMLFrameSetElement>(*body_element))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2459,
          "old_api": "L::AttributeNames::alink, value));\n}\n\nString Document::bg_color",
          "new_api": null,
          "old_text": "L::AttributeNames::alink, value));\n}\n\nString Document::bg_color",
          "new_text": null,
          "old_line_content": "        MUST(body_element->set_attribute(HTML::AttributeNames::alink, value));",
          "new_line_content": "String Document::bg_color() const",
          "content_same": false
        },
        {
          "line": 4510,
          "old_api": ">>& elements, DOM::Element& element",
          "new_api": null,
          "old_text": ">>& elements, DOM::Element& element",
          "new_text": null,
          "old_line_content": "    return is<HTML::HTMLObjectElement>(element) || is<HTML::HTMLImageElement>(element);",
          "new_line_content": "static void insert_in_tree_order(Vector<JS::NonnullGCPtr<DOM::Element>>& elements, DOM::Element& element)",
          "content_same": false
        },
        {
          "line": 2464,
          "old_api": "body_element))\n        return body_element->",
          "new_api": null,
          "old_text": "body_element))\n        return body_element->",
          "new_text": null,
          "old_line_content": "    if (auto* body_element = body(); body_element && !is<HTML::HTMLFrameSetElement>(*body_element))",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2465,
          "old_api": "ue",
          "new_api": null,
          "old_text": "ue(HTML::AttributeNames::bgcolor);\n    return \"\"_string;\n}\n\nvoid",
          "new_text": null,
          "old_line_content": "        return body_element->get_attribute_value(HTML::AttributeNames::bgcolor);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2471,
          "old_api": "body_element))\n        MUST(body_element->se",
          "new_api": null,
          "old_text": "body_element))\n        MUST(body_element->se",
          "new_text": null,
          "old_line_content": "    if (auto* body_element = body(); body_element && !is<HTML::HTMLFrameSetElement>(*body_element))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2472,
          "old_api": "L::AttributeNames::bgcolor, value));\n}\n\nString Document::dump_dom",
          "new_api": null,
          "old_text": "L::AttributeNames::bgcolor, value));\n}\n\nString Document::dump_dom",
          "new_text": null,
          "old_line_content": "        MUST(body_element->set_attribute(HTML::AttributeNames::bgcolor, value));",
          "new_line_content": "String Document::dump_dom_tree_as_json() const",
          "content_same": false
        },
        {
          "line": 4524,
          "old_api": "e<DOM::Elemen",
          "new_api": null,
          "old_text": "e<DOM::Elemen",
          "new_text": null,
          "old_line_content": "        elements.insert(index.value(), element);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4526,
          "old_api": "ment> element)\n{\n    for",
          "new_api": null,
          "old_text": "ment> element)\n{\n    for",
          "new_text": null,
          "old_line_content": "        elements.append(element);",
          "new_line_content": "void Document::element_id_changed(Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element)",
          "content_same": false
        },
        {
          "line": 2481,
          "old_api": "(builder.to_s",
          "new_api": null,
          "old_text": "(builder.to_s",
          "new_text": null,
          "old_line_content": "    MUST(json.finish());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2482,
          "old_api": "ps://html.spec.what",
          "new_api": null,
          "old_text": "ps://html.spec.what",
          "new_text": null,
          "old_line_content": "    return MUST(builder.to_string());",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/semantics.html#has-a-style-sheet-that-is-blocking-scripts",
          "content_same": false
        },
        {
          "line": 4535,
          "old_api": "remove_first_matching",
          "new_api": null,
          "old_text": "nts.remove_first_matching([element](auto& e) { return e == ",
          "new_text": null,
          "old_line_content": "        insert_in_tree_order(m_potentially_named_elements, element);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4537,
          "old_api": "ment::element_with_id_was_added(Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element)\n{",
          "new_api": null,
          "old_text": "ment::element_with_id_was_added(Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element)\n{\n",
          "new_text": null,
          "old_line_content": "        (void)m_potentially_named_elements.remove_first_matching([element](auto& e) { return e == element; });",
          "new_line_content": "void Document::element_with_id_was_added(Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element)",
          "content_same": false
        },
        {
          "line": 2493,
          "old_api": "se;\n\n    //",
          "new_api": null,
          "old_text": "se;\n\n    //",
          "new_text": null,
          "old_line_content": "    if (!navigable())",
          "new_line_content": "    // 3. Let containerDocument be document's node navigable's container document.",
          "content_same": false
        },
        {
          "line": 2497,
          "old_api": "();\n\n    // FIXME: 4. If containe",
          "new_api": null,
          "old_text": "();\n\n    // FIXME: 4. If containe",
          "new_text": null,
          "old_line_content": "    auto container_document = navigable()->container_document();",
          "new_line_content": "    if (container_document && container_document->m_script_blocking_style_sheet_counter > 0)",
          "content_same": false
        },
        {
          "line": 4545,
          "old_api": "ent);\n}\n\nvoid Document::element_with_id_was_",
          "new_api": null,
          "old_text": "ent);\n}\n\nvoid Document::element_with_id_was_",
          "new_text": null,
          "old_line_content": "    if (is_potentially_named_element_by_id(*element))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4546,
          "old_api": "dge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element)",
          "new_api": null,
          "old_text": "dge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element)\n",
          "new_text": null,
          "old_line_content": "        insert_in_tree_order(m_potentially_named_elements, element);",
          "new_line_content": "void Document::element_with_id_was_removed(Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element)",
          "content_same": false
        },
        {
          "line": 4554,
          "old_api": "g",
          "new_api": null,
          "old_text": "g([element](auto& e) { return e == element; ",
          "new_text": null,
          "old_line_content": "    if (is_potentially_named_element_by_id(*element))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4555,
          "old_api": "ment::element_name_changed(Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element)\n{\n    i",
          "new_api": null,
          "old_text": "ment::element_name_changed(Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element)\n{\n    i",
          "new_text": null,
          "old_line_content": "        (void)m_potentially_named_elements.remove_first_matching([element](auto& e) { return e == element; });",
          "new_line_content": "void Document::element_name_changed(Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element)",
          "content_same": false
        },
        {
          "line": 4561,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "ement_by_id(element) && element->id().has_value())\n        ",
          "new_text": null,
          "old_line_content": "        insert_in_tree_order(m_potentially_named_elements, element);",
          "new_line_content": "            return;",
          "content_same": false
        },
        {
          "line": 2514,
          "old_api": "tml.spec.whatw",
          "new_api": null,
          "old_text": "tml.spec.whatw",
          "new_text": null,
          "old_line_content": "    m_referrer = move(referrer);",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active",
          "content_same": false
        },
        {
          "line": 4563,
          "old_api": "ng",
          "new_api": null,
          "old_text": "ng([element](auto& e) { r",
          "new_text": null,
          "old_line_content": "        if (is_potentially_named_element_by_id(element) && element->id().has_value())",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4565,
          "old_api": "d Document::element_with_name_was_added(Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> ele",
          "new_api": null,
          "old_text": "d Document::element_with_name_was_added(Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> ele",
          "new_text": null,
          "old_line_content": "        (void)m_potentially_named_elements.remove_first_matching([element](auto& e) { return e == element; });",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2522,
          "old_api": "igable)\n        r",
          "new_api": null,
          "old_text": "igable)\n        r",
          "new_text": null,
          "old_line_content": "    auto navigable = this->navigable();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4571,
          "old_api": "void Document::element_with_name_wa",
          "new_api": null,
          "old_text": "\n\nvoid Document::element_with_name_wa",
          "new_text": null,
          "old_line_content": "    if (is_potentially_named_element(element))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4572,
          "old_api": "Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element",
          "new_api": null,
          "old_text": "Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element",
          "new_text": null,
          "old_line_content": "        insert_in_tree_order(m_potentially_named_elements, element);",
          "new_line_content": "void Document::element_with_name_was_removed(Badge<DOM::Element>, JS::NonnullGCPtr<DOM::Element> element)",
          "content_same": false
        },
        {
          "line": 2526,
          "old_api": "e",
          "new_api": null,
          "old_text": "e();\n    if (navigable == traversa",
          "new_text": null,
          "old_line_content": "    auto traversable = navigable->traversable_navigable();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2530,
          "old_api": ";\n    if (container_document &&",
          "new_api": null,
          "old_text": ";\n    if (container_document &&",
          "new_text": null,
          "old_line_content": "    auto container_document = navigable->container_document();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2531,
          "old_api": "tive",
          "new_api": null,
          "old_text": "tive())\n        return true;\n\n    ret",
          "new_text": null,
          "old_line_content": "    if (container_document && container_document->is_fully_active())",
          "new_line_content": "    return false;",
          "content_same": false
        },
        {
          "line": 4578,
          "old_api": "ng",
          "new_api": null,
          "old_text": "ng([element](auto& e) { r",
          "new_text": null,
          "old_line_content": "        if (is_potentially_named_element_by_id(element) && element->id().has_value())",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4580,
          "old_api": "d Document::add_form_associated_element_with_form_attribute(HTML::FormAssociatedElement& form_a",
          "new_api": null,
          "old_text": "d Document::add_form_associated_element_with_form_attribute(HTML::FormAssociatedElement& form_a",
          "new_text": null,
          "old_line_content": "        (void)m_potentially_named_elements.remove_first_matching([element](auto& e) { return e == element; });",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4586,
          "old_api": "m_associated_element_with_form_attribute",
          "new_api": null,
          "old_text": "m_associated_element_with_form_attribute(HTML::FormAssociatedElement& form_asso",
          "new_text": null,
          "old_line_content": "    m_form_associated_elements_with_form_attribute.append(&form_associated_element);",
          "new_line_content": "void Document::remove_form_associated_element_with_form_attribute(HTML::FormAssociatedElement& form_associated_element)",
          "content_same": false
        },
        {
          "line": 2539,
          "old_api": "avigable && navig",
          "new_api": null,
          "old_text": "avigable && navig",
          "new_text": null,
          "old_line_content": "    auto navigable = this->navigable();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2540,
          "old_api": "this;\n}\n\n// https://html.sp",
          "new_api": null,
          "old_text": " this;\n}\n\n// https://html.sp",
          "new_text": null,
          "old_line_content": "    return navigable && navigable->active_document() == this;",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/history.html#dom-document-location",
          "content_same": false
        },
        {
          "line": 4591,
          "old_api": "t == &form_associated_element;\n    });\n}\n\nvoid Document::set_design_mode_enabled_state(bool design_mode_enabled)\n{\n    m_design_mode_enabled = des",
          "new_api": null,
          "old_text": "t == &form_associated_element;\n    });\n}\n\nvoid Document::set_design_mode_enabled_state(bool design_mode_enabled)\n{\n    m_design_mode_enabled = des",
          "new_text": null,
          "old_line_content": "    m_form_associated_elements_with_form_attribute.remove_all_matching([&](auto* element) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4599,
          "old_api": "e-documents-editable:-the-designm",
          "new_api": null,
          "old_text": "e-documents-editable:-the-designm",
          "new_text": null,
          "old_line_content": "    set_editable(design_mode_enabled);",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/interaction.html#making-entire-documents-editable:-the-designmode-idl-attribute",
          "content_same": false
        },
        {
          "line": 2552,
          "old_api": "ps://html.spec.whatw",
          "new_api": null,
          "old_text": "ps://html.spec.whatw",
          "new_text": null,
          "old_line_content": "    return window()->location();",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/interaction.html#dom-document-hidden",
          "content_same": false
        },
        {
          "line": 4606,
          "old_api": "ode",
          "new_api": null,
          "old_text": "ode(String const& design_mo",
          "new_text": null,
          "old_line_content": "    return design_mode_enabled_state() ? \"on\"_string : \"off\"_string;",
          "new_line_content": "WebIDL::ExceptionOr<void> Document::set_design_mode(String const& design_mode)",
          "content_same": false
        },
        {
          "line": 4612,
          "old_api": "f (value == \"on\"sv && !m_d",
          "new_api": null,
          "old_text": "f (value == \"on\"sv && !m_d",
          "new_text": null,
          "old_line_content": "    auto value = MUST(design_mode.to_lowercase());",
          "new_line_content": "    if (value == \"on\"sv && !m_design_mode_enabled) {",
          "content_same": false
        },
        {
          "line": 2570,
          "old_api": "ocument::set_visibil",
          "new_api": null,
          "old_text": "ocument::set_visibil",
          "new_text": null,
          "old_line_content": "    VERIFY_NOT_REACHED();",
          "new_line_content": "void Document::set_visibility_state(Badge<HTML::BrowsingContext>, HTML::VisibilityState visibility_state)",
          "content_same": false
        },
        {
          "line": 4621,
          "old_api": "ate_layout",
          "new_api": null,
          "old_text": "ate_layout();\n            }\n     ",
          "new_text": null,
          "old_line_content": "                TRY(active_range->set_start(*this, 0));",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 4622,
          "old_api": "the focusing steps for this's d",
          "new_api": null,
          "old_text": "the focusing steps for this's d",
          "new_text": null,
          "old_line_content": "                TRY(active_range->set_end(*this, 0));",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4623,
          "old_api": "non-null.",
          "new_api": null,
          "old_text": " non-null.\n    ",
          "new_text": null,
          "old_line_content": "                update_layout();",
          "new_line_content": "        // 3. Run the focusing steps for this's document element, if non-null.",
          "content_same": false
        },
        {
          "line": 4627,
          "old_api": "// 3. If value is \"off\"",
          "new_api": null,
          "old_text": " // 3. If value is \"off\"",
          "new_text": null,
          "old_line_content": "        if (auto* document_element = this->document_element(); document_element)",
          "new_line_content": "    // 3. If value is \"off\", then set this's design mode enabled to false.",
          "content_same": false
        },
        {
          "line": 4628,
          "old_api": "abled to false.\n    else if (value == \"off",
          "new_api": null,
          "old_text": "abled to false.\n    else if (value == \"off",
          "new_text": null,
          "old_line_content": "            HTML::run_focusing_steps(document_element);",
          "new_line_content": "    else if (value == \"off\"sv) {",
          "content_same": false
        },
        {
          "line": 4632,
          "old_api": "ument-elementfrompoint\nElement const",
          "new_api": null,
          "old_text": "ument-elementfrompoint\nElement const",
          "new_text": null,
          "old_line_content": "        set_design_mode_enabled_state(false);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2591,
          "old_api": "bilityc",
          "new_api": null,
          "old_text": "bilityc",
          "new_text": null,
          "old_line_content": "    auto event = DOM::Event::create(realm(), HTML::EventNames::visibilitychange);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2592,
          "old_api": "ispatch_event",
          "new_api": null,
          "old_text": "ispatch_event(event);\n}\n",
          "new_text": null,
          "old_line_content": "    event->set_bubbles(true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2593,
          "old_api": "tps://drafts.csswg.or",
          "new_api": null,
          "old_text": "tps://drafts.csswg.or",
          "new_text": null,
          "old_line_content": "    dispatch_event(event);",
          "new_line_content": "// https://drafts.csswg.org/cssom-view/#run-the-resize-steps",
          "content_same": false
        },
        {
          "line": 4646,
          "old_api": "update_layout();",
          "new_api": null,
          "old_text": "   update_layout();\n\n ",
          "new_text": null,
          "old_line_content": "    if (x < 0 || y < 0 || position.x() > viewport_rect.width() || position.y() > viewport_rect.height())",
          "new_line_content": "    // Ensure the layout tree exists prior to hit testing.",
          "content_same": false
        },
        {
          "line": 4650,
          "old_api": "inates x,y, whe",
          "new_api": null,
          "old_text": "inates x,y, whe",
          "new_text": null,
          "old_line_content": "    update_layout();",
          "new_line_content": "    //    that apply to the descendants of the viewport, return the associated element and terminate these steps.",
          "content_same": false
        },
        {
          "line": 2604,
          "old_api": "();\n    bool is_initial_size = !m_las",
          "new_api": null,
          "old_text": "();\n    bool is_initial_size = !m_las",
          "new_text": null,
          "old_line_content": "    auto viewport_size = viewport_rect().size().to_type<int>();",
          "new_line_content": "    if (m_last_viewport_size == viewport_size)",
          "content_same": false
        },
        {
          "line": 2605,
          "old_api": "if (m_last_viewport_size ==",
          "new_api": null,
          "old_text": "    if (m_last_viewport_size == ",
          "new_text": null,
          "old_line_content": "    bool is_initial_size = !m_last_viewport_size.has_value();",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 4656,
          "old_api": "dom_node",
          "new_api": null,
          "old_text": "     auto* dom_node = result.dom_node();\n            if (dom_node && dom_node->is_element()) {\n                hit_test_result = result;\n                return TraversalDecision::Break;\n            }\n            return TraversalDecision::Continue;\n        });\n    }\n    if (hit_test_result.has_value())\n        return static_cast<Element*>(hit_test_result->dom_node()",
          "new_text": null,
          "old_line_content": "        (void)paintable_box->hit_test(position, Painting::HitTestType::Exact, [&](Painting::HitTestResult result) {",
          "new_line_content": "                hit_test_result = result;",
          "content_same": false
        },
        {
          "line": 4657,
          "old_api": "sult;",
          "new_api": null,
          "old_text": "sult;\n           ",
          "new_text": null,
          "old_line_content": "            auto* dom_node = result.dom_node();",
          "new_line_content": "                return TraversalDecision::Break;",
          "content_same": false
        },
        {
          "line": 4658,
          "old_api": ":Break;\n            }",
          "new_api": null,
          "old_text": ":Break;\n            }\n",
          "new_text": null,
          "old_line_content": "            if (dom_node && dom_node->is_element()) {",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 2612,
          "old_api": "ze));",
          "new_api": null,
          "old_text": "ze));\n\n",
          "new_text": null,
          "old_line_content": "        window()->dispatch_event(DOM::Event::create(realm(), UIEvents::EventNames::resize));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2614,
          "old_api": "ps://w3c.github.io/csswg",
          "new_api": null,
          "old_text": "ps://w3c.github.io/csswg",
          "new_text": null,
          "old_line_content": "    schedule_layout_update();",
          "new_line_content": "// https://w3c.github.io/csswg-drafts/cssom-view-1/#document-run-the-scroll-steps",
          "content_same": false
        },
        {
          "line": 4665,
          "old_api": "the document has a root el",
          "new_api": null,
          "old_text": " the document has a root el",
          "new_text": null,
          "old_line_content": "    if (hit_test_result.has_value())",
          "new_line_content": "    // 3. If the document has a root element, return the root element and terminate these steps.",
          "content_same": false
        },
        {
          "line": 4669,
          "old_api": "n null.\n    return nullptr;\n}",
          "new_api": null,
          "old_text": "n null.\n    return nullptr;\n}\n",
          "new_text": null,
          "old_line_content": "    if (auto const* document_root_element = first_child_of_type<Element>(); document_root_element)",
          "new_line_content": "    // 4. Return null.",
          "content_same": false
        },
        {
          "line": 2624,
          "old_api": "",
          "new_api": null,
          "old_text": "       ",
          "new_text": null,
          "old_line_content": "            auto event = DOM::Event::create(realm(), HTML::EventNames::scroll);",
          "new_line_content": "            // FIXME: Fire at the associated VisualViewport",
          "content_same": false
        },
        {
          "line": 2625,
          "old_api": "dispatch_event",
          "new_api": null,
          "old_text": " target->dispatch_event(",
          "new_text": null,
          "old_line_content": "            event->set_bubbles(true);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2626,
          "old_api": "// FIXME: Fire at the a",
          "new_api": null,
          "old_text": "      // FIXME: Fire at the a",
          "new_text": null,
          "old_line_content": "            target->dispatch_event(event);",
          "new_line_content": "        // 2. Otherwise, fire an event named scroll at target.",
          "content_same": false
        },
        {
          "line": 2631,
          "old_api": "",
          "new_api": null,
          "old_text": "       ",
          "new_text": null,
          "old_line_content": "            auto event = DOM::Event::create(realm(), HTML::EventNames::scroll);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2632,
          "old_api": "}\n    }\n\n    // 2. Empty do",
          "new_api": null,
          "old_text": "  }\n    }\n\n    // 2. Empty do",
          "new_text": null,
          "old_line_content": "            target->dispatch_event(event);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2637,
          "old_api": "}\n\nvoid Document::add_media_query_lis",
          "new_api": null,
          "old_text": "\n}\n\nvoid Document::add_media_query_lis",
          "new_text": null,
          "old_line_content": "    m_pending_scroll_event_targets.clear();",
          "new_line_content": "void Document::add_media_query_list(JS::NonnullGCPtr<CSS::MediaQueryList> media_query_list)",
          "content_same": false
        },
        {
          "line": 4688,
          "old_api": "update_layout();",
          "new_api": null,
          "old_text": "    update_layout();\n\n",
          "new_text": null,
          "old_line_content": "    if (x < 0 || y < 0 || position.x() > viewport_rect.width() || position.y() > viewport_rect.height())",
          "new_line_content": "    // Ensure the layout tree exists prior to hit testing.",
          "content_same": false
        },
        {
          "line": 2642,
          "old_api": "_list);\n}\n\n// https://drafts.csswg.org/cssom-",
          "new_api": null,
          "old_text": "_list);\n}\n\n// https://drafts.csswg.org/cssom-",
          "new_text": null,
          "old_line_content": "    m_media_query_lists.append(*media_query_list);",
          "new_line_content": "// https://drafts.csswg.org/cssom-view/#evaluate-media-queries-and-report-changes",
          "content_same": false
        },
        {
          "line": 4692,
          "old_api": "would be a tar",
          "new_api": null,
          "old_text": " would be a tar",
          "new_text": null,
          "old_line_content": "    update_layout();",
          "new_line_content": "    //    hit testing at coordinates x,y even if nothing would be overlapping it, when applying the transforms that",
          "content_same": false
        },
        {
          "line": 2649,
          "old_api": "is_null",
          "new_api": null,
          "old_text": "([](auto& it) {\n        return it.is_null();\n    });\n\n    // 1. For each MediaQueryList ob",
          "new_text": null,
          "old_line_content": "    m_media_query_lists.remove_all_matching([](auto& it) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2650,
          "old_api": "ch MediaQuer",
          "new_api": null,
          "old_text": "ch MediaQuer",
          "new_text": null,
          "old_line_content": "        return it.is_null();",
          "new_line_content": "    // 1. For each MediaQueryList object target that has doc as its document,",
          "content_same": false
        },
        {
          "line": 4699,
          "old_api": "c_cast<Element*>(",
          "new_api": null,
          "old_text": "c_cast<Element*>(",
          "new_text": null,
          "old_line_content": "            auto* dom_node = result.dom_node();",
          "new_line_content": "            return TraversalDecision::Continue;",
          "content_same": false
        },
        {
          "line": 4700,
          "old_api": "TraversalDecision::Co",
          "new_api": null,
          "old_text": " TraversalDecision::Co",
          "new_text": null,
          "old_line_content": "            if (dom_node && dom_node->is_element())",
          "new_line_content": "        });",
          "content_same": false
        },
        {
          "line": 4701,
          "old_api": ". If the document has a root el",
          "new_api": null,
          "old_text": ". If the document has a root el",
          "new_text": null,
          "old_line_content": "                sequence.append(*static_cast<Element*>(dom_node));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4708,
          "old_api": "turn sequence;",
          "new_api": null,
          "old_text": "turn sequence;\n",
          "new_text": null,
          "old_line_content": "    if (auto* root_element = document_element(); root_element && (sequence.is_empty() || (sequence.last() != root_element)))",
          "new_line_content": "    // 5. Return sequence.",
          "content_same": false
        },
        {
          "line": 4709,
          "old_api": "rg/cssom-view/#dom-document-sc",
          "new_api": null,
          "old_text": "rg/cssom-view/#dom-document-sc",
          "new_text": null,
          "old_line_content": "        sequence.append(*root_element);",
          "new_line_content": "    return sequence;",
          "content_same": false
        },
        {
          "line": 2663,
          "old_api": "match = media_query_list->",
          "new_api": null,
          "old_text": "match = media_query_list->",
          "new_text": null,
          "old_line_content": "        JS::GCPtr<CSS::MediaQueryList> media_query_list = media_query_list_ptr.ptr();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2664,
          "old_api": "_matches = media_query_list",
          "new_api": null,
          "old_text": "_matches = media_query_list",
          "new_text": null,
          "old_line_content": "        bool did_match = media_query_list->matches();",
          "new_line_content": "        if (did_match != now_matches) {",
          "content_same": false
        },
        {
          "line": 2665,
          "old_api": "d_match != now_matches) {",
          "new_api": null,
          "old_text": "d_match != now_matches) {\n  ",
          "new_text": null,
          "old_line_content": "        bool now_matches = media_query_list->evaluate();",
          "new_line_content": "            CSS::MediaQueryListEventInit init;",
          "content_same": false
        },
        {
          "line": 2671,
          "old_api": "",
          "new_api": null,
          "old_text": "       ",
          "new_text": null,
          "old_line_content": "            auto event = CSS::MediaQueryListEvent::create(realm(), HTML::EventNames::change, init);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2672,
          "old_api": "a_query_list->dispatch_even",
          "new_api": null,
          "old_text": "a_query_list->dispatch_even",
          "new_text": null,
          "old_line_content": "            event->set_is_trusted(true);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2673,
          "old_api": "}\n    }\n\n    // Also not in the spe",
          "new_api": null,
          "old_text": "     }\n    }\n\n    // Also not in the spe",
          "new_text": null,
          "old_line_content": "            media_query_list->dispatch_event(*event);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4722,
          "old_api": "t these steps.\n        return nullptr;",
          "new_api": null,
          "old_text": "t these steps.\n        return nullptr;\n  ",
          "new_text": null,
          "old_line_content": "        if (auto const* body_element = body(); body_element && !body_element->is_potentially_scrollable())",
          "new_line_content": "        // 2. Return null and abort these steps.",
          "content_same": false
        },
        {
          "line": 2678,
          "old_api": "luate_media_rules",
          "new_api": null,
          "old_text": "luate_media_rules()\n{\n",
          "new_text": null,
          "old_line_content": "    evaluate_media_rules();",
          "new_line_content": "void Document::evaluate_media_rules()",
          "content_same": false
        },
        {
          "line": 4730,
          "old_api": "/ https://html.spe",
          "new_api": null,
          "old_text": "/ https://html.spe",
          "new_text": null,
          "old_line_content": "    if (auto const* root_element = document_element(); root_element)",
          "new_line_content": "    // 3. Return null.",
          "content_same": false
        },
        {
          "line": 2683,
          "old_api": "rn;\n\n    bool",
          "new_api": null,
          "old_text": "rn;\n\n    bool ",
          "new_text": null,
          "old_line_content": "    auto window = this->window();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2688,
          "old_api": "evaluate_media_queries",
          "new_api": null,
          "old_text": "et& style_sheet) {\n        if (style_sheet.evaluate_media_queries(*window))\n            any_media_queries_changed_match_state = true;\n    });\n\n    if (any_media_queries_changed_match_st",
          "new_text": null,
          "old_line_content": "    for_each_css_style_sheet([&](CSS::CSSStyleSheet& style_sheet) {",
          "new_line_content": "    });",
          "content_same": false
        },
        {
          "line": 2689,
          "old_api": "any_media_queries_changed_match",
          "new_api": null,
          "old_text": "            any_media_queries_changed_match",
          "new_text": null,
          "old_line_content": "        if (style_sheet.evaluate_media_queries(*window))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4740,
          "old_api": "s no exposed object ancestor, and,",
          "new_api": null,
          "old_text": "s no exposed object ancestor, and,\n ",
          "new_text": null,
          "old_line_content": "    VERIFY(is<HTML::HTMLEmbedElement>(element) || is<HTML::HTMLObjectElement>(element));",
          "new_line_content": "    //        for object elements, is additionally either not showing its fallback content or has no object or embed descendants.",
          "content_same": false
        },
        {
          "line": 2694,
          "old_api": "invalidate_style();\n        invalid",
          "new_api": null,
          "old_text": "     invalidate_style();\n        invalid",
          "new_text": null,
          "old_line_content": "        style_computer().invalidate_rule_cache();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2695,
          "old_api": "();\n    }\n}\n\nDOMIm",
          "new_api": null,
          "old_text": "();\n    }\n}\n\nDOMIm",
          "new_text": null,
          "old_line_content": "        invalidate_style();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2696,
          "old_api": "on* Document::imple",
          "new_api": null,
          "old_text": "on* Document::imple",
          "new_text": null,
          "old_line_content": "        invalidate_layout();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2703,
          "old_api": "m_implementation;\n}\n\nbool Docume",
          "new_api": null,
          "old_text": "m_implementation;\n}\n\nbool Docume",
          "new_text": null,
          "old_line_content": "        m_implementation = DOMImplementation::create(*this);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4762,
          "old_api": "value",
          "new_api": null,
          "old_text": "set(name.value());\n",
          "new_text": null,
          "old_line_content": "            || (is<HTML::HTMLObjectElement>(*element) && is_exposed(element))) {",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 4763,
          "old_api": "the id content",
          "new_api": null,
          "old_text": " the id content ",
          "new_text": null,
          "old_line_content": "            if (auto name = element->name(); name.has_value()) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4764,
          "old_api": "ct elements",
          "new_api": null,
          "old_text": "ct elements ",
          "new_text": null,
          "old_line_content": "                names.set(name.value());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4770,
          "old_api": "value",
          "new_api": null,
          "old_text": "value());\n         ",
          "new_text": null,
          "old_line_content": "        if (is<HTML::HTMLObjectElement>(*element) && is_exposed(element)) {",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 4771,
          "old_api": "id content at",
          "new_api": null,
          "old_text": " id content at",
          "new_text": null,
          "old_line_content": "            if (auto id = element->id(); id.has_value()) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4772,
          "old_api": "hat have b",
          "new_api": null,
          "old_text": "hat have b",
          "new_text": null,
          "old_line_content": "                names.set(id.value());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4778,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "e().has_value()) {\n                n",
          "new_text": null,
          "old_line_content": "        if (is<HTML::HTMLImageElement>(*element)) {",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 4779,
          "old_api": "values",
          "new_api": null,
          "old_text": " names.values();\n}\n\nstatic ",
          "new_text": null,
          "old_line_content": "            if (auto id = element->id(); id.has_value() && element->name().has_value()) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4780,
          "old_api": "e",
          "new_api": null,
          "old_text": "e(Element ",
          "new_text": null,
          "old_line_content": "                names.set(id.value());",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4785,
          "old_api": "// Named eleme",
          "new_api": null,
          "old_text": "// Named eleme",
          "new_text": null,
          "old_line_content": "    return names.values();",
          "new_line_content": "static bool is_named_element_with_name(Element const& element, FlyString const& name)",
          "content_same": false
        },
        {
          "line": 2747,
          "old_api": "|| code_point == '-'\n        || code",
          "new_api": null,
          "old_text": "     || code_point == '-'\n        || code",
          "new_text": null,
          "old_line_content": "    return is_valid_name_start_character(code_point)",
          "new_line_content": "        || (code_point >= '0' && code_point <= '9')",
          "content_same": false
        },
        {
          "line": 4797,
          "old_api": "name",
          "new_api": null,
          "old_text": "\n        if (element.name() == name",
          "new_text": null,
          "old_line_content": "        || is<HTML::HTMLImageElement>(element)",
          "new_line_content": "            return true;",
          "content_same": false
        },
        {
          "line": 4798,
          "old_api": "ject elements that",
          "new_api": null,
          "old_text": "ject elements that ",
          "new_text": null,
          "old_line_content": "        || (is<HTML::HTMLObjectElement>(element) && is_exposed(element))) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4799,
          "old_api": "t attribute wh",
          "new_api": null,
          "old_text": "t attribute wh",
          "new_text": null,
          "old_line_content": "        if (element.name() == name)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4804,
          "old_api": "that have an id con",
          "new_api": null,
          "old_text": "that have an id con",
          "new_text": null,
          "old_line_content": "    if (is<HTML::HTMLObjectElement>(element) && is_exposed(element)) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4805,
          "old_api": "hose value i",
          "new_api": null,
          "old_text": "hose value i",
          "new_text": null,
          "old_line_content": "        if (element.id() == name)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2762,
          "old_api": "start_character",
          "new_api": null,
          "old_text": "start_character(*it",
          "new_text": null,
          "old_line_content": "    auto it = code_points.begin();",
          "new_line_content": "        return false;",
          "content_same": false
        },
        {
          "line": 4811,
          "old_api": "return true;\n    }\n\n    return",
          "new_api": null,
          "old_text": "    return true;\n    }\n\n    return ",
          "new_text": null,
          "old_line_content": "    if (is<HTML::HTMLImageElement>(element)) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2764,
          "old_api": "eturn false;\n    ++it;\n\n    for (;",
          "new_api": null,
          "old_text": "eturn false;\n    ++it;\n\n    for (;",
          "new_text": null,
          "old_line_content": "    if (!is_valid_name_start_character(*it))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4812,
          "old_api": "<DOM::Element>> named_elem",
          "new_api": null,
          "old_text": "<DOM::Element>> named_elem",
          "new_text": null,
          "old_line_content": "        if (element.id() == name && element.name().has_value())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2768,
          "old_api": "lid_name_characte",
          "new_api": null,
          "old_text": "lid_name_characte",
          "new_text": null,
          "old_line_content": "    for (; it != code_points.end(); ++it) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2769,
          "old_api": "urn false;\n    }\n\n    return",
          "new_api": null,
          "old_text": "urn false;\n    }\n\n    return",
          "new_text": null,
          "old_line_content": "        if (!is_valid_name_character(*it))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4823,
          "old_api": "append",
          "new_api": null,
          "old_text": "ed_elements.append(element);\n    }\n\n ",
          "new_text": null,
          "old_line_content": "    for (auto const& element : document.potentially_named_elements()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4824,
          "old_api": "elements;\n}\n\n// https://html.spec.whatwg.",
          "new_api": null,
          "old_text": "elements;\n}\n\n// https://html.spec.whatwg.",
          "new_text": null,
          "old_line_content": "        if (is_named_element_with_name(element, name))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4825,
          "old_api": "dom.html#dom-document-namedite",
          "new_api": null,
          "old_text": "dom.html#dom-document-namedite",
          "new_text": null,
          "old_line_content": "            named_elements.append(element);",
          "new_line_content": "    return named_elements;",
          "content_same": false
        },
        {
          "line": 2780,
          "old_api": "\"Empty string is not a valid qualified name.\"_fly_string);\n\n    auto utf8view = qualified_name.code_po",
          "new_api": null,
          "old_text": "\"Empty string is not a valid qualified name.\"_fly_string);\n\n    auto utf8view = qualified_name.code_po",
          "new_text": null,
          "old_line_content": "        return WebIDL::InvalidCharacterError::create(realm, \"Empty string is not a valid qualified name.\"_fly_string);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2782,
          "old_api": "ize_t> colon_offset;\n\n    bo",
          "new_api": null,
          "old_text": "ize_t> colon_offset;\n\n    bo",
          "new_text": null,
          "old_line_content": "    auto utf8view = qualified_name.code_points();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4836,
          "old_api": "me element, and that iframe element's",
          "new_api": null,
          "old_text": "me element, and that iframe element's",
          "new_text": null,
          "old_line_content": "    auto elements = named_elements_with_name(*this, name);",
          "new_line_content": "    //    then return the active WindowProxy of the element's content navigable.",
          "content_same": false
        },
        {
          "line": 2791,
          "old_api": "urn WebIDL::InvalidChara",
          "new_api": null,
          "old_text": "urn WebIDL::InvalidChara",
          "new_text": null,
          "old_line_content": "            if (colon_offset.has_value())",
          "new_line_content": "            at_start_of_name = true;",
          "content_same": false
        },
        {
          "line": 2792,
          "old_api": "\"More than one colon (:) in qualified name.\"_fly_string);\n            colon_offset = utf8view.byte_of",
          "new_api": null,
          "old_text": "\"More than one colon (:) in qualified name.\"_fly_string);\n            colon_offset = utf8view.byte_of",
          "new_text": null,
          "old_line_content": "                return WebIDL::InvalidCharacterError::create(realm, \"More than one colon (:) in qualified name.\"_fly_string);",
          "new_line_content": "            continue;",
          "content_same": false
        },
        {
          "line": 2793,
          "old_api": "tart_of_name = true;",
          "new_api": null,
          "old_text": "tart_of_name = true;\n      ",
          "new_text": null,
          "old_line_content": "            colon_offset = utf8view.byte_offset_of(it);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4841,
          "old_api": ".content_navigab",
          "new_api": null,
          "old_text": ".content_navigab",
          "new_text": null,
          "old_line_content": "        auto& iframe_element = static_cast<HTML::HTMLIFrameElement&>(*elements.first());",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4842,
          "old_api": "ndow_proxy",
          "new_api": null,
          "old_text": "ndow_proxy();\n    }\n\n    // 3. Oth",
          "new_text": null,
          "old_line_content": "        if (iframe_element.content_navigable() != nullptr)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4843,
          "old_api": "size",
          "new_api": null,
          "old_text": " element, return that element.\n    if (elements.size() ==",
          "new_text": null,
          "old_line_content": "            return iframe_element.content_navigable()->active_window_proxy();",
          "new_line_content": "    // 3. Otherwise, if elements has only one element, return that element.",
          "content_same": false
        },
        {
          "line": 2798,
          "old_api": "return WebIDL::InvalidChara",
          "new_api": null,
          "old_text": "              return WebIDL::InvalidChara",
          "new_text": null,
          "old_line_content": "            if (!is_valid_name_start_character(code_point))",
          "new_line_content": "            continue;",
          "content_same": false
        },
        {
          "line": 2799,
          "old_api": "\"Invalid start of qualified name.\"_fly_string);\n            at_start_of_name = false;",
          "new_api": null,
          "old_text": "\"Invalid start of qualified name.\"_fly_string);\n            at_start_of_name = false;\n     ",
          "new_text": null,
          "old_line_content": "                return WebIDL::InvalidCharacterError::create(realm, \"Invalid start of qualified name.\"_fly_string);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4847,
          "old_api": "the Document no",
          "new_api": null,
          "old_text": "the Document no",
          "new_text": null,
          "old_line_content": "    if (elements.size() == 1)",
          "new_line_content": "    // 4. Otherwise return an HTMLCollection rooted at the Document node, whose filter matches only named elements with the name name.",
          "content_same": false
        },
        {
          "line": 2803,
          "old_api": "return WebIDL::InvalidCharacter",
          "new_api": null,
          "old_text": "    return WebIDL::InvalidCharacter",
          "new_text": null,
          "old_line_content": "        if (!is_valid_name_character(code_point))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4851,
          "old_api": "d_element_with_name",
          "new_api": null,
          "old_text": "d_element_with_name(element",
          "new_text": null,
          "old_line_content": "    return HTMLCollection::create(*const_cast<Document*>(this), HTMLCollection::Scope::Descendants, [name](auto& element) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4852,
          "old_api": "mmand",
          "new_api": null,
          "old_text": "mmand()\nbool Document::exec_command(Strin",
          "new_text": null,
          "old_line_content": "        return is_named_element_with_name(element, name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2807,
          "old_api": "ment::PrefixAndTagName {",
          "new_api": null,
          "old_text": "ment::PrefixAndTagName {",
          "new_text": null,
          "old_line_content": "    if (!colon_offset.has_value())",
          "new_line_content": "            .tag_name = qualified_name,",
          "content_same": false
        },
        {
          "line": 2816,
          "old_api": ") - 1))\n        return WebIDL::InvalidCharacte",
          "new_api": null,
          "old_text": ") - 1))\n        return WebIDL::InvalidCharacte",
          "new_text": null,
          "old_line_content": "    if (*colon_offset >= (qualified_name.bytes_as_string_view().length() - 1))",
          "new_line_content": "    return Document::PrefixAndTagName {",
          "content_same": false
        },
        {
          "line": 2820,
          "old_api": "ng_view",
          "new_api": null,
          "old_text": "ng_view(0, *colon_offset))),\n        .tag_name = MUST(FlyString::from_",
          "new_text": null,
          "old_line_content": "        .prefix = MUST(FlyString::from_utf8(qualified_name.bytes_as_string_view().substring_view(0, *colon_offset))),",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2821,
          "old_api": "ng_view",
          "new_api": null,
          "old_text": "ng_view(*colon_offset + 1))),\n    };\n}\n\n// https://dom.spec.whatwg.org/",
          "new_text": null,
          "old_line_content": "        .tag_name = MUST(FlyString::from_utf8(qualified_name.bytes_as_string_view().substring_view(*colon_offset + 1))),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2828,
          "old_api": "release_value_but_fixme_should_propagate_errors",
          "new_api": null,
          "old_text": "er).release_value_but_fixme_should_propagate_errors();\n}\n\n// https://dom.spec.whatwg.org/#dom-docu",
          "new_text": null,
          "old_line_content": "    return NodeIterator::create(root, what_to_show, filter).release_value_but_fixme_should_propagate_errors();",
          "new_line_content": "// https://dom.spec.whatwg.org/#dom-document-createtreewalker",
          "content_same": false
        },
        {
          "line": 2834,
          "old_api": ");\n}\n\nvoid Document::register_node_iterator(Ba",
          "new_api": null,
          "old_text": ");\n}\n\nvoid Document::register_node_iterator(Ba",
          "new_text": null,
          "old_line_content": "    return TreeWalker::create(root, what_to_show, filter);",
          "new_line_content": "void Document::register_node_iterator(Badge<NodeIterator>, NodeIterator& node_iterator)",
          "content_same": false
        },
        {
          "line": 2839,
          "old_api": "IFY",
          "new_api": null,
          "old_text": "IFY(result == AK::HashSetResult::Ins",
          "new_text": null,
          "old_line_content": "    auto result = m_node_iterators.set(&node_iterator);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2840,
          "old_api": "ewEntry);\n}\n\nvoid Document::unregister_node_iterator(",
          "new_api": null,
          "old_text": "ewEntry);\n}\n\nvoid Document::unregister_node_iterator(",
          "new_text": null,
          "old_line_content": "    VERIFY(result == AK::HashSetResult::InsertedNewEntry);",
          "new_line_content": "void Document::unregister_node_iterator(Badge<NodeIterator>, NodeIterator& node_iterator)",
          "content_same": false
        },
        {
          "line": 2845,
          "old_api": "VERIFY",
          "new_api": null,
          "old_text": "VERIFY(was_removed);\n}\n\nvoid Document::",
          "new_text": null,
          "old_line_content": "    bool was_removed = m_node_iterators.remove(&node_iterator);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2846,
          "old_api": "er_document_observe",
          "new_api": null,
          "old_text": "er_document_observe",
          "new_text": null,
          "old_line_content": "    VERIFY(was_removed);",
          "new_line_content": "void Document::register_document_observer(Badge<DocumentObserver>, DocumentObserver& document_observer)",
          "content_same": false
        },
        {
          "line": 2851,
          "old_api": "VERIFY(result == AK::HashSetResult::Ins",
          "new_api": null,
          "old_text": "    VERIFY(result == AK::HashSetResult::Ins",
          "new_text": null,
          "old_line_content": "    auto result = m_document_observers.set(document_observer);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2852,
          "old_api": "ewEntry);\n}\n\nvoid Document::unregister_document_obser",
          "new_api": null,
          "old_text": "ewEntry);\n}\n\nvoid Document::unregister_document_obser",
          "new_text": null,
          "old_line_content": "    VERIFY(result == AK::HashSetResult::InsertedNewEntry);",
          "new_line_content": "void Document::unregister_document_observer(Badge<DocumentObserver>, DocumentObserver& document_observer)",
          "content_same": false
        },
        {
          "line": 4899,
          "old_api": "tive-observations",
          "new_api": null,
          "old_text": "tive-observations",
          "new_text": null,
          "old_line_content": "    for (auto const* current = &node; current; current = current->parent())",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2857,
          "old_api": ");\n    VERIFY(was_removed);\n}\n\nvoid Document::",
          "new_api": null,
          "old_text": ");\n    VERIFY(was_removed);\n}\n\nvoid Document::",
          "new_text": null,
          "old_line_content": "    bool was_removed = m_document_observers.remove(document_observer);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2858,
          "old_api": "ent_number_of_thing",
          "new_api": null,
          "old_text": "ent_number_of_thing",
          "new_text": null,
          "old_line_content": "    VERIFY(was_removed);",
          "new_line_content": "void Document::increment_number_of_things_delaying_the_load_event(Badge<DocumentLoadEventDelayer>)",
          "content_same": false
        },
        {
          "line": 4912,
          "old_api": "n in observer.[[observationTargets",
          "new_api": null,
          "old_text": "n in observer.[[observationTargets",
          "new_text": null,
          "old_line_content": "        observer->active_targets().clear();",
          "new_line_content": "        // 2. For each observation in observer.[[observationTargets]] run this step:",
          "content_same": false
        },
        {
          "line": 2865,
          "old_api": "t",
          "new_api": null,
          "old_text": "t(m_number_of_things_delaying_the_load_event);\n}\n\nvoid Document::decrement_number_of_thing",
          "new_text": null,
          "old_line_content": "    page().client().page_did_update_resource_count(m_number_of_things_delaying_the_load_event);",
          "new_line_content": "void Document::decrement_number_of_things_delaying_the_load_event(Badge<DocumentLoadEventDelayer>)",
          "content_same": false
        },
        {
          "line": 4916,
          "old_api": ">is_active()) {",
          "new_api": null,
          "old_text": ">is_active()) {\n               ",
          "new_text": null,
          "old_line_content": "        for (auto const& observation : observer->observation_targets()) {",
          "new_line_content": "                // 1. Let targetDepth be result of calculate depth for node for observation.target.",
          "content_same": false
        },
        {
          "line": 4918,
          "old_api": "tion.target.",
          "new_api": null,
          "old_text": "tion.target.\n           ",
          "new_text": null,
          "old_line_content": "            if (observation->is_active()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4920,
          "old_api": "eTargets]].",
          "new_api": null,
          "old_text": "eTargets]].\n         ",
          "new_text": null,
          "old_line_content": "                auto target_depth = calculate_depth_for_node(*observation->target());",
          "new_line_content": "                if (target_depth > depth) {",
          "content_same": false
        },
        {
          "line": 2873,
          "old_api": "t",
          "new_api": null,
          "old_text": "t(m_number_of_things_delaying_the_load_event);\n}\n\nbool Document::anything_is_delaying_the_",
          "new_text": null,
          "old_line_content": "    page().client().page_did_update_resource_count(m_number_of_things_delaying_the_load_event);",
          "new_line_content": "bool Document::anything_is_delaying_the_load_event() const",
          "content_same": false
        },
        {
          "line": 4927,
          "old_api": "ts.csswg.org/resize-observer-1/#broadcast-activ",
          "new_api": null,
          "old_text": "ts.csswg.org/resize-observer-1/#broadcast-activ",
          "new_text": null,
          "old_line_content": "                    observer->skipped_targets().append(observation);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2881,
          "old_api": "container",
          "new_api": null,
          "old_text": "ble->container()->curre",
          "new_text": null,
          "old_line_content": "    for (auto& navigable : descendant_navigables()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2882,
          "old_api": "load_event",
          "new_api": null,
          "old_text": "load_event())\n            return true;\n    }\n\n    // FIXM",
          "new_text": null,
          "old_line_content": "        if (navigable->container()->currently_delays_the_load_event())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4938,
          "old_api": "auto const& observer : m_res",
          "new_api": null,
          "old_text": "auto const& observer : m_res",
          "new_text": null,
          "old_line_content": "    auto shallowest_target_depth = NumericLimits<size_t>::max();",
          "new_line_content": "    for (auto const& observer : m_resize_observers) {",
          "content_same": false
        },
        {
          "line": 2893,
          "old_api": ">invalidate_stacking_",
          "new_api": null,
          "old_text": ">invalidate_stacking_",
          "new_text": null,
          "old_line_content": "    if (auto* paintable_box = this->paintable_box())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2894,
          "old_api": "}\n\nvoid Document::check_favicon_after_loadi",
          "new_api": null,
          "old_text": "\n}\n\nvoid Document::check_favicon_after_loadi",
          "new_text": null,
          "old_line_content": "        paintable_box->invalidate_stacking_context();",
          "new_line_content": "void Document::check_favicon_after_loading_link_resource()",
          "content_same": false
        },
        {
          "line": 4943,
          "old_api": "of ResizeObserverEntryies.\n        Ve",
          "new_api": null,
          "old_text": "of ResizeObserverEntryies.\n        Ve",
          "new_text": null,
          "old_line_content": "        if (observer->active_targets().is_empty()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2901,
          "old_api": ";",
          "new_api": null,
          "old_text": ";\n\n   ",
          "new_text": null,
          "old_line_content": "    auto* head_element = head();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4951,
          "old_api": "erEntry given observation.",
          "new_api": null,
          "old_text": "erEntry given observation.",
          "new_text": null,
          "old_line_content": "        for (auto const& observation : observer->active_targets()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2905,
          "old_api": "has_loaded_icon",
          "new_api": null,
          "old_text": "lection::Scope::Descendants, [](Element const& element) {\n        if (!is<HTML::HTMLLinkElement>(element))\n            return false;\n\n        return static_cast<HTML::HTMLLinkElement const&>(element).has_loaded_icon();\n    });\n\n    if (favicon_link_elements->length() ==",
          "new_text": null,
          "old_line_content": "    auto favicon_link_elements = HTMLCollection::create(*head_element, HTMLCollection::Scope::Descendants, [](Element const& element) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2912,
          "old_api": "dbgln_if(SPAM_DEBUG, \"No fav",
          "new_api": null,
          "old_text": "   dbgln_if(SPAM_DEBUG, \"No fav",
          "new_text": null,
          "old_line_content": "    if (favicon_link_elements->length() == 0) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2913,
          "old_api": "used\");\n        return;\n    }\n\n    // 4.6.7.8 Link",
          "new_api": null,
          "old_text": "used\");\n        return;\n    }\n\n    // 4.6.7.8 Link ",
          "new_text": null,
          "old_line_content": "        dbgln_if(SPAM_DEBUG, \"No favicon found to be used\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4962,
          "old_api": "// Matching",
          "new_api": null,
          "old_text": "             // Matching",
          "new_text": null,
          "old_line_content": "                observation->last_reported_sizes() = entry->border_box_size();",
          "new_line_content": "                // Matching sizes are entry.contentBoxSize if observation.observedBox is \"content-box\"",
          "content_same": false
        },
        {
          "line": 4966,
          "old_api": "tentBox:",
          "new_api": null,
          "old_text": "tentBox:\n                ",
          "new_text": null,
          "old_line_content": "                observation->last_reported_sizes() = entry->content_box_size();",
          "new_line_content": "                // Matching sizes are entry.devicePixelContentBoxSize if observation.observedBox is \"device-pixel-content-box\"",
          "content_same": false
        },
        {
          "line": 4973,
          "old_api": "observation.target.",
          "new_api": null,
          "old_text": "observation.target.\n",
          "new_text": null,
          "old_line_content": "                VERIFY_NOT_REACHED();",
          "new_line_content": "            // 4. Set targetDepth to the result of calculate depth for node for observation.target.",
          "content_same": false
        },
        {
          "line": 2927,
          "old_api": "favicon_element == m_active_el",
          "new_api": null,
          "old_text": "favicon_element == m_active_el",
          "new_text": null,
          "old_line_content": "        auto favicon_element = favicon_link_elements->item(i);",
          "new_line_content": "            return;",
          "content_same": false
        },
        {
          "line": 2929,
          "old_api": "// If the user",
          "new_api": null,
          "old_text": "        // If the user",
          "new_text": null,
          "old_line_content": "        if (favicon_element == m_active_element.ptr())",
          "new_line_content": "        // If the user agent tries to use an icon but that icon is determined, upon closer examination,",
          "content_same": false
        },
        {
          "line": 4977,
          "old_api": "Depth\n            if",
          "new_api": null,
          "old_text": "Depth\n            if ",
          "new_text": null,
          "old_line_content": "            auto target_depth = calculate_depth_for_node(*observation->target());",
          "new_line_content": "            if (target_depth < shallowest_target_depth)",
          "content_same": false
        },
        {
          "line": 2935,
          "old_api": "load_favicon_and_use_if_window_is_active",
          "new_api": null,
          "old_text": "lement)->load_favicon_and_use_if_window_is_active()) {\n            m_active_favicon = favicon_el",
          "new_text": null,
          "old_line_content": "        if (static_cast<HTML::HTMLLinkElement*>(favicon_element)->load_favicon_and_use_if_window_is_active()) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4988,
          "old_api": "observer-1/#has-active-observation",
          "new_api": null,
          "old_text": "observer-1/#has-active-observation",
          "new_text": null,
          "old_line_content": "        observer->active_targets().clear();",
          "new_line_content": "    return shallowest_target_depth;",
          "content_same": false
        },
        {
          "line": 2941,
          "old_api": "used\");\n}\n\nvoid Document::set_window(HTML::Window&",
          "new_api": null,
          "old_text": "used\");\n}\n\nvoid Document::set_window(HTML::Window& ",
          "new_text": null,
          "old_line_content": "    dbgln_if(SPAM_DEBUG, \"No favicon found to be used\");",
          "new_line_content": "void Document::set_window(HTML::Window& window)",
          "content_same": false
        },
        {
          "line": 5000,
          "old_api": "/ https://drafts.csswg.org/resize-obs",
          "new_api": null,
          "old_text": "/ https://drafts.csswg.org/resize-obs",
          "new_text": null,
          "old_line_content": "        if (!observer->active_targets().is_empty())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2957,
          "old_api": "// 3. Let regi",
          "new_api": null,
          "old_text": "    // 3. Let regi",
          "new_text": null,
          "old_line_content": "    if (!browsing_context())",
          "new_line_content": "    // 3. Let registry be document's relevant global object's CustomElementRegistry object.",
          "content_same": false
        },
        {
          "line": 2961,
          "old_api": "s",
          "new_api": null,
          "old_text": "s();\n\n    // 4. If there is c",
          "new_text": null,
          "old_line_content": "    auto registry = verify_cast<HTML::Window>(relevant_global_object(*this)).custom_elements();",
          "new_line_content": "    auto converted_local_name = local_name;",
          "content_same": false
        },
        {
          "line": 2965,
          "old_api": "ybe_definition)\n        return m",
          "new_api": null,
          "old_text": "ybe_definition)\n        return m",
          "new_text": null,
          "old_line_content": "    auto maybe_definition = registry->get_definition_with_name_and_local_name(converted_local_name.to_string(), converted_local_name.to_string());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5014,
          "old_api": "JS::NonnullGCPtr<WebIDL::ObservableArr",
          "new_api": null,
          "old_text": "JS::NonnullGCPtr<WebIDL::ObservableArr",
          "new_text": null,
          "old_line_content": "        if (!observer->skipped_targets().is_empty())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2976,
          "old_api": "yleSheetList& Document::style_sh",
          "new_api": null,
          "old_text": "yleSheetList& Document::style_sh",
          "new_text": null,
          "old_line_content": "    return registry->get_definition_with_name_and_local_name(is.value(), converted_local_name.to_string());",
          "new_line_content": "CSS::StyleSheetList& Document::style_sheets()",
          "content_same": false
        },
        {
          "line": 5025,
          "old_api": "_style_sheets",
          "new_api": null,
          "old_text": "_style_sheets(JS::Value new_",
          "new_text": null,
          "old_line_content": "        m_adopted_style_sheets = create_adopted_style_sheets_list(const_cast<Document&>(*this));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2982,
          "old_api": "n *m_style_sheets;\n}\n\nCSS::StyleSh",
          "new_api": null,
          "old_text": "n *m_style_sheets;\n}\n\nCSS::StyleSh",
          "new_text": null,
          "old_line_content": "        m_style_sheets = CSS::StyleSheetList::create(*this);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2988,
          "old_api": "}\n\nJS::NonnullGCPtr<HTML::History> Document",
          "new_api": null,
          "old_text": "}\n\nJS::NonnullGCPtr<HTML::History> Document",
          "new_text": null,
          "old_line_content": "    return const_cast<Document*>(this)->style_sheets();",
          "new_line_content": "JS::NonnullGCPtr<HTML::History> Document::history()",
          "content_same": false
        },
        {
          "line": 5038,
          "old_api": "d Document::for_",
          "new_api": null,
          "old_text": "d Document::for_",
          "new_text": null,
          "old_line_content": "        if (!next.has_value())",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 5040,
          "old_api": "d",
          "new_api": null,
          "old_text": "d(CSS::CSSStyleSheet&)>&& callback) c",
          "new_text": null,
          "old_line_content": "        TRY(m_adopted_style_sheets->append(*next));",
          "new_line_content": "    return {};",
          "content_same": false
        },
        {
          "line": 2994,
          "old_api": "::Nonnu",
          "new_api": null,
          "old_text": "::Nonnu",
          "new_text": null,
          "old_line_content": "        m_history = HTML::History::create(realm(), *this);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3000,
          "old_api": "https://html.spec.whatwg.org/multipag",
          "new_api": null,
          "old_text": " https://html.spec.whatwg.org/multipag",
          "new_text": null,
          "old_line_content": "    return const_cast<Document*>(this)->history();",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/origin.html#dom-document-domain",
          "content_same": false
        },
        {
          "line": 5049,
          "old_api": "callback(*style_sheet)",
          "new_api": null,
          "old_text": "  callback(*style_sheet)",
          "new_text": null,
          "old_line_content": "        for (auto& style_sheet : m_style_sheets->sheets()) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 5050,
          "old_api": "m_adopted_style",
          "new_api": null,
          "old_text": "        m_adopted_style",
          "new_text": null,
          "old_line_content": "            if (!(style_sheet->is_alternate() && style_sheet->disabled()))",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 5051,
          "old_api": "SS::CSSStyleSheet>([&]",
          "new_api": null,
          "old_text": "SS::CSSStyleSheet>([&]",
          "new_text": null,
          "old_line_content": "                callback(*style_sheet);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5056,
          "old_api": ")\n                callback(style_sheet);\n        });\n    }\n}\n\nvoid Document::register_shadow_root(Badge<DOM::ShadowRoot>, DOM::ShadowRoot& shadow_root)\n{\n    m_shadow_r",
          "new_api": null,
          "old_text": ")\n                callback(style_sheet);\n        });\n    }\n}\n\nvoid Document::register_shadow_root(Badge<DOM::ShadowRoot>, DOM::ShadowRoot& shadow_root)\n{\n    m_shadow_r",
          "new_text": null,
          "old_line_content": "        m_adopted_style_sheets->for_each<CSS::CSSStyleSheet>([&](auto& style_sheet) {",
          "new_line_content": "        });",
          "content_same": false
        },
        {
          "line": 5057,
          "old_api": "ot",
          "new_api": null,
          "old_text": "ot(Badge<DOM::ShadowRo",
          "new_text": null,
          "old_line_content": "            if (!style_sheet.disabled())",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3010,
          "old_api": "String {};\n\n    // 3. Return",
          "new_api": null,
          "old_text": "String {};\n\n    // 3. Return",
          "new_text": null,
          "old_line_content": "    if (!effective_domain.has_value())",
          "new_line_content": "    // 3. Return effectiveDomain, serialized.",
          "content_same": false
        },
        {
          "line": 5058,
          "old_api": "ot& shadow_root)\n{",
          "new_api": null,
          "old_text": "ot& shadow_root)\n{\n  ",
          "new_text": null,
          "old_line_content": "                callback(style_sheet);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3014,
          "old_api": "ocument::set_domain(String const",
          "new_api": null,
          "old_text": "ocument::set_domain(String const",
          "new_text": null,
          "old_line_content": "    return MUST(URL::Parser::serialize_host(effective_domain.release_value()));",
          "new_line_content": "void Document::set_domain(String const& domain)",
          "content_same": false
        },
        {
          "line": 5065,
          "old_api": "shadow_root)\n{\n    m_shadow_roots",
          "new_api": null,
          "old_text": " shadow_root)\n{\n    m_shadow_roots",
          "new_text": null,
          "old_line_content": "    m_shadow_roots.append(shadow_root);",
          "new_line_content": "void Document::unregister_shadow_root(Badge<DOM::ShadowRoot>, DOM::ShadowRoot& shadow_root)",
          "content_same": false
        },
        {
          "line": 3019,
          "old_api": "'{}')\", domain);\n}\n\nvoid Document::set_navigation_id(Optiona",
          "new_api": null,
          "old_text": "'{}')\", domain);\n}\n\nvoid Document::set_navigation_id(Optiona",
          "new_text": null,
          "old_line_content": "    dbgln(\"(STUBBED) Document::set_domain(domain='{}')\", domain);",
          "new_line_content": "void Document::set_navigation_id(Optional<String> navigation_id)",
          "content_same": false
        },
        {
          "line": 5070,
          "old_api": "ent::for_each_shadow_root(Function<void(DOM::ShadowRoot&)>&& callback)\n{\n    for (auto& shadow_root :",
          "new_api": null,
          "old_text": "ent::for_each_shadow_root(Function<void(DOM::ShadowRoot&)>&& callback)\n{\n    for (auto& shadow_root : ",
          "new_text": null,
          "old_line_content": "    m_shadow_roots.remove_all_matching([&](auto& item) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 5071,
          "old_api": "k)\n{\n    f",
          "new_api": null,
          "old_text": "k)\n{\n    f",
          "new_text": null,
          "old_line_content": "        return item.ptr() == &shadow_root;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3024,
          "old_api": "ment::navigation_id",
          "new_api": null,
          "old_text": "ment::navigation_id",
          "new_text": null,
          "old_line_content": "    m_navigation_id = move(navigation_id);",
          "new_line_content": "Optional<String> Document::navigation_id() const",
          "content_same": false
        },
        {
          "line": 5078,
          "old_api": "eClient>(page().clien",
          "new_api": null,
          "old_text": "eClient>(page().clien",
          "new_text": null,
          "old_line_content": "        callback(shadow_root);",
          "new_line_content": "bool Document::is_decoded_svg() const",
          "content_same": false
        },
        {
          "line": 5083,
          "old_api": "n_element_to_th",
          "new_api": null,
          "old_text": "n_element_to_th",
          "new_text": null,
          "old_line_content": "    return is<Web::SVG::SVGDecodedImageData::SVGPageClient>(page().client());",
          "new_line_content": "// https://drafts.csswg.org/css-position-4/#add-an-element-to-the-top-layer",
          "content_same": false
        },
        {
          "line": 3044,
          "old_api": "ec.whatwg.org/multipag",
          "new_api": null,
          "old_text": "ec.whatwg.org/multipag",
          "new_text": null,
          "old_line_content": "    m_policy_container = move(policy_container);",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/browsing-the-web.html#snapshotting-source-snapshot-params",
          "content_same": false
        },
        {
          "line": 5092,
          "old_api": "this is a spec error.)\n        VERIFY(",
          "new_api": null,
          "old_text": "this is a spec error.)\n        VERIFY(",
          "new_text": null,
          "old_line_content": "    if (m_top_layer_elements.contains(element)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5097,
          "old_api": "s top layer.\n    m_top_layer_elemen",
          "new_api": null,
          "old_text": "s top layer.\n    m_top_layer_elemen",
          "new_text": null,
          "old_line_content": "        m_top_layer_elements.remove(element);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5098,
          "old_api": "set_in_top_layer",
          "new_api": null,
          "old_text": "ment);\n\n    element->set_in_top_layer(true);",
          "new_text": null,
          "old_line_content": "        m_top_layer_pending_removals.remove(element);",
          "new_line_content": "    // 3. Append el to docs top layer.",
          "content_same": false
        },
        {
          "line": 5102,
          "old_api": "add a rule targeting el containi",
          "new_api": null,
          "old_text": " add a rule targeting el containi",
          "new_text": null,
          "old_line_content": "    m_top_layer_elements.set(element);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5104,
          "old_api": "verlay: auto declaration.\n}\n\n//",
          "new_api": null,
          "old_text": "verlay: auto declaration.\n}\n\n//",
          "new_text": null,
          "old_line_content": "    element->set_in_top_layer(true);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3066,
          "old_api": "SandboxingFlagSet::SandboxedDownloads),\n        .fetch_client = relevant_settings_o",
          "new_api": null,
          "old_text": "SandboxingFlagSet::SandboxedDownloads),\n        .fetch_client = relevant_settings_o",
          "new_text": null,
          "old_line_content": "        .allows_downloading = !has_flag(m_active_sandboxing_flag_set, HTML::SandboxingFlagSet::SandboxedDownloads),",
          "new_line_content": "    };",
          "content_same": false
        },
        {
          "line": 3067,
          "old_api": "olicy_container = m_policy",
          "new_api": null,
          "old_text": "olicy_container = m_policy",
          "new_text": null,
          "old_line_content": "        .fetch_client = relevant_settings_object(),",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 5115,
          "old_api": "ng el.\n\n    // 4. Append el to docs pending t",
          "new_api": null,
          "old_text": "ng el.\n\n    // 4. Append el to docs pending t",
          "new_text": null,
          "old_line_content": "    if (!m_top_layer_elements.contains(element) || m_top_layer_pending_removals.contains(element))",
          "new_line_content": "    // FIXME: 3. Remove the UA !important overlay: auto rule targeting el.",
          "content_same": false
        },
        {
          "line": 5121,
          "old_api": "ely\nvoid Document::remove_an_element_from",
          "new_api": null,
          "old_text": "ely\nvoid Document::remove_an_element_from",
          "new_text": null,
          "old_line_content": "    m_top_layer_pending_removals.set(element);",
          "new_line_content": "// https://drafts.csswg.org/css-position-4/#remove-an-element-from-the-top-layer-immediately",
          "content_same": false
        },
        {
          "line": 3080,
          "old_api": "content_navigable",
          "new_api": null,
          "old_text": ":Node& node) {\n        if (is<HTML::NavigableContainer>(node)) {\n            auto& navigable_container = static_cast<HTML::NavigableContainer&>(node);\n            // 1. If navigableContainer's content navigable is null, then continue.\n            if (!navigable_container.content_navigable())\n                return TraversalDecision::Continue;\n\n            // 2. Extend navigables with navigableContainer's content navigable's active document's inclusive descendant navigables.\n            navigables.extend(navigable_container.content_navigable()->active_document()->inclusive_descendant_navigables());\n        }\n        return TraversalDecision::Continue;\n    });\n\n    // 4. Return navigables.\n    return na",
          "new_text": null,
          "old_line_content": "    for_each_shadow_including_descendant([&](DOM::Node& node) {",
          "new_line_content": "            // 1. If navigableContainer's content navigable is null, then continue.",
          "content_same": false
        },
        {
          "line": 3082,
          "old_api": "// 1. If navigableContainer's c",
          "new_api": null,
          "old_text": "\n            // 1. If navigableContainer's c",
          "new_text": null,
          "old_line_content": "            auto& navigable_container = static_cast<HTML::NavigableContainer&>(node);",
          "new_line_content": "                return TraversalDecision::Continue;",
          "content_same": false
        },
        {
          "line": 5130,
          "old_api": "targeting el, if it exists.\n}\n\n// ht",
          "new_api": null,
          "old_text": "targeting el, if it exists.\n}\n\n// ht",
          "new_text": null,
          "old_line_content": "    m_top_layer_elements.remove(element);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3084,
          "old_api": "return TraversalDecision::C",
          "new_api": null,
          "old_text": "            return TraversalDecision::C",
          "new_text": null,
          "old_line_content": "            if (!navigable_container.content_navigable())",
          "new_line_content": "            // 2. Extend navigables with navigableContainer's content navigable's active document's inclusive descendant navigables.",
          "content_same": false
        },
        {
          "line": 5132,
          "old_api": "rafts.csswg.org/css-position-4/#",
          "new_api": null,
          "old_text": "rafts.csswg.org/css-position-4/#",
          "new_text": null,
          "old_line_content": "    element->set_in_top_layer(false);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3088,
          "old_api": "inclusive_descendant_navigables",
          "new_api": null,
          "old_text": "ve_document()->inclusive_descendant_navigables());\n        }\n        return TraversalDecision",
          "new_text": null,
          "old_line_content": "            navigables.extend(navigable_container.content_navigable()->active_document()->inclusive_descendant_navigables());",
          "new_line_content": "    });",
          "content_same": false
        },
        {
          "line": 5145,
          "old_api": "}\n    }\n}\n\nvoid Document::set_n",
          "new_api": null,
          "old_text": "     }\n    }\n}\n\nvoid Document::set_n",
          "new_text": null,
          "old_line_content": "            m_top_layer_elements.remove(element);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 5146,
          "old_api": "h_clip_state",
          "new_api": null,
          "old_text": "h_clip_state(bool b)\n{\n    if (auto* paintab",
          "new_text": null,
          "old_line_content": "            m_top_layer_pending_removals.remove(element);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3099,
          "old_api": "ables",
          "new_api": null,
          "old_text": "ables();\n}\n\n// https://html.spec.whatwg.org/multipag",
          "new_text": null,
          "old_line_content": "    return const_cast<Document&>(*this).descendant_navigables();",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/document-sequences.html#inclusive-descendant-navigables",
          "content_same": false
        },
        {
          "line": 5147,
          "old_api": "ntable",
          "new_api": null,
          "old_text": "ntable())\n        paintable->set",
          "new_text": null,
          "old_line_content": "            element->set_in_top_layer(false);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 5154,
          "old_api": "uto* paintable =",
          "new_api": null,
          "old_text": "uto* paintable = ",
          "new_text": null,
          "old_line_content": "    if (auto* paintable = this->paintable())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5155,
          "old_api": "table",
          "new_api": null,
          "old_text": "table())\n        paintable->set_needs_to_refr",
          "new_text": null,
          "old_line_content": "        paintable->set_needs_to_refresh_clip_state(b);",
          "new_line_content": "void Document::set_needs_to_refresh_scroll_state(bool b)",
          "content_same": false
        },
        {
          "line": 3110,
          "old_api": "igables.\n    return nav",
          "new_api": null,
          "old_text": "igables.\n    return nav",
          "new_text": null,
          "old_line_content": "    navigables.extend(descendant_navigables());",
          "new_line_content": "    return navigables;",
          "content_same": false
        },
        {
          "line": 5160,
          "old_api": "const& query, Ca",
          "new_api": null,
          "old_text": " const& query, Ca",
          "new_text": null,
          "old_line_content": "    if (auto* paintable = this->paintable())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5161,
          "old_api": "ity case_sensitivity)\n{\n    if (!layout_node())",
          "new_api": null,
          "old_text": "ity case_sensitivity)\n{\n    if (!layout_node())",
          "new_text": null,
          "old_line_content": "        paintable->set_needs_to_refresh_scroll_state(b);",
          "new_line_content": "Vector<JS::Handle<DOM::Range>> Document::find_matching_text(String const& query, CaseSensitivity case_sensitivity)",
          "content_same": false
        },
        {
          "line": 5166,
          "old_api": "text_blocks =",
          "new_api": null,
          "old_text": "text_blocks =",
          "new_text": null,
          "old_line_content": "    if (!layout_node())",
          "new_line_content": "    // Ensure the layout tree exists before searching for text matches.",
          "content_same": false
        },
        {
          "line": 3120,
          "old_api": "able)\n        ret",
          "new_api": null,
          "old_text": "able)\n        ret",
          "new_text": null,
          "old_line_content": "    auto document_node_navigable = this->navigable();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5172,
          "old_api": "& text_block : text_blocks)",
          "new_api": null,
          "old_text": "& text_block : text_blocks) ",
          "new_text": null,
          "old_line_content": "    auto const& text_blocks = layout_node()->text_blocks();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3125,
          "old_api": "et ancestors be an empty list.",
          "new_api": null,
          "old_text": "et ancestors be an empty list.\n  ",
          "new_text": null,
          "old_line_content": "    auto navigable = document_node_navigable->parent();",
          "new_line_content": "    Vector<JS::Handle<HTML::Navigable>> ancestors;",
          "content_same": false
        },
        {
          "line": 5173,
          "old_api": "size_t offset = 0;",
          "new_api": null,
          "old_text": "size_t offset = 0;\n   ",
          "new_text": null,
          "old_line_content": "    if (text_blocks.is_empty())",
          "new_line_content": "    Vector<JS::Handle<DOM::Range>> matches;",
          "content_same": false
        },
        {
          "line": 1079,
          "old_api": "navigable",
          "new_api": null,
          "old_text": "is->navigable();\n",
          "new_text": null,
          "old_line_content": "    auto navigable = this->navigable();",
          "new_line_content": "    //       This is necessary as the parent layout may cause our viewport to change.",
          "content_same": false
        },
        {
          "line": 3136,
          "old_api": "cestors.\n    return",
          "new_api": null,
          "old_text": "cestors.\n    return",
          "new_text": null,
          "old_line_content": "        navigable = navigable->parent();",
          "new_line_content": "    // 4. Return ancestors.",
          "content_same": false
        },
        {
          "line": 5184,
          "old_api": "())\n                break;\n\n            for (; i <",
          "new_api": null,
          "old_text": "())\n                break;\n\n            for (; i <",
          "new_text": null,
          "old_line_content": "                ? text.find_byte_offset_ignoring_case(query, offset)",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 5185,
          "old_api": "size",
          "new_api": null,
          "old_text": "ns.size() - 1 && match_index.value()",
          "new_text": null,
          "old_line_content": "                : text.find_byte_offset(query, offset);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1095,
          "old_api": "document_element",
          "new_api": null,
          "old_text": "is->document_element();\n",
          "new_text": null,
          "old_line_content": "    auto* document_element = this->document_element();",
          "new_line_content": "    if (!m_layout_root) {",
          "content_same": false
        },
        {
          "line": 1096,
          "old_api": "viewport_rect",
          "new_api": null,
          "old_text": "is->viewport_rect();\n",
          "new_text": null,
          "old_line_content": "    auto viewport_rect = this->viewport_rect();",
          "new_line_content": "        Layout::TreeBuilder tree_builder;",
          "content_same": false
        },
        {
          "line": 3145,
          "old_api": "s",
          "new_api": null,
          "old_text": "s();\n}\n\n// https://html.spec.whatwg.org/multipage/",
          "new_text": null,
          "old_line_content": "    return const_cast<Document&>(*this).ancestor_navigables();",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/document-sequences.html#inclusive-ancestor-navigables",
          "content_same": false
        },
        {
          "line": 5192,
          "old_api": "atch_end_position =",
          "new_api": null,
          "old_text": "atch_end_position =",
          "new_text": null,
          "old_line_content": "            auto start_position = match_index.value() - match_start_position->start_offset;",
          "new_line_content": "            auto* match_end_position = match_start_position;",
          "content_same": false
        },
        {
          "line": 5196,
          "old_api": "s[i + 1];\n\n            auto& end_dom_",
          "new_api": null,
          "old_text": "s[i + 1];\n\n            auto& end_dom_",
          "new_text": null,
          "old_line_content": "            for (; i < text_block.positions.size() - 1 && (match_index.value() + query.bytes_as_string_view().length() > text_block.positions[i + 1].start_offset); ++i)",
          "new_line_content": "            auto& end_dom_node = match_end_position->dom_node;",
          "content_same": false
        },
        {
          "line": 1102,
          "old_api": "layout_node",
          "new_api": null,
          "old_text": "cument_element->layout_node()) ",
          "new_text": null,
          "old_line_content": "        if (document_element && document_element->layout_node()) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": "opagate_overflow_to_viewport",
          "new_api": null,
          "old_text": "opagate_overflow_to_viewport(*document_element, *m_layout_root);\n",
          "new_text": null,
          "old_line_content": "            propagate_overflow_to_viewport(*document_element, *m_layout_root);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1104,
          "old_api": "opagate_scrollbar_width_to_viewport",
          "new_api": null,
          "old_text": "opagate_scrollbar_width_to_viewport(*document_element, *m_layout_root);\n",
          "new_text": null,
          "old_line_content": "            propagate_scrollbar_width_to_viewport(*document_element, *m_layout_root);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5200,
          "old_api": "n, end_dom_node, end_position));",
          "new_api": null,
          "old_text": "n, end_dom_node, end_position));\n    ",
          "new_text": null,
          "old_line_content": "            auto end_position = match_index.value() + query.bytes_as_string_view().length() - match_end_position->start_offset;",
          "new_line_content": "            match_start_position = match_end_position;",
          "content_same": false
        },
        {
          "line": 3155,
          "old_api": "return nav",
          "new_api": null,
          "old_text": " return nav",
          "new_text": null,
          "old_line_content": "    navigables.append(*navigable());",
          "new_line_content": "    return navigables;",
          "content_same": false
        },
        {
          "line": 5204,
          "old_api": "return matches;\n}\n\n// https://d",
          "new_api": null,
          "old_text": "\n\n    return matches;\n}\n\n// https://d",
          "new_text": null,
          "old_line_content": "            offset = match_index.value() + query.bytes_as_string_view().length() + 1;",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 5205,
          "old_api": "ow-declarative-shadow-roots\nbool Doc",
          "new_api": null,
          "old_text": "ow-declarative-shadow-roots\nbool Doc",
          "new_text": null,
          "old_line_content": "            if (offset >= text.bytes_as_string_view().length())",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1114,
          "old_api": "get_mutable",
          "new_api": null,
          "old_text": "yout_state.get_mutable(viewport);\n",
          "new_text": null,
          "old_line_content": "        auto& viewport_state = layout_state.get_mutable(viewport);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3165,
          "old_api": "navigables",
          "new_api": null,
          "old_text": "navigables ",
          "new_text": null,
          "old_line_content": "    if (!navigable())",
          "new_line_content": "    // 2. Let navigables be new list.",
          "content_same": false
        },
        {
          "line": 1118,
          "old_api": "layout_node",
          "new_api": null,
          "old_text": "cument_element->layout_node()) ",
          "new_text": null,
          "old_line_content": "        if (document_element && document_element->layout_node()) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1119,
          "old_api": "layout_node",
          "new_api": null,
          "old_text": "cument_element->layout_node()))",
          "new_text": null,
          "old_line_content": "            auto& icb_state = layout_state.get_mutable(verify_cast<Layout::NodeWithStyleAndBoxModelMetrics>(*document_element->layout_node()));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3173,
          "old_api": "content_navigable",
          "new_api": null,
          "old_text": "ainer>([&](HTML::NavigableContainer& navigable_container) {\n        // 1. If navigableContainer's content navigable is null, then continue.\n        if (!navigable_container.content_navigable())\n            return TraversalDecision::Continue;\n        // 2. Append navigableContainer's content navigable to navigables.\n        navigables.append(*navigable_container.content_navigable());\n        return TraversalDecision::Continue;\n    });\n\n    // 5. Return navigables.\n    return navi",
          "new_text": null,
          "old_line_content": "    for_each_in_subtree_of_type<HTML::NavigableContainer>([&](HTML::NavigableContainer& navigable_container) {",
          "new_line_content": "            return TraversalDecision::Continue;",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": "width",
          "new_api": null,
          "old_text": "yout::AvailableSpace(\n                Layout::AvailableSize::make_definite(viewport_rect.width()),\n                Layout::AvailableSize::make_definite(viewport_rect.height())));",
          "new_text": null,
          "old_line_content": "            Layout::AvailableSpace(",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1127,
          "old_api": "width",
          "new_api": null,
          "old_text": "ewport_rect.width()),",
          "new_text": null,
          "old_line_content": "                Layout::AvailableSize::make_definite(viewport_rect.width()),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3178,
          "old_api": "return TraversalDecision::Continue;",
          "new_api": null,
          "old_text": "   return TraversalDecision::Continue;\n",
          "new_text": null,
          "old_line_content": "        navigables.append(*navigable_container.content_navigable());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5229,
          "old_api": "put stream for parser. The encoding confiden",
          "new_api": null,
          "old_text": "put stream for parser. The encoding confiden",
          "new_text": null,
          "old_line_content": "    set_document_type(DOM::Document::Type::HTML);",
          "new_line_content": "    // 3. Place html into the input stream for parser. The encoding confidence is irrelevant.",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": "t_needs_to_resolve_paint_only_properties",
          "new_api": null,
          "old_text": "t_needs_to_resolve_paint_only_properties();\n",
          "new_text": null,
          "old_line_content": "    set_needs_to_resolve_paint_only_properties();",
          "new_line_content": "        // NOTE: The assignment of scroll frames only needs to occur for traversables because they take care of all",
          "content_same": false
        },
        {
          "line": 5234,
          "old_api": "nto the input stream.\n    // FIXME: This is to m",
          "new_api": null,
          "old_text": "nto the input stream.\n    // FIXME: This is to m",
          "new_text": null,
          "old_line_content": "    auto parser = HTML::HTMLParser::create(*this, html, \"UTF-8\"sv);",
          "new_line_content": "    // FIXME: This is to match the default URL. Instead, pass in this's relevant global object's associated Document's URL.",
          "content_same": false
        },
        {
          "line": 3190,
          "old_api": "Y",
          "new_api": null,
          "old_text": "Y(window);\n\n    // FIXME: 2. For ea",
          "new_text": null,
          "old_line_content": "    auto* window = dynamic_cast<HTML::WindowOrWorkerGlobalScopeMixin*>(&HTML::relevant_global_object(*this));",
          "new_line_content": "    // FIXME: 2. For each WebSocket object webSocket whose relevant global object is window, make disappear webSocket.",
          "content_same": false
        },
        {
          "line": 1143,
          "old_api": "assign_clip_frames",
          "new_api": null,
          "old_text": "intable()->assign_clip_frames();\n",
          "new_text": null,
          "old_line_content": "        paintable()->assign_clip_frames();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3191,
          "old_api": "ocket object w",
          "new_api": null,
          "old_text": "ocket object w",
          "new_text": null,
          "old_line_content": "    VERIFY(window);",
          "new_line_content": "    //            If this affected any WebSocket objects, then set document's salvageable state to false.",
          "content_same": false
        },
        {
          "line": 5238,
          "old_api": "ument> Document::parse_html_",
          "new_api": null,
          "old_text": "ument> Document::parse_html_",
          "new_text": null,
          "old_line_content": "    parser->run(\"about:blank\"sv);",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-parsehtmlunsafe",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": "recompute_selection_states",
          "new_api": null,
          "old_text": "intable()->recompute_selection_states();\n",
          "new_text": null,
          "old_line_content": "    paintable()->recompute_selection_states();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5244,
          "old_api": ", this's relevant",
          "new_api": null,
          "old_text": ", this's relevant ",
          "new_text": null,
          "old_line_content": "    auto& realm = *vm.current_realm();",
          "new_line_content": "    // 2. Let document be a new Document, whose content type is \"text/html\".",
          "content_same": false
        },
        {
          "line": 5248,
          "old_api": "document->set_allow_d",
          "new_api": null,
          "old_text": "  document->set_allow_d",
          "new_text": null,
          "old_line_content": "    JS::NonnullGCPtr<DOM::Document> document = Document::create(realm);",
          "new_line_content": "    // 3. Set document's allow declarative shadow roots to true.",
          "content_same": false
        },
        {
          "line": 1154,
          "old_api": "window",
          "new_api": null,
          "old_text": "is->window())\n",
          "new_text": null,
          "old_line_content": "    if (auto window = this->window())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1158,
          "old_api": "discard]]",
          "new_api": null,
          "old_text": "discard]]",
          "new_text": null,
          "old_line_content": "[[nodiscard]] static CSS::RequiredInvalidationAfterStyleChange update_style_recursively(Node& node, CSS::StyleComputer& style_computer)",
          "new_line_content": "    CSS::RequiredInvalidationAfterStyleChange invalidation;",
          "content_same": false
        },
        {
          "line": 3207,
          "old_api": "// https://html.spec.whatwg.org/multipage/",
          "new_api": null,
          "old_text": "\n// https://html.spec.whatwg.org/multipage/",
          "new_text": null,
          "old_line_content": "    FileAPI::run_unloading_cleanup_steps(*this);",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/document-lifecycle.html#destroy-a-document",
          "content_same": false
        },
        {
          "line": 5255,
          "old_api": "",
          "new_api": null,
          "old_text": "",
          "new_text": null,
          "old_line_content": "    document->parse_html_from_a_string(html);",
          "new_line_content": "    return document;",
          "content_same": false
        },
        {
          "line": 1163,
          "old_api": "is_element",
          "new_api": null,
          "old_text": "de.is_element())\n",
          "new_text": null,
          "old_line_content": "    if (node.is_element())",
          "new_line_content": "    // NOTE: If the current node has `display:none`, we can disregard all invalidation",
          "content_same": false
        },
        {
          "line": 1164,
          "old_api": "atic_cast<Element const&>(node));",
          "new_api": null,
          "old_text": "atic_cast<Element const&>(node));",
          "new_text": null,
          "old_line_content": "        style_computer.push_ancestor(static_cast<Element const&>(node));",
          "new_line_content": "    //       caused by its children, as they will not be rendered anyway.",
          "content_same": false
        },
        {
          "line": 3215,
          "old_api": "state t",
          "new_api": null,
          "old_text": "state t",
          "new_text": null,
          "old_line_content": "    abort();",
          "new_line_content": "    m_salvageable = false;",
          "content_same": false
        },
        {
          "line": 1171,
          "old_api": "<Element>(node))",
          "new_api": null,
          "old_text": "<Element>(node)) ",
          "new_text": null,
          "old_line_content": "    if (is<Element>(node)) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1173,
          "old_api": "computed_css_values",
          "new_api": null,
          "old_text": "atic_cast<Element&>(node).computed_css_values()->display().is_none();\n",
          "new_text": null,
          "old_line_content": "        is_display_none = static_cast<Element&>(node).computed_css_values()->display().is_none();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3224,
          "old_api": "document",
          "new_api": null,
          "old_text": "ove_tasks_matching([this](auto& task) {\n        return task.document() == this;\n    });\n\n    // 6. Set document's browsing context to",
          "new_text": null,
          "old_line_content": "    HTML::main_thread_event_loop().task_queue().remove_tasks_matching([this](auto& task) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3225,
          "old_api": "document's bro",
          "new_api": null,
          "old_text": " document's bro",
          "new_text": null,
          "old_line_content": "        return task.document() == this;",
          "new_line_content": "    // 6. Set document's browsing context to null.",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": "shadow_root",
          "new_api": null,
          "old_text": "atic_cast<DOM::Element&>(node).shadow_root()) ",
          "new_text": null,
          "old_line_content": "            if (auto shadow_root = static_cast<DOM::Element&>(node).shadow_root()) {",
          "new_line_content": "                    if (!is_display_none)",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": "child_needs_style_update",
          "new_api": null,
          "old_text": "adow_root->child_needs_style_update()) ",
          "new_text": null,
          "old_line_content": "                if (needs_full_style_update || shadow_root->needs_style_update() || shadow_root->child_needs_style_update()) {",
          "new_line_content": "                        invalidation |= subtree_invalidation;",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": "date_style_recursively",
          "new_api": null,
          "old_text": "date_style_recursively(*shadow_root, style_computer);\n",
          "new_text": null,
          "old_line_content": "                    auto subtree_invalidation = update_style_recursively(*shadow_root, style_computer);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 3232,
          "old_api": "document",
          "new_api": null,
          "old_text": "      if (&navigable_container->document(",
          "new_text": null,
          "old_line_content": "    for (auto& navigable_container : HTML::NavigableContainer::all_instances()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3233,
          "old_api": "HTML::all_navigables().re",
          "new_api": null,
          "old_text": "      HTML::all_navigables().re",
          "new_text": null,
          "old_line_content": "        if (&navigable_container->document() == this)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3234,
          "old_api": "}\n\n    // 7. Set document's node navigab",
          "new_api": null,
          "old_text": "}\n\n    // 7. Set document's node navigab",
          "new_text": null,
          "old_line_content": "            HTML::all_navigables().remove(navigable_container->content_navigable());",
          "new_line_content": "    // 7. Set document's node navigable's active session history entry's document state's document to null.",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": "for_each_child",
          "new_api": null,
          "old_text": "de.for_each_child([&](auto& child) {\n            if (needs_full_style_update || child.needs_style_update() || child.child_needs_style_update()) {\n                auto subtree_invalidation = update_style_recursively(child, style_computer);\n                if (!is_display_none)\n                    invalidation |= subtree_invalidation;\n            }\n            return IterationDecision::Continue;\n        });\n",
          "new_text": null,
          "old_line_content": "        node.for_each_child([&](auto& child) {",
          "new_line_content": "                if (!is_display_none)",
          "content_same": false
        },
        {
          "line": 1189,
          "old_api": "child_needs_style_update",
          "new_api": null,
          "old_text": "ild.child_needs_style_update()) ",
          "new_text": null,
          "old_line_content": "            if (needs_full_style_update || child.needs_style_update() || child.child_needs_style_update()) {",
          "new_line_content": "                    invalidation |= subtree_invalidation;",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": "date_style_recursively",
          "new_api": null,
          "old_text": "date_style_recursively(child, style_computer);\n",
          "new_text": null,
          "old_line_content": "                auto subtree_invalidation = update_style_recursively(child, style_computer);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 3238,
          "old_api": "ion_history",
          "new_api": null,
          "old_text": "ion_history",
          "new_text": null,
          "old_line_content": "    if (navigable()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3239,
          "old_api": "set_document",
          "new_api": null,
          "old_text": "cument_state()->set_document(nullptr);\n    }\n\n    // FIXME: 8. Remove document from ",
          "new_text": null,
          "old_line_content": "        navigable()->active_session_history_entry()->document_state()->set_document(nullptr);",
          "new_line_content": "    // FIXME: 8. Remove document from the owner set of each WorkerGlobalScope object whose set contains document.",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": "is_element",
          "new_api": null,
          "old_text": "de.is_element())\n",
          "new_text": null,
          "old_line_content": "    if (node.is_element())",
          "new_line_content": "    return invalidation;",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": "atic_cast<Element const&>(node));",
          "new_api": null,
          "old_text": "atic_cast<Element const&>(node));",
          "new_text": null,
          "old_line_content": "        style_computer.pop_ancestor(static_cast<Element const&>(node));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3251,
          "old_api": "t numberDestroyed be 0.\n    IGNO",
          "new_api": null,
          "old_text": "t numberDestroyed be 0.\n    IGNO",
          "new_text": null,
          "old_line_content": "    auto child_navigables = document_tree_child_navigables();",
          "new_line_content": "    IGNORE_USE_IN_ESCAPING_LAMBDA size_t number_destroyed = 0;",
          "content_same": false
        },
        {
          "line": 1211,
          "old_api": "date_animated_style_if_needed",
          "new_api": null,
          "old_text": "date_animated_style_if_needed();\n",
          "new_text": null,
          "old_line_content": "    update_animated_style_if_needed();",
          "new_line_content": "    // style change event. [CSS-Transitions-2]",
          "content_same": false
        },
        {
          "line": 3259,
          "old_api": "ld_nav",
          "new_api": null,
          "old_text": "ld_nav",
          "new_text": null,
          "old_line_content": "        HTML::queue_global_task(HTML::Task::Source::NavigationAndTraversal, *child_navigable->active_window(), JS::create_heap_function(heap(), [&heap = heap(), &number_destroyed, child_navigable = child_navigable.ptr()] {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3264,
          "old_api": "// 4. Wait until num",
          "new_api": null,
          "old_text": "\n    // 4. Wait until num",
          "new_text": null,
          "old_line_content": "            child_navigable->active_document()->destroy_a_document_and_its_descendants(move(increment_destroyed));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1217,
          "old_api": "ild_needs_style_update",
          "new_api": null,
          "old_text": "ild_needs_style_update())\n",
          "new_text": null,
          "old_line_content": "    if (!needs_full_style_update() && !needs_style_update() && !child_needs_style_update())",
          "new_line_content": "    // NOTE: If this is a document hosting <template> contents, style update is unnecessary.",
          "content_same": false
        },
        {
          "line": 3269,
          "old_api": "size",
          "new_api": null,
          "old_text": "\n        return number_destroyed == child_navigables.size();\n    });\n\n    // 4. Queue a global task on the navigat",
          "new_text": null,
          "old_line_content": "    HTML::main_thread_event_loop().spin_until([&] {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3270,
          "old_api": "ue a global task on the",
          "new_api": null,
          "old_text": "ue a global task on the",
          "new_text": null,
          "old_line_content": "        return number_destroyed == child_navigables.size();",
          "new_line_content": "    // 4. Queue a global task on the navigation and traversal task source given document's relevant global object to perform the following steps:",
          "content_same": false
        },
        {
          "line": 1225,
          "old_api": "ewport_rect",
          "new_api": null,
          "old_text": "ewport_rect());",
          "new_text": null,
          "old_line_content": "    style_computer().set_viewport_rect({}, viewport_rect());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3274,
          "old_api": "_destr",
          "new_api": null,
          "old_text": "_destr",
          "new_text": null,
          "old_line_content": "    HTML::queue_global_task(HTML::Task::Source::NavigationAndTraversal, relevant_global_object(*this), JS::create_heap_function(heap(), [after_all_destruction = move(after_all_destruction), this] {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": "aluate_media_rules",
          "new_api": null,
          "old_text": "aluate_media_rules();\n",
          "new_text": null,
          "old_line_content": "    evaluate_media_rules();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3276,
          "old_api": "n was giv",
          "new_api": null,
          "old_text": "n was giv",
          "new_text": null,
          "old_line_content": "        destroy();",
          "new_line_content": "        if (after_all_destruction)",
          "content_same": false
        },
        {
          "line": 1229,
          "old_api": "reset_ancestor_filter",
          "new_api": null,
          "old_text": "yle_computer().reset_ancestor_filter();\n",
          "new_text": null,
          "old_line_content": "    style_computer().reset_ancestor_filter();",
          "new_line_content": "    if (invalidation.rebuild_layout_tree) {",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": "yle_computer",
          "new_api": null,
          "old_text": "yle_computer());",
          "new_text": null,
          "old_line_content": "    auto invalidation = update_style_recursively(*this, style_computer());",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 3280,
          "old_api": "// https://html.spec.whatwg.org/m",
          "new_api": null,
          "old_text": "\n\n// https://html.spec.whatwg.org/m",
          "new_text": null,
          "old_line_content": "            after_all_destruction->function()();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1236,
          "old_api": "t_needs_layout",
          "new_api": null,
          "old_text": "t_needs_layout();\n",
          "new_text": null,
          "old_line_content": "            set_needs_layout();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1238,
          "old_api": "validate_stacking_context_tree",
          "new_api": null,
          "old_text": "validate_stacking_context_tree();\n",
          "new_text": null,
          "old_line_content": "            invalidate_stacking_context_tree();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3296,
          "old_api": "XME: Invoke WebDriver BiDi",
          "new_api": null,
          "old_text": "XME: Invoke WebDriver BiDi ",
          "new_text": null,
          "old_line_content": "    if (m_navigation_id.has_value()) {",
          "new_line_content": "        //           status is \"canceled\", and url is document's URL.",
          "content_same": false
        },
        {
          "line": 1249,
          "old_api": "associated_animations",
          "new_api": null,
          "old_text": "meline->associated_animations()) ",
          "new_text": null,
          "old_line_content": "        for (auto& animation : timeline->associated_animations()) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1250,
          "old_api": "target",
          "new_api": null,
          "old_text": "fect->target())\n",
          "new_text": null,
          "old_line_content": "            if (auto effect = animation->effect(); effect && effect->target())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1254,
          "old_api": "associated_animations",
          "new_api": null,
          "old_text": "meline->associated_animations()) ",
          "new_text": null,
          "old_line_content": "        for (auto& animation : timeline->associated_animations()) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1255,
          "old_api": "effect",
          "new_api": null,
          "old_text": "imation->effect())\n",
          "new_text": null,
          "old_line_content": "            if (auto effect = animation->effect())",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1256,
          "old_api": "update_style_properties",
          "new_api": null,
          "old_text": "fect->update_style_properties();\n",
          "new_text": null,
          "old_line_content": "                effect->update_style_properties();",
          "new_line_content": "    m_needs_animated_style_update = false;",
          "content_same": false
        },
        {
          "line": 3306,
          "old_api": "active parser",
          "new_api": null,
          "old_text": " active parser ",
          "new_text": null,
          "old_line_content": "    if (auto parser = active_parser()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3311,
          "old_api": "salvageable sta",
          "new_api": null,
          "old_text": "salvageable sta",
          "new_text": null,
          "old_line_content": "        parser->abort();",
          "new_line_content": "        m_salvageable = false;",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": "paintable",
          "new_api": null,
          "old_text": "is->paintable())\n",
          "new_text": null,
          "old_line_content": "    if (auto* paintable = this->paintable())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1268,
          "old_api": "resolve_paint_only_properties",
          "new_api": null,
          "old_text": "intable->resolve_paint_only_properties();\n",
          "new_text": null,
          "old_line_content": "        paintable->resolve_paint_only_properties();",
          "new_line_content": "void Document::set_normal_link_color(Color color)",
          "content_same": false
        },
        {
          "line": 3324,
          "old_api": "ach descendantNavigable of de",
          "new_api": null,
          "old_text": "ach descendantNavigable of de",
          "new_text": null,
          "old_line_content": "    auto descendant_navigables = this->descendant_navigables();",
          "new_line_content": "    for (auto& descendant_navigable : descendant_navigables) {",
          "content_same": false
        },
        {
          "line": 1288,
          "old_api": "de::layout_node());",
          "new_api": null,
          "old_text": "de::layout_node());",
          "new_text": null,
          "old_line_content": "    return static_cast<Layout::Viewport const*>(Node::layout_node());",
          "new_line_content": "Layout::Viewport* Document::layout_node()",
          "content_same": false
        },
        {
          "line": 3337,
          "old_api": "ageable)\n                m_salvageable",
          "new_api": null,
          "old_text": "ageable)\n                m_salvageable ",
          "new_text": null,
          "old_line_content": "            if (!descendant_navigable->active_document()->m_salvageable)",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1293,
          "old_api": "de::layout_node());",
          "new_api": null,
          "old_text": "de::layout_node());",
          "new_text": null,
          "old_line_content": "    return static_cast<Layout::Viewport*>(Node::layout_node());",
          "new_line_content": "void Document::set_inspected_node(Node* node, Optional<CSS::Selector::PseudoElement::Type> pseudo_element)",
          "content_same": false
        },
        {
          "line": 3343,
          "old_api": "tipage/",
          "new_api": null,
          "old_text": "tipage/",
          "new_text": null,
          "old_line_content": "    abort();",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/dom.html#active-parser",
          "content_same": false
        },
        {
          "line": 1301,
          "old_api": "paintable",
          "new_api": null,
          "old_text": "yout_node->paintable())\n",
          "new_text": null,
          "old_line_content": "    if (auto layout_node = inspected_layout_node(); layout_node && layout_node->paintable())",
          "new_line_content": "    m_inspected_node = node;",
          "content_same": false
        },
        {
          "line": 1302,
          "old_api": "paintable",
          "new_api": null,
          "old_text": "yout_node->paintable()->set_needs_display();\n",
          "new_text": null,
          "old_line_content": "        layout_node->paintable()->set_needs_display();",
          "new_line_content": "    m_inspected_pseudo_element = pseudo_element;",
          "content_same": false
        },
        {
          "line": 3352,
          "old_api": "return m_parser;",
          "new_api": null,
          "old_text": "   return m_parser;",
          "new_text": null,
          "old_line_content": "    if (m_parser->aborted() || m_parser->stopped())",
          "new_line_content": "    return m_parser;",
          "content_same": false
        },
        {
          "line": 1307,
          "old_api": "paintable",
          "new_api": null,
          "old_text": "yout_node->paintable())\n",
          "new_text": null,
          "old_line_content": "    if (auto layout_node = inspected_layout_node(); layout_node && layout_node->paintable())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1308,
          "old_api": "paintable",
          "new_api": null,
          "old_text": "yout_node->paintable()->set_needs_display();\n",
          "new_text": null,
          "old_line_content": "        layout_node->paintable()->set_needs_display();",
          "new_line_content": "Layout::Node* Document::inspected_layout_node()",
          "content_same": false
        },
        {
          "line": 1316,
          "old_api": "layout_node",
          "new_api": null,
          "old_text": "inspected_node->layout_node();\n",
          "new_text": null,
          "old_line_content": "        return m_inspected_node->layout_node();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1317,
          "old_api": "atic_cast<Element&>(*m_inspected_node);",
          "new_api": null,
          "old_text": "atic_cast<Element&>(*m_inspected_node);\n",
          "new_text": null,
          "old_line_content": "    auto& element = static_cast<Element&>(*m_inspected_node);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": "value",
          "new_api": null,
          "old_text": "inspected_pseudo_element.value());",
          "new_text": null,
          "old_line_content": "    return element.get_pseudo_element_node(m_inspected_pseudo_element.value());",
          "new_line_content": "static Node* find_common_ancestor(Node* a, Node* b)",
          "content_same": false
        },
        {
          "line": 3366,
          "old_api": "unning as",
          "new_api": null,
          "old_text": "unning as ",
          "new_text": null,
          "old_line_content": "    auto& vm = this->vm();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1333,
          "old_api": "parent_or_shadow_host",
          "new_api": null,
          "old_text": "de->parent_or_shadow_host()) ",
          "new_text": null,
          "old_line_content": "    for (auto* node = b; node; node = node->parent_or_shadow_host()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1334,
          "old_api": "contains",
          "new_api": null,
          "old_text": "cestors.contains(node))\n",
          "new_text": null,
          "old_line_content": "        if (ancestors.contains(node))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3384,
          "old_api": ");\n\n    // 8. Increase oldDocument's unload coun",
          "new_api": null,
          "old_text": ");\n\n    // 8. Increase oldDocument's unload coun",
          "new_text": null,
          "old_line_content": "    event_loop.increment_termination_nesting_level();",
          "new_line_content": "    m_unload_counter += 1;",
          "content_same": false
        },
        {
          "line": 1349,
          "old_api": "nd_common_ancestor",
          "new_api": null,
          "old_text": "nd_common_ancestor(old_hovered_node, m_hovered_node);\n",
          "new_text": null,
          "old_line_content": "    auto* common_ancestor = find_common_ancestor(old_hovered_node, m_hovered_node);",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 1351,
          "old_api": "invalidate_style",
          "new_api": null,
          "old_text": "mmon_ancestor->invalidate_style();\n",
          "new_text": null,
          "old_line_content": "        common_ancestor->invalidate_style();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1353,
          "old_api": "validate_style",
          "new_api": null,
          "old_text": "validate_style();\n",
          "new_text": null,
          "old_line_content": "        invalidate_style();",
          "new_line_content": "    if (old_hovered_node && old_hovered_node != m_hovered_node) {",
          "content_same": false
        },
        {
          "line": 3403,
          "old_api": "te::Hidden);\n    }\n\n    // FIXME: 11. If unloadTimingInfo",
          "new_api": null,
          "old_text": "te::Hidden);\n    }\n\n    // FIXME: 11. If unloadTimingInfo ",
          "new_text": null,
          "old_line_content": "        update_the_visibility_state(HTML::VisibilityState::Hidden);",
          "new_line_content": "    // FIXME: 11. If unloadTimingInfo is not null, then set unloadTimingInfo's unload event start time to the current high resolution time given newDocument's relevant global object, coarsened",
          "content_same": false
        },
        {
          "line": 1362,
          "old_api": "alm",
          "new_api": null,
          "old_text": "alm(), ",
          "new_text": null,
          "old_line_content": "        auto event = UIEvents::MouseEvent::create(realm(), UIEvents::EventNames::mouseout, mouse_event_init);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1363,
          "old_api": "dispatch_event",
          "new_api": null,
          "old_text": "d_hovered_node->dispatch_event(event);\n",
          "new_text": null,
          "old_line_content": "        old_hovered_node->dispatch_event(event);",
          "new_line_content": "    // https://w3c.github.io/uievents/#mouseleave",
          "content_same": false
        },
        {
          "line": 3414,
          "old_api": "bal_obj",
          "new_api": null,
          "old_text": "bal_obj",
          "new_text": null,
          "old_line_content": "        auto event = DOM::Event::create(realm(), HTML::EventNames::unload);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1367,
          "old_api": "is_descendant_of",
          "new_api": null,
          "old_text": "hovered_node->is_descendant_of(*old_hovered_node)))",
          "new_text": null,
          "old_line_content": "    if (old_hovered_node && (!m_hovered_node || !m_hovered_node->is_descendant_of(*old_hovered_node))) {",
          "new_line_content": "            // FIXME: Populate the event with mouse coordinates, etc.",
          "content_same": false
        },
        {
          "line": 3415,
          "old_api": "// FIXME: 13. If unloadTimingInfo",
          "new_api": null,
          "old_text": "   // FIXME: 13. If unloadTimingInfo ",
          "new_text": null,
          "old_line_content": "        global_object().dispatch_event(event);",
          "new_line_content": "    // FIXME: 13. If unloadTimingInfo is not null, then set unloadTimingInfo's unload event end time to the current high resolution time given newDocument's relevant global object, coarsened",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": "parent",
          "new_api": null,
          "old_text": "rget->parent()) ",
          "new_text": null,
          "old_line_content": "        for (auto target = old_hovered_node; target && target.ptr() != common_ancestor; target = target->parent()) {",
          "new_line_content": "            mouse_event_init.related_target = m_hovered_node;",
          "content_same": false
        },
        {
          "line": 1373,
          "old_api": "alm",
          "new_api": null,
          "old_text": "alm(), ",
          "new_text": null,
          "old_line_content": "            target->dispatch_event(UIEvents::MouseEvent::create(realm(), UIEvents::EventNames::mouseleave, mouse_event_init));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3422,
          "old_api": ");\n\n    // FIXME: 15. Set oldDocument's suspensi",
          "new_api": null,
          "old_text": ");\n\n    // FIXME: 15. Set oldDocument's suspensi",
          "new_text": null,
          "old_line_content": "    event_loop.decrement_termination_nesting_level();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1384,
          "old_api": "alm",
          "new_api": null,
          "old_text": "alm(), ",
          "new_text": null,
          "old_line_content": "        auto event = UIEvents::MouseEvent::create(realm(), UIEvents::EventNames::mouseover, mouse_event_init);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1385,
          "old_api": "dispatch_event",
          "new_api": null,
          "old_text": "hovered_node->dispatch_event(event);\n",
          "new_text": null,
          "old_line_content": "        m_hovered_node->dispatch_event(event);",
          "new_line_content": "    // https://w3c.github.io/uievents/#mouseenter",
          "content_same": false
        },
        {
          "line": 1389,
          "old_api": "is_ancestor_of",
          "new_api": null,
          "old_text": "hovered_node->is_ancestor_of(*old_hovered_node)))",
          "new_text": null,
          "old_line_content": "    if (m_hovered_node && (!old_hovered_node || !m_hovered_node->is_ancestor_of(*old_hovered_node))) {",
          "new_line_content": "            // FIXME: Populate the event with mouse coordinates, etc.",
          "content_same": false
        },
        {
          "line": 1391,
          "old_api": "parent",
          "new_api": null,
          "old_text": "rget->parent()) ",
          "new_text": null,
          "old_line_content": "        for (auto target = m_hovered_node; target && target.ptr() != common_ancestor; target = target->parent()) {",
          "new_line_content": "            mouse_event_init.related_target = old_hovered_node;",
          "content_same": false
        },
        {
          "line": 1395,
          "old_api": "alm",
          "new_api": null,
          "old_text": "alm(), ",
          "new_text": null,
          "old_line_content": "            target->dispatch_event(UIEvents::MouseEvent::create(realm(), UIEvents::EventNames::mouseenter, mouse_event_init));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3443,
          "old_api": "}\n\n// https://html.spec.whatwg.org/multipage/",
          "new_api": null,
          "old_text": "}\n\n// https://html.spec.whatwg.org/multipage/",
          "new_text": null,
          "old_line_content": "    did_stop_being_active_document_in_navigable();",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/document-lifecycle.html#unload-a-document-and-its-descendants",
          "content_same": false
        },
        {
          "line": 1402,
          "old_api": "name",
          "new_api": null,
          "old_text": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [name](Element const& element) {\n        return element.name() == name;\n    });\n",
          "new_text": null,
          "old_line_content": "    return HTMLCollection::create(*this, HTMLCollection::Scope::Descendants, [name](Element const& element) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": "name",
          "new_api": null,
          "old_text": "ement.name() =",
          "new_text": null,
          "old_line_content": "        return element.name() == name;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1411,
          "old_api": "release_value_but_fixme_should_propagate_errors",
          "new_api": null,
          "old_text": "yString::from_utf8(name).release_value_but_fixme_should_propagate_errors());",
          "new_text": null,
          "old_line_content": "        list_of_class_names.append(FlyString::from_utf8(name).release_value_but_fixme_should_propagate_errors());",
          "new_line_content": "        for (auto& name : list_of_class_names) {",
          "content_same": false
        },
        {
          "line": 1413,
          "old_api": "in_quirks_mode",
          "new_api": null,
          "old_text": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [list_of_class_names = move(list_of_class_names), quirks_mode = document().in_quirks_mode()](Element const& element) {\n        for (auto& name : list_of_class_names) {\n            if (!element.has_class(name, quirks_mode ? CaseSensitivity::CaseInsensitive : CaseSensitivity::CaseSensitive))\n                return false;\n        }\n        return true;\n    });\n",
          "new_text": null,
          "old_line_content": "    return HTMLCollection::create(*this, HTMLCollection::Scope::Descendants, [list_of_class_names = move(list_of_class_names), quirks_mode = document().in_quirks_mode()](Element const& element) {",
          "new_line_content": "                return false;",
          "content_same": false
        },
        {
          "line": 1415,
          "old_api": "has_class",
          "new_api": null,
          "old_text": "ement.has_class(name, quirks_mode ? CaseSensitivity::CaseInsensitive : CaseSensitivity::CaseSensitive))\n",
          "new_text": null,
          "old_line_content": "            if (!element.has_class(name, quirks_mode ? CaseSensitivity::CaseInsensitive : CaseSensitivity::CaseSensitive))",
          "new_line_content": "        return true;",
          "content_same": false
        },
        {
          "line": 1426,
          "old_api": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](auto&) { return false; });",
          "new_api": null,
          "old_text": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](auto&) { return false; });\n",
          "new_text": null,
          "old_line_content": "        m_applets = HTMLCollection::create(*this, HTMLCollection::Scope::Descendants, [](auto&) { return false; });",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3476,
          "old_api": "is_ancestor_of",
          "new_api": null,
          "old_text": "->is_ancestor_of(*othe",
          "new_text": null,
          "old_line_content": "    for (auto& other_navigable : HTML::all_navigables()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3477,
          "old_api": "append",
          "new_api": null,
          "old_text": "          descendant_navigables.append(othe",
          "new_text": null,
          "old_line_content": "        if (navigable->is_ancestor_of(*other_navigable))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1434,
          "old_api": "name",
          "new_api": null,
          "old_text": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {\n            return is<HTML::HTMLAnchorElement>(element) && element.name().has_value();\n        });\n",
          "new_text": null,
          "old_line_content": "        m_anchors = HTMLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1435,
          "old_api": "name",
          "new_api": null,
          "old_text": "ement.name().has_value();\n",
          "new_text": null,
          "old_line_content": "            return is<HTML::HTMLAnchorElement>(element) && element.name().has_value();",
          "new_line_content": "    return *m_anchors;",
          "content_same": false
        },
        {
          "line": 3483,
          "old_api": "{",
          "new_api": null,
          "old_text": "{\n    ",
          "new_text": null,
          "old_line_content": "    HTML::queue_global_task(HTML::Task::Source::NavigationAndTraversal, HTML::relevant_global_object(*this), JS::create_heap_function(heap(), [&number_unloaded, this, new_document] {",
          "new_line_content": "    }));",
          "content_same": false
        },
        {
          "line": 3484,
          "old_api": ";\n    }));\n\n    for",
          "new_api": null,
          "old_text": ";\n    }));\n\n    for ",
          "new_text": null,
          "old_line_content": "        unload(new_document);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3489,
          "old_api": "= des",
          "new_api": null,
          "old_text": " = des",
          "new_text": null,
          "old_line_content": "        HTML::queue_global_task(HTML::Task::Source::NavigationAndTraversal, *descendant_navigable->active_window(), JS::create_heap_function(heap(), [&number_unloaded, descendant_navigable = descendant_navigable.ptr()] {",
          "new_line_content": "        }));",
          "content_same": false
        },
        {
          "line": 3490,
          "old_api": "();\n            ++number_unloaded;\n        }));",
          "new_api": null,
          "old_text": "();\n            ++number_unloaded;\n        }));\n ",
          "new_text": null,
          "old_line_content": "            descendant_navigable->active_document()->unload();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1445,
          "old_api": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {\n            return is<HTML::HTMLImageElement>(element);\n        });",
          "new_api": null,
          "old_text": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {\n            return is<HTML::HTMLImageElement>(element);\n        });\n",
          "new_text": null,
          "old_line_content": "        m_images = HTMLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1446,
          "old_api": "<HTML::HTMLImageElement>(element);",
          "new_api": null,
          "old_text": "<HTML::HTMLImageElement>(element);\n",
          "new_text": null,
          "old_line_content": "            return is<HTML::HTMLImageElement>(element);",
          "new_line_content": "    return *m_images;",
          "content_same": false
        },
        {
          "line": 3495,
          "old_api": "return number_unloaded == unloaded_documents_count;\n    });\n\n    destroy_a_document_and_its_descendants(m",
          "new_api": null,
          "old_text": "\n        return number_unloaded == unloaded_documents_count;\n    });\n\n    destroy_a_document_and_its_descendants(m",
          "new_text": null,
          "old_line_content": "    HTML::main_thread_event_loop().spin_until([&] {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3499,
          "old_api": "ec.whatwg.org/multipage",
          "new_api": null,
          "old_text": "ec.whatwg.org/multipage",
          "new_text": null,
          "old_line_content": "    destroy_a_document_and_its_descendants(move(after_all_unloads));",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {\n            return is<HTML::HTMLEmbedElement>(element);\n        });",
          "new_api": null,
          "old_text": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {\n            return is<HTML::HTMLEmbedElement>(element);\n        });\n",
          "new_text": null,
          "old_line_content": "        m_embeds = HTMLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1457,
          "old_api": "<HTML::HTMLEmbedElement>(element);",
          "new_api": null,
          "old_text": "<HTML::HTMLEmbedElement>(element);\n",
          "new_text": null,
          "old_line_content": "            return is<HTML::HTMLEmbedElement>(element);",
          "new_line_content": "    return *m_embeds;",
          "content_same": false
        },
        {
          "line": 3506,
          "old_api": "alse;\n\n    // 2. I",
          "new_api": null,
          "old_text": "alse;\n\n    // 2. I",
          "new_text": null,
          "old_line_content": "    if (browsing_context() == nullptr)",
          "new_line_content": "    // 2. If document is not fully active, then return false.",
          "content_same": false
        },
        {
          "line": 3510,
          "old_api": "/ 3. If the resul",
          "new_api": null,
          "old_text": "/ 3. If the resul",
          "new_text": null,
          "old_line_content": "    if (!is_fully_active())",
          "new_line_content": "    // 3. If the result of running is feature enabled in document for origin on feature, document, and document's origin",
          "content_same": false
        },
        {
          "line": 1466,
          "old_api": "beds",
          "new_api": null,
          "old_text": "beds();\n",
          "new_text": null,
          "old_line_content": "    return embeds();",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/dom.html#dom-document-links",
          "content_same": false
        },
        {
          "line": 3518,
          "old_api": "ed)",
          "new_api": null,
          "old_text": "ed)\n    ",
          "new_text": null,
          "old_line_content": "        if (PermissionsPolicy::AutoplayAllowlist::the().is_allowed_for_origin(*this, origin()) == PermissionsPolicy::Decision::Enabled)",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1473,
          "old_api": "has_attribute",
          "new_api": null,
          "old_text": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {\n            return (is<HTML::HTMLAnchorElement>(element) || is<HTML::HTMLAreaElement>(element)) && element.has_attribute(HTML::AttributeNames::href);\n        });\n",
          "new_text": null,
          "old_line_content": "        m_links = HTMLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1474,
          "old_api": "has_attribute",
          "new_api": null,
          "old_text": "ement.has_attribute(HTML::AttributeNames::href);\n",
          "new_text": null,
          "old_line_content": "            return (is<HTML::HTMLAnchorElement>(element) || is<HTML::HTMLAreaElement>(element)) && element.has_attribute(HTML::AttributeNames::href);",
          "new_line_content": "    return *m_links;",
          "content_same": false
        },
        {
          "line": 3529,
          "old_api": "_notify = m_document_ob",
          "new_api": null,
          "old_text": "_notify = m_document_ob",
          "new_text": null,
          "old_line_content": "    tear_down_layout_tree();",
          "new_line_content": "    for (auto& document_observer : observers_to_notify) {",
          "content_same": false
        },
        {
          "line": 1484,
          "old_api": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {\n            return is<HTML::HTMLFormElement>(element);\n        });",
          "new_api": null,
          "old_text": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {\n            return is<HTML::HTMLFormElement>(element);\n        });\n",
          "new_text": null,
          "old_line_content": "        m_forms = HTMLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1485,
          "old_api": "<HTML::HTMLFormElement>(element);",
          "new_api": null,
          "old_text": "<HTML::HTMLFormElement>(element);\n",
          "new_text": null,
          "old_line_content": "            return is<HTML::HTMLFormElement>(element);",
          "new_line_content": "    return *m_forms;",
          "content_same": false
        },
        {
          "line": 3533,
          "old_api": "document_observer->document_becam",
          "new_api": null,
          "old_text": "            document_observer->document_becam",
          "new_text": null,
          "old_line_content": "        if (document_observer->document_became_inactive())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3534,
          "old_api": "function",
          "new_api": null,
          "old_text": "function()();\n    }\n\n    if (m_animation_driver_timer)\n    ",
          "new_text": null,
          "old_line_content": "            document_observer->document_became_inactive()->function()();",
          "new_line_content": "    if (m_animation_driver_timer)",
          "content_same": false
        },
        {
          "line": 3538,
          "old_api": "ent::increment_throw_on_dynamic_",
          "new_api": null,
          "old_text": "ent::increment_throw_on_dynamic_",
          "new_text": null,
          "old_line_content": "        m_animation_driver_timer->stop();",
          "new_line_content": "void Document::increment_throw_on_dynamic_markup_insertion_counter(Badge<HTML::HTMLParser>)",
          "content_same": false
        },
        {
          "line": 1495,
          "old_api": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {\n            return is<HTML::HTMLScriptElement>(element);\n        });",
          "new_api": null,
          "old_text": "MLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {\n            return is<HTML::HTMLScriptElement>(element);\n        });\n",
          "new_text": null,
          "old_line_content": "        m_scripts = HTMLCollection::create(*this, HTMLCollection::Scope::Descendants, [](Element const& element) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1496,
          "old_api": "<HTML::HTMLScriptElement>(element);",
          "new_api": null,
          "old_text": "<HTML::HTMLScriptElement>(element);\n",
          "new_text": null,
          "old_line_content": "            return is<HTML::HTMLScriptElement>(element);",
          "new_line_content": "    return *m_scripts;",
          "content_same": false
        },
        {
          "line": 3548,
          "old_api": "ter);\n    --m_throw_on_dynamic_markup_insertion_cou",
          "new_api": null,
          "old_text": "ter);\n    --m_throw_on_dynamic_markup_insertion_cou",
          "new_text": null,
          "old_line_content": "    VERIFY(m_throw_on_dynamic_markup_insertion_counter);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1507,
          "old_api": "ML::HTMLAllCollection::create(*this, HTML::HTMLAllCollection::Scope::Descendants, [](Element const&) {\n            return true;\n        });",
          "new_api": null,
          "old_text": "ML::HTMLAllCollection::create(*this, HTML::HTMLAllCollection::Scope::Descendants, [](Element const&) {\n            return true;\n        });\n",
          "new_text": null,
          "old_line_content": "        m_all = HTML::HTMLAllCollection::create(*this, HTML::HTMLAllCollection::Scope::Descendants, [](Element const&) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3556,
          "old_api": "// 1. If doc does not yet have an a",
          "new_api": null,
          "old_text": "        // 1. If doc does not yet have an a",
          "new_text": null,
          "old_line_content": "    if (!created_for_appropriate_template_contents()) {",
          "new_line_content": "            // 1. Let new doc be a new Document (whose browsing context is null). This is \"a Document created by this algorithm\" for the purposes of the step above.",
          "content_same": false
        },
        {
          "line": 3560,
          "old_api": "or_appr",
          "new_api": null,
          "old_text": "or_appr",
          "new_text": null,
          "old_line_content": "            auto new_document = HTML::HTMLDocument::create(realm());",
          "new_line_content": "            // 2. If doc is an HTML document, mark new doc as an HTML document also.",
          "content_same": false
        },
        {
          "line": 3564,
          "old_api": "new_document->s",
          "new_api": null,
          "old_text": "new_document->s",
          "new_text": null,
          "old_line_content": "            if (document_type() == Type::HTML)",
          "new_line_content": "            // 3. Let doc's associated inert template document be new doc.",
          "content_same": false
        },
        {
          "line": 3565,
          "old_api": "// 3. Let doc's associated inert",
          "new_api": null,
          "old_text": "           // 3. Let doc's associated inert",
          "new_text": null,
          "old_line_content": "                new_document->set_document_type(Type::HTML);",
          "new_line_content": "            m_associated_inert_template_document = new_document;",
          "content_same": false
        },
        {
          "line": 1518,
          "old_api": "alm",
          "new_api": null,
          "old_text": "alm());",
          "new_text": null,
          "old_line_content": "        m_fonts = CSS::FontFaceSet::create(realm());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3580,
          "old_api": "build_accessibility_tree(*&accessibility_",
          "new_api": null,
          "old_text": "   build_accessibility_tree(*&accessibility_",
          "new_text": null,
          "old_line_content": "    auto accessibility_tree = AccessibilityTreeNode::create(this, nullptr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3581,
          "old_api": "auto json = MUST(JsonObjectSerializer<>::",
          "new_api": null,
          "old_text": "\n    auto json = MUST(JsonObjectSerializer<>::",
          "new_text": null,
          "old_line_content": "    build_accessibility_tree(*&accessibility_tree);",
          "new_line_content": "    // Empty document",
          "content_same": false
        },
        {
          "line": 3585,
          "old_api": "add",
          "new_api": null,
          "old_text": "n.add(\"type\"sv, \"element\"sv",
          "new_text": null,
          "old_line_content": "    if (!accessibility_tree->value()) {",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 3587,
          "old_api": "accessibility_tree->ser",
          "new_api": null,
          "old_text": "\n        accessibility_tree->ser",
          "new_text": null,
          "old_line_content": "        MUST(json.add(\"role\"sv, \"document\"sv));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1542,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "normal_link_color.has_value())\n",
          "new_text": null,
          "old_line_content": "    if (m_normal_link_color.has_value())",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1543,
          "old_api": "value",
          "new_api": null,
          "old_text": "normal_link_color.value();\n",
          "new_text": null,
          "old_line_content": "        return m_normal_link_color.value();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1544,
          "old_api": "S::SystemColor::link_text();",
          "new_api": null,
          "old_text": "S::SystemColor::link_text();\n",
          "new_text": null,
          "old_line_content": "    return CSS::SystemColor::link_text();",
          "new_line_content": "Color Document::active_link_color() const",
          "content_same": false
        },
        {
          "line": 3592,
          "old_api": "ng",
          "new_api": null,
          "old_text": "ng());\n}\n\n// ",
          "new_text": null,
          "old_line_content": "    MUST(json.finish());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3593,
          "old_api": "atwg.org/#dom-docum",
          "new_api": null,
          "old_text": "atwg.org/#dom-docum",
          "new_text": null,
          "old_line_content": "    return MUST(builder.to_string());",
          "new_line_content": "// https://dom.spec.whatwg.org/#dom-document-createattribute",
          "content_same": false
        },
        {
          "line": 1549,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "active_link_color.has_value())\n",
          "new_text": null,
          "old_line_content": "    if (m_active_link_color.has_value())",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1550,
          "old_api": "value",
          "new_api": null,
          "old_text": "active_link_color.value();\n",
          "new_text": null,
          "old_line_content": "        return m_active_link_color.value();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1551,
          "old_api": "S::SystemColor::active_text();",
          "new_api": null,
          "old_text": "S::SystemColor::active_text();\n",
          "new_text": null,
          "old_line_content": "    return CSS::SystemColor::active_text();",
          "new_line_content": "Color Document::visited_link_color() const",
          "content_same": false
        },
        {
          "line": 3600,
          "old_api": "L::InvalidCharacterError:",
          "new_api": null,
          "old_text": "L::InvalidCharacterError:",
          "new_text": null,
          "old_line_content": "    if (!is_valid_name(local_name))",
          "new_line_content": "    // 2. If this is an HTML document, then set localName to localName in ASCII lowercase.",
          "content_same": false
        },
        {
          "line": 3601,
          "old_api": "_fly_st",
          "new_api": null,
          "old_text": "_fly_st",
          "new_text": null,
          "old_line_content": "        return WebIDL::InvalidCharacterError::create(realm(), \"Invalid character in attribute name.\"_fly_string);",
          "new_line_content": "    // 3. Return a new attribute whose local name is localName and node document is this.",
          "content_same": false
        },
        {
          "line": 1556,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "visited_link_color.has_value())\n",
          "new_text": null,
          "old_line_content": "    if (m_visited_link_color.has_value())",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1557,
          "old_api": "value",
          "new_api": null,
          "old_text": "visited_link_color.value();\n",
          "new_text": null,
          "old_line_content": "        return m_visited_link_color.value();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1558,
          "old_api": "S::SystemColor::visited_text();",
          "new_api": null,
          "old_text": "S::SystemColor::visited_text();\n",
          "new_text": null,
          "old_line_content": "    return CSS::SystemColor::visited_text();",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object",
          "content_same": false
        },
        {
          "line": 3605,
          "old_api": "name);\n}\n\n// https://dom.spec.whatwg.",
          "new_api": null,
          "old_text": "name);\n}\n\n// https://dom.spec.whatwg.",
          "new_text": null,
          "old_line_content": "    return Attr::create(*this, is_html_document() ? MUST(Infra::to_ascii_lowercase(local_name)) : local_name);",
          "new_line_content": "// https://dom.spec.whatwg.org/#dom-document-createattributens",
          "content_same": false
        },
        {
          "line": 3612,
          "old_api": "2. Retu",
          "new_api": null,
          "old_text": "2. Retu",
          "new_text": null,
          "old_line_content": "    auto extracted_qualified_name = TRY(validate_and_extract(realm(), namespace_, qualified_name));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1565,
          "old_api": "alm",
          "new_api": null,
          "old_text": "alm());",
          "new_text": null,
          "old_line_content": "    return Bindings::host_defined_environment_settings_object(realm());",
          "new_line_content": "// https://dom.spec.whatwg.org/#dom-document-createelement",
          "content_same": false
        },
        {
          "line": 3616,
          "old_api": "}\n\n// https://html.spec.whatwg.org/multipage/",
          "new_api": null,
          "old_text": "}\n\n// https://html.spec.whatwg.org/multipage/",
          "new_text": null,
          "old_line_content": "    return Attr::create(*this, extracted_qualified_name);",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/browsing-the-web.html#make-active",
          "content_same": false
        },
        {
          "line": 1574,
          "old_api": "_valid_name",
          "new_api": null,
          "old_text": "_valid_name(a_local_name))\n",
          "new_text": null,
          "old_line_content": "    if (!is_valid_name(a_local_name))",
          "new_line_content": "    // 2. If this is an HTML document, then set localName to localName in ASCII lowercase.",
          "content_same": false
        },
        {
          "line": 3623,
          "old_api": "window",
          "new_api": null,
          "old_text": "window(window);\n\n    // 2. Set docu",
          "new_text": null,
          "old_line_content": "    auto& window = verify_cast<HTML::Window>(HTML::relevant_global_object(*this));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1578,
          "old_api": "cument_type",
          "new_api": null,
          "old_text": "cument_type() =",
          "new_text": null,
          "old_line_content": "    if (document_type() == Type::HTML)",
          "new_line_content": "    // 3. Let is be null.",
          "content_same": false
        },
        {
          "line": 1579,
          "old_api": "to_lowercase",
          "new_api": null,
          "old_text": "cal_name.to_lowercase();\n",
          "new_text": null,
          "old_line_content": "        local_name = local_name.to_lowercase();",
          "new_line_content": "    Optional<String> is_value;",
          "content_same": false
        },
        {
          "line": 3630,
          "old_api": "client",
          "new_api": null,
          "old_text": "age().client().page_did_change_act",
          "new_text": null,
          "old_line_content": "    if (m_browsing_context->is_top_level()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3631,
          "old_api": "_in_top_level_browsing_context",
          "new_api": null,
          "old_text": "_in_top_level_browsing_context(*this);\n    }\n\n    // 3. Set document's visibility st",
          "new_text": null,
          "old_line_content": "        page().client().page_did_change_active_document_in_top_level_browsing_context(*this);",
          "new_line_content": "    // 3. Set document's visibility state to document's node navigable's traversable navigable's system visibility state.",
          "content_same": false
        },
        {
          "line": 1586,
          "old_api": "tions.get<ElementCreationOptions>();",
          "new_api": null,
          "old_text": "tions.get<ElementCreationOptions>();\n",
          "new_text": null,
          "old_line_content": "        auto const& element_creation_options = options.get<ElementCreationOptions>();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1587,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "ement_creation_options.is.has_value())\n",
          "new_text": null,
          "old_line_content": "        if (element_creation_options.is.has_value())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1588,
          "old_api": "value",
          "new_api": null,
          "old_text": "ement_creation_options.is.value();\n",
          "new_text": null,
          "old_line_content": "            is_value = element_creation_options.is.value();",
          "new_line_content": "    // 5. Let namespace be the HTML namespace, if this is an HTML document or thiss content type is \"application/xhtml+xml\"; otherwise null.",
          "content_same": false
        },
        {
          "line": 3635,
          "old_api": "igable",
          "new_api": null,
          "old_text": "igable()->t",
          "new_text": null,
          "old_line_content": "    if (navigable()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3636,
          "old_api": "sibility_state",
          "new_api": null,
          "old_text": "sibility_state();\n    }\n\n    // 4. Set window's relevant settin",
          "new_text": null,
          "old_line_content": "        m_visibility_state = navigable()->traversable_navigable()->system_visibility_state();",
          "new_line_content": "    // 4. Set window's relevant settings object's execution ready flag.",
          "content_same": false
        },
        {
          "line": 1593,
          "old_api": "ent_type",
          "new_api": null,
          "old_text": "ent_type() == ",
          "new_text": null,
          "old_line_content": "    if (document_type() == Type::HTML || content_type() == \"application/xhtml+xml\"sv)",
          "new_line_content": "    // 6. Return the result of creating an element given this, localName, namespace, null, is, and with the synchronous custom elements flag set.",
          "content_same": false
        },
        {
          "line": 3643,
          "old_api": "fals",
          "new_api": null,
          "old_text": " fals",
          "new_text": null,
          "old_line_content": "        navigable()->traversable_navigable()->page().client().page_did_finish_loading(url());",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1597,
          "old_api": "(is_value), tr",
          "new_api": null,
          "old_text": "(is_value), tr",
          "new_text": null,
          "old_line_content": "    return TRY(DOM::create_element(*this, MUST(FlyString::from_deprecated_fly_string(local_name)), move(namespace_), {}, move(is_value), true));",
          "new_line_content": "// https://dom.spec.whatwg.org/#dom-document-createelementns",
          "content_same": false
        },
        {
          "line": 1605,
          "old_api": "m",
          "new_api": null,
          "old_text": "m(), na",
          "new_text": null,
          "old_line_content": "    auto extracted_qualified_name = TRY(validate_and_extract(realm(), namespace_, qualified_name));",
          "new_line_content": "    Optional<String> is_value;",
          "content_same": false
        },
        {
          "line": 1612,
          "old_api": "ons.get<ElementCreationOptions>();",
          "new_api": null,
          "old_text": "ons.get<ElementCreationOptions>();\n  ",
          "new_text": null,
          "old_line_content": "        auto const& element_creation_options = options.get<ElementCreationOptions>();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1613,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "ent_creation_options.is.has_value())\n  ",
          "new_text": null,
          "old_line_content": "        if (element_creation_options.is.has_value())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1614,
          "old_api": "value",
          "new_api": null,
          "old_text": "ent_creation_options.is.value();\n  ",
          "new_text": null,
          "old_line_content": "            is_value = element_creation_options.is.value();",
          "new_line_content": "    // 4. Return the result of creating an element given document, localName, namespace, prefix, is, and with the synchronous custom elements flag set.",
          "content_same": false
        },
        {
          "line": 3660,
          "old_api": "ewport_rect",
          "new_api": null,
          "old_text": "ewport_rect();\n  ",
          "new_text": null,
          "old_line_content": "    if (auto const navigable = this->navigable())",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3661,
          "old_api": "Rect {};\n}\n\nJS::NonnullGCP",
          "new_api": null,
          "old_text": "Rect {};\n}\n\nJS::NonnullGCP",
          "new_text": null,
          "old_line_content": "        return navigable->viewport_rect();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1618,
          "old_api": "(is_value), tr",
          "new_api": null,
          "old_text": "(is_value), tr",
          "new_text": null,
          "old_line_content": "    return TRY(DOM::create_element(*this, extracted_qualified_name.local_name(), extracted_qualified_name.namespace_(), extracted_qualified_name.prefix(), move(is_value), true));",
          "new_line_content": "JS::NonnullGCPtr<DocumentFragment> Document::create_document_fragment()",
          "content_same": false
        },
        {
          "line": 3668,
          "old_api": "*m_visual_viewport;\n}\n\nvoid Docume",
          "new_api": null,
          "old_text": "*m_visual_viewport;\n}\n\nvoid Docume",
          "new_text": null,
          "old_line_content": "        m_visual_viewport = CSS::VisualViewport::create(*this);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1623,
          "old_api": "m",
          "new_api": null,
          "old_text": "m(), *t",
          "new_text": null,
          "old_line_content": "    return heap().allocate<DocumentFragment>(realm(), *this);",
          "new_line_content": "JS::NonnullGCPtr<Text> Document::create_text_node(String const& data)",
          "content_same": false
        },
        {
          "line": 3674,
          "old_api": "ult == AK::HashSetResult::Inser",
          "new_api": null,
          "old_text": "ult == AK::HashSetResult::Inser",
          "new_text": null,
          "old_line_content": "    auto result = m_viewport_clients.set(&client);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3675,
          "old_api": "Entry);\n}\n\nvoid Document::unregister_viewport_client(",
          "new_api": null,
          "old_text": "Entry);\n}\n\nvoid Document::unregister_viewport_client(",
          "new_text": null,
          "old_line_content": "    VERIFY(result == AK::HashSetResult::InsertedNewEntry);",
          "new_line_content": "void Document::unregister_viewport_client(ViewportClient& client)",
          "content_same": false
        },
        {
          "line": 1628,
          "old_api": "m",
          "new_api": null,
          "old_text": "m(), *t",
          "new_text": null,
          "old_line_content": "    return heap().allocate<Text>(realm(), *this, data);",
          "new_line_content": "// https://dom.spec.whatwg.org/#dom-document-createcdatasection",
          "content_same": false
        },
        {
          "line": 3680,
          "old_api": "was_removed);\n}\n\nvoid Document::in",
          "new_api": null,
          "old_text": "was_removed);\n}\n\nvoid Document::in",
          "new_text": null,
          "old_line_content": "    bool was_removed = m_viewport_clients.remove(&client);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3681,
          "old_api": "ll_viewport_clients",
          "new_api": null,
          "old_text": "ll_viewport_clients",
          "new_text": null,
          "old_line_content": "    VERIFY(was_removed);",
          "new_line_content": "void Document::inform_all_viewport_clients_about_the_current_viewport_rect()",
          "content_same": false
        },
        {
          "line": 1635,
          "old_api": "tml_document",
          "new_api": null,
          "old_text": "tml_document())\n  ",
          "new_text": null,
          "old_line_content": "    if (is_html_document())",
          "new_line_content": "    // 2. If data contains the string \"]]>\", then throw an \"InvalidCharacterError\" DOMException.",
          "content_same": false
        },
        {
          "line": 1639,
          "old_api": "contains",
          "new_api": null,
          "old_text": ".contains(\"]]>\"sv))\n  ",
          "new_text": null,
          "old_line_content": "    if (data.contains(\"]]>\"sv))",
          "new_line_content": "    // 3. Return a new CDATASection node with its data set to data and node document set to this.",
          "content_same": false
        },
        {
          "line": 3687,
          "old_api": "tersection_obse",
          "new_api": null,
          "old_text": "tersection_obse",
          "new_text": null,
          "old_line_content": "        client->did_set_viewport_rect(viewport_rect());",
          "new_line_content": "void Document::register_intersection_observer(Badge<IntersectionObserver::IntersectionObserver>, IntersectionObserver::IntersectionObserver& observer)",
          "content_same": false
        },
        {
          "line": 1643,
          "old_api": "m",
          "new_api": null,
          "old_text": "m(), *t",
          "new_text": null,
          "old_line_content": "    return heap().allocate<CDATASection>(realm(), *this, data);",
          "new_line_content": "JS::NonnullGCPtr<Comment> Document::create_comment(String const& data)",
          "content_same": false
        },
        {
          "line": 3692,
          "old_api": "IFY",
          "new_api": null,
          "old_text": "IFY(result == AK::HashSetResult::Inser",
          "new_text": null,
          "old_line_content": "    auto result = m_intersection_observers.set(observer);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3693,
          "old_api": "Entry);\n}\n\nvoid Document::unregister_intersection_obs",
          "new_api": null,
          "old_text": "Entry);\n}\n\nvoid Document::unregister_intersection_obs",
          "new_text": null,
          "old_line_content": "    VERIFY(result == AK::HashSetResult::InsertedNewEntry);",
          "new_line_content": "void Document::unregister_intersection_observer(Badge<IntersectionObserver::IntersectionObserver>, IntersectionObserver::IntersectionObserver& observer)",
          "content_same": false
        },
        {
          "line": 1648,
          "old_api": "m",
          "new_api": null,
          "old_text": "m(), *t",
          "new_text": null,
          "old_line_content": "    return heap().allocate<Comment>(realm(), *this, data);",
          "new_line_content": "// https://dom.spec.whatwg.org/#dom-document-createprocessinginstruction",
          "content_same": false
        },
        {
          "line": 3698,
          "old_api": "VERIFY",
          "new_api": null,
          "old_text": "VERIFY(was_removed);\n}\n\nvoid Document::re",
          "new_text": null,
          "old_line_content": "    bool was_removed = m_intersection_observers.remove(observer);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3699,
          "old_api": "_resize_observer",
          "new_api": null,
          "old_text": "_resize_observer(Ba",
          "new_text": null,
          "old_line_content": "    VERIFY(was_removed);",
          "new_line_content": "void Document::register_resize_observer(Badge<ResizeObserver::ResizeObserver>, ResizeObserver::ResizeObserver& observer)",
          "content_same": false
        },
        {
          "line": 3704,
          "old_api": "cument::unregister_resize_observer(",
          "new_api": null,
          "old_text": "cument::unregister_resize_observer(",
          "new_text": null,
          "old_line_content": "    m_resize_observers.append(observer);",
          "new_line_content": "void Document::unregister_resize_observer(Badge<ResizeObserver::ResizeObserver>, ResizeObserver::ResizeObserver& observer)",
          "content_same": false
        },
        {
          "line": 1659,
          "old_api": "m",
          "new_api": null,
          "old_text": "m(), *t",
          "new_text": null,
          "old_line_content": "    return heap().allocate<ProcessingInstruction>(realm(), *this, data, target);",
          "new_line_content": "JS::NonnullGCPtr<Range> Document::create_range()",
          "content_same": false
        },
        {
          "line": 3709,
          "old_api": "ptr",
          "new_api": null,
          "old_text": "to& registered_observer) {\n        return registered_observer.ptr() == &observer;\n    });\n}\n\n// https://www.w3.org/TR/intersection-obse",
          "new_text": null,
          "old_line_content": "    m_resize_observers.remove_first_matching([&](auto& registered_observer) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3710,
          "old_api": "}\n\n// https://www.w3.org",
          "new_api": null,
          "old_text": "\n}\n\n// https://www.w3.org",
          "new_text": null,
          "old_line_content": "        return registered_observer.ptr() == &observer;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1664,
          "old_api": "e::create(*this);\n}",
          "new_api": null,
          "old_text": "e::create(*this);\n}\n",
          "new_text": null,
          "old_line_content": "    return Range::create(*this);",
          "new_line_content": "// https://dom.spec.whatwg.org/#dom-document-createevent",
          "content_same": false
        },
        {
          "line": 3717,
          "old_api": ";\n\n    // 1. I",
          "new_api": null,
          "old_text": ";\n\n    // 1. I",
          "new_text": null,
          "old_line_content": "    auto window = this->window();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1670,
          "old_api": "realm",
          "new_api": null,
          "old_text": "->realm();\n\n ",
          "new_text": null,
          "old_line_content": "    auto& realm = this->realm();",
          "new_line_content": "    // 1. Let constructor be null.",
          "content_same": false
        },
        {
          "line": 3729,
          "old_api": "m",
          "new_api": null,
          "old_text": "m();\n\n",
          "new_text": null,
          "old_line_content": "    HTML::queue_global_task(HTML::Task::Source::IntersectionObserver, *window, JS::create_heap_function(heap(), [this]() {",
          "new_line_content": "        // https://www.w3.org/TR/intersection-observer/#notify-intersection-observers",
          "content_same": false
        },
        {
          "line": 3730,
          "old_api": "tersection-ob",
          "new_api": null,
          "old_text": "tersection-ob",
          "new_text": null,
          "old_line_content": "        auto& realm = this->realm();",
          "new_line_content": "        // 1. Set documents IntersectionObserverTaskQueued flag to false.",
          "content_same": false
        },
        {
          "line": 3738,
          "old_api": "xme_should_propagate_errors",
          "new_api": null,
          "old_text": "xme_should_propagate_errors();\n",
          "new_text": null,
          "old_line_content": "        notify_list.try_ensure_capacity(m_intersection_observers.size()).release_value_but_fixme_should_propagate_errors();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3740,
          "old_api": "For each IntersectionObse",
          "new_api": null,
          "old_text": "For each IntersectionObse",
          "new_text": null,
          "old_line_content": "            notify_list.append(JS::make_handle(observer));",
          "new_line_content": "        // 3. For each IntersectionObserver object observer in notify list, run these steps:",
          "content_same": false
        },
        {
          "line": 3753,
          "old_api": "size",
          "new_api": null,
          "old_text": "; i < queue.size(); ++i) {\n",
          "new_text": null,
          "old_line_content": "            auto wrapped_queue = MUST(JS::Array::create(realm, 0));",
          "new_line_content": "                auto property_index = JS::PropertyKey { i };",
          "content_same": false
        },
        {
          "line": 3755,
          "old_api": "ertyKey { i",
          "new_api": null,
          "old_text": "ertyKey { i",
          "new_text": null,
          "old_line_content": "                auto& record = queue.at(i);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 3757,
          "old_api": "ck be the va",
          "new_api": null,
          "old_text": "ck be the va",
          "new_text": null,
          "old_line_content": "                MUST(wrapped_queue->create_data_property(property_index, record.ptr()));",
          "new_line_content": "            // 4. Let callback be the value of observers internal [[callback]] slot.",
          "content_same": false
        },
        {
          "line": 1714,
          "old_api": "a::is_ascii_case_insensitive_match(interface, \"uievent\"sv)",
          "new_api": null,
          "old_text": "a::is_ascii_case_insensitive_match(interface, \"uievent\"sv)\n   ",
          "new_text": null,
          "old_line_content": "    } else if (Infra::is_ascii_case_insensitive_match(interface, \"uievent\"sv)",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1715,
          "old_api": "a::is_ascii_case_insensitive_match(interface, \"uievents\"sv)) {",
          "new_api": null,
          "old_text": "a::is_ascii_case_insensitive_match(interface, \"uievents\"sv)) {\n",
          "new_text": null,
          "old_line_content": "        || Infra::is_ascii_case_insensitive_match(interface, \"uievents\"sv)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1716,
          "old_api": "ents::UIEvent::create(realm, FlyString {});",
          "new_api": null,
          "old_text": "ents::UIEvent::create(realm, FlyString {});\n  ",
          "new_text": null,
          "old_line_content": "        event = UIEvents::UIEvent::create(realm, FlyString {});",
          "new_line_content": "    // 3. If constructor is null, then throw a \"NotSupportedError\" DOMException.",
          "content_same": false
        },
        {
          "line": 3764,
          "old_api": "HT",
          "new_api": null,
          "old_text": "            HT",
          "new_text": null,
          "old_line_content": "            auto completion = WebIDL::invoke_callback(callback, observer.ptr(), wrapped_queue, observer.ptr());",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3765,
          "old_api": "n",
          "new_api": null,
          "old_text": "n(completion, realm);\n",
          "new_text": null,
          "old_line_content": "            if (completion.is_abrupt())",
          "new_line_content": "    }));",
          "content_same": false
        },
        {
          "line": 3766,
          "old_api": "}\n\n// https://www.w3.org/TR/intersection",
          "new_api": null,
          "old_text": "\n}\n\n// https://www.w3.org/TR/intersection",
          "new_text": null,
          "old_line_content": "                HTML::report_exception(completion, realm);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1721,
          "old_api": "DL::NotSupportedError::create(realm, \"No constructor for interface found\"_fly_string);",
          "new_api": null,
          "old_text": "DL::NotSupportedError::create(realm, \"No constructor for interface found\"_fly_string);\n  ",
          "new_text": null,
          "old_line_content": "        return WebIDL::NotSupportedError::create(realm, \"No constructor for interface found\"_fly_string);",
          "new_line_content": "    // FIXME: 4. If the interface indicated by constructor is not exposed on the relevant global object of this, then throw a \"NotSupportedError\" DOMException.",
          "content_same": false
        },
        {
          "line": 3783,
          "old_api": "/intersection-observer/#compute-th",
          "new_api": null,
          "old_text": "/intersection-observer/#compute-th",
          "new_text": null,
          "old_line_content": "    queue_intersection_observer_task();",
          "new_line_content": "// https://www.w3.org/TR/intersection-observer/#compute-the-intersection",
          "content_same": false
        },
        {
          "line": 1739,
          "old_api": "tr",
          "new_api": null,
          "old_text": "tr(*event);\n}\n\nvoid Docu",
          "new_text": null,
          "old_line_content": "    return JS::NonnullGCPtr(*event);",
          "new_line_content": "void Document::set_pending_parsing_blocking_script(Badge<HTML::HTMLScriptElement>, HTML::HTMLScriptElement* script)",
          "content_same": false
        },
        {
          "line": 3790,
          "old_api": "iner be the containing block of ta",
          "new_api": null,
          "old_text": "iner be the containing block of ta",
          "new_text": null,
          "old_line_content": "    auto intersection_rect = target->get_bounding_client_rect();",
          "new_line_content": "    // FIXME: 3. While container is not root:",
          "content_same": false
        },
        {
          "line": 1749,
          "old_api": "ng_parsing_blocking_script);\n    auto scr",
          "new_api": null,
          "old_text": "ng_parsing_blocking_script);\n    auto scr",
          "new_text": null,
          "old_line_content": "    VERIFY(m_pending_parsing_blocking_script);",
          "new_line_content": "    return *script;",
          "content_same": false
        },
        {
          "line": 1757,
          "old_api": "append",
          "new_api": null,
          "old_text": "xecute_when_parsing_has_finished.append(script);\n}\n\nVector<JS",
          "new_text": null,
          "old_line_content": "    m_scripts_to_execute_when_parsing_has_finished.append(script);",
          "new_line_content": "Vector<JS::Handle<HTML::HTMLScriptElement>> Document::take_scripts_to_execute_when_parsing_has_finished(Badge<HTML::HTMLParser>)",
          "content_same": false
        },
        {
          "line": 3809,
          "old_api": "idth",
          "new_api": null,
          "old_text": "idth(static_cast<double>(intersecti",
          "new_text": null,
          "old_line_content": "    intersection_rect->set_y(static_cast<double>(intersection_rect_as_pixel_rect.y()));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3810,
          "old_api": "et_height",
          "new_api": null,
          "old_text": "et_height(static_cast<double>(intersect",
          "new_text": null,
          "old_line_content": "    intersection_rect->set_width(static_cast<double>(intersection_rect_as_pixel_rect.width()));",
          "new_line_content": "    // FIXME: 6. Map intersectionRect to the coordinate space of the viewport of the document containing target.",
          "content_same": false
        },
        {
          "line": 3811,
          "old_api": "ntersectionRect to the coordinate space",
          "new_api": null,
          "old_text": "ntersectionRect to the coordinate space ",
          "new_text": null,
          "old_line_content": "    intersection_rect->set_height(static_cast<double>(intersection_rect_as_pixel_rect.height()));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1764,
          "old_api": "e",
          "new_api": null,
          "old_text": "e(script));\n    m_scrip",
          "new_text": null,
          "old_line_content": "        handles.append(JS::make_handle(script));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1765,
          "old_api": "clear",
          "new_api": null,
          "old_text": "xecute_when_parsing_has_finished.clear();\n    return h",
          "new_text": null,
          "old_line_content": "    m_scripts_to_execute_when_parsing_has_finished.clear();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1771,
          "old_api": "append",
          "new_api": null,
          "old_text": "xecute_as_soon_as_possible.append(script);\n}\n\nVector<JS",
          "new_text": null,
          "old_line_content": "    m_scripts_to_execute_as_soon_as_possible.append(script);",
          "new_line_content": "Vector<JS::Handle<HTML::HTMLScriptElement>> Document::take_scripts_to_execute_as_soon_as_possible(Badge<HTML::HTMLParser>)",
          "content_same": false
        },
        {
          "line": 3822,
          "old_api": "ectionObserve",
          "new_api": null,
          "old_text": "ectionObserve",
          "new_text": null,
          "old_line_content": "    auto& realm = this->realm();",
          "new_line_content": "    //    For the top-level browsing context, this includes implicit root observers.",
          "content_same": false
        },
        {
          "line": 1778,
          "old_api": "e",
          "new_api": null,
          "old_text": "e(script));\n    m_scrip",
          "new_text": null,
          "old_line_content": "        handles.append(JS::make_handle(script));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1779,
          "old_api": "clear",
          "new_api": null,
          "old_text": "xecute_as_soon_as_possible.clear();\n    return h",
          "new_text": null,
          "old_line_content": "    m_scripts_to_execute_as_soon_as_possible.clear();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3829,
          "old_api": "et in observers internal [[Observation",
          "new_api": null,
          "old_text": "et in observers internal [[Observation",
          "new_text": null,
          "old_line_content": "        auto root_bounds = observer->root_intersection_rectangle();",
          "new_line_content": "        //    observe() was called on each target:",
          "content_same": false
        },
        {
          "line": 1785,
          "old_api": "append",
          "new_api": null,
          "old_text": "xecute_in_order_as_soon_as_possible.append(script);\n}\n\nVector<JS",
          "new_text": null,
          "old_line_content": "    m_scripts_to_execute_in_order_as_soon_as_possible.append(script);",
          "new_line_content": "Vector<JS::Handle<HTML::HTMLScriptElement>> Document::take_scripts_to_execute_in_order_as_soon_as_possible(Badge<HTML::HTMLParser>)",
          "content_same": false
        },
        {
          "line": 3833,
          "old_api": "/ thresholdIndex be 0.",
          "new_api": null,
          "old_text": "/ thresholdIndex be 0.\n        ",
          "new_text": null,
          "old_line_content": "        for (auto& target : observer->observation_targets()) {",
          "new_line_content": "            size_t threshold_index = 0;",
          "content_same": false
        },
        {
          "line": 1792,
          "old_api": "e",
          "new_api": null,
          "old_text": "e(script));\n    m_scrip",
          "new_text": null,
          "old_line_content": "        handles.append(JS::make_handle(script));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1793,
          "old_api": "clear",
          "new_api": null,
          "old_text": "xecute_in_order_as_soon_as_possible.clear();\n    return h",
          "new_text": null,
          "old_line_content": "    m_scripts_to_execute_in_order_as_soon_as_possible.clear();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3845,
          "old_api": "lue_but_fixme_should_propagate_errors",
          "new_api": null,
          "old_text": "lue_but_fixme_should_propagate_errors();\n\n            // SPEC ISSUE: It doesn't pass in intersection ratio to ",
          "new_text": null,
          "old_line_content": "            auto intersection_rect = Geometry::DOMRectReadOnly::construct_impl(realm, 0, 0, 0, 0).release_value_but_fixme_should_propagate_errors();",
          "new_line_content": "            //             This is default 0, as isIntersecting is default false, see step 9.",
          "content_same": false
        },
        {
          "line": 1801,
          "old_api": "(*node))\n        retu",
          "new_api": null,
          "old_text": "(*node))\n        retu",
          "new_text": null,
          "old_line_content": "    if (is<Document>(*node) || is<ShadowRoot>(*node))",
          "new_line_content": "    // 2. Return a clone of node, with this and the clone children flag set if deep is true.",
          "content_same": false
        },
        {
          "line": 1805,
          "old_api": "de",
          "new_api": null,
          "old_text": "de(this, deep);\n}\n\n// https:",
          "new_text": null,
          "old_line_content": "    return node->clone_node(this, deep);",
          "new_line_content": "// https://dom.spec.whatwg.org/#concept-node-adopt",
          "content_same": false
        },
        {
          "line": 3854,
          "old_api": "ent = intersection_root.visit",
          "new_api": null,
          "old_text": "ent = intersection_root.visit",
          "new_text": null,
          "old_line_content": "            auto intersection_root = observer->intersection_root();",
          "new_line_content": "            });",
          "content_same": false
        },
        {
          "line": 3859,
          "old_api": "// 4. Set targetRect to the DOMRectReadOnly obtai",
          "new_api": null,
          "old_text": "// 4. Set targetRect to the DOMRectReadOnly obtai",
          "new_text": null,
          "old_line_content": "                || !(intersection_root.has<JS::Handle<DOM::Element>>() && !target->is_descendant_of(*intersection_root.get<JS::Handle<DOM::Element>>()))) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3861,
          "old_api": "tionRect be the result of running",
          "new_api": null,
          "old_text": "tionRect be the result of running ",
          "new_text": null,
          "old_line_content": "                target_rect = target->get_bounding_client_rect();",
          "new_line_content": "                //    observers intersection root.",
          "content_same": false
        },
        {
          "line": 1815,
          "old_api": "node.rem",
          "new_api": null,
          "old_text": "     node.rem",
          "new_text": null,
          "old_line_content": "    if (node.parent())",
          "new_line_content": "    // 3. If document is not oldDocument, then:",
          "content_same": false
        },
        {
          "line": 1816,
          "old_api": "// 3. If do",
          "new_api": null,
          "old_text": "  // 3. If do",
          "new_text": null,
          "old_line_content": "        node.remove();",
          "new_line_content": "    if (&old_document != this) {",
          "content_same": false
        },
        {
          "line": 1821,
          "old_api": "set_document",
          "new_api": null,
          "old_text": "_including_inclusive_descendant([&](DOM::Node& inclusive_descendant) {\n            // 1. Set inclusiveDescendants node document to document.\n            inclusive_descendant.set_document({}, *this);\n\n            // FIXME: 2. If inclusiveDescendant is an element, then set the node document of each attribute in inclusiveDescendants\n            //           attribute list to document.\n            return TraversalDecision::Continue;\n        });\n\n        // 2. For eac",
          "new_text": null,
          "old_line_content": "        node.for_each_shadow_including_inclusive_descendant([&](DOM::Node& inclusive_descendant) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1823,
          "old_api": "et_document",
          "new_api": null,
          "old_text": "et_document({}, *this);\n\n            // FIXM",
          "new_text": null,
          "old_line_content": "            inclusive_descendant.set_document({}, *this);",
          "new_line_content": "            //           attribute list to document.",
          "content_same": false
        },
        {
          "line": 3871,
          "old_api": "e if targetRect and rootBou",
          "new_api": null,
          "old_text": "e if targetRect and rootBou",
          "new_text": null,
          "old_line_content": "                auto intersection_area = intersection_rect->width() * intersection_rect->height();",
          "new_line_content": "                //    intersection has zero area (because rootBounds or targetRect have zero area).",
          "content_same": false
        },
        {
          "line": 3875,
          "old_api": "intersects",
          "new_api": null,
          "old_text": "l_rect.intersects(roo",
          "new_text": null,
          "old_line_content": "                CSSPixelRect target_rect_as_pixel_rect(target_rect->x(), target_rect->y(), target_rect->width(), target_rect->height());",
          "new_line_content": "                // 9. If targetArea is non-zero, let intersectionRatio be intersectionArea divided by targetArea.",
          "content_same": false
        },
        {
          "line": 3876,
          "old_api": "targetArea is non-zero, let intersectionRatio be",
          "new_api": null,
          "old_text": "targetArea is non-zero, let intersectionRatio be ",
          "new_text": null,
          "old_line_content": "                is_intersecting = target_rect_as_pixel_rect.intersects(root_bounds);",
          "new_line_content": "                //    Otherwise, let intersectionRatio be 1 if isIntersecting is true, or 0 if isIntersecting is false.",
          "content_same": false
        },
        {
          "line": 1833,
          "old_api": "is_custom",
          "new_api": null,
          "old_text": "ding_inclusive_descendant([&](DOM::Node& inclusive_descendant) {\n            if (!is<DOM::Element>(inclusive_descendant))\n                return TraversalDecision::Continue;\n\n            auto& element = static_cast<DOM::Element&>(inclusive_descendant);\n            if (element.is_custom()) {\n                auto& vm = this->vm();\n\n                JS::MarkedVector<JS::Value> arguments { vm.heap() };\n                arguments.append(&old_document);\n                arguments.append(this);\n\n                element.enqueue_a_custom_element_callback_reaction(HTML::CustomElementReactionNames::adoptedCallback, move(arguments));\n            }\n\n            return TraversalDecision::Continue;\n        });\n\n        // 3. For each ",
          "new_text": null,
          "old_line_content": "        node.for_each_shadow_including_inclusive_descendant([&](DOM::Node& inclusive_descendant) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1837,
          "old_api": "(inclusive_descendant);\n            if (element.",
          "new_api": null,
          "old_text": "(inclusive_descendant);\n            if (element.",
          "new_text": null,
          "old_line_content": "            auto& element = static_cast<DOM::Element&>(inclusive_descendant);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1841,
          "old_api": "argume",
          "new_api": null,
          "old_text": "   argume",
          "new_text": null,
          "old_line_content": "                JS::MarkedVector<JS::Value> arguments { vm.heap() };",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1843,
          "old_api": "element",
          "new_api": null,
          "old_text": "               element",
          "new_text": null,
          "old_line_content": "                arguments.append(this);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 3891,
          "old_api": "ctionObserverRegistration be",
          "new_api": null,
          "old_text": "ctionObserverRegistration be ",
          "new_text": null,
          "old_line_content": "                                      .value_or(observer->thresholds().size());",
          "new_line_content": "            // 11. Let intersectionObserverRegistration be the IntersectionObserverRegistration record in targets",
          "content_same": false
        },
        {
          "line": 1845,
          "old_api": "}",
          "new_api": null,
          "old_text": "    }\n\n        ",
          "new_text": null,
          "old_line_content": "                element.enqueue_a_custom_element_callback_reaction(HTML::CustomElementReactionNames::adoptedCallback, move(arguments));",
          "new_line_content": "            return TraversalDecision::Continue;",
          "content_same": false
        },
        {
          "line": 3896,
          "old_api": "2. Let previousThresholdIndex be the intersectionObserverReg",
          "new_api": null,
          "old_text": "2. Let previousThresholdIndex be the intersectionObserverReg",
          "new_text": null,
          "old_line_content": "            auto& intersection_observer_registration = target->get_intersection_observer_registration({}, observer);",
          "new_line_content": "            auto previous_threshold_index = intersection_observer_registration.previous_threshold_index;",
          "content_same": false
        },
        {
          "line": 1853,
          "old_api": "adopted_from",
          "new_api": null,
          "old_text": "ng_inclusive_descendant([&](auto& inclusive_descendant) {\n            inclusive_descendant.adopted_from(old_document);\n            return TraversalDecision::Continue;\n        });\n\n        // Transfer NodeI",
          "new_text": null,
          "old_line_content": "        node.for_each_shadow_including_inclusive_descendant([&](auto& inclusive_descendant) {",
          "new_line_content": "        });",
          "content_same": false
        },
        {
          "line": 1854,
          "old_api": "_from",
          "new_api": null,
          "old_text": "_from(old_document);\n            return Travers",
          "new_text": null,
          "old_line_content": "            inclusive_descendant.adopted_from(old_document);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1861,
          "old_api": "== &node)\n                n",
          "new_api": null,
          "old_text": "== &node)\n                n",
          "new_text": null,
          "old_line_content": "            if (node_iterator->root().ptr() == &node)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1862,
          "old_api": "ppend",
          "new_api": null,
          "old_text": "ppend(*node_iterator);\n        }\n\n        for (au",
          "new_text": null,
          "old_line_content": "                node_iterators_to_transfer.append(*node_iterator);",
          "new_line_content": "        for (auto& node_iterator : node_iterators_to_transfer) {",
          "content_same": false
        },
        {
          "line": 3911,
          "old_api": "t_rect, intersection_rect, is_intersecting, intersection_ratio, target);\n            }\n\n            // 15. Assign thresholdIndex to intersectionObserverRe",
          "new_api": null,
          "old_text": "t_rect, intersection_rect, is_intersecting, intersection_ratio, target);\n            }\n\n            // 15. Assign thresholdIndex to intersectionObserverRe",
          "new_text": null,
          "old_line_content": "                queue_an_intersection_observer_entry(observer, time, root_bounds_as_dom_rect, target_rect, intersection_rect, is_intersecting, intersection_ratio, target);",
          "new_line_content": "            // 15. Assign thresholdIndex to intersectionObserverRegistrations previousThresholdIndex property.",
          "content_same": false
        },
        {
          "line": 1866,
          "old_api": "remove",
          "new_api": null,
          "old_text": "s.remove(&node_iterator);\n            m_node_iterato",
          "new_text": null,
          "old_line_content": "            old_document.m_node_iterators.remove(&node_iterator);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1867,
          "old_api": "terator);\n        }\n    }\n}\n\n// http",
          "new_api": null,
          "old_text": "terator);\n        }\n    }\n}\n\n// http",
          "new_text": null,
          "old_line_content": "            m_node_iterators.set(&node_iterator);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3926,
          "old_api": "ment's node document.",
          "new_api": null,
          "old_text": "ment's node document.\n   ",
          "new_text": null,
          "old_line_content": "    VERIFY(element.is_lazy_loading());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1879,
          "old_api": "dow roo",
          "new_api": null,
          "old_text": "dow roo",
          "new_text": null,
          "old_line_content": "        return WebIDL::HierarchyRequestError::create(realm(), \"Cannot adopt a shadow root into a document\"_fly_string);",
          "new_line_content": "        return node;",
          "content_same": false
        },
        {
          "line": 3931,
          "old_api": "l, set it to a new",
          "new_api": null,
          "old_text": "l, set it to a new",
          "new_text": null,
          "old_line_content": "    VERIFY(&element.document() == this);",
          "new_line_content": "    if (!m_lazy_load_intersection_observer) {",
          "content_same": false
        },
        {
          "line": 1884,
          "old_api": "rn node;\n}\n\nDocum",
          "new_api": null,
          "old_text": "rn node;\n}\n\nDocum",
          "new_text": null,
          "old_line_content": "    adopt_node(*node);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3938,
          "old_api": "to_length",
          "new_api": null,
          "old_text": ".names.length)).to_length(",
          "new_text": null,
          "old_line_content": "            auto& entries = verify_cast<JS::Array>(vm.argument(0).as_object());",
          "new_line_content": "            for (size_t i = 0; i < entries_length; ++i) {",
          "content_same": false
        },
        {
          "line": 1891,
          "old_api": "Type>();\n}\n\nString const& Document:",
          "new_api": null,
          "old_text": "Type>();\n}\n\nString const& Document:",
          "new_text": null,
          "old_line_content": "    return first_child_of_type<DocumentType>();",
          "new_line_content": "String const& Document::compat_mode() const",
          "content_same": false
        },
        {
          "line": 3939,
          "old_api": "es_length; ++i) {",
          "new_api": null,
          "old_text": "es_length; ++i) {\n          ",
          "new_text": null,
          "old_line_content": "            auto entries_length = MUST(MUST(entries.get(vm.names.length)).to_length(vm));",
          "new_line_content": "                auto property_key = JS::PropertyKey { i };",
          "content_same": false
        },
        {
          "line": 3943,
          "old_api": "resumptionSteps be null.\n                JS::GCPtr<JS::He",
          "new_api": null,
          "old_text": " resumptionSteps be null.\n                JS::GCPtr<JS::He",
          "new_text": null,
          "old_line_content": "                auto& entry = verify_cast<IntersectionObserver::IntersectionObserverEntry>(entries.get_without_side_effects(property_key).as_object());",
          "new_line_content": "                JS::GCPtr<JS::HeapFunction<void()>> resumption_steps;",
          "content_same": false
        },
        {
          "line": 3951,
          "old_api": "()->take_lazy_load_resumption_ste",
          "new_api": null,
          "old_text": "()->take_lazy_load_resumption_ste",
          "new_text": null,
          "old_line_content": "                    VERIFY(entry.target()->is_lazy_loading());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3952,
          "old_api": "// 3. If resumptionSteps is null, then return.",
          "new_api": null,
          "old_text": " // 3. If resumptionSteps is null, then return.\n   ",
          "new_text": null,
          "old_line_content": "                    resumption_steps = entry.target()->take_lazy_load_resumption_steps({});",
          "new_line_content": "                // 3. If resumptionSteps is null, then return.",
          "content_same": false
        },
        {
          "line": 1920,
          "old_api": "set_acti",
          "new_api": null,
          "old_text": "\n        set_acti",
          "new_text": null,
          "old_line_content": "    if (&candidate->root() != this) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1921,
          "old_api": "return;\n    }",
          "new_api": null,
          "old_text": "\n        return;\n    }\n\n   ",
          "new_text": null,
          "old_line_content": "        set_active_element(nullptr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1926,
          "old_api": "set_active_eleme",
          "new_api": null,
          "old_text": "       set_active_eleme",
          "new_text": null,
          "old_line_content": "    if (!is<Document>(candidate)) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1927,
          "old_api": "te));\n        return;\n    }",
          "new_api": null,
          "old_text": "te));\n        return;\n    }\n\n  ",
          "new_text": null,
          "old_line_content": "        set_active_element(verify_cast<Element>(candidate));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3978,
          "old_api": "erInit dictionary",
          "new_api": null,
          "old_text": "erInit dictionary ",
          "new_text": null,
          "old_line_content": "            return JS::js_undefined();",
          "new_line_content": "        // FIXME: The options is an IntersectionObserverInit dictionary with the following dictionary members: [ \"rootMargin\"  lazy load root margin ]",
          "content_same": false
        },
        {
          "line": 1934,
          "old_api": "{\n        set_active_eleme",
          "new_api": null,
          "old_text": "{\n        set_active_eleme",
          "new_text": null,
          "old_line_content": "    if (candidate_document->body()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1935,
          "old_api": "return;\n    }",
          "new_api": null,
          "old_text": "\n        return;\n    }\n\n  ",
          "new_text": null,
          "old_line_content": "        set_active_element(candidate_document->body());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3985,
          "old_api": "server = IntersectionObserver::IntersectionObserver::cons",
          "new_api": null,
          "old_text": "server = IntersectionObserver::IntersectionObserver::cons",
          "new_text": null,
          "old_line_content": "        auto wrapped_callback = realm.heap().allocate_without_realm<WebIDL::CallbackType>(callback, Bindings::host_defined_environment_settings_object(realm));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3986,
          "old_api": "lease_value_but_fixme_should_propagate_errors",
          "new_api": null,
          "old_text": "lease_value_but_fixme_should_propagate_errors();\n    }\n\n    // 3. Call doc's lazy load intersection observer's observe method with element as ",
          "new_text": null,
          "old_line_content": "        m_lazy_load_intersection_observer = IntersectionObserver::IntersectionObserver::construct_impl(realm, wrapped_callback, options).release_value_but_fixme_should_propagate_errors();",
          "new_line_content": "    // 3. Call doc's lazy load intersection observer's observe method with element as the argument.",
          "content_same": false
        },
        {
          "line": 1940,
          "old_api": "_element",
          "new_api": null,
          "old_text": "_element()) {\n        set_active_eleme",
          "new_text": null,
          "old_line_content": "    if (candidate_document->document_element()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1941,
          "old_api": "_element",
          "new_api": null,
          "old_text": "_element());\n        return;\n    }\n\n  ",
          "new_text": null,
          "old_line_content": "        set_active_element(candidate_document->document_element());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3990,
          "old_api": "nt);\n}\n\n// https://html.spec.whatwg.org/m",
          "new_api": null,
          "old_text": "nt);\n}\n\n// https://html.spec.whatwg.org/m",
          "new_text": null,
          "old_line_content": "    VERIFY(m_lazy_load_intersection_observer);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3991,
          "old_api": "ge/semantics.html#shared-declarative-refresh-steps",
          "new_api": null,
          "old_text": "ge/semantics.html#shared-declarative-refresh-steps\n",
          "new_text": null,
          "old_line_content": "    m_lazy_load_intersection_observer->observe(element);",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/semantics.html#shared-declarative-refresh-steps",
          "content_same": false
        },
        {
          "line": 1946,
          "old_api": "return;\n}\n\nvoid Docume",
          "new_api": null,
          "old_text": "\n    return;\n}\n\nvoid Docume",
          "new_text": null,
          "old_line_content": "    set_active_element(nullptr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1952,
          "old_api": "lement)\n        return;",
          "new_api": null,
          "old_text": "lement)\n        return;",
          "new_text": null,
          "old_line_content": "    if (m_focused_element.ptr() == element)",
          "new_line_content": "    if (m_focused_element) {",
          "content_same": false
        },
        {
          "line": 1956,
          "old_api": "focus",
          "new_api": null,
          "old_text": "focus();\n        m_focused_element-",
          "new_text": null,
          "old_line_content": "        m_focused_element->did_lose_focus();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1957,
          "old_api": "_style_update",
          "new_api": null,
          "old_text": "_style_update(true);\n    }\n\n    m_focused_eleme",
          "new_text": null,
          "old_line_content": "        m_focused_element->set_needs_style_update(true);",
          "new_line_content": "    m_focused_element = element;",
          "content_same": false
        },
        {
          "line": 4005,
          "old_api": "// 5. Collect a sequence of code points that",
          "new_api": null,
          "old_text": "  // 5. Collect a sequence of code points that",
          "new_text": null,
          "old_line_content": "    lexer.ignore_while(Infra::is_ascii_whitespace);",
          "new_line_content": "    u32 time = 0;",
          "content_same": false
        },
        {
          "line": 1963,
          "old_api": "ve_focus",
          "new_api": null,
          "old_text": "ve_focus();\n        m_focused_element-",
          "new_text": null,
          "old_line_content": "        m_focused_element->did_receive_focus();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4014,
          "old_api": "t U+002E (.), then ret",
          "new_api": null,
          "old_text": "t U+002E (.), then ret",
          "new_text": null,
          "old_line_content": "    if (time_string.is_empty()) {",
          "new_line_content": "            return;",
          "content_same": false
        },
        {
          "line": 1967,
          "old_api": "le",
          "new_api": null,
          "old_text": "le()->set_n",
          "new_text": null,
          "old_line_content": "    if (paintable())",
          "new_line_content": "    // Scroll the viewport if necessary to make the newly focused element visible.",
          "content_same": false
        },
        {
          "line": 1968,
          "old_api": "ay",
          "new_api": null,
          "old_text": "ay();\n\n    // Scroll the viewpor",
          "new_text": null,
          "old_line_content": "        paintable()->set_needs_display();",
          "new_line_content": "    if (m_focused_element) {",
          "content_same": false
        },
        {
          "line": 4016,
          "old_api": "parsing time",
          "new_api": null,
          "old_text": "parsing time",
          "new_text": null,
          "old_line_content": "        if (lexer.peek() != '.')",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1972,
          "old_api": "scroll_into_view",
          "new_api": null,
          "old_text": "element_task(HTML::Task::Source::UserInteraction, [&]() {\n            ScrollIntoViewOptions scroll_options;\n            scroll_options.block = Bindings::ScrollLogicalPosition::Nearest;\n            scroll_options.inline_ = Bindings::ScrollLogicalPosition::Nearest;\n            (void)m_focused_element->scroll_into_view(scroll_options);\n        });\n    }\n\n    update_active_e",
          "new_text": null,
          "old_line_content": "        m_focused_element->queue_an_element_task(HTML::Task::Source::UserInteraction, [&]() {",
          "new_line_content": "            scroll_options.inline_ = Bindings::ScrollLogicalPosition::Nearest;",
          "content_same": false
        },
        {
          "line": 1976,
          "old_api": "to_view",
          "new_api": null,
          "old_text": "to_view(scroll_options);\n        });\n    }\n\n    upd",
          "new_text": null,
          "old_line_content": "            (void)m_focused_element->scroll_into_view(scroll_options);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4024,
          "old_api": "uence of code poin",
          "new_api": null,
          "old_text": "uence of code poin",
          "new_text": null,
          "old_line_content": "    if (maybe_time.has_value() && maybe_time.value() < NumericLimits<int>::max() && !Checked<int>::multiplication_would_overflow(static_cast<int>(maybe_time.value()), 1000)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4025,
          "old_api": "d U+002E FULL STOP",
          "new_api": null,
          "old_text": "d U+002E FULL STOP",
          "new_text": null,
          "old_line_content": "        time = maybe_time.value();",
          "new_line_content": "    // 8. Collect a sequence of code points that are ASCII digits and U+002E FULL STOP characters (.) from input given",
          "content_same": false
        },
        {
          "line": 1980,
          "old_api": "void Document::set_acti",
          "new_api": null,
          "old_text": "void Document::set_acti",
          "new_text": null,
          "old_line_content": "    update_active_element();",
          "new_line_content": "void Document::set_active_element(Element* element)",
          "content_same": false
        },
        {
          "line": 4030,
          "old_api": ". Let urlRecord be document's URL.\n    auto url_record = url();\n\n    // 10. If posit",
          "new_api": null,
          "old_text": ". Let urlRecord be document's URL.\n    auto url_record = url();\n\n    // 10. If posit",
          "new_text": null,
          "old_line_content": "    lexer.ignore_while([](auto c) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4031,
          "old_api": "_record = url();",
          "new_api": null,
          "old_text": "_record = url();\n",
          "new_text": null,
          "old_line_content": "        return is_ascii_digit(c) || c == '.';",
          "new_line_content": "    // 9. Let urlRecord be document's URL.",
          "content_same": false
        },
        {
          "line": 1985,
          "old_api": "ement)\n        return;",
          "new_api": null,
          "old_text": "ement)\n        return;",
          "new_text": null,
          "old_line_content": "    if (m_active_element.ptr() == element)",
          "new_line_content": "    m_active_element = element;",
          "content_same": false
        },
        {
          "line": 1990,
          "old_api": "le",
          "new_api": null,
          "old_text": "le()->set_n",
          "new_text": null,
          "old_line_content": "    if (paintable())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1991,
          "old_api": "ay",
          "new_api": null,
          "old_text": "ay();\n}\n\nvoid Document::set_targ",
          "new_text": null,
          "old_line_content": "        paintable()->set_needs_display();",
          "new_line_content": "void Document::set_target_element(Element* element)",
          "content_same": false
        },
        {
          "line": 4038,
          "old_api": "(;), U+002C (",
          "new_api": null,
          "old_text": " (;), U+002C (",
          "new_text": null,
          "old_line_content": "    if (!lexer.is_eof()) {",
          "new_line_content": "            return;",
          "content_same": false
        },
        {
          "line": 4040,
          "old_api": "tion.",
          "new_api": null,
          "old_text": "tion.\n      ",
          "new_text": null,
          "old_line_content": "        if (lexer.peek() != ';' && lexer.peek() != ',' && !Infra::is_ascii_whitespace(lexer.peek()))",
          "new_line_content": "        // 2. Skip ASCII whitespace within input given position.",
          "content_same": false
        },
        {
          "line": 1996,
          "old_api": "ement)\n        return;",
          "new_api": null,
          "old_text": "ement)\n        return;",
          "new_text": null,
          "old_line_content": "    if (m_target_element.ptr() == element)",
          "new_line_content": "    if (m_target_element)",
          "content_same": false
        },
        {
          "line": 4047,
          "old_api": "nput given p",
          "new_api": null,
          "old_text": "nput given p",
          "new_text": null,
          "old_line_content": "        if (lexer.peek() == ';' || lexer.peek() == ',')",
          "new_line_content": "        // 4. Skip ASCII whitespace within input given position.",
          "content_same": false
        },
        {
          "line": 2000,
          "old_api": "style_update",
          "new_api": null,
          "old_text": "style_update(true);\n\n    m_target_element = el",
          "new_text": null,
          "old_line_content": "        m_target_element->set_needs_style_update(true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4051,
          "old_api": "is_eof",
          "new_api": null,
          "old_text": "nd of input, then:\n    if (!lexer.is_eof()) {\n",
          "new_text": null,
          "old_line_content": "        lexer.ignore_while(Infra::is_ascii_whitespace);",
          "new_line_content": "    // 11. If position is not past the end of input, then:",
          "content_same": false
        },
        {
          "line": 2007,
          "old_api": "le",
          "new_api": null,
          "old_text": "le()->set_n",
          "new_text": null,
          "old_line_content": "    if (paintable())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2008,
          "old_api": "ay",
          "new_api": null,
          "old_text": "ay();\n}\n\n// https://html.spec.wh",
          "new_text": null,
          "old_line_content": "        paintable()->set_needs_display();",
          "new_line_content": "// https://html.spec.whatwg.org/multipage/browsing-the-web.html#the-indicated-part-of-the-document",
          "content_same": false
        },
        {
          "line": 4055,
          "old_api": "position to th",
          "new_api": null,
          "old_text": "position to th",
          "new_text": null,
          "old_line_content": "    if (!lexer.is_eof()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4060,
          "old_api": "// 3.",
          "new_api": null,
          "old_text": "       // 3.",
          "new_text": null,
          "old_line_content": "        if (lexer.peek() == 'U' || lexer.peek() == 'u')",
          "new_line_content": "            goto skip_quotes;",
          "content_same": false
        },
        {
          "line": 4061,
          "old_api": "input pointed",
          "new_api": null,
          "old_text": " input pointed ",
          "new_text": null,
          "old_line_content": "            lexer.ignore(1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4066,
          "old_api": "// 4. If th",
          "new_api": null,
          "old_text": " // 4. If th",
          "new_text": null,
          "old_line_content": "        if (lexer.peek() == 'R' || lexer.peek() == 'r')",
          "new_line_content": "            goto parse;",
          "content_same": false
        },
        {
          "line": 4067,
          "old_api": "pointed to by",
          "new_api": null,
          "old_text": " pointed to by ",
          "new_text": null,
          "old_line_content": "            lexer.ignore(1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2020,
          "old_api": "return Document::T",
          "new_api": null,
          "old_text": "  return Document::T",
          "new_text": null,
          "old_line_content": "    if (!fragment.has_value() || fragment->is_empty())",
          "new_line_content": "    // 3. Let potentialIndicatedElement be the result of finding a potential indicated element given document and fragment.",
          "content_same": false
        },
        {
          "line": 2024,
          "old_api": "lement",
          "new_api": null,
          "old_text": "lement(*fragment);\n\n    // 4. If potentialInd",
          "new_text": null,
          "old_line_content": "    auto* potential_indicated_element = find_a_potential_indicated_element(*fragment);",
          "new_line_content": "    if (potential_indicated_element)",
          "content_same": false
        },
        {
          "line": 4072,
          "old_api": "// 5. Skip",
          "new_api": null,
          "old_text": " // 5. Skip ",
          "new_text": null,
          "old_line_content": "        if (lexer.peek() == 'L' || lexer.peek() == 'l')",
          "new_line_content": "            goto parse;",
          "content_same": false
        },
        {
          "line": 4073,
          "old_api": "in input given",
          "new_api": null,
          "old_text": "in input given ",
          "new_text": null,
          "old_line_content": "            lexer.ignore(1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4081,
          "old_api": "// 7. Skip",
          "new_api": null,
          "old_text": " // 7. Skip ",
          "new_text": null,
          "old_line_content": "        if (lexer.peek() == '=')",
          "new_line_content": "            goto parse;",
          "content_same": false
        },
        {
          "line": 4082,
          "old_api": "in input given",
          "new_api": null,
          "old_text": "in input given ",
          "new_text": null,
          "old_line_content": "            lexer.ignore(1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2035,
          "old_api": "ly_string",
          "new_api": null,
          "old_text": "ly_string(decoded_fragment)));\n\n    // 8. If potentialI",
          "new_text": null,
          "old_line_content": "    potential_indicated_element = find_a_potential_indicated_element(MUST(FlyString::from_deprecated_fly_string(decoded_fragment)));",
          "new_line_content": "    if (potential_indicated_element)",
          "content_same": false
        },
        {
          "line": 4087,
          "old_api": "If the code point in input pointed to by posit",
          "new_api": null,
          "old_text": "If the code point in input pointed to by posit",
          "new_text": null,
          "old_line_content": "        lexer.ignore_while(Infra::is_ascii_whitespace);",
          "new_line_content": "        // 8. Skip quotes: If the code point in input pointed to by position is U+0027 (') or U+0022 (\"), then let",
          "content_same": false
        },
        {
          "line": 2042,
          "old_api": "tive_match",
          "new_api": null,
          "old_text": "tive_match(decoded_fragment, \"top\"sv))\n        return Document::T",
          "new_text": null,
          "old_line_content": "    if (Infra::is_ascii_case_insensitive_match(decoded_fragment, \"top\"sv))",
          "new_line_content": "    // 10. Return null.",
          "content_same": false
        },
        {
          "line": 4094,
          "old_api": "ubstring of",
          "new_api": null,
          "old_text": "ubstring of ",
          "new_text": null,
          "old_line_content": "        if (lexer.peek() == '\\'' || lexer.peek() == '\"')",
          "new_line_content": "        // 9. Set urlString to the substring of input from the code point at position to the end of the string.",
          "content_same": false
        },
        {
          "line": 4095,
          "old_api": "position to the",
          "new_api": null,
          "old_text": "position to the",
          "new_text": null,
          "old_line_content": "            quote = lexer.consume();",
          "new_line_content": "        // 10. If quote is not the empty string, and there is a code point in urlString equal to quote, then truncate",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 263,
      "total_additions": 729,
      "total_deletions": 729,
      "total_api_changes": 1721
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 8,
        "api_related_lines": 1721,
        "non_api_lines": 2,
        "non_api_line_numbers": [
          1080,
          1094
        ]
      }
    },
    "api_calls_before": 1822,
    "api_calls_after": 1822,
    "diff_info": {
      "added_lines": 4,
      "removed_lines": 7,
      "total_diff_lines": 35
    }
  }
}