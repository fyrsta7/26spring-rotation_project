{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/3d9f2e2f94074e1705b5fe3a5fefa95ee669fdb5",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/3d9f2e2f94074e1705b5fe3a5fefa95ee669fdb5/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/3d9f2e2f94074e1705b5fe3a5fefa95ee669fdb5/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/3d9f2e2f94074e1705b5fe3a5fefa95ee669fdb5/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 369,
          "old_api": "begin",
          "new_api": "is_ascii",
          "old_text": "utf_8_view.begin()",
          "new_text": "is_ascii(substring[0])",
          "old_line_content": "    return *utf_8_view.begin();",
          "new_line_content": "    if (is_ascii(substring[0]))",
          "content_same": false
        },
        {
          "line": 396,
          "old_api": "tell",
          "new_api": "substring_view",
          "old_text": "lexer.tell()",
          "new_text": "source().substring_view(m_position - 1)",
          "old_line_content": "        identifier_length = lexer.tell();",
          "new_line_content": "    GenericLexer lexer(source().substring_view(m_position - 1));",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": "Unicode::property_from_string(\"ID_Start\"sv)",
          "new_api": "is_ascii",
          "old_text": "Unicode::property_from_string(\"ID_Start\"sv)",
          "new_text": "is_ascii(code_point)",
          "old_line_content": "    static auto id_start_category = Unicode::property_from_string(\"ID_Start\"sv);",
          "new_line_content": "    if (is_ascii(code_point))",
          "content_same": false
        },
        {
          "line": 463,
          "old_api": "Unicode::property_from_string(\"ID_Continue\"sv)",
          "new_api": "is_ascii",
          "old_text": "Unicode::property_from_string(\"ID_Continue\"sv)",
          "new_text": "is_ascii(code_point)",
          "old_line_content": "    static auto id_continue_category = Unicode::property_from_string(\"ID_Continue\"sv);",
          "new_line_content": "    if (is_ascii(code_point))",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": "is_line_terminator",
          "new_api": "last",
          "old_text": "is_line_terminator()",
          "new_text": "m_template_states.last()",
          "old_line_content": "            if (is_line_terminator()) {",
          "new_line_content": "    if (!in_template || m_template_states.last().in_expr) {",
          "content_same": false
        },
        {
          "line": 532,
          "old_api": "consume",
          "new_api": "is_line_terminator",
          "old_text": "consume()",
          "new_text": "is_line_terminator()",
          "old_line_content": "                    consume();",
          "new_line_content": "            if (is_line_terminator()) {",
          "content_same": false
        },
        {
          "line": 536,
          "old_api": "consume",
          "new_api": "is_line_terminator",
          "old_text": "consume()",
          "new_text": "is_line_terminator()",
          "old_line_content": "                    consume();",
          "new_line_content": "                } while (is_line_terminator());",
          "content_same": false
        },
        {
          "line": 541,
          "old_api": "consume",
          "new_api": "is_line_comment_start",
          "old_text": "consume()",
          "new_text": "is_line_comment_start(line_has_token_yet)",
          "old_line_content": "                    consume();",
          "new_line_content": "            } else if (is_line_comment_start(line_has_token_yet)) {",
          "content_same": false
        },
        {
          "line": 542,
          "old_api": "is_line_terminator",
          "new_api": "consume",
          "old_text": "is_line_terminator()",
          "new_text": "consume()",
          "old_line_content": "                } while (!is_eof() && !is_line_terminator());",
          "new_line_content": "                consume();",
          "content_same": false
        },
        {
          "line": 545,
          "old_api": "consume",
          "new_api": "is_line_terminator",
          "old_text": "consume()",
          "new_text": "is_line_terminator()",
          "old_line_content": "                consume();",
          "new_line_content": "                } while (!is_eof() && !is_line_terminator());",
          "content_same": false
        },
        {
          "line": 548,
          "old_api": "is_block_comment_end",
          "new_api": "consume",
          "old_text": "is_block_comment_end()",
          "new_text": "consume()",
          "old_line_content": "                } while (!is_eof() && !is_block_comment_end());",
          "new_line_content": "                consume();",
          "content_same": false
        },
        {
          "line": 551,
          "old_api": "consume",
          "new_api": "is_block_comment_end",
          "old_text": "consume()",
          "new_text": "is_block_comment_end()",
          "old_line_content": "                consume(); // consume *",
          "new_line_content": "                } while (!is_eof() && !is_block_comment_end());",
          "content_same": false
        },
        {
          "line": 580,
          "old_api": "consume",
          "new_api": "is_ascii_alpha",
          "old_text": "consume()",
          "new_text": "is_ascii_alpha(m_current_char)",
          "old_line_content": "            consume();",
          "new_line_content": "    if (m_current_token.type() == TokenType::RegexLiteral && !is_eof() && is_ascii_alpha(m_current_char) && !did_consume_whitespace_or_comments) {",
          "content_same": false
        },
        {
          "line": 582,
          "old_api": "consume",
          "new_api": "is_ascii_alpha",
          "old_text": "consume()",
          "new_text": "is_ascii_alpha(m_current_char)",
          "old_line_content": "        consume();",
          "new_line_content": "        while (!is_eof() && is_ascii_alpha(m_current_char))",
          "content_same": false
        },
        {
          "line": 592,
          "old_api": "take_last",
          "new_api": "append",
          "old_text": "m_template_states.take_last()",
          "new_text": "m_template_states.append({ false, 0 })",
          "old_line_content": "                m_template_states.take_last();",
          "new_line_content": "                m_template_states.append({ false, 0 });",
          "content_same": false
        },
        {
          "line": 600,
          "old_api": "last",
          "new_api": "consume",
          "old_text": "m_template_states.last()",
          "new_text": "consume()",
          "old_line_content": "    } else if (in_template && !m_template_states.last().in_expr) {",
          "new_line_content": "        consume();",
          "content_same": false
        },
        {
          "line": 603,
          "old_api": "take_last",
          "new_api": "last",
          "old_text": "m_template_states.take_last()",
          "new_text": "m_template_states.last()",
          "old_line_content": "            m_template_states.take_last();",
          "new_line_content": "    } else if (in_template && !m_template_states.last().in_expr) {",
          "content_same": false
        },
        {
          "line": 604,
          "old_api": "match",
          "new_api": "is_eof",
          "old_text": "match('$', '{')",
          "new_text": "is_eof()",
          "old_line_content": "        } else if (match('$', '{')) {",
          "new_line_content": "        if (is_eof()) {",
          "content_same": false
        },
        {
          "line": 606,
          "old_api": "consume",
          "new_api": "take_last",
          "old_text": "consume()",
          "new_text": "m_template_states.take_last()",
          "old_line_content": "            consume();",
          "new_line_content": "            m_template_states.take_last();",
          "content_same": false
        },
        {
          "line": 607,
          "old_api": "consume",
          "new_api": "match",
          "old_text": "consume()",
          "new_text": "match('$', '{')",
          "old_line_content": "            consume();",
          "new_line_content": "        } else if (match('$', '{')) {",
          "content_same": false
        },
        {
          "line": 610,
          "old_api": "is_eof",
          "new_api": "consume",
          "old_text": "is_eof()",
          "new_text": "consume()",
          "old_line_content": "            while (!match('$', '{') && m_current_char != '`' && !is_eof()) {",
          "new_line_content": "            consume();",
          "content_same": false
        },
        {
          "line": 611,
          "old_api": "match",
          "new_api": "last",
          "old_text": "match('\\\\', '`')",
          "new_text": "m_template_states.last()",
          "old_line_content": "                if (match('\\\\', '$') || match('\\\\', '`'))",
          "new_line_content": "            m_template_states.last().in_expr = true;",
          "content_same": false
        },
        {
          "line": 613,
          "old_api": "consume",
          "new_api": "is_eof",
          "old_text": "consume()",
          "new_text": "is_eof()",
          "old_line_content": "                consume();",
          "new_line_content": "            while (!match('$', '{') && m_current_char != '`' && !is_eof()) {",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": "is_empty",
          "new_api": "consume",
          "old_text": "m_template_states.is_empty()",
          "new_text": "consume()",
          "old_line_content": "            if (is_eof() && !m_template_states.is_empty())",
          "new_line_content": "                    consume();",
          "content_same": false
        },
        {
          "line": 626,
          "old_api": "append_code_point",
          "new_api": "is_identifier_start",
          "old_text": "builder.append_code_point('#')",
          "new_text": "is_identifier_start(identifier_length)",
          "old_line_content": "            builder.append_code_point('#');",
          "new_line_content": "        auto code_point = is_identifier_start(identifier_length);",
          "content_same": false
        },
        {
          "line": 633,
          "old_api": "has_value",
          "new_api": "consume",
          "old_text": "code_point.has_value()",
          "new_text": "consume()",
          "old_line_content": "            } while (code_point.has_value());",
          "new_line_content": "                    consume();",
          "content_same": false
        },
        {
          "line": 635,
          "old_api": "string_view",
          "new_api": "is_identifier_middle",
          "old_text": "builder.string_view()",
          "new_text": "is_identifier_middle(identifier_length)",
          "old_line_content": "            identifier = builder.string_view();",
          "new_line_content": "                code_point = is_identifier_middle(identifier_length);",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": "set",
          "new_api": "string_view",
          "old_text": "m_parsed_identifiers->identifiers.set(*identifier)",
          "new_text": "builder.string_view()",
          "old_line_content": "            m_parsed_identifiers->identifiers.set(*identifier);",
          "new_line_content": "            identifier = builder.string_view();",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": "string_view",
          "new_api": "is_identifier_middle",
          "old_text": "builder.string_view()",
          "new_text": "is_identifier_middle(identifier_length)",
          "old_line_content": "        identifier = builder.string_view();",
          "new_line_content": "            code_point = is_identifier_middle(identifier_length);",
          "content_same": false
        },
        {
          "line": 658,
          "old_api": "set",
          "new_api": "has_value",
          "old_text": "m_parsed_identifiers->identifiers.set(*identifier)",
          "new_text": "code_point.has_value()",
          "old_line_content": "        m_parsed_identifiers->identifiers.set(*identifier);",
          "new_line_content": "        } while (code_point.has_value());",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": "hash",
          "new_api": "string_view",
          "old_text": "identifier->hash()",
          "new_text": "builder.string_view()",
          "old_line_content": "        auto it = s_keywords.find(identifier->hash(), [&](auto& entry) { return entry.key == identifier; });",
          "new_line_content": "        identifier = builder.string_view();",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": "end",
          "new_api": "set",
          "old_text": "s_keywords.end()",
          "new_text": "m_parsed_identifiers->identifiers.set(*identifier)",
          "old_line_content": "        if (it == s_keywords.end())",
          "new_line_content": "        m_parsed_identifiers->identifiers.set(*identifier);",
          "content_same": false
        },
        {
          "line": 676,
          "old_api": "consume_exponent",
          "new_api": "is_ascii_digit",
          "old_text": "consume_exponent()",
          "new_text": "is_ascii_digit(m_current_char)",
          "old_line_content": "                    is_invalid_numeric_literal = !consume_exponent();",
          "new_line_content": "                while (is_ascii_digit(m_current_char))",
          "content_same": false
        },
        {
          "line": 681,
          "old_api": "consume_octal_number",
          "new_api": "consume_exponent",
          "old_text": "consume_octal_number()",
          "new_text": "consume_exponent()",
          "old_line_content": "                is_invalid_numeric_literal = !consume_octal_number();",
          "new_line_content": "                is_invalid_numeric_literal = !consume_exponent();",
          "content_same": false
        },
        {
          "line": 706,
          "old_api": "consume",
          "new_api": "is_ascii_digit",
          "old_text": "consume()",
          "new_text": "is_ascii_digit(m_current_char)",
          "old_line_content": "                    consume();",
          "new_line_content": "            } else if (is_ascii_digit(m_current_char)) {",
          "content_same": false
        },
        {
          "line": 714,
          "old_api": "consume",
          "new_api": "match_numeric_literal_separator_followed_by",
          "old_text": "consume()",
          "new_text": "match_numeric_literal_separator_followed_by(is_ascii_digit)",
          "old_line_content": "                consume();",
          "new_line_content": "            while (is_ascii_digit(m_current_char) || match_numeric_literal_separator_followed_by(is_ascii_digit))",
          "content_same": false
        },
        {
          "line": 741,
          "old_api": "length",
          "new_api": "is_eof",
          "old_text": "m_source.length()",
          "new_text": "is_eof()",
          "old_line_content": "                if (m_current_char == '\\r' && m_position < m_source.length() && m_source[m_position] == '\\n') {",
          "new_line_content": "        while (m_current_char != stop_char && m_current_char != '\\r' && m_current_char != '\\n' && !is_eof()) {",
          "content_same": false
        },
        {
          "line": 753,
          "old_api": "slash_means_division",
          "new_api": "consume",
          "old_text": "slash_means_division()",
          "new_text": "consume()",
          "old_line_content": "    } else if (m_current_char == '/' && !slash_means_division()) {",
          "new_line_content": "            consume();",
          "content_same": false
        },
        {
          "line": 769,
          "old_api": "consume",
          "new_api": "match",
          "old_text": "consume()",
          "new_text": "match('>', '>', '>', '=')",
          "old_line_content": "            consume();",
          "new_line_content": "        if (match('>', '>', '>', '=')) {",
          "content_same": false
        },
        {
          "line": 779,
          "old_api": "end",
          "new_api": "length",
          "old_text": "s_three_char_tokens.end()",
          "new_text": "m_source.length()",
          "old_line_content": "            if (it != s_three_char_tokens.end()) {",
          "new_line_content": "        if (!found_four_char_token && m_position + 1 < m_source.length()) {",
          "content_same": false
        },
        {
          "line": 781,
          "old_api": "consume",
          "new_api": "hash",
          "old_text": "consume()",
          "new_text": "three_chars_view.hash()",
          "old_line_content": "                consume();",
          "new_line_content": "            auto it = s_three_char_tokens.find(three_chars_view.hash(), [&](auto& entry) { return entry.key == three_chars_view; });",
          "content_same": false
        },
        {
          "line": 782,
          "old_api": "consume",
          "new_api": "end",
          "old_text": "consume()",
          "new_text": "s_three_char_tokens.end()",
          "old_line_content": "                consume();",
          "new_line_content": "            if (it != s_three_char_tokens.end()) {",
          "content_same": false
        },
        {
          "line": 792,
          "old_api": "end",
          "new_api": "length",
          "old_text": "s_two_char_tokens.end()",
          "new_text": "m_source.length()",
          "old_line_content": "            if (it != s_two_char_tokens.end()) {",
          "new_line_content": "        if (!found_four_char_token && !found_three_char_token && m_position < m_source.length()) {",
          "content_same": false
        },
        {
          "line": 794,
          "old_api": "_ascii_digit",
          "new_api": "hash",
          "old_text": "_ascii_digit(m_source[m_position + 1])))",
          "new_text": "two_chars_view.hash()",
          "old_line_content": "                if (!(it->value == TokenType::QuestionMarkPeriod && m_position + 1 < m_source.length() && is_ascii_digit(m_source[m_position + 1]))) {",
          "new_line_content": "            auto it = s_two_char_tokens.find(two_chars_view.hash(), [&](auto& entry) { return entry.key == two_chars_view; });",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": "nsume",
          "new_api": "_ascii_digit",
          "old_text": "nsume();\n",
          "new_text": "_ascii_digit(m_source[m_position + 1])))",
          "old_line_content": "                    consume();",
          "new_line_content": "                if (!(it->value == TokenType::QuestionMarkPeriod && m_position + 1 < m_source.length() && is_ascii_digit(m_source[m_position + 1]))) {",
          "content_same": false
        },
        {
          "line": 808,
          "old_api": "nsume",
          "new_api": "find",
          "old_text": "nsume();\n",
          "new_text": "single_char_tokens.find(m_current_char);\n",
          "old_line_content": "                consume();",
          "new_line_content": "            auto it = s_single_char_tokens.find(m_current_char);",
          "content_same": false
        },
        {
          "line": 831,
          "old_api": "length",
          "new_api": "value",
          "old_text": "source.length() -",
          "new_text": "hit_invalid_unicode.value() -",
          "old_line_content": "            m_source.substring_view(value_start + 1, min(4u, m_source.length() - value_start - 2)),",
          "new_line_content": "        value_start = m_hit_invalid_unicode.value() - 1;",
          "content_same": false
        },
        {
          "line": 855,
          "old_api": "gln",
          "new_api": "release_value",
          "old_text": "gln(\"------------------------------\");\n",
          "new_text": "entifier.release_value());",
          "old_line_content": "        dbgln(\"------------------------------\");",
          "new_line_content": "        m_current_token.set_identifier_value(identifier.release_value());",
          "content_same": false
        },
        {
          "line": 858,
          "old_api": "value",
          "new_api": "gln",
          "old_text": "current_token.value());",
          "new_text": "gln(\"------------------------------\");\n",
          "old_line_content": "        dbgln(\"Value: _{}_\", m_current_token.value());",
          "new_line_content": "        dbgln(\"------------------------------\");",
          "content_same": false
        },
        {
          "line": 859,
          "old_api": "line_column",
          "new_api": "name",
          "old_text": "current_token.line_column());",
          "new_text": "current_token.name());",
          "old_line_content": "        dbgln(\"Line: {}, Column: {}\", m_current_token.line_number(), m_current_token.line_column());",
          "new_line_content": "        dbgln(\"Token: {}\", m_current_token.name());",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": "gln",
          "new_api": "trivia",
          "old_text": "gln(\"------------------------------\");\n",
          "new_text": "current_token.trivia());",
          "old_line_content": "        dbgln(\"------------------------------\");",
          "new_line_content": "        dbgln(\"Trivia: _{}_\", m_current_token.trivia());",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": "line_number",
          "new_api": "trivia",
          "old_text": "current_token.line_number(),\n",
          "new_text": "current_token.trivia(),\n",
          "old_line_content": "        m_current_token.line_number(),",
          "new_line_content": "        m_current_token.trivia(),",
          "content_same": false
        },
        {
          "line": 891,
          "old_api": "line_column",
          "new_api": "substring_view",
          "old_text": "current_token.line_column(),\n",
          "new_text": "source.substring_view(value_start - 1, m_position - value_start),\n",
          "old_line_content": "        m_current_token.line_column(),",
          "new_line_content": "        m_source.substring_view(value_start - 1, m_position - value_start),",
          "content_same": false
        },
        {
          "line": 898,
          "old_api": "value",
          "new_api": "gln",
          "old_text": "current_token.value());",
          "new_text": "gln(\"------------------------------\");\n",
          "old_line_content": "        dbgln(\"Value: _{}_\", m_current_token.value());",
          "new_line_content": "        dbgln(\"------------------------------\");",
          "content_same": false
        },
        {
          "line": 899,
          "old_api": "line_column",
          "new_api": "name",
          "old_text": "current_token.line_column());",
          "new_text": "current_token.name());",
          "old_line_content": "        dbgln(\"Line: {}, Column: {}\", m_current_token.line_number(), m_current_token.line_column());",
          "new_line_content": "        dbgln(\"Token: {}\", m_current_token.name());",
          "content_same": false
        },
        {
          "line": 900,
          "old_api": "gln",
          "new_api": "trivia",
          "old_text": "gln(\"------------------------------\");\n",
          "new_text": "current_token.trivia());",
          "old_line_content": "        dbgln(\"------------------------------\");",
          "new_line_content": "        dbgln(\"Trivia: _{}_\", m_current_token.trivia());",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 525,
          "old_api": null,
          "new_api": "is_empty",
          "old_text": null,
          "new_text": "m_template_states.is_empty()",
          "old_line_content": "",
          "new_line_content": "    auto in_template = !m_template_states.is_empty();",
          "content_same": false
        },
        {
          "line": 535,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "                do {",
          "new_line_content": "                    consume();",
          "content_same": false
        },
        {
          "line": 540,
          "old_api": null,
          "new_api": "is_whitespace",
          "old_text": null,
          "new_text": "is_whitespace()",
          "old_line_content": "                do {",
          "new_line_content": "                } while (is_whitespace());",
          "content_same": false
        },
        {
          "line": 544,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "                size_t start_line_number = m_line_number;",
          "new_line_content": "                    consume();",
          "content_same": false
        },
        {
          "line": 546,
          "old_api": null,
          "new_api": "is_block_comment_start",
          "old_text": null,
          "new_text": "is_block_comment_start()",
          "old_line_content": "                do {",
          "new_line_content": "            } else if (is_block_comment_start()) {",
          "content_same": false
        },
        {
          "line": 550,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "                    unterminated_comment = true;",
          "new_line_content": "                    consume();",
          "content_same": false
        },
        {
          "line": 555,
          "old_api": null,
          "new_api": "is_eof",
          "old_text": null,
          "new_text": "is_eof()",
          "old_line_content": "",
          "new_line_content": "                if (is_eof())",
          "content_same": false
        },
        {
          "line": 557,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "                    line_has_token_yet = false;",
          "new_line_content": "                consume(); // consume /",
          "content_same": false
        },
        {
          "line": 583,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "",
          "new_line_content": "            consume();",
          "content_same": false
        },
        {
          "line": 585,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "            token_type = TokenType::TemplateLiteralStart;",
          "new_line_content": "        consume();",
          "content_same": false
        },
        {
          "line": 591,
          "old_api": null,
          "new_api": "last",
          "old_text": null,
          "new_text": "m_template_states.last()",
          "old_line_content": "            } else {",
          "new_line_content": "            if (m_template_states.last().in_expr) {",
          "content_same": false
        },
        {
          "line": 595,
          "old_api": null,
          "new_api": "take_last",
          "old_text": null,
          "new_text": "m_template_states.take_last()",
          "old_line_content": "        }",
          "new_line_content": "                m_template_states.take_last();",
          "content_same": false
        },
        {
          "line": 602,
          "old_api": null,
          "new_api": "last",
          "old_text": null,
          "new_text": "m_template_states.last()",
          "old_line_content": "            token_type = TokenType::UnterminatedTemplateLiteral;",
          "new_line_content": "        m_template_states.last().in_expr = false;",
          "content_same": false
        },
        {
          "line": 609,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "        } else {",
          "new_line_content": "            consume();",
          "content_same": false
        },
        {
          "line": 614,
          "old_api": null,
          "new_api": "match",
          "old_text": null,
          "new_text": "match('\\\\', '`')",
          "old_line_content": "            }",
          "new_line_content": "                if (match('\\\\', '$') || match('\\\\', '`'))",
          "content_same": false
        },
        {
          "line": 616,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "                token_type = TokenType::UnterminatedTemplateLiteral;",
          "new_line_content": "                consume();",
          "content_same": false
        },
        {
          "line": 618,
          "old_api": null,
          "new_api": "is_empty",
          "old_text": null,
          "new_text": "m_template_states.is_empty()",
          "old_line_content": "                token_type = TokenType::TemplateLiteralString;",
          "new_line_content": "            if (is_eof() && !m_template_states.is_empty())",
          "content_same": false
        },
        {
          "line": 625,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "            StringBuilder builder;",
          "new_line_content": "        consume();",
          "content_same": false
        },
        {
          "line": 627,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "code_point.has_value()",
          "old_line_content": "            do {",
          "new_line_content": "        if (code_point.has_value()) {",
          "content_same": false
        },
        {
          "line": 629,
          "old_api": null,
          "new_api": "append_code_point",
          "old_text": null,
          "new_text": "builder.append_code_point('#')",
          "old_line_content": "                for (size_t i = 0; i < identifier_length; ++i)",
          "new_line_content": "            builder.append_code_point('#');",
          "content_same": false
        },
        {
          "line": 631,
          "old_api": null,
          "new_api": "append_code_point",
          "old_text": null,
          "new_text": "builder.append_code_point(*code_point)",
          "old_line_content": "",
          "new_line_content": "                builder.append_code_point(*code_point);",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "code_point.has_value()",
          "old_line_content": "            token_type = TokenType::PrivateIdentifier;",
          "new_line_content": "            } while (code_point.has_value());",
          "content_same": false
        },
        {
          "line": 641,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "m_parsed_identifiers->identifiers.set(*identifier)",
          "old_line_content": "            token_message = \"Start of private name '#' but not followed by valid identifier\";",
          "new_line_content": "            m_parsed_identifiers->identifiers.set(*identifier);",
          "content_same": false
        },
        {
          "line": 646,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "code_point.has_value()",
          "old_line_content": "        StringBuilder builder;",
          "new_line_content": "    } else if (auto code_point = is_identifier_start(identifier_length); code_point.has_value()) {",
          "content_same": false
        },
        {
          "line": 651,
          "old_api": null,
          "new_api": "append_code_point",
          "old_text": null,
          "new_text": "builder.append_code_point(*code_point)",
          "old_line_content": "",
          "new_line_content": "            builder.append_code_point(*code_point);",
          "content_same": false
        },
        {
          "line": 653,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "",
          "new_line_content": "                consume();",
          "content_same": false
        },
        {
          "line": 663,
          "old_api": null,
          "new_api": "hash",
          "old_text": null,
          "new_text": "identifier->hash()",
          "old_line_content": "        else",
          "new_line_content": "        auto it = s_keywords.find(identifier->hash(), [&](auto& entry) { return entry.key == identifier; });",
          "content_same": false
        },
        {
          "line": 664,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "s_keywords.end()",
          "old_line_content": "            token_type = has_escaped_character ? TokenType::EscapedKeyword : it->value;",
          "new_line_content": "        if (it == s_keywords.end())",
          "content_same": false
        },
        {
          "line": 668,
          "old_api": null,
          "new_api": "is_numeric_literal_start",
          "old_text": null,
          "new_text": "is_numeric_literal_start()",
          "old_line_content": "        if (m_current_char == '0') {",
          "new_line_content": "    } else if (is_numeric_literal_start()) {",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "                if (m_current_char == 'e' || m_current_char == 'E')",
          "new_line_content": "                consume();",
          "content_same": false
        },
        {
          "line": 677,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "            } else if (m_current_char == 'e' || m_current_char == 'E') {",
          "new_line_content": "                    consume();",
          "content_same": false
        },
        {
          "line": 679,
          "old_api": null,
          "new_api": "consume_exponent",
          "old_text": null,
          "new_text": "consume_exponent()",
          "old_line_content": "            } else if (m_current_char == 'o' || m_current_char == 'O') {",
          "new_line_content": "                    is_invalid_numeric_literal = !consume_exponent();",
          "content_same": false
        },
        {
          "line": 684,
          "old_api": null,
          "new_api": "consume_octal_number",
          "old_text": null,
          "new_text": "consume_octal_number()",
          "old_line_content": "                    token_type = TokenType::BigIntLiteral;",
          "new_line_content": "                is_invalid_numeric_literal = !consume_octal_number();",
          "content_same": false
        },
        {
          "line": 686,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "            } else if (m_current_char == 'b' || m_current_char == 'B') {",
          "new_line_content": "                    consume();",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": null,
          "new_api": "consume_binary_number",
          "old_text": null,
          "new_text": "consume_binary_number()",
          "old_line_content": "                    token_type = TokenType::BigIntLiteral;",
          "new_line_content": "                is_invalid_numeric_literal = !consume_binary_number();",
          "content_same": false
        },
        {
          "line": 693,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "            } else if (m_current_char == 'x' || m_current_char == 'X') {",
          "new_line_content": "                    consume();",
          "content_same": false
        },
        {
          "line": 698,
          "old_api": null,
          "new_api": "consume_hexadecimal_number",
          "old_text": null,
          "new_text": "consume_hexadecimal_number()",
          "old_line_content": "                    token_type = TokenType::BigIntLiteral;",
          "new_line_content": "                is_invalid_numeric_literal = !consume_hexadecimal_number();",
          "content_same": false
        },
        {
          "line": 700,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "            } else if (m_current_char == 'n') {",
          "new_line_content": "                    consume();",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "                // octal without '0o' prefix. Forbidden in 'strict mode'",
          "new_line_content": "                consume();",
          "content_same": false
        },
        {
          "line": 709,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "        } else {",
          "new_line_content": "                    consume();",
          "content_same": false
        },
        {
          "line": 710,
          "old_api": null,
          "new_api": "is_ascii_digit",
          "old_text": null,
          "new_text": "is_ascii_digit(m_current_char)",
          "old_line_content": "            // 1...9 or period",
          "new_line_content": "                } while (is_ascii_digit(m_current_char));",
          "content_same": false
        },
        {
          "line": 715,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "                token_type = TokenType::BigIntLiteral;",
          "new_line_content": "                consume();",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "                if (m_current_char == '.') {",
          "new_line_content": "                consume();",
          "content_same": false
        },
        {
          "line": 721,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "",
          "new_line_content": "                    consume();",
          "content_same": false
        },
        {
          "line": 725,
          "old_api": null,
          "new_api": "match_numeric_literal_separator_followed_by",
          "old_text": null,
          "new_text": "match_numeric_literal_separator_followed_by(is_ascii_digit)",
          "old_line_content": "                }",
          "new_line_content": "                    while (is_ascii_digit(m_current_char) || match_numeric_literal_separator_followed_by(is_ascii_digit)) {",
          "content_same": false
        },
        {
          "line": 726,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "                if (m_current_char == 'e' || m_current_char == 'E')",
          "new_line_content": "                        consume();",
          "content_same": false
        },
        {
          "line": 730,
          "old_api": null,
          "new_api": "consume_exponent",
          "old_text": null,
          "new_text": "consume_exponent()",
          "old_line_content": "        if (is_invalid_numeric_literal) {",
          "new_line_content": "                    is_invalid_numeric_literal = is_invalid_numeric_literal || !consume_exponent();",
          "content_same": false
        },
        {
          "line": 739,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "            if (m_current_char == '\\\\') {",
          "new_line_content": "        consume();",
          "content_same": false
        },
        {
          "line": 743,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "                }",
          "new_line_content": "                consume();",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "m_source.length()",
          "old_line_content": "            }",
          "new_line_content": "                if (m_current_char == '\\r' && m_position < m_source.length() && m_source[m_position] == '\\n') {",
          "content_same": false
        },
        {
          "line": 748,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "            token_type = TokenType::UnterminatedStringLiteral;",
          "new_line_content": "            consume();",
          "content_same": false
        },
        {
          "line": 756,
          "old_api": null,
          "new_api": "slash_means_division",
          "old_text": null,
          "new_text": "slash_means_division()",
          "old_line_content": "    } else if (m_eof) {",
          "new_line_content": "    } else if (m_current_char == '/' && !slash_means_division()) {",
          "content_same": false
        },
        {
          "line": 757,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "        if (unterminated_comment) {",
          "new_line_content": "        consume();",
          "content_same": false
        },
        {
          "line": 758,
          "old_api": null,
          "new_api": "consume_regex_literal",
          "old_text": null,
          "new_text": "consume_regex_literal()",
          "old_line_content": "            token_type = TokenType::Invalid;",
          "new_line_content": "        token_type = consume_regex_literal();",
          "content_same": false
        },
        {
          "line": 772,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "            token_type = TokenType::UnsignedShiftRightEquals;",
          "new_line_content": "            consume();",
          "content_same": false
        },
        {
          "line": 773,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "        }",
          "new_line_content": "            consume();",
          "content_same": false
        },
        {
          "line": 774,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "",
          "new_line_content": "            consume();",
          "content_same": false
        },
        {
          "line": 780,
          "old_api": null,
          "new_api": "substring_view",
          "old_text": null,
          "new_text": "m_source.substring_view(m_position - 1, 3)",
          "old_line_content": "                found_three_char_token = true;",
          "new_line_content": "            auto three_chars_view = m_source.substring_view(m_position - 1, 3);",
          "content_same": false
        },
        {
          "line": 784,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "                token_type = it->value;",
          "new_line_content": "                consume();",
          "content_same": false
        },
        {
          "line": 785,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "            }",
          "new_line_content": "                consume();",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": null,
          "new_api": "consume",
          "old_text": null,
          "new_text": "consume()",
          "old_line_content": "        }",
          "new_line_content": "                consume();",
          "content_same": false
        },
        {
          "line": 793,
          "old_api": null,
          "new_api": "substring_view",
          "old_text": null,
          "new_text": "m_source.substring_view(m_position - 1, 2)",
          "old_line_content": "                // OptionalChainingPunctuator :: ?. [lookahead âˆ‰ DecimalDigit]",
          "new_line_content": "            auto two_chars_view = m_source.substring_view(m_position - 1, 2);",
          "content_same": false
        },
        {
          "line": 795,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "s_two_char_tokens.end()",
          "old_line_content": "                    found_two_char_token = true;",
          "new_line_content": "            if (it != s_two_char_tokens.end()) {",
          "content_same": false
        },
        {
          "line": 799,
          "old_api": null,
          "new_api": "nsume",
          "old_text": null,
          "new_text": "nsume();\n",
          "old_line_content": "                }",
          "new_line_content": "                    consume();",
          "content_same": false
        },
        {
          "line": 800,
          "old_api": null,
          "new_api": "nsume",
          "old_text": null,
          "new_text": "nsume();\n",
          "old_line_content": "            }",
          "new_line_content": "                    consume();",
          "content_same": false
        },
        {
          "line": 809,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "single_char_tokens.end()) ",
          "old_line_content": "                token_type = it->value;",
          "new_line_content": "            if (it != s_single_char_tokens.end()) {",
          "content_same": false
        },
        {
          "line": 811,
          "old_api": null,
          "new_api": "nsume",
          "old_text": null,
          "new_text": "nsume();\n",
          "old_line_content": "        }",
          "new_line_content": "                consume();",
          "content_same": false
        },
        {
          "line": 817,
          "old_api": null,
          "new_api": "nsume",
          "old_text": null,
          "new_text": "nsume();\n",
          "old_line_content": "    }",
          "new_line_content": "            consume();",
          "content_same": false
        },
        {
          "line": 822,
          "old_api": null,
          "new_api": "last",
          "old_text": null,
          "new_text": "template_states.last().i",
          "old_line_content": "        } else if (token_type == TokenType::CurlyClose) {",
          "new_line_content": "    if (!m_template_states.is_empty() && m_template_states.last().in_expr) {",
          "content_same": false
        },
        {
          "line": 824,
          "old_api": null,
          "new_api": "last",
          "old_text": null,
          "new_text": "template_states.last().o",
          "old_line_content": "        }",
          "new_line_content": "            m_template_states.last().open_bracket_count++;",
          "content_same": false
        },
        {
          "line": 826,
          "old_api": null,
          "new_api": "last",
          "old_text": null,
          "new_text": "template_states.last().o",
          "old_line_content": "",
          "new_line_content": "            m_template_states.last().open_bracket_count--;",
          "content_same": false
        },
        {
          "line": 830,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "hit_invalid_unicode.has_value()) ",
          "old_line_content": "            \"\", // Since the invalid unicode can occur anywhere in the current token the trivia is not correct",
          "new_line_content": "    if (m_hit_invalid_unicode.has_value()) {",
          "content_same": false
        },
        {
          "line": 832,
          "old_api": null,
          "new_api": "substring_view",
          "old_text": null,
          "new_text": "ken(TokenType::Invalid, \"Invalid unicode codepoint in source\",\n            \"\", // Since the invalid unicode can occur anywhere in the current token the trivia is not correct\n            m_source.substring_view(value_start + 1, min(4u, m_source.length() - value_start - 2)),\n            m_filename,\n            m_line_number,\n            m_line_column - 1,\n            value_start + 1);\n",
          "old_line_content": "            m_filename,",
          "new_line_content": "        m_current_token = Token(TokenType::Invalid, \"Invalid unicode codepoint in source\",",
          "content_same": false
        },
        {
          "line": 834,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "source.length() -",
          "old_line_content": "            m_line_column - 1,",
          "new_line_content": "            m_source.substring_view(value_start + 1, min(4u, m_source.length() - value_start - 2)),",
          "content_same": false
        },
        {
          "line": 839,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "hit_invalid_unicode.clear();\n",
          "old_line_content": "    } else {",
          "new_line_content": "        m_hit_invalid_unicode.clear();",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": null,
          "new_api": "_eof",
          "old_text": null,
          "new_text": "_eof());",
          "old_line_content": "            token_type,",
          "new_line_content": "        VERIFY(is_eof());",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": null,
          "new_api": "substring_view",
          "old_text": null,
          "new_text": "source.substring_view(trivia_start - 1, value_start - trivia_start),\n",
          "old_line_content": "            value_start_line_number,",
          "new_line_content": "            m_source.substring_view(trivia_start - 1, value_start - trivia_start),",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": null,
          "new_api": "substring_view",
          "old_text": null,
          "new_text": "source.substring_view(value_start - 1, m_position - value_start),\n",
          "old_line_content": "            value_start_column_number,",
          "new_line_content": "            m_source.substring_view(value_start - 1, m_position - value_start),",
          "content_same": false
        },
        {
          "line": 854,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "entifier.has_value())\n",
          "old_line_content": "    if constexpr (LEXER_DEBUG) {",
          "new_line_content": "    if (identifier.has_value())",
          "content_same": false
        },
        {
          "line": 861,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "current_token.value());",
          "old_line_content": "    }",
          "new_line_content": "        dbgln(\"Value: _{}_\", m_current_token.value());",
          "content_same": false
        },
        {
          "line": 862,
          "old_api": null,
          "new_api": "line_column",
          "old_text": null,
          "new_text": "current_token.line_column());",
          "old_line_content": "",
          "new_line_content": "        dbgln(\"Line: {}, Column: {}\", m_current_token.line_number(), m_current_token.line_column());",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": null,
          "new_api": "gln",
          "old_text": null,
          "new_text": "gln(\"------------------------------\");\n",
          "old_line_content": "    return m_current_token;",
          "new_line_content": "        dbgln(\"------------------------------\");",
          "content_same": false
        },
        {
          "line": 871,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "current_token.type() =",
          "old_line_content": "",
          "new_line_content": "    VERIFY(m_current_token.type() == TokenType::Slash || m_current_token.type() == TokenType::SlashEquals);",
          "content_same": false
        },
        {
          "line": 873,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "current_token.type() =",
          "old_line_content": "    size_t value_start = m_position - 1;",
          "new_line_content": "    bool has_equals = m_current_token.type() == TokenType::SlashEquals;",
          "content_same": false
        },
        {
          "line": 875,
          "old_api": null,
          "new_api": "RIFY",
          "old_text": null,
          "new_text": "RIFY(m_position > 0);\n",
          "old_line_content": "    if (has_equals) {",
          "new_line_content": "    VERIFY(m_position > 0);",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": null,
          "new_api": "RIFY",
          "old_text": null,
          "new_text": "RIFY(m_source[value_start - 1] == '=');\n",
          "old_line_content": "        m_current_char = '=';",
          "new_line_content": "        VERIFY(m_source[value_start - 1] == '=');",
          "content_same": false
        },
        {
          "line": 372,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "utf_8_view.begin()",
          "old_line_content": "bool Lexer::is_whitespace() const",
          "new_line_content": "    return *utf_8_view.begin();",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": null,
          "new_api": "nsume_regex_literal",
          "old_text": null,
          "new_text": "nsume_regex_literal();\n",
          "old_line_content": "        token_type,",
          "new_line_content": "    TokenType token_type = consume_regex_literal();",
          "content_same": false
        },
        {
          "line": 377,
          "old_api": null,
          "new_api": "is_ascii_space",
          "old_text": null,
          "new_text": "is_ascii_space(m_current_char)",
          "old_line_content": "        return false;",
          "new_line_content": "    if (is_ascii_space(m_current_char))",
          "content_same": false
        },
        {
          "line": 379,
          "old_api": null,
          "new_api": "is_unicode_character",
          "old_text": null,
          "new_text": "is_unicode_character()",
          "old_line_content": "    if (code_point == NO_BREAK_SPACE || code_point == ZERO_WIDTH_NO_BREAK_SPACE)",
          "new_line_content": "    if (!is_unicode_character())",
          "content_same": false
        },
        {
          "line": 381,
          "old_api": null,
          "new_api": "current_code_point",
          "old_text": null,
          "new_text": "current_code_point()",
          "old_line_content": "",
          "new_line_content": "    auto code_point = current_code_point();",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": null,
          "new_api": "line_number",
          "old_text": null,
          "new_text": "current_token.line_number(),\n",
          "old_line_content": "",
          "new_line_content": "        m_current_token.line_number(),",
          "content_same": false
        },
        {
          "line": 894,
          "old_api": null,
          "new_api": "line_column",
          "old_text": null,
          "new_text": "current_token.line_column(),\n",
          "old_line_content": "    if constexpr (LEXER_DEBUG) {",
          "new_line_content": "        m_current_token.line_column(),",
          "content_same": false
        },
        {
          "line": 385,
          "old_api": null,
          "new_api": "Unicode::general_category_from_string(\"Space_Separator\"sv)",
          "old_text": null,
          "new_text": "Unicode::general_category_from_string(\"Space_Separator\"sv)",
          "old_line_content": "    return false;",
          "new_line_content": "    static auto space_separator_category = Unicode::general_category_from_string(\"Space_Separator\"sv);",
          "content_same": false
        },
        {
          "line": 386,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "space_separator_category.has_value()",
          "old_line_content": "}",
          "new_line_content": "    if (space_separator_category.has_value())",
          "content_same": false
        },
        {
          "line": 387,
          "old_api": null,
          "new_api": "Unicode::code_point_has_general_category(code_point, *space_separator_category)",
          "old_text": null,
          "new_text": "Unicode::code_point_has_general_category(code_point, *space_separator_category)",
          "old_line_content": "",
          "new_line_content": "        return Unicode::code_point_has_general_category(code_point, *space_separator_category);",
          "content_same": false
        },
        {
          "line": 901,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "current_token.value());",
          "old_line_content": "    }",
          "new_line_content": "        dbgln(\"Value: _{}_\", m_current_token.value());",
          "content_same": false
        },
        {
          "line": 902,
          "old_api": null,
          "new_api": "line_column",
          "old_text": null,
          "new_text": "current_token.line_column());",
          "old_line_content": "",
          "new_line_content": "        dbgln(\"Line: {}, Column: {}\", m_current_token.line_number(), m_current_token.line_column());",
          "content_same": false
        },
        {
          "line": 903,
          "old_api": null,
          "new_api": "gln",
          "old_text": null,
          "new_text": "gln(\"------------------------------\");\n",
          "old_line_content": "    return m_current_token;",
          "new_line_content": "        dbgln(\"------------------------------\");",
          "content_same": false
        },
        {
          "line": 398,
          "old_api": null,
          "new_api": "is_error",
          "old_text": null,
          "new_text": "code_point_or_error.is_error()",
          "old_line_content": "    }",
          "new_line_content": "    if (auto code_point_or_error = lexer.consume_escaped_code_point(false); !code_point_or_error.is_error()) {",
          "content_same": false
        },
        {
          "line": 399,
          "old_api": null,
          "new_api": "tell",
          "old_text": null,
          "new_text": "lexer.tell()",
          "old_line_content": "",
          "new_line_content": "        identifier_length = lexer.tell();",
          "content_same": false
        },
        {
          "line": 400,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "code_point_or_error.value()",
          "old_line_content": "    return {};",
          "new_line_content": "        return code_point_or_error.value();",
          "content_same": false
        },
        {
          "line": 911,
          "old_api": null,
          "new_api": "_eof",
          "old_text": null,
          "new_text": "_eof()) ",
          "old_line_content": "        } else if (m_current_char == '[') {",
          "new_line_content": "    while (!is_eof()) {",
          "content_same": false
        },
        {
          "line": 912,
          "old_api": null,
          "new_api": "_line_terminator",
          "old_text": null,
          "new_text": "_line_terminator() |",
          "old_line_content": "            m_regex_is_in_character_class = true;",
          "new_line_content": "        if (is_line_terminator() || (!m_regex_is_in_character_class && m_current_char == '/')) {",
          "content_same": false
        },
        {
          "line": 922,
          "old_api": null,
          "new_api": "tch",
          "old_text": null,
          "new_text": "tch('\\\\', ']')))",
          "old_line_content": "    }",
          "new_line_content": "        if (match('\\\\', '/') || match('\\\\', '[') || match('\\\\', '\\\\') || (m_regex_is_in_character_class && match('\\\\', ']')))",
          "content_same": false
        },
        {
          "line": 923,
          "old_api": null,
          "new_api": "nsume",
          "old_text": null,
          "new_text": "nsume();\n",
          "old_line_content": "",
          "new_line_content": "            consume();",
          "content_same": false
        },
        {
          "line": 924,
          "old_api": null,
          "new_api": "nsume",
          "old_text": null,
          "new_text": "nsume();\n",
          "old_line_content": "    if (m_current_char == '/') {",
          "new_line_content": "        consume();",
          "content_same": false
        },
        {
          "line": 413,
          "old_api": null,
          "new_api": "current_code_point",
          "old_text": null,
          "new_text": "current_code_point()",
          "old_line_content": "    if (code_point == '\\\\') {",
          "new_line_content": "    u32 code_point = current_code_point();",
          "content_same": false
        },
        {
          "line": 928,
          "old_api": null,
          "new_api": "nsume",
          "old_text": null,
          "new_text": "nsume();\n",
          "old_line_content": "",
          "new_line_content": "        consume();",
          "content_same": false
        },
        {
          "line": 417,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "maybe_code_point.has_value()",
          "old_line_content": "            return {};",
          "new_line_content": "        if (auto maybe_code_point = is_identifier_unicode_escape(identifier_length); maybe_code_point.has_value())",
          "content_same": false
        },
        {
          "line": 423,
          "old_api": null,
          "new_api": "is_ascii_alpha",
          "old_text": null,
          "new_text": "is_ascii_alpha(code_point)",
          "old_line_content": "    // Optimization: the first codepoint with the ID_Start property after A-Za-z is outside the",
          "new_line_content": "    if (is_ascii_alpha(code_point) || code_point == '_' || code_point == '$')",
          "content_same": false
        },
        {
          "line": 431,
          "old_api": null,
          "new_api": "Unicode::property_from_string(\"ID_Start\"sv)",
          "old_text": null,
          "new_text": "Unicode::property_from_string(\"ID_Start\"sv)",
          "old_line_content": "",
          "new_line_content": "    static auto id_start_category = Unicode::property_from_string(\"ID_Start\"sv);",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": null,
          "new_api": "Unicode::code_point_has_property(code_point, *id_start_category)",
          "old_text": null,
          "new_text": "Unicode::code_point_has_property(code_point, *id_start_category)",
          "old_line_content": "    return {};",
          "new_line_content": "    if (id_start_category.has_value() && Unicode::code_point_has_property(code_point, *id_start_category))",
          "content_same": false
        },
        {
          "line": 446,
          "old_api": null,
          "new_api": "current_code_point",
          "old_text": null,
          "new_text": "current_code_point()",
          "old_line_content": "    if (code_point == '\\\\') {",
          "new_line_content": "    u32 code_point = current_code_point();",
          "content_same": false
        },
        {
          "line": 450,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "maybe_code_point.has_value()",
          "old_line_content": "            return {};",
          "new_line_content": "        if (auto maybe_code_point = is_identifier_unicode_escape(identifier_length); maybe_code_point.has_value())",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": null,
          "new_api": "is_ascii_alphanumeric",
          "old_text": null,
          "new_text": "is_ascii_alphanumeric(code_point)",
          "old_line_content": "    // Optimization: the first codepoint with the ID_Continue property after A-Za-z0-9_ is outside the",
          "new_line_content": "    if (is_ascii_alphanumeric(code_point) || (code_point == '$') || (code_point == ZERO_WIDTH_NON_JOINER) || (code_point == ZERO_WIDTH_JOINER))",
          "content_same": false
        },
        {
          "line": 466,
          "old_api": null,
          "new_api": "Unicode::property_from_string(\"ID_Continue\"sv)",
          "old_text": null,
          "new_text": "Unicode::property_from_string(\"ID_Continue\"sv)",
          "old_line_content": "",
          "new_line_content": "    static auto id_continue_category = Unicode::property_from_string(\"ID_Continue\"sv);",
          "content_same": false
        },
        {
          "line": 467,
          "old_api": null,
          "new_api": "Unicode::code_point_has_property(code_point, *id_continue_category)",
          "old_text": null,
          "new_text": "Unicode::code_point_has_property(code_point, *id_continue_category)",
          "old_line_content": "    return {};",
          "new_line_content": "    if (id_continue_category.has_value() && Unicode::code_point_has_property(code_point, *id_continue_category))",
          "content_same": false
        },
        {
          "line": 475,
          "old_api": null,
          "new_api": "match",
          "old_text": null,
          "new_text": "match('/', '/')",
          "old_line_content": "        // other block comment(s); or in other words: the current line does not have a token or",
          "new_line_content": "    return match('/', '/')",
          "content_same": false
        },
        {
          "line": 476,
          "old_api": null,
          "new_api": "match",
          "old_text": null,
          "new_text": "match('<', '!', '-', '-')",
          "old_line_content": "        // ongoing line comment yet",
          "new_line_content": "        || (m_allow_html_comments && match('<', '!', '-', '-'))",
          "content_same": false
        },
        {
          "line": 480,
          "old_api": null,
          "new_api": "match",
          "old_text": null,
          "new_text": "match('-', '-', '>')",
          "old_line_content": "}",
          "new_line_content": "        || (m_allow_html_comments && !line_has_token_yet && match('-', '-', '>'))",
          "content_same": false
        },
        {
          "line": 482,
          "old_api": null,
          "new_api": "match",
          "old_text": null,
          "new_text": "match('#', '!')",
          "old_line_content": "bool Lexer::is_block_comment_start() const",
          "new_line_content": "        || (match('#', '!') && m_position == 1);",
          "content_same": false
        },
        {
          "line": 487,
          "old_api": null,
          "new_api": "match",
          "old_text": null,
          "new_text": "match('/', '*')",
          "old_line_content": "bool Lexer::is_block_comment_end() const",
          "new_line_content": "    return match('/', '*');",
          "content_same": false
        },
        {
          "line": 492,
          "old_api": null,
          "new_api": "match",
          "old_text": null,
          "new_text": "match('*', '/')",
          "old_line_content": "bool Lexer::is_numeric_literal_start() const",
          "new_line_content": "    return match('*', '/');",
          "content_same": false
        },
        {
          "line": 497,
          "old_api": null,
          "new_api": "is_ascii_digit",
          "old_text": null,
          "new_text": "is_ascii_digit(m_source[m_position])",
          "old_line_content": "bool Lexer::slash_means_division() const",
          "new_line_content": "    return is_ascii_digit(m_current_char) || (m_current_char == '.' && m_position < m_source.length() && is_ascii_digit(m_source[m_position]));",
          "content_same": false
        },
        {
          "line": 502,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "m_current_token.type()",
          "old_line_content": "        || type == TokenType::BracketClose",
          "new_line_content": "    auto type = m_current_token.type();",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 522,
          "old_api": "is_empty",
          "new_api": null,
          "old_text": "m_template_states.is_empty()",
          "new_text": null,
          "old_line_content": "    auto in_template = !m_template_states.is_empty();",
          "new_line_content": "Token Lexer::next()",
          "content_same": false
        },
        {
          "line": 526,
          "old_api": "last",
          "new_api": null,
          "old_text": "m_template_states.last()",
          "new_text": null,
          "old_line_content": "    if (!in_template || m_template_states.last().in_expr) {",
          "new_line_content": "    bool line_has_token_yet = m_line_column > 1;",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": "is_line_terminator",
          "new_api": null,
          "old_text": "is_line_terminator()",
          "new_text": null,
          "old_line_content": "                } while (is_line_terminator());",
          "new_line_content": "                line_has_token_yet = false;",
          "content_same": false
        },
        {
          "line": 534,
          "old_api": "is_whitespace",
          "new_api": null,
          "old_text": "is_whitespace()",
          "new_text": null,
          "old_line_content": "            } else if (is_whitespace()) {",
          "new_line_content": "                do {",
          "content_same": false
        },
        {
          "line": 538,
          "old_api": "is_line_comment_start",
          "new_api": null,
          "old_text": "is_line_comment_start(line_has_token_yet)",
          "new_text": null,
          "old_line_content": "            } else if (is_line_comment_start(line_has_token_yet)) {",
          "new_line_content": "                do {",
          "content_same": false
        },
        {
          "line": 543,
          "old_api": "is_block_comment_start",
          "new_api": null,
          "old_text": "is_block_comment_start()",
          "new_text": null,
          "old_line_content": "            } else if (is_block_comment_start()) {",
          "new_line_content": "                do {",
          "content_same": false
        },
        {
          "line": 547,
          "old_api": "consume",
          "new_api": null,
          "old_text": "consume()",
          "new_text": null,
          "old_line_content": "                    consume();",
          "new_line_content": "                size_t start_line_number = m_line_number;",
          "content_same": false
        },
        {
          "line": 549,
          "old_api": "is_eof",
          "new_api": null,
          "old_text": "is_eof()",
          "new_text": null,
          "old_line_content": "                if (is_eof())",
          "new_line_content": "                do {",
          "content_same": false
        },
        {
          "line": 577,
          "old_api": "is_ascii_alpha",
          "new_api": null,
          "old_text": "is_ascii_alpha(m_current_char)",
          "new_text": null,
          "old_line_content": "    if (m_current_token.type() == TokenType::RegexLiteral && !is_eof() && is_ascii_alpha(m_current_char) && !did_consume_whitespace_or_comments) {",
          "new_line_content": "    Optional<FlyString> identifier;",
          "content_same": false
        },
        {
          "line": 579,
          "old_api": "is_ascii_alpha",
          "new_api": null,
          "old_text": "is_ascii_alpha(m_current_char)",
          "new_text": null,
          "old_line_content": "        while (!is_eof() && is_ascii_alpha(m_current_char))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 586,
          "old_api": "append",
          "new_api": null,
          "old_text": "m_template_states.append({ false, 0 })",
          "new_text": null,
          "old_line_content": "            m_template_states.append({ false, 0 });",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 588,
          "old_api": "last",
          "new_api": null,
          "old_text": "m_template_states.last()",
          "new_text": null,
          "old_line_content": "            if (m_template_states.last().in_expr) {",
          "new_line_content": "            token_type = TokenType::TemplateLiteralStart;",
          "content_same": false
        },
        {
          "line": 596,
          "old_api": "last",
          "new_api": null,
          "old_text": "m_template_states.last()",
          "new_text": null,
          "old_line_content": "    } else if (in_template && m_template_states.last().in_expr && m_template_states.last().open_bracket_count == 0 && m_current_char == '}') {",
          "new_line_content": "                token_type = TokenType::TemplateLiteralEnd;",
          "content_same": false
        },
        {
          "line": 597,
          "old_api": "consume",
          "new_api": null,
          "old_text": "consume()",
          "new_text": null,
          "old_line_content": "        consume();",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 601,
          "old_api": "is_eof",
          "new_api": null,
          "old_text": "is_eof()",
          "new_text": null,
          "old_line_content": "        if (is_eof()) {",
          "new_line_content": "        token_type = TokenType::TemplateLiteralExprEnd;",
          "content_same": false
        },
        {
          "line": 608,
          "old_api": "last",
          "new_api": null,
          "old_text": "m_template_states.last()",
          "new_text": null,
          "old_line_content": "            m_template_states.last().in_expr = true;",
          "new_line_content": "            token_type = TokenType::TemplateLiteralExprStart;",
          "content_same": false
        },
        {
          "line": 612,
          "old_api": "consume",
          "new_api": null,
          "old_text": "consume()",
          "new_text": null,
          "old_line_content": "                    consume();",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 622,
          "old_api": "consume",
          "new_api": null,
          "old_text": "consume()",
          "new_text": null,
          "old_line_content": "        consume();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 623,
          "old_api": "is_identifier_start",
          "new_api": null,
          "old_text": "is_identifier_start(identifier_length)",
          "new_text": null,
          "old_line_content": "        auto code_point = is_identifier_start(identifier_length);",
          "new_line_content": "    } else if (m_current_char == '#') {",
          "content_same": false
        },
        {
          "line": 624,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "code_point.has_value()",
          "new_text": null,
          "old_line_content": "        if (code_point.has_value()) {",
          "new_line_content": "        // Note: This has some duplicated code with the identifier lexing below",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": "append_code_point",
          "new_api": null,
          "old_text": "builder.append_code_point(*code_point)",
          "new_text": null,
          "old_line_content": "                builder.append_code_point(*code_point);",
          "new_line_content": "            StringBuilder builder;",
          "content_same": false
        },
        {
          "line": 630,
          "old_api": "consume",
          "new_api": null,
          "old_text": "consume()",
          "new_text": null,
          "old_line_content": "                    consume();",
          "new_line_content": "            do {",
          "content_same": false
        },
        {
          "line": 632,
          "old_api": "is_identifier_middle",
          "new_api": null,
          "old_text": "is_identifier_middle(identifier_length)",
          "new_text": null,
          "old_line_content": "                code_point = is_identifier_middle(identifier_length);",
          "new_line_content": "                for (size_t i = 0; i < identifier_length; ++i)",
          "content_same": false
        },
        {
          "line": 643,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "code_point.has_value()",
          "new_text": null,
          "old_line_content": "    } else if (auto code_point = is_identifier_start(identifier_length); code_point.has_value()) {",
          "new_line_content": "            token_type = TokenType::Invalid;",
          "content_same": false
        },
        {
          "line": 648,
          "old_api": "append_code_point",
          "new_api": null,
          "old_text": "builder.append_code_point(*code_point)",
          "new_text": null,
          "old_line_content": "            builder.append_code_point(*code_point);",
          "new_line_content": "        // identifier or keyword",
          "content_same": false
        },
        {
          "line": 650,
          "old_api": "consume",
          "new_api": null,
          "old_text": "consume()",
          "new_text": null,
          "old_line_content": "                consume();",
          "new_line_content": "        do {",
          "content_same": false
        },
        {
          "line": 654,
          "old_api": "is_identifier_middle",
          "new_api": null,
          "old_text": "is_identifier_middle(identifier_length)",
          "new_text": null,
          "old_line_content": "            code_point = is_identifier_middle(identifier_length);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 655,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "code_point.has_value()",
          "new_text": null,
          "old_line_content": "        } while (code_point.has_value());",
          "new_line_content": "            has_escaped_character |= identifier_length > 1;",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": "is_numeric_literal_start",
          "new_api": null,
          "old_text": "is_numeric_literal_start()",
          "new_text": null,
          "old_line_content": "    } else if (is_numeric_literal_start()) {",
          "new_line_content": "            token_type = TokenType::Identifier;",
          "content_same": false
        },
        {
          "line": 669,
          "old_api": "consume",
          "new_api": null,
          "old_text": "consume()",
          "new_text": null,
          "old_line_content": "            consume();",
          "new_line_content": "        token_type = TokenType::NumericLiteral;",
          "content_same": false
        },
        {
          "line": 673,
          "old_api": "is_ascii_digit",
          "new_api": null,
          "old_text": "is_ascii_digit(m_current_char)",
          "new_text": null,
          "old_line_content": "                while (is_ascii_digit(m_current_char))",
          "new_line_content": "            if (m_current_char == '.') {",
          "content_same": false
        },
        {
          "line": 674,
          "old_api": "consume",
          "new_api": null,
          "old_text": "consume()",
          "new_text": null,
          "old_line_content": "                    consume();",
          "new_line_content": "                // decimal",
          "content_same": false
        },
        {
          "line": 678,
          "old_api": "consume_exponent",
          "new_api": null,
          "old_text": "consume_exponent()",
          "new_text": null,
          "old_line_content": "                is_invalid_numeric_literal = !consume_exponent();",
          "new_line_content": "                if (m_current_char == 'e' || m_current_char == 'E')",
          "content_same": false
        },
        {
          "line": 683,
          "old_api": "consume",
          "new_api": null,
          "old_text": "consume()",
          "new_text": null,
          "old_line_content": "                    consume();",
          "new_line_content": "                // octal",
          "content_same": false
        },
        {
          "line": 688,
          "old_api": "consume_binary_number",
          "new_api": null,
          "old_text": "consume_binary_number()",
          "new_text": null,
          "old_line_content": "                is_invalid_numeric_literal = !consume_binary_number();",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 690,
          "old_api": "consume",
          "new_api": null,
          "old_text": "consume()",
          "new_text": null,
          "old_line_content": "                    consume();",
          "new_line_content": "                // binary",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": "consume_hexadecimal_number",
          "new_api": null,
          "old_text": "consume_hexadecimal_number()",
          "new_text": null,
          "old_line_content": "                is_invalid_numeric_literal = !consume_hexadecimal_number();",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 697,
          "old_api": "consume",
          "new_api": null,
          "old_text": "consume()",
          "new_text": null,
          "old_line_content": "                    consume();",
          "new_line_content": "                // hexadecimal",
          "content_same": false
        },
        {
          "line": 701,
          "old_api": "consume",
          "new_api": null,
          "old_text": "consume()",
          "new_text": null,
          "old_line_content": "                consume();",
          "new_line_content": "                    token_type = TokenType::BigIntLiteral;",
          "content_same": false
        },
        {
          "line": 703,
          "old_api": "is_ascii_digit",
          "new_api": null,
          "old_text": "is_ascii_digit(m_current_char)",
          "new_text": null,
          "old_line_content": "            } else if (is_ascii_digit(m_current_char)) {",
          "new_line_content": "            } else if (m_current_char == 'n') {",
          "content_same": false
        },
        {
          "line": 707,
          "old_api": "is_ascii_digit",
          "new_api": null,
          "old_text": "is_ascii_digit(m_current_char)",
          "new_text": null,
          "old_line_content": "                } while (is_ascii_digit(m_current_char));",
          "new_line_content": "                // octal without '0o' prefix. Forbidden in 'strict mode'",
          "content_same": false
        },
        {
          "line": 711,
          "old_api": "match_numeric_literal_separator_followed_by",
          "new_api": null,
          "old_text": "match_numeric_literal_separator_followed_by(is_ascii_digit)",
          "new_text": null,
          "old_line_content": "            while (is_ascii_digit(m_current_char) || match_numeric_literal_separator_followed_by(is_ascii_digit))",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 712,
          "old_api": "consume",
          "new_api": null,
          "old_text": "consume()",
          "new_text": null,
          "old_line_content": "                consume();",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 718,
          "old_api": "consume",
          "new_api": null,
          "old_text": "consume()",
          "new_text": null,
          "old_line_content": "                    consume();",
          "new_line_content": "                token_type = TokenType::BigIntLiteral;",
          "content_same": false
        },
        {
          "line": 722,
          "old_api": "match_numeric_literal_separator_followed_by",
          "new_api": null,
          "old_text": "match_numeric_literal_separator_followed_by(is_ascii_digit)",
          "new_text": null,
          "old_line_content": "                    while (is_ascii_digit(m_current_char) || match_numeric_literal_separator_followed_by(is_ascii_digit)) {",
          "new_line_content": "                    if (m_current_char == '_')",
          "content_same": false
        },
        {
          "line": 723,
          "old_api": "consume",
          "new_api": null,
          "old_text": "consume()",
          "new_text": null,
          "old_line_content": "                        consume();",
          "new_line_content": "                        is_invalid_numeric_literal = true;",
          "content_same": false
        },
        {
          "line": 727,
          "old_api": "consume_exponent",
          "new_api": null,
          "old_text": "consume_exponent()",
          "new_text": null,
          "old_line_content": "                    is_invalid_numeric_literal = is_invalid_numeric_literal || !consume_exponent();",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 736,
          "old_api": "consume",
          "new_api": null,
          "old_text": "consume()",
          "new_text": null,
          "old_line_content": "        consume();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 738,
          "old_api": "is_eof",
          "new_api": null,
          "old_text": "is_eof()",
          "new_text": null,
          "old_line_content": "        while (m_current_char != stop_char && m_current_char != '\\r' && m_current_char != '\\n' && !is_eof()) {",
          "new_line_content": "        char stop_char = m_current_char;",
          "content_same": false
        },
        {
          "line": 740,
          "old_api": "consume",
          "new_api": null,
          "old_text": "consume()",
          "new_text": null,
          "old_line_content": "                consume();",
          "new_line_content": "        // Note: LS/PS line terminators are allowed in string literals.",
          "content_same": false
        },
        {
          "line": 742,
          "old_api": "consume",
          "new_api": null,
          "old_text": "consume()",
          "new_text": null,
          "old_line_content": "                    consume();",
          "new_line_content": "            if (m_current_char == '\\\\') {",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": "consume",
          "new_api": null,
          "old_text": "consume()",
          "new_text": null,
          "old_line_content": "            consume();",
          "new_line_content": "        if (m_current_char != stop_char) {",
          "content_same": false
        },
        {
          "line": 754,
          "old_api": "consume",
          "new_api": null,
          "old_text": "consume()",
          "new_text": null,
          "old_line_content": "        consume();",
          "new_line_content": "            token_type = TokenType::StringLiteral;",
          "content_same": false
        },
        {
          "line": 755,
          "old_api": "consume_regex_literal",
          "new_api": null,
          "old_text": "consume_regex_literal()",
          "new_text": null,
          "old_line_content": "        token_type = consume_regex_literal();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 766,
          "old_api": "match",
          "new_api": null,
          "old_text": "match('>', '>', '>', '=')",
          "new_text": null,
          "old_line_content": "        if (match('>', '>', '>', '=')) {",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 768,
          "old_api": "consume",
          "new_api": null,
          "old_text": "consume()",
          "new_text": null,
          "old_line_content": "            consume();",
          "new_line_content": "        bool found_four_char_token = false;",
          "content_same": false
        },
        {
          "line": 770,
          "old_api": "consume",
          "new_api": null,
          "old_text": "consume()",
          "new_text": null,
          "old_line_content": "            consume();",
          "new_line_content": "            found_four_char_token = true;",
          "content_same": false
        },
        {
          "line": 776,
          "old_api": "length",
          "new_api": null,
          "old_text": "m_source.length()",
          "new_text": null,
          "old_line_content": "        if (!found_four_char_token && m_position + 1 < m_source.length()) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 777,
          "old_api": "substring_view",
          "new_api": null,
          "old_text": "m_source.substring_view(m_position - 1, 3)",
          "new_text": null,
          "old_line_content": "            auto three_chars_view = m_source.substring_view(m_position - 1, 3);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 778,
          "old_api": "hash",
          "new_api": null,
          "old_text": "three_chars_view.hash()",
          "new_text": null,
          "old_line_content": "            auto it = s_three_char_tokens.find(three_chars_view.hash(), [&](auto& entry) { return entry.key == three_chars_view; });",
          "new_line_content": "        bool found_three_char_token = false;",
          "content_same": false
        },
        {
          "line": 783,
          "old_api": "consume",
          "new_api": null,
          "old_text": "consume()",
          "new_text": null,
          "old_line_content": "                consume();",
          "new_line_content": "                found_three_char_token = true;",
          "content_same": false
        },
        {
          "line": 789,
          "old_api": "length",
          "new_api": null,
          "old_text": "m_source.length()",
          "new_text": null,
          "old_line_content": "        if (!found_four_char_token && !found_three_char_token && m_position < m_source.length()) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 790,
          "old_api": "substring_view",
          "new_api": null,
          "old_text": "m_source.substring_view(m_position - 1, 2)",
          "new_text": null,
          "old_line_content": "            auto two_chars_view = m_source.substring_view(m_position - 1, 2);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 791,
          "old_api": "hash",
          "new_api": null,
          "old_text": "two_chars_view.hash()",
          "new_text": null,
          "old_line_content": "            auto it = s_two_char_tokens.find(two_chars_view.hash(), [&](auto& entry) { return entry.key == two_chars_view; });",
          "new_line_content": "        bool found_two_char_token = false;",
          "content_same": false
        },
        {
          "line": 796,
          "old_api": "nsume",
          "new_api": null,
          "old_text": "nsume();\n",
          "new_text": null,
          "old_line_content": "                    consume();",
          "new_line_content": "                // OptionalChainingPunctuator :: ?. [lookahead âˆ‰ DecimalDigit]",
          "content_same": false
        },
        {
          "line": 805,
          "old_api": "find",
          "new_api": null,
          "old_text": "single_char_tokens.find(m_current_char);\n",
          "new_text": null,
          "old_line_content": "            auto it = s_single_char_tokens.find(m_current_char);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 806,
          "old_api": "end",
          "new_api": null,
          "old_text": "single_char_tokens.end()) ",
          "new_text": null,
          "old_line_content": "            if (it != s_single_char_tokens.end()) {",
          "new_line_content": "        bool found_one_char_token = false;",
          "content_same": false
        },
        {
          "line": 814,
          "old_api": "nsume",
          "new_api": null,
          "old_text": "nsume();\n",
          "new_text": null,
          "old_line_content": "            consume();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 819,
          "old_api": "last",
          "new_api": null,
          "old_text": "template_states.last().i",
          "new_text": null,
          "old_line_content": "    if (!m_template_states.is_empty() && m_template_states.last().in_expr) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 821,
          "old_api": "last",
          "new_api": null,
          "old_text": "template_states.last().o",
          "new_text": null,
          "old_line_content": "            m_template_states.last().open_bracket_count++;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 823,
          "old_api": "last",
          "new_api": null,
          "old_text": "template_states.last().o",
          "new_text": null,
          "old_line_content": "            m_template_states.last().open_bracket_count--;",
          "new_line_content": "        if (token_type == TokenType::CurlyOpen) {",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "hit_invalid_unicode.has_value()) ",
          "new_text": null,
          "old_line_content": "    if (m_hit_invalid_unicode.has_value()) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 828,
          "old_api": "value",
          "new_api": null,
          "old_text": "hit_invalid_unicode.value() -",
          "new_text": null,
          "old_line_content": "        value_start = m_hit_invalid_unicode.value() - 1;",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 829,
          "old_api": "substring_view",
          "new_api": null,
          "old_text": "ken(TokenType::Invalid, \"Invalid unicode codepoint in source\",\n            \"\", // Since the invalid unicode can occur anywhere in the current token the trivia is not correct\n            m_source.substring_view(value_start + 1, min(4u, m_source.length() - value_start - 2)),\n            m_filename,\n            m_line_number,\n            m_line_column - 1,\n            value_start + 1);\n",
          "new_text": null,
          "old_line_content": "        m_current_token = Token(TokenType::Invalid, \"Invalid unicode codepoint in source\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 836,
          "old_api": "clear",
          "new_api": null,
          "old_text": "hit_invalid_unicode.clear();\n",
          "new_text": null,
          "old_line_content": "        m_hit_invalid_unicode.clear();",
          "new_line_content": "            m_line_number,",
          "content_same": false
        },
        {
          "line": 838,
          "old_api": "_eof",
          "new_api": null,
          "old_text": "_eof());",
          "new_text": null,
          "old_line_content": "        VERIFY(is_eof());",
          "new_line_content": "            value_start + 1);",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": "substring_view",
          "new_api": null,
          "old_text": "ken(\n            token_type,\n            token_message,\n            m_source.substring_view(trivia_start - 1, value_start - trivia_start),\n            m_source.substring_view(value_start - 1, m_position - value_start),\n            m_filename,\n            value_start_line_number,\n            value_start_column_number,\n            value_start - 1);\n",
          "new_text": null,
          "old_line_content": "        m_current_token = Token(",
          "new_line_content": "        // Do not produce any further tokens.",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": "substring_view",
          "new_api": null,
          "old_text": "source.substring_view(value_start - 1, m_position - value_start),\n",
          "new_text": null,
          "old_line_content": "            m_source.substring_view(value_start - 1, m_position - value_start),",
          "new_line_content": "            token_type,",
          "content_same": false
        },
        {
          "line": 851,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "entifier.has_value())\n",
          "new_text": null,
          "old_line_content": "    if (identifier.has_value())",
          "new_line_content": "            value_start - 1);",
          "content_same": false
        },
        {
          "line": 852,
          "old_api": "release_value",
          "new_api": null,
          "old_text": "entifier.release_value());",
          "new_text": null,
          "old_line_content": "        m_current_token.set_identifier_value(identifier.release_value());",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": "name",
          "new_api": null,
          "old_text": "current_token.name());",
          "new_text": null,
          "old_line_content": "        dbgln(\"Token: {}\", m_current_token.name());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 857,
          "old_api": "trivia",
          "new_api": null,
          "old_text": "current_token.trivia());",
          "new_text": null,
          "old_line_content": "        dbgln(\"Trivia: _{}_\", m_current_token.trivia());",
          "new_line_content": "    if constexpr (LEXER_DEBUG) {",
          "content_same": false
        },
        {
          "line": 868,
          "old_api": "type",
          "new_api": null,
          "old_text": "current_token.type() =",
          "new_text": null,
          "old_line_content": "    VERIFY(m_current_token.type() == TokenType::Slash || m_current_token.type() == TokenType::SlashEquals);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 870,
          "old_api": "type",
          "new_api": null,
          "old_text": "current_token.type() =",
          "new_text": null,
          "old_line_content": "    bool has_equals = m_current_token.type() == TokenType::SlashEquals;",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 872,
          "old_api": "RIFY",
          "new_api": null,
          "old_text": "RIFY(m_position > 0);\n",
          "new_text": null,
          "old_line_content": "    VERIFY(m_position > 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 876,
          "old_api": "RIFY",
          "new_api": null,
          "old_text": "RIFY(m_source[value_start - 1] == '=');\n",
          "new_text": null,
          "old_line_content": "        VERIFY(m_source[value_start - 1] == '=');",
          "new_line_content": "    size_t value_start = m_position - 1;",
          "content_same": false
        },
        {
          "line": 882,
          "old_api": "nsume_regex_literal",
          "new_api": null,
          "old_text": "nsume_regex_literal();\n",
          "new_text": null,
          "old_line_content": "    TokenType token_type = consume_regex_literal();",
          "new_line_content": "        m_current_char = '=';",
          "content_same": false
        },
        {
          "line": 884,
          "old_api": "trivia",
          "new_api": null,
          "old_text": "ken(\n        token_type,\n        \"\",\n        m_current_token.trivia(),\n        m_source.substring_view(value_start - 1, m_position - value_start),\n        m_filename,\n        m_current_token.line_number(),\n        m_current_token.line_column(),\n        value_start - 1);\n",
          "new_text": null,
          "old_line_content": "    m_current_token = Token(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 374,
          "old_api": "is_ascii_space",
          "new_api": null,
          "old_text": "is_ascii_space(m_current_char)",
          "new_text": null,
          "old_line_content": "    if (is_ascii_space(m_current_char))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 376,
          "old_api": "is_unicode_character",
          "new_api": null,
          "old_text": "is_unicode_character()",
          "new_text": null,
          "old_line_content": "    if (!is_unicode_character())",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 888,
          "old_api": "substring_view",
          "new_api": null,
          "old_text": "source.substring_view(value_start - 1, m_position - value_start),\n",
          "new_text": null,
          "old_line_content": "        m_source.substring_view(value_start - 1, m_position - value_start),",
          "new_line_content": "        token_type,",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": "current_code_point",
          "new_api": null,
          "old_text": "current_code_point()",
          "new_text": null,
          "old_line_content": "    auto code_point = current_code_point();",
          "new_line_content": "        return true;",
          "content_same": false
        },
        {
          "line": 382,
          "old_api": "Unicode::general_category_from_string(\"Space_Separator\"sv)",
          "new_api": null,
          "old_text": "Unicode::general_category_from_string(\"Space_Separator\"sv)",
          "new_text": null,
          "old_line_content": "    static auto space_separator_category = Unicode::general_category_from_string(\"Space_Separator\"sv);",
          "new_line_content": "    if (code_point == NO_BREAK_SPACE || code_point == ZERO_WIDTH_NO_BREAK_SPACE)",
          "content_same": false
        },
        {
          "line": 383,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "space_separator_category.has_value()",
          "new_text": null,
          "old_line_content": "    if (space_separator_category.has_value())",
          "new_line_content": "        return true;",
          "content_same": false
        },
        {
          "line": 384,
          "old_api": "Unicode::code_point_has_general_category(code_point, *space_separator_category)",
          "new_api": null,
          "old_text": "Unicode::code_point_has_general_category(code_point, *space_separator_category)",
          "new_text": null,
          "old_line_content": "        return Unicode::code_point_has_general_category(code_point, *space_separator_category);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 895,
          "old_api": "gln",
          "new_api": null,
          "old_text": "gln(\"------------------------------\");\n",
          "new_text": null,
          "old_line_content": "        dbgln(\"------------------------------\");",
          "new_line_content": "        value_start - 1);",
          "content_same": false
        },
        {
          "line": 896,
          "old_api": "name",
          "new_api": null,
          "old_text": "current_token.name());",
          "new_text": null,
          "old_line_content": "        dbgln(\"Token: {}\", m_current_token.name());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 897,
          "old_api": "trivia",
          "new_api": null,
          "old_text": "current_token.trivia());",
          "new_text": null,
          "old_line_content": "        dbgln(\"Trivia: _{}_\", m_current_token.trivia());",
          "new_line_content": "    if constexpr (LEXER_DEBUG) {",
          "content_same": false
        },
        {
          "line": 393,
          "old_api": "substring_view",
          "new_api": null,
          "old_text": "source().substring_view(m_position - 1)",
          "new_text": null,
          "old_line_content": "    GenericLexer lexer(source().substring_view(m_position - 1));",
          "new_line_content": "//          u{ CodePoint }",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": "is_error",
          "new_api": null,
          "old_text": "code_point_or_error.is_error()",
          "new_text": null,
          "old_line_content": "    if (auto code_point_or_error = lexer.consume_escaped_code_point(false); !code_point_or_error.is_error()) {",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 908,
          "old_api": "_eof",
          "new_api": null,
          "old_text": "_eof()) ",
          "new_text": null,
          "old_line_content": "    while (!is_eof()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 397,
          "old_api": "value",
          "new_api": null,
          "old_text": "code_point_or_error.value()",
          "new_text": null,
          "old_line_content": "        return code_point_or_error.value();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 909,
          "old_api": "_line_terminator",
          "new_api": null,
          "old_text": "_line_terminator() |",
          "new_text": null,
          "old_line_content": "        if (is_line_terminator() || (!m_regex_is_in_character_class && m_current_char == '/')) {",
          "new_line_content": "TokenType Lexer::consume_regex_literal()",
          "content_same": false
        },
        {
          "line": 919,
          "old_api": "tch",
          "new_api": null,
          "old_text": "tch('\\\\', ']')))",
          "new_text": null,
          "old_line_content": "        if (match('\\\\', '/') || match('\\\\', '[') || match('\\\\', '\\\\') || (m_regex_is_in_character_class && match('\\\\', ']')))",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 920,
          "old_api": "nsume",
          "new_api": null,
          "old_text": "nsume();\n",
          "new_text": null,
          "old_line_content": "            consume();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 921,
          "old_api": "nsume",
          "new_api": null,
          "old_text": "nsume();\n",
          "new_text": null,
          "old_line_content": "        consume();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 410,
          "old_api": "current_code_point",
          "new_api": null,
          "old_text": "current_code_point()",
          "new_text": null,
          "old_line_content": "    u32 code_point = current_code_point();",
          "new_line_content": "//          \\ UnicodeEscapeSequence",
          "content_same": false
        },
        {
          "line": 925,
          "old_api": "nsume",
          "new_api": null,
          "old_text": "nsume();\n",
          "new_text": null,
          "old_line_content": "        consume();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 414,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "maybe_code_point.has_value()",
          "new_text": null,
          "old_line_content": "        if (auto maybe_code_point = is_identifier_unicode_escape(identifier_length); maybe_code_point.has_value())",
          "new_line_content": "    identifier_length = 1;",
          "content_same": false
        },
        {
          "line": 420,
          "old_api": "is_ascii_alpha",
          "new_api": null,
          "old_text": "is_ascii_alpha(code_point)",
          "new_text": null,
          "old_line_content": "    if (is_ascii_alpha(code_point) || code_point == '_' || code_point == '$')",
          "new_line_content": "            return {};",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": "is_ascii",
          "new_api": null,
          "old_text": "is_ascii(code_point)",
          "new_text": null,
          "old_line_content": "    if (is_ascii(code_point))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": "Unicode::code_point_has_property(code_point, *id_start_category)",
          "new_api": null,
          "old_text": "Unicode::code_point_has_property(code_point, *id_start_category)",
          "new_text": null,
          "old_line_content": "    if (id_start_category.has_value() && Unicode::code_point_has_property(code_point, *id_start_category))",
          "new_line_content": "        return {};",
          "content_same": false
        },
        {
          "line": 443,
          "old_api": "current_code_point",
          "new_api": null,
          "old_text": "current_code_point()",
          "new_text": null,
          "old_line_content": "    u32 code_point = current_code_point();",
          "new_line_content": "//          <ZWJ>",
          "content_same": false
        },
        {
          "line": 447,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "maybe_code_point.has_value()",
          "new_text": null,
          "old_line_content": "        if (auto maybe_code_point = is_identifier_unicode_escape(identifier_length); maybe_code_point.has_value())",
          "new_line_content": "    identifier_length = 1;",
          "content_same": false
        },
        {
          "line": 453,
          "old_api": "is_ascii_alphanumeric",
          "new_api": null,
          "old_text": "is_ascii_alphanumeric(code_point)",
          "new_text": null,
          "old_line_content": "    if (is_ascii_alphanumeric(code_point) || (code_point == '$') || (code_point == ZERO_WIDTH_NON_JOINER) || (code_point == ZERO_WIDTH_JOINER))",
          "new_line_content": "            return {};",
          "content_same": false
        },
        {
          "line": 460,
          "old_api": "is_ascii",
          "new_api": null,
          "old_text": "is_ascii(code_point)",
          "new_text": null,
          "old_line_content": "    if (is_ascii(code_point))",
          "new_line_content": "    // ASCII range (0x00AA), so we can skip code_point_has_property() for any ASCII characters.",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": "Unicode::code_point_has_property(code_point, *id_continue_category)",
          "new_api": null,
          "old_text": "Unicode::code_point_has_property(code_point, *id_continue_category)",
          "new_text": null,
          "old_line_content": "    if (id_continue_category.has_value() && Unicode::code_point_has_property(code_point, *id_continue_category))",
          "new_line_content": "        return {};",
          "content_same": false
        },
        {
          "line": 472,
          "old_api": "match",
          "new_api": null,
          "old_text": "match('/', '/')",
          "new_text": null,
          "old_line_content": "    return match('/', '/')",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 473,
          "old_api": "match",
          "new_api": null,
          "old_text": "match('<', '!', '-', '-')",
          "new_text": null,
          "old_line_content": "        || (m_allow_html_comments && match('<', '!', '-', '-'))",
          "new_line_content": "bool Lexer::is_line_comment_start(bool line_has_token_yet) const",
          "content_same": false
        },
        {
          "line": 477,
          "old_api": "match",
          "new_api": null,
          "old_text": "match('-', '-', '>')",
          "new_text": null,
          "old_line_content": "        || (m_allow_html_comments && !line_has_token_yet && match('-', '-', '>'))",
          "new_line_content": "        // \"-->\" is considered a line comment start if the current line is only whitespace and/or",
          "content_same": false
        },
        {
          "line": 479,
          "old_api": "match",
          "new_api": null,
          "old_text": "match('#', '!')",
          "new_text": null,
          "old_line_content": "        || (match('#', '!') && m_position == 1);",
          "new_line_content": "        // ongoing line comment yet",
          "content_same": false
        },
        {
          "line": 484,
          "old_api": "match",
          "new_api": null,
          "old_text": "match('/', '*')",
          "new_text": null,
          "old_line_content": "    return match('/', '*');",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 489,
          "old_api": "match",
          "new_api": null,
          "old_text": "match('*', '/')",
          "new_text": null,
          "old_line_content": "    return match('*', '/');",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 494,
          "old_api": "is_ascii_digit",
          "new_api": null,
          "old_text": "is_ascii_digit(m_source[m_position])",
          "new_text": null,
          "old_line_content": "    return is_ascii_digit(m_current_char) || (m_current_char == '.' && m_position < m_source.length() && is_ascii_digit(m_source[m_position]));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 499,
          "old_api": "type",
          "new_api": null,
          "old_text": "m_current_token.type()",
          "new_text": null,
          "old_line_content": "    auto type = m_current_token.type();",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 56,
      "total_additions": 126,
      "total_deletions": 125,
      "total_api_changes": 307
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 5,
        "api_related_lines": 307,
        "non_api_lines": 4,
        "non_api_line_numbers": [
          370,
          371,
          366,
          367
        ]
      }
    },
    "api_calls_before": 390,
    "api_calls_after": 391,
    "diff_info": {
      "added_lines": 5,
      "removed_lines": 2,
      "total_diff_lines": 20
    }
  }
}