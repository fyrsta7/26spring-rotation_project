diff --git a/Userland/Libraries/LibRegex/RegexOptimizer.cpp b/Userland/Libraries/LibRegex/RegexOptimizer.cpp
index fc82f0d6ac..4546f607b6 100644
--- a/Userland/Libraries/LibRegex/RegexOptimizer.cpp
+++ b/Userland/Libraries/LibRegex/RegexOptimizer.cpp
@@ -17,6 +17,8 @@ using Detail::Block;
 template<typename Parser>
 void Regex<Parser>::run_optimization_passes()
 {
+    parser_result.bytecode.flatten();
+
     // Rewrite fork loops as atomic groups
     // e.g. a*b -> (ATOMIC a*)b
     attempt_rewrite_loops_as_atomic_groups(split_basic_blocks());
