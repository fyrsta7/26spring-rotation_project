{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/d8e8293b7e188383b95ca97e88db82e2d7a9bed9",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/d8e8293b7e188383b95ca97e88db82e2d7a9bed9/before.h",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/d8e8293b7e188383b95ca97e88db82e2d7a9bed9/after.h",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/d8e8293b7e188383b95ca97e88db82e2d7a9bed9/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 106,
          "old_api": "visit",
          "new_api": "to_px",
          "old_text": "m_value.visit(\n            [&](T const& t) {\n                if constexpr (requires { t.is_calculated(); }) {\n                    if (t.is_calculated())\n                        return resolve_calculated(t.calculated_style_value(), layout_node, reference_value);\n                }\n\n                return t;\n            },\n            [&](Percentage const& percentage) {\n                return reference_value.percentage_of(percentage);\n            },\n            [&](NonnullRefPtr<CalculatedStyleValue> const& calculated) {\n                return resolve_calculated(calculated, layout_node, reference_value);\n            })",
          "new_text": "resolved(layout_node, reference_value).to_px(layout_node)",
          "old_line_content": "        return m_value.visit(",
          "new_line_content": "        return resolved(layout_node, reference_value).to_px(layout_node);",
          "content_same": false
        },
        {
          "line": 116,
          "old_api": "percentage_of",
          "new_api": "calculated_style_value",
          "old_text": "reference_value.percentage_of(percentage)",
          "new_text": "t.calculated_style_value()",
          "old_line_content": "                return reference_value.percentage_of(percentage);",
          "new_line_content": "                        return resolve_calculated(t.calculated_style_value(), layout_node, reference_value);",
          "content_same": false
        },
        {
          "line": 125,
          "old_api": "visit",
          "new_api": "resolve_calculated",
          "old_text": "m_value.visit(\n            [&](T const& t) {\n                if constexpr (requires { t.is_calculated(); }) {\n                    if (t.is_calculated())\n                        return resolve_calculated(t.calculated_style_value(), layout_node, reference_value);\n                }\n\n                return t;\n            },\n            [&](Percentage const& percentage) {\n                return Length::make_px(CSSPixels(percentage.value() * reference_value) / 100);\n            },\n            [&](NonnullRefPtr<CalculatedStyleValue> const& calculated) {\n                return resolve_calculated(calculated, layout_node, reference_value);\n            })",
          "new_text": "resolve_calculated(calculated, layout_node, reference_value)",
          "old_line_content": "        return m_value.visit(",
          "new_line_content": "                return resolve_calculated(calculated, layout_node, reference_value);",
          "content_same": false
        },
        {
          "line": 135,
          "old_api": "value",
          "new_api": "calculated_style_value",
          "old_text": "percentage.value()",
          "new_text": "t.calculated_style_value()",
          "old_line_content": "                return Length::make_px(CSSPixels(percentage.value() * reference_value) / 100);",
          "new_line_content": "                        return resolve_calculated(t.calculated_style_value(), layout_node, reference_value);",
          "content_same": false
        },
        {
          "line": 144,
          "old_api": "is_calculated",
          "new_api": "resolve_calculated",
          "old_text": "is_calculated()",
          "new_text": "resolve_calculated(calculated, layout_node, reference_value)",
          "old_line_content": "        if (is_calculated())",
          "new_line_content": "                return resolve_calculated(calculated, layout_node, reference_value);",
          "content_same": false
        },
        {
          "line": 153,
          "old_api": "is_calculated",
          "new_api": "to_string",
          "old_text": "other.is_calculated()",
          "new_text": "m_value.template get<Percentage>().to_string()",
          "old_line_content": "        if (is_calculated() != other.is_calculated())",
          "new_line_content": "            return m_value.template get<Percentage>().to_string();",
          "content_same": false
        },
        {
          "line": 159,
          "old_api": "is_percentage",
          "new_api": "is_calculated",
          "old_text": "is_percentage()",
          "new_text": "other.is_calculated()",
          "old_line_content": "        if (is_percentage())",
          "new_line_content": "        if (is_calculated() != other.is_calculated())",
          "content_same": false
        },
        {
          "line": 161,
          "old_api": "other.m_value.template get<T>()",
          "new_api": "is_percentage",
          "old_text": "other.m_value.template get<T>()",
          "new_text": "other.is_percentage()",
          "old_line_content": "        return (m_value.template get<T>() == other.m_value.template get<T>());",
          "new_line_content": "        if (is_percentage() != other.is_percentage())",
          "content_same": false
        },
        {
          "line": 165,
          "old_api": "m_value.template has<T>()",
          "new_api": "is_percentage",
          "old_text": "m_value.template has<T>()",
          "new_text": "is_percentage()",
          "old_line_content": "    bool is_t() const { return m_value.template has<T>(); }",
          "new_line_content": "        if (is_percentage())",
          "content_same": false
        },
        {
          "line": 166,
          "old_api": "m_value.template get<T>()",
          "new_api": "other.m_value.template get<Percentage>()",
          "old_text": "m_value.template get<T>()",
          "new_text": "other.m_value.template get<Percentage>()",
          "old_line_content": "    T const& get_t() const { return m_value.template get<T>(); }",
          "new_line_content": "            return (m_value.template get<Percentage>() == other.m_value.template get<Percentage>());",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 131,
          "old_api": null,
          "new_api": "visit",
          "old_text": null,
          "new_text": "m_value.visit(\n            [&](T const& t) {\n                if constexpr (requires { t.is_calculated(); }) {\n                    if (t.is_calculated())\n                        return resolve_calculated(t.calculated_style_value(), layout_node, reference_value);\n                }\n\n                return t;\n            },\n            [&](Percentage const& percentage) {\n                return Length::make_px(CSSPixels(percentage.value() * reference_value) / 100);\n            },\n            [&](NonnullRefPtr<CalculatedStyleValue> const& calculated) {\n                return resolve_calculated(calculated, layout_node, reference_value);\n            })",
          "old_line_content": "",
          "new_line_content": "        return m_value.visit(",
          "content_same": false
        },
        {
          "line": 133,
          "old_api": null,
          "new_api": "is_calculated",
          "old_text": null,
          "new_text": "t.is_calculated()",
          "old_line_content": "            },",
          "new_line_content": "                if constexpr (requires { t.is_calculated(); }) {",
          "content_same": false
        },
        {
          "line": 134,
          "old_api": null,
          "new_api": "is_calculated",
          "old_text": null,
          "new_text": "t.is_calculated()",
          "old_line_content": "            [&](Percentage const& percentage) {",
          "new_line_content": "                    if (t.is_calculated())",
          "content_same": false
        },
        {
          "line": 263,
          "old_api": null,
          "new_api": "to_string",
          "old_text": null,
          "new_text": "angle_percentage.to_string()",
          "old_line_content": "    ErrorOr<void> format(FormatBuilder& builder, Web::CSS::FrequencyPercentage const& frequency_percentage)",
          "new_line_content": "        return Formatter<StringView>::format(builder, angle_percentage.to_string());",
          "content_same": false
        },
        {
          "line": 141,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "percentage.value()",
          "old_line_content": "",
          "new_line_content": "                return Length::make_px(CSSPixels(percentage.value() * reference_value) / 100);",
          "content_same": false
        },
        {
          "line": 271,
          "old_api": null,
          "new_api": "to_string",
          "old_text": null,
          "new_text": "frequency_percentage.to_string()",
          "old_line_content": "    ErrorOr<void> format(FormatBuilder& builder, Web::CSS::LengthPercentage const& length_percentage)",
          "new_line_content": "        return Formatter<StringView>::format(builder, frequency_percentage.to_string());",
          "content_same": false
        },
        {
          "line": 150,
          "old_api": null,
          "new_api": "is_calculated",
          "old_text": null,
          "new_text": "is_calculated()",
          "old_line_content": "",
          "new_line_content": "        if (is_calculated())",
          "content_same": false
        },
        {
          "line": 151,
          "old_api": null,
          "new_api": "to_string",
          "old_text": null,
          "new_text": "m_value.template get<NonnullRefPtr<CalculatedStyleValue>>()->to_string()",
          "old_line_content": "    bool operator==(PercentageOr<T> const& other) const",
          "new_line_content": "            return m_value.template get<NonnullRefPtr<CalculatedStyleValue>>()->to_string();",
          "content_same": false
        },
        {
          "line": 152,
          "old_api": null,
          "new_api": "is_percentage",
          "old_text": null,
          "new_text": "is_percentage()",
          "old_line_content": "    {",
          "new_line_content": "        if (is_percentage())",
          "content_same": false
        },
        {
          "line": 279,
          "old_api": null,
          "new_api": "to_string",
          "old_text": null,
          "new_text": "length_percentage.to_string()",
          "old_line_content": "    ErrorOr<void> format(FormatBuilder& builder, Web::CSS::TimePercentage const& time_percentage)",
          "new_line_content": "        return Formatter<StringView>::format(builder, length_percentage.to_string());",
          "content_same": false
        },
        {
          "line": 154,
          "old_api": null,
          "new_api": "to_string",
          "old_text": null,
          "new_text": "m_value.template get<T>().to_string()",
          "old_line_content": "            return false;",
          "new_line_content": "        return m_value.template get<T>().to_string();",
          "content_same": false
        },
        {
          "line": 287,
          "old_api": null,
          "new_api": "to_string",
          "old_text": null,
          "new_text": "time_percentage.to_string()",
          "old_line_content": "",
          "new_line_content": "        return Formatter<StringView>::format(builder, time_percentage.to_string());",
          "content_same": false
        },
        {
          "line": 163,
          "old_api": null,
          "new_api": "is_calculated",
          "old_text": null,
          "new_text": "is_calculated()",
          "old_line_content": "",
          "new_line_content": "        if (is_calculated())",
          "content_same": false
        },
        {
          "line": 164,
          "old_api": null,
          "new_api": "other.m_value.template get<NonnullRefPtr<CalculatedStyleValue>>()",
          "old_text": null,
          "new_text": "other.m_value.template get<NonnullRefPtr<CalculatedStyleValue>>()",
          "old_line_content": "protected:",
          "new_line_content": "            return (*m_value.template get<NonnullRefPtr<CalculatedStyleValue>>() == *other.m_value.template get<NonnullRefPtr<CalculatedStyleValue>>());",
          "content_same": false
        },
        {
          "line": 167,
          "old_api": null,
          "new_api": "other.m_value.template get<T>()",
          "old_text": null,
          "new_text": "other.m_value.template get<T>()",
          "old_line_content": "",
          "new_line_content": "        return (m_value.template get<T>() == other.m_value.template get<T>());",
          "content_same": false
        },
        {
          "line": 171,
          "old_api": null,
          "new_api": "m_value.template has<T>()",
          "old_text": null,
          "new_text": "m_value.template has<T>()",
          "old_line_content": "",
          "new_line_content": "    bool is_t() const { return m_value.template has<T>(); }",
          "content_same": false
        },
        {
          "line": 172,
          "old_api": null,
          "new_api": "m_value.template get<T>()",
          "old_text": null,
          "new_text": "m_value.template get<T>()",
          "old_line_content": "template<typename T>",
          "new_line_content": "    T const& get_t() const { return m_value.template get<T>(); }",
          "content_same": false
        },
        {
          "line": 206,
          "old_api": null,
          "new_api": "is_t",
          "old_text": null,
          "new_text": "is_t()",
          "old_line_content": "public:",
          "new_line_content": "    bool is_angle() const { return is_t(); }",
          "content_same": false
        },
        {
          "line": 207,
          "old_api": null,
          "new_api": "get_t",
          "old_text": null,
          "new_text": "get_t()",
          "old_line_content": "    using PercentageOr<Frequency>::PercentageOr;",
          "new_line_content": "    Angle const& angle() const { return get_t(); }",
          "content_same": false
        },
        {
          "line": 215,
          "old_api": null,
          "new_api": "is_t",
          "old_text": null,
          "new_text": "is_t()",
          "old_line_content": "public:",
          "new_line_content": "    bool is_frequency() const { return is_t(); }",
          "content_same": false
        },
        {
          "line": 216,
          "old_api": null,
          "new_api": "get_t",
          "old_text": null,
          "new_text": "get_t()",
          "old_line_content": "    using PercentageOr<Length>::PercentageOr;",
          "new_line_content": "    Frequency const& frequency() const { return get_t(); }",
          "content_same": false
        },
        {
          "line": 224,
          "old_api": null,
          "new_api": "is_auto",
          "old_text": null,
          "new_text": "length().is_auto()",
          "old_line_content": "};",
          "new_line_content": "    bool is_auto() const { return is_length() && length().is_auto(); }",
          "content_same": false
        },
        {
          "line": 226,
          "old_api": null,
          "new_api": "is_t",
          "old_text": null,
          "new_text": "is_t()",
          "old_line_content": "class TimePercentage : public PercentageOr<Time> {",
          "new_line_content": "    bool is_length() const { return is_t(); }",
          "content_same": false
        },
        {
          "line": 227,
          "old_api": null,
          "new_api": "get_t",
          "old_text": null,
          "new_text": "get_t()",
          "old_line_content": "public:",
          "new_line_content": "    Length const& length() const { return get_t(); }",
          "content_same": false
        },
        {
          "line": 101,
          "old_api": null,
          "new_api": "m_value.template get_pointer<Length>()",
          "old_text": null,
          "new_text": "m_value.template get_pointer<Length>()",
          "old_line_content": "    }",
          "new_line_content": "            if (auto const* length = m_value.template get_pointer<Length>()) {",
          "content_same": false
        },
        {
          "line": 102,
          "old_api": null,
          "new_api": "is_absolute",
          "old_text": null,
          "new_text": "length->is_absolute()",
          "old_line_content": "",
          "new_line_content": "                if (length->is_absolute())",
          "content_same": false
        },
        {
          "line": 103,
          "old_api": null,
          "new_api": "absolute_length_to_px",
          "old_text": null,
          "new_text": "length->absolute_length_to_px()",
          "old_line_content": "    T resolved(Layout::Node const& layout_node, T reference_value) const",
          "new_line_content": "                    return length->absolute_length_to_px();",
          "content_same": false
        },
        {
          "line": 236,
          "old_api": null,
          "new_api": "is_t",
          "old_text": null,
          "new_text": "is_t()",
          "old_line_content": "public:",
          "new_line_content": "    bool is_time() const { return is_t(); }",
          "content_same": false
        },
        {
          "line": 237,
          "old_api": null,
          "new_api": "get_t",
          "old_text": null,
          "new_text": "get_t()",
          "old_line_content": "    using PercentageOr<Number>::PercentageOr;",
          "new_line_content": "    Time const& time() const { return get_t(); }",
          "content_same": false
        },
        {
          "line": 112,
          "old_api": null,
          "new_api": "visit",
          "old_text": null,
          "new_text": "m_value.visit(\n            [&](T const& t) {\n                if constexpr (requires { t.is_calculated(); }) {\n                    if (t.is_calculated())\n                        return resolve_calculated(t.calculated_style_value(), layout_node, reference_value);\n                }\n\n                return t;\n            },\n            [&](Percentage const& percentage) {\n                return reference_value.percentage_of(percentage);\n            },\n            [&](NonnullRefPtr<CalculatedStyleValue> const& calculated) {\n                return resolve_calculated(calculated, layout_node, reference_value);\n            })",
          "old_line_content": "",
          "new_line_content": "        return m_value.visit(",
          "content_same": false
        },
        {
          "line": 114,
          "old_api": null,
          "new_api": "is_calculated",
          "old_text": null,
          "new_text": "t.is_calculated()",
          "old_line_content": "            },",
          "new_line_content": "                if constexpr (requires { t.is_calculated(); }) {",
          "content_same": false
        },
        {
          "line": 115,
          "old_api": null,
          "new_api": "is_calculated",
          "old_text": null,
          "new_text": "t.is_calculated()",
          "old_line_content": "            [&](Percentage const& percentage) {",
          "new_line_content": "                    if (t.is_calculated())",
          "content_same": false
        },
        {
          "line": 245,
          "old_api": null,
          "new_api": "is_t",
          "old_text": null,
          "new_text": "is_t()",
          "old_line_content": "template<>",
          "new_line_content": "    bool is_number() const { return is_t(); }",
          "content_same": false
        },
        {
          "line": 246,
          "old_api": null,
          "new_api": "get_t",
          "old_text": null,
          "new_text": "get_t()",
          "old_line_content": "struct AK::Formatter<Web::CSS::Percentage> : Formatter<StringView> {",
          "new_line_content": "    Number const& number() const { return get_t(); }",
          "content_same": false
        },
        {
          "line": 122,
          "old_api": null,
          "new_api": "percentage_of",
          "old_text": null,
          "new_text": "reference_value.percentage_of(percentage)",
          "old_line_content": "",
          "new_line_content": "                return reference_value.percentage_of(percentage);",
          "content_same": false
        },
        {
          "line": 255,
          "old_api": null,
          "new_api": "to_string",
          "old_text": null,
          "new_text": "percentage.to_string()",
          "old_line_content": "    ErrorOr<void> format(FormatBuilder& builder, Web::CSS::AnglePercentage const& angle_percentage)",
          "new_line_content": "        return Formatter<StringView>::format(builder, percentage.to_string());",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 128,
          "old_api": "is_calculated",
          "new_api": null,
          "old_text": "t.is_calculated()",
          "new_text": null,
          "old_line_content": "                    if (t.is_calculated())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 129,
          "old_api": "calculated_style_value",
          "new_api": null,
          "old_text": "t.calculated_style_value()",
          "new_text": null,
          "old_line_content": "                        return resolve_calculated(t.calculated_style_value(), layout_node, reference_value);",
          "new_line_content": "    T resolved(Layout::Node const& layout_node, CSSPixels reference_value) const",
          "content_same": false
        },
        {
          "line": 257,
          "old_api": "to_string",
          "new_api": null,
          "old_text": "angle_percentage.to_string()",
          "new_text": null,
          "old_line_content": "        return Formatter<StringView>::format(builder, angle_percentage.to_string());",
          "new_line_content": "};",
          "content_same": false
        },
        {
          "line": 265,
          "old_api": "to_string",
          "new_api": null,
          "old_text": "frequency_percentage.to_string()",
          "new_text": null,
          "old_line_content": "        return Formatter<StringView>::format(builder, frequency_percentage.to_string());",
          "new_line_content": "};",
          "content_same": false
        },
        {
          "line": 138,
          "old_api": "resolve_calculated",
          "new_api": null,
          "old_text": "resolve_calculated(calculated, layout_node, reference_value)",
          "new_text": null,
          "old_line_content": "                return resolve_calculated(calculated, layout_node, reference_value);",
          "new_line_content": "                return t;",
          "content_same": false
        },
        {
          "line": 145,
          "old_api": "to_string",
          "new_api": null,
          "old_text": "m_value.template get<NonnullRefPtr<CalculatedStyleValue>>()->to_string()",
          "new_text": null,
          "old_line_content": "            return m_value.template get<NonnullRefPtr<CalculatedStyleValue>>()->to_string();",
          "new_line_content": "            });",
          "content_same": false
        },
        {
          "line": 146,
          "old_api": "is_percentage",
          "new_api": null,
          "old_text": "is_percentage()",
          "new_text": null,
          "old_line_content": "        if (is_percentage())",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 147,
          "old_api": "to_string",
          "new_api": null,
          "old_text": "m_value.template get<Percentage>().to_string()",
          "new_text": null,
          "old_line_content": "            return m_value.template get<Percentage>().to_string();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 148,
          "old_api": "to_string",
          "new_api": null,
          "old_text": "m_value.template get<T>().to_string()",
          "new_text": null,
          "old_line_content": "        return m_value.template get<T>().to_string();",
          "new_line_content": "    String to_string() const",
          "content_same": false
        },
        {
          "line": 273,
          "old_api": "to_string",
          "new_api": null,
          "old_text": "length_percentage.to_string()",
          "new_text": null,
          "old_line_content": "        return Formatter<StringView>::format(builder, length_percentage.to_string());",
          "new_line_content": "};",
          "content_same": false
        },
        {
          "line": 281,
          "old_api": "to_string",
          "new_api": null,
          "old_text": "time_percentage.to_string()",
          "new_text": null,
          "old_line_content": "        return Formatter<StringView>::format(builder, time_percentage.to_string());",
          "new_line_content": "};",
          "content_same": false
        },
        {
          "line": 155,
          "old_api": "is_percentage",
          "new_api": null,
          "old_text": "other.is_percentage()",
          "new_text": null,
          "old_line_content": "        if (is_percentage() != other.is_percentage())",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 157,
          "old_api": "is_calculated",
          "new_api": null,
          "old_text": "is_calculated()",
          "new_text": null,
          "old_line_content": "        if (is_calculated())",
          "new_line_content": "    bool operator==(PercentageOr<T> const& other) const",
          "content_same": false
        },
        {
          "line": 158,
          "old_api": "other.m_value.template get<NonnullRefPtr<CalculatedStyleValue>>()",
          "new_api": null,
          "old_text": "other.m_value.template get<NonnullRefPtr<CalculatedStyleValue>>()",
          "new_text": null,
          "old_line_content": "            return (*m_value.template get<NonnullRefPtr<CalculatedStyleValue>>() == *other.m_value.template get<NonnullRefPtr<CalculatedStyleValue>>());",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 160,
          "old_api": "other.m_value.template get<Percentage>()",
          "new_api": null,
          "old_text": "other.m_value.template get<Percentage>()",
          "new_text": null,
          "old_line_content": "            return (m_value.template get<Percentage>() == other.m_value.template get<Percentage>());",
          "new_line_content": "            return false;",
          "content_same": false
        },
        {
          "line": 200,
          "old_api": "is_t",
          "new_api": null,
          "old_text": "is_t()",
          "new_text": null,
          "old_line_content": "    bool is_angle() const { return is_t(); }",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 201,
          "old_api": "get_t",
          "new_api": null,
          "old_text": "get_t()",
          "new_text": null,
          "old_line_content": "    Angle const& angle() const { return get_t(); }",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 209,
          "old_api": "is_t",
          "new_api": null,
          "old_text": "is_t()",
          "new_text": null,
          "old_line_content": "    bool is_frequency() const { return is_t(); }",
          "new_line_content": "};",
          "content_same": false
        },
        {
          "line": 210,
          "old_api": "get_t",
          "new_api": null,
          "old_text": "get_t()",
          "new_text": null,
          "old_line_content": "    Frequency const& frequency() const { return get_t(); }",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 218,
          "old_api": "is_auto",
          "new_api": null,
          "old_text": "length().is_auto()",
          "new_text": null,
          "old_line_content": "    bool is_auto() const { return is_length() && length().is_auto(); }",
          "new_line_content": "};",
          "content_same": false
        },
        {
          "line": 220,
          "old_api": "is_t",
          "new_api": null,
          "old_text": "is_t()",
          "new_text": null,
          "old_line_content": "    bool is_length() const { return is_t(); }",
          "new_line_content": "class LengthPercentage : public PercentageOr<Length> {",
          "content_same": false
        },
        {
          "line": 221,
          "old_api": "get_t",
          "new_api": null,
          "old_text": "get_t()",
          "new_text": null,
          "old_line_content": "    Length const& length() const { return get_t(); }",
          "new_line_content": "public:",
          "content_same": false
        },
        {
          "line": 100,
          "old_api": "to_px",
          "new_api": null,
          "old_text": "resolved(layout_node, reference_value).to_px(layout_node)",
          "new_text": null,
          "old_line_content": "        return resolved(layout_node, reference_value).to_px(layout_node);",
          "new_line_content": "        if constexpr (IsSame<T, Length>) {",
          "content_same": false
        },
        {
          "line": 230,
          "old_api": "is_t",
          "new_api": null,
          "old_text": "is_t()",
          "new_text": null,
          "old_line_content": "    bool is_time() const { return is_t(); }",
          "new_line_content": "};",
          "content_same": false
        },
        {
          "line": 231,
          "old_api": "get_t",
          "new_api": null,
          "old_text": "get_t()",
          "new_text": null,
          "old_line_content": "    Time const& time() const { return get_t(); }",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 108,
          "old_api": "is_calculated",
          "new_api": null,
          "old_text": "t.is_calculated()",
          "new_text": null,
          "old_line_content": "                if constexpr (requires { t.is_calculated(); }) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 109,
          "old_api": "is_calculated",
          "new_api": null,
          "old_text": "t.is_calculated()",
          "new_text": null,
          "old_line_content": "                    if (t.is_calculated())",
          "new_line_content": "    T resolved(Layout::Node const& layout_node, T reference_value) const",
          "content_same": false
        },
        {
          "line": 110,
          "old_api": "calculated_style_value",
          "new_api": null,
          "old_text": "t.calculated_style_value()",
          "new_text": null,
          "old_line_content": "                        return resolve_calculated(t.calculated_style_value(), layout_node, reference_value);",
          "new_line_content": "    requires(!IsSame<T, Length>)",
          "content_same": false
        },
        {
          "line": 239,
          "old_api": "is_t",
          "new_api": null,
          "old_text": "is_t()",
          "new_text": null,
          "old_line_content": "    bool is_number() const { return is_t(); }",
          "new_line_content": "};",
          "content_same": false
        },
        {
          "line": 240,
          "old_api": "get_t",
          "new_api": null,
          "old_text": "get_t()",
          "new_text": null,
          "old_line_content": "    Number const& number() const { return get_t(); }",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 119,
          "old_api": "resolve_calculated",
          "new_api": null,
          "old_text": "resolve_calculated(calculated, layout_node, reference_value)",
          "new_text": null,
          "old_line_content": "                return resolve_calculated(calculated, layout_node, reference_value);",
          "new_line_content": "                return t;",
          "content_same": false
        },
        {
          "line": 249,
          "old_api": "to_string",
          "new_api": null,
          "old_text": "percentage.to_string()",
          "new_text": null,
          "old_line_content": "        return Formatter<StringView>::format(builder, percentage.to_string());",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 127,
          "old_api": "is_calculated",
          "new_api": null,
          "old_text": "t.is_calculated()",
          "new_text": null,
          "old_line_content": "                if constexpr (requires { t.is_calculated(); }) {",
          "new_line_content": "    }",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 10,
      "total_additions": 36,
      "total_deletions": 33,
      "total_api_changes": 79
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 6,
        "api_related_lines": 79,
        "non_api_lines": 2,
        "non_api_line_numbers": [
          104,
          105
        ]
      }
    },
    "api_calls_before": 84,
    "api_calls_after": 87,
    "diff_info": {
      "added_lines": 6,
      "removed_lines": 0,
      "total_diff_lines": 18
    }
  }
}