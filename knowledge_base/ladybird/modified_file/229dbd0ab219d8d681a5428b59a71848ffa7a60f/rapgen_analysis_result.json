{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/229dbd0ab219d8d681a5428b59a71848ffa7a60f",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/229dbd0ab219d8d681a5428b59a71848ffa7a60f/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/229dbd0ab219d8d681a5428b59a71848ffa7a60f/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/229dbd0ab219d8d681a5428b59a71848ffa7a60f/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 266,
          "old_api": "row_count",
          "new_api": "bottom_right",
          "old_text": "model()->row_count()",
          "new_text": "frame_inner_rect().bottom_right()",
          "old_line_content": "    for (int row_index = 0; row_index < model()->row_count(); ++row_index) {",
          "new_line_content": "    int last_visible_row = index_at_event_position(frame_inner_rect().bottom_right()).row();",
          "content_same": false
        },
        {
          "line": 276,
          "old_api": "alternating_row_colors",
          "new_api": "contains_row",
          "old_text": "alternating_row_colors()",
          "new_text": "selection().contains_row(row_index)",
          "old_line_content": "            if (alternating_row_colors() && (painted_item_index % 2)) {",
          "new_line_content": "        bool is_selected_row = selection().contains_row(row_index);",
          "content_same": false
        },
        {
          "line": 277,
          "old_api": "Color",
          "new_api": "item_height",
          "old_text": "Color(210, 210, 210)",
          "new_text": "item_height()",
          "old_line_content": "                background_color = Color(210, 210, 210);",
          "new_line_content": "        int y = y_offset + painted_item_index * item_height();",
          "content_same": false
        },
        {
          "line": 287,
          "old_api": "column_count",
          "new_api": "Color",
          "old_text": "model()->column_count()",
          "new_text": "Color(180, 180, 180)",
          "old_line_content": "        for (int column_index = 0; column_index < model()->column_count(); ++column_index) {",
          "new_line_content": "                key_column_background_color = Color(180, 180, 180);",
          "content_same": false
        },
        {
          "line": 290,
          "old_api": "column_metadata",
          "new_api": "Color",
          "old_text": "model()->column_metadata(column_index)",
          "new_text": "Color(210, 210, 210)",
          "old_line_content": "            auto column_metadata = model()->column_metadata(column_index);",
          "new_line_content": "                key_column_background_color = Color(210, 210, 210);",
          "content_same": false
        },
        {
          "line": 293,
          "old_api": "key_column",
          "new_api": "row_rect",
          "old_text": "model()->key_column()",
          "new_text": "row_rect(painted_item_index)",
          "old_line_content": "            bool is_key_column = model()->key_column() == column_index;",
          "new_line_content": "        painter.fill_rect(row_rect(painted_item_index), background_color);",
          "content_same": false
        },
        {
          "line": 296,
          "old_api": "horizontal_padding",
          "new_api": "column_count",
          "old_text": "horizontal_padding()",
          "new_text": "model()->column_count()",
          "old_line_content": "                auto cell_rect_for_fill = cell_rect.inflated(horizontal_padding() * 2, 0);",
          "new_line_content": "        for (int column_index = 0; column_index < model()->column_count(); ++column_index) {",
          "content_same": false
        },
        {
          "line": 297,
          "old_api": "fill_rect",
          "new_api": "is_column_hidden",
          "old_text": "painter.fill_rect(cell_rect_for_fill, key_column_background_color)",
          "new_text": "is_column_hidden(column_index)",
          "old_line_content": "                painter.fill_rect(cell_rect_for_fill, key_column_background_color);",
          "new_line_content": "            if (is_column_hidden(column_index))",
          "content_same": false
        },
        {
          "line": 299,
          "old_api": "index",
          "new_api": "column_metadata",
          "old_text": "model()->index(row_index, column_index)",
          "new_text": "model()->column_metadata(column_index)",
          "old_line_content": "            auto cell_index = model()->index(row_index, column_index);",
          "new_line_content": "            auto column_metadata = model()->column_metadata(column_index);",
          "content_same": false
        },
        {
          "line": 301,
          "old_api": "ptr",
          "new_api": "font",
          "old_text": "column_data(column_index).cell_painting_delegate.ptr()",
          "new_text": "this->font()",
          "old_line_content": "            if (auto* delegate = column_data(column_index).cell_painting_delegate.ptr()) {",
          "new_line_content": "            const Font& font = column_metadata.font ? *column_metadata.font : this->font();",
          "content_same": false
        },
        {
          "line": 302,
          "old_api": "model",
          "new_api": "key_column",
          "old_text": "model()",
          "new_text": "model()->key_column()",
          "old_line_content": "                delegate->paint(painter, cell_rect, *model(), cell_index);",
          "new_line_content": "            bool is_key_column = model()->key_column() == column_index;",
          "content_same": false
        },
        {
          "line": 305,
          "old_api": "is_bitmap",
          "new_api": "horizontal_padding",
          "old_text": "data.is_bitmap()",
          "new_text": "horizontal_padding()",
          "old_line_content": "                if (data.is_bitmap()) {",
          "new_line_content": "                auto cell_rect_for_fill = cell_rect.inflated(horizontal_padding() * 2, 0);",
          "content_same": false
        },
        {
          "line": 306,
          "old_api": "as_bitmap",
          "new_api": "fill_rect",
          "old_text": "data.as_bitmap().rect()",
          "new_text": "painter.fill_rect(cell_rect_for_fill, key_column_background_color)",
          "old_line_content": "                    painter.blit(cell_rect.location(), data.as_bitmap(), data.as_bitmap().rect());",
          "new_line_content": "                painter.fill_rect(cell_rect_for_fill, key_column_background_color);",
          "content_same": false
        },
        {
          "line": 308,
          "old_api": "as_icon",
          "new_api": "index",
          "old_text": "data.as_icon().bitmap_for_size(16)",
          "new_text": "model()->index(row_index, column_index)",
          "old_line_content": "                    if (auto bitmap = data.as_icon().bitmap_for_size(16))",
          "new_line_content": "            auto cell_index = model()->index(row_index, column_index);",
          "content_same": false
        },
        {
          "line": 315,
          "old_api": "to_color",
          "new_api": "as_bitmap",
          "old_text": "model()->data(cell_index, GModel::Role::ForegroundColor).to_color(Color::Black)",
          "new_text": "data.as_bitmap().rect()",
          "old_line_content": "                        text_color = model()->data(cell_index, GModel::Role::ForegroundColor).to_color(Color::Black);",
          "new_line_content": "                    painter.blit(cell_rect.location(), data.as_bitmap(), data.as_bitmap().rect());",
          "content_same": false
        },
        {
          "line": 316,
          "old_api": "to_string",
          "new_api": "is_icon",
          "old_text": "data.to_string()",
          "new_text": "data.is_icon()",
          "old_line_content": "                    painter.draw_text(cell_rect, data.to_string(), font, column_metadata.text_alignment, text_color, TextElision::Right);",
          "new_line_content": "                } else if (data.is_icon()) {",
          "content_same": false
        },
        {
          "line": 324,
          "old_api": "height",
          "new_api": "to_color",
          "old_text": "height()",
          "new_text": "model()->data(cell_index, GModel::Role::ForegroundColor).to_color(Color::Black)",
          "old_line_content": "    Rect unpainted_rect(0, header_height() + painted_item_index * item_height(), exposed_width, height());",
          "new_line_content": "                        text_color = model()->data(cell_index, GModel::Role::ForegroundColor).to_color(Color::Black);",
          "content_same": false
        },
        {
          "line": 325,
          "old_api": "fill_rect",
          "new_api": "to_string",
          "old_text": "painter.fill_rect(unpainted_rect, Color::White)",
          "new_text": "data.to_string()",
          "old_line_content": "    painter.fill_rect(unpainted_rect, Color::White);",
          "new_line_content": "                    painter.draw_text(cell_rect, data.to_string(), font, column_metadata.text_alignment, text_color, TextElision::Right);",
          "content_same": false
        },
        {
          "line": 328,
          "old_api": "value",
          "new_api": "horizontal_padding",
          "old_text": "vertical_scrollbar().value()",
          "new_text": "horizontal_padding()",
          "old_line_content": "    painter.translate(0, vertical_scrollbar().value());",
          "new_line_content": "            x_offset += column_width + horizontal_padding() * 2;",
          "content_same": false
        },
        {
          "line": 337,
          "old_api": "draw_line",
          "new_api": "value",
          "old_text": "painter.draw_line({ 0, 0 }, { exposed_width - 1, 0 }, Color::White)",
          "new_text": "vertical_scrollbar().value()",
          "old_line_content": "    painter.draw_line({ 0, 0 }, { exposed_width - 1, 0 }, Color::White);",
          "new_line_content": "    painter.translate(0, vertical_scrollbar().value());",
          "content_same": false
        },
        {
          "line": 338,
          "old_api": "header_height",
          "new_api": "headers_visible",
          "old_text": "header_height()",
          "new_text": "headers_visible()",
          "old_line_content": "    painter.draw_line({ 0, header_height() - 1 }, { exposed_width - 1, header_height() - 1 }, Color::MidGray);",
          "new_line_content": "    if (headers_visible())",
          "content_same": false
        },
        {
          "line": 344,
          "old_api": "key_column",
          "new_api": "width",
          "old_text": "model()->key_column()",
          "new_text": "width()",
          "old_line_content": "        bool is_key_column = model()->key_column() == column_index;",
          "new_line_content": "    int exposed_width = max(content_size().width(), width());",
          "content_same": false
        },
        {
          "line": 346,
          "old_api": "StylePainter::paint_button(painter, cell_rect, ButtonStyle::Normal, false)",
          "new_api": "draw_line",
          "old_text": "StylePainter::paint_button(painter, cell_rect, ButtonStyle::Normal, false)",
          "new_text": "painter.draw_line({ 0, 0 }, { exposed_width - 1, 0 }, Color::White)",
          "old_line_content": "        StylePainter::paint_button(painter, cell_rect, ButtonStyle::Normal, false);",
          "new_line_content": "    painter.draw_line({ 0, 0 }, { exposed_width - 1, 0 }, Color::White);",
          "content_same": false
        },
        {
          "line": 350,
          "old_api": "column_name",
          "new_api": "is_column_hidden",
          "old_text": "model()->column_name(column_index)",
          "new_text": "is_column_hidden(column_index)",
          "old_line_content": "            builder.append(model()->column_name(column_index));",
          "new_line_content": "        if (is_column_hidden(column_index))",
          "content_same": false
        },
        {
          "line": 353,
          "old_api": "append",
          "new_api": "key_column",
          "old_text": "builder.append(\" \\xc3\\xb6\")",
          "new_text": "model()->key_column()",
          "old_line_content": "                builder.append(\" \\xc3\\xb6\");",
          "new_line_content": "        bool is_key_column = model()->key_column() == column_index;",
          "content_same": false
        },
        {
          "line": 355,
          "old_api": "append",
          "new_api": "StylePainter::paint_button(painter, cell_rect, ButtonStyle::Normal, false)",
          "old_text": "builder.append(\" \\xc3\\xb7\")",
          "new_text": "StylePainter::paint_button(painter, cell_rect, ButtonStyle::Normal, false)",
          "old_line_content": "                builder.append(\" \\xc3\\xb7\");",
          "new_line_content": "        StylePainter::paint_button(painter, cell_rect, ButtonStyle::Normal, false);",
          "content_same": false
        },
        {
          "line": 360,
          "old_api": "horizontal_padding",
          "new_api": "sort_order",
          "old_text": "horizontal_padding()",
          "new_text": "model()->sort_order()",
          "old_line_content": "        auto text_rect = cell_rect.translated(horizontal_padding(), 0);",
          "new_line_content": "            auto sort_order = model()->sort_order();",
          "content_same": false
        },
        {
          "line": 362,
          "old_api": "horizontal_padding",
          "new_api": "append",
          "old_text": "horizontal_padding()",
          "new_text": "builder.append(\" \\xc3\\xb6\")",
          "old_line_content": "        x_offset += column_width + horizontal_padding() * 2;",
          "new_line_content": "                builder.append(\" \\xc3\\xb6\");",
          "content_same": false
        },
        {
          "line": 370,
          "old_api": "row_count",
          "new_api": "header_font",
          "old_text": "model()->row_count()",
          "new_text": "header_font()",
          "old_line_content": "    return model()->row_count();",
          "new_line_content": "        painter.draw_text(text_rect, text, header_font(), TextAlignment::CenterLeft, Color::Black);",
          "content_same": false
        },
        {
          "line": 379,
          "old_api": "for_each_index",
          "new_api": "row_count",
          "old_text": "selection().for_each_index([this](auto& index) {\n            activate(index);\n        })",
          "new_text": "model()->row_count()",
          "old_line_content": "        selection().for_each_index([this](auto& index) {",
          "new_line_content": "    return model()->row_count();",
          "content_same": false
        },
        {
          "line": 384,
          "old_api": "key",
          "new_api": "model",
          "old_text": "event.key()",
          "new_text": "model()",
          "old_line_content": "    if (event.key() == KeyCode::Key_Up) {",
          "new_line_content": "    if (!model())",
          "content_same": false
        },
        {
          "line": 386,
          "old_api": "is_empty",
          "new_api": "model",
          "old_text": "selection().is_empty()",
          "new_text": "this->model()",
          "old_line_content": "        if (!selection().is_empty()) {",
          "new_line_content": "    auto& model = *this->model();",
          "content_same": false
        },
        {
          "line": 387,
          "old_api": "first",
          "new_api": "key",
          "old_text": "selection().first()",
          "new_text": "event.key()",
          "old_line_content": "            auto old_index = selection().first();",
          "new_line_content": "    if (event.key() == KeyCode::Key_Return) {",
          "content_same": false
        },
        {
          "line": 388,
          "old_api": "column",
          "new_api": "for_each_index",
          "old_text": "old_index.column()",
          "new_text": "selection().for_each_index([this](auto& index) {\n            activate(index);\n        })",
          "old_line_content": "            new_index = model.index(old_index.row() - 1, old_index.column());",
          "new_line_content": "        selection().for_each_index([this](auto& index) {",
          "content_same": false
        },
        {
          "line": 393,
          "old_api": "set",
          "new_api": "key",
          "old_text": "selection().set(new_index)",
          "new_text": "event.key()",
          "old_line_content": "            selection().set(new_index);",
          "new_line_content": "    if (event.key() == KeyCode::Key_Up) {",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": "update",
          "new_api": "is_empty",
          "old_text": "update()",
          "new_text": "selection().is_empty()",
          "old_line_content": "            update();",
          "new_line_content": "        if (!selection().is_empty()) {",
          "content_same": false
        },
        {
          "line": 399,
          "old_api": "key",
          "new_api": "index",
          "old_text": "event.key()",
          "new_text": "model.index(0, 0)",
          "old_line_content": "    if (event.key() == KeyCode::Key_Down) {",
          "new_line_content": "            new_index = model.index(0, 0);",
          "content_same": false
        },
        {
          "line": 401,
          "old_api": "is_empty",
          "new_api": "is_valid",
          "old_text": "selection().is_empty()",
          "new_text": "model.is_valid(new_index)",
          "old_line_content": "        if (!selection().is_empty()) {",
          "new_line_content": "        if (model.is_valid(new_index)) {",
          "content_same": false
        },
        {
          "line": 402,
          "old_api": "first",
          "new_api": "set",
          "old_text": "selection().first()",
          "new_text": "selection().set(new_index)",
          "old_line_content": "            auto old_index = selection().first();",
          "new_line_content": "            selection().set(new_index);",
          "content_same": false
        },
        {
          "line": 403,
          "old_api": "column",
          "new_api": "scroll_into_view",
          "old_text": "old_index.column()",
          "new_text": "scroll_into_view(new_index, Orientation::Vertical)",
          "old_line_content": "            new_index = model.index(old_index.row() + 1, old_index.column());",
          "new_line_content": "            scroll_into_view(new_index, Orientation::Vertical);",
          "content_same": false
        },
        {
          "line": 408,
          "old_api": "set",
          "new_api": "key",
          "old_text": "selection().set(new_index)",
          "new_text": "event.key()",
          "old_line_content": "            selection().set(new_index);",
          "new_line_content": "    if (event.key() == KeyCode::Key_Down) {",
          "content_same": false
        },
        {
          "line": 410,
          "old_api": "update",
          "new_api": "is_empty",
          "old_text": "update()",
          "new_text": "selection().is_empty()",
          "old_line_content": "            update();",
          "new_line_content": "        if (!selection().is_empty()) {",
          "content_same": false
        },
        {
          "line": 414,
          "old_api": "key",
          "new_api": "index",
          "old_text": "event.key()",
          "new_text": "model.index(0, 0)",
          "old_line_content": "    if (event.key() == KeyCode::Key_PageUp) {",
          "new_line_content": "            new_index = model.index(0, 0);",
          "content_same": false
        },
        {
          "line": 416,
          "old_api": "first",
          "new_api": "is_valid",
          "old_text": "selection().first()",
          "new_text": "model.is_valid(new_index)",
          "old_line_content": "        auto old_index = selection().first();",
          "new_line_content": "        if (model.is_valid(new_index)) {",
          "content_same": false
        },
        {
          "line": 417,
          "old_api": "column",
          "new_api": "set",
          "old_text": "old_index.column()",
          "new_text": "selection().set(new_index)",
          "old_line_content": "        auto new_index = model.index(max(0, old_index.row() - items_per_page), old_index.column());",
          "new_line_content": "            selection().set(new_index);",
          "content_same": false
        },
        {
          "line": 418,
          "old_api": "is_valid",
          "new_api": "scroll_into_view",
          "old_text": "model.is_valid(new_index)",
          "new_text": "scroll_into_view(new_index, Orientation::Vertical)",
          "old_line_content": "        if (model.is_valid(new_index)) {",
          "new_line_content": "            scroll_into_view(new_index, Orientation::Vertical);",
          "content_same": false
        },
        {
          "line": 419,
          "old_api": "set",
          "new_api": "update",
          "old_text": "selection().set(new_index)",
          "new_text": "update()",
          "old_line_content": "            selection().set(new_index);",
          "new_line_content": "            update();",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": "key",
          "new_api": "first",
          "old_text": "event.key()",
          "new_text": "selection().first()",
          "old_line_content": "    if (event.key() == KeyCode::Key_PageDown) {",
          "new_line_content": "        auto old_index = selection().first();",
          "content_same": false
        },
        {
          "line": 426,
          "old_api": "item_height",
          "new_api": "column",
          "old_text": "item_height()",
          "new_text": "old_index.column()",
          "old_line_content": "        int items_per_page = visible_content_rect().height() / item_height();",
          "new_line_content": "        auto new_index = model.index(max(0, old_index.row() - items_per_page), old_index.column());",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": "first",
          "new_api": "is_valid",
          "old_text": "selection().first()",
          "new_text": "model.is_valid(new_index)",
          "old_line_content": "        auto old_index = selection().first();",
          "new_line_content": "        if (model.is_valid(new_index)) {",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": "column",
          "new_api": "set",
          "old_text": "old_index.column()",
          "new_text": "selection().set(new_index)",
          "old_line_content": "        auto new_index = model.index(min(model.row_count() - 1, old_index.row() + items_per_page), old_index.column());",
          "new_line_content": "            selection().set(new_index);",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": "is_valid",
          "new_api": "scroll_into_view",
          "old_text": "model.is_valid(new_index)",
          "new_text": "scroll_into_view(new_index, Orientation::Vertical)",
          "old_line_content": "        if (model.is_valid(new_index)) {",
          "new_line_content": "            scroll_into_view(new_index, Orientation::Vertical);",
          "content_same": false
        },
        {
          "line": 430,
          "old_api": "set",
          "new_api": "update",
          "old_text": "selection().set(new_index)",
          "new_text": "update()",
          "old_line_content": "            selection().set(new_index);",
          "new_line_content": "            update();",
          "content_same": false
        },
        {
          "line": 436,
          "old_api": "GWidget::keydown_event(event)",
          "new_api": "first",
          "old_text": "GWidget::keydown_event(event)",
          "new_text": "selection().first()",
          "old_line_content": "    return GWidget::keydown_event(event);",
          "new_line_content": "        auto old_index = selection().first();",
          "content_same": false
        },
        {
          "line": 441,
          "old_api": "header_height",
          "new_api": "update",
          "old_text": "header_height()",
          "new_text": "update()",
          "old_line_content": "    auto rect = row_rect(index.row()).translated(0, -header_height());",
          "new_line_content": "            update();",
          "content_same": false
        },
        {
          "line": 463,
          "old_api": "update_content_size",
          "new_api": "column_data",
          "old_text": "update_content_size()",
          "new_text": "column_data(column)",
          "old_line_content": "    update_content_size();",
          "new_line_content": "    return !column_data(column).visibility;",
          "content_same": false
        },
        {
          "line": 472,
          "old_api": "header_height",
          "new_api": "update_content_size",
          "old_text": "header_height()",
          "new_text": "update_content_size()",
          "old_line_content": "        if (event.y() < header_height())",
          "new_line_content": "    update_content_size();",
          "content_same": false
        },
        {
          "line": 478,
          "old_api": "for_each_index",
          "new_api": "model",
          "old_text": "selection().for_each_index([this](auto& index) {\n                    activate(index);\n                })",
          "new_text": "model()",
          "old_line_content": "                selection().for_each_index([this](auto& index) {",
          "new_line_content": "    if (!model())",
          "content_same": false
        },
        {
          "line": 501,
          "old_api": "set_checkable",
          "new_api": "make<GMenu>()",
          "old_text": "column_data.visibility_action->set_checkable(true)",
          "new_text": "make<GMenu>()",
          "old_line_content": "            column_data.visibility_action->set_checkable(true);",
          "new_line_content": "        m_header_context_menu = make<GMenu>();",
          "content_same": false
        },
        {
          "line": 504,
          "old_api": "add_action",
          "new_api": "column_data",
          "old_text": "m_header_context_menu->add_action(*column_data.visibility_action)",
          "new_text": "this->column_data(column)",
          "old_line_content": "            m_header_context_menu->add_action(*column_data.visibility_action);",
          "new_line_content": "            auto& column_data = this->column_data(column);",
          "content_same": false
        },
        {
          "line": 521,
          "old_api": "contains",
          "new_api": "model",
          "old_text": "selection().contains(index)",
          "new_text": "model()",
          "old_line_content": "        if (!selection().contains(index))",
          "new_line_content": "    if (!model())",
          "content_same": false
        },
        {
          "line": 524,
          "old_api": "clear",
          "new_api": "screen_position",
          "old_text": "selection().clear()",
          "new_text": "event.screen_position()",
          "old_line_content": "        selection().clear();",
          "new_line_content": "        ensure_header_context_menu().popup(event.screen_position());",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 513,
          "old_api": null,
          "new_api": "add_action",
          "old_text": null,
          "new_text": "m_header_context_menu->add_action(*column_data.visibility_action)",
          "old_line_content": "        return;",
          "new_line_content": "            m_header_context_menu->add_action(*column_data.visibility_action);",
          "content_same": false
        },
        {
          "line": 389,
          "old_api": null,
          "new_api": "activate",
          "old_text": null,
          "new_text": "activate(index)",
          "old_line_content": "        } else {",
          "new_line_content": "            activate(index);",
          "content_same": false
        },
        {
          "line": 263,
          "old_api": null,
          "new_api": "header_height",
          "old_text": null,
          "new_text": "header_height()",
          "old_line_content": "    int painted_item_index = 0;",
          "new_line_content": "    int y_offset = header_height();",
          "content_same": false
        },
        {
          "line": 265,
          "old_api": null,
          "new_api": "top_left",
          "old_text": null,
          "new_text": "frame_inner_rect().top_left()",
          "old_line_content": "",
          "new_line_content": "    int first_visible_row = index_at_event_position(frame_inner_rect().top_left()).row();",
          "content_same": false
        },
        {
          "line": 523,
          "old_api": null,
          "new_api": "header_height",
          "old_text": null,
          "new_text": "header_height()",
          "old_line_content": "    } else {",
          "new_line_content": "    if (event.position().y() < header_height()) {",
          "content_same": false
        },
        {
          "line": 396,
          "old_api": null,
          "new_api": "first",
          "old_text": null,
          "new_text": "selection().first()",
          "old_line_content": "        }",
          "new_line_content": "            auto old_index = selection().first();",
          "content_same": false
        },
        {
          "line": 397,
          "old_api": null,
          "new_api": "column",
          "old_text": null,
          "new_text": "old_index.column()",
          "old_line_content": "        return;",
          "new_line_content": "            new_index = model.index(old_index.row() - 1, old_index.column());",
          "content_same": false
        },
        {
          "line": 271,
          "old_api": null,
          "new_api": "row_count",
          "old_text": null,
          "new_text": "model()->row_count()",
          "old_line_content": "        Color key_column_background_color;",
          "new_line_content": "        last_visible_row = model()->row_count() - 1;",
          "content_same": false
        },
        {
          "line": 528,
          "old_api": null,
          "new_api": "position",
          "old_text": null,
          "new_text": "event.position()",
          "old_line_content": "}",
          "new_line_content": "    auto index = index_at_event_position(event.position());",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": null,
          "new_api": "is_valid",
          "old_text": null,
          "new_text": "index.is_valid()",
          "old_line_content": "",
          "new_line_content": "    if (index.is_valid()) {",
          "content_same": false
        },
        {
          "line": 530,
          "old_api": null,
          "new_api": "contains",
          "old_text": null,
          "new_text": "selection().contains(index)",
          "old_line_content": "void GTableView::leave_event(CEvent&)",
          "new_line_content": "        if (!selection().contains(index))",
          "content_same": false
        },
        {
          "line": 531,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "selection().set(index)",
          "old_line_content": "{",
          "new_line_content": "            selection().set(index);",
          "content_same": false
        },
        {
          "line": 404,
          "old_api": null,
          "new_api": "update",
          "old_text": null,
          "new_text": "update()",
          "old_line_content": "        } else {",
          "new_line_content": "            update();",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "selection().clear()",
          "old_line_content": "}",
          "new_line_content": "        selection().clear();",
          "content_same": false
        },
        {
          "line": 536,
          "old_api": null,
          "new_api": "on_context_menu_request",
          "old_text": null,
          "new_text": "on_context_menu_request(index, event)",
          "old_line_content": "{",
          "new_line_content": "        on_context_menu_request(index, event);",
          "content_same": false
        },
        {
          "line": 282,
          "old_api": null,
          "new_api": "Color::from_rgb(0x606060)",
          "old_text": null,
          "new_text": "Color::from_rgb(0x606060)",
          "old_line_content": "            }",
          "new_line_content": "            background_color = is_focused() ? Color::from_rgb(0x84351a) : Color::from_rgb(0x606060);",
          "content_same": false
        },
        {
          "line": 283,
          "old_api": null,
          "new_api": "Color::from_rgb(0x606060)",
          "old_text": null,
          "new_text": "Color::from_rgb(0x606060)",
          "old_line_content": "        }",
          "new_line_content": "            key_column_background_color = is_focused() ? Color::from_rgb(0x84351a) : Color::from_rgb(0x606060);",
          "content_same": false
        },
        {
          "line": 411,
          "old_api": null,
          "new_api": "first",
          "old_text": null,
          "new_text": "selection().first()",
          "old_line_content": "        }",
          "new_line_content": "            auto old_index = selection().first();",
          "content_same": false
        },
        {
          "line": 285,
          "old_api": null,
          "new_api": "alternating_row_colors",
          "old_text": null,
          "new_text": "alternating_row_colors()",
          "old_line_content": "",
          "new_line_content": "            if (alternating_row_colors() && (painted_item_index % 2)) {",
          "content_same": false
        },
        {
          "line": 541,
          "old_api": null,
          "new_api": "set_override_cursor",
          "old_text": null,
          "new_text": "window()->set_override_cursor(GStandardCursor::None)",
          "old_line_content": "{",
          "new_line_content": "    window()->set_override_cursor(GStandardCursor::None);",
          "content_same": false
        },
        {
          "line": 286,
          "old_api": null,
          "new_api": "Color",
          "old_text": null,
          "new_text": "Color(210, 210, 210)",
          "old_line_content": "        int x_offset = 0;",
          "new_line_content": "                background_color = Color(210, 210, 210);",
          "content_same": false
        },
        {
          "line": 412,
          "old_api": null,
          "new_api": "column",
          "old_text": null,
          "new_text": "old_index.column()",
          "old_line_content": "        return;",
          "new_line_content": "            new_index = model.index(old_index.row() + 1, old_index.column());",
          "content_same": false
        },
        {
          "line": 546,
          "old_api": null,
          "new_api": "Font::default_bold_font()",
          "old_text": null,
          "new_text": "Font::default_bold_font()",
          "old_line_content": "",
          "new_line_content": "    return Font::default_bold_font();",
          "content_same": false
        },
        {
          "line": 551,
          "old_api": null,
          "new_api": "move",
          "old_text": null,
          "new_text": "move(delegate)",
          "old_line_content": "",
          "new_line_content": "    column_data(column).cell_painting_delegate = move(delegate);",
          "content_same": false
        },
        {
          "line": 423,
          "old_api": null,
          "new_api": "key",
          "old_text": null,
          "new_text": "event.key()",
          "old_line_content": "        return;",
          "new_line_content": "    if (event.key() == KeyCode::Key_PageUp) {",
          "content_same": false
        },
        {
          "line": 424,
          "old_api": null,
          "new_api": "item_height",
          "old_text": null,
          "new_text": "item_height()",
          "old_line_content": "    }",
          "new_line_content": "        int items_per_page = visible_content_rect().height() / item_height();",
          "content_same": false
        },
        {
          "line": 300,
          "old_api": null,
          "new_api": "column_width",
          "old_text": null,
          "new_text": "this->column_width(column_index)",
          "old_line_content": "",
          "new_line_content": "            int column_width = this->column_width(column_index);",
          "content_same": false
        },
        {
          "line": 303,
          "old_api": null,
          "new_api": "item_height",
          "old_text": null,
          "new_text": "item_height()",
          "old_line_content": "            } else {",
          "new_line_content": "            Rect cell_rect(horizontal_padding() + x_offset, y, column_width, item_height());",
          "content_same": false
        },
        {
          "line": 434,
          "old_api": null,
          "new_api": "key",
          "old_text": null,
          "new_text": "event.key()",
          "old_line_content": "        return;",
          "new_line_content": "    if (event.key() == KeyCode::Key_PageDown) {",
          "content_same": false
        },
        {
          "line": 435,
          "old_api": null,
          "new_api": "item_height",
          "old_text": null,
          "new_text": "item_height()",
          "old_line_content": "    }",
          "new_line_content": "        int items_per_page = visible_content_rect().height() / item_height();",
          "content_same": false
        },
        {
          "line": 437,
          "old_api": null,
          "new_api": "column",
          "old_text": null,
          "new_text": "old_index.column()",
          "old_line_content": "}",
          "new_line_content": "        auto new_index = model.index(min(model.row_count() - 1, old_index.row() + items_per_page), old_index.column());",
          "content_same": false
        },
        {
          "line": 310,
          "old_api": null,
          "new_api": "ptr",
          "old_text": null,
          "new_text": "column_data(column_index).cell_painting_delegate.ptr()",
          "old_line_content": "                } else {",
          "new_line_content": "            if (auto* delegate = column_data(column_index).cell_painting_delegate.ptr()) {",
          "content_same": false
        },
        {
          "line": 311,
          "old_api": null,
          "new_api": "model",
          "old_text": null,
          "new_text": "model()",
          "old_line_content": "                    Color text_color;",
          "new_line_content": "                delegate->paint(painter, cell_rect, *model(), cell_index);",
          "content_same": false
        },
        {
          "line": 438,
          "old_api": null,
          "new_api": "is_valid",
          "old_text": null,
          "new_text": "model.is_valid(new_index)",
          "old_line_content": "",
          "new_line_content": "        if (model.is_valid(new_index)) {",
          "content_same": false
        },
        {
          "line": 313,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "model()->data(cell_index)",
          "old_line_content": "                        text_color = Color::White;",
          "new_line_content": "                auto data = model()->data(cell_index);",
          "content_same": false
        },
        {
          "line": 314,
          "old_api": null,
          "new_api": "is_bitmap",
          "old_text": null,
          "new_text": "data.is_bitmap()",
          "old_line_content": "                    else",
          "new_line_content": "                if (data.is_bitmap()) {",
          "content_same": false
        },
        {
          "line": 439,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "selection().set(new_index)",
          "old_line_content": "void GTableView::scroll_into_view(const GModelIndex& index, Orientation orientation)",
          "new_line_content": "            selection().set(new_index);",
          "content_same": false
        },
        {
          "line": 440,
          "old_api": null,
          "new_api": "scroll_into_view",
          "old_text": null,
          "new_text": "scroll_into_view(new_index, Orientation::Vertical)",
          "old_line_content": "{",
          "new_line_content": "            scroll_into_view(new_index, Orientation::Vertical);",
          "content_same": false
        },
        {
          "line": 317,
          "old_api": null,
          "new_api": "as_icon",
          "old_text": null,
          "new_text": "data.as_icon().bitmap_for_size(16)",
          "old_line_content": "                }",
          "new_line_content": "                    if (auto bitmap = data.as_icon().bitmap_for_size(16))",
          "content_same": false
        },
        {
          "line": 318,
          "old_api": null,
          "new_api": "rect",
          "old_text": null,
          "new_text": "bitmap->rect()",
          "old_line_content": "            }",
          "new_line_content": "                        painter.blit(cell_rect.location(), *bitmap, bitmap->rect());",
          "content_same": false
        },
        {
          "line": 445,
          "old_api": null,
          "new_api": "GWidget::keydown_event(event)",
          "old_text": null,
          "new_text": "GWidget::keydown_event(event)",
          "old_line_content": "GTableView::ColumnData& GTableView::column_data(int column) const",
          "new_line_content": "    return GWidget::keydown_event(event);",
          "content_same": false
        },
        {
          "line": 450,
          "old_api": null,
          "new_api": "header_height",
          "old_text": null,
          "new_text": "header_height()",
          "old_line_content": "}",
          "new_line_content": "    auto rect = row_rect(index.row()).translated(0, -header_height());",
          "content_same": false
        },
        {
          "line": 451,
          "old_api": null,
          "new_api": "GScrollableWidget::scroll_into_view(rect, orientation)",
          "old_text": null,
          "new_text": "GScrollableWidget::scroll_into_view(rect, orientation)",
          "old_line_content": "",
          "new_line_content": "    GScrollableWidget::scroll_into_view(rect, orientation);",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "m_column_data.size()",
          "old_line_content": "",
          "new_line_content": "    if (column >= m_column_data.size())",
          "content_same": false
        },
        {
          "line": 457,
          "old_api": null,
          "new_api": "resize",
          "old_text": null,
          "new_text": "m_column_data.resize(column + 1)",
          "old_line_content": "void GTableView::set_column_hidden(int column, bool hidden)",
          "new_line_content": "        m_column_data.resize(column + 1);",
          "content_same": false
        },
        {
          "line": 458,
          "old_api": null,
          "new_api": "at",
          "old_text": null,
          "new_text": "m_column_data.at(column)",
          "old_line_content": "{",
          "new_line_content": "    return m_column_data.at(column);",
          "content_same": false
        },
        {
          "line": 333,
          "old_api": null,
          "new_api": "height",
          "old_text": null,
          "new_text": "height()",
          "old_line_content": "void GTableView::paint_headers(Painter& painter)",
          "new_line_content": "    Rect unpainted_rect(0, header_height() + painted_item_index * item_height(), exposed_width, height());",
          "content_same": false
        },
        {
          "line": 334,
          "old_api": null,
          "new_api": "fill_rect",
          "old_text": null,
          "new_text": "painter.fill_rect(unpainted_rect, Color::White)",
          "old_line_content": "{",
          "new_line_content": "    painter.fill_rect(unpainted_rect, Color::White);",
          "content_same": false
        },
        {
          "line": 339,
          "old_api": null,
          "new_api": "paint_headers",
          "old_text": null,
          "new_text": "paint_headers(painter)",
          "old_line_content": "    int x_offset = 0;",
          "new_line_content": "        paint_headers(painter);",
          "content_same": false
        },
        {
          "line": 468,
          "old_api": null,
          "new_api": "column_data",
          "old_text": null,
          "new_text": "this->column_data(column)",
          "old_line_content": "{",
          "new_line_content": "    auto& column_data = this->column_data(column);",
          "content_same": false
        },
        {
          "line": 473,
          "old_api": null,
          "new_api": "update",
          "old_text": null,
          "new_text": "update()",
          "old_line_content": "            return;",
          "new_line_content": "    update();",
          "content_same": false
        },
        {
          "line": 347,
          "old_api": null,
          "new_api": "header_height",
          "old_text": null,
          "new_text": "header_height()",
          "old_line_content": "        String text;",
          "new_line_content": "    painter.draw_line({ 0, header_height() - 1 }, { exposed_width - 1, header_height() - 1 }, Color::MidGray);",
          "content_same": false
        },
        {
          "line": 349,
          "old_api": null,
          "new_api": "column_count",
          "old_text": null,
          "new_text": "model()->column_count()",
          "old_line_content": "            StringBuilder builder;",
          "new_line_content": "    for (int column_index = 0; column_index < model()->column_count(); ++column_index) {",
          "content_same": false
        },
        {
          "line": 352,
          "old_api": null,
          "new_api": "column_width",
          "old_text": null,
          "new_text": "this->column_width(column_index)",
          "old_line_content": "            if (sort_order == GSortOrder::Ascending)",
          "new_line_content": "        int column_width = this->column_width(column_index);",
          "content_same": false
        },
        {
          "line": 480,
          "old_api": null,
          "new_api": "button",
          "old_text": null,
          "new_text": "event.button()",
          "old_line_content": "                });",
          "new_line_content": "    if (event.button() == GMouseButton::Left) {",
          "content_same": false
        },
        {
          "line": 354,
          "old_api": null,
          "new_api": "header_height",
          "old_text": null,
          "new_text": "header_height()",
          "old_line_content": "            else if (sort_order == GSortOrder::Descending)",
          "new_line_content": "        Rect cell_rect(x_offset, 0, column_width + horizontal_padding() * 2, header_height());",
          "content_same": false
        },
        {
          "line": 481,
          "old_api": null,
          "new_api": "header_height",
          "old_text": null,
          "new_text": "header_height()",
          "old_line_content": "            }",
          "new_line_content": "        if (event.y() < header_height())",
          "content_same": false
        },
        {
          "line": 483,
          "old_api": null,
          "new_api": "is_empty",
          "old_text": null,
          "new_text": "selection().is_empty()",
          "old_line_content": "    }",
          "new_line_content": "        if (!selection().is_empty()) {",
          "content_same": false
        },
        {
          "line": 484,
          "old_api": null,
          "new_api": "is_editable",
          "old_text": null,
          "new_text": "is_editable()",
          "old_line_content": "}",
          "new_line_content": "            if (is_editable()) {",
          "content_same": false
        },
        {
          "line": 485,
          "old_api": null,
          "new_api": "first",
          "old_text": null,
          "new_text": "selection().first()",
          "old_line_content": "",
          "new_line_content": "                begin_editing(selection().first());",
          "content_same": false
        },
        {
          "line": 359,
          "old_api": null,
          "new_api": "column_name",
          "old_text": null,
          "new_text": "model()->column_name(column_index)",
          "old_line_content": "        }",
          "new_line_content": "            builder.append(model()->column_name(column_index));",
          "content_same": false
        },
        {
          "line": 487,
          "old_api": null,
          "new_api": "for_each_index",
          "old_text": null,
          "new_text": "selection().for_each_index([this](auto& index) {\n                    activate(index);\n                })",
          "old_line_content": "{",
          "new_line_content": "                selection().for_each_index([this](auto& index) {",
          "content_same": false
        },
        {
          "line": 488,
          "old_api": null,
          "new_api": "activate",
          "old_text": null,
          "new_text": "activate(index)",
          "old_line_content": "    // FIXME: This menu needs to be rebuilt if the model is swapped out,",
          "new_line_content": "                    activate(index);",
          "content_same": false
        },
        {
          "line": 364,
          "old_api": null,
          "new_api": "append",
          "old_text": null,
          "new_text": "builder.append(\" \\xc3\\xb7\")",
          "old_line_content": "}",
          "new_line_content": "                builder.append(\" \\xc3\\xb7\");",
          "content_same": false
        },
        {
          "line": 365,
          "old_api": null,
          "new_api": "to_string",
          "old_text": null,
          "new_text": "builder.to_string()",
          "old_line_content": "",
          "new_line_content": "            text = builder.to_string();",
          "content_same": false
        },
        {
          "line": 367,
          "old_api": null,
          "new_api": "column_name",
          "old_text": null,
          "new_text": "model()->column_name(column_index)",
          "old_line_content": "{",
          "new_line_content": "            text = model()->column_name(column_index);",
          "content_same": false
        },
        {
          "line": 369,
          "old_api": null,
          "new_api": "horizontal_padding",
          "old_text": null,
          "new_text": "horizontal_padding()",
          "old_line_content": "        return 0;",
          "new_line_content": "        auto text_rect = cell_rect.translated(horizontal_padding(), 0);",
          "content_same": false
        },
        {
          "line": 371,
          "old_api": null,
          "new_api": "horizontal_padding",
          "old_text": null,
          "new_text": "horizontal_padding()",
          "old_line_content": "}",
          "new_line_content": "        x_offset += column_width + horizontal_padding() * 2;",
          "content_same": false
        },
        {
          "line": 500,
          "old_api": null,
          "new_api": "model",
          "old_text": null,
          "new_text": "model()",
          "old_line_content": "            });",
          "new_line_content": "        ASSERT(model());",
          "content_same": false
        },
        {
          "line": 503,
          "old_api": null,
          "new_api": "column_count",
          "old_text": null,
          "new_text": "model()->column_count()",
          "old_line_content": "",
          "new_line_content": "        for (int column = 0; column < model()->column_count(); ++column) {",
          "content_same": false
        },
        {
          "line": 505,
          "old_api": null,
          "new_api": "column_name",
          "old_text": null,
          "new_text": "model()->column_name(column)",
          "old_line_content": "        }",
          "new_line_content": "            auto name = model()->column_name(column);",
          "content_same": false
        },
        {
          "line": 506,
          "old_api": null,
          "new_api": "set_checked",
          "old_text": null,
          "new_text": "GAction::create(name, [this, column](GAction& action) {\n                action.set_checked(!action.is_checked());\n                set_column_hidden(column, !action.is_checked());\n            })",
          "old_line_content": "    }",
          "new_line_content": "            column_data.visibility_action = GAction::create(name, [this, column](GAction& action) {",
          "content_same": false
        },
        {
          "line": 507,
          "old_api": null,
          "new_api": "is_checked",
          "old_text": null,
          "new_text": "action.is_checked()",
          "old_line_content": "    return *m_header_context_menu;",
          "new_line_content": "                action.set_checked(!action.is_checked());",
          "content_same": false
        },
        {
          "line": 508,
          "old_api": null,
          "new_api": "is_checked",
          "old_text": null,
          "new_text": "action.is_checked()",
          "old_line_content": "}",
          "new_line_content": "                set_column_hidden(column, !action.is_checked());",
          "content_same": false
        },
        {
          "line": 510,
          "old_api": null,
          "new_api": "set_checkable",
          "old_text": null,
          "new_text": "column_data.visibility_action->set_checkable(true)",
          "old_line_content": "void GTableView::context_menu_event(GContextMenuEvent& event)",
          "new_line_content": "            column_data.visibility_action->set_checkable(true);",
          "content_same": false
        },
        {
          "line": 511,
          "old_api": null,
          "new_api": "set_checked",
          "old_text": null,
          "new_text": "column_data.visibility_action->set_checked(true)",
          "old_line_content": "{",
          "new_line_content": "            column_data.visibility_action->set_checked(true);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 512,
          "old_api": "model",
          "new_api": null,
          "old_text": "model()",
          "new_text": null,
          "old_line_content": "    if (!model())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 514,
          "old_api": "header_height",
          "new_api": null,
          "old_text": "header_height()",
          "new_text": null,
          "old_line_content": "    if (event.position().y() < header_height()) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 515,
          "old_api": "screen_position",
          "new_api": null,
          "old_text": "event.screen_position()",
          "new_text": null,
          "old_line_content": "        ensure_header_context_menu().popup(event.screen_position());",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 390,
          "old_api": "index",
          "new_api": null,
          "old_text": "model.index(0, 0)",
          "new_text": null,
          "old_line_content": "            new_index = model.index(0, 0);",
          "new_line_content": "        });",
          "content_same": false
        },
        {
          "line": 519,
          "old_api": "position",
          "new_api": null,
          "old_text": "event.position()",
          "new_text": null,
          "old_line_content": "    auto index = index_at_event_position(event.position());",
          "new_line_content": "void GTableView::context_menu_event(GContextMenuEvent& event)",
          "content_same": false
        },
        {
          "line": 520,
          "old_api": "is_valid",
          "new_api": null,
          "old_text": "index.is_valid()",
          "new_text": null,
          "old_line_content": "    if (index.is_valid()) {",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 264,
          "old_api": "header_height",
          "new_api": null,
          "old_text": "header_height()",
          "new_text": null,
          "old_line_content": "    int y_offset = header_height();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 522,
          "old_api": "set",
          "new_api": null,
          "old_text": "selection().set(index)",
          "new_text": null,
          "old_line_content": "            selection().set(index);",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 267,
          "old_api": "contains_row",
          "new_api": null,
          "old_text": "selection().contains_row(row_index)",
          "new_text": null,
          "old_line_content": "        bool is_selected_row = selection().contains_row(row_index);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 268,
          "old_api": "item_height",
          "new_api": null,
          "old_text": "item_height()",
          "new_text": null,
          "old_line_content": "        int y = y_offset + painted_item_index * item_height();",
          "new_line_content": "    if (first_visible_row == -1)",
          "content_same": false
        },
        {
          "line": 392,
          "old_api": "is_valid",
          "new_api": null,
          "old_text": "model.is_valid(new_index)",
          "new_text": null,
          "old_line_content": "        if (model.is_valid(new_index)) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 394,
          "old_api": "scroll_into_view",
          "new_api": null,
          "old_text": "scroll_into_view(new_index, Orientation::Vertical)",
          "new_text": null,
          "old_line_content": "            scroll_into_view(new_index, Orientation::Vertical);",
          "new_line_content": "        GModelIndex new_index;",
          "content_same": false
        },
        {
          "line": 527,
          "old_api": "on_context_menu_request",
          "new_api": null,
          "old_text": "on_context_menu_request(index, event)",
          "new_text": null,
          "old_line_content": "        on_context_menu_request(index, event);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 273,
          "old_api": "Color::from_rgb(0x606060)",
          "new_api": null,
          "old_text": "Color::from_rgb(0x606060)",
          "new_text": null,
          "old_line_content": "            background_color = is_focused() ? Color::from_rgb(0x84351a) : Color::from_rgb(0x606060);",
          "new_line_content": "    int painted_item_index = first_visible_row;",
          "content_same": false
        },
        {
          "line": 274,
          "old_api": "Color::from_rgb(0x606060)",
          "new_api": null,
          "old_text": "Color::from_rgb(0x606060)",
          "new_text": null,
          "old_line_content": "            key_column_background_color = is_focused() ? Color::from_rgb(0x84351a) : Color::from_rgb(0x606060);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 532,
          "old_api": "set_override_cursor",
          "new_api": null,
          "old_text": "window()->set_override_cursor(GStandardCursor::None)",
          "new_text": null,
          "old_line_content": "    window()->set_override_cursor(GStandardCursor::None);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 405,
          "old_api": "index",
          "new_api": null,
          "old_text": "model.index(0, 0)",
          "new_text": null,
          "old_line_content": "            new_index = model.index(0, 0);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 278,
          "old_api": "Color",
          "new_api": null,
          "old_text": "Color(180, 180, 180)",
          "new_text": null,
          "old_line_content": "                key_column_background_color = Color(180, 180, 180);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 407,
          "old_api": "is_valid",
          "new_api": null,
          "old_text": "model.is_valid(new_index)",
          "new_text": null,
          "old_line_content": "        if (model.is_valid(new_index)) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 281,
          "old_api": "Color",
          "new_api": null,
          "old_text": "Color(210, 210, 210)",
          "new_text": null,
          "old_line_content": "                key_column_background_color = Color(210, 210, 210);",
          "new_line_content": "        if (is_selected_row) {",
          "content_same": false
        },
        {
          "line": 537,
          "old_api": "Font::default_bold_font()",
          "new_api": null,
          "old_text": "Font::default_bold_font()",
          "new_text": null,
          "old_line_content": "    return Font::default_bold_font();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 409,
          "old_api": "scroll_into_view",
          "new_api": null,
          "old_text": "scroll_into_view(new_index, Orientation::Vertical)",
          "new_text": null,
          "old_line_content": "            scroll_into_view(new_index, Orientation::Vertical);",
          "new_line_content": "        GModelIndex new_index;",
          "content_same": false
        },
        {
          "line": 284,
          "old_api": "row_rect",
          "new_api": null,
          "old_text": "row_rect(painted_item_index)",
          "new_text": null,
          "old_line_content": "        painter.fill_rect(row_rect(painted_item_index), background_color);",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 542,
          "old_api": "move",
          "new_api": null,
          "old_text": "move(delegate)",
          "new_text": null,
          "old_line_content": "    column_data(column).cell_painting_delegate = move(delegate);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 415,
          "old_api": "item_height",
          "new_api": null,
          "old_text": "item_height()",
          "new_text": null,
          "old_line_content": "        int items_per_page = visible_content_rect().height() / item_height();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 288,
          "old_api": "is_column_hidden",
          "new_api": null,
          "old_text": "is_column_hidden(column_index)",
          "new_text": null,
          "old_line_content": "            if (is_column_hidden(column_index))",
          "new_line_content": "            } else {",
          "content_same": false
        },
        {
          "line": 291,
          "old_api": "column_width",
          "new_api": null,
          "old_text": "this->column_width(column_index)",
          "new_text": null,
          "old_line_content": "            int column_width = this->column_width(column_index);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 292,
          "old_api": "font",
          "new_api": null,
          "old_text": "this->font()",
          "new_text": null,
          "old_line_content": "            const Font& font = column_metadata.font ? *column_metadata.font : this->font();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 420,
          "old_api": "scroll_into_view",
          "new_api": null,
          "old_text": "scroll_into_view(new_index, Orientation::Vertical)",
          "new_text": null,
          "old_line_content": "            scroll_into_view(new_index, Orientation::Vertical);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 294,
          "old_api": "item_height",
          "new_api": null,
          "old_text": "item_height()",
          "new_text": null,
          "old_line_content": "            Rect cell_rect(horizontal_padding() + x_offset, y, column_width, item_height());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 421,
          "old_api": "update",
          "new_api": null,
          "old_text": "update()",
          "new_text": null,
          "old_line_content": "            update();",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 431,
          "old_api": "scroll_into_view",
          "new_api": null,
          "old_text": "scroll_into_view(new_index, Orientation::Vertical)",
          "new_text": null,
          "old_line_content": "            scroll_into_view(new_index, Orientation::Vertical);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 304,
          "old_api": "data",
          "new_api": null,
          "old_text": "model()->data(cell_index)",
          "new_text": null,
          "old_line_content": "                auto data = model()->data(cell_index);",
          "new_line_content": "            if (is_key_column) {",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": "update",
          "new_api": null,
          "old_text": "update()",
          "new_text": null,
          "old_line_content": "            update();",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 307,
          "old_api": "is_icon",
          "new_api": null,
          "old_text": "data.is_icon()",
          "new_text": null,
          "old_line_content": "                } else if (data.is_icon()) {",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 309,
          "old_api": "rect",
          "new_api": null,
          "old_text": "bitmap->rect()",
          "new_text": null,
          "old_line_content": "                        painter.blit(cell_rect.location(), *bitmap, bitmap->rect());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 442,
          "old_api": "GScrollableWidget::scroll_into_view(rect, orientation)",
          "new_api": null,
          "old_text": "GScrollableWidget::scroll_into_view(rect, orientation)",
          "new_text": null,
          "old_line_content": "    GScrollableWidget::scroll_into_view(rect, orientation);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 319,
          "old_api": "horizontal_padding",
          "new_api": null,
          "old_text": "horizontal_padding()",
          "new_text": null,
          "old_line_content": "            x_offset += column_width + horizontal_padding() * 2;",
          "new_line_content": "                } else {",
          "content_same": false
        },
        {
          "line": 447,
          "old_api": "size",
          "new_api": null,
          "old_text": "m_column_data.size()",
          "new_text": null,
          "old_line_content": "    if (column >= m_column_data.size())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 448,
          "old_api": "resize",
          "new_api": null,
          "old_text": "m_column_data.resize(column + 1)",
          "new_text": null,
          "old_line_content": "        m_column_data.resize(column + 1);",
          "new_line_content": "void GTableView::scroll_into_view(const GModelIndex& index, Orientation orientation)",
          "content_same": false
        },
        {
          "line": 449,
          "old_api": "at",
          "new_api": null,
          "old_text": "m_column_data.at(column)",
          "new_text": null,
          "old_line_content": "    return m_column_data.at(column);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 454,
          "old_api": "column_data",
          "new_api": null,
          "old_text": "column_data(column)",
          "new_text": null,
          "old_line_content": "    return !column_data(column).visibility;",
          "new_line_content": "GTableView::ColumnData& GTableView::column_data(int column) const",
          "content_same": false
        },
        {
          "line": 329,
          "old_api": "headers_visible",
          "new_api": null,
          "old_text": "headers_visible()",
          "new_text": null,
          "old_line_content": "    if (headers_visible())",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 330,
          "old_api": "paint_headers",
          "new_api": null,
          "old_text": "paint_headers(painter)",
          "new_text": null,
          "old_line_content": "        paint_headers(painter);",
          "new_line_content": "        ++painted_item_index;",
          "content_same": false
        },
        {
          "line": 459,
          "old_api": "column_data",
          "new_api": null,
          "old_text": "this->column_data(column)",
          "new_text": null,
          "old_line_content": "    auto& column_data = this->column_data(column);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 335,
          "old_api": "width",
          "new_api": null,
          "old_text": "width()",
          "new_text": null,
          "old_line_content": "    int exposed_width = max(content_size().width(), width());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 336,
          "old_api": "header_height",
          "new_api": null,
          "old_text": "header_height()",
          "new_text": null,
          "old_line_content": "    painter.fill_rect({ 0, 0, exposed_width, header_height() }, Color::WarmGray);",
          "new_line_content": "    // Untranslate the painter vertically and do the column headers.",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": "update",
          "new_api": null,
          "old_text": "update()",
          "new_text": null,
          "old_line_content": "    update();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 340,
          "old_api": "column_count",
          "new_api": null,
          "old_text": "model()->column_count()",
          "new_text": null,
          "old_line_content": "    for (int column_index = 0; column_index < model()->column_count(); ++column_index) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 341,
          "old_api": "is_column_hidden",
          "new_api": null,
          "old_text": "is_column_hidden(column_index)",
          "new_text": null,
          "old_line_content": "        if (is_column_hidden(column_index))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 469,
          "old_api": "model",
          "new_api": null,
          "old_text": "model()",
          "new_text": null,
          "old_line_content": "    if (!model())",
          "new_line_content": "    if (column_data.visibility == !hidden)",
          "content_same": false
        },
        {
          "line": 343,
          "old_api": "column_width",
          "new_api": null,
          "old_text": "this->column_width(column_index)",
          "new_text": null,
          "old_line_content": "        int column_width = this->column_width(column_index);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 471,
          "old_api": "button",
          "new_api": null,
          "old_text": "event.button()",
          "new_text": null,
          "old_line_content": "    if (event.button() == GMouseButton::Left) {",
          "new_line_content": "    column_data.visibility = !hidden;",
          "content_same": false
        },
        {
          "line": 474,
          "old_api": "is_empty",
          "new_api": null,
          "old_text": "selection().is_empty()",
          "new_text": null,
          "old_line_content": "        if (!selection().is_empty()) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 475,
          "old_api": "is_editable",
          "new_api": null,
          "old_text": "is_editable()",
          "new_text": null,
          "old_line_content": "            if (is_editable()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 476,
          "old_api": "first",
          "new_api": null,
          "old_text": "selection().first()",
          "new_text": null,
          "old_line_content": "                begin_editing(selection().first());",
          "new_line_content": "void GTableView::doubleclick_event(GMouseEvent& event)",
          "content_same": false
        },
        {
          "line": 351,
          "old_api": "sort_order",
          "new_api": null,
          "old_text": "model()->sort_order()",
          "new_text": null,
          "old_line_content": "            auto sort_order = model()->sort_order();",
          "new_line_content": "            continue;",
          "content_same": false
        },
        {
          "line": 479,
          "old_api": "activate",
          "new_api": null,
          "old_text": "activate(index)",
          "new_text": null,
          "old_line_content": "                    activate(index);",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 356,
          "old_api": "to_string",
          "new_api": null,
          "old_text": "builder.to_string()",
          "new_text": null,
          "old_line_content": "            text = builder.to_string();",
          "new_line_content": "        String text;",
          "content_same": false
        },
        {
          "line": 358,
          "old_api": "column_name",
          "new_api": null,
          "old_text": "model()->column_name(column_index)",
          "new_text": null,
          "old_line_content": "            text = model()->column_name(column_index);",
          "new_line_content": "            StringBuilder builder;",
          "content_same": false
        },
        {
          "line": 361,
          "old_api": "header_font",
          "new_api": null,
          "old_text": "header_font()",
          "new_text": null,
          "old_line_content": "        painter.draw_text(text_rect, text, header_font(), TextAlignment::CenterLeft, Color::Black);",
          "new_line_content": "            if (sort_order == GSortOrder::Ascending)",
          "content_same": false
        },
        {
          "line": 491,
          "old_api": "model",
          "new_api": null,
          "old_text": "model()",
          "new_text": null,
          "old_line_content": "        ASSERT(model());",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 492,
          "old_api": "make<GMenu>()",
          "new_api": null,
          "old_text": "make<GMenu>()",
          "new_text": null,
          "old_line_content": "        m_header_context_menu = make<GMenu>();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 494,
          "old_api": "column_count",
          "new_api": null,
          "old_text": "model()->column_count()",
          "new_text": null,
          "old_line_content": "        for (int column = 0; column < model()->column_count(); ++column) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 495,
          "old_api": "column_data",
          "new_api": null,
          "old_text": "this->column_data(column)",
          "new_text": null,
          "old_line_content": "            auto& column_data = this->column_data(column);",
          "new_line_content": "GMenu& GTableView::ensure_header_context_menu()",
          "content_same": false
        },
        {
          "line": 368,
          "old_api": "model",
          "new_api": null,
          "old_text": "model()",
          "new_text": null,
          "old_line_content": "    if (!model())",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 496,
          "old_api": "column_name",
          "new_api": null,
          "old_text": "model()->column_name(column)",
          "new_text": null,
          "old_line_content": "            auto name = model()->column_name(column);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 497,
          "old_api": "set_checked",
          "new_api": null,
          "old_text": "GAction::create(name, [this, column](GAction& action) {\n                action.set_checked(!action.is_checked());\n                set_column_hidden(column, !action.is_checked());\n            })",
          "new_text": null,
          "old_line_content": "            column_data.visibility_action = GAction::create(name, [this, column](GAction& action) {",
          "new_line_content": "    // FIXME: This menu needs to be rebuilt if the model is swapped out,",
          "content_same": false
        },
        {
          "line": 498,
          "old_api": "is_checked",
          "new_api": null,
          "old_text": "action.is_checked()",
          "new_text": null,
          "old_line_content": "                action.set_checked(!action.is_checked());",
          "new_line_content": "    //        or if the column count/names change.",
          "content_same": false
        },
        {
          "line": 499,
          "old_api": "is_checked",
          "new_api": null,
          "old_text": "action.is_checked()",
          "new_text": null,
          "old_line_content": "                set_column_hidden(column, !action.is_checked());",
          "new_line_content": "    if (!m_header_context_menu) {",
          "content_same": false
        },
        {
          "line": 502,
          "old_api": "set_checked",
          "new_api": null,
          "old_text": "column_data.visibility_action->set_checked(true)",
          "new_text": null,
          "old_line_content": "            column_data.visibility_action->set_checked(true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": "model",
          "new_api": null,
          "old_text": "model()",
          "new_text": null,
          "old_line_content": "    if (!model())",
          "new_line_content": "int GTableView::item_count() const",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": "key",
          "new_api": null,
          "old_text": "event.key()",
          "new_text": null,
          "old_line_content": "    if (event.key() == KeyCode::Key_Return) {",
          "new_line_content": "        return 0;",
          "content_same": false
        },
        {
          "line": 380,
          "old_api": "activate",
          "new_api": null,
          "old_text": "activate(index)",
          "new_text": null,
          "old_line_content": "            activate(index);",
          "new_line_content": "}",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 62,
      "total_additions": 76,
      "total_deletions": 74,
      "total_api_changes": 212
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 12,
        "api_related_lines": 212,
        "non_api_lines": 4,
        "non_api_line_numbers": [
          272,
          275,
          269,
          270
        ]
      }
    },
    "api_calls_before": 406,
    "api_calls_after": 414,
    "diff_info": {
      "added_lines": 11,
      "removed_lines": 2,
      "total_diff_lines": 27
    }
  }
}