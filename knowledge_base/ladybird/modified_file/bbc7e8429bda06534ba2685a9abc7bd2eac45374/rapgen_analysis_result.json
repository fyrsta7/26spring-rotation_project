{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/bbc7e8429bda06534ba2685a9abc7bd2eac45374",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/bbc7e8429bda06534ba2685a9abc7bd2eac45374/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/bbc7e8429bda06534ba2685a9abc7bd2eac45374/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/bbc7e8429bda06534ba2685a9abc7bd2eac45374/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 347,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": "malloc",
          "old_text": "__RETURN_WITH_ERRNO(rc, buffer, nullptr)",
          "new_text": "malloc(size)",
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, buffer, nullptr);",
          "new_line_content": "        buffer = (char*)malloc(size);",
          "content_same": false
        },
        {
          "line": 383,
          "old_api": "min",
          "new_api": "strlen",
          "old_text": "min((size_t)rc, size)",
          "new_text": "strlen(path)",
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, min((size_t)rc, size), -1);",
          "new_line_content": "    Syscall::SC_readlink_params params { { path, strlen(path) }, { buffer, size } };",
          "content_same": false
        },
        {
          "line": 601,
          "old_api": "ftruncate",
          "new_api": "open",
          "old_text": "ftruncate(fd, length)",
          "new_text": "open(path, O_RDWR | O_CREAT, 0666)",
          "old_line_content": "    int rc = ftruncate(fd, length);",
          "new_line_content": "    int fd = open(path, O_RDWR | O_CREAT, 0666);",
          "content_same": false
        },
        {
          "line": 630,
          "old_api": "dbgprintf",
          "new_api": "syscall",
          "old_text": "dbgprintf(\"FIXME: Implement fsync()\\n\")",
          "new_text": "syscall(SC_beep)",
          "old_line_content": "    dbgprintf(\"FIXME: Implement fsync()\\n\");",
          "new_line_content": "    syscall(SC_beep);",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": "syscall",
          "new_api": "dbgprintf",
          "old_text": "syscall(SC_halt)",
          "new_text": "dbgprintf(\"FIXME: Implement fsync()\\n\")",
          "old_line_content": "    int rc = syscall(SC_halt);",
          "new_line_content": "    dbgprintf(\"FIXME: Implement fsync()\\n\");",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": "strlen",
          "new_api": "syscall",
          "old_text": "strlen(mountpoint)",
          "new_text": "syscall(SC_mount, &params)",
          "old_line_content": "    int rc = syscall(SC_umount, mountpoint, strlen(mountpoint));",
          "new_line_content": "    int rc = syscall(SC_mount, &params);",
          "content_same": false
        },
        {
          "line": 671,
          "old_api": "syscall",
          "new_api": "strlen",
          "old_text": "syscall(SC_dump_backtrace)",
          "new_text": "strlen(mountpoint)",
          "old_line_content": "    syscall(SC_dump_backtrace);",
          "new_line_content": "    int rc = syscall(SC_umount, mountpoint, strlen(mountpoint));",
          "content_same": false
        },
        {
          "line": 677,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": "syscall",
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": "syscall(SC_dump_backtrace)",
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "    syscall(SC_dump_backtrace);",
          "content_same": false
        },
        {
          "line": 682,
          "old_api": "chroot_with_mount_flags",
          "new_api": "syscall",
          "old_text": "chroot_with_mount_flags(path, -1)",
          "new_text": "syscall(SC_get_process_name, buffer, buffer_size)",
          "old_line_content": "    return chroot_with_mount_flags(path, -1);",
          "new_line_content": "    int rc = syscall(SC_get_process_name, buffer, buffer_size);",
          "content_same": false
        },
        {
          "line": 698,
          "old_api": "strlen",
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": "strlen(promises)",
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "        { promises, promises ? strlen(promises) : 0 },",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 708,
          "old_api": "strlen",
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": "strlen(path)",
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "        { path, path ? strlen(path) : 0 },",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 718,
          "old_api": "lseek",
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": "lseek(fd, 0, SEEK_CUR)",
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "    off_t old_offset = lseek(fd, 0, SEEK_CUR);",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 727,
          "old_api": "dbg",
          "new_api": "lseek",
          "old_text": "dbg()",
          "new_text": "lseek(fd, old_offset, SEEK_SET)",
          "old_line_content": "    dbg() << \"FIXME: getpass(\\\"\" << prompt << \"\\\")\";",
          "new_line_content": "    lseek(fd, old_offset, SEEK_SET);",
          "content_same": false
        },
        {
          "line": 733,
          "old_api": "syscall",
          "new_api": "dbg",
          "old_text": "syscall(SC_sysconf, name)",
          "new_text": "dbg()",
          "old_line_content": "    int rc = syscall(SC_sysconf, name);",
          "new_line_content": "    dbg() << \"FIXME: getpass(\\\"\" << prompt << \"\\\")\";",
          "content_same": false
        },
        {
          "line": 734,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": "ASSERT_NOT_REACHED",
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": "ASSERT_NOT_REACHED()",
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "    ASSERT_NOT_REACHED();",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 520,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(pathname)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_access, pathname, strlen(pathname), mode);",
          "content_same": false
        },
        {
          "line": 521,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "int mknod(const char* pathname, mode_t mode, dev_t dev)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 530,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(pathname)",
          "old_line_content": "}",
          "new_line_content": "    Syscall::SC_mknod_params params { { pathname, strlen(pathname) }, mode, dev };",
          "content_same": false
        },
        {
          "line": 531,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_mknod, &params)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_mknod, &params);",
          "content_same": false
        },
        {
          "line": 532,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "long fpathconf(int fd, int name)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 547,
          "old_api": null,
          "new_api": "ASSERT_NOT_REACHED",
          "old_text": null,
          "new_text": "ASSERT_NOT_REACHED()",
          "old_line_content": "long pathconf(const char* path, int name)",
          "new_line_content": "    ASSERT_NOT_REACHED();",
          "content_same": false
        },
        {
          "line": 561,
          "old_api": null,
          "new_api": "ASSERT_NOT_REACHED",
          "old_text": null,
          "new_text": "ASSERT_NOT_REACHED()",
          "old_line_content": "void _exit(int status)",
          "new_line_content": "    ASSERT_NOT_REACHED();",
          "content_same": false
        },
        {
          "line": 566,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_exit, status)",
          "old_line_content": "",
          "new_line_content": "    syscall(SC_exit, status);",
          "content_same": false
        },
        {
          "line": 567,
          "old_api": null,
          "new_api": "ASSERT_NOT_REACHED",
          "old_text": null,
          "new_text": "ASSERT_NOT_REACHED()",
          "old_line_content": "void sync()",
          "new_line_content": "    ASSERT_NOT_REACHED();",
          "content_same": false
        },
        {
          "line": 572,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_sync)",
          "old_line_content": "int set_process_icon(int icon_id)",
          "new_line_content": "    syscall(SC_sync);",
          "content_same": false
        },
        {
          "line": 577,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_set_process_icon, icon_id)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_set_process_icon, icon_id);",
          "content_same": false
        },
        {
          "line": 578,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "char* getlogin()",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 584,
          "old_api": null,
          "new_api": "getuid",
          "old_text": null,
          "new_text": "getuid()",
          "old_line_content": "        return __getlogin_buffer;",
          "new_line_content": "    if (auto* passwd = getpwuid(getuid())) {",
          "content_same": false
        },
        {
          "line": 585,
          "old_api": null,
          "new_api": "strncpy",
          "old_text": null,
          "new_text": "strncpy(__getlogin_buffer, passwd->pw_name, sizeof(__getlogin_buffer) - 1)",
          "old_line_content": "    }",
          "new_line_content": "        strncpy(__getlogin_buffer, passwd->pw_name, sizeof(__getlogin_buffer) - 1);",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": null,
          "new_api": "endpwent",
          "old_text": null,
          "new_text": "endpwent()",
          "old_line_content": "",
          "new_line_content": "    endpwent();",
          "content_same": false
        },
        {
          "line": 595,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_ftruncate, fd, length)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_ftruncate, fd, length);",
          "content_same": false
        },
        {
          "line": 596,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "int truncate(const char* path, off_t length)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 604,
          "old_api": null,
          "new_api": "ftruncate",
          "old_text": null,
          "new_text": "ftruncate(fd, length)",
          "old_line_content": "        return close_rc;",
          "new_line_content": "    int rc = ftruncate(fd, length);",
          "content_same": false
        },
        {
          "line": 606,
          "old_api": null,
          "new_api": "close",
          "old_text": null,
          "new_text": "close(fd)",
          "old_line_content": "    return rc;",
          "new_line_content": "    if (int close_rc = close(fd); close_rc < 0)",
          "content_same": false
        },
        {
          "line": 616,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_gettid)",
          "old_line_content": "int donate(int tid)",
          "new_line_content": "        cached_tid = syscall(SC_gettid);",
          "content_same": false
        },
        {
          "line": 625,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "}",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 635,
          "old_api": null,
          "new_api": "UNUSED_PARAM",
          "old_text": null,
          "new_text": "UNUSED_PARAM(fd)",
          "old_line_content": "{",
          "new_line_content": "    UNUSED_PARAM(fd);",
          "content_same": false
        },
        {
          "line": 648,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_reboot)",
          "old_line_content": "    if (!target || !fs_type) {",
          "new_line_content": "    int rc = syscall(SC_reboot);",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "        errno = EFAULT;",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(target)",
          "old_line_content": "}",
          "new_line_content": "        { target, strlen(target) },",
          "content_same": false
        },
        {
          "line": 662,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(fs_type)",
          "old_line_content": "",
          "new_line_content": "        { fs_type, strlen(fs_type) },",
          "content_same": false
        },
        {
          "line": 672,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "}",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 683,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "}",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 688,
          "old_api": null,
          "new_api": "chroot_with_mount_flags",
          "old_text": null,
          "new_text": "chroot_with_mount_flags(path, -1)",
          "old_line_content": "        errno = EFAULT;",
          "new_line_content": "    return chroot_with_mount_flags(path, -1);",
          "content_same": false
        },
        {
          "line": 697,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(path)",
          "old_line_content": "    Syscall::SC_pledge_params params {",
          "new_line_content": "    int rc = syscall(SC_chroot, path, strlen(path), mount_flags);",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(promises)",
          "old_line_content": "",
          "new_line_content": "        { promises, promises ? strlen(promises) : 0 },",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(execpromises)",
          "old_line_content": "int unveil(const char* path, const char* permissions)",
          "new_line_content": "        { execpromises, execpromises ? strlen(execpromises) : 0 }",
          "content_same": false
        },
        {
          "line": 707,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_pledge, &params)",
          "old_line_content": "    Syscall::SC_unveil_params params {",
          "new_line_content": "    int rc = syscall(SC_pledge, &params);",
          "content_same": false
        },
        {
          "line": 714,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(path)",
          "old_line_content": "",
          "new_line_content": "        { path, path ? strlen(path) : 0 },",
          "content_same": false
        },
        {
          "line": 715,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(permissions)",
          "old_line_content": "ssize_t pread(int fd, void* buf, size_t count, off_t offset)",
          "new_line_content": "        { permissions, permissions ? strlen(permissions) : 0 }",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_unveil, &params)",
          "old_line_content": "    // FIXME: This is not thread safe and should be implemented in the kernel instead.",
          "new_line_content": "    int rc = syscall(SC_unveil, &params);",
          "content_same": false
        },
        {
          "line": 207,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_getpid)",
          "old_line_content": "    return s_cached_pid;",
          "new_line_content": "        cached_pid = syscall(SC_getpid);",
          "content_same": false
        },
        {
          "line": 724,
          "old_api": null,
          "new_api": "lseek",
          "old_text": null,
          "new_text": "lseek(fd, 0, SEEK_CUR)",
          "old_line_content": "",
          "new_line_content": "    off_t old_offset = lseek(fd, 0, SEEK_CUR);",
          "content_same": false
        },
        {
          "line": 725,
          "old_api": null,
          "new_api": "lseek",
          "old_text": null,
          "new_text": "lseek(fd, offset, SEEK_SET)",
          "old_line_content": "char* getpass(const char* prompt)",
          "new_line_content": "    lseek(fd, offset, SEEK_SET);",
          "content_same": false
        },
        {
          "line": 726,
          "old_api": null,
          "new_api": "read",
          "old_text": null,
          "new_text": "read(fd, buf, count)",
          "old_line_content": "{",
          "new_line_content": "    ssize_t nread = read(fd, buf, count);",
          "content_same": false
        },
        {
          "line": 215,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_getppid)",
          "old_line_content": "int getresuid(uid_t* ruid, uid_t* euid, uid_t* suid)",
          "new_line_content": "    return syscall(SC_getppid);",
          "content_same": false
        },
        {
          "line": 220,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_getresuid, ruid, euid, suid)",
          "old_line_content": "int getresgid(gid_t* rgid, gid_t* egid, gid_t* sgid)",
          "new_line_content": "    return syscall(SC_getresuid, ruid, euid, suid);",
          "content_same": false
        },
        {
          "line": 225,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_getresgid, rgid, egid, sgid)",
          "old_line_content": "pid_t getsid(pid_t pid)",
          "new_line_content": "    return syscall(SC_getresgid, rgid, egid, sgid);",
          "content_same": false
        },
        {
          "line": 739,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_sysconf, name)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_sysconf, name);",
          "content_same": false
        },
        {
          "line": 740,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 230,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_getsid, pid)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_getsid, pid);",
          "content_same": false
        },
        {
          "line": 231,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "pid_t setsid()",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 236,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_setsid)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_setsid);",
          "content_same": false
        },
        {
          "line": 237,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "pid_t tcgetpgrp(int fd)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 242,
          "old_api": null,
          "new_api": "ioctl",
          "old_text": null,
          "new_text": "ioctl(fd, TIOCGPGRP)",
          "old_line_content": "int tcsetpgrp(int fd, pid_t pgid)",
          "new_line_content": "    return ioctl(fd, TIOCGPGRP);",
          "content_same": false
        },
        {
          "line": 247,
          "old_api": null,
          "new_api": "ioctl",
          "old_text": null,
          "new_text": "ioctl(fd, TIOCSPGRP, pgid)",
          "old_line_content": "int setpgid(pid_t pid, pid_t pgid)",
          "new_line_content": "    return ioctl(fd, TIOCSPGRP, pgid);",
          "content_same": false
        },
        {
          "line": 252,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_setpgid, pid, pgid)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_setpgid, pid, pgid);",
          "content_same": false
        },
        {
          "line": 253,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "pid_t getpgid(pid_t pid)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 258,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_getpgid, pid)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_getpgid, pid);",
          "content_same": false
        },
        {
          "line": 259,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "pid_t getpgrp()",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 264,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_getpgrp)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_getpgrp);",
          "content_same": false
        },
        {
          "line": 265,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "ssize_t read(int fd, void* buf, size_t count)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 270,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_read, fd, buf, count)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_read, fd, buf, count);",
          "content_same": false
        },
        {
          "line": 271,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "ssize_t write(int fd, const void* buf, size_t count)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 276,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_write, fd, buf, count)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_write, fd, buf, count);",
          "content_same": false
        },
        {
          "line": 277,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "int ttyname_r(int fd, char* buffer, size_t size)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 282,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_ttyname_r, fd, buffer, size)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_ttyname_r, fd, buffer, size);",
          "content_same": false
        },
        {
          "line": 283,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "static char ttyname_buf[32];",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 289,
          "old_api": null,
          "new_api": "ttyname_r",
          "old_text": null,
          "new_text": "ttyname_r(fd, ttyname_buf, sizeof(ttyname_buf))",
          "old_line_content": "}",
          "new_line_content": "    if (ttyname_r(fd, ttyname_buf, sizeof(ttyname_buf)) < 0)",
          "content_same": false
        },
        {
          "line": 296,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_close, fd)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_close, fd);",
          "content_same": false
        },
        {
          "line": 297,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "static int do_stat(const char* path, struct stat* statbuf, bool follow_symlinks)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 306,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(path)",
          "old_line_content": "}",
          "new_line_content": "    Syscall::SC_stat_params params { { path, strlen(path) }, statbuf, follow_symlinks };",
          "content_same": false
        },
        {
          "line": 307,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_stat, &params)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_stat, &params);",
          "content_same": false
        },
        {
          "line": 308,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "int lstat(const char* path, struct stat* statbuf)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 313,
          "old_api": null,
          "new_api": "do_stat",
          "old_text": null,
          "new_text": "do_stat(path, statbuf, false)",
          "old_line_content": "int stat(const char* path, struct stat* statbuf)",
          "new_line_content": "    return do_stat(path, statbuf, false);",
          "content_same": false
        },
        {
          "line": 318,
          "old_api": null,
          "new_api": "do_stat",
          "old_text": null,
          "new_text": "do_stat(path, statbuf, true)",
          "old_line_content": "int fstat(int fd, struct stat* statbuf)",
          "new_line_content": "    return do_stat(path, statbuf, true);",
          "content_same": false
        },
        {
          "line": 323,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_fstat, fd, statbuf)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_fstat, fd, statbuf);",
          "content_same": false
        },
        {
          "line": 324,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "int chdir(const char* path)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 333,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(path)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_chdir, path, strlen(path));",
          "content_same": false
        },
        {
          "line": 334,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "int fchdir(int fd)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 339,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_fchdir, fd)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_fchdir, fd);",
          "content_same": false
        },
        {
          "line": 340,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "char* getcwd(char* buffer, size_t size)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 349,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_getcwd, buffer, size)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_getcwd, buffer, size);",
          "content_same": false
        },
        {
          "line": 350,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, buffer, nullptr)",
          "old_line_content": "char* getwd(char* buf)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, buffer, nullptr);",
          "content_same": false
        },
        {
          "line": 355,
          "old_api": null,
          "new_api": "getcwd",
          "old_text": null,
          "new_text": "getcwd(buf, PATH_MAX)",
          "old_line_content": "",
          "new_line_content": "    auto* p = getcwd(buf, PATH_MAX);",
          "content_same": false
        },
        {
          "line": 361,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_sleep, seconds)",
          "old_line_content": "int usleep(useconds_t usec)",
          "new_line_content": "    return syscall(SC_sleep, seconds);",
          "content_same": false
        },
        {
          "line": 366,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_usleep, usec)",
          "old_line_content": "int gethostname(char* buffer, size_t size)",
          "new_line_content": "    return syscall(SC_usleep, usec);",
          "content_same": false
        },
        {
          "line": 371,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_gethostname, buffer, size)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_gethostname, buffer, size);",
          "content_same": false
        },
        {
          "line": 372,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "int sethostname(const char* hostname, ssize_t size)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 377,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_sethostname, hostname, size)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_sethostname, hostname, size);",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "ssize_t readlink(const char* path, char* buffer, size_t size)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 384,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_readlink, &params)",
          "old_line_content": "}",
          "new_line_content": "    int rc = syscall(SC_readlink, &params);",
          "content_same": false
        },
        {
          "line": 386,
          "old_api": null,
          "new_api": "min",
          "old_text": null,
          "new_text": "min((size_t)rc, size)",
          "old_line_content": "off_t lseek(int fd, off_t offset, int whence)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, min((size_t)rc, size), -1);",
          "content_same": false
        },
        {
          "line": 391,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_lseek, fd, offset, whence)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_lseek, fd, offset, whence);",
          "content_same": false
        },
        {
          "line": 392,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "int link(const char* old_path, const char* new_path)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 401,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(new_path)",
          "old_line_content": "}",
          "new_line_content": "    Syscall::SC_link_params params { { old_path, strlen(old_path) }, { new_path, strlen(new_path) } };",
          "content_same": false
        },
        {
          "line": 402,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_link, &params)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_link, &params);",
          "content_same": false
        },
        {
          "line": 403,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "int unlink(const char* pathname)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 408,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(pathname)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_unlink, pathname, strlen(pathname));",
          "content_same": false
        },
        {
          "line": 409,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "int symlink(const char* target, const char* linkpath)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 418,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(linkpath)",
          "old_line_content": "}",
          "new_line_content": "    Syscall::SC_symlink_params params { { target, strlen(target) }, { linkpath, strlen(linkpath) } };",
          "content_same": false
        },
        {
          "line": 419,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_symlink, &params)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_symlink, &params);",
          "content_same": false
        },
        {
          "line": 420,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "int rmdir(const char* pathname)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(pathname)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_rmdir, pathname, strlen(pathname));",
          "content_same": false
        },
        {
          "line": 430,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "int isatty(int fd)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 435,
          "old_api": null,
          "new_api": "fcntl",
          "old_text": null,
          "new_text": "fcntl(fd, F_ISTTY)",
          "old_line_content": "int dup(int old_fd)",
          "new_line_content": "    return fcntl(fd, F_ISTTY);",
          "content_same": false
        },
        {
          "line": 440,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_dup, old_fd)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_dup, old_fd);",
          "content_same": false
        },
        {
          "line": 441,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "int dup2(int old_fd, int new_fd)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 446,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_dup2, old_fd, new_fd)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_dup2, old_fd, new_fd);",
          "content_same": false
        },
        {
          "line": 447,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "int setgroups(size_t size, const gid_t* list)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 452,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_setgroups, size, list)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_setgroups, size, list);",
          "content_same": false
        },
        {
          "line": 453,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "int getgroups(int size, gid_t list[])",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 458,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_getgroups, size, list)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_getgroups, size, list);",
          "content_same": false
        },
        {
          "line": 459,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "int pipe(int pipefd[2])",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": null,
          "new_api": "pipe2",
          "old_text": null,
          "new_text": "pipe2(pipefd, 0)",
          "old_line_content": "int pipe2(int pipefd[2], int flags)",
          "new_line_content": "    return pipe2(pipefd, 0);",
          "content_same": false
        },
        {
          "line": 469,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_pipe, pipefd, flags)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_pipe, pipefd, flags);",
          "content_same": false
        },
        {
          "line": 470,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "unsigned int alarm(unsigned int seconds)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 475,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_alarm, seconds)",
          "old_line_content": "int seteuid(uid_t euid)",
          "new_line_content": "    return syscall(SC_alarm, seconds);",
          "content_same": false
        },
        {
          "line": 480,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_seteuid, euid)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_seteuid, euid);",
          "content_same": false
        },
        {
          "line": 481,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "int setegid(gid_t egid)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 486,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_setegid, egid)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_setegid, egid);",
          "content_same": false
        },
        {
          "line": 487,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "int setuid(uid_t uid)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 492,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_setuid, uid)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_setuid, uid);",
          "content_same": false
        },
        {
          "line": 493,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "int setgid(gid_t gid)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 498,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_setgid, gid)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_setgid, gid);",
          "content_same": false
        },
        {
          "line": 499,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "int setresuid(uid_t ruid, uid_t euid, uid_t suid)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 504,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_setresuid, ruid, euid, suid)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_setresuid, ruid, euid, suid);",
          "content_same": false
        },
        {
          "line": 505,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "int setresgid(gid_t rgid, gid_t egid, gid_t sgid)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        },
        {
          "line": 510,
          "old_api": null,
          "new_api": "syscall",
          "old_text": null,
          "new_text": "syscall(SC_setresgid, rgid, egid, sgid)",
          "old_line_content": "",
          "new_line_content": "    int rc = syscall(SC_setresgid, rgid, egid, sgid);",
          "content_same": false
        },
        {
          "line": 511,
          "old_api": null,
          "new_api": "__RETURN_WITH_ERRNO",
          "old_text": null,
          "new_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "old_line_content": "int access(const char* pathname, int mode)",
          "new_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 517,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(pathname)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_access, pathname, strlen(pathname), mode);",
          "new_line_content": "        errno = EFAULT;",
          "content_same": false
        },
        {
          "line": 518,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "        return -1;",
          "content_same": false
        },
        {
          "line": 527,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(pathname)",
          "new_text": null,
          "old_line_content": "    Syscall::SC_mknod_params params { { pathname, strlen(pathname) }, mode, dev };",
          "new_line_content": "        errno = EFAULT;",
          "content_same": false
        },
        {
          "line": 528,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_mknod, &params)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_mknod, &params);",
          "new_line_content": "        return -1;",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 544,
          "old_api": "ASSERT_NOT_REACHED",
          "new_api": null,
          "old_text": "ASSERT_NOT_REACHED()",
          "new_text": null,
          "old_line_content": "    ASSERT_NOT_REACHED();",
          "new_line_content": "        return _POSIX_VDISABLE;",
          "content_same": false
        },
        {
          "line": 558,
          "old_api": "ASSERT_NOT_REACHED",
          "new_api": null,
          "old_text": "ASSERT_NOT_REACHED()",
          "new_text": null,
          "old_line_content": "    ASSERT_NOT_REACHED();",
          "new_line_content": "        return PIPE_BUF;",
          "content_same": false
        },
        {
          "line": 563,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_exit, status)",
          "new_text": null,
          "old_line_content": "    syscall(SC_exit, status);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 564,
          "old_api": "ASSERT_NOT_REACHED",
          "new_api": null,
          "old_text": "ASSERT_NOT_REACHED()",
          "new_text": null,
          "old_line_content": "    ASSERT_NOT_REACHED();",
          "new_line_content": "void _exit(int status)",
          "content_same": false
        },
        {
          "line": 569,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_sync)",
          "new_text": null,
          "old_line_content": "    syscall(SC_sync);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 574,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_set_process_icon, icon_id)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_set_process_icon, icon_id);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 575,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "int set_process_icon(int icon_id)",
          "content_same": false
        },
        {
          "line": 581,
          "old_api": "getuid",
          "new_api": null,
          "old_text": "getuid()",
          "new_text": null,
          "old_line_content": "    if (auto* passwd = getpwuid(getuid())) {",
          "new_line_content": "char* getlogin()",
          "content_same": false
        },
        {
          "line": 582,
          "old_api": "strncpy",
          "new_api": null,
          "old_text": "strncpy(__getlogin_buffer, passwd->pw_name, sizeof(__getlogin_buffer) - 1)",
          "new_text": null,
          "old_line_content": "        strncpy(__getlogin_buffer, passwd->pw_name, sizeof(__getlogin_buffer) - 1);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 583,
          "old_api": "endpwent",
          "new_api": null,
          "old_text": "endpwent()",
          "new_text": null,
          "old_line_content": "        endpwent();",
          "new_line_content": "    static char __getlogin_buffer[256];",
          "content_same": false
        },
        {
          "line": 592,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_ftruncate, fd, length)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_ftruncate, fd, length);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 593,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "int ftruncate(int fd, off_t length)",
          "content_same": false
        },
        {
          "line": 598,
          "old_api": "open",
          "new_api": null,
          "old_text": "open(path, O_RDWR | O_CREAT, 0666)",
          "new_text": null,
          "old_line_content": "    int fd = open(path, O_RDWR | O_CREAT, 0666);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 603,
          "old_api": "close",
          "new_api": null,
          "old_text": "close(fd)",
          "new_text": null,
          "old_line_content": "    if (int close_rc = close(fd); close_rc < 0)",
          "new_line_content": "        return fd;",
          "content_same": false
        },
        {
          "line": 612,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_gettid)",
          "new_text": null,
          "old_line_content": "        s_cached_tid = syscall(SC_gettid);",
          "new_line_content": "int gettid()",
          "content_same": false
        },
        {
          "line": 618,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_donate, tid)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_donate, tid);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 619,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "    return cached_tid;",
          "content_same": false
        },
        {
          "line": 629,
          "old_api": "UNUSED_PARAM",
          "new_api": null,
          "old_text": "UNUSED_PARAM(fd)",
          "new_text": null,
          "old_line_content": "    UNUSED_PARAM(fd);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 655,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(target)",
          "new_text": null,
          "old_line_content": "        { target, strlen(target) },",
          "new_line_content": "        errno = EFAULT;",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(fs_type)",
          "new_text": null,
          "old_line_content": "        { fs_type, strlen(fs_type) },",
          "new_line_content": "        return -1;",
          "content_same": false
        },
        {
          "line": 659,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_mount, &params)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_mount, &params);",
          "new_line_content": "    Syscall::SC_mount_params params {",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "        source_fd,",
          "content_same": false
        },
        {
          "line": 676,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_get_process_name, buffer, buffer_size)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_get_process_name, buffer, buffer_size);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(path)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_chroot, path, strlen(path), mount_flags);",
          "new_line_content": "int chroot_with_mount_flags(const char* path, int mount_flags)",
          "content_same": false
        },
        {
          "line": 692,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 699,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(execpromises)",
          "new_text": null,
          "old_line_content": "        { execpromises, execpromises ? strlen(execpromises) : 0 }",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 701,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_pledge, &params)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_pledge, &params);",
          "new_line_content": "int pledge(const char* promises, const char* execpromises)",
          "content_same": false
        },
        {
          "line": 702,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 709,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(permissions)",
          "new_text": null,
          "old_line_content": "        { permissions, permissions ? strlen(permissions) : 0 }",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 711,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_unveil, &params)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_unveil, &params);",
          "new_line_content": "int unveil(const char* path, const char* permissions)",
          "content_same": false
        },
        {
          "line": 712,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 206,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_getpid)",
          "new_text": null,
          "old_line_content": "        s_cached_pid = syscall(SC_getpid);",
          "new_line_content": "    if (!cached_pid) {",
          "content_same": false
        },
        {
          "line": 719,
          "old_api": "lseek",
          "new_api": null,
          "old_text": "lseek(fd, offset, SEEK_SET)",
          "new_text": null,
          "old_line_content": "    lseek(fd, offset, SEEK_SET);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 720,
          "old_api": "read",
          "new_api": null,
          "old_text": "read(fd, buf, count)",
          "new_text": null,
          "old_line_content": "    ssize_t nread = read(fd, buf, count);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 721,
          "old_api": "lseek",
          "new_api": null,
          "old_text": "lseek(fd, old_offset, SEEK_SET)",
          "new_text": null,
          "old_line_content": "    lseek(fd, old_offset, SEEK_SET);",
          "new_line_content": "ssize_t pread(int fd, void* buf, size_t count, off_t offset)",
          "content_same": false
        },
        {
          "line": 212,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_getppid)",
          "new_text": null,
          "old_line_content": "    return syscall(SC_getppid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 728,
          "old_api": "ASSERT_NOT_REACHED",
          "new_api": null,
          "old_text": "ASSERT_NOT_REACHED()",
          "new_text": null,
          "old_line_content": "    ASSERT_NOT_REACHED();",
          "new_line_content": "    return nread;",
          "content_same": false
        },
        {
          "line": 217,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_getresuid, ruid, euid, suid)",
          "new_text": null,
          "old_line_content": "    return syscall(SC_getresuid, ruid, euid, suid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 222,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_getresgid, rgid, egid, sgid)",
          "new_text": null,
          "old_line_content": "    return syscall(SC_getresgid, rgid, egid, sgid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 227,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_getsid, pid)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_getsid, pid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 228,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "pid_t getsid(pid_t pid)",
          "content_same": false
        },
        {
          "line": 233,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_setsid)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_setsid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 234,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "pid_t setsid()",
          "content_same": false
        },
        {
          "line": 239,
          "old_api": "ioctl",
          "new_api": null,
          "old_text": "ioctl(fd, TIOCGPGRP)",
          "new_text": null,
          "old_line_content": "    return ioctl(fd, TIOCGPGRP);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 244,
          "old_api": "ioctl",
          "new_api": null,
          "old_text": "ioctl(fd, TIOCSPGRP, pgid)",
          "new_text": null,
          "old_line_content": "    return ioctl(fd, TIOCSPGRP, pgid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 249,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_setpgid, pid, pgid)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_setpgid, pid, pgid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 250,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "int setpgid(pid_t pid, pid_t pgid)",
          "content_same": false
        },
        {
          "line": 255,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_getpgid, pid)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_getpgid, pid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 256,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "pid_t getpgid(pid_t pid)",
          "content_same": false
        },
        {
          "line": 261,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_getpgrp)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_getpgrp);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 262,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "pid_t getpgrp()",
          "content_same": false
        },
        {
          "line": 267,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_read, fd, buf, count)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_read, fd, buf, count);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 268,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "ssize_t read(int fd, void* buf, size_t count)",
          "content_same": false
        },
        {
          "line": 273,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_write, fd, buf, count)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_write, fd, buf, count);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 274,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "ssize_t write(int fd, const void* buf, size_t count)",
          "content_same": false
        },
        {
          "line": 279,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_ttyname_r, fd, buffer, size)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_ttyname_r, fd, buffer, size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 280,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "int ttyname_r(int fd, char* buffer, size_t size)",
          "content_same": false
        },
        {
          "line": 286,
          "old_api": "ttyname_r",
          "new_api": null,
          "old_text": "ttyname_r(fd, ttyname_buf, sizeof(ttyname_buf))",
          "new_text": null,
          "old_line_content": "    if (ttyname_r(fd, ttyname_buf, sizeof(ttyname_buf)) < 0)",
          "new_line_content": "static char ttyname_buf[32];",
          "content_same": false
        },
        {
          "line": 293,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_close, fd)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_close, fd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 294,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "int close(int fd)",
          "content_same": false
        },
        {
          "line": 303,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(path)",
          "new_text": null,
          "old_line_content": "    Syscall::SC_stat_params params { { path, strlen(path) }, statbuf, follow_symlinks };",
          "new_line_content": "        errno = EFAULT;",
          "content_same": false
        },
        {
          "line": 304,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_stat, &params)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_stat, &params);",
          "new_line_content": "        return -1;",
          "content_same": false
        },
        {
          "line": 305,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 310,
          "old_api": "do_stat",
          "new_api": null,
          "old_text": "do_stat(path, statbuf, false)",
          "new_text": null,
          "old_line_content": "    return do_stat(path, statbuf, false);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 315,
          "old_api": "do_stat",
          "new_api": null,
          "old_text": "do_stat(path, statbuf, true)",
          "new_text": null,
          "old_line_content": "    return do_stat(path, statbuf, true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 320,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_fstat, fd, statbuf)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_fstat, fd, statbuf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 321,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "int fstat(int fd, struct stat* statbuf)",
          "content_same": false
        },
        {
          "line": 330,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(path)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_chdir, path, strlen(path));",
          "new_line_content": "        errno = EFAULT;",
          "content_same": false
        },
        {
          "line": 331,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "        return -1;",
          "content_same": false
        },
        {
          "line": 336,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_fchdir, fd)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_fchdir, fd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 337,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "int fchdir(int fd)",
          "content_same": false
        },
        {
          "line": 344,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(size)",
          "new_text": null,
          "old_line_content": "        buffer = (char*)malloc(size);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 346,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_getcwd, buffer, size)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_getcwd, buffer, size);",
          "new_line_content": "        size = size ? size : PATH_MAX;",
          "content_same": false
        },
        {
          "line": 352,
          "old_api": "getcwd",
          "new_api": null,
          "old_text": "getcwd(buf, PATH_MAX)",
          "new_text": null,
          "old_line_content": "    auto* p = getcwd(buf, PATH_MAX);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 358,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_sleep, seconds)",
          "new_text": null,
          "old_line_content": "    return syscall(SC_sleep, seconds);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 363,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_usleep, usec)",
          "new_text": null,
          "old_line_content": "    return syscall(SC_usleep, usec);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 368,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_gethostname, buffer, size)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_gethostname, buffer, size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 369,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "int gethostname(char* buffer, size_t size)",
          "content_same": false
        },
        {
          "line": 374,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_sethostname, hostname, size)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_sethostname, hostname, size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "int sethostname(const char* hostname, ssize_t size)",
          "content_same": false
        },
        {
          "line": 380,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(path)",
          "new_text": null,
          "old_line_content": "    Syscall::SC_readlink_params params { { path, strlen(path) }, { buffer, size } };",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 381,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_readlink, &params)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_readlink, &params);",
          "new_line_content": "ssize_t readlink(const char* path, char* buffer, size_t size)",
          "content_same": false
        },
        {
          "line": 388,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_lseek, fd, offset, whence)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_lseek, fd, offset, whence);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 389,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "off_t lseek(int fd, off_t offset, int whence)",
          "content_same": false
        },
        {
          "line": 398,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(new_path)",
          "new_text": null,
          "old_line_content": "    Syscall::SC_link_params params { { old_path, strlen(old_path) }, { new_path, strlen(new_path) } };",
          "new_line_content": "        errno = EFAULT;",
          "content_same": false
        },
        {
          "line": 399,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_link, &params)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_link, &params);",
          "new_line_content": "        return -1;",
          "content_same": false
        },
        {
          "line": 400,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 405,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(pathname)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_unlink, pathname, strlen(pathname));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 406,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "int unlink(const char* pathname)",
          "content_same": false
        },
        {
          "line": 415,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(linkpath)",
          "new_text": null,
          "old_line_content": "    Syscall::SC_symlink_params params { { target, strlen(target) }, { linkpath, strlen(linkpath) } };",
          "new_line_content": "        errno = EFAULT;",
          "content_same": false
        },
        {
          "line": 416,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_symlink, &params)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_symlink, &params);",
          "new_line_content": "        return -1;",
          "content_same": false
        },
        {
          "line": 417,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 426,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(pathname)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_rmdir, pathname, strlen(pathname));",
          "new_line_content": "        errno = EFAULT;",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "        return -1;",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": "fcntl",
          "new_api": null,
          "old_text": "fcntl(fd, F_ISTTY)",
          "new_text": null,
          "old_line_content": "    return fcntl(fd, F_ISTTY);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 437,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_dup, old_fd)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_dup, old_fd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 438,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "int dup(int old_fd)",
          "content_same": false
        },
        {
          "line": 443,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_dup2, old_fd, new_fd)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_dup2, old_fd, new_fd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 444,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "int dup2(int old_fd, int new_fd)",
          "content_same": false
        },
        {
          "line": 449,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_setgroups, size, list)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_setgroups, size, list);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 450,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "int setgroups(size_t size, const gid_t* list)",
          "content_same": false
        },
        {
          "line": 455,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_getgroups, size, list)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_getgroups, size, list);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "int getgroups(int size, gid_t list[])",
          "content_same": false
        },
        {
          "line": 461,
          "old_api": "pipe2",
          "new_api": null,
          "old_text": "pipe2(pipefd, 0)",
          "new_text": null,
          "old_line_content": "    return pipe2(pipefd, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 466,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_pipe, pipefd, flags)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_pipe, pipefd, flags);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 467,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "int pipe2(int pipefd[2], int flags)",
          "content_same": false
        },
        {
          "line": 472,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_alarm, seconds)",
          "new_text": null,
          "old_line_content": "    return syscall(SC_alarm, seconds);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 477,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_seteuid, euid)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_seteuid, euid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 478,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "int seteuid(uid_t euid)",
          "content_same": false
        },
        {
          "line": 483,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_setegid, egid)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_setegid, egid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 484,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "int setegid(gid_t egid)",
          "content_same": false
        },
        {
          "line": 489,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_setuid, uid)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_setuid, uid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 490,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "int setuid(uid_t uid)",
          "content_same": false
        },
        {
          "line": 495,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_setgid, gid)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_setgid, gid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 496,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "int setgid(gid_t gid)",
          "content_same": false
        },
        {
          "line": 501,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_setresuid, ruid, euid, suid)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_setresuid, ruid, euid, suid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 502,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "int setresuid(uid_t ruid, uid_t euid, uid_t suid)",
          "content_same": false
        },
        {
          "line": 507,
          "old_api": "syscall",
          "new_api": null,
          "old_text": "syscall(SC_setresgid, rgid, egid, sgid)",
          "new_text": null,
          "old_line_content": "    int rc = syscall(SC_setresgid, rgid, egid, sgid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 508,
          "old_api": "__RETURN_WITH_ERRNO",
          "new_api": null,
          "old_text": "__RETURN_WITH_ERRNO(rc, rc, -1)",
          "new_text": null,
          "old_line_content": "    __RETURN_WITH_ERRNO(rc, rc, -1);",
          "new_line_content": "int setresgid(gid_t rgid, gid_t egid, gid_t sgid)",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 15,
      "total_additions": 125,
      "total_deletions": 125,
      "total_api_changes": 265
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 15,
        "api_related_lines": 265,
        "non_api_lines": 9,
        "non_api_line_numbers": [
          611,
          613,
          614,
          615,
          617,
          205,
          208,
          209,
          210
        ]
      }
    },
    "api_calls_before": 211,
    "api_calls_after": 211,
    "diff_info": {
      "added_lines": 12,
      "removed_lines": 6,
      "total_diff_lines": 37
    }
  }
}