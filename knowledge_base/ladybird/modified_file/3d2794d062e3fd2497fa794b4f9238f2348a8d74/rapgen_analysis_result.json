{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/3d2794d062e3fd2497fa794b4f9238f2348a8d74",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/3d2794d062e3fd2497fa794b4f9238f2348a8d74/before.h",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/3d2794d062e3fd2497fa794b4f9238f2348a8d74/after.h",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/3d2794d062e3fd2497fa794b4f9238f2348a8d74/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 446,
          "old_api": "kind",
          "new_api": "is_integral_number",
          "old_text": "typed_array.kind()",
          "new_text": "value.is_integral_number()",
          "old_line_content": "            switch (typed_array.kind()) {",
          "new_line_content": "            if (typed_array.kind() == TypedArrayBase::Kind::Uint32Array && value.is_integral_number()) {",
          "content_same": false
        },
        {
          "line": 466,
          "old_api": "has_value",
          "new_api": "to_property_key",
          "old_text": "cache.has_value()",
          "new_text": "property_key_value.to_property_key(vm)",
          "old_line_content": "    if (cache.has_value()) {",
          "new_line_content": "    auto property_key = kind != Op::PropertyKind::Spread ? TRY(property_key_value.to_property_key(vm)) : PropertyKey {};",
          "content_same": false
        },
        {
          "line": 467,
          "old_api": "running_execution_context",
          "new_api": "put_by_property_key",
          "old_text": "vm.running_execution_context()",
          "new_text": "put_by_property_key(vm, base, base, value, property_key, kind)",
          "old_line_content": "        auto environment = vm.running_execution_context().lexical_environment;",
          "new_line_content": "    TRY(put_by_property_key(vm, base, base, value, property_key, kind));",
          "content_same": false
        },
        {
          "line": 473,
          "old_api": "in_strict_mode",
          "new_api": "vm",
          "old_text": "vm.in_strict_mode()",
          "new_text": "interpreter.vm()",
          "old_line_content": "            return TRY(verify_cast<DeclarativeEnvironment>(*environment).get_binding_value_direct(vm, cache.value().index, vm.in_strict_mode()));",
          "new_line_content": "    auto& vm = interpreter.vm();",
          "content_same": false
        },
        {
          "line": 478,
          "old_api": "resolve_binding",
          "new_api": "outer_environment",
          "old_text": "vm.resolve_binding(name)",
          "new_text": "environment->outer_environment()",
          "old_line_content": "    auto reference = TRY(vm.resolve_binding(name));",
          "new_line_content": "            environment = environment->outer_environment();",
          "content_same": false
        },
        {
          "line": 479,
          "old_api": "environment_coordinate",
          "new_api": "VERIFY",
          "old_text": "reference.environment_coordinate().has_value()",
          "new_text": "VERIFY(environment)",
          "old_line_content": "    if (reference.environment_coordinate().has_value())",
          "new_line_content": "        VERIFY(environment);",
          "content_same": false
        },
        {
          "line": 480,
          "old_api": "environment_coordinate",
          "new_api": "is_declarative_environment",
          "old_text": "reference.environment_coordinate()",
          "new_text": "environment->is_declarative_environment()",
          "old_line_content": "        cache = reference.environment_coordinate();",
          "new_line_content": "        VERIFY(environment->is_declarative_environment());",
          "content_same": false
        },
        {
          "line": 481,
          "old_api": "get_value",
          "new_api": "is_permanently_screwed_by_eval",
          "old_text": "reference.get_value(vm)",
          "new_text": "environment->is_permanently_screwed_by_eval()",
          "old_line_content": "    return TRY(reference.get_value(vm));",
          "new_line_content": "        if (!environment->is_permanently_screwed_by_eval()) {",
          "content_same": false
        },
        {
          "line": 500,
          "old_api": "VERIFY",
          "new_api": "vm",
          "old_text": "VERIFY(environment)",
          "new_text": "interpreter.vm()",
          "old_line_content": "        VERIFY(environment);",
          "new_line_content": "    auto& vm = interpreter.vm();",
          "content_same": false
        },
        {
          "line": 502,
          "old_api": "is_permanently_screwed_by_eval",
          "new_api": "js_undefined",
          "old_text": "environment->is_permanently_screwed_by_eval()",
          "new_text": "js_undefined()",
          "old_line_content": "        if (!environment->is_permanently_screwed_by_eval()) {",
          "new_line_content": "    Value callee = js_undefined();",
          "content_same": false
        },
        {
          "line": 503,
          "old_api": "in_strict_mode",
          "new_api": "js_undefined",
          "old_text": "vm.in_strict_mode()",
          "new_text": "js_undefined()",
          "old_line_content": "            callee = TRY(verify_cast<DeclarativeEnvironment>(*environment).get_binding_value_direct(vm, cache.value().index, vm.in_strict_mode()));",
          "new_line_content": "    Value this_value = js_undefined();",
          "content_same": false
        },
        {
          "line": 505,
          "old_api": "with_base_object",
          "new_api": "has_value",
          "old_text": "environment->with_base_object()",
          "new_text": "cache.has_value()",
          "old_line_content": "            if (auto base_object = environment->with_base_object())",
          "new_line_content": "    if (cache.has_value()) {",
          "content_same": false
        },
        {
          "line": 524,
          "old_api": "is_environment_reference",
          "new_api": "resolve_binding",
          "old_text": "reference.is_environment_reference()",
          "new_text": "vm.resolve_binding(name)",
          "old_line_content": "        if (reference.is_environment_reference()) {",
          "new_line_content": "    auto reference = TRY(vm.resolve_binding(name));",
          "content_same": false
        },
        {
          "line": 525,
          "old_api": "base_environment",
          "new_api": "environment_coordinate",
          "old_text": "reference.base_environment().with_base_object()",
          "new_text": "reference.environment_coordinate().has_value()",
          "old_line_content": "            if (auto base_object = reference.base_environment().with_base_object(); base_object != nullptr)",
          "new_line_content": "    if (reference.environment_coordinate().has_value())",
          "content_same": false
        },
        {
          "line": 571,
          "old_api": "release_value",
          "new_api": "heap",
          "old_text": "maybe_value.release_value()",
          "new_text": "vm.heap()",
          "old_line_content": "            argument_values.append(maybe_value.release_value().value);",
          "new_line_content": "    MarkedVector<Value> argument_values { vm.heap() };",
          "content_same": false
        },
        {
          "line": 573,
          "old_api": "js_undefined",
          "new_api": "as_array",
          "old_text": "js_undefined()",
          "new_text": "arguments.as_array()",
          "old_line_content": "            argument_values.append(js_undefined());",
          "new_line_content": "    auto& argument_array = arguments.as_array();",
          "content_same": false
        },
        {
          "line": 582,
          "old_api": "VERIFY",
          "new_api": "js_undefined",
          "old_text": "VERIFY(!is_global)",
          "new_text": "js_undefined()",
          "old_line_content": "        VERIFY(!is_global);",
          "new_line_content": "            argument_values.append(js_undefined());",
          "content_same": false
        },
        {
          "line": 591,
          "old_api": "lexical_environment",
          "new_api": "VERIFY",
          "old_text": "vm.lexical_environment()->create_mutable_binding(vm, name, is_strict)",
          "new_text": "VERIFY(!is_global)",
          "old_line_content": "        return vm.lexical_environment()->create_mutable_binding(vm, name, is_strict);",
          "new_line_content": "        VERIFY(!is_global);",
          "content_same": false
        },
        {
          "line": 596,
          "old_api": "variable_environment",
          "new_api": "String::formatted(\"Lexical environment already has binding '{}'\", name)",
          "old_text": "vm.variable_environment()->create_immutable_binding(vm, name, is_strict)",
          "new_text": "String::formatted(\"Lexical environment already has binding '{}'\", name)",
          "old_line_content": "            return vm.variable_environment()->create_immutable_binding(vm, name, is_strict);",
          "new_line_content": "            return vm.throw_completion<InternalError>(TRY_OR_THROW_OOM(vm, String::formatted(\"Lexical environment already has binding '{}'\", name)));",
          "content_same": false
        },
        {
          "line": 611,
          "old_api": "lexical_environment",
          "new_api": "variable_environment",
          "old_text": "vm.lexical_environment()",
          "new_text": "vm.variable_environment()",
          "old_line_content": "    auto* class_environment = vm.lexical_environment();",
          "new_line_content": "    return verify_cast<GlobalEnvironment>(vm.variable_environment())->create_global_var_binding(name, false);",
          "content_same": false
        },
        {
          "line": 616,
          "old_api": "has_value",
          "new_api": "bytecode_interpreter",
          "old_text": "lhs_name.has_value()",
          "new_text": "vm.bytecode_interpreter()",
          "old_line_content": "    if (!class_expression.has_name() && lhs_name.has_value()) {",
          "new_line_content": "    auto& interpreter = vm.bytecode_interpreter();",
          "content_same": false
        },
        {
          "line": 617,
          "old_api": "value",
          "new_api": "name",
          "old_text": "lhs_name.value()",
          "new_text": "class_expression.name()",
          "old_line_content": "        class_name = interpreter.current_executable().get_identifier(lhs_name.value());",
          "new_line_content": "    auto name = class_expression.name();",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": "is_null",
          "new_api": "lexical_environment",
          "old_text": "name.is_null()",
          "new_text": "vm.lexical_environment()",
          "old_line_content": "        class_name = name.is_null() ? \"\"sv : name;",
          "new_line_content": "    auto* class_environment = vm.lexical_environment();",
          "content_same": false
        },
        {
          "line": 639,
          "old_api": "heap",
          "new_api": "get_new_target",
          "old_text": "vm.heap()",
          "new_text": "vm.get_new_target()",
          "old_line_content": "    MarkedVector<Value> arg_list { vm.heap() };",
          "new_line_content": "    auto new_target = vm.get_new_target();",
          "content_same": false
        },
        {
          "line": 642,
          "old_api": "as_object",
          "new_api": "is_object",
          "old_text": "argument_array.as_object()",
          "new_text": "new_target.is_object()",
          "old_line_content": "        auto const& array_value = static_cast<Array const&>(argument_array.as_object());",
          "new_line_content": "    VERIFY(new_target.is_object());",
          "content_same": false
        },
        {
          "line": 645,
          "old_api": "get_without_side_effects",
          "new_api": "get_super_constructor",
          "old_text": "array_value.get_without_side_effects(PropertyKey { i })",
          "new_text": "get_super_constructor(vm)",
          "old_line_content": "            arg_list.append(array_value.get_without_side_effects(PropertyKey { i }));",
          "new_line_content": "    auto* func = get_super_constructor(vm);",
          "content_same": false
        },
        {
          "line": 651,
          "old_api": "is_constructor",
          "new_api": "as_object",
          "old_text": "Value(func).is_constructor()",
          "new_text": "argument_array.as_object()",
          "old_line_content": "    if (!Value(func).is_constructor())",
          "new_line_content": "        auto const& array_value = static_cast<Array const&>(argument_array.as_object());",
          "content_same": false
        },
        {
          "line": 652,
          "old_api": "vm.throw_completion<TypeError>(ErrorType::NotAConstructor, \"Super constructor\")",
          "new_api": "length_of_array_like",
          "old_text": "vm.throw_completion<TypeError>(ErrorType::NotAConstructor, \"Super constructor\")",
          "new_text": "length_of_array_like(vm, array_value)",
          "old_line_content": "        return vm.throw_completion<TypeError>(ErrorType::NotAConstructor, \"Super constructor\");",
          "new_line_content": "        auto length = MUST(length_of_array_like(vm, array_value));",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": "bind_this_value",
          "new_api": "vm.throw_completion<TypeError>(ErrorType::NotAConstructor, \"Super constructor\")",
          "old_text": "this_environment.bind_this_value(vm, result)",
          "new_text": "vm.throw_completion<TypeError>(ErrorType::NotAConstructor, \"Super constructor\")",
          "old_line_content": "    TRY(this_environment.bind_this_value(vm, result));",
          "new_line_content": "        return vm.throw_completion<TypeError>(ErrorType::NotAConstructor, \"Super constructor\");",
          "content_same": false
        },
        {
          "line": 664,
          "old_api": "function_object",
          "new_api": "as_function",
          "old_text": "this_environment.function_object()",
          "new_text": "new_target.as_function()",
          "old_line_content": "    auto& f = this_environment.function_object();",
          "new_line_content": "    auto result = TRY(construct(vm, static_cast<FunctionObject&>(*func), arg_list.span(), &new_target.as_function()));",
          "content_same": false
        },
        {
          "line": 670,
          "old_api": "initialize_instance_elements",
          "new_api": "bind_this_value",
          "old_text": "result->initialize_instance_elements(f)",
          "new_text": "this_environment.bind_this_value(vm, result)",
          "old_line_content": "    TRY(result->initialize_instance_elements(f));",
          "new_line_content": "    TRY(this_environment.bind_this_value(vm, result));",
          "content_same": false
        },
        {
          "line": 763,
          "old_api": "vm",
          "new_api": "current_executable",
          "old_text": "erpreter.vm();\n\n",
          "new_text": "erpreter.current_executable().get_identifier(property);\n ",
          "old_line_content": "    auto& vm = interpreter.vm();",
          "new_line_content": "    auto const& identifier = interpreter.current_executable().get_identifier(property);",
          "content_same": false
        },
        {
          "line": 774,
          "old_api": "vm",
          "new_api": "to_property_key",
          "old_text": "erpreter.vm();\n\n",
          "new_text": "perty_key_value.to_property_key(vm));\n",
          "old_line_content": "    auto& vm = interpreter.vm();",
          "new_line_content": "    auto property_key = TRY(property_key_value.to_property_key(vm));",
          "content_same": false
        },
        {
          "line": 808,
          "old_api": "internal_own_property_keys",
          "new_api": "to_object",
          "old_text": "ect_to_check->internal_own_property_keys())) ",
          "new_text": "ue.to_object(vm));\n",
          "old_line_content": "        for (auto& key : TRY(object_to_check->internal_own_property_keys())) {",
          "new_line_content": "    auto object = TRY(value.to_object(vm));",
          "content_same": false
        },
        {
          "line": 815,
          "old_api": "contains",
          "new_api": "internal_get_prototype_of",
          "old_text": "_enumerable_properties.contains(property_key))\n ",
          "new_text": "ect_to_check->internal_get_prototype_of())) ",
          "old_line_content": "            if (non_enumerable_properties.contains(property_key))",
          "new_line_content": "    for (auto object_to_check = GCPtr { object.ptr() }; object_to_check && !seen_objects.contains(*object_to_check); object_to_check = TRY(object_to_check->internal_get_prototype_of())) {",
          "content_same": false
        },
        {
          "line": 817,
          "old_api": "contains",
          "new_api": "internal_own_property_keys",
          "old_text": "perties.contains(property_key))\n ",
          "new_text": "ect_to_check->internal_own_property_keys())) ",
          "old_line_content": "            if (properties.contains(property_key))",
          "new_line_content": "        for (auto& key : TRY(object_to_check->internal_own_property_keys())) {",
          "content_same": false
        },
        {
          "line": 820,
          "old_api": "internal_get_own_property",
          "new_api": "pertyKey::from_value(vm, key));",
          "old_text": "ect_to_check->internal_get_own_property(property_key));\n",
          "new_text": "pertyKey::from_value(vm, key));\n",
          "old_line_content": "            auto descriptor = TRY(object_to_check->internal_get_own_property(property_key));",
          "new_line_content": "            auto property_key = TRY(PropertyKey::from_value(vm, key));",
          "content_same": false
        },
        {
          "line": 824,
          "old_api": "e",
          "new_api": "contains",
          "old_text": "e(property_key));\n",
          "new_text": "_enumerable_properties.contains(property_key))\n ",
          "old_line_content": "                properties.set(move(property_key));",
          "new_line_content": "            if (non_enumerable_properties.contains(property_key))",
          "content_same": false
        },
        {
          "line": 829,
          "old_api": "current_realm",
          "new_api": "internal_get_own_property",
          "old_text": "current_realm(), [",
          "new_text": "ect_to_check->internal_get_own_property(property_key));\n",
          "old_line_content": "        *vm.current_realm(), [items = move(properties)](VM& vm) mutable -> ThrowCompletionOr<Value> {",
          "new_line_content": "            auto descriptor = TRY(object_to_check->internal_get_own_property(property_key));",
          "content_same": false
        },
        {
          "line": 831,
          "old_api": "this_value",
          "new_api": "e",
          "old_text": "this_value();\n ",
          "new_text": "e(property_key));\n",
          "old_line_content": "            auto iterated_object_value = vm.this_value();",
          "new_line_content": "                non_enumerable_properties.set(move(property_key));",
          "content_same": false
        },
        {
          "line": 833,
          "old_api": "throw_completion<InternalError>(\"Invalid state for GetObjectPropertyIterator.next\"sv);",
          "new_api": "e",
          "old_text": "throw_completion<InternalError>(\"Invalid state for GetObjectPropertyIterator.next\"sv);\n\n",
          "new_text": "e(property_key));\n",
          "old_line_content": "                return vm.throw_completion<InternalError>(\"Invalid state for GetObjectPropertyIterator.next\"sv);",
          "new_line_content": "                properties.set(move(property_key));",
          "content_same": false
        },
        {
          "line": 836,
          "old_api": "ect::create(realm, nullptr);",
          "new_api": "current_realm",
          "old_text": "ect::create(realm, nullptr);\n ",
          "new_text": "current_realm();\n ",
          "old_line_content": "            auto result_object = Object::create(realm, nullptr);",
          "new_line_content": "    auto& realm = *vm.current_realm();",
          "content_same": false
        },
        {
          "line": 838,
          "old_api": "is_empty",
          "new_api": "current_realm",
          "old_text": "ms.is_empty()) {",
          "new_text": "current_realm(), [",
          "old_line_content": "                if (items.is_empty()) {",
          "new_line_content": "        *vm.current_realm(), [items = move(properties)](VM& vm) mutable -> ThrowCompletionOr<Value> {",
          "content_same": false
        },
        {
          "line": 839,
          "old_api": ":Value(true), d",
          "new_api": "current_realm",
          "old_text": ":Value(true), d",
          "new_text": "current_realm();\n ",
          "old_line_content": "                    result_object->define_direct_property(vm.names.done, JS::Value(true), default_attributes);",
          "new_line_content": "            auto& realm = *vm.current_realm();",
          "content_same": false
        },
        {
          "line": 852,
          "old_api": "as_number",
          "new_api": "take_first",
          "old_text": ".as_number())))",
          "new_text": "ms.take_first();\n\n",
          "old_line_content": "                    result_object->define_direct_property(vm.names.value, PrimitiveString::create(vm, TRY_OR_THROW_OOM(vm, String::number(key.as_number()))), default_attributes);",
          "new_line_content": "                auto key = items.take_first();",
          "content_same": false
        },
        {
          "line": 862,
          "old_api": "ptr",
          "new_api": "is_string",
          "old_text": "heap().allocate<IteratorRecord>(realm, realm, object, callback, false).ptr();\n}",
          "new_text": ".is_string())\n ",
          "old_line_content": "    return vm.heap().allocate<IteratorRecord>(realm, realm, object, callback, false).ptr();",
          "new_line_content": "                else if (key.is_string())",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 512,
          "old_api": null,
          "new_api": "in_strict_mode",
          "old_text": null,
          "new_text": "vm.in_strict_mode()",
          "old_line_content": "        cache = {};",
          "new_line_content": "            callee = TRY(verify_cast<DeclarativeEnvironment>(*environment).get_binding_value_direct(vm, cache.value().index, vm.in_strict_mode()));",
          "content_same": false
        },
        {
          "line": 513,
          "old_api": null,
          "new_api": "js_undefined",
          "old_text": null,
          "new_text": "js_undefined()",
          "old_line_content": "    }",
          "new_line_content": "            this_value = js_undefined();",
          "content_same": false
        },
        {
          "line": 514,
          "old_api": null,
          "new_api": "with_base_object",
          "old_text": null,
          "new_text": "environment->with_base_object()",
          "old_line_content": "",
          "new_line_content": "            if (auto base_object = environment->with_base_object())",
          "content_same": false
        },
        {
          "line": 526,
          "old_api": null,
          "new_api": "environment_coordinate",
          "old_text": null,
          "new_text": "reference.environment_coordinate()",
          "old_line_content": "                this_value = base_object;",
          "new_line_content": "        cache = reference.environment_coordinate();",
          "content_same": false
        },
        {
          "line": 528,
          "old_api": null,
          "new_api": "get_value",
          "old_text": null,
          "new_text": "reference.get_value(vm)",
          "old_line_content": "    }",
          "new_line_content": "    callee = TRY(reference.get_value(vm));",
          "content_same": false
        },
        {
          "line": 530,
          "old_api": null,
          "new_api": "is_property_reference",
          "old_text": null,
          "new_text": "reference.is_property_reference()",
          "old_line_content": "    return CalleeAndThis {",
          "new_line_content": "    if (reference.is_property_reference()) {",
          "content_same": false
        },
        {
          "line": 531,
          "old_api": null,
          "new_api": "get_this_value",
          "old_text": null,
          "new_text": "reference.get_this_value()",
          "old_line_content": "        .callee = callee,",
          "new_line_content": "        this_value = reference.get_this_value();",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": null,
          "new_api": "is_environment_reference",
          "old_text": null,
          "new_text": "reference.is_environment_reference()",
          "old_line_content": "    };",
          "new_line_content": "        if (reference.is_environment_reference()) {",
          "content_same": false
        },
        {
          "line": 534,
          "old_api": null,
          "new_api": "base_environment",
          "old_text": null,
          "new_text": "reference.base_environment().with_base_object()",
          "old_line_content": "}",
          "new_line_content": "            if (auto base_object = reference.base_environment().with_base_object(); base_object != nullptr)",
          "content_same": false
        },
        {
          "line": 552,
          "old_api": null,
          "new_api": "current_realm",
          "old_text": null,
          "new_text": "vm.current_realm()",
          "old_line_content": "    return regexp_object;",
          "new_line_content": "    auto& realm = *vm.current_realm();",
          "content_same": false
        },
        {
          "line": 555,
          "old_api": null,
          "new_api": "move",
          "old_text": null,
          "new_text": "move(regex)",
          "old_line_content": "// 13.3.8.1 https://tc39.es/ecma262/#sec-runtime-semantics-argumentlistevaluation",
          "new_line_content": "    auto regexp_object = RegExpObject::create(realm, move(regex), pattern, flags);",
          "content_same": false
        },
        {
          "line": 557,
          "old_api": null,
          "new_api": "set_realm",
          "old_text": null,
          "new_text": "regexp_object->set_realm(realm)",
          "old_line_content": "{",
          "new_line_content": "    regexp_object->set_realm(realm);",
          "content_same": false
        },
        {
          "line": 560,
          "old_api": null,
          "new_api": "set_legacy_features_enabled",
          "old_text": null,
          "new_text": "regexp_object->set_legacy_features_enabled(true)",
          "old_line_content": "    //       in the preceding opcodes, so we have to convert in a manner that is not",
          "new_line_content": "    regexp_object->set_legacy_features_enabled(true);",
          "content_same": false
        },
        {
          "line": 574,
          "old_api": null,
          "new_api": "indexed_properties",
          "old_text": null,
          "new_text": "argument_array.indexed_properties().array_like_size()",
          "old_line_content": "    }",
          "new_line_content": "    auto array_length = argument_array.indexed_properties().array_like_size();",
          "content_same": false
        },
        {
          "line": 576,
          "old_api": null,
          "new_api": "ensure_capacity",
          "old_text": null,
          "new_text": "argument_values.ensure_capacity(array_length)",
          "old_line_content": "    return argument_values;",
          "new_line_content": "    argument_values.ensure_capacity(array_length);",
          "content_same": false
        },
        {
          "line": 579,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "maybe_value.has_value()",
          "old_line_content": "inline ThrowCompletionOr<void> create_variable(VM& vm, DeprecatedFlyString const& name, Op::EnvironmentMode mode, bool is_global, bool is_immutable, bool is_strict)",
          "new_line_content": "        if (auto maybe_value = argument_array.indexed_properties().get(i); maybe_value.has_value())",
          "content_same": false
        },
        {
          "line": 580,
          "old_api": null,
          "new_api": "release_value",
          "old_text": null,
          "new_text": "maybe_value.release_value()",
          "old_line_content": "{",
          "new_line_content": "            argument_values.append(maybe_value.release_value().value);",
          "content_same": false
        },
        {
          "line": 595,
          "old_api": null,
          "new_api": "lexical_environment",
          "old_text": null,
          "new_text": "vm.lexical_environment()->has_binding(name)",
          "old_line_content": "        if (is_immutable)",
          "new_line_content": "        if (TRY(vm.lexical_environment()->has_binding(name)))",
          "content_same": false
        },
        {
          "line": 599,
          "old_api": null,
          "new_api": "lexical_environment",
          "old_text": null,
          "new_text": "vm.lexical_environment()->create_immutable_binding(vm, name, is_strict)",
          "old_line_content": "",
          "new_line_content": "            return vm.lexical_environment()->create_immutable_binding(vm, name, is_strict);",
          "content_same": false
        },
        {
          "line": 600,
          "old_api": null,
          "new_api": "lexical_environment",
          "old_text": null,
          "new_text": "vm.lexical_environment()->create_mutable_binding(vm, name, is_strict)",
          "old_line_content": "    // NOTE: CreateVariable with m_is_global set to true is expected to only be used in GlobalDeclarationInstantiation currently, which only uses \"false\" for \"can_be_deleted\".",
          "new_line_content": "        return vm.lexical_environment()->create_mutable_binding(vm, name, is_strict);",
          "content_same": false
        },
        {
          "line": 605,
          "old_api": null,
          "new_api": "variable_environment",
          "old_text": null,
          "new_text": "vm.variable_environment()->create_immutable_binding(vm, name, is_strict)",
          "old_line_content": "inline ThrowCompletionOr<ECMAScriptFunctionObject*> new_class(VM& vm, Value super_class, ClassExpression const& class_expression, Optional<IdentifierTableIndex> const& lhs_name)",
          "new_line_content": "            return vm.variable_environment()->create_immutable_binding(vm, name, is_strict);",
          "content_same": false
        },
        {
          "line": 606,
          "old_api": null,
          "new_api": "variable_environment",
          "old_text": null,
          "new_text": "vm.variable_environment()->create_mutable_binding(vm, name, is_strict)",
          "old_line_content": "{",
          "new_line_content": "        return vm.variable_environment()->create_mutable_binding(vm, name, is_strict);",
          "content_same": false
        },
        {
          "line": 621,
          "old_api": null,
          "new_api": "saved_lexical_environment_stack",
          "old_text": null,
          "new_text": "interpreter.saved_lexical_environment_stack().take_last()",
          "old_line_content": "    }",
          "new_line_content": "    vm.running_execution_context().lexical_environment = interpreter.saved_lexical_environment_stack().take_last();",
          "content_same": false
        },
        {
          "line": 625,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "lhs_name.has_value()",
          "old_line_content": "",
          "new_line_content": "    if (!class_expression.has_name() && lhs_name.has_value()) {",
          "content_same": false
        },
        {
          "line": 626,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "lhs_name.value()",
          "old_line_content": "// 13.3.7.1 Runtime Semantics: Evaluation, https://tc39.es/ecma262/#sec-super-keyword-runtime-semantics-evaluation",
          "new_line_content": "        class_name = interpreter.current_executable().get_identifier(lhs_name.value());",
          "content_same": false
        },
        {
          "line": 629,
          "old_api": null,
          "new_api": "is_null",
          "old_text": null,
          "new_text": "name.is_null()",
          "old_line_content": "    // 1. Let newTarget be GetNewTarget().",
          "new_line_content": "        class_name = name.is_null() ? \"\"sv : name;",
          "content_same": false
        },
        {
          "line": 632,
          "old_api": null,
          "new_api": "lexical_environment",
          "old_text": null,
          "new_text": "vm.lexical_environment()",
          "old_line_content": "    // 2. Assert: Type(newTarget) is Object.",
          "new_line_content": "    return TRY(class_expression.create_class_constructor(vm, class_environment, vm.lexical_environment(), super_class, binding_name, class_name));",
          "content_same": false
        },
        {
          "line": 648,
          "old_api": null,
          "new_api": "heap",
          "old_text": null,
          "new_text": "vm.heap()",
          "old_line_content": "    }",
          "new_line_content": "    MarkedVector<Value> arg_list { vm.heap() };",
          "content_same": false
        },
        {
          "line": 650,
          "old_api": null,
          "new_api": "as_object",
          "old_text": null,
          "new_text": "argument_array.as_object()",
          "old_line_content": "    // 5. If IsConstructor(func) is false, throw a TypeError exception.",
          "new_line_content": "        VERIFY(argument_array.is_object() && is<Array>(argument_array.as_object()));",
          "content_same": false
        },
        {
          "line": 654,
          "old_api": null,
          "new_api": "get_without_side_effects",
          "old_text": null,
          "new_text": "array_value.get_without_side_effects(PropertyKey { i })",
          "old_line_content": "    // 6. Let result be ? Construct(func, argList, newTarget).",
          "new_line_content": "            arg_list.append(array_value.get_without_side_effects(PropertyKey { i }));",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": null,
          "new_api": "argument_list_evaluation",
          "old_text": null,
          "new_text": "argument_list_evaluation(vm, argument_array)",
          "old_line_content": "",
          "new_line_content": "        arg_list = argument_list_evaluation(vm, argument_array);",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": null,
          "new_api": "is_constructor",
          "old_text": null,
          "new_text": "Value(func).is_constructor()",
          "old_line_content": "    // 8. Perform ? thisER.BindThisValue(result).",
          "new_line_content": "    if (!Value(func).is_constructor())",
          "content_same": false
        },
        {
          "line": 667,
          "old_api": null,
          "new_api": "get_this_environment",
          "old_text": null,
          "new_text": "get_this_environment(vm)",
          "old_line_content": "    // NOTE: This is implied by the strong C++ type.",
          "new_line_content": "    auto& this_environment = verify_cast<FunctionEnvironment>(*get_this_environment(vm));",
          "content_same": false
        },
        {
          "line": 673,
          "old_api": null,
          "new_api": "function_object",
          "old_text": null,
          "new_text": "this_environment.function_object()",
          "old_line_content": "    return result;",
          "new_line_content": "    auto& f = this_environment.function_object();",
          "content_same": false
        },
        {
          "line": 679,
          "old_api": null,
          "new_api": "initialize_instance_elements",
          "old_text": null,
          "new_text": "result->initialize_instance_elements(f)",
          "old_line_content": "",
          "new_line_content": "    TRY(result->initialize_instance_elements(f));",
          "content_same": false
        },
        {
          "line": 687,
          "old_api": null,
          "new_api": "as_object",
          "old_text": null,
          "new_text": "iterator.as_object()",
          "old_line_content": "",
          "new_line_content": "    auto& iterator_record = verify_cast<IteratorRecord>(iterator.as_object());",
          "content_same": false
        },
        {
          "line": 689,
          "old_api": null,
          "new_api": "current_realm",
          "old_text": null,
          "new_text": "vm.current_realm()",
          "old_line_content": "        index++;",
          "new_line_content": "    auto array = MUST(Array::create(*vm.current_realm(), 0));",
          "content_same": false
        },
        {
          "line": 693,
          "old_api": null,
          "new_api": "iterator_step_value",
          "old_text": null,
          "new_text": "iterator_step_value(vm, iterator_record)",
          "old_line_content": "inline ThrowCompletionOr<void> append(VM& vm, Value lhs, Value rhs, bool is_spread)",
          "new_line_content": "        auto value = TRY(iterator_step_value(vm, iterator_record));",
          "content_same": false
        },
        {
          "line": 694,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "value.has_value()",
          "old_line_content": "{",
          "new_line_content": "        if (!value.has_value())",
          "content_same": false
        },
        {
          "line": 697,
          "old_api": null,
          "new_api": "release_value",
          "old_text": null,
          "new_text": "value.release_value()",
          "old_line_content": "    //       Iterating over such a spread element to unpack it has to be visible by",
          "new_line_content": "        MUST(array->create_data_property_or_throw(index, value.release_value()));",
          "content_same": false
        },
        {
          "line": 741,
          "old_api": null,
          "new_api": "as_array",
          "old_text": null,
          "new_text": ".as_array();\n ",
          "old_line_content": "            return {};",
          "new_line_content": "    auto& lhs_array = lhs.as_array();",
          "content_same": false
        },
        {
          "line": 742,
          "old_api": null,
          "new_api": "indexed_properties",
          "old_text": null,
          "new_text": "_array.indexed_properties().array_like_size();\n\n",
          "old_line_content": "        }));",
          "new_line_content": "    auto lhs_size = lhs_array.indexed_properties().array_like_size();",
          "content_same": false
        },
        {
          "line": 747,
          "old_api": null,
          "new_api": "indexed_properties",
          "old_text": null,
          "new_text": "_iterator_values(vm, rhs, [&i, &lhs_array](Value iterator_value) -> Optional<Completion> {\n            lhs_array.indexed_properties().put(i, iterator_value, default_attributes);\n            ++i;\n            return {};\n        }));\n",
          "old_line_content": "    return {};",
          "new_line_content": "        TRY(get_iterator_values(vm, rhs, [&i, &lhs_array](Value iterator_value) -> Optional<Completion> {",
          "content_same": false
        },
        {
          "line": 748,
          "old_api": null,
          "new_api": "indexed_properties",
          "old_text": null,
          "new_text": "_array.indexed_properties().put(i, iterator_value, default_attributes);\n ",
          "old_line_content": "}",
          "new_line_content": "            lhs_array.indexed_properties().put(i, iterator_value, default_attributes);",
          "content_same": false
        },
        {
          "line": 753,
          "old_api": null,
          "new_api": "indexed_properties",
          "old_text": null,
          "new_text": "_array.indexed_properties().put(lhs_size, rhs, default_attributes);\n ",
          "old_line_content": "",
          "new_line_content": "        lhs_array.indexed_properties().put(lhs_size, rhs, default_attributes);",
          "content_same": false
        },
        {
          "line": 761,
          "old_api": null,
          "new_api": "vm",
          "old_text": null,
          "new_text": "erpreter.vm();\n\n",
          "old_line_content": "inline ThrowCompletionOr<Value> delete_by_value(Bytecode::Interpreter& interpreter, Value base, Value property_key_value)",
          "new_line_content": "    auto& vm = interpreter.vm();",
          "content_same": false
        },
        {
          "line": 764,
          "old_api": null,
          "new_api": "in_strict_mode",
          "old_text": null,
          "new_text": "in_strict_mode();\n ",
          "old_line_content": "",
          "new_line_content": "    bool strict = vm.in_strict_mode();",
          "content_same": false
        },
        {
          "line": 767,
          "old_api": null,
          "new_api": "delete_",
          "old_text": null,
          "new_text": "erence.delete_(vm));\n",
          "old_line_content": "    auto reference = Reference { base, property_key, {}, strict };",
          "new_line_content": "    return TRY(reference.delete_(vm));",
          "content_same": false
        },
        {
          "line": 772,
          "old_api": null,
          "new_api": "vm",
          "old_text": null,
          "new_text": "erpreter.vm();\n\n",
          "old_line_content": "inline ThrowCompletionOr<Value> delete_by_value_with_this(Bytecode::Interpreter& interpreter, Value base, Value property_key_value, Value this_value)",
          "new_line_content": "    auto& vm = interpreter.vm();",
          "content_same": false
        },
        {
          "line": 775,
          "old_api": null,
          "new_api": "in_strict_mode",
          "old_text": null,
          "new_text": "in_strict_mode();\n ",
          "old_line_content": "",
          "new_line_content": "    bool strict = vm.in_strict_mode();",
          "content_same": false
        },
        {
          "line": 778,
          "old_api": null,
          "new_api": "delete_",
          "old_text": null,
          "new_text": "erence.delete_(vm)));",
          "old_line_content": "    auto reference = Reference { base, property_key, this_value, strict };",
          "new_line_content": "    return Value(TRY(reference.delete_(vm)));",
          "content_same": false
        },
        {
          "line": 783,
          "old_api": null,
          "new_api": "vm",
          "old_text": null,
          "new_text": "erpreter.vm();\n\n",
          "old_line_content": "// 14.7.5.9 EnumerateObjectProperties ( O ), https://tc39.es/ecma262/#sec-enumerate-object-properties",
          "new_line_content": "    auto& vm = interpreter.vm();",
          "content_same": false
        },
        {
          "line": 785,
          "old_api": null,
          "new_api": "to_property_key",
          "old_text": null,
          "new_text": "perty_key_value.to_property_key(vm));\n",
          "old_line_content": "{",
          "new_line_content": "    auto property_key = TRY(property_key_value.to_property_key(vm));",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": null,
          "new_api": "in_strict_mode",
          "old_text": null,
          "new_text": "in_strict_mode();\n ",
          "old_line_content": "    // While the spec does provide an algorithm, it allows us to implement it ourselves so long as we meet the following invariants:",
          "new_line_content": "    bool strict = vm.in_strict_mode();",
          "content_same": false
        },
        {
          "line": 789,
          "old_api": null,
          "new_api": "delete_",
          "old_text": null,
          "new_text": "erence.delete_(vm)));",
          "old_line_content": "    //    3- If new properties are added to the target object during enumeration, the newly added properties are not guaranteed to be processed in the active enumeration",
          "new_line_content": "    return Value(TRY(reference.delete_(vm)));",
          "content_same": false
        },
        {
          "line": 816,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "n_objects.set(*object_to_check);\n ",
          "old_line_content": "                continue;",
          "new_line_content": "        seen_objects.set(*object_to_check);",
          "content_same": false
        },
        {
          "line": 818,
          "old_api": null,
          "new_api": "is_symbol",
          "old_text": null,
          "new_text": ".is_symbol())\n ",
          "old_line_content": "                continue;",
          "new_line_content": "            if (key.is_symbol())",
          "content_same": false
        },
        {
          "line": 826,
          "old_api": null,
          "new_api": "contains",
          "old_text": null,
          "new_text": "perties.contains(property_key))\n ",
          "old_line_content": "    }",
          "new_line_content": "            if (properties.contains(property_key))",
          "content_same": false
        },
        {
          "line": 837,
          "old_api": null,
          "new_api": "current_realm",
          "old_text": null,
          "new_text": "iveFunction::create(\n        *vm.current_realm(), [items = move(properties)](VM& vm) mutable -> ThrowCompletionOr<Value> {\n            auto& realm = *vm.current_realm();\n            auto iterated_object_value = vm.this_value();\n            if (!iterated_object_value.is_object())\n                return vm.throw_completion<InternalError>(\"Invalid state for GetObjectPropertyIterator.next\"sv);\n\n            auto& iterated_object = iterated_object_value.as_object();\n            auto result_object = Object::create(realm, nullptr);\n            while (true) {\n                if (items.is_empty()) {\n                    result_object->define_direct_property(vm.names.done, JS::Value(true), default_attributes);\n                    return result_object;\n                }\n\n                auto key = items.take_first();\n\n                // If the property is deleted, don't include it (invariant no. 2)\n                if (!TRY(iterated_object.has_property(key)))\n                    continue;\n\n                result_object->define_direct_property(vm.names.done, JS::Value(false), default_attributes);\n\n                if (key.is_number())\n                    result_object->define_direct_property(vm.names.value, PrimitiveString::create(vm, TRY_OR_THROW_OOM(vm, String::number(key.as_number()))), default_attributes);\n                else if (key.is_string())\n                    result_object->define_direct_property(vm.names.value, PrimitiveString::create(vm, key.as_string()), default_attributes);\n                else\n                    VERIFY_NOT_REACHED(); // We should not have non-string/number keys.\n\n                return result_object;\n            }\n        },\n        1, vm.names.next);\n ",
          "old_line_content": "            while (true) {",
          "new_line_content": "    auto callback = NativeFunction::create(",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": null,
          "new_api": "this_value",
          "old_text": null,
          "new_text": "this_value();\n ",
          "old_line_content": "                    return result_object;",
          "new_line_content": "            auto iterated_object_value = vm.this_value();",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": null,
          "new_api": "is_object",
          "old_text": null,
          "new_text": "rated_object_value.is_object())\n ",
          "old_line_content": "                }",
          "new_line_content": "            if (!iterated_object_value.is_object())",
          "content_same": false
        },
        {
          "line": 842,
          "old_api": null,
          "new_api": "throw_completion<InternalError>(\"Invalid state for GetObjectPropertyIterator.next\"sv);",
          "old_text": null,
          "new_text": "throw_completion<InternalError>(\"Invalid state for GetObjectPropertyIterator.next\"sv);\n\n",
          "old_line_content": "",
          "new_line_content": "                return vm.throw_completion<InternalError>(\"Invalid state for GetObjectPropertyIterator.next\"sv);",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": null,
          "new_api": "as_object",
          "old_text": null,
          "new_text": "rated_object_value.as_object();\n ",
          "old_line_content": "",
          "new_line_content": "            auto& iterated_object = iterated_object_value.as_object();",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": null,
          "new_api": "ect::create(realm, nullptr);",
          "old_text": null,
          "new_text": "ect::create(realm, nullptr);\n ",
          "old_line_content": "                // If the property is deleted, don't include it (invariant no. 2)",
          "new_line_content": "            auto result_object = Object::create(realm, nullptr);",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": null,
          "new_api": "is_empty",
          "old_text": null,
          "new_text": "ms.is_empty()) {",
          "old_line_content": "                    continue;",
          "new_line_content": "                if (items.is_empty()) {",
          "content_same": false
        },
        {
          "line": 848,
          "old_api": null,
          "new_api": ":Value(true), d",
          "old_text": null,
          "new_text": ":Value(true), d",
          "old_line_content": "",
          "new_line_content": "                    result_object->define_direct_property(vm.names.done, JS::Value(true), default_attributes);",
          "content_same": false
        },
        {
          "line": 855,
          "old_api": null,
          "new_api": "has_property",
          "old_text": null,
          "new_text": "rated_object.has_property(key)))\n",
          "old_line_content": "                else",
          "new_line_content": "                if (!TRY(iterated_object.has_property(key)))",
          "content_same": false
        },
        {
          "line": 858,
          "old_api": null,
          "new_api": ":Value(false), d",
          "old_text": null,
          "new_text": ":Value(false), d",
          "old_line_content": "                return result_object;",
          "new_line_content": "                result_object->define_direct_property(vm.names.done, JS::Value(false), default_attributes);",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": null,
          "new_api": "is_number",
          "old_text": null,
          "new_text": ".is_number())\n ",
          "old_line_content": "        },",
          "new_line_content": "                if (key.is_number())",
          "content_same": false
        },
        {
          "line": 861,
          "old_api": null,
          "new_api": "as_number",
          "old_text": null,
          "new_text": ".as_number())))",
          "old_line_content": "        1, vm.names.next);",
          "new_line_content": "                    result_object->define_direct_property(vm.names.value, PrimitiveString::create(vm, TRY_OR_THROW_OOM(vm, String::number(key.as_number()))), default_attributes);",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": null,
          "new_api": "as_string",
          "old_text": null,
          "new_text": ".as_string()), ",
          "old_line_content": "}",
          "new_line_content": "                    result_object->define_direct_property(vm.names.value, PrimitiveString::create(vm, key.as_string()), default_attributes);",
          "content_same": false
        },
        {
          "line": 865,
          "old_api": null,
          "new_api": "IFY_NOT_REACHED",
          "old_text": null,
          "new_text": "IFY_NOT_REACHED(); /",
          "old_line_content": "}",
          "new_line_content": "                    VERIFY_NOT_REACHED(); // We should not have non-string/number keys.",
          "content_same": false
        },
        {
          "line": 871,
          "old_api": null,
          "new_api": "ptr",
          "old_text": null,
          "new_text": "heap().allocate<IteratorRecord>(realm, realm, object, callback, false).ptr();\n}",
          "old_line_content": "",
          "new_line_content": "    return vm.heap().allocate<IteratorRecord>(realm, realm, object, callback, false).ptr();",
          "content_same": false
        },
        {
          "line": 447,
          "old_api": null,
          "new_api": "as_double",
          "old_text": null,
          "new_text": "value.as_double()",
          "old_line_content": "#define __JS_ENUMERATE(ClassName, snake_name, PrototypeName, ConstructorName, Type) \\",
          "new_line_content": "                auto integer = value.as_double();",
          "content_same": false
        },
        {
          "line": 449,
          "old_api": null,
          "new_api": "is_valid_integer_index",
          "old_text": null,
          "new_text": "is_valid_integer_index(typed_array, canonical_index)",
          "old_line_content": "        return typed_array_set_element<Type>(typed_array, canonical_index, value);",
          "new_line_content": "                if (AK::is_within_range<u32>(integer) && is_valid_integer_index(typed_array, canonical_index)) {",
          "content_same": false
        },
        {
          "line": 450,
          "old_api": null,
          "new_api": "static_cast<u32>(integer)",
          "old_text": null,
          "new_text": "static_cast<u32>(integer)",
          "old_line_content": "                JS_ENUMERATE_TYPED_ARRAYS",
          "new_line_content": "                    fast_typed_array_set_element<u32>(typed_array, index, static_cast<u32>(integer));",
          "content_same": false
        },
        {
          "line": 455,
          "old_api": null,
          "new_api": "kind",
          "old_text": null,
          "new_text": "typed_array.kind()",
          "old_line_content": "    }",
          "new_line_content": "            switch (typed_array.kind()) {",
          "content_same": false
        },
        {
          "line": 475,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "cache.has_value()",
          "old_line_content": "        cache = {};",
          "new_line_content": "    if (cache.has_value()) {",
          "content_same": false
        },
        {
          "line": 476,
          "old_api": null,
          "new_api": "running_execution_context",
          "old_text": null,
          "new_text": "vm.running_execution_context()",
          "old_line_content": "    }",
          "new_line_content": "        auto environment = vm.running_execution_context().lexical_environment;",
          "content_same": false
        },
        {
          "line": 482,
          "old_api": null,
          "new_api": "in_strict_mode",
          "old_text": null,
          "new_text": "vm.in_strict_mode()",
          "old_line_content": "}",
          "new_line_content": "            return TRY(verify_cast<DeclarativeEnvironment>(*environment).get_binding_value_direct(vm, cache.value().index, vm.in_strict_mode()));",
          "content_same": false
        },
        {
          "line": 487,
          "old_api": null,
          "new_api": "resolve_binding",
          "old_text": null,
          "new_text": "vm.resolve_binding(name)",
          "old_line_content": "};",
          "new_line_content": "    auto reference = TRY(vm.resolve_binding(name));",
          "content_same": false
        },
        {
          "line": 488,
          "old_api": null,
          "new_api": "environment_coordinate",
          "old_text": null,
          "new_text": "reference.environment_coordinate().has_value()",
          "old_line_content": "",
          "new_line_content": "    if (reference.environment_coordinate().has_value())",
          "content_same": false
        },
        {
          "line": 489,
          "old_api": null,
          "new_api": "environment_coordinate",
          "old_text": null,
          "new_text": "reference.environment_coordinate()",
          "old_line_content": "inline ThrowCompletionOr<CalleeAndThis> get_callee_and_this_from_environment(Bytecode::Interpreter& interpreter, DeprecatedFlyString const& name, EnvironmentVariableCache& cache)",
          "new_line_content": "        cache = reference.environment_coordinate();",
          "content_same": false
        },
        {
          "line": 490,
          "old_api": null,
          "new_api": "get_value",
          "old_text": null,
          "new_text": "reference.get_value(vm)",
          "old_line_content": "{",
          "new_line_content": "    return TRY(reference.get_value(vm));",
          "content_same": false
        },
        {
          "line": 506,
          "old_api": null,
          "new_api": "running_execution_context",
          "old_text": null,
          "new_text": "vm.running_execution_context()",
          "old_line_content": "                this_value = base_object;",
          "new_line_content": "        auto environment = vm.running_execution_context().lexical_environment;",
          "content_same": false
        },
        {
          "line": 508,
          "old_api": null,
          "new_api": "outer_environment",
          "old_text": null,
          "new_text": "environment->outer_environment()",
          "old_line_content": "                .callee = callee,",
          "new_line_content": "            environment = environment->outer_environment();",
          "content_same": false
        },
        {
          "line": 509,
          "old_api": null,
          "new_api": "VERIFY",
          "old_text": null,
          "new_text": "VERIFY(environment)",
          "old_line_content": "                .this_value = this_value,",
          "new_line_content": "        VERIFY(environment);",
          "content_same": false
        },
        {
          "line": 510,
          "old_api": null,
          "new_api": "is_declarative_environment",
          "old_text": null,
          "new_text": "environment->is_declarative_environment()",
          "old_line_content": "            };",
          "new_line_content": "        VERIFY(environment->is_declarative_environment());",
          "content_same": false
        },
        {
          "line": 511,
          "old_api": null,
          "new_api": "is_permanently_screwed_by_eval",
          "old_text": null,
          "new_text": "environment->is_permanently_screwed_by_eval()",
          "old_line_content": "        }",
          "new_line_content": "        if (!environment->is_permanently_screwed_by_eval()) {",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 515,
          "old_api": "resolve_binding",
          "new_api": null,
          "old_text": "vm.resolve_binding(name)",
          "new_text": null,
          "old_line_content": "    auto reference = TRY(vm.resolve_binding(name));",
          "new_line_content": "                this_value = base_object;",
          "content_same": false
        },
        {
          "line": 516,
          "old_api": "environment_coordinate",
          "new_api": null,
          "old_text": "reference.environment_coordinate().has_value()",
          "new_text": null,
          "old_line_content": "    if (reference.environment_coordinate().has_value())",
          "new_line_content": "            return CalleeAndThis {",
          "content_same": false
        },
        {
          "line": 517,
          "old_api": "environment_coordinate",
          "new_api": null,
          "old_text": "reference.environment_coordinate()",
          "new_text": null,
          "old_line_content": "        cache = reference.environment_coordinate();",
          "new_line_content": "                .callee = callee,",
          "content_same": false
        },
        {
          "line": 519,
          "old_api": "get_value",
          "new_api": null,
          "old_text": "reference.get_value(vm)",
          "new_text": null,
          "old_line_content": "    callee = TRY(reference.get_value(vm));",
          "new_line_content": "            };",
          "content_same": false
        },
        {
          "line": 521,
          "old_api": "is_property_reference",
          "new_api": null,
          "old_text": "reference.is_property_reference()",
          "new_text": null,
          "old_line_content": "    if (reference.is_property_reference()) {",
          "new_line_content": "        cache = {};",
          "content_same": false
        },
        {
          "line": 522,
          "old_api": "get_this_value",
          "new_api": null,
          "old_text": "reference.get_this_value()",
          "new_text": null,
          "old_line_content": "        this_value = reference.get_this_value();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 543,
          "old_api": "current_realm",
          "new_api": null,
          "old_text": "vm.current_realm()",
          "new_text": null,
          "old_line_content": "    auto& realm = *vm.current_realm();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 546,
          "old_api": "move",
          "new_api": null,
          "old_text": "move(regex)",
          "new_text": null,
          "old_line_content": "    auto regexp_object = RegExpObject::create(realm, move(regex), pattern, flags);",
          "new_line_content": "inline Value new_regexp(VM& vm, ParsedRegex const& parsed_regex, ByteString const& pattern, ByteString const& flags)",
          "content_same": false
        },
        {
          "line": 548,
          "old_api": "set_realm",
          "new_api": null,
          "old_text": "regexp_object->set_realm(realm)",
          "new_text": null,
          "old_line_content": "    regexp_object->set_realm(realm);",
          "new_line_content": "    // 1. Let pattern be CodePointsToString(BodyText of RegularExpressionLiteral).",
          "content_same": false
        },
        {
          "line": 551,
          "old_api": "set_legacy_features_enabled",
          "new_api": null,
          "old_text": "regexp_object->set_legacy_features_enabled(true)",
          "new_text": null,
          "old_line_content": "    regexp_object->set_legacy_features_enabled(true);",
          "new_line_content": "    // 3. Return ! RegExpCreate(pattern, flags).",
          "content_same": false
        },
        {
          "line": 562,
          "old_api": "heap",
          "new_api": null,
          "old_text": "vm.heap()",
          "new_text": null,
          "old_line_content": "    MarkedVector<Value> argument_values { vm.heap() };",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 564,
          "old_api": "as_array",
          "new_api": null,
          "old_text": "arguments.as_array()",
          "new_text": null,
          "old_line_content": "    auto& argument_array = arguments.as_array();",
          "new_line_content": "// 13.3.8.1 https://tc39.es/ecma262/#sec-runtime-semantics-argumentlistevaluation",
          "content_same": false
        },
        {
          "line": 565,
          "old_api": "indexed_properties",
          "new_api": null,
          "old_text": "argument_array.indexed_properties().array_like_size()",
          "new_text": null,
          "old_line_content": "    auto array_length = argument_array.indexed_properties().array_like_size();",
          "new_line_content": "inline MarkedVector<Value> argument_list_evaluation(VM& vm, Value arguments)",
          "content_same": false
        },
        {
          "line": 567,
          "old_api": "ensure_capacity",
          "new_api": null,
          "old_text": "argument_values.ensure_capacity(array_length)",
          "new_text": null,
          "old_line_content": "    argument_values.ensure_capacity(array_length);",
          "new_line_content": "    // Note: Any spreading and actual evaluation is handled in preceding opcodes",
          "content_same": false
        },
        {
          "line": 570,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "maybe_value.has_value()",
          "new_text": null,
          "old_line_content": "        if (auto maybe_value = argument_array.indexed_properties().get(i); maybe_value.has_value())",
          "new_line_content": "    //       visible to the user",
          "content_same": false
        },
        {
          "line": 586,
          "old_api": "lexical_environment",
          "new_api": null,
          "old_text": "vm.lexical_environment()->has_binding(name)",
          "new_text": null,
          "old_line_content": "        if (TRY(vm.lexical_environment()->has_binding(name)))",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 587,
          "old_api": "String::formatted(\"Lexical environment already has binding '{}'\", name)",
          "new_api": null,
          "old_text": "String::formatted(\"Lexical environment already has binding '{}'\", name)",
          "new_text": null,
          "old_line_content": "            return vm.throw_completion<InternalError>(TRY_OR_THROW_OOM(vm, String::formatted(\"Lexical environment already has binding '{}'\", name)));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 590,
          "old_api": "lexical_environment",
          "new_api": null,
          "old_text": "vm.lexical_environment()->create_immutable_binding(vm, name, is_strict)",
          "new_text": null,
          "old_line_content": "            return vm.lexical_environment()->create_immutable_binding(vm, name, is_strict);",
          "new_line_content": "    if (mode == Op::EnvironmentMode::Lexical) {",
          "content_same": false
        },
        {
          "line": 597,
          "old_api": "variable_environment",
          "new_api": null,
          "old_text": "vm.variable_environment()->create_mutable_binding(vm, name, is_strict)",
          "new_text": null,
          "old_line_content": "        return vm.variable_environment()->create_mutable_binding(vm, name, is_strict);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 602,
          "old_api": "variable_environment",
          "new_api": null,
          "old_text": "vm.variable_environment()",
          "new_text": null,
          "old_line_content": "    return verify_cast<GlobalEnvironment>(vm.variable_environment())->create_global_var_binding(name, false);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 607,
          "old_api": "bytecode_interpreter",
          "new_api": null,
          "old_text": "vm.bytecode_interpreter()",
          "new_text": null,
          "old_line_content": "    auto& interpreter = vm.bytecode_interpreter();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 608,
          "old_api": "name",
          "new_api": null,
          "old_text": "class_expression.name()",
          "new_text": null,
          "old_line_content": "    auto name = class_expression.name();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 612,
          "old_api": "saved_lexical_environment_stack",
          "new_api": null,
          "old_text": "interpreter.saved_lexical_environment_stack().take_last()",
          "new_text": null,
          "old_line_content": "    vm.running_execution_context().lexical_environment = interpreter.saved_lexical_environment_stack().take_last();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 623,
          "old_api": "lexical_environment",
          "new_api": null,
          "old_text": "vm.lexical_environment()",
          "new_text": null,
          "old_line_content": "    return TRY(class_expression.create_class_constructor(vm, class_environment, vm.lexical_environment(), super_class, binding_name, class_name));",
          "new_line_content": "    Optional<DeprecatedFlyString> binding_name;",
          "content_same": false
        },
        {
          "line": 630,
          "old_api": "get_new_target",
          "new_api": null,
          "old_text": "vm.get_new_target()",
          "new_text": null,
          "old_line_content": "    auto new_target = vm.get_new_target();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 633,
          "old_api": "is_object",
          "new_api": null,
          "old_text": "new_target.is_object()",
          "new_text": null,
          "old_line_content": "    VERIFY(new_target.is_object());",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": "get_super_constructor",
          "new_api": null,
          "old_text": "get_super_constructor(vm)",
          "new_text": null,
          "old_line_content": "    auto* func = get_super_constructor(vm);",
          "new_line_content": "inline ThrowCompletionOr<NonnullGCPtr<Object>> super_call_with_argument_array(VM& vm, Value argument_array, bool is_synthetic)",
          "content_same": false
        },
        {
          "line": 641,
          "old_api": "as_object",
          "new_api": null,
          "old_text": "argument_array.as_object()",
          "new_text": null,
          "old_line_content": "        VERIFY(argument_array.is_object() && is<Array>(argument_array.as_object()));",
          "new_line_content": "    // 2. Assert: Type(newTarget) is Object.",
          "content_same": false
        },
        {
          "line": 643,
          "old_api": "length_of_array_like",
          "new_api": null,
          "old_text": "length_of_array_like(vm, array_value)",
          "new_text": null,
          "old_line_content": "        auto length = MUST(length_of_array_like(vm, array_value));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 647,
          "old_api": "argument_list_evaluation",
          "new_api": null,
          "old_text": "argument_list_evaluation(vm, argument_array)",
          "new_text": null,
          "old_line_content": "        arg_list = argument_list_evaluation(vm, argument_array);",
          "new_line_content": "    // 4. Let argList be ? ArgumentListEvaluation of Arguments.",
          "content_same": false
        },
        {
          "line": 655,
          "old_api": "as_function",
          "new_api": null,
          "old_text": "new_target.as_function()",
          "new_text": null,
          "old_line_content": "    auto result = TRY(construct(vm, static_cast<FunctionObject&>(*func), arg_list.span(), &new_target.as_function()));",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 658,
          "old_api": "get_this_environment",
          "new_api": null,
          "old_text": "get_this_environment(vm)",
          "new_text": null,
          "old_line_content": "    auto& this_environment = verify_cast<FunctionEnvironment>(*get_this_environment(vm));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 678,
          "old_api": "as_object",
          "new_api": null,
          "old_text": "iterator.as_object()",
          "new_text": null,
          "old_line_content": "    auto& iterator_record = verify_cast<IteratorRecord>(iterator.as_object());",
          "new_line_content": "    // 11. Perform ? InitializeInstanceElements(result, F).",
          "content_same": false
        },
        {
          "line": 680,
          "old_api": "current_realm",
          "new_api": null,
          "old_text": "vm.current_realm()",
          "new_text": null,
          "old_line_content": "    auto array = MUST(Array::create(*vm.current_realm(), 0));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 684,
          "old_api": "iterator_step_value",
          "new_api": null,
          "old_text": "iterator_step_value(vm, iterator_record)",
          "new_text": null,
          "old_line_content": "        auto value = TRY(iterator_step_value(vm, iterator_record));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 685,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "value.has_value()",
          "new_text": null,
          "old_line_content": "        if (!value.has_value())",
          "new_line_content": "inline ThrowCompletionOr<NonnullGCPtr<Array>> iterator_to_array(VM& vm, Value iterator)",
          "content_same": false
        },
        {
          "line": 688,
          "old_api": "release_value",
          "new_api": null,
          "old_text": "value.release_value()",
          "new_text": null,
          "old_line_content": "        MUST(array->create_data_property_or_throw(index, value.release_value()));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 732,
          "old_api": "as_array",
          "new_api": null,
          "old_text": ".as_array();\n ",
          "new_text": null,
          "old_line_content": "    auto& lhs_array = lhs.as_array();",
          "new_line_content": "    //             2. Let spreadRef be ? Evaluation of AssignmentExpression.",
          "content_same": false
        },
        {
          "line": 733,
          "old_api": "indexed_properties",
          "new_api": null,
          "old_text": "_array.indexed_properties().array_like_size();\n\n",
          "new_text": null,
          "old_line_content": "    auto lhs_size = lhs_array.indexed_properties().array_like_size();",
          "new_line_content": "    //             3. Let iteratorRecord be ? GetIterator(? GetValue(spreadRef)).",
          "content_same": false
        },
        {
          "line": 738,
          "old_api": "indexed_properties",
          "new_api": null,
          "old_text": "_iterator_values(vm, rhs, [&i, &lhs_array](Value iterator_value) -> Optional<Completion> {\n            lhs_array.indexed_properties().put(i, iterator_value, default_attributes);\n            ++i;\n            return {};\n        }));\n",
          "new_text": null,
          "old_line_content": "        TRY(get_iterator_values(vm, rhs, [&i, &lhs_array](Value iterator_value) -> Optional<Completion> {",
          "new_line_content": "    //                 d. Append nextArg to precedingArgs.",
          "content_same": false
        },
        {
          "line": 739,
          "old_api": "indexed_properties",
          "new_api": null,
          "old_text": "_array.indexed_properties().put(i, iterator_value, default_attributes);\n ",
          "new_text": null,
          "old_line_content": "            lhs_array.indexed_properties().put(i, iterator_value, default_attributes);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": "indexed_properties",
          "new_api": null,
          "old_text": "_array.indexed_properties().put(lhs_size, rhs, default_attributes);\n ",
          "new_text": null,
          "old_line_content": "        lhs_array.indexed_properties().put(lhs_size, rhs, default_attributes);",
          "new_line_content": "    if (is_spread) {",
          "content_same": false
        },
        {
          "line": 752,
          "old_api": "vm",
          "new_api": null,
          "old_text": "erpreter.vm();\n\n",
          "new_text": null,
          "old_line_content": "    auto& vm = interpreter.vm();",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 754,
          "old_api": "current_executable",
          "new_api": null,
          "old_text": "erpreter.current_executable().get_identifier(property);\n ",
          "new_text": null,
          "old_line_content": "    auto const& identifier = interpreter.current_executable().get_identifier(property);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 755,
          "old_api": "in_strict_mode",
          "new_api": null,
          "old_text": "in_strict_mode();\n ",
          "new_text": null,
          "old_line_content": "    bool strict = vm.in_strict_mode();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 758,
          "old_api": "delete_",
          "new_api": null,
          "old_text": "erence.delete_(vm));\n",
          "new_text": null,
          "old_line_content": "    return TRY(reference.delete_(vm));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 765,
          "old_api": "to_property_key",
          "new_api": null,
          "old_text": "perty_key_value.to_property_key(vm));\n",
          "new_text": null,
          "old_line_content": "    auto property_key = TRY(property_key_value.to_property_key(vm));",
          "new_line_content": "    auto reference = Reference { base, identifier, {}, strict };",
          "content_same": false
        },
        {
          "line": 766,
          "old_api": "in_strict_mode",
          "new_api": null,
          "old_text": "in_strict_mode();\n ",
          "new_text": null,
          "old_line_content": "    bool strict = vm.in_strict_mode();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 769,
          "old_api": "delete_",
          "new_api": null,
          "old_text": "erence.delete_(vm)));",
          "new_text": null,
          "old_line_content": "    return Value(TRY(reference.delete_(vm)));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 776,
          "old_api": "to_property_key",
          "new_api": null,
          "old_text": "perty_key_value.to_property_key(vm));\n",
          "new_text": null,
          "old_line_content": "    auto property_key = TRY(property_key_value.to_property_key(vm));",
          "new_line_content": "    auto reference = Reference { base, property_key, {}, strict };",
          "content_same": false
        },
        {
          "line": 777,
          "old_api": "in_strict_mode",
          "new_api": null,
          "old_text": "in_strict_mode();\n ",
          "new_text": null,
          "old_line_content": "    bool strict = vm.in_strict_mode();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 780,
          "old_api": "delete_",
          "new_api": null,
          "old_text": "erence.delete_(vm)));",
          "new_text": null,
          "old_line_content": "    return Value(TRY(reference.delete_(vm)));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 799,
          "old_api": "to_object",
          "new_api": null,
          "old_text": "ue.to_object(vm));\n",
          "new_text": null,
          "old_line_content": "    auto object = TRY(value.to_object(vm));",
          "new_line_content": "    //    4- A property name will be returned by the iterator's next method at most once in any enumeration.",
          "content_same": false
        },
        {
          "line": 806,
          "old_api": "internal_get_prototype_of",
          "new_api": null,
          "old_text": "ect_to_check->internal_get_prototype_of())) ",
          "new_text": null,
          "old_line_content": "    for (auto object_to_check = GCPtr { object.ptr() }; object_to_check && !seen_objects.contains(*object_to_check); object_to_check = TRY(object_to_check->internal_get_prototype_of())) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 807,
          "old_api": "set",
          "new_api": null,
          "old_text": "n_objects.set(*object_to_check);\n ",
          "new_text": null,
          "old_line_content": "        seen_objects.set(*object_to_check);",
          "new_line_content": "    // Invariant 3 effectively allows the implementation to ignore newly added keys, and we do so (similar to other implementations).",
          "content_same": false
        },
        {
          "line": 809,
          "old_api": "is_symbol",
          "new_api": null,
          "old_text": ".is_symbol())\n ",
          "new_text": null,
          "old_line_content": "            if (key.is_symbol())",
          "new_line_content": "    // Note: While the spec doesn't explicitly require these to be ordered, it says that the values should be retrieved via OwnPropertyKeys,",
          "content_same": false
        },
        {
          "line": 811,
          "old_api": "pertyKey::from_value(vm, key));",
          "new_api": null,
          "old_text": "pertyKey::from_value(vm, key));\n",
          "new_text": null,
          "old_line_content": "            auto property_key = TRY(PropertyKey::from_value(vm, key));",
          "new_line_content": "    OrderedHashTable<PropertyKey> properties;",
          "content_same": false
        },
        {
          "line": 822,
          "old_api": "e",
          "new_api": null,
          "old_text": "e(property_key));\n",
          "new_text": null,
          "old_line_content": "                non_enumerable_properties.set(move(property_key));",
          "new_line_content": "            // If there is a non-enumerable property higher up the prototype chain with the same key,",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": "current_realm",
          "new_api": null,
          "old_text": "current_realm();\n ",
          "new_text": null,
          "old_line_content": "    auto& realm = *vm.current_realm();",
          "new_line_content": "                continue;",
          "content_same": false
        },
        {
          "line": 828,
          "old_api": "current_realm",
          "new_api": null,
          "old_text": "iveFunction::create(\n        *vm.current_realm(), [items = move(properties)](VM& vm) mutable -> ThrowCompletionOr<Value> {\n            auto& realm = *vm.current_realm();\n            auto iterated_object_value = vm.this_value();\n            if (!iterated_object_value.is_object())\n                return vm.throw_completion<InternalError>(\"Invalid state for GetObjectPropertyIterator.next\"sv);\n\n            auto& iterated_object = iterated_object_value.as_object();\n            auto result_object = Object::create(realm, nullptr);\n            while (true) {\n                if (items.is_empty()) {\n                    result_object->define_direct_property(vm.names.done, JS::Value(true), default_attributes);\n                    return result_object;\n                }\n\n                auto key = items.take_first();\n\n                // If the property is deleted, don't include it (invariant no. 2)\n                if (!TRY(iterated_object.has_property(key)))\n                    continue;\n\n                result_object->define_direct_property(vm.names.done, JS::Value(false), default_attributes);\n\n                if (key.is_number())\n                    result_object->define_direct_property(vm.names.value, PrimitiveString::create(vm, TRY_OR_THROW_OOM(vm, String::number(key.as_number()))), default_attributes);\n                else if (key.is_string())\n                    result_object->define_direct_property(vm.names.value, PrimitiveString::create(vm, key.as_string()), default_attributes);\n                else\n                    VERIFY_NOT_REACHED(); // We should not have non-string/number keys.\n\n                return result_object;\n            }\n        },\n        1, vm.names.next);\n ",
          "new_text": null,
          "old_line_content": "    auto callback = NativeFunction::create(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 830,
          "old_api": "current_realm",
          "new_api": null,
          "old_text": "current_realm();\n ",
          "new_text": null,
          "old_line_content": "            auto& realm = *vm.current_realm();",
          "new_line_content": "            if (!*descriptor->enumerable)",
          "content_same": false
        },
        {
          "line": 832,
          "old_api": "is_object",
          "new_api": null,
          "old_text": "rated_object_value.is_object())\n ",
          "new_text": null,
          "old_line_content": "            if (!iterated_object_value.is_object())",
          "new_line_content": "            else",
          "content_same": false
        },
        {
          "line": 835,
          "old_api": "as_object",
          "new_api": null,
          "old_text": "rated_object_value.as_object();\n ",
          "new_text": null,
          "old_line_content": "            auto& iterated_object = iterated_object_value.as_object();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 843,
          "old_api": "take_first",
          "new_api": null,
          "old_text": "ms.take_first();\n\n",
          "new_text": null,
          "old_line_content": "                auto key = items.take_first();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": "has_property",
          "new_api": null,
          "old_text": "rated_object.has_property(key)))\n",
          "new_text": null,
          "old_line_content": "                if (!TRY(iterated_object.has_property(key)))",
          "new_line_content": "            while (true) {",
          "content_same": false
        },
        {
          "line": 849,
          "old_api": ":Value(false), d",
          "new_api": null,
          "old_text": ":Value(false), d",
          "new_text": null,
          "old_line_content": "                result_object->define_direct_property(vm.names.done, JS::Value(false), default_attributes);",
          "new_line_content": "                    return result_object;",
          "content_same": false
        },
        {
          "line": 851,
          "old_api": "is_number",
          "new_api": null,
          "old_text": ".is_number())\n ",
          "new_text": null,
          "old_line_content": "                if (key.is_number())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 853,
          "old_api": "is_string",
          "new_api": null,
          "old_text": ".is_string())\n ",
          "new_text": null,
          "old_line_content": "                else if (key.is_string())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 854,
          "old_api": "as_string",
          "new_api": null,
          "old_text": ".as_string()), ",
          "new_text": null,
          "old_line_content": "                    result_object->define_direct_property(vm.names.value, PrimitiveString::create(vm, key.as_string()), default_attributes);",
          "new_line_content": "                // If the property is deleted, don't include it (invariant no. 2)",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": "IFY_NOT_REACHED",
          "new_api": null,
          "old_text": "IFY_NOT_REACHED(); /",
          "new_text": null,
          "old_line_content": "                    VERIFY_NOT_REACHED(); // We should not have non-string/number keys.",
          "new_line_content": "                    continue;",
          "content_same": false
        },
        {
          "line": 457,
          "old_api": "to_property_key",
          "new_api": null,
          "old_text": "property_key_value.to_property_key(vm)",
          "new_text": null,
          "old_line_content": "    auto property_key = kind != Op::PropertyKind::Spread ? TRY(property_key_value.to_property_key(vm)) : PropertyKey {};",
          "new_line_content": "    case TypedArrayBase::Kind::ClassName:                                           \\",
          "content_same": false
        },
        {
          "line": 458,
          "old_api": "put_by_property_key",
          "new_api": null,
          "old_text": "put_by_property_key(vm, base, base, value, property_key, kind)",
          "new_text": null,
          "old_line_content": "    TRY(put_by_property_key(vm, base, base, value, property_key, kind));",
          "new_line_content": "        return typed_array_set_element<Type>(typed_array, canonical_index, value);",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": "vm",
          "new_api": null,
          "old_text": "interpreter.vm()",
          "new_text": null,
          "old_line_content": "    auto& vm = interpreter.vm();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 469,
          "old_api": "outer_environment",
          "new_api": null,
          "old_text": "environment->outer_environment()",
          "new_text": null,
          "old_line_content": "            environment = environment->outer_environment();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 470,
          "old_api": "VERIFY",
          "new_api": null,
          "old_text": "VERIFY(environment)",
          "new_text": null,
          "old_line_content": "        VERIFY(environment);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 471,
          "old_api": "is_declarative_environment",
          "new_api": null,
          "old_text": "environment->is_declarative_environment()",
          "new_text": null,
          "old_line_content": "        VERIFY(environment->is_declarative_environment());",
          "new_line_content": "inline ThrowCompletionOr<Value> get_variable(Bytecode::Interpreter& interpreter, DeprecatedFlyString const& name, EnvironmentVariableCache& cache)",
          "content_same": false
        },
        {
          "line": 472,
          "old_api": "is_permanently_screwed_by_eval",
          "new_api": null,
          "old_text": "environment->is_permanently_screwed_by_eval()",
          "new_text": null,
          "old_line_content": "        if (!environment->is_permanently_screwed_by_eval()) {",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 491,
          "old_api": "vm",
          "new_api": null,
          "old_text": "interpreter.vm()",
          "new_text": null,
          "old_line_content": "    auto& vm = interpreter.vm();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 493,
          "old_api": "js_undefined",
          "new_api": null,
          "old_text": "js_undefined()",
          "new_text": null,
          "old_line_content": "    Value callee = js_undefined();",
          "new_line_content": "struct CalleeAndThis {",
          "content_same": false
        },
        {
          "line": 494,
          "old_api": "js_undefined",
          "new_api": null,
          "old_text": "js_undefined()",
          "new_text": null,
          "old_line_content": "    Value this_value = js_undefined();",
          "new_line_content": "    Value callee;",
          "content_same": false
        },
        {
          "line": 496,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "cache.has_value()",
          "new_text": null,
          "old_line_content": "    if (cache.has_value()) {",
          "new_line_content": "};",
          "content_same": false
        },
        {
          "line": 497,
          "old_api": "running_execution_context",
          "new_api": null,
          "old_text": "vm.running_execution_context()",
          "new_text": null,
          "old_line_content": "        auto environment = vm.running_execution_context().lexical_environment;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 499,
          "old_api": "outer_environment",
          "new_api": null,
          "old_text": "environment->outer_environment()",
          "new_text": null,
          "old_line_content": "            environment = environment->outer_environment();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 501,
          "old_api": "is_declarative_environment",
          "new_api": null,
          "old_text": "environment->is_declarative_environment()",
          "new_text": null,
          "old_line_content": "        VERIFY(environment->is_declarative_environment());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 504,
          "old_api": "js_undefined",
          "new_api": null,
          "old_text": "js_undefined()",
          "new_text": null,
          "old_line_content": "            this_value = js_undefined();",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 46,
      "total_additions": 89,
      "total_deletions": 85,
      "total_api_changes": 220
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 9,
        "api_related_lines": 220,
        "non_api_lines": 5,
        "non_api_line_numbers": [
          448,
          451,
          452,
          453,
          454
        ]
      }
    },
    "api_calls_before": 511,
    "api_calls_after": 518,
    "diff_info": {
      "added_lines": 9,
      "removed_lines": 0,
      "total_diff_lines": 21
    }
  }
}