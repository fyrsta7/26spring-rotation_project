{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/e3ee539fea7e7d2672377c52dd344c45fed44f50",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/e3ee539fea7e7d2672377c52dd344c45fed44f50/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/e3ee539fea7e7d2672377c52dd344c45fed44f50/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/ladybird/modified_file/e3ee539fea7e7d2672377c52dd344c45fed44f50/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 115,
          "old_api": "clear_process_filter",
          "new_api": "set_process_filter",
          "old_text": "profile->clear_process_filter()",
          "new_text": "profile->set_process_filter(process.pid, process.start_valid, end_valid)",
          "old_line_content": "                profile->clear_process_filter();",
          "new_line_content": "                profile->set_process_filter(process.pid, process.start_valid, end_valid);",
          "content_same": false
        },
        {
          "line": 117,
          "old_api": "update_selection",
          "new_api": "clear_process_filter",
          "old_text": "timeline_header_container->for_each_child_widget([](auto& other_timeline_header) {\n                static_cast<TimelineHeader&>(other_timeline_header).update_selection();\n                return IterationDecision::Continue;\n            })",
          "new_text": "profile->clear_process_filter()",
          "old_line_content": "            timeline_header_container->for_each_child_widget([](auto& other_timeline_header) {",
          "new_line_content": "                profile->clear_process_filter();",
          "content_same": false
        },
        {
          "line": 127,
          "old_api": "main_widget.add<GUI::TabWidget>()",
          "new_api": "main_widget.add<TimelineContainer>(*timeline_header_container, *timeline_view)",
          "old_text": "main_widget.add<GUI::TabWidget>()",
          "new_text": "main_widget.add<TimelineContainer>(*timeline_header_container, *timeline_view)",
          "old_line_content": "    auto& tab_widget = main_widget.add<GUI::TabWidget>();",
          "new_line_content": "    [[maybe_unused]] auto& timeline_container = main_widget.add<TimelineContainer>(*timeline_header_container, *timeline_view);",
          "content_same": false
        },
        {
          "line": 129,
          "old_api": "tab_widget.add_tab<GUI::Widget>(\"Call Tree\")",
          "new_api": "main_widget.add<GUI::TabWidget>()",
          "old_text": "tab_widget.add_tab<GUI::Widget>(\"Call Tree\")",
          "new_text": "main_widget.add<GUI::TabWidget>()",
          "old_line_content": "    auto& tree_tab = tab_widget.add_tab<GUI::Widget>(\"Call Tree\");",
          "new_line_content": "    auto& tab_widget = main_widget.add<GUI::TabWidget>();",
          "content_same": false
        },
        {
          "line": 131,
          "old_api": "layout",
          "new_api": "tab_widget.add_tab<GUI::Widget>(\"Call Tree\")",
          "old_text": "tree_tab.layout()->set_margins({ 4, 4, 4, 4 })",
          "new_text": "tab_widget.add_tab<GUI::Widget>(\"Call Tree\")",
          "old_line_content": "    tree_tab.layout()->set_margins({ 4, 4, 4, 4 });",
          "new_line_content": "    auto& tree_tab = tab_widget.add_tab<GUI::Widget>(\"Call Tree\");",
          "content_same": false
        },
        {
          "line": 132,
          "old_api": "tree_tab.add<GUI::VerticalSplitter>()",
          "new_api": "tree_tab.set_layout<GUI::VerticalBoxLayout>()",
          "old_text": "tree_tab.add<GUI::VerticalSplitter>()",
          "new_text": "tree_tab.set_layout<GUI::VerticalBoxLayout>()",
          "old_line_content": "    auto& bottom_splitter = tree_tab.add<GUI::VerticalSplitter>();",
          "new_line_content": "    tree_tab.set_layout<GUI::VerticalBoxLayout>();",
          "content_same": false
        },
        {
          "line": 134,
          "old_api": "bottom_splitter.add<GUI::TreeView>()",
          "new_api": "tree_tab.add<GUI::VerticalSplitter>()",
          "old_text": "bottom_splitter.add<GUI::TreeView>()",
          "new_text": "tree_tab.add<GUI::VerticalSplitter>()",
          "old_line_content": "    auto& tree_view = bottom_splitter.add<GUI::TreeView>();",
          "new_line_content": "    auto& bottom_splitter = tree_tab.add<GUI::VerticalSplitter>();",
          "content_same": false
        },
        {
          "line": 136,
          "old_api": "set_column_headers_visible",
          "new_api": "bottom_splitter.add<GUI::TreeView>()",
          "old_text": "tree_view.set_column_headers_visible(true)",
          "new_text": "bottom_splitter.add<GUI::TreeView>()",
          "old_line_content": "    tree_view.set_column_headers_visible(true);",
          "new_line_content": "    auto& tree_view = bottom_splitter.add<GUI::TreeView>();",
          "content_same": false
        },
        {
          "line": 137,
          "old_api": "model",
          "new_api": "set_should_fill_selected_rows",
          "old_text": "profile->model()",
          "new_text": "tree_view.set_should_fill_selected_rows(true)",
          "old_line_content": "    tree_view.set_model(profile->model());",
          "new_line_content": "    tree_view.set_should_fill_selected_rows(true);",
          "content_same": false
        },
        {
          "line": 139,
          "old_api": "bottom_splitter.add<GUI::TableView>()",
          "new_api": "model",
          "old_text": "bottom_splitter.add<GUI::TableView>()",
          "new_text": "profile->model()",
          "old_line_content": "    auto& disassembly_view = bottom_splitter.add<GUI::TableView>();",
          "new_line_content": "    tree_view.set_model(profile->model());",
          "content_same": false
        },
        {
          "line": 148,
          "old_api": "layout",
          "new_api": "tab_widget.add_tab<GUI::Widget>(\"Samples\")",
          "old_text": "samples_tab.layout()->set_margins({ 4, 4, 4, 4 })",
          "new_text": "tab_widget.add_tab<GUI::Widget>(\"Samples\")",
          "old_line_content": "    samples_tab.layout()->set_margins({ 4, 4, 4, 4 });",
          "new_line_content": "    auto& samples_tab = tab_widget.add_tab<GUI::Widget>(\"Samples\");",
          "content_same": false
        },
        {
          "line": 150,
          "old_api": "samples_tab.add<GUI::HorizontalSplitter>()",
          "new_api": "layout",
          "old_text": "samples_tab.add<GUI::HorizontalSplitter>()",
          "new_text": "samples_tab.layout()->set_margins({ 4, 4, 4, 4 })",
          "old_line_content": "    auto& samples_splitter = samples_tab.add<GUI::HorizontalSplitter>();",
          "new_line_content": "    samples_tab.layout()->set_margins({ 4, 4, 4, 4 });",
          "content_same": false
        },
        {
          "line": 152,
          "old_api": "samples_model",
          "new_api": "samples_tab.add<GUI::HorizontalSplitter>()",
          "old_text": "profile->samples_model()",
          "new_text": "samples_tab.add<GUI::HorizontalSplitter>()",
          "old_line_content": "    samples_table_view.set_model(profile->samples_model());",
          "new_line_content": "    auto& samples_splitter = samples_tab.add<GUI::HorizontalSplitter>();",
          "content_same": false
        },
        {
          "line": 154,
          "old_api": "samples_splitter.add<GUI::TableView>()",
          "new_api": "samples_model",
          "old_text": "samples_splitter.add<GUI::TableView>()",
          "new_text": "profile->samples_model()",
          "old_line_content": "    auto& individual_sample_view = samples_splitter.add<GUI::TableView>();",
          "new_line_content": "    samples_table_view.set_model(profile->samples_model());",
          "content_same": false
        },
        {
          "line": 156,
          "old_api": "data",
          "new_api": "samples_splitter.add<GUI::TableView>()",
          "old_text": "index.data(GUI::ModelRole::Custom).to_integer<size_t>()",
          "new_text": "samples_splitter.add<GUI::TableView>()",
          "old_line_content": "        auto model = IndividualSampleModel::create(*profile, index.data(GUI::ModelRole::Custom).to_integer<size_t>());",
          "new_line_content": "    auto& individual_sample_view = samples_splitter.add<GUI::TableView>();",
          "content_same": false
        },
        {
          "line": 163,
          "old_api": "max",
          "new_api": "length_in_ms",
          "old_text": "max(timestamp, start_of_trace)",
          "new_text": "profile->length_in_ms()",
          "old_line_content": "        return min(end_of_trace, max(timestamp, start_of_trace));",
          "new_line_content": "    const u64 end_of_trace = start_of_trace + profile->length_in_ms();",
          "content_same": false
        },
        {
          "line": 172,
          "old_api": "hover_time",
          "new_api": "select_end_time",
          "old_text": "view.hover_time()",
          "new_text": "view.select_end_time()",
          "old_line_content": "        u64 normalized_hover_time = clamp_timestamp(view.hover_time());",
          "new_line_content": "        u64 normalized_start_time = clamp_timestamp(min(view.select_start_time(), view.select_end_time()));",
          "content_same": false
        },
        {
          "line": 173,
          "old_api": "appendff",
          "new_api": "select_end_time",
          "old_text": "builder.appendff(\"Time: {} ms\", normalized_hover_time - start_of_trace)",
          "new_text": "view.select_end_time()",
          "old_line_content": "        builder.appendff(\"Time: {} ms\", normalized_hover_time - start_of_trace);",
          "new_line_content": "        u64 normalized_end_time = clamp_timestamp(max(view.select_start_time(), view.select_end_time()));",
          "content_same": false
        },
        {
          "line": 179,
          "old_api": "to_string",
          "new_api": "appendff",
          "old_text": "builder.to_string()",
          "new_text": "builder.appendff(\", Selection: {} - {} ms\", start, end)",
          "old_line_content": "        statusbar.set_text(builder.to_string());",
          "new_line_content": "            builder.appendff(\", Selection: {} - {} ms\", start, end);",
          "content_same": false
        },
        {
          "line": 184,
          "old_api": "quit",
          "new_api": "GUI::Menubar::construct()",
          "old_text": "app->quit()",
          "new_text": "GUI::Menubar::construct()",
          "old_line_content": "    file_menu.add_action(GUI::CommonActions::make_quit_action([&](auto&) { app->quit(); }));",
          "new_line_content": "    auto menubar = GUI::Menubar::construct();",
          "content_same": false
        },
        {
          "line": 186,
          "old_api": "add_menu",
          "new_api": "quit",
          "old_text": "menubar->add_menu(\"&View\")",
          "new_text": "app->quit()",
          "old_line_content": "    auto& view_menu = menubar->add_menu(\"&View\");",
          "new_line_content": "    file_menu.add_action(GUI::CommonActions::make_quit_action([&](auto&) { app->quit(); }));",
          "content_same": false
        },
        {
          "line": 188,
          "old_api": "is_checked",
          "new_api": "add_menu",
          "old_text": "GUI::Action::create_checkable(\"&Invert Tree\", { Mod_Ctrl, Key_I }, [&](auto& action) {\n        profile->set_inverted(action.is_checked());\n    })",
          "new_text": "menubar->add_menu(\"&View\")",
          "old_line_content": "    auto invert_action = GUI::Action::create_checkable(\"&Invert Tree\", { Mod_Ctrl, Key_I }, [&](auto& action) {",
          "new_line_content": "    auto& view_menu = menubar->add_menu(\"&View\");",
          "content_same": false
        },
        {
          "line": 191,
          "old_api": "set_checked",
          "new_api": "is_checked",
          "old_text": "invert_action->set_checked(false)",
          "new_text": "action.is_checked()",
          "old_line_content": "    invert_action->set_checked(false);",
          "new_line_content": "        profile->set_inverted(action.is_checked());",
          "content_same": false
        },
        {
          "line": 194,
          "old_api": "is_checked",
          "new_api": "add_action",
          "old_text": "GUI::Action::create_checkable(\"&Top Functions\", { Mod_Ctrl, Key_T }, [&](auto& action) {\n        profile->set_show_top_functions(action.is_checked());\n    })",
          "new_text": "view_menu.add_action(invert_action)",
          "old_line_content": "    auto top_functions_action = GUI::Action::create_checkable(\"&Top Functions\", { Mod_Ctrl, Key_T }, [&](auto& action) {",
          "new_line_content": "    view_menu.add_action(invert_action);",
          "content_same": false
        },
        {
          "line": 197,
          "old_api": "set_checked",
          "new_api": "is_checked",
          "old_text": "top_functions_action->set_checked(false)",
          "new_text": "action.is_checked()",
          "old_line_content": "    top_functions_action->set_checked(false);",
          "new_line_content": "        profile->set_show_top_functions(action.is_checked());",
          "content_same": false
        },
        {
          "line": 200,
          "old_api": "is_checked",
          "new_api": "add_action",
          "old_text": "GUI::Action::create_checkable(\"Show &Percentages\", { Mod_Ctrl, Key_P }, [&](auto& action) {\n        profile->set_show_percentages(action.is_checked());\n        tree_view.update();\n        disassembly_view.update();\n    })",
          "new_text": "view_menu.add_action(top_functions_action)",
          "old_line_content": "    auto percent_action = GUI::Action::create_checkable(\"Show &Percentages\", { Mod_Ctrl, Key_P }, [&](auto& action) {",
          "new_line_content": "    view_menu.add_action(top_functions_action);",
          "content_same": false
        },
        {
          "line": 202,
          "old_api": "update",
          "new_api": "is_checked",
          "old_text": "tree_view.update()",
          "new_text": "GUI::Action::create_checkable(\"Show &Percentages\", { Mod_Ctrl, Key_P }, [&](auto& action) {\n        profile->set_show_percentages(action.is_checked());\n        tree_view.update();\n        disassembly_view.update();\n    })",
          "old_line_content": "        tree_view.update();",
          "new_line_content": "    auto percent_action = GUI::Action::create_checkable(\"Show &Percentages\", { Mod_Ctrl, Key_P }, [&](auto& action) {",
          "content_same": false
        },
        {
          "line": 203,
          "old_api": "update",
          "new_api": "is_checked",
          "old_text": "disassembly_view.update()",
          "new_text": "action.is_checked()",
          "old_line_content": "        disassembly_view.update();",
          "new_line_content": "        profile->set_show_percentages(action.is_checked());",
          "content_same": false
        },
        {
          "line": 205,
          "old_api": "set_checked",
          "new_api": "update",
          "old_text": "percent_action->set_checked(false)",
          "new_text": "disassembly_view.update()",
          "old_line_content": "    percent_action->set_checked(false);",
          "new_line_content": "        disassembly_view.update();",
          "content_same": false
        },
        {
          "line": 208,
          "old_api": "add_menu",
          "new_api": "add_action",
          "old_text": "menubar->add_menu(\"&Help\")",
          "new_text": "view_menu.add_action(percent_action)",
          "old_line_content": "    auto& help_menu = menubar->add_menu(\"&Help\");",
          "new_line_content": "    view_menu.add_action(percent_action);",
          "content_same": false
        },
        {
          "line": 210,
          "old_api": "URL::create_with_file_protocol(\"/usr/share/man/man1/Profiler.md\")",
          "new_api": "add_menu",
          "old_text": "URL::create_with_file_protocol(\"/usr/share/man/man1/Profiler.md\")",
          "new_text": "menubar->add_menu(\"&Help\")",
          "old_line_content": "        Desktop::Launcher::open(URL::create_with_file_protocol(\"/usr/share/man/man1/Profiler.md\"), \"/bin/Help\");",
          "new_line_content": "    auto& help_menu = menubar->add_menu(\"&Help\");",
          "content_same": false
        },
        {
          "line": 212,
          "old_api": "GUI::CommonActions::make_about_action(\"Profiler\", app_icon, window)",
          "new_api": "URL::create_with_file_protocol(\"/usr/share/man/man1/Profiler.md\")",
          "old_text": "GUI::CommonActions::make_about_action(\"Profiler\", app_icon, window)",
          "new_text": "URL::create_with_file_protocol(\"/usr/share/man/man1/Profiler.md\")",
          "old_line_content": "    help_menu.add_action(GUI::CommonActions::make_about_action(\"Profiler\", app_icon, window));",
          "new_line_content": "        Desktop::Launcher::open(URL::create_with_file_protocol(\"/usr/share/man/man1/Profiler.md\"), \"/bin/Help\");",
          "content_same": false
        },
        {
          "line": 214,
          "old_api": "move",
          "new_api": "GUI::CommonActions::make_about_action(\"Profiler\", app_icon, window)",
          "old_text": "move(menubar)",
          "new_text": "GUI::CommonActions::make_about_action(\"Profiler\", app_icon, window)",
          "old_line_content": "    window->set_menubar(move(menubar));",
          "new_line_content": "    help_menu.add_action(GUI::CommonActions::make_about_action(\"Profiler\", app_icon, window));",
          "content_same": false
        },
        {
          "line": 216,
          "old_api": "exec",
          "new_api": "move",
          "old_text": "app->exec()",
          "new_text": "move(menubar)",
          "old_line_content": "    return app->exec();",
          "new_line_content": "    window->set_menubar(move(menubar));",
          "content_same": false
        },
        {
          "line": 223,
          "old_api": "resize",
          "new_api": "GUI::Window::construct()",
          "old_text": "window->resize(240, 100)",
          "new_text": "GUI::Window::construct()",
          "old_line_content": "    window->resize(240, 100);",
          "new_line_content": "    auto window = GUI::Window::construct();",
          "content_same": false
        },
        {
          "line": 224,
          "old_api": "Gfx::Bitmap::load_from_file(\"/res/icons/16x16/app-profiler.png\")",
          "new_api": "String::formatted(\"Profiling {}({})\", process_name, pid)",
          "old_text": "Gfx::Bitmap::load_from_file(\"/res/icons/16x16/app-profiler.png\")",
          "new_text": "String::formatted(\"Profiling {}({})\", process_name, pid)",
          "old_line_content": "    window->set_icon(Gfx::Bitmap::load_from_file(\"/res/icons/16x16/app-profiler.png\"));",
          "new_line_content": "    window->set_title(String::formatted(\"Profiling {}({})\", process_name, pid));",
          "content_same": false
        },
        {
          "line": 225,
          "old_api": "center_on_screen",
          "new_api": "resize",
          "old_text": "window->center_on_screen()",
          "new_text": "window->resize(240, 100)",
          "old_line_content": "    window->center_on_screen();",
          "new_line_content": "    window->resize(240, 100);",
          "content_same": false
        },
        {
          "line": 227,
          "old_api": "window->set_main_widget<GUI::Widget>()",
          "new_api": "center_on_screen",
          "old_text": "window->set_main_widget<GUI::Widget>()",
          "new_text": "window->center_on_screen()",
          "old_line_content": "    auto& widget = window->set_main_widget<GUI::Widget>();",
          "new_line_content": "    window->center_on_screen();",
          "content_same": false
        },
        {
          "line": 229,
          "old_api": "widget.set_layout<GUI::VerticalBoxLayout>()",
          "new_api": "window->set_main_widget<GUI::Widget>()",
          "old_text": "widget.set_layout<GUI::VerticalBoxLayout>()",
          "new_text": "window->set_main_widget<GUI::Widget>()",
          "old_line_content": "    auto& layout = widget.set_layout<GUI::VerticalBoxLayout>();",
          "new_line_content": "    auto& widget = window->set_main_widget<GUI::Widget>();",
          "content_same": false
        },
        {
          "line": 230,
          "old_api": "GUI::Margins(0, 0, 0, 16)",
          "new_api": "set_fill_with_background_color",
          "old_text": "GUI::Margins(0, 0, 0, 16)",
          "new_text": "widget.set_fill_with_background_color(true)",
          "old_line_content": "    layout.set_margins(GUI::Margins(0, 0, 0, 16));",
          "new_line_content": "    widget.set_fill_with_background_color(true);",
          "content_same": false
        },
        {
          "line": 232,
          "old_api": "widget.add<GUI::Label>(\"...\")",
          "new_api": "GUI::Margins(0, 0, 0, 16)",
          "old_text": "widget.add<GUI::Label>(\"...\")",
          "new_text": "GUI::Margins(0, 0, 0, 16)",
          "old_line_content": "    auto& timer_label = widget.add<GUI::Label>(\"...\");",
          "new_line_content": "    layout.set_margins(GUI::Margins(0, 0, 0, 16));",
          "content_same": false
        },
        {
          "line": 234,
          "old_api": "start",
          "new_api": "widget.add<GUI::Label>(\"...\")",
          "old_text": "clock.start()",
          "new_text": "widget.add<GUI::Label>(\"...\")",
          "old_line_content": "    clock.start();",
          "new_line_content": "    auto& timer_label = widget.add<GUI::Label>(\"...\");",
          "content_same": false
        },
        {
          "line": 236,
          "old_api": "elapsed",
          "new_api": "start",
          "old_text": "clock.elapsed()",
          "new_text": "clock.start()",
          "old_line_content": "        timer_label.set_text(String::formatted(\"{:.1} seconds\", clock.elapsed() / 1000.0f));",
          "new_line_content": "    clock.start();",
          "content_same": false
        },
        {
          "line": 242,
          "old_api": "quit",
          "new_api": "set_fixed_size",
          "old_text": "GUI::Application::the()->quit()",
          "new_text": "stop_button.set_fixed_size(140, 22)",
          "old_line_content": "        GUI::Application::the()->quit();",
          "new_line_content": "    stop_button.set_fixed_size(140, 22);",
          "content_same": false
        },
        {
          "line": 255,
          "old_api": "pid",
          "new_api": "exec",
          "old_text": "process_chooser->pid()",
          "new_text": "process_chooser->exec()",
          "old_line_content": "        pid = process_chooser->pid();",
          "new_line_content": "        if (process_chooser->exec() == GUI::Dialog::ExecCancel)",
          "content_same": false
        },
        {
          "line": 262,
          "old_api": "value",
          "new_api": "Core::ProcessStatisticsReader::get_all()",
          "old_text": "all_processes.value().end()",
          "new_text": "Core::ProcessStatisticsReader::get_all()",
          "old_line_content": "        if (auto it = all_processes.value().find(pid); it != all_processes.value().end())",
          "new_line_content": "    auto all_processes = Core::ProcessStatisticsReader::get_all();",
          "content_same": false
        },
        {
          "line": 272,
          "old_api": "strerror",
          "new_api": "profiling_enable",
          "old_text": "strerror(saved_errno)",
          "new_text": "profiling_enable(pid)",
          "old_line_content": "        GUI::MessageBox::show(nullptr, String::formatted(\"Unable to profile process {}({}): {}\", process_name, pid, strerror(saved_errno)), \"Profiler\", GUI::MessageBox::Type::Error);",
          "new_line_content": "    if (profiling_enable(pid) < 0) {",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 257,
          "old_api": null,
          "new_api": "pid",
          "old_text": null,
          "new_text": "process_chooser->pid()",
          "old_line_content": "",
          "new_line_content": "        pid = process_chooser->pid();",
          "content_same": false
        },
        {
          "line": 133,
          "old_api": null,
          "new_api": "layout",
          "old_text": null,
          "new_text": "tree_tab.layout()->set_margins({ 4, 4, 4, 4 })",
          "old_line_content": "",
          "new_line_content": "    tree_tab.layout()->set_margins({ 4, 4, 4, 4 });",
          "content_same": false
        },
        {
          "line": 263,
          "old_api": null,
          "new_api": "has_value",
          "old_text": null,
          "new_text": "all_processes.has_value()",
          "old_line_content": "            process_name = it->value.name;",
          "new_line_content": "    if (all_processes.has_value()) {",
          "content_same": false
        },
        {
          "line": 264,
          "old_api": null,
          "new_api": "value",
          "old_text": null,
          "new_text": "all_processes.value().end()",
          "old_line_content": "        else",
          "new_line_content": "        if (auto it = all_processes.value().find(pid); it != all_processes.value().end())",
          "content_same": false
        },
        {
          "line": 138,
          "old_api": null,
          "new_api": "set_column_headers_visible",
          "old_text": null,
          "new_text": "tree_view.set_column_headers_visible(true)",
          "old_line_content": "",
          "new_line_content": "    tree_view.set_column_headers_visible(true);",
          "content_same": false
        },
        {
          "line": 141,
          "old_api": null,
          "new_api": "bottom_splitter.add<GUI::TableView>()",
          "old_text": null,
          "new_text": "bottom_splitter.add<GUI::TableView>()",
          "old_line_content": "    tree_view.on_selection = [&](auto& index) {",
          "new_line_content": "    auto& disassembly_view = bottom_splitter.add<GUI::TableView>();",
          "content_same": false
        },
        {
          "line": 144,
          "old_api": null,
          "new_api": "set_disassembly_index",
          "old_text": null,
          "new_text": "profile->set_disassembly_index(index)",
          "old_line_content": "    };",
          "new_line_content": "        profile->set_disassembly_index(index);",
          "content_same": false
        },
        {
          "line": 145,
          "old_api": null,
          "new_api": "disassembly_model",
          "old_text": null,
          "new_text": "profile->disassembly_model()",
          "old_line_content": "",
          "new_line_content": "        disassembly_view.set_model(profile->disassembly_model());",
          "content_same": false
        },
        {
          "line": 274,
          "old_api": null,
          "new_api": "strerror",
          "old_text": null,
          "new_text": "strerror(saved_errno)",
          "old_line_content": "    }",
          "new_line_content": "        GUI::MessageBox::show(nullptr, String::formatted(\"Unable to profile process {}({}): {}\", process_name, pid, strerror(saved_errno)), \"Profiler\", GUI::MessageBox::Type::Error);",
          "content_same": false
        },
        {
          "line": 149,
          "old_api": null,
          "new_api": "samples_tab.set_layout<GUI::VerticalBoxLayout>()",
          "old_text": null,
          "new_text": "samples_tab.set_layout<GUI::VerticalBoxLayout>()",
          "old_line_content": "",
          "new_line_content": "    samples_tab.set_layout<GUI::VerticalBoxLayout>();",
          "content_same": false
        },
        {
          "line": 278,
          "old_api": null,
          "new_api": "prompt_to_stop_profiling",
          "old_text": null,
          "new_text": "prompt_to_stop_profiling(pid, process_name)",
          "old_line_content": "",
          "new_line_content": "    if (!prompt_to_stop_profiling(pid, process_name))",
          "content_same": false
        },
        {
          "line": 153,
          "old_api": null,
          "new_api": "samples_splitter.add<GUI::TableView>()",
          "old_text": null,
          "new_text": "samples_splitter.add<GUI::TableView>()",
          "old_line_content": "",
          "new_line_content": "    auto& samples_table_view = samples_splitter.add<GUI::TableView>();",
          "content_same": false
        },
        {
          "line": 281,
          "old_api": null,
          "new_api": "profiling_disable",
          "old_text": null,
          "new_text": "profiling_disable(pid)",
          "old_line_content": "    }",
          "new_line_content": "    if (profiling_disable(pid) < 0) {",
          "content_same": false
        },
        {
          "line": 158,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "index.data(GUI::ModelRole::Custom).to_integer<size_t>()",
          "old_line_content": "    };",
          "new_line_content": "        auto model = IndividualSampleModel::create(*profile, index.data(GUI::ModelRole::Custom).to_integer<size_t>());",
          "content_same": false
        },
        {
          "line": 159,
          "old_api": null,
          "new_api": "move",
          "old_text": null,
          "new_text": "move(model)",
          "old_line_content": "",
          "new_line_content": "        individual_sample_view.set_model(move(model));",
          "content_same": false
        },
        {
          "line": 162,
          "old_api": null,
          "new_api": "first_timestamp",
          "old_text": null,
          "new_text": "profile->first_timestamp()",
          "old_line_content": "    const auto clamp_timestamp = [start_of_trace, end_of_trace](u64 timestamp) -> u64 {",
          "new_line_content": "    const u64 start_of_trace = profile->first_timestamp();",
          "content_same": false
        },
        {
          "line": 165,
          "old_api": null,
          "new_api": "max",
          "old_text": null,
          "new_text": "max(timestamp, start_of_trace)",
          "old_line_content": "",
          "new_line_content": "        return min(end_of_trace, max(timestamp, start_of_trace));",
          "content_same": false
        },
        {
          "line": 168,
          "old_api": null,
          "new_api": "main_widget.add<GUI::Statusbar>()",
          "old_text": null,
          "new_text": "main_widget.add<GUI::Statusbar>()",
          "old_line_content": "        auto& view = *timeline_view;",
          "new_line_content": "    auto& statusbar = main_widget.add<GUI::Statusbar>();",
          "content_same": false
        },
        {
          "line": 174,
          "old_api": null,
          "new_api": "hover_time",
          "old_text": null,
          "new_text": "view.hover_time()",
          "old_line_content": "        if (normalized_start_time != normalized_end_time) {",
          "new_line_content": "        u64 normalized_hover_time = clamp_timestamp(view.hover_time());",
          "content_same": false
        },
        {
          "line": 175,
          "old_api": null,
          "new_api": "appendff",
          "old_text": null,
          "new_text": "builder.appendff(\"Time: {} ms\", normalized_hover_time - start_of_trace)",
          "old_line_content": "            auto start = normalized_start_time - start_of_trace;",
          "new_line_content": "        builder.appendff(\"Time: {} ms\", normalized_hover_time - start_of_trace);",
          "content_same": false
        },
        {
          "line": 181,
          "old_api": null,
          "new_api": "to_string",
          "old_text": null,
          "new_text": "builder.to_string()",
          "old_line_content": "",
          "new_line_content": "        statusbar.set_text(builder.to_string());",
          "content_same": false
        },
        {
          "line": 185,
          "old_api": null,
          "new_api": "add_menu",
          "old_text": null,
          "new_text": "menubar->add_menu(\"&File\")",
          "old_line_content": "",
          "new_line_content": "    auto& file_menu = menubar->add_menu(\"&File\");",
          "content_same": false
        },
        {
          "line": 190,
          "old_api": null,
          "new_api": "is_checked",
          "old_text": null,
          "new_text": "GUI::Action::create_checkable(\"&Invert Tree\", { Mod_Ctrl, Key_I }, [&](auto& action) {\n        profile->set_inverted(action.is_checked());\n    })",
          "old_line_content": "    });",
          "new_line_content": "    auto invert_action = GUI::Action::create_checkable(\"&Invert Tree\", { Mod_Ctrl, Key_I }, [&](auto& action) {",
          "content_same": false
        },
        {
          "line": 193,
          "old_api": null,
          "new_api": "set_checked",
          "old_text": null,
          "new_text": "invert_action->set_checked(false)",
          "old_line_content": "",
          "new_line_content": "    invert_action->set_checked(false);",
          "content_same": false
        },
        {
          "line": 196,
          "old_api": null,
          "new_api": "is_checked",
          "old_text": null,
          "new_text": "GUI::Action::create_checkable(\"&Top Functions\", { Mod_Ctrl, Key_T }, [&](auto& action) {\n        profile->set_show_top_functions(action.is_checked());\n    })",
          "old_line_content": "    });",
          "new_line_content": "    auto top_functions_action = GUI::Action::create_checkable(\"&Top Functions\", { Mod_Ctrl, Key_T }, [&](auto& action) {",
          "content_same": false
        },
        {
          "line": 199,
          "old_api": null,
          "new_api": "set_checked",
          "old_text": null,
          "new_text": "top_functions_action->set_checked(false)",
          "old_line_content": "",
          "new_line_content": "    top_functions_action->set_checked(false);",
          "content_same": false
        },
        {
          "line": 204,
          "old_api": null,
          "new_api": "update",
          "old_text": null,
          "new_text": "tree_view.update()",
          "old_line_content": "    });",
          "new_line_content": "        tree_view.update();",
          "content_same": false
        },
        {
          "line": 207,
          "old_api": null,
          "new_api": "set_checked",
          "old_text": null,
          "new_text": "percent_action->set_checked(false)",
          "old_line_content": "",
          "new_line_content": "    percent_action->set_checked(false);",
          "content_same": false
        },
        {
          "line": 211,
          "old_api": null,
          "new_api": "GUI::CommonActions::make_help_action([](auto&) {\n        Desktop::Launcher::open(URL::create_with_file_protocol(\"/usr/share/man/man1/Profiler.md\"), \"/bin/Help\");\n    })",
          "old_text": null,
          "new_text": "GUI::CommonActions::make_help_action([](auto&) {\n        Desktop::Launcher::open(URL::create_with_file_protocol(\"/usr/share/man/man1/Profiler.md\"), \"/bin/Help\");\n    })",
          "old_line_content": "    }));",
          "new_line_content": "    help_menu.add_action(GUI::CommonActions::make_help_action([](auto&) {",
          "content_same": false
        },
        {
          "line": 217,
          "old_api": null,
          "new_api": "show",
          "old_text": null,
          "new_text": "window->show()",
          "old_line_content": "}",
          "new_line_content": "    window->show();",
          "content_same": false
        },
        {
          "line": 218,
          "old_api": null,
          "new_api": "exec",
          "old_text": null,
          "new_text": "app->exec()",
          "old_line_content": "",
          "new_line_content": "    return app->exec();",
          "content_same": false
        },
        {
          "line": 247,
          "old_api": null,
          "new_api": "show",
          "old_text": null,
          "new_text": "window->show()",
          "old_line_content": "}",
          "new_line_content": "    window->show();",
          "content_same": false
        },
        {
          "line": 248,
          "old_api": null,
          "new_api": "exec",
          "old_text": null,
          "new_text": "GUI::Application::the()->exec()",
          "old_line_content": "",
          "new_line_content": "    return GUI::Application::the()->exec() == 0;",
          "content_same": false
        },
        {
          "line": 226,
          "old_api": null,
          "new_api": "Gfx::Bitmap::load_from_file(\"/res/icons/16x16/app-profiler.png\")",
          "old_text": null,
          "new_text": "Gfx::Bitmap::load_from_file(\"/res/icons/16x16/app-profiler.png\")",
          "old_line_content": "",
          "new_line_content": "    window->set_icon(Gfx::Bitmap::load_from_file(\"/res/icons/16x16/app-profiler.png\"));",
          "content_same": false
        },
        {
          "line": 231,
          "old_api": null,
          "new_api": "widget.set_layout<GUI::VerticalBoxLayout>()",
          "old_text": null,
          "new_text": "widget.set_layout<GUI::VerticalBoxLayout>()",
          "old_line_content": "",
          "new_line_content": "    auto& layout = widget.set_layout<GUI::VerticalBoxLayout>();",
          "content_same": false
        },
        {
          "line": 237,
          "old_api": null,
          "new_api": "set_text",
          "old_text": null,
          "new_text": "Core::Timer::construct(100, [&] {\n        timer_label.set_text(String::formatted(\"{:.1} seconds\", clock.elapsed() / 1000.0f));\n    })",
          "old_line_content": "    });",
          "new_line_content": "    auto update_timer = Core::Timer::construct(100, [&] {",
          "content_same": false
        },
        {
          "line": 110,
          "old_api": null,
          "new_api": "timeline_header_container->add<TimelineHeader>(*profile, process)",
          "old_text": null,
          "new_text": "timeline_header_container->add<TimelineHeader>(*profile, process)",
          "old_line_content": "        timeline_header.on_selection_change = [&](bool selected) {",
          "new_line_content": "        auto& timeline_header = timeline_header_container->add<TimelineHeader>(*profile, process);",
          "content_same": false
        },
        {
          "line": 111,
          "old_api": null,
          "new_api": "set_shrink_to_fit",
          "old_text": null,
          "new_text": "timeline_header.set_shrink_to_fit(true)",
          "old_line_content": "            if (selected) {",
          "new_line_content": "        timeline_header.set_shrink_to_fit(true);",
          "content_same": false
        },
        {
          "line": 238,
          "old_api": null,
          "new_api": "elapsed",
          "old_text": null,
          "new_text": "clock.elapsed()",
          "old_line_content": "",
          "new_line_content": "        timer_label.set_text(String::formatted(\"{:.1} seconds\", clock.elapsed() / 1000.0f));",
          "content_same": false
        },
        {
          "line": 241,
          "old_api": null,
          "new_api": "widget.add<GUI::Button>(\"Stop\")",
          "old_text": null,
          "new_text": "widget.add<GUI::Button>(\"Stop\")",
          "old_line_content": "    stop_button.on_click = [&](auto) {",
          "new_line_content": "    auto& stop_button = widget.add<GUI::Button>(\"Stop\");",
          "content_same": false
        },
        {
          "line": 114,
          "old_api": null,
          "new_api": "last_timestamp",
          "old_text": null,
          "new_text": "profile->last_timestamp()",
          "old_line_content": "            } else",
          "new_line_content": "                auto end_valid = process.end_valid == 0 ? profile->last_timestamp() : process.end_valid;",
          "content_same": false
        },
        {
          "line": 244,
          "old_api": null,
          "new_api": "quit",
          "old_text": null,
          "new_text": "GUI::Application::the()->quit()",
          "old_line_content": "",
          "new_line_content": "        GUI::Application::the()->quit();",
          "content_same": false
        },
        {
          "line": 119,
          "old_api": null,
          "new_api": "update_selection",
          "old_text": null,
          "new_text": "timeline_header_container->for_each_child_widget([](auto& other_timeline_header) {\n                static_cast<TimelineHeader&>(other_timeline_header).update_selection();\n                return IterationDecision::Continue;\n            })",
          "old_line_content": "                return IterationDecision::Continue;",
          "new_line_content": "            timeline_header_container->for_each_child_widget([](auto& other_timeline_header) {",
          "content_same": false
        },
        {
          "line": 120,
          "old_api": null,
          "new_api": "update_selection",
          "old_text": null,
          "new_text": "static_cast<TimelineHeader&>(other_timeline_header).update_selection()",
          "old_line_content": "            });",
          "new_line_content": "                static_cast<TimelineHeader&>(other_timeline_header).update_selection();",
          "content_same": false
        },
        {
          "line": 124,
          "old_api": null,
          "new_api": "timeline_view->add<TimelineTrack>(*timeline_view, *profile, process)",
          "old_text": null,
          "new_text": "timeline_view->add<TimelineTrack>(*timeline_view, *profile, process)",
          "old_line_content": "",
          "new_line_content": "        timeline_view->add<TimelineTrack>(*timeline_view, *profile, process);",
          "content_same": false
        },
        {
          "line": 254,
          "old_api": null,
          "new_api": "Gfx::Bitmap::load_from_file(\"/res/icons/16x16/app-profiler.png\")",
          "old_text": null,
          "new_text": "Gfx::Bitmap::load_from_file(\"/res/icons/16x16/app-profiler.png\")",
          "old_line_content": "            return false;",
          "new_line_content": "        auto process_chooser = GUI::ProcessChooser::construct(\"Profiler\", \"Profile\", Gfx::Bitmap::load_from_file(\"/res/icons/16x16/app-profiler.png\"));",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 130,
          "old_api": "tree_tab.set_layout<GUI::VerticalBoxLayout>()",
          "new_api": null,
          "old_text": "tree_tab.set_layout<GUI::VerticalBoxLayout>()",
          "new_text": null,
          "old_line_content": "    tree_tab.set_layout<GUI::VerticalBoxLayout>();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 260,
          "old_api": "Core::ProcessStatisticsReader::get_all()",
          "new_api": null,
          "old_text": "Core::ProcessStatisticsReader::get_all()",
          "new_text": null,
          "old_line_content": "    auto all_processes = Core::ProcessStatisticsReader::get_all();",
          "new_line_content": "    String process_name;",
          "content_same": false
        },
        {
          "line": 261,
          "old_api": "has_value",
          "new_api": null,
          "old_text": "all_processes.has_value()",
          "new_text": null,
          "old_line_content": "    if (all_processes.has_value()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 135,
          "old_api": "set_should_fill_selected_rows",
          "new_api": null,
          "old_text": "tree_view.set_should_fill_selected_rows(true)",
          "new_text": null,
          "old_line_content": "    tree_view.set_should_fill_selected_rows(true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 142,
          "old_api": "set_disassembly_index",
          "new_api": null,
          "old_text": "profile->set_disassembly_index(index)",
          "new_text": null,
          "old_line_content": "        profile->set_disassembly_index(index);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 143,
          "old_api": "disassembly_model",
          "new_api": null,
          "old_text": "profile->disassembly_model()",
          "new_text": null,
          "old_line_content": "        disassembly_view.set_model(profile->disassembly_model());",
          "new_line_content": "    tree_view.on_selection = [&](auto& index) {",
          "content_same": false
        },
        {
          "line": 270,
          "old_api": "profiling_enable",
          "new_api": null,
          "old_text": "profiling_enable(pid)",
          "new_text": null,
          "old_line_content": "    if (profiling_enable(pid) < 0) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 146,
          "old_api": "tab_widget.add_tab<GUI::Widget>(\"Samples\")",
          "new_api": null,
          "old_text": "tab_widget.add_tab<GUI::Widget>(\"Samples\")",
          "new_text": null,
          "old_line_content": "    auto& samples_tab = tab_widget.add_tab<GUI::Widget>(\"Samples\");",
          "new_line_content": "    };",
          "content_same": false
        },
        {
          "line": 147,
          "old_api": "samples_tab.set_layout<GUI::VerticalBoxLayout>()",
          "new_api": null,
          "old_text": "samples_tab.set_layout<GUI::VerticalBoxLayout>()",
          "new_text": null,
          "old_line_content": "    samples_tab.set_layout<GUI::VerticalBoxLayout>();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 276,
          "old_api": "prompt_to_stop_profiling",
          "new_api": null,
          "old_text": "prompt_to_stop_profiling(pid, process_name)",
          "new_text": null,
          "old_line_content": "    if (!prompt_to_stop_profiling(pid, process_name))",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 151,
          "old_api": "samples_splitter.add<GUI::TableView>()",
          "new_api": null,
          "old_text": "samples_splitter.add<GUI::TableView>()",
          "new_text": null,
          "old_line_content": "    auto& samples_table_view = samples_splitter.add<GUI::TableView>();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 279,
          "old_api": "profiling_disable",
          "new_api": null,
          "old_text": "profiling_disable(pid)",
          "new_text": null,
          "old_line_content": "    if (profiling_disable(pid) < 0) {",
          "new_line_content": "        return false;",
          "content_same": false
        },
        {
          "line": 157,
          "old_api": "move",
          "new_api": null,
          "old_text": "move(model)",
          "new_text": null,
          "old_line_content": "        individual_sample_view.set_model(move(model));",
          "new_line_content": "    samples_table_view.on_selection = [&](const GUI::ModelIndex& index) {",
          "content_same": false
        },
        {
          "line": 160,
          "old_api": "first_timestamp",
          "new_api": null,
          "old_text": "profile->first_timestamp()",
          "new_text": null,
          "old_line_content": "    const u64 start_of_trace = profile->first_timestamp();",
          "new_line_content": "    };",
          "content_same": false
        },
        {
          "line": 161,
          "old_api": "length_in_ms",
          "new_api": null,
          "old_text": "profile->length_in_ms()",
          "new_text": null,
          "old_line_content": "    const u64 end_of_trace = start_of_trace + profile->length_in_ms();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 166,
          "old_api": "main_widget.add<GUI::Statusbar>()",
          "new_api": null,
          "old_text": "main_widget.add<GUI::Statusbar>()",
          "new_text": null,
          "old_line_content": "    auto& statusbar = main_widget.add<GUI::Statusbar>();",
          "new_line_content": "    };",
          "content_same": false
        },
        {
          "line": 170,
          "old_api": "select_end_time",
          "new_api": null,
          "old_text": "view.select_end_time()",
          "new_text": null,
          "old_line_content": "        u64 normalized_start_time = clamp_timestamp(min(view.select_start_time(), view.select_end_time()));",
          "new_line_content": "        auto& view = *timeline_view;",
          "content_same": false
        },
        {
          "line": 171,
          "old_api": "select_end_time",
          "new_api": null,
          "old_text": "view.select_end_time()",
          "new_text": null,
          "old_line_content": "        u64 normalized_end_time = clamp_timestamp(max(view.select_start_time(), view.select_end_time()));",
          "new_line_content": "        StringBuilder builder;",
          "content_same": false
        },
        {
          "line": 177,
          "old_api": "appendff",
          "new_api": null,
          "old_text": "builder.appendff(\", Selection: {} - {} ms\", start, end)",
          "new_text": null,
          "old_line_content": "            builder.appendff(\", Selection: {} - {} ms\", start, end);",
          "new_line_content": "            auto start = normalized_start_time - start_of_trace;",
          "content_same": false
        },
        {
          "line": 182,
          "old_api": "GUI::Menubar::construct()",
          "new_api": null,
          "old_text": "GUI::Menubar::construct()",
          "new_text": null,
          "old_line_content": "    auto menubar = GUI::Menubar::construct();",
          "new_line_content": "    };",
          "content_same": false
        },
        {
          "line": 183,
          "old_api": "add_menu",
          "new_api": null,
          "old_text": "menubar->add_menu(\"&File\")",
          "new_text": null,
          "old_line_content": "    auto& file_menu = menubar->add_menu(\"&File\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 189,
          "old_api": "is_checked",
          "new_api": null,
          "old_text": "action.is_checked()",
          "new_text": null,
          "old_line_content": "        profile->set_inverted(action.is_checked());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 192,
          "old_api": "add_action",
          "new_api": null,
          "old_text": "view_menu.add_action(invert_action)",
          "new_text": null,
          "old_line_content": "    view_menu.add_action(invert_action);",
          "new_line_content": "    });",
          "content_same": false
        },
        {
          "line": 195,
          "old_api": "is_checked",
          "new_api": null,
          "old_text": "action.is_checked()",
          "new_text": null,
          "old_line_content": "        profile->set_show_top_functions(action.is_checked());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 198,
          "old_api": "add_action",
          "new_api": null,
          "old_text": "view_menu.add_action(top_functions_action)",
          "new_text": null,
          "old_line_content": "    view_menu.add_action(top_functions_action);",
          "new_line_content": "    });",
          "content_same": false
        },
        {
          "line": 201,
          "old_api": "is_checked",
          "new_api": null,
          "old_text": "action.is_checked()",
          "new_text": null,
          "old_line_content": "        profile->set_show_percentages(action.is_checked());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 206,
          "old_api": "add_action",
          "new_api": null,
          "old_text": "view_menu.add_action(percent_action)",
          "new_text": null,
          "old_line_content": "    view_menu.add_action(percent_action);",
          "new_line_content": "    });",
          "content_same": false
        },
        {
          "line": 209,
          "old_api": "GUI::CommonActions::make_help_action([](auto&) {\n        Desktop::Launcher::open(URL::create_with_file_protocol(\"/usr/share/man/man1/Profiler.md\"), \"/bin/Help\");\n    })",
          "new_api": null,
          "old_text": "GUI::CommonActions::make_help_action([](auto&) {\n        Desktop::Launcher::open(URL::create_with_file_protocol(\"/usr/share/man/man1/Profiler.md\"), \"/bin/Help\");\n    })",
          "new_text": null,
          "old_line_content": "    help_menu.add_action(GUI::CommonActions::make_help_action([](auto&) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 215,
          "old_api": "show",
          "new_api": null,
          "old_text": "window->show()",
          "new_text": null,
          "old_line_content": "    window->show();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 221,
          "old_api": "GUI::Window::construct()",
          "new_api": null,
          "old_text": "GUI::Window::construct()",
          "new_text": null,
          "old_line_content": "    auto window = GUI::Window::construct();",
          "new_line_content": "static bool prompt_to_stop_profiling(pid_t pid, const String& process_name)",
          "content_same": false
        },
        {
          "line": 222,
          "old_api": "String::formatted(\"Profiling {}({})\", process_name, pid)",
          "new_api": null,
          "old_text": "String::formatted(\"Profiling {}({})\", process_name, pid)",
          "new_text": null,
          "old_line_content": "    window->set_title(String::formatted(\"Profiling {}({})\", process_name, pid));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 228,
          "old_api": "set_fill_with_background_color",
          "new_api": null,
          "old_text": "widget.set_fill_with_background_color(true)",
          "new_text": null,
          "old_line_content": "    widget.set_fill_with_background_color(true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 235,
          "old_api": "set_text",
          "new_api": null,
          "old_text": "Core::Timer::construct(100, [&] {\n        timer_label.set_text(String::formatted(\"{:.1} seconds\", clock.elapsed() / 1000.0f));\n    })",
          "new_text": null,
          "old_line_content": "    auto update_timer = Core::Timer::construct(100, [&] {",
          "new_line_content": "    Core::ElapsedTimer clock;",
          "content_same": false
        },
        {
          "line": 108,
          "old_api": "timeline_header_container->add<TimelineHeader>(*profile, process)",
          "new_api": null,
          "old_text": "timeline_header_container->add<TimelineHeader>(*profile, process)",
          "new_text": null,
          "old_line_content": "        auto& timeline_header = timeline_header_container->add<TimelineHeader>(*profile, process);",
          "new_line_content": "        if (!matching_event_found)",
          "content_same": false
        },
        {
          "line": 109,
          "old_api": "set_shrink_to_fit",
          "new_api": null,
          "old_text": "timeline_header.set_shrink_to_fit(true)",
          "new_text": null,
          "old_line_content": "        timeline_header.set_shrink_to_fit(true);",
          "new_line_content": "            continue;",
          "content_same": false
        },
        {
          "line": 239,
          "old_api": "widget.add<GUI::Button>(\"Stop\")",
          "new_api": null,
          "old_text": "widget.add<GUI::Button>(\"Stop\")",
          "new_text": null,
          "old_line_content": "    auto& stop_button = widget.add<GUI::Button>(\"Stop\");",
          "new_line_content": "    });",
          "content_same": false
        },
        {
          "line": 112,
          "old_api": "last_timestamp",
          "new_api": null,
          "old_text": "profile->last_timestamp()",
          "new_text": null,
          "old_line_content": "                auto end_valid = process.end_valid == 0 ? profile->last_timestamp() : process.end_valid;",
          "new_line_content": "        timeline_header.on_selection_change = [&](bool selected) {",
          "content_same": false
        },
        {
          "line": 113,
          "old_api": "set_process_filter",
          "new_api": null,
          "old_text": "profile->set_process_filter(process.pid, process.start_valid, end_valid)",
          "new_text": null,
          "old_line_content": "                profile->set_process_filter(process.pid, process.start_valid, end_valid);",
          "new_line_content": "            if (selected) {",
          "content_same": false
        },
        {
          "line": 240,
          "old_api": "set_fixed_size",
          "new_api": null,
          "old_text": "stop_button.set_fixed_size(140, 22)",
          "new_text": null,
          "old_line_content": "    stop_button.set_fixed_size(140, 22);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 245,
          "old_api": "show",
          "new_api": null,
          "old_text": "window->show()",
          "new_text": null,
          "old_line_content": "    window->show();",
          "new_line_content": "    };",
          "content_same": false
        },
        {
          "line": 118,
          "old_api": "update_selection",
          "new_api": null,
          "old_text": "static_cast<TimelineHeader&>(other_timeline_header).update_selection()",
          "new_text": null,
          "old_line_content": "                static_cast<TimelineHeader&>(other_timeline_header).update_selection();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 246,
          "old_api": "exec",
          "new_api": null,
          "old_text": "GUI::Application::the()->exec()",
          "new_text": null,
          "old_line_content": "    return GUI::Application::the()->exec() == 0;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 253,
          "old_api": "exec",
          "new_api": null,
          "old_text": "process_chooser->exec()",
          "new_text": null,
          "old_line_content": "        if (process_chooser->exec() == GUI::Dialog::ExecCancel)",
          "new_line_content": "    if (!pid) {",
          "content_same": false
        },
        {
          "line": 122,
          "old_api": "timeline_view->add<TimelineTrack>(*timeline_view, *profile, process)",
          "new_api": null,
          "old_text": "timeline_view->add<TimelineTrack>(*timeline_view, *profile, process)",
          "new_text": null,
          "old_line_content": "        timeline_view->add<TimelineTrack>(*timeline_view, *profile, process);",
          "new_line_content": "            });",
          "content_same": false
        },
        {
          "line": 252,
          "old_api": "Gfx::Bitmap::load_from_file(\"/res/icons/16x16/app-profiler.png\")",
          "new_api": null,
          "old_text": "Gfx::Bitmap::load_from_file(\"/res/icons/16x16/app-profiler.png\")",
          "new_text": null,
          "old_line_content": "        auto process_chooser = GUI::ProcessChooser::construct(\"Profiler\", \"Profile\", Gfx::Bitmap::load_from_file(\"/res/icons/16x16/app-profiler.png\"));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 125,
          "old_api": "main_widget.add<TimelineContainer>(*timeline_header_container, *timeline_view)",
          "new_api": null,
          "old_text": "main_widget.add<TimelineContainer>(*timeline_header_container, *timeline_view)",
          "new_text": null,
          "old_line_content": "    [[maybe_unused]] auto& timeline_container = main_widget.add<TimelineContainer>(*timeline_header_container, *timeline_view);",
          "new_line_content": "    }",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 47,
      "total_additions": 46,
      "total_deletions": 46,
      "total_api_changes": 139
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 6,
        "api_related_lines": 139,
        "non_api_lines": 5,
        "non_api_line_numbers": [
          101,
          103,
          104,
          105,
          106
        ]
      }
    },
    "api_calls_before": 167,
    "api_calls_after": 167,
    "diff_info": {
      "added_lines": 6,
      "removed_lines": 4,
      "total_diff_lines": 24
    }
  }
}