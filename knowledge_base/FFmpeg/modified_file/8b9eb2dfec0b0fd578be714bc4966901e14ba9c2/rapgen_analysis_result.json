{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/8b9eb2dfec0b0fd578be714bc4966901e14ba9c2",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/8b9eb2dfec0b0fd578be714bc4966901e14ba9c2/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/8b9eb2dfec0b0fd578be714bc4966901e14ba9c2/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/8b9eb2dfec0b0fd578be714bc4966901e14ba9c2/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 388,
          "old_api": "IS_INTRA",
          "new_api": "IS_DIRECT",
          "old_text": "IS_INTRA(mb_type_col[y8])",
          "new_text": "IS_DIRECT(h->sub_mb_type[i8])",
          "old_line_content": "                if(IS_INTRA(mb_type_col[y8])){",
          "new_line_content": "                if(is_b8x8 && !IS_DIRECT(h->sub_mb_type[i8]))",
          "content_same": false
        },
        {
          "line": 439,
          "old_api": "fill_rectangle",
          "new_api": "pack16to32",
          "old_text": "fill_rectangle(&h-> mv_cache[1][scan8[0]], 4, 4, 8, mv1, 4)",
          "new_text": "pack16to32(mv_l0[0],mv_l0[1])",
          "old_line_content": "            fill_rectangle(&h-> mv_cache[1][scan8[0]], 4, 4, 8, mv1, 4);",
          "new_line_content": "                mv0= pack16to32(mv_l0[0],mv_l0[1]);",
          "content_same": false
        },
        {
          "line": 452,
          "old_api": "fill_rectangle",
          "new_api": "IS_DIRECT",
          "old_text": "fill_rectangle(&h->ref_cache[0][scan8[i8*4]], 2, 2, 8, 0, 1)",
          "new_text": "IS_DIRECT(h->sub_mb_type[i8])",
          "old_line_content": "                    fill_rectangle(&h->ref_cache[0][scan8[i8*4]], 2, 2, 8, 0, 1);",
          "new_line_content": "                if(is_b8x8 && !IS_DIRECT(h->sub_mb_type[i8]))",
          "content_same": false
        },
        {
          "line": 472,
          "old_api": "pack16to32",
          "new_api": "fill_rectangle",
          "old_text": "pack16to32(mx,my)",
          "new_text": "fill_rectangle(&h->ref_cache[0][scan8[i8*4]], 2, 2, 8, ref0, 1)",
          "old_line_content": "                    fill_rectangle(&h->mv_cache[0][scan8[i8*4]], 2, 2, 8, pack16to32(mx,my), 4);",
          "new_line_content": "                fill_rectangle(&h->ref_cache[0][scan8[i8*4]], 2, 2, 8, ref0, 1);",
          "content_same": false
        },
        {
          "line": 473,
          "old_api": "pack16to32",
          "new_api": "IS_SUB_8X8",
          "old_text": "pack16to32(mx-mv_col[0],my-mv_col[1])",
          "new_text": "IS_SUB_8X8(sub_mb_type)",
          "old_line_content": "                    fill_rectangle(&h->mv_cache[1][scan8[i8*4]], 2, 2, 8, pack16to32(mx-mv_col[0],my-mv_col[1]), 4);",
          "new_line_content": "                if(IS_SUB_8X8(sub_mb_type)){",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 392,
          "old_api": null,
          "new_api": "fill_rectangle",
          "old_text": null,
          "new_text": "fill_rectangle(&h->ref_cache[1][scan8[i8*4]], 2, 2, 8, 0, 1)",
          "old_line_content": "                    continue;",
          "new_line_content": "                fill_rectangle(&h->ref_cache[1][scan8[i8*4]], 2, 2, 8, 0, 1);",
          "content_same": false
        },
        {
          "line": 393,
          "old_api": null,
          "new_api": "IS_INTRA",
          "old_text": null,
          "new_text": "IS_INTRA(mb_type_col[y8])",
          "old_line_content": "                }",
          "new_line_content": "                if(IS_INTRA(mb_type_col[y8])){",
          "content_same": false
        },
        {
          "line": 394,
          "old_api": null,
          "new_api": "fill_rectangle",
          "old_text": null,
          "new_text": "fill_rectangle(&h->ref_cache[0][scan8[i8*4]], 2, 2, 8, 0, 1)",
          "old_line_content": "",
          "new_line_content": "                    fill_rectangle(&h->ref_cache[0][scan8[i8*4]], 2, 2, 8, 0, 1);",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": null,
          "new_api": "fill_rectangle",
          "old_text": null,
          "new_text": "fill_rectangle(&h-> mv_cache[0][scan8[i8*4]], 2, 2, 8, 0, 4)",
          "old_line_content": "                ref0 = l1ref0[x8 + y8*b8_stride];",
          "new_line_content": "                    fill_rectangle(&h-> mv_cache[0][scan8[i8*4]], 2, 2, 8, 0, 4);",
          "content_same": false
        },
        {
          "line": 396,
          "old_api": null,
          "new_api": "fill_rectangle",
          "old_text": null,
          "new_text": "fill_rectangle(&h-> mv_cache[1][scan8[i8*4]], 2, 2, 8, 0, 4)",
          "old_line_content": "                if(ref0 >= 0)",
          "new_line_content": "                    fill_rectangle(&h-> mv_cache[1][scan8[i8*4]], 2, 2, 8, 0, 4);",
          "content_same": false
        },
        {
          "line": 408,
          "old_api": null,
          "new_api": "fill_rectangle",
          "old_text": null,
          "new_text": "fill_rectangle(&h->ref_cache[0][scan8[i8*4]], 2, 2, 8, ref0, 1)",
          "old_line_content": "                    int mx = (scale * mv_col[0] + 128) >> 8;",
          "new_line_content": "                fill_rectangle(&h->ref_cache[0][scan8[i8*4]], 2, 2, 8, ref0, 1);",
          "content_same": false
        },
        {
          "line": 415,
          "old_api": null,
          "new_api": "pack16to32",
          "old_text": null,
          "new_text": "pack16to32(mx,my)",
          "old_line_content": "        }",
          "new_line_content": "                    fill_rectangle(&h->mv_cache[0][scan8[i8*4]], 2, 2, 8, pack16to32(mx,my), 4);",
          "content_same": false
        },
        {
          "line": 416,
          "old_api": null,
          "new_api": "pack16to32",
          "old_text": null,
          "new_text": "pack16to32(mx-mv_col[0],my-my_col)",
          "old_line_content": "",
          "new_line_content": "                    fill_rectangle(&h->mv_cache[1][scan8[i8*4]], 2, 2, 8, pack16to32(mx-mv_col[0],my-my_col), 4);",
          "content_same": false
        },
        {
          "line": 424,
          "old_api": null,
          "new_api": "IS_16X16",
          "old_text": null,
          "new_text": "IS_16X16(*mb_type)",
          "old_line_content": "                ref=mv0=mv1=0;",
          "new_line_content": "        if(IS_16X16(*mb_type)){",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": null,
          "new_api": "fill_rectangle",
          "old_text": null,
          "new_text": "fill_rectangle(&h->ref_cache[1][scan8[0]], 4, 4, 8, 0, 1)",
          "old_line_content": "                                                : map_col_to_list0[1][l1ref1[0] + ref_offset];",
          "new_line_content": "            fill_rectangle(&h->ref_cache[1][scan8[0]], 4, 4, 8, 0, 1);",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": null,
          "new_api": "IS_INTRA",
          "old_text": null,
          "new_text": "IS_INTRA(mb_type_col[0])",
          "old_line_content": "                const int scale = dist_scale_factor[ref0];",
          "new_line_content": "            if(IS_INTRA(mb_type_col[0])){",
          "content_same": false
        },
        {
          "line": 440,
          "old_api": null,
          "new_api": "pack16to32",
          "old_text": null,
          "new_text": "pack16to32(mv_l0[0]-mv_col[0],mv_l0[1]-mv_col[1])",
          "old_line_content": "        }else{",
          "new_line_content": "                mv1= pack16to32(mv_l0[0]-mv_col[0],mv_l0[1]-mv_col[1]);",
          "content_same": false
        },
        {
          "line": 442,
          "old_api": null,
          "new_api": "fill_rectangle",
          "old_text": null,
          "new_text": "fill_rectangle(&h->ref_cache[0][scan8[0]], 4, 4, 8, ref, 1)",
          "old_line_content": "                const int x8 = i8&1;",
          "new_line_content": "            fill_rectangle(&h->ref_cache[0][scan8[0]], 4, 4, 8, ref, 1);",
          "content_same": false
        },
        {
          "line": 443,
          "old_api": null,
          "new_api": "fill_rectangle",
          "old_text": null,
          "new_text": "fill_rectangle(&h-> mv_cache[0][scan8[0]], 4, 4, 8, mv0, 4)",
          "old_line_content": "                const int y8 = i8>>1;",
          "new_line_content": "            fill_rectangle(&h-> mv_cache[0][scan8[0]], 4, 4, 8, mv0, 4);",
          "content_same": false
        },
        {
          "line": 444,
          "old_api": null,
          "new_api": "fill_rectangle",
          "old_text": null,
          "new_text": "fill_rectangle(&h-> mv_cache[1][scan8[0]], 4, 4, 8, mv1, 4)",
          "old_line_content": "                int ref0, scale;",
          "new_line_content": "            fill_rectangle(&h-> mv_cache[1][scan8[0]], 4, 4, 8, mv1, 4);",
          "content_same": false
        },
        {
          "line": 455,
          "old_api": null,
          "new_api": "fill_rectangle",
          "old_text": null,
          "new_text": "fill_rectangle(&h->ref_cache[1][scan8[i8*4]], 2, 2, 8, 0, 1)",
          "old_line_content": "                    continue;",
          "new_line_content": "                fill_rectangle(&h->ref_cache[1][scan8[i8*4]], 2, 2, 8, 0, 1);",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": null,
          "new_api": "IS_INTRA",
          "old_text": null,
          "new_text": "IS_INTRA(mb_type_col[0])",
          "old_line_content": "                }",
          "new_line_content": "                if(IS_INTRA(mb_type_col[0])){",
          "content_same": false
        },
        {
          "line": 457,
          "old_api": null,
          "new_api": "fill_rectangle",
          "old_text": null,
          "new_text": "fill_rectangle(&h->ref_cache[0][scan8[i8*4]], 2, 2, 8, 0, 1)",
          "old_line_content": "",
          "new_line_content": "                    fill_rectangle(&h->ref_cache[0][scan8[i8*4]], 2, 2, 8, 0, 1);",
          "content_same": false
        },
        {
          "line": 458,
          "old_api": null,
          "new_api": "fill_rectangle",
          "old_text": null,
          "new_text": "fill_rectangle(&h-> mv_cache[0][scan8[i8*4]], 2, 2, 8, 0, 4)",
          "old_line_content": "                ref0 = l1ref0[x8 + y8*b8_stride];",
          "new_line_content": "                    fill_rectangle(&h-> mv_cache[0][scan8[i8*4]], 2, 2, 8, 0, 4);",
          "content_same": false
        },
        {
          "line": 459,
          "old_api": null,
          "new_api": "fill_rectangle",
          "old_text": null,
          "new_text": "fill_rectangle(&h-> mv_cache[1][scan8[i8*4]], 2, 2, 8, 0, 4)",
          "old_line_content": "                if(ref0 >= 0)",
          "new_line_content": "                    fill_rectangle(&h-> mv_cache[1][scan8[i8*4]], 2, 2, 8, 0, 4);",
          "content_same": false
        },
        {
          "line": 477,
          "old_api": null,
          "new_api": "pack16to32",
          "old_text": null,
          "new_text": "pack16to32(mx,my)",
          "old_line_content": "                    int16_t *mv_l0 = h->mv_cache[0][scan8[i8*4+i4]];",
          "new_line_content": "                    fill_rectangle(&h->mv_cache[0][scan8[i8*4]], 2, 2, 8, pack16to32(mx,my), 4);",
          "content_same": false
        },
        {
          "line": 478,
          "old_api": null,
          "new_api": "pack16to32",
          "old_text": null,
          "new_text": "pack16to32(mx-mv_col[0],my-mv_col[1])",
          "old_line_content": "                    mv_l0[0] = (scale * mv_col[0] + 128) >> 8;",
          "new_line_content": "                    fill_rectangle(&h->mv_cache[1][scan8[i8*4]], 2, 2, 8, pack16to32(mx-mv_col[0],my-mv_col[1]), 4);",
          "content_same": false
        },
        {
          "line": 352,
          "old_api": null,
          "new_api": "FFABS",
          "old_text": null,
          "new_text": "FFABS(mv_col[1])",
          "old_line_content": "                            if(ref[0] == 0)",
          "new_line_content": "                        if(FFABS(mv_col[0]) <= 1 && FFABS(mv_col[1]) <= 1){",
          "content_same": false
        },
        {
          "line": 486,
          "old_api": null,
          "new_api": "pack16to32",
          "old_text": null,
          "new_text": "pack16to32(mv_l0[0]-mv_col[0],mv_l0[1]-mv_col[1])",
          "old_line_content": "}",
          "new_line_content": "                        pack16to32(mv_l0[0]-mv_col[0],mv_l0[1]-mv_col[1]);",
          "content_same": false
        },
        {
          "line": 371,
          "old_api": null,
          "new_api": "IS_INTERLACED",
          "old_text": null,
          "new_text": "IS_INTERLACED(*mb_type)",
          "old_line_content": "        ref_offset = (h->ref_list[1][0].mbaff<<4) & (mb_type_col[0]>>3); //if(h->ref_list[1][0].mbaff && IS_INTERLACED(mb_type_col[0])) ref_offset=16 else 0",
          "new_line_content": "        if(FRAME_MBAFF && IS_INTERLACED(*mb_type)){",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": null,
          "new_api": "IS_INTERLACED",
          "old_text": null,
          "new_text": "IS_INTERLACED(mb_type_col[0])",
          "old_line_content": "                const int x8 = i8&1;",
          "new_line_content": "        if(IS_INTERLACED(*mb_type) != IS_INTERLACED(mb_type_col[0])){",
          "content_same": false
        },
        {
          "line": 379,
          "old_api": null,
          "new_api": "IS_INTERLACED",
          "old_text": null,
          "new_text": "IS_INTERLACED(*mb_type)",
          "old_line_content": "                const int y8 = i8>>1;",
          "new_line_content": "            int y_shift  = 2*!IS_INTERLACED(*mb_type);",
          "content_same": false
        },
        {
          "line": 380,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(h->sps.direct_8x8_inference_flag)",
          "old_line_content": "                int ref0, scale;",
          "new_line_content": "            assert(h->sps.direct_8x8_inference_flag);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 387,
          "old_api": "fill_rectangle",
          "new_api": null,
          "old_text": "fill_rectangle(&h->ref_cache[1][scan8[i8*4]], 2, 2, 8, 0, 1)",
          "new_text": null,
          "old_line_content": "                fill_rectangle(&h->ref_cache[1][scan8[i8*4]], 2, 2, 8, 0, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 389,
          "old_api": "fill_rectangle",
          "new_api": null,
          "old_text": "fill_rectangle(&h->ref_cache[0][scan8[i8*4]], 2, 2, 8, 0, 1)",
          "new_text": null,
          "old_line_content": "                    fill_rectangle(&h->ref_cache[0][scan8[i8*4]], 2, 2, 8, 0, 1);",
          "new_line_content": "                    continue;",
          "content_same": false
        },
        {
          "line": 390,
          "old_api": "fill_rectangle",
          "new_api": null,
          "old_text": "fill_rectangle(&h-> mv_cache[0][scan8[i8*4]], 2, 2, 8, 0, 4)",
          "new_text": null,
          "old_line_content": "                    fill_rectangle(&h-> mv_cache[0][scan8[i8*4]], 2, 2, 8, 0, 4);",
          "new_line_content": "                h->sub_mb_type[i8] = sub_mb_type;",
          "content_same": false
        },
        {
          "line": 391,
          "old_api": "fill_rectangle",
          "new_api": null,
          "old_text": "fill_rectangle(&h-> mv_cache[1][scan8[i8*4]], 2, 2, 8, 0, 4)",
          "new_text": null,
          "old_line_content": "                    fill_rectangle(&h-> mv_cache[1][scan8[i8*4]], 2, 2, 8, 0, 4);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 403,
          "old_api": "fill_rectangle",
          "new_api": null,
          "old_text": "fill_rectangle(&h->ref_cache[0][scan8[i8*4]], 2, 2, 8, ref0, 1)",
          "new_text": null,
          "old_line_content": "                fill_rectangle(&h->ref_cache[0][scan8[i8*4]], 2, 2, 8, ref0, 1);",
          "new_line_content": "                else{",
          "content_same": false
        },
        {
          "line": 410,
          "old_api": "pack16to32",
          "new_api": null,
          "old_text": "pack16to32(mx,my)",
          "new_text": null,
          "old_line_content": "                    fill_rectangle(&h->mv_cache[0][scan8[i8*4]], 2, 2, 8, pack16to32(mx,my), 4);",
          "new_line_content": "                {",
          "content_same": false
        },
        {
          "line": 411,
          "old_api": "pack16to32",
          "new_api": null,
          "old_text": "pack16to32(mx-mv_col[0],my-my_col)",
          "new_text": null,
          "old_line_content": "                    fill_rectangle(&h->mv_cache[1][scan8[i8*4]], 2, 2, 8, pack16to32(mx-mv_col[0],my-my_col), 4);",
          "new_line_content": "                    const int16_t *mv_col = l1mv[x8*3 + y8*b4_stride];",
          "content_same": false
        },
        {
          "line": 419,
          "old_api": "IS_16X16",
          "new_api": null,
          "old_text": "IS_16X16(*mb_type)",
          "new_text": null,
          "old_line_content": "        if(IS_16X16(*mb_type)){",
          "new_line_content": "            return;",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": "fill_rectangle",
          "new_api": null,
          "old_text": "fill_rectangle(&h->ref_cache[1][scan8[0]], 4, 4, 8, 0, 1)",
          "new_text": null,
          "old_line_content": "            fill_rectangle(&h->ref_cache[1][scan8[0]], 4, 4, 8, 0, 1);",
          "new_line_content": "        /* one-to-one mv scaling */",
          "content_same": false
        },
        {
          "line": 423,
          "old_api": "IS_INTRA",
          "new_api": null,
          "old_text": "IS_INTRA(mb_type_col[0])",
          "new_text": null,
          "old_line_content": "            if(IS_INTRA(mb_type_col[0])){",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 434,
          "old_api": "pack16to32",
          "new_api": null,
          "old_text": "pack16to32(mv_l0[0],mv_l0[1])",
          "new_text": null,
          "old_line_content": "                mv0= pack16to32(mv_l0[0],mv_l0[1]);",
          "new_line_content": "                const int16_t *mv_col = l1ref0[0] >= 0 ? l1mv0[0] : l1mv1[0];",
          "content_same": false
        },
        {
          "line": 435,
          "old_api": "pack16to32",
          "new_api": null,
          "old_text": "pack16to32(mv_l0[0]-mv_col[0],mv_l0[1]-mv_col[1])",
          "new_text": null,
          "old_line_content": "                mv1= pack16to32(mv_l0[0]-mv_col[0],mv_l0[1]-mv_col[1]);",
          "new_line_content": "                int mv_l0[2];",
          "content_same": false
        },
        {
          "line": 437,
          "old_api": "fill_rectangle",
          "new_api": null,
          "old_text": "fill_rectangle(&h->ref_cache[0][scan8[0]], 4, 4, 8, ref, 1)",
          "new_text": null,
          "old_line_content": "            fill_rectangle(&h->ref_cache[0][scan8[0]], 4, 4, 8, ref, 1);",
          "new_line_content": "                mv_l0[1] = (scale * mv_col[1] + 128) >> 8;",
          "content_same": false
        },
        {
          "line": 438,
          "old_api": "fill_rectangle",
          "new_api": null,
          "old_text": "fill_rectangle(&h-> mv_cache[0][scan8[0]], 4, 4, 8, mv0, 4)",
          "new_text": null,
          "old_line_content": "            fill_rectangle(&h-> mv_cache[0][scan8[0]], 4, 4, 8, mv0, 4);",
          "new_line_content": "                ref= ref0;",
          "content_same": false
        },
        {
          "line": 447,
          "old_api": "IS_DIRECT",
          "new_api": null,
          "old_text": "IS_DIRECT(h->sub_mb_type[i8])",
          "new_text": null,
          "old_line_content": "                if(is_b8x8 && !IS_DIRECT(h->sub_mb_type[i8]))",
          "new_line_content": "                const int x8 = i8&1;",
          "content_same": false
        },
        {
          "line": 450,
          "old_api": "fill_rectangle",
          "new_api": null,
          "old_text": "fill_rectangle(&h->ref_cache[1][scan8[i8*4]], 2, 2, 8, 0, 1)",
          "new_text": null,
          "old_line_content": "                fill_rectangle(&h->ref_cache[1][scan8[i8*4]], 2, 2, 8, 0, 1);",
          "new_line_content": "                const int16_t (*l1mv)[2]= l1mv0;",
          "content_same": false
        },
        {
          "line": 451,
          "old_api": "IS_INTRA",
          "new_api": null,
          "old_text": "IS_INTRA(mb_type_col[0])",
          "new_text": null,
          "old_line_content": "                if(IS_INTRA(mb_type_col[0])){",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 453,
          "old_api": "fill_rectangle",
          "new_api": null,
          "old_text": "fill_rectangle(&h-> mv_cache[0][scan8[i8*4]], 2, 2, 8, 0, 4)",
          "new_text": null,
          "old_line_content": "                    fill_rectangle(&h-> mv_cache[0][scan8[i8*4]], 2, 2, 8, 0, 4);",
          "new_line_content": "                    continue;",
          "content_same": false
        },
        {
          "line": 454,
          "old_api": "fill_rectangle",
          "new_api": null,
          "old_text": "fill_rectangle(&h-> mv_cache[1][scan8[i8*4]], 2, 2, 8, 0, 4)",
          "new_text": null,
          "old_line_content": "                    fill_rectangle(&h-> mv_cache[1][scan8[i8*4]], 2, 2, 8, 0, 4);",
          "new_line_content": "                h->sub_mb_type[i8] = sub_mb_type;",
          "content_same": false
        },
        {
          "line": 467,
          "old_api": "fill_rectangle",
          "new_api": null,
          "old_text": "fill_rectangle(&h->ref_cache[0][scan8[i8*4]], 2, 2, 8, ref0, 1)",
          "new_text": null,
          "old_line_content": "                fill_rectangle(&h->ref_cache[0][scan8[i8*4]], 2, 2, 8, ref0, 1);",
          "new_line_content": "                    ref0 = map_col_to_list0[1][l1ref1[x8 + y8*b8_stride] + ref_offset];",
          "content_same": false
        },
        {
          "line": 468,
          "old_api": "IS_SUB_8X8",
          "new_api": null,
          "old_text": "IS_SUB_8X8(sub_mb_type)",
          "new_text": null,
          "old_line_content": "                if(IS_SUB_8X8(sub_mb_type)){",
          "new_line_content": "                    l1mv= l1mv1;",
          "content_same": false
        },
        {
          "line": 351,
          "old_api": "FFABS",
          "new_api": null,
          "old_text": "FFABS(mv_col[1])",
          "new_text": null,
          "old_line_content": "                        if(FFABS(mv_col[0]) <= 1 && FFABS(mv_col[1]) <= 1){",
          "new_line_content": "                        const int16_t *mv_col = l1mv[x8*2 + (i4&1) + (y8*2 + (i4>>1))*b4_stride];",
          "content_same": false
        },
        {
          "line": 481,
          "old_api": "pack16to32",
          "new_api": null,
          "old_text": "pack16to32(mv_l0[0]-mv_col[0],mv_l0[1]-mv_col[1])",
          "new_text": null,
          "old_line_content": "                        pack16to32(mv_l0[0]-mv_col[0],mv_l0[1]-mv_col[1]);",
          "new_line_content": "                    const int16_t *mv_col = l1mv[x8*2 + (i4&1) + (y8*2 + (i4>>1))*b4_stride];",
          "content_same": false
        },
        {
          "line": 366,
          "old_api": "IS_INTERLACED",
          "new_api": null,
          "old_text": "IS_INTERLACED(*mb_type)",
          "new_text": null,
          "old_line_content": "        if(FRAME_MBAFF && IS_INTERLACED(*mb_type)){",
          "new_line_content": "    }else{ /* direct temporal mv pred */",
          "content_same": false
        },
        {
          "line": 373,
          "old_api": "IS_INTERLACED",
          "new_api": null,
          "old_text": "IS_INTERLACED(mb_type_col[0])",
          "new_text": null,
          "old_line_content": "        if(IS_INTERLACED(*mb_type) != IS_INTERLACED(mb_type_col[0])){",
          "new_line_content": "            map_col_to_list0[1] = h->map_col_to_list0_field[s->mb_y&1][1];",
          "content_same": false
        },
        {
          "line": 374,
          "old_api": "IS_INTERLACED",
          "new_api": null,
          "old_text": "IS_INTERLACED(*mb_type)",
          "new_text": null,
          "old_line_content": "            int y_shift  = 2*!IS_INTERLACED(*mb_type);",
          "new_line_content": "            dist_scale_factor   =h->dist_scale_factor_field[s->mb_y&1];",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(h->sps.direct_8x8_inference_flag)",
          "new_text": null,
          "old_line_content": "            assert(h->sps.direct_8x8_inference_flag);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 383,
          "old_api": "IS_DIRECT",
          "new_api": null,
          "old_text": "IS_DIRECT(h->sub_mb_type[i8])",
          "new_text": null,
          "old_line_content": "                if(is_b8x8 && !IS_DIRECT(h->sub_mb_type[i8]))",
          "new_line_content": "                const int x8 = i8&1;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 5,
      "total_additions": 28,
      "total_deletions": 28,
      "total_api_changes": 61
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 6,
        "api_related_lines": 61,
        "non_api_lines": 6,
        "non_api_line_numbers": [
          357,
          360,
          361,
          362,
          348,
          349
        ]
      }
    },
    "api_calls_before": 105,
    "api_calls_after": 105,
    "diff_info": {
      "added_lines": 6,
      "removed_lines": 1,
      "total_diff_lines": 28
    }
  }
}