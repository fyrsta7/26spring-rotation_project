diff --git a/libavcodec/resample2.c b/libavcodec/resample2.c
index 31d2be7ded..52769836e0 100644
--- a/libavcodec/resample2.c
+++ b/libavcodec/resample2.c
@@ -76,11 +76,13 @@ typedef struct AVResampleContext{
  */
 static double bessel(double x){
     double v=1;
+    double lastv=0;
     double t=1;
     int i;
 
     x= x*x/4;
-    for(i=1; i<50; i++){
+    for(i=1; v != lastv; i++){
+        lastv=v;
         t *= x/(i*i);
         v += t;
     }
