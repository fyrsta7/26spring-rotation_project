{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/1bff2f3d929b7e1229b9a125e3cf938ece1665cc",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/1bff2f3d929b7e1229b9a125e3cf938ece1665cc/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/1bff2f3d929b7e1229b9a125e3cf938ece1665cc/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/1bff2f3d929b7e1229b9a125e3cf938ece1665cc/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1820,
          "old_api": "MKTAG",
          "new_api": "AV_RL32",
          "old_text": "MKTAG('S','h','i','r')",
          "new_text": "AV_RL32(avpkt->data + 16)",
          "old_line_content": "    if (AV_RL32(avpkt->data) != MKTAG('S','h','i','r') &&",
          "new_line_content": "    format = AV_RL32(avpkt->data + 16);",
          "content_same": false
        },
        {
          "line": 1821,
          "old_api": "MKTAG",
          "new_api": "av_fourcc2str",
          "old_text": "MKTAG('Z','w','a','k')",
          "new_text": "av_fourcc2str(format)",
          "old_line_content": "        AV_RL32(avpkt->data) != MKTAG('Z','w','a','k'))",
          "new_line_content": "    av_log(avctx, AV_LOG_DEBUG, \"format: %s\\n\", av_fourcc2str(format));",
          "content_same": false
        },
        {
          "line": 1828,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG(' ', 'R', 'G', 'B')",
          "new_text": "build_vlc(&s->vlc[1], l_g_rgb, 256)",
          "old_line_content": "    case MKTAG(' ', 'R', 'G', 'B'):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_g_rgb, 256);",
          "content_same": false
        },
        {
          "line": 1836,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG(' ', 'r', 'G', 'B')",
          "new_text": "build_vlc(&s->vlc[1], l_g_rgbi, 256)",
          "old_line_content": "    case MKTAG(' ', 'r', 'G', 'B'):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_g_rgbi, 256);",
          "content_same": false
        },
        {
          "line": 1844,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG('A', 'R', 'G', 'X')",
          "new_text": "build_vlc(&s->vlc[1], l_g_rgbx, 1024)",
          "old_line_content": "    case MKTAG('A', 'R', 'G', 'X'):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_g_rgbx, 1024);",
          "content_same": false
        },
        {
          "line": 1852,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG('A', 'r', 'G', 'X')",
          "new_text": "build_vlc(&s->vlc[1], l_g_rgbxi, 1024)",
          "old_line_content": "    case MKTAG('A', 'r', 'G', 'X'):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_g_rgbxi, 1024);",
          "content_same": false
        },
        {
          "line": 1860,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG('R', 'G', 'B', 'X')",
          "new_text": "build_vlc(&s->vlc[1], l_g_rgbx, 1024)",
          "old_line_content": "    case MKTAG('R', 'G', 'B', 'X'):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_g_rgbx, 1024);",
          "content_same": false
        },
        {
          "line": 1868,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG('r', 'G', 'B', 'X')",
          "new_text": "build_vlc(&s->vlc[1], l_g_rgbxi, 1024)",
          "old_line_content": "    case MKTAG('r', 'G', 'B', 'X'):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_g_rgbxi, 1024);",
          "content_same": false
        },
        {
          "line": 1876,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG('A', 'R', 'G', 'B')",
          "new_text": "build_vlc(&s->vlc[1], l_g_rgb, 256)",
          "old_line_content": "    case MKTAG('A', 'R', 'G', 'B'):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_g_rgb, 256);",
          "content_same": false
        },
        {
          "line": 1884,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG('A', 'r', 'G', 'B')",
          "new_text": "build_vlc(&s->vlc[1], l_g_rgbi, 256)",
          "old_line_content": "    case MKTAG('A', 'r', 'G', 'B'):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_g_rgbi, 256);",
          "content_same": false
        },
        {
          "line": 1889,
          "old_api": "build_vlc",
          "new_api": "MKTAG",
          "old_text": "build_vlc(&s->vlc[1], l_g_rgbi, 256)",
          "new_text": "MKTAG('A', 'Y', 'b', 'R')",
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_g_rgbi, 256);",
          "new_line_content": "    case MKTAG('A', 'Y', 'b', 'R'):",
          "content_same": false
        },
        {
          "line": 1894,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG('A', 'Y', 'b', 'R')",
          "new_text": "build_vlc(&s->vlc[1], l_u_ybr, 256)",
          "old_line_content": "    case MKTAG('A', 'Y', 'b', 'R'):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_ybr, 256);",
          "content_same": false
        },
        {
          "line": 1899,
          "old_api": "build_vlc",
          "new_api": "MKTAG",
          "old_text": "build_vlc(&s->vlc[1], l_u_ybr, 256)",
          "new_text": "MKTAG('A', 'y', 'b', 'R')",
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_ybr, 256);",
          "new_line_content": "    case MKTAG('A', 'y', 'b', 'R'):",
          "content_same": false
        },
        {
          "line": 1904,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG('A', 'y', 'b', 'R')",
          "new_text": "build_vlc(&s->vlc[1], l_u_ybri, 256)",
          "old_line_content": "    case MKTAG('A', 'y', 'b', 'R'):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_ybri, 256);",
          "content_same": false
        },
        {
          "line": 1909,
          "old_api": "build_vlc",
          "new_api": "MKTAG",
          "old_text": "build_vlc(&s->vlc[1], l_u_ybri, 256)",
          "new_text": "MKTAG(' ', 'Y', 'b', 'R')",
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_ybri, 256);",
          "new_line_content": "    case MKTAG(' ', 'Y', 'b', 'R'):",
          "content_same": false
        },
        {
          "line": 1914,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG(' ', 'Y', 'b', 'R')",
          "new_text": "build_vlc(&s->vlc[1], l_u_ybr, 256)",
          "old_line_content": "    case MKTAG(' ', 'Y', 'b', 'R'):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_ybr, 256);",
          "content_same": false
        },
        {
          "line": 1919,
          "old_api": "build_vlc",
          "new_api": "MKTAG",
          "old_text": "build_vlc(&s->vlc[1], l_u_ybr, 256)",
          "new_text": "MKTAG(' ', 'y', 'b', 'R')",
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_ybr, 256);",
          "new_line_content": "    case MKTAG(' ', 'y', 'b', 'R'):",
          "content_same": false
        },
        {
          "line": 1924,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG(' ', 'y', 'b', 'R')",
          "new_text": "build_vlc(&s->vlc[1], l_u_ybri, 256)",
          "old_line_content": "    case MKTAG(' ', 'y', 'b', 'R'):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_ybri, 256);",
          "content_same": false
        },
        {
          "line": 1932,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG('Y', 'B', 'R', 0x0a)",
          "new_text": "build_vlc(&s->vlc[1], l_u_ybr10, 1024)",
          "old_line_content": "    case MKTAG('Y', 'B', 'R', 0x0a):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_ybr10, 1024);",
          "content_same": false
        },
        {
          "line": 1940,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG('y', 'B', 'R', 0x0a)",
          "new_text": "build_vlc(&s->vlc[1], l_u_ybr10i, 1024)",
          "old_line_content": "    case MKTAG('y', 'B', 'R', 0x0a):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_ybr10i, 1024);",
          "content_same": false
        },
        {
          "line": 1948,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG('C', 'A', '4', 'p')",
          "new_text": "build_vlc(&s->vlc[1], l_u_ybr10, 1024)",
          "old_line_content": "    case MKTAG('C', 'A', '4', 'p'):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_ybr10, 1024);",
          "content_same": false
        },
        {
          "line": 1956,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG('C', 'A', '4', 'i')",
          "new_text": "build_vlc(&s->vlc[1], l_u_ybr10i, 1024)",
          "old_line_content": "    case MKTAG('C', 'A', '4', 'i'):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_ybr10i, 1024);",
          "content_same": false
        },
        {
          "line": 1964,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG('B', 'Y', 'R', 'Y')",
          "new_text": "build_vlc(&s->vlc[1], l_u_byry, 256)",
          "old_line_content": "    case MKTAG('B', 'Y', 'R', 'Y'):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_byry, 256);",
          "content_same": false
        },
        {
          "line": 1972,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG('B', 'Y', 'R', 'y')",
          "new_text": "build_vlc(&s->vlc[1], l_u_byryi, 256)",
          "old_line_content": "    case MKTAG('B', 'Y', 'R', 'y'):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_byryi, 256);",
          "content_same": false
        },
        {
          "line": 1980,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG('Y', 'b', 'Y', 'r')",
          "new_text": "build_vlc(&s->vlc[1], l_u_ybyr, 256)",
          "old_line_content": "    case MKTAG('Y', 'b', 'Y', 'r'):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_ybyr, 256);",
          "content_same": false
        },
        {
          "line": 1988,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG('C', '8', '2', 'p')",
          "new_text": "build_vlc(&s->vlc[1], l_u_byry, 256)",
          "old_line_content": "    case MKTAG('C', '8', '2', 'p'):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_byry, 256);",
          "content_same": false
        },
        {
          "line": 1996,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG('C', '8', '2', 'i')",
          "new_text": "build_vlc(&s->vlc[1], l_u_byryi, 256)",
          "old_line_content": "    case MKTAG('C', '8', '2', 'i'):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_byryi, 256);",
          "content_same": false
        },
        {
          "line": 2004,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG(0xa2, 'Y', 'R', 'Y')",
          "new_text": "build_vlc(&s->vlc[1], l_u_yry10, 1024)",
          "old_line_content": "    case MKTAG(0xa2, 'Y', 'R', 'Y'):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_yry10, 1024);",
          "content_same": false
        },
        {
          "line": 2012,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG(0xa2, 'Y', 'R', 'y')",
          "new_text": "build_vlc(&s->vlc[1], l_u_yry10i, 1024)",
          "old_line_content": "    case MKTAG(0xa2, 'Y', 'R', 'y'):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_yry10i, 1024);",
          "content_same": false
        },
        {
          "line": 2020,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG('C', 'A', '2', 'p')",
          "new_text": "build_vlc(&s->vlc[1], l_u_yry10, 1024)",
          "old_line_content": "    case MKTAG('C', 'A', '2', 'p'):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_yry10, 1024);",
          "content_same": false
        },
        {
          "line": 2028,
          "old_api": "MKTAG",
          "new_api": "build_vlc",
          "old_text": "MKTAG('C', 'A', '2', 'i')",
          "new_text": "build_vlc(&s->vlc[1], l_u_yry10i, 1024)",
          "old_line_content": "    case MKTAG('C', 'A', '2', 'i'):",
          "new_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_yry10i, 1024);",
          "content_same": false
        },
        {
          "line": 2032,
          "old_api": "build_vlc",
          "new_api": "avpriv_request_sample",
          "old_text": "build_vlc(&s->vlc[0], l_y_yry10i, 1024)",
          "new_text": "avpriv_request_sample(avctx, \"unsupported format: 0x%X\", format)",
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_yry10i, 1024);",
          "new_line_content": "        avpriv_request_sample(avctx, \"unsupported format: 0x%X\", format);",
          "content_same": false
        },
        {
          "line": 2037,
          "old_api": "avpriv_request_sample",
          "new_api": "av_log",
          "old_text": "avpriv_request_sample(avctx, \"unsupported format: 0x%X\", format)",
          "new_text": "av_log(avctx, AV_LOG_ERROR, \"Input packet too small\\n\")",
          "old_line_content": "        avpriv_request_sample(avctx, \"unsupported format: 0x%X\", format);",
          "new_line_content": "        av_log(avctx, AV_LOG_ERROR, \"Input packet too small\\n\");",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2050,
          "old_api": null,
          "new_api": "ff_thread_get_buffer",
          "old_text": null,
          "new_text": "ff_thread_get_buffer(avctx, &frame, 0)",
          "old_line_content": "    }",
          "new_line_content": "    if ((ret = ff_thread_get_buffer(avctx, &frame, 0)) < 0)",
          "content_same": false
        },
        {
          "line": 1795,
          "old_api": null,
          "new_api": "ff_free_vlc",
          "old_text": null,
          "new_text": "ff_free_vlc(vlc)",
          "old_line_content": "        syms[i]  = i;",
          "new_line_content": "    ff_free_vlc(vlc);",
          "content_same": false
        },
        {
          "line": 1796,
          "old_api": null,
          "new_api": "init_vlc",
          "old_text": null,
          "new_text": "init_vlc(vlc, 12, count,\n                    len,   sizeof(*len),   sizeof(*len),\n                    codes, sizeof(*codes), sizeof(*codes), 0)",
          "old_line_content": "        index += 1ULL << (32 - len[i]);",
          "new_line_content": "    return init_vlc(vlc, 12, count,",
          "content_same": false
        },
        {
          "line": 2053,
          "old_api": null,
          "new_api": "init_get_bits8",
          "old_text": null,
          "new_text": "init_get_bits8(&gb, avpkt->data + 20, avpkt->size - 20)",
          "old_line_content": "    p->key_frame = 1;",
          "new_line_content": "    if ((ret = init_get_bits8(&gb, avpkt->data + 20, avpkt->size - 20)) < 0)",
          "content_same": false
        },
        {
          "line": 1923,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_y_ybri, 256)",
          "old_line_content": "        s->alt = 1;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_ybri, 256);",
          "content_same": false
        },
        {
          "line": 1927,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('Y', 'B', 'R', 0x0a)",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG('Y', 'B', 'R', 0x0a):",
          "content_same": false
        },
        {
          "line": 2056,
          "old_api": null,
          "new_api": "decode_frame",
          "old_text": null,
          "new_text": "s->decode_frame(avctx, p, &gb)",
          "old_line_content": "        return ret;",
          "new_line_content": "    s->decode_frame(avctx, p, &gb);",
          "content_same": false
        },
        {
          "line": 1931,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_y_ybr10, 1024)",
          "old_line_content": "        break;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_ybr10, 1024);",
          "content_same": false
        },
        {
          "line": 1935,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('y', 'B', 'R', 0x0a)",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG('y', 'B', 'R', 0x0a):",
          "content_same": false
        },
        {
          "line": 2067,
          "old_api": null,
          "new_api": "ff_free_vlc",
          "old_text": null,
          "new_text": "ff_free_vlc(&s->vlc[0])",
          "old_line_content": "",
          "new_line_content": "    ff_free_vlc(&s->vlc[0]);",
          "content_same": false
        },
        {
          "line": 2068,
          "old_api": null,
          "new_api": "ff_free_vlc",
          "old_text": null,
          "new_text": "ff_free_vlc(&s->vlc[1])",
          "old_line_content": "static av_cold int decode_end(AVCodecContext *avctx)",
          "new_line_content": "    ff_free_vlc(&s->vlc[1]);",
          "content_same": false
        },
        {
          "line": 1939,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_y_ybr10i, 1024)",
          "old_line_content": "        break;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_ybr10i, 1024);",
          "content_same": false
        },
        {
          "line": 1815,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('S','h','i','r')",
          "old_line_content": "    int ret;",
          "new_line_content": "    if (AV_RL32(avpkt->data) != MKTAG('S','h','i','r') &&",
          "content_same": false
        },
        {
          "line": 1816,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('Z','w','a','k')",
          "old_line_content": "",
          "new_line_content": "        AV_RL32(avpkt->data) != MKTAG('Z','w','a','k'))",
          "content_same": false
        },
        {
          "line": 1943,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('C', 'A', '4', 'p')",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG('C', 'A', '4', 'p'):",
          "content_same": false
        },
        {
          "line": 2075,
          "old_api": null,
          "new_api": "NULL_IF_CONFIG_SMALL",
          "old_text": null,
          "new_text": "NULL_IF_CONFIG_SMALL(\"BitJazz SheerVideo\")",
          "old_line_content": "    return 0;",
          "new_line_content": "    .long_name        = NULL_IF_CONFIG_SMALL(\"BitJazz SheerVideo\"),",
          "content_same": false
        },
        {
          "line": 1947,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_y_ybr10, 1024)",
          "old_line_content": "        break;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_ybr10, 1024);",
          "content_same": false
        },
        {
          "line": 1823,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG(' ', 'R', 'G', 'B')",
          "old_line_content": "",
          "new_line_content": "    case MKTAG(' ', 'R', 'G', 'B'):",
          "content_same": false
        },
        {
          "line": 1951,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('C', 'A', '4', 'i')",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG('C', 'A', '4', 'i'):",
          "content_same": false
        },
        {
          "line": 1827,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_r_rgb, 256)",
          "old_line_content": "    switch (format) {",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_r_rgb, 256);",
          "content_same": false
        },
        {
          "line": 1955,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_y_ybr10i, 1024)",
          "old_line_content": "        break;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_ybr10i, 1024);",
          "content_same": false
        },
        {
          "line": 1831,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG(' ', 'r', 'G', 'B')",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG(' ', 'r', 'G', 'B'):",
          "content_same": false
        },
        {
          "line": 1959,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('B', 'Y', 'R', 'Y')",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG('B', 'Y', 'R', 'Y'):",
          "content_same": false
        },
        {
          "line": 1835,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_r_rgbi, 256)",
          "old_line_content": "        break;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_r_rgbi, 256);",
          "content_same": false
        },
        {
          "line": 1963,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_y_byry, 256)",
          "old_line_content": "        break;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_byry, 256);",
          "content_same": false
        },
        {
          "line": 1839,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('A', 'R', 'G', 'X')",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG('A', 'R', 'G', 'X'):",
          "content_same": false
        },
        {
          "line": 1967,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('B', 'Y', 'R', 'y')",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG('B', 'Y', 'R', 'y'):",
          "content_same": false
        },
        {
          "line": 1843,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_r_rgbx, 1024)",
          "old_line_content": "        break;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_r_rgbx, 1024);",
          "content_same": false
        },
        {
          "line": 1971,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_y_byryi, 256)",
          "old_line_content": "        break;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_byryi, 256);",
          "content_same": false
        },
        {
          "line": 1847,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('A', 'r', 'G', 'X')",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG('A', 'r', 'G', 'X'):",
          "content_same": false
        },
        {
          "line": 1975,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('Y', 'b', 'Y', 'r')",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG('Y', 'b', 'Y', 'r'):",
          "content_same": false
        },
        {
          "line": 1851,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_r_rgbxi, 1024)",
          "old_line_content": "        break;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_r_rgbxi, 1024);",
          "content_same": false
        },
        {
          "line": 1979,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_y_ybyr, 256)",
          "old_line_content": "        break;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_ybyr, 256);",
          "content_same": false
        },
        {
          "line": 1855,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('R', 'G', 'B', 'X')",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG('R', 'G', 'B', 'X'):",
          "content_same": false
        },
        {
          "line": 1983,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('C', '8', '2', 'p')",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG('C', '8', '2', 'p'):",
          "content_same": false
        },
        {
          "line": 1859,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_r_rgbx, 1024)",
          "old_line_content": "        break;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_r_rgbx, 1024);",
          "content_same": false
        },
        {
          "line": 1987,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_y_byry, 256)",
          "old_line_content": "        break;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_byry, 256);",
          "content_same": false
        },
        {
          "line": 1863,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('r', 'G', 'B', 'X')",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG('r', 'G', 'B', 'X'):",
          "content_same": false
        },
        {
          "line": 1991,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('C', '8', '2', 'i')",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG('C', '8', '2', 'i'):",
          "content_same": false
        },
        {
          "line": 1867,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_r_rgbxi, 1024)",
          "old_line_content": "        break;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_r_rgbxi, 1024);",
          "content_same": false
        },
        {
          "line": 1995,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_y_byryi, 256)",
          "old_line_content": "        break;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_byryi, 256);",
          "content_same": false
        },
        {
          "line": 1871,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('A', 'R', 'G', 'B')",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG('A', 'R', 'G', 'B'):",
          "content_same": false
        },
        {
          "line": 1999,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG(0xa2, 'Y', 'R', 'Y')",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG(0xa2, 'Y', 'R', 'Y'):",
          "content_same": false
        },
        {
          "line": 1875,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_r_rgb, 256)",
          "old_line_content": "        break;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_r_rgb, 256);",
          "content_same": false
        },
        {
          "line": 2003,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_y_yry10, 1024)",
          "old_line_content": "        break;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_yry10, 1024);",
          "content_same": false
        },
        {
          "line": 1879,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('A', 'r', 'G', 'B')",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG('A', 'r', 'G', 'B'):",
          "content_same": false
        },
        {
          "line": 2007,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG(0xa2, 'Y', 'R', 'y')",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG(0xa2, 'Y', 'R', 'y'):",
          "content_same": false
        },
        {
          "line": 1883,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_r_rgbi, 256)",
          "old_line_content": "        break;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_r_rgbi, 256);",
          "content_same": false
        },
        {
          "line": 2011,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_y_yry10i, 1024)",
          "old_line_content": "        break;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_yry10i, 1024);",
          "content_same": false
        },
        {
          "line": 1887,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('A', 'Y', 'B', 'R')",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG('A', 'Y', 'B', 'R'):",
          "content_same": false
        },
        {
          "line": 2015,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('C', 'A', '2', 'p')",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG('C', 'A', '2', 'p'):",
          "content_same": false
        },
        {
          "line": 2019,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_y_yry10, 1024)",
          "old_line_content": "        break;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_yry10, 1024);",
          "content_same": false
        },
        {
          "line": 1893,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_y_ybr, 256)",
          "old_line_content": "        s->alt = 1;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_ybr, 256);",
          "content_same": false
        },
        {
          "line": 2023,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('C', 'A', '2', 'i')",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG('C', 'A', '2', 'i'):",
          "content_same": false
        },
        {
          "line": 1897,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('A', 'y', 'B', 'R')",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG('A', 'y', 'B', 'R'):",
          "content_same": false
        },
        {
          "line": 2027,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_y_yry10i, 1024)",
          "old_line_content": "        break;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_yry10i, 1024);",
          "content_same": false
        },
        {
          "line": 1903,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_y_ybri, 256)",
          "old_line_content": "        s->alt = 1;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_ybri, 256);",
          "content_same": false
        },
        {
          "line": 1907,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG(' ', 'Y', 'B', 'R')",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG(' ', 'Y', 'B', 'R'):",
          "content_same": false
        },
        {
          "line": 1913,
          "old_api": null,
          "new_api": "build_vlc",
          "old_text": null,
          "new_text": "build_vlc(&s->vlc[0], l_y_ybr, 256)",
          "old_line_content": "        s->alt = 1;",
          "new_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_ybr, 256);",
          "content_same": false
        },
        {
          "line": 1917,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG(' ', 'y', 'B', 'R')",
          "old_line_content": "        if (s->format != format) {",
          "new_line_content": "    case MKTAG(' ', 'y', 'B', 'R'):",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1922,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG(' ', 'y', 'B', 'R')",
          "new_text": null,
          "old_line_content": "    case MKTAG(' ', 'y', 'B', 'R'):",
          "new_line_content": "        if (s->format != format) {",
          "content_same": false
        },
        {
          "line": 2055,
          "old_api": "ff_thread_get_buffer",
          "new_api": null,
          "old_text": "ff_thread_get_buffer(avctx, &frame, 0)",
          "new_text": null,
          "old_line_content": "    if ((ret = ff_thread_get_buffer(avctx, &frame, 0)) < 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1799,
          "old_api": "ff_free_vlc",
          "new_api": null,
          "old_text": "ff_free_vlc(vlc)",
          "new_text": null,
          "old_line_content": "    ff_free_vlc(vlc);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1800,
          "old_api": "ff_init_vlc_sparse",
          "new_api": null,
          "old_text": "ff_init_vlc_sparse(vlc, 12, count,\n                              bits,  sizeof(*bits),  sizeof(*bits),\n                              codes, sizeof(*codes), sizeof(*codes),\n                              syms,  sizeof(*syms),  sizeof(*syms), 0)",
          "new_text": null,
          "old_line_content": "    return ff_init_vlc_sparse(vlc, 12, count,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2058,
          "old_api": "init_get_bits8",
          "new_api": null,
          "old_text": "init_get_bits8(&gb, avpkt->data + 20, avpkt->size - 20)",
          "new_text": null,
          "old_line_content": "    if ((ret = init_get_bits8(&gb, avpkt->data + 20, avpkt->size - 20)) < 0)",
          "new_line_content": "    *got_frame = 1;",
          "content_same": false
        },
        {
          "line": 1928,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_y_ybri, 256)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_ybri, 256);",
          "new_line_content": "        avctx->pix_fmt = AV_PIX_FMT_YUV444P10;",
          "content_same": false
        },
        {
          "line": 1929,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[1], l_u_ybri, 256)",
          "new_text": null,
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_ybri, 256);",
          "new_line_content": "        s->decode_frame = decode_ybr10;",
          "content_same": false
        },
        {
          "line": 2061,
          "old_api": "decode_frame",
          "new_api": null,
          "old_text": "s->decode_frame(avctx, p, &gb)",
          "new_text": null,
          "old_line_content": "    s->decode_frame(avctx, p, &gb);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1936,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_y_ybr10, 1024)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_ybr10, 1024);",
          "new_line_content": "        avctx->pix_fmt = AV_PIX_FMT_YUV444P10;",
          "content_same": false
        },
        {
          "line": 1937,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[1], l_u_ybr10, 1024)",
          "new_text": null,
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_ybr10, 1024);",
          "new_line_content": "        s->decode_frame = decode_ybr10i;",
          "content_same": false
        },
        {
          "line": 2072,
          "old_api": "ff_free_vlc",
          "new_api": null,
          "old_text": "ff_free_vlc(&s->vlc[0])",
          "new_text": null,
          "old_line_content": "    ff_free_vlc(&s->vlc[0]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2073,
          "old_api": "ff_free_vlc",
          "new_api": null,
          "old_text": "ff_free_vlc(&s->vlc[1])",
          "new_text": null,
          "old_line_content": "    ff_free_vlc(&s->vlc[1]);",
          "new_line_content": "AVCodec ff_sheervideo_decoder = {",
          "content_same": false
        },
        {
          "line": 1944,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_y_ybr10i, 1024)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_ybr10i, 1024);",
          "new_line_content": "        avctx->pix_fmt = AV_PIX_FMT_YUVA444P10;",
          "content_same": false
        },
        {
          "line": 1945,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[1], l_u_ybr10i, 1024)",
          "new_text": null,
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_ybr10i, 1024);",
          "new_line_content": "        s->decode_frame = decode_ca4p;",
          "content_same": false
        },
        {
          "line": 2080,
          "old_api": "NULL_IF_CONFIG_SMALL",
          "new_api": null,
          "old_text": "NULL_IF_CONFIG_SMALL(\"BitJazz SheerVideo\")",
          "new_text": null,
          "old_line_content": "    .long_name        = NULL_IF_CONFIG_SMALL(\"BitJazz SheerVideo\"),",
          "new_line_content": "    .decode           = decode_frame,",
          "content_same": false
        },
        {
          "line": 1825,
          "old_api": "AV_RL32",
          "new_api": null,
          "old_text": "AV_RL32(avpkt->data + 16)",
          "new_text": null,
          "old_line_content": "    format = AV_RL32(avpkt->data + 16);",
          "new_line_content": "        s->decode_frame = decode_rgb;",
          "content_same": false
        },
        {
          "line": 1826,
          "old_api": "av_fourcc2str",
          "new_api": null,
          "old_text": "av_fourcc2str(format)",
          "new_text": null,
          "old_line_content": "    av_log(avctx, AV_LOG_DEBUG, \"format: %s\\n\", av_fourcc2str(format));",
          "new_line_content": "        if (s->format != format) {",
          "content_same": false
        },
        {
          "line": 1952,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_y_ybr10, 1024)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_ybr10, 1024);",
          "new_line_content": "        avctx->pix_fmt = AV_PIX_FMT_YUVA444P10;",
          "content_same": false
        },
        {
          "line": 1953,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[1], l_u_ybr10, 1024)",
          "new_text": null,
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_ybr10, 1024);",
          "new_line_content": "        s->decode_frame = decode_ca4i;",
          "content_same": false
        },
        {
          "line": 1832,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_r_rgb, 256)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_r_rgb, 256);",
          "new_line_content": "        avctx->pix_fmt = AV_PIX_FMT_RGB0;",
          "content_same": false
        },
        {
          "line": 1833,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[1], l_g_rgb, 256)",
          "new_text": null,
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_g_rgb, 256);",
          "new_line_content": "        s->decode_frame = decode_rgbi;",
          "content_same": false
        },
        {
          "line": 1960,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_y_ybr10i, 1024)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_ybr10i, 1024);",
          "new_line_content": "        avctx->pix_fmt = AV_PIX_FMT_YUV422P;",
          "content_same": false
        },
        {
          "line": 1961,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[1], l_u_ybr10i, 1024)",
          "new_text": null,
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_ybr10i, 1024);",
          "new_line_content": "        s->decode_frame = decode_byry;",
          "content_same": false
        },
        {
          "line": 1840,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_r_rgbi, 256)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_r_rgbi, 256);",
          "new_line_content": "        avctx->pix_fmt = AV_PIX_FMT_GBRAP10;",
          "content_same": false
        },
        {
          "line": 1841,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[1], l_g_rgbi, 256)",
          "new_text": null,
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_g_rgbi, 256);",
          "new_line_content": "        s->decode_frame = decode_argx;",
          "content_same": false
        },
        {
          "line": 1968,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_y_byry, 256)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_byry, 256);",
          "new_line_content": "        avctx->pix_fmt = AV_PIX_FMT_YUV422P;",
          "content_same": false
        },
        {
          "line": 1969,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[1], l_u_byry, 256)",
          "new_text": null,
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_byry, 256);",
          "new_line_content": "        s->decode_frame = decode_byryi;",
          "content_same": false
        },
        {
          "line": 1848,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_r_rgbx, 1024)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_r_rgbx, 1024);",
          "new_line_content": "        avctx->pix_fmt = AV_PIX_FMT_GBRAP10;",
          "content_same": false
        },
        {
          "line": 1849,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[1], l_g_rgbx, 1024)",
          "new_text": null,
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_g_rgbx, 1024);",
          "new_line_content": "        s->decode_frame = decode_argxi;",
          "content_same": false
        },
        {
          "line": 1976,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_y_byryi, 256)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_byryi, 256);",
          "new_line_content": "        avctx->pix_fmt = AV_PIX_FMT_YUV422P;",
          "content_same": false
        },
        {
          "line": 1977,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[1], l_u_byryi, 256)",
          "new_text": null,
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_byryi, 256);",
          "new_line_content": "        s->decode_frame = decode_ybyr;",
          "content_same": false
        },
        {
          "line": 1856,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_r_rgbxi, 1024)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_r_rgbxi, 1024);",
          "new_line_content": "        avctx->pix_fmt = AV_PIX_FMT_GBRP10;",
          "content_same": false
        },
        {
          "line": 1857,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[1], l_g_rgbxi, 1024)",
          "new_text": null,
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_g_rgbxi, 1024);",
          "new_line_content": "        s->decode_frame = decode_rgbx;",
          "content_same": false
        },
        {
          "line": 1984,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_y_ybyr, 256)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_ybyr, 256);",
          "new_line_content": "        avctx->pix_fmt = AV_PIX_FMT_YUVA422P;",
          "content_same": false
        },
        {
          "line": 1985,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[1], l_u_ybyr, 256)",
          "new_text": null,
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_ybyr, 256);",
          "new_line_content": "        s->decode_frame = decode_c82p;",
          "content_same": false
        },
        {
          "line": 1864,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_r_rgbx, 1024)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_r_rgbx, 1024);",
          "new_line_content": "        avctx->pix_fmt = AV_PIX_FMT_GBRP10;",
          "content_same": false
        },
        {
          "line": 1865,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[1], l_g_rgbx, 1024)",
          "new_text": null,
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_g_rgbx, 1024);",
          "new_line_content": "        s->decode_frame = decode_rgbxi;",
          "content_same": false
        },
        {
          "line": 1992,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_y_byry, 256)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_byry, 256);",
          "new_line_content": "        avctx->pix_fmt = AV_PIX_FMT_YUVA422P;",
          "content_same": false
        },
        {
          "line": 1993,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[1], l_u_byry, 256)",
          "new_text": null,
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_byry, 256);",
          "new_line_content": "        s->decode_frame = decode_c82i;",
          "content_same": false
        },
        {
          "line": 1872,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_r_rgbxi, 1024)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_r_rgbxi, 1024);",
          "new_line_content": "        avctx->pix_fmt = AV_PIX_FMT_ARGB;",
          "content_same": false
        },
        {
          "line": 1873,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[1], l_g_rgbxi, 1024)",
          "new_text": null,
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_g_rgbxi, 1024);",
          "new_line_content": "        s->decode_frame = decode_argb;",
          "content_same": false
        },
        {
          "line": 2000,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_y_byryi, 256)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_byryi, 256);",
          "new_line_content": "        avctx->pix_fmt = AV_PIX_FMT_YUV422P10;",
          "content_same": false
        },
        {
          "line": 2001,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[1], l_u_byryi, 256)",
          "new_text": null,
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_byryi, 256);",
          "new_line_content": "        s->decode_frame = decode_yry10;",
          "content_same": false
        },
        {
          "line": 1880,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_r_rgb, 256)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_r_rgb, 256);",
          "new_line_content": "        avctx->pix_fmt = AV_PIX_FMT_ARGB;",
          "content_same": false
        },
        {
          "line": 1881,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[1], l_g_rgb, 256)",
          "new_text": null,
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_g_rgb, 256);",
          "new_line_content": "        s->decode_frame = decode_argbi;",
          "content_same": false
        },
        {
          "line": 2008,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_y_yry10, 1024)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_yry10, 1024);",
          "new_line_content": "        avctx->pix_fmt = AV_PIX_FMT_YUV422P10;",
          "content_same": false
        },
        {
          "line": 2009,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[1], l_u_yry10, 1024)",
          "new_text": null,
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_yry10, 1024);",
          "new_line_content": "        s->decode_frame = decode_yry10i;",
          "content_same": false
        },
        {
          "line": 1888,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_r_rgbi, 256)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_r_rgbi, 256);",
          "new_line_content": "        s->alt = 1;",
          "content_same": false
        },
        {
          "line": 2016,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_y_yry10i, 1024)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_yry10i, 1024);",
          "new_line_content": "        avctx->pix_fmt = AV_PIX_FMT_YUVA422P10;",
          "content_same": false
        },
        {
          "line": 2017,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[1], l_u_yry10i, 1024)",
          "new_text": null,
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_yry10i, 1024);",
          "new_line_content": "        s->decode_frame = decode_ca2p;",
          "content_same": false
        },
        {
          "line": 1892,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('A', 'Y', 'B', 'R')",
          "new_text": null,
          "old_line_content": "    case MKTAG('A', 'Y', 'B', 'R'):",
          "new_line_content": "        if (s->format != format) {",
          "content_same": false
        },
        {
          "line": 2024,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_y_yry10, 1024)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_yry10, 1024);",
          "new_line_content": "        avctx->pix_fmt = AV_PIX_FMT_YUVA422P10;",
          "content_same": false
        },
        {
          "line": 2025,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[1], l_u_yry10, 1024)",
          "new_text": null,
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_yry10, 1024);",
          "new_line_content": "        s->decode_frame = decode_ca2i;",
          "content_same": false
        },
        {
          "line": 1898,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_y_ybr, 256)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_ybr, 256);",
          "new_line_content": "        s->alt = 1;",
          "content_same": false
        },
        {
          "line": 1902,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('A', 'y', 'B', 'R')",
          "new_text": null,
          "old_line_content": "    case MKTAG('A', 'y', 'B', 'R'):",
          "new_line_content": "        if (s->format != format) {",
          "content_same": false
        },
        {
          "line": 2033,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[1], l_u_yry10i, 1024)",
          "new_text": null,
          "old_line_content": "            ret |= build_vlc(&s->vlc[1], l_u_yry10i, 1024);",
          "new_line_content": "        return AVERROR_PATCHWELCOME;",
          "content_same": false
        },
        {
          "line": 1908,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_y_ybri, 256)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_ybri, 256);",
          "new_line_content": "        s->alt = 1;",
          "content_same": false
        },
        {
          "line": 1912,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG(' ', 'Y', 'B', 'R')",
          "new_text": null,
          "old_line_content": "    case MKTAG(' ', 'Y', 'B', 'R'):",
          "new_line_content": "        if (s->format != format) {",
          "content_same": false
        },
        {
          "line": 2042,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_ERROR, \"Input packet too small\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(avctx, AV_LOG_ERROR, \"Input packet too small\\n\");",
          "new_line_content": "        if (ret < 0)",
          "content_same": false
        },
        {
          "line": 1918,
          "old_api": "build_vlc",
          "new_api": null,
          "old_text": "build_vlc(&s->vlc[0], l_y_ybr, 256)",
          "new_text": null,
          "old_line_content": "            ret  = build_vlc(&s->vlc[0], l_y_ybr, 256);",
          "new_line_content": "        s->alt = 1;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 33,
      "total_additions": 60,
      "total_deletions": 60,
      "total_api_changes": 153
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 16,
        "api_related_lines": 153,
        "non_api_lines": 13,
        "non_api_line_numbers": [
          1792,
          1793,
          1794,
          1797,
          1798,
          1801,
          1802,
          1803,
          1785,
          1786,
          1787,
          1788,
          1791
        ]
      }
    },
    "api_calls_before": 479,
    "api_calls_after": 479,
    "diff_info": {
      "added_lines": 7,
      "removed_lines": 12,
      "total_diff_lines": 38
    }
  }
}