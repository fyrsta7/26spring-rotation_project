{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/81b060faf98d3ef3ab009220ba8a725a31ff047f",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/81b060faf98d3ef3ab009220ba8a725a31ff047f/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/81b060faf98d3ef3ab009220ba8a725a31ff047f/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/81b060faf98d3ef3ab009220ba8a725a31ff047f/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1302,
          "old_api": "usleep",
          "new_api": "av_rescale",
          "old_text": "usleep(pts - now)",
          "new_text": "av_rescale((int64_t) ist->frame * ist->st->codec->time_base.num, 1000000, ist->st->codec->time_base.den)",
          "old_line_content": "                usleep(pts - now);",
          "new_line_content": "            int64_t pts = av_rescale((int64_t) ist->frame * ist->st->codec->time_base.num, 1000000, ist->st->codec->time_base.den);",
          "content_same": false
        },
        {
          "line": 1345,
          "old_api": "do_video_out",
          "new_api": "do_audio_out",
          "old_text": "do_video_out(os, ost, ist, &picture, &frame_size)",
          "new_text": "do_audio_out(os, ost, ist, data_buf, data_size)",
          "old_line_content": "                            do_video_out(os, ost, ist, &picture, &frame_size);",
          "new_line_content": "                            do_audio_out(os, ost, ist, data_buf, data_size);",
          "content_same": false
        },
        {
          "line": 1350,
          "old_api": "do_subtitle_out",
          "new_api": "do_video_stats",
          "old_text": "do_subtitle_out(os, ost, ist, &subtitle,\n                                            pkt->pts)",
          "new_text": "do_video_stats(os, ost, frame_size)",
          "old_line_content": "                            do_subtitle_out(os, ost, ist, &subtitle,",
          "new_line_content": "                                do_video_stats(os, ost, frame_size);",
          "content_same": false
        },
        {
          "line": 1396,
          "old_api": "write_frame",
          "new_api": "av_parser_change",
          "old_text": "write_frame(os, &opkt, ost->st->codec, bitstream_filters[ost->file_index][opkt.stream_index])",
          "new_text": "av_parser_change(ist->st->parser, ost->st->codec, &opkt.data, &opkt.size, data_buf, data_size, pkt->flags & PKT_FLAG_KEY)",
          "old_line_content": "                        write_frame(os, &opkt, ost->st->codec, bitstream_filters[ost->file_index][opkt.stream_index]);",
          "new_line_content": "                        if(av_parser_change(ist->st->parser, ost->st->codec, &opkt.data, &opkt.size, data_buf, data_size, pkt->flags & PKT_FLAG_KEY))",
          "content_same": false
        },
        {
          "line": 1399,
          "old_api": "av_free_packet",
          "new_api": "write_frame",
          "old_text": "av_free_packet(&opkt)",
          "new_text": "write_frame(os, &opkt, ost->st->codec, bitstream_filters[ost->file_index][opkt.stream_index])",
          "old_line_content": "                        av_free_packet(&opkt);",
          "new_line_content": "                        write_frame(os, &opkt, ost->st->codec, bitstream_filters[ost->file_index][opkt.stream_index]);",
          "content_same": false
        },
        {
          "line": 1411,
          "old_api": "av_freep",
          "new_api": "av_free",
          "old_text": "av_freep(&subtitle_to_free->rects)",
          "new_text": "av_free(subtitle_to_free->rects[i].bitmap)",
          "old_line_content": "                av_freep(&subtitle_to_free->rects);",
          "new_line_content": "                    av_free(subtitle_to_free->rects[i].bitmap);",
          "content_same": false
        },
        {
          "line": 1646,
          "old_api": "av_exit",
          "new_api": "fprintf",
          "old_text": "av_exit(1)",
          "new_text": "fprintf(stderr, \"Codec type mismatch for mapping #%d.%d -> #%d.%d\\n\",\n                        stream_maps[n-1].file_index, stream_maps[n-1].stream_index,\n                        ost->file_index, ost->index)",
          "old_line_content": "                    av_exit(1);",
          "new_line_content": "                    fprintf(stderr, \"Codec type mismatch for mapping #%d.%d -> #%d.%d\\n\",",
          "content_same": false
        },
        {
          "line": 1687,
          "old_api": "av_exit",
          "new_api": "dump_format",
          "old_text": "av_exit(1)",
          "new_text": "dump_format(output_files[i], i, output_files[i]->filename, 1)",
          "old_line_content": "                        av_exit(1);",
          "new_line_content": "                        dump_format(output_files[i], i, output_files[i]->filename, 1);",
          "content_same": false
        },
        {
          "line": 1804,
          "old_api": "fprintf",
          "new_api": "avcodec_get_frame_defaults",
          "old_text": "fprintf(stderr, \"Cannot allocate temp picture, check pix fmt\\n\")",
          "new_text": "avcodec_get_frame_defaults(&ost->pict_tmp)",
          "old_line_content": "                        fprintf(stderr, \"Cannot allocate temp picture, check pix fmt\\n\");",
          "new_line_content": "                    avcodec_get_frame_defaults(&ost->pict_tmp);",
          "content_same": false
        },
        {
          "line": 1805,
          "old_api": "av_exit",
          "new_api": "avpicture_alloc",
          "old_text": "av_exit(1)",
          "new_text": "avpicture_alloc((AVPicture*)&ost->pict_tmp, codec->pix_fmt,\n                                         codec->width, codec->height)",
          "old_line_content": "                        av_exit(1);",
          "new_line_content": "                    if(avpicture_alloc((AVPicture*)&ost->pict_tmp, codec->pix_fmt,",
          "content_same": false
        },
        {
          "line": 1807,
          "old_api": "av_get_int",
          "new_api": "fprintf",
          "old_text": "av_get_int(sws_opts, \"sws_flags\", NULL)",
          "new_text": "fprintf(stderr, \"Cannot allocate temp picture, check pix fmt\\n\")",
          "old_line_content": "                    sws_flags = av_get_int(sws_opts, \"sws_flags\", NULL);",
          "new_line_content": "                        fprintf(stderr, \"Cannot allocate temp picture, check pix fmt\\n\");",
          "content_same": false
        },
        {
          "line": 1808,
          "old_api": "sws_getContext",
          "new_api": "av_exit",
          "old_text": "sws_getContext(\n                            icodec->width - (frame_leftBand + frame_rightBand),\n                            icodec->height - (frame_topBand + frame_bottomBand),\n                            icodec->pix_fmt,\n                            codec->width - (frame_padleft + frame_padright),\n                            codec->height - (frame_padtop + frame_padbottom),\n                            codec->pix_fmt,\n                            sws_flags, NULL, NULL, NULL)",
          "new_text": "av_exit(1)",
          "old_line_content": "                    ost->img_resample_ctx = sws_getContext(",
          "new_line_content": "                        av_exit(1);",
          "content_same": false
        },
        {
          "line": 1848,
          "old_api": "av_exit",
          "new_api": "fopen",
          "old_text": "av_exit(1)",
          "new_text": "fopen(logfilename, \"w\")",
          "old_line_content": "                        av_exit(1);",
          "new_line_content": "                    f = fopen(logfilename, \"w\");",
          "content_same": false
        },
        {
          "line": 1856,
          "old_api": "av_exit",
          "new_api": "fopen",
          "old_text": "av_exit(1)",
          "new_text": "fopen(logfilename, \"r\")",
          "old_line_content": "                        av_exit(1);",
          "new_line_content": "                    f = fopen(logfilename, \"r\");",
          "content_same": false
        },
        {
          "line": 1858,
          "old_api": "fseek",
          "new_api": "perror",
          "old_text": "fseek(f, 0, SEEK_END)",
          "new_text": "perror(logfilename)",
          "old_line_content": "                    fseek(f, 0, SEEK_END);",
          "new_line_content": "                        perror(logfilename);",
          "content_same": false
        },
        {
          "line": 1859,
          "old_api": "ftell",
          "new_api": "av_exit",
          "old_text": "ftell(f)",
          "new_text": "av_exit(1)",
          "old_line_content": "                    size = ftell(f);",
          "new_line_content": "                        av_exit(1);",
          "content_same": false
        },
        {
          "line": 1861,
          "old_api": "av_malloc",
          "new_api": "fseek",
          "old_text": "av_malloc(size + 1)",
          "new_text": "fseek(f, 0, SEEK_END)",
          "old_line_content": "                    logbuffer = av_malloc(size + 1);",
          "new_line_content": "                    fseek(f, 0, SEEK_END);",
          "content_same": false
        },
        {
          "line": 1863,
          "old_api": "fprintf",
          "new_api": "fseek",
          "old_text": "fprintf(stderr, \"Could not allocate log buffer\\n\")",
          "new_text": "fseek(f, 0, SEEK_SET)",
          "old_line_content": "                        fprintf(stderr, \"Could not allocate log buffer\\n\");",
          "new_line_content": "                    fseek(f, 0, SEEK_SET);",
          "content_same": false
        },
        {
          "line": 1864,
          "old_api": "av_exit",
          "new_api": "av_malloc",
          "old_text": "av_exit(1)",
          "new_text": "av_malloc(size + 1)",
          "old_line_content": "                        av_exit(1);",
          "new_line_content": "                    logbuffer = av_malloc(size + 1);",
          "content_same": false
        },
        {
          "line": 1866,
          "old_api": "fread",
          "new_api": "fprintf",
          "old_text": "fread(logbuffer, 1, size, f)",
          "new_text": "fprintf(stderr, \"Could not allocate log buffer\\n\")",
          "old_line_content": "                    size = fread(logbuffer, 1, size, f);",
          "new_line_content": "                        fprintf(stderr, \"Could not allocate log buffer\\n\");",
          "content_same": false
        },
        {
          "line": 1867,
          "old_api": "fclose",
          "new_api": "av_exit",
          "old_text": "fclose(f)",
          "new_text": "av_exit(1)",
          "old_line_content": "                    fclose(f);",
          "new_line_content": "                        av_exit(1);",
          "content_same": false
        },
        {
          "line": 1920,
          "old_api": "fprintf",
          "new_api": "av_exit",
          "old_text": "fprintf(stderr, \"Error while opening codec for output stream #%d.%d - maybe incorrect parameters such as bit_rate, rate, width or height\\n\",\n                        ost->file_index, ost->index)",
          "new_text": "av_exit(1)",
          "old_line_content": "                fprintf(stderr, \"Error while opening codec for output stream #%d.%d - maybe incorrect parameters such as bit_rate, rate, width or height\\n\",",
          "new_line_content": "                av_exit(1);",
          "content_same": false
        },
        {
          "line": 1922,
          "old_api": "av_exit",
          "new_api": "avcodec_open",
          "old_text": "av_exit(1)",
          "new_text": "avcodec_open(ost->st->codec, codec)",
          "old_line_content": "                av_exit(1);",
          "new_line_content": "            if (avcodec_open(ost->st->codec, codec) < 0) {",
          "content_same": false
        },
        {
          "line": 1940,
          "old_api": "fprintf",
          "new_api": "av_exit",
          "old_text": "fprintf(stderr, \"Error while opening codec for input stream #%d.%d\\n\",\n                        ist->file_index, ist->index)",
          "new_text": "av_exit(1)",
          "old_line_content": "                fprintf(stderr, \"Error while opening codec for input stream #%d.%d\\n\",",
          "new_line_content": "                av_exit(1);",
          "content_same": false
        },
        {
          "line": 1942,
          "old_api": "av_exit",
          "new_api": "avcodec_open",
          "old_text": "av_exit(1)",
          "new_text": "avcodec_open(ist->st->codec, codec)",
          "old_line_content": "                av_exit(1);",
          "new_line_content": "            if (avcodec_open(ist->st->codec, codec) < 0) {",
          "content_same": false
        },
        {
          "line": 1997,
          "old_api": "strcmp",
          "new_api": "AVERROR",
          "old_text": "strcmp(output_files[i]->oformat->name, \"rtp\")",
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "        if (strcmp(output_files[i]->oformat->name, \"rtp\")) {",
          "new_line_content": "            ret = AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 2009,
          "old_api": "term_init",
          "new_api": "fprintf",
          "old_text": "term_init()",
          "new_text": "fprintf(stderr, \"Press [q] to stop encoding\\n\")",
          "old_line_content": "    term_init();",
          "new_line_content": "        fprintf(stderr, \"Press [q] to stop encoding\\n\");",
          "content_same": false
        },
        {
          "line": 2012,
          "old_api": "av_gettime",
          "new_api": "term_init",
          "old_text": "av_gettime()",
          "new_text": "term_init()",
          "old_line_content": "    timer_start = av_gettime();",
          "new_line_content": "    term_init();",
          "content_same": false
        },
        {
          "line": 2115,
          "old_api": "fprintf",
          "new_api": "FFABS",
          "old_text": "fprintf(stderr, \"timestamp discontinuity %\"PRId64\", new offset= %\"PRId64\"\\n\", delta, input_files_ts_offset[ist->file_index])",
          "new_text": "FFABS(delta)",
          "old_line_content": "                    fprintf(stderr, \"timestamp discontinuity %\"PRId64\", new offset= %\"PRId64\"\\n\", delta, input_files_ts_offset[ist->file_index]);",
          "new_line_content": "            if((FFABS(delta) > 1LL*dts_delta_threshold*AV_TIME_BASE || pkt_dts+1<ist->pts)&& !copy_ts){",
          "content_same": false
        },
        {
          "line": 2118,
          "old_api": "av_rescale_q",
          "new_api": "fprintf",
          "old_text": "av_rescale_q(delta, AV_TIME_BASE_Q, ist->st->time_base)",
          "new_text": "fprintf(stderr, \"timestamp discontinuity %\"PRId64\", new offset= %\"PRId64\"\\n\", delta, input_files_ts_offset[ist->file_index])",
          "old_line_content": "                    pkt.pts-= av_rescale_q(delta, AV_TIME_BASE_Q, ist->st->time_base);",
          "new_line_content": "                    fprintf(stderr, \"timestamp discontinuity %\"PRId64\", new offset= %\"PRId64\"\\n\", delta, input_files_ts_offset[ist->file_index]);",
          "content_same": false
        },
        {
          "line": 2126,
          "old_api": "fprintf",
          "new_api": "output_packet",
          "old_text": "fprintf(stderr, \"Error while decoding stream #%d.%d\\n\",\n                        ist->file_index, ist->index)",
          "new_text": "output_packet(ist, ist_index, ost_table, nb_ostreams, &pkt)",
          "old_line_content": "                fprintf(stderr, \"Error while decoding stream #%d.%d\\n\",",
          "new_line_content": "        if (output_packet(ist, ist_index, ost_table, nb_ostreams, &pkt) < 0) {",
          "content_same": false
        },
        {
          "line": 2129,
          "old_api": "av_free_packet",
          "new_api": "fprintf",
          "old_text": "av_free_packet(&pkt)",
          "new_text": "fprintf(stderr, \"Error while decoding stream #%d.%d\\n\",\n                        ist->file_index, ist->index)",
          "old_line_content": "            av_free_packet(&pkt);",
          "new_line_content": "                fprintf(stderr, \"Error while decoding stream #%d.%d\\n\",",
          "content_same": false
        },
        {
          "line": 2137,
          "old_api": "print_report",
          "new_api": "av_free_packet",
          "old_text": "print_report(output_files, ost_table, nb_ostreams, 0)",
          "new_text": "av_free_packet(&pkt)",
          "old_line_content": "        print_report(output_files, ost_table, nb_ostreams, 0);",
          "new_line_content": "        av_free_packet(&pkt);",
          "content_same": false
        },
        {
          "line": 2198,
          "old_api": "av_fifo_free",
          "new_api": "fclose",
          "old_text": "av_fifo_free(&ost->fifo)",
          "new_text": "fclose(ost->logfile)",
          "old_line_content": "                av_fifo_free(&ost->fifo); /* works even if fifo is not",
          "new_line_content": "                    fclose(ost->logfile);",
          "content_same": false
        },
        {
          "line": 2207,
          "old_api": "av_free",
          "new_api": "audio_resample_close",
          "old_text": "av_free(ost)",
          "new_text": "audio_resample_close(ost->resample)",
          "old_line_content": "                av_free(ost);",
          "new_line_content": "                    audio_resample_close(ost->resample);",
          "content_same": false
        },
        {
          "line": 2233,
          "old_api": "putchar",
          "new_api": "url_read",
          "old_text": "putchar(buffer[i])",
          "new_text": "url_read(h, buffer, sizeof(buffer))",
          "old_line_content": "        for(i=0;i<len;i++) putchar(buffer[i]);",
          "new_line_content": "        len = url_read(h, buffer, sizeof(buffer));",
          "content_same": false
        },
        {
          "line": 2250,
          "old_api": "av_find_input_format",
          "new_api": "fprintf",
          "old_text": "av_find_input_format(arg)",
          "new_text": "fprintf(stderr, \"pgmyuv format is deprecated, use image2\\n\")",
          "old_line_content": "    file_iformat = av_find_input_format(arg);",
          "new_line_content": "        fprintf(stderr, \"pgmyuv format is deprecated, use image2\\n\");",
          "content_same": false
        },
        {
          "line": 2253,
          "old_api": "fprintf",
          "new_api": "av_find_input_format",
          "old_text": "fprintf(stderr, \"Unknown input or output format: %s\\n\", arg)",
          "new_text": "av_find_input_format(arg)",
          "old_line_content": "        fprintf(stderr, \"Unknown input or output format: %s\\n\", arg);",
          "new_line_content": "    file_iformat = av_find_input_format(arg);",
          "content_same": false
        },
        {
          "line": 2254,
          "old_api": "av_exit",
          "new_api": "guess_format",
          "old_text": "av_exit(1)",
          "new_text": "guess_format(arg, NULL, NULL)",
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    file_oformat = guess_format(arg, NULL, NULL);",
          "content_same": false
        },
        {
          "line": 2327,
          "old_api": "fprintf",
          "new_api": "opt_default",
          "old_text": "fprintf(stderr, \"WARNING: The bitrate parameter is set too low. It takes bits/s as argument, not kbits/s\\n\")",
          "new_text": "opt_default(opt, arg)",
          "old_line_content": "        fprintf(stderr, \"WARNING: The bitrate parameter is set too low. It takes bits/s as argument, not kbits/s\\n\");",
          "new_line_content": "    opt_default(opt, arg);",
          "content_same": false
        },
        {
          "line": 2337,
          "old_api": "av_exit",
          "new_api": "atoi",
          "old_text": "av_exit(1)",
          "new_text": "atoi(arg)",
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    frame_topBand = atoi(arg);",
          "content_same": false
        },
        {
          "line": 2340,
          "old_api": "fprintf",
          "new_api": "av_exit",
          "old_text": "fprintf(stderr, \"Top crop size must be a multiple of 2\\n\")",
          "new_text": "av_exit(1)",
          "old_line_content": "        fprintf(stderr, \"Top crop size must be a multiple of 2\\n\");",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2344,
          "old_api": "fprintf",
          "new_api": "av_exit",
          "old_text": "fprintf(stderr, \"Vertical crop dimensions are outside the range of the original image.\\nRemember to crop first and scale second.\\n\")",
          "new_text": "av_exit(1)",
          "old_line_content": "        fprintf(stderr, \"Vertical crop dimensions are outside the range of the original image.\\nRemember to crop first and scale second.\\n\");",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2355,
          "old_api": "av_exit",
          "new_api": "atoi",
          "old_text": "av_exit(1)",
          "new_text": "atoi(arg)",
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    frame_bottomBand = atoi(arg);",
          "content_same": false
        },
        {
          "line": 2358,
          "old_api": "fprintf",
          "new_api": "av_exit",
          "old_text": "fprintf(stderr, \"Bottom crop size must be a multiple of 2\\n\")",
          "new_text": "av_exit(1)",
          "old_line_content": "        fprintf(stderr, \"Bottom crop size must be a multiple of 2\\n\");",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2362,
          "old_api": "fprintf",
          "new_api": "av_exit",
          "old_text": "fprintf(stderr, \"Vertical crop dimensions are outside the range of the original image.\\nRemember to crop first and scale second.\\n\")",
          "new_text": "av_exit(1)",
          "old_line_content": "        fprintf(stderr, \"Vertical crop dimensions are outside the range of the original image.\\nRemember to crop first and scale second.\\n\");",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2373,
          "old_api": "av_exit",
          "new_api": "atoi",
          "old_text": "av_exit(1)",
          "new_text": "atoi(arg)",
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    frame_leftBand = atoi(arg);",
          "content_same": false
        },
        {
          "line": 2376,
          "old_api": "fprintf",
          "new_api": "av_exit",
          "old_text": "fprintf(stderr, \"Left crop size must be a multiple of 2\\n\")",
          "new_text": "av_exit(1)",
          "old_line_content": "        fprintf(stderr, \"Left crop size must be a multiple of 2\\n\");",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2380,
          "old_api": "fprintf",
          "new_api": "av_exit",
          "old_text": "fprintf(stderr, \"Horizontal crop dimensions are outside the range of the original image.\\nRemember to crop first and scale second.\\n\")",
          "new_text": "av_exit(1)",
          "old_line_content": "        fprintf(stderr, \"Horizontal crop dimensions are outside the range of the original image.\\nRemember to crop first and scale second.\\n\");",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2391,
          "old_api": "av_exit",
          "new_api": "atoi",
          "old_text": "av_exit(1)",
          "new_text": "atoi(arg)",
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    frame_rightBand = atoi(arg);",
          "content_same": false
        },
        {
          "line": 2394,
          "old_api": "fprintf",
          "new_api": "av_exit",
          "old_text": "fprintf(stderr, \"Right crop size must be a multiple of 2\\n\")",
          "new_text": "av_exit(1)",
          "old_line_content": "        fprintf(stderr, \"Right crop size must be a multiple of 2\\n\");",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2398,
          "old_api": "fprintf",
          "new_api": "av_exit",
          "old_text": "fprintf(stderr, \"Horizontal crop dimensions are outside the range of the original image.\\nRemember to crop first and scale second.\\n\")",
          "new_text": "av_exit(1)",
          "old_line_content": "        fprintf(stderr, \"Horizontal crop dimensions are outside the range of the original image.\\nRemember to crop first and scale second.\\n\");",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2411,
          "old_api": "fprintf",
          "new_api": "av_exit",
          "old_text": "fprintf(stderr, \"Frame size must be a multiple of 2\\n\")",
          "new_text": "av_exit(1)",
          "old_line_content": "        fprintf(stderr, \"Frame size must be a multiple of 2\\n\");",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2453,
          "old_api": "av_exit",
          "new_api": "atoi",
          "old_text": "av_exit(1)",
          "new_text": "atoi(arg)",
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    frame_padtop = atoi(arg);",
          "content_same": false
        },
        {
          "line": 2456,
          "old_api": "fprintf",
          "new_api": "av_exit",
          "old_text": "fprintf(stderr, \"Top pad size must be a multiple of 2\\n\")",
          "new_text": "av_exit(1)",
          "old_line_content": "        fprintf(stderr, \"Top pad size must be a multiple of 2\\n\");",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2466,
          "old_api": "av_exit",
          "new_api": "atoi",
          "old_text": "av_exit(1)",
          "new_text": "atoi(arg)",
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    frame_padbottom = atoi(arg);",
          "content_same": false
        },
        {
          "line": 2469,
          "old_api": "fprintf",
          "new_api": "av_exit",
          "old_text": "fprintf(stderr, \"Bottom pad size must be a multiple of 2\\n\")",
          "new_text": "av_exit(1)",
          "old_line_content": "        fprintf(stderr, \"Bottom pad size must be a multiple of 2\\n\");",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2480,
          "old_api": "av_exit",
          "new_api": "atoi",
          "old_text": "av_exit(1)",
          "new_text": "atoi(arg)",
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    frame_padleft = atoi(arg);",
          "content_same": false
        },
        {
          "line": 2483,
          "old_api": "fprintf",
          "new_api": "av_exit",
          "old_text": "fprintf(stderr, \"Left pad size must be a multiple of 2\\n\")",
          "new_text": "av_exit(1)",
          "old_line_content": "        fprintf(stderr, \"Left pad size must be a multiple of 2\\n\");",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2494,
          "old_api": "av_exit",
          "new_api": "atoi",
          "old_text": "av_exit(1)",
          "new_text": "atoi(arg)",
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    frame_padright = atoi(arg);",
          "content_same": false
        },
        {
          "line": 2497,
          "old_api": "fprintf",
          "new_api": "av_exit",
          "old_text": "fprintf(stderr, \"Right pad size must be a multiple of 2\\n\")",
          "new_text": "av_exit(1)",
          "old_line_content": "        fprintf(stderr, \"Right pad size must be a multiple of 2\\n\");",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2517,
          "old_api": "list_fmts",
          "new_api": "strcmp",
          "old_text": "list_fmts(avcodec_pix_fmt_string, PIX_FMT_NB)",
          "new_text": "strcmp(arg, \"list\")",
          "old_line_content": "        list_fmts(avcodec_pix_fmt_string, PIX_FMT_NB);",
          "new_line_content": "    if (strcmp(arg, \"list\"))",
          "content_same": false
        },
        {
          "line": 2518,
          "old_api": "av_exit",
          "new_api": "avcodec_get_pix_fmt",
          "old_text": "av_exit(0)",
          "new_text": "avcodec_get_pix_fmt(arg)",
          "old_line_content": "        av_exit(0);",
          "new_line_content": "        frame_pix_fmt = avcodec_get_pix_fmt(arg);",
          "content_same": false
        },
        {
          "line": 2540,
          "old_api": "fprintf",
          "new_api": "strtod",
          "old_text": "fprintf(stderr, \"Incorrect aspect ratio specification.\\n\")",
          "new_text": "strtod(arg, NULL)",
          "old_line_content": "        fprintf(stderr, \"Incorrect aspect ratio specification.\\n\");",
          "new_line_content": "        ar = strtod(arg, NULL);",
          "content_same": false
        },
        {
          "line": 2551,
          "old_api": "fprintf",
          "new_api": "atof",
          "old_text": "fprintf(stderr, \"qscale must be > 0.0 and <= 255\\n\")",
          "new_text": "atof(arg)",
          "old_line_content": "        fprintf(stderr, \"qscale must be > 0.0 and <= 255\\n\");",
          "new_line_content": "    video_qscale = atof(arg);",
          "content_same": false
        },
        {
          "line": 2566,
          "old_api": "fprintf",
          "new_api": "parse_number_or_die",
          "old_text": "fprintf(stderr, \"Warning: not compiled with thread support, using thread emulation\\n\")",
          "new_text": "parse_number_or_die(opt, arg, OPT_INT64, 0, INT_MAX)",
          "old_line_content": "        fprintf(stderr, \"Warning: not compiled with thread support, using thread emulation\\n\");",
          "new_line_content": "    thread_count= parse_number_or_die(opt, arg, OPT_INT64, 0, INT_MAX);",
          "content_same": false
        },
        {
          "line": 2576,
          "old_api": "list_fmts",
          "new_api": "strcmp",
          "old_text": "list_fmts(avcodec_sample_fmt_string, SAMPLE_FMT_NB)",
          "new_text": "strcmp(arg, \"list\")",
          "old_line_content": "        list_fmts(avcodec_sample_fmt_string, SAMPLE_FMT_NB);",
          "new_line_content": "    if (strcmp(arg, \"list\"))",
          "content_same": false
        },
        {
          "line": 2577,
          "old_api": "av_exit",
          "new_api": "avcodec_get_sample_fmt",
          "old_text": "av_exit(0)",
          "new_text": "avcodec_get_sample_fmt(arg)",
          "old_line_content": "        av_exit(0);",
          "new_line_content": "        audio_sample_fmt = avcodec_get_sample_fmt(arg);",
          "content_same": false
        },
        {
          "line": 2610,
          "old_api": "av_strdup",
          "new_api": "strcmp",
          "old_text": "av_strdup(arg)",
          "new_text": "strcmp(arg, \"copy\")",
          "old_line_content": "        *pcodec_name = av_strdup(arg);",
          "new_line_content": "    if (!strcmp(arg, \"copy\")) {",
          "content_same": false
        },
        {
          "line": 2651,
          "old_api": "frame_hook_add",
          "new_api": "strtok",
          "old_text": "frame_hook_add(argc, argv)",
          "new_text": "strtok(NULL, \" \")",
          "old_line_content": "    i = frame_hook_add(argc, argv);",
          "new_line_content": "    while (argc < 62 && (argv[++argc] = strtok(NULL, \" \"))) {",
          "content_same": false
        },
        {
          "line": 2654,
          "old_api": "fprintf",
          "new_api": "frame_hook_add",
          "old_text": "fprintf(stderr, \"Failed to add video hook function: %s\\n\", arg)",
          "new_text": "frame_hook_add(argc, argv)",
          "old_line_content": "        fprintf(stderr, \"Failed to add video hook function: %s\\n\", arg);",
          "new_line_content": "    i = frame_hook_add(argc, argv);",
          "content_same": false
        },
        {
          "line": 2717,
          "old_api": "strtod",
          "new_api": "strtol",
          "old_text": "strtod(p, &p)",
          "new_text": "strtol(arg, &p, 0)",
          "old_line_content": "    scale= strtod(p, &p);",
          "new_line_content": "    stream = strtol(arg, &p, 0);",
          "content_same": false
        },
        {
          "line": 2720,
          "old_api": "av_exit",
          "new_api": "strtod",
          "old_text": "av_exit(1)",
          "new_text": "strtod(p, &p)",
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    scale= strtod(p, &p);",
          "content_same": false
        },
        {
          "line": 2760,
          "old_api": "av_log",
          "new_api": "avcodec_find_encoder_by_name",
          "old_text": "av_log(NULL, AV_LOG_ERROR, \"Unknown %s '%s'\\n\", codec_string, name)",
          "new_text": "avcodec_find_encoder_by_name(name)",
          "old_line_content": "        av_log(NULL, AV_LOG_ERROR, \"Unknown %s '%s'\\n\", codec_string, name);",
          "new_line_content": "        avcodec_find_encoder_by_name(name) :",
          "content_same": false
        },
        {
          "line": 2761,
          "old_api": "av_exit",
          "new_api": "avcodec_find_decoder_by_name",
          "old_text": "av_exit(1)",
          "new_text": "avcodec_find_decoder_by_name(name)",
          "old_line_content": "        av_exit(1);",
          "new_line_content": "        avcodec_find_decoder_by_name(name);",
          "content_same": false
        },
        {
          "line": 2764,
          "old_api": "av_log",
          "new_api": "av_exit",
          "old_text": "av_log(NULL, AV_LOG_ERROR, \"Invalid %s type '%s'\\n\", codec_string, name)",
          "new_text": "av_exit(1)",
          "old_line_content": "        av_log(NULL, AV_LOG_ERROR, \"Invalid %s type '%s'\\n\", codec_string, name);",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2779,
          "old_api": "av_set_string2",
          "new_api": "av_get_string",
          "old_text": "av_set_string2(ctx, opt_names[i], str, 1)",
          "new_text": "av_get_string(opts_ctx, opt_names[i], &opt, buf, sizeof(buf))",
          "old_line_content": "            av_set_string2(ctx, opt_names[i], str, 1);",
          "new_line_content": "        const char *str= av_get_string(opts_ctx, opt_names[i], &opt, buf, sizeof(buf));",
          "content_same": false
        },
        {
          "line": 2793,
          "old_api": "strncmp",
          "new_api": "strcmp",
          "old_text": "strncmp(filename, \"pipe:\", 5)",
          "new_text": "strcmp(filename, \"-\")",
          "old_line_content": "    using_stdin |= !strncmp(filename, \"pipe:\", 5) ||",
          "new_line_content": "    if (!strcmp(filename, \"-\"))",
          "content_same": false
        },
        {
          "line": 2797,
          "old_api": "av_alloc_format_context",
          "new_api": "strcmp",
          "old_text": "av_alloc_format_context()",
          "new_text": "strcmp(filename, \"/dev/stdin\")",
          "old_line_content": "    ic = av_alloc_format_context();",
          "new_line_content": "                    !strcmp(filename, \"/dev/stdin\");",
          "content_same": false
        },
        {
          "line": 2819,
          "old_api": "find_codec_or_die",
          "new_api": "set_context_opts",
          "old_text": "find_codec_or_die(audio_codec_name   , CODEC_TYPE_AUDIO   , 0)",
          "new_text": "set_context_opts(ic, avformat_opts, AV_OPT_FLAG_DECODING_PARAM)",
          "old_line_content": "    ic->audio_codec_id   = find_codec_or_die(audio_codec_name   , CODEC_TYPE_AUDIO   , 0);",
          "new_line_content": "    set_context_opts(ic, avformat_opts, AV_OPT_FLAG_DECODING_PARAM);",
          "content_same": false
        },
        {
          "line": 2823,
          "old_api": "av_open_input_file",
          "new_api": "find_codec_or_die",
          "old_text": "av_open_input_file(&ic, filename, file_iformat, 0, ap)",
          "new_text": "find_codec_or_die(subtitle_codec_name, CODEC_TYPE_SUBTITLE, 0)",
          "old_line_content": "    err = av_open_input_file(&ic, filename, file_iformat, 0, ap);",
          "new_line_content": "    ic->subtitle_codec_id= find_codec_or_die(subtitle_codec_name, CODEC_TYPE_SUBTITLE, 0);",
          "content_same": false
        },
        {
          "line": 2826,
          "old_api": "av_exit",
          "new_api": "av_open_input_file",
          "old_text": "av_exit(1)",
          "new_text": "av_open_input_file(&ic, filename, file_iformat, 0, ap)",
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    err = av_open_input_file(&ic, filename, file_iformat, 0, ap);",
          "content_same": false
        },
        {
          "line": 2842,
          "old_api": "av_exit",
          "new_api": "av_find_stream_info",
          "old_text": "av_exit(1)",
          "new_text": "av_find_stream_info(ic)",
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    ret = av_find_stream_info(ic);",
          "content_same": false
        },
        {
          "line": 2881,
          "old_api": "av_q2d",
          "new_api": "set_context_opts",
          "old_text": "av_q2d(enc->sample_aspect_ratio)",
          "new_text": "set_context_opts(enc, avctx_opts[CODEC_TYPE_VIDEO], AV_OPT_FLAG_VIDEO_PARAM | AV_OPT_FLAG_DECODING_PARAM)",
          "old_line_content": "            frame_aspect_ratio = av_q2d(enc->sample_aspect_ratio) * enc->width / enc->height;",
          "new_line_content": "            set_context_opts(enc, avctx_opts[CODEC_TYPE_VIDEO], AV_OPT_FLAG_VIDEO_PARAM | AV_OPT_FLAG_DECODING_PARAM);",
          "content_same": false
        },
        {
          "line": 2985,
          "old_api": "av_exit",
          "new_api": "av_new_stream",
          "old_text": "av_exit(1)",
          "new_text": "av_new_stream(oc, oc->nb_streams)",
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    st = av_new_stream(oc, oc->nb_streams);",
          "content_same": false
        },
        {
          "line": 2987,
          "old_api": "avcodec_get_context_defaults2",
          "new_api": "fprintf",
          "old_text": "avcodec_get_context_defaults2(st->codec, CODEC_TYPE_VIDEO)",
          "new_text": "fprintf(stderr, \"Could not alloc stream\\n\")",
          "old_line_content": "    avcodec_get_context_defaults2(st->codec, CODEC_TYPE_VIDEO);",
          "new_line_content": "        fprintf(stderr, \"Could not alloc stream\\n\");",
          "content_same": false
        },
        {
          "line": 3023,
          "old_api": "avcodec_find_encoder",
          "new_api": "find_codec_or_die",
          "old_text": "avcodec_find_encoder(codec_id)",
          "new_text": "find_codec_or_die(video_codec_name, CODEC_TYPE_VIDEO, 1)",
          "old_line_content": "        codec = avcodec_find_encoder(codec_id);",
          "new_line_content": "            codec_id = find_codec_or_die(video_codec_name, CODEC_TYPE_VIDEO, 1);",
          "content_same": false
        },
        {
          "line": 3080,
          "old_api": "av_exit",
          "new_api": "sscanf",
          "old_text": "av_exit(1)",
          "new_text": "sscanf(p, \"%d,%d,%d\", &start, &end, &q)",
          "old_line_content": "                av_exit(1);",
          "new_line_content": "            int e=sscanf(p, \"%d,%d,%d\", &start, &end, &q);",
          "content_same": false
        },
        {
          "line": 3083,
          "old_api": "av_realloc",
          "new_api": "av_exit",
          "old_text": "av_realloc(video_enc->rc_override,\n                           sizeof(RcOverride)*(i+1))",
          "new_text": "av_exit(1)",
          "old_line_content": "                av_realloc(video_enc->rc_override,",
          "new_line_content": "                av_exit(1);",
          "content_same": false
        },
        {
          "line": 3132,
          "old_api": "av_exit",
          "new_api": "av_new_stream",
          "old_text": "av_exit(1)",
          "new_text": "av_new_stream(oc, oc->nb_streams)",
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    st = av_new_stream(oc, oc->nb_streams);",
          "content_same": false
        },
        {
          "line": 3134,
          "old_api": "avcodec_get_context_defaults2",
          "new_api": "fprintf",
          "old_text": "avcodec_get_context_defaults2(st->codec, CODEC_TYPE_AUDIO)",
          "new_text": "fprintf(stderr, \"Could not alloc stream\\n\")",
          "old_line_content": "    avcodec_get_context_defaults2(st->codec, CODEC_TYPE_AUDIO);",
          "new_line_content": "        fprintf(stderr, \"Could not alloc stream\\n\");",
          "content_same": false
        },
        {
          "line": 3162,
          "old_api": "find_codec_or_die",
          "new_api": "set_context_opts",
          "old_text": "find_codec_or_die(audio_codec_name, CODEC_TYPE_AUDIO, 1)",
          "new_text": "set_context_opts(audio_enc, avctx_opts[CODEC_TYPE_AUDIO], AV_OPT_FLAG_AUDIO_PARAM | AV_OPT_FLAG_ENCODING_PARAM)",
          "old_line_content": "            codec_id = find_codec_or_die(audio_codec_name, CODEC_TYPE_AUDIO, 1);",
          "new_line_content": "        set_context_opts(audio_enc, avctx_opts[CODEC_TYPE_AUDIO], AV_OPT_FLAG_AUDIO_PARAM | AV_OPT_FLAG_ENCODING_PARAM);",
          "content_same": false
        },
        {
          "line": 3206,
          "old_api": "av_exit",
          "new_api": "av_new_stream",
          "old_text": "av_exit(1)",
          "new_text": "av_new_stream(oc, oc->nb_streams)",
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    st = av_new_stream(oc, oc->nb_streams);",
          "content_same": false
        },
        {
          "line": 3208,
          "old_api": "avcodec_get_context_defaults2",
          "new_api": "fprintf",
          "old_text": "avcodec_get_context_defaults2(st->codec, CODEC_TYPE_SUBTITLE)",
          "new_text": "fprintf(stderr, \"Could not alloc stream\\n\")",
          "old_line_content": "    avcodec_get_context_defaults2(st->codec, CODEC_TYPE_SUBTITLE);",
          "new_line_content": "        fprintf(stderr, \"Could not alloc stream\\n\");",
          "content_same": false
        },
        {
          "line": 3241,
          "old_api": "new_audio_stream",
          "new_api": "av_exit",
          "old_text": "new_audio_stream(oc)",
          "new_text": "av_exit(1)",
          "old_line_content": "    new_audio_stream(oc);",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 3252,
          "old_api": "new_video_stream",
          "new_api": "av_exit",
          "old_text": "new_video_stream(oc)",
          "new_text": "av_exit(1)",
          "old_line_content": "    new_video_stream(oc);",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 3263,
          "old_api": "new_subtitle_stream",
          "new_api": "av_exit",
          "old_text": "new_subtitle_stream(oc)",
          "new_text": "av_exit(1)",
          "old_line_content": "    new_subtitle_stream(oc);",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 3276,
          "old_api": "av_alloc_format_context",
          "new_api": "strcmp",
          "old_text": "av_alloc_format_context()",
          "new_text": "strcmp(filename, \"-\")",
          "old_line_content": "    oc = av_alloc_format_context();",
          "new_line_content": "    if (!strcmp(filename, \"-\"))",
          "content_same": false
        },
        {
          "line": 3279,
          "old_api": "guess_format",
          "new_api": "av_alloc_format_context",
          "old_text": "guess_format(NULL, filename, NULL)",
          "new_text": "av_alloc_format_context()",
          "old_line_content": "        file_oformat = guess_format(NULL, filename, NULL);",
          "new_line_content": "    oc = av_alloc_format_context();",
          "content_same": false
        },
        {
          "line": 3291,
          "old_api": "av_strstart",
          "new_api": "av_strlcpy",
          "old_text": "av_strstart(filename, \"http:\", NULL)",
          "new_text": "av_strlcpy(oc->filename, filename, sizeof(oc->filename))",
          "old_line_content": "        av_strstart(filename, \"http:\", NULL)) {",
          "new_line_content": "    av_strlcpy(oc->filename, filename, sizeof(oc->filename));",
          "content_same": false
        },
        {
          "line": 3294,
          "old_api": "read_ffserver_streams",
          "new_api": "av_strstart",
          "old_text": "read_ffserver_streams(oc, filename)",
          "new_text": "av_strstart(filename, \"http:\", NULL)",
          "old_line_content": "        int err = read_ffserver_streams(oc, filename);",
          "new_line_content": "        av_strstart(filename, \"http:\", NULL)) {",
          "content_same": false
        },
        {
          "line": 3297,
          "old_api": "av_exit",
          "new_api": "read_ffserver_streams",
          "old_text": "av_exit(1)",
          "new_text": "read_ffserver_streams(oc, filename)",
          "old_line_content": "            av_exit(1);",
          "new_line_content": "        int err = read_ffserver_streams(oc, filename);",
          "content_same": false
        },
        {
          "line": 3372,
          "old_api": "url_exist",
          "new_api": "strchr",
          "old_text": "url_exist(filename)",
          "new_text": "strchr(filename, ':')",
          "old_line_content": "            if (url_exist(filename)) {",
          "new_line_content": "            (strchr(filename, ':') == NULL ||",
          "content_same": false
        },
        {
          "line": 3379,
          "old_api": "toupper",
          "new_api": "fprintf",
          "old_text": "toupper(c)",
          "new_text": "fprintf(stderr,\"File '%s' already exists. Overwrite ? [y/N] \", filename)",
          "old_line_content": "                    if (toupper(c) != 'Y') {",
          "new_line_content": "                    fprintf(stderr,\"File '%s' already exists. Overwrite ? [y/N] \", filename);",
          "content_same": false
        },
        {
          "line": 3380,
          "old_api": "fprintf",
          "new_api": "fflush",
          "old_text": "fprintf(stderr, \"Not overwriting - exiting\\n\")",
          "new_text": "fflush(stderr)",
          "old_line_content": "                        fprintf(stderr, \"Not overwriting - exiting\\n\");",
          "new_line_content": "                    fflush(stderr);",
          "content_same": false
        },
        {
          "line": 3381,
          "old_api": "av_exit",
          "new_api": "getchar",
          "old_text": "av_exit(1)",
          "new_text": "getchar()",
          "old_line_content": "                        av_exit(1);",
          "new_line_content": "                    c = getchar();",
          "content_same": false
        },
        {
          "line": 3402,
          "old_api": "av_exit",
          "new_api": "av_set_parameters",
          "old_text": "av_exit(1)",
          "new_text": "av_set_parameters(oc, ap)",
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    if (av_set_parameters(oc, ap) < 0) {",
          "content_same": false
        },
        {
          "line": 3423,
          "old_api": "av_exit",
          "new_api": "atoi",
          "old_text": "av_exit(1)",
          "new_text": "atoi(pass_str)",
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    pass = atoi(pass_str);",
          "content_same": false
        },
        {
          "line": 3442,
          "old_api": "av_gettime",
          "new_api": "GetProcessTimes",
          "old_text": "av_gettime()",
          "new_text": "GetProcessTimes(proc, &c, &e, &k, &u)",
          "old_line_content": "    return av_gettime();",
          "new_line_content": "    GetProcessTimes(proc, &c, &e, &k, &u);",
          "content_same": false
        },
        {
          "line": 3454,
          "old_api": "strchr",
          "new_api": "atoi",
          "old_text": "strchr(p, ',')",
          "new_text": "atoi(p)",
          "old_line_content": "        p = strchr(p, ',');",
          "new_line_content": "        dest[i] = atoi(p);",
          "content_same": false
        },
        {
          "line": 3457,
          "old_api": "av_exit",
          "new_api": "strchr",
          "old_text": "av_exit(1)",
          "new_text": "strchr(p, ',')",
          "old_line_content": "            av_exit(1);",
          "new_line_content": "        p = strchr(p, ',');",
          "content_same": false
        },
        {
          "line": 3489,
          "old_api": "printf",
          "new_api": "av_log_set_callback",
          "old_text": "printf(\"\\n\")",
          "new_text": "av_log_set_callback(log_callback_help)",
          "old_line_content": "    printf(\"\\n\");",
          "new_line_content": "    av_log_set_callback(log_callback_help);",
          "content_same": false
        },
        {
          "line": 3490,
          "old_api": "show_help_options",
          "new_api": "printf",
          "old_text": "show_help_options(options, \"Main options:\\n\",\n                      OPT_EXPERT | OPT_AUDIO | OPT_VIDEO | OPT_SUBTITLE | OPT_GRAB, 0)",
          "new_text": "printf(\"usage: ffmpeg [[infile options] -i infile]... {[outfile options] outfile}...\\n\"\n           \"Hyper fast Audio and Video encoder\\n\")",
          "old_line_content": "    show_help_options(options, \"Main options:\\n\",",
          "new_line_content": "    printf(\"usage: ffmpeg [[infile options] -i infile]... {[outfile options] outfile}...\\n\"",
          "content_same": false
        },
        {
          "line": 3492,
          "old_api": "show_help_options",
          "new_api": "printf",
          "old_text": "show_help_options(options, \"\\nAdvanced options:\\n\",\n                      OPT_EXPERT | OPT_AUDIO | OPT_VIDEO | OPT_SUBTITLE | OPT_GRAB,\n                      OPT_EXPERT)",
          "new_text": "printf(\"\\n\")",
          "old_line_content": "    show_help_options(options, \"\\nAdvanced options:\\n\",",
          "new_line_content": "    printf(\"\\n\");",
          "content_same": false
        },
        {
          "line": 3513,
          "old_api": "printf",
          "new_api": "show_help_options",
          "old_text": "printf(\"\\n\")",
          "new_text": "show_help_options(options, \"\\nAudio/Video grab options:\\n\",\n                      OPT_GRAB,\n                      OPT_GRAB)",
          "old_line_content": "    printf(\"\\n\");",
          "new_line_content": "    show_help_options(options, \"\\nAudio/Video grab options:\\n\",",
          "content_same": false
        },
        {
          "line": 3516,
          "old_api": "av_opt_show",
          "new_api": "printf",
          "old_text": "av_opt_show(avformat_opts, NULL)",
          "new_text": "printf(\"\\n\")",
          "old_line_content": "    av_opt_show(avformat_opts, NULL);",
          "new_line_content": "    printf(\"\\n\");",
          "content_same": false
        },
        {
          "line": 3517,
          "old_api": "printf",
          "new_api": "av_opt_show",
          "old_text": "printf(\"\\n\")",
          "new_text": "av_opt_show(avctx_opts[0], NULL)",
          "old_line_content": "    printf(\"\\n\");",
          "new_line_content": "    av_opt_show(avctx_opts[0], NULL);",
          "content_same": false
        },
        {
          "line": 3518,
          "old_api": "av_opt_show",
          "new_api": "printf",
          "old_text": "av_opt_show(sws_opts, NULL)",
          "new_text": "printf(\"\\n\")",
          "old_line_content": "    av_opt_show(sws_opts, NULL);",
          "new_line_content": "    printf(\"\\n\");",
          "content_same": false
        },
        {
          "line": 3574,
          "old_api": "av_exit",
          "new_api": "fprintf",
          "old_text": "av_exit(1)",
          "new_text": "fprintf(stderr, \"Could not determine norm (PAL/NTSC/NTSC-Film) for target.\\n\")",
          "old_line_content": "        av_exit(1);",
          "new_line_content": "        fprintf(stderr, \"Could not determine norm (PAL/NTSC/NTSC-Film) for target.\\n\");",
          "content_same": false
        },
        {
          "line": 3577,
          "old_api": "strcmp",
          "new_api": "av_exit",
          "old_text": "strcmp(arg, \"vcd\")",
          "new_text": "av_exit(1)",
          "old_line_content": "    if(!strcmp(arg, \"vcd\")) {",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 3580,
          "old_api": "opt_audio_codec",
          "new_api": "strcmp",
          "old_text": "opt_audio_codec(\"mp2\")",
          "new_text": "strcmp(arg, \"vcd\")",
          "old_line_content": "        opt_audio_codec(\"mp2\");",
          "new_line_content": "    if(!strcmp(arg, \"vcd\")) {",
          "content_same": false
        },
        {
          "line": 3583,
          "old_api": "opt_frame_size",
          "new_api": "opt_audio_codec",
          "old_text": "opt_frame_size(norm ? \"352x240\" : \"352x288\")",
          "new_text": "opt_audio_codec(\"mp2\")",
          "old_line_content": "        opt_frame_size(norm ? \"352x240\" : \"352x288\");",
          "new_line_content": "        opt_audio_codec(\"mp2\");",
          "content_same": false
        },
        {
          "line": 3584,
          "old_api": "opt_frame_rate",
          "new_api": "opt_format",
          "old_text": "opt_frame_rate(frame_rates[norm])",
          "new_text": "opt_format(\"vcd\")",
          "old_line_content": "        opt_frame_rate(frame_rates[norm]);",
          "new_line_content": "        opt_format(\"vcd\");",
          "content_same": false
        },
        {
          "line": 3587,
          "old_api": "opt_default",
          "new_api": "opt_frame_rate",
          "old_text": "opt_default(\"b\", \"1150000\")",
          "new_text": "opt_frame_rate(frame_rates[norm])",
          "old_line_content": "        opt_default(\"b\", \"1150000\");",
          "new_line_content": "        opt_frame_rate(frame_rates[norm]);",
          "content_same": false
        },
        {
          "line": 3608,
          "old_api": "opt_audio_codec",
          "new_api": "strcmp",
          "old_text": "opt_audio_codec(\"mp2\")",
          "new_text": "strcmp(arg, \"svcd\")",
          "old_line_content": "        opt_audio_codec(\"mp2\");",
          "new_line_content": "    } else if(!strcmp(arg, \"svcd\")) {",
          "content_same": false
        },
        {
          "line": 3611,
          "old_api": "opt_frame_size",
          "new_api": "opt_audio_codec",
          "old_text": "opt_frame_size(norm ? \"480x480\" : \"480x576\")",
          "new_text": "opt_audio_codec(\"mp2\")",
          "old_line_content": "        opt_frame_size(norm ? \"480x480\" : \"480x576\");",
          "new_line_content": "        opt_audio_codec(\"mp2\");",
          "content_same": false
        },
        {
          "line": 3612,
          "old_api": "opt_frame_rate",
          "new_api": "opt_format",
          "old_text": "opt_frame_rate(frame_rates[norm])",
          "new_text": "opt_format(\"svcd\")",
          "old_line_content": "        opt_frame_rate(frame_rates[norm]);",
          "new_line_content": "        opt_format(\"svcd\");",
          "content_same": false
        },
        {
          "line": 3615,
          "old_api": "opt_default",
          "new_api": "opt_frame_rate",
          "old_text": "opt_default(\"b\", \"2040000\")",
          "new_text": "opt_frame_rate(frame_rates[norm])",
          "old_line_content": "        opt_default(\"b\", \"2040000\");",
          "new_line_content": "        opt_frame_rate(frame_rates[norm]);",
          "content_same": false
        },
        {
          "line": 3630,
          "old_api": "opt_audio_codec",
          "new_api": "strcmp",
          "old_text": "opt_audio_codec(\"ac3\")",
          "new_text": "strcmp(arg, \"dvd\")",
          "old_line_content": "        opt_audio_codec(\"ac3\");",
          "new_line_content": "    } else if(!strcmp(arg, \"dvd\")) {",
          "content_same": false
        },
        {
          "line": 3633,
          "old_api": "opt_frame_size",
          "new_api": "opt_audio_codec",
          "old_text": "opt_frame_size(norm ? \"720x480\" : \"720x576\")",
          "new_text": "opt_audio_codec(\"ac3\")",
          "old_line_content": "        opt_frame_size(norm ? \"720x480\" : \"720x576\");",
          "new_line_content": "        opt_audio_codec(\"ac3\");",
          "content_same": false
        },
        {
          "line": 3634,
          "old_api": "opt_frame_rate",
          "new_api": "opt_format",
          "old_text": "opt_frame_rate(frame_rates[norm])",
          "new_text": "opt_format(\"dvd\")",
          "old_line_content": "        opt_frame_rate(frame_rates[norm]);",
          "new_line_content": "        opt_format(\"dvd\");",
          "content_same": false
        },
        {
          "line": 3637,
          "old_api": "opt_default",
          "new_api": "opt_frame_rate",
          "old_text": "opt_default(\"b\", \"6000000\")",
          "new_text": "opt_frame_rate(frame_rates[norm])",
          "old_line_content": "        opt_default(\"b\", \"6000000\");",
          "new_line_content": "        opt_frame_rate(frame_rates[norm]);",
          "content_same": false
        },
        {
          "line": 3648,
          "old_api": "strncmp",
          "new_api": "opt_default",
          "old_text": "strncmp(arg, \"dv\", 2)",
          "new_text": "opt_default(\"ab\", \"448000\")",
          "old_line_content": "    } else if(!strncmp(arg, \"dv\", 2)) {",
          "new_line_content": "        opt_default(\"ab\", \"448000\");",
          "content_same": false
        },
        {
          "line": 3653,
          "old_api": "strncmp",
          "new_api": "opt_format",
          "old_text": "strncmp(arg, \"dv50\", 4)",
          "new_text": "opt_format(\"dv\")",
          "old_line_content": "        opt_frame_pix_fmt(!strncmp(arg, \"dv50\", 4) ? \"yuv422p\" :",
          "new_line_content": "        opt_format(\"dv\");",
          "content_same": false
        },
        {
          "line": 3655,
          "old_api": "opt_frame_rate",
          "new_api": "opt_frame_size",
          "old_text": "opt_frame_rate(frame_rates[norm])",
          "new_text": "opt_frame_size(norm ? \"720x480\" : \"720x576\")",
          "old_line_content": "        opt_frame_rate(frame_rates[norm]);",
          "new_line_content": "        opt_frame_size(norm ? \"720x480\" : \"720x576\");",
          "content_same": false
        },
        {
          "line": 3678,
          "old_api": "snprintf",
          "new_api": "time",
          "old_text": "snprintf(filename, sizeof(filename), \"vstats_%02d%02d%02d.log\", today->tm_hour, today->tm_min,\n             today->tm_sec)",
          "new_text": "time(NULL)",
          "old_line_content": "    snprintf(filename, sizeof(filename), \"vstats_%02d%02d%02d.log\", today->tm_hour, today->tm_min,",
          "new_line_content": "    time_t today2 = time(NULL);",
          "content_same": false
        },
        {
          "line": 3731,
          "old_api": "feof",
          "new_api": "av_exit",
          "old_text": "feof(f)",
          "new_text": "av_exit(1)",
          "old_line_content": "    while(!feof(f)){",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 3734,
          "old_api": "fprintf",
          "new_api": "feof",
          "old_text": "fprintf(stderr, \"Preset file invalid\\n\")",
          "new_text": "feof(f)",
          "old_line_content": "            fprintf(stderr, \"Preset file invalid\\n\");",
          "new_line_content": "    while(!feof(f)){",
          "content_same": false
        },
        {
          "line": 3735,
          "old_api": "av_exit",
          "new_api": "fscanf",
          "old_text": "av_exit(1)",
          "new_text": "fscanf(f, \"%999[^=]=%999[^\\n]\\n\", tmp, tmp2)",
          "old_line_content": "            av_exit(1);",
          "new_line_content": "        int e= fscanf(f, \"%999[^=]=%999[^\\n]\\n\", tmp, tmp2);",
          "content_same": false
        },
        {
          "line": 3737,
          "old_api": "strcmp",
          "new_api": "fprintf",
          "old_text": "strcmp(tmp, \"acodec\")",
          "new_text": "fprintf(stderr, \"Preset file invalid\\n\")",
          "old_line_content": "        if(!strcmp(tmp, \"acodec\")){",
          "new_line_content": "            fprintf(stderr, \"Preset file invalid\\n\");",
          "content_same": false
        },
        {
          "line": 3738,
          "old_api": "opt_audio_codec",
          "new_api": "av_exit",
          "old_text": "opt_audio_codec(tmp2)",
          "new_text": "av_exit(1)",
          "old_line_content": "            opt_audio_codec(tmp2);",
          "new_line_content": "            av_exit(1);",
          "content_same": false
        },
        {
          "line": 3740,
          "old_api": "opt_video_codec",
          "new_api": "strcmp",
          "old_text": "opt_video_codec(tmp2)",
          "new_text": "strcmp(tmp, \"acodec\")",
          "old_line_content": "            opt_video_codec(tmp2);",
          "new_line_content": "        if(!strcmp(tmp, \"acodec\")){",
          "content_same": false
        },
        {
          "line": 3741,
          "old_api": "strcmp",
          "new_api": "opt_audio_codec",
          "old_text": "strcmp(tmp, \"scodec\")",
          "new_text": "opt_audio_codec(tmp2)",
          "old_line_content": "        }else if(!strcmp(tmp, \"scodec\")){",
          "new_line_content": "            opt_audio_codec(tmp2);",
          "content_same": false
        },
        {
          "line": 3742,
          "old_api": "opt_subtitle_codec",
          "new_api": "strcmp",
          "old_text": "opt_subtitle_codec(tmp2)",
          "new_text": "strcmp(tmp, \"vcodec\")",
          "old_line_content": "            opt_subtitle_codec(tmp2);",
          "new_line_content": "        }else if(!strcmp(tmp, \"vcodec\")){",
          "content_same": false
        },
        {
          "line": 3744,
          "old_api": "opt_default",
          "new_api": "strcmp",
          "old_text": "opt_default(tmp, tmp2)",
          "new_text": "strcmp(tmp, \"scodec\")",
          "old_line_content": "            opt_default(tmp, tmp2);",
          "new_line_content": "        }else if(!strcmp(tmp, \"scodec\")){",
          "content_same": false
        },
        {
          "line": 3747,
          "old_api": "fclose",
          "new_api": "opt_default",
          "old_text": "fclose(f)",
          "new_text": "opt_default(tmp, tmp2)",
          "old_line_content": "    fclose(f);",
          "new_line_content": "            opt_default(tmp, tmp2);",
          "content_same": false
        },
        {
          "line": 3891,
          "old_api": "isatty",
          "new_api": "avdevice_register_all",
          "old_text": "isatty(STDIN_FILENO)",
          "new_text": "avdevice_register_all()",
          "old_line_content": "    if(isatty(STDIN_FILENO))",
          "new_line_content": "    avdevice_register_all();",
          "content_same": false
        },
        {
          "line": 3892,
          "old_api": "url_set_interrupt_cb",
          "new_api": "av_register_all",
          "old_text": "url_set_interrupt_cb(decode_interrupt_cb)",
          "new_text": "av_register_all()",
          "old_line_content": "        url_set_interrupt_cb(decode_interrupt_cb);",
          "new_line_content": "    av_register_all();",
          "content_same": false
        },
        {
          "line": 3895,
          "old_api": "avcodec_alloc_context2",
          "new_api": "url_set_interrupt_cb",
          "old_text": "avcodec_alloc_context2(i)",
          "new_text": "url_set_interrupt_cb(decode_interrupt_cb)",
          "old_line_content": "        avctx_opts[i]= avcodec_alloc_context2(i);",
          "new_line_content": "        url_set_interrupt_cb(decode_interrupt_cb);",
          "content_same": false
        },
        {
          "line": 3898,
          "old_api": "sws_getContext",
          "new_api": "avcodec_alloc_context2",
          "old_text": "sws_getContext(16,16,0, 16,16,0, sws_flags, NULL,NULL,NULL)",
          "new_text": "avcodec_alloc_context2(i)",
          "old_line_content": "    sws_opts = sws_getContext(16,16,0, 16,16,0, sws_flags, NULL,NULL,NULL);",
          "new_line_content": "        avctx_opts[i]= avcodec_alloc_context2(i);",
          "content_same": false
        },
        {
          "line": 3900,
          "old_api": "show_banner",
          "new_api": "av_alloc_format_context",
          "old_text": "show_banner()",
          "new_text": "av_alloc_format_context()",
          "old_line_content": "    show_banner();",
          "new_line_content": "    avformat_opts = av_alloc_format_context();",
          "content_same": false
        },
        {
          "line": 3903,
          "old_api": "av_exit",
          "new_api": "show_banner",
          "old_text": "av_exit(1)",
          "new_text": "show_banner()",
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    show_banner();",
          "content_same": false
        },
        {
          "line": 3920,
          "old_api": "getutime",
          "new_api": "av_exit",
          "old_text": "getutime()",
          "new_text": "av_exit(1)",
          "old_line_content": "    ti = getutime();",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 3928,
          "old_api": "av_exit",
          "new_api": "printf",
          "old_text": "av_exit(0)",
          "new_text": "printf(\"bench: utime=%0.3fs\\n\", ti / 1000000.0)",
          "old_line_content": "    return av_exit(0);",
          "new_line_content": "        printf(\"bench: utime=%0.3fs\\n\", ti / 1000000.0);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2074,
          "old_api": null,
          "new_api": "url_ftell",
          "old_text": null,
          "new_text": "url_ftell(output_files[0]->pb)",
          "old_line_content": "        /* read a frame from it and output it in the fifo */",
          "new_line_content": "        if (limit_filesize != 0 && limit_filesize < url_ftell(output_files[0]->pb))",
          "content_same": false
        },
        {
          "line": 2079,
          "old_api": null,
          "new_api": "av_read_frame",
          "old_text": null,
          "new_text": "av_read_frame(is, &pkt)",
          "old_line_content": "                break;",
          "new_line_content": "        if (av_read_frame(is, &pkt) < 0) {",
          "content_same": false
        },
        {
          "line": 2088,
          "old_api": null,
          "new_api": "av_pkt_dump_log",
          "old_text": null,
          "new_text": "av_pkt_dump_log(NULL, AV_LOG_DEBUG, &pkt, do_hex_dump)",
          "old_line_content": "           dynamically in stream : we ignore them */",
          "new_line_content": "            av_pkt_dump_log(NULL, AV_LOG_DEBUG, &pkt, do_hex_dump);",
          "content_same": false
        },
        {
          "line": 2100,
          "old_api": null,
          "new_api": "av_rescale_q",
          "old_text": null,
          "new_text": "av_rescale_q(input_files_ts_offset[ist->file_index], AV_TIME_BASE_Q, ist->st->time_base)",
          "old_line_content": "",
          "new_line_content": "            pkt.dts += av_rescale_q(input_files_ts_offset[ist->file_index], AV_TIME_BASE_Q, ist->st->time_base);",
          "content_same": false
        },
        {
          "line": 2102,
          "old_api": null,
          "new_api": "av_rescale_q",
          "old_text": null,
          "new_text": "av_rescale_q(input_files_ts_offset[ist->file_index], AV_TIME_BASE_Q, ist->st->time_base)",
          "old_line_content": "            if(pkt.pts != AV_NOPTS_VALUE)",
          "new_line_content": "            pkt.pts += av_rescale_q(input_files_ts_offset[ist->file_index], AV_TIME_BASE_Q, ist->st->time_base);",
          "content_same": false
        },
        {
          "line": 2113,
          "old_api": null,
          "new_api": "av_rescale_q",
          "old_text": null,
          "new_text": "av_rescale_q(pkt.dts, ist->st->time_base, AV_TIME_BASE_Q)",
          "old_line_content": "                input_files_ts_offset[ist->file_index]-= delta;",
          "new_line_content": "            int64_t pkt_dts= av_rescale_q(pkt.dts, ist->st->time_base, AV_TIME_BASE_Q);",
          "content_same": false
        },
        {
          "line": 2119,
          "old_api": null,
          "new_api": "av_rescale_q",
          "old_text": null,
          "new_text": "av_rescale_q(delta, AV_TIME_BASE_Q, ist->st->time_base)",
          "old_line_content": "            }",
          "new_line_content": "                pkt.dts-= av_rescale_q(delta, AV_TIME_BASE_Q, ist->st->time_base);",
          "content_same": false
        },
        {
          "line": 2121,
          "old_api": null,
          "new_api": "av_rescale_q",
          "old_text": null,
          "new_text": "av_rescale_q(delta, AV_TIME_BASE_Q, ist->st->time_base)",
          "old_line_content": "",
          "new_line_content": "                    pkt.pts-= av_rescale_q(delta, AV_TIME_BASE_Q, ist->st->time_base);",
          "content_same": false
        },
        {
          "line": 2132,
          "old_api": null,
          "new_api": "av_free_packet",
          "old_text": null,
          "new_text": "av_free_packet(&pkt)",
          "old_line_content": "",
          "new_line_content": "            av_free_packet(&pkt);",
          "content_same": false
        },
        {
          "line": 2140,
          "old_api": null,
          "new_api": "print_report",
          "old_text": null,
          "new_text": "print_report(output_files, ost_table, nb_ostreams, 0)",
          "old_line_content": "    /* at the end of stream, we must flush the decoder buffers */",
          "new_line_content": "        print_report(output_files, ost_table, nb_ostreams, 0);",
          "content_same": false
        },
        {
          "line": 2147,
          "old_api": null,
          "new_api": "output_packet",
          "old_text": null,
          "new_text": "output_packet(ist, i, ost_table, nb_ostreams, NULL)",
          "old_line_content": "",
          "new_line_content": "            output_packet(ist, i, ost_table, nb_ostreams, NULL);",
          "content_same": false
        },
        {
          "line": 2151,
          "old_api": null,
          "new_api": "term_exit",
          "old_text": null,
          "new_text": "term_exit()",
          "old_line_content": "    for(i=0;i<nb_output_files;i++) {",
          "new_line_content": "    term_exit();",
          "content_same": false
        },
        {
          "line": 2156,
          "old_api": null,
          "new_api": "av_write_trailer",
          "old_text": null,
          "new_text": "av_write_trailer(os)",
          "old_line_content": "    /* dump report by using the first video and audio streams */",
          "new_line_content": "        av_write_trailer(os);",
          "content_same": false
        },
        {
          "line": 2160,
          "old_api": null,
          "new_api": "print_report",
          "old_text": null,
          "new_text": "print_report(output_files, ost_table, nb_ostreams, 1)",
          "old_line_content": "    for(i=0;i<nb_ostreams;i++) {",
          "new_line_content": "    print_report(output_files, ost_table, nb_ostreams, 1);",
          "content_same": false
        },
        {
          "line": 2166,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&ost->st->codec->stats_in)",
          "old_line_content": "    }",
          "new_line_content": "            av_freep(&ost->st->codec->stats_in);",
          "content_same": false
        },
        {
          "line": 2167,
          "old_api": null,
          "new_api": "avcodec_close",
          "old_text": null,
          "new_text": "avcodec_close(ost->st->codec)",
          "old_line_content": "",
          "new_line_content": "            avcodec_close(ost->st->codec);",
          "content_same": false
        },
        {
          "line": 2175,
          "old_api": null,
          "new_api": "avcodec_close",
          "old_text": null,
          "new_text": "avcodec_close(ist->st->codec)",
          "old_line_content": "",
          "new_line_content": "            avcodec_close(ist->st->codec);",
          "content_same": false
        },
        {
          "line": 2183,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&bit_buffer)",
          "old_line_content": "    if (ist_table) {",
          "new_line_content": "    av_freep(&bit_buffer);",
          "content_same": false
        },
        {
          "line": 2184,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(file_table)",
          "old_line_content": "        for(i=0;i<nb_istreams;i++) {",
          "new_line_content": "    av_free(file_table);",
          "content_same": false
        },
        {
          "line": 2189,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(ist)",
          "old_line_content": "    }",
          "new_line_content": "            av_free(ist);",
          "content_same": false
        },
        {
          "line": 2191,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(ist_table)",
          "old_line_content": "        for(i=0;i<nb_ostreams;i++) {",
          "new_line_content": "        av_free(ist_table);",
          "content_same": false
        },
        {
          "line": 2201,
          "old_api": null,
          "new_api": "av_fifo_free",
          "old_text": null,
          "new_text": "av_fifo_free(&ost->fifo)",
          "old_line_content": "                if (ost->video_resample)",
          "new_line_content": "                av_fifo_free(&ost->fifo); /* works even if fifo is not",
          "content_same": false
        },
        {
          "line": 2203,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(ost->pict_tmp.data[0])",
          "old_line_content": "                if (ost->resample)",
          "new_line_content": "                av_free(ost->pict_tmp.data[0]);",
          "content_same": false
        },
        {
          "line": 2205,
          "old_api": null,
          "new_api": "sws_freeContext",
          "old_text": null,
          "new_text": "sws_freeContext(ost->img_resample_ctx)",
          "old_line_content": "                if (ost->reformat_ctx)",
          "new_line_content": "                    sws_freeContext(ost->img_resample_ctx);",
          "content_same": false
        },
        {
          "line": 2209,
          "old_api": null,
          "new_api": "av_audio_convert_free",
          "old_text": null,
          "new_text": "av_audio_convert_free(ost->reformat_ctx)",
          "old_line_content": "        }",
          "new_line_content": "                    av_audio_convert_free(ost->reformat_ctx);",
          "content_same": false
        },
        {
          "line": 2213,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(ost_table)",
          "old_line_content": " fail:",
          "new_line_content": "        av_free(ost_table);",
          "content_same": false
        },
        {
          "line": 2217,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "    ret = AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 2228,
          "old_api": null,
          "new_api": "url_open",
          "old_text": null,
          "new_text": "url_open(&h, filename, O_RDONLY)",
          "old_line_content": "    }",
          "new_line_content": "    if (url_open(&h, filename, O_RDONLY) < 0) {",
          "content_same": false
        },
        {
          "line": 2229,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"could not open '%s'\\n\", filename)",
          "old_line_content": "    for(;;) {",
          "new_line_content": "        printf(\"could not open '%s'\\n\", filename);",
          "content_same": false
        },
        {
          "line": 2236,
          "old_api": null,
          "new_api": "putchar",
          "old_text": null,
          "new_text": "putchar(buffer[i])",
          "old_line_content": "    return 0;",
          "new_line_content": "        for(i=0;i<len;i++) putchar(buffer[i]);",
          "content_same": false
        },
        {
          "line": 2238,
          "old_api": null,
          "new_api": "url_close",
          "old_text": null,
          "new_text": "url_close(h)",
          "old_line_content": "#endif",
          "new_line_content": "    url_close(h);",
          "content_same": false
        },
        {
          "line": 2246,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(arg, \"pgmyuv\")",
          "old_line_content": "        arg = \"image2\";",
          "new_line_content": "    if (!strcmp(arg, \"pgmyuv\")) {",
          "content_same": false
        },
        {
          "line": 2256,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Unknown input or output format: %s\\n\", arg)",
          "old_line_content": "}",
          "new_line_content": "        fprintf(stderr, \"Unknown input or output format: %s\\n\", arg);",
          "content_same": false
        },
        {
          "line": 2257,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2267,
          "old_api": null,
          "new_api": "av_find_opt",
          "old_text": null,
          "new_text": "av_find_opt(avctx_opts[0], opt, NULL, opt_types[type], opt_types[type])",
          "old_line_content": "    }",
          "new_line_content": "        const AVOption *o2 = av_find_opt(avctx_opts[0], opt, NULL, opt_types[type], opt_types[type]);",
          "content_same": false
        },
        {
          "line": 2272,
          "old_api": null,
          "new_api": "av_set_string2",
          "old_text": null,
          "new_text": "av_set_string2(avformat_opts, opt, arg, 1)",
          "old_line_content": "    if(!o){",
          "new_line_content": "        o = av_set_string2(avformat_opts, opt, arg, 1);",
          "content_same": false
        },
        {
          "line": 2277,
          "old_api": null,
          "new_api": "av_set_string2",
          "old_text": null,
          "new_text": "av_set_string2(avctx_opts[CODEC_TYPE_AUDIO], opt+1, arg, 1)",
          "old_line_content": "        else if(opt[0] == 's')",
          "new_line_content": "            o = av_set_string2(avctx_opts[CODEC_TYPE_AUDIO], opt+1, arg, 1);",
          "content_same": false
        },
        {
          "line": 2279,
          "old_api": null,
          "new_api": "av_set_string2",
          "old_text": null,
          "new_text": "av_set_string2(avctx_opts[CODEC_TYPE_VIDEO], opt+1, arg, 1)",
          "old_line_content": "    }",
          "new_line_content": "            o = av_set_string2(avctx_opts[CODEC_TYPE_VIDEO], opt+1, arg, 1);",
          "content_same": false
        },
        {
          "line": 2281,
          "old_api": null,
          "new_api": "av_set_string2",
          "old_text": null,
          "new_text": "av_set_string2(avctx_opts[CODEC_TYPE_SUBTITLE], opt+1, arg, 1)",
          "old_line_content": "        return -1;",
          "new_line_content": "            o = av_set_string2(avctx_opts[CODEC_TYPE_SUBTITLE], opt+1, arg, 1);",
          "content_same": false
        },
        {
          "line": 2289,
          "old_api": null,
          "new_api": "av_realloc",
          "old_text": null,
          "new_text": "av_realloc(opt_names, sizeof(void*)*(opt_name_count+1))",
          "old_line_content": "    if(avctx_opts[0]->debug || avformat_opts->debug)",
          "new_line_content": "    opt_names= av_realloc(opt_names, sizeof(void*)*(opt_name_count+1));",
          "content_same": false
        },
        {
          "line": 2293,
          "old_api": null,
          "new_api": "av_log_set_level",
          "old_text": null,
          "new_text": "av_log_set_level(AV_LOG_DEBUG)",
          "old_line_content": "",
          "new_line_content": "        av_log_set_level(AV_LOG_DEBUG);",
          "content_same": false
        },
        {
          "line": 2304,
          "old_api": null,
          "new_api": "parse_number_or_die",
          "old_text": null,
          "new_text": "parse_number_or_die(opt, arg, OPT_INT64, INT_MIN, INT_MAX)",
          "old_line_content": "",
          "new_line_content": "    me_threshold = parse_number_or_die(opt, arg, OPT_INT64, INT_MIN, INT_MAX);",
          "content_same": false
        },
        {
          "line": 2310,
          "old_api": null,
          "new_api": "parse_number_or_die",
          "old_text": null,
          "new_text": "parse_number_or_die(opt, arg, OPT_INT64, -10, 10)",
          "old_line_content": "}",
          "new_line_content": "    verbose = parse_number_or_die(opt, arg, OPT_INT64, -10, 10);",
          "content_same": false
        },
        {
          "line": 2311,
          "old_api": null,
          "new_api": "av_log_set_level",
          "old_text": null,
          "new_text": "av_log_set_level(verbose)",
          "old_line_content": "",
          "new_line_content": "    av_log_set_level(verbose);",
          "content_same": false
        },
        {
          "line": 2317,
          "old_api": null,
          "new_api": "av_parse_video_frame_rate",
          "old_text": null,
          "new_text": "av_parse_video_frame_rate(&frame_rate, arg)",
          "old_line_content": "    }",
          "new_line_content": "    if (av_parse_video_frame_rate(&frame_rate, arg) < 0) {",
          "content_same": false
        },
        {
          "line": 2318,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Incorrect frame rate\\n\")",
          "old_line_content": "}",
          "new_line_content": "        fprintf(stderr, \"Incorrect frame rate\\n\");",
          "content_same": false
        },
        {
          "line": 2319,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2329,
          "old_api": null,
          "new_api": "av_get_int",
          "old_text": null,
          "new_text": "av_get_int(avctx_opts[codec_type], \"b\", NULL)",
          "old_line_content": "    return 0;",
          "new_line_content": "    if (av_get_int(avctx_opts[codec_type], \"b\", NULL) < 1000)",
          "content_same": false
        },
        {
          "line": 2330,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"WARNING: The bitrate parameter is set too low. It takes bits/s as argument, not kbits/s\\n\")",
          "old_line_content": "}",
          "new_line_content": "        fprintf(stderr, \"WARNING: The bitrate parameter is set too low. It takes bits/s as argument, not kbits/s\\n\");",
          "content_same": false
        },
        {
          "line": 2339,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Incorrect top crop size\\n\")",
          "old_line_content": "    if ((frame_topBand % 2) != 0) {",
          "new_line_content": "        fprintf(stderr, \"Incorrect top crop size\\n\");",
          "content_same": false
        },
        {
          "line": 2343,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Top crop size must be a multiple of 2\\n\")",
          "old_line_content": "    if ((frame_topBand) >= frame_height){",
          "new_line_content": "        fprintf(stderr, \"Top crop size must be a multiple of 2\\n\");",
          "content_same": false
        },
        {
          "line": 2347,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Vertical crop dimensions are outside the range of the original image.\\nRemember to crop first and scale second.\\n\")",
          "old_line_content": "    frame_height -= frame_topBand;",
          "new_line_content": "        fprintf(stderr, \"Vertical crop dimensions are outside the range of the original image.\\nRemember to crop first and scale second.\\n\");",
          "content_same": false
        },
        {
          "line": 2348,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "}",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2357,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Incorrect bottom crop size\\n\")",
          "old_line_content": "    if ((frame_bottomBand % 2) != 0) {",
          "new_line_content": "        fprintf(stderr, \"Incorrect bottom crop size\\n\");",
          "content_same": false
        },
        {
          "line": 2361,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Bottom crop size must be a multiple of 2\\n\")",
          "old_line_content": "    if ((frame_bottomBand) >= frame_height){",
          "new_line_content": "        fprintf(stderr, \"Bottom crop size must be a multiple of 2\\n\");",
          "content_same": false
        },
        {
          "line": 2365,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Vertical crop dimensions are outside the range of the original image.\\nRemember to crop first and scale second.\\n\")",
          "old_line_content": "    frame_height -= frame_bottomBand;",
          "new_line_content": "        fprintf(stderr, \"Vertical crop dimensions are outside the range of the original image.\\nRemember to crop first and scale second.\\n\");",
          "content_same": false
        },
        {
          "line": 2366,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "}",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2375,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Incorrect left crop size\\n\")",
          "old_line_content": "    if ((frame_leftBand % 2) != 0) {",
          "new_line_content": "        fprintf(stderr, \"Incorrect left crop size\\n\");",
          "content_same": false
        },
        {
          "line": 2379,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Left crop size must be a multiple of 2\\n\")",
          "old_line_content": "    if ((frame_leftBand) >= frame_width){",
          "new_line_content": "        fprintf(stderr, \"Left crop size must be a multiple of 2\\n\");",
          "content_same": false
        },
        {
          "line": 2383,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Horizontal crop dimensions are outside the range of the original image.\\nRemember to crop first and scale second.\\n\")",
          "old_line_content": "    frame_width -= frame_leftBand;",
          "new_line_content": "        fprintf(stderr, \"Horizontal crop dimensions are outside the range of the original image.\\nRemember to crop first and scale second.\\n\");",
          "content_same": false
        },
        {
          "line": 2384,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "}",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2393,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Incorrect right crop size\\n\")",
          "old_line_content": "    if ((frame_rightBand % 2) != 0) {",
          "new_line_content": "        fprintf(stderr, \"Incorrect right crop size\\n\");",
          "content_same": false
        },
        {
          "line": 2397,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Right crop size must be a multiple of 2\\n\")",
          "old_line_content": "    if ((frame_rightBand) >= frame_width){",
          "new_line_content": "        fprintf(stderr, \"Right crop size must be a multiple of 2\\n\");",
          "content_same": false
        },
        {
          "line": 2401,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Horizontal crop dimensions are outside the range of the original image.\\nRemember to crop first and scale second.\\n\")",
          "old_line_content": "    frame_width -= frame_rightBand;",
          "new_line_content": "        fprintf(stderr, \"Horizontal crop dimensions are outside the range of the original image.\\nRemember to crop first and scale second.\\n\");",
          "content_same": false
        },
        {
          "line": 2402,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "}",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2409,
          "old_api": null,
          "new_api": "av_parse_video_frame_size",
          "old_text": null,
          "new_text": "av_parse_video_frame_size(&frame_width, &frame_height, arg)",
          "old_line_content": "    }",
          "new_line_content": "    if (av_parse_video_frame_size(&frame_width, &frame_height, arg) < 0) {",
          "content_same": false
        },
        {
          "line": 2410,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Incorrect frame size\\n\")",
          "old_line_content": "    if ((frame_width % 2) != 0 || (frame_height % 2) != 0) {",
          "new_line_content": "        fprintf(stderr, \"Incorrect frame size\\n\");",
          "content_same": false
        },
        {
          "line": 2414,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Frame size must be a multiple of 2\\n\")",
          "old_line_content": "}",
          "new_line_content": "        fprintf(stderr, \"Frame size must be a multiple of 2\\n\");",
          "content_same": false
        },
        {
          "line": 2415,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2439,
          "old_api": null,
          "new_api": "strtol",
          "old_text": null,
          "new_text": "strtol(arg, NULL, 16)",
          "old_line_content": "    r = (rgb >> 16);",
          "new_line_content": "    int rgb = strtol(arg, NULL, 16);",
          "content_same": false
        },
        {
          "line": 2446,
          "old_api": null,
          "new_api": "RGB_TO_Y",
          "old_text": null,
          "new_text": "RGB_TO_Y(r,g,b)",
          "old_line_content": "}",
          "new_line_content": "    padcolor[0] = RGB_TO_Y(r,g,b);",
          "content_same": false
        },
        {
          "line": 2447,
          "old_api": null,
          "new_api": "RGB_TO_U",
          "old_text": null,
          "new_text": "RGB_TO_U(r,g,b,0)",
          "old_line_content": "",
          "new_line_content": "    padcolor[1] = RGB_TO_U(r,g,b,0);",
          "content_same": false
        },
        {
          "line": 2448,
          "old_api": null,
          "new_api": "RGB_TO_V",
          "old_text": null,
          "new_text": "RGB_TO_V(r,g,b,0)",
          "old_line_content": "static void opt_frame_pad_top(const char *arg)",
          "new_line_content": "    padcolor[2] = RGB_TO_V(r,g,b,0);",
          "content_same": false
        },
        {
          "line": 2455,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Incorrect top pad size\\n\")",
          "old_line_content": "    if ((frame_padtop % 2) != 0) {",
          "new_line_content": "        fprintf(stderr, \"Incorrect top pad size\\n\");",
          "content_same": false
        },
        {
          "line": 2459,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Top pad size must be a multiple of 2\\n\")",
          "old_line_content": "}",
          "new_line_content": "        fprintf(stderr, \"Top pad size must be a multiple of 2\\n\");",
          "content_same": false
        },
        {
          "line": 2460,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2468,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Incorrect bottom pad size\\n\")",
          "old_line_content": "    if ((frame_padbottom % 2) != 0) {",
          "new_line_content": "        fprintf(stderr, \"Incorrect bottom pad size\\n\");",
          "content_same": false
        },
        {
          "line": 2472,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Bottom pad size must be a multiple of 2\\n\")",
          "old_line_content": "}",
          "new_line_content": "        fprintf(stderr, \"Bottom pad size must be a multiple of 2\\n\");",
          "content_same": false
        },
        {
          "line": 2473,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2482,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Incorrect left pad size\\n\")",
          "old_line_content": "    if ((frame_padleft % 2) != 0) {",
          "new_line_content": "        fprintf(stderr, \"Incorrect left pad size\\n\");",
          "content_same": false
        },
        {
          "line": 2486,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Left pad size must be a multiple of 2\\n\")",
          "old_line_content": "}",
          "new_line_content": "        fprintf(stderr, \"Left pad size must be a multiple of 2\\n\");",
          "content_same": false
        },
        {
          "line": 2487,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2496,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Incorrect right pad size\\n\")",
          "old_line_content": "    if ((frame_padright % 2) != 0) {",
          "new_line_content": "        fprintf(stderr, \"Incorrect right pad size\\n\");",
          "content_same": false
        },
        {
          "line": 2500,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Right pad size must be a multiple of 2\\n\")",
          "old_line_content": "}",
          "new_line_content": "        fprintf(stderr, \"Right pad size must be a multiple of 2\\n\");",
          "content_same": false
        },
        {
          "line": 2501,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2510,
          "old_api": null,
          "new_api": "get_fmt_string (fmt_str, sizeof(fmt_str), i)",
          "old_text": null,
          "new_text": "get_fmt_string (fmt_str, sizeof(fmt_str), i)",
          "old_line_content": "}",
          "new_line_content": "        get_fmt_string (fmt_str, sizeof(fmt_str), i);",
          "content_same": false
        },
        {
          "line": 2511,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stdout, \"%s\\n\", fmt_str)",
          "old_line_content": "",
          "new_line_content": "        fprintf(stdout, \"%s\\n\", fmt_str);",
          "content_same": false
        },
        {
          "line": 2520,
          "old_api": null,
          "new_api": "list_fmts",
          "old_text": null,
          "new_text": "list_fmts(avcodec_pix_fmt_string, PIX_FMT_NB)",
          "old_line_content": "}",
          "new_line_content": "        list_fmts(avcodec_pix_fmt_string, PIX_FMT_NB);",
          "content_same": false
        },
        {
          "line": 2521,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(0)",
          "old_line_content": "",
          "new_line_content": "        av_exit(0);",
          "content_same": false
        },
        {
          "line": 2532,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(arg, ':')",
          "old_line_content": "        if (end == p)",
          "new_line_content": "    p = strchr(arg, ':');",
          "content_same": false
        },
        {
          "line": 2534,
          "old_api": null,
          "new_api": "strtol",
          "old_text": null,
          "new_text": "strtol(arg, &end, 10)",
          "old_line_content": "        if (x > 0 && y > 0)",
          "new_line_content": "        x = strtol(arg, &end, 10);",
          "content_same": false
        },
        {
          "line": 2536,
          "old_api": null,
          "new_api": "strtol",
          "old_text": null,
          "new_text": "strtol(end+1, &end, 10)",
          "old_line_content": "    } else",
          "new_line_content": "            y = strtol(end+1, &end, 10);",
          "content_same": false
        },
        {
          "line": 2543,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Incorrect aspect ratio specification.\\n\")",
          "old_line_content": "    frame_aspect_ratio = ar;",
          "new_line_content": "        fprintf(stderr, \"Incorrect aspect ratio specification.\\n\");",
          "content_same": false
        },
        {
          "line": 2544,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "}",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2554,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"qscale must be > 0.0 and <= 255\\n\")",
          "old_line_content": "}",
          "new_line_content": "        fprintf(stderr, \"qscale must be > 0.0 and <= 255\\n\");",
          "content_same": false
        },
        {
          "line": 2555,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2561,
          "old_api": null,
          "new_api": "atoi",
          "old_text": null,
          "new_text": "atoi(arg)",
          "old_line_content": "static int opt_thread_count(const char *opt, const char *arg)",
          "new_line_content": "    top_field_first= atoi(arg);",
          "content_same": false
        },
        {
          "line": 2569,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Warning: not compiled with thread support, using thread emulation\\n\")",
          "old_line_content": "}",
          "new_line_content": "        fprintf(stderr, \"Warning: not compiled with thread support, using thread emulation\\n\");",
          "content_same": false
        },
        {
          "line": 2579,
          "old_api": null,
          "new_api": "list_fmts",
          "old_text": null,
          "new_text": "list_fmts(avcodec_sample_fmt_string, SAMPLE_FMT_NB)",
          "old_line_content": "}",
          "new_line_content": "        list_fmts(avcodec_sample_fmt_string, SAMPLE_FMT_NB);",
          "content_same": false
        },
        {
          "line": 2580,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(0)",
          "old_line_content": "",
          "new_line_content": "        av_exit(0);",
          "content_same": false
        },
        {
          "line": 2586,
          "old_api": null,
          "new_api": "parse_number_or_die",
          "old_text": null,
          "new_text": "parse_number_or_die(opt, arg, OPT_INT64, 0, INT_MAX)",
          "old_line_content": "",
          "new_line_content": "    audio_sample_rate = parse_number_or_die(opt, arg, OPT_INT64, 0, INT_MAX);",
          "content_same": false
        },
        {
          "line": 2592,
          "old_api": null,
          "new_api": "parse_number_or_die",
          "old_text": null,
          "new_text": "parse_number_or_die(opt, arg, OPT_INT64, 0, INT_MAX)",
          "old_line_content": "",
          "new_line_content": "    audio_channels = parse_number_or_die(opt, arg, OPT_INT64, 0, INT_MAX);",
          "content_same": false
        },
        {
          "line": 2598,
          "old_api": null,
          "new_api": "strtol",
          "old_text": null,
          "new_text": "strtol(arg, NULL, 0)",
          "old_line_content": "static void opt_video_standard(const char *arg)",
          "new_line_content": "    video_channel = strtol(arg, NULL, 0);",
          "content_same": false
        },
        {
          "line": 2603,
          "old_api": null,
          "new_api": "av_strdup",
          "old_text": null,
          "new_text": "av_strdup(arg)",
          "old_line_content": "static void opt_codec(int *pstream_copy, char **pcodec_name,",
          "new_line_content": "    video_standard = av_strdup(arg);",
          "content_same": false
        },
        {
          "line": 2609,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(pcodec_name)",
          "old_line_content": "    } else {",
          "new_line_content": "    av_freep(pcodec_name);",
          "content_same": false
        },
        {
          "line": 2613,
          "old_api": null,
          "new_api": "av_strdup",
          "old_text": null,
          "new_text": "av_strdup(arg)",
          "old_line_content": "",
          "new_line_content": "        *pcodec_name = av_strdup(arg);",
          "content_same": false
        },
        {
          "line": 2619,
          "old_api": null,
          "new_api": "opt_codec",
          "old_text": null,
          "new_text": "opt_codec(&audio_stream_copy, &audio_codec_name, CODEC_TYPE_AUDIO, arg)",
          "old_line_content": "static void opt_audio_tag(const char *arg)",
          "new_line_content": "    opt_codec(&audio_stream_copy, &audio_codec_name, CODEC_TYPE_AUDIO, arg);",
          "content_same": false
        },
        {
          "line": 2625,
          "old_api": null,
          "new_api": "strtol",
          "old_text": null,
          "new_text": "strtol(arg, &tail, 0)",
          "old_line_content": "        audio_codec_tag= arg[0] + (arg[1]<<8) + (arg[2]<<16) + (arg[3]<<24);",
          "new_line_content": "    audio_codec_tag= strtol(arg, &tail, 0);",
          "content_same": false
        },
        {
          "line": 2634,
          "old_api": null,
          "new_api": "strtol",
          "old_text": null,
          "new_text": "strtol(arg, &tail, 0)",
          "old_line_content": "        video_codec_tag= arg[0] + (arg[1]<<8) + (arg[2]<<16) + (arg[3]<<24);",
          "new_line_content": "    video_codec_tag= strtol(arg, &tail, 0);",
          "content_same": false
        },
        {
          "line": 2646,
          "old_api": null,
          "new_api": "av_strdup",
          "old_text": null,
          "new_text": "av_strdup(arg)",
          "old_line_content": "",
          "new_line_content": "    char *args = av_strdup(arg);",
          "content_same": false
        },
        {
          "line": 2650,
          "old_api": null,
          "new_api": "strtok",
          "old_text": null,
          "new_text": "strtok(args, \" \")",
          "old_line_content": "",
          "new_line_content": "    argv[0] = strtok(args, \" \");",
          "content_same": false
        },
        {
          "line": 2657,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Failed to add video hook function: %s\\n\", arg)",
          "old_line_content": "}",
          "new_line_content": "        fprintf(stderr, \"Failed to add video hook function: %s\\n\", arg);",
          "content_same": false
        },
        {
          "line": 2658,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "#endif",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2665,
          "old_api": null,
          "new_api": "opt_codec",
          "old_text": null,
          "new_text": "opt_codec(&video_stream_copy, &video_codec_name, CODEC_TYPE_VIDEO, arg)",
          "old_line_content": "static void opt_subtitle_codec(const char *arg)",
          "new_line_content": "    opt_codec(&video_stream_copy, &video_codec_name, CODEC_TYPE_VIDEO, arg);",
          "content_same": false
        },
        {
          "line": 2670,
          "old_api": null,
          "new_api": "opt_codec",
          "old_text": null,
          "new_text": "opt_codec(&subtitle_stream_copy, &subtitle_codec_name, CODEC_TYPE_SUBTITLE, arg)",
          "old_line_content": "static void opt_map(const char *arg)",
          "new_line_content": "    opt_codec(&subtitle_stream_copy, &subtitle_codec_name, CODEC_TYPE_SUBTITLE, arg);",
          "content_same": false
        },
        {
          "line": 2680,
          "old_api": null,
          "new_api": "strtol",
          "old_text": null,
          "new_text": "strtol(arg, &p, 0)",
          "old_line_content": "",
          "new_line_content": "    m->file_index = strtol(arg, &p, 0);",
          "content_same": false
        },
        {
          "line": 2690,
          "old_api": null,
          "new_api": "strtol",
          "old_text": null,
          "new_text": "strtol(p, &p, 0)",
          "old_line_content": "        m->sync_stream_index = m->stream_index;",
          "new_line_content": "        m->sync_stream_index = strtol(p, &p, 0);",
          "content_same": false
        },
        {
          "line": 2704,
          "old_api": null,
          "new_api": "strtol",
          "old_text": null,
          "new_text": "strtol(arg, &p, 0)",
          "old_line_content": "",
          "new_line_content": "    m->out_file = strtol(arg, &p, 0);",
          "content_same": false
        },
        {
          "line": 2708,
          "old_api": null,
          "new_api": "strtol",
          "old_text": null,
          "new_text": "strtol(p, &p, 0)",
          "old_line_content": "static void opt_input_ts_scale(const char *arg)",
          "new_line_content": "    m->in_file = strtol(p, &p, 0);",
          "content_same": false
        },
        {
          "line": 2723,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "}",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2730,
          "old_api": null,
          "new_api": "parse_time_or_die",
          "old_text": null,
          "new_text": "parse_time_or_die(opt, arg, 1)",
          "old_line_content": "",
          "new_line_content": "    recording_time = parse_time_or_die(opt, arg, 1);",
          "content_same": false
        },
        {
          "line": 2736,
          "old_api": null,
          "new_api": "parse_time_or_die",
          "old_text": null,
          "new_text": "parse_time_or_die(opt, arg, 1)",
          "old_line_content": "",
          "new_line_content": "    start_time = parse_time_or_die(opt, arg, 1);",
          "content_same": false
        },
        {
          "line": 2742,
          "old_api": null,
          "new_api": "parse_time_or_die",
          "old_text": null,
          "new_text": "parse_time_or_die(opt, arg, 0)",
          "old_line_content": "",
          "new_line_content": "    rec_timestamp = parse_time_or_die(opt, arg, 0) / 1000000;",
          "content_same": false
        },
        {
          "line": 2748,
          "old_api": null,
          "new_api": "parse_time_or_die",
          "old_text": null,
          "new_text": "parse_time_or_die(opt, arg, 1)",
          "old_line_content": "",
          "new_line_content": "    input_ts_offset = parse_time_or_die(opt, arg, 1);",
          "content_same": false
        },
        {
          "line": 2763,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_ERROR, \"Unknown %s '%s'\\n\", codec_string, name)",
          "old_line_content": "    if(codec->type != type) {",
          "new_line_content": "        av_log(NULL, AV_LOG_ERROR, \"Unknown %s '%s'\\n\", codec_string, name);",
          "content_same": false
        },
        {
          "line": 2767,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_ERROR, \"Invalid %s type '%s'\\n\", codec_string, name)",
          "old_line_content": "    return codec->id;",
          "new_line_content": "        av_log(NULL, AV_LOG_ERROR, \"Invalid %s type '%s'\\n\", codec_string, name);",
          "content_same": false
        },
        {
          "line": 2768,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "}",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2782,
          "old_api": null,
          "new_api": "av_set_string2",
          "old_text": null,
          "new_text": "av_set_string2(ctx, opt_names[i], str, 1)",
          "old_line_content": "",
          "new_line_content": "            av_set_string2(ctx, opt_names[i], str, 1);",
          "content_same": false
        },
        {
          "line": 2796,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(filename, \"pipe:\", 5)",
          "old_line_content": "    /* get default parameters from command line */",
          "new_line_content": "    using_stdin |= !strncmp(filename, \"pipe:\", 5) ||",
          "content_same": false
        },
        {
          "line": 2800,
          "old_api": null,
          "new_api": "av_alloc_format_context",
          "old_text": null,
          "new_text": "av_alloc_format_context()",
          "old_line_content": "    ap->prealloced_context = 1;",
          "new_line_content": "    ic = av_alloc_format_context();",
          "content_same": false
        },
        {
          "line": 2802,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(ap, 0, sizeof(*ap))",
          "old_line_content": "    ap->channels = audio_channels;",
          "new_line_content": "    memset(ap, 0, sizeof(*ap));",
          "content_same": false
        },
        {
          "line": 2814,
          "old_api": null,
          "new_api": "find_codec_or_die",
          "old_text": null,
          "new_text": "find_codec_or_die(video_codec_name, CODEC_TYPE_VIDEO, 0)",
          "old_line_content": "        ap->video_codec_id= CODEC_ID_PGMYUV;",
          "new_line_content": "    ap->video_codec_id = find_codec_or_die(video_codec_name, CODEC_TYPE_VIDEO, 0);",
          "content_same": false
        },
        {
          "line": 2815,
          "old_api": null,
          "new_api": "find_codec_or_die",
          "old_text": null,
          "new_text": "find_codec_or_die(audio_codec_name, CODEC_TYPE_AUDIO, 0)",
          "old_line_content": "",
          "new_line_content": "    ap->audio_codec_id = find_codec_or_die(audio_codec_name, CODEC_TYPE_AUDIO, 0);",
          "content_same": false
        },
        {
          "line": 2821,
          "old_api": null,
          "new_api": "find_codec_or_die",
          "old_text": null,
          "new_text": "find_codec_or_die(video_codec_name   , CODEC_TYPE_VIDEO   , 0)",
          "old_line_content": "",
          "new_line_content": "    ic->video_codec_id   = find_codec_or_die(video_codec_name   , CODEC_TYPE_VIDEO   , 0);",
          "content_same": false
        },
        {
          "line": 2822,
          "old_api": null,
          "new_api": "find_codec_or_die",
          "old_text": null,
          "new_text": "find_codec_or_die(audio_codec_name   , CODEC_TYPE_AUDIO   , 0)",
          "old_line_content": "    /* open the input file with generic libav function */",
          "new_line_content": "    ic->audio_codec_id   = find_codec_or_die(audio_codec_name   , CODEC_TYPE_AUDIO   , 0);",
          "content_same": false
        },
        {
          "line": 2828,
          "old_api": null,
          "new_api": "print_error",
          "old_text": null,
          "new_text": "print_error(filename, err)",
          "old_line_content": "    if(opt_programid) {",
          "new_line_content": "        print_error(filename, err);",
          "content_same": false
        },
        {
          "line": 2829,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "        int i;",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2844,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"%s: could not find codec parameters\\n\", filename)",
          "old_line_content": "",
          "new_line_content": "        fprintf(stderr, \"%s: could not find codec parameters\\n\", filename);",
          "content_same": false
        },
        {
          "line": 2845,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "    timestamp = start_time;",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2855,
          "old_api": null,
          "new_api": "av_seek_frame",
          "old_text": null,
          "new_text": "av_seek_frame(ic, -1, timestamp, AVSEEK_FLAG_BACKWARD)",
          "old_line_content": "                    filename, (double)timestamp / AV_TIME_BASE);",
          "new_line_content": "        ret = av_seek_frame(ic, -1, timestamp, AVSEEK_FLAG_BACKWARD);",
          "content_same": false
        },
        {
          "line": 2857,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"%s: could not seek to position %0.3f\\n\",\n                    filename, (double)timestamp / AV_TIME_BASE)",
          "old_line_content": "        /* reset seek info */",
          "new_line_content": "            fprintf(stderr, \"%s: could not seek to position %0.3f\\n\",",
          "content_same": false
        },
        {
          "line": 2868,
          "old_api": null,
          "new_api": "avcodec_thread_init",
          "old_text": null,
          "new_text": "avcodec_thread_init(enc, thread_count)",
          "old_line_content": "        case CODEC_TYPE_AUDIO:",
          "new_line_content": "            avcodec_thread_init(enc, thread_count);",
          "content_same": false
        },
        {
          "line": 2872,
          "old_api": null,
          "new_api": "set_context_opts",
          "old_text": null,
          "new_text": "set_context_opts(enc, avctx_opts[CODEC_TYPE_AUDIO], AV_OPT_FLAG_AUDIO_PARAM | AV_OPT_FLAG_DECODING_PARAM)",
          "old_line_content": "            audio_sample_rate = enc->sample_rate;",
          "new_line_content": "            set_context_opts(enc, avctx_opts[CODEC_TYPE_AUDIO], AV_OPT_FLAG_AUDIO_PARAM | AV_OPT_FLAG_DECODING_PARAM);",
          "content_same": false
        },
        {
          "line": 2884,
          "old_api": null,
          "new_api": "av_q2d",
          "old_text": null,
          "new_text": "av_q2d(enc->sample_aspect_ratio)",
          "old_line_content": "            rfps_base = ic->streams[i]->r_frame_rate.den;",
          "new_line_content": "            frame_aspect_ratio = av_q2d(enc->sample_aspect_ratio) * enc->width / enc->height;",
          "content_same": false
        },
        {
          "line": 2895,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr,\"\\nSeems stream %d codec frame rate differs from container frame rate: %2.2f (%d/%d) -> %2.2f (%d/%d)\\n\",\n                            i, (float)enc->time_base.den / enc->time_base.num, enc->time_base.den, enc->time_base.num,\n\n                    (float)rfps / rfps_base, rfps, rfps_base)",
          "old_line_content": "                    (float)rfps / rfps_base, rfps, rfps_base);",
          "new_line_content": "                    fprintf(stderr,\"\\nSeems stream %d codec frame rate differs from container frame rate: %2.2f (%d/%d) -> %2.2f (%d/%d)\\n\",",
          "content_same": false
        },
        {
          "line": 2920,
          "old_api": null,
          "new_api": "abort",
          "old_text": null,
          "new_text": "abort()",
          "old_line_content": "",
          "new_line_content": "            abort();",
          "content_same": false
        },
        {
          "line": 2928,
          "old_api": null,
          "new_api": "dump_format",
          "old_text": null,
          "new_text": "dump_format(ic, nb_input_files, filename, 0)",
          "old_line_content": "    file_iformat = NULL;",
          "new_line_content": "        dump_format(ic, nb_input_files, filename, 0);",
          "content_same": false
        },
        {
          "line": 2937,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&video_codec_name)",
          "old_line_content": "}",
          "new_line_content": "    av_freep(&video_codec_name);",
          "content_same": false
        },
        {
          "line": 2938,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&audio_codec_name)",
          "old_line_content": "",
          "new_line_content": "    av_freep(&audio_codec_name);",
          "content_same": false
        },
        {
          "line": 2939,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&subtitle_codec_name)",
          "old_line_content": "static void check_audio_video_sub_inputs(int *has_video_ptr, int *has_audio_ptr,",
          "new_line_content": "    av_freep(&subtitle_codec_name);",
          "content_same": false
        },
        {
          "line": 2970,
          "old_api": null,
          "new_api": "abort",
          "old_text": null,
          "new_text": "abort()",
          "old_line_content": "    }",
          "new_line_content": "                abort();",
          "content_same": false
        },
        {
          "line": 2988,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "    bitstream_filters[nb_output_files][oc->nb_streams - 1]= video_bitstream_filters;",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 2990,
          "old_api": null,
          "new_api": "avcodec_get_context_defaults2",
          "old_text": null,
          "new_text": "avcodec_get_context_defaults2(st->codec, CODEC_TYPE_VIDEO)",
          "old_line_content": "",
          "new_line_content": "    avcodec_get_context_defaults2(st->codec, CODEC_TYPE_VIDEO);",
          "content_same": false
        },
        {
          "line": 2995,
          "old_api": null,
          "new_api": "avcodec_thread_init",
          "old_text": null,
          "new_text": "avcodec_thread_init(st->codec, thread_count)",
          "old_line_content": "",
          "new_line_content": "        avcodec_thread_init(st->codec, thread_count);",
          "content_same": false
        },
        {
          "line": 3021,
          "old_api": null,
          "new_api": "av_guess_codec",
          "old_text": null,
          "new_text": "av_guess_codec(oc->oformat, NULL, oc->filename, NULL, CODEC_TYPE_VIDEO)",
          "old_line_content": "",
          "new_line_content": "        codec_id = av_guess_codec(oc->oformat, NULL, oc->filename, NULL, CODEC_TYPE_VIDEO);",
          "content_same": false
        },
        {
          "line": 3026,
          "old_api": null,
          "new_api": "avcodec_find_encoder",
          "old_text": null,
          "new_text": "avcodec_find_encoder(codec_id)",
          "old_line_content": "",
          "new_line_content": "        codec = avcodec_find_encoder(codec_id);",
          "content_same": false
        },
        {
          "line": 3028,
          "old_api": null,
          "new_api": "set_context_opts",
          "old_text": null,
          "new_text": "set_context_opts(video_enc, avctx_opts[CODEC_TYPE_VIDEO], AV_OPT_FLAG_VIDEO_PARAM | AV_OPT_FLAG_ENCODING_PARAM)",
          "old_line_content": "        video_enc->time_base.num = fps.den;",
          "new_line_content": "        set_context_opts(video_enc, avctx_opts[CODEC_TYPE_VIDEO], AV_OPT_FLAG_VIDEO_PARAM | AV_OPT_FLAG_ENCODING_PARAM);",
          "content_same": false
        },
        {
          "line": 3037,
          "old_api": null,
          "new_api": "av_sub_q",
          "old_text": null,
          "new_text": "av_sub_q(fps, *p)",
          "old_line_content": "                    best_error= error;",
          "new_line_content": "                AVRational error= av_sub_q(fps, *p);",
          "content_same": false
        },
        {
          "line": 3039,
          "old_api": null,
          "new_api": "av_cmp_q",
          "old_text": null,
          "new_text": "av_cmp_q(error, best_error)",
          "old_line_content": "                }",
          "new_line_content": "                if(av_cmp_q(error, best_error) < 0){",
          "content_same": false
        },
        {
          "line": 3050,
          "old_api": null,
          "new_api": "av_d2q",
          "old_text": null,
          "new_text": "av_d2q(frame_aspect_ratio*video_enc->height/video_enc->width, 255)",
          "old_line_content": "        if(codec && codec->pix_fmts){",
          "new_line_content": "        video_enc->sample_aspect_ratio = av_d2q(frame_aspect_ratio*video_enc->height/video_enc->width, 255);",
          "content_same": false
        },
        {
          "line": 3082,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"error parsing rc_override\\n\")",
          "old_line_content": "            video_enc->rc_override=",
          "new_line_content": "                fprintf(stderr, \"error parsing rc_override\\n\");",
          "content_same": false
        },
        {
          "line": 3086,
          "old_api": null,
          "new_api": "av_realloc",
          "old_text": null,
          "new_text": "av_realloc(video_enc->rc_override,\n                           sizeof(RcOverride)*(i+1))",
          "old_line_content": "            video_enc->rc_override[i].end_frame  = end;",
          "new_line_content": "                av_realloc(video_enc->rc_override,",
          "content_same": false
        },
        {
          "line": 3098,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(p, '/')",
          "old_line_content": "        video_enc->rc_override_count=i;",
          "new_line_content": "            p= strchr(p, '/');",
          "content_same": false
        },
        {
          "line": 3122,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&video_codec_name)",
          "old_line_content": "",
          "new_line_content": "    av_freep(&video_codec_name);",
          "content_same": false
        },
        {
          "line": 3135,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 3137,
          "old_api": null,
          "new_api": "avcodec_get_context_defaults2",
          "old_text": null,
          "new_text": "avcodec_get_context_defaults2(st->codec, CODEC_TYPE_AUDIO)",
          "old_line_content": "    audio_bitstream_filters= NULL;",
          "new_line_content": "    avcodec_get_context_defaults2(st->codec, CODEC_TYPE_AUDIO);",
          "content_same": false
        },
        {
          "line": 3143,
          "old_api": null,
          "new_api": "avcodec_thread_init",
          "old_text": null,
          "new_text": "avcodec_thread_init(st->codec, thread_count)",
          "old_line_content": "    audio_enc->codec_type = CODEC_TYPE_AUDIO;",
          "new_line_content": "        avcodec_thread_init(st->codec, thread_count);",
          "content_same": false
        },
        {
          "line": 3160,
          "old_api": null,
          "new_api": "av_guess_codec",
          "old_text": null,
          "new_text": "av_guess_codec(oc->oformat, NULL, oc->filename, NULL, CODEC_TYPE_AUDIO)",
          "old_line_content": "",
          "new_line_content": "        codec_id = av_guess_codec(oc->oformat, NULL, oc->filename, NULL, CODEC_TYPE_AUDIO);",
          "content_same": false
        },
        {
          "line": 3165,
          "old_api": null,
          "new_api": "find_codec_or_die",
          "old_text": null,
          "new_text": "find_codec_or_die(audio_codec_name, CODEC_TYPE_AUDIO, 1)",
          "old_line_content": "",
          "new_line_content": "            codec_id = find_codec_or_die(audio_codec_name, CODEC_TYPE_AUDIO, 1);",
          "content_same": false
        },
        {
          "line": 3167,
          "old_api": null,
          "new_api": "avcodec_find_encoder",
          "old_text": null,
          "new_text": "avcodec_find_encoder(codec_id)",
          "old_line_content": "            audio_enc->flags |= CODEC_FLAG_QSCALE;",
          "new_line_content": "        codec = avcodec_find_encoder(codec_id);",
          "content_same": false
        },
        {
          "line": 3190,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(st->language, audio_language, sizeof(st->language))",
          "old_line_content": "    }",
          "new_line_content": "        av_strlcpy(st->language, audio_language, sizeof(st->language));",
          "content_same": false
        },
        {
          "line": 3191,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(audio_language)",
          "old_line_content": "",
          "new_line_content": "        av_free(audio_language);",
          "content_same": false
        },
        {
          "line": 3197,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&audio_codec_name)",
          "old_line_content": "",
          "new_line_content": "    av_freep(&audio_codec_name);",
          "content_same": false
        },
        {
          "line": 3209,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 3211,
          "old_api": null,
          "new_api": "avcodec_get_context_defaults2",
          "old_text": null,
          "new_text": "avcodec_get_context_defaults2(st->codec, CODEC_TYPE_SUBTITLE)",
          "old_line_content": "    subtitle_bitstream_filters= NULL;",
          "new_line_content": "    avcodec_get_context_defaults2(st->codec, CODEC_TYPE_SUBTITLE);",
          "content_same": false
        },
        {
          "line": 3221,
          "old_api": null,
          "new_api": "set_context_opts",
          "old_text": null,
          "new_text": "set_context_opts(avctx_opts[CODEC_TYPE_SUBTITLE], subtitle_enc, AV_OPT_FLAG_SUBTITLE_PARAM | AV_OPT_FLAG_ENCODING_PARAM)",
          "old_line_content": "",
          "new_line_content": "        set_context_opts(avctx_opts[CODEC_TYPE_SUBTITLE], subtitle_enc, AV_OPT_FLAG_SUBTITLE_PARAM | AV_OPT_FLAG_ENCODING_PARAM);",
          "content_same": false
        },
        {
          "line": 3222,
          "old_api": null,
          "new_api": "find_codec_or_die",
          "old_text": null,
          "new_text": "find_codec_or_die(subtitle_codec_name, CODEC_TYPE_SUBTITLE, 1)",
          "old_line_content": "    if (subtitle_language) {",
          "new_line_content": "        subtitle_enc->codec_id = find_codec_or_die(subtitle_codec_name, CODEC_TYPE_SUBTITLE, 1);",
          "content_same": false
        },
        {
          "line": 3226,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(st->language, subtitle_language, sizeof(st->language))",
          "old_line_content": "    }",
          "new_line_content": "        av_strlcpy(st->language, subtitle_language, sizeof(st->language));",
          "content_same": false
        },
        {
          "line": 3227,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(subtitle_language)",
          "old_line_content": "",
          "new_line_content": "        av_free(subtitle_language);",
          "content_same": false
        },
        {
          "line": 3232,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&subtitle_codec_name)",
          "old_line_content": "",
          "new_line_content": "    av_freep(&subtitle_codec_name);",
          "content_same": false
        },
        {
          "line": 3240,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"At least one output file must be specified\\n\")",
          "old_line_content": "    oc = output_files[nb_output_files - 1];",
          "new_line_content": "        fprintf(stderr, \"At least one output file must be specified\\n\");",
          "content_same": false
        },
        {
          "line": 3244,
          "old_api": null,
          "new_api": "new_audio_stream",
          "old_text": null,
          "new_text": "new_audio_stream(oc)",
          "old_line_content": "static void opt_new_video_stream(void)",
          "new_line_content": "    new_audio_stream(oc);",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": null,
          "new_api": "FFMAX",
          "old_text": null,
          "new_text": "FFMAX(pkt->size*sizeof(*samples), AVCODEC_MAX_AUDIO_FRAME_SIZE)",
          "old_line_content": "                if(pkt)",
          "new_line_content": "                if(pkt && samples_size < FFMAX(pkt->size*sizeof(*samples), AVCODEC_MAX_AUDIO_FRAME_SIZE)) {",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(samples)",
          "old_line_content": "                data_size= samples_size;",
          "new_line_content": "                    av_free(samples);",
          "content_same": false
        },
        {
          "line": 1204,
          "old_api": null,
          "new_api": "av_malloc",
          "old_text": null,
          "new_text": "av_malloc(samples_size)",
          "old_line_content": "                    /* XXX: could avoid copy if PCM 16 bits with same",
          "new_line_content": "                    samples= av_malloc(samples_size);",
          "content_same": false
        },
        {
          "line": 3251,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"At least one output file must be specified\\n\")",
          "old_line_content": "    oc = output_files[nb_output_files - 1];",
          "new_line_content": "        fprintf(stderr, \"At least one output file must be specified\\n\");",
          "content_same": false
        },
        {
          "line": 3255,
          "old_api": null,
          "new_api": "new_video_stream",
          "old_text": null,
          "new_text": "new_video_stream(oc)",
          "old_line_content": "static void opt_new_subtitle_stream(void)",
          "new_line_content": "    new_video_stream(oc);",
          "content_same": false
        },
        {
          "line": 1209,
          "old_api": null,
          "new_api": "avcodec_decode_audio2",
          "old_text": null,
          "new_text": "avcodec_decode_audio2(ist->st->codec, samples, &data_size,\n                                           ptr, len)",
          "old_line_content": "                    goto fail_decode;",
          "new_line_content": "                ret = avcodec_decode_audio2(ist->st->codec, samples, &data_size,",
          "content_same": false
        },
        {
          "line": 3262,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"At least one output file must be specified\\n\")",
          "old_line_content": "    oc = output_files[nb_output_files - 1];",
          "new_line_content": "        fprintf(stderr, \"At least one output file must be specified\\n\");",
          "content_same": false
        },
        {
          "line": 3266,
          "old_api": null,
          "new_api": "new_subtitle_stream",
          "old_text": null,
          "new_text": "new_subtitle_stream(oc)",
          "old_line_content": "static void opt_output_file(const char *filename)",
          "new_line_content": "    new_subtitle_stream(oc);",
          "content_same": false
        },
        {
          "line": 1228,
          "old_api": null,
          "new_api": "avcodec_get_frame_defaults",
          "old_text": null,
          "new_text": "avcodec_get_frame_defaults(&picture)",
          "old_line_content": "                                               &picture, &got_picture, ptr, len);",
          "new_line_content": "                    avcodec_get_frame_defaults(&picture);",
          "content_same": false
        },
        {
          "line": 1230,
          "old_api": null,
          "new_api": "avcodec_decode_video",
          "old_text": null,
          "new_text": "avcodec_decode_video(ist->st->codec,\n                                               &picture, &got_picture, ptr, len)",
          "old_line_content": "                    if (ret < 0)",
          "new_line_content": "                    ret = avcodec_decode_video(ist->st->codec,",
          "content_same": false
        },
        {
          "line": 3282,
          "old_api": null,
          "new_api": "guess_format",
          "old_text": null,
          "new_text": "guess_format(NULL, filename, NULL)",
          "old_line_content": "                    filename);",
          "new_line_content": "        file_oformat = guess_format(NULL, filename, NULL);",
          "content_same": false
        },
        {
          "line": 3284,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Unable to find a suitable output format for '%s'\\n\",\n                    filename)",
          "old_line_content": "        }",
          "new_line_content": "            fprintf(stderr, \"Unable to find a suitable output format for '%s'\\n\",",
          "content_same": false
        },
        {
          "line": 3286,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "",
          "new_line_content": "            av_exit(1);",
          "content_same": false
        },
        {
          "line": 3293,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(file_oformat->name, \"ffm\")",
          "old_line_content": "           parameters from ffserver */",
          "new_line_content": "    if (!strcmp(file_oformat->name, \"ffm\") &&",
          "content_same": false
        },
        {
          "line": 1247,
          "old_api": null,
          "new_api": "avcodec_decode_subtitle",
          "old_text": null,
          "new_text": "avcodec_decode_subtitle(ist->st->codec,\n                                              &subtitle, &got_subtitle, ptr, len)",
          "old_line_content": "                    goto fail_decode;",
          "new_line_content": "                ret = avcodec_decode_subtitle(ist->st->codec,",
          "content_same": false
        },
        {
          "line": 3299,
          "old_api": null,
          "new_api": "print_error",
          "old_text": null,
          "new_text": "print_error(filename, err)",
          "old_line_content": "    } else {",
          "new_line_content": "            print_error(filename, err);",
          "content_same": false
        },
        {
          "line": 3300,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "        use_video = file_oformat->video_codec != CODEC_ID_NONE || video_stream_copy || video_codec_name;",
          "new_line_content": "            av_exit(1);",
          "content_same": false
        },
        {
          "line": 3310,
          "old_api": null,
          "new_api": "check_audio_video_sub_inputs",
          "old_text": null,
          "new_text": "check_audio_video_sub_inputs(&input_has_video, &input_has_audio,\n                                         &input_has_subtitle)",
          "old_line_content": "                use_video = 0;",
          "new_line_content": "            check_audio_video_sub_inputs(&input_has_video, &input_has_audio,",
          "content_same": false
        },
        {
          "line": 1282,
          "old_api": null,
          "new_api": "pre_process_video_frame",
          "old_text": null,
          "new_text": "pre_process_video_frame(ist, (AVPicture *)&picture,\n                                    &buffer_to_free)",
          "old_line_content": "",
          "new_line_content": "            pre_process_video_frame(ist, (AVPicture *)&picture,",
          "content_same": false
        },
        {
          "line": 3332,
          "old_api": null,
          "new_api": "new_video_stream",
          "old_text": null,
          "new_text": "new_video_stream(oc)",
          "old_line_content": "        if (use_audio) {",
          "new_line_content": "            new_video_stream(oc);",
          "content_same": false
        },
        {
          "line": 3336,
          "old_api": null,
          "new_api": "new_audio_stream",
          "old_text": null,
          "new_text": "new_audio_stream(oc)",
          "old_line_content": "        if (use_subtitle) {",
          "new_line_content": "            new_audio_stream(oc);",
          "content_same": false
        },
        {
          "line": 3340,
          "old_api": null,
          "new_api": "new_subtitle_stream",
          "old_text": null,
          "new_text": "new_subtitle_stream(oc)",
          "old_line_content": "        oc->timestamp = rec_timestamp;",
          "new_line_content": "            new_subtitle_stream(oc);",
          "content_same": false
        },
        {
          "line": 3346,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(oc->title, str_title, sizeof(oc->title))",
          "old_line_content": "        if (str_copyright)",
          "new_line_content": "            av_strlcpy(oc->title, str_title, sizeof(oc->title));",
          "content_same": false
        },
        {
          "line": 3348,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(oc->author, str_author, sizeof(oc->author))",
          "old_line_content": "        if (str_comment)",
          "new_line_content": "            av_strlcpy(oc->author, str_author, sizeof(oc->author));",
          "content_same": false
        },
        {
          "line": 3350,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(oc->copyright, str_copyright, sizeof(oc->copyright))",
          "old_line_content": "        if (str_album)",
          "new_line_content": "            av_strlcpy(oc->copyright, str_copyright, sizeof(oc->copyright));",
          "content_same": false
        },
        {
          "line": 1303,
          "old_api": null,
          "new_api": "av_gettime",
          "old_text": null,
          "new_text": "av_gettime()",
          "old_line_content": "",
          "new_line_content": "            int64_t now = av_gettime() - ist->start;",
          "content_same": false
        },
        {
          "line": 3352,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(oc->comment, str_comment, sizeof(oc->comment))",
          "old_line_content": "        if (str_genre)",
          "new_line_content": "            av_strlcpy(oc->comment, str_comment, sizeof(oc->comment));",
          "content_same": false
        },
        {
          "line": 1305,
          "old_api": null,
          "new_api": "usleep",
          "old_text": null,
          "new_text": "usleep(pts - now)",
          "old_line_content": "        }",
          "new_line_content": "                usleep(pts - now);",
          "content_same": false
        },
        {
          "line": 3354,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(oc->album, str_album, sizeof(oc->album))",
          "old_line_content": "    }",
          "new_line_content": "            av_strlcpy(oc->album, str_album, sizeof(oc->album));",
          "content_same": false
        },
        {
          "line": 3356,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(oc->genre, str_genre, sizeof(oc->genre))",
          "old_line_content": "    output_files[nb_output_files++] = oc;",
          "new_line_content": "            av_strlcpy(oc->genre, str_genre, sizeof(oc->genre));",
          "content_same": false
        },
        {
          "line": 3363,
          "old_api": null,
          "new_api": "av_filename_number_test",
          "old_text": null,
          "new_text": "av_filename_number_test(oc->filename)",
          "old_line_content": "        }",
          "new_line_content": "        if (!av_filename_number_test(oc->filename)) {",
          "content_same": false
        },
        {
          "line": 3364,
          "old_api": null,
          "new_api": "print_error",
          "old_text": null,
          "new_text": "print_error(oc->filename, AVERROR_NUMEXPECTED)",
          "old_line_content": "    }",
          "new_line_content": "            print_error(oc->filename, AVERROR_NUMEXPECTED);",
          "content_same": false
        },
        {
          "line": 3365,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "",
          "new_line_content": "            av_exit(1);",
          "content_same": false
        },
        {
          "line": 3374,
          "old_api": null,
          "new_api": "av_strstart",
          "old_text": null,
          "new_text": "av_strstart(filename, \"file:\", NULL)",
          "old_line_content": "",
          "new_line_content": "             av_strstart(filename, \"file:\", NULL))) {",
          "content_same": false
        },
        {
          "line": 3375,
          "old_api": null,
          "new_api": "url_exist",
          "old_text": null,
          "new_text": "url_exist(filename)",
          "old_line_content": "                if (!using_stdin) {",
          "new_line_content": "            if (url_exist(filename)) {",
          "content_same": false
        },
        {
          "line": 1334,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"%d: got pts=%0.3f %0.3f\\n\", i,\n                           (double)pkt->pts / AV_TIME_BASE,\n                           ((double)ist->pts / AV_TIME_BASE) -\n                           ((double)ost->st->pts.val * ost->st->time_base.num / ost->st->time_base.den))",
          "old_line_content": "                           ((double)ost->st->pts.val * ost->st->time_base.num / ost->st->time_base.den));",
          "new_line_content": "                    printf(\"%d: got pts=%0.3f %0.3f\\n\", i,",
          "content_same": false
        },
        {
          "line": 3382,
          "old_api": null,
          "new_api": "toupper",
          "old_text": null,
          "new_text": "toupper(c)",
          "old_line_content": "                    }",
          "new_line_content": "                    if (toupper(c) != 'Y') {",
          "content_same": false
        },
        {
          "line": 3383,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Not overwriting - exiting\\n\")",
          "old_line_content": "                }",
          "new_line_content": "                        fprintf(stderr, \"Not overwriting - exiting\\n\");",
          "content_same": false
        },
        {
          "line": 3384,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "                else {",
          "new_line_content": "                        av_exit(1);",
          "content_same": false
        },
        {
          "line": 3388,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr,\"File '%s' already exists. Exiting.\\n\", filename)",
          "old_line_content": "            }",
          "new_line_content": "                    fprintf(stderr,\"File '%s' already exists. Exiting.\\n\", filename);",
          "content_same": false
        },
        {
          "line": 3389,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "        }",
          "new_line_content": "                    av_exit(1);",
          "content_same": false
        },
        {
          "line": 3395,
          "old_api": null,
          "new_api": "url_fopen",
          "old_text": null,
          "new_text": "url_fopen(&oc->pb, filename, URL_WRONLY)",
          "old_line_content": "        }",
          "new_line_content": "        if (url_fopen(&oc->pb, filename, URL_WRONLY) < 0) {",
          "content_same": false
        },
        {
          "line": 1348,
          "old_api": null,
          "new_api": "do_video_out",
          "old_text": null,
          "new_text": "do_video_out(os, ost, ist, &picture, &frame_size)",
          "old_line_content": "                            break;",
          "new_line_content": "                            do_video_out(os, ost, ist, &picture, &frame_size);",
          "content_same": false
        },
        {
          "line": 3396,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Could not open '%s'\\n\", filename)",
          "old_line_content": "    }",
          "new_line_content": "            fprintf(stderr, \"Could not open '%s'\\n\", filename);",
          "content_same": false
        },
        {
          "line": 3397,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "",
          "new_line_content": "            av_exit(1);",
          "content_same": false
        },
        {
          "line": 1353,
          "old_api": null,
          "new_api": "do_subtitle_out",
          "old_text": null,
          "new_text": "do_subtitle_out(os, ost, ist, &subtitle,\n                                            pkt->pts)",
          "old_line_content": "                        default:",
          "new_line_content": "                            do_subtitle_out(os, ost, ist, &subtitle,",
          "content_same": false
        },
        {
          "line": 3401,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(ap, 0, sizeof(*ap))",
          "old_line_content": "                oc->filename);",
          "new_line_content": "    memset(ap, 0, sizeof(*ap));",
          "content_same": false
        },
        {
          "line": 3403,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"%s: Invalid encoding parameters\\n\",\n                oc->filename)",
          "old_line_content": "    }",
          "new_line_content": "        fprintf(stderr, \"%s: Invalid encoding parameters\\n\",",
          "content_same": false
        },
        {
          "line": 1357,
          "old_api": null,
          "new_api": "abort",
          "old_text": null,
          "new_text": "abort()",
          "old_line_content": "                        AVFrame avframe; //FIXME/XXX remove this",
          "new_line_content": "                            abort();",
          "content_same": false
        },
        {
          "line": 3405,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "    oc->preload= (int)(mux_preload*AV_TIME_BASE);",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 1362,
          "old_api": null,
          "new_api": "av_init_packet",
          "old_text": null,
          "new_text": "av_init_packet(&opkt)",
          "old_line_content": "                            continue;",
          "new_line_content": "                        av_init_packet(&opkt);",
          "content_same": false
        },
        {
          "line": 3412,
          "old_api": null,
          "new_api": "set_context_opts",
          "old_text": null,
          "new_text": "set_context_opts(oc, avformat_opts, AV_OPT_FLAG_ENCODING_PARAM)",
          "old_line_content": "    file_oformat = NULL;",
          "new_line_content": "    set_context_opts(oc, avformat_opts, AV_OPT_FLAG_ENCODING_PARAM);",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": null,
          "new_api": "avcodec_get_frame_defaults",
          "old_text": null,
          "new_text": "avcodec_get_frame_defaults(&avframe)",
          "old_line_content": "",
          "new_line_content": "                        avcodec_get_frame_defaults(&avframe);",
          "content_same": false
        },
        {
          "line": 3425,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"pass number can be only 1 or 2\\n\")",
          "old_line_content": "    do_pass = pass;",
          "new_line_content": "        fprintf(stderr, \"pass number can be only 1 or 2\\n\");",
          "content_same": false
        },
        {
          "line": 3426,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "}",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": null,
          "new_api": "av_rescale_q",
          "old_text": null,
          "new_text": "av_rescale_q(pkt->pts, ist->st->time_base, ost->st->time_base)",
          "old_line_content": "",
          "new_line_content": "                            opkt.pts= av_rescale_q(pkt->pts, ist->st->time_base, ost->st->time_base);",
          "content_same": false
        },
        {
          "line": 1388,
          "old_api": null,
          "new_api": "av_rescale_q",
          "old_text": null,
          "new_text": "av_rescale_q(ist->pts, AV_TIME_BASE_Q, ost->st->time_base)",
          "old_line_content": "",
          "new_line_content": "                            opkt.dts = av_rescale_q(ist->pts, AV_TIME_BASE_Q, ost->st->time_base);",
          "content_same": false
        },
        {
          "line": 3436,
          "old_api": null,
          "new_api": "getrusage",
          "old_text": null,
          "new_text": "getrusage(RUSAGE_SELF, &rusage)",
          "old_line_content": "    HANDLE proc;",
          "new_line_content": "    getrusage(RUSAGE_SELF, &rusage);",
          "content_same": false
        },
        {
          "line": 1390,
          "old_api": null,
          "new_api": "av_rescale_q",
          "old_text": null,
          "new_text": "av_rescale_q(pkt->dts, ist->st->time_base, ost->st->time_base)",
          "old_line_content": "                        opkt.flags= pkt->flags;",
          "new_line_content": "                            opkt.dts = av_rescale_q(pkt->dts, ist->st->time_base, ost->st->time_base);",
          "content_same": false
        },
        {
          "line": 1392,
          "old_api": null,
          "new_api": "av_rescale_q",
          "old_text": null,
          "new_text": "av_rescale_q(pkt->duration, ist->st->time_base, ost->st->time_base)",
          "old_line_content": "                        //FIXME remove the following 2 lines they shall be replaced by the bitstream filters",
          "new_line_content": "                        opkt.duration = av_rescale_q(pkt->duration, ist->st->time_base, ost->st->time_base);",
          "content_same": false
        },
        {
          "line": 3441,
          "old_api": null,
          "new_api": "GetCurrentProcess",
          "old_text": null,
          "new_text": "GetCurrentProcess()",
          "old_line_content": "#else",
          "new_line_content": "    proc = GetCurrentProcess();",
          "content_same": false
        },
        {
          "line": 3445,
          "old_api": null,
          "new_api": "av_gettime",
          "old_text": null,
          "new_text": "av_gettime()",
          "old_line_content": "",
          "new_line_content": "    return av_gettime();",
          "content_same": false
        },
        {
          "line": 1402,
          "old_api": null,
          "new_api": "av_free_packet",
          "old_text": null,
          "new_text": "av_free_packet(&opkt)",
          "old_line_content": "            }",
          "new_line_content": "                        av_free_packet(&opkt);",
          "content_same": false
        },
        {
          "line": 1406,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(buffer_to_free)",
          "old_line_content": "            if (subtitle_to_free->rects != NULL) {",
          "new_line_content": "        av_free(buffer_to_free);",
          "content_same": false
        },
        {
          "line": 3459,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Syntax error in matrix \\\"%s\\\" at coeff %d\\n\", str, i)",
          "old_line_content": "        p++;",
          "new_line_content": "            fprintf(stderr, \"Syntax error in matrix \\\"%s\\\" at coeff %d\\n\", str, i);",
          "content_same": false
        },
        {
          "line": 1412,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(subtitle_to_free->rects[i].rgba_palette)",
          "old_line_content": "            }",
          "new_line_content": "                    av_free(subtitle_to_free->rects[i].rgba_palette);",
          "content_same": false
        },
        {
          "line": 3460,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "    }",
          "new_line_content": "            av_exit(1);",
          "content_same": false
        },
        {
          "line": 1414,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&subtitle_to_free->rects)",
          "old_line_content": "            subtitle_to_free = NULL;",
          "new_line_content": "                av_freep(&subtitle_to_free->rects);",
          "content_same": false
        },
        {
          "line": 3468,
          "old_api": null,
          "new_api": "av_mallocz",
          "old_text": null,
          "new_text": "av_mallocz(sizeof(uint16_t) * 64)",
          "old_line_content": "",
          "new_line_content": "    inter_matrix = av_mallocz(sizeof(uint16_t) * 64);",
          "content_same": false
        },
        {
          "line": 3469,
          "old_api": null,
          "new_api": "parse_matrix_coeffs",
          "old_text": null,
          "new_text": "parse_matrix_coeffs(inter_matrix, arg)",
          "old_line_content": "static void opt_intra_matrix(const char *arg)",
          "new_line_content": "    parse_matrix_coeffs(inter_matrix, arg);",
          "content_same": false
        },
        {
          "line": 3474,
          "old_api": null,
          "new_api": "av_mallocz",
          "old_text": null,
          "new_text": "av_mallocz(sizeof(uint16_t) * 64)",
          "old_line_content": "",
          "new_line_content": "    intra_matrix = av_mallocz(sizeof(uint16_t) * 64);",
          "content_same": false
        },
        {
          "line": 3475,
          "old_api": null,
          "new_api": "parse_matrix_coeffs",
          "old_text": null,
          "new_text": "parse_matrix_coeffs(intra_matrix, arg)",
          "old_line_content": "/**",
          "new_line_content": "    parse_matrix_coeffs(intra_matrix, arg);",
          "content_same": false
        },
        {
          "line": 3484,
          "old_api": null,
          "new_api": "vfprintf",
          "old_text": null,
          "new_text": "vfprintf(stdout, fmt, vl)",
          "old_line_content": "static void show_help(void)",
          "new_line_content": "    vfprintf(stdout, fmt, vl);",
          "content_same": false
        },
        {
          "line": 1439,
          "old_api": null,
          "new_api": "av_init_packet",
          "old_text": null,
          "new_text": "av_init_packet(&pkt)",
          "old_line_content": "                        switch(ost->st->codec->codec_type) {",
          "new_line_content": "                        av_init_packet(&pkt);",
          "content_same": false
        },
        {
          "line": 1444,
          "old_api": null,
          "new_api": "av_fifo_size",
          "old_text": null,
          "new_text": "av_fifo_size(&ost->fifo)",
          "old_line_content": "                            if(fifo_bytes > 0 && enc->codec->capabilities & CODEC_CAP_SMALL_LAST_FRAME) {",
          "new_line_content": "                            fifo_bytes = av_fifo_size(&ost->fifo);",
          "content_same": false
        },
        {
          "line": 3493,
          "old_api": null,
          "new_api": "show_help_options",
          "old_text": null,
          "new_text": "show_help_options(options, \"Main options:\\n\",\n                      OPT_EXPERT | OPT_AUDIO | OPT_VIDEO | OPT_SUBTITLE | OPT_GRAB, 0)",
          "old_line_content": "                      OPT_EXPERT | OPT_AUDIO | OPT_VIDEO | OPT_SUBTITLE | OPT_GRAB,",
          "new_line_content": "    show_help_options(options, \"Main options:\\n\",",
          "content_same": false
        },
        {
          "line": 1450,
          "old_api": null,
          "new_api": "av_fifo_read",
          "old_text": null,
          "new_text": "av_fifo_read(&ost->fifo, (uint8_t *)samples, fifo_bytes)",
          "old_line_content": "                            }",
          "new_line_content": "                                av_fifo_read(&ost->fifo, (uint8_t *)samples, fifo_bytes);",
          "content_same": false
        },
        {
          "line": 1451,
          "old_api": null,
          "new_api": "avcodec_encode_audio",
          "old_text": null,
          "new_text": "avcodec_encode_audio(enc, bit_buffer, bit_buffer_size, samples)",
          "old_line_content": "                            if(ret <= 0) {",
          "new_line_content": "                                    ret = avcodec_encode_audio(enc, bit_buffer, bit_buffer_size, samples);",
          "content_same": false
        },
        {
          "line": 1455,
          "old_api": null,
          "new_api": "avcodec_encode_audio",
          "old_text": null,
          "new_text": "avcodec_encode_audio(enc, bit_buffer, bit_buffer_size, NULL)",
          "old_line_content": "                            pkt.flags |= PKT_FLAG_KEY;",
          "new_line_content": "                                ret = avcodec_encode_audio(enc, bit_buffer, bit_buffer_size, NULL);",
          "content_same": false
        },
        {
          "line": 1461,
          "old_api": null,
          "new_api": "avcodec_encode_video",
          "old_text": null,
          "new_text": "avcodec_encode_video(enc, bit_buffer, bit_buffer_size, NULL)",
          "old_line_content": "                                pkt.flags |= PKT_FLAG_KEY;",
          "new_line_content": "                            ret = avcodec_encode_video(enc, bit_buffer, bit_buffer_size, NULL);",
          "content_same": false
        },
        {
          "line": 1466,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(ost->logfile, \"%s\", enc->stats_out)",
          "old_line_content": "                        default:",
          "new_line_content": "                                fprintf(ost->logfile, \"%s\", enc->stats_out);",
          "content_same": false
        },
        {
          "line": 3519,
          "old_api": null,
          "new_api": "av_opt_show",
          "old_text": null,
          "new_text": "av_opt_show(avformat_opts, NULL)",
          "old_line_content": "}",
          "new_line_content": "    av_opt_show(avformat_opts, NULL);",
          "content_same": false
        },
        {
          "line": 3520,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"\\n\")",
          "old_line_content": "",
          "new_line_content": "    printf(\"\\n\");",
          "content_same": false
        },
        {
          "line": 3521,
          "old_api": null,
          "new_api": "av_opt_show",
          "old_text": null,
          "new_text": "av_opt_show(sws_opts, NULL)",
          "old_line_content": "static void opt_target(const char *arg)",
          "new_line_content": "    av_opt_show(sws_opts, NULL);",
          "content_same": false
        },
        {
          "line": 1478,
          "old_api": null,
          "new_api": "av_rescale_q",
          "old_text": null,
          "new_text": "av_rescale_q(enc->coded_frame->pts, enc->time_base, ost->st->time_base)",
          "old_line_content": "                }",
          "new_line_content": "                            pkt.pts= av_rescale_q(enc->coded_frame->pts, enc->time_base, ost->st->time_base);",
          "content_same": false
        },
        {
          "line": 1479,
          "old_api": null,
          "new_api": "write_frame",
          "old_text": null,
          "new_text": "write_frame(os, &pkt, ost->st->codec, bitstream_filters[ost->file_index][pkt.stream_index])",
          "old_line_content": "            }",
          "new_line_content": "                        write_frame(os, &pkt, ost->st->codec, bitstream_filters[ost->file_index][pkt.stream_index]);",
          "content_same": false
        },
        {
          "line": 3535,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(arg, \"film-\", 5)",
          "old_line_content": "    } else {",
          "new_line_content": "    } else if(!strncmp(arg, \"film-\", 5)) {",
          "content_same": false
        },
        {
          "line": 1495,
          "old_api": null,
          "new_api": "avf_sdp_create",
          "old_text": null,
          "new_text": "avf_sdp_create(avc, n, sdp, sizeof(sdp))",
          "old_line_content": "",
          "new_line_content": "    avf_sdp_create(avc, n, sdp, sizeof(sdp));",
          "content_same": false
        },
        {
          "line": 1496,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"SDP:\\n%s\\n\", sdp)",
          "old_line_content": "static int stream_index_from_inputs(AVFormatContext **input_files,",
          "new_line_content": "    printf(\"SDP:\\n%s\\n\", sdp);",
          "content_same": false
        },
        {
          "line": 3570,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Assuming %s for target.\\n\", norm ? \"NTSC\" : \"PAL\")",
          "old_line_content": "    if(norm < 0) {",
          "new_line_content": "            fprintf(stderr, \"Assuming %s for target.\\n\", norm ? \"NTSC\" : \"PAL\");",
          "content_same": false
        },
        {
          "line": 3575,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Please prefix target with \\\"pal-\\\", \\\"ntsc-\\\" or \\\"film-\\\",\\n\")",
          "old_line_content": "    }",
          "new_line_content": "        fprintf(stderr, \"Please prefix target with \\\"pal-\\\", \\\"ntsc-\\\" or \\\"film-\\\",\\n\");",
          "content_same": false
        },
        {
          "line": 3576,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"or set a framerate with \\\"-r xxx\\\".\\n\")",
          "old_line_content": "",
          "new_line_content": "        fprintf(stderr, \"or set a framerate with \\\"-r xxx\\\".\\n\");",
          "content_same": false
        },
        {
          "line": 3582,
          "old_api": null,
          "new_api": "opt_video_codec",
          "old_text": null,
          "new_text": "opt_video_codec(\"mpeg1video\")",
          "old_line_content": "",
          "new_line_content": "        opt_video_codec(\"mpeg1video\");",
          "content_same": false
        },
        {
          "line": 3586,
          "old_api": null,
          "new_api": "opt_frame_size",
          "old_text": null,
          "new_text": "opt_frame_size(norm ? \"352x240\" : \"352x288\")",
          "old_line_content": "",
          "new_line_content": "        opt_frame_size(norm ? \"352x240\" : \"352x288\");",
          "content_same": false
        },
        {
          "line": 1543,
          "old_api": null,
          "new_api": "av_mallocz",
          "old_text": null,
          "new_text": "av_mallocz(nb_input_files * sizeof(AVInputFile))",
          "old_line_content": "",
          "new_line_content": "    file_table= av_mallocz(nb_input_files * sizeof(AVInputFile));",
          "content_same": false
        },
        {
          "line": 3591,
          "old_api": null,
          "new_api": "opt_default",
          "old_text": null,
          "new_text": "opt_default(\"maxrate\", \"1150000\")",
          "old_line_content": "",
          "new_line_content": "        opt_default(\"maxrate\", \"1150000\");",
          "content_same": false
        },
        {
          "line": 3593,
          "old_api": null,
          "new_api": "opt_default",
          "old_text": null,
          "new_text": "opt_default(\"bufsize\", \"327680\")",
          "old_line_content": "        audio_sample_rate = 44100;",
          "new_line_content": "        opt_default(\"bufsize\", \"327680\"); // 40*1024*8;",
          "content_same": false
        },
        {
          "line": 3595,
          "old_api": null,
          "new_api": "opt_default",
          "old_text": null,
          "new_text": "opt_default(\"ab\", \"224000\")",
          "old_line_content": "",
          "new_line_content": "        opt_default(\"ab\", \"224000\");",
          "content_same": false
        },
        {
          "line": 3599,
          "old_api": null,
          "new_api": "opt_default",
          "old_text": null,
          "new_text": "opt_default(\"packetsize\", \"2324\")",
          "old_line_content": "        /* We have to offset the PTS, so that it is consistent with the SCR.",
          "new_line_content": "        opt_default(\"packetsize\", \"2324\");",
          "content_same": false
        },
        {
          "line": 3600,
          "old_api": null,
          "new_api": "opt_default",
          "old_text": null,
          "new_text": "opt_default(\"muxrate\", \"1411200\")",
          "old_line_content": "           SCR starts at 36000, but the first two packs contain only padding",
          "new_line_content": "        opt_default(\"muxrate\", \"1411200\"); // 2352 * 75 * 8;",
          "content_same": false
        },
        {
          "line": 1557,
          "old_api": null,
          "new_api": "av_mallocz",
          "old_text": null,
          "new_text": "av_mallocz(nb_istreams * sizeof(AVInputStream *))",
          "old_line_content": "",
          "new_line_content": "    ist_table = av_mallocz(nb_istreams * sizeof(AVInputStream *));",
          "content_same": false
        },
        {
          "line": 1562,
          "old_api": null,
          "new_api": "av_mallocz",
          "old_text": null,
          "new_text": "av_mallocz(sizeof(AVInputStream))",
          "old_line_content": "        ist_table[i] = ist;",
          "new_line_content": "        ist = av_mallocz(sizeof(AVInputStream));",
          "content_same": false
        },
        {
          "line": 3610,
          "old_api": null,
          "new_api": "opt_video_codec",
          "old_text": null,
          "new_text": "opt_video_codec(\"mpeg2video\")",
          "old_line_content": "",
          "new_line_content": "        opt_video_codec(\"mpeg2video\");",
          "content_same": false
        },
        {
          "line": 3614,
          "old_api": null,
          "new_api": "opt_frame_size",
          "old_text": null,
          "new_text": "opt_frame_size(norm ? \"480x480\" : \"480x576\")",
          "old_line_content": "",
          "new_line_content": "        opt_frame_size(norm ? \"480x480\" : \"480x576\");",
          "content_same": false
        },
        {
          "line": 3620,
          "old_api": null,
          "new_api": "opt_default",
          "old_text": null,
          "new_text": "opt_default(\"minrate\", \"0\")",
          "old_line_content": "",
          "new_line_content": "        opt_default(\"minrate\", \"0\"); //1145000;",
          "content_same": false
        },
        {
          "line": 3621,
          "old_api": null,
          "new_api": "opt_default",
          "old_text": null,
          "new_text": "opt_default(\"bufsize\", \"1835008\")",
          "old_line_content": "",
          "new_line_content": "        opt_default(\"bufsize\", \"1835008\"); //224*1024*8;",
          "content_same": false
        },
        {
          "line": 1579,
          "old_api": null,
          "new_api": "av_gettime",
          "old_text": null,
          "new_text": "av_gettime()",
          "old_line_content": "        }",
          "new_line_content": "                ist->start = av_gettime();",
          "content_same": false
        },
        {
          "line": 3628,
          "old_api": null,
          "new_api": "opt_default",
          "old_text": null,
          "new_text": "opt_default(\"packetsize\", \"2324\")",
          "old_line_content": "",
          "new_line_content": "        opt_default(\"packetsize\", \"2324\");",
          "content_same": false
        },
        {
          "line": 3632,
          "old_api": null,
          "new_api": "opt_video_codec",
          "old_text": null,
          "new_text": "opt_video_codec(\"mpeg2video\")",
          "old_line_content": "",
          "new_line_content": "        opt_video_codec(\"mpeg2video\");",
          "content_same": false
        },
        {
          "line": 3636,
          "old_api": null,
          "new_api": "opt_frame_size",
          "old_text": null,
          "new_text": "opt_frame_size(norm ? \"720x480\" : \"720x576\")",
          "old_line_content": "",
          "new_line_content": "        opt_frame_size(norm ? \"720x480\" : \"720x576\");",
          "content_same": false
        },
        {
          "line": 1590,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Output file does not contain any stream\\n\")",
          "old_line_content": "        nb_ostreams += os->nb_streams;",
          "new_line_content": "            fprintf(stderr, \"Output file does not contain any stream\\n\");",
          "content_same": false
        },
        {
          "line": 1591,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "    }",
          "new_line_content": "            av_exit(1);",
          "content_same": false
        },
        {
          "line": 3641,
          "old_api": null,
          "new_api": "opt_default",
          "old_text": null,
          "new_text": "opt_default(\"maxrate\", \"9000000\")",
          "old_line_content": "",
          "new_line_content": "        opt_default(\"maxrate\", \"9000000\");",
          "content_same": false
        },
        {
          "line": 1596,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Number of stream maps must match number of output streams\\n\")",
          "old_line_content": "",
          "new_line_content": "        fprintf(stderr, \"Number of stream maps must match number of output streams\\n\");",
          "content_same": false
        },
        {
          "line": 1597,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "    /* Sanity check the mapping args -- do the input files & streams exist? */",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 3646,
          "old_api": null,
          "new_api": "opt_default",
          "old_text": null,
          "new_text": "opt_default(\"muxrate\", \"10080000\")",
          "old_line_content": "        audio_sample_rate = 48000;",
          "new_line_content": "        opt_default(\"muxrate\", \"10080000\"); // from mplex project: data_rate = 1260000. mux_rate = data_rate * 8",
          "content_same": false
        },
        {
          "line": 3651,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(arg, \"dv\", 2)",
          "old_line_content": "",
          "new_line_content": "    } else if(!strncmp(arg, \"dv\", 2)) {",
          "content_same": false
        },
        {
          "line": 1607,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr,\"Could not find input stream #%d.%d\\n\", fi, si)",
          "old_line_content": "        fi = stream_maps[i].sync_file_index;",
          "new_line_content": "            fprintf(stderr,\"Could not find input stream #%d.%d\\n\", fi, si);",
          "content_same": false
        },
        {
          "line": 1608,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "        si = stream_maps[i].sync_stream_index;",
          "new_line_content": "            av_exit(1);",
          "content_same": false
        },
        {
          "line": 3656,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(arg, \"dv50\", 4)",
          "old_line_content": "",
          "new_line_content": "        opt_frame_pix_fmt(!strncmp(arg, \"dv50\", 4) ? \"yuv422p\" :",
          "content_same": false
        },
        {
          "line": 3658,
          "old_api": null,
          "new_api": "opt_frame_rate",
          "old_text": null,
          "new_text": "opt_frame_rate(frame_rates[norm])",
          "old_line_content": "        audio_channels = 2;",
          "new_line_content": "        opt_frame_rate(frame_rates[norm]);",
          "content_same": false
        },
        {
          "line": 1614,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr,\"Could not find sync stream #%d.%d\\n\", fi, si)",
          "old_line_content": "    }",
          "new_line_content": "            fprintf(stderr,\"Could not find sync stream #%d.%d\\n\", fi, si);",
          "content_same": false
        },
        {
          "line": 1615,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "",
          "new_line_content": "            av_exit(1);",
          "content_same": false
        },
        {
          "line": 3664,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Unknown target: %s\\n\", arg)",
          "old_line_content": "}",
          "new_line_content": "        fprintf(stderr, \"Unknown target: %s\\n\", arg);",
          "content_same": false
        },
        {
          "line": 3665,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 1619,
          "old_api": null,
          "new_api": "av_mallocz",
          "old_text": null,
          "new_text": "av_mallocz(sizeof(AVOutputStream *) * nb_ostreams)",
          "old_line_content": "    for(i=0;i<nb_ostreams;i++) {",
          "new_line_content": "    ost_table = av_mallocz(sizeof(AVOutputStream *) * nb_ostreams);",
          "content_same": false
        },
        {
          "line": 1623,
          "old_api": null,
          "new_api": "av_mallocz",
          "old_text": null,
          "new_text": "av_mallocz(sizeof(AVOutputStream))",
          "old_line_content": "        ost_table[i] = ost;",
          "new_line_content": "        ost = av_mallocz(sizeof(AVOutputStream));",
          "content_same": false
        },
        {
          "line": 3671,
          "old_api": null,
          "new_api": "av_free (vstats_filename)",
          "old_text": null,
          "new_text": "av_free (vstats_filename)",
          "old_line_content": "",
          "new_line_content": "    av_free (vstats_filename);",
          "content_same": false
        },
        {
          "line": 3672,
          "old_api": null,
          "new_api": "av_strdup (arg)",
          "old_text": null,
          "new_text": "av_strdup (arg)",
          "old_line_content": "static void opt_vstats (void)",
          "new_line_content": "    vstats_filename=av_strdup (arg);",
          "content_same": false
        },
        {
          "line": 3679,
          "old_api": null,
          "new_api": "localtime",
          "old_text": null,
          "new_text": "localtime(&today2)",
          "old_line_content": "             today->tm_sec);",
          "new_line_content": "    struct tm *today = localtime(&today2);",
          "content_same": false
        },
        {
          "line": 3681,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(filename, sizeof(filename), \"vstats_%02d%02d%02d.log\", today->tm_hour, today->tm_min,\n             today->tm_sec)",
          "old_line_content": "}",
          "new_line_content": "    snprintf(filename, sizeof(filename), \"vstats_%02d%02d%02d.log\", today->tm_hour, today->tm_min,",
          "content_same": false
        },
        {
          "line": 3683,
          "old_api": null,
          "new_api": "opt_vstats_file",
          "old_text": null,
          "new_text": "opt_vstats_file(filename)",
          "old_line_content": "static int opt_bsf(const char *opt, const char *arg)",
          "new_line_content": "    opt_vstats_file(filename);",
          "content_same": false
        },
        {
          "line": 3688,
          "old_api": null,
          "new_api": "av_bitstream_filter_init",
          "old_text": null,
          "new_text": "av_bitstream_filter_init(arg)",
          "old_line_content": "    if(!bsfc){",
          "new_line_content": "    AVBitStreamFilterContext *bsfc= av_bitstream_filter_init(arg); //FIXME split name and args for filter at '='",
          "content_same": false
        },
        {
          "line": 3692,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Unknown bitstream filter %s\\n\", arg)",
          "old_line_content": "",
          "new_line_content": "        fprintf(stderr, \"Unknown bitstream filter %s\\n\", arg);",
          "content_same": false
        },
        {
          "line": 1645,
          "old_api": null,
          "new_api": "dump_format",
          "old_text": null,
          "new_text": "dump_format(output_files[i], i, output_files[i]->filename, 1)",
          "old_line_content": "                        ost->file_index, ost->index);",
          "new_line_content": "                    dump_format(output_files[i], i, output_files[i]->filename, 1);",
          "content_same": false
        },
        {
          "line": 3693,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "    bsfp= *opt == 'v' ? &video_bitstream_filters :",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 1649,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "            } else {",
          "new_line_content": "                    av_exit(1);",
          "content_same": false
        },
        {
          "line": 1655,
          "old_api": null,
          "new_api": "stream_index_from_inputs",
          "old_text": null,
          "new_text": "stream_index_from_inputs(input_files, nb_input_files, file_table, ist_table, ost->st->codec->codec_type, opt_programid)",
          "old_line_content": "                        found = 1;",
          "new_line_content": "                    j = stream_index_from_inputs(input_files, nb_input_files, file_table, ist_table, ost->st->codec->codec_type, opt_programid);",
          "content_same": false
        },
        {
          "line": 3712,
          "old_api": null,
          "new_api": "getenv",
          "old_text": null,
          "new_text": "getenv(\"HOME\")",
          "old_line_content": "                         };",
          "new_line_content": "    const char *base[3]= { getenv(\"HOME\"),",
          "content_same": false
        },
        {
          "line": 3718,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(tmp, sizeof(tmp), \"%s/%sffmpeg/%s.ffpreset\", base[i], i ? \"\" : \".\", arg)",
          "old_line_content": "            char *codec_name= *opt == 'v' ? video_codec_name :",
          "new_line_content": "        snprintf(tmp, sizeof(tmp), \"%s/%sffmpeg/%s.ffpreset\", base[i], i ? \"\" : \".\", arg);",
          "content_same": false
        },
        {
          "line": 3719,
          "old_api": null,
          "new_api": "fopen",
          "old_text": null,
          "new_text": "fopen(tmp, \"r\")",
          "old_line_content": "                              *opt == 'a' ? audio_codec_name :",
          "new_line_content": "        f= fopen(tmp, \"r\");",
          "content_same": false
        },
        {
          "line": 3724,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(tmp, sizeof(tmp), \"%s/%sffmpeg/%s-%s.ffpreset\", base[i],  i ? \"\" : \".\", codec_name, arg)",
          "old_line_content": "    }",
          "new_line_content": "              snprintf(tmp, sizeof(tmp), \"%s/%sffmpeg/%s-%s.ffpreset\", base[i],  i ? \"\" : \".\", codec_name, arg);",
          "content_same": false
        },
        {
          "line": 3725,
          "old_api": null,
          "new_api": "fopen",
          "old_text": null,
          "new_text": "fopen(tmp, \"r\")",
          "old_line_content": "",
          "new_line_content": "            f= fopen(tmp, \"r\");",
          "content_same": false
        },
        {
          "line": 3730,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Preset file not found\\n\")",
          "old_line_content": "",
          "new_line_content": "        fprintf(stderr, \"Preset file not found\\n\");",
          "content_same": false
        },
        {
          "line": 1688,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Could not find input stream matching output stream #%d.%d\\n\",\n                                ost->file_index, ost->index)",
          "old_line_content": "                    }",
          "new_line_content": "                        fprintf(stderr, \"Could not find input stream matching output stream #%d.%d\\n\",",
          "content_same": false
        },
        {
          "line": 1690,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "            }",
          "new_line_content": "                        av_exit(1);",
          "content_same": false
        },
        {
          "line": 3743,
          "old_api": null,
          "new_api": "opt_video_codec",
          "old_text": null,
          "new_text": "opt_video_codec(tmp2)",
          "old_line_content": "        }else",
          "new_line_content": "            opt_video_codec(tmp2);",
          "content_same": false
        },
        {
          "line": 3745,
          "old_api": null,
          "new_api": "opt_subtitle_codec",
          "old_text": null,
          "new_text": "opt_subtitle_codec(tmp2)",
          "old_line_content": "    }",
          "new_line_content": "            opt_subtitle_codec(tmp2);",
          "content_same": false
        },
        {
          "line": 3750,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(f)",
          "old_line_content": "}",
          "new_line_content": "    fclose(f);",
          "content_same": false
        },
        {
          "line": 1712,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(ost->st->language, ist->st->language,\n                       sizeof(ost->st->language))",
          "old_line_content": "        ost->st->disposition = ist->st->disposition;",
          "new_line_content": "            av_strlcpy(ost->st->language, ist->st->language,",
          "content_same": false
        },
        {
          "line": 1724,
          "old_api": null,
          "new_api": "av_codec_get_id (os->oformat->codec_tag, icodec->codec_tag)",
          "old_text": null,
          "new_text": "av_codec_get_id (os->oformat->codec_tag, icodec->codec_tag)",
          "old_line_content": "            }",
          "new_line_content": "                   || av_codec_get_id (os->oformat->codec_tag, icodec->codec_tag) > 0",
          "content_same": false
        },
        {
          "line": 1725,
          "old_api": null,
          "new_api": "av_codec_get_tag",
          "old_text": null,
          "new_text": "av_codec_get_tag(os->oformat->codec_tag, icodec->codec_id)",
          "old_line_content": "",
          "new_line_content": "                   || av_codec_get_tag(os->oformat->codec_tag, icodec->codec_id) <= 0)",
          "content_same": false
        },
        {
          "line": 1732,
          "old_api": null,
          "new_api": "av_q2d",
          "old_text": null,
          "new_text": "av_q2d(ist->st->time_base)",
          "old_line_content": "                codec->time_base = ist->st->time_base;",
          "new_line_content": "            if(av_q2d(icodec->time_base) > av_q2d(ist->st->time_base) && av_q2d(ist->st->time_base) < 1.0/1000)",
          "content_same": false
        },
        {
          "line": 1739,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr,\"-acodec copy and -vol are incompatible (frames are not decoded)\\n\")",
          "old_line_content": "                codec->sample_rate = icodec->sample_rate;",
          "new_line_content": "                    fprintf(stderr,\"-acodec copy and -vol are incompatible (frames are not decoded)\\n\");",
          "content_same": false
        },
        {
          "line": 1740,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "                codec->channels = icodec->channels;",
          "new_line_content": "                    av_exit(1);",
          "content_same": false
        },
        {
          "line": 1753,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr,\"-vcodec copy and -vhook are incompatible (frames are not decoded)\\n\")",
          "old_line_content": "                codec->pix_fmt = icodec->pix_fmt;",
          "new_line_content": "                    fprintf(stderr,\"-vcodec copy and -vhook are incompatible (frames are not decoded)\\n\");",
          "content_same": false
        },
        {
          "line": 1754,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "                codec->width = icodec->width;",
          "new_line_content": "                    av_exit(1);",
          "content_same": false
        },
        {
          "line": 1764,
          "old_api": null,
          "new_api": "abort",
          "old_text": null,
          "new_text": "abort()",
          "old_line_content": "            switch(codec->codec_type) {",
          "new_line_content": "                abort();",
          "content_same": false
        },
        {
          "line": 1769,
          "old_api": null,
          "new_api": "av_fifo_init",
          "old_text": null,
          "new_text": "av_fifo_init(&ost->fifo, 1024)",
          "old_line_content": "                ost->audio_resample = codec->sample_rate != icodec->sample_rate || audio_sync_method > 1;",
          "new_line_content": "                if (av_fifo_init(&ost->fifo, 1024))",
          "content_same": false
        },
        {
          "line": 1771,
          "old_api": null,
          "new_api": "MAKE_SFMT_PAIR",
          "old_text": null,
          "new_text": "MAKE_SFMT_PAIR(SAMPLE_FMT_NONE,SAMPLE_FMT_NONE)",
          "old_line_content": "                ist->decoding_needed = 1;",
          "new_line_content": "                ost->reformat_pair = MAKE_SFMT_PAIR(SAMPLE_FMT_NONE,SAMPLE_FMT_NONE);",
          "content_same": false
        },
        {
          "line": 1797,
          "old_api": null,
          "new_api": "avcodec_get_frame_defaults",
          "old_text": null,
          "new_text": "avcodec_get_frame_defaults(&ost->pict_tmp)",
          "old_line_content": "                            goto fail;",
          "new_line_content": "                        avcodec_get_frame_defaults(&ost->pict_tmp);",
          "content_same": false
        },
        {
          "line": 1798,
          "old_api": null,
          "new_api": "avpicture_alloc",
          "old_text": null,
          "new_text": "avpicture_alloc((AVPicture*)&ost->pict_tmp, codec->pix_fmt,\n                                         codec->width, codec->height)",
          "old_line_content": "                    }",
          "new_line_content": "                        if(avpicture_alloc((AVPicture*)&ost->pict_tmp, codec->pix_fmt,",
          "content_same": false
        },
        {
          "line": 1810,
          "old_api": null,
          "new_api": "av_get_int",
          "old_text": null,
          "new_text": "av_get_int(sws_opts, \"sws_flags\", NULL)",
          "old_line_content": "                            icodec->height - (frame_topBand + frame_bottomBand),",
          "new_line_content": "                    sws_flags = av_get_int(sws_opts, \"sws_flags\", NULL);",
          "content_same": false
        },
        {
          "line": 1811,
          "old_api": null,
          "new_api": "sws_getContext",
          "old_text": null,
          "new_text": "sws_getContext(\n                            icodec->width - (frame_leftBand + frame_rightBand),\n                            icodec->height - (frame_topBand + frame_bottomBand),\n                            icodec->pix_fmt,\n                            codec->width - (frame_padleft + frame_padright),\n                            codec->height - (frame_padtop + frame_padbottom),\n                            codec->pix_fmt,\n                            sws_flags, NULL, NULL, NULL)",
          "old_line_content": "                            icodec->pix_fmt,",
          "new_line_content": "                    ost->img_resample_ctx = sws_getContext(",
          "content_same": false
        },
        {
          "line": 1820,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Cannot get resampling context\\n\")",
          "old_line_content": "                    ost->resample_height = icodec->height - (frame_topBand + frame_bottomBand);",
          "new_line_content": "                        fprintf(stderr, \"Cannot get resampling context\\n\");",
          "content_same": false
        },
        {
          "line": 1821,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "                }",
          "new_line_content": "                        av_exit(1);",
          "content_same": false
        },
        {
          "line": 1833,
          "old_api": null,
          "new_api": "abort",
          "old_text": null,
          "new_text": "abort()",
          "old_line_content": "            /* two pass mode */",
          "new_line_content": "                abort();",
          "content_same": false
        },
        {
          "line": 3890,
          "old_api": null,
          "new_api": "avcodec_register_all",
          "old_text": null,
          "new_text": "avcodec_register_all()",
          "old_line_content": "",
          "new_line_content": "    avcodec_register_all();",
          "content_same": false
        },
        {
          "line": 1844,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(logfilename, sizeof(logfilename), \"%s-%d.log\",\n                         pass_logfilename ?\n                         pass_logfilename : DEFAULT_PASS_LOGFILENAME, i)",
          "old_line_content": "                if (codec->flags & CODEC_FLAG_PASS1) {",
          "new_line_content": "                snprintf(logfilename, sizeof(logfilename), \"%s-%d.log\",",
          "content_same": false
        },
        {
          "line": 3894,
          "old_api": null,
          "new_api": "isatty",
          "old_text": null,
          "new_text": "isatty(STDIN_FILENO)",
          "old_line_content": "    for(i=0; i<CODEC_TYPE_NB; i++){",
          "new_line_content": "    if(isatty(STDIN_FILENO))",
          "content_same": false
        },
        {
          "line": 1850,
          "old_api": null,
          "new_api": "perror",
          "old_text": null,
          "new_text": "perror(logfilename)",
          "old_line_content": "                    ost->logfile = f;",
          "new_line_content": "                        perror(logfilename);",
          "content_same": false
        },
        {
          "line": 1851,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "                } else {",
          "new_line_content": "                        av_exit(1);",
          "content_same": false
        },
        {
          "line": 3901,
          "old_api": null,
          "new_api": "sws_getContext",
          "old_text": null,
          "new_text": "sws_getContext(16,16,0, 16,16,0, sws_flags, NULL,NULL,NULL)",
          "old_line_content": "    if (argc <= 1) {",
          "new_line_content": "    sws_opts = sws_getContext(16,16,0, 16,16,0, sws_flags, NULL,NULL,NULL);",
          "content_same": false
        },
        {
          "line": 3905,
          "old_api": null,
          "new_api": "show_help",
          "old_text": null,
          "new_text": "show_help()",
          "old_line_content": "",
          "new_line_content": "        show_help();",
          "content_same": false
        },
        {
          "line": 3906,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "    /* parse options */",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 1862,
          "old_api": null,
          "new_api": "ftell",
          "old_text": null,
          "new_text": "ftell(f)",
          "old_line_content": "                    if (!logbuffer) {",
          "new_line_content": "                    size = ftell(f);",
          "content_same": false
        },
        {
          "line": 3910,
          "old_api": null,
          "new_api": "parse_options",
          "old_text": null,
          "new_text": "parse_options(argc, argv, options, opt_output_file)",
          "old_line_content": "    if (nb_output_files <= 0) {",
          "new_line_content": "    parse_options(argc, argv, options, opt_output_file);",
          "content_same": false
        },
        {
          "line": 3914,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Must supply at least one output file\\n\")",
          "old_line_content": "",
          "new_line_content": "        fprintf(stderr, \"Must supply at least one output file\\n\");",
          "content_same": false
        },
        {
          "line": 3915,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "    if (nb_input_files == 0) {",
          "new_line_content": "        av_exit(1);",
          "content_same": false
        },
        {
          "line": 1869,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(logbuffer, 1, size, f)",
          "old_line_content": "                    codec->stats_in = logbuffer;",
          "new_line_content": "                    size = fread(logbuffer, 1, size, f);",
          "content_same": false
        },
        {
          "line": 1870,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(f)",
          "old_line_content": "                }",
          "new_line_content": "                    fclose(f);",
          "content_same": false
        },
        {
          "line": 3919,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Must supply at least one input file\\n\")",
          "old_line_content": "",
          "new_line_content": "        fprintf(stderr, \"Must supply at least one input file\\n\");",
          "content_same": false
        },
        {
          "line": 3924,
          "old_api": null,
          "new_api": "av_encode",
          "old_text": null,
          "new_text": "av_encode(output_files, nb_output_files, input_files, nb_input_files,\n              stream_maps, nb_stream_maps)",
          "old_line_content": "    if (do_benchmark) {",
          "new_line_content": "    av_encode(output_files, nb_output_files, input_files, nb_input_files,",
          "content_same": false
        },
        {
          "line": 1878,
          "old_api": null,
          "new_api": "FFMAX",
          "old_text": null,
          "new_text": "FFMAX(bit_buffer_size, 4*size)",
          "old_line_content": "",
          "new_line_content": "            bit_buffer_size= FFMAX(bit_buffer_size, 4*size);",
          "content_same": false
        },
        {
          "line": 3926,
          "old_api": null,
          "new_api": "getutime",
          "old_text": null,
          "new_text": "getutime()",
          "old_line_content": "    }",
          "new_line_content": "    ti = getutime() - ti;",
          "content_same": false
        },
        {
          "line": 1883,
          "old_api": null,
          "new_api": "av_malloc",
          "old_text": null,
          "new_text": "av_malloc(bit_buffer_size)",
          "old_line_content": "",
          "new_line_content": "        bit_buffer = av_malloc(bit_buffer_size);",
          "content_same": false
        },
        {
          "line": 3931,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(0)",
          "old_line_content": "",
          "new_line_content": "    return av_exit(0);",
          "content_same": false
        },
        {
          "line": 1890,
          "old_api": null,
          "new_api": "dump_format",
          "old_text": null,
          "new_text": "dump_format(output_files[i], i, output_files[i]->filename, 1)",
          "old_line_content": "    /* dump the stream mapping */",
          "new_line_content": "        dump_format(output_files[i], i, output_files[i]->filename, 1);",
          "content_same": false
        },
        {
          "line": 1898,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"  Stream #%d.%d -> #%d.%d\",\n                    ist_table[ost->source_index]->file_index,\n                    ist_table[ost->source_index]->index,\n                    ost->file_index,\n                    ost->index)",
          "old_line_content": "                    ost->file_index,",
          "new_line_content": "            fprintf(stderr, \"  Stream #%d.%d -> #%d.%d\",",
          "content_same": false
        },
        {
          "line": 1907,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"\\n\")",
          "old_line_content": "",
          "new_line_content": "            fprintf(stderr, \"\\n\");",
          "content_same": false
        },
        {
          "line": 1916,
          "old_api": null,
          "new_api": "avcodec_find_encoder",
          "old_text": null,
          "new_text": "avcodec_find_encoder(ost->st->codec->codec_id)",
          "old_line_content": "                        ost->file_index, ost->index);",
          "new_line_content": "            codec = avcodec_find_encoder(ost->st->codec->codec_id);",
          "content_same": false
        },
        {
          "line": 1918,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Unsupported codec for output stream #%d.%d\\n\",\n                        ost->file_index, ost->index)",
          "old_line_content": "            }",
          "new_line_content": "                fprintf(stderr, \"Unsupported codec for output stream #%d.%d\\n\",",
          "content_same": false
        },
        {
          "line": 1923,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Error while opening codec for output stream #%d.%d - maybe incorrect parameters such as bit_rate, rate, width or height\\n\",\n                        ost->file_index, ost->index)",
          "old_line_content": "            }",
          "new_line_content": "                fprintf(stderr, \"Error while opening codec for output stream #%d.%d - maybe incorrect parameters such as bit_rate, rate, width or height\\n\",",
          "content_same": false
        },
        {
          "line": 1925,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "        }",
          "new_line_content": "                av_exit(1);",
          "content_same": false
        },
        {
          "line": 1936,
          "old_api": null,
          "new_api": "avcodec_find_decoder",
          "old_text": null,
          "new_text": "avcodec_find_decoder(ist->st->codec->codec_id)",
          "old_line_content": "                        ist->st->codec->codec_id, ist->file_index, ist->index);",
          "new_line_content": "            codec = avcodec_find_decoder(ist->st->codec->codec_id);",
          "content_same": false
        },
        {
          "line": 1938,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Unsupported codec (id=%d) for input stream #%d.%d\\n\",\n                        ist->st->codec->codec_id, ist->file_index, ist->index)",
          "old_line_content": "            }",
          "new_line_content": "                fprintf(stderr, \"Unsupported codec (id=%d) for input stream #%d.%d\\n\",",
          "content_same": false
        },
        {
          "line": 1943,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Error while opening codec for input stream #%d.%d\\n\",\n                        ist->file_index, ist->index)",
          "old_line_content": "            }",
          "new_line_content": "                fprintf(stderr, \"Error while opening codec for input stream #%d.%d\\n\",",
          "content_same": false
        },
        {
          "line": 1945,
          "old_api": null,
          "new_api": "av_exit",
          "old_text": null,
          "new_text": "av_exit(1)",
          "old_line_content": "            //    ist->st->codec->flags |= CODEC_FLAG_REPEAT_FIELD;",
          "new_line_content": "                av_exit(1);",
          "content_same": false
        },
        {
          "line": 1969,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Invalid output file index %d map_meta_data(%d,%d)\\n\", out_file_index, out_file_index, in_file_index)",
          "old_line_content": "        }",
          "new_line_content": "            fprintf(stderr, \"Invalid output file index %d map_meta_data(%d,%d)\\n\", out_file_index, out_file_index, in_file_index);",
          "content_same": false
        },
        {
          "line": 1970,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "        if (in_file_index < 0 || in_file_index >= nb_input_files) {",
          "new_line_content": "            ret = AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 1974,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Invalid input file index %d map_meta_data(%d,%d)\\n\", in_file_index, out_file_index, in_file_index)",
          "old_line_content": "        }",
          "new_line_content": "            fprintf(stderr, \"Invalid input file index %d map_meta_data(%d,%d)\\n\", in_file_index, out_file_index, in_file_index);",
          "content_same": false
        },
        {
          "line": 1975,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "",
          "new_line_content": "            ret = AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 1984,
          "old_api": null,
          "new_api": "strcpy",
          "old_text": null,
          "new_text": "strcpy(out_file->copyright, in_file->copyright)",
          "old_line_content": "        out_file->year = in_file->year;",
          "new_line_content": "        strcpy(out_file->copyright, in_file->copyright);",
          "content_same": false
        },
        {
          "line": 1985,
          "old_api": null,
          "new_api": "strcpy",
          "old_text": null,
          "new_text": "strcpy(out_file->comment, in_file->comment)",
          "old_line_content": "        out_file->track = in_file->track;",
          "new_line_content": "        strcpy(out_file->comment, in_file->comment);",
          "content_same": false
        },
        {
          "line": 1989,
          "old_api": null,
          "new_api": "strcpy",
          "old_text": null,
          "new_text": "strcpy(out_file->genre, in_file->genre)",
          "old_line_content": "    /* open files and write file headers */",
          "new_line_content": "        strcpy(out_file->genre, in_file->genre);",
          "content_same": false
        },
        {
          "line": 1995,
          "old_api": null,
          "new_api": "av_write_header",
          "old_text": null,
          "new_text": "av_write_header(os)",
          "old_line_content": "            goto fail;",
          "new_line_content": "        if (av_write_header(os) < 0) {",
          "content_same": false
        },
        {
          "line": 1996,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Could not write header for output file #%d (incorrect codec parameters ?)\\n\", i)",
          "old_line_content": "        }",
          "new_line_content": "            fprintf(stderr, \"Could not write header for output file #%d (incorrect codec parameters ?)\\n\", i);",
          "content_same": false
        },
        {
          "line": 2000,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(output_files[i]->oformat->name, \"rtp\")",
          "old_line_content": "    }",
          "new_line_content": "        if (strcmp(output_files[i]->oformat->name, \"rtp\")) {",
          "content_same": false
        },
        {
          "line": 2005,
          "old_api": null,
          "new_api": "print_sdp",
          "old_text": null,
          "new_text": "print_sdp(output_files, nb_output_files)",
          "old_line_content": "    if (!using_stdin && verbose >= 0) {",
          "new_line_content": "        print_sdp(output_files, nb_output_files);",
          "content_same": false
        },
        {
          "line": 2010,
          "old_api": null,
          "new_api": "url_set_interrupt_cb",
          "old_text": null,
          "new_text": "url_set_interrupt_cb(decode_interrupt_cb)",
          "old_line_content": "",
          "new_line_content": "        url_set_interrupt_cb(decode_interrupt_cb);",
          "content_same": false
        },
        {
          "line": 2015,
          "old_api": null,
          "new_api": "av_gettime",
          "old_text": null,
          "new_text": "av_gettime()",
          "old_line_content": "        int file_index, ist_index;",
          "new_line_content": "    timer_start = av_gettime();",
          "content_same": false
        },
        {
          "line": 2031,
          "old_api": null,
          "new_api": "read_key",
          "old_text": null,
          "new_text": "read_key()",
          "old_line_content": "        }",
          "new_line_content": "            key = read_key();",
          "content_same": false
        },
        {
          "line": 2045,
          "old_api": null,
          "new_api": "av_q2d",
          "old_text": null,
          "new_text": "av_q2d(ost->st->codec->time_base)",
          "old_line_content": "            ipts = (double)ist->pts;",
          "new_line_content": "                opts = ost->sync_opts * av_q2d(ost->st->codec->time_base);",
          "content_same": false
        },
        {
          "line": 2047,
          "old_api": null,
          "new_api": "av_q2d",
          "old_text": null,
          "new_text": "av_q2d(ost->st->time_base)",
          "old_line_content": "                if(ipts < ipts_min) {",
          "new_line_content": "                opts = ost->st->pts.val * av_q2d(ost->st->time_base);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2071,
          "old_api": "url_ftell",
          "new_api": null,
          "old_text": "url_ftell(output_files[0]->pb)",
          "new_text": null,
          "old_line_content": "        if (limit_filesize != 0 && limit_filesize < url_ftell(output_files[0]->pb))",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 2076,
          "old_api": "av_read_frame",
          "new_api": null,
          "old_text": "av_read_frame(is, &pkt)",
          "new_text": null,
          "old_line_content": "        if (av_read_frame(is, &pkt) < 0) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2085,
          "old_api": "av_pkt_dump_log",
          "new_api": null,
          "old_text": "av_pkt_dump_log(NULL, AV_LOG_DEBUG, &pkt, do_hex_dump)",
          "new_text": null,
          "old_line_content": "            av_pkt_dump_log(NULL, AV_LOG_DEBUG, &pkt, do_hex_dump);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2097,
          "old_api": "av_rescale_q",
          "new_api": null,
          "old_text": "av_rescale_q(input_files_ts_offset[ist->file_index], AV_TIME_BASE_Q, ist->st->time_base)",
          "new_text": null,
          "old_line_content": "            pkt.dts += av_rescale_q(input_files_ts_offset[ist->file_index], AV_TIME_BASE_Q, ist->st->time_base);",
          "new_line_content": "            goto discard_packet;",
          "content_same": false
        },
        {
          "line": 2099,
          "old_api": "av_rescale_q",
          "new_api": null,
          "old_text": "av_rescale_q(input_files_ts_offset[ist->file_index], AV_TIME_BASE_Q, ist->st->time_base)",
          "new_text": null,
          "old_line_content": "            pkt.pts += av_rescale_q(input_files_ts_offset[ist->file_index], AV_TIME_BASE_Q, ist->st->time_base);",
          "new_line_content": "        if (pkt.dts != AV_NOPTS_VALUE)",
          "content_same": false
        },
        {
          "line": 2110,
          "old_api": "av_rescale_q",
          "new_api": null,
          "old_text": "av_rescale_q(pkt.dts, ist->st->time_base, AV_TIME_BASE_Q)",
          "new_text": null,
          "old_line_content": "            int64_t pkt_dts= av_rescale_q(pkt.dts, ist->st->time_base, AV_TIME_BASE_Q);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2112,
          "old_api": "FFABS",
          "new_api": null,
          "old_text": "FFABS(delta)",
          "new_text": null,
          "old_line_content": "            if((FFABS(delta) > 1LL*dts_delta_threshold*AV_TIME_BASE || pkt_dts+1<ist->pts)&& !copy_ts){",
          "new_line_content": "        if (pkt.dts != AV_NOPTS_VALUE && ist->next_pts != AV_NOPTS_VALUE) {",
          "content_same": false
        },
        {
          "line": 2116,
          "old_api": "av_rescale_q",
          "new_api": null,
          "old_text": "av_rescale_q(delta, AV_TIME_BASE_Q, ist->st->time_base)",
          "new_text": null,
          "old_line_content": "                pkt.dts-= av_rescale_q(delta, AV_TIME_BASE_Q, ist->st->time_base);",
          "new_line_content": "                input_files_ts_offset[ist->file_index]-= delta;",
          "content_same": false
        },
        {
          "line": 2123,
          "old_api": "output_packet",
          "new_api": null,
          "old_text": "output_packet(ist, ist_index, ost_table, nb_ostreams, &pkt)",
          "new_text": null,
          "old_line_content": "        if (output_packet(ist, ist_index, ost_table, nb_ostreams, &pkt) < 0) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2134,
          "old_api": "av_free_packet",
          "new_api": null,
          "old_text": "av_free_packet(&pkt)",
          "new_text": null,
          "old_line_content": "        av_free_packet(&pkt);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2144,
          "old_api": "output_packet",
          "new_api": null,
          "old_text": "output_packet(ist, i, ost_table, nb_ostreams, NULL)",
          "new_text": null,
          "old_line_content": "            output_packet(ist, i, ost_table, nb_ostreams, NULL);",
          "new_line_content": "    for(i=0;i<nb_istreams;i++) {",
          "content_same": false
        },
        {
          "line": 2148,
          "old_api": "term_exit",
          "new_api": null,
          "old_text": "term_exit()",
          "new_text": null,
          "old_line_content": "    term_exit();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2153,
          "old_api": "av_write_trailer",
          "new_api": null,
          "old_text": "av_write_trailer(os)",
          "new_text": null,
          "old_line_content": "        av_write_trailer(os);",
          "new_line_content": "    /* write the trailer if needed and close file */",
          "content_same": false
        },
        {
          "line": 2157,
          "old_api": "print_report",
          "new_api": null,
          "old_text": "print_report(output_files, ost_table, nb_ostreams, 1)",
          "new_text": null,
          "old_line_content": "    print_report(output_files, ost_table, nb_ostreams, 1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2163,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&ost->st->codec->stats_in)",
          "new_text": null,
          "old_line_content": "            av_freep(&ost->st->codec->stats_in);",
          "new_line_content": "    for(i=0;i<nb_ostreams;i++) {",
          "content_same": false
        },
        {
          "line": 2164,
          "old_api": "avcodec_close",
          "new_api": null,
          "old_text": "avcodec_close(ost->st->codec)",
          "new_text": null,
          "old_line_content": "            avcodec_close(ost->st->codec);",
          "new_line_content": "        ost = ost_table[i];",
          "content_same": false
        },
        {
          "line": 2172,
          "old_api": "avcodec_close",
          "new_api": null,
          "old_text": "avcodec_close(ist->st->codec)",
          "new_text": null,
          "old_line_content": "            avcodec_close(ist->st->codec);",
          "new_line_content": "    for(i=0;i<nb_istreams;i++) {",
          "content_same": false
        },
        {
          "line": 2180,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&bit_buffer)",
          "new_text": null,
          "old_line_content": "    av_freep(&bit_buffer);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2181,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(file_table)",
          "new_text": null,
          "old_line_content": "    av_free(file_table);",
          "new_line_content": "    ret = 0;",
          "content_same": false
        },
        {
          "line": 2186,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(ist)",
          "new_text": null,
          "old_line_content": "            av_free(ist);",
          "new_line_content": "    if (ist_table) {",
          "content_same": false
        },
        {
          "line": 2188,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(ist_table)",
          "new_text": null,
          "old_line_content": "        av_free(ist_table);",
          "new_line_content": "            ist = ist_table[i];",
          "content_same": false
        },
        {
          "line": 2195,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(ost->logfile)",
          "new_text": null,
          "old_line_content": "                    fclose(ost->logfile);",
          "new_line_content": "            ost = ost_table[i];",
          "content_same": false
        },
        {
          "line": 2200,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(ost->pict_tmp.data[0])",
          "new_text": null,
          "old_line_content": "                av_free(ost->pict_tmp.data[0]);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 2202,
          "old_api": "sws_freeContext",
          "new_api": null,
          "old_text": "sws_freeContext(ost->img_resample_ctx)",
          "new_text": null,
          "old_line_content": "                    sws_freeContext(ost->img_resample_ctx);",
          "new_line_content": "                                             initialized but set to zero */",
          "content_same": false
        },
        {
          "line": 2204,
          "old_api": "audio_resample_close",
          "new_api": null,
          "old_text": "audio_resample_close(ost->resample)",
          "new_text": null,
          "old_line_content": "                    audio_resample_close(ost->resample);",
          "new_line_content": "                if (ost->video_resample)",
          "content_same": false
        },
        {
          "line": 2206,
          "old_api": "av_audio_convert_free",
          "new_api": null,
          "old_text": "av_audio_convert_free(ost->reformat_ctx)",
          "new_text": null,
          "old_line_content": "                    av_audio_convert_free(ost->reformat_ctx);",
          "new_line_content": "                if (ost->resample)",
          "content_same": false
        },
        {
          "line": 2214,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "    ret = AVERROR(ENOMEM);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2225,
          "old_api": "url_open",
          "new_api": null,
          "old_text": "url_open(&h, filename, O_RDONLY)",
          "new_text": null,
          "old_line_content": "    if (url_open(&h, filename, O_RDONLY) < 0) {",
          "new_line_content": "    unsigned char buffer[1024];",
          "content_same": false
        },
        {
          "line": 2226,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"could not open '%s'\\n\", filename)",
          "new_text": null,
          "old_line_content": "        printf(\"could not open '%s'\\n\", filename);",
          "new_line_content": "    int len, i;",
          "content_same": false
        },
        {
          "line": 2230,
          "old_api": "url_read",
          "new_api": null,
          "old_text": "url_read(h, buffer, sizeof(buffer))",
          "new_text": null,
          "old_line_content": "        len = url_read(h, buffer, sizeof(buffer));",
          "new_line_content": "        return -1;",
          "content_same": false
        },
        {
          "line": 2235,
          "old_api": "url_close",
          "new_api": null,
          "old_text": "url_close(h)",
          "new_text": null,
          "old_line_content": "    url_close(h);",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 2243,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(arg, \"pgmyuv\")",
          "new_text": null,
          "old_line_content": "    if (!strcmp(arg, \"pgmyuv\")) {",
          "new_line_content": "static void opt_format(const char *arg)",
          "content_same": false
        },
        {
          "line": 2247,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"pgmyuv format is deprecated, use image2\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"pgmyuv format is deprecated, use image2\\n\");",
          "new_line_content": "        pgmyuv_compatibility_hack=1;",
          "content_same": false
        },
        {
          "line": 2251,
          "old_api": "guess_format",
          "new_api": null,
          "old_text": "guess_format(arg, NULL, NULL)",
          "new_text": null,
          "old_line_content": "    file_oformat = guess_format(arg, NULL, NULL);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2264,
          "old_api": "av_find_opt",
          "new_api": null,
          "old_text": "av_find_opt(avctx_opts[0], opt, NULL, opt_types[type], opt_types[type])",
          "new_text": null,
          "old_line_content": "        const AVOption *o2 = av_find_opt(avctx_opts[0], opt, NULL, opt_types[type], opt_types[type]);",
          "new_line_content": "    int opt_types[]={AV_OPT_FLAG_VIDEO_PARAM, AV_OPT_FLAG_AUDIO_PARAM, 0, AV_OPT_FLAG_SUBTITLE_PARAM, 0};",
          "content_same": false
        },
        {
          "line": 2266,
          "old_api": "av_set_string2",
          "new_api": null,
          "old_text": "av_set_string2(avctx_opts[type], opt, arg, 1)",
          "new_text": null,
          "old_line_content": "            o = av_set_string2(avctx_opts[type], opt, arg, 1);",
          "new_line_content": "    for(type=0; type<CODEC_TYPE_NB; type++){",
          "content_same": false
        },
        {
          "line": 2271,
          "old_api": "av_set_string2",
          "new_api": null,
          "old_text": "av_set_string2(sws_opts, opt, arg, 1)",
          "new_text": null,
          "old_line_content": "        o = av_set_string2(sws_opts, opt, arg, 1);",
          "new_line_content": "    if(!o)",
          "content_same": false
        },
        {
          "line": 2276,
          "old_api": "av_set_string2",
          "new_api": null,
          "old_text": "av_set_string2(avctx_opts[CODEC_TYPE_VIDEO], opt+1, arg, 1)",
          "new_text": null,
          "old_line_content": "            o = av_set_string2(avctx_opts[CODEC_TYPE_VIDEO], opt+1, arg, 1);",
          "new_line_content": "        if(opt[0] == 'a')",
          "content_same": false
        },
        {
          "line": 2278,
          "old_api": "av_set_string2",
          "new_api": null,
          "old_text": "av_set_string2(avctx_opts[CODEC_TYPE_SUBTITLE], opt+1, arg, 1)",
          "new_text": null,
          "old_line_content": "            o = av_set_string2(avctx_opts[CODEC_TYPE_SUBTITLE], opt+1, arg, 1);",
          "new_line_content": "        else if(opt[0] == 'v')",
          "content_same": false
        },
        {
          "line": 2286,
          "old_api": "av_realloc",
          "new_api": null,
          "old_text": "av_realloc(opt_names, sizeof(void*)*(opt_name_count+1))",
          "new_text": null,
          "old_line_content": "    opt_names= av_realloc(opt_names, sizeof(void*)*(opt_name_count+1));",
          "new_line_content": "//    av_log(NULL, AV_LOG_ERROR, \"%s:%s: %f 0x%0X\\n\", opt, arg, av_get_double(avctx_opts, opt, NULL), (int)av_get_int(avctx_opts, opt, NULL));",
          "content_same": false
        },
        {
          "line": 2290,
          "old_api": "av_log_set_level",
          "new_api": null,
          "old_text": "av_log_set_level(AV_LOG_DEBUG)",
          "new_text": null,
          "old_line_content": "        av_log_set_level(AV_LOG_DEBUG);",
          "new_line_content": "    opt_names[opt_name_count++]= o->name;",
          "content_same": false
        },
        {
          "line": 2301,
          "old_api": "parse_number_or_die",
          "new_api": null,
          "old_text": "parse_number_or_die(opt, arg, OPT_INT64, INT_MIN, INT_MAX)",
          "new_text": null,
          "old_line_content": "    me_threshold = parse_number_or_die(opt, arg, OPT_INT64, INT_MIN, INT_MAX);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2307,
          "old_api": "parse_number_or_die",
          "new_api": null,
          "old_text": "parse_number_or_die(opt, arg, OPT_INT64, -10, 10)",
          "new_text": null,
          "old_line_content": "    verbose = parse_number_or_die(opt, arg, OPT_INT64, -10, 10);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2308,
          "old_api": "av_log_set_level",
          "new_api": null,
          "old_text": "av_log_set_level(verbose)",
          "new_text": null,
          "old_line_content": "    av_log_set_level(verbose);",
          "new_line_content": "static int opt_verbose(const char *opt, const char *arg)",
          "content_same": false
        },
        {
          "line": 2314,
          "old_api": "av_parse_video_frame_rate",
          "new_api": null,
          "old_text": "av_parse_video_frame_rate(&frame_rate, arg)",
          "new_text": null,
          "old_line_content": "    if (av_parse_video_frame_rate(&frame_rate, arg) < 0) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2315,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Incorrect frame rate\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"Incorrect frame rate\\n\");",
          "new_line_content": "static void opt_frame_rate(const char *arg)",
          "content_same": false
        },
        {
          "line": 2316,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2324,
          "old_api": "opt_default",
          "new_api": null,
          "old_text": "opt_default(opt, arg)",
          "new_text": null,
          "old_line_content": "    opt_default(opt, arg);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2326,
          "old_api": "av_get_int",
          "new_api": null,
          "old_text": "av_get_int(avctx_opts[codec_type], \"b\", NULL)",
          "new_text": null,
          "old_line_content": "    if (av_get_int(avctx_opts[codec_type], \"b\", NULL) < 1000)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2334,
          "old_api": "atoi",
          "new_api": null,
          "old_text": "atoi(arg)",
          "new_text": null,
          "old_line_content": "    frame_topBand = atoi(arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2336,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Incorrect top crop size\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"Incorrect top crop size\\n\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2341,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2345,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2352,
          "old_api": "atoi",
          "new_api": null,
          "old_text": "atoi(arg)",
          "new_text": null,
          "old_line_content": "    frame_bottomBand = atoi(arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2354,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Incorrect bottom crop size\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"Incorrect bottom crop size\\n\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2359,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2363,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2370,
          "old_api": "atoi",
          "new_api": null,
          "old_text": "atoi(arg)",
          "new_text": null,
          "old_line_content": "    frame_leftBand = atoi(arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2372,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Incorrect left crop size\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"Incorrect left crop size\\n\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2377,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2381,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2388,
          "old_api": "atoi",
          "new_api": null,
          "old_text": "atoi(arg)",
          "new_text": null,
          "old_line_content": "    frame_rightBand = atoi(arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2390,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Incorrect right crop size\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"Incorrect right crop size\\n\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2395,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2399,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2406,
          "old_api": "av_parse_video_frame_size",
          "new_api": null,
          "old_text": "av_parse_video_frame_size(&frame_width, &frame_height, arg)",
          "new_text": null,
          "old_line_content": "    if (av_parse_video_frame_size(&frame_width, &frame_height, arg) < 0) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2407,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Incorrect frame size\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"Incorrect frame size\\n\");",
          "new_line_content": "static void opt_frame_size(const char *arg)",
          "content_same": false
        },
        {
          "line": 2408,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2412,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2436,
          "old_api": "strtol",
          "new_api": null,
          "old_text": "strtol(arg, NULL, 16)",
          "new_text": null,
          "old_line_content": "    int rgb = strtol(arg, NULL, 16);",
          "new_line_content": "static void opt_pad_color(const char *arg) {",
          "content_same": false
        },
        {
          "line": 2443,
          "old_api": "RGB_TO_Y",
          "new_api": null,
          "old_text": "RGB_TO_Y(r,g,b)",
          "new_text": null,
          "old_line_content": "    padcolor[0] = RGB_TO_Y(r,g,b);",
          "new_line_content": "    g = ((rgb >> 8) & 255);",
          "content_same": false
        },
        {
          "line": 2444,
          "old_api": "RGB_TO_U",
          "new_api": null,
          "old_text": "RGB_TO_U(r,g,b,0)",
          "new_text": null,
          "old_line_content": "    padcolor[1] = RGB_TO_U(r,g,b,0);",
          "new_line_content": "    b = (rgb & 255);",
          "content_same": false
        },
        {
          "line": 2445,
          "old_api": "RGB_TO_V",
          "new_api": null,
          "old_text": "RGB_TO_V(r,g,b,0)",
          "new_text": null,
          "old_line_content": "    padcolor[2] = RGB_TO_V(r,g,b,0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2450,
          "old_api": "atoi",
          "new_api": null,
          "old_text": "atoi(arg)",
          "new_text": null,
          "old_line_content": "    frame_padtop = atoi(arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2452,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Incorrect top pad size\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"Incorrect top pad size\\n\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2457,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2463,
          "old_api": "atoi",
          "new_api": null,
          "old_text": "atoi(arg)",
          "new_text": null,
          "old_line_content": "    frame_padbottom = atoi(arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2465,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Incorrect bottom pad size\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"Incorrect bottom pad size\\n\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2470,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2477,
          "old_api": "atoi",
          "new_api": null,
          "old_text": "atoi(arg)",
          "new_text": null,
          "old_line_content": "    frame_padleft = atoi(arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2479,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Incorrect left pad size\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"Incorrect left pad size\\n\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2484,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2491,
          "old_api": "atoi",
          "new_api": null,
          "old_text": "atoi(arg)",
          "new_text": null,
          "old_line_content": "    frame_padright = atoi(arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2493,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Incorrect right pad size\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"Incorrect right pad size\\n\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2498,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2507,
          "old_api": "get_fmt_string (fmt_str, sizeof(fmt_str), i)",
          "new_api": null,
          "old_text": "get_fmt_string (fmt_str, sizeof(fmt_str), i)",
          "new_text": null,
          "old_line_content": "        get_fmt_string (fmt_str, sizeof(fmt_str), i);",
          "new_line_content": "    int i;",
          "content_same": false
        },
        {
          "line": 2508,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stdout, \"%s\\n\", fmt_str)",
          "new_text": null,
          "old_line_content": "        fprintf(stdout, \"%s\\n\", fmt_str);",
          "new_line_content": "    char fmt_str[128];",
          "content_same": false
        },
        {
          "line": 2514,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(arg, \"list\")",
          "new_text": null,
          "old_line_content": "    if (strcmp(arg, \"list\"))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2515,
          "old_api": "avcodec_get_pix_fmt",
          "new_api": null,
          "old_text": "avcodec_get_pix_fmt(arg)",
          "new_text": null,
          "old_line_content": "        frame_pix_fmt = avcodec_get_pix_fmt(arg);",
          "new_line_content": "static void opt_frame_pix_fmt(const char *arg)",
          "content_same": false
        },
        {
          "line": 2529,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(arg, ':')",
          "new_text": null,
          "old_line_content": "    p = strchr(arg, ':');",
          "new_line_content": "    const char *p;",
          "content_same": false
        },
        {
          "line": 2531,
          "old_api": "strtol",
          "new_api": null,
          "old_text": "strtol(arg, &end, 10)",
          "new_text": null,
          "old_line_content": "        x = strtol(arg, &end, 10);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2533,
          "old_api": "strtol",
          "new_api": null,
          "old_text": "strtol(end+1, &end, 10)",
          "new_text": null,
          "old_line_content": "            y = strtol(end+1, &end, 10);",
          "new_line_content": "    if (p) {",
          "content_same": false
        },
        {
          "line": 2537,
          "old_api": "strtod",
          "new_api": null,
          "old_text": "strtod(arg, NULL)",
          "new_text": null,
          "old_line_content": "        ar = strtod(arg, NULL);",
          "new_line_content": "        if (x > 0 && y > 0)",
          "content_same": false
        },
        {
          "line": 2541,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2548,
          "old_api": "atof",
          "new_api": null,
          "old_text": "atof(arg)",
          "new_text": null,
          "old_line_content": "    video_qscale = atof(arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2552,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    if (video_qscale <= 0 ||",
          "content_same": false
        },
        {
          "line": 2558,
          "old_api": "atoi",
          "new_api": null,
          "old_text": "atoi(arg)",
          "new_text": null,
          "old_line_content": "    top_field_first= atoi(arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2563,
          "old_api": "parse_number_or_die",
          "new_api": null,
          "old_text": "parse_number_or_die(opt, arg, OPT_INT64, 0, INT_MAX)",
          "new_text": null,
          "old_line_content": "    thread_count= parse_number_or_die(opt, arg, OPT_INT64, 0, INT_MAX);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2573,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(arg, \"list\")",
          "new_text": null,
          "old_line_content": "    if (strcmp(arg, \"list\"))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2574,
          "old_api": "avcodec_get_sample_fmt",
          "new_api": null,
          "old_text": "avcodec_get_sample_fmt(arg)",
          "new_text": null,
          "old_line_content": "        audio_sample_fmt = avcodec_get_sample_fmt(arg);",
          "new_line_content": "static void opt_audio_sample_fmt(const char *arg)",
          "content_same": false
        },
        {
          "line": 2583,
          "old_api": "parse_number_or_die",
          "new_api": null,
          "old_text": "parse_number_or_die(opt, arg, OPT_INT64, 0, INT_MAX)",
          "new_text": null,
          "old_line_content": "    audio_sample_rate = parse_number_or_die(opt, arg, OPT_INT64, 0, INT_MAX);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2589,
          "old_api": "parse_number_or_die",
          "new_api": null,
          "old_text": "parse_number_or_die(opt, arg, OPT_INT64, 0, INT_MAX)",
          "new_text": null,
          "old_line_content": "    audio_channels = parse_number_or_die(opt, arg, OPT_INT64, 0, INT_MAX);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2595,
          "old_api": "strtol",
          "new_api": null,
          "old_text": "strtol(arg, NULL, 0)",
          "new_text": null,
          "old_line_content": "    video_channel = strtol(arg, NULL, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2600,
          "old_api": "av_strdup",
          "new_api": null,
          "old_text": "av_strdup(arg)",
          "new_text": null,
          "old_line_content": "    video_standard = av_strdup(arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2606,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(pcodec_name)",
          "new_text": null,
          "old_line_content": "    av_freep(pcodec_name);",
          "new_line_content": "static void opt_codec(int *pstream_copy, char **pcodec_name,",
          "content_same": false
        },
        {
          "line": 2607,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(arg, \"copy\")",
          "new_text": null,
          "old_line_content": "    if (!strcmp(arg, \"copy\")) {",
          "new_line_content": "                      int codec_type, const char *arg)",
          "content_same": false
        },
        {
          "line": 2616,
          "old_api": "opt_codec",
          "new_api": null,
          "old_text": "opt_codec(&audio_stream_copy, &audio_codec_name, CODEC_TYPE_AUDIO, arg)",
          "new_text": null,
          "old_line_content": "    opt_codec(&audio_stream_copy, &audio_codec_name, CODEC_TYPE_AUDIO, arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2622,
          "old_api": "strtol",
          "new_api": null,
          "old_text": "strtol(arg, &tail, 0)",
          "new_text": null,
          "old_line_content": "    audio_codec_tag= strtol(arg, &tail, 0);",
          "new_line_content": "static void opt_audio_tag(const char *arg)",
          "content_same": false
        },
        {
          "line": 2631,
          "old_api": "strtol",
          "new_api": null,
          "old_text": "strtol(arg, &tail, 0)",
          "new_text": null,
          "old_line_content": "    video_codec_tag= strtol(arg, &tail, 0);",
          "new_line_content": "static void opt_video_tag(const char *arg)",
          "content_same": false
        },
        {
          "line": 2643,
          "old_api": "av_strdup",
          "new_api": null,
          "old_text": "av_strdup(arg)",
          "new_text": null,
          "old_line_content": "    char *args = av_strdup(arg);",
          "new_line_content": "    int argc = 0;",
          "content_same": false
        },
        {
          "line": 2647,
          "old_api": "strtok",
          "new_api": null,
          "old_text": "strtok(args, \" \")",
          "new_text": null,
          "old_line_content": "    argv[0] = strtok(args, \" \");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2648,
          "old_api": "strtok",
          "new_api": null,
          "old_text": "strtok(NULL, \" \")",
          "new_text": null,
          "old_line_content": "    while (argc < 62 && (argv[++argc] = strtok(NULL, \" \"))) {",
          "new_line_content": "    using_vhook = 1;",
          "content_same": false
        },
        {
          "line": 2655,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2662,
          "old_api": "opt_codec",
          "new_api": null,
          "old_text": "opt_codec(&video_stream_copy, &video_codec_name, CODEC_TYPE_VIDEO, arg)",
          "new_text": null,
          "old_line_content": "    opt_codec(&video_stream_copy, &video_codec_name, CODEC_TYPE_VIDEO, arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2667,
          "old_api": "opt_codec",
          "new_api": null,
          "old_text": "opt_codec(&subtitle_stream_copy, &subtitle_codec_name, CODEC_TYPE_SUBTITLE, arg)",
          "new_text": null,
          "old_line_content": "    opt_codec(&subtitle_stream_copy, &subtitle_codec_name, CODEC_TYPE_SUBTITLE, arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2677,
          "old_api": "strtol",
          "new_api": null,
          "old_text": "strtol(arg, &p, 0)",
          "new_text": null,
          "old_line_content": "    m->file_index = strtol(arg, &p, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2681,
          "old_api": "strtol",
          "new_api": null,
          "old_text": "strtol(p, &p, 0)",
          "new_text": null,
          "old_line_content": "    m->stream_index = strtol(p, &p, 0);",
          "new_line_content": "    if (*p)",
          "content_same": false
        },
        {
          "line": 2701,
          "old_api": "strtol",
          "new_api": null,
          "old_text": "strtol(arg, &p, 0)",
          "new_text": null,
          "old_line_content": "    m->out_file = strtol(arg, &p, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2705,
          "old_api": "strtol",
          "new_api": null,
          "old_text": "strtol(p, &p, 0)",
          "new_text": null,
          "old_line_content": "    m->in_file = strtol(p, &p, 0);",
          "new_line_content": "    if (*p)",
          "content_same": false
        },
        {
          "line": 2714,
          "old_api": "strtol",
          "new_api": null,
          "old_text": "strtol(arg, &p, 0)",
          "new_text": null,
          "old_line_content": "    stream = strtol(arg, &p, 0);",
          "new_line_content": "    double scale;",
          "content_same": false
        },
        {
          "line": 2727,
          "old_api": "parse_time_or_die",
          "new_api": null,
          "old_text": "parse_time_or_die(opt, arg, 1)",
          "new_text": null,
          "old_line_content": "    recording_time = parse_time_or_die(opt, arg, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2733,
          "old_api": "parse_time_or_die",
          "new_api": null,
          "old_text": "parse_time_or_die(opt, arg, 1)",
          "new_text": null,
          "old_line_content": "    start_time = parse_time_or_die(opt, arg, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2739,
          "old_api": "parse_time_or_die",
          "new_api": null,
          "old_text": "parse_time_or_die(opt, arg, 0)",
          "new_text": null,
          "old_line_content": "    rec_timestamp = parse_time_or_die(opt, arg, 0) / 1000000;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2745,
          "old_api": "parse_time_or_die",
          "new_api": null,
          "old_text": "parse_time_or_die(opt, arg, 1)",
          "new_text": null,
          "old_line_content": "    input_ts_offset = parse_time_or_die(opt, arg, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2757,
          "old_api": "avcodec_find_encoder_by_name",
          "new_api": null,
          "old_text": "avcodec_find_encoder_by_name(name)",
          "new_text": null,
          "old_line_content": "        avcodec_find_encoder_by_name(name) :",
          "new_line_content": "    if(!name)",
          "content_same": false
        },
        {
          "line": 2758,
          "old_api": "avcodec_find_decoder_by_name",
          "new_api": null,
          "old_text": "avcodec_find_decoder_by_name(name)",
          "new_text": null,
          "old_line_content": "        avcodec_find_decoder_by_name(name);",
          "new_line_content": "        return CODEC_ID_NONE;",
          "content_same": false
        },
        {
          "line": 2765,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2776,
          "old_api": "av_get_string",
          "new_api": null,
          "old_text": "av_get_string(opts_ctx, opt_names[i], &opt, buf, sizeof(buf))",
          "new_text": null,
          "old_line_content": "        const char *str= av_get_string(opts_ctx, opt_names[i], &opt, buf, sizeof(buf));",
          "new_line_content": "    for(i=0; i<opt_name_count; i++){",
          "content_same": false
        },
        {
          "line": 2790,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(filename, \"-\")",
          "new_text": null,
          "old_line_content": "    if (!strcmp(filename, \"-\"))",
          "new_line_content": "    int err, i, ret, rfps, rfps_base;",
          "content_same": false
        },
        {
          "line": 2794,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(filename, \"/dev/stdin\")",
          "new_text": null,
          "old_line_content": "                    !strcmp(filename, \"/dev/stdin\");",
          "new_line_content": "        filename = \"pipe:\";",
          "content_same": false
        },
        {
          "line": 2799,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(ap, 0, sizeof(*ap))",
          "new_text": null,
          "old_line_content": "    memset(ap, 0, sizeof(*ap));",
          "new_line_content": "    /* get default parameters from command line */",
          "content_same": false
        },
        {
          "line": 2811,
          "old_api": "find_codec_or_die",
          "new_api": null,
          "old_text": "find_codec_or_die(video_codec_name, CODEC_TYPE_VIDEO, 0)",
          "new_text": null,
          "old_line_content": "    ap->video_codec_id = find_codec_or_die(video_codec_name, CODEC_TYPE_VIDEO, 0);",
          "new_line_content": "   // ap->sample_fmt = audio_sample_fmt; //FIXME:not implemented in libavformat",
          "content_same": false
        },
        {
          "line": 2812,
          "old_api": "find_codec_or_die",
          "new_api": null,
          "old_text": "find_codec_or_die(audio_codec_name, CODEC_TYPE_AUDIO, 0)",
          "new_text": null,
          "old_line_content": "    ap->audio_codec_id = find_codec_or_die(audio_codec_name, CODEC_TYPE_AUDIO, 0);",
          "new_line_content": "    ap->channel = video_channel;",
          "content_same": false
        },
        {
          "line": 2816,
          "old_api": "set_context_opts",
          "new_api": null,
          "old_text": "set_context_opts(ic, avformat_opts, AV_OPT_FLAG_DECODING_PARAM)",
          "new_text": null,
          "old_line_content": "    set_context_opts(ic, avformat_opts, AV_OPT_FLAG_DECODING_PARAM);",
          "new_line_content": "    if(pgmyuv_compatibility_hack)",
          "content_same": false
        },
        {
          "line": 2818,
          "old_api": "find_codec_or_die",
          "new_api": null,
          "old_text": "find_codec_or_die(video_codec_name   , CODEC_TYPE_VIDEO   , 0)",
          "new_text": null,
          "old_line_content": "    ic->video_codec_id   = find_codec_or_die(video_codec_name   , CODEC_TYPE_VIDEO   , 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2820,
          "old_api": "find_codec_or_die",
          "new_api": null,
          "old_text": "find_codec_or_die(subtitle_codec_name, CODEC_TYPE_SUBTITLE, 0)",
          "new_text": null,
          "old_line_content": "    ic->subtitle_codec_id= find_codec_or_die(subtitle_codec_name, CODEC_TYPE_SUBTITLE, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2825,
          "old_api": "print_error",
          "new_api": null,
          "old_text": "print_error(filename, err)",
          "new_text": null,
          "old_line_content": "        print_error(filename, err);",
          "new_line_content": "    /* open the input file with generic libav function */",
          "content_same": false
        },
        {
          "line": 2839,
          "old_api": "av_find_stream_info",
          "new_api": null,
          "old_text": "av_find_stream_info(ic)",
          "new_text": null,
          "old_line_content": "    ret = av_find_stream_info(ic);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2841,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"%s: could not find codec parameters\\n\", filename)",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"%s: could not find codec parameters\\n\", filename);",
          "new_line_content": "       first frames to get it. (used in mpeg case for example) */",
          "content_same": false
        },
        {
          "line": 2852,
          "old_api": "av_seek_frame",
          "new_api": null,
          "old_text": "av_seek_frame(ic, -1, timestamp, AVSEEK_FLAG_BACKWARD)",
          "new_text": null,
          "old_line_content": "        ret = av_seek_frame(ic, -1, timestamp, AVSEEK_FLAG_BACKWARD);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2854,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"%s: could not seek to position %0.3f\\n\",\n                    filename, (double)timestamp / AV_TIME_BASE)",
          "new_text": null,
          "old_line_content": "            fprintf(stderr, \"%s: could not seek to position %0.3f\\n\",",
          "new_line_content": "    if (start_time != 0) {",
          "content_same": false
        },
        {
          "line": 2865,
          "old_api": "avcodec_thread_init",
          "new_api": null,
          "old_text": "avcodec_thread_init(enc, thread_count)",
          "new_text": null,
          "old_line_content": "            avcodec_thread_init(enc, thread_count);",
          "new_line_content": "    for(i=0;i<ic->nb_streams;i++) {",
          "content_same": false
        },
        {
          "line": 2869,
          "old_api": "set_context_opts",
          "new_api": null,
          "old_text": "set_context_opts(enc, avctx_opts[CODEC_TYPE_AUDIO], AV_OPT_FLAG_AUDIO_PARAM | AV_OPT_FLAG_DECODING_PARAM)",
          "new_text": null,
          "old_line_content": "            set_context_opts(enc, avctx_opts[CODEC_TYPE_AUDIO], AV_OPT_FLAG_AUDIO_PARAM | AV_OPT_FLAG_DECODING_PARAM);",
          "new_line_content": "        enc->thread_count= thread_count;",
          "content_same": false
        },
        {
          "line": 2878,
          "old_api": "set_context_opts",
          "new_api": null,
          "old_text": "set_context_opts(enc, avctx_opts[CODEC_TYPE_VIDEO], AV_OPT_FLAG_VIDEO_PARAM | AV_OPT_FLAG_DECODING_PARAM)",
          "new_text": null,
          "old_line_content": "            set_context_opts(enc, avctx_opts[CODEC_TYPE_VIDEO], AV_OPT_FLAG_VIDEO_PARAM | AV_OPT_FLAG_DECODING_PARAM);",
          "new_line_content": "                ic->streams[i]->discard= AVDISCARD_ALL;",
          "content_same": false
        },
        {
          "line": 2892,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr,\"\\nSeems stream %d codec frame rate differs from container frame rate: %2.2f (%d/%d) -> %2.2f (%d/%d)\\n\",\n                            i, (float)enc->time_base.den / enc->time_base.num, enc->time_base.den, enc->time_base.num,\n\n                    (float)rfps / rfps_base, rfps, rfps_base)",
          "new_text": null,
          "old_line_content": "                    fprintf(stderr,\"\\nSeems stream %d codec frame rate differs from container frame rate: %2.2f (%d/%d) -> %2.2f (%d/%d)\\n\",",
          "new_line_content": "            if (enc->time_base.den != rfps || enc->time_base.num != rfps_base) {",
          "content_same": false
        },
        {
          "line": 2917,
          "old_api": "abort",
          "new_api": null,
          "old_text": "abort()",
          "new_text": null,
          "old_line_content": "            abort();",
          "new_line_content": "        case CODEC_TYPE_UNKNOWN:",
          "content_same": false
        },
        {
          "line": 2925,
          "old_api": "dump_format",
          "new_api": null,
          "old_text": "dump_format(ic, nb_input_files, filename, 0)",
          "new_text": null,
          "old_line_content": "        dump_format(ic, nb_input_files, filename, 0);",
          "new_line_content": "    input_files_ts_offset[nb_input_files] = input_ts_offset - (copy_ts ? 0 : timestamp);",
          "content_same": false
        },
        {
          "line": 2934,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&video_codec_name)",
          "new_text": null,
          "old_line_content": "    av_freep(&video_codec_name);",
          "new_line_content": "    video_channel = 0;",
          "content_same": false
        },
        {
          "line": 2935,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&audio_codec_name)",
          "new_text": null,
          "old_line_content": "    av_freep(&audio_codec_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2936,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&subtitle_codec_name)",
          "new_text": null,
          "old_line_content": "    av_freep(&subtitle_codec_name);",
          "new_line_content": "    rate_emu = 0;",
          "content_same": false
        },
        {
          "line": 2967,
          "old_api": "abort",
          "new_api": null,
          "old_text": "abort()",
          "new_text": null,
          "old_line_content": "                abort();",
          "new_line_content": "            case CODEC_TYPE_UNKNOWN:",
          "content_same": false
        },
        {
          "line": 2982,
          "old_api": "av_new_stream",
          "new_api": null,
          "old_text": "av_new_stream(oc, oc->nb_streams)",
          "new_text": null,
          "old_line_content": "    st = av_new_stream(oc, oc->nb_streams);",
          "new_line_content": "    AVCodecContext *video_enc;",
          "content_same": false
        },
        {
          "line": 2984,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Could not alloc stream\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"Could not alloc stream\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2992,
          "old_api": "avcodec_thread_init",
          "new_api": null,
          "old_text": "avcodec_thread_init(st->codec, thread_count)",
          "new_text": null,
          "old_line_content": "        avcodec_thread_init(st->codec, thread_count);",
          "new_line_content": "    video_bitstream_filters= NULL;",
          "content_same": false
        },
        {
          "line": 3018,
          "old_api": "av_guess_codec",
          "new_api": null,
          "old_text": "av_guess_codec(oc->oformat, NULL, oc->filename, NULL, CODEC_TYPE_VIDEO)",
          "new_text": null,
          "old_line_content": "        codec_id = av_guess_codec(oc->oformat, NULL, oc->filename, NULL, CODEC_TYPE_VIDEO);",
          "new_line_content": "        AVCodec *codec;",
          "content_same": false
        },
        {
          "line": 3020,
          "old_api": "find_codec_or_die",
          "new_api": null,
          "old_text": "find_codec_or_die(video_codec_name, CODEC_TYPE_VIDEO, 1)",
          "new_text": null,
          "old_line_content": "            codec_id = find_codec_or_die(video_codec_name, CODEC_TYPE_VIDEO, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3025,
          "old_api": "set_context_opts",
          "new_api": null,
          "old_text": "set_context_opts(video_enc, avctx_opts[CODEC_TYPE_VIDEO], AV_OPT_FLAG_VIDEO_PARAM | AV_OPT_FLAG_ENCODING_PARAM)",
          "new_text": null,
          "old_line_content": "        set_context_opts(video_enc, avctx_opts[CODEC_TYPE_VIDEO], AV_OPT_FLAG_VIDEO_PARAM | AV_OPT_FLAG_ENCODING_PARAM);",
          "new_line_content": "        video_enc->codec_id = codec_id;",
          "content_same": false
        },
        {
          "line": 3034,
          "old_api": "av_sub_q",
          "new_api": null,
          "old_text": "av_sub_q(fps, *p)",
          "new_text": null,
          "old_line_content": "                AVRational error= av_sub_q(fps, *p);",
          "new_line_content": "            const AVRational *best=NULL;",
          "content_same": false
        },
        {
          "line": 3036,
          "old_api": "av_cmp_q",
          "new_api": null,
          "old_text": "av_cmp_q(error, best_error)",
          "new_text": null,
          "old_line_content": "                if(av_cmp_q(error, best_error) < 0){",
          "new_line_content": "            for(; p->den!=0; p++){",
          "content_same": false
        },
        {
          "line": 3047,
          "old_api": "av_d2q",
          "new_api": null,
          "old_text": "av_d2q(frame_aspect_ratio*video_enc->height/video_enc->width, 255)",
          "new_text": null,
          "old_line_content": "        video_enc->sample_aspect_ratio = av_d2q(frame_aspect_ratio*video_enc->height/video_enc->width, 255);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3077,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf(p, \"%d,%d,%d\", &start, &end, &q)",
          "new_text": null,
          "old_line_content": "            int e=sscanf(p, \"%d,%d,%d\", &start, &end, &q);",
          "new_line_content": "        p= video_rc_override_string;",
          "content_same": false
        },
        {
          "line": 3079,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"error parsing rc_override\\n\")",
          "new_text": null,
          "old_line_content": "                fprintf(stderr, \"error parsing rc_override\\n\");",
          "new_line_content": "            int start, end, q;",
          "content_same": false
        },
        {
          "line": 3095,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(p, '/')",
          "new_text": null,
          "old_line_content": "            p= strchr(p, '/');",
          "new_line_content": "                video_enc->rc_override[i].qscale= 0;",
          "content_same": false
        },
        {
          "line": 3119,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&video_codec_name)",
          "new_text": null,
          "old_line_content": "    av_freep(&video_codec_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3129,
          "old_api": "av_new_stream",
          "new_api": null,
          "old_text": "av_new_stream(oc, oc->nb_streams)",
          "new_text": null,
          "old_line_content": "    st = av_new_stream(oc, oc->nb_streams);",
          "new_line_content": "    AVCodecContext *audio_enc;",
          "content_same": false
        },
        {
          "line": 3131,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Could not alloc stream\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"Could not alloc stream\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3140,
          "old_api": "avcodec_thread_init",
          "new_api": null,
          "old_text": "avcodec_thread_init(st->codec, thread_count)",
          "new_text": null,
          "old_line_content": "        avcodec_thread_init(st->codec, thread_count);",
          "new_line_content": "    audio_bitstream_filters= NULL;",
          "content_same": false
        },
        {
          "line": 3157,
          "old_api": "av_guess_codec",
          "new_api": null,
          "old_text": "av_guess_codec(oc->oformat, NULL, oc->filename, NULL, CODEC_TYPE_AUDIO)",
          "new_text": null,
          "old_line_content": "        codec_id = av_guess_codec(oc->oformat, NULL, oc->filename, NULL, CODEC_TYPE_AUDIO);",
          "new_line_content": "        audio_enc->channels = audio_channels;",
          "content_same": false
        },
        {
          "line": 3159,
          "old_api": "set_context_opts",
          "new_api": null,
          "old_text": "set_context_opts(audio_enc, avctx_opts[CODEC_TYPE_AUDIO], AV_OPT_FLAG_AUDIO_PARAM | AV_OPT_FLAG_ENCODING_PARAM)",
          "new_text": null,
          "old_line_content": "        set_context_opts(audio_enc, avctx_opts[CODEC_TYPE_AUDIO], AV_OPT_FLAG_AUDIO_PARAM | AV_OPT_FLAG_ENCODING_PARAM);",
          "new_line_content": "        AVCodec *codec;",
          "content_same": false
        },
        {
          "line": 3164,
          "old_api": "avcodec_find_encoder",
          "new_api": null,
          "old_text": "avcodec_find_encoder(codec_id)",
          "new_text": null,
          "old_line_content": "        codec = avcodec_find_encoder(codec_id);",
          "new_line_content": "        if (audio_codec_name)",
          "content_same": false
        },
        {
          "line": 3187,
          "old_api": "av_strlcpy",
          "new_api": null,
          "old_text": "av_strlcpy(st->language, audio_language, sizeof(st->language))",
          "new_text": null,
          "old_line_content": "        av_strlcpy(st->language, audio_language, sizeof(st->language));",
          "new_line_content": "    audio_enc->sample_rate = audio_sample_rate;",
          "content_same": false
        },
        {
          "line": 3188,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(audio_language)",
          "new_text": null,
          "old_line_content": "        av_free(audio_language);",
          "new_line_content": "    audio_enc->time_base= (AVRational){1, audio_sample_rate};",
          "content_same": false
        },
        {
          "line": 3194,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&audio_codec_name)",
          "new_text": null,
          "old_line_content": "    av_freep(&audio_codec_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3203,
          "old_api": "av_new_stream",
          "new_api": null,
          "old_text": "av_new_stream(oc, oc->nb_streams)",
          "new_text": null,
          "old_line_content": "    st = av_new_stream(oc, oc->nb_streams);",
          "new_line_content": "    AVStream *st;",
          "content_same": false
        },
        {
          "line": 3205,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Could not alloc stream\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"Could not alloc stream\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3218,
          "old_api": "set_context_opts",
          "new_api": null,
          "old_text": "set_context_opts(avctx_opts[CODEC_TYPE_SUBTITLE], subtitle_enc, AV_OPT_FLAG_SUBTITLE_PARAM | AV_OPT_FLAG_ENCODING_PARAM)",
          "new_text": null,
          "old_line_content": "        set_context_opts(avctx_opts[CODEC_TYPE_SUBTITLE], subtitle_enc, AV_OPT_FLAG_SUBTITLE_PARAM | AV_OPT_FLAG_ENCODING_PARAM);",
          "new_line_content": "    if (subtitle_stream_copy) {",
          "content_same": false
        },
        {
          "line": 3219,
          "old_api": "find_codec_or_die",
          "new_api": null,
          "old_text": "find_codec_or_die(subtitle_codec_name, CODEC_TYPE_SUBTITLE, 1)",
          "new_text": null,
          "old_line_content": "        subtitle_enc->codec_id = find_codec_or_die(subtitle_codec_name, CODEC_TYPE_SUBTITLE, 1);",
          "new_line_content": "        st->stream_copy = 1;",
          "content_same": false
        },
        {
          "line": 3223,
          "old_api": "av_strlcpy",
          "new_api": null,
          "old_text": "av_strlcpy(st->language, subtitle_language, sizeof(st->language))",
          "new_text": null,
          "old_line_content": "        av_strlcpy(st->language, subtitle_language, sizeof(st->language));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3224,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(subtitle_language)",
          "new_text": null,
          "old_line_content": "        av_free(subtitle_language);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3229,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&subtitle_codec_name)",
          "new_text": null,
          "old_line_content": "    av_freep(&subtitle_codec_name);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3237,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"At least one output file must be specified\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"At least one output file must be specified\\n\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3238,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    AVFormatContext *oc;",
          "content_same": false
        },
        {
          "line": 3248,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"At least one output file must be specified\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"At least one output file must be specified\\n\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3249,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    AVFormatContext *oc;",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": "avcodec_decode_audio2",
          "new_api": null,
          "old_text": "avcodec_decode_audio2(ist->st->codec, samples, &data_size,\n                                           ptr, len)",
          "new_text": null,
          "old_line_content": "                ret = avcodec_decode_audio2(ist->st->codec, samples, &data_size,",
          "new_line_content": "                data_size= samples_size;",
          "content_same": false
        },
        {
          "line": 3259,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"At least one output file must be specified\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"At least one output file must be specified\\n\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3260,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    AVFormatContext *oc;",
          "content_same": false
        },
        {
          "line": 1225,
          "old_api": "avcodec_get_frame_defaults",
          "new_api": null,
          "old_text": "avcodec_get_frame_defaults(&picture)",
          "new_text": null,
          "old_line_content": "                    avcodec_get_frame_defaults(&picture);",
          "new_line_content": "            case CODEC_TYPE_VIDEO:",
          "content_same": false
        },
        {
          "line": 3273,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(filename, \"-\")",
          "new_text": null,
          "old_line_content": "    if (!strcmp(filename, \"-\"))",
          "new_line_content": "    int input_has_video, input_has_audio, input_has_subtitle;",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": "avcodec_decode_video",
          "new_api": null,
          "old_text": "avcodec_decode_video(ist->st->codec,\n                                               &picture, &got_picture, ptr, len)",
          "new_text": null,
          "old_line_content": "                    ret = avcodec_decode_video(ist->st->codec,",
          "new_line_content": "                    /* XXX: allocate picture correctly */",
          "content_same": false
        },
        {
          "line": 3281,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Unable to find a suitable output format for '%s'\\n\",\n                    filename)",
          "new_text": null,
          "old_line_content": "            fprintf(stderr, \"Unable to find a suitable output format for '%s'\\n\",",
          "new_line_content": "    if (!file_oformat) {",
          "content_same": false
        },
        {
          "line": 3283,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "            av_exit(1);",
          "new_line_content": "        if (!file_oformat) {",
          "content_same": false
        },
        {
          "line": 3288,
          "old_api": "av_strlcpy",
          "new_api": null,
          "old_text": "av_strlcpy(oc->filename, filename, sizeof(oc->filename))",
          "new_text": null,
          "old_line_content": "    av_strlcpy(oc->filename, filename, sizeof(oc->filename));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3290,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(file_oformat->name, \"ffm\")",
          "new_text": null,
          "old_line_content": "    if (!strcmp(file_oformat->name, \"ffm\") &&",
          "new_line_content": "    oc->oformat = file_oformat;",
          "content_same": false
        },
        {
          "line": 1244,
          "old_api": "avcodec_decode_subtitle",
          "new_api": null,
          "old_text": "avcodec_decode_subtitle(ist->st->codec,\n                                              &subtitle, &got_subtitle, ptr, len)",
          "new_text": null,
          "old_line_content": "                ret = avcodec_decode_subtitle(ist->st->codec,",
          "new_line_content": "                    len = 0;",
          "content_same": false
        },
        {
          "line": 3296,
          "old_api": "print_error",
          "new_api": null,
          "old_text": "print_error(filename, err)",
          "new_text": null,
          "old_line_content": "            print_error(filename, err);",
          "new_line_content": "           parameters from ffserver */",
          "content_same": false
        },
        {
          "line": 3307,
          "old_api": "check_audio_video_sub_inputs",
          "new_api": null,
          "old_text": "check_audio_video_sub_inputs(&input_has_video, &input_has_audio,\n                                         &input_has_subtitle)",
          "new_text": null,
          "old_line_content": "            check_audio_video_sub_inputs(&input_has_video, &input_has_audio,",
          "new_line_content": "        /* disable if no corresponding type found and at least one",
          "content_same": false
        },
        {
          "line": 1279,
          "old_api": "pre_process_video_frame",
          "new_api": null,
          "old_text": "pre_process_video_frame(ist, (AVPicture *)&picture,\n                                    &buffer_to_free)",
          "new_text": null,
          "old_line_content": "            pre_process_video_frame(ist, (AVPicture *)&picture,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3329,
          "old_api": "new_video_stream",
          "new_api": null,
          "old_text": "new_video_stream(oc)",
          "new_text": null,
          "old_line_content": "            new_video_stream(oc);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3333,
          "old_api": "new_audio_stream",
          "new_api": null,
          "old_text": "new_audio_stream(oc)",
          "new_text": null,
          "old_line_content": "            new_audio_stream(oc);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3337,
          "old_api": "new_subtitle_stream",
          "new_api": null,
          "old_text": "new_subtitle_stream(oc)",
          "new_text": null,
          "old_line_content": "            new_subtitle_stream(oc);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3343,
          "old_api": "av_strlcpy",
          "new_api": null,
          "old_text": "av_strlcpy(oc->title, str_title, sizeof(oc->title))",
          "new_text": null,
          "old_line_content": "            av_strlcpy(oc->title, str_title, sizeof(oc->title));",
          "new_line_content": "        oc->timestamp = rec_timestamp;",
          "content_same": false
        },
        {
          "line": 3345,
          "old_api": "av_strlcpy",
          "new_api": null,
          "old_text": "av_strlcpy(oc->author, str_author, sizeof(oc->author))",
          "new_text": null,
          "old_line_content": "            av_strlcpy(oc->author, str_author, sizeof(oc->author));",
          "new_line_content": "        if (str_title)",
          "content_same": false
        },
        {
          "line": 1299,
          "old_api": "av_rescale",
          "new_api": null,
          "old_text": "av_rescale((int64_t) ist->frame * ist->st->codec->time_base.num, 1000000, ist->st->codec->time_base.den)",
          "new_text": null,
          "old_line_content": "            int64_t pts = av_rescale((int64_t) ist->frame * ist->st->codec->time_base.num, 1000000, ist->st->codec->time_base.den);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1300,
          "old_api": "av_gettime",
          "new_api": null,
          "old_text": "av_gettime()",
          "new_text": null,
          "old_line_content": "            int64_t now = av_gettime() - ist->start;",
          "new_line_content": "        /* frame rate emulation */",
          "content_same": false
        },
        {
          "line": 3347,
          "old_api": "av_strlcpy",
          "new_api": null,
          "old_text": "av_strlcpy(oc->copyright, str_copyright, sizeof(oc->copyright))",
          "new_text": null,
          "old_line_content": "            av_strlcpy(oc->copyright, str_copyright, sizeof(oc->copyright));",
          "new_line_content": "        if (str_author)",
          "content_same": false
        },
        {
          "line": 3349,
          "old_api": "av_strlcpy",
          "new_api": null,
          "old_text": "av_strlcpy(oc->comment, str_comment, sizeof(oc->comment))",
          "new_text": null,
          "old_line_content": "            av_strlcpy(oc->comment, str_comment, sizeof(oc->comment));",
          "new_line_content": "        if (str_copyright)",
          "content_same": false
        },
        {
          "line": 3351,
          "old_api": "av_strlcpy",
          "new_api": null,
          "old_text": "av_strlcpy(oc->album, str_album, sizeof(oc->album))",
          "new_text": null,
          "old_line_content": "            av_strlcpy(oc->album, str_album, sizeof(oc->album));",
          "new_line_content": "        if (str_comment)",
          "content_same": false
        },
        {
          "line": 3353,
          "old_api": "av_strlcpy",
          "new_api": null,
          "old_text": "av_strlcpy(oc->genre, str_genre, sizeof(oc->genre))",
          "new_text": null,
          "old_line_content": "            av_strlcpy(oc->genre, str_genre, sizeof(oc->genre));",
          "new_line_content": "        if (str_album)",
          "content_same": false
        },
        {
          "line": 3360,
          "old_api": "av_filename_number_test",
          "new_api": null,
          "old_text": "av_filename_number_test(oc->filename)",
          "new_text": null,
          "old_line_content": "        if (!av_filename_number_test(oc->filename)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3361,
          "old_api": "print_error",
          "new_api": null,
          "old_text": "print_error(oc->filename, AVERROR_NUMEXPECTED)",
          "new_text": null,
          "old_line_content": "            print_error(oc->filename, AVERROR_NUMEXPECTED);",
          "new_line_content": "    /* check filename in case of an image number is expected */",
          "content_same": false
        },
        {
          "line": 3362,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "            av_exit(1);",
          "new_line_content": "    if (oc->oformat->flags & AVFMT_NEEDNUMBER) {",
          "content_same": false
        },
        {
          "line": 3369,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(filename, ':')",
          "new_text": null,
          "old_line_content": "            (strchr(filename, ':') == NULL ||",
          "new_line_content": "    if (!(oc->oformat->flags & AVFMT_NOFILE)) {",
          "content_same": false
        },
        {
          "line": 3371,
          "old_api": "av_strstart",
          "new_api": null,
          "old_text": "av_strstart(filename, \"file:\", NULL)",
          "new_text": null,
          "old_line_content": "             av_strstart(filename, \"file:\", NULL))) {",
          "new_line_content": "        if (!file_overwrite &&",
          "content_same": false
        },
        {
          "line": 3376,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr,\"File '%s' already exists. Overwrite ? [y/N] \", filename)",
          "new_text": null,
          "old_line_content": "                    fprintf(stderr,\"File '%s' already exists. Overwrite ? [y/N] \", filename);",
          "new_line_content": "                int c;",
          "content_same": false
        },
        {
          "line": 3377,
          "old_api": "fflush",
          "new_api": null,
          "old_text": "fflush(stderr)",
          "new_text": null,
          "old_line_content": "                    fflush(stderr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3378,
          "old_api": "getchar",
          "new_api": null,
          "old_text": "getchar()",
          "new_text": null,
          "old_line_content": "                    c = getchar();",
          "new_line_content": "                if (!using_stdin) {",
          "content_same": false
        },
        {
          "line": 1331,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"%d: got pts=%0.3f %0.3f\\n\", i,\n                           (double)pkt->pts / AV_TIME_BASE,\n                           ((double)ist->pts / AV_TIME_BASE) -\n                           ((double)ost->st->pts.val * ost->st->time_base.num / ost->st->time_base.den))",
          "new_text": null,
          "old_line_content": "                    printf(\"%d: got pts=%0.3f %0.3f\\n\", i,",
          "new_line_content": "                    os = output_files[ost->file_index];",
          "content_same": false
        },
        {
          "line": 3385,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr,\"File '%s' already exists. Exiting.\\n\", filename)",
          "new_text": null,
          "old_line_content": "                    fprintf(stderr,\"File '%s' already exists. Exiting.\\n\", filename);",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 3386,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "                    av_exit(1);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1342,
          "old_api": "do_audio_out",
          "new_api": null,
          "old_text": "do_audio_out(os, ost, ist, data_buf, data_size)",
          "new_text": null,
          "old_line_content": "                            do_audio_out(os, ost, ist, data_buf, data_size);",
          "new_line_content": "                    if (ost->encoding_needed) {",
          "content_same": false
        },
        {
          "line": 3392,
          "old_api": "url_fopen",
          "new_api": null,
          "old_text": "url_fopen(&oc->pb, filename, URL_WRONLY)",
          "new_text": null,
          "old_line_content": "        if (url_fopen(&oc->pb, filename, URL_WRONLY) < 0) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3393,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Could not open '%s'\\n\", filename)",
          "new_text": null,
          "old_line_content": "            fprintf(stderr, \"Could not open '%s'\\n\", filename);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3394,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "            av_exit(1);",
          "new_line_content": "        /* open the file */",
          "content_same": false
        },
        {
          "line": 1347,
          "old_api": "do_video_stats",
          "new_api": null,
          "old_text": "do_video_stats(os, ost, frame_size)",
          "new_text": null,
          "old_line_content": "                                do_video_stats(os, ost, frame_size);",
          "new_line_content": "                        case CODEC_TYPE_VIDEO:",
          "content_same": false
        },
        {
          "line": 3398,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(ap, 0, sizeof(*ap))",
          "new_text": null,
          "old_line_content": "    memset(ap, 0, sizeof(*ap));",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3399,
          "old_api": "av_set_parameters",
          "new_api": null,
          "old_text": "av_set_parameters(oc, ap)",
          "new_text": null,
          "old_line_content": "    if (av_set_parameters(oc, ap) < 0) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3400,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"%s: Invalid encoding parameters\\n\",\n                oc->filename)",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"%s: Invalid encoding parameters\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1354,
          "old_api": "abort",
          "new_api": null,
          "old_text": "abort()",
          "new_text": null,
          "old_line_content": "                            abort();",
          "new_line_content": "                                            pkt->pts);",
          "content_same": false
        },
        {
          "line": 1359,
          "old_api": "av_init_packet",
          "new_api": null,
          "old_text": "av_init_packet(&opkt)",
          "new_text": null,
          "old_line_content": "                        av_init_packet(&opkt);",
          "new_line_content": "                    } else {",
          "content_same": false
        },
        {
          "line": 3409,
          "old_api": "set_context_opts",
          "new_api": null,
          "old_text": "set_context_opts(oc, avformat_opts, AV_OPT_FLAG_ENCODING_PARAM)",
          "new_text": null,
          "old_line_content": "    set_context_opts(oc, avformat_opts, AV_OPT_FLAG_ENCODING_PARAM);",
          "new_line_content": "    oc->max_delay= (int)(mux_max_delay*AV_TIME_BASE);",
          "content_same": false
        },
        {
          "line": 1367,
          "old_api": "avcodec_get_frame_defaults",
          "new_api": null,
          "old_text": "avcodec_get_frame_defaults(&avframe)",
          "new_text": null,
          "old_line_content": "                        avcodec_get_frame_defaults(&avframe);",
          "new_line_content": "                        /* no reencoding needed : output the packet directly */",
          "content_same": false
        },
        {
          "line": 3420,
          "old_api": "atoi",
          "new_api": null,
          "old_text": "atoi(pass_str)",
          "new_text": null,
          "old_line_content": "    pass = atoi(pass_str);",
          "new_line_content": "static void opt_pass(const char *pass_str)",
          "content_same": false
        },
        {
          "line": 3422,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"pass number can be only 1 or 2\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"pass number can be only 1 or 2\\n\");",
          "new_line_content": "    int pass;",
          "content_same": false
        },
        {
          "line": 1380,
          "old_api": "av_rescale_q",
          "new_api": null,
          "old_text": "av_rescale_q(pkt->pts, ist->st->time_base, ost->st->time_base)",
          "new_text": null,
          "old_line_content": "                            opkt.pts= av_rescale_q(pkt->pts, ist->st->time_base, ost->st->time_base);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1385,
          "old_api": "av_rescale_q",
          "new_api": null,
          "old_text": "av_rescale_q(ist->pts, AV_TIME_BASE_Q, ost->st->time_base)",
          "new_text": null,
          "old_line_content": "                            opkt.dts = av_rescale_q(ist->pts, AV_TIME_BASE_Q, ost->st->time_base);",
          "new_line_content": "                            opkt.pts= AV_NOPTS_VALUE;",
          "content_same": false
        },
        {
          "line": 3433,
          "old_api": "getrusage",
          "new_api": null,
          "old_text": "getrusage(RUSAGE_SELF, &rusage)",
          "new_text": null,
          "old_line_content": "    getrusage(RUSAGE_SELF, &rusage);",
          "new_line_content": "#ifdef HAVE_GETRUSAGE",
          "content_same": false
        },
        {
          "line": 1387,
          "old_api": "av_rescale_q",
          "new_api": null,
          "old_text": "av_rescale_q(pkt->dts, ist->st->time_base, ost->st->time_base)",
          "new_text": null,
          "old_line_content": "                            opkt.dts = av_rescale_q(pkt->dts, ist->st->time_base, ost->st->time_base);",
          "new_line_content": "                        if (pkt->dts == AV_NOPTS_VALUE)",
          "content_same": false
        },
        {
          "line": 1389,
          "old_api": "av_rescale_q",
          "new_api": null,
          "old_text": "av_rescale_q(pkt->duration, ist->st->time_base, ost->st->time_base)",
          "new_text": null,
          "old_line_content": "                        opkt.duration = av_rescale_q(pkt->duration, ist->st->time_base, ost->st->time_base);",
          "new_line_content": "                        else",
          "content_same": false
        },
        {
          "line": 3438,
          "old_api": "GetCurrentProcess",
          "new_api": null,
          "old_text": "GetCurrentProcess()",
          "new_text": null,
          "old_line_content": "    proc = GetCurrentProcess();",
          "new_line_content": "#elif defined(HAVE_GETPROCESSTIMES)",
          "content_same": false
        },
        {
          "line": 3439,
          "old_api": "GetProcessTimes",
          "new_api": null,
          "old_text": "GetProcessTimes(proc, &c, &e, &k, &u)",
          "new_text": null,
          "old_line_content": "    GetProcessTimes(proc, &c, &e, &k, &u);",
          "new_line_content": "    HANDLE proc;",
          "content_same": false
        },
        {
          "line": 1393,
          "old_api": "av_parser_change",
          "new_api": null,
          "old_text": "av_parser_change(ist->st->parser, ost->st->codec, &opkt.data, &opkt.size, data_buf, data_size, pkt->flags & PKT_FLAG_KEY)",
          "new_text": null,
          "old_line_content": "                        if(av_parser_change(ist->st->parser, ost->st->codec, &opkt.data, &opkt.size, data_buf, data_size, pkt->flags & PKT_FLAG_KEY))",
          "new_line_content": "                        opkt.flags= pkt->flags;",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(buffer_to_free)",
          "new_text": null,
          "old_line_content": "        av_free(buffer_to_free);",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 3451,
          "old_api": "atoi",
          "new_api": null,
          "old_text": "atoi(p)",
          "new_text": null,
          "old_line_content": "        dest[i] = atoi(p);",
          "new_line_content": "    int i;",
          "content_same": false
        },
        {
          "line": 1408,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(subtitle_to_free->rects[i].bitmap)",
          "new_text": null,
          "old_line_content": "                    av_free(subtitle_to_free->rects[i].bitmap);",
          "new_line_content": "        if (subtitle_to_free) {",
          "content_same": false
        },
        {
          "line": 1409,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(subtitle_to_free->rects[i].rgba_palette)",
          "new_text": null,
          "old_line_content": "                    av_free(subtitle_to_free->rects[i].rgba_palette);",
          "new_line_content": "            if (subtitle_to_free->rects != NULL) {",
          "content_same": false
        },
        {
          "line": 3456,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Syntax error in matrix \\\"%s\\\" at coeff %d\\n\", str, i)",
          "new_text": null,
          "old_line_content": "            fprintf(stderr, \"Syntax error in matrix \\\"%s\\\" at coeff %d\\n\", str, i);",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 3465,
          "old_api": "av_mallocz",
          "new_api": null,
          "old_text": "av_mallocz(sizeof(uint16_t) * 64)",
          "new_text": null,
          "old_line_content": "    inter_matrix = av_mallocz(sizeof(uint16_t) * 64);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3466,
          "old_api": "parse_matrix_coeffs",
          "new_api": null,
          "old_text": "parse_matrix_coeffs(inter_matrix, arg)",
          "new_text": null,
          "old_line_content": "    parse_matrix_coeffs(inter_matrix, arg);",
          "new_line_content": "static void opt_inter_matrix(const char *arg)",
          "content_same": false
        },
        {
          "line": 3471,
          "old_api": "av_mallocz",
          "new_api": null,
          "old_text": "av_mallocz(sizeof(uint16_t) * 64)",
          "new_text": null,
          "old_line_content": "    intra_matrix = av_mallocz(sizeof(uint16_t) * 64);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3472,
          "old_api": "parse_matrix_coeffs",
          "new_api": null,
          "old_text": "parse_matrix_coeffs(intra_matrix, arg)",
          "new_text": null,
          "old_line_content": "    parse_matrix_coeffs(intra_matrix, arg);",
          "new_line_content": "static void opt_intra_matrix(const char *arg)",
          "content_same": false
        },
        {
          "line": 3481,
          "old_api": "vfprintf",
          "new_api": null,
          "old_text": "vfprintf(stdout, fmt, vl)",
          "new_text": null,
          "old_line_content": "    vfprintf(stdout, fmt, vl);",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": "av_init_packet",
          "new_api": null,
          "old_text": "av_init_packet(&pkt)",
          "new_text": null,
          "old_line_content": "                        av_init_packet(&pkt);",
          "new_line_content": "                    for(;;) {",
          "content_same": false
        },
        {
          "line": 3486,
          "old_api": "av_log_set_callback",
          "new_api": null,
          "old_text": "av_log_set_callback(log_callback_help)",
          "new_text": null,
          "old_line_content": "    av_log_set_callback(log_callback_help);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3487,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"usage: ffmpeg [[infile options] -i infile]... {[outfile options] outfile}...\\n\"\n           \"Hyper fast Audio and Video encoder\\n\")",
          "new_text": null,
          "old_line_content": "    printf(\"usage: ffmpeg [[infile options] -i infile]... {[outfile options] outfile}...\\n\"",
          "new_line_content": "static void show_help(void)",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": "av_fifo_size",
          "new_api": null,
          "old_text": "av_fifo_size(&ost->fifo)",
          "new_text": null,
          "old_line_content": "                            fifo_bytes = av_fifo_size(&ost->fifo);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1447,
          "old_api": "av_fifo_read",
          "new_api": null,
          "old_text": "av_fifo_read(&ost->fifo, (uint8_t *)samples, fifo_bytes)",
          "new_text": null,
          "old_line_content": "                                av_fifo_read(&ost->fifo, (uint8_t *)samples, fifo_bytes);",
          "new_line_content": "                            if(fifo_bytes > 0 && enc->codec->capabilities & CODEC_CAP_SMALL_LAST_FRAME) {",
          "content_same": false
        },
        {
          "line": 1448,
          "old_api": "avcodec_encode_audio",
          "new_api": null,
          "old_text": "avcodec_encode_audio(enc, bit_buffer, bit_buffer_size, samples)",
          "new_text": null,
          "old_line_content": "                                    ret = avcodec_encode_audio(enc, bit_buffer, bit_buffer_size, samples);",
          "new_line_content": "                                int fs_tmp = enc->frame_size;",
          "content_same": false
        },
        {
          "line": 1452,
          "old_api": "avcodec_encode_audio",
          "new_api": null,
          "old_text": "avcodec_encode_audio(enc, bit_buffer, bit_buffer_size, NULL)",
          "new_text": null,
          "old_line_content": "                                ret = avcodec_encode_audio(enc, bit_buffer, bit_buffer_size, NULL);",
          "new_line_content": "                                enc->frame_size = fs_tmp;",
          "content_same": false
        },
        {
          "line": 1458,
          "old_api": "avcodec_encode_video",
          "new_api": null,
          "old_text": "avcodec_encode_video(enc, bit_buffer, bit_buffer_size, NULL)",
          "new_text": null,
          "old_line_content": "                            ret = avcodec_encode_video(enc, bit_buffer, bit_buffer_size, NULL);",
          "new_line_content": "                            pkt.flags |= PKT_FLAG_KEY;",
          "content_same": false
        },
        {
          "line": 1463,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(ost->logfile, \"%s\", enc->stats_out)",
          "new_text": null,
          "old_line_content": "                                fprintf(ost->logfile, \"%s\", enc->stats_out);",
          "new_line_content": "                            if(enc->coded_frame && enc->coded_frame->key_frame)",
          "content_same": false
        },
        {
          "line": 3514,
          "old_api": "av_opt_show",
          "new_api": null,
          "old_text": "av_opt_show(avctx_opts[0], NULL)",
          "new_text": null,
          "old_line_content": "    av_opt_show(avctx_opts[0], NULL);",
          "new_line_content": "                      OPT_GRAB,",
          "content_same": false
        },
        {
          "line": 3515,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"\\n\")",
          "new_text": null,
          "old_line_content": "    printf(\"\\n\");",
          "new_line_content": "                      OPT_GRAB);",
          "content_same": false
        },
        {
          "line": 1475,
          "old_api": "av_rescale_q",
          "new_api": null,
          "old_text": "av_rescale_q(enc->coded_frame->pts, enc->time_base, ost->st->time_base)",
          "new_text": null,
          "old_line_content": "                            pkt.pts= av_rescale_q(enc->coded_frame->pts, enc->time_base, ost->st->time_base);",
          "new_line_content": "                        pkt.data= bit_buffer;",
          "content_same": false
        },
        {
          "line": 1476,
          "old_api": "write_frame",
          "new_api": null,
          "old_text": "write_frame(os, &pkt, ost->st->codec, bitstream_filters[ost->file_index][pkt.stream_index])",
          "new_text": null,
          "old_line_content": "                        write_frame(os, &pkt, ost->st->codec, bitstream_filters[ost->file_index][pkt.stream_index]);",
          "new_line_content": "                        pkt.size= ret;",
          "content_same": false
        },
        {
          "line": 3526,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(arg, \"pal-\", 4)",
          "new_text": null,
          "old_line_content": "    if(!strncmp(arg, \"pal-\", 4)) {",
          "new_line_content": "    int norm = -1;",
          "content_same": false
        },
        {
          "line": 1492,
          "old_api": "avf_sdp_create",
          "new_api": null,
          "old_text": "avf_sdp_create(avc, n, sdp, sizeof(sdp))",
          "new_text": null,
          "old_line_content": "    avf_sdp_create(avc, n, sdp, sizeof(sdp));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1493,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"SDP:\\n%s\\n\", sdp)",
          "new_text": null,
          "old_line_content": "    printf(\"SDP:\\n%s\\n\", sdp);",
          "new_line_content": "    char sdp[2048];",
          "content_same": false
        },
        {
          "line": 3567,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Assuming %s for target.\\n\", norm ? \"NTSC\" : \"PAL\")",
          "new_text": null,
          "old_line_content": "            fprintf(stderr, \"Assuming %s for target.\\n\", norm ? \"NTSC\" : \"PAL\");",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 3571,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Could not determine norm (PAL/NTSC/NTSC-Film) for target.\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"Could not determine norm (PAL/NTSC/NTSC-Film) for target.\\n\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3572,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Please prefix target with \\\"pal-\\\", \\\"ntsc-\\\" or \\\"film-\\\",\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"Please prefix target with \\\"pal-\\\", \\\"ntsc-\\\" or \\\"film-\\\",\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3573,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"or set a framerate with \\\"-r xxx\\\".\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"or set a framerate with \\\"-r xxx\\\".\\n\");",
          "new_line_content": "    if(norm < 0) {",
          "content_same": false
        },
        {
          "line": 3579,
          "old_api": "opt_video_codec",
          "new_api": null,
          "old_text": "opt_video_codec(\"mpeg1video\")",
          "new_text": null,
          "old_line_content": "        opt_video_codec(\"mpeg1video\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3581,
          "old_api": "opt_format",
          "new_api": null,
          "old_text": "opt_format(\"vcd\")",
          "new_text": null,
          "old_line_content": "        opt_format(\"vcd\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3585,
          "old_api": "opt_default",
          "new_api": null,
          "old_text": "opt_default(\"gop\", norm ? \"18\" : \"15\")",
          "new_text": null,
          "old_line_content": "        opt_default(\"gop\", norm ? \"18\" : \"15\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1540,
          "old_api": "av_mallocz",
          "new_api": null,
          "old_text": "av_mallocz(nb_input_files * sizeof(AVInputFile))",
          "new_text": null,
          "old_line_content": "    file_table= av_mallocz(nb_input_files * sizeof(AVInputFile));",
          "new_line_content": "    int key;",
          "content_same": false
        },
        {
          "line": 3589,
          "old_api": "opt_default",
          "new_api": null,
          "old_text": "opt_default(\"minrate\", \"1150000\")",
          "new_text": null,
          "old_line_content": "        opt_default(\"minrate\", \"1150000\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3596,
          "old_api": "opt_default",
          "new_api": null,
          "old_text": "opt_default(\"packetsize\", \"2324\")",
          "new_text": null,
          "old_line_content": "        opt_default(\"packetsize\", \"2324\");",
          "new_line_content": "        audio_sample_rate = 44100;",
          "content_same": false
        },
        {
          "line": 3597,
          "old_api": "opt_default",
          "new_api": null,
          "old_text": "opt_default(\"muxrate\", \"1411200\")",
          "new_text": null,
          "old_line_content": "        opt_default(\"muxrate\", \"1411200\"); // 2352 * 75 * 8;",
          "new_line_content": "        audio_channels = 2;",
          "content_same": false
        },
        {
          "line": 1554,
          "old_api": "av_mallocz",
          "new_api": null,
          "old_text": "av_mallocz(nb_istreams * sizeof(AVInputStream *))",
          "new_text": null,
          "old_line_content": "    ist_table = av_mallocz(nb_istreams * sizeof(AVInputStream *));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3605,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(arg, \"svcd\")",
          "new_text": null,
          "old_line_content": "    } else if(!strcmp(arg, \"svcd\")) {",
          "new_line_content": "           been written before.",
          "content_same": false
        },
        {
          "line": 1559,
          "old_api": "av_mallocz",
          "new_api": null,
          "old_text": "av_mallocz(sizeof(AVInputStream))",
          "new_text": null,
          "old_line_content": "        ist = av_mallocz(sizeof(AVInputStream));",
          "new_line_content": "        goto fail;",
          "content_same": false
        },
        {
          "line": 3607,
          "old_api": "opt_video_codec",
          "new_api": null,
          "old_text": "opt_video_codec(\"mpeg2video\")",
          "new_text": null,
          "old_line_content": "        opt_video_codec(\"mpeg2video\");",
          "new_line_content": "        mux_preload= (36000+3*1200) / 90000.0; //0.44",
          "content_same": false
        },
        {
          "line": 3609,
          "old_api": "opt_format",
          "new_api": null,
          "old_text": "opt_format(\"svcd\")",
          "new_text": null,
          "old_line_content": "        opt_format(\"svcd\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3613,
          "old_api": "opt_default",
          "new_api": null,
          "old_text": "opt_default(\"gop\", norm ? \"18\" : \"15\")",
          "new_text": null,
          "old_line_content": "        opt_default(\"gop\", norm ? \"18\" : \"15\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3617,
          "old_api": "opt_default",
          "new_api": null,
          "old_text": "opt_default(\"minrate\", \"0\")",
          "new_text": null,
          "old_line_content": "        opt_default(\"minrate\", \"0\"); //1145000;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1576,
          "old_api": "av_gettime",
          "new_api": null,
          "old_text": "av_gettime()",
          "new_text": null,
          "old_line_content": "                ist->start = av_gettime();",
          "new_line_content": "                                 (changed later) */",
          "content_same": false
        },
        {
          "line": 3627,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(arg, \"dvd\")",
          "new_text": null,
          "old_line_content": "    } else if(!strcmp(arg, \"dvd\")) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3629,
          "old_api": "opt_video_codec",
          "new_api": null,
          "old_text": "opt_video_codec(\"mpeg2video\")",
          "new_text": null,
          "old_line_content": "        opt_video_codec(\"mpeg2video\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3631,
          "old_api": "opt_format",
          "new_api": null,
          "old_text": "opt_format(\"dvd\")",
          "new_text": null,
          "old_line_content": "        opt_format(\"dvd\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1587,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Output file does not contain any stream\\n\")",
          "new_text": null,
          "old_line_content": "            fprintf(stderr, \"Output file does not contain any stream\\n\");",
          "new_line_content": "    for(i=0;i<nb_output_files;i++) {",
          "content_same": false
        },
        {
          "line": 1588,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "            av_exit(1);",
          "new_line_content": "        os = output_files[i];",
          "content_same": false
        },
        {
          "line": 3635,
          "old_api": "opt_default",
          "new_api": null,
          "old_text": "opt_default(\"gop\", norm ? \"18\" : \"15\")",
          "new_text": null,
          "old_line_content": "        opt_default(\"gop\", norm ? \"18\" : \"15\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3639,
          "old_api": "opt_default",
          "new_api": null,
          "old_text": "opt_default(\"minrate\", \"0\")",
          "new_text": null,
          "old_line_content": "        opt_default(\"minrate\", \"0\"); //1500000;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1593,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Number of stream maps must match number of output streams\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"Number of stream maps must match number of output streams\\n\");",
          "new_line_content": "        nb_ostreams += os->nb_streams;",
          "content_same": false
        },
        {
          "line": 1594,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3650,
          "old_api": "opt_format",
          "new_api": null,
          "old_text": "opt_format(\"dv\")",
          "new_text": null,
          "old_line_content": "        opt_format(\"dv\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1604,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr,\"Could not find input stream #%d.%d\\n\", fi, si)",
          "new_text": null,
          "old_line_content": "            fprintf(stderr,\"Could not find input stream #%d.%d\\n\", fi, si);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1605,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "            av_exit(1);",
          "new_line_content": "        if (fi < 0 || fi > nb_input_files - 1 ||",
          "content_same": false
        },
        {
          "line": 3652,
          "old_api": "opt_frame_size",
          "new_api": null,
          "old_text": "opt_frame_size(norm ? \"720x480\" : \"720x576\")",
          "new_text": null,
          "old_line_content": "        opt_frame_size(norm ? \"720x480\" : \"720x576\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1611,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr,\"Could not find sync stream #%d.%d\\n\", fi, si)",
          "new_text": null,
          "old_line_content": "            fprintf(stderr,\"Could not find sync stream #%d.%d\\n\", fi, si);",
          "new_line_content": "        si = stream_maps[i].sync_stream_index;",
          "content_same": false
        },
        {
          "line": 1612,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "            av_exit(1);",
          "new_line_content": "        if (fi < 0 || fi > nb_input_files - 1 ||",
          "content_same": false
        },
        {
          "line": 3661,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Unknown target: %s\\n\", arg)",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"Unknown target: %s\\n\", arg);",
          "new_line_content": "        audio_channels = 2;",
          "content_same": false
        },
        {
          "line": 3662,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1616,
          "old_api": "av_mallocz",
          "new_api": null,
          "old_text": "av_mallocz(sizeof(AVOutputStream *) * nb_ostreams)",
          "new_text": null,
          "old_line_content": "    ost_table = av_mallocz(sizeof(AVOutputStream *) * nb_ostreams);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1620,
          "old_api": "av_mallocz",
          "new_api": null,
          "old_text": "av_mallocz(sizeof(AVOutputStream))",
          "new_text": null,
          "old_line_content": "        ost = av_mallocz(sizeof(AVOutputStream));",
          "new_line_content": "    if (!ost_table)",
          "content_same": false
        },
        {
          "line": 3668,
          "old_api": "av_free (vstats_filename)",
          "new_api": null,
          "old_text": "av_free (vstats_filename)",
          "new_text": null,
          "old_line_content": "    av_free (vstats_filename);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3669,
          "old_api": "av_strdup (arg)",
          "new_api": null,
          "old_text": "av_strdup (arg)",
          "new_text": null,
          "old_line_content": "    vstats_filename=av_strdup (arg);",
          "new_line_content": "static void opt_vstats_file (const char *arg)",
          "content_same": false
        },
        {
          "line": 3675,
          "old_api": "time",
          "new_api": null,
          "old_text": "time(NULL)",
          "new_text": null,
          "old_line_content": "    time_t today2 = time(NULL);",
          "new_line_content": "static void opt_vstats (void)",
          "content_same": false
        },
        {
          "line": 3676,
          "old_api": "localtime",
          "new_api": null,
          "old_text": "localtime(&today2)",
          "new_text": null,
          "old_line_content": "    struct tm *today = localtime(&today2);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3680,
          "old_api": "opt_vstats_file",
          "new_api": null,
          "old_text": "opt_vstats_file(filename)",
          "new_text": null,
          "old_line_content": "    opt_vstats_file(filename);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3685,
          "old_api": "av_bitstream_filter_init",
          "new_api": null,
          "old_text": "av_bitstream_filter_init(arg)",
          "new_text": null,
          "old_line_content": "    AVBitStreamFilterContext *bsfc= av_bitstream_filter_init(arg); //FIXME split name and args for filter at '='",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3689,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Unknown bitstream filter %s\\n\", arg)",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"Unknown bitstream filter %s\\n\", arg);",
          "new_line_content": "    AVBitStreamFilterContext **bsfp;",
          "content_same": false
        },
        {
          "line": 1642,
          "old_api": "dump_format",
          "new_api": null,
          "old_text": "dump_format(output_files[i], i, output_files[i]->filename, 1)",
          "new_text": null,
          "old_line_content": "                    dump_format(output_files[i], i, output_files[i]->filename, 1);",
          "new_line_content": "                /* Sanity check that the stream types match */",
          "content_same": false
        },
        {
          "line": 1643,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Codec type mismatch for mapping #%d.%d -> #%d.%d\\n\",\n                        stream_maps[n-1].file_index, stream_maps[n-1].stream_index,\n                        ost->file_index, ost->index)",
          "new_text": null,
          "old_line_content": "                    fprintf(stderr, \"Codec type mismatch for mapping #%d.%d -> #%d.%d\\n\",",
          "new_line_content": "                if (ist_table[ost->source_index]->st->codec->codec_type != ost->st->codec->codec_type) {",
          "content_same": false
        },
        {
          "line": 3690,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1652,
          "old_api": "stream_index_from_inputs",
          "new_api": null,
          "old_text": "stream_index_from_inputs(input_files, nb_input_files, file_table, ist_table, ost->st->codec->codec_type, opt_programid)",
          "new_text": null,
          "old_line_content": "                    j = stream_index_from_inputs(input_files, nb_input_files, file_table, ist_table, ost->st->codec->codec_type, opt_programid);",
          "new_line_content": "            } else {",
          "content_same": false
        },
        {
          "line": 3709,
          "old_api": "getenv",
          "new_api": null,
          "old_text": "getenv(\"HOME\")",
          "new_text": null,
          "old_line_content": "    const char *base[3]= { getenv(\"HOME\"),",
          "new_line_content": "    FILE *f=NULL;",
          "content_same": false
        },
        {
          "line": 3715,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(tmp, sizeof(tmp), \"%s/%sffmpeg/%s.ffpreset\", base[i], i ? \"\" : \".\", arg)",
          "new_text": null,
          "old_line_content": "        snprintf(tmp, sizeof(tmp), \"%s/%sffmpeg/%s.ffpreset\", base[i], i ? \"\" : \".\", arg);",
          "new_line_content": "                         };",
          "content_same": false
        },
        {
          "line": 3716,
          "old_api": "fopen",
          "new_api": null,
          "old_text": "fopen(tmp, \"r\")",
          "new_text": null,
          "old_line_content": "        f= fopen(tmp, \"r\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3721,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(tmp, sizeof(tmp), \"%s/%sffmpeg/%s-%s.ffpreset\", base[i],  i ? \"\" : \".\", codec_name, arg)",
          "new_text": null,
          "old_line_content": "              snprintf(tmp, sizeof(tmp), \"%s/%sffmpeg/%s-%s.ffpreset\", base[i],  i ? \"\" : \".\", codec_name, arg);",
          "new_line_content": "            char *codec_name= *opt == 'v' ? video_codec_name :",
          "content_same": false
        },
        {
          "line": 3722,
          "old_api": "fopen",
          "new_api": null,
          "old_text": "fopen(tmp, \"r\")",
          "new_text": null,
          "old_line_content": "            f= fopen(tmp, \"r\");",
          "new_line_content": "                              *opt == 'a' ? audio_codec_name :",
          "content_same": false
        },
        {
          "line": 3727,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Preset file not found\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"Preset file not found\\n\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3728,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1684,
          "old_api": "dump_format",
          "new_api": null,
          "old_text": "dump_format(output_files[i], i, output_files[i]->filename, 1)",
          "new_text": null,
          "old_line_content": "                        dump_format(output_files[i], i, output_files[i]->filename, 1);",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 1685,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Could not find input stream matching output stream #%d.%d\\n\",\n                                ost->file_index, ost->index)",
          "new_text": null,
          "old_line_content": "                        fprintf(stderr, \"Could not find input stream matching output stream #%d.%d\\n\",",
          "new_line_content": "                    if (!found) {",
          "content_same": false
        },
        {
          "line": 3732,
          "old_api": "fscanf",
          "new_api": null,
          "old_text": "fscanf(f, \"%999[^=]=%999[^\\n]\\n\", tmp, tmp2)",
          "new_text": null,
          "old_line_content": "        int e= fscanf(f, \"%999[^=]=%999[^\\n]\\n\", tmp, tmp2);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3739,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(tmp, \"vcodec\")",
          "new_text": null,
          "old_line_content": "        }else if(!strcmp(tmp, \"vcodec\")){",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1709,
          "old_api": "av_strlcpy",
          "new_api": null,
          "old_text": "av_strlcpy(ost->st->language, ist->st->language,\n                       sizeof(ost->st->language))",
          "new_text": null,
          "old_line_content": "            av_strlcpy(ost->st->language, ist->st->language,",
          "new_line_content": "        icodec = ist->st->codec;",
          "content_same": false
        },
        {
          "line": 1721,
          "old_api": "av_codec_get_id (os->oformat->codec_tag, icodec->codec_tag)",
          "new_api": null,
          "old_text": "av_codec_get_id (os->oformat->codec_tag, icodec->codec_tag)",
          "new_text": null,
          "old_line_content": "                   || av_codec_get_id (os->oformat->codec_tag, icodec->codec_tag) > 0",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1722,
          "old_api": "av_codec_get_tag",
          "new_api": null,
          "old_text": "av_codec_get_tag(os->oformat->codec_tag, icodec->codec_id)",
          "new_text": null,
          "old_line_content": "                   || av_codec_get_tag(os->oformat->codec_tag, icodec->codec_id) <= 0)",
          "new_line_content": "            if(!codec->codec_tag){",
          "content_same": false
        },
        {
          "line": 1729,
          "old_api": "av_q2d",
          "new_api": null,
          "old_text": "av_q2d(ist->st->time_base)",
          "new_text": null,
          "old_line_content": "            if(av_q2d(icodec->time_base) > av_q2d(ist->st->time_base) && av_q2d(ist->st->time_base) < 1.0/1000)",
          "new_line_content": "            codec->bit_rate = icodec->bit_rate;",
          "content_same": false
        },
        {
          "line": 1736,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr,\"-acodec copy and -vol are incompatible (frames are not decoded)\\n\")",
          "new_text": null,
          "old_line_content": "                    fprintf(stderr,\"-acodec copy and -vol are incompatible (frames are not decoded)\\n\");",
          "new_line_content": "            switch(codec->codec_type) {",
          "content_same": false
        },
        {
          "line": 1737,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "                    av_exit(1);",
          "new_line_content": "            case CODEC_TYPE_AUDIO:",
          "content_same": false
        },
        {
          "line": 1750,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr,\"-vcodec copy and -vhook are incompatible (frames are not decoded)\\n\")",
          "new_text": null,
          "old_line_content": "                    fprintf(stderr,\"-vcodec copy and -vhook are incompatible (frames are not decoded)\\n\");",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 1751,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "                    av_exit(1);",
          "new_line_content": "            case CODEC_TYPE_VIDEO:",
          "content_same": false
        },
        {
          "line": 1761,
          "old_api": "abort",
          "new_api": null,
          "old_text": "abort()",
          "new_text": null,
          "old_line_content": "                abort();",
          "new_line_content": "            case CODEC_TYPE_SUBTITLE:",
          "content_same": false
        },
        {
          "line": 1766,
          "old_api": "av_fifo_init",
          "new_api": null,
          "old_text": "av_fifo_init(&ost->fifo, 1024)",
          "new_text": null,
          "old_line_content": "                if (av_fifo_init(&ost->fifo, 1024))",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 1768,
          "old_api": "MAKE_SFMT_PAIR",
          "new_api": null,
          "old_text": "MAKE_SFMT_PAIR(SAMPLE_FMT_NONE,SAMPLE_FMT_NONE)",
          "new_text": null,
          "old_line_content": "                ost->reformat_pair = MAKE_SFMT_PAIR(SAMPLE_FMT_NONE,SAMPLE_FMT_NONE);",
          "new_line_content": "            case CODEC_TYPE_AUDIO:",
          "content_same": false
        },
        {
          "line": 1794,
          "old_api": "avcodec_get_frame_defaults",
          "new_api": null,
          "old_text": "avcodec_get_frame_defaults(&ost->pict_tmp)",
          "new_text": null,
          "old_line_content": "                        avcodec_get_frame_defaults(&ost->pict_tmp);",
          "new_line_content": "                    ost->padbottom = frame_padbottom;",
          "content_same": false
        },
        {
          "line": 1795,
          "old_api": "avpicture_alloc",
          "new_api": null,
          "old_text": "avpicture_alloc((AVPicture*)&ost->pict_tmp, codec->pix_fmt,\n                                         codec->width, codec->height)",
          "new_text": null,
          "old_line_content": "                        if(avpicture_alloc((AVPicture*)&ost->pict_tmp, codec->pix_fmt,",
          "new_line_content": "                    ost->padright = frame_padright;",
          "content_same": false
        },
        {
          "line": 1801,
          "old_api": "avcodec_get_frame_defaults",
          "new_api": null,
          "old_text": "avcodec_get_frame_defaults(&ost->pict_tmp)",
          "new_text": null,
          "old_line_content": "                    avcodec_get_frame_defaults(&ost->pict_tmp);",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 1802,
          "old_api": "avpicture_alloc",
          "new_api": null,
          "old_text": "avpicture_alloc((AVPicture*)&ost->pict_tmp, codec->pix_fmt,\n                                         codec->width, codec->height)",
          "new_text": null,
          "old_line_content": "                    if(avpicture_alloc((AVPicture*)&ost->pict_tmp, codec->pix_fmt,",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1817,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Cannot get resampling context\\n\")",
          "new_text": null,
          "old_line_content": "                        fprintf(stderr, \"Cannot get resampling context\\n\");",
          "new_line_content": "                            codec->pix_fmt,",
          "content_same": false
        },
        {
          "line": 1818,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "                        av_exit(1);",
          "new_line_content": "                            sws_flags, NULL, NULL, NULL);",
          "content_same": false
        },
        {
          "line": 1830,
          "old_api": "abort",
          "new_api": null,
          "old_text": "abort()",
          "new_text": null,
          "old_line_content": "                abort();",
          "new_line_content": "                ist->decoding_needed = 1;",
          "content_same": false
        },
        {
          "line": 3887,
          "old_api": "avcodec_register_all",
          "new_api": null,
          "old_text": "avcodec_register_all()",
          "new_text": null,
          "old_line_content": "    avcodec_register_all();",
          "new_line_content": "    int i;",
          "content_same": false
        },
        {
          "line": 3888,
          "old_api": "avdevice_register_all",
          "new_api": null,
          "old_text": "avdevice_register_all()",
          "new_text": null,
          "old_line_content": "    avdevice_register_all();",
          "new_line_content": "    int64_t ti;",
          "content_same": false
        },
        {
          "line": 1841,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(logfilename, sizeof(logfilename), \"%s-%d.log\",\n                         pass_logfilename ?\n                         pass_logfilename : DEFAULT_PASS_LOGFILENAME, i)",
          "new_text": null,
          "old_line_content": "                snprintf(logfilename, sizeof(logfilename), \"%s-%d.log\",",
          "new_line_content": "                int size;",
          "content_same": false
        },
        {
          "line": 3889,
          "old_api": "av_register_all",
          "new_api": null,
          "old_text": "av_register_all()",
          "new_text": null,
          "old_line_content": "    av_register_all();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1845,
          "old_api": "fopen",
          "new_api": null,
          "old_text": "fopen(logfilename, \"w\")",
          "new_text": null,
          "old_line_content": "                    f = fopen(logfilename, \"w\");",
          "new_line_content": "                         pass_logfilename ?",
          "content_same": false
        },
        {
          "line": 1847,
          "old_api": "perror",
          "new_api": null,
          "old_text": "perror(logfilename)",
          "new_text": null,
          "old_line_content": "                        perror(logfilename);",
          "new_line_content": "                if (codec->flags & CODEC_FLAG_PASS1) {",
          "content_same": false
        },
        {
          "line": 3897,
          "old_api": "av_alloc_format_context",
          "new_api": null,
          "old_text": "av_alloc_format_context()",
          "new_text": null,
          "old_line_content": "    avformat_opts = av_alloc_format_context();",
          "new_line_content": "    for(i=0; i<CODEC_TYPE_NB; i++){",
          "content_same": false
        },
        {
          "line": 1853,
          "old_api": "fopen",
          "new_api": null,
          "old_text": "fopen(logfilename, \"r\")",
          "new_text": null,
          "old_line_content": "                    f = fopen(logfilename, \"r\");",
          "new_line_content": "                    ost->logfile = f;",
          "content_same": false
        },
        {
          "line": 3902,
          "old_api": "show_help",
          "new_api": null,
          "old_text": "show_help()",
          "new_text": null,
          "old_line_content": "        show_help();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1855,
          "old_api": "perror",
          "new_api": null,
          "old_text": "perror(logfilename)",
          "new_text": null,
          "old_line_content": "                        perror(logfilename);",
          "new_line_content": "                    /* read the log file */",
          "content_same": false
        },
        {
          "line": 3907,
          "old_api": "parse_options",
          "new_api": null,
          "old_text": "parse_options(argc, argv, options, opt_output_file)",
          "new_text": null,
          "old_line_content": "    parse_options(argc, argv, options, opt_output_file);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1860,
          "old_api": "fseek",
          "new_api": null,
          "old_text": "fseek(f, 0, SEEK_SET)",
          "new_text": null,
          "old_line_content": "                    fseek(f, 0, SEEK_SET);",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 3911,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Must supply at least one output file\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"Must supply at least one output file\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3912,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "    /* file converter / grab */",
          "content_same": false
        },
        {
          "line": 3916,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Must supply at least one input file\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"Must supply at least one input file\\n\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3917,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "        av_exit(1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3921,
          "old_api": "av_encode",
          "new_api": null,
          "old_text": "av_encode(output_files, nb_output_files, input_files, nb_input_files,\n              stream_maps, nb_stream_maps)",
          "new_text": null,
          "old_line_content": "    av_encode(output_files, nb_output_files, input_files, nb_input_files,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1875,
          "old_api": "FFMAX",
          "new_api": null,
          "old_text": "FFMAX(bit_buffer_size, 4*size)",
          "new_text": null,
          "old_line_content": "            bit_buffer_size= FFMAX(bit_buffer_size, 4*size);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3925,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"bench: utime=%0.3fs\\n\", ti / 1000000.0)",
          "new_text": null,
          "old_line_content": "        printf(\"bench: utime=%0.3fs\\n\", ti / 1000000.0);",
          "new_line_content": "              stream_maps, nb_stream_maps);",
          "content_same": false
        },
        {
          "line": 1880,
          "old_api": "av_malloc",
          "new_api": null,
          "old_text": "av_malloc(bit_buffer_size)",
          "new_text": null,
          "old_line_content": "        bit_buffer = av_malloc(bit_buffer_size);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1887,
          "old_api": "dump_format",
          "new_api": null,
          "old_text": "dump_format(output_files[i], i, output_files[i]->filename, 1)",
          "new_text": null,
          "old_line_content": "        dump_format(output_files[i], i, output_files[i]->filename, 1);",
          "new_line_content": "    /* dump the file output parameters - cannot be done before in case",
          "content_same": false
        },
        {
          "line": 1892,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Stream mapping:\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"Stream mapping:\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1901,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \" [sync #%d.%d]\",\n                        ost->sync_ist->file_index,\n                        ost->sync_ist->index)",
          "new_text": null,
          "old_line_content": "                fprintf(stderr, \" [sync #%d.%d]\",",
          "new_line_content": "                    ost->file_index,",
          "content_same": false
        },
        {
          "line": 1913,
          "old_api": "avcodec_find_encoder",
          "new_api": null,
          "old_text": "avcodec_find_encoder(ost->st->codec->codec_id)",
          "new_text": null,
          "old_line_content": "            codec = avcodec_find_encoder(ost->st->codec->codec_id);",
          "new_line_content": "        ost = ost_table[i];",
          "content_same": false
        },
        {
          "line": 1915,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Unsupported codec for output stream #%d.%d\\n\",\n                        ost->file_index, ost->index)",
          "new_text": null,
          "old_line_content": "                fprintf(stderr, \"Unsupported codec for output stream #%d.%d\\n\",",
          "new_line_content": "            AVCodec *codec;",
          "content_same": false
        },
        {
          "line": 1917,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "                av_exit(1);",
          "new_line_content": "            if (!codec) {",
          "content_same": false
        },
        {
          "line": 1919,
          "old_api": "avcodec_open",
          "new_api": null,
          "old_text": "avcodec_open(ost->st->codec, codec)",
          "new_text": null,
          "old_line_content": "            if (avcodec_open(ost->st->codec, codec) < 0) {",
          "new_line_content": "                        ost->file_index, ost->index);",
          "content_same": false
        },
        {
          "line": 1933,
          "old_api": "avcodec_find_decoder",
          "new_api": null,
          "old_text": "avcodec_find_decoder(ist->st->codec->codec_id)",
          "new_text": null,
          "old_line_content": "            codec = avcodec_find_decoder(ist->st->codec->codec_id);",
          "new_line_content": "        ist = ist_table[i];",
          "content_same": false
        },
        {
          "line": 1935,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Unsupported codec (id=%d) for input stream #%d.%d\\n\",\n                        ist->st->codec->codec_id, ist->file_index, ist->index)",
          "new_text": null,
          "old_line_content": "                fprintf(stderr, \"Unsupported codec (id=%d) for input stream #%d.%d\\n\",",
          "new_line_content": "            AVCodec *codec;",
          "content_same": false
        },
        {
          "line": 1937,
          "old_api": "av_exit",
          "new_api": null,
          "old_text": "av_exit(1)",
          "new_text": null,
          "old_line_content": "                av_exit(1);",
          "new_line_content": "            if (!codec) {",
          "content_same": false
        },
        {
          "line": 1939,
          "old_api": "avcodec_open",
          "new_api": null,
          "old_text": "avcodec_open(ist->st->codec, codec)",
          "new_text": null,
          "old_line_content": "            if (avcodec_open(ist->st->codec, codec) < 0) {",
          "new_line_content": "                        ist->st->codec->codec_id, ist->file_index, ist->index);",
          "content_same": false
        },
        {
          "line": 1966,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Invalid output file index %d map_meta_data(%d,%d)\\n\", out_file_index, out_file_index, in_file_index)",
          "new_text": null,
          "old_line_content": "            fprintf(stderr, \"Invalid output file index %d map_meta_data(%d,%d)\\n\", out_file_index, out_file_index, in_file_index);",
          "new_line_content": "        int out_file_index = meta_data_maps[i].out_file;",
          "content_same": false
        },
        {
          "line": 1967,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(EINVAL)",
          "new_text": null,
          "old_line_content": "            ret = AVERROR(EINVAL);",
          "new_line_content": "        int in_file_index = meta_data_maps[i].in_file;",
          "content_same": false
        },
        {
          "line": 1971,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Invalid input file index %d map_meta_data(%d,%d)\\n\", in_file_index, out_file_index, in_file_index)",
          "new_text": null,
          "old_line_content": "            fprintf(stderr, \"Invalid input file index %d map_meta_data(%d,%d)\\n\", in_file_index, out_file_index, in_file_index);",
          "new_line_content": "            goto fail;",
          "content_same": false
        },
        {
          "line": 1972,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(EINVAL)",
          "new_text": null,
          "old_line_content": "            ret = AVERROR(EINVAL);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1979,
          "old_api": "strcpy",
          "new_api": null,
          "old_text": "strcpy(out_file->title, in_file->title)",
          "new_text": null,
          "old_line_content": "        strcpy(out_file->title, in_file->title);",
          "new_line_content": "        out_file = output_files[out_file_index];",
          "content_same": false
        },
        {
          "line": 1980,
          "old_api": "strcpy",
          "new_api": null,
          "old_text": "strcpy(out_file->author, in_file->author)",
          "new_text": null,
          "old_line_content": "        strcpy(out_file->author, in_file->author);",
          "new_line_content": "        in_file = input_files[in_file_index];",
          "content_same": false
        },
        {
          "line": 1981,
          "old_api": "strcpy",
          "new_api": null,
          "old_text": "strcpy(out_file->copyright, in_file->copyright)",
          "new_text": null,
          "old_line_content": "        strcpy(out_file->copyright, in_file->copyright);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1992,
          "old_api": "av_write_header",
          "new_api": null,
          "old_text": "av_write_header(os)",
          "new_text": null,
          "old_line_content": "        if (av_write_header(os) < 0) {",
          "new_line_content": "    /* open files and write file headers */",
          "content_same": false
        },
        {
          "line": 1993,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Could not write header for output file #%d (incorrect codec parameters ?)\\n\", i)",
          "new_text": null,
          "old_line_content": "            fprintf(stderr, \"Could not write header for output file #%d (incorrect codec parameters ?)\\n\", i);",
          "new_line_content": "    for(i=0;i<nb_output_files;i++) {",
          "content_same": false
        },
        {
          "line": 1994,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(EINVAL)",
          "new_text": null,
          "old_line_content": "            ret = AVERROR(EINVAL);",
          "new_line_content": "        os = output_files[i];",
          "content_same": false
        },
        {
          "line": 2002,
          "old_api": "print_sdp",
          "new_api": null,
          "old_text": "print_sdp(output_files, nb_output_files)",
          "new_text": null,
          "old_line_content": "        print_sdp(output_files, nb_output_files);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2006,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Press [q] to stop encoding\\n\")",
          "new_text": null,
          "old_line_content": "        fprintf(stderr, \"Press [q] to stop encoding\\n\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2007,
          "old_api": "url_set_interrupt_cb",
          "new_api": null,
          "old_text": "url_set_interrupt_cb(decode_interrupt_cb)",
          "new_text": null,
          "old_line_content": "        url_set_interrupt_cb(decode_interrupt_cb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2028,
          "old_api": "read_key",
          "new_api": null,
          "old_text": "read_key()",
          "new_text": null,
          "old_line_content": "            key = read_key();",
          "new_line_content": "            if (q_pressed)",
          "content_same": false
        },
        {
          "line": 2042,
          "old_api": "av_q2d",
          "new_api": null,
          "old_text": "av_q2d(ost->st->codec->time_base)",
          "new_text": null,
          "old_line_content": "                opts = ost->sync_opts * av_q2d(ost->st->codec->time_base);",
          "new_line_content": "            os = output_files[ost->file_index];",
          "content_same": false
        },
        {
          "line": 2044,
          "old_api": "av_q2d",
          "new_api": null,
          "old_text": "av_q2d(ost->st->time_base)",
          "new_text": null,
          "old_line_content": "                opts = ost->st->pts.val * av_q2d(ost->st->time_base);",
          "new_line_content": "            if(ost->st->codec->codec_type == CODEC_TYPE_VIDEO)",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 154,
      "total_additions": 396,
      "total_deletions": 393,
      "total_api_changes": 943
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 5,
        "api_related_lines": 943,
        "non_api_lines": 2,
        "non_api_line_numbers": [
          1202,
          1205
        ]
      }
    },
    "api_calls_before": 785,
    "api_calls_after": 787,
    "diff_info": {
      "added_lines": 5,
      "removed_lines": 2,
      "total_diff_lines": 19
    }
  }
}