{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/92ec66f983417f4ccf1cc8aa285f851795176fb8",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/92ec66f983417f4ccf1cc8aa285f851795176fb8/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/92ec66f983417f4ccf1cc8aa285f851795176fb8/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/92ec66f983417f4ccf1cc8aa285f851795176fb8/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 2477,
          "old_api": "sscanf",
          "new_api": "read_key",
          "old_text": "sscanf(buf, \"%63[^ ] %lf %255[^ ] %255[^\\n]\", target, &time, command, arg)",
          "new_text": "read_key()",
          "old_line_content": "                    (n = sscanf(buf, \"%63[^ ] %lf %255[^ ] %255[^\\n]\", target, &time, command, arg)) >= 3) {",
          "new_line_content": "                while ((k = read_key()) != '\\n' && k != '\\r' && i < sizeof(buf)-1)",
          "content_same": false
        },
        {
          "line": 2493,
          "old_api": "av_log",
          "new_api": "avfilter_graph_queue_command",
          "old_text": "av_log(NULL, AV_LOG_ERROR,\n                           \"Parse error, at least 3 arguments were expected, \"\n                           \"only %d given in string '%s'\\n\", n, buf)",
          "new_text": "avfilter_graph_queue_command(ost->graph, target, command, arg, 0, time)",
          "old_line_content": "                    av_log(NULL, AV_LOG_ERROR,",
          "new_line_content": "                                ret = avfilter_graph_queue_command(ost->graph, target, command, arg, 0, time);",
          "content_same": false
        },
        {
          "line": 2637,
          "old_api": "output_packet",
          "new_api": "av_rescale_q",
          "old_text": "output_packet(ist, ist_index, output_streams, nb_output_streams, &pkt)",
          "new_text": "av_rescale_q(delta, AV_TIME_BASE_Q, ist->st->time_base)",
          "old_line_content": "        if (output_packet(ist, ist_index, output_streams, nb_output_streams, &pkt) < 0) {",
          "new_line_content": "                    pkt.pts-= av_rescale_q(delta, AV_TIME_BASE_Q, ist->st->time_base);",
          "content_same": false
        },
        {
          "line": 2642,
          "old_api": "exit_program",
          "new_api": "output_packet",
          "old_text": "exit_program(1)",
          "new_text": "output_packet(ist, ist_index, output_streams, nb_output_streams, &pkt)",
          "old_line_content": "                exit_program(1);",
          "new_line_content": "        if (output_packet(ist, ist_index, output_streams, nb_output_streams, &pkt) < 0) {",
          "content_same": false
        },
        {
          "line": 2663,
          "old_api": "term_exit",
          "new_api": "output_packet",
          "old_text": "term_exit()",
          "new_text": "output_packet(ist, i, output_streams, nb_output_streams, NULL)",
          "old_line_content": "    term_exit();",
          "new_line_content": "            output_packet(ist, i, output_streams, nb_output_streams, NULL);",
          "content_same": false
        },
        {
          "line": 2668,
          "old_api": "av_write_trailer",
          "new_api": "term_exit",
          "old_text": "av_write_trailer(os)",
          "new_text": "term_exit()",
          "old_line_content": "        av_write_trailer(os);",
          "new_line_content": "    term_exit();",
          "content_same": false
        },
        {
          "line": 2711,
          "old_api": "av_fifo_free",
          "new_api": "av_freep",
          "old_text": "av_fifo_free(ost->fifo)",
          "new_text": "av_freep(&ost->st->codec->extradata)",
          "old_line_content": "                av_fifo_free(ost->fifo); /* works even if fifo is not",
          "new_line_content": "                    av_freep(&ost->st->codec->extradata);",
          "content_same": false
        },
        {
          "line": 2713,
          "old_api": "av_freep",
          "new_api": "fclose",
          "old_text": "av_freep(&ost->st->codec->subtitle_header)",
          "new_text": "fclose(ost->logfile)",
          "old_line_content": "                av_freep(&ost->st->codec->subtitle_header);",
          "new_line_content": "                    fclose(ost->logfile);",
          "content_same": false
        },
        {
          "line": 2718,
          "old_api": "swr_free",
          "new_api": "av_freep",
          "old_text": "swr_free(&ost->swr)",
          "new_text": "av_freep(&ost->st->codec->subtitle_header)",
          "old_line_content": "                swr_free(&ost->swr);",
          "new_line_content": "                av_freep(&ost->st->codec->subtitle_header);",
          "content_same": false
        },
        {
          "line": 2719,
          "old_api": "av_dict_free",
          "new_api": "av_free",
          "old_text": "av_dict_free(&ost->opts)",
          "new_text": "av_free(ost->resample_frame.data[0])",
          "old_line_content": "                av_dict_free(&ost->opts);",
          "new_line_content": "                av_free(ost->resample_frame.data[0]);",
          "content_same": false
        },
        {
          "line": 2740,
          "old_api": "av_log",
          "new_api": "AVERROR",
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Option '%s' has been removed, use the pad filter instead\\n\", opt)",
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "    av_log(NULL, AV_LOG_FATAL, \"Option '%s' has been removed, use the pad filter instead\\n\", opt);",
          "new_line_content": "    return AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 2776,
          "old_api": "av_log",
          "new_api": "opt_default",
          "old_text": "av_log(NULL, AV_LOG_WARNING, \"This option is deprecated, use -standard.\\n\")",
          "new_text": "opt_default(\"channel\", arg)",
          "old_line_content": "    av_log(NULL, AV_LOG_WARNING, \"This option is deprecated, use -standard.\\n\");",
          "new_line_content": "    return opt_default(\"channel\", arg);",
          "content_same": false
        },
        {
          "line": 2820,
          "old_api": "strtol",
          "new_api": "av_strdup",
          "old_text": "strtol(sync + 1, &sync, 0)",
          "new_text": "av_strdup(arg)",
          "old_line_content": "        sync_file_idx = strtol(sync + 1, &sync, 0);",
          "new_line_content": "    map = av_strdup(arg);",
          "content_same": false
        },
        {
          "line": 2823,
          "old_api": "exit_program",
          "new_api": "strchr",
          "old_text": "exit_program(1)",
          "new_text": "strchr(map, ',')",
          "old_line_content": "            exit_program(1);",
          "new_line_content": "    if (sync = strchr(map, ',')) {",
          "content_same": false
        },
        {
          "line": 2828,
          "old_api": "check_stream_specifier",
          "new_api": "exit_program",
          "old_text": "check_stream_specifier(input_files[sync_file_idx].ctx,\n                                       input_files[sync_file_idx].ctx->streams[i], sync)",
          "new_text": "exit_program(1)",
          "old_line_content": "            if (check_stream_specifier(input_files[sync_file_idx].ctx,",
          "new_line_content": "            exit_program(1);",
          "content_same": false
        },
        {
          "line": 2841,
          "old_api": "strtol",
          "new_api": "exit_program",
          "old_text": "strtol(map, &p, 0)",
          "new_text": "exit_program(1)",
          "old_line_content": "    file_idx = strtol(map, &p, 0);",
          "new_line_content": "            exit_program(1);",
          "content_same": false
        },
        {
          "line": 2916,
          "old_api": "parse_meta_type",
          "new_api": "grow_array",
          "old_text": "parse_meta_type(*p ? p + 1 : p, &m->type, &m->index)",
          "new_text": "grow_array(o->meta_data_maps, sizeof(*o->meta_data_maps),\n                                   &o->nb_meta_data_maps, o->nb_meta_data_maps + 1)",
          "old_line_content": "    parse_meta_type(*p ? p + 1 : p, &m->type, &m->index);",
          "new_line_content": "    o->meta_data_maps = grow_array(o->meta_data_maps, sizeof(*o->meta_data_maps),",
          "content_same": false
        },
        {
          "line": 2920,
          "old_api": "parse_meta_type",
          "new_api": "strtol",
          "old_text": "parse_meta_type(p + 1, &m1->type, &m1->index)",
          "new_text": "strtol(arg, &p, 0)",
          "old_line_content": "        parse_meta_type(p + 1, &m1->type, &m1->index);",
          "new_line_content": "    m->file = strtol(arg, &p, 0);",
          "content_same": false
        },
        {
          "line": 2949,
          "old_api": "av_log",
          "new_api": "parse_time_or_die",
          "old_text": "av_log(NULL, AV_LOG_WARNING, \"%s is deprecated, set the 'creation_time' metadata \"\n                                 \"tag instead.\\n\", opt)",
          "new_text": "parse_time_or_die(opt, arg, 0)",
          "old_line_content": "    av_log(NULL, AV_LOG_WARNING, \"%s is deprecated, set the 'creation_time' metadata \"",
          "new_line_content": "    int64_t recording_timestamp = parse_time_or_die(opt, arg, 0) / 1E6;",
          "content_same": false
        },
        {
          "line": 2970,
          "old_api": "exit_program",
          "new_api": "av_log",
          "old_text": "exit_program(1)",
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Unknown %s '%s'\\n\", codec_string, name)",
          "old_line_content": "        exit_program(1);",
          "new_line_content": "        av_log(NULL, AV_LOG_FATAL, \"Unknown %s '%s'\\n\", codec_string, name);",
          "content_same": false
        },
        {
          "line": 2984,
          "old_api": "avcodec_find_encoder",
          "new_api": "MATCH_PER_STREAM_OPT",
          "old_text": "avcodec_find_encoder(st->codec->codec_id)",
          "new_text": "MATCH_PER_STREAM_OPT(codec_names, str, codec_name, s, st)",
          "old_line_content": "            return avcodec_find_encoder(st->codec->codec_id);",
          "new_line_content": "    MATCH_PER_STREAM_OPT(codec_names, str, codec_name, s, st);",
          "content_same": false
        },
        {
          "line": 2989,
          "old_api": "find_codec_or_die",
          "new_api": "avcodec_find_encoder",
          "old_text": "find_codec_or_die(codec_name, type, s->iformat == NULL)",
          "new_text": "avcodec_find_encoder(st->codec->codec_id)",
          "old_line_content": "        st->codec->codec_id = find_codec_or_die(codec_name, type, s->iformat == NULL);",
          "new_line_content": "            return avcodec_find_encoder(st->codec->codec_id);",
          "content_same": false
        },
        {
          "line": 2991,
          "old_api": "avcodec_find_decoder_by_name",
          "new_api": "strcmp",
          "old_text": "avcodec_find_decoder_by_name(codec_name)",
          "new_text": "strcmp(codec_name, \"copy\")",
          "old_line_content": "                            avcodec_find_decoder_by_name(codec_name);",
          "new_line_content": "    } else if (!strcmp(codec_name, \"copy\"))",
          "content_same": false
        },
        {
          "line": 3016,
          "old_api": "filter_codec_opts",
          "new_api": "grow_array",
          "old_text": "filter_codec_opts(codec_opts, ist->st->codec->codec_id, ic, st)",
          "new_text": "grow_array(input_streams, sizeof(*input_streams), &nb_input_streams, nb_input_streams + 1)",
          "old_line_content": "        ist->opts = filter_codec_opts(codec_opts, ist->st->codec->codec_id, ic, st);",
          "new_line_content": "        input_streams = grow_array(input_streams, sizeof(*input_streams), &nb_input_streams, nb_input_streams + 1);",
          "content_same": false
        },
        {
          "line": 3021,
          "old_api": "choose_codec",
          "new_api": "filter_codec_opts",
          "old_text": "choose_codec(o, ic, st, dec->codec_type)",
          "new_text": "filter_codec_opts(codec_opts, ist->st->codec->codec_id, ic, st)",
          "old_line_content": "        ist->dec = choose_codec(o, ic, st, dec->codec_type);",
          "new_line_content": "        ist->opts = filter_codec_opts(codec_opts, ist->st->codec->codec_id, ic, st);",
          "content_same": false
        },
        {
          "line": 3023,
          "old_api": "avcodec_find_decoder",
          "new_api": "MATCH_PER_STREAM_OPT",
          "old_text": "avcodec_find_decoder(dec->codec_id)",
          "new_text": "MATCH_PER_STREAM_OPT(ts_scale, dbl, scale, ic, st)",
          "old_line_content": "            ist->dec = avcodec_find_decoder(dec->codec_id);",
          "new_line_content": "        MATCH_PER_STREAM_OPT(ts_scale, dbl, scale, ic, st);",
          "content_same": false
        },
        {
          "line": 3087,
          "old_api": "strcmp",
          "new_api": "av_log",
          "old_text": "strcmp(filename, \"-\")",
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Unknown input format: '%s'\\n\", o->format)",
          "old_line_content": "    if (!strcmp(filename, \"-\"))",
          "new_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Unknown input format: '%s'\\n\", o->format);",
          "content_same": false
        },
        {
          "line": 3096,
          "old_api": "AVERROR",
          "new_api": "strcmp",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "strcmp(filename, \"/dev/stdin\")",
          "old_line_content": "        print_error(filename, AVERROR(ENOMEM));",
          "new_line_content": "                    !strcmp(filename, \"/dev/stdin\");",
          "content_same": false
        },
        {
          "line": 3101,
          "old_api": "av_dict_set",
          "new_api": "AVERROR",
          "old_text": "av_dict_set(&format_opts, \"sample_rate\", buf, 0)",
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "        av_dict_set(&format_opts, \"sample_rate\", buf, 0);",
          "new_line_content": "        print_error(filename, AVERROR(ENOMEM));",
          "content_same": false
        },
        {
          "line": 3105,
          "old_api": "av_dict_set",
          "new_api": "snprintf",
          "old_text": "av_dict_set(&format_opts, \"channels\", buf, 0)",
          "new_text": "snprintf(buf, sizeof(buf), \"%d\", o->audio_sample_rate[o->nb_audio_sample_rate - 1].u.i)",
          "old_line_content": "        av_dict_set(&format_opts, \"channels\", buf, 0);",
          "new_line_content": "        snprintf(buf, sizeof(buf), \"%d\", o->audio_sample_rate[o->nb_audio_sample_rate - 1].u.i);",
          "content_same": false
        },
        {
          "line": 3119,
          "old_api": "av_log",
          "new_api": "av_dict_set",
          "old_text": "av_log(NULL, AV_LOG_WARNING, \"-loop_input is deprecated, use -loop 1\\n\")",
          "new_text": "av_dict_set(&format_opts, \"pixel_format\", o->frame_pix_fmts[o->nb_frame_pix_fmts - 1].u.str, 0)",
          "old_line_content": "        av_log(NULL, AV_LOG_WARNING, \"-loop_input is deprecated, use -loop 1\\n\");",
          "new_line_content": "        av_dict_set(&format_opts, \"pixel_format\", o->frame_pix_fmts[o->nb_frame_pix_fmts - 1].u.str, 0);",
          "content_same": false
        },
        {
          "line": 3124,
          "old_api": "avformat_open_input",
          "new_api": "av_log",
          "old_text": "avformat_open_input(&ic, filename, file_iformat, &format_opts)",
          "new_text": "av_log(NULL, AV_LOG_WARNING, \"-loop_input is deprecated, use -loop 1\\n\")",
          "old_line_content": "    err = avformat_open_input(&ic, filename, file_iformat, &format_opts);",
          "new_line_content": "        av_log(NULL, AV_LOG_WARNING, \"-loop_input is deprecated, use -loop 1\\n\");",
          "content_same": false
        },
        {
          "line": 3129,
          "old_api": "assert_avoptions",
          "new_api": "avformat_open_input",
          "old_text": "assert_avoptions(format_opts)",
          "new_text": "avformat_open_input(&ic, filename, file_iformat, &format_opts)",
          "old_line_content": "    assert_avoptions(format_opts);",
          "new_line_content": "    err = avformat_open_input(&ic, filename, file_iformat, &format_opts);",
          "content_same": false
        },
        {
          "line": 3141,
          "old_api": "avformat_find_stream_info",
          "new_api": "setup_find_stream_info_opts",
          "old_text": "avformat_find_stream_info(ic, opts)",
          "new_text": "setup_find_stream_info_opts(ic, codec_opts)",
          "old_line_content": "    ret = avformat_find_stream_info(ic, opts);",
          "new_line_content": "    opts = setup_find_stream_info_opts(ic, codec_opts);",
          "content_same": false
        },
        {
          "line": 3168,
          "old_api": "grow_array",
          "new_api": "add_input_streams",
          "old_text": "grow_array(input_files, sizeof(*input_files), &nb_input_files, nb_input_files + 1)",
          "new_text": "add_input_streams(o, ic)",
          "old_line_content": "    input_files = grow_array(input_files, sizeof(*input_files), &nb_input_files, nb_input_files + 1);",
          "new_line_content": "    add_input_streams(o, ic);",
          "content_same": false
        },
        {
          "line": 3199,
          "old_api": "parse_time_or_die",
          "new_api": "av_log",
          "old_text": "parse_time_or_die(\"force_key_frames\", p, 1)",
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Could not allocate forced key frames array.\\n\")",
          "old_line_content": "        ost->forced_kf_pts[i] = parse_time_or_die(\"force_key_frames\", p, 1);",
          "new_line_content": "        av_log(NULL, AV_LOG_FATAL, \"Could not allocate forced key frames array.\\n\");",
          "content_same": false
        },
        {
          "line": 3230,
          "old_api": "avcodec_get_context_defaults3",
          "new_api": "choose_codec",
          "old_text": "avcodec_get_context_defaults3(st->codec, ost->enc)",
          "new_text": "choose_codec(o, oc, st, type)",
          "old_line_content": "    avcodec_get_context_defaults3(st->codec, ost->enc);",
          "new_line_content": "    ost->enc = choose_codec(o, oc, st, type);",
          "content_same": false
        },
        {
          "line": 3238,
          "old_api": "strchr",
          "new_api": "MATCH_PER_STREAM_OPT",
          "old_text": "strchr(bsf, ',')",
          "new_text": "MATCH_PER_STREAM_OPT(max_frames, i64, max_frames, oc, st)",
          "old_line_content": "        if (next = strchr(bsf, ','))",
          "new_line_content": "    MATCH_PER_STREAM_OPT(max_frames, i64, max_frames, oc, st);",
          "content_same": false
        },
        {
          "line": 3241,
          "old_api": "av_log",
          "new_api": "MATCH_PER_STREAM_OPT",
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Unknown bitstream filter %s\\n\", bsf)",
          "new_text": "MATCH_PER_STREAM_OPT(bitstream_filters, str, bsf, oc, st)",
          "old_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Unknown bitstream filter %s\\n\", bsf);",
          "new_line_content": "    MATCH_PER_STREAM_OPT(bitstream_filters, str, bsf, oc, st);",
          "content_same": false
        },
        {
          "line": 3284,
          "old_api": "av_log",
          "new_api": "atoi",
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Syntax error in matrix \\\"%s\\\" at coeff %d\\n\", str, i)",
          "new_text": "atoi(p)",
          "old_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Syntax error in matrix \\\"%s\\\" at coeff %d\\n\", str, i);",
          "new_line_content": "        dest[i] = atoi(p);",
          "content_same": false
        },
        {
          "line": 3314,
          "old_api": "MATCH_PER_STREAM_OPT",
          "new_api": "av_parse_video_rate",
          "old_text": "MATCH_PER_STREAM_OPT(frame_sizes, str, frame_size, oc, st)",
          "new_text": "av_parse_video_rate(&ost->frame_rate, frame_rate)",
          "old_line_content": "        MATCH_PER_STREAM_OPT(frame_sizes, str, frame_size, oc, st);",
          "new_line_content": "        if (frame_rate && av_parse_video_rate(&ost->frame_rate, frame_rate) < 0) {",
          "content_same": false
        },
        {
          "line": 3315,
          "old_api": "av_parse_video_size",
          "new_api": "av_log",
          "old_text": "av_parse_video_size(&video_enc->width, &video_enc->height, frame_size)",
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Invalid framerate value: %s\\n\", frame_rate)",
          "old_line_content": "        if (frame_size && av_parse_video_size(&video_enc->width, &video_enc->height, frame_size) < 0) {",
          "new_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Invalid framerate value: %s\\n\", frame_rate);",
          "content_same": false
        },
        {
          "line": 3316,
          "old_api": "av_log",
          "new_api": "exit_program",
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Invalid frame size: %s.\\n\", frame_size)",
          "new_text": "exit_program(1)",
          "old_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Invalid frame size: %s.\\n\", frame_size);",
          "new_line_content": "            exit_program(1);",
          "content_same": false
        },
        {
          "line": 3320,
          "old_api": "MATCH_PER_STREAM_OPT",
          "new_api": "av_parse_video_size",
          "old_text": "MATCH_PER_STREAM_OPT(frame_aspect_ratios, str, frame_aspect_ratio, oc, st)",
          "new_text": "av_parse_video_size(&video_enc->width, &video_enc->height, frame_size)",
          "old_line_content": "        MATCH_PER_STREAM_OPT(frame_aspect_ratios, str, frame_aspect_ratio, oc, st);",
          "new_line_content": "        if (frame_size && av_parse_video_size(&video_enc->width, &video_enc->height, frame_size) < 0) {",
          "content_same": false
        },
        {
          "line": 3322,
          "old_api": "parse_frame_aspect_ratio",
          "new_api": "exit_program",
          "old_text": "parse_frame_aspect_ratio(frame_aspect_ratio)",
          "new_text": "exit_program(1)",
          "old_line_content": "            ost->frame_aspect_ratio = parse_frame_aspect_ratio(frame_aspect_ratio);",
          "new_line_content": "            exit_program(1);",
          "content_same": false
        },
        {
          "line": 3327,
          "old_api": "av_log",
          "new_api": "parse_frame_aspect_ratio",
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Unknown pixel format requested: %s.\\n\", frame_pix_fmt)",
          "new_text": "parse_frame_aspect_ratio(frame_aspect_ratio)",
          "old_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Unknown pixel format requested: %s.\\n\", frame_pix_fmt);",
          "new_line_content": "            ost->frame_aspect_ratio = parse_frame_aspect_ratio(frame_aspect_ratio);",
          "content_same": false
        },
        {
          "line": 3342,
          "old_api": "MATCH_PER_STREAM_OPT",
          "new_api": "av_log",
          "old_text": "MATCH_PER_STREAM_OPT(inter_matrices, str, inter_matrix, oc, st)",
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Could not allocate memory for intra matrix.\\n\")",
          "old_line_content": "        MATCH_PER_STREAM_OPT(inter_matrices, str, inter_matrix, oc, st);",
          "new_line_content": "                av_log(NULL, AV_LOG_FATAL, \"Could not allocate memory for intra matrix.\\n\");",
          "content_same": false
        },
        {
          "line": 3345,
          "old_api": "av_log",
          "new_api": "parse_matrix_coeffs",
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Could not allocate memory for inter matrix.\\n\")",
          "new_text": "parse_matrix_coeffs(video_enc->intra_matrix, intra_matrix)",
          "old_line_content": "                av_log(NULL, AV_LOG_FATAL, \"Could not allocate memory for inter matrix.\\n\");",
          "new_line_content": "            parse_matrix_coeffs(video_enc->intra_matrix, intra_matrix);",
          "content_same": false
        },
        {
          "line": 3351,
          "old_api": "MATCH_PER_STREAM_OPT",
          "new_api": "exit_program",
          "old_text": "MATCH_PER_STREAM_OPT(rc_overrides, str, p, oc, st)",
          "new_text": "exit_program(1)",
          "old_line_content": "        MATCH_PER_STREAM_OPT(rc_overrides, str, p, oc, st);",
          "new_line_content": "                exit_program(1);",
          "content_same": false
        },
        {
          "line": 3356,
          "old_api": "av_log",
          "new_api": "MATCH_PER_STREAM_OPT",
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"error parsing rc_override\\n\")",
          "new_text": "MATCH_PER_STREAM_OPT(rc_overrides, str, p, oc, st)",
          "old_line_content": "                av_log(NULL, AV_LOG_FATAL, \"error parsing rc_override\\n\");",
          "new_line_content": "        MATCH_PER_STREAM_OPT(rc_overrides, str, p, oc, st);",
          "content_same": false
        },
        {
          "line": 3361,
          "old_api": "av_realloc",
          "new_api": "av_log",
          "old_text": "av_realloc(video_enc->rc_override,\n                           sizeof(RcOverride)*(i+1))",
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"error parsing rc_override\\n\")",
          "old_line_content": "                av_realloc(video_enc->rc_override,",
          "new_line_content": "                av_log(NULL, AV_LOG_FATAL, \"error parsing rc_override\\n\");",
          "content_same": false
        },
        {
          "line": 3397,
          "old_api": "MATCH_PER_STREAM_OPT",
          "new_api": "parse_forced_key_frames",
          "old_text": "MATCH_PER_STREAM_OPT(top_field_first, i, top_field_first, oc, st)",
          "new_text": "parse_forced_key_frames(forced_key_frames, ost)",
          "old_line_content": "        MATCH_PER_STREAM_OPT(top_field_first, i, top_field_first, oc, st);",
          "new_line_content": "            parse_forced_key_frames(forced_key_frames, ost);",
          "content_same": false
        },
        {
          "line": 3430,
          "old_api": "av_log",
          "new_api": "MATCH_PER_STREAM_OPT",
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Invalid sample format '%s'\\n\", sample_fmt)",
          "new_text": "MATCH_PER_STREAM_OPT(audio_channels, i, audio_enc->channels, oc, st)",
          "old_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Invalid sample format '%s'\\n\", sample_fmt);",
          "new_line_content": "        MATCH_PER_STREAM_OPT(audio_channels, i, audio_enc->channels, oc, st);",
          "content_same": false
        },
        {
          "line": 3434,
          "old_api": "MATCH_PER_STREAM_OPT",
          "new_api": "av_get_sample_fmt",
          "old_text": "MATCH_PER_STREAM_OPT(audio_sample_rate, i, audio_enc->sample_rate, oc, st)",
          "new_text": "av_get_sample_fmt(sample_fmt)",
          "old_line_content": "        MATCH_PER_STREAM_OPT(audio_sample_rate, i, audio_enc->sample_rate, oc, st);",
          "new_line_content": "            (audio_enc->sample_fmt = av_get_sample_fmt(sample_fmt)) == AV_SAMPLE_FMT_NONE) {",
          "content_same": false
        },
        {
          "line": 3490,
          "old_api": "exit_program",
          "new_api": "strchr",
          "old_text": "exit_program(1)",
          "new_text": "strchr(idx_str, ':')",
          "old_line_content": "        exit_program(1);",
          "new_line_content": "    p = strchr(idx_str, ':');",
          "content_same": false
        },
        {
          "line": 3495,
          "old_api": "parse_number_or_die",
          "new_api": "exit_program",
          "old_text": "parse_number_or_die(opt, p, OPT_INT, 0, INT_MAX)",
          "new_text": "exit_program(1)",
          "old_line_content": "    o->streamid_map[idx] = parse_number_or_die(opt, p, OPT_INT, 0, INT_MAX);",
          "new_line_content": "        exit_program(1);",
          "content_same": false
        },
        {
          "line": 3525,
          "old_api": "FFMIN",
          "new_api": "AVERROR",
          "old_text": "FFMIN(rt, in_ch->end   - ts_off)",
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "        out_ch->end       = FFMIN(rt, in_ch->end   - ts_off);",
          "new_line_content": "            return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 3533,
          "old_api": "AVERROR",
          "new_api": "av_dict_copy",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "av_dict_copy(&out_ch->metadata, in_ch->metadata, 0)",
          "old_line_content": "            return AVERROR(ENOMEM);",
          "new_line_content": "            av_dict_copy(&out_ch->metadata, in_ch->metadata, 0);",
          "content_same": false
        },
        {
          "line": 3558,
          "old_api": "memcpy",
          "new_api": "avcodec_find_encoder",
          "old_text": "memcpy(st, ic->streams[i], sizeof(AVStream))",
          "new_text": "avcodec_find_encoder(ic->streams[i]->codec->codec_id)",
          "old_line_content": "        memcpy(st, ic->streams[i], sizeof(AVStream));",
          "new_line_content": "        codec = avcodec_find_encoder(ic->streams[i]->codec->codec_id);",
          "content_same": false
        },
        {
          "line": 3559,
          "old_api": "av_malloc",
          "new_api": "new_output_stream",
          "old_text": "av_malloc(sizeof(*st->info))",
          "new_text": "new_output_stream(o, s, codec->type)",
          "old_line_content": "        st->info = av_malloc(sizeof(*st->info));",
          "new_line_content": "        ost   = new_output_stream(o, s, codec->type);",
          "content_same": false
        },
        {
          "line": 3564,
          "old_api": "choose_sample_fmt",
          "new_api": "av_malloc",
          "old_text": "choose_sample_fmt(st, codec)",
          "new_text": "av_malloc(sizeof(*st->info))",
          "old_line_content": "            choose_sample_fmt(st, codec);",
          "new_line_content": "        st->info = av_malloc(sizeof(*st->info));",
          "content_same": false
        },
        {
          "line": 3566,
          "old_api": "choose_pixel_fmt",
          "new_api": "avcodec_copy_context",
          "old_text": "choose_pixel_fmt(st, codec)",
          "new_text": "avcodec_copy_context(st->codec, ic->streams[i]->codec)",
          "old_line_content": "            choose_pixel_fmt(st, codec);",
          "new_line_content": "        avcodec_copy_context(st->codec, ic->streams[i]->codec);",
          "content_same": false
        },
        {
          "line": 3569,
          "old_api": "av_close_input_file",
          "new_api": "choose_sample_fmt",
          "old_text": "av_close_input_file(ic)",
          "new_text": "choose_sample_fmt(st, codec)",
          "old_line_content": "    av_close_input_file(ic);",
          "new_line_content": "            choose_sample_fmt(st, codec);",
          "content_same": false
        },
        {
          "line": 3587,
          "old_api": "print_error",
          "new_api": "strcmp",
          "old_text": "print_error(filename, err)",
          "new_text": "strcmp(filename, \"-\")",
          "old_line_content": "        print_error(filename, err);",
          "new_line_content": "    if (!strcmp(filename, \"-\"))",
          "content_same": false
        },
        {
          "line": 3592,
          "old_api": "strcmp",
          "new_api": "print_error",
          "old_text": "strcmp(file_oformat->name, \"ffm\")",
          "new_text": "print_error(filename, err)",
          "old_line_content": "    if (!strcmp(file_oformat->name, \"ffm\") &&",
          "new_line_content": "        print_error(filename, err);",
          "content_same": false
        },
        {
          "line": 3593,
          "old_api": "av_strstart",
          "new_api": "exit_program",
          "old_text": "av_strstart(filename, \"http:\", NULL)",
          "new_text": "exit_program(1)",
          "old_line_content": "        av_strstart(filename, \"http:\", NULL)) {",
          "new_line_content": "        exit_program(1);",
          "content_same": false
        },
        {
          "line": 3598,
          "old_api": "print_error",
          "new_api": "av_strstart",
          "old_text": "print_error(filename, err)",
          "new_text": "av_strstart(filename, \"http:\", NULL)",
          "old_line_content": "            print_error(filename, err);",
          "new_line_content": "        av_strstart(filename, \"http:\", NULL)) {",
          "content_same": false
        },
        {
          "line": 3670,
          "old_api": "av_log",
          "new_api": "new_audio_stream",
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Cannot map stream #%d.%d - unsupported type.\\n\",\n                       map->file_index, map->stream_index)",
          "new_text": "new_audio_stream(o, oc)",
          "old_line_content": "                av_log(NULL, AV_LOG_FATAL, \"Cannot map stream #%d.%d - unsupported type.\\n\",",
          "new_line_content": "            case AVMEDIA_TYPE_AUDIO:    ost = new_audio_stream(o, oc);    break;",
          "content_same": false
        },
        {
          "line": 3672,
          "old_api": "exit_program",
          "new_api": "new_data_stream",
          "old_text": "exit_program(1)",
          "new_text": "new_data_stream(o, oc)",
          "old_line_content": "                exit_program(1);",
          "new_line_content": "            case AVMEDIA_TYPE_DATA:     ost = new_data_stream(o, oc);     break;",
          "content_same": false
        },
        {
          "line": 3693,
          "old_api": "AVERROR",
          "new_api": "av_dict_copy",
          "old_text": "AVERROR(EINVAL)",
          "new_text": "av_dict_copy(&output_files[nb_output_files - 1].opts, format_opts, 0)",
          "old_line_content": "            print_error(oc->filename, AVERROR(EINVAL));",
          "new_line_content": "    av_dict_copy(&output_files[nb_output_files - 1].opts, format_opts, 0);",
          "content_same": false
        },
        {
          "line": 3706,
          "old_api": "fprintf",
          "new_api": "strchr",
          "old_text": "fprintf(stderr,\"File '%s' already exists. Overwrite ? [y/N] \", filename)",
          "new_text": "strchr(filename, ':')",
          "old_line_content": "                    fprintf(stderr,\"File '%s' already exists. Overwrite ? [y/N] \", filename);",
          "new_line_content": "            (strchr(filename, ':') == NULL ||",
          "content_same": false
        },
        {
          "line": 3708,
          "old_api": "read_yn",
          "new_api": "av_strstart",
          "old_text": "read_yn()",
          "new_text": "av_strstart(filename, \"file:\", NULL)",
          "old_line_content": "                    if (!read_yn()) {",
          "new_line_content": "             av_strstart(filename, \"file:\", NULL))) {",
          "content_same": false
        },
        {
          "line": 3709,
          "old_api": "av_log",
          "new_api": "avio_check",
          "old_text": "av_log(0, AV_LOG_FATAL, \"\\nNot overwriting - exiting\\n\")",
          "new_text": "avio_check(filename, 0)",
          "old_line_content": "                        av_log(0, AV_LOG_FATAL, \"\\nNot overwriting - exiting\\n\");",
          "new_line_content": "            if (avio_check(filename, 0) == 0) {",
          "content_same": false
        },
        {
          "line": 3712,
          "old_api": "fprintf",
          "new_api": "fflush",
          "old_text": "fprintf(stderr,\"\\n\")",
          "new_text": "fflush(stderr)",
          "old_line_content": "                    fprintf(stderr,\"\\n\");",
          "new_line_content": "                    fflush(stderr);",
          "content_same": false
        },
        {
          "line": 3715,
          "old_api": "av_log",
          "new_api": "exit_program",
          "old_text": "av_log(0, AV_LOG_FATAL,\"File '%s' already exists. Exiting.\\n\", filename)",
          "new_text": "exit_program(1)",
          "old_line_content": "                    av_log(0, AV_LOG_FATAL,\"File '%s' already exists. Exiting.\\n\", filename);",
          "new_line_content": "                        exit_program(1);",
          "content_same": false
        },
        {
          "line": 3812,
          "old_api": "av_dict_copy",
          "new_api": "av_dict_set",
          "old_text": "av_dict_copy(&output_streams[i].st->metadata, ist->st->metadata, AV_DICT_DONT_OVERWRITE)",
          "new_text": "av_dict_set(&oc->metadata, \"duration\", NULL, 0)",
          "old_line_content": "            av_dict_copy(&output_streams[i].st->metadata, ist->st->metadata, AV_DICT_DONT_OVERWRITE);",
          "new_line_content": "            av_dict_set(&oc->metadata, \"duration\", NULL, 0);",
          "content_same": false
        },
        {
          "line": 3849,
          "old_api": "av_log",
          "new_api": "exit_program",
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Invalid metadata specifier %s.\\n\", o->metadata[i].specifier)",
          "new_text": "exit_program(1)",
          "old_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Invalid metadata specifier %s.\\n\", o->metadata[i].specifier);",
          "new_line_content": "                exit_program(1);",
          "content_same": false
        },
        {
          "line": 3876,
          "old_api": "GetCurrentProcess",
          "new_api": "getrusage",
          "old_text": "GetCurrentProcess()",
          "new_text": "getrusage(RUSAGE_SELF, &rusage)",
          "old_line_content": "    proc = GetCurrentProcess();",
          "new_line_content": "    getrusage(RUSAGE_SELF, &rusage);",
          "content_same": false
        },
        {
          "line": 3893,
          "old_api": "GetCurrentProcess",
          "new_api": "getrusage",
          "old_text": "GetCurrentProcess()",
          "new_text": "getrusage(RUSAGE_SELF, &rusage)",
          "old_line_content": "    proc = GetCurrentProcess();",
          "new_line_content": "    getrusage(RUSAGE_SELF, &rusage);",
          "content_same": false
        },
        {
          "line": 3909,
          "old_api": "printf",
          "new_api": "parse_option",
          "old_text": "printf(\"Hyper fast Audio and Video encoder\\n\")",
          "new_text": "parse_option(o, \"q:a\", arg, options)",
          "old_line_content": "    printf(\"Hyper fast Audio and Video encoder\\n\");",
          "new_line_content": "    return parse_option(o, \"q:a\", arg, options);",
          "content_same": false
        },
        {
          "line": 3948,
          "old_api": "av_opt_show2",
          "new_api": "show_help_options",
          "old_text": "av_opt_show2(&class, NULL, AV_OPT_FLAG_ENCODING_PARAM|AV_OPT_FLAG_DECODING_PARAM, 0)",
          "new_text": "show_help_options(options, \"\\nAudio/Video grab options:\\n\",\n                      OPT_GRAB,\n                      OPT_GRAB)",
          "old_line_content": "    av_opt_show2(&class, NULL, AV_OPT_FLAG_ENCODING_PARAM|AV_OPT_FLAG_DECODING_PARAM, 0);",
          "new_line_content": "    show_help_options(options, \"\\nAudio/Video grab options:\\n\",",
          "content_same": false
        },
        {
          "line": 3953,
          "old_api": "av_codec_next",
          "new_api": "av_opt_show2",
          "old_text": "av_codec_next(c)",
          "new_text": "av_opt_show2(&class, NULL, AV_OPT_FLAG_ENCODING_PARAM|AV_OPT_FLAG_DECODING_PARAM, 0)",
          "old_line_content": "    while ((c = av_codec_next(c))) {",
          "new_line_content": "    av_opt_show2(&class, NULL, AV_OPT_FLAG_ENCODING_PARAM|AV_OPT_FLAG_DECODING_PARAM, 0);",
          "content_same": false
        },
        {
          "line": 3961,
          "old_api": "av_opt_show2",
          "new_api": "printf",
          "old_text": "av_opt_show2(&class, NULL, AV_OPT_FLAG_ENCODING_PARAM|AV_OPT_FLAG_DECODING_PARAM, 0)",
          "new_text": "printf(\"\\n\")",
          "old_line_content": "    av_opt_show2(&class, NULL, AV_OPT_FLAG_ENCODING_PARAM|AV_OPT_FLAG_DECODING_PARAM, 0);",
          "new_line_content": "            printf(\"\\n\");",
          "content_same": false
        },
        {
          "line": 3967,
          "old_api": "av_opt_show2",
          "new_api": "printf",
          "old_text": "av_opt_show2(&oformat->priv_class, NULL, AV_OPT_FLAG_ENCODING_PARAM, 0)",
          "new_text": "printf(\"\\n\")",
          "old_line_content": "            av_opt_show2(&oformat->priv_class, NULL, AV_OPT_FLAG_ENCODING_PARAM, 0);",
          "new_line_content": "    printf(\"\\n\");",
          "content_same": false
        },
        {
          "line": 3973,
          "old_api": "av_iformat_next",
          "new_api": "printf",
          "old_text": "av_iformat_next(iformat)",
          "new_text": "printf(\"\\n\")",
          "old_line_content": "    while ((iformat = av_iformat_next(iformat))) {",
          "new_line_content": "            printf(\"\\n\");",
          "content_same": false
        },
        {
          "line": 3981,
          "old_api": "av_opt_show2",
          "new_api": "printf",
          "old_text": "av_opt_show2(&class, NULL, AV_OPT_FLAG_ENCODING_PARAM|AV_OPT_FLAG_DECODING_PARAM, 0)",
          "new_text": "printf(\"\\n\")",
          "old_line_content": "    av_opt_show2(&class, NULL, AV_OPT_FLAG_ENCODING_PARAM|AV_OPT_FLAG_DECODING_PARAM, 0);",
          "new_line_content": "            printf(\"\\n\");",
          "content_same": false
        },
        {
          "line": 4032,
          "old_api": "strcmp",
          "new_api": "av_log",
          "old_text": "strcmp(arg, \"vcd\")",
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Please prefix target with \\\"pal-\\\", \\\"ntsc-\\\" or \\\"film-\\\",\\n\")",
          "old_line_content": "    if(!strcmp(arg, \"vcd\")) {",
          "new_line_content": "        av_log(NULL, AV_LOG_FATAL, \"Please prefix target with \\\"pal-\\\", \\\"ntsc-\\\" or \\\"film-\\\",\\n\");",
          "content_same": false
        },
        {
          "line": 4033,
          "old_api": "opt_video_codec",
          "new_api": "av_log",
          "old_text": "opt_video_codec(o, \"c:v\", \"mpeg1video\")",
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"or set a framerate with \\\"-r xxx\\\".\\n\")",
          "old_line_content": "        opt_video_codec(o, \"c:v\", \"mpeg1video\");",
          "new_line_content": "        av_log(NULL, AV_LOG_FATAL, \"or set a framerate with \\\"-r xxx\\\".\\n\");",
          "content_same": false
        },
        {
          "line": 4034,
          "old_api": "opt_audio_codec",
          "new_api": "exit_program",
          "old_text": "opt_audio_codec(o, \"c:a\", \"mp2\")",
          "new_text": "exit_program(1)",
          "old_line_content": "        opt_audio_codec(o, \"c:a\", \"mp2\");",
          "new_line_content": "        exit_program(1);",
          "content_same": false
        },
        {
          "line": 4037,
          "old_api": "parse_option",
          "new_api": "strcmp",
          "old_text": "parse_option(o, \"s\", norm == PAL ? \"352x288\" : \"352x240\", options)",
          "new_text": "strcmp(arg, \"vcd\")",
          "old_line_content": "        parse_option(o, \"s\", norm == PAL ? \"352x288\" : \"352x240\", options);",
          "new_line_content": "    if(!strcmp(arg, \"vcd\")) {",
          "content_same": false
        },
        {
          "line": 4038,
          "old_api": "parse_option",
          "new_api": "opt_video_codec",
          "old_text": "parse_option(o, \"r\", frame_rates[norm], options)",
          "new_text": "opt_video_codec(o, \"c:v\", \"mpeg1video\")",
          "old_line_content": "        parse_option(o, \"r\", frame_rates[norm], options);",
          "new_line_content": "        opt_video_codec(o, \"c:v\", \"mpeg1video\");",
          "content_same": false
        },
        {
          "line": 4039,
          "old_api": "opt_default",
          "new_api": "opt_audio_codec",
          "old_text": "opt_default(\"g\", norm == PAL ? \"15\" : \"18\")",
          "new_text": "opt_audio_codec(o, \"c:a\", \"mp2\")",
          "old_line_content": "        opt_default(\"g\", norm == PAL ? \"15\" : \"18\");",
          "new_line_content": "        opt_audio_codec(o, \"c:a\", \"mp2\");",
          "content_same": false
        },
        {
          "line": 4042,
          "old_api": "opt_default",
          "new_api": "parse_option",
          "old_text": "opt_default(\"maxrate\", \"1150000\")",
          "new_text": "parse_option(o, \"s\", norm == PAL ? \"352x288\" : \"352x240\", options)",
          "old_line_content": "        opt_default(\"maxrate\", \"1150000\");",
          "new_line_content": "        parse_option(o, \"s\", norm == PAL ? \"352x288\" : \"352x240\", options);",
          "content_same": false
        },
        {
          "line": 4043,
          "old_api": "opt_default",
          "new_api": "parse_option",
          "old_text": "opt_default(\"minrate\", \"1150000\")",
          "new_text": "parse_option(o, \"r\", frame_rates[norm], options)",
          "old_line_content": "        opt_default(\"minrate\", \"1150000\");",
          "new_line_content": "        parse_option(o, \"r\", frame_rates[norm], options);",
          "content_same": false
        },
        {
          "line": 4047,
          "old_api": "parse_option",
          "new_api": "opt_default",
          "old_text": "parse_option(o, \"ar\", \"44100\", options)",
          "new_text": "opt_default(\"maxrate\", \"1150000\")",
          "old_line_content": "        parse_option(o, \"ar\", \"44100\", options);",
          "new_line_content": "        opt_default(\"maxrate\", \"1150000\");",
          "content_same": false
        },
        {
          "line": 4048,
          "old_api": "parse_option",
          "new_api": "opt_default",
          "old_text": "parse_option(o, \"ac\", \"2\", options)",
          "new_text": "opt_default(\"minrate\", \"1150000\")",
          "old_line_content": "        parse_option(o, \"ac\", \"2\", options);",
          "new_line_content": "        opt_default(\"minrate\", \"1150000\");",
          "content_same": false
        },
        {
          "line": 4066,
          "old_api": "parse_option",
          "new_api": "opt_video_codec",
          "old_text": "parse_option(o, \"r\", frame_rates[norm], options)",
          "new_text": "opt_video_codec(o, \"c:v\", \"mpeg2video\")",
          "old_line_content": "        parse_option(o, \"r\", frame_rates[norm], options);",
          "new_line_content": "        opt_video_codec(o, \"c:v\", \"mpeg2video\");",
          "content_same": false
        },
        {
          "line": 4067,
          "old_api": "parse_option",
          "new_api": "opt_audio_codec",
          "old_text": "parse_option(o, \"pix_fmt\", \"yuv420p\", options)",
          "new_text": "opt_audio_codec(o, \"c:a\", \"mp2\")",
          "old_line_content": "        parse_option(o, \"pix_fmt\", \"yuv420p\", options);",
          "new_line_content": "        opt_audio_codec(o, \"c:a\", \"mp2\");",
          "content_same": false
        },
        {
          "line": 4068,
          "old_api": "opt_default",
          "new_api": "parse_option",
          "old_text": "opt_default(\"g\", norm == PAL ? \"15\" : \"18\")",
          "new_text": "parse_option(o, \"f\", \"svcd\", options)",
          "old_line_content": "        opt_default(\"g\", norm == PAL ? \"15\" : \"18\");",
          "new_line_content": "        parse_option(o, \"f\", \"svcd\", options);",
          "content_same": false
        },
        {
          "line": 4070,
          "old_api": "opt_default",
          "new_api": "parse_option",
          "old_text": "opt_default(\"b\", \"2040000\")",
          "new_text": "parse_option(o, \"s\", norm == PAL ? \"480x576\" : \"480x480\", options)",
          "old_line_content": "        opt_default(\"b\", \"2040000\");",
          "new_line_content": "        parse_option(o, \"s\", norm == PAL ? \"480x576\" : \"480x480\", options);",
          "content_same": false
        },
        {
          "line": 4071,
          "old_api": "opt_default",
          "new_api": "parse_option",
          "old_text": "opt_default(\"maxrate\", \"2516000\")",
          "new_text": "parse_option(o, \"r\", frame_rates[norm], options)",
          "old_line_content": "        opt_default(\"maxrate\", \"2516000\");",
          "new_line_content": "        parse_option(o, \"r\", frame_rates[norm], options);",
          "content_same": false
        },
        {
          "line": 4072,
          "old_api": "opt_default",
          "new_api": "parse_option",
          "old_text": "opt_default(\"minrate\", \"0\")",
          "new_text": "parse_option(o, \"pix_fmt\", \"yuv420p\", options)",
          "old_line_content": "        opt_default(\"minrate\", \"0\"); //1145000;",
          "new_line_content": "        parse_option(o, \"pix_fmt\", \"yuv420p\", options);",
          "content_same": false
        },
        {
          "line": 4078,
          "old_api": "parse_option",
          "new_api": "opt_default",
          "old_text": "parse_option(o, \"ar\", \"44100\", options)",
          "new_text": "opt_default(\"bufsize\", \"1835008\")",
          "old_line_content": "        parse_option(o, \"ar\", \"44100\", options);",
          "new_line_content": "        opt_default(\"bufsize\", \"1835008\"); //224*1024*8;",
          "content_same": false
        },
        {
          "line": 4082,
          "old_api": "strcmp",
          "new_api": "opt_default",
          "old_text": "strcmp(arg, \"dvd\")",
          "new_text": "opt_default(\"b:a\", \"224000\")",
          "old_line_content": "    } else if(!strcmp(arg, \"dvd\")) {",
          "new_line_content": "        opt_default(\"b:a\", \"224000\");",
          "content_same": false
        },
        {
          "line": 4085,
          "old_api": "opt_audio_codec",
          "new_api": "opt_default",
          "old_text": "opt_audio_codec(o, \"c:a\", \"ac3\")",
          "new_text": "opt_default(\"packetsize\", \"2324\")",
          "old_line_content": "        opt_audio_codec(o, \"c:a\", \"ac3\");",
          "new_line_content": "        opt_default(\"packetsize\", \"2324\");",
          "content_same": false
        },
        {
          "line": 4089,
          "old_api": "parse_option",
          "new_api": "opt_video_codec",
          "old_text": "parse_option(o, \"r\", frame_rates[norm], options)",
          "new_text": "opt_video_codec(o, \"c:v\", \"mpeg2video\")",
          "old_line_content": "        parse_option(o, \"r\", frame_rates[norm], options);",
          "new_line_content": "        opt_video_codec(o, \"c:v\", \"mpeg2video\");",
          "content_same": false
        },
        {
          "line": 4090,
          "old_api": "parse_option",
          "new_api": "opt_audio_codec",
          "old_text": "parse_option(o, \"pix_fmt\", \"yuv420p\", options)",
          "new_text": "opt_audio_codec(o, \"c:a\", \"ac3\")",
          "old_line_content": "        parse_option(o, \"pix_fmt\", \"yuv420p\", options);",
          "new_line_content": "        opt_audio_codec(o, \"c:a\", \"ac3\");",
          "content_same": false
        },
        {
          "line": 4091,
          "old_api": "opt_default",
          "new_api": "parse_option",
          "old_text": "opt_default(\"g\", norm == PAL ? \"15\" : \"18\")",
          "new_text": "parse_option(o, \"f\", \"dvd\", options)",
          "old_line_content": "        opt_default(\"g\", norm == PAL ? \"15\" : \"18\");",
          "new_line_content": "        parse_option(o, \"f\", \"dvd\", options);",
          "content_same": false
        },
        {
          "line": 4093,
          "old_api": "opt_default",
          "new_api": "parse_option",
          "old_text": "opt_default(\"b\", \"6000000\")",
          "new_text": "parse_option(o, \"s\", norm == PAL ? \"720x576\" : \"720x480\", options)",
          "old_line_content": "        opt_default(\"b\", \"6000000\");",
          "new_line_content": "        parse_option(o, \"s\", norm == PAL ? \"720x576\" : \"720x480\", options);",
          "content_same": false
        },
        {
          "line": 4094,
          "old_api": "opt_default",
          "new_api": "parse_option",
          "old_text": "opt_default(\"maxrate\", \"9000000\")",
          "new_text": "parse_option(o, \"r\", frame_rates[norm], options)",
          "old_line_content": "        opt_default(\"maxrate\", \"9000000\");",
          "new_line_content": "        parse_option(o, \"r\", frame_rates[norm], options);",
          "content_same": false
        },
        {
          "line": 4095,
          "old_api": "opt_default",
          "new_api": "parse_option",
          "old_text": "opt_default(\"minrate\", \"0\")",
          "new_text": "parse_option(o, \"pix_fmt\", \"yuv420p\", options)",
          "old_line_content": "        opt_default(\"minrate\", \"0\"); //1500000;",
          "new_line_content": "        parse_option(o, \"pix_fmt\", \"yuv420p\", options);",
          "content_same": false
        },
        {
          "line": 4104,
          "old_api": "strncmp",
          "new_api": "opt_default",
          "old_text": "strncmp(arg, \"dv\", 2)",
          "new_text": "opt_default(\"muxrate\", \"10080000\")",
          "old_line_content": "    } else if(!strncmp(arg, \"dv\", 2)) {",
          "new_line_content": "        opt_default(\"muxrate\", \"10080000\"); // from mplex project: data_rate = 1260000. mux_rate = data_rate * 8",
          "content_same": false
        },
        {
          "line": 4106,
          "old_api": "parse_option",
          "new_api": "opt_default",
          "old_text": "parse_option(o, \"f\", \"dv\", options)",
          "new_text": "opt_default(\"b:a\", \"448000\")",
          "old_line_content": "        parse_option(o, \"f\", \"dv\", options);",
          "new_line_content": "        opt_default(\"b:a\", \"448000\");",
          "content_same": false
        },
        {
          "line": 4114,
          "old_api": "parse_option",
          "new_api": "strncmp",
          "old_text": "parse_option(o, \"ac\", \"2\", options)",
          "new_text": "strncmp(arg, \"dv50\", 4)",
          "old_line_content": "        parse_option(o, \"ac\", \"2\", options);",
          "new_line_content": "        parse_option(o, \"pix_fmt\", !strncmp(arg, \"dv50\", 4) ? \"yuv422p\" :",
          "content_same": false
        },
        {
          "line": 4118,
          "old_api": "AVERROR",
          "new_api": "parse_option",
          "old_text": "AVERROR(EINVAL)",
          "new_text": "parse_option(o, \"ar\", \"48000\", options)",
          "old_line_content": "        return AVERROR(EINVAL);",
          "new_line_content": "        parse_option(o, \"ar\", \"48000\", options);",
          "content_same": false
        },
        {
          "line": 4138,
          "old_api": "opt_vstats_file",
          "new_api": "time",
          "old_text": "opt_vstats_file(opt, filename)",
          "new_text": "time(NULL)",
          "old_line_content": "    return opt_vstats_file(opt, filename);",
          "new_line_content": "    time_t today2 = time(NULL);",
          "content_same": false
        },
        {
          "line": 4143,
          "old_api": "parse_option",
          "new_api": "opt_vstats_file",
          "old_text": "parse_option(o, \"frames:v\", arg, options)",
          "new_text": "opt_vstats_file(opt, filename)",
          "old_line_content": "    return parse_option(o, \"frames:v\", arg, options);",
          "new_line_content": "    return opt_vstats_file(opt, filename);",
          "content_same": false
        },
        {
          "line": 4169,
          "old_api": "exit_program",
          "new_api": "get_preset_file",
          "old_text": "exit_program(1)",
          "new_text": "get_preset_file(filename, sizeof(filename), arg, *opt == 'f', codec_name)",
          "old_line_content": "        exit_program(1);",
          "new_line_content": "    if (!(f = get_preset_file(filename, sizeof(filename), arg, *opt == 'f', codec_name))) {",
          "content_same": false
        },
        {
          "line": 4173,
          "old_api": "fscanf",
          "new_api": "av_log",
          "old_text": "fscanf(f, \"%999[^\\n]\\n\", line)",
          "new_text": "av_log(0, AV_LOG_FATAL, \"File for preset '%s' not found\\n\", arg)",
          "old_line_content": "        int e= fscanf(f, \"%999[^\\n]\\n\", line) - 1;",
          "new_line_content": "            av_log(0, AV_LOG_FATAL, \"File for preset '%s' not found\\n\", arg);",
          "content_same": false
        },
        {
          "line": 4178,
          "old_api": "av_log",
          "new_api": "fscanf",
          "old_text": "av_log(0, AV_LOG_FATAL, \"%s: Invalid syntax: '%s'\\n\", filename, line)",
          "new_text": "fscanf(f, \"%999[^\\n]\\n\", line)",
          "old_line_content": "            av_log(0, AV_LOG_FATAL, \"%s: Invalid syntax: '%s'\\n\", filename, line);",
          "new_line_content": "        int e= fscanf(f, \"%999[^\\n]\\n\", line) - 1;",
          "content_same": false
        },
        {
          "line": 4181,
          "old_api": "strcmp",
          "new_api": "sscanf",
          "old_text": "strcmp(tmp, \"acodec\")",
          "new_text": "sscanf(line, \"%999[^=]=%999[^\\n]\\n\", tmp, tmp2)",
          "old_line_content": "        if(!strcmp(tmp, \"acodec\")){",
          "new_line_content": "        e|= sscanf(line, \"%999[^=]=%999[^\\n]\\n\", tmp, tmp2) - 2;",
          "content_same": false
        },
        {
          "line": 4183,
          "old_api": "strcmp",
          "new_api": "av_log",
          "old_text": "strcmp(tmp, \"vcodec\")",
          "new_text": "av_log(0, AV_LOG_FATAL, \"%s: Invalid syntax: '%s'\\n\", filename, line)",
          "old_line_content": "        }else if(!strcmp(tmp, \"vcodec\")){",
          "new_line_content": "            av_log(0, AV_LOG_FATAL, \"%s: Invalid syntax: '%s'\\n\", filename, line);",
          "content_same": false
        },
        {
          "line": 4184,
          "old_api": "opt_video_codec",
          "new_api": "exit_program",
          "old_text": "opt_video_codec(o, tmp, tmp2)",
          "new_text": "exit_program(1)",
          "old_line_content": "            opt_video_codec(o, tmp, tmp2);",
          "new_line_content": "            exit_program(1);",
          "content_same": false
        },
        {
          "line": 4186,
          "old_api": "opt_subtitle_codec",
          "new_api": "strcmp",
          "old_text": "opt_subtitle_codec(o, tmp, tmp2)",
          "new_text": "strcmp(tmp, \"acodec\")",
          "old_line_content": "            opt_subtitle_codec(o, tmp, tmp2);",
          "new_line_content": "        if(!strcmp(tmp, \"acodec\")){",
          "content_same": false
        },
        {
          "line": 4187,
          "old_api": "strcmp",
          "new_api": "opt_audio_codec",
          "old_text": "strcmp(tmp, \"dcodec\")",
          "new_text": "opt_audio_codec(o, tmp, tmp2)",
          "old_line_content": "        }else if(!strcmp(tmp, \"dcodec\")){",
          "new_line_content": "            opt_audio_codec(o, tmp, tmp2);",
          "content_same": false
        },
        {
          "line": 4188,
          "old_api": "opt_data_codec",
          "new_api": "strcmp",
          "old_text": "opt_data_codec(o, tmp, tmp2)",
          "new_text": "strcmp(tmp, \"vcodec\")",
          "old_line_content": "            opt_data_codec(o, tmp, tmp2);",
          "new_line_content": "        }else if(!strcmp(tmp, \"vcodec\")){",
          "content_same": false
        },
        {
          "line": 4189,
          "old_api": "opt_default",
          "new_api": "opt_video_codec",
          "old_text": "opt_default(tmp, tmp2)",
          "new_text": "opt_video_codec(o, tmp, tmp2)",
          "old_line_content": "        }else if(opt_default(tmp, tmp2) < 0){",
          "new_line_content": "            opt_video_codec(o, tmp, tmp2);",
          "content_same": false
        },
        {
          "line": 4190,
          "old_api": "av_log",
          "new_api": "strcmp",
          "old_text": "av_log(0, AV_LOG_FATAL, \"%s: Invalid option or argument: '%s', parsed as '%s' = '%s'\\n\", filename, line, tmp, tmp2)",
          "new_text": "strcmp(tmp, \"scodec\")",
          "old_line_content": "            av_log(0, AV_LOG_FATAL, \"%s: Invalid option or argument: '%s', parsed as '%s' = '%s'\\n\", filename, line, tmp, tmp2);",
          "new_line_content": "        }else if(!strcmp(tmp, \"scodec\")){",
          "content_same": false
        },
        {
          "line": 4191,
          "old_api": "exit_program",
          "new_api": "opt_subtitle_codec",
          "old_text": "exit_program(1)",
          "new_text": "opt_subtitle_codec(o, tmp, tmp2)",
          "old_line_content": "            exit_program(1);",
          "new_line_content": "            opt_subtitle_codec(o, tmp, tmp2);",
          "content_same": false
        },
        {
          "line": 4195,
          "old_api": "fclose",
          "new_api": "av_log",
          "old_text": "fclose(f)",
          "new_text": "av_log(0, AV_LOG_FATAL, \"%s: Invalid option or argument: '%s', parsed as '%s' = '%s'\\n\", filename, line, tmp, tmp2)",
          "old_line_content": "    fclose(f);",
          "new_line_content": "            av_log(0, AV_LOG_FATAL, \"%s: Invalid option or argument: '%s', parsed as '%s' = '%s'\\n\", filename, line, tmp, tmp2);",
          "content_same": false
        },
        {
          "line": 4223,
          "old_api": "strcmp",
          "new_api": "parse_option",
          "old_text": "strcmp(opt, \"b\")",
          "new_text": "parse_option(o, s, arg, options)",
          "old_line_content": "    if(!strcmp(opt, \"b\")){",
          "new_line_content": "    return parse_option(o, s, arg, options);",
          "content_same": false
        },
        {
          "line": 4232,
          "old_api": "parse_option",
          "new_api": "opt_default",
          "old_text": "parse_option(o, \"filter:v\", arg, options)",
          "new_text": "opt_default(opt, arg)",
          "old_line_content": "    return parse_option(o, \"filter:v\", arg, options);",
          "new_line_content": "    return opt_default(opt, arg);",
          "content_same": false
        },
        {
          "line": 4381,
          "old_api": "strcmp",
          "new_api": "reset_options",
          "old_text": "strcmp(argv[1], \"-d\")",
          "new_text": "reset_options(&o, 0)",
          "old_line_content": "    if(argc>1 && !strcmp(argv[1], \"-d\")){",
          "new_line_content": "    reset_options(&o, 0);",
          "content_same": false
        },
        {
          "line": 4383,
          "old_api": "av_log_set_callback",
          "new_api": "av_log_set_flags",
          "old_text": "av_log_set_callback(log_callback_null)",
          "new_text": "av_log_set_flags(AV_LOG_SKIP_REPEATED)",
          "old_line_content": "        av_log_set_callback(log_callback_null);",
          "new_line_content": "    av_log_set_flags(AV_LOG_SKIP_REPEATED);",
          "content_same": false
        },
        {
          "line": 4388,
          "old_api": "avcodec_register_all",
          "new_api": "av_log_set_callback",
          "old_text": "avcodec_register_all()",
          "new_text": "av_log_set_callback(log_callback_null)",
          "old_line_content": "    avcodec_register_all();",
          "new_line_content": "        av_log_set_callback(log_callback_null);",
          "content_same": false
        },
        {
          "line": 4393,
          "old_api": "avfilter_register_all",
          "new_api": "avcodec_register_all",
          "old_text": "avfilter_register_all()",
          "new_text": "avcodec_register_all()",
          "old_line_content": "    avfilter_register_all();",
          "new_line_content": "    avcodec_register_all();",
          "content_same": false
        },
        {
          "line": 4395,
          "old_api": "av_register_all",
          "new_api": "avdevice_register_all",
          "old_text": "av_register_all()",
          "new_text": "avdevice_register_all()",
          "old_line_content": "    av_register_all();",
          "new_line_content": "    avdevice_register_all();",
          "content_same": false
        },
        {
          "line": 4398,
          "old_api": "isatty",
          "new_api": "avfilter_register_all",
          "old_text": "isatty(STDIN_FILENO)",
          "new_text": "avfilter_register_all()",
          "old_line_content": "    if(isatty(STDIN_FILENO))",
          "new_line_content": "    avfilter_register_all();",
          "content_same": false
        },
        {
          "line": 4404,
          "old_api": "term_init",
          "new_api": "avio_set_interrupt_cb",
          "old_text": "term_init()",
          "new_text": "avio_set_interrupt_cb(decode_interrupt_cb)",
          "old_line_content": "    term_init();",
          "new_line_content": "        avio_set_interrupt_cb(decode_interrupt_cb);",
          "content_same": false
        },
        {
          "line": 4407,
          "old_api": "parse_options",
          "new_api": "show_banner",
          "old_text": "parse_options(&o, argc, argv, options, opt_output_file)",
          "new_text": "show_banner()",
          "old_line_content": "    parse_options(&o, argc, argv, options, opt_output_file);",
          "new_line_content": "    show_banner();",
          "content_same": false
        },
        {
          "line": 4412,
          "old_api": "exit_program",
          "new_api": "parse_options",
          "old_text": "exit_program(1)",
          "new_text": "parse_options(&o, argc, argv, options, opt_output_file)",
          "old_line_content": "        exit_program(1);",
          "new_line_content": "    parse_options(&o, argc, argv, options, opt_output_file);",
          "content_same": false
        },
        {
          "line": 4417,
          "old_api": "av_log",
          "new_api": "exit_program",
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"At least one output file must be specified\\n\")",
          "new_text": "exit_program(1)",
          "old_line_content": "        av_log(NULL, AV_LOG_FATAL, \"At least one output file must be specified\\n\");",
          "new_line_content": "        exit_program(1);",
          "content_same": false
        },
        {
          "line": 4427,
          "old_api": "transcode",
          "new_api": "av_log",
          "old_text": "transcode(output_files, nb_output_files, input_files, nb_input_files)",
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"At least one input file must be specified\\n\")",
          "old_line_content": "    if (transcode(output_files, nb_output_files, input_files, nb_input_files) < 0)",
          "new_line_content": "        av_log(NULL, AV_LOG_FATAL, \"At least one input file must be specified\\n\");",
          "content_same": false
        },
        {
          "line": 4431,
          "old_api": "getmaxrss",
          "new_api": "getutime",
          "old_text": "getmaxrss()",
          "new_text": "getutime()",
          "old_line_content": "        int maxrss = getmaxrss() / 1024;",
          "new_line_content": "    ti = getutime();",
          "content_same": false
        },
        {
          "line": 4432,
          "old_api": "printf",
          "new_api": "transcode",
          "old_text": "printf(\"bench: utime=%0.3fs maxrss=%ikB\\n\", ti / 1000000.0, maxrss)",
          "new_text": "transcode(output_files, nb_output_files, input_files, nb_input_files)",
          "old_line_content": "        printf(\"bench: utime=%0.3fs maxrss=%ikB\\n\", ti / 1000000.0, maxrss);",
          "new_line_content": "    if (transcode(output_files, nb_output_files, input_files, nb_input_files) < 0)",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 4100,
          "old_api": null,
          "new_api": "opt_default",
          "old_text": null,
          "new_text": "opt_default(\"minrate\", \"0\")",
          "old_line_content": "",
          "new_line_content": "        opt_default(\"minrate\", \"0\"); //1500000;",
          "content_same": false
        },
        {
          "line": 4103,
          "old_api": null,
          "new_api": "opt_default",
          "old_text": null,
          "new_text": "opt_default(\"packetsize\", \"2048\")",
          "old_line_content": "",
          "new_line_content": "        opt_default(\"packetsize\", \"2048\");  // from www.mpucoder.com: DVD sectors contain 2048 bytes of data, this is also the size of one pack.",
          "content_same": false
        },
        {
          "line": 4107,
          "old_api": null,
          "new_api": "parse_option",
          "old_text": null,
          "new_text": "parse_option(o, \"ar\", \"48000\", options)",
          "old_line_content": "",
          "new_line_content": "        parse_option(o, \"ar\", \"48000\", options);",
          "content_same": false
        },
        {
          "line": 4116,
          "old_api": null,
          "new_api": "parse_option",
          "old_text": null,
          "new_text": "parse_option(o, \"r\", frame_rates[norm], options)",
          "old_line_content": "    } else {",
          "new_line_content": "        parse_option(o, \"r\", frame_rates[norm], options);",
          "content_same": false
        },
        {
          "line": 4119,
          "old_api": null,
          "new_api": "parse_option",
          "old_text": null,
          "new_text": "parse_option(o, \"ac\", \"2\", options)",
          "old_line_content": "    }",
          "new_line_content": "        parse_option(o, \"ac\", \"2\", options);",
          "content_same": false
        },
        {
          "line": 4122,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_ERROR, \"Unknown target: %s\\n\", arg)",
          "old_line_content": "",
          "new_line_content": "        av_log(NULL, AV_LOG_ERROR, \"Unknown target: %s\\n\", arg);",
          "content_same": false
        },
        {
          "line": 4123,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "static int opt_vstats_file(const char *opt, const char *arg)",
          "new_line_content": "        return AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 4130,
          "old_api": null,
          "new_api": "av_free (vstats_filename)",
          "old_text": null,
          "new_text": "av_free (vstats_filename)",
          "old_line_content": "static int opt_vstats(const char *opt, const char *arg)",
          "new_line_content": "    av_free (vstats_filename);",
          "content_same": false
        },
        {
          "line": 4131,
          "old_api": null,
          "new_api": "av_strdup (arg)",
          "old_text": null,
          "new_text": "av_strdup (arg)",
          "old_line_content": "{",
          "new_line_content": "    vstats_filename=av_strdup (arg);",
          "content_same": false
        },
        {
          "line": 4139,
          "old_api": null,
          "new_api": "localtime",
          "old_text": null,
          "new_text": "localtime(&today2)",
          "old_line_content": "}",
          "new_line_content": "    struct tm *today = localtime(&today2);",
          "content_same": false
        },
        {
          "line": 4141,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(filename, sizeof(filename), \"vstats_%02d%02d%02d.log\", today->tm_hour, today->tm_min,\n             today->tm_sec)",
          "old_line_content": "static int opt_video_frames(OptionsContext *o, const char *opt, const char *arg)",
          "new_line_content": "    snprintf(filename, sizeof(filename), \"vstats_%02d%02d%02d.log\", today->tm_hour, today->tm_min,",
          "content_same": false
        },
        {
          "line": 4158,
          "old_api": null,
          "new_api": "parse_option",
          "old_text": null,
          "new_text": "parse_option(o, \"frames:d\", arg, options)",
          "old_line_content": "    FILE *f=NULL;",
          "new_line_content": "    return parse_option(o, \"frames:d\", arg, options);",
          "content_same": false
        },
        {
          "line": 4170,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(\"libx264-lossless\")",
          "old_line_content": "    }",
          "new_line_content": "        if(!strncmp(arg, \"libx264-lossless\", strlen(\"libx264-lossless\"))){",
          "content_same": false
        },
        {
          "line": 4171,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(0, AV_LOG_FATAL, \"Please use -preset <speed> -qp 0\\n\")",
          "old_line_content": "",
          "new_line_content": "            av_log(0, AV_LOG_FATAL, \"Please use -preset <speed> -qp 0\\n\");",
          "content_same": false
        },
        {
          "line": 4174,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "        if(line[0] == '#' && !e)",
          "new_line_content": "        exit_program(1);",
          "content_same": false
        },
        {
          "line": 4177,
          "old_api": null,
          "new_api": "feof",
          "old_text": null,
          "new_text": "feof(f)",
          "old_line_content": "        if(e){",
          "new_line_content": "    while(!feof(f)){",
          "content_same": false
        },
        {
          "line": 4192,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(tmp, \"dcodec\")",
          "old_line_content": "        }",
          "new_line_content": "        }else if(!strcmp(tmp, \"dcodec\")){",
          "content_same": false
        },
        {
          "line": 4193,
          "old_api": null,
          "new_api": "opt_data_codec",
          "old_text": null,
          "new_text": "opt_data_codec(o, tmp, tmp2)",
          "old_line_content": "    }",
          "new_line_content": "            opt_data_codec(o, tmp, tmp2);",
          "content_same": false
        },
        {
          "line": 4194,
          "old_api": null,
          "new_api": "opt_default",
          "old_text": null,
          "new_text": "opt_default(tmp, tmp2)",
          "old_line_content": "",
          "new_line_content": "        }else if(opt_default(tmp, tmp2) < 0){",
          "content_same": false
        },
        {
          "line": 4196,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "",
          "new_line_content": "            exit_program(1);",
          "content_same": false
        },
        {
          "line": 4200,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(f)",
          "old_line_content": "static void log_callback_null(void *ptr, int level, const char *fmt, va_list vl)",
          "new_line_content": "    fclose(f);",
          "content_same": false
        },
        {
          "line": 4213,
          "old_api": null,
          "new_api": "opt_default",
          "old_text": null,
          "new_text": "opt_default(\"passlogfile\", arg)",
          "old_line_content": "",
          "new_line_content": "    return opt_default(\"passlogfile\", arg);",
          "content_same": false
        },
        {
          "line": 4221,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(opt)",
          "old_line_content": "static int opt_bitrate(OptionsContext *o, const char *opt, const char *arg)",
          "new_line_content": "    char *s= av_malloc(strlen(opt)+2);",
          "content_same": false
        },
        {
          "line": 4222,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(opt)",
          "old_line_content": "{",
          "new_line_content": "    snprintf(s, strlen(opt)+2, \"%s:%c\", opt+1, *opt);",
          "content_same": false
        },
        {
          "line": 4228,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(opt, \"b\")",
          "old_line_content": "}",
          "new_line_content": "    if(!strcmp(opt, \"b\")){",
          "content_same": false
        },
        {
          "line": 4229,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(0,AV_LOG_WARNING, \"Please use -b:a or -b:v, -b is ambiguous\\n\")",
          "old_line_content": "",
          "new_line_content": "        av_log(0,AV_LOG_WARNING, \"Please use -b:a or -b:v, -b is ambiguous\\n\");",
          "content_same": false
        },
        {
          "line": 4230,
          "old_api": null,
          "new_api": "av_strdup",
          "old_text": null,
          "new_text": "av_strdup(\"b:v\")",
          "old_line_content": "static int opt_video_filters(OptionsContext *o, const char *opt, const char *arg)",
          "new_line_content": "        return parse_option(o, av_strdup(\"b:v\"), arg, options);",
          "content_same": false
        },
        {
          "line": 4237,
          "old_api": null,
          "new_api": "parse_option",
          "old_text": null,
          "new_text": "parse_option(o, \"filter:v\", arg, options)",
          "old_line_content": "    /* main options */",
          "new_line_content": "    return parse_option(o, \"filter:v\", arg, options);",
          "content_same": false
        },
        {
          "line": 4244,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(format)",
          "old_line_content": "    { \"map\", HAS_ARG | OPT_EXPERT | OPT_FUNC2, {(void*)opt_map}, \"set input stream mapping\", \"file.stream[:syncfile.syncstream]\" },",
          "new_line_content": "    { \"f\", HAS_ARG | OPT_STRING | OPT_OFFSET, {.off = OFFSET(format)}, \"force format\", \"fmt\" },",
          "content_same": false
        },
        {
          "line": 4247,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(codec_names)",
          "old_line_content": "    { \"map_metadata\", HAS_ARG | OPT_EXPERT | OPT_FUNC2, {(void*)opt_map_metadata}, \"set metadata information of outfile from infile\",",
          "new_line_content": "    { \"c\", HAS_ARG | OPT_STRING | OPT_SPEC, {.off = OFFSET(codec_names)}, \"codec name\", \"codec\" },",
          "content_same": false
        },
        {
          "line": 4248,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(codec_names)",
          "old_line_content": "      \"outfile[,metadata]:infile[,metadata]\" },",
          "new_line_content": "    { \"codec\", HAS_ARG | OPT_STRING | OPT_SPEC, {.off = OFFSET(codec_names)}, \"codec name\", \"codec\" },",
          "content_same": false
        },
        {
          "line": 4255,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(recording_time)",
          "old_line_content": "    { \"timestamp\", HAS_ARG | OPT_FUNC2, {(void*)opt_recording_timestamp}, \"set the recording timestamp ('now' to set the current time)\", \"time\" },",
          "new_line_content": "    { \"t\", HAS_ARG | OPT_TIME | OPT_OFFSET, {.off = OFFSET(recording_time)}, \"record or transcode \\\"duration\\\" seconds of audio/video\", \"duration\" },",
          "content_same": false
        },
        {
          "line": 4257,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(start_time)",
          "old_line_content": "    { \"dframes\", HAS_ARG | OPT_FUNC2, {(void*)opt_data_frames}, \"set the number of data frames to record\", \"number\" },",
          "new_line_content": "    { \"ss\", HAS_ARG | OPT_TIME | OPT_OFFSET, {.off = OFFSET(start_time)}, \"set the start time offset\", \"time_off\" },",
          "content_same": false
        },
        {
          "line": 4258,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(input_ts_offset)",
          "old_line_content": "    { \"benchmark\", OPT_BOOL | OPT_EXPERT, {(void*)&do_benchmark},",
          "new_line_content": "    { \"itsoffset\", HAS_ARG | OPT_TIME | OPT_OFFSET, {.off = OFFSET(input_ts_offset)}, \"set the input ts offset\", \"time_off\" },",
          "content_same": false
        },
        {
          "line": 4259,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(ts_scale)",
          "old_line_content": "      \"add timings for benchmarking\" },",
          "new_line_content": "    { \"itsscale\", HAS_ARG | OPT_DOUBLE | OPT_SPEC, {.off = OFFSET(ts_scale)}, \"set the input ts scale\", \"scale\" },",
          "content_same": false
        },
        {
          "line": 4261,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(metadata)",
          "old_line_content": "    { \"dump\", OPT_BOOL | OPT_EXPERT, {(void*)&do_pkt_dump},",
          "new_line_content": "    { \"metadata\", HAS_ARG | OPT_STRING | OPT_SPEC, {.off = OFFSET(metadata)}, \"add metadata\", \"string=string\" },",
          "content_same": false
        },
        {
          "line": 4270,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(rate_emu)",
          "old_line_content": "    { \"vsync\", HAS_ARG | OPT_INT | OPT_EXPERT, {(void*)&video_sync_method}, \"video sync method\", \"\" },",
          "new_line_content": "    { \"re\", OPT_BOOL | OPT_EXPERT | OPT_OFFSET, {.off = OFFSET(rate_emu)}, \"read input at native frame rate\", \"\" },",
          "content_same": false
        },
        {
          "line": 4285,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(codec_tags)",
          "old_line_content": "#endif",
          "new_line_content": "    { \"tag\",   OPT_STRING | HAS_ARG | OPT_SPEC, {.off = OFFSET(codec_tags)}, \"force codec tag/fourcc\", \"fourcc/tag\" },",
          "content_same": false
        },
        {
          "line": 4286,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(qscale)",
          "old_line_content": "",
          "new_line_content": "    { \"q\", HAS_ARG | OPT_EXPERT | OPT_DOUBLE | OPT_SPEC, {.off = OFFSET(qscale)}, \"use fixed quality scale (VBR)\", \"q\" },",
          "content_same": false
        },
        {
          "line": 4287,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(qscale)",
          "old_line_content": "    /* video options */",
          "new_line_content": "    { \"qscale\", HAS_ARG | OPT_EXPERT | OPT_DOUBLE | OPT_SPEC, {.off = OFFSET(qscale)}, \"use fixed quality scale (VBR)\", \"q\" },",
          "content_same": false
        },
        {
          "line": 4294,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(frame_rates)",
          "old_line_content": "    { \"croptop\",  HAS_ARG | OPT_VIDEO, {(void*)opt_frame_crop}, \"Removed, use the crop filter instead\", \"size\" },",
          "new_line_content": "    { \"r\", HAS_ARG | OPT_VIDEO | OPT_STRING | OPT_SPEC, {.off = OFFSET(frame_rates)}, \"set frame rate (Hz value, fraction or abbreviation)\", \"rate\" },",
          "content_same": false
        },
        {
          "line": 4295,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(frame_sizes)",
          "old_line_content": "    { \"cropbottom\", HAS_ARG | OPT_VIDEO, {(void*)opt_frame_crop}, \"Removed, use the crop filter instead\", \"size\" },",
          "new_line_content": "    { \"s\", HAS_ARG | OPT_VIDEO | OPT_STRING | OPT_SPEC, {.off = OFFSET(frame_sizes)}, \"set frame size (WxH or abbreviation)\", \"size\" },",
          "content_same": false
        },
        {
          "line": 4296,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(frame_aspect_ratios)",
          "old_line_content": "    { \"cropleft\", HAS_ARG | OPT_VIDEO, {(void*)opt_frame_crop}, \"Removed, use the crop filter instead\", \"size\" },",
          "new_line_content": "    { \"aspect\", HAS_ARG | OPT_VIDEO | OPT_STRING | OPT_SPEC, {.off = OFFSET(frame_aspect_ratios)}, \"set aspect ratio (4:3, 16:9 or 1.3333, 1.7777)\", \"aspect\" },",
          "content_same": false
        },
        {
          "line": 4297,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(frame_pix_fmts)",
          "old_line_content": "    { \"cropright\", HAS_ARG | OPT_VIDEO, {(void*)opt_frame_crop}, \"Removed, use the crop filter instead\", \"size\" },",
          "new_line_content": "    { \"pix_fmt\", HAS_ARG | OPT_EXPERT | OPT_VIDEO | OPT_STRING | OPT_SPEC, {.off = OFFSET(frame_pix_fmts)}, \"set pixel format\", \"format\" },",
          "content_same": false
        },
        {
          "line": 4309,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(video_disable)",
          "old_line_content": "    { \"same_quant\", OPT_BOOL | OPT_VIDEO, {(void*)&same_quant},",
          "new_line_content": "    { \"vn\", OPT_BOOL | OPT_VIDEO | OPT_OFFSET, {.off = OFFSET(video_disable)}, \"disable video\" },",
          "content_same": false
        },
        {
          "line": 4311,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(rc_overrides)",
          "old_line_content": "    { \"pass\", HAS_ARG | OPT_VIDEO, {(void*)opt_pass}, \"select the pass number (1 or 2)\", \"n\" },",
          "new_line_content": "    { \"rc_override\", HAS_ARG | OPT_EXPERT | OPT_VIDEO | OPT_STRING | OPT_SPEC, {.off = OFFSET(rc_overrides)}, \"rate control override for specific intervals\", \"override\" },",
          "content_same": false
        },
        {
          "line": 4325,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(intra_matrices)",
          "old_line_content": "    { \"qphist\", OPT_BOOL | OPT_EXPERT | OPT_VIDEO, { (void *)&qp_hist }, \"show QP histogram\" },",
          "new_line_content": "    { \"intra_matrix\", HAS_ARG | OPT_EXPERT | OPT_VIDEO | OPT_STRING | OPT_SPEC, {.off = OFFSET(intra_matrices)}, \"specify intra matrix coeffs\", \"matrix\" },",
          "content_same": false
        },
        {
          "line": 4327,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(top_field_first)",
          "old_line_content": "    { \"streamid\", HAS_ARG | OPT_EXPERT | OPT_FUNC2, {(void*)opt_streamid}, \"set the value of an outfile streamid\", \"streamIndex:value\" },",
          "new_line_content": "    { \"top\", HAS_ARG | OPT_EXPERT | OPT_VIDEO | OPT_INT| OPT_SPEC, {.off = OFFSET(top_field_first)}, \"top=1/bottom=0/auto=-1 field first\", \"\" },",
          "content_same": false
        },
        {
          "line": 4331,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(force_fps)",
          "old_line_content": "    /* audio options */",
          "new_line_content": "    { \"force_fps\", OPT_BOOL | OPT_EXPERT | OPT_VIDEO | OPT_SPEC, {.off = OFFSET(force_fps)}, \"force the selected framerate, disable the best supported framerate selection\" },",
          "content_same": false
        },
        {
          "line": 4333,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(forced_key_frames)",
          "old_line_content": "    { \"aq\", HAS_ARG | OPT_AUDIO | OPT_FUNC2, {(void*)opt_audio_qscale}, \"set audio quality (codec-specific)\", \"quality\", },",
          "new_line_content": "    { \"force_key_frames\", OPT_STRING | HAS_ARG | OPT_EXPERT | OPT_VIDEO | OPT_SPEC, {.off = OFFSET(forced_key_frames)}, \"force key frames at specified timestamps\", \"timestamps\" },",
          "content_same": false
        },
        {
          "line": 4339,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(audio_sample_rate)",
          "old_line_content": "    { \"vol\", OPT_INT | HAS_ARG | OPT_AUDIO, {(void*)&audio_volume}, \"change audio volume (256=normal)\" , \"volume\" }, //",
          "new_line_content": "    { \"ar\", HAS_ARG | OPT_AUDIO | OPT_INT | OPT_SPEC, {.off = OFFSET(audio_sample_rate)}, \"set audio sampling rate (in Hz)\", \"rate\" },",
          "content_same": false
        },
        {
          "line": 4341,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(audio_disable)",
          "old_line_content": "",
          "new_line_content": "    { \"an\", OPT_BOOL | OPT_AUDIO | OPT_OFFSET, {.off = OFFSET(audio_disable)}, \"disable audio\" },",
          "content_same": false
        },
        {
          "line": 4345,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(sample_fmts)",
          "old_line_content": "    { \"stag\", HAS_ARG | OPT_EXPERT | OPT_SUBTITLE | OPT_FUNC2, {(void*)opt_old2new}, \"force subtitle tag/fourcc\", \"fourcc/tag\" },",
          "new_line_content": "    { \"sample_fmt\", HAS_ARG | OPT_EXPERT | OPT_AUDIO | OPT_SPEC | OPT_STRING, {.off = OFFSET(sample_fmts)}, \"set sample format\", \"format\" },",
          "content_same": false
        },
        {
          "line": 4348,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(subtitle_disable)",
          "old_line_content": "    { \"vc\", HAS_ARG | OPT_EXPERT | OPT_VIDEO | OPT_GRAB, {(void*)opt_video_channel}, \"deprecated, use -channel\", \"channel\" },",
          "new_line_content": "    { \"sn\", OPT_BOOL | OPT_SUBTITLE | OPT_OFFSET, {.off = OFFSET(subtitle_disable)}, \"disable subtitle\" },",
          "content_same": false
        },
        {
          "line": 4358,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(mux_max_delay)",
          "old_line_content": "    { \"vbsf\", HAS_ARG | OPT_VIDEO | OPT_EXPERT| OPT_FUNC2, {(void*)opt_old2new}, \"deprecated\", \"video bitstream_filters\" },",
          "new_line_content": "    { \"muxdelay\", OPT_FLOAT | HAS_ARG | OPT_EXPERT   | OPT_OFFSET, {.off = OFFSET(mux_max_delay)}, \"set the maximum demux-decode delay\", \"seconds\" },",
          "content_same": false
        },
        {
          "line": 4359,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(mux_preload)",
          "old_line_content": "",
          "new_line_content": "    { \"muxpreload\", OPT_FLOAT | HAS_ARG | OPT_EXPERT | OPT_OFFSET, {.off = OFFSET(mux_preload)},   \"set the initial demux-decode delay\", \"seconds\" },",
          "content_same": false
        },
        {
          "line": 4361,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(bitstream_filters)",
          "old_line_content": "    { \"vpre\", HAS_ARG | OPT_VIDEO | OPT_EXPERT| OPT_FUNC2, {(void*)opt_preset}, \"set the video options to the indicated preset\", \"preset\" },",
          "new_line_content": "    { \"bsf\", HAS_ARG | OPT_STRING | OPT_SPEC, {.off = OFFSET(bitstream_filters)}, \"A comma-separated list of bitstream filters\", \"bitstream_filters\" },",
          "content_same": false
        },
        {
          "line": 4384,
          "old_api": null,
          "new_api": "parse_loglevel",
          "old_text": null,
          "new_text": "parse_loglevel(argc, argv, options)",
          "old_line_content": "        argc--;",
          "new_line_content": "    parse_loglevel(argc, argv, options);",
          "content_same": false
        },
        {
          "line": 4386,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(argv[1], \"-d\")",
          "old_line_content": "    }",
          "new_line_content": "    if(argc>1 && !strcmp(argv[1], \"-d\")){",
          "content_same": false
        },
        {
          "line": 4400,
          "old_api": null,
          "new_api": "av_register_all",
          "old_text": null,
          "new_text": "av_register_all()",
          "old_line_content": "#endif",
          "new_line_content": "    av_register_all();",
          "content_same": false
        },
        {
          "line": 4403,
          "old_api": null,
          "new_api": "isatty",
          "old_text": null,
          "new_text": "isatty(STDIN_FILENO)",
          "old_line_content": "",
          "new_line_content": "    if(isatty(STDIN_FILENO))",
          "content_same": false
        },
        {
          "line": 4409,
          "old_api": null,
          "new_api": "term_init",
          "old_text": null,
          "new_text": "term_init()",
          "old_line_content": "    if(nb_output_files <= 0 && nb_input_files == 0) {",
          "new_line_content": "    term_init();",
          "content_same": false
        },
        {
          "line": 4415,
          "old_api": null,
          "new_api": "show_usage",
          "old_text": null,
          "new_text": "show_usage()",
          "old_line_content": "    /* file converter / grab */",
          "new_line_content": "        show_usage();",
          "content_same": false
        },
        {
          "line": 4416,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_WARNING, \"Use -h to get full help or, even better, run 'man %s'\\n\", program_name)",
          "old_line_content": "    if (nb_output_files <= 0) {",
          "new_line_content": "        av_log(NULL, AV_LOG_WARNING, \"Use -h to get full help or, even better, run 'man %s'\\n\", program_name);",
          "content_same": false
        },
        {
          "line": 4433,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "    }",
          "new_line_content": "        exit_program(1);",
          "content_same": false
        },
        {
          "line": 4434,
          "old_api": null,
          "new_api": "getutime",
          "old_text": null,
          "new_text": "getutime()",
          "old_line_content": "",
          "new_line_content": "    ti = getutime() - ti;",
          "content_same": false
        },
        {
          "line": 4436,
          "old_api": null,
          "new_api": "getmaxrss",
          "old_text": null,
          "new_text": "getmaxrss()",
          "old_line_content": "    return 0;",
          "new_line_content": "        int maxrss = getmaxrss() / 1024;",
          "content_same": false
        },
        {
          "line": 4437,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"bench: utime=%0.3fs maxrss=%ikB\\n\", ti / 1000000.0, maxrss)",
          "old_line_content": "}",
          "new_line_content": "        printf(\"bench: utime=%0.3fs maxrss=%ikB\\n\", ti / 1000000.0, maxrss);",
          "content_same": false
        },
        {
          "line": 4440,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(0)",
          "old_line_content": "",
          "new_line_content": "    exit_program(0);",
          "content_same": false
        },
        {
          "line": 2452,
          "old_api": null,
          "new_api": "read_key",
          "old_text": null,
          "new_text": "read_key()",
          "old_line_content": "                break;",
          "new_line_content": "                key =  read_key();",
          "content_same": false
        },
        {
          "line": 2458,
          "old_api": null,
          "new_api": "av_log_get_level",
          "old_text": null,
          "new_text": "av_log_get_level()",
          "old_line_content": "                    do_hex_dump = do_pkt_dump = 0;",
          "new_line_content": "            if (key == '+') av_log_set_level(av_log_get_level()+10);",
          "content_same": false
        },
        {
          "line": 2459,
          "old_api": null,
          "new_api": "av_log_get_level",
          "old_text": null,
          "new_text": "av_log_get_level()",
          "old_line_content": "                } else if(do_pkt_dump){",
          "new_line_content": "            if (key == '-') av_log_set_level(av_log_get_level()-10);",
          "content_same": false
        },
        {
          "line": 2468,
          "old_api": null,
          "new_api": "av_log_set_level",
          "old_text": null,
          "new_text": "av_log_set_level(AV_LOG_DEBUG)",
          "old_line_content": "                double time;",
          "new_line_content": "                av_log_set_level(AV_LOG_DEBUG);",
          "content_same": false
        },
        {
          "line": 2475,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"\\nEnter command: <target> <time> <command>[ <argument>]\\n\")",
          "old_line_content": "                buf[i] = 0;",
          "new_line_content": "                fprintf(stderr, \"\\nEnter command: <target> <time> <command>[ <argument>]\\n\");",
          "content_same": false
        },
        {
          "line": 2482,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf(buf, \"%63[^ ] %lf %255[^ ] %255[^\\n]\", target, &time, command, arg)",
          "old_line_content": "                        if (ost->graph) {",
          "new_line_content": "                    (n = sscanf(buf, \"%63[^ ] %lf %255[^ ] %255[^\\n]\", target, &time, command, arg)) >= 3) {",
          "content_same": false
        },
        {
          "line": 2483,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_DEBUG, \"Processing command target:%s time:%f command:%s arg:%s\",\n                           target, time, command, arg)",
          "old_line_content": "                            if (time < 0) {",
          "new_line_content": "                    av_log(NULL, AV_LOG_DEBUG, \"Processing command target:%s time:%f command:%s arg:%s\",",
          "content_same": false
        },
        {
          "line": 2489,
          "old_api": null,
          "new_api": "avfilter_graph_send_command",
          "old_text": null,
          "new_text": "avfilter_graph_send_command(ost->graph, target, command, arg, buf, sizeof(buf),\n                                                                  key == 'c' ? AVFILTER_CMD_FLAG_ONE : 0)",
          "old_line_content": "                            }",
          "new_line_content": "                                ret = avfilter_graph_send_command(ost->graph, target, command, arg, buf, sizeof(buf),",
          "content_same": false
        },
        {
          "line": 2491,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"Command reply for stream %d: ret:%d res:%s\\n\", i, ret, buf)",
          "old_line_content": "                    }",
          "new_line_content": "                                fprintf(stderr, \"Command reply for stream %d: ret:%d res:%s\\n\", i, ret, buf);",
          "content_same": false
        },
        {
          "line": 2498,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_ERROR,\n                           \"Parse error, at least 3 arguments were expected, \"\n                           \"only %d given in string '%s'\\n\", n, buf)",
          "old_line_content": "#endif",
          "new_line_content": "                    av_log(NULL, AV_LOG_ERROR,",
          "content_same": false
        },
        {
          "line": 2512,
          "old_api": null,
          "new_api": "scanf",
          "old_text": null,
          "new_text": "scanf(\"%d\", &debug)",
          "old_line_content": "                    ost = &output_streams[i];",
          "new_line_content": "                    scanf(\"%d\", &debug);",
          "content_same": false
        },
        {
          "line": 2520,
          "old_api": null,
          "new_api": "av_log_set_level",
          "old_text": null,
          "new_text": "av_log_set_level(AV_LOG_DEBUG)",
          "old_line_content": "                                \"?      show this help\\n\"",
          "new_line_content": "                if(debug) av_log_set_level(AV_LOG_DEBUG);",
          "content_same": false
        },
        {
          "line": 2521,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr,\"debug=%d\\n\", debug)",
          "old_line_content": "                                \"+      increase verbosity\\n\"",
          "new_line_content": "                fprintf(stderr,\"debug=%d\\n\", debug);",
          "content_same": false
        },
        {
          "line": 2524,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"key    function\\n\"\n                                \"?      show this help\\n\"\n                                \"+      increase verbosity\\n\"\n                                \"-      decrease verbosity\\n\"\n                                \"c      Send command to filtergraph\\n\"\n                                \"D      cycle through available debug modes\\n\"\n                                \"h      dump packets/hex press to cycle through the 3 states\\n\"\n                                \"q      quit\\n\"\n                                \"s      Show QP histogram\\n\"\n                )",
          "old_line_content": "                                \"D      cycle through available debug modes\\n\"",
          "new_line_content": "                fprintf(stderr, \"key    function\\n\"",
          "content_same": false
        },
        {
          "line": 2549,
          "old_api": null,
          "new_api": "avio_tell",
          "old_text": null,
          "new_text": "avio_tell(os->pb)",
          "old_line_content": "                if(ipts < ipts_min) {",
          "new_line_content": "                (os->pb && avio_tell(os->pb) >= of->limit_filesize))",
          "content_same": false
        },
        {
          "line": 2551,
          "old_api": null,
          "new_api": "av_q2d",
          "old_text": null,
          "new_text": "av_q2d(ost->st->time_base)",
          "old_line_content": "                    if(input_sync ) file_index = ist->file_index;",
          "new_line_content": "            opts = ost->st->pts.val * av_q2d(ost->st->time_base);",
          "content_same": false
        },
        {
          "line": 2574,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(no_packet, 0, nb_input_files)",
          "old_line_content": "        }",
          "new_line_content": "                memset(no_packet, 0, nb_input_files);",
          "content_same": false
        },
        {
          "line": 2575,
          "old_api": null,
          "new_api": "usleep",
          "old_text": null,
          "new_text": "usleep(10000)",
          "old_line_content": "",
          "new_line_content": "                usleep(10000);",
          "content_same": false
        },
        {
          "line": 2583,
          "old_api": null,
          "new_api": "av_read_frame",
          "old_text": null,
          "new_text": "av_read_frame(is, &pkt)",
          "old_line_content": "        }",
          "new_line_content": "        ret= av_read_frame(is, &pkt);",
          "content_same": false
        },
        {
          "line": 2584,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EAGAIN)",
          "old_line_content": "        if (ret < 0) {",
          "new_line_content": "        if(ret == AVERROR(EAGAIN)){",
          "content_same": false
        },
        {
          "line": 2598,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(no_packet, 0, nb_input_files)",
          "old_line_content": "        }",
          "new_line_content": "        memset(no_packet, 0, nb_input_files);",
          "content_same": false
        },
        {
          "line": 2601,
          "old_api": null,
          "new_api": "av_pkt_dump_log2",
          "old_text": null,
          "new_text": "av_pkt_dump_log2(NULL, AV_LOG_DEBUG, &pkt, do_hex_dump,\n                             is->streams[pkt.stream_index])",
          "old_line_content": "        if (pkt.stream_index >= input_files[file_index].nb_streams)",
          "new_line_content": "            av_pkt_dump_log2(NULL, AV_LOG_DEBUG, &pkt, do_hex_dump,",
          "content_same": false
        },
        {
          "line": 2614,
          "old_api": null,
          "new_api": "av_rescale_q",
          "old_text": null,
          "new_text": "av_rescale_q(input_files[ist->file_index].ts_offset, AV_TIME_BASE_Q, ist->st->time_base)",
          "old_line_content": "            pkt.pts *= ist->ts_scale;",
          "new_line_content": "            pkt.dts += av_rescale_q(input_files[ist->file_index].ts_offset, AV_TIME_BASE_Q, ist->st->time_base);",
          "content_same": false
        },
        {
          "line": 2616,
          "old_api": null,
          "new_api": "av_rescale_q",
          "old_text": null,
          "new_text": "av_rescale_q(input_files[ist->file_index].ts_offset, AV_TIME_BASE_Q, ist->st->time_base)",
          "old_line_content": "            pkt.dts *= ist->ts_scale;",
          "new_line_content": "            pkt.pts += av_rescale_q(input_files[ist->file_index].ts_offset, AV_TIME_BASE_Q, ist->st->time_base);",
          "content_same": false
        },
        {
          "line": 2626,
          "old_api": null,
          "new_api": "av_rescale_q",
          "old_text": null,
          "new_text": "av_rescale_q(pkt.dts, ist->st->time_base, AV_TIME_BASE_Q)",
          "old_line_content": "                pkt_dts+1<ist->pts)&& !copy_ts){",
          "new_line_content": "            int64_t pkt_dts= av_rescale_q(pkt.dts, ist->st->time_base, AV_TIME_BASE_Q);",
          "content_same": false
        },
        {
          "line": 2633,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_DEBUG, \"timestamp discontinuity %\"PRId64\", new offset= %\"PRId64\"\\n\",\n                       delta, input_files[ist->file_index].ts_offset)",
          "old_line_content": "            }",
          "new_line_content": "                av_log(NULL, AV_LOG_DEBUG, \"timestamp discontinuity %\"PRId64\", new offset= %\"PRId64\"\\n\",",
          "content_same": false
        },
        {
          "line": 2635,
          "old_api": null,
          "new_api": "av_rescale_q",
          "old_text": null,
          "new_text": "av_rescale_q(delta, AV_TIME_BASE_Q, ist->st->time_base)",
          "old_line_content": "",
          "new_line_content": "                pkt.dts-= av_rescale_q(delta, AV_TIME_BASE_Q, ist->st->time_base);",
          "content_same": false
        },
        {
          "line": 2644,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_ERROR, \"Error while decoding stream #%d.%d\\n\",\n                   ist->file_index, ist->st->index)",
          "old_line_content": "            continue;",
          "new_line_content": "            av_log(NULL, AV_LOG_ERROR, \"Error while decoding stream #%d.%d\\n\",",
          "content_same": false
        },
        {
          "line": 2647,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "    discard_packet:",
          "new_line_content": "                exit_program(1);",
          "content_same": false
        },
        {
          "line": 2653,
          "old_api": null,
          "new_api": "av_free_packet",
          "old_text": null,
          "new_text": "av_free_packet(&pkt)",
          "old_line_content": "",
          "new_line_content": "        av_free_packet(&pkt);",
          "content_same": false
        },
        {
          "line": 2656,
          "old_api": null,
          "new_api": "print_report",
          "old_text": null,
          "new_text": "print_report(output_files, output_streams, nb_output_streams, 0, timer_start, cur_time)",
          "old_line_content": "        ist = &input_streams[i];",
          "new_line_content": "        print_report(output_files, output_streams, nb_output_streams, 0, timer_start, cur_time);",
          "content_same": false
        },
        {
          "line": 2666,
          "old_api": null,
          "new_api": "flush_encoders",
          "old_text": null,
          "new_text": "flush_encoders(output_streams, nb_output_streams)",
          "old_line_content": "    for(i=0;i<nb_output_files;i++) {",
          "new_line_content": "    flush_encoders(output_streams, nb_output_streams);",
          "content_same": false
        },
        {
          "line": 2673,
          "old_api": null,
          "new_api": "av_write_trailer",
          "old_text": null,
          "new_text": "av_write_trailer(os)",
          "old_line_content": "",
          "new_line_content": "        av_write_trailer(os);",
          "content_same": false
        },
        {
          "line": 2677,
          "old_api": null,
          "new_api": "av_gettime",
          "old_text": null,
          "new_text": "av_gettime()",
          "old_line_content": "        if (ost->encoding_needed) {",
          "new_line_content": "    print_report(output_files, output_streams, nb_output_streams, 1, timer_start, av_gettime());",
          "content_same": false
        },
        {
          "line": 2683,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&ost->st->codec->stats_in)",
          "old_line_content": "#endif",
          "new_line_content": "            av_freep(&ost->st->codec->stats_in);",
          "content_same": false
        },
        {
          "line": 2684,
          "old_api": null,
          "new_api": "avcodec_close",
          "old_text": null,
          "new_text": "avcodec_close(ost->st->codec)",
          "old_line_content": "    }",
          "new_line_content": "            avcodec_close(ost->st->codec);",
          "content_same": false
        },
        {
          "line": 2687,
          "old_api": null,
          "new_api": "avfilter_graph_free",
          "old_text": null,
          "new_text": "avfilter_graph_free(&ost->graph)",
          "old_line_content": "    for (i = 0; i < nb_input_streams; i++) {",
          "new_line_content": "        avfilter_graph_free(&ost->graph);",
          "content_same": false
        },
        {
          "line": 2695,
          "old_api": null,
          "new_api": "avcodec_close",
          "old_text": null,
          "new_text": "avcodec_close(ist->st->codec)",
          "old_line_content": "    ret = 0;",
          "new_line_content": "            avcodec_close(ist->st->codec);",
          "content_same": false
        },
        {
          "line": 2703,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&bit_buffer)",
          "old_line_content": "            ost = &output_streams[i];",
          "new_line_content": "    av_freep(&bit_buffer);",
          "content_same": false
        },
        {
          "line": 2704,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&no_packet)",
          "old_line_content": "            if (ost) {",
          "new_line_content": "    av_freep(&no_packet);",
          "content_same": false
        },
        {
          "line": 2716,
          "old_api": null,
          "new_api": "av_fifo_free",
          "old_text": null,
          "new_text": "av_fifo_free(ost->fifo)",
          "old_line_content": "                if (ost->video_resample)",
          "new_line_content": "                av_fifo_free(ost->fifo); /* works even if fifo is not",
          "content_same": false
        },
        {
          "line": 2720,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(ost->forced_kf_pts)",
          "old_line_content": "            }",
          "new_line_content": "                av_free(ost->forced_kf_pts);",
          "content_same": false
        },
        {
          "line": 2722,
          "old_api": null,
          "new_api": "sws_freeContext",
          "old_text": null,
          "new_text": "sws_freeContext(ost->img_resample_ctx)",
          "old_line_content": "    }",
          "new_line_content": "                    sws_freeContext(ost->img_resample_ctx);",
          "content_same": false
        },
        {
          "line": 2723,
          "old_api": null,
          "new_api": "swr_free",
          "old_text": null,
          "new_text": "swr_free(&ost->swr)",
          "old_line_content": "    return ret;",
          "new_line_content": "                swr_free(&ost->swr);",
          "content_same": false
        },
        {
          "line": 2724,
          "old_api": null,
          "new_api": "av_dict_free",
          "old_text": null,
          "new_text": "av_dict_free(&ost->opts)",
          "old_line_content": "}",
          "new_line_content": "                av_dict_free(&ost->opts);",
          "content_same": false
        },
        {
          "line": 2733,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_WARNING, \"-%s is deprecated, use -loglevel\\n\", opt)",
          "old_line_content": "{",
          "new_line_content": "    av_log(NULL, AV_LOG_WARNING, \"-%s is deprecated, use -loglevel\\n\", opt);",
          "content_same": false
        },
        {
          "line": 2739,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Option '%s' has been removed, use the crop filter instead\\n\", opt)",
          "old_line_content": "{",
          "new_line_content": "    av_log(NULL, AV_LOG_FATAL, \"Option '%s' has been removed, use the crop filter instead\\n\", opt);",
          "content_same": false
        },
        {
          "line": 2745,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Option '%s' has been removed, use the pad filter instead\\n\", opt)",
          "old_line_content": "{",
          "new_line_content": "    av_log(NULL, AV_LOG_FATAL, \"Option '%s' has been removed, use the pad filter instead\\n\", opt);",
          "content_same": false
        },
        {
          "line": 2756,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(arg, ':')",
          "old_line_content": "        if (x > 0 && y > 0)",
          "new_line_content": "    p = strchr(arg, ':');",
          "content_same": false
        },
        {
          "line": 2758,
          "old_api": null,
          "new_api": "strtol",
          "old_text": null,
          "new_text": "strtol(arg, &end, 10)",
          "old_line_content": "    } else",
          "new_line_content": "        x = strtol(arg, &end, 10);",
          "content_same": false
        },
        {
          "line": 2760,
          "old_api": null,
          "new_api": "strtol",
          "old_text": null,
          "new_text": "strtol(end+1, &end, 10)",
          "old_line_content": "",
          "new_line_content": "            y = strtol(end+1, &end, 10);",
          "content_same": false
        },
        {
          "line": 2764,
          "old_api": null,
          "new_api": "strtod",
          "old_text": null,
          "new_text": "strtod(arg, NULL)",
          "old_line_content": "    }",
          "new_line_content": "        ar = strtod(arg, NULL);",
          "content_same": false
        },
        {
          "line": 2767,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Incorrect aspect ratio specification.\\n\")",
          "old_line_content": "",
          "new_line_content": "        av_log(NULL, AV_LOG_FATAL, \"Incorrect aspect ratio specification.\\n\");",
          "content_same": false
        },
        {
          "line": 2768,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "static int opt_video_channel(const char *opt, const char *arg)",
          "new_line_content": "        exit_program(1);",
          "content_same": false
        },
        {
          "line": 2775,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_WARNING, \"This option is deprecated, use -channel.\\n\")",
          "old_line_content": "{",
          "new_line_content": "    av_log(NULL, AV_LOG_WARNING, \"This option is deprecated, use -channel.\\n\");",
          "content_same": false
        },
        {
          "line": 2781,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_WARNING, \"This option is deprecated, use -standard.\\n\")",
          "old_line_content": "{",
          "new_line_content": "    av_log(NULL, AV_LOG_WARNING, \"This option is deprecated, use -standard.\\n\");",
          "content_same": false
        },
        {
          "line": 2782,
          "old_api": null,
          "new_api": "opt_default",
          "old_text": null,
          "new_text": "opt_default(\"standard\", arg)",
          "old_line_content": "    audio_codec_name = arg;",
          "new_line_content": "    return opt_default(\"standard\", arg);",
          "content_same": false
        },
        {
          "line": 2788,
          "old_api": null,
          "new_api": "parse_option",
          "old_text": null,
          "new_text": "parse_option(o, \"codec:a\", arg, options)",
          "old_line_content": "    video_codec_name = arg;",
          "new_line_content": "    return parse_option(o, \"codec:a\", arg, options);",
          "content_same": false
        },
        {
          "line": 2794,
          "old_api": null,
          "new_api": "parse_option",
          "old_text": null,
          "new_text": "parse_option(o, \"codec:v\", arg, options)",
          "old_line_content": "    subtitle_codec_name = arg;",
          "new_line_content": "    return parse_option(o, \"codec:v\", arg, options);",
          "content_same": false
        },
        {
          "line": 2805,
          "old_api": null,
          "new_api": "parse_option",
          "old_text": null,
          "new_text": "parse_option(o, \"codec:d\", arg, options)",
          "old_line_content": "    StreamMap *m = NULL;",
          "new_line_content": "    return parse_option(o, \"codec:d\", arg, options);",
          "content_same": false
        },
        {
          "line": 2825,
          "old_api": null,
          "new_api": "strtol",
          "old_text": null,
          "new_text": "strtol(sync + 1, &sync, 0)",
          "old_line_content": "        if (*sync)",
          "new_line_content": "        sync_file_idx = strtol(sync + 1, &sync, 0);",
          "content_same": false
        },
        {
          "line": 2827,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Invalid sync file index: %d.\\n\", sync_file_idx)",
          "old_line_content": "        for (i = 0; i < input_files[sync_file_idx].nb_streams; i++)",
          "new_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Invalid sync file index: %d.\\n\", sync_file_idx);",
          "content_same": false
        },
        {
          "line": 2833,
          "old_api": null,
          "new_api": "check_stream_specifier",
          "old_text": null,
          "new_text": "check_stream_specifier(input_files[sync_file_idx].ctx,\n                                       input_files[sync_file_idx].ctx->streams[i], sync)",
          "old_line_content": "        if (i == input_files[sync_file_idx].nb_streams) {",
          "new_line_content": "            if (check_stream_specifier(input_files[sync_file_idx].ctx,",
          "content_same": false
        },
        {
          "line": 2839,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Sync stream specification in map %s does not \"\n                                       \"match any streams.\\n\", arg)",
          "old_line_content": "",
          "new_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Sync stream specification in map %s does not \"",
          "content_same": false
        },
        {
          "line": 2846,
          "old_api": null,
          "new_api": "strtol",
          "old_text": null,
          "new_text": "strtol(map, &p, 0)",
          "old_line_content": "    if (negative)",
          "new_line_content": "    file_idx = strtol(map, &p, 0);",
          "content_same": false
        },
        {
          "line": 2848,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Invalid input file index: %d.\\n\", file_idx)",
          "old_line_content": "        for (i = 0; i < o->nb_stream_maps; i++) {",
          "new_line_content": "        av_log(NULL, AV_LOG_FATAL, \"Invalid input file index: %d.\\n\", file_idx);",
          "content_same": false
        },
        {
          "line": 2849,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "            m = &o->stream_maps[i];",
          "new_line_content": "        exit_program(1);",
          "content_same": false
        },
        {
          "line": 2855,
          "old_api": null,
          "new_api": "check_stream_specifier",
          "old_text": null,
          "new_text": "check_stream_specifier(input_files[m->file_index].ctx,\n                                       input_files[m->file_index].ctx->streams[m->stream_index],\n                                       *p == ':' ? p + 1 : p)",
          "old_line_content": "    else",
          "new_line_content": "            if (check_stream_specifier(input_files[m->file_index].ctx,",
          "content_same": false
        },
        {
          "line": 2862,
          "old_api": null,
          "new_api": "check_stream_specifier",
          "old_text": null,
          "new_text": "check_stream_specifier(input_files[file_idx].ctx, input_files[file_idx].ctx->streams[i],\n                        *p == ':' ? p + 1 : p)",
          "old_line_content": "            m = &o->stream_maps[o->nb_stream_maps - 1];",
          "new_line_content": "            if (check_stream_specifier(input_files[file_idx].ctx, input_files[file_idx].ctx->streams[i],",
          "content_same": false
        },
        {
          "line": 2865,
          "old_api": null,
          "new_api": "grow_array",
          "old_text": null,
          "new_text": "grow_array(o->stream_maps, sizeof(*o->stream_maps),\n                                        &o->nb_stream_maps, o->nb_stream_maps + 1)",
          "old_line_content": "            m->stream_index = i;",
          "new_line_content": "            o->stream_maps = grow_array(o->stream_maps, sizeof(*o->stream_maps),",
          "content_same": false
        },
        {
          "line": 2882,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Stream map '%s' matches no streams.\\n\", arg)",
          "old_line_content": "    return 0;",
          "new_line_content": "        av_log(NULL, AV_LOG_FATAL, \"Stream map '%s' matches no streams.\\n\", arg);",
          "content_same": false
        },
        {
          "line": 2883,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "}",
          "new_line_content": "        exit_program(1);",
          "content_same": false
        },
        {
          "line": 2886,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&map)",
          "old_line_content": "{",
          "new_line_content": "    av_freep(&map);",
          "content_same": false
        },
        {
          "line": 2901,
          "old_api": null,
          "new_api": "strtol",
          "old_text": null,
          "new_text": "strtol(++arg, NULL, 0)",
          "old_line_content": "        }",
          "new_line_content": "                *index = strtol(++arg, NULL, 0);",
          "content_same": false
        },
        {
          "line": 2904,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Invalid metadata type %c.\\n\", *arg)",
          "old_line_content": "}",
          "new_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Invalid metadata type %c.\\n\", *arg);",
          "content_same": false
        },
        {
          "line": 2905,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "",
          "new_line_content": "            exit_program(1);",
          "content_same": false
        },
        {
          "line": 2921,
          "old_api": null,
          "new_api": "parse_meta_type",
          "old_text": null,
          "new_text": "parse_meta_type(*p ? p + 1 : p, &m->type, &m->index)",
          "old_line_content": "    else",
          "new_line_content": "    parse_meta_type(*p ? p + 1 : p, &m->type, &m->index);",
          "content_same": false
        },
        {
          "line": 2924,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(opt, ':')",
          "old_line_content": "    if (m->type == 'g' || m1->type == 'g')",
          "new_line_content": "    if (p = strchr(opt, ':'))",
          "content_same": false
        },
        {
          "line": 2925,
          "old_api": null,
          "new_api": "parse_meta_type",
          "old_text": null,
          "new_text": "parse_meta_type(p + 1, &m1->type, &m1->index)",
          "old_line_content": "        o->metadata_global_manual = 1;",
          "new_line_content": "        parse_meta_type(p + 1, &m1->type, &m1->index);",
          "content_same": false
        },
        {
          "line": 2941,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_WARNING, \"-map_meta_data is deprecated and will be removed soon. \"\n                    \"Use -map_metadata instead.\\n\")",
          "old_line_content": "static int opt_recording_timestamp(OptionsContext *o, const char *opt, const char *arg)",
          "new_line_content": "    av_log(NULL, AV_LOG_WARNING, \"-map_meta_data is deprecated and will be removed soon. \"",
          "content_same": false
        },
        {
          "line": 2943,
          "old_api": null,
          "new_api": "opt_map_metadata",
          "old_text": null,
          "new_text": "opt_map_metadata(o, opt, arg)",
          "old_line_content": "    char buf[128];",
          "new_line_content": "    return opt_map_metadata(o, opt, arg);",
          "content_same": false
        },
        {
          "line": 2950,
          "old_api": null,
          "new_api": "gmtime",
          "old_text": null,
          "new_text": "gmtime((time_t*)&recording_timestamp)",
          "old_line_content": "                                 \"tag instead.\\n\", opt);",
          "new_line_content": "    struct tm time = *gmtime((time_t*)&recording_timestamp);",
          "content_same": false
        },
        {
          "line": 2951,
          "old_api": null,
          "new_api": "strftime",
          "old_text": null,
          "new_text": "strftime(buf, sizeof(buf), \"creation_time=%FT%T%z\", &time)",
          "old_line_content": "    return 0;",
          "new_line_content": "    strftime(buf, sizeof(buf), \"creation_time=%FT%T%z\", &time);",
          "content_same": false
        },
        {
          "line": 2952,
          "old_api": null,
          "new_api": "parse_option",
          "old_text": null,
          "new_text": "parse_option(o, \"metadata\", buf, options)",
          "old_line_content": "}",
          "new_line_content": "    parse_option(o, \"metadata\", buf, options);",
          "content_same": false
        },
        {
          "line": 2954,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_WARNING, \"%s is deprecated, set the 'creation_time' metadata \"\n                                 \"tag instead.\\n\", opt)",
          "old_line_content": "static enum CodecID find_codec_or_die(const char *name, enum AVMediaType type, int encoder)",
          "new_line_content": "    av_log(NULL, AV_LOG_WARNING, \"%s is deprecated, set the 'creation_time' metadata \"",
          "content_same": false
        },
        {
          "line": 2967,
          "old_api": null,
          "new_api": "avcodec_find_encoder_by_name",
          "old_text": null,
          "new_text": "avcodec_find_encoder_by_name(name)",
          "old_line_content": "    }",
          "new_line_content": "        avcodec_find_encoder_by_name(name) :",
          "content_same": false
        },
        {
          "line": 2968,
          "old_api": null,
          "new_api": "avcodec_find_decoder_by_name",
          "old_text": null,
          "new_text": "avcodec_find_decoder_by_name(name)",
          "old_line_content": "    if(codec->type != type) {",
          "new_line_content": "        avcodec_find_decoder_by_name(name);",
          "content_same": false
        },
        {
          "line": 2971,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "    }",
          "new_line_content": "        exit_program(1);",
          "content_same": false
        },
        {
          "line": 2974,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Invalid %s type '%s'\\n\", codec_string, name)",
          "old_line_content": "",
          "new_line_content": "        av_log(NULL, AV_LOG_FATAL, \"Invalid %s type '%s'\\n\", codec_string, name);",
          "content_same": false
        },
        {
          "line": 2975,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "static AVCodec *choose_codec(OptionsContext *o, AVFormatContext *s, AVStream *st, enum AVMediaType type)",
          "new_line_content": "        exit_program(1);",
          "content_same": false
        },
        {
          "line": 2988,
          "old_api": null,
          "new_api": "av_guess_codec",
          "old_text": null,
          "new_text": "av_guess_codec(s->oformat, NULL, s->filename, NULL, type)",
          "old_line_content": "    else {",
          "new_line_content": "            st->codec->codec_id = av_guess_codec(s->oformat, NULL, s->filename, NULL, type);",
          "content_same": false
        },
        {
          "line": 2994,
          "old_api": null,
          "new_api": "find_codec_or_die",
          "old_text": null,
          "new_text": "find_codec_or_die(codec_name, type, s->iformat == NULL)",
          "old_line_content": "    return NULL;",
          "new_line_content": "        st->codec->codec_id = find_codec_or_die(codec_name, type, s->iformat == NULL);",
          "content_same": false
        },
        {
          "line": 2995,
          "old_api": null,
          "new_api": "avcodec_find_encoder_by_name",
          "old_text": null,
          "new_text": "avcodec_find_encoder_by_name(codec_name)",
          "old_line_content": "}",
          "new_line_content": "        return s->oformat ? avcodec_find_encoder_by_name(codec_name) :",
          "content_same": false
        },
        {
          "line": 2996,
          "old_api": null,
          "new_api": "avcodec_find_decoder_by_name",
          "old_text": null,
          "new_text": "avcodec_find_decoder_by_name(codec_name)",
          "old_line_content": "",
          "new_line_content": "                            avcodec_find_decoder_by_name(codec_name);",
          "content_same": false
        },
        {
          "line": 3026,
          "old_api": null,
          "new_api": "choose_codec",
          "old_text": null,
          "new_text": "choose_codec(o, ic, st, dec->codec_type)",
          "old_line_content": "        case AVMEDIA_TYPE_AUDIO:",
          "new_line_content": "        ist->dec = choose_codec(o, ic, st, dec->codec_type);",
          "content_same": false
        },
        {
          "line": 3033,
          "old_api": null,
          "new_api": "avcodec_find_decoder",
          "old_text": null,
          "new_text": "avcodec_find_decoder(dec->codec_id)",
          "old_line_content": "            if(!ist->dec)",
          "new_line_content": "                ist->dec = avcodec_find_decoder(dec->codec_id);",
          "content_same": false
        },
        {
          "line": 3039,
          "old_api": null,
          "new_api": "avcodec_find_decoder",
          "old_text": null,
          "new_text": "avcodec_find_decoder(dec->codec_id)",
          "old_line_content": "            }",
          "new_line_content": "                ist->dec = avcodec_find_decoder(dec->codec_id);",
          "content_same": false
        },
        {
          "line": 3048,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_INFO,\"\\nSeems stream %d codec frame rate differs from container frame rate: %2.2f (%d/%d) -> %2.2f (%d/%d)\\n\",\n                       i, (float)dec->time_base.den / dec->time_base.num, dec->time_base.den, dec->time_base.num,\n                       (float)rfps / rfps_base, rfps, rfps_base)",
          "old_line_content": "            if (o->video_disable)",
          "new_line_content": "                av_log(NULL, AV_LOG_INFO,\"\\nSeems stream %d codec frame rate differs from container frame rate: %2.2f (%d/%d) -> %2.2f (%d/%d)\\n\",",
          "content_same": false
        },
        {
          "line": 3062,
          "old_api": null,
          "new_api": "avcodec_find_decoder",
          "old_text": null,
          "new_text": "avcodec_find_decoder(dec->codec_id)",
          "old_line_content": "        case AVMEDIA_TYPE_UNKNOWN:",
          "new_line_content": "                ist->dec = avcodec_find_decoder(dec->codec_id);",
          "content_same": false
        },
        {
          "line": 3070,
          "old_api": null,
          "new_api": "abort",
          "old_text": null,
          "new_text": "abort()",
          "old_line_content": "static int opt_input_file(OptionsContext *o, const char *opt, const char *filename)",
          "new_line_content": "            abort();",
          "content_same": false
        },
        {
          "line": 3086,
          "old_api": null,
          "new_api": "av_find_input_format",
          "old_text": null,
          "new_text": "av_find_input_format(o->format)",
          "old_line_content": "",
          "new_line_content": "        if (!(file_iformat = av_find_input_format(o->format))) {",
          "content_same": false
        },
        {
          "line": 3088,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "        filename = \"pipe:\";",
          "new_line_content": "            exit_program(1);",
          "content_same": false
        },
        {
          "line": 3092,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(filename, \"-\")",
          "old_line_content": "",
          "new_line_content": "    if (!strcmp(filename, \"-\"))",
          "content_same": false
        },
        {
          "line": 3095,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(filename, \"pipe:\", 5)",
          "old_line_content": "    if (!ic) {",
          "new_line_content": "    using_stdin |= !strncmp(filename, \"pipe:\", 5) ||",
          "content_same": false
        },
        {
          "line": 3099,
          "old_api": null,
          "new_api": "avformat_alloc_context",
          "old_text": null,
          "new_text": "avformat_alloc_context()",
          "old_line_content": "    if (o->nb_audio_sample_rate) {",
          "new_line_content": "    ic = avformat_alloc_context();",
          "content_same": false
        },
        {
          "line": 3102,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "    }",
          "new_line_content": "        exit_program(1);",
          "content_same": false
        },
        {
          "line": 3106,
          "old_api": null,
          "new_api": "av_dict_set",
          "old_text": null,
          "new_text": "av_dict_set(&format_opts, \"sample_rate\", buf, 0)",
          "old_line_content": "    }",
          "new_line_content": "        av_dict_set(&format_opts, \"sample_rate\", buf, 0);",
          "content_same": false
        },
        {
          "line": 3109,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(buf, sizeof(buf), \"%d\", o->audio_channels[o->nb_audio_channels - 1].u.i)",
          "old_line_content": "    }",
          "new_line_content": "        snprintf(buf, sizeof(buf), \"%d\", o->audio_channels[o->nb_audio_channels - 1].u.i);",
          "content_same": false
        },
        {
          "line": 3110,
          "old_api": null,
          "new_api": "av_dict_set",
          "old_text": null,
          "new_text": "av_dict_set(&format_opts, \"channels\", buf, 0)",
          "old_line_content": "    if (o->nb_frame_sizes) {",
          "new_line_content": "        av_dict_set(&format_opts, \"channels\", buf, 0);",
          "content_same": false
        },
        {
          "line": 3113,
          "old_api": null,
          "new_api": "av_dict_set",
          "old_text": null,
          "new_text": "av_dict_set(&format_opts, \"framerate\", o->frame_rates[o->nb_frame_rates - 1].u.str, 0)",
          "old_line_content": "    if (o->nb_frame_pix_fmts)",
          "new_line_content": "        av_dict_set(&format_opts, \"framerate\", o->frame_rates[o->nb_frame_rates - 1].u.str, 0);",
          "content_same": false
        },
        {
          "line": 3116,
          "old_api": null,
          "new_api": "av_dict_set",
          "old_text": null,
          "new_text": "av_dict_set(&format_opts, \"video_size\", o->frame_sizes[o->nb_frame_sizes - 1].u.str, 0)",
          "old_line_content": "    ic->flags |= AVFMT_FLAG_NONBLOCK;",
          "new_line_content": "        av_dict_set(&format_opts, \"video_size\", o->frame_sizes[o->nb_frame_sizes - 1].u.str, 0);",
          "content_same": false
        },
        {
          "line": 3131,
          "old_api": null,
          "new_api": "print_error",
          "old_text": null,
          "new_text": "print_error(filename, err)",
          "old_line_content": "    /* apply forced codec ids */",
          "new_line_content": "        print_error(filename, err);",
          "content_same": false
        },
        {
          "line": 3132,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "    for (i = 0; i < ic->nb_streams; i++)",
          "new_line_content": "        exit_program(1);",
          "content_same": false
        },
        {
          "line": 3134,
          "old_api": null,
          "new_api": "assert_avoptions",
          "old_text": null,
          "new_text": "assert_avoptions(format_opts)",
          "old_line_content": "",
          "new_line_content": "    assert_avoptions(format_opts);",
          "content_same": false
        },
        {
          "line": 3138,
          "old_api": null,
          "new_api": "choose_codec",
          "old_text": null,
          "new_text": "choose_codec(o, ic, ic->streams[i], ic->streams[i]->codec->codec_type)",
          "old_line_content": "",
          "new_line_content": "        choose_codec(o, ic, ic->streams[i], ic->streams[i]->codec->codec_type);",
          "content_same": false
        },
        {
          "line": 3146,
          "old_api": null,
          "new_api": "avformat_find_stream_info",
          "old_text": null,
          "new_text": "avformat_find_stream_info(ic, opts)",
          "old_line_content": "    }",
          "new_line_content": "    ret = avformat_find_stream_info(ic, opts);",
          "content_same": false
        },
        {
          "line": 3148,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"%s: could not find codec parameters\\n\", filename)",
          "old_line_content": "    timestamp = o->start_time;",
          "new_line_content": "        av_log(NULL, AV_LOG_FATAL, \"%s: could not find codec parameters\\n\", filename);",
          "content_same": false
        },
        {
          "line": 3149,
          "old_api": null,
          "new_api": "av_close_input_file",
          "old_text": null,
          "new_text": "av_close_input_file(ic)",
          "old_line_content": "    /* add the stream start time */",
          "new_line_content": "        av_close_input_file(ic);",
          "content_same": false
        },
        {
          "line": 3150,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "    if (ic->start_time != AV_NOPTS_VALUE)",
          "new_line_content": "        exit_program(1);",
          "content_same": false
        },
        {
          "line": 3160,
          "old_api": null,
          "new_api": "av_seek_frame",
          "old_text": null,
          "new_text": "av_seek_frame(ic, -1, timestamp, AVSEEK_FLAG_BACKWARD)",
          "old_line_content": "    }",
          "new_line_content": "        ret = av_seek_frame(ic, -1, timestamp, AVSEEK_FLAG_BACKWARD);",
          "content_same": false
        },
        {
          "line": 3162,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_WARNING, \"%s: could not seek to position %0.3f\\n\",\n                   filename, (double)timestamp / AV_TIME_BASE)",
          "old_line_content": "    /* update the current parameters so that they match the one of the input stream */",
          "new_line_content": "            av_log(NULL, AV_LOG_WARNING, \"%s: could not seek to position %0.3f\\n\",",
          "content_same": false
        },
        {
          "line": 3171,
          "old_api": null,
          "new_api": "av_dump_format",
          "old_text": null,
          "new_text": "av_dump_format(ic, nb_input_files, filename, 0)",
          "old_line_content": "    input_files[nb_input_files - 1].ts_offset  = o->input_ts_offset - (copy_ts ? 0 : timestamp);",
          "new_line_content": "    av_dump_format(ic, nb_input_files, filename, 0);",
          "content_same": false
        },
        {
          "line": 3173,
          "old_api": null,
          "new_api": "grow_array",
          "old_text": null,
          "new_text": "grow_array(input_files, sizeof(*input_files), &nb_input_files, nb_input_files + 1)",
          "old_line_content": "    input_files[nb_input_files - 1].rate_emu   = o->rate_emu;",
          "new_line_content": "    input_files = grow_array(input_files, sizeof(*input_files), &nb_input_files, nb_input_files + 1);",
          "content_same": false
        },
        {
          "line": 3181,
          "old_api": null,
          "new_api": "av_dict_free",
          "old_text": null,
          "new_text": "av_dict_free(&opts[i])",
          "old_line_content": "}",
          "new_line_content": "        av_dict_free(&opts[i]);",
          "content_same": false
        },
        {
          "line": 3182,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&opts)",
          "old_line_content": "",
          "new_line_content": "    av_freep(&opts);",
          "content_same": false
        },
        {
          "line": 3184,
          "old_api": null,
          "new_api": "reset_options",
          "old_text": null,
          "new_text": "reset_options(o, 1)",
          "old_line_content": "{",
          "new_line_content": "    reset_options(o, 1);",
          "content_same": false
        },
        {
          "line": 3197,
          "old_api": null,
          "new_api": "av_malloc",
          "old_text": null,
          "new_text": "av_malloc(sizeof(*ost->forced_kf_pts) * n)",
          "old_line_content": "    for (i = 0; i < n; i++) {",
          "new_line_content": "    ost->forced_kf_pts = av_malloc(sizeof(*ost->forced_kf_pts) * n);",
          "content_same": false
        },
        {
          "line": 3200,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "    }",
          "new_line_content": "        exit_program(1);",
          "content_same": false
        },
        {
          "line": 3203,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(p, ',')",
          "old_line_content": "static OutputStream *new_output_stream(OptionsContext *o, AVFormatContext *oc, enum AVMediaType type)",
          "new_line_content": "        p = i ? strchr(p, ',') + 1 : kf;",
          "content_same": false
        },
        {
          "line": 3204,
          "old_api": null,
          "new_api": "parse_time_or_die",
          "old_text": null,
          "new_text": "parse_time_or_die(\"force_key_frames\", p, 1)",
          "old_line_content": "{",
          "new_line_content": "        ost->forced_kf_pts[i] = parse_time_or_die(\"force_key_frames\", p, 1);",
          "content_same": false
        },
        {
          "line": 3211,
          "old_api": null,
          "new_api": "av_new_stream",
          "old_text": null,
          "new_text": "av_new_stream(oc, oc->nb_streams < o->nb_streamid_map ? o->streamid_map[oc->nb_streams] : 0)",
          "old_line_content": "    double qscale = -1;",
          "new_line_content": "    AVStream *st = av_new_stream(oc, oc->nb_streams < o->nb_streamid_map ? o->streamid_map[oc->nb_streams] : 0);",
          "content_same": false
        },
        {
          "line": 3219,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Could not alloc stream.\\n\")",
          "old_line_content": "                                nb_output_streams + 1);",
          "new_line_content": "        av_log(NULL, AV_LOG_FATAL, \"Could not alloc stream.\\n\");",
          "content_same": false
        },
        {
          "line": 3220,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "    ost = &output_streams[nb_output_streams - 1];",
          "new_line_content": "        exit_program(1);",
          "content_same": false
        },
        {
          "line": 3223,
          "old_api": null,
          "new_api": "grow_array",
          "old_text": null,
          "new_text": "grow_array(output_streams, sizeof(*output_streams), &nb_output_streams,\n                                nb_output_streams + 1)",
          "old_line_content": "    ost->st    = st;",
          "new_line_content": "    output_streams = grow_array(output_streams, sizeof(*output_streams), &nb_output_streams,",
          "content_same": false
        },
        {
          "line": 3232,
          "old_api": null,
          "new_api": "filter_codec_opts",
          "old_text": null,
          "new_text": "filter_codec_opts(codec_opts, ost->enc->id, oc, st)",
          "old_line_content": "",
          "new_line_content": "        ost->opts  = filter_codec_opts(codec_opts, ost->enc->id, oc, st);",
          "content_same": false
        },
        {
          "line": 3235,
          "old_api": null,
          "new_api": "avcodec_get_context_defaults3",
          "old_text": null,
          "new_text": "avcodec_get_context_defaults3(st->codec, ost->enc)",
          "old_line_content": "",
          "new_line_content": "    avcodec_get_context_defaults3(st->codec, ost->enc);",
          "content_same": false
        },
        {
          "line": 3243,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(bsf, ',')",
          "old_line_content": "        }",
          "new_line_content": "        if (next = strchr(bsf, ','))",
          "content_same": false
        },
        {
          "line": 3245,
          "old_api": null,
          "new_api": "av_bitstream_filter_init",
          "old_text": null,
          "new_text": "av_bitstream_filter_init(bsf)",
          "old_line_content": "            bsfc_prev->next = bsfc;",
          "new_line_content": "        if (!(bsfc = av_bitstream_filter_init(bsf))) {",
          "content_same": false
        },
        {
          "line": 3246,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Unknown bitstream filter %s\\n\", bsf)",
          "old_line_content": "        else",
          "new_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Unknown bitstream filter %s\\n\", bsf);",
          "content_same": false
        },
        {
          "line": 3247,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "            ost->bitstream_filters = bsfc;",
          "new_line_content": "            exit_program(1);",
          "content_same": false
        },
        {
          "line": 3258,
          "old_api": null,
          "new_api": "MATCH_PER_STREAM_OPT",
          "old_text": null,
          "new_text": "MATCH_PER_STREAM_OPT(codec_tags, str, codec_tag, oc, st)",
          "old_line_content": "        st->codec->codec_tag = tag;",
          "new_line_content": "    MATCH_PER_STREAM_OPT(codec_tags, str, codec_tag, oc, st);",
          "content_same": false
        },
        {
          "line": 3260,
          "old_api": null,
          "new_api": "strtol",
          "old_text": null,
          "new_text": "strtol(codec_tag, &next, 0)",
          "old_line_content": "",
          "new_line_content": "        uint32_t tag = strtol(codec_tag, &next, 0);",
          "content_same": false
        },
        {
          "line": 3262,
          "old_api": null,
          "new_api": "AV_RL32",
          "old_text": null,
          "new_text": "AV_RL32(codec_tag)",
          "old_line_content": "    if (qscale >= 0 || same_quant) {",
          "new_line_content": "            tag = AV_RL32(codec_tag);",
          "content_same": false
        },
        {
          "line": 3266,
          "old_api": null,
          "new_api": "MATCH_PER_STREAM_OPT",
          "old_text": null,
          "new_text": "MATCH_PER_STREAM_OPT(qscale, dbl, qscale, oc, st)",
          "old_line_content": "",
          "new_line_content": "    MATCH_PER_STREAM_OPT(qscale, dbl, qscale, oc, st);",
          "content_same": false
        },
        {
          "line": 3275,
          "old_api": null,
          "new_api": "av_get_int",
          "old_text": null,
          "new_text": "av_get_int(sws_opts, \"sws_flags\", NULL)",
          "old_line_content": "{",
          "new_line_content": "    ost->sws_flags = av_get_int(sws_opts, \"sws_flags\", NULL);",
          "content_same": false
        },
        {
          "line": 3287,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(p, ',')",
          "old_line_content": "        p++;",
          "new_line_content": "        p = strchr(p, ',');",
          "content_same": false
        },
        {
          "line": 3289,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Syntax error in matrix \\\"%s\\\" at coeff %d\\n\", str, i)",
          "old_line_content": "}",
          "new_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Syntax error in matrix \\\"%s\\\" at coeff %d\\n\", str, i);",
          "content_same": false
        },
        {
          "line": 3290,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "",
          "new_line_content": "            exit_program(1);",
          "content_same": false
        },
        {
          "line": 3302,
          "old_api": null,
          "new_api": "new_output_stream",
          "old_text": null,
          "new_text": "new_output_stream(o, oc, AVMEDIA_TYPE_VIDEO)",
          "old_line_content": "        const char *p = NULL;",
          "new_line_content": "    ost = new_output_stream(o, oc, AVMEDIA_TYPE_VIDEO);",
          "content_same": false
        },
        {
          "line": 3313,
          "old_api": null,
          "new_api": "MATCH_PER_STREAM_OPT",
          "old_text": null,
          "new_text": "MATCH_PER_STREAM_OPT(frame_rates, str, frame_rate, oc, st)",
          "old_line_content": "",
          "new_line_content": "        MATCH_PER_STREAM_OPT(frame_rates, str, frame_rate, oc, st);",
          "content_same": false
        },
        {
          "line": 3319,
          "old_api": null,
          "new_api": "MATCH_PER_STREAM_OPT",
          "old_text": null,
          "new_text": "MATCH_PER_STREAM_OPT(frame_sizes, str, frame_size, oc, st)",
          "old_line_content": "",
          "new_line_content": "        MATCH_PER_STREAM_OPT(frame_sizes, str, frame_size, oc, st);",
          "content_same": false
        },
        {
          "line": 3321,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Invalid frame size: %s.\\n\", frame_size)",
          "old_line_content": "        if (frame_aspect_ratio)",
          "new_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Invalid frame size: %s.\\n\", frame_size);",
          "content_same": false
        },
        {
          "line": 3330,
          "old_api": null,
          "new_api": "MATCH_PER_STREAM_OPT",
          "old_text": null,
          "new_text": "MATCH_PER_STREAM_OPT(frame_pix_fmts, str, frame_pix_fmt, oc, st)",
          "old_line_content": "        st->sample_aspect_ratio = video_enc->sample_aspect_ratio;",
          "new_line_content": "        MATCH_PER_STREAM_OPT(frame_pix_fmts, str, frame_pix_fmt, oc, st);",
          "content_same": false
        },
        {
          "line": 3331,
          "old_api": null,
          "new_api": "av_get_pix_fmt",
          "old_text": null,
          "new_text": "av_get_pix_fmt(frame_pix_fmt)",
          "old_line_content": "",
          "new_line_content": "        if (frame_pix_fmt && (video_enc->pix_fmt = av_get_pix_fmt(frame_pix_fmt)) == PIX_FMT_NONE) {",
          "content_same": false
        },
        {
          "line": 3332,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Unknown pixel format requested: %s.\\n\", frame_pix_fmt)",
          "old_line_content": "        if (intra_only)",
          "new_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Unknown pixel format requested: %s.\\n\", frame_pix_fmt);",
          "content_same": false
        },
        {
          "line": 3333,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "            video_enc->gop_size = 0;",
          "new_line_content": "            exit_program(1);",
          "content_same": false
        },
        {
          "line": 3339,
          "old_api": null,
          "new_api": "MATCH_PER_STREAM_OPT",
          "old_text": null,
          "new_text": "MATCH_PER_STREAM_OPT(intra_matrices, str, intra_matrix, oc, st)",
          "old_line_content": "            }",
          "new_line_content": "        MATCH_PER_STREAM_OPT(intra_matrices, str, intra_matrix, oc, st);",
          "content_same": false
        },
        {
          "line": 3341,
          "old_api": null,
          "new_api": "av_mallocz",
          "old_text": null,
          "new_text": "av_mallocz(sizeof(*video_enc->intra_matrix) * 64)",
          "old_line_content": "        }",
          "new_line_content": "            if (!(video_enc->intra_matrix = av_mallocz(sizeof(*video_enc->intra_matrix) * 64))) {",
          "content_same": false
        },
        {
          "line": 3343,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "        if (inter_matrix) {",
          "new_line_content": "                exit_program(1);",
          "content_same": false
        },
        {
          "line": 3347,
          "old_api": null,
          "new_api": "MATCH_PER_STREAM_OPT",
          "old_text": null,
          "new_text": "MATCH_PER_STREAM_OPT(inter_matrices, str, inter_matrix, oc, st)",
          "old_line_content": "            }",
          "new_line_content": "        MATCH_PER_STREAM_OPT(inter_matrices, str, inter_matrix, oc, st);",
          "content_same": false
        },
        {
          "line": 3349,
          "old_api": null,
          "new_api": "av_mallocz",
          "old_text": null,
          "new_text": "av_mallocz(sizeof(*video_enc->inter_matrix) * 64)",
          "old_line_content": "        }",
          "new_line_content": "            if (!(video_enc->inter_matrix = av_mallocz(sizeof(*video_enc->inter_matrix) * 64))) {",
          "content_same": false
        },
        {
          "line": 3350,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Could not allocate memory for inter matrix.\\n\")",
          "old_line_content": "",
          "new_line_content": "                av_log(NULL, AV_LOG_FATAL, \"Could not allocate memory for inter matrix.\\n\");",
          "content_same": false
        },
        {
          "line": 3353,
          "old_api": null,
          "new_api": "parse_matrix_coeffs",
          "old_text": null,
          "new_text": "parse_matrix_coeffs(video_enc->inter_matrix, inter_matrix)",
          "old_line_content": "            int start, end, q;",
          "new_line_content": "            parse_matrix_coeffs(video_enc->inter_matrix, inter_matrix);",
          "content_same": false
        },
        {
          "line": 3359,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf(p, \"%d,%d,%d\", &start, &end, &q)",
          "old_line_content": "            /* FIXME realloc failure */",
          "new_line_content": "            int e=sscanf(p, \"%d,%d,%d\", &start, &end, &q);",
          "content_same": false
        },
        {
          "line": 3362,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "                           sizeof(RcOverride)*(i+1));",
          "new_line_content": "                exit_program(1);",
          "content_same": false
        },
        {
          "line": 3366,
          "old_api": null,
          "new_api": "av_realloc",
          "old_text": null,
          "new_text": "av_realloc(video_enc->rc_override,\n                           sizeof(RcOverride)*(i+1))",
          "old_line_content": "                video_enc->rc_override[i].qscale= q;",
          "new_line_content": "                av_realloc(video_enc->rc_override,",
          "content_same": false
        },
        {
          "line": 3378,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(p, '/')",
          "old_line_content": "            video_enc->rc_initial_buffer_occupancy = video_enc->rc_buffer_size*3/4;",
          "new_line_content": "            p= strchr(p, '/');",
          "content_same": false
        },
        {
          "line": 3395,
          "old_api": null,
          "new_api": "MATCH_PER_STREAM_OPT",
          "old_text": null,
          "new_text": "MATCH_PER_STREAM_OPT(forced_key_frames, str, forced_key_frames, oc, st)",
          "old_line_content": "        ost->force_fps = force_fps;",
          "new_line_content": "        MATCH_PER_STREAM_OPT(forced_key_frames, str, forced_key_frames, oc, st);",
          "content_same": false
        },
        {
          "line": 3399,
          "old_api": null,
          "new_api": "MATCH_PER_STREAM_OPT",
          "old_text": null,
          "new_text": "MATCH_PER_STREAM_OPT(force_fps, i, force_fps, oc, st)",
          "old_line_content": "",
          "new_line_content": "        MATCH_PER_STREAM_OPT(force_fps, i, force_fps, oc, st);",
          "content_same": false
        },
        {
          "line": 3402,
          "old_api": null,
          "new_api": "MATCH_PER_STREAM_OPT",
          "old_text": null,
          "new_text": "MATCH_PER_STREAM_OPT(top_field_first, i, top_field_first, oc, st)",
          "old_line_content": "        if (filters)",
          "new_line_content": "        MATCH_PER_STREAM_OPT(top_field_first, i, top_field_first, oc, st);",
          "content_same": false
        },
        {
          "line": 3406,
          "old_api": null,
          "new_api": "MATCH_PER_STREAM_OPT",
          "old_text": null,
          "new_text": "MATCH_PER_STREAM_OPT(filters, str, filters, oc, st)",
          "old_line_content": "",
          "new_line_content": "        MATCH_PER_STREAM_OPT(filters, str, filters, oc, st);",
          "content_same": false
        },
        {
          "line": 3408,
          "old_api": null,
          "new_api": "av_strdup",
          "old_text": null,
          "new_text": "av_strdup(filters)",
          "old_line_content": "}",
          "new_line_content": "            ost->avfilter = av_strdup(filters);",
          "content_same": false
        },
        {
          "line": 3421,
          "old_api": null,
          "new_api": "new_output_stream",
          "old_text": null,
          "new_text": "new_output_stream(o, oc, AVMEDIA_TYPE_AUDIO)",
          "old_line_content": "",
          "new_line_content": "    ost = new_output_stream(o, oc, AVMEDIA_TYPE_AUDIO);",
          "content_same": false
        },
        {
          "line": 3432,
          "old_api": null,
          "new_api": "MATCH_PER_STREAM_OPT",
          "old_text": null,
          "new_text": "MATCH_PER_STREAM_OPT(sample_fmts, str, sample_fmt, oc, st)",
          "old_line_content": "        }",
          "new_line_content": "        MATCH_PER_STREAM_OPT(sample_fmts, str, sample_fmt, oc, st);",
          "content_same": false
        },
        {
          "line": 3435,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Invalid sample format '%s'\\n\", sample_fmt)",
          "old_line_content": "    }",
          "new_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Invalid sample format '%s'\\n\", sample_fmt);",
          "content_same": false
        },
        {
          "line": 3436,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "",
          "new_line_content": "            exit_program(1);",
          "content_same": false
        },
        {
          "line": 3439,
          "old_api": null,
          "new_api": "MATCH_PER_STREAM_OPT",
          "old_text": null,
          "new_text": "MATCH_PER_STREAM_OPT(audio_sample_rate, i, audio_enc->sample_rate, oc, st)",
          "old_line_content": "",
          "new_line_content": "        MATCH_PER_STREAM_OPT(audio_sample_rate, i, audio_enc->sample_rate, oc, st);",
          "content_same": false
        },
        {
          "line": 3450,
          "old_api": null,
          "new_api": "new_output_stream",
          "old_text": null,
          "new_text": "new_output_stream(o, oc, AVMEDIA_TYPE_DATA)",
          "old_line_content": "    }",
          "new_line_content": "    ost = new_output_stream(o, oc, AVMEDIA_TYPE_DATA);",
          "content_same": false
        },
        {
          "line": 3453,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Data stream encoding not supported yet (only streamcopy)\\n\")",
          "old_line_content": "}",
          "new_line_content": "        av_log(NULL, AV_LOG_FATAL, \"Data stream encoding not supported yet (only streamcopy)\\n\");",
          "content_same": false
        },
        {
          "line": 3454,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "",
          "new_line_content": "        exit_program(1);",
          "content_same": false
        },
        {
          "line": 3462,
          "old_api": null,
          "new_api": "new_output_stream",
          "old_text": null,
          "new_text": "new_output_stream(o, oc, AVMEDIA_TYPE_ATTACHMENT)",
          "old_line_content": "static OutputStream *new_subtitle_stream(OptionsContext *o, AVFormatContext *oc)",
          "new_line_content": "    OutputStream *ost = new_output_stream(o, oc, AVMEDIA_TYPE_ATTACHMENT);",
          "content_same": false
        },
        {
          "line": 3473,
          "old_api": null,
          "new_api": "new_output_stream",
          "old_text": null,
          "new_text": "new_output_stream(o, oc, AVMEDIA_TYPE_SUBTITLE)",
          "old_line_content": "",
          "new_line_content": "    ost = new_output_stream(o, oc, AVMEDIA_TYPE_SUBTITLE);",
          "content_same": false
        },
        {
          "line": 3489,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(idx_str, arg, sizeof(idx_str))",
          "old_line_content": "               arg, opt);",
          "new_line_content": "    av_strlcpy(idx_str, arg, sizeof(idx_str));",
          "content_same": false
        },
        {
          "line": 3492,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL,\n               \"Invalid value '%s' for option '%s', required syntax is 'index:value'\\n\",\n               arg, opt)",
          "old_line_content": "    *p++ = '\\0';",
          "new_line_content": "        av_log(NULL, AV_LOG_FATAL,",
          "content_same": false
        },
        {
          "line": 3498,
          "old_api": null,
          "new_api": "parse_number_or_die",
          "old_text": null,
          "new_text": "parse_number_or_die(opt, idx_str, OPT_INT, 0, MAX_STREAMS-1)",
          "old_line_content": "",
          "new_line_content": "    idx = parse_number_or_die(opt, idx_str, OPT_INT, 0, MAX_STREAMS-1);",
          "content_same": false
        },
        {
          "line": 3499,
          "old_api": null,
          "new_api": "grow_array",
          "old_text": null,
          "new_text": "grow_array(o->streamid_map, sizeof(*o->streamid_map), &o->nb_streamid_map, idx+1)",
          "old_line_content": "static int copy_chapters(InputFile *ifile, OutputFile *ofile, int copy_metadata)",
          "new_line_content": "    o->streamid_map = grow_array(o->streamid_map, sizeof(*o->streamid_map), &o->nb_streamid_map, idx+1);",
          "content_same": false
        },
        {
          "line": 3500,
          "old_api": null,
          "new_api": "parse_number_or_die",
          "old_text": null,
          "new_text": "parse_number_or_die(opt, p, OPT_INT, 0, INT_MAX)",
          "old_line_content": "{",
          "new_line_content": "    o->streamid_map[idx] = parse_number_or_die(opt, p, OPT_INT, 0, INT_MAX);",
          "content_same": false
        },
        {
          "line": 3512,
          "old_api": null,
          "new_api": "av_rescale_q",
          "old_text": null,
          "new_text": "av_rescale_q(ofile->start_time - ifile->ts_offset,\n                                      AV_TIME_BASE_Q, in_ch->time_base)",
          "old_line_content": "",
          "new_line_content": "        int64_t ts_off   = av_rescale_q(ofile->start_time - ifile->ts_offset,",
          "content_same": false
        },
        {
          "line": 3515,
          "old_api": null,
          "new_api": "av_rescale_q",
          "old_text": null,
          "new_text": "av_rescale_q(ofile->recording_time, AV_TIME_BASE_Q, in_ch->time_base)",
          "old_line_content": "        if (rt != INT64_MAX && in_ch->start > rt + ts_off)",
          "new_line_content": "                           av_rescale_q(ofile->recording_time, AV_TIME_BASE_Q, in_ch->time_base);",
          "content_same": false
        },
        {
          "line": 3523,
          "old_api": null,
          "new_api": "av_mallocz",
          "old_text": null,
          "new_text": "av_mallocz(sizeof(AVChapter))",
          "old_line_content": "        out_ch->time_base = in_ch->time_base;",
          "new_line_content": "        out_ch = av_mallocz(sizeof(AVChapter));",
          "content_same": false
        },
        {
          "line": 3529,
          "old_api": null,
          "new_api": "FFMAX",
          "old_text": null,
          "new_text": "FFMAX(0,  in_ch->start - ts_off)",
          "old_line_content": "",
          "new_line_content": "        out_ch->start     = FFMAX(0,  in_ch->start - ts_off);",
          "content_same": false
        },
        {
          "line": 3530,
          "old_api": null,
          "new_api": "FFMIN",
          "old_text": null,
          "new_text": "FFMIN(rt, in_ch->end   - ts_off)",
          "old_line_content": "        os->nb_chapters++;",
          "new_line_content": "        out_ch->end       = FFMIN(rt, in_ch->end   - ts_off);",
          "content_same": false
        },
        {
          "line": 3536,
          "old_api": null,
          "new_api": "av_realloc_f",
          "old_text": null,
          "new_text": "av_realloc_f(os->chapters, os->nb_chapters, sizeof(AVChapter))",
          "old_line_content": "    return 0;",
          "new_line_content": "        os->chapters = av_realloc_f(os->chapters, os->nb_chapters, sizeof(AVChapter));",
          "content_same": false
        },
        {
          "line": 3538,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "            return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 3549,
          "old_api": null,
          "new_api": "avformat_open_input",
          "old_text": null,
          "new_text": "avformat_open_input(&ic, filename, NULL, NULL)",
          "old_line_content": "        AVStream *st;",
          "new_line_content": "    err = avformat_open_input(&ic, filename, NULL, NULL);",
          "content_same": false
        },
        {
          "line": 3563,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(st, ic->streams[i], sizeof(AVStream))",
          "old_line_content": "        if (st->codec->codec_type == AVMEDIA_TYPE_AUDIO && !st->stream_copy)",
          "new_line_content": "        memcpy(st, ic->streams[i], sizeof(AVStream));",
          "content_same": false
        },
        {
          "line": 3565,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(st->info, ic->streams[i]->info, sizeof(*st->info))",
          "old_line_content": "        else if (st->codec->codec_type == AVMEDIA_TYPE_VIDEO && !st->stream_copy)",
          "new_line_content": "        memcpy(st->info, ic->streams[i]->info, sizeof(*st->info));",
          "content_same": false
        },
        {
          "line": 3571,
          "old_api": null,
          "new_api": "choose_pixel_fmt",
          "old_text": null,
          "new_text": "choose_pixel_fmt(st, codec)",
          "old_line_content": "}",
          "new_line_content": "            choose_pixel_fmt(st, codec);",
          "content_same": false
        },
        {
          "line": 3574,
          "old_api": null,
          "new_api": "av_close_input_file",
          "old_text": null,
          "new_text": "av_close_input_file(ic)",
          "old_line_content": "{",
          "new_line_content": "    av_close_input_file(ic);",
          "content_same": false
        },
        {
          "line": 3590,
          "old_api": null,
          "new_api": "avformat_alloc_output_context2",
          "old_text": null,
          "new_text": "avformat_alloc_output_context2(&oc, NULL, o->format, filename)",
          "old_line_content": "    file_oformat= oc->oformat;",
          "new_line_content": "    err = avformat_alloc_output_context2(&oc, NULL, o->format, filename);",
          "content_same": false
        },
        {
          "line": 3597,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(file_oformat->name, \"ffm\")",
          "old_line_content": "        if (err < 0) {",
          "new_line_content": "    if (!strcmp(file_oformat->name, \"ffm\") &&",
          "content_same": false
        },
        {
          "line": 3601,
          "old_api": null,
          "new_api": "read_ffserver_streams",
          "old_text": null,
          "new_text": "read_ffserver_streams(o, oc, filename)",
          "old_line_content": "    } else if (!o->nb_stream_maps) {",
          "new_line_content": "        int err = read_ffserver_streams(o, oc, filename);",
          "content_same": false
        },
        {
          "line": 3603,
          "old_api": null,
          "new_api": "print_error",
          "old_text": null,
          "new_text": "print_error(filename, err)",
          "old_line_content": "#define NEW_STREAM(type, index)\\",
          "new_line_content": "            print_error(filename, err);",
          "content_same": false
        },
        {
          "line": 3604,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "        if (index >= 0) {\\",
          "new_line_content": "            exit_program(1);",
          "content_same": false
        },
        {
          "line": 3627,
          "old_api": null,
          "new_api": "NEW_STREAM",
          "old_text": null,
          "new_text": "NEW_STREAM(video, idx)",
          "old_line_content": "            int channels = 0, idx = -1;",
          "new_line_content": "            NEW_STREAM(video, idx);",
          "content_same": false
        },
        {
          "line": 3641,
          "old_api": null,
          "new_api": "NEW_STREAM",
          "old_text": null,
          "new_text": "NEW_STREAM(audio, idx)",
          "old_line_content": "            for (i = 0; i < nb_input_streams; i++)",
          "new_line_content": "            NEW_STREAM(audio, idx);",
          "content_same": false
        },
        {
          "line": 3648,
          "old_api": null,
          "new_api": "NEW_STREAM",
          "old_text": null,
          "new_text": "NEW_STREAM(subtitle, i)",
          "old_line_content": "    } else {",
          "new_line_content": "                    NEW_STREAM(subtitle, i);",
          "content_same": false
        },
        {
          "line": 3669,
          "old_api": null,
          "new_api": "new_video_stream",
          "old_text": null,
          "new_text": "new_video_stream(o, oc)",
          "old_line_content": "            default:",
          "new_line_content": "            case AVMEDIA_TYPE_VIDEO:    ost = new_video_stream(o, oc);    break;",
          "content_same": false
        },
        {
          "line": 3671,
          "old_api": null,
          "new_api": "new_subtitle_stream",
          "old_text": null,
          "new_text": "new_subtitle_stream(o, oc)",
          "old_line_content": "                       map->file_index, map->stream_index);",
          "new_line_content": "            case AVMEDIA_TYPE_SUBTITLE: ost = new_subtitle_stream(o, oc); break;",
          "content_same": false
        },
        {
          "line": 3673,
          "old_api": null,
          "new_api": "new_attachment_stream",
          "old_text": null,
          "new_text": "new_attachment_stream(o, oc)",
          "old_line_content": "            }",
          "new_line_content": "            case AVMEDIA_TYPE_ATTACHMENT: ost = new_attachment_stream(o, oc); break;",
          "content_same": false
        },
        {
          "line": 3675,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Cannot map stream #%d.%d - unsupported type.\\n\",\n                       map->file_index, map->stream_index)",
          "old_line_content": "            ost->source_index = input_files[map->file_index].ist_index + map->stream_index;",
          "new_line_content": "                av_log(NULL, AV_LOG_FATAL, \"Cannot map stream #%d.%d - unsupported type.\\n\",",
          "content_same": false
        },
        {
          "line": 3677,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "                                           map->sync_stream_index];",
          "new_line_content": "                exit_program(1);",
          "content_same": false
        },
        {
          "line": 3687,
          "old_api": null,
          "new_api": "grow_array",
          "old_text": null,
          "new_text": "grow_array(output_files, sizeof(*output_files), &nb_output_files, nb_output_files + 1)",
          "old_line_content": "    output_files[nb_output_files - 1].limit_filesize = o->limit_filesize;",
          "new_line_content": "    output_files = grow_array(output_files, sizeof(*output_files), &nb_output_files, nb_output_files + 1);",
          "content_same": false
        },
        {
          "line": 3697,
          "old_api": null,
          "new_api": "av_filename_number_test",
          "old_text": null,
          "new_text": "av_filename_number_test(oc->filename)",
          "old_line_content": "",
          "new_line_content": "        if (!av_filename_number_test(oc->filename)) {",
          "content_same": false
        },
        {
          "line": 3698,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "    if (!(oc->oformat->flags & AVFMT_NOFILE)) {",
          "new_line_content": "            print_error(oc->filename, AVERROR(EINVAL));",
          "content_same": false
        },
        {
          "line": 3699,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "        /* test if it already exists to avoid loosing precious files */",
          "new_line_content": "            exit_program(1);",
          "content_same": false
        },
        {
          "line": 3711,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr,\"File '%s' already exists. Overwrite ? [y/N] \", filename)",
          "old_line_content": "                    }",
          "new_line_content": "                    fprintf(stderr,\"File '%s' already exists. Overwrite ? [y/N] \", filename);",
          "content_same": false
        },
        {
          "line": 3713,
          "old_api": null,
          "new_api": "read_yn",
          "old_text": null,
          "new_text": "read_yn()",
          "old_line_content": "                }",
          "new_line_content": "                    if (!read_yn()) {",
          "content_same": false
        },
        {
          "line": 3714,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(0, AV_LOG_FATAL, \"\\nNot overwriting - exiting\\n\")",
          "old_line_content": "                else {",
          "new_line_content": "                        av_log(0, AV_LOG_FATAL, \"\\nNot overwriting - exiting\\n\");",
          "content_same": false
        },
        {
          "line": 3717,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr,\"\\n\")",
          "old_line_content": "                }",
          "new_line_content": "                    fprintf(stderr,\"\\n\");",
          "content_same": false
        },
        {
          "line": 3720,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(0, AV_LOG_FATAL,\"File '%s' already exists. Exiting.\\n\", filename)",
          "old_line_content": "",
          "new_line_content": "                    av_log(0, AV_LOG_FATAL,\"File '%s' already exists. Exiting.\\n\", filename);",
          "content_same": false
        },
        {
          "line": 3721,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "        /* open the file */",
          "new_line_content": "                    exit_program(1);",
          "content_same": false
        },
        {
          "line": 3727,
          "old_api": null,
          "new_api": "avio_open",
          "old_text": null,
          "new_text": "avio_open(&oc->pb, filename, AVIO_FLAG_WRITE)",
          "old_line_content": "",
          "new_line_content": "        if ((err = avio_open(&oc->pb, filename, AVIO_FLAG_WRITE)) < 0) {",
          "content_same": false
        },
        {
          "line": 3728,
          "old_api": null,
          "new_api": "print_error",
          "old_text": null,
          "new_text": "print_error(filename, err)",
          "old_line_content": "    oc->preload   = (int)(o->mux_preload   * AV_TIME_BASE);",
          "new_line_content": "            print_error(filename, err);",
          "content_same": false
        },
        {
          "line": 3729,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "    oc->max_delay = (int)(o->mux_max_delay * AV_TIME_BASE);",
          "new_line_content": "            exit_program(1);",
          "content_same": false
        },
        {
          "line": 3737,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_WARNING, \"-loop_output is deprecated, use -loop\\n\")",
          "old_line_content": "    if (o->chapters_input_file >= nb_input_files) {",
          "new_line_content": "        av_log(NULL, AV_LOG_WARNING, \"-loop_output is deprecated, use -loop\\n\");",
          "content_same": false
        },
        {
          "line": 3752,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Invalid input file index %d in chapter mapping.\\n\",\n                   o->chapters_input_file)",
          "old_line_content": "    if (o->chapters_input_file >= 0)",
          "new_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Invalid input file index %d in chapter mapping.\\n\",",
          "content_same": false
        },
        {
          "line": 3754,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "                      !o->metadata_chapters_manual);",
          "new_line_content": "            exit_program(1);",
          "content_same": false
        },
        {
          "line": 3758,
          "old_api": null,
          "new_api": "copy_chapters",
          "old_text": null,
          "new_text": "copy_chapters(&input_files[o->chapters_input_file], &output_files[nb_output_files - 1],\n                      !o->metadata_chapters_manual)",
          "old_line_content": "        AVFormatContext *files[2];",
          "new_line_content": "        copy_chapters(&input_files[o->chapters_input_file], &output_files[nb_output_files - 1],",
          "content_same": false
        },
        {
          "line": 3777,
          "old_api": null,
          "new_api": "METADATA_CHECK_INDEX",
          "old_text": null,
          "new_text": "METADATA_CHECK_INDEX(in_file_index, nb_input_files, \"input file\")",
          "old_line_content": "        for (j = 0; j < 2; j++) {",
          "new_line_content": "        METADATA_CHECK_INDEX(in_file_index, nb_input_files, \"input file\")",
          "content_same": false
        },
        {
          "line": 3790,
          "old_api": null,
          "new_api": "METADATA_CHECK_INDEX",
          "old_text": null,
          "new_text": "METADATA_CHECK_INDEX(map->index, files[j]->nb_streams, \"stream\")",
          "old_line_content": "                meta[j] = &files[j]->chapters[map->index]->metadata;",
          "new_line_content": "                METADATA_CHECK_INDEX(map->index, files[j]->nb_streams, \"stream\")",
          "content_same": false
        },
        {
          "line": 3794,
          "old_api": null,
          "new_api": "METADATA_CHECK_INDEX",
          "old_text": null,
          "new_text": "METADATA_CHECK_INDEX(map->index, files[j]->nb_chapters, \"chapter\")",
          "old_line_content": "                meta[j] = &files[j]->programs[map->index]->metadata;",
          "new_line_content": "                METADATA_CHECK_INDEX(map->index, files[j]->nb_chapters, \"chapter\")",
          "content_same": false
        },
        {
          "line": 3798,
          "old_api": null,
          "new_api": "METADATA_CHECK_INDEX",
          "old_text": null,
          "new_text": "METADATA_CHECK_INDEX(map->index, files[j]->nb_programs, \"program\")",
          "old_line_content": "",
          "new_line_content": "                METADATA_CHECK_INDEX(map->index, files[j]->nb_programs, \"program\")",
          "content_same": false
        },
        {
          "line": 3809,
          "old_api": null,
          "new_api": "av_dict_copy",
          "old_text": null,
          "new_text": "av_dict_copy(&oc->metadata, input_files[0].ctx->metadata,\n                     AV_DICT_DONT_OVERWRITE)",
          "old_line_content": "    if (!o->metadata_streams_manual)",
          "new_line_content": "        av_dict_copy(&oc->metadata, input_files[0].ctx->metadata,",
          "content_same": false
        },
        {
          "line": 3817,
          "old_api": null,
          "new_api": "av_dict_copy",
          "old_text": null,
          "new_text": "av_dict_copy(&output_streams[i].st->metadata, ist->st->metadata, AV_DICT_DONT_OVERWRITE)",
          "old_line_content": "        AVDictionary **m;",
          "new_line_content": "            av_dict_copy(&output_streams[i].st->metadata, ist->st->metadata, AV_DICT_DONT_OVERWRITE);",
          "content_same": false
        },
        {
          "line": 3826,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(o->metadata[i].u.str, '=')",
          "old_line_content": "        }",
          "new_line_content": "        val = strchr(o->metadata[i].u.str, '=');",
          "content_same": false
        },
        {
          "line": 3828,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"No '=' character in metadata string %s.\\n\",\n                   o->metadata[i].u.str)",
          "old_line_content": "",
          "new_line_content": "            av_log(NULL, AV_LOG_FATAL, \"No '=' character in metadata string %s.\\n\",",
          "content_same": false
        },
        {
          "line": 3830,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "        switch (type) {",
          "new_line_content": "            exit_program(1);",
          "content_same": false
        },
        {
          "line": 3834,
          "old_api": null,
          "new_api": "parse_meta_type",
          "old_text": null,
          "new_text": "parse_meta_type(o->metadata[i].specifier, &type, &index)",
          "old_line_content": "        case 's':",
          "new_line_content": "        parse_meta_type(o->metadata[i].specifier, &type, &index);",
          "content_same": false
        },
        {
          "line": 3841,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Invalid stream index %d in metadata specifier.\\n\", index)",
          "old_line_content": "        case 'c':",
          "new_line_content": "                av_log(NULL, AV_LOG_FATAL, \"Invalid stream index %d in metadata specifier.\\n\", index);",
          "content_same": false
        },
        {
          "line": 3842,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "            if (index < 0 || index >= oc->nb_chapters) {",
          "new_line_content": "                exit_program(1);",
          "content_same": false
        },
        {
          "line": 3848,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Invalid chapter index %d in metadata specifier.\\n\", index)",
          "old_line_content": "        default:",
          "new_line_content": "                av_log(NULL, AV_LOG_FATAL, \"Invalid chapter index %d in metadata specifier.\\n\", index);",
          "content_same": false
        },
        {
          "line": 3854,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Invalid metadata specifier %s.\\n\", o->metadata[i].specifier)",
          "old_line_content": "    }",
          "new_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Invalid metadata specifier %s.\\n\", o->metadata[i].specifier);",
          "content_same": false
        },
        {
          "line": 3855,
          "old_api": null,
          "new_api": "exit_program",
          "old_text": null,
          "new_text": "exit_program(1)",
          "old_line_content": "",
          "new_line_content": "            exit_program(1);",
          "content_same": false
        },
        {
          "line": 3858,
          "old_api": null,
          "new_api": "av_dict_set",
          "old_text": null,
          "new_text": "av_dict_set(m, o->metadata[i].u.str, *val ? val : NULL, 0)",
          "old_line_content": "",
          "new_line_content": "        av_dict_set(m, o->metadata[i].u.str, *val ? val : NULL, 0);",
          "content_same": false
        },
        {
          "line": 3861,
          "old_api": null,
          "new_api": "reset_options",
          "old_text": null,
          "new_text": "reset_options(o, 0)",
          "old_line_content": "{",
          "new_line_content": "    reset_options(o, 0);",
          "content_same": false
        },
        {
          "line": 3867,
          "old_api": null,
          "new_api": "parse_number_or_die",
          "old_text": null,
          "new_text": "parse_number_or_die(opt, arg, OPT_INT, 1, 2)",
          "old_line_content": "{",
          "new_line_content": "    do_pass = parse_number_or_die(opt, arg, OPT_INT, 1, 2);",
          "content_same": false
        },
        {
          "line": 3881,
          "old_api": null,
          "new_api": "GetCurrentProcess",
          "old_text": null,
          "new_text": "GetCurrentProcess()",
          "old_line_content": "#endif",
          "new_line_content": "    proc = GetCurrentProcess();",
          "content_same": false
        },
        {
          "line": 3882,
          "old_api": null,
          "new_api": "GetProcessTimes",
          "old_text": null,
          "new_text": "GetProcessTimes(proc, &c, &e, &k, &u)",
          "old_line_content": "}",
          "new_line_content": "    GetProcessTimes(proc, &c, &e, &k, &u);",
          "content_same": false
        },
        {
          "line": 3885,
          "old_api": null,
          "new_api": "av_gettime",
          "old_text": null,
          "new_text": "av_gettime()",
          "old_line_content": "{",
          "new_line_content": "    return av_gettime();",
          "content_same": false
        },
        {
          "line": 3898,
          "old_api": null,
          "new_api": "GetCurrentProcess",
          "old_text": null,
          "new_text": "GetCurrentProcess()",
          "old_line_content": "    return 0;",
          "new_line_content": "    proc = GetCurrentProcess();",
          "content_same": false
        },
        {
          "line": 3900,
          "old_api": null,
          "new_api": "GetProcessMemoryInfo",
          "old_text": null,
          "new_text": "GetProcessMemoryInfo(proc, &memcounters, sizeof(memcounters))",
          "old_line_content": "}",
          "new_line_content": "    GetProcessMemoryInfo(proc, &memcounters, sizeof(memcounters));",
          "content_same": false
        },
        {
          "line": 3914,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"Hyper fast Audio and Video encoder\\n\")",
          "old_line_content": "static int opt_help(const char *opt, const char *arg)",
          "new_line_content": "    printf(\"Hyper fast Audio and Video encoder\\n\");",
          "content_same": false
        },
        {
          "line": 3915,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"usage: %s [options] [[infile options] -i infile]... {[outfile options] outfile}...\\n\", program_name)",
          "old_line_content": "{",
          "new_line_content": "    printf(\"usage: %s [options] [[infile options] -i infile]... {[outfile options] outfile}...\\n\", program_name);",
          "content_same": false
        },
        {
          "line": 3916,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"\\n\")",
          "old_line_content": "    AVCodec *c;",
          "new_line_content": "    printf(\"\\n\");",
          "content_same": false
        },
        {
          "line": 3926,
          "old_api": null,
          "new_api": "av_log_set_callback",
          "old_text": null,
          "new_text": "av_log_set_callback(log_callback_help)",
          "old_line_content": "                      OPT_EXPERT | OPT_AUDIO | OPT_VIDEO | OPT_SUBTITLE | OPT_GRAB,",
          "new_line_content": "    av_log_set_callback(log_callback_help);",
          "content_same": false
        },
        {
          "line": 3927,
          "old_api": null,
          "new_api": "show_usage",
          "old_text": null,
          "new_text": "show_usage()",
          "old_line_content": "                      OPT_EXPERT);",
          "new_line_content": "    show_usage();",
          "content_same": false
        },
        {
          "line": 3930,
          "old_api": null,
          "new_api": "show_help_options",
          "old_text": null,
          "new_text": "show_help_options(options, \"\\nAdvanced options:\\n\",\n                      OPT_EXPERT | OPT_AUDIO | OPT_VIDEO | OPT_SUBTITLE | OPT_GRAB,\n                      OPT_EXPERT)",
          "old_line_content": "                      OPT_VIDEO);",
          "new_line_content": "    show_help_options(options, \"\\nAdvanced options:\\n\",",
          "content_same": false
        },
        {
          "line": 3933,
          "old_api": null,
          "new_api": "show_help_options",
          "old_text": null,
          "new_text": "show_help_options(options, \"\\nVideo options:\\n\",\n                      OPT_EXPERT | OPT_AUDIO | OPT_VIDEO | OPT_GRAB,\n                      OPT_VIDEO)",
          "old_line_content": "                      OPT_VIDEO | OPT_EXPERT);",
          "new_line_content": "    show_help_options(options, \"\\nVideo options:\\n\",",
          "content_same": false
        },
        {
          "line": 3936,
          "old_api": null,
          "new_api": "show_help_options",
          "old_text": null,
          "new_text": "show_help_options(options, \"\\nAdvanced Video options:\\n\",\n                      OPT_EXPERT | OPT_AUDIO | OPT_VIDEO | OPT_GRAB,\n                      OPT_VIDEO | OPT_EXPERT)",
          "old_line_content": "                      OPT_AUDIO);",
          "new_line_content": "    show_help_options(options, \"\\nAdvanced Video options:\\n\",",
          "content_same": false
        },
        {
          "line": 3939,
          "old_api": null,
          "new_api": "show_help_options",
          "old_text": null,
          "new_text": "show_help_options(options, \"\\nAudio options:\\n\",\n                      OPT_EXPERT | OPT_AUDIO | OPT_VIDEO | OPT_GRAB,\n                      OPT_AUDIO)",
          "old_line_content": "                      OPT_AUDIO | OPT_EXPERT);",
          "new_line_content": "    show_help_options(options, \"\\nAudio options:\\n\",",
          "content_same": false
        },
        {
          "line": 3942,
          "old_api": null,
          "new_api": "show_help_options",
          "old_text": null,
          "new_text": "show_help_options(options, \"\\nAdvanced Audio options:\\n\",\n                      OPT_EXPERT | OPT_AUDIO | OPT_VIDEO | OPT_GRAB,\n                      OPT_AUDIO | OPT_EXPERT)",
          "old_line_content": "                      OPT_SUBTITLE);",
          "new_line_content": "    show_help_options(options, \"\\nAdvanced Audio options:\\n\",",
          "content_same": false
        },
        {
          "line": 3945,
          "old_api": null,
          "new_api": "show_help_options",
          "old_text": null,
          "new_text": "show_help_options(options, \"\\nSubtitle options:\\n\",\n                      OPT_SUBTITLE | OPT_GRAB,\n                      OPT_SUBTITLE)",
          "old_line_content": "                      OPT_GRAB);",
          "new_line_content": "    show_help_options(options, \"\\nSubtitle options:\\n\",",
          "content_same": false
        },
        {
          "line": 3951,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"\\n\")",
          "old_line_content": "    /* individual codec options */",
          "new_line_content": "    printf(\"\\n\");",
          "content_same": false
        },
        {
          "line": 3954,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"\\n\")",
          "old_line_content": "        if (c->priv_class) {",
          "new_line_content": "    printf(\"\\n\");",
          "content_same": false
        },
        {
          "line": 3958,
          "old_api": null,
          "new_api": "av_codec_next",
          "old_text": null,
          "new_text": "av_codec_next(c)",
          "old_line_content": "    }",
          "new_line_content": "    while ((c = av_codec_next(c))) {",
          "content_same": false
        },
        {
          "line": 3960,
          "old_api": null,
          "new_api": "av_opt_show2",
          "old_text": null,
          "new_text": "av_opt_show2(&c->priv_class, NULL, AV_OPT_FLAG_ENCODING_PARAM|AV_OPT_FLAG_DECODING_PARAM, 0)",
          "old_line_content": "    class = avformat_get_class();",
          "new_line_content": "            av_opt_show2(&c->priv_class, NULL, AV_OPT_FLAG_ENCODING_PARAM|AV_OPT_FLAG_DECODING_PARAM, 0);",
          "content_same": false
        },
        {
          "line": 3966,
          "old_api": null,
          "new_api": "av_opt_show2",
          "old_text": null,
          "new_text": "av_opt_show2(&class, NULL, AV_OPT_FLAG_ENCODING_PARAM|AV_OPT_FLAG_DECODING_PARAM, 0)",
          "old_line_content": "        if (oformat->priv_class) {",
          "new_line_content": "    av_opt_show2(&class, NULL, AV_OPT_FLAG_ENCODING_PARAM|AV_OPT_FLAG_DECODING_PARAM, 0);",
          "content_same": false
        },
        {
          "line": 3970,
          "old_api": null,
          "new_api": "av_oformat_next",
          "old_text": null,
          "new_text": "av_oformat_next(oformat)",
          "old_line_content": "    }",
          "new_line_content": "    while ((oformat = av_oformat_next(oformat))) {",
          "content_same": false
        },
        {
          "line": 3972,
          "old_api": null,
          "new_api": "av_opt_show2",
          "old_text": null,
          "new_text": "av_opt_show2(&oformat->priv_class, NULL, AV_OPT_FLAG_ENCODING_PARAM, 0)",
          "old_line_content": "    /* individual demuxer options */",
          "new_line_content": "            av_opt_show2(&oformat->priv_class, NULL, AV_OPT_FLAG_ENCODING_PARAM, 0);",
          "content_same": false
        },
        {
          "line": 3978,
          "old_api": null,
          "new_api": "av_iformat_next",
          "old_text": null,
          "new_text": "av_iformat_next(iformat)",
          "old_line_content": "    }",
          "new_line_content": "    while ((iformat = av_iformat_next(iformat))) {",
          "content_same": false
        },
        {
          "line": 3980,
          "old_api": null,
          "new_api": "av_opt_show2",
          "old_text": null,
          "new_text": "av_opt_show2(&iformat->priv_class, NULL, AV_OPT_FLAG_DECODING_PARAM, 0)",
          "old_line_content": "    class = sws_get_class();",
          "new_line_content": "            av_opt_show2(&iformat->priv_class, NULL, AV_OPT_FLAG_DECODING_PARAM, 0);",
          "content_same": false
        },
        {
          "line": 3986,
          "old_api": null,
          "new_api": "av_opt_show2",
          "old_text": null,
          "new_text": "av_opt_show2(&class, NULL, AV_OPT_FLAG_ENCODING_PARAM|AV_OPT_FLAG_DECODING_PARAM, 0)",
          "old_line_content": "{",
          "new_line_content": "    av_opt_show2(&class, NULL, AV_OPT_FLAG_ENCODING_PARAM|AV_OPT_FLAG_DECODING_PARAM, 0);",
          "content_same": false
        },
        {
          "line": 3995,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(arg, \"pal-\", 4)",
          "old_line_content": "        arg += 5;",
          "new_line_content": "    if(!strncmp(arg, \"pal-\", 4)) {",
          "content_same": false
        },
        {
          "line": 3998,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(arg, \"ntsc-\", 5)",
          "old_line_content": "        arg += 5;",
          "new_line_content": "    } else if(!strncmp(arg, \"ntsc-\", 5)) {",
          "content_same": false
        },
        {
          "line": 4001,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(arg, \"film-\", 5)",
          "old_line_content": "        if(nb_input_files) {",
          "new_line_content": "    } else if(!strncmp(arg, \"film-\", 5)) {",
          "content_same": false
        },
        {
          "line": 4031,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_FATAL, \"Could not determine norm (PAL/NTSC/NTSC-Film) for target.\\n\")",
          "old_line_content": "",
          "new_line_content": "        av_log(NULL, AV_LOG_FATAL, \"Could not determine norm (PAL/NTSC/NTSC-Film) for target.\\n\");",
          "content_same": false
        },
        {
          "line": 4040,
          "old_api": null,
          "new_api": "parse_option",
          "old_text": null,
          "new_text": "parse_option(o, \"f\", \"vcd\", options)",
          "old_line_content": "",
          "new_line_content": "        parse_option(o, \"f\", \"vcd\", options);",
          "content_same": false
        },
        {
          "line": 4049,
          "old_api": null,
          "new_api": "opt_default",
          "old_text": null,
          "new_text": "opt_default(\"bufsize\", \"327680\")",
          "old_line_content": "",
          "new_line_content": "        opt_default(\"bufsize\", \"327680\"); // 40*1024*8;",
          "content_same": false
        },
        {
          "line": 4052,
          "old_api": null,
          "new_api": "parse_option",
          "old_text": null,
          "new_text": "parse_option(o, \"ar\", \"44100\", options)",
          "old_line_content": "",
          "new_line_content": "        parse_option(o, \"ar\", \"44100\", options);",
          "content_same": false
        },
        {
          "line": 4053,
          "old_api": null,
          "new_api": "parse_option",
          "old_text": null,
          "new_text": "parse_option(o, \"ac\", \"2\", options)",
          "old_line_content": "        /* We have to offset the PTS, so that it is consistent with the SCR.",
          "new_line_content": "        parse_option(o, \"ac\", \"2\", options);",
          "content_same": false
        },
        {
          "line": 4055,
          "old_api": null,
          "new_api": "opt_default",
          "old_text": null,
          "new_text": "opt_default(\"packetsize\", \"2324\")",
          "old_line_content": "           and the first pack from the other stream, respectively, may also have",
          "new_line_content": "        opt_default(\"packetsize\", \"2324\");",
          "content_same": false
        },
        {
          "line": 4056,
          "old_api": null,
          "new_api": "opt_default",
          "old_text": null,
          "new_text": "opt_default(\"muxrate\", \"1411200\")",
          "old_line_content": "           been written before.",
          "new_line_content": "        opt_default(\"muxrate\", \"1411200\"); // 2352 * 75 * 8;",
          "content_same": false
        },
        {
          "line": 4064,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(arg, \"svcd\")",
          "old_line_content": "",
          "new_line_content": "    } else if(!strcmp(arg, \"svcd\")) {",
          "content_same": false
        },
        {
          "line": 4075,
          "old_api": null,
          "new_api": "opt_default",
          "old_text": null,
          "new_text": "opt_default(\"b\", \"2040000\")",
          "old_line_content": "",
          "new_line_content": "        opt_default(\"b\", \"2040000\");",
          "content_same": false
        },
        {
          "line": 4076,
          "old_api": null,
          "new_api": "opt_default",
          "old_text": null,
          "new_text": "opt_default(\"maxrate\", \"2516000\")",
          "old_line_content": "",
          "new_line_content": "        opt_default(\"maxrate\", \"2516000\");",
          "content_same": false
        },
        {
          "line": 4079,
          "old_api": null,
          "new_api": "opt_default",
          "old_text": null,
          "new_text": "opt_default(\"flags\", \"+scan_offset\")",
          "old_line_content": "",
          "new_line_content": "        opt_default(\"flags\", \"+scan_offset\");",
          "content_same": false
        },
        {
          "line": 4083,
          "old_api": null,
          "new_api": "parse_option",
          "old_text": null,
          "new_text": "parse_option(o, \"ar\", \"44100\", options)",
          "old_line_content": "",
          "new_line_content": "        parse_option(o, \"ar\", \"44100\", options);",
          "content_same": false
        },
        {
          "line": 4087,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(arg, \"dvd\")",
          "old_line_content": "",
          "new_line_content": "    } else if(!strcmp(arg, \"dvd\")) {",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 4102,
          "old_api": "parse_option",
          "new_api": null,
          "old_text": "parse_option(o, \"ar\", \"48000\", options)",
          "new_text": null,
          "old_line_content": "        parse_option(o, \"ar\", \"48000\", options);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4108,
          "old_api": "parse_option",
          "new_api": null,
          "old_text": "parse_option(o, \"s\", norm == PAL ? \"720x576\" : \"720x480\", options)",
          "new_text": null,
          "old_line_content": "        parse_option(o, \"s\", norm == PAL ? \"720x576\" : \"720x480\", options);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4117,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_ERROR, \"Unknown target: %s\\n\", arg)",
          "new_text": null,
          "old_line_content": "        av_log(NULL, AV_LOG_ERROR, \"Unknown target: %s\\n\", arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4125,
          "old_api": "av_free (vstats_filename)",
          "new_api": null,
          "old_text": "av_free (vstats_filename)",
          "new_text": null,
          "old_line_content": "    av_free (vstats_filename);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 4126,
          "old_api": "av_strdup (arg)",
          "new_api": null,
          "old_text": "av_strdup (arg)",
          "new_text": null,
          "old_line_content": "    vstats_filename=av_strdup (arg);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4133,
          "old_api": "time",
          "new_api": null,
          "old_text": "time(NULL)",
          "new_text": null,
          "old_line_content": "    time_t today2 = time(NULL);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4134,
          "old_api": "localtime",
          "new_api": null,
          "old_text": "localtime(&today2)",
          "new_text": null,
          "old_line_content": "    struct tm *today = localtime(&today2);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4136,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(filename, sizeof(filename), \"vstats_%02d%02d%02d.log\", today->tm_hour, today->tm_min,\n             today->tm_sec)",
          "new_text": null,
          "old_line_content": "    snprintf(filename, sizeof(filename), \"vstats_%02d%02d%02d.log\", today->tm_hour, today->tm_min,",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 4164,
          "old_api": "get_preset_file",
          "new_api": null,
          "old_text": "get_preset_file(filename, sizeof(filename), arg, *opt == 'f', codec_name)",
          "new_text": null,
          "old_line_content": "    if (!(f = get_preset_file(filename, sizeof(filename), arg, *opt == 'f', codec_name))) {",
          "new_line_content": "    char filename[1000], tmp[1000], tmp2[1000], line[1000];",
          "content_same": false
        },
        {
          "line": 4165,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(\"libx264-lossless\")",
          "new_text": null,
          "old_line_content": "        if(!strncmp(arg, \"libx264-lossless\", strlen(\"libx264-lossless\"))){",
          "new_line_content": "    const char *codec_name = *opt == 'v' ? video_codec_name :",
          "content_same": false
        },
        {
          "line": 4166,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(0, AV_LOG_FATAL, \"Please use -preset <speed> -qp 0\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(0, AV_LOG_FATAL, \"Please use -preset <speed> -qp 0\\n\");",
          "new_line_content": "                             *opt == 'a' ? audio_codec_name :",
          "content_same": false
        },
        {
          "line": 4168,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(0, AV_LOG_FATAL, \"File for preset '%s' not found\\n\", arg)",
          "new_text": null,
          "old_line_content": "            av_log(0, AV_LOG_FATAL, \"File for preset '%s' not found\\n\", arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4172,
          "old_api": "feof",
          "new_api": null,
          "old_text": "feof(f)",
          "new_text": null,
          "old_line_content": "    while(!feof(f)){",
          "new_line_content": "        }else",
          "content_same": false
        },
        {
          "line": 4176,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf(line, \"%999[^=]=%999[^\\n]\\n\", tmp, tmp2)",
          "new_text": null,
          "old_line_content": "        e|= sscanf(line, \"%999[^=]=%999[^\\n]\\n\", tmp, tmp2) - 2;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4179,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "            exit_program(1);",
          "new_line_content": "        if(line[0] == '#' && !e)",
          "content_same": false
        },
        {
          "line": 4182,
          "old_api": "opt_audio_codec",
          "new_api": null,
          "old_text": "opt_audio_codec(o, tmp, tmp2)",
          "new_text": null,
          "old_line_content": "            opt_audio_codec(o, tmp, tmp2);",
          "new_line_content": "        if(e){",
          "content_same": false
        },
        {
          "line": 4185,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(tmp, \"scodec\")",
          "new_text": null,
          "old_line_content": "        }else if(!strcmp(tmp, \"scodec\")){",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4208,
          "old_api": "opt_default",
          "new_api": null,
          "old_text": "opt_default(\"passlogfile\", arg)",
          "new_text": null,
          "old_line_content": "    return opt_default(\"passlogfile\", arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4216,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(opt)",
          "new_text": null,
          "old_line_content": "    char *s= av_malloc(strlen(opt)+2);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 4217,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(opt)",
          "new_text": null,
          "old_line_content": "    snprintf(s, strlen(opt)+2, \"%s:%c\", opt+1, *opt);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4218,
          "old_api": "parse_option",
          "new_api": null,
          "old_text": "parse_option(o, s, arg, options)",
          "new_text": null,
          "old_line_content": "    return parse_option(o, s, arg, options);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4224,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(0,AV_LOG_WARNING, \"Please use -b:a or -b:v, -b is ambiguous\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(0,AV_LOG_WARNING, \"Please use -b:a or -b:v, -b is ambiguous\\n\");",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4225,
          "old_api": "av_strdup",
          "new_api": null,
          "old_text": "av_strdup(\"b:v\")",
          "new_text": null,
          "old_line_content": "        return parse_option(o, av_strdup(\"b:v\"), arg, options);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4227,
          "old_api": "opt_default",
          "new_api": null,
          "old_text": "opt_default(opt, arg)",
          "new_text": null,
          "old_line_content": "    return opt_default(opt, arg);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 4239,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(format)",
          "new_text": null,
          "old_line_content": "    { \"f\", HAS_ARG | OPT_STRING | OPT_OFFSET, {.off = OFFSET(format)}, \"force format\", \"fmt\" },",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4242,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(codec_names)",
          "new_text": null,
          "old_line_content": "    { \"c\", HAS_ARG | OPT_STRING | OPT_SPEC, {.off = OFFSET(codec_names)}, \"codec name\", \"codec\" },",
          "new_line_content": "    /* main options */",
          "content_same": false
        },
        {
          "line": 4243,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(codec_names)",
          "new_text": null,
          "old_line_content": "    { \"codec\", HAS_ARG | OPT_STRING | OPT_SPEC, {.off = OFFSET(codec_names)}, \"codec name\", \"codec\" },",
          "new_line_content": "#include \"cmdutils_common_opts.h\"",
          "content_same": false
        },
        {
          "line": 4249,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(chapters_input_file)",
          "new_text": null,
          "old_line_content": "    { \"map_chapters\",  OPT_INT | HAS_ARG | OPT_EXPERT | OPT_OFFSET, {.off = OFFSET(chapters_input_file)},  \"set chapters mapping\", \"input_file_index\" },",
          "new_line_content": "    { \"map\", HAS_ARG | OPT_EXPERT | OPT_FUNC2, {(void*)opt_map}, \"set input stream mapping\", \"file.stream[:syncfile.syncstream]\" },",
          "content_same": false
        },
        {
          "line": 4250,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(recording_time)",
          "new_text": null,
          "old_line_content": "    { \"t\", HAS_ARG | OPT_TIME | OPT_OFFSET, {.off = OFFSET(recording_time)}, \"record or transcode \\\"duration\\\" seconds of audio/video\", \"duration\" },",
          "new_line_content": "    { \"map_meta_data\", HAS_ARG | OPT_EXPERT | OPT_FUNC2, {(void*)opt_map_meta_data}, \"DEPRECATED set meta data information of outfile from infile\",",
          "content_same": false
        },
        {
          "line": 4251,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(limit_filesize)",
          "new_text": null,
          "old_line_content": "    { \"fs\", HAS_ARG | OPT_INT64 | OPT_OFFSET, {.off = OFFSET(limit_filesize)}, \"set the limit file size in bytes\", \"limit_size\" }, //",
          "new_line_content": "      \"outfile[,metadata]:infile[,metadata]\" },",
          "content_same": false
        },
        {
          "line": 4252,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(start_time)",
          "new_text": null,
          "old_line_content": "    { \"ss\", HAS_ARG | OPT_TIME | OPT_OFFSET, {.off = OFFSET(start_time)}, \"set the start time offset\", \"time_off\" },",
          "new_line_content": "    { \"map_metadata\", HAS_ARG | OPT_EXPERT | OPT_FUNC2, {(void*)opt_map_metadata}, \"set metadata information of outfile from infile\",",
          "content_same": false
        },
        {
          "line": 4253,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(input_ts_offset)",
          "new_text": null,
          "old_line_content": "    { \"itsoffset\", HAS_ARG | OPT_TIME | OPT_OFFSET, {.off = OFFSET(input_ts_offset)}, \"set the input ts offset\", \"time_off\" },",
          "new_line_content": "      \"outfile[,metadata]:infile[,metadata]\" },",
          "content_same": false
        },
        {
          "line": 4265,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(rate_emu)",
          "new_text": null,
          "old_line_content": "    { \"re\", OPT_BOOL | OPT_EXPERT | OPT_OFFSET, {.off = OFFSET(rate_emu)}, \"read input at native frame rate\", \"\" },",
          "new_line_content": "    { \"timelimit\", HAS_ARG, {(void*)opt_timelimit}, \"set max runtime in seconds\", \"limit\" },",
          "content_same": false
        },
        {
          "line": 4279,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(max_frames)",
          "new_text": null,
          "old_line_content": "    { \"frames\", OPT_INT64 | HAS_ARG | OPT_SPEC, {.off = OFFSET(max_frames)}, \"set the number of frames to record\", \"number\" },",
          "new_line_content": "    { \"copytb\", OPT_BOOL | OPT_EXPERT, {(void*)&copy_tb}, \"copy input stream time base when stream copying\" },",
          "content_same": false
        },
        {
          "line": 4280,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(codec_tags)",
          "new_text": null,
          "old_line_content": "    { \"tag\",   OPT_STRING | HAS_ARG | OPT_SPEC, {.off = OFFSET(codec_tags)}, \"force codec tag/fourcc\", \"fourcc/tag\" },",
          "new_line_content": "    { \"shortest\", OPT_BOOL | OPT_EXPERT, {(void*)&opt_shortest}, \"finish encoding within shortest input\" }, //",
          "content_same": false
        },
        {
          "line": 4281,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(qscale)",
          "new_text": null,
          "old_line_content": "    { \"q\", HAS_ARG | OPT_EXPERT | OPT_DOUBLE | OPT_SPEC, {.off = OFFSET(qscale)}, \"use fixed quality scale (VBR)\", \"q\" },",
          "new_line_content": "    { \"dts_delta_threshold\", HAS_ARG | OPT_FLOAT | OPT_EXPERT, {(void*)&dts_delta_threshold}, \"timestamp discontinuity delta threshold\", \"threshold\" },",
          "content_same": false
        },
        {
          "line": 4282,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(qscale)",
          "new_text": null,
          "old_line_content": "    { \"qscale\", HAS_ARG | OPT_EXPERT | OPT_DOUBLE | OPT_SPEC, {.off = OFFSET(qscale)}, \"use fixed quality scale (VBR)\", \"q\" },",
          "new_line_content": "    { \"xerror\", OPT_BOOL, {(void*)&exit_on_error}, \"exit on error\", \"error\" },",
          "content_same": false
        },
        {
          "line": 4290,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(frame_sizes)",
          "new_text": null,
          "old_line_content": "    { \"s\", HAS_ARG | OPT_VIDEO | OPT_STRING | OPT_SPEC, {.off = OFFSET(frame_sizes)}, \"set frame size (WxH or abbreviation)\", \"size\" },",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 4291,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(frame_aspect_ratios)",
          "new_text": null,
          "old_line_content": "    { \"aspect\", HAS_ARG | OPT_VIDEO | OPT_STRING | OPT_SPEC, {.off = OFFSET(frame_aspect_ratios)}, \"set aspect ratio (4:3, 16:9 or 1.3333, 1.7777)\", \"aspect\" },",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4292,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(frame_pix_fmts)",
          "new_text": null,
          "old_line_content": "    { \"pix_fmt\", HAS_ARG | OPT_EXPERT | OPT_VIDEO | OPT_STRING | OPT_SPEC, {.off = OFFSET(frame_pix_fmts)}, \"set pixel format\", \"format\" },",
          "new_line_content": "    /* video options */",
          "content_same": false
        },
        {
          "line": 4304,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(video_disable)",
          "new_text": null,
          "old_line_content": "    { \"vn\", OPT_BOOL | OPT_VIDEO | OPT_OFFSET, {.off = OFFSET(video_disable)}, \"disable video\" },",
          "new_line_content": "    { \"padbottom\", HAS_ARG | OPT_VIDEO, {(void*)opt_pad}, \"Removed, use the pad filter instead\", \"size\" },",
          "content_same": false
        },
        {
          "line": 4306,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(rc_overrides)",
          "new_text": null,
          "old_line_content": "    { \"rc_override\", HAS_ARG | OPT_EXPERT | OPT_VIDEO | OPT_STRING | OPT_SPEC, {.off = OFFSET(rc_overrides)}, \"rate control override for specific intervals\", \"override\" },",
          "new_line_content": "    { \"padright\", HAS_ARG | OPT_VIDEO, {(void*)opt_pad}, \"Removed, use the pad filter instead\", \"size\" },",
          "content_same": false
        },
        {
          "line": 4320,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(intra_matrices)",
          "new_text": null,
          "old_line_content": "    { \"intra_matrix\", HAS_ARG | OPT_EXPERT | OPT_VIDEO | OPT_STRING | OPT_SPEC, {.off = OFFSET(intra_matrices)}, \"specify intra matrix coeffs\", \"matrix\" },",
          "new_line_content": "    { \"vstats\", OPT_EXPERT | OPT_VIDEO, {(void*)&opt_vstats}, \"dump video coding statistics to file\" },",
          "content_same": false
        },
        {
          "line": 4321,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(inter_matrices)",
          "new_text": null,
          "old_line_content": "    { \"inter_matrix\", HAS_ARG | OPT_EXPERT | OPT_VIDEO | OPT_STRING | OPT_SPEC, {.off = OFFSET(inter_matrices)}, \"specify inter matrix coeffs\", \"matrix\" },",
          "new_line_content": "    { \"vstats_file\", HAS_ARG | OPT_EXPERT | OPT_VIDEO, {(void*)opt_vstats_file}, \"dump video coding statistics to file\", \"file\" },",
          "content_same": false
        },
        {
          "line": 4322,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(top_field_first)",
          "new_text": null,
          "old_line_content": "    { \"top\", HAS_ARG | OPT_EXPERT | OPT_VIDEO | OPT_INT| OPT_SPEC, {.off = OFFSET(top_field_first)}, \"top=1/bottom=0/auto=-1 field first\", \"\" },",
          "new_line_content": "#if CONFIG_AVFILTER",
          "content_same": false
        },
        {
          "line": 4328,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(forced_key_frames)",
          "new_text": null,
          "old_line_content": "    { \"force_key_frames\", OPT_STRING | HAS_ARG | OPT_EXPERT | OPT_VIDEO | OPT_SPEC, {.off = OFFSET(forced_key_frames)}, \"force key frames at specified timestamps\", \"timestamps\" },",
          "new_line_content": "    { \"dc\", OPT_INT | HAS_ARG | OPT_EXPERT | OPT_VIDEO, {(void*)&intra_dc_precision}, \"intra_dc_precision\", \"precision\" },",
          "content_same": false
        },
        {
          "line": 4334,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(audio_sample_rate)",
          "new_text": null,
          "old_line_content": "    { \"ar\", HAS_ARG | OPT_AUDIO | OPT_INT | OPT_SPEC, {.off = OFFSET(audio_sample_rate)}, \"set audio sampling rate (in Hz)\", \"rate\" },",
          "new_line_content": "    { \"b\", HAS_ARG | OPT_VIDEO | OPT_FUNC2, {(void*)opt_bitrate}, \"video bitrate (please use -b:v)\", \"bitrate\" },",
          "content_same": false
        },
        {
          "line": 4335,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(audio_channels)",
          "new_text": null,
          "old_line_content": "    { \"ac\", HAS_ARG | OPT_AUDIO | OPT_INT | OPT_SPEC, {.off = OFFSET(audio_channels)}, \"set number of audio channels\", \"channels\" },",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4336,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(audio_disable)",
          "new_text": null,
          "old_line_content": "    { \"an\", OPT_BOOL | OPT_AUDIO | OPT_OFFSET, {.off = OFFSET(audio_disable)}, \"disable audio\" },",
          "new_line_content": "    /* audio options */",
          "content_same": false
        },
        {
          "line": 4343,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(subtitle_disable)",
          "new_text": null,
          "old_line_content": "    { \"sn\", OPT_BOOL | OPT_SUBTITLE | OPT_OFFSET, {.off = OFFSET(subtitle_disable)}, \"disable subtitle\" },",
          "new_line_content": "    { \"atag\", HAS_ARG | OPT_EXPERT | OPT_AUDIO | OPT_FUNC2, {(void*)opt_old2new}, \"force audio tag/fourcc\", \"fourcc/tag\" },",
          "content_same": false
        },
        {
          "line": 4353,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(mux_max_delay)",
          "new_text": null,
          "old_line_content": "    { \"muxdelay\", OPT_FLOAT | HAS_ARG | OPT_EXPERT   | OPT_OFFSET, {.off = OFFSET(mux_max_delay)}, \"set the maximum demux-decode delay\", \"seconds\" },",
          "new_line_content": "    { \"vc\", HAS_ARG | OPT_EXPERT | OPT_VIDEO | OPT_GRAB, {(void*)opt_video_channel}, \"deprecated, use -channel\", \"channel\" },",
          "content_same": false
        },
        {
          "line": 4354,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(mux_preload)",
          "new_text": null,
          "old_line_content": "    { \"muxpreload\", OPT_FLOAT | HAS_ARG | OPT_EXPERT | OPT_OFFSET, {.off = OFFSET(mux_preload)},   \"set the initial demux-decode delay\", \"seconds\" },",
          "new_line_content": "    { \"tvstd\", HAS_ARG | OPT_EXPERT | OPT_VIDEO | OPT_GRAB, {(void*)opt_video_standard}, \"deprecated, use -standard\", \"standard\" },",
          "content_same": false
        },
        {
          "line": 4356,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(bitstream_filters)",
          "new_text": null,
          "old_line_content": "    { \"bsf\", HAS_ARG | OPT_STRING | OPT_SPEC, {.off = OFFSET(bitstream_filters)}, \"A comma-separated list of bitstream filters\", \"bitstream_filters\" },",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4376,
          "old_api": "reset_options",
          "new_api": null,
          "old_text": "reset_options(&o, 0)",
          "new_text": null,
          "old_line_content": "    reset_options(&o, 0);",
          "new_line_content": "int main(int argc, char **argv)",
          "content_same": false
        },
        {
          "line": 4378,
          "old_api": "av_log_set_flags",
          "new_api": null,
          "old_text": "av_log_set_flags(AV_LOG_SKIP_REPEATED)",
          "new_text": null,
          "old_line_content": "    av_log_set_flags(AV_LOG_SKIP_REPEATED);",
          "new_line_content": "    OptionsContext o = { 0 };",
          "content_same": false
        },
        {
          "line": 4379,
          "old_api": "parse_loglevel",
          "new_api": null,
          "old_text": "parse_loglevel(argc, argv, options)",
          "new_text": null,
          "old_line_content": "    parse_loglevel(argc, argv, options);",
          "new_line_content": "    int64_t ti;",
          "content_same": false
        },
        {
          "line": 4390,
          "old_api": "avdevice_register_all",
          "new_api": null,
          "old_text": "avdevice_register_all()",
          "new_text": null,
          "old_line_content": "    avdevice_register_all();",
          "new_line_content": "        argv++;",
          "content_same": false
        },
        {
          "line": 4399,
          "old_api": "avio_set_interrupt_cb",
          "new_api": null,
          "old_text": "avio_set_interrupt_cb(decode_interrupt_cb)",
          "new_text": null,
          "old_line_content": "        avio_set_interrupt_cb(decode_interrupt_cb);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 4402,
          "old_api": "show_banner",
          "new_api": null,
          "old_text": "show_banner()",
          "new_text": null,
          "old_line_content": "    show_banner();",
          "new_line_content": "#if HAVE_ISATTY",
          "content_same": false
        },
        {
          "line": 4410,
          "old_api": "show_usage",
          "new_api": null,
          "old_text": "show_usage()",
          "new_text": null,
          "old_line_content": "        show_usage();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4411,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_WARNING, \"Use -h to get full help or, even better, run 'man %s'\\n\", program_name)",
          "new_text": null,
          "old_line_content": "        av_log(NULL, AV_LOG_WARNING, \"Use -h to get full help or, even better, run 'man %s'\\n\", program_name);",
          "new_line_content": "    /* parse options */",
          "content_same": false
        },
        {
          "line": 4418,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "        exit_program(1);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4426,
          "old_api": "getutime",
          "new_api": null,
          "old_text": "getutime()",
          "new_text": null,
          "old_line_content": "    ti = getutime();",
          "new_line_content": "    if (nb_input_files == 0) {",
          "content_same": false
        },
        {
          "line": 4429,
          "old_api": "getutime",
          "new_api": null,
          "old_text": "getutime()",
          "new_text": null,
          "old_line_content": "    ti = getutime() - ti;",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4435,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(0)",
          "new_text": null,
          "old_line_content": "    exit_program(0);",
          "new_line_content": "    if (do_benchmark) {",
          "content_same": false
        },
        {
          "line": 2450,
          "old_api": "read_key",
          "new_api": null,
          "old_text": "read_key()",
          "new_text": null,
          "old_line_content": "            key = run_as_daemon ? -1 : read_key();",
          "new_line_content": "            /* read_key() returns 0 on EOF */",
          "content_same": false
        },
        {
          "line": 2453,
          "old_api": "av_log_get_level",
          "new_api": null,
          "old_text": "av_log_get_level()",
          "new_text": null,
          "old_line_content": "            if (key == '+') av_log_set_level(av_log_get_level()+10);",
          "new_line_content": "                last_time = cur_time;",
          "content_same": false
        },
        {
          "line": 2454,
          "old_api": "av_log_get_level",
          "new_api": null,
          "old_text": "av_log_get_level()",
          "new_text": null,
          "old_line_content": "            if (key == '-') av_log_set_level(av_log_get_level()-10);",
          "new_line_content": "            }else",
          "content_same": false
        },
        {
          "line": 2463,
          "old_api": "av_log_set_level",
          "new_api": null,
          "old_text": "av_log_set_level(AV_LOG_DEBUG)",
          "new_text": null,
          "old_line_content": "                av_log_set_level(AV_LOG_DEBUG);",
          "new_line_content": "                    do_hex_dump = do_pkt_dump = 0;",
          "content_same": false
        },
        {
          "line": 2470,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"\\nEnter command: <target> <time> <command>[ <argument>]\\n\")",
          "new_text": null,
          "old_line_content": "                fprintf(stderr, \"\\nEnter command: <target> <time> <command>[ <argument>]\\n\");",
          "new_line_content": "#if CONFIG_AVFILTER",
          "content_same": false
        },
        {
          "line": 2472,
          "old_api": "read_key",
          "new_api": null,
          "old_text": "read_key()",
          "new_text": null,
          "old_line_content": "                while ((k = read_key()) != '\\n' && k != '\\r' && i < sizeof(buf)-1)",
          "new_line_content": "                char buf[4096], target[64], command[256], arg[256] = {0};",
          "content_same": false
        },
        {
          "line": 2478,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_DEBUG, \"Processing command target:%s time:%f command:%s arg:%s\",\n                           target, time, command, arg)",
          "new_text": null,
          "old_line_content": "                    av_log(NULL, AV_LOG_DEBUG, \"Processing command target:%s time:%f command:%s arg:%s\",",
          "new_line_content": "                    if (k > 0)",
          "content_same": false
        },
        {
          "line": 2484,
          "old_api": "avfilter_graph_send_command",
          "new_api": null,
          "old_text": "avfilter_graph_send_command(ost->graph, target, command, arg, buf, sizeof(buf),\n                                                                  key == 'c' ? AVFILTER_CMD_FLAG_ONE : 0)",
          "new_text": null,
          "old_line_content": "                                ret = avfilter_graph_send_command(ost->graph, target, command, arg, buf, sizeof(buf),",
          "new_line_content": "                           target, time, command, arg);",
          "content_same": false
        },
        {
          "line": 2486,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"Command reply for stream %d: ret:%d res:%s\\n\", i, ret, buf)",
          "new_text": null,
          "old_line_content": "                                fprintf(stderr, \"Command reply for stream %d: ret:%d res:%s\\n\", i, ret, buf);",
          "new_line_content": "                        ost = &output_streams[i];",
          "content_same": false
        },
        {
          "line": 2488,
          "old_api": "avfilter_graph_queue_command",
          "new_api": null,
          "old_text": "avfilter_graph_queue_command(ost->graph, target, command, arg, 0, time)",
          "new_text": null,
          "old_line_content": "                                ret = avfilter_graph_queue_command(ost->graph, target, command, arg, 0, time);",
          "new_line_content": "                            if (time < 0) {",
          "content_same": false
        },
        {
          "line": 2507,
          "old_api": "scanf",
          "new_api": null,
          "old_text": "scanf(\"%d\", &debug)",
          "new_text": null,
          "old_line_content": "                    scanf(\"%d\", &debug);",
          "new_line_content": "                    debug = input_streams[0].st->codec->debug<<1;",
          "content_same": false
        },
        {
          "line": 2515,
          "old_api": "av_log_set_level",
          "new_api": null,
          "old_text": "av_log_set_level(AV_LOG_DEBUG)",
          "new_text": null,
          "old_line_content": "                if(debug) av_log_set_level(AV_LOG_DEBUG);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 2516,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr,\"debug=%d\\n\", debug)",
          "new_text": null,
          "old_line_content": "                fprintf(stderr,\"debug=%d\\n\", debug);",
          "new_line_content": "                for(i=0;i<nb_output_streams;i++) {",
          "content_same": false
        },
        {
          "line": 2519,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"key    function\\n\"\n                                \"?      show this help\\n\"\n                                \"+      increase verbosity\\n\"\n                                \"-      decrease verbosity\\n\"\n                                \"c      Send command to filtergraph\\n\"\n                                \"D      cycle through available debug modes\\n\"\n                                \"h      dump packets/hex press to cycle through the 3 states\\n\"\n                                \"q      quit\\n\"\n                                \"s      Show QP histogram\\n\"\n                )",
          "new_text": null,
          "old_line_content": "                fprintf(stderr, \"key    function\\n\"",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 2544,
          "old_api": "avio_tell",
          "new_api": null,
          "old_text": "avio_tell(os->pb)",
          "new_text": null,
          "old_line_content": "                (os->pb && avio_tell(os->pb) >= of->limit_filesize))",
          "new_line_content": "            ost = &output_streams[i];",
          "content_same": false
        },
        {
          "line": 2546,
          "old_api": "av_q2d",
          "new_api": null,
          "old_text": "av_q2d(ost->st->time_base)",
          "new_text": null,
          "old_line_content": "            opts = ost->st->pts.val * av_q2d(ost->st->time_base);",
          "new_line_content": "            os = output_files[ost->file_index].ctx;",
          "content_same": false
        },
        {
          "line": 2569,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(no_packet, 0, nb_input_files)",
          "new_text": null,
          "old_line_content": "                memset(no_packet, 0, nb_input_files);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2570,
          "old_api": "usleep",
          "new_api": null,
          "old_text": "usleep(10000)",
          "new_text": null,
          "old_line_content": "                usleep(10000);",
          "new_line_content": "        /* if none, if is finished */",
          "content_same": false
        },
        {
          "line": 2578,
          "old_api": "av_read_frame",
          "new_api": null,
          "old_text": "av_read_frame(is, &pkt)",
          "new_text": null,
          "old_line_content": "        ret= av_read_frame(is, &pkt);",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 2579,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(EAGAIN)",
          "new_text": null,
          "old_line_content": "        if(ret == AVERROR(EAGAIN)){",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2593,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(no_packet, 0, nb_input_files)",
          "new_text": null,
          "old_line_content": "        memset(no_packet, 0, nb_input_files);",
          "new_line_content": "            else",
          "content_same": false
        },
        {
          "line": 2596,
          "old_api": "av_pkt_dump_log2",
          "new_api": null,
          "old_text": "av_pkt_dump_log2(NULL, AV_LOG_DEBUG, &pkt, do_hex_dump,\n                             is->streams[pkt.stream_index])",
          "new_text": null,
          "old_line_content": "            av_pkt_dump_log2(NULL, AV_LOG_DEBUG, &pkt, do_hex_dump,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2609,
          "old_api": "av_rescale_q",
          "new_api": null,
          "old_text": "av_rescale_q(input_files[ist->file_index].ts_offset, AV_TIME_BASE_Q, ist->st->time_base)",
          "new_text": null,
          "old_line_content": "            pkt.dts += av_rescale_q(input_files[ist->file_index].ts_offset, AV_TIME_BASE_Q, ist->st->time_base);",
          "new_line_content": "        ist = &input_streams[ist_index];",
          "content_same": false
        },
        {
          "line": 2611,
          "old_api": "av_rescale_q",
          "new_api": null,
          "old_text": "av_rescale_q(input_files[ist->file_index].ts_offset, AV_TIME_BASE_Q, ist->st->time_base)",
          "new_text": null,
          "old_line_content": "            pkt.pts += av_rescale_q(input_files[ist->file_index].ts_offset, AV_TIME_BASE_Q, ist->st->time_base);",
          "new_line_content": "            goto discard_packet;",
          "content_same": false
        },
        {
          "line": 2621,
          "old_api": "av_rescale_q",
          "new_api": null,
          "old_text": "av_rescale_q(pkt.dts, ist->st->time_base, AV_TIME_BASE_Q)",
          "new_text": null,
          "old_line_content": "            int64_t pkt_dts= av_rescale_q(pkt.dts, ist->st->time_base, AV_TIME_BASE_Q);",
          "new_line_content": "            pkt.dts *= ist->ts_scale;",
          "content_same": false
        },
        {
          "line": 2628,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_DEBUG, \"timestamp discontinuity %\"PRId64\", new offset= %\"PRId64\"\\n\",\n                       delta, input_files[ist->file_index].ts_offset)",
          "new_text": null,
          "old_line_content": "                av_log(NULL, AV_LOG_DEBUG, \"timestamp discontinuity %\"PRId64\", new offset= %\"PRId64\"\\n\",",
          "new_line_content": "            if((delta < -1LL*dts_delta_threshold*AV_TIME_BASE ||",
          "content_same": false
        },
        {
          "line": 2630,
          "old_api": "av_rescale_q",
          "new_api": null,
          "old_text": "av_rescale_q(delta, AV_TIME_BASE_Q, ist->st->time_base)",
          "new_text": null,
          "old_line_content": "                pkt.dts-= av_rescale_q(delta, AV_TIME_BASE_Q, ist->st->time_base);",
          "new_line_content": "                 ist->st->codec->codec_type != AVMEDIA_TYPE_SUBTITLE) ||",
          "content_same": false
        },
        {
          "line": 2632,
          "old_api": "av_rescale_q",
          "new_api": null,
          "old_text": "av_rescale_q(delta, AV_TIME_BASE_Q, ist->st->time_base)",
          "new_text": null,
          "old_line_content": "                    pkt.pts-= av_rescale_q(delta, AV_TIME_BASE_Q, ist->st->time_base);",
          "new_line_content": "                input_files[ist->file_index].ts_offset -= delta;",
          "content_same": false
        },
        {
          "line": 2639,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_ERROR, \"Error while decoding stream #%d.%d\\n\",\n                   ist->file_index, ist->st->index)",
          "new_text": null,
          "old_line_content": "            av_log(NULL, AV_LOG_ERROR, \"Error while decoding stream #%d.%d\\n\",",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2643,
          "old_api": "av_free_packet",
          "new_api": null,
          "old_text": "av_free_packet(&pkt)",
          "new_text": null,
          "old_line_content": "            av_free_packet(&pkt);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2651,
          "old_api": "print_report",
          "new_api": null,
          "old_text": "print_report(output_files, output_streams, nb_output_streams, 0, timer_start, cur_time)",
          "new_text": null,
          "old_line_content": "        print_report(output_files, output_streams, nb_output_streams, 0, timer_start, cur_time);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2658,
          "old_api": "output_packet",
          "new_api": null,
          "old_text": "output_packet(ist, i, output_streams, nb_output_streams, NULL)",
          "new_text": null,
          "old_line_content": "            output_packet(ist, i, output_streams, nb_output_streams, NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2661,
          "old_api": "flush_encoders",
          "new_api": null,
          "old_text": "flush_encoders(output_streams, nb_output_streams)",
          "new_text": null,
          "old_line_content": "    flush_encoders(output_streams, nb_output_streams);",
          "new_line_content": "        ist = &input_streams[i];",
          "content_same": false
        },
        {
          "line": 2672,
          "old_api": "av_gettime",
          "new_api": null,
          "old_text": "av_gettime()",
          "new_text": null,
          "old_line_content": "    print_report(output_files, output_streams, nb_output_streams, 1, timer_start, av_gettime());",
          "new_line_content": "        os = output_files[i].ctx;",
          "content_same": false
        },
        {
          "line": 2678,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&ost->st->codec->stats_in)",
          "new_text": null,
          "old_line_content": "            av_freep(&ost->st->codec->stats_in);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2679,
          "old_api": "avcodec_close",
          "new_api": null,
          "old_text": "avcodec_close(ost->st->codec)",
          "new_text": null,
          "old_line_content": "            avcodec_close(ost->st->codec);",
          "new_line_content": "    /* close each encoder */",
          "content_same": false
        },
        {
          "line": 2682,
          "old_api": "avfilter_graph_free",
          "new_api": null,
          "old_text": "avfilter_graph_free(&ost->graph)",
          "new_text": null,
          "old_line_content": "        avfilter_graph_free(&ost->graph);",
          "new_line_content": "        if (ost->encoding_needed) {",
          "content_same": false
        },
        {
          "line": 2690,
          "old_api": "avcodec_close",
          "new_api": null,
          "old_text": "avcodec_close(ist->st->codec)",
          "new_text": null,
          "old_line_content": "            avcodec_close(ist->st->codec);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2698,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&bit_buffer)",
          "new_text": null,
          "old_line_content": "    av_freep(&bit_buffer);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2699,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&no_packet)",
          "new_text": null,
          "old_line_content": "    av_freep(&no_packet);",
          "new_line_content": "    /* finished ! */",
          "content_same": false
        },
        {
          "line": 2706,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&ost->st->codec->extradata)",
          "new_text": null,
          "old_line_content": "                    av_freep(&ost->st->codec->extradata);",
          "new_line_content": "    if (output_streams) {",
          "content_same": false
        },
        {
          "line": 2708,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(ost->logfile)",
          "new_text": null,
          "old_line_content": "                    fclose(ost->logfile);",
          "new_line_content": "            ost = &output_streams[i];",
          "content_same": false
        },
        {
          "line": 2714,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(ost->resample_frame.data[0])",
          "new_text": null,
          "old_line_content": "                av_free(ost->resample_frame.data[0]);",
          "new_line_content": "                    ost->logfile = NULL;",
          "content_same": false
        },
        {
          "line": 2715,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(ost->forced_kf_pts)",
          "new_text": null,
          "old_line_content": "                av_free(ost->forced_kf_pts);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 2717,
          "old_api": "sws_freeContext",
          "new_api": null,
          "old_text": "sws_freeContext(ost->img_resample_ctx)",
          "new_text": null,
          "old_line_content": "                    sws_freeContext(ost->img_resample_ctx);",
          "new_line_content": "                                             initialized but set to zero */",
          "content_same": false
        },
        {
          "line": 2728,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_WARNING, \"-%s is deprecated, use -loglevel\\n\", opt)",
          "new_text": null,
          "old_line_content": "    av_log(NULL, AV_LOG_WARNING, \"-%s is deprecated, use -loglevel\\n\", opt);",
          "new_line_content": "    return ret;",
          "content_same": false
        },
        {
          "line": 2734,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Option '%s' has been removed, use the crop filter instead\\n\", opt)",
          "new_text": null,
          "old_line_content": "    av_log(NULL, AV_LOG_FATAL, \"Option '%s' has been removed, use the crop filter instead\\n\", opt);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 2735,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(EINVAL)",
          "new_text": null,
          "old_line_content": "    return AVERROR(EINVAL);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2751,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(arg, ':')",
          "new_text": null,
          "old_line_content": "    p = strchr(arg, ':');",
          "new_line_content": "    int x = 0, y = 0;",
          "content_same": false
        },
        {
          "line": 2753,
          "old_api": "strtol",
          "new_api": null,
          "old_text": "strtol(arg, &end, 10)",
          "new_text": null,
          "old_line_content": "        x = strtol(arg, &end, 10);",
          "new_line_content": "    const char *p;",
          "content_same": false
        },
        {
          "line": 2755,
          "old_api": "strtol",
          "new_api": null,
          "old_text": "strtol(end+1, &end, 10)",
          "new_text": null,
          "old_line_content": "            y = strtol(end+1, &end, 10);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2759,
          "old_api": "strtod",
          "new_api": null,
          "old_text": "strtod(arg, NULL)",
          "new_text": null,
          "old_line_content": "        ar = strtod(arg, NULL);",
          "new_line_content": "        if (end == p)",
          "content_same": false
        },
        {
          "line": 2762,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Incorrect aspect ratio specification.\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(NULL, AV_LOG_FATAL, \"Incorrect aspect ratio specification.\\n\");",
          "new_line_content": "            ar = (double)x / (double)y;",
          "content_same": false
        },
        {
          "line": 2763,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "        exit_program(1);",
          "new_line_content": "    } else",
          "content_same": false
        },
        {
          "line": 2770,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_WARNING, \"This option is deprecated, use -channel.\\n\")",
          "new_text": null,
          "old_line_content": "    av_log(NULL, AV_LOG_WARNING, \"This option is deprecated, use -channel.\\n\");",
          "new_line_content": "    return ar;",
          "content_same": false
        },
        {
          "line": 2771,
          "old_api": "opt_default",
          "new_api": null,
          "old_text": "opt_default(\"channel\", arg)",
          "new_text": null,
          "old_line_content": "    return opt_default(\"channel\", arg);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2777,
          "old_api": "opt_default",
          "new_api": null,
          "old_text": "opt_default(\"standard\", arg)",
          "new_text": null,
          "old_line_content": "    return opt_default(\"standard\", arg);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2783,
          "old_api": "parse_option",
          "new_api": null,
          "old_text": "parse_option(o, \"codec:a\", arg, options)",
          "new_text": null,
          "old_line_content": "    return parse_option(o, \"codec:a\", arg, options);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2789,
          "old_api": "parse_option",
          "new_api": null,
          "old_text": "parse_option(o, \"codec:v\", arg, options)",
          "new_text": null,
          "old_line_content": "    return parse_option(o, \"codec:v\", arg, options);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2795,
          "old_api": "parse_option",
          "new_api": null,
          "old_text": "parse_option(o, \"codec:s\", arg, options)",
          "new_text": null,
          "old_line_content": "    return parse_option(o, \"codec:s\", arg, options);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2815,
          "old_api": "av_strdup",
          "new_api": null,
          "old_text": "av_strdup(arg)",
          "new_text": null,
          "old_line_content": "    map = av_strdup(arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2818,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(map, ',')",
          "new_text": null,
          "old_line_content": "    if (sync = strchr(map, ',')) {",
          "new_line_content": "        arg++;",
          "content_same": false
        },
        {
          "line": 2822,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Invalid sync file index: %d.\\n\", sync_file_idx)",
          "new_text": null,
          "old_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Invalid sync file index: %d.\\n\", sync_file_idx);",
          "new_line_content": "    /* parse sync stream first, just pick first matching stream */",
          "content_same": false
        },
        {
          "line": 2834,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Sync stream specification in map %s does not \"\n                                       \"match any streams.\\n\", arg)",
          "new_text": null,
          "old_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Sync stream specification in map %s does not \"",
          "new_line_content": "                                       input_files[sync_file_idx].ctx->streams[i], sync) == 1) {",
          "content_same": false
        },
        {
          "line": 2836,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "            exit_program(1);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 2843,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Invalid input file index: %d.\\n\", file_idx)",
          "new_text": null,
          "old_line_content": "        av_log(NULL, AV_LOG_FATAL, \"Invalid input file index: %d.\\n\", file_idx);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2844,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "        exit_program(1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2850,
          "old_api": "check_stream_specifier",
          "new_api": null,
          "old_text": "check_stream_specifier(input_files[m->file_index].ctx,\n                                       input_files[m->file_index].ctx->streams[m->stream_index],\n                                       *p == ':' ? p + 1 : p)",
          "new_text": null,
          "old_line_content": "            if (check_stream_specifier(input_files[m->file_index].ctx,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2857,
          "old_api": "check_stream_specifier",
          "new_api": null,
          "old_text": "check_stream_specifier(input_files[file_idx].ctx, input_files[file_idx].ctx->streams[i],\n                        *p == ':' ? p + 1 : p)",
          "new_text": null,
          "old_line_content": "            if (check_stream_specifier(input_files[file_idx].ctx, input_files[file_idx].ctx->streams[i],",
          "new_line_content": "                                       *p == ':' ? p + 1 : p) > 0)",
          "content_same": false
        },
        {
          "line": 2860,
          "old_api": "grow_array",
          "new_api": null,
          "old_text": "grow_array(o->stream_maps, sizeof(*o->stream_maps),\n                                        &o->nb_stream_maps, o->nb_stream_maps + 1)",
          "new_text": null,
          "old_line_content": "            o->stream_maps = grow_array(o->stream_maps, sizeof(*o->stream_maps),",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 2877,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Stream map '%s' matches no streams.\\n\", arg)",
          "new_text": null,
          "old_line_content": "        av_log(NULL, AV_LOG_FATAL, \"Stream map '%s' matches no streams.\\n\", arg);",
          "new_line_content": "                m->sync_stream_index = i;",
          "content_same": false
        },
        {
          "line": 2878,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "        exit_program(1);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 2881,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&map)",
          "new_text": null,
          "old_line_content": "    av_freep(&map);",
          "new_line_content": "    if (!m) {",
          "content_same": false
        },
        {
          "line": 2896,
          "old_api": "strtol",
          "new_api": null,
          "old_text": "strtol(++arg, NULL, 0)",
          "new_text": null,
          "old_line_content": "                *index = strtol(++arg, NULL, 0);",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 2899,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Invalid metadata type %c.\\n\", *arg)",
          "new_text": null,
          "old_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Invalid metadata type %c.\\n\", *arg);",
          "new_line_content": "        case 'p':",
          "content_same": false
        },
        {
          "line": 2900,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "            exit_program(1);",
          "new_line_content": "            if (*(++arg) == ':')",
          "content_same": false
        },
        {
          "line": 2911,
          "old_api": "grow_array",
          "new_api": null,
          "old_text": "grow_array(o->meta_data_maps, sizeof(*o->meta_data_maps),\n                                   &o->nb_meta_data_maps, o->nb_meta_data_maps + 1)",
          "new_text": null,
          "old_line_content": "    o->meta_data_maps = grow_array(o->meta_data_maps, sizeof(*o->meta_data_maps),",
          "new_line_content": "static int opt_map_metadata(OptionsContext *o, const char *opt, const char *arg)",
          "content_same": false
        },
        {
          "line": 2915,
          "old_api": "strtol",
          "new_api": null,
          "old_text": "strtol(arg, &p, 0)",
          "new_text": null,
          "old_line_content": "    m->file = strtol(arg, &p, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2919,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(opt, ':')",
          "new_text": null,
          "old_line_content": "    if (p = strchr(opt, ':'))",
          "new_line_content": "    m = &o->meta_data_maps[o->nb_meta_data_maps - 1][1];",
          "content_same": false
        },
        {
          "line": 2936,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_WARNING, \"-map_meta_data is deprecated and will be removed soon. \"\n                    \"Use -map_metadata instead.\\n\")",
          "new_text": null,
          "old_line_content": "    av_log(NULL, AV_LOG_WARNING, \"-map_meta_data is deprecated and will be removed soon. \"",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 2938,
          "old_api": "opt_map_metadata",
          "new_api": null,
          "old_text": "opt_map_metadata(o, opt, arg)",
          "new_text": null,
          "old_line_content": "    return opt_map_metadata(o, opt, arg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2944,
          "old_api": "parse_time_or_die",
          "new_api": null,
          "old_text": "parse_time_or_die(opt, arg, 0)",
          "new_text": null,
          "old_line_content": "    int64_t recording_timestamp = parse_time_or_die(opt, arg, 0) / 1E6;",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2945,
          "old_api": "gmtime",
          "new_api": null,
          "old_text": "gmtime((time_t*)&recording_timestamp)",
          "new_text": null,
          "old_line_content": "    struct tm time = *gmtime((time_t*)&recording_timestamp);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2946,
          "old_api": "strftime",
          "new_api": null,
          "old_text": "strftime(buf, sizeof(buf), \"creation_time=%FT%T%z\", &time)",
          "new_text": null,
          "old_line_content": "    strftime(buf, sizeof(buf), \"creation_time=%FT%T%z\", &time);",
          "new_line_content": "static int opt_recording_timestamp(OptionsContext *o, const char *opt, const char *arg)",
          "content_same": false
        },
        {
          "line": 2947,
          "old_api": "parse_option",
          "new_api": null,
          "old_text": "parse_option(o, \"metadata\", buf, options)",
          "new_text": null,
          "old_line_content": "    parse_option(o, \"metadata\", buf, options);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2962,
          "old_api": "avcodec_find_encoder_by_name",
          "new_api": null,
          "old_text": "avcodec_find_encoder_by_name(name)",
          "new_text": null,
          "old_line_content": "        avcodec_find_encoder_by_name(name) :",
          "new_line_content": "    AVCodec *codec;",
          "content_same": false
        },
        {
          "line": 2963,
          "old_api": "avcodec_find_decoder_by_name",
          "new_api": null,
          "old_text": "avcodec_find_decoder_by_name(name)",
          "new_text": null,
          "old_line_content": "        avcodec_find_decoder_by_name(name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2965,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Unknown %s '%s'\\n\", codec_string, name)",
          "new_text": null,
          "old_line_content": "        av_log(NULL, AV_LOG_FATAL, \"Unknown %s '%s'\\n\", codec_string, name);",
          "new_line_content": "        return CODEC_ID_NONE;",
          "content_same": false
        },
        {
          "line": 2966,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "        exit_program(1);",
          "new_line_content": "    codec = encoder ?",
          "content_same": false
        },
        {
          "line": 2969,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Invalid %s type '%s'\\n\", codec_string, name)",
          "new_text": null,
          "old_line_content": "        av_log(NULL, AV_LOG_FATAL, \"Invalid %s type '%s'\\n\", codec_string, name);",
          "new_line_content": "    if(!codec) {",
          "content_same": false
        },
        {
          "line": 2979,
          "old_api": "MATCH_PER_STREAM_OPT",
          "new_api": null,
          "old_text": "MATCH_PER_STREAM_OPT(codec_names, str, codec_name, s, st)",
          "new_text": null,
          "old_line_content": "    MATCH_PER_STREAM_OPT(codec_names, str, codec_name, s, st);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2983,
          "old_api": "av_guess_codec",
          "new_api": null,
          "old_text": "av_guess_codec(s->oformat, NULL, s->filename, NULL, type)",
          "new_text": null,
          "old_line_content": "            st->codec->codec_id = av_guess_codec(s->oformat, NULL, s->filename, NULL, type);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2986,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(codec_name, \"copy\")",
          "new_text": null,
          "old_line_content": "    } else if (!strcmp(codec_name, \"copy\"))",
          "new_line_content": "    if (!codec_name) {",
          "content_same": false
        },
        {
          "line": 2990,
          "old_api": "avcodec_find_encoder_by_name",
          "new_api": null,
          "old_text": "avcodec_find_encoder_by_name(codec_name)",
          "new_text": null,
          "old_line_content": "        return s->oformat ? avcodec_find_encoder_by_name(codec_name) :",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3011,
          "old_api": "grow_array",
          "new_api": null,
          "old_text": "grow_array(input_streams, sizeof(*input_streams), &nb_input_streams, nb_input_streams + 1)",
          "new_text": null,
          "old_line_content": "        input_streams = grow_array(input_streams, sizeof(*input_streams), &nb_input_streams, nb_input_streams + 1);",
          "new_line_content": "        AVStream *st = ic->streams[i];",
          "content_same": false
        },
        {
          "line": 3018,
          "old_api": "MATCH_PER_STREAM_OPT",
          "new_api": null,
          "old_text": "MATCH_PER_STREAM_OPT(ts_scale, dbl, scale, ic, st)",
          "new_text": null,
          "old_line_content": "        MATCH_PER_STREAM_OPT(ts_scale, dbl, scale, ic, st);",
          "new_line_content": "        ist->st = st;",
          "content_same": false
        },
        {
          "line": 3034,
          "old_api": "avcodec_find_decoder",
          "new_api": null,
          "old_text": "avcodec_find_decoder(dec->codec_id)",
          "new_text": null,
          "old_line_content": "                ist->dec = avcodec_find_decoder(dec->codec_id);",
          "new_line_content": "            if(o->audio_disable)",
          "content_same": false
        },
        {
          "line": 3043,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_INFO,\"\\nSeems stream %d codec frame rate differs from container frame rate: %2.2f (%d/%d) -> %2.2f (%d/%d)\\n\",\n                       i, (float)dec->time_base.den / dec->time_base.num, dec->time_base.den, dec->time_base.num,\n                       (float)rfps / rfps_base, rfps, rfps_base)",
          "new_text": null,
          "old_line_content": "                av_log(NULL, AV_LOG_INFO,\"\\nSeems stream %d codec frame rate differs from container frame rate: %2.2f (%d/%d) -> %2.2f (%d/%d)\\n\",",
          "new_line_content": "                dec->flags |= CODEC_FLAG_EMU_EDGE;",
          "content_same": false
        },
        {
          "line": 3057,
          "old_api": "avcodec_find_decoder",
          "new_api": null,
          "old_text": "avcodec_find_decoder(dec->codec_id)",
          "new_text": null,
          "old_line_content": "                ist->dec = avcodec_find_decoder(dec->codec_id);",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 3065,
          "old_api": "abort",
          "new_api": null,
          "old_text": "abort()",
          "new_text": null,
          "old_line_content": "            abort();",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 3081,
          "old_api": "av_find_input_format",
          "new_api": null,
          "old_text": "av_find_input_format(o->format)",
          "new_text": null,
          "old_line_content": "        if (!(file_iformat = av_find_input_format(o->format))) {",
          "new_line_content": "    uint8_t buf[128];",
          "content_same": false
        },
        {
          "line": 3082,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Unknown input format: '%s'\\n\", o->format)",
          "new_text": null,
          "old_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Unknown input format: '%s'\\n\", o->format);",
          "new_line_content": "    AVDictionary **opts;",
          "content_same": false
        },
        {
          "line": 3083,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "            exit_program(1);",
          "new_line_content": "    int orig_nb_streams;                     // number of streams before avformat_find_stream_info",
          "content_same": false
        },
        {
          "line": 3090,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(filename, \"pipe:\", 5)",
          "new_text": null,
          "old_line_content": "    using_stdin |= !strncmp(filename, \"pipe:\", 5) ||",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3091,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(filename, \"/dev/stdin\")",
          "new_text": null,
          "old_line_content": "                    !strcmp(filename, \"/dev/stdin\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3094,
          "old_api": "avformat_alloc_context",
          "new_api": null,
          "old_text": "avformat_alloc_context()",
          "new_text": null,
          "old_line_content": "    ic = avformat_alloc_context();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3097,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "        exit_program(1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3100,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(buf, sizeof(buf), \"%d\", o->audio_sample_rate[o->nb_audio_sample_rate - 1].u.i)",
          "new_text": null,
          "old_line_content": "        snprintf(buf, sizeof(buf), \"%d\", o->audio_sample_rate[o->nb_audio_sample_rate - 1].u.i);",
          "new_line_content": "    if (!ic) {",
          "content_same": false
        },
        {
          "line": 3104,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(buf, sizeof(buf), \"%d\", o->audio_channels[o->nb_audio_channels - 1].u.i)",
          "new_text": null,
          "old_line_content": "        snprintf(buf, sizeof(buf), \"%d\", o->audio_channels[o->nb_audio_channels - 1].u.i);",
          "new_line_content": "    if (o->nb_audio_sample_rate) {",
          "content_same": false
        },
        {
          "line": 3108,
          "old_api": "av_dict_set",
          "new_api": null,
          "old_text": "av_dict_set(&format_opts, \"framerate\", o->frame_rates[o->nb_frame_rates - 1].u.str, 0)",
          "new_text": null,
          "old_line_content": "        av_dict_set(&format_opts, \"framerate\", o->frame_rates[o->nb_frame_rates - 1].u.str, 0);",
          "new_line_content": "    if (o->nb_audio_channels) {",
          "content_same": false
        },
        {
          "line": 3111,
          "old_api": "av_dict_set",
          "new_api": null,
          "old_text": "av_dict_set(&format_opts, \"video_size\", o->frame_sizes[o->nb_frame_sizes - 1].u.str, 0)",
          "new_text": null,
          "old_line_content": "        av_dict_set(&format_opts, \"video_size\", o->frame_sizes[o->nb_frame_sizes - 1].u.str, 0);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3114,
          "old_api": "av_dict_set",
          "new_api": null,
          "old_text": "av_dict_set(&format_opts, \"pixel_format\", o->frame_pix_fmts[o->nb_frame_pix_fmts - 1].u.str, 0)",
          "new_text": null,
          "old_line_content": "        av_dict_set(&format_opts, \"pixel_format\", o->frame_pix_fmts[o->nb_frame_pix_fmts - 1].u.str, 0);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3126,
          "old_api": "print_error",
          "new_api": null,
          "old_text": "print_error(filename, err)",
          "new_text": null,
          "old_line_content": "        print_error(filename, err);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3127,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "        exit_program(1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3133,
          "old_api": "choose_codec",
          "new_api": null,
          "old_text": "choose_codec(o, ic, ic->streams[i], ic->streams[i]->codec->codec_type)",
          "new_text": null,
          "old_line_content": "        choose_codec(o, ic, ic->streams[i], ic->streams[i]->codec->codec_type);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3136,
          "old_api": "setup_find_stream_info_opts",
          "new_api": null,
          "old_text": "setup_find_stream_info_opts(ic, codec_opts)",
          "new_text": null,
          "old_line_content": "    opts = setup_find_stream_info_opts(ic, codec_opts);",
          "new_line_content": "    /* apply forced codec ids */",
          "content_same": false
        },
        {
          "line": 3143,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"%s: could not find codec parameters\\n\", filename)",
          "new_text": null,
          "old_line_content": "        av_log(NULL, AV_LOG_FATAL, \"%s: could not find codec parameters\\n\", filename);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3144,
          "old_api": "av_close_input_file",
          "new_api": null,
          "old_text": "av_close_input_file(ic)",
          "new_text": null,
          "old_line_content": "        av_close_input_file(ic);",
          "new_line_content": "    /* If not enough info to get the stream parameters, we decode the",
          "content_same": false
        },
        {
          "line": 3145,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "        exit_program(1);",
          "new_line_content": "       first frames to get it. (used in mpeg case for example) */",
          "content_same": false
        },
        {
          "line": 3155,
          "old_api": "av_seek_frame",
          "new_api": null,
          "old_text": "av_seek_frame(ic, -1, timestamp, AVSEEK_FLAG_BACKWARD)",
          "new_text": null,
          "old_line_content": "        ret = av_seek_frame(ic, -1, timestamp, AVSEEK_FLAG_BACKWARD);",
          "new_line_content": "    if (ic->start_time != AV_NOPTS_VALUE)",
          "content_same": false
        },
        {
          "line": 3157,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_WARNING, \"%s: could not seek to position %0.3f\\n\",\n                   filename, (double)timestamp / AV_TIME_BASE)",
          "new_text": null,
          "old_line_content": "            av_log(NULL, AV_LOG_WARNING, \"%s: could not seek to position %0.3f\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3163,
          "old_api": "add_input_streams",
          "new_api": null,
          "old_text": "add_input_streams(o, ic)",
          "new_text": null,
          "old_line_content": "    add_input_streams(o, ic);",
          "new_line_content": "                   filename, (double)timestamp / AV_TIME_BASE);",
          "content_same": false
        },
        {
          "line": 3166,
          "old_api": "av_dump_format",
          "new_api": null,
          "old_text": "av_dump_format(ic, nb_input_files, filename, 0)",
          "new_text": null,
          "old_line_content": "    av_dump_format(ic, nb_input_files, filename, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3176,
          "old_api": "av_dict_free",
          "new_api": null,
          "old_text": "av_dict_free(&opts[i])",
          "new_text": null,
          "old_line_content": "        av_dict_free(&opts[i]);",
          "new_line_content": "    input_files[nb_input_files - 1].ts_offset  = o->input_ts_offset - (copy_ts ? 0 : timestamp);",
          "content_same": false
        },
        {
          "line": 3177,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&opts)",
          "new_text": null,
          "old_line_content": "    av_freep(&opts);",
          "new_line_content": "    input_files[nb_input_files - 1].nb_streams = ic->nb_streams;",
          "content_same": false
        },
        {
          "line": 3179,
          "old_api": "reset_options",
          "new_api": null,
          "old_text": "reset_options(o, 1)",
          "new_text": null,
          "old_line_content": "    reset_options(o, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3192,
          "old_api": "av_malloc",
          "new_api": null,
          "old_text": "av_malloc(sizeof(*ost->forced_kf_pts) * n)",
          "new_text": null,
          "old_line_content": "    ost->forced_kf_pts = av_malloc(sizeof(*ost->forced_kf_pts) * n);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3194,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Could not allocate forced key frames array.\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(NULL, AV_LOG_FATAL, \"Could not allocate forced key frames array.\\n\");",
          "new_line_content": "        if (*p == ',')",
          "content_same": false
        },
        {
          "line": 3195,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "        exit_program(1);",
          "new_line_content": "            n++;",
          "content_same": false
        },
        {
          "line": 3198,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(p, ',')",
          "new_text": null,
          "old_line_content": "        p = i ? strchr(p, ',') + 1 : kf;",
          "new_line_content": "    if (!ost->forced_kf_pts) {",
          "content_same": false
        },
        {
          "line": 3206,
          "old_api": "av_new_stream",
          "new_api": null,
          "old_text": "av_new_stream(oc, oc->nb_streams < o->nb_streamid_map ? o->streamid_map[oc->nb_streams] : 0)",
          "new_text": null,
          "old_line_content": "    AVStream *st = av_new_stream(oc, oc->nb_streams < o->nb_streamid_map ? o->streamid_map[oc->nb_streams] : 0);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3214,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Could not alloc stream.\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(NULL, AV_LOG_FATAL, \"Could not alloc stream.\\n\");",
          "new_line_content": "    char *bsf = NULL, *next, *codec_tag = NULL;",
          "content_same": false
        },
        {
          "line": 3215,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "        exit_program(1);",
          "new_line_content": "    AVBitStreamFilterContext *bsfc, *bsfc_prev = NULL;",
          "content_same": false
        },
        {
          "line": 3218,
          "old_api": "grow_array",
          "new_api": null,
          "old_text": "grow_array(output_streams, sizeof(*output_streams), &nb_output_streams,\n                                nb_output_streams + 1)",
          "new_text": null,
          "old_line_content": "    output_streams = grow_array(output_streams, sizeof(*output_streams), &nb_output_streams,",
          "new_line_content": "    if (!st) {",
          "content_same": false
        },
        {
          "line": 3225,
          "old_api": "choose_codec",
          "new_api": null,
          "old_text": "choose_codec(o, oc, st, type)",
          "new_text": null,
          "old_line_content": "    ost->enc = choose_codec(o, oc, st, type);",
          "new_line_content": "    ost = &output_streams[nb_output_streams - 1];",
          "content_same": false
        },
        {
          "line": 3227,
          "old_api": "filter_codec_opts",
          "new_api": null,
          "old_text": "filter_codec_opts(codec_opts, ost->enc->id, oc, st)",
          "new_text": null,
          "old_line_content": "        ost->opts  = filter_codec_opts(codec_opts, ost->enc->id, oc, st);",
          "new_line_content": "    ost->index = idx;",
          "content_same": false
        },
        {
          "line": 3233,
          "old_api": "MATCH_PER_STREAM_OPT",
          "new_api": null,
          "old_text": "MATCH_PER_STREAM_OPT(max_frames, i64, max_frames, oc, st)",
          "new_text": null,
          "old_line_content": "    MATCH_PER_STREAM_OPT(max_frames, i64, max_frames, oc, st);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3236,
          "old_api": "MATCH_PER_STREAM_OPT",
          "new_api": null,
          "old_text": "MATCH_PER_STREAM_OPT(bitstream_filters, str, bsf, oc, st)",
          "new_text": null,
          "old_line_content": "    MATCH_PER_STREAM_OPT(bitstream_filters, str, bsf, oc, st);",
          "new_line_content": "    st->codec->codec_type = type; // XXX hack, avcodec_get_context_defaults2() sets type to unknown for stream copy",
          "content_same": false
        },
        {
          "line": 3240,
          "old_api": "av_bitstream_filter_init",
          "new_api": null,
          "old_text": "av_bitstream_filter_init(bsf)",
          "new_text": null,
          "old_line_content": "        if (!(bsfc = av_bitstream_filter_init(bsf))) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3242,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "            exit_program(1);",
          "new_line_content": "    while (bsf) {",
          "content_same": false
        },
        {
          "line": 3253,
          "old_api": "MATCH_PER_STREAM_OPT",
          "new_api": null,
          "old_text": "MATCH_PER_STREAM_OPT(codec_tags, str, codec_tag, oc, st)",
          "new_text": null,
          "old_line_content": "    MATCH_PER_STREAM_OPT(codec_tags, str, codec_tag, oc, st);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3255,
          "old_api": "strtol",
          "new_api": null,
          "old_text": "strtol(codec_tag, &next, 0)",
          "new_text": null,
          "old_line_content": "        uint32_t tag = strtol(codec_tag, &next, 0);",
          "new_line_content": "        bsf       = next;",
          "content_same": false
        },
        {
          "line": 3257,
          "old_api": "AV_RL32",
          "new_api": null,
          "old_text": "AV_RL32(codec_tag)",
          "new_text": null,
          "old_line_content": "            tag = AV_RL32(codec_tag);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3261,
          "old_api": "MATCH_PER_STREAM_OPT",
          "new_api": null,
          "old_text": "MATCH_PER_STREAM_OPT(qscale, dbl, qscale, oc, st)",
          "new_text": null,
          "old_line_content": "    MATCH_PER_STREAM_OPT(qscale, dbl, qscale, oc, st);",
          "new_line_content": "        if (*next)",
          "content_same": false
        },
        {
          "line": 3270,
          "old_api": "av_get_int",
          "new_api": null,
          "old_text": "av_get_int(sws_opts, \"sws_flags\", NULL)",
          "new_text": null,
          "old_line_content": "    ost->sws_flags = av_get_int(sws_opts, \"sws_flags\", NULL);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3279,
          "old_api": "atoi",
          "new_api": null,
          "old_text": "atoi(p)",
          "new_text": null,
          "old_line_content": "        dest[i] = atoi(p);",
          "new_line_content": "static void parse_matrix_coeffs(uint16_t *dest, const char *str)",
          "content_same": false
        },
        {
          "line": 3282,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(p, ',')",
          "new_text": null,
          "old_line_content": "        p = strchr(p, ',');",
          "new_line_content": "    const char *p = str;",
          "content_same": false
        },
        {
          "line": 3285,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "            exit_program(1);",
          "new_line_content": "        if(i == 63)",
          "content_same": false
        },
        {
          "line": 3297,
          "old_api": "new_output_stream",
          "new_api": null,
          "old_text": "new_output_stream(o, oc, AVMEDIA_TYPE_VIDEO)",
          "new_text": null,
          "old_line_content": "    ost = new_output_stream(o, oc, AVMEDIA_TYPE_VIDEO);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3308,
          "old_api": "MATCH_PER_STREAM_OPT",
          "new_api": null,
          "old_text": "MATCH_PER_STREAM_OPT(frame_rates, str, frame_rate, oc, st)",
          "new_text": null,
          "old_line_content": "        MATCH_PER_STREAM_OPT(frame_rates, str, frame_rate, oc, st);",
          "new_line_content": "        char *forced_key_frames = NULL, *frame_rate = NULL, *frame_size = NULL;",
          "content_same": false
        },
        {
          "line": 3309,
          "old_api": "av_parse_video_rate",
          "new_api": null,
          "old_text": "av_parse_video_rate(&ost->frame_rate, frame_rate)",
          "new_text": null,
          "old_line_content": "        if (frame_rate && av_parse_video_rate(&ost->frame_rate, frame_rate) < 0) {",
          "new_line_content": "        char *frame_aspect_ratio = NULL, *frame_pix_fmt = NULL;",
          "content_same": false
        },
        {
          "line": 3310,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Invalid framerate value: %s\\n\", frame_rate)",
          "new_text": null,
          "old_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Invalid framerate value: %s\\n\", frame_rate);",
          "new_line_content": "        char *intra_matrix = NULL, *inter_matrix = NULL, *filters = NULL;",
          "content_same": false
        },
        {
          "line": 3311,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "            exit_program(1);",
          "new_line_content": "        int i, force_fps = 0, top_field_first = -1;",
          "content_same": false
        },
        {
          "line": 3317,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "            exit_program(1);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3326,
          "old_api": "av_get_pix_fmt",
          "new_api": null,
          "old_text": "av_get_pix_fmt(frame_pix_fmt)",
          "new_text": null,
          "old_line_content": "        if (frame_pix_fmt && (video_enc->pix_fmt = av_get_pix_fmt(frame_pix_fmt)) == PIX_FMT_NONE) {",
          "new_line_content": "        if (frame_aspect_ratio)",
          "content_same": false
        },
        {
          "line": 3328,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "            exit_program(1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3334,
          "old_api": "MATCH_PER_STREAM_OPT",
          "new_api": null,
          "old_text": "MATCH_PER_STREAM_OPT(intra_matrices, str, intra_matrix, oc, st)",
          "new_text": null,
          "old_line_content": "        MATCH_PER_STREAM_OPT(intra_matrices, str, intra_matrix, oc, st);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3336,
          "old_api": "av_mallocz",
          "new_api": null,
          "old_text": "av_mallocz(sizeof(*video_enc->intra_matrix) * 64)",
          "new_text": null,
          "old_line_content": "            if (!(video_enc->intra_matrix = av_mallocz(sizeof(*video_enc->intra_matrix) * 64))) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3337,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Could not allocate memory for intra matrix.\\n\")",
          "new_text": null,
          "old_line_content": "                av_log(NULL, AV_LOG_FATAL, \"Could not allocate memory for intra matrix.\\n\");",
          "new_line_content": "        if (intra_only)",
          "content_same": false
        },
        {
          "line": 3338,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "                exit_program(1);",
          "new_line_content": "            video_enc->gop_size = 0;",
          "content_same": false
        },
        {
          "line": 3340,
          "old_api": "parse_matrix_coeffs",
          "new_api": null,
          "old_text": "parse_matrix_coeffs(video_enc->intra_matrix, intra_matrix)",
          "new_text": null,
          "old_line_content": "            parse_matrix_coeffs(video_enc->intra_matrix, intra_matrix);",
          "new_line_content": "        if (intra_matrix) {",
          "content_same": false
        },
        {
          "line": 3344,
          "old_api": "av_mallocz",
          "new_api": null,
          "old_text": "av_mallocz(sizeof(*video_enc->inter_matrix) * 64)",
          "new_text": null,
          "old_line_content": "            if (!(video_enc->inter_matrix = av_mallocz(sizeof(*video_enc->inter_matrix) * 64))) {",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 3346,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "                exit_program(1);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3348,
          "old_api": "parse_matrix_coeffs",
          "new_api": null,
          "old_text": "parse_matrix_coeffs(video_enc->inter_matrix, inter_matrix)",
          "new_text": null,
          "old_line_content": "            parse_matrix_coeffs(video_enc->inter_matrix, inter_matrix);",
          "new_line_content": "        if (inter_matrix) {",
          "content_same": false
        },
        {
          "line": 3354,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf(p, \"%d,%d,%d\", &start, &end, &q)",
          "new_text": null,
          "old_line_content": "            int e=sscanf(p, \"%d,%d,%d\", &start, &end, &q);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3357,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "                exit_program(1);",
          "new_line_content": "        for(i=0; p; i++){",
          "content_same": false
        },
        {
          "line": 3373,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(p, '/')",
          "new_text": null,
          "old_line_content": "            p= strchr(p, '/');",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 3390,
          "old_api": "MATCH_PER_STREAM_OPT",
          "new_api": null,
          "old_text": "MATCH_PER_STREAM_OPT(forced_key_frames, str, forced_key_frames, oc, st)",
          "new_text": null,
          "old_line_content": "        MATCH_PER_STREAM_OPT(forced_key_frames, str, forced_key_frames, oc, st);",
          "new_line_content": "            } else {",
          "content_same": false
        },
        {
          "line": 3392,
          "old_api": "parse_forced_key_frames",
          "new_api": null,
          "old_text": "parse_forced_key_frames(forced_key_frames, ost)",
          "new_text": null,
          "old_line_content": "            parse_forced_key_frames(forced_key_frames, ost);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 3394,
          "old_api": "MATCH_PER_STREAM_OPT",
          "new_api": null,
          "old_text": "MATCH_PER_STREAM_OPT(force_fps, i, force_fps, oc, st)",
          "new_text": null,
          "old_line_content": "        MATCH_PER_STREAM_OPT(force_fps, i, force_fps, oc, st);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3401,
          "old_api": "MATCH_PER_STREAM_OPT",
          "new_api": null,
          "old_text": "MATCH_PER_STREAM_OPT(filters, str, filters, oc, st)",
          "new_text": null,
          "old_line_content": "        MATCH_PER_STREAM_OPT(filters, str, filters, oc, st);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3403,
          "old_api": "av_strdup",
          "new_api": null,
          "old_text": "av_strdup(filters)",
          "new_text": null,
          "old_line_content": "            ost->avfilter = av_strdup(filters);",
          "new_line_content": "        ost->top_field_first = top_field_first;",
          "content_same": false
        },
        {
          "line": 3416,
          "old_api": "new_output_stream",
          "new_api": null,
          "old_text": "new_output_stream(o, oc, AVMEDIA_TYPE_AUDIO)",
          "new_text": null,
          "old_line_content": "    ost = new_output_stream(o, oc, AVMEDIA_TYPE_AUDIO);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3425,
          "old_api": "MATCH_PER_STREAM_OPT",
          "new_api": null,
          "old_text": "MATCH_PER_STREAM_OPT(audio_channels, i, audio_enc->channels, oc, st)",
          "new_text": null,
          "old_line_content": "        MATCH_PER_STREAM_OPT(audio_channels, i, audio_enc->channels, oc, st);",
          "new_line_content": "    audio_enc->codec_type = AVMEDIA_TYPE_AUDIO;",
          "content_same": false
        },
        {
          "line": 3427,
          "old_api": "MATCH_PER_STREAM_OPT",
          "new_api": null,
          "old_text": "MATCH_PER_STREAM_OPT(sample_fmts, str, sample_fmt, oc, st)",
          "new_text": null,
          "old_line_content": "        MATCH_PER_STREAM_OPT(sample_fmts, str, sample_fmt, oc, st);",
          "new_line_content": "    if (!st->stream_copy) {",
          "content_same": false
        },
        {
          "line": 3429,
          "old_api": "av_get_sample_fmt",
          "new_api": null,
          "old_text": "av_get_sample_fmt(sample_fmt)",
          "new_text": null,
          "old_line_content": "            (audio_enc->sample_fmt = av_get_sample_fmt(sample_fmt)) == AV_SAMPLE_FMT_NONE) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3431,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "            exit_program(1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3445,
          "old_api": "new_output_stream",
          "new_api": null,
          "old_text": "new_output_stream(o, oc, AVMEDIA_TYPE_DATA)",
          "new_text": null,
          "old_line_content": "    ost = new_output_stream(o, oc, AVMEDIA_TYPE_DATA);",
          "new_line_content": "static OutputStream *new_data_stream(OptionsContext *o, AVFormatContext *oc)",
          "content_same": false
        },
        {
          "line": 3448,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Data stream encoding not supported yet (only streamcopy)\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(NULL, AV_LOG_FATAL, \"Data stream encoding not supported yet (only streamcopy)\\n\");",
          "new_line_content": "    OutputStream *ost;",
          "content_same": false
        },
        {
          "line": 3449,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "        exit_program(1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3457,
          "old_api": "new_output_stream",
          "new_api": null,
          "old_text": "new_output_stream(o, oc, AVMEDIA_TYPE_ATTACHMENT)",
          "new_text": null,
          "old_line_content": "    OutputStream *ost = new_output_stream(o, oc, AVMEDIA_TYPE_ATTACHMENT);",
          "new_line_content": "    return ost;",
          "content_same": false
        },
        {
          "line": 3468,
          "old_api": "new_output_stream",
          "new_api": null,
          "old_text": "new_output_stream(o, oc, AVMEDIA_TYPE_SUBTITLE)",
          "new_text": null,
          "old_line_content": "    ost = new_output_stream(o, oc, AVMEDIA_TYPE_SUBTITLE);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3484,
          "old_api": "av_strlcpy",
          "new_api": null,
          "old_text": "av_strlcpy(idx_str, arg, sizeof(idx_str))",
          "new_text": null,
          "old_line_content": "    av_strlcpy(idx_str, arg, sizeof(idx_str));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3485,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(idx_str, ':')",
          "new_text": null,
          "old_line_content": "    p = strchr(idx_str, ':');",
          "new_line_content": "    int idx;",
          "content_same": false
        },
        {
          "line": 3487,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_FATAL,\n               \"Invalid value '%s' for option '%s', required syntax is 'index:value'\\n\",\n               arg, opt)",
          "new_text": null,
          "old_line_content": "        av_log(NULL, AV_LOG_FATAL,",
          "new_line_content": "    char idx_str[16];",
          "content_same": false
        },
        {
          "line": 3493,
          "old_api": "parse_number_or_die",
          "new_api": null,
          "old_text": "parse_number_or_die(opt, idx_str, OPT_INT, 0, MAX_STREAMS-1)",
          "new_text": null,
          "old_line_content": "    idx = parse_number_or_die(opt, idx_str, OPT_INT, 0, MAX_STREAMS-1);",
          "new_line_content": "               \"Invalid value '%s' for option '%s', required syntax is 'index:value'\\n\",",
          "content_same": false
        },
        {
          "line": 3494,
          "old_api": "grow_array",
          "new_api": null,
          "old_text": "grow_array(o->streamid_map, sizeof(*o->streamid_map), &o->nb_streamid_map, idx+1)",
          "new_text": null,
          "old_line_content": "    o->streamid_map = grow_array(o->streamid_map, sizeof(*o->streamid_map), &o->nb_streamid_map, idx+1);",
          "new_line_content": "               arg, opt);",
          "content_same": false
        },
        {
          "line": 3507,
          "old_api": "av_rescale_q",
          "new_api": null,
          "old_text": "av_rescale_q(ofile->start_time - ifile->ts_offset,\n                                      AV_TIME_BASE_Q, in_ch->time_base)",
          "new_text": null,
          "old_line_content": "        int64_t ts_off   = av_rescale_q(ofile->start_time - ifile->ts_offset,",
          "new_line_content": "    AVFormatContext *os = ofile->ctx;",
          "content_same": false
        },
        {
          "line": 3510,
          "old_api": "av_rescale_q",
          "new_api": null,
          "old_text": "av_rescale_q(ofile->recording_time, AV_TIME_BASE_Q, in_ch->time_base)",
          "new_text": null,
          "old_line_content": "                           av_rescale_q(ofile->recording_time, AV_TIME_BASE_Q, in_ch->time_base);",
          "new_line_content": "    for (i = 0; i < is->nb_chapters; i++) {",
          "content_same": false
        },
        {
          "line": 3518,
          "old_api": "av_mallocz",
          "new_api": null,
          "old_text": "av_mallocz(sizeof(AVChapter))",
          "new_text": null,
          "old_line_content": "        out_ch = av_mallocz(sizeof(AVChapter));",
          "new_line_content": "        if (in_ch->end < ts_off)",
          "content_same": false
        },
        {
          "line": 3520,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "            return AVERROR(ENOMEM);",
          "new_line_content": "        if (rt != INT64_MAX && in_ch->start > rt + ts_off)",
          "content_same": false
        },
        {
          "line": 3524,
          "old_api": "FFMAX",
          "new_api": null,
          "old_text": "FFMAX(0,  in_ch->start - ts_off)",
          "new_text": null,
          "old_line_content": "        out_ch->start     = FFMAX(0,  in_ch->start - ts_off);",
          "new_line_content": "        if (!out_ch)",
          "content_same": false
        },
        {
          "line": 3528,
          "old_api": "av_dict_copy",
          "new_api": null,
          "old_text": "av_dict_copy(&out_ch->metadata, in_ch->metadata, 0)",
          "new_text": null,
          "old_line_content": "            av_dict_copy(&out_ch->metadata, in_ch->metadata, 0);",
          "new_line_content": "        out_ch->time_base = in_ch->time_base;",
          "content_same": false
        },
        {
          "line": 3531,
          "old_api": "av_realloc_f",
          "new_api": null,
          "old_text": "av_realloc_f(os->chapters, os->nb_chapters, sizeof(AVChapter))",
          "new_text": null,
          "old_line_content": "        os->chapters = av_realloc_f(os->chapters, os->nb_chapters, sizeof(AVChapter));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3544,
          "old_api": "avformat_open_input",
          "new_api": null,
          "old_text": "avformat_open_input(&ic, filename, NULL, NULL)",
          "new_text": null,
          "old_line_content": "    err = avformat_open_input(&ic, filename, NULL, NULL);",
          "new_line_content": "static int read_ffserver_streams(OptionsContext *o, AVFormatContext *s, const char *filename)",
          "content_same": false
        },
        {
          "line": 3553,
          "old_api": "avcodec_find_encoder",
          "new_api": null,
          "old_text": "avcodec_find_encoder(ic->streams[i]->codec->codec_id)",
          "new_text": null,
          "old_line_content": "        codec = avcodec_find_encoder(ic->streams[i]->codec->codec_id);",
          "new_line_content": "    for(i=0;i<ic->nb_streams;i++) {",
          "content_same": false
        },
        {
          "line": 3554,
          "old_api": "new_output_stream",
          "new_api": null,
          "old_text": "new_output_stream(o, s, codec->type)",
          "new_text": null,
          "old_line_content": "        ost   = new_output_stream(o, s, codec->type);",
          "new_line_content": "        AVStream *st;",
          "content_same": false
        },
        {
          "line": 3560,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(st->info, ic->streams[i]->info, sizeof(*st->info))",
          "new_text": null,
          "old_line_content": "        memcpy(st->info, ic->streams[i]->info, sizeof(*st->info));",
          "new_line_content": "        st    = ost->st;",
          "content_same": false
        },
        {
          "line": 3561,
          "old_api": "avcodec_copy_context",
          "new_api": null,
          "old_text": "avcodec_copy_context(st->codec, ic->streams[i]->codec)",
          "new_text": null,
          "old_line_content": "        avcodec_copy_context(st->codec, ic->streams[i]->codec);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3582,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(filename, \"-\")",
          "new_text": null,
          "old_line_content": "    if (!strcmp(filename, \"-\"))",
          "new_line_content": "    int i, err;",
          "content_same": false
        },
        {
          "line": 3585,
          "old_api": "avformat_alloc_output_context2",
          "new_api": null,
          "old_text": "avformat_alloc_output_context2(&oc, NULL, o->format, filename)",
          "new_text": null,
          "old_line_content": "    err = avformat_alloc_output_context2(&oc, NULL, o->format, filename);",
          "new_line_content": "    InputStream  *ist;",
          "content_same": false
        },
        {
          "line": 3588,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "        exit_program(1);",
          "new_line_content": "        filename = \"pipe:\";",
          "content_same": false
        },
        {
          "line": 3596,
          "old_api": "read_ffserver_streams",
          "new_api": null,
          "old_text": "read_ffserver_streams(o, oc, filename)",
          "new_text": null,
          "old_line_content": "        int err = read_ffserver_streams(o, oc, filename);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3599,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "            exit_program(1);",
          "new_line_content": "        /* special case for files sent to ffserver: we get the stream",
          "content_same": false
        },
        {
          "line": 3622,
          "old_api": "NEW_STREAM",
          "new_api": null,
          "old_text": "NEW_STREAM(video, idx)",
          "new_text": null,
          "old_line_content": "            NEW_STREAM(video, idx);",
          "new_line_content": "                    ist->st->codec->width * ist->st->codec->height > area) {",
          "content_same": false
        },
        {
          "line": 3636,
          "old_api": "NEW_STREAM",
          "new_api": null,
          "old_text": "NEW_STREAM(audio, idx)",
          "new_text": null,
          "old_line_content": "            NEW_STREAM(audio, idx);",
          "new_line_content": "                    ist->st->codec->channels > channels) {",
          "content_same": false
        },
        {
          "line": 3643,
          "old_api": "NEW_STREAM",
          "new_api": null,
          "old_text": "NEW_STREAM(subtitle, i)",
          "new_text": null,
          "old_line_content": "                    NEW_STREAM(subtitle, i);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3664,
          "old_api": "new_video_stream",
          "new_api": null,
          "old_text": "new_video_stream(o, oc)",
          "new_text": null,
          "old_line_content": "            case AVMEDIA_TYPE_VIDEO:    ost = new_video_stream(o, oc);    break;",
          "new_line_content": "                continue;",
          "content_same": false
        },
        {
          "line": 3665,
          "old_api": "new_audio_stream",
          "new_api": null,
          "old_text": "new_audio_stream(o, oc)",
          "new_text": null,
          "old_line_content": "            case AVMEDIA_TYPE_AUDIO:    ost = new_audio_stream(o, oc);    break;",
          "new_line_content": "            if(o->   video_disable && ist->st->codec->codec_type == AVMEDIA_TYPE_VIDEO)",
          "content_same": false
        },
        {
          "line": 3666,
          "old_api": "new_subtitle_stream",
          "new_api": null,
          "old_text": "new_subtitle_stream(o, oc)",
          "new_text": null,
          "old_line_content": "            case AVMEDIA_TYPE_SUBTITLE: ost = new_subtitle_stream(o, oc); break;",
          "new_line_content": "                continue;",
          "content_same": false
        },
        {
          "line": 3667,
          "old_api": "new_data_stream",
          "new_api": null,
          "old_text": "new_data_stream(o, oc)",
          "new_text": null,
          "old_line_content": "            case AVMEDIA_TYPE_DATA:     ost = new_data_stream(o, oc);     break;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3668,
          "old_api": "new_attachment_stream",
          "new_api": null,
          "old_text": "new_attachment_stream(o, oc)",
          "new_text": null,
          "old_line_content": "            case AVMEDIA_TYPE_ATTACHMENT: ost = new_attachment_stream(o, oc); break;",
          "new_line_content": "            switch (ist->st->codec->codec_type) {",
          "content_same": false
        },
        {
          "line": 3682,
          "old_api": "grow_array",
          "new_api": null,
          "old_text": "grow_array(output_files, sizeof(*output_files), &nb_output_files, nb_output_files + 1)",
          "new_text": null,
          "old_line_content": "    output_files = grow_array(output_files, sizeof(*output_files), &nb_output_files, nb_output_files + 1);",
          "new_line_content": "                                           map->sync_stream_index];",
          "content_same": false
        },
        {
          "line": 3688,
          "old_api": "av_dict_copy",
          "new_api": null,
          "old_text": "av_dict_copy(&output_files[nb_output_files - 1].opts, format_opts, 0)",
          "new_text": null,
          "old_line_content": "    av_dict_copy(&output_files[nb_output_files - 1].opts, format_opts, 0);",
          "new_line_content": "    output_files[nb_output_files - 1].ctx       = oc;",
          "content_same": false
        },
        {
          "line": 3692,
          "old_api": "av_filename_number_test",
          "new_api": null,
          "old_text": "av_filename_number_test(oc->filename)",
          "new_text": null,
          "old_line_content": "        if (!av_filename_number_test(oc->filename)) {",
          "new_line_content": "    output_files[nb_output_files - 1].limit_filesize = o->limit_filesize;",
          "content_same": false
        },
        {
          "line": 3694,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "            exit_program(1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3701,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(filename, ':')",
          "new_text": null,
          "old_line_content": "            (strchr(filename, ':') == NULL ||",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3703,
          "old_api": "av_strstart",
          "new_api": null,
          "old_text": "av_strstart(filename, \"file:\", NULL)",
          "new_text": null,
          "old_line_content": "             av_strstart(filename, \"file:\", NULL))) {",
          "new_line_content": "    if (!(oc->oformat->flags & AVFMT_NOFILE)) {",
          "content_same": false
        },
        {
          "line": 3704,
          "old_api": "avio_check",
          "new_api": null,
          "old_text": "avio_check(filename, 0)",
          "new_text": null,
          "old_line_content": "            if (avio_check(filename, 0) == 0) {",
          "new_line_content": "        /* test if it already exists to avoid loosing precious files */",
          "content_same": false
        },
        {
          "line": 3707,
          "old_api": "fflush",
          "new_api": null,
          "old_text": "fflush(stderr)",
          "new_text": null,
          "old_line_content": "                    fflush(stderr);",
          "new_line_content": "             filename[1] == ':' ||",
          "content_same": false
        },
        {
          "line": 3710,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "                        exit_program(1);",
          "new_line_content": "                if (!using_stdin) {",
          "content_same": false
        },
        {
          "line": 3716,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "                    exit_program(1);",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 3722,
          "old_api": "avio_open",
          "new_api": null,
          "old_text": "avio_open(&oc->pb, filename, AVIO_FLAG_WRITE)",
          "new_text": null,
          "old_line_content": "        if ((err = avio_open(&oc->pb, filename, AVIO_FLAG_WRITE)) < 0) {",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 3723,
          "old_api": "print_error",
          "new_api": null,
          "old_text": "print_error(filename, err)",
          "new_text": null,
          "old_line_content": "            print_error(filename, err);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 3724,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "            exit_program(1);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3732,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_WARNING, \"-loop_output is deprecated, use -loop\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(NULL, AV_LOG_WARNING, \"-loop_output is deprecated, use -loop\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3747,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Invalid input file index %d in chapter mapping.\\n\",\n                   o->chapters_input_file)",
          "new_text": null,
          "old_line_content": "            av_log(NULL, AV_LOG_FATAL, \"Invalid input file index %d in chapter mapping.\\n\",",
          "new_line_content": "                if (input_files[i].ctx->nb_chapters) {",
          "content_same": false
        },
        {
          "line": 3749,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "            exit_program(1);",
          "new_line_content": "                    break;",
          "content_same": false
        },
        {
          "line": 3753,
          "old_api": "copy_chapters",
          "new_api": null,
          "old_text": "copy_chapters(&input_files[o->chapters_input_file], &output_files[nb_output_files - 1],\n                      !o->metadata_chapters_manual)",
          "new_text": null,
          "old_line_content": "        copy_chapters(&input_files[o->chapters_input_file], &output_files[nb_output_files - 1],",
          "new_line_content": "                   o->chapters_input_file);",
          "content_same": false
        },
        {
          "line": 3772,
          "old_api": "METADATA_CHECK_INDEX",
          "new_api": null,
          "old_text": "METADATA_CHECK_INDEX(in_file_index, nb_input_files, \"input file\")",
          "new_text": null,
          "old_line_content": "        METADATA_CHECK_INDEX(in_file_index, nb_input_files, \"input file\")",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3785,
          "old_api": "METADATA_CHECK_INDEX",
          "new_api": null,
          "old_text": "METADATA_CHECK_INDEX(map->index, files[j]->nb_streams, \"stream\")",
          "new_text": null,
          "old_line_content": "                METADATA_CHECK_INDEX(map->index, files[j]->nb_streams, \"stream\")",
          "new_line_content": "            switch (map->type) {",
          "content_same": false
        },
        {
          "line": 3789,
          "old_api": "METADATA_CHECK_INDEX",
          "new_api": null,
          "old_text": "METADATA_CHECK_INDEX(map->index, files[j]->nb_chapters, \"chapter\")",
          "new_text": null,
          "old_line_content": "                METADATA_CHECK_INDEX(map->index, files[j]->nb_chapters, \"chapter\")",
          "new_line_content": "            case 's':",
          "content_same": false
        },
        {
          "line": 3793,
          "old_api": "METADATA_CHECK_INDEX",
          "new_api": null,
          "old_text": "METADATA_CHECK_INDEX(map->index, files[j]->nb_programs, \"program\")",
          "new_text": null,
          "old_line_content": "                METADATA_CHECK_INDEX(map->index, files[j]->nb_programs, \"program\")",
          "new_line_content": "            case 'c':",
          "content_same": false
        },
        {
          "line": 3799,
          "old_api": "av_dict_copy",
          "new_api": null,
          "old_text": "av_dict_copy(meta[0], *meta[1], AV_DICT_DONT_OVERWRITE)",
          "new_text": null,
          "old_line_content": "        av_dict_copy(meta[0], *meta[1], AV_DICT_DONT_OVERWRITE);",
          "new_line_content": "                meta[j] = &files[j]->programs[map->index]->metadata;",
          "content_same": false
        },
        {
          "line": 3807,
          "old_api": "av_dict_set",
          "new_api": null,
          "old_text": "av_dict_set(&oc->metadata, \"duration\", NULL, 0)",
          "new_text": null,
          "old_line_content": "            av_dict_set(&oc->metadata, \"duration\", NULL, 0);",
          "new_line_content": "    /* copy global metadata by default */",
          "content_same": false
        },
        {
          "line": 3821,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(o->metadata[i].u.str, '=')",
          "new_text": null,
          "old_line_content": "        val = strchr(o->metadata[i].u.str, '=');",
          "new_line_content": "    for (i = 0; i < o->nb_metadata; i++) {",
          "content_same": false
        },
        {
          "line": 3823,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"No '=' character in metadata string %s.\\n\",\n                   o->metadata[i].u.str)",
          "new_text": null,
          "old_line_content": "            av_log(NULL, AV_LOG_FATAL, \"No '=' character in metadata string %s.\\n\",",
          "new_line_content": "        char type, *val;",
          "content_same": false
        },
        {
          "line": 3825,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "            exit_program(1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3829,
          "old_api": "parse_meta_type",
          "new_api": null,
          "old_text": "parse_meta_type(o->metadata[i].specifier, &type, &index)",
          "new_text": null,
          "old_line_content": "        parse_meta_type(o->metadata[i].specifier, &type, &index);",
          "new_line_content": "                   o->metadata[i].u.str);",
          "content_same": false
        },
        {
          "line": 3836,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Invalid stream index %d in metadata specifier.\\n\", index)",
          "new_text": null,
          "old_line_content": "                av_log(NULL, AV_LOG_FATAL, \"Invalid stream index %d in metadata specifier.\\n\", index);",
          "new_line_content": "        case 'g':",
          "content_same": false
        },
        {
          "line": 3837,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "                exit_program(1);",
          "new_line_content": "            m = &oc->metadata;",
          "content_same": false
        },
        {
          "line": 3843,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Invalid chapter index %d in metadata specifier.\\n\", index)",
          "new_text": null,
          "old_line_content": "                av_log(NULL, AV_LOG_FATAL, \"Invalid chapter index %d in metadata specifier.\\n\", index);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 3844,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "                exit_program(1);",
          "new_line_content": "            m = &oc->streams[index]->metadata;",
          "content_same": false
        },
        {
          "line": 3850,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "            exit_program(1);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 3853,
          "old_api": "av_dict_set",
          "new_api": null,
          "old_text": "av_dict_set(m, o->metadata[i].u.str, *val ? val : NULL, 0)",
          "new_text": null,
          "old_line_content": "        av_dict_set(m, o->metadata[i].u.str, *val ? val : NULL, 0);",
          "new_line_content": "        default:",
          "content_same": false
        },
        {
          "line": 3856,
          "old_api": "reset_options",
          "new_api": null,
          "old_text": "reset_options(o, 0)",
          "new_text": null,
          "old_line_content": "    reset_options(o, 0);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3862,
          "old_api": "parse_number_or_die",
          "new_api": null,
          "old_text": "parse_number_or_die(opt, arg, OPT_INT, 1, 2)",
          "new_text": null,
          "old_line_content": "    do_pass = parse_number_or_die(opt, arg, OPT_INT, 1, 2);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3871,
          "old_api": "getrusage",
          "new_api": null,
          "old_text": "getrusage(RUSAGE_SELF, &rusage)",
          "new_text": null,
          "old_line_content": "    getrusage(RUSAGE_SELF, &rusage);",
          "new_line_content": "static int64_t getutime(void)",
          "content_same": false
        },
        {
          "line": 3877,
          "old_api": "GetProcessTimes",
          "new_api": null,
          "old_text": "GetProcessTimes(proc, &c, &e, &k, &u)",
          "new_text": null,
          "old_line_content": "    GetProcessTimes(proc, &c, &e, &k, &u);",
          "new_line_content": "    return (rusage.ru_utime.tv_sec * 1000000LL) + rusage.ru_utime.tv_usec;",
          "content_same": false
        },
        {
          "line": 3880,
          "old_api": "av_gettime",
          "new_api": null,
          "old_text": "av_gettime()",
          "new_text": null,
          "old_line_content": "    return av_gettime();",
          "new_line_content": "    FILETIME c, e, k, u;",
          "content_same": false
        },
        {
          "line": 3888,
          "old_api": "getrusage",
          "new_api": null,
          "old_text": "getrusage(RUSAGE_SELF, &rusage)",
          "new_text": null,
          "old_line_content": "    getrusage(RUSAGE_SELF, &rusage);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3895,
          "old_api": "GetProcessMemoryInfo",
          "new_api": null,
          "old_text": "GetProcessMemoryInfo(proc, &memcounters, sizeof(memcounters))",
          "new_text": null,
          "old_line_content": "    GetProcessMemoryInfo(proc, &memcounters, sizeof(memcounters));",
          "new_line_content": "#elif HAVE_GETPROCESSMEMORYINFO",
          "content_same": false
        },
        {
          "line": 3904,
          "old_api": "parse_option",
          "new_api": null,
          "old_text": "parse_option(o, \"q:a\", arg, options)",
          "new_text": null,
          "old_line_content": "    return parse_option(o, \"q:a\", arg, options);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 3910,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"usage: %s [options] [[infile options] -i infile]... {[outfile options] outfile}...\\n\", program_name)",
          "new_text": null,
          "old_line_content": "    printf(\"usage: %s [options] [[infile options] -i infile]... {[outfile options] outfile}...\\n\", program_name);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3911,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"\\n\")",
          "new_text": null,
          "old_line_content": "    printf(\"\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3921,
          "old_api": "av_log_set_callback",
          "new_api": null,
          "old_text": "av_log_set_callback(log_callback_help)",
          "new_text": null,
          "old_line_content": "    av_log_set_callback(log_callback_help);",
          "new_line_content": "    AVCodec *c;",
          "content_same": false
        },
        {
          "line": 3922,
          "old_api": "show_usage",
          "new_api": null,
          "old_text": "show_usage()",
          "new_text": null,
          "old_line_content": "    show_usage();",
          "new_line_content": "    AVOutputFormat *oformat = NULL;",
          "content_same": false
        },
        {
          "line": 3923,
          "old_api": "show_help_options",
          "new_api": null,
          "old_text": "show_help_options(options, \"Main options:\\n\",\n                      OPT_EXPERT | OPT_AUDIO | OPT_VIDEO | OPT_SUBTITLE | OPT_GRAB, 0)",
          "new_text": null,
          "old_line_content": "    show_help_options(options, \"Main options:\\n\",",
          "new_line_content": "    AVInputFormat  *iformat = NULL;",
          "content_same": false
        },
        {
          "line": 3925,
          "old_api": "show_help_options",
          "new_api": null,
          "old_text": "show_help_options(options, \"\\nAdvanced options:\\n\",\n                      OPT_EXPERT | OPT_AUDIO | OPT_VIDEO | OPT_SUBTITLE | OPT_GRAB,\n                      OPT_EXPERT)",
          "new_text": null,
          "old_line_content": "    show_help_options(options, \"\\nAdvanced options:\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3931,
          "old_api": "show_help_options",
          "new_api": null,
          "old_text": "show_help_options(options, \"\\nAdvanced Video options:\\n\",\n                      OPT_EXPERT | OPT_AUDIO | OPT_VIDEO | OPT_GRAB,\n                      OPT_VIDEO | OPT_EXPERT)",
          "new_text": null,
          "old_line_content": "    show_help_options(options, \"\\nAdvanced Video options:\\n\",",
          "new_line_content": "                      OPT_EXPERT | OPT_AUDIO | OPT_VIDEO | OPT_SUBTITLE | OPT_GRAB,",
          "content_same": false
        },
        {
          "line": 3934,
          "old_api": "show_help_options",
          "new_api": null,
          "old_text": "show_help_options(options, \"\\nAudio options:\\n\",\n                      OPT_EXPERT | OPT_AUDIO | OPT_VIDEO | OPT_GRAB,\n                      OPT_AUDIO)",
          "new_text": null,
          "old_line_content": "    show_help_options(options, \"\\nAudio options:\\n\",",
          "new_line_content": "                      OPT_EXPERT | OPT_AUDIO | OPT_VIDEO | OPT_GRAB,",
          "content_same": false
        },
        {
          "line": 3937,
          "old_api": "show_help_options",
          "new_api": null,
          "old_text": "show_help_options(options, \"\\nAdvanced Audio options:\\n\",\n                      OPT_EXPERT | OPT_AUDIO | OPT_VIDEO | OPT_GRAB,\n                      OPT_AUDIO | OPT_EXPERT)",
          "new_text": null,
          "old_line_content": "    show_help_options(options, \"\\nAdvanced Audio options:\\n\",",
          "new_line_content": "                      OPT_EXPERT | OPT_AUDIO | OPT_VIDEO | OPT_GRAB,",
          "content_same": false
        },
        {
          "line": 3940,
          "old_api": "show_help_options",
          "new_api": null,
          "old_text": "show_help_options(options, \"\\nSubtitle options:\\n\",\n                      OPT_SUBTITLE | OPT_GRAB,\n                      OPT_SUBTITLE)",
          "new_text": null,
          "old_line_content": "    show_help_options(options, \"\\nSubtitle options:\\n\",",
          "new_line_content": "                      OPT_EXPERT | OPT_AUDIO | OPT_VIDEO | OPT_GRAB,",
          "content_same": false
        },
        {
          "line": 3943,
          "old_api": "show_help_options",
          "new_api": null,
          "old_text": "show_help_options(options, \"\\nAudio/Video grab options:\\n\",\n                      OPT_GRAB,\n                      OPT_GRAB)",
          "new_text": null,
          "old_line_content": "    show_help_options(options, \"\\nAudio/Video grab options:\\n\",",
          "new_line_content": "                      OPT_EXPERT | OPT_AUDIO | OPT_VIDEO | OPT_GRAB,",
          "content_same": false
        },
        {
          "line": 3946,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"\\n\")",
          "new_text": null,
          "old_line_content": "    printf(\"\\n\");",
          "new_line_content": "                      OPT_SUBTITLE | OPT_GRAB,",
          "content_same": false
        },
        {
          "line": 3949,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"\\n\")",
          "new_text": null,
          "old_line_content": "    printf(\"\\n\");",
          "new_line_content": "                      OPT_GRAB,",
          "content_same": false
        },
        {
          "line": 3955,
          "old_api": "av_opt_show2",
          "new_api": null,
          "old_text": "av_opt_show2(&c->priv_class, NULL, AV_OPT_FLAG_ENCODING_PARAM|AV_OPT_FLAG_DECODING_PARAM, 0)",
          "new_text": null,
          "old_line_content": "            av_opt_show2(&c->priv_class, NULL, AV_OPT_FLAG_ENCODING_PARAM|AV_OPT_FLAG_DECODING_PARAM, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3956,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"\\n\")",
          "new_text": null,
          "old_line_content": "            printf(\"\\n\");",
          "new_line_content": "    /* individual codec options */",
          "content_same": false
        },
        {
          "line": 3962,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"\\n\")",
          "new_text": null,
          "old_line_content": "    printf(\"\\n\");",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3965,
          "old_api": "av_oformat_next",
          "new_api": null,
          "old_text": "av_oformat_next(oformat)",
          "new_text": null,
          "old_line_content": "    while ((oformat = av_oformat_next(oformat))) {",
          "new_line_content": "    class = avformat_get_class();",
          "content_same": false
        },
        {
          "line": 3968,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"\\n\")",
          "new_text": null,
          "old_line_content": "            printf(\"\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3975,
          "old_api": "av_opt_show2",
          "new_api": null,
          "old_text": "av_opt_show2(&iformat->priv_class, NULL, AV_OPT_FLAG_DECODING_PARAM, 0)",
          "new_text": null,
          "old_line_content": "            av_opt_show2(&iformat->priv_class, NULL, AV_OPT_FLAG_DECODING_PARAM, 0);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3976,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"\\n\")",
          "new_text": null,
          "old_line_content": "            printf(\"\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3990,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(arg, \"pal-\", 4)",
          "new_text": null,
          "old_line_content": "    if(!strncmp(arg, \"pal-\", 4)) {",
          "new_line_content": "static int opt_target(OptionsContext *o, const char *opt, const char *arg)",
          "content_same": false
        },
        {
          "line": 3993,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(arg, \"ntsc-\", 5)",
          "new_text": null,
          "old_line_content": "    } else if(!strncmp(arg, \"ntsc-\", 5)) {",
          "new_line_content": "    static const char *const frame_rates[] = {\"25\", \"30000/1001\", \"24000/1001\"};",
          "content_same": false
        },
        {
          "line": 3996,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(arg, \"film-\", 5)",
          "new_text": null,
          "old_line_content": "    } else if(!strncmp(arg, \"film-\", 5)) {",
          "new_line_content": "        norm = PAL;",
          "content_same": false
        },
        {
          "line": 4022,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_INFO, \"Assuming %s for target.\\n\", norm == PAL ? \"PAL\" : \"NTSC\")",
          "new_text": null,
          "old_line_content": "            av_log(NULL, AV_LOG_INFO, \"Assuming %s for target.\\n\", norm == PAL ? \"PAL\" : \"NTSC\");",
          "new_line_content": "                if(norm != UNKNOWN)",
          "content_same": false
        },
        {
          "line": 4026,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"Could not determine norm (PAL/NTSC/NTSC-Film) for target.\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(NULL, AV_LOG_FATAL, \"Could not determine norm (PAL/NTSC/NTSC-Film) for target.\\n\");",
          "new_line_content": "        if (norm != UNKNOWN)",
          "content_same": false
        },
        {
          "line": 4028,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_FATAL, \"or set a framerate with \\\"-r xxx\\\".\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(NULL, AV_LOG_FATAL, \"or set a framerate with \\\"-r xxx\\\".\\n\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4029,
          "old_api": "exit_program",
          "new_api": null,
          "old_text": "exit_program(1)",
          "new_text": null,
          "old_line_content": "        exit_program(1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4035,
          "old_api": "parse_option",
          "new_api": null,
          "old_text": "parse_option(o, \"f\", \"vcd\", options)",
          "new_text": null,
          "old_line_content": "        parse_option(o, \"f\", \"vcd\", options);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4041,
          "old_api": "opt_default",
          "new_api": null,
          "old_text": "opt_default(\"b\", \"1150000\")",
          "new_text": null,
          "old_line_content": "        opt_default(\"b\", \"1150000\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4050,
          "old_api": "opt_default",
          "new_api": null,
          "old_text": "opt_default(\"packetsize\", \"2324\")",
          "new_text": null,
          "old_line_content": "        opt_default(\"packetsize\", \"2324\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4059,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(arg, \"svcd\")",
          "new_text": null,
          "old_line_content": "    } else if(!strcmp(arg, \"svcd\")) {",
          "new_line_content": "           SCR starts at 36000, but the first two packs contain only padding",
          "content_same": false
        },
        {
          "line": 4061,
          "old_api": "opt_video_codec",
          "new_api": null,
          "old_text": "opt_video_codec(o, \"c:v\", \"mpeg2video\")",
          "new_text": null,
          "old_line_content": "        opt_video_codec(o, \"c:v\", \"mpeg2video\");",
          "new_line_content": "           been written before.",
          "content_same": false
        },
        {
          "line": 4062,
          "old_api": "opt_audio_codec",
          "new_api": null,
          "old_text": "opt_audio_codec(o, \"c:a\", \"mp2\")",
          "new_text": null,
          "old_line_content": "        opt_audio_codec(o, \"c:a\", \"mp2\");",
          "new_line_content": "           So the real data starts at SCR 36000+3*1200. */",
          "content_same": false
        },
        {
          "line": 4063,
          "old_api": "parse_option",
          "new_api": null,
          "old_text": "parse_option(o, \"f\", \"svcd\", options)",
          "new_text": null,
          "old_line_content": "        parse_option(o, \"f\", \"svcd\", options);",
          "new_line_content": "        o->mux_preload = (36000+3*1200) / 90000.0; //0.44",
          "content_same": false
        },
        {
          "line": 4065,
          "old_api": "parse_option",
          "new_api": null,
          "old_text": "parse_option(o, \"s\", norm == PAL ? \"480x576\" : \"480x480\", options)",
          "new_text": null,
          "old_line_content": "        parse_option(o, \"s\", norm == PAL ? \"480x576\" : \"480x480\", options);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4074,
          "old_api": "opt_default",
          "new_api": null,
          "old_text": "opt_default(\"flags\", \"+scan_offset\")",
          "new_text": null,
          "old_line_content": "        opt_default(\"flags\", \"+scan_offset\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4080,
          "old_api": "opt_default",
          "new_api": null,
          "old_text": "opt_default(\"packetsize\", \"2324\")",
          "new_text": null,
          "old_line_content": "        opt_default(\"packetsize\", \"2324\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4084,
          "old_api": "opt_video_codec",
          "new_api": null,
          "old_text": "opt_video_codec(o, \"c:v\", \"mpeg2video\")",
          "new_text": null,
          "old_line_content": "        opt_video_codec(o, \"c:v\", \"mpeg2video\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4086,
          "old_api": "parse_option",
          "new_api": null,
          "old_text": "parse_option(o, \"f\", \"dvd\", options)",
          "new_text": null,
          "old_line_content": "        parse_option(o, \"f\", \"dvd\", options);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4088,
          "old_api": "parse_option",
          "new_api": null,
          "old_text": "parse_option(o, \"s\", norm == PAL ? \"720x576\" : \"720x480\", options)",
          "new_text": null,
          "old_line_content": "        parse_option(o, \"s\", norm == PAL ? \"720x576\" : \"720x480\", options);",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 145,
      "total_additions": 358,
      "total_deletions": 358,
      "total_api_changes": 861
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 7,
        "api_related_lines": 861,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          2455,
          2451,
          2447
        ]
      }
    },
    "api_calls_before": 999,
    "api_calls_after": 999,
    "diff_info": {
      "added_lines": 6,
      "removed_lines": 1,
      "total_diff_lines": 22
    }
  }
}