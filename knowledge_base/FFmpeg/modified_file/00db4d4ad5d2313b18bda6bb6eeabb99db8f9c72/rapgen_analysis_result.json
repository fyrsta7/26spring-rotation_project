{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/00db4d4ad5d2313b18bda6bb6eeabb99db8f9c72",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/00db4d4ad5d2313b18bda6bb6eeabb99db8f9c72/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/00db4d4ad5d2313b18bda6bb6eeabb99db8f9c72/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/00db4d4ad5d2313b18bda6bb6eeabb99db8f9c72/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 411,
          "old_api": "av_fast_malloc",
          "new_api": "av_fast_padded_malloc",
          "old_text": "av_fast_malloc(&a->bitstream_buffer, &a->bitstream_buffer_size, buf_size + FF_INPUT_BUFFER_PADDING_SIZE)",
          "new_text": "av_fast_padded_malloc(&a->bitstream_buffer, &a->bitstream_buffer_size,\n                          buf_size)",
          "old_line_content": "    av_fast_malloc(&a->bitstream_buffer, &a->bitstream_buffer_size, buf_size + FF_INPUT_BUFFER_PADDING_SIZE);",
          "new_line_content": "    av_fast_padded_malloc(&a->bitstream_buffer, &a->bitstream_buffer_size,",
          "content_same": false
        },
        {
          "line": 479,
          "old_api": "encode_mb",
          "new_api": "dct_get",
          "old_text": "encode_mb(a, a->block)",
          "new_text": "dct_get(a, mb_x, mb_y)",
          "old_line_content": "            encode_mb(a, a->block);",
          "new_line_content": "            dct_get(a, mb_x, mb_y);",
          "content_same": false
        },
        {
          "line": 487,
          "old_api": "encode_mb",
          "new_api": "dct_get",
          "old_text": "encode_mb(a, a->block)",
          "new_text": "dct_get(a, mb_x, mb_y)",
          "old_line_content": "            encode_mb(a, a->block);",
          "new_line_content": "            dct_get(a, mb_x, mb_y);",
          "content_same": false
        },
        {
          "line": 495,
          "old_api": "encode_mb",
          "new_api": "dct_get",
          "old_text": "encode_mb(a, a->block)",
          "new_text": "dct_get(a, mb_x, mb_y)",
          "old_line_content": "            encode_mb(a, a->block);",
          "new_line_content": "            dct_get(a, mb_x, mb_y);",
          "content_same": false
        },
        {
          "line": 501,
          "old_api": "put_bits_count",
          "new_api": "avpriv_align_put_bits",
          "old_text": "put_bits_count(&a->pb)",
          "new_text": "avpriv_align_put_bits(&a->pb)",
          "old_line_content": "    while(put_bits_count(&a->pb)&31)",
          "new_line_content": "    avpriv_align_put_bits(&a->pb);",
          "content_same": false
        },
        {
          "line": 502,
          "old_api": "put_bits",
          "new_api": "put_bits_count",
          "old_text": "put_bits(&a->pb, 8, 0)",
          "new_text": "put_bits_count(&a->pb)",
          "old_line_content": "        put_bits(&a->pb, 8, 0);",
          "new_line_content": "    while(put_bits_count(&a->pb)&31)",
          "content_same": false
        },
        {
          "line": 539,
          "old_api": "init_vlcs",
          "new_api": "common_init",
          "old_text": "init_vlcs(a)",
          "new_text": "common_init(avctx)",
          "old_line_content": "    init_vlcs(a);",
          "new_line_content": "    common_init(avctx);",
          "content_same": false
        },
        {
          "line": 540,
          "old_api": "ff_init_scantable",
          "new_api": "init_vlcs",
          "old_text": "ff_init_scantable(a->dsp.idct_permutation, &a->scantable, scantab)",
          "new_text": "init_vlcs(a)",
          "old_line_content": "    ff_init_scantable(a->dsp.idct_permutation, &a->scantable, scantab);",
          "new_line_content": "    init_vlcs(a);",
          "content_same": false
        },
        {
          "line": 581,
          "old_api": "AV_RL32",
          "new_api": "av_le2ne32",
          "old_text": "AV_RL32(\"ASUS\")",
          "new_text": "av_le2ne32(a->inv_qscale)",
          "old_line_content": "    ((uint32_t*)avctx->extradata)[1]= av_le2ne32(AV_RL32(\"ASUS\"));",
          "new_line_content": "    ((uint32_t*)avctx->extradata)[0]= av_le2ne32(a->inv_qscale);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 640,
          "old_api": null,
          "new_api": "NULL_IF_CONFIG_SMALL",
          "old_text": null,
          "new_text": "NULL_IF_CONFIG_SMALL(\"ASUS V1\")",
          "old_line_content": "};",
          "new_line_content": "    .long_name= NULL_IF_CONFIG_SMALL(\"ASUS V1\"),",
          "content_same": false
        },
        {
          "line": 522,
          "old_api": null,
          "new_api": "dsputil_init",
          "old_text": null,
          "new_text": "dsputil_init(&a->dsp, avctx)",
          "old_line_content": "",
          "new_line_content": "    dsputil_init(&a->dsp, avctx);",
          "content_same": false
        },
        {
          "line": 654,
          "old_api": null,
          "new_api": "NULL_IF_CONFIG_SMALL",
          "old_text": null,
          "new_text": "NULL_IF_CONFIG_SMALL(\"ASUS V2\")",
          "old_line_content": "};",
          "new_line_content": "    .long_name= NULL_IF_CONFIG_SMALL(\"ASUS V2\"),",
          "content_same": false
        },
        {
          "line": 541,
          "old_api": null,
          "new_api": "ff_init_scantable",
          "old_text": null,
          "new_text": "ff_init_scantable(a->dsp.idct_permutation, &a->scantable, scantab)",
          "old_line_content": "    avctx->pix_fmt= PIX_FMT_YUV420P;",
          "new_line_content": "    ff_init_scantable(a->dsp.idct_permutation, &a->scantable, scantab);",
          "content_same": false
        },
        {
          "line": 414,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 417,
          "old_api": null,
          "new_api": "bswap_buf",
          "old_text": null,
          "new_text": "a->dsp.bswap_buf((uint32_t*)a->bitstream_buffer, (const uint32_t*)buf, buf_size/4)",
          "old_line_content": "    else{",
          "new_line_content": "        a->dsp.bswap_buf((uint32_t*)a->bitstream_buffer, (const uint32_t*)buf, buf_size/4);",
          "content_same": false
        },
        {
          "line": 546,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR, \"illegal qscale 0\\n\")",
          "old_line_content": "        if(avctx->codec_id == CODEC_ID_ASV1)",
          "new_line_content": "        av_log(avctx, AV_LOG_ERROR, \"illegal qscale 0\\n\");",
          "content_same": false
        },
        {
          "line": 424,
          "old_api": null,
          "new_api": "init_get_bits",
          "old_text": null,
          "new_text": "init_get_bits(&a->gb, a->bitstream_buffer, buf_size*8)",
          "old_line_content": "",
          "new_line_content": "    init_get_bits(&a->gb, a->bitstream_buffer, buf_size*8);",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": null,
          "new_api": "decode_mb",
          "old_text": null,
          "new_text": "decode_mb(a, a->block)",
          "old_line_content": "                return -1;",
          "new_line_content": "            if( decode_mb(a, a->block) <0)",
          "content_same": false
        },
        {
          "line": 431,
          "old_api": null,
          "new_api": "idct_put",
          "old_text": null,
          "new_text": "idct_put(a, mb_x, mb_y)",
          "old_line_content": "        }",
          "new_line_content": "            idct_put(a, mb_x, mb_y);",
          "content_same": false
        },
        {
          "line": 560,
          "old_api": null,
          "new_api": "av_malloc",
          "old_text": null,
          "new_text": "av_malloc( p->qstride * a->mb_height)",
          "old_line_content": "    p->quality= (32*scale + a->inv_qscale/2)/a->inv_qscale;",
          "new_line_content": "    p->qscale_table= av_malloc( p->qstride * a->mb_height);",
          "content_same": false
        },
        {
          "line": 562,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(p->qscale_table, p->quality, p->qstride*a->mb_height)",
          "old_line_content": "",
          "new_line_content": "    memset(p->qscale_table, p->quality, p->qstride*a->mb_height);",
          "content_same": false
        },
        {
          "line": 438,
          "old_api": null,
          "new_api": "decode_mb",
          "old_text": null,
          "new_text": "decode_mb(a, a->block)",
          "old_line_content": "                return -1;",
          "new_line_content": "            if( decode_mb(a, a->block) <0)",
          "content_same": false
        },
        {
          "line": 441,
          "old_api": null,
          "new_api": "idct_put",
          "old_text": null,
          "new_text": "idct_put(a, mb_x, mb_y)",
          "old_line_content": "        }",
          "new_line_content": "            idct_put(a, mb_x, mb_y);",
          "content_same": false
        },
        {
          "line": 573,
          "old_api": null,
          "new_api": "common_init",
          "old_text": null,
          "new_text": "common_init(avctx)",
          "old_line_content": "",
          "new_line_content": "    common_init(avctx);",
          "content_same": false
        },
        {
          "line": 448,
          "old_api": null,
          "new_api": "decode_mb",
          "old_text": null,
          "new_text": "decode_mb(a, a->block)",
          "old_line_content": "                return -1;",
          "new_line_content": "            if( decode_mb(a, a->block) <0)",
          "content_same": false
        },
        {
          "line": 579,
          "old_api": null,
          "new_api": "av_mallocz",
          "old_text": null,
          "new_text": "av_mallocz(8)",
          "old_line_content": "    avctx->extradata_size=8;",
          "new_line_content": "    avctx->extradata= av_mallocz(8);",
          "content_same": false
        },
        {
          "line": 451,
          "old_api": null,
          "new_api": "idct_put",
          "old_text": null,
          "new_text": "idct_put(a, mb_x, mb_y)",
          "old_line_content": "        }",
          "new_line_content": "            idct_put(a, mb_x, mb_y);",
          "content_same": false
        },
        {
          "line": 582,
          "old_api": null,
          "new_api": "AV_RL32",
          "old_text": null,
          "new_text": "AV_RL32(\"ASUS\")",
          "old_line_content": "",
          "new_line_content": "    ((uint32_t*)avctx->extradata)[1]= av_le2ne32(AV_RL32(\"ASUS\"));",
          "content_same": false
        },
        {
          "line": 458,
          "old_api": null,
          "new_api": "emms_c",
          "old_text": null,
          "new_text": "emms_c()",
          "old_line_content": "",
          "new_line_content": "    emms_c();",
          "content_same": false
        },
        {
          "line": 460,
          "old_api": null,
          "new_api": "get_bits_count",
          "old_text": null,
          "new_text": "get_bits_count(&a->gb)",
          "old_line_content": "}",
          "new_line_content": "    return (get_bits_count(&a->gb)+31)/32*4;",
          "content_same": false
        },
        {
          "line": 597,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&a->picture.qscale_table)",
          "old_line_content": "    a->bitstream_buffer_size=0;",
          "new_line_content": "    av_freep(&a->picture.qscale_table);",
          "content_same": false
        },
        {
          "line": 471,
          "old_api": null,
          "new_api": "init_put_bits",
          "old_text": null,
          "new_text": "init_put_bits(&a->pb, buf, buf_size)",
          "old_line_content": "",
          "new_line_content": "    init_put_bits(&a->pb, buf, buf_size);",
          "content_same": false
        },
        {
          "line": 601,
          "old_api": null,
          "new_api": "release_buffer",
          "old_text": null,
          "new_text": "avctx->release_buffer(avctx, &a->picture)",
          "old_line_content": "",
          "new_line_content": "        avctx->release_buffer(avctx, &a->picture);",
          "content_same": false
        },
        {
          "line": 480,
          "old_api": null,
          "new_api": "encode_mb",
          "old_text": null,
          "new_text": "encode_mb(a, a->block)",
          "old_line_content": "        }",
          "new_line_content": "            encode_mb(a, a->block);",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": null,
          "new_api": "NULL_IF_CONFIG_SMALL",
          "old_text": null,
          "new_text": "NULL_IF_CONFIG_SMALL(\"ASUS V1\")",
          "old_line_content": "};",
          "new_line_content": "    .long_name= NULL_IF_CONFIG_SMALL(\"ASUS V1\"),",
          "content_same": false
        },
        {
          "line": 488,
          "old_api": null,
          "new_api": "encode_mb",
          "old_text": null,
          "new_text": "encode_mb(a, a->block)",
          "old_line_content": "        }",
          "new_line_content": "            encode_mb(a, a->block);",
          "content_same": false
        },
        {
          "line": 496,
          "old_api": null,
          "new_api": "encode_mb",
          "old_text": null,
          "new_text": "encode_mb(a, a->block)",
          "old_line_content": "        }",
          "new_line_content": "            encode_mb(a, a->block);",
          "content_same": false
        },
        {
          "line": 627,
          "old_api": null,
          "new_api": "NULL_IF_CONFIG_SMALL",
          "old_text": null,
          "new_text": "NULL_IF_CONFIG_SMALL(\"ASUS V2\")",
          "old_line_content": "};",
          "new_line_content": "    .long_name= NULL_IF_CONFIG_SMALL(\"ASUS V2\"),",
          "content_same": false
        },
        {
          "line": 499,
          "old_api": null,
          "new_api": "emms_c",
          "old_text": null,
          "new_text": "emms_c()",
          "old_line_content": "",
          "new_line_content": "    emms_c();",
          "content_same": false
        },
        {
          "line": 503,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&a->pb, 8, 0)",
          "old_line_content": "",
          "new_line_content": "        put_bits(&a->pb, 8, 0);",
          "content_same": false
        },
        {
          "line": 505,
          "old_api": null,
          "new_api": "put_bits_count",
          "old_text": null,
          "new_text": "put_bits_count(&a->pb)",
          "old_line_content": "",
          "new_line_content": "    size= put_bits_count(&a->pb)/32;",
          "content_same": false
        },
        {
          "line": 508,
          "old_api": null,
          "new_api": "bswap_buf",
          "old_text": null,
          "new_text": "a->dsp.bswap_buf((uint32_t*)buf, (uint32_t*)buf, size)",
          "old_line_content": "    else{",
          "new_line_content": "        a->dsp.bswap_buf((uint32_t*)buf, (uint32_t*)buf, size);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 521,
          "old_api": "dsputil_init",
          "new_api": null,
          "old_text": "dsputil_init(&a->dsp, avctx)",
          "new_text": null,
          "old_line_content": "    dsputil_init(&a->dsp, avctx);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 653,
          "old_api": "NULL_IF_CONFIG_SMALL",
          "new_api": null,
          "old_text": "NULL_IF_CONFIG_SMALL(\"ASUS V2\")",
          "new_text": null,
          "old_line_content": "    .long_name= NULL_IF_CONFIG_SMALL(\"ASUS V2\"),",
          "new_line_content": "    .pix_fmts= (const enum PixelFormat[]){PIX_FMT_YUV420P, PIX_FMT_NONE},",
          "content_same": false
        },
        {
          "line": 538,
          "old_api": "common_init",
          "new_api": null,
          "old_text": "common_init(avctx)",
          "new_text": null,
          "old_line_content": "    common_init(avctx);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 413,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "    if (!a->bitstream_buffer)",
          "content_same": false
        },
        {
          "line": 416,
          "old_api": "bswap_buf",
          "new_api": null,
          "old_text": "a->dsp.bswap_buf((uint32_t*)a->bitstream_buffer, (const uint32_t*)buf, buf_size/4)",
          "new_text": null,
          "old_line_content": "        a->dsp.bswap_buf((uint32_t*)a->bitstream_buffer, (const uint32_t*)buf, buf_size/4);",
          "new_line_content": "    if(avctx->codec_id == CODEC_ID_ASV1)",
          "content_same": false
        },
        {
          "line": 545,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_ERROR, \"illegal qscale 0\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(avctx, AV_LOG_ERROR, \"illegal qscale 0\\n\");",
          "new_line_content": "    if(a->inv_qscale == 0){",
          "content_same": false
        },
        {
          "line": 423,
          "old_api": "init_get_bits",
          "new_api": null,
          "old_text": "init_get_bits(&a->gb, a->bitstream_buffer, buf_size*8)",
          "new_text": null,
          "old_line_content": "    init_get_bits(&a->gb, a->bitstream_buffer, buf_size*8);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": "decode_mb",
          "new_api": null,
          "old_text": "decode_mb(a, a->block)",
          "new_text": null,
          "old_line_content": "            if( decode_mb(a, a->block) <0)",
          "new_line_content": "        for(mb_x=0; mb_x<a->mb_width2; mb_x++){",
          "content_same": false
        },
        {
          "line": 430,
          "old_api": "idct_put",
          "new_api": null,
          "old_text": "idct_put(a, mb_x, mb_y)",
          "new_text": null,
          "old_line_content": "            idct_put(a, mb_x, mb_y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 559,
          "old_api": "av_malloc",
          "new_api": null,
          "old_text": "av_malloc( p->qstride * a->mb_height)",
          "new_text": null,
          "old_line_content": "    p->qscale_table= av_malloc( p->qstride * a->mb_height);",
          "new_line_content": "    p->qstride= a->mb_width;",
          "content_same": false
        },
        {
          "line": 561,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(p->qscale_table, p->quality, p->qstride*a->mb_height)",
          "new_text": null,
          "old_line_content": "    memset(p->qscale_table, p->quality, p->qstride*a->mb_height);",
          "new_line_content": "    p->quality= (32*scale + a->inv_qscale/2)/a->inv_qscale;",
          "content_same": false
        },
        {
          "line": 437,
          "old_api": "decode_mb",
          "new_api": null,
          "old_text": "decode_mb(a, a->block)",
          "new_text": null,
          "old_line_content": "            if( decode_mb(a, a->block) <0)",
          "new_line_content": "        for(mb_y=0; mb_y<a->mb_height2; mb_y++){",
          "content_same": false
        },
        {
          "line": 440,
          "old_api": "idct_put",
          "new_api": null,
          "old_text": "idct_put(a, mb_x, mb_y)",
          "new_text": null,
          "old_line_content": "            idct_put(a, mb_x, mb_y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 572,
          "old_api": "common_init",
          "new_api": null,
          "old_text": "common_init(avctx)",
          "new_text": null,
          "old_line_content": "    common_init(avctx);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 447,
          "old_api": "decode_mb",
          "new_api": null,
          "old_text": "decode_mb(a, a->block)",
          "new_text": null,
          "old_line_content": "            if( decode_mb(a, a->block) <0)",
          "new_line_content": "        for(mb_x=0; mb_x<a->mb_width; mb_x++){",
          "content_same": false
        },
        {
          "line": 578,
          "old_api": "av_mallocz",
          "new_api": null,
          "old_text": "av_mallocz(8)",
          "new_text": null,
          "old_line_content": "    avctx->extradata= av_mallocz(8);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 450,
          "old_api": "idct_put",
          "new_api": null,
          "old_text": "idct_put(a, mb_x, mb_y)",
          "new_text": null,
          "old_line_content": "            idct_put(a, mb_x, mb_y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 580,
          "old_api": "av_le2ne32",
          "new_api": null,
          "old_text": "av_le2ne32(a->inv_qscale)",
          "new_text": null,
          "old_line_content": "    ((uint32_t*)avctx->extradata)[0]= av_le2ne32(a->inv_qscale);",
          "new_line_content": "    avctx->extradata_size=8;",
          "content_same": false
        },
        {
          "line": 457,
          "old_api": "emms_c",
          "new_api": null,
          "old_text": "emms_c()",
          "new_text": null,
          "old_line_content": "    emms_c();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 459,
          "old_api": "get_bits_count",
          "new_api": null,
          "old_text": "get_bits_count(&a->gb)",
          "new_text": null,
          "old_line_content": "    return (get_bits_count(&a->gb)+31)/32*4;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 595,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&a->bitstream_buffer)",
          "new_text": null,
          "old_line_content": "    av_freep(&a->bitstream_buffer);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 470,
          "old_api": "init_put_bits",
          "new_api": null,
          "old_text": "init_put_bits(&a->pb, buf, buf_size)",
          "new_text": null,
          "old_line_content": "    init_put_bits(&a->pb, buf, buf_size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 600,
          "old_api": "release_buffer",
          "new_api": null,
          "old_text": "avctx->release_buffer(avctx, &a->picture)",
          "new_text": null,
          "old_line_content": "        avctx->release_buffer(avctx, &a->picture);",
          "new_line_content": "    if(a->picture.data[0])",
          "content_same": false
        },
        {
          "line": 478,
          "old_api": "dct_get",
          "new_api": null,
          "old_text": "dct_get(a, mb_x, mb_y)",
          "new_text": null,
          "old_line_content": "            dct_get(a, mb_x, mb_y);",
          "new_line_content": "        for(mb_x=0; mb_x<a->mb_width2; mb_x++){",
          "content_same": false
        },
        {
          "line": 614,
          "old_api": "NULL_IF_CONFIG_SMALL",
          "new_api": null,
          "old_text": "NULL_IF_CONFIG_SMALL(\"ASUS V1\")",
          "new_text": null,
          "old_line_content": "    .long_name= NULL_IF_CONFIG_SMALL(\"ASUS V1\"),",
          "new_line_content": "    .capabilities   = CODEC_CAP_DR1,",
          "content_same": false
        },
        {
          "line": 486,
          "old_api": "dct_get",
          "new_api": null,
          "old_text": "dct_get(a, mb_x, mb_y)",
          "new_text": null,
          "old_line_content": "            dct_get(a, mb_x, mb_y);",
          "new_line_content": "        for(mb_y=0; mb_y<a->mb_height2; mb_y++){",
          "content_same": false
        },
        {
          "line": 494,
          "old_api": "dct_get",
          "new_api": null,
          "old_text": "dct_get(a, mb_x, mb_y)",
          "new_text": null,
          "old_line_content": "            dct_get(a, mb_x, mb_y);",
          "new_line_content": "        for(mb_x=0; mb_x<a->mb_width; mb_x++){",
          "content_same": false
        },
        {
          "line": 626,
          "old_api": "NULL_IF_CONFIG_SMALL",
          "new_api": null,
          "old_text": "NULL_IF_CONFIG_SMALL(\"ASUS V2\")",
          "new_text": null,
          "old_line_content": "    .long_name= NULL_IF_CONFIG_SMALL(\"ASUS V2\"),",
          "new_line_content": "    .capabilities   = CODEC_CAP_DR1,",
          "content_same": false
        },
        {
          "line": 498,
          "old_api": "emms_c",
          "new_api": null,
          "old_text": "emms_c()",
          "new_text": null,
          "old_line_content": "    emms_c();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 500,
          "old_api": "avpriv_align_put_bits",
          "new_api": null,
          "old_text": "avpriv_align_put_bits(&a->pb)",
          "new_text": null,
          "old_line_content": "    avpriv_align_put_bits(&a->pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 504,
          "old_api": "put_bits_count",
          "new_api": null,
          "old_text": "put_bits_count(&a->pb)",
          "new_text": null,
          "old_line_content": "    size= put_bits_count(&a->pb)/32;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 507,
          "old_api": "bswap_buf",
          "new_api": null,
          "old_text": "a->dsp.bswap_buf((uint32_t*)buf, (uint32_t*)buf, size)",
          "new_text": null,
          "old_line_content": "        a->dsp.bswap_buf((uint32_t*)buf, (uint32_t*)buf, size);",
          "new_line_content": "    if(avctx->codec_id == CODEC_ID_ASV1)",
          "content_same": false
        },
        {
          "line": 639,
          "old_api": "NULL_IF_CONFIG_SMALL",
          "new_api": null,
          "old_text": "NULL_IF_CONFIG_SMALL(\"ASUS V1\")",
          "new_text": null,
          "old_line_content": "    .long_name= NULL_IF_CONFIG_SMALL(\"ASUS V1\"),",
          "new_line_content": "    .pix_fmts= (const enum PixelFormat[]){PIX_FMT_YUV420P, PIX_FMT_NONE},",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 9,
      "total_additions": 33,
      "total_deletions": 33,
      "total_api_changes": 75
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 2,
        "api_related_lines": 75,
        "non_api_lines": 1,
        "non_api_line_numbers": [
          412
        ]
      }
    },
    "api_calls_before": 122,
    "api_calls_after": 122,
    "diff_info": {
      "added_lines": 2,
      "removed_lines": 1,
      "total_diff_lines": 15
    }
  }
}