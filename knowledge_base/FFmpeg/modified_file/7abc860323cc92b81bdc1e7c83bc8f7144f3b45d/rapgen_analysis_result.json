{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/7abc860323cc92b81bdc1e7c83bc8f7144f3b45d",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/7abc860323cc92b81bdc1e7c83bc8f7144f3b45d/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/7abc860323cc92b81bdc1e7c83bc8f7144f3b45d/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/7abc860323cc92b81bdc1e7c83bc8f7144f3b45d/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 551,
          "old_api": "get_bits1",
          "new_api": "predict_field_decoding_flag",
          "old_text": "get_bits1(&s->gb)",
          "new_text": "predict_field_decoding_flag(h)",
          "old_line_content": "                    h->mb_mbaff = h->mb_field_decoding_flag = get_bits1(&s->gb);",
          "new_line_content": "                    predict_field_decoding_flag(h);",
          "content_same": false
        },
        {
          "line": 553,
          "old_api": "predict_field_decoding_flag",
          "new_api": "decode_mb_skip",
          "old_text": "predict_field_decoding_flag(h)",
          "new_text": "decode_mb_skip(h)",
          "old_line_content": "                    predict_field_decoding_flag(h);",
          "new_line_content": "            decode_mb_skip(h);",
          "content_same": false
        },
        {
          "line": 644,
          "old_api": "pred_intra_mode",
          "new_api": "get_bits1",
          "old_text": "pred_intra_mode(h, i)",
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "                int mode= pred_intra_mode(h, i);",
          "new_line_content": "                if(!get_bits1(&s->gb)){",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": "get_ue_golomb_31",
          "new_api": "av_log",
          "old_text": "get_ue_golomb_31(&s->gb)",
          "new_text": "av_log(h->s.avctx, AV_LOG_ERROR, \"B sub_mb_type %u out of range at %d %d\\n\", h->sub_mb_type[i], s->mb_x, s->mb_y)",
          "old_line_content": "                h->sub_mb_type[i]= get_ue_golomb_31(&s->gb);",
          "new_line_content": "                    av_log(h->s.avctx, AV_LOG_ERROR, \"B sub_mb_type %u out of range at %d %d\\n\", h->sub_mb_type[i], s->mb_x, s->mb_y);",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": "assert",
          "new_api": "get_ue_golomb_31",
          "old_text": "assert(h->slice_type_nos == FF_P_TYPE)",
          "new_text": "get_ue_golomb_31(&s->gb)",
          "old_line_content": "            assert(h->slice_type_nos == FF_P_TYPE); //FIXME SP correct ?",
          "new_line_content": "                h->sub_mb_type[i]= get_ue_golomb_31(&s->gb);",
          "content_same": false
        },
        {
          "line": 693,
          "old_api": "get_ue_golomb_31",
          "new_api": "av_log",
          "old_text": "get_ue_golomb_31(&s->gb)",
          "new_text": "av_log(h->s.avctx, AV_LOG_ERROR, \"P sub_mb_type %u out of range at %d %d\\n\", h->sub_mb_type[i], s->mb_x, s->mb_y)",
          "old_line_content": "                h->sub_mb_type[i]= get_ue_golomb_31(&s->gb);",
          "new_line_content": "                    av_log(h->s.avctx, AV_LOG_ERROR, \"P sub_mb_type %u out of range at %d %d\\n\", h->sub_mb_type[i], s->mb_x, s->mb_y);",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": "IS_REF0",
          "new_api": "IS_DIRECT",
          "old_text": "IS_REF0(mb_type)",
          "new_text": "IS_DIRECT(h->sub_mb_type[i])",
          "old_line_content": "            int ref_count= IS_REF0(mb_type) ? 1 : h->ref_count[list];",
          "new_line_content": "                if(IS_DIRECT(h->sub_mb_type[i])) continue;",
          "content_same": false
        },
        {
          "line": 712,
          "old_api": "get_bits1",
          "new_api": "get_ue_golomb_31",
          "old_text": "get_bits1(&s->gb)",
          "new_text": "get_ue_golomb_31(&s->gb)",
          "old_line_content": "                        tmp= get_bits1(&s->gb)^1;",
          "new_line_content": "                        tmp= get_ue_golomb_31(&s->gb);",
          "content_same": false
        },
        {
          "line": 714,
          "old_api": "get_ue_golomb_31",
          "new_api": "av_log",
          "old_text": "get_ue_golomb_31(&s->gb)",
          "new_text": "av_log(h->s.avctx, AV_LOG_ERROR, \"ref %u overflow\\n\", tmp)",
          "old_line_content": "                        tmp= get_ue_golomb_31(&s->gb);",
          "new_line_content": "                            av_log(h->s.avctx, AV_LOG_ERROR, \"ref %u overflow\\n\", tmp);",
          "content_same": false
        },
        {
          "line": 747,
          "old_api": "pred_motion",
          "new_api": "get_se_golomb",
          "old_text": "pred_motion(h, index, block_width, list, h->ref_cache[list][ scan8[index] ], &mx, &my)",
          "new_text": "get_se_golomb(&s->gb)",
          "old_line_content": "                        pred_motion(h, index, block_width, list, h->ref_cache[list][ scan8[index] ], &mx, &my);",
          "new_line_content": "                        my += get_se_golomb(&s->gb);",
          "content_same": false
        },
        {
          "line": 748,
          "old_api": "get_se_golomb",
          "new_api": "tprintf",
          "old_text": "get_se_golomb(&s->gb)",
          "new_text": "tprintf(s->avctx, \"final mv:%d %d\\n\", mx, my)",
          "old_line_content": "                        mx += get_se_golomb(&s->gb);",
          "new_line_content": "                        tprintf(s->avctx, \"final mv:%d %d\\n\", mx, my);",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": "tprintf",
          "new_api": "IS_SUB_8X8",
          "old_text": "tprintf(s->avctx, \"final mv:%d %d\\n\", mx, my)",
          "new_text": "IS_SUB_8X8(sub_mb_type)",
          "old_line_content": "                        tprintf(s->avctx, \"final mv:%d %d\\n\", mx, my);",
          "new_line_content": "                        if(IS_SUB_8X8(sub_mb_type)){",
          "content_same": false
        },
        {
          "line": 787,
          "old_api": "get_bits1",
          "new_api": "get_ue_golomb_31",
          "old_text": "get_bits1(&s->gb)",
          "new_text": "get_ue_golomb_31(&s->gb)",
          "old_line_content": "                            val= get_bits1(&s->gb)^1;",
          "new_line_content": "                            val= get_ue_golomb_31(&s->gb);",
          "content_same": false
        },
        {
          "line": 789,
          "old_api": "get_ue_golomb_31",
          "new_api": "av_log",
          "old_text": "get_ue_golomb_31(&s->gb)",
          "new_text": "av_log(h->s.avctx, AV_LOG_ERROR, \"ref %u overflow\\n\", val)",
          "old_line_content": "                            val= get_ue_golomb_31(&s->gb);",
          "new_line_content": "                                av_log(h->s.avctx, AV_LOG_ERROR, \"ref %u overflow\\n\", val);",
          "content_same": false
        },
        {
          "line": 801,
          "old_api": "IS_DIR",
          "new_api": "get_se_golomb",
          "old_text": "IS_DIR(mb_type, 0, list)",
          "new_text": "get_se_golomb(&s->gb)",
          "old_line_content": "                if(IS_DIR(mb_type, 0, list)){",
          "new_line_content": "                    mx += get_se_golomb(&s->gb);",
          "content_same": false
        },
        {
          "line": 802,
          "old_api": "pred_motion",
          "new_api": "get_se_golomb",
          "old_text": "pred_motion(h, 0, 4, list, h->ref_cache[list][ scan8[0] ], &mx, &my)",
          "new_text": "get_se_golomb(&s->gb)",
          "old_line_content": "                    pred_motion(h, 0, 4, list, h->ref_cache[list][ scan8[0] ], &mx, &my);",
          "new_line_content": "                    my += get_se_golomb(&s->gb);",
          "content_same": false
        },
        {
          "line": 803,
          "old_api": "get_se_golomb",
          "new_api": "tprintf",
          "old_text": "get_se_golomb(&s->gb)",
          "new_text": "tprintf(s->avctx, \"final mv:%d %d\\n\", mx, my)",
          "old_line_content": "                    mx += get_se_golomb(&s->gb);",
          "new_line_content": "                    tprintf(s->avctx, \"final mv:%d %d\\n\", mx, my);",
          "content_same": false
        },
        {
          "line": 805,
          "old_api": "tprintf",
          "new_api": "pack16to32",
          "old_text": "tprintf(s->avctx, \"final mv:%d %d\\n\", mx, my)",
          "new_text": "pack16to32(mx,my)",
          "old_line_content": "                    tprintf(s->avctx, \"final mv:%d %d\\n\", mx, my);",
          "new_line_content": "                    val= pack16to32(mx,my);",
          "content_same": false
        },
        {
          "line": 821,
          "old_api": "get_bits1",
          "new_api": "get_ue_golomb_31",
          "old_text": "get_bits1(&s->gb)",
          "new_text": "get_ue_golomb_31(&s->gb)",
          "old_line_content": "                                val= get_bits1(&s->gb)^1;",
          "new_line_content": "                                val= get_ue_golomb_31(&s->gb);",
          "content_same": false
        },
        {
          "line": 823,
          "old_api": "get_ue_golomb_31",
          "new_api": "av_log",
          "old_text": "get_ue_golomb_31(&s->gb)",
          "new_text": "av_log(h->s.avctx, AV_LOG_ERROR, \"ref %u overflow\\n\", val)",
          "old_line_content": "                                val= get_ue_golomb_31(&s->gb);",
          "new_line_content": "                                    av_log(h->s.avctx, AV_LOG_ERROR, \"ref %u overflow\\n\", val);",
          "content_same": false
        },
        {
          "line": 837,
          "old_api": "IS_DIR",
          "new_api": "get_se_golomb",
          "old_text": "IS_DIR(mb_type, i, list)",
          "new_text": "get_se_golomb(&s->gb)",
          "old_line_content": "                    if(IS_DIR(mb_type, i, list)){",
          "new_line_content": "                        mx += get_se_golomb(&s->gb);",
          "content_same": false
        },
        {
          "line": 838,
          "old_api": "pred_16x8_motion",
          "new_api": "get_se_golomb",
          "old_text": "pred_16x8_motion(h, 8*i, list, h->ref_cache[list][scan8[0] + 16*i], &mx, &my)",
          "new_text": "get_se_golomb(&s->gb)",
          "old_line_content": "                        pred_16x8_motion(h, 8*i, list, h->ref_cache[list][scan8[0] + 16*i], &mx, &my);",
          "new_line_content": "                        my += get_se_golomb(&s->gb);",
          "content_same": false
        },
        {
          "line": 839,
          "old_api": "get_se_golomb",
          "new_api": "tprintf",
          "old_text": "get_se_golomb(&s->gb)",
          "new_text": "tprintf(s->avctx, \"final mv:%d %d\\n\", mx, my)",
          "old_line_content": "                        mx += get_se_golomb(&s->gb);",
          "new_line_content": "                        tprintf(s->avctx, \"final mv:%d %d\\n\", mx, my);",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": "tprintf",
          "new_api": "pack16to32",
          "old_text": "tprintf(s->avctx, \"final mv:%d %d\\n\", mx, my)",
          "new_text": "pack16to32(mx,my)",
          "old_line_content": "                        tprintf(s->avctx, \"final mv:%d %d\\n\", mx, my);",
          "new_line_content": "                        val= pack16to32(mx,my);",
          "content_same": false
        },
        {
          "line": 858,
          "old_api": "get_bits1",
          "new_api": "get_ue_golomb_31",
          "old_text": "get_bits1(&s->gb)",
          "new_text": "get_ue_golomb_31(&s->gb)",
          "old_line_content": "                                val= get_bits1(&s->gb)^1;",
          "new_line_content": "                                val= get_ue_golomb_31(&s->gb);",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": "get_ue_golomb_31",
          "new_api": "av_log",
          "old_text": "get_ue_golomb_31(&s->gb)",
          "new_text": "av_log(h->s.avctx, AV_LOG_ERROR, \"ref %u overflow\\n\", val)",
          "old_line_content": "                                val= get_ue_golomb_31(&s->gb);",
          "new_line_content": "                                    av_log(h->s.avctx, AV_LOG_ERROR, \"ref %u overflow\\n\", val);",
          "content_same": false
        },
        {
          "line": 874,
          "old_api": "IS_DIR",
          "new_api": "get_se_golomb",
          "old_text": "IS_DIR(mb_type, i, list)",
          "new_text": "get_se_golomb(&s->gb)",
          "old_line_content": "                    if(IS_DIR(mb_type, i, list)){",
          "new_line_content": "                        mx += get_se_golomb(&s->gb);",
          "content_same": false
        },
        {
          "line": 875,
          "old_api": "pred_8x16_motion",
          "new_api": "get_se_golomb",
          "old_text": "pred_8x16_motion(h, i*4, list, h->ref_cache[list][ scan8[0] + 2*i ], &mx, &my)",
          "new_text": "get_se_golomb(&s->gb)",
          "old_line_content": "                        pred_8x16_motion(h, i*4, list, h->ref_cache[list][ scan8[0] + 2*i ], &mx, &my);",
          "new_line_content": "                        my += get_se_golomb(&s->gb);",
          "content_same": false
        },
        {
          "line": 876,
          "old_api": "get_se_golomb",
          "new_api": "tprintf",
          "old_text": "get_se_golomb(&s->gb)",
          "new_text": "tprintf(s->avctx, \"final mv:%d %d\\n\", mx, my)",
          "old_line_content": "                        mx += get_se_golomb(&s->gb);",
          "new_line_content": "                        tprintf(s->avctx, \"final mv:%d %d\\n\", mx, my);",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": "tprintf",
          "new_api": "pack16to32",
          "old_text": "tprintf(s->avctx, \"final mv:%d %d\\n\", mx, my)",
          "new_text": "pack16to32(mx,my)",
          "old_line_content": "                        tprintf(s->avctx, \"final mv:%d %d\\n\", mx, my);",
          "new_line_content": "                        val= pack16to32(mx,my);",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": "write_back_motion",
          "new_api": "IS_INTRA16x16",
          "old_text": "write_back_motion(h, mb_type)",
          "new_text": "IS_INTRA16x16(mb_type)",
          "old_line_content": "        write_back_motion(h, mb_type);",
          "new_line_content": "    if(!IS_INTRA16x16(mb_type)){",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": "get_ue_golomb",
          "new_api": "av_log",
          "old_text": "get_ue_golomb(&s->gb)",
          "new_text": "av_log(h->s.avctx, AV_LOG_ERROR, \"cbp too large (%u) at %d %d\\n\", cbp, s->mb_x, s->mb_y)",
          "old_line_content": "        cbp= get_ue_golomb(&s->gb);",
          "new_line_content": "            av_log(h->s.avctx, AV_LOG_ERROR, \"cbp too large (%u) at %d %d\\n\", cbp, s->mb_x, s->mb_y);",
          "content_same": false
        },
        {
          "line": 948,
          "old_api": "get_chroma_qp",
          "new_api": "IS_INTRA16x16",
          "old_text": "get_chroma_qp(h, 0, s->qscale)",
          "new_text": "IS_INTRA16x16(mb_type)",
          "old_line_content": "        h->chroma_qp[0]= get_chroma_qp(h, 0, s->qscale);",
          "new_line_content": "        if(IS_INTRA16x16(mb_type)){",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": "get_chroma_qp",
          "new_api": "decode_residual",
          "old_text": "get_chroma_qp(h, 1, s->qscale)",
          "new_text": "decode_residual(h, h->intra_gb_ptr, h->mb, LUMA_DC_BLOCK_INDEX, dc_scan, h->dequant4_coeff[0][s->qscale], 16)",
          "old_line_content": "        h->chroma_qp[1]= get_chroma_qp(h, 1, s->qscale);",
          "new_line_content": "            if( decode_residual(h, h->intra_gb_ptr, h->mb, LUMA_DC_BLOCK_INDEX, dc_scan, h->dequant4_coeff[0][s->qscale], 16) < 0){",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1025,
          "old_api": null,
          "new_api": "write_back_non_zero_count",
          "old_text": null,
          "new_text": "write_back_non_zero_count(h)",
          "old_line_content": "    }",
          "new_line_content": "    write_back_non_zero_count(h);",
          "content_same": false
        },
        {
          "line": 523,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(h->s.avctx, AV_LOG_ERROR, \"negative number of zero coeffs at %d %d\\n\", s->mb_x, s->mb_y)",
          "old_line_content": "",
          "new_line_content": "        av_log(h->s.avctx, AV_LOG_ERROR, \"negative number of zero coeffs at %d %d\\n\", s->mb_x, s->mb_y);",
          "content_same": false
        },
        {
          "line": 539,
          "old_api": null,
          "new_api": "tprintf",
          "old_text": null,
          "new_text": "tprintf(s->avctx, \"pic:%d mb:%d/%d\\n\", h->frame_num, s->mb_x, s->mb_y)",
          "old_line_content": "    mb_xy = h->mb_xy = s->mb_x + s->mb_y*s->mb_stride;",
          "new_line_content": "    tprintf(s->avctx, \"pic:%d mb:%d/%d\\n\", h->frame_num, s->mb_x, s->mb_y);",
          "content_same": false
        },
        {
          "line": 544,
          "old_api": null,
          "new_api": "get_ue_golomb",
          "old_text": null,
          "new_text": "get_ue_golomb(&s->gb)",
          "old_line_content": "    if(h->slice_type_nos != FF_I_TYPE){",
          "new_line_content": "            s->mb_skip_run= get_ue_golomb(&s->gb);",
          "content_same": false
        },
        {
          "line": 549,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "            if(FRAME_MBAFF && (s->mb_y&1) == 0){",
          "new_line_content": "                    h->mb_mbaff = h->mb_field_decoding_flag = get_bits1(&s->gb);",
          "content_same": false
        },
        {
          "line": 559,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "    if(FRAME_MBAFF){",
          "new_line_content": "            h->mb_mbaff = h->mb_field_decoding_flag = get_bits1(&s->gb);",
          "content_same": false
        },
        {
          "line": 564,
          "old_api": null,
          "new_api": "get_ue_golomb",
          "old_text": null,
          "new_text": "get_ue_golomb(&s->gb)",
          "old_line_content": "    h->prev_mb_skipped= 0;",
          "new_line_content": "    mb_type= get_ue_golomb(&s->gb);",
          "content_same": false
        },
        {
          "line": 582,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(h->slice_type_nos == FF_I_TYPE)",
          "old_line_content": "        }",
          "new_line_content": "       assert(h->slice_type_nos == FF_I_TYPE);",
          "content_same": false
        },
        {
          "line": 587,
          "old_api": null,
          "new_api": "av_get_pict_type_char",
          "old_text": null,
          "new_text": "av_get_pict_type_char(h->slice_type)",
          "old_line_content": "decode_intra_mb:",
          "new_line_content": "            av_log(h->s.avctx, AV_LOG_ERROR, \"mb_type %d in %c slice too large at %d %d\\n\", mb_type, av_get_pict_type_char(h->slice_type), s->mb_x, s->mb_y);",
          "content_same": false
        },
        {
          "line": 601,
          "old_api": null,
          "new_api": "IS_INTRA_PCM",
          "old_text": null,
          "new_text": "IS_INTRA_PCM(mb_type)",
          "old_line_content": "    h->slice_table[ mb_xy ]= h->slice_num;",
          "new_line_content": "    if(IS_INTRA_PCM(mb_type)){",
          "content_same": false
        },
        {
          "line": 605,
          "old_api": null,
          "new_api": "align_get_bits",
          "old_text": null,
          "new_text": "align_get_bits(&s->gb)",
          "old_line_content": "",
          "new_line_content": "        align_get_bits(&s->gb);",
          "content_same": false
        },
        {
          "line": 609,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 8)",
          "old_line_content": "        // The pixels are stored in the same order as levels in h->mb array.",
          "new_line_content": "            ((uint8_t*)h->mb)[x]= get_bits(&s->gb, 8);",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(h->non_zero_count[mb_xy], 16, 32)",
          "old_line_content": "        s->current_picture.qscale_table[mb_xy]= 0;",
          "new_line_content": "        memset(h->non_zero_count[mb_xy], 16, 32);",
          "content_same": false
        },
        {
          "line": 626,
          "old_api": null,
          "new_api": "fill_decode_caches",
          "old_text": null,
          "new_text": "fill_decode_caches(h, mb_type)",
          "old_line_content": "    }",
          "new_line_content": "    fill_decode_caches(h, mb_type);",
          "content_same": false
        },
        {
          "line": 629,
          "old_api": null,
          "new_api": "IS_INTRA",
          "old_text": null,
          "new_text": "IS_INTRA(mb_type)",
          "old_line_content": "",
          "new_line_content": "    if(IS_INTRA(mb_type)){",
          "content_same": false
        },
        {
          "line": 632,
          "old_api": null,
          "new_api": "IS_INTRA4x4",
          "old_text": null,
          "new_text": "IS_INTRA4x4(mb_type)",
          "old_line_content": "        int pred_mode;",
          "new_line_content": "        if(IS_INTRA4x4(mb_type)){",
          "content_same": false
        },
        {
          "line": 635,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "            int i;",
          "new_line_content": "            if(dct8x8_allowed && get_bits1(&s->gb)){",
          "content_same": false
        },
        {
          "line": 642,
          "old_api": null,
          "new_api": "pred_intra_mode",
          "old_text": null,
          "new_text": "pred_intra_mode(h, i)",
          "old_line_content": "//                fill_intra4x4_pred_table(h);",
          "new_line_content": "                int mode= pred_intra_mode(h, i);",
          "content_same": false
        },
        {
          "line": 645,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 3)",
          "old_line_content": "",
          "new_line_content": "                    const int rem_mode= get_bits(&s->gb, 3);",
          "content_same": false
        },
        {
          "line": 650,
          "old_api": null,
          "new_api": "fill_rectangle",
          "old_text": null,
          "new_text": "fill_rectangle( &h->intra4x4_pred_mode_cache[ scan8[i] ], 2, 2, 8, mode, 1 )",
          "old_line_content": "",
          "new_line_content": "                    fill_rectangle( &h->intra4x4_pred_mode_cache[ scan8[i] ], 2, 2, 8, mode, 1 );",
          "content_same": false
        },
        {
          "line": 654,
          "old_api": null,
          "new_api": "ff_h264_write_back_intra_pred_mode",
          "old_text": null,
          "new_text": "ff_h264_write_back_intra_pred_mode(h)",
          "old_line_content": "                    h->intra4x4_pred_mode_cache[ scan8[i] ] = mode;",
          "new_line_content": "            ff_h264_write_back_intra_pred_mode(h);",
          "content_same": false
        },
        {
          "line": 655,
          "old_api": null,
          "new_api": "ff_h264_check_intra4x4_pred_mode",
          "old_text": null,
          "new_text": "ff_h264_check_intra4x4_pred_mode(h)",
          "old_line_content": "            }",
          "new_line_content": "            if( ff_h264_check_intra4x4_pred_mode(h) < 0)",
          "content_same": false
        },
        {
          "line": 658,
          "old_api": null,
          "new_api": "ff_h264_check_intra_pred_mode",
          "old_text": null,
          "new_text": "ff_h264_check_intra_pred_mode(h, h->intra16x16_pred_mode)",
          "old_line_content": "                return -1;",
          "new_line_content": "            h->intra16x16_pred_mode= ff_h264_check_intra_pred_mode(h, h->intra16x16_pred_mode);",
          "content_same": false
        },
        {
          "line": 663,
          "old_api": null,
          "new_api": "get_ue_golomb_31",
          "old_text": null,
          "new_text": "get_ue_golomb_31(&s->gb)",
          "old_line_content": "        }",
          "new_line_content": "            pred_mode= ff_h264_check_intra_pred_mode(h, get_ue_golomb_31(&s->gb));",
          "content_same": false
        },
        {
          "line": 673,
          "old_api": null,
          "new_api": "get_ue_golomb_31",
          "old_text": null,
          "new_text": "get_ue_golomb_31(&s->gb)",
          "old_line_content": "        if(h->slice_type_nos == FF_B_TYPE){",
          "new_line_content": "                h->sub_mb_type[i]= get_ue_golomb_31(&s->gb);",
          "content_same": false
        },
        {
          "line": 681,
          "old_api": null,
          "new_api": "IS_DIRECT",
          "old_text": null,
          "new_text": "IS_DIRECT(h->sub_mb_type[0]|h->sub_mb_type[1]|h->sub_mb_type[2]|h->sub_mb_type[3])",
          "old_line_content": "                h->sub_mb_type[i]=      b_sub_mb_type_info[ h->sub_mb_type[i] ].type;",
          "new_line_content": "            if( IS_DIRECT(h->sub_mb_type[0]|h->sub_mb_type[1]|h->sub_mb_type[2]|h->sub_mb_type[3])) {",
          "content_same": false
        },
        {
          "line": 682,
          "old_api": null,
          "new_api": "ff_h264_pred_direct_motion",
          "old_text": null,
          "new_text": "ff_h264_pred_direct_motion(h, &mb_type)",
          "old_line_content": "            }",
          "new_line_content": "                ff_h264_pred_direct_motion(h, &mb_type);",
          "content_same": false
        },
        {
          "line": 689,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(h->slice_type_nos == FF_P_TYPE)",
          "old_line_content": "            }",
          "new_line_content": "            assert(h->slice_type_nos == FF_P_TYPE); //FIXME SP correct ?",
          "content_same": false
        },
        {
          "line": 702,
          "old_api": null,
          "new_api": "IS_REF0",
          "old_text": null,
          "new_text": "IS_REF0(mb_type)",
          "old_line_content": "",
          "new_line_content": "            int ref_count= IS_REF0(mb_type) ? 1 : h->ref_count[list];",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": null,
          "new_api": "IS_DIR",
          "old_text": null,
          "new_text": "IS_DIR(h->sub_mb_type[i], 0, list)",
          "old_line_content": "            for(i=0; i<4; i++){",
          "new_line_content": "                if(IS_DIR(h->sub_mb_type[i], 0, list)){",
          "content_same": false
        },
        {
          "line": 710,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "                        tmp= 0;",
          "new_line_content": "                        tmp= get_bits1(&s->gb)^1;",
          "content_same": false
        },
        {
          "line": 727,
          "old_api": null,
          "new_api": "get_dct8x8_allowed",
          "old_text": null,
          "new_text": "get_dct8x8_allowed(h)",
          "old_line_content": "",
          "new_line_content": "            dct8x8_allowed = get_dct8x8_allowed(h);",
          "content_same": false
        },
        {
          "line": 731,
          "old_api": null,
          "new_api": "IS_DIRECT",
          "old_text": null,
          "new_text": "IS_DIRECT(h->sub_mb_type[i])",
          "old_line_content": "        for(list=0; list<h->list_count; list++){",
          "new_line_content": "                if(IS_DIRECT(h->sub_mb_type[i])) {",
          "content_same": false
        },
        {
          "line": 738,
          "old_api": null,
          "new_api": "IS_DIR",
          "old_text": null,
          "new_text": "IS_DIR(h->sub_mb_type[i], 0, list)",
          "old_line_content": "                h->ref_cache[list][ scan8[4*i]+8 ]=h->ref_cache[list][ scan8[4*i]+9 ]= ref[list][i];",
          "new_line_content": "                if(IS_DIR(h->sub_mb_type[i], 0, list)){",
          "content_same": false
        },
        {
          "line": 745,
          "old_api": null,
          "new_api": "pred_motion",
          "old_text": null,
          "new_text": "pred_motion(h, index, block_width, list, h->ref_cache[list][ scan8[index] ], &mx, &my)",
          "old_line_content": "                        const int index= 4*i + block_width*j;",
          "new_line_content": "                        pred_motion(h, index, block_width, list, h->ref_cache[list][ scan8[index] ], &mx, &my);",
          "content_same": false
        },
        {
          "line": 746,
          "old_api": null,
          "new_api": "get_se_golomb",
          "old_text": null,
          "new_text": "get_se_golomb(&s->gb)",
          "old_line_content": "                        int16_t (* mv_cache)[2]= &h->mv_cache[list][ scan8[index] ];",
          "new_line_content": "                        mx += get_se_golomb(&s->gb);",
          "content_same": false
        },
        {
          "line": 755,
          "old_api": null,
          "new_api": "IS_SUB_8X4",
          "old_text": null,
          "new_text": "IS_SUB_8X4(sub_mb_type)",
          "old_line_content": "                            mv_cache[ 1 ][1]=",
          "new_line_content": "                        }else if(IS_SUB_8X4(sub_mb_type)){",
          "content_same": false
        },
        {
          "line": 758,
          "old_api": null,
          "new_api": "IS_SUB_4X8",
          "old_text": null,
          "new_text": "IS_SUB_4X8(sub_mb_type)",
          "old_line_content": "                            mv_cache[ 1 ][0]= mx;",
          "new_line_content": "                        }else if(IS_SUB_4X8(sub_mb_type)){",
          "content_same": false
        },
        {
          "line": 772,
          "old_api": null,
          "new_api": "IS_DIRECT",
          "old_text": null,
          "new_text": "IS_DIRECT(mb_type)",
          "old_line_content": "            }",
          "new_line_content": "    }else if(IS_DIRECT(mb_type)){",
          "content_same": false
        },
        {
          "line": 773,
          "old_api": null,
          "new_api": "ff_h264_pred_direct_motion",
          "old_text": null,
          "new_text": "ff_h264_pred_direct_motion(h, &mb_type)",
          "old_line_content": "        }",
          "new_line_content": "        ff_h264_pred_direct_motion(h, &mb_type);",
          "content_same": false
        },
        {
          "line": 778,
          "old_api": null,
          "new_api": "IS_16X16",
          "old_text": null,
          "new_text": "IS_16X16(mb_type)",
          "old_line_content": "        int list, mx, my, i;",
          "new_line_content": "        if(IS_16X16(mb_type)){",
          "content_same": false
        },
        {
          "line": 781,
          "old_api": null,
          "new_api": "IS_DIR",
          "old_text": null,
          "new_text": "IS_DIR(mb_type, 0, list)",
          "old_line_content": "            for(list=0; list<h->list_count; list++){",
          "new_line_content": "                    if(IS_DIR(mb_type, 0, list)){",
          "content_same": false
        },
        {
          "line": 785,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "                            val= 0;",
          "new_line_content": "                            val= get_bits1(&s->gb)^1;",
          "content_same": false
        },
        {
          "line": 795,
          "old_api": null,
          "new_api": "fill_rectangle",
          "old_text": null,
          "new_text": "fill_rectangle(&h->ref_cache[list][ scan8[0] ], 4, 4, 8, val, 1)",
          "old_line_content": "                    }else",
          "new_line_content": "                    fill_rectangle(&h->ref_cache[list][ scan8[0] ], 4, 4, 8, val, 1);",
          "content_same": false
        },
        {
          "line": 799,
          "old_api": null,
          "new_api": "IS_DIR",
          "old_text": null,
          "new_text": "IS_DIR(mb_type, 0, list)",
          "old_line_content": "            for(list=0; list<h->list_count; list++){",
          "new_line_content": "                if(IS_DIR(mb_type, 0, list)){",
          "content_same": false
        },
        {
          "line": 800,
          "old_api": null,
          "new_api": "pred_motion",
          "old_text": null,
          "new_text": "pred_motion(h, 0, 4, list, h->ref_cache[list][ scan8[0] ], &mx, &my)",
          "old_line_content": "                unsigned int val;",
          "new_line_content": "                    pred_motion(h, 0, 4, list, h->ref_cache[list][ scan8[0] ], &mx, &my);",
          "content_same": false
        },
        {
          "line": 808,
          "old_api": null,
          "new_api": "fill_rectangle",
          "old_text": null,
          "new_text": "fill_rectangle(h->mv_cache[list][ scan8[0] ], 4, 4, 8, val, 4)",
          "old_line_content": "                }else",
          "new_line_content": "                fill_rectangle(h->mv_cache[list][ scan8[0] ], 4, 4, 8, val, 4);",
          "content_same": false
        },
        {
          "line": 811,
          "old_api": null,
          "new_api": "IS_16X8",
          "old_text": null,
          "new_text": "IS_16X8(mb_type)",
          "old_line_content": "            }",
          "new_line_content": "        else if(IS_16X8(mb_type)){",
          "content_same": false
        },
        {
          "line": 815,
          "old_api": null,
          "new_api": "IS_DIR",
          "old_text": null,
          "new_text": "IS_DIR(mb_type, i, list)",
          "old_line_content": "                    for(i=0; i<2; i++){",
          "new_line_content": "                        if(IS_DIR(mb_type, i, list)){",
          "content_same": false
        },
        {
          "line": 819,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "                                val= 0;",
          "new_line_content": "                                val= get_bits1(&s->gb)^1;",
          "content_same": false
        },
        {
          "line": 829,
          "old_api": null,
          "new_api": "fill_rectangle",
          "old_text": null,
          "new_text": "fill_rectangle(&h->ref_cache[list][ scan8[0] + 16*i ], 4, 2, 8, val, 1)",
          "old_line_content": "                        }else",
          "new_line_content": "                        fill_rectangle(&h->ref_cache[list][ scan8[0] + 16*i ], 4, 2, 8, val, 1);",
          "content_same": false
        },
        {
          "line": 835,
          "old_api": null,
          "new_api": "IS_DIR",
          "old_text": null,
          "new_text": "IS_DIR(mb_type, i, list)",
          "old_line_content": "                for(i=0; i<2; i++){",
          "new_line_content": "                    if(IS_DIR(mb_type, i, list)){",
          "content_same": false
        },
        {
          "line": 836,
          "old_api": null,
          "new_api": "pred_16x8_motion",
          "old_text": null,
          "new_text": "pred_16x8_motion(h, 8*i, list, h->ref_cache[list][scan8[0] + 16*i], &mx, &my)",
          "old_line_content": "                    unsigned int val;",
          "new_line_content": "                        pred_16x8_motion(h, 8*i, list, h->ref_cache[list][scan8[0] + 16*i], &mx, &my);",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": null,
          "new_api": "fill_rectangle",
          "old_text": null,
          "new_text": "fill_rectangle(h->mv_cache[list][ scan8[0] + 16*i ], 4, 2, 8, val, 4)",
          "old_line_content": "                    }else",
          "new_line_content": "                    fill_rectangle(h->mv_cache[list][ scan8[0] + 16*i ], 4, 2, 8, val, 4);",
          "content_same": false
        },
        {
          "line": 848,
          "old_api": null,
          "new_api": "IS_8X16",
          "old_text": null,
          "new_text": "IS_8X16(mb_type)",
          "old_line_content": "            }",
          "new_line_content": "            assert(IS_8X16(mb_type));",
          "content_same": false
        },
        {
          "line": 852,
          "old_api": null,
          "new_api": "IS_DIR",
          "old_text": null,
          "new_text": "IS_DIR(mb_type, i, list)",
          "old_line_content": "                    for(i=0; i<2; i++){",
          "new_line_content": "                        if(IS_DIR(mb_type, i, list)){ //FIXME optimize",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "                                val= 0;",
          "new_line_content": "                                val= get_bits1(&s->gb)^1;",
          "content_same": false
        },
        {
          "line": 866,
          "old_api": null,
          "new_api": "fill_rectangle",
          "old_text": null,
          "new_text": "fill_rectangle(&h->ref_cache[list][ scan8[0] + 2*i ], 2, 4, 8, val, 1)",
          "old_line_content": "                        }else",
          "new_line_content": "                        fill_rectangle(&h->ref_cache[list][ scan8[0] + 2*i ], 2, 4, 8, val, 1);",
          "content_same": false
        },
        {
          "line": 872,
          "old_api": null,
          "new_api": "IS_DIR",
          "old_text": null,
          "new_text": "IS_DIR(mb_type, i, list)",
          "old_line_content": "                for(i=0; i<2; i++){",
          "new_line_content": "                    if(IS_DIR(mb_type, i, list)){",
          "content_same": false
        },
        {
          "line": 873,
          "old_api": null,
          "new_api": "pred_8x16_motion",
          "old_text": null,
          "new_text": "pred_8x16_motion(h, i*4, list, h->ref_cache[list][ scan8[0] + 2*i ], &mx, &my)",
          "old_line_content": "                    unsigned int val;",
          "new_line_content": "                        pred_8x16_motion(h, i*4, list, h->ref_cache[list][ scan8[0] + 2*i ], &mx, &my);",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": null,
          "new_api": "fill_rectangle",
          "old_text": null,
          "new_text": "fill_rectangle(h->mv_cache[list][ scan8[0] + 2*i ], 2, 4, 8, val, 4)",
          "old_line_content": "                    }else",
          "new_line_content": "                    fill_rectangle(h->mv_cache[list][ scan8[0] + 2*i ], 2, 4, 8, val, 4);",
          "content_same": false
        },
        {
          "line": 887,
          "old_api": null,
          "new_api": "IS_INTER",
          "old_text": null,
          "new_text": "IS_INTER(mb_type)",
          "old_line_content": "    }",
          "new_line_content": "    if(IS_INTER(mb_type))",
          "content_same": false
        },
        {
          "line": 888,
          "old_api": null,
          "new_api": "write_back_motion",
          "old_text": null,
          "new_text": "write_back_motion(h, mb_type)",
          "old_line_content": "",
          "new_line_content": "        write_back_motion(h, mb_type);",
          "content_same": false
        },
        {
          "line": 891,
          "old_api": null,
          "new_api": "get_ue_golomb",
          "old_text": null,
          "new_text": "get_ue_golomb(&s->gb)",
          "old_line_content": "",
          "new_line_content": "        cbp= get_ue_golomb(&s->gb);",
          "content_same": false
        },
        {
          "line": 898,
          "old_api": null,
          "new_api": "IS_INTRA4x4",
          "old_text": null,
          "new_text": "IS_INTRA4x4(mb_type)",
          "old_line_content": "",
          "new_line_content": "            if(IS_INTRA4x4(mb_type)) cbp= golomb_to_intra4x4_cbp[cbp];",
          "content_same": false
        },
        {
          "line": 901,
          "old_api": null,
          "new_api": "IS_INTRA4x4",
          "old_text": null,
          "new_text": "IS_INTRA4x4(mb_type)",
          "old_line_content": "            else                     cbp= golomb_to_inter_cbp   [cbp];",
          "new_line_content": "            if(IS_INTRA4x4(mb_type)) cbp= golomb_to_intra4x4_cbp_gray[cbp];",
          "content_same": false
        },
        {
          "line": 906,
          "old_api": null,
          "new_api": "IS_INTRA",
          "old_text": null,
          "new_text": "IS_INTRA(mb_type)",
          "old_line_content": "    }",
          "new_line_content": "    if(dct8x8_allowed && (cbp&15) && !IS_INTRA(mb_type)){",
          "content_same": false
        },
        {
          "line": 907,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "",
          "new_line_content": "        if(get_bits1(&s->gb)){",
          "content_same": false
        },
        {
          "line": 915,
          "old_api": null,
          "new_api": "IS_INTRA16x16",
          "old_text": null,
          "new_text": "IS_INTRA16x16(mb_type)",
          "old_line_content": "    s->current_picture.mb_type[mb_xy]= mb_type;",
          "new_line_content": "    if(cbp || IS_INTRA16x16(mb_type)){",
          "content_same": false
        },
        {
          "line": 918,
          "old_api": null,
          "new_api": "IS_INTRA",
          "old_text": null,
          "new_text": "IS_INTRA(mb_type)",
          "old_line_content": "        int i8x8, i4x4, chroma_idx;",
          "new_line_content": "        GetBitContext *gb= IS_INTRA(mb_type) ? h->intra_gb_ptr : h->inter_gb_ptr;",
          "content_same": false
        },
        {
          "line": 923,
          "old_api": null,
          "new_api": "IS_INTERLACED",
          "old_text": null,
          "new_text": "IS_INTERLACED(mb_type)",
          "old_line_content": "//        fill_non_zero_count_cache(h);",
          "new_line_content": "        if(IS_INTERLACED(mb_type)){",
          "content_same": false
        },
        {
          "line": 933,
          "old_api": null,
          "new_api": "get_se_golomb",
          "old_text": null,
          "new_text": "get_se_golomb(&s->gb)",
          "old_line_content": "        }",
          "new_line_content": "        dquant= get_se_golomb(&s->gb);",
          "content_same": false
        },
        {
          "line": 941,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(h->s.avctx, AV_LOG_ERROR, \"dquant out of range (%d) at %d %d\\n\", dquant, s->mb_x, s->mb_y)",
          "old_line_content": "            else            s->qscale-= 52;",
          "new_line_content": "                av_log(h->s.avctx, AV_LOG_ERROR, \"dquant out of range (%d) at %d %d\\n\", dquant, s->mb_x, s->mb_y);",
          "content_same": false
        },
        {
          "line": 946,
          "old_api": null,
          "new_api": "get_chroma_qp",
          "old_text": null,
          "new_text": "get_chroma_qp(h, 0, s->qscale)",
          "old_line_content": "        }",
          "new_line_content": "        h->chroma_qp[0]= get_chroma_qp(h, 0, s->qscale);",
          "content_same": false
        },
        {
          "line": 947,
          "old_api": null,
          "new_api": "get_chroma_qp",
          "old_text": null,
          "new_text": "get_chroma_qp(h, 1, s->qscale)",
          "old_line_content": "",
          "new_line_content": "        h->chroma_qp[1]= get_chroma_qp(h, 1, s->qscale);",
          "content_same": false
        },
        {
          "line": 953,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert((cbp&15) == 0 || (cbp&15) == 15)",
          "old_line_content": "            }",
          "new_line_content": "            assert((cbp&15) == 0 || (cbp&15) == 15);",
          "content_same": false
        },
        {
          "line": 959,
          "old_api": null,
          "new_api": "decode_residual",
          "old_text": null,
          "new_text": "decode_residual(h, h->intra_gb_ptr, h->mb + 16*index, index, scan + 1, h->dequant4_coeff[0][s->qscale], 15)",
          "old_line_content": "                    for(i4x4=0; i4x4<4; i4x4++){",
          "new_line_content": "                        if( decode_residual(h, h->intra_gb_ptr, h->mb + 16*index, index, scan + 1, h->dequant4_coeff[0][s->qscale], 15) < 0 ){",
          "content_same": false
        },
        {
          "line": 965,
          "old_api": null,
          "new_api": "fill_rectangle",
          "old_text": null,
          "new_text": "fill_rectangle(&h->non_zero_count_cache[scan8[0]], 4, 4, 8, 0, 1)",
          "old_line_content": "                }",
          "new_line_content": "                fill_rectangle(&h->non_zero_count_cache[scan8[0]], 4, 4, 8, 0, 1);",
          "content_same": false
        },
        {
          "line": 970,
          "old_api": null,
          "new_api": "IS_8x8DCT",
          "old_text": null,
          "new_text": "IS_8x8DCT(mb_type)",
          "old_line_content": "            for(i8x8=0; i8x8<4; i8x8++){",
          "new_line_content": "                    if(IS_8x8DCT(mb_type)){",
          "content_same": false
        },
        {
          "line": 974,
          "old_api": null,
          "new_api": "decode_residual",
          "old_text": null,
          "new_text": "decode_residual(h, gb, buf, i4x4+4*i8x8, scan8x8+16*i4x4,\n                                                h->dequant8_coeff[IS_INTRA( mb_type ) ? 0:1][s->qscale], 16)",
          "old_line_content": "                        uint8_t *nnz;",
          "new_line_content": "                            if( decode_residual(h, gb, buf, i4x4+4*i8x8, scan8x8+16*i4x4,",
          "content_same": false
        },
        {
          "line": 975,
          "old_api": null,
          "new_api": "IS_INTRA",
          "old_text": null,
          "new_text": "IS_INTRA( mb_type )",
          "old_line_content": "                        for(i4x4=0; i4x4<4; i4x4++){",
          "new_line_content": "                                                h->dequant8_coeff[IS_INTRA( mb_type ) ? 0:1][s->qscale], 16) <0 )",
          "content_same": false
        },
        {
          "line": 984,
          "old_api": null,
          "new_api": "IS_INTRA",
          "old_text": null,
          "new_text": "IS_INTRA( mb_type )",
          "old_line_content": "                            const int index= i4x4 + 4*i8x8;",
          "new_line_content": "                            if( decode_residual(h, gb, h->mb + 16*index, index, scan, h->dequant4_coeff[IS_INTRA( mb_type ) ? 0:3][s->qscale], 16) <0 ){",
          "content_same": false
        },
        {
          "line": 481,
          "old_api": null,
          "new_api": "get_vlc2",
          "old_text": null,
          "new_text": "get_vlc2(gb, chroma_dc_total_zeros_vlc[ total_coeff-1 ].table, CHROMA_DC_TOTAL_ZEROS_VLC_BITS, 1)",
          "old_line_content": "    else{",
          "new_line_content": "            zeros_left= get_vlc2(gb, chroma_dc_total_zeros_vlc[ total_coeff-1 ].table, CHROMA_DC_TOTAL_ZEROS_VLC_BITS, 1);",
          "content_same": false
        },
        {
          "line": 998,
          "old_api": null,
          "new_api": "decode_residual",
          "old_text": null,
          "new_text": "decode_residual(h, gb, h->mb + 256 + 16*4*chroma_idx, CHROMA_DC_BLOCK_INDEX, chroma_dc_scan, NULL, 4)",
          "old_line_content": "        if(cbp&0x30){",
          "new_line_content": "                if( decode_residual(h, gb, h->mb + 256 + 16*4*chroma_idx, CHROMA_DC_BLOCK_INDEX, chroma_dc_scan, NULL, 4) < 0){",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": null,
          "new_api": "IS_INTRA",
          "old_text": null,
          "new_text": "IS_INTRA( mb_type )",
          "old_line_content": "        if(cbp&0x20){",
          "new_line_content": "                const uint32_t *qmul = h->dequant4_coeff[chroma_idx+1+(IS_INTRA( mb_type ) ? 0:3)][h->chroma_qp[chroma_idx]];",
          "content_same": false
        },
        {
          "line": 494,
          "old_api": null,
          "new_api": "get_vlc2",
          "old_text": null,
          "new_text": "get_vlc2(gb, run_vlc[zeros_left-1].table, RUN_VLC_BITS, 1)",
          "old_line_content": "                run_before = 0;",
          "new_line_content": "                run_before= get_vlc2(gb, run_vlc[zeros_left-1].table, RUN_VLC_BITS, 1);",
          "content_same": false
        },
        {
          "line": 1008,
          "old_api": null,
          "new_api": "decode_residual",
          "old_text": null,
          "new_text": "decode_residual(h, gb, h->mb + 16*index, index, scan + 1, qmul, 15)",
          "old_line_content": "                for(i4x4=0; i4x4<4; i4x4++){",
          "new_line_content": "                    if( decode_residual(h, gb, h->mb + 16*index, index, scan + 1, qmul, 15) < 0){",
          "content_same": false
        },
        {
          "line": 1020,
          "old_api": null,
          "new_api": "fill_rectangle",
          "old_text": null,
          "new_text": "fill_rectangle(&nnz[scan8[0]], 4, 4, 8, 0, 1)",
          "old_line_content": "    }else{",
          "new_line_content": "        fill_rectangle(&nnz[scan8[0]], 4, 4, 8, 0, 1);",
          "content_same": false
        },
        {
          "line": 510,
          "old_api": null,
          "new_api": "get_vlc2",
          "old_text": null,
          "new_text": "get_vlc2(gb, run_vlc[zeros_left-1].table, RUN_VLC_BITS, 1)",
          "old_line_content": "                run_before = 0;",
          "new_line_content": "                run_before= get_vlc2(gb, run_vlc[zeros_left-1].table, RUN_VLC_BITS, 1);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 514,
          "old_api": "get_vlc2",
          "new_api": null,
          "old_text": "get_vlc2(gb, run7_vlc.table, RUN7_VLC_BITS, 2)",
          "new_text": null,
          "old_line_content": "                run_before= get_vlc2(gb, run7_vlc.table, RUN7_VLC_BITS, 2);",
          "new_line_content": "            zeros_left -= run_before;",
          "content_same": false
        },
        {
          "line": 1027,
          "old_api": "write_back_non_zero_count",
          "new_api": null,
          "old_text": "write_back_non_zero_count(h)",
          "new_text": null,
          "old_line_content": "    write_back_non_zero_count(h);",
          "new_line_content": "    if(MB_MBAFF){",
          "content_same": false
        },
        {
          "line": 525,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(h->s.avctx, AV_LOG_ERROR, \"negative number of zero coeffs at %d %d\\n\", s->mb_x, s->mb_y)",
          "new_text": null,
          "old_line_content": "        av_log(h->s.avctx, AV_LOG_ERROR, \"negative number of zero coeffs at %d %d\\n\", s->mb_x, s->mb_y);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 541,
          "old_api": "tprintf",
          "new_api": null,
          "old_text": "tprintf(s->avctx, \"pic:%d mb:%d/%d\\n\", h->frame_num, s->mb_x, s->mb_y)",
          "new_text": null,
          "old_line_content": "    tprintf(s->avctx, \"pic:%d mb:%d/%d\\n\", h->frame_num, s->mb_x, s->mb_y);",
          "new_line_content": "                down the code */",
          "content_same": false
        },
        {
          "line": 546,
          "old_api": "get_ue_golomb",
          "new_api": null,
          "old_text": "get_ue_golomb(&s->gb)",
          "new_text": null,
          "old_line_content": "            s->mb_skip_run= get_ue_golomb(&s->gb);",
          "new_line_content": "        if (s->mb_skip_run--) {",
          "content_same": false
        },
        {
          "line": 555,
          "old_api": "decode_mb_skip",
          "new_api": null,
          "old_text": "decode_mb_skip(h)",
          "new_text": null,
          "old_line_content": "            decode_mb_skip(h);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 561,
          "old_api": "get_bits1",
          "new_api": null,
          "old_text": "get_bits1(&s->gb)",
          "new_text": null,
          "old_line_content": "            h->mb_mbaff = h->mb_field_decoding_flag = get_bits1(&s->gb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 566,
          "old_api": "get_ue_golomb",
          "new_api": null,
          "old_text": "get_ue_golomb(&s->gb)",
          "new_text": null,
          "old_line_content": "    mb_type= get_ue_golomb(&s->gb);",
          "new_line_content": "        if(mb_type < 23){",
          "content_same": false
        },
        {
          "line": 584,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(h->slice_type_nos == FF_I_TYPE)",
          "new_text": null,
          "old_line_content": "       assert(h->slice_type_nos == FF_I_TYPE);",
          "new_line_content": "            mb_type--;",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": "av_get_pict_type_char",
          "new_api": null,
          "old_text": "av_get_pict_type_char(h->slice_type)",
          "new_text": null,
          "old_line_content": "            av_log(h->s.avctx, AV_LOG_ERROR, \"mb_type %d in %c slice too large at %d %d\\n\", mb_type, av_get_pict_type_char(h->slice_type), s->mb_x, s->mb_y);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 603,
          "old_api": "IS_INTRA_PCM",
          "new_api": null,
          "old_text": "IS_INTRA_PCM(mb_type)",
          "new_text": null,
          "old_line_content": "    if(IS_INTRA_PCM(mb_type)){",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 607,
          "old_api": "align_get_bits",
          "new_api": null,
          "old_text": "align_get_bits(&s->gb)",
          "new_text": null,
          "old_line_content": "        align_get_bits(&s->gb);",
          "new_line_content": "        // The pixels are stored in the same order as levels in h->mb array.",
          "content_same": false
        },
        {
          "line": 611,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 8)",
          "new_text": null,
          "old_line_content": "            ((uint8_t*)h->mb)[x]= get_bits(&s->gb, 8);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 617,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(h->non_zero_count[mb_xy], 16, 32)",
          "new_text": null,
          "old_line_content": "        memset(h->non_zero_count[mb_xy], 16, 32);",
          "new_line_content": "        s->current_picture.mb_type[mb_xy]= mb_type;",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": "fill_decode_caches",
          "new_api": null,
          "old_text": "fill_decode_caches(h, mb_type)",
          "new_text": null,
          "old_line_content": "    fill_decode_caches(h, mb_type);",
          "new_line_content": "    //mb_pred",
          "content_same": false
        },
        {
          "line": 631,
          "old_api": "IS_INTRA",
          "new_api": null,
          "old_text": "IS_INTRA(mb_type)",
          "new_text": null,
          "old_line_content": "    if(IS_INTRA(mb_type)){",
          "new_line_content": "//            init_top_left_availability(h);",
          "content_same": false
        },
        {
          "line": 634,
          "old_api": "IS_INTRA4x4",
          "new_api": null,
          "old_text": "IS_INTRA4x4(mb_type)",
          "new_text": null,
          "old_line_content": "        if(IS_INTRA4x4(mb_type)){",
          "new_line_content": "            int di = 1;",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": "get_bits1",
          "new_api": null,
          "old_text": "get_bits1(&s->gb)",
          "new_text": null,
          "old_line_content": "            if(dct8x8_allowed && get_bits1(&s->gb)){",
          "new_line_content": "                di = 4;",
          "content_same": false
        },
        {
          "line": 646,
          "old_api": "get_bits1",
          "new_api": null,
          "old_text": "get_bits1(&s->gb)",
          "new_text": null,
          "old_line_content": "                if(!get_bits1(&s->gb)){",
          "new_line_content": "                    mode = rem_mode + (rem_mode >= mode);",
          "content_same": false
        },
        {
          "line": 647,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 3)",
          "new_text": null,
          "old_line_content": "                    const int rem_mode= get_bits(&s->gb, 3);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 652,
          "old_api": "fill_rectangle",
          "new_api": null,
          "old_text": "fill_rectangle( &h->intra4x4_pred_mode_cache[ scan8[i] ], 2, 2, 8, mode, 1 )",
          "new_text": null,
          "old_line_content": "                    fill_rectangle( &h->intra4x4_pred_mode_cache[ scan8[i] ], 2, 2, 8, mode, 1 );",
          "new_line_content": "                    h->intra4x4_pred_mode_cache[ scan8[i] ] = mode;",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": "ff_h264_write_back_intra_pred_mode",
          "new_api": null,
          "old_text": "ff_h264_write_back_intra_pred_mode(h)",
          "new_text": null,
          "old_line_content": "            ff_h264_write_back_intra_pred_mode(h);",
          "new_line_content": "                return -1;",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": "ff_h264_check_intra4x4_pred_mode",
          "new_api": null,
          "old_text": "ff_h264_check_intra4x4_pred_mode(h)",
          "new_text": null,
          "old_line_content": "            if( ff_h264_check_intra4x4_pred_mode(h) < 0)",
          "new_line_content": "        }else{",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": "ff_h264_check_intra_pred_mode",
          "new_api": null,
          "old_text": "ff_h264_check_intra_pred_mode(h, h->intra16x16_pred_mode)",
          "new_text": null,
          "old_line_content": "            h->intra16x16_pred_mode= ff_h264_check_intra_pred_mode(h, h->intra16x16_pred_mode);",
          "new_line_content": "                return -1;",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": "get_ue_golomb_31",
          "new_api": null,
          "old_text": "get_ue_golomb_31(&s->gb)",
          "new_text": null,
          "old_line_content": "            pred_mode= ff_h264_check_intra_pred_mode(h, get_ue_golomb_31(&s->gb));",
          "new_line_content": "                return -1;",
          "content_same": false
        },
        {
          "line": 677,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(h->s.avctx, AV_LOG_ERROR, \"B sub_mb_type %u out of range at %d %d\\n\", h->sub_mb_type[i], s->mb_x, s->mb_y)",
          "new_text": null,
          "old_line_content": "                    av_log(h->s.avctx, AV_LOG_ERROR, \"B sub_mb_type %u out of range at %d %d\\n\", h->sub_mb_type[i], s->mb_x, s->mb_y);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 683,
          "old_api": "IS_DIRECT",
          "new_api": null,
          "old_text": "IS_DIRECT(h->sub_mb_type[0]|h->sub_mb_type[1]|h->sub_mb_type[2]|h->sub_mb_type[3])",
          "new_text": null,
          "old_line_content": "            if( IS_DIRECT(h->sub_mb_type[0]|h->sub_mb_type[1]|h->sub_mb_type[2]|h->sub_mb_type[3])) {",
          "new_line_content": "                h->ref_cache[0][scan8[4]] =",
          "content_same": false
        },
        {
          "line": 684,
          "old_api": "ff_h264_pred_direct_motion",
          "new_api": null,
          "old_text": "ff_h264_pred_direct_motion(h, &mb_type)",
          "new_text": null,
          "old_line_content": "                ff_h264_pred_direct_motion(h, &mb_type);",
          "new_line_content": "                h->ref_cache[1][scan8[4]] =",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(h->s.avctx, AV_LOG_ERROR, \"P sub_mb_type %u out of range at %d %d\\n\", h->sub_mb_type[i], s->mb_x, s->mb_y)",
          "new_text": null,
          "old_line_content": "                    av_log(h->s.avctx, AV_LOG_ERROR, \"P sub_mb_type %u out of range at %d %d\\n\", h->sub_mb_type[i], s->mb_x, s->mb_y);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 706,
          "old_api": "IS_DIRECT",
          "new_api": null,
          "old_text": "IS_DIRECT(h->sub_mb_type[i])",
          "new_text": null,
          "old_line_content": "                if(IS_DIRECT(h->sub_mb_type[i])) continue;",
          "new_line_content": "                    unsigned int tmp;",
          "content_same": false
        },
        {
          "line": 707,
          "old_api": "IS_DIR",
          "new_api": null,
          "old_text": "IS_DIR(h->sub_mb_type[i], 0, list)",
          "new_text": null,
          "old_line_content": "                if(IS_DIR(h->sub_mb_type[i], 0, list)){",
          "new_line_content": "                    if(ref_count == 1){",
          "content_same": false
        },
        {
          "line": 716,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(h->s.avctx, AV_LOG_ERROR, \"ref %u overflow\\n\", tmp)",
          "new_text": null,
          "old_line_content": "                            av_log(h->s.avctx, AV_LOG_ERROR, \"ref %u overflow\\n\", tmp);",
          "new_line_content": "                        }",
          "content_same": false
        },
        {
          "line": 729,
          "old_api": "get_dct8x8_allowed",
          "new_api": null,
          "old_text": "get_dct8x8_allowed(h)",
          "new_text": null,
          "old_line_content": "            dct8x8_allowed = get_dct8x8_allowed(h);",
          "new_line_content": "        for(list=0; list<h->list_count; list++){",
          "content_same": false
        },
        {
          "line": 733,
          "old_api": "IS_DIRECT",
          "new_api": null,
          "old_text": "IS_DIRECT(h->sub_mb_type[i])",
          "new_text": null,
          "old_line_content": "                if(IS_DIRECT(h->sub_mb_type[i])) {",
          "new_line_content": "                    continue;",
          "content_same": false
        },
        {
          "line": 740,
          "old_api": "IS_DIR",
          "new_api": null,
          "old_text": "IS_DIR(h->sub_mb_type[i], 0, list)",
          "new_text": null,
          "old_line_content": "                if(IS_DIR(h->sub_mb_type[i], 0, list)){",
          "new_line_content": "                    const int block_width= (sub_mb_type & (MB_TYPE_16x16|MB_TYPE_16x8)) ? 2 : 1;",
          "content_same": false
        },
        {
          "line": 749,
          "old_api": "get_se_golomb",
          "new_api": null,
          "old_text": "get_se_golomb(&s->gb)",
          "new_text": null,
          "old_line_content": "                        my += get_se_golomb(&s->gb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 752,
          "old_api": "IS_SUB_8X8",
          "new_api": null,
          "old_text": "IS_SUB_8X8(sub_mb_type)",
          "new_text": null,
          "old_line_content": "                        if(IS_SUB_8X8(sub_mb_type)){",
          "new_line_content": "                            mv_cache[ 8 ][0]= mv_cache[ 9 ][0]= mx;",
          "content_same": false
        },
        {
          "line": 757,
          "old_api": "IS_SUB_8X4",
          "new_api": null,
          "old_text": "IS_SUB_8X4(sub_mb_type)",
          "new_text": null,
          "old_line_content": "                        }else if(IS_SUB_8X4(sub_mb_type)){",
          "new_line_content": "                            mv_cache[ 1 ][1]= my;",
          "content_same": false
        },
        {
          "line": 760,
          "old_api": "IS_SUB_4X8",
          "new_api": null,
          "old_text": "IS_SUB_4X8(sub_mb_type)",
          "new_text": null,
          "old_line_content": "                        }else if(IS_SUB_4X8(sub_mb_type)){",
          "new_line_content": "                            mv_cache[ 8 ][1]= my;",
          "content_same": false
        },
        {
          "line": 774,
          "old_api": "IS_DIRECT",
          "new_api": null,
          "old_text": "IS_DIRECT(mb_type)",
          "new_text": null,
          "old_line_content": "    }else if(IS_DIRECT(mb_type)){",
          "new_line_content": "        dct8x8_allowed &= h->sps.direct_8x8_inference_flag;",
          "content_same": false
        },
        {
          "line": 775,
          "old_api": "ff_h264_pred_direct_motion",
          "new_api": null,
          "old_text": "ff_h264_pred_direct_motion(h, &mb_type)",
          "new_text": null,
          "old_line_content": "        ff_h264_pred_direct_motion(h, &mb_type);",
          "new_line_content": "    }else{",
          "content_same": false
        },
        {
          "line": 780,
          "old_api": "IS_16X16",
          "new_api": null,
          "old_text": "IS_16X16(mb_type)",
          "new_text": null,
          "old_line_content": "        if(IS_16X16(mb_type)){",
          "new_line_content": "                    unsigned int val;",
          "content_same": false
        },
        {
          "line": 783,
          "old_api": "IS_DIR",
          "new_api": null,
          "old_text": "IS_DIR(mb_type, 0, list)",
          "new_text": null,
          "old_line_content": "                    if(IS_DIR(mb_type, 0, list)){",
          "new_line_content": "                            val= 0;",
          "content_same": false
        },
        {
          "line": 791,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(h->s.avctx, AV_LOG_ERROR, \"ref %u overflow\\n\", val)",
          "new_text": null,
          "old_line_content": "                                av_log(h->s.avctx, AV_LOG_ERROR, \"ref %u overflow\\n\", val);",
          "new_line_content": "                            }",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": "fill_rectangle",
          "new_api": null,
          "old_text": "fill_rectangle(&h->ref_cache[list][ scan8[0] ], 4, 4, 8, val, 1)",
          "new_text": null,
          "old_line_content": "                    fill_rectangle(&h->ref_cache[list][ scan8[0] ], 4, 4, 8, val, 1);",
          "new_line_content": "            for(list=0; list<h->list_count; list++){",
          "content_same": false
        },
        {
          "line": 804,
          "old_api": "get_se_golomb",
          "new_api": null,
          "old_text": "get_se_golomb(&s->gb)",
          "new_text": null,
          "old_line_content": "                    my += get_se_golomb(&s->gb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 807,
          "old_api": "pack16to32",
          "new_api": null,
          "old_text": "pack16to32(mx,my)",
          "new_text": null,
          "old_line_content": "                    val= pack16to32(mx,my);",
          "new_line_content": "                    val=0;",
          "content_same": false
        },
        {
          "line": 810,
          "old_api": "fill_rectangle",
          "new_api": null,
          "old_text": "fill_rectangle(h->mv_cache[list][ scan8[0] ], 4, 4, 8, val, 4)",
          "new_text": null,
          "old_line_content": "                fill_rectangle(h->mv_cache[list][ scan8[0] ], 4, 4, 8, val, 4);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 813,
          "old_api": "IS_16X8",
          "new_api": null,
          "old_text": "IS_16X8(mb_type)",
          "new_text": null,
          "old_line_content": "        else if(IS_16X8(mb_type)){",
          "new_line_content": "                    for(i=0; i<2; i++){",
          "content_same": false
        },
        {
          "line": 817,
          "old_api": "IS_DIR",
          "new_api": null,
          "old_text": "IS_DIR(mb_type, i, list)",
          "new_text": null,
          "old_line_content": "                        if(IS_DIR(mb_type, i, list)){",
          "new_line_content": "                                val= 0;",
          "content_same": false
        },
        {
          "line": 825,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(h->s.avctx, AV_LOG_ERROR, \"ref %u overflow\\n\", val)",
          "new_text": null,
          "old_line_content": "                                    av_log(h->s.avctx, AV_LOG_ERROR, \"ref %u overflow\\n\", val);",
          "new_line_content": "                                }",
          "content_same": false
        },
        {
          "line": 831,
          "old_api": "fill_rectangle",
          "new_api": null,
          "old_text": "fill_rectangle(&h->ref_cache[list][ scan8[0] + 16*i ], 4, 2, 8, val, 1)",
          "new_text": null,
          "old_line_content": "                        fill_rectangle(&h->ref_cache[list][ scan8[0] + 16*i ], 4, 2, 8, val, 1);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": "get_se_golomb",
          "new_api": null,
          "old_text": "get_se_golomb(&s->gb)",
          "new_text": null,
          "old_line_content": "                        my += get_se_golomb(&s->gb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 843,
          "old_api": "pack16to32",
          "new_api": null,
          "old_text": "pack16to32(mx,my)",
          "new_text": null,
          "old_line_content": "                        val= pack16to32(mx,my);",
          "new_line_content": "                        val=0;",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": "fill_rectangle",
          "new_api": null,
          "old_text": "fill_rectangle(h->mv_cache[list][ scan8[0] + 16*i ], 4, 2, 8, val, 4)",
          "new_text": null,
          "old_line_content": "                    fill_rectangle(h->mv_cache[list][ scan8[0] + 16*i ], 4, 2, 8, val, 4);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 850,
          "old_api": "IS_8X16",
          "new_api": null,
          "old_text": "IS_8X16(mb_type)",
          "new_text": null,
          "old_line_content": "            assert(IS_8X16(mb_type));",
          "new_line_content": "                    for(i=0; i<2; i++){",
          "content_same": false
        },
        {
          "line": 854,
          "old_api": "IS_DIR",
          "new_api": null,
          "old_text": "IS_DIR(mb_type, i, list)",
          "new_text": null,
          "old_line_content": "                        if(IS_DIR(mb_type, i, list)){ //FIXME optimize",
          "new_line_content": "                                val= 0;",
          "content_same": false
        },
        {
          "line": 862,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(h->s.avctx, AV_LOG_ERROR, \"ref %u overflow\\n\", val)",
          "new_text": null,
          "old_line_content": "                                    av_log(h->s.avctx, AV_LOG_ERROR, \"ref %u overflow\\n\", val);",
          "new_line_content": "                                }",
          "content_same": false
        },
        {
          "line": 868,
          "old_api": "fill_rectangle",
          "new_api": null,
          "old_text": "fill_rectangle(&h->ref_cache[list][ scan8[0] + 2*i ], 2, 4, 8, val, 1)",
          "new_text": null,
          "old_line_content": "                        fill_rectangle(&h->ref_cache[list][ scan8[0] + 2*i ], 2, 4, 8, val, 1);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 877,
          "old_api": "get_se_golomb",
          "new_api": null,
          "old_text": "get_se_golomb(&s->gb)",
          "new_text": null,
          "old_line_content": "                        my += get_se_golomb(&s->gb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": "pack16to32",
          "new_api": null,
          "old_text": "pack16to32(mx,my)",
          "new_text": null,
          "old_line_content": "                        val= pack16to32(mx,my);",
          "new_line_content": "                        val=0;",
          "content_same": false
        },
        {
          "line": 883,
          "old_api": "fill_rectangle",
          "new_api": null,
          "old_text": "fill_rectangle(h->mv_cache[list][ scan8[0] + 2*i ], 2, 4, 8, val, 4)",
          "new_text": null,
          "old_line_content": "                    fill_rectangle(h->mv_cache[list][ scan8[0] + 2*i ], 2, 4, 8, val, 4);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 889,
          "old_api": "IS_INTER",
          "new_api": null,
          "old_text": "IS_INTER(mb_type)",
          "new_text": null,
          "old_line_content": "    if(IS_INTER(mb_type))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 892,
          "old_api": "IS_INTRA16x16",
          "new_api": null,
          "old_text": "IS_INTRA16x16(mb_type)",
          "new_text": null,
          "old_line_content": "    if(!IS_INTRA16x16(mb_type)){",
          "new_line_content": "        if(cbp > 47){",
          "content_same": false
        },
        {
          "line": 895,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(h->s.avctx, AV_LOG_ERROR, \"cbp too large (%u) at %d %d\\n\", cbp, s->mb_x, s->mb_y)",
          "new_text": null,
          "old_line_content": "            av_log(h->s.avctx, AV_LOG_ERROR, \"cbp too large (%u) at %d %d\\n\", cbp, s->mb_x, s->mb_y);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 900,
          "old_api": "IS_INTRA4x4",
          "new_api": null,
          "old_text": "IS_INTRA4x4(mb_type)",
          "new_text": null,
          "old_line_content": "            if(IS_INTRA4x4(mb_type)) cbp= golomb_to_intra4x4_cbp[cbp];",
          "new_line_content": "        }else{",
          "content_same": false
        },
        {
          "line": 903,
          "old_api": "IS_INTRA4x4",
          "new_api": null,
          "old_text": "IS_INTRA4x4(mb_type)",
          "new_text": null,
          "old_line_content": "            if(IS_INTRA4x4(mb_type)) cbp= golomb_to_intra4x4_cbp_gray[cbp];",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 908,
          "old_api": "IS_INTRA",
          "new_api": null,
          "old_text": "IS_INTRA(mb_type)",
          "new_text": null,
          "old_line_content": "    if(dct8x8_allowed && (cbp&15) && !IS_INTRA(mb_type)){",
          "new_line_content": "            mb_type |= MB_TYPE_8x8DCT;",
          "content_same": false
        },
        {
          "line": 909,
          "old_api": "get_bits1",
          "new_api": null,
          "old_text": "get_bits1(&s->gb)",
          "new_text": null,
          "old_line_content": "        if(get_bits1(&s->gb)){",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 917,
          "old_api": "IS_INTRA16x16",
          "new_api": null,
          "old_text": "IS_INTRA16x16(mb_type)",
          "new_text": null,
          "old_line_content": "    if(cbp || IS_INTRA16x16(mb_type)){",
          "new_line_content": "        int dquant;",
          "content_same": false
        },
        {
          "line": 920,
          "old_api": "IS_INTRA",
          "new_api": null,
          "old_text": "IS_INTRA(mb_type)",
          "new_text": null,
          "old_line_content": "        GetBitContext *gb= IS_INTRA(mb_type) ? h->intra_gb_ptr : h->inter_gb_ptr;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 925,
          "old_api": "IS_INTERLACED",
          "new_api": null,
          "old_text": "IS_INTERLACED(mb_type)",
          "new_text": null,
          "old_line_content": "        if(IS_INTERLACED(mb_type)){",
          "new_line_content": "            scan= s->qscale ? h->field_scan : h->field_scan_q0;",
          "content_same": false
        },
        {
          "line": 935,
          "old_api": "get_se_golomb",
          "new_api": null,
          "old_text": "get_se_golomb(&s->gb)",
          "new_text": null,
          "old_line_content": "        dquant= get_se_golomb(&s->gb);",
          "new_line_content": "        s->qscale += dquant;",
          "content_same": false
        },
        {
          "line": 943,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(h->s.avctx, AV_LOG_ERROR, \"dquant out of range (%d) at %d %d\\n\", dquant, s->mb_x, s->mb_y)",
          "new_text": null,
          "old_line_content": "                av_log(h->s.avctx, AV_LOG_ERROR, \"dquant out of range (%d) at %d %d\\n\", dquant, s->mb_x, s->mb_y);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 950,
          "old_api": "IS_INTRA16x16",
          "new_api": null,
          "old_text": "IS_INTRA16x16(mb_type)",
          "new_text": null,
          "old_line_content": "        if(IS_INTRA16x16(mb_type)){",
          "new_line_content": "                return -1; //FIXME continue if partitioned and other return -1 too",
          "content_same": false
        },
        {
          "line": 951,
          "old_api": "decode_residual",
          "new_api": null,
          "old_text": "decode_residual(h, h->intra_gb_ptr, h->mb, LUMA_DC_BLOCK_INDEX, dc_scan, h->dequant4_coeff[0][s->qscale], 16)",
          "new_text": null,
          "old_line_content": "            if( decode_residual(h, h->intra_gb_ptr, h->mb, LUMA_DC_BLOCK_INDEX, dc_scan, h->dequant4_coeff[0][s->qscale], 16) < 0){",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 955,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert((cbp&15) == 0 || (cbp&15) == 15)",
          "new_text": null,
          "old_line_content": "            assert((cbp&15) == 0 || (cbp&15) == 15);",
          "new_line_content": "            if(cbp&15){",
          "content_same": false
        },
        {
          "line": 961,
          "old_api": "decode_residual",
          "new_api": null,
          "old_text": "decode_residual(h, h->intra_gb_ptr, h->mb + 16*index, index, scan + 1, h->dequant4_coeff[0][s->qscale], 15)",
          "new_text": null,
          "old_line_content": "                        if( decode_residual(h, h->intra_gb_ptr, h->mb + 16*index, index, scan + 1, h->dequant4_coeff[0][s->qscale], 15) < 0 ){",
          "new_line_content": "                        }",
          "content_same": false
        },
        {
          "line": 967,
          "old_api": "fill_rectangle",
          "new_api": null,
          "old_text": "fill_rectangle(&h->non_zero_count_cache[scan8[0]], 4, 4, 8, 0, 1)",
          "new_text": null,
          "old_line_content": "                fill_rectangle(&h->non_zero_count_cache[scan8[0]], 4, 4, 8, 0, 1);",
          "new_line_content": "        }else{",
          "content_same": false
        },
        {
          "line": 972,
          "old_api": "IS_8x8DCT",
          "new_api": null,
          "old_text": "IS_8x8DCT(mb_type)",
          "new_text": null,
          "old_line_content": "                    if(IS_8x8DCT(mb_type)){",
          "new_line_content": "                        uint8_t *nnz;",
          "content_same": false
        },
        {
          "line": 976,
          "old_api": "decode_residual",
          "new_api": null,
          "old_text": "decode_residual(h, gb, buf, i4x4+4*i8x8, scan8x8+16*i4x4,\n                                                h->dequant8_coeff[IS_INTRA( mb_type ) ? 0:1][s->qscale], 16)",
          "new_text": null,
          "old_line_content": "                            if( decode_residual(h, gb, buf, i4x4+4*i8x8, scan8x8+16*i4x4,",
          "new_line_content": "                                return -1;",
          "content_same": false
        },
        {
          "line": 977,
          "old_api": "IS_INTRA",
          "new_api": null,
          "old_text": "IS_INTRA( mb_type )",
          "new_text": null,
          "old_line_content": "                                                h->dequant8_coeff[IS_INTRA( mb_type ) ? 0:1][s->qscale], 16) <0 )",
          "new_line_content": "                        }",
          "content_same": false
        },
        {
          "line": 986,
          "old_api": "IS_INTRA",
          "new_api": null,
          "old_text": "IS_INTRA( mb_type )",
          "new_text": null,
          "old_line_content": "                            if( decode_residual(h, gb, h->mb + 16*index, index, scan, h->dequant4_coeff[IS_INTRA( mb_type ) ? 0:3][s->qscale], 16) <0 ){",
          "new_line_content": "                            }",
          "content_same": false
        },
        {
          "line": 485,
          "old_api": "get_vlc2",
          "new_api": null,
          "old_text": "get_vlc2(gb, total_zeros_vlc[ total_coeff-1 ].table, TOTAL_ZEROS_VLC_BITS, 1)",
          "new_text": null,
          "old_line_content": "            zeros_left= get_vlc2(gb, total_zeros_vlc[ total_coeff-1 ].table, TOTAL_ZEROS_VLC_BITS, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1000,
          "old_api": "decode_residual",
          "new_api": null,
          "old_text": "decode_residual(h, gb, h->mb + 256 + 16*4*chroma_idx, CHROMA_DC_BLOCK_INDEX, chroma_dc_scan, NULL, 4)",
          "new_text": null,
          "old_line_content": "                if( decode_residual(h, gb, h->mb + 256 + 16*4*chroma_idx, CHROMA_DC_BLOCK_INDEX, chroma_dc_scan, NULL, 4) < 0){",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1007,
          "old_api": "IS_INTRA",
          "new_api": null,
          "old_text": "IS_INTRA( mb_type )",
          "new_text": null,
          "old_line_content": "                const uint32_t *qmul = h->dequant4_coeff[chroma_idx+1+(IS_INTRA( mb_type ) ? 0:3)][h->chroma_qp[chroma_idx]];",
          "new_line_content": "                    const int index= 16 + 4*chroma_idx + i4x4;",
          "content_same": false
        },
        {
          "line": 498,
          "old_api": "get_vlc2",
          "new_api": null,
          "old_text": "get_vlc2(gb, run7_vlc.table, RUN7_VLC_BITS, 2)",
          "new_text": null,
          "old_line_content": "                run_before= get_vlc2(gb, run7_vlc.table, RUN7_VLC_BITS, 2);",
          "new_line_content": "            zeros_left -= run_before;",
          "content_same": false
        },
        {
          "line": 1010,
          "old_api": "decode_residual",
          "new_api": null,
          "old_text": "decode_residual(h, gb, h->mb + 16*index, index, scan + 1, qmul, 15)",
          "new_text": null,
          "old_line_content": "                    if( decode_residual(h, gb, h->mb + 16*index, index, scan + 1, qmul, 15) < 0){",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 1022,
          "old_api": "fill_rectangle",
          "new_api": null,
          "old_text": "fill_rectangle(&nnz[scan8[0]], 4, 4, 8, 0, 1)",
          "new_text": null,
          "old_line_content": "        fill_rectangle(&nnz[scan8[0]], 4, 4, 8, 0, 1);",
          "new_line_content": "        nnz[ scan8[20]+0 ] = nnz[ scan8[20]+1 ] =nnz[ scan8[20]+8 ] =nnz[ scan8[20]+9 ] = 0;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 34,
      "total_additions": 89,
      "total_deletions": 89,
      "total_api_changes": 212
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 3,
        "api_related_lines": 212,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          473,
          474,
          475
        ]
      }
    },
    "api_calls_before": 172,
    "api_calls_after": 172,
    "diff_info": {
      "added_lines": 1,
      "removed_lines": 3,
      "total_diff_lines": 16
    }
  }
}