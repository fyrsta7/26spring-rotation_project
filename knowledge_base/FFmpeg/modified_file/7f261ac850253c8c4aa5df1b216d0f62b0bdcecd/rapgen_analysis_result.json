{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/7f261ac850253c8c4aa5df1b216d0f62b0bdcecd",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/7f261ac850253c8c4aa5df1b216d0f62b0bdcecd/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/7f261ac850253c8c4aa5df1b216d0f62b0bdcecd/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/7f261ac850253c8c4aa5df1b216d0f62b0bdcecd/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 995,
          "old_api": "av_fast_malloc",
          "new_api": "av_fast_padded_malloc",
          "old_text": "av_fast_malloc(&s->bitstream_buffer,\n                   &s->bitstream_buffer_size,\n                   buf_size + FF_INPUT_BUFFER_PADDING_SIZE)",
          "new_text": "av_fast_padded_malloc(&s->bitstream_buffer,\n                   &s->bitstream_buffer_size,\n                   buf_size)",
          "old_line_content": "    av_fast_malloc(&s->bitstream_buffer,",
          "new_line_content": "    av_fast_padded_malloc(&s->bitstream_buffer,",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": "memset",
          "new_api": "bswap_buf",
          "old_text": "memset(s->bitstream_buffer + buf_size, 0, FF_INPUT_BUFFER_PADDING_SIZE)",
          "new_text": "s->dsp.bswap_buf((uint32_t*)s->bitstream_buffer,\n                     (const uint32_t*)buf, buf_size / 4)",
          "old_line_content": "    memset(s->bitstream_buffer + buf_size, 0, FF_INPUT_BUFFER_PADDING_SIZE);",
          "new_line_content": "    s->dsp.bswap_buf((uint32_t*)s->bitstream_buffer,",
          "content_same": false
        },
        {
          "line": 1009,
          "old_api": "ff_thread_get_buffer",
          "new_api": "av_log",
          "old_text": "ff_thread_get_buffer(avctx, p)",
          "new_text": "av_log(avctx, AV_LOG_ERROR, \"get_buffer() failed\\n\")",
          "old_line_content": "    if (ff_thread_get_buffer(avctx, p) < 0) {",
          "new_line_content": "        av_log(avctx, AV_LOG_ERROR, \"get_buffer() failed\\n\");",
          "content_same": false
        },
        {
          "line": 1056,
          "old_api": "decode_422_bitstream",
          "new_api": "add_hfyu_left_prediction",
          "old_text": "decode_422_bitstream(s, width-2)",
          "new_text": "s->dsp.add_hfyu_left_prediction(p->data[0] + 2, s->temp[0], width-2, lefty)",
          "old_line_content": "                decode_422_bitstream(s, width-2);",
          "new_line_content": "                lefty = s->dsp.add_hfyu_left_prediction(p->data[0] + 2, s->temp[0], width-2, lefty);",
          "content_same": false
        },
        {
          "line": 1086,
          "old_api": "decode_422_bitstream",
          "new_api": "add_hfyu_left_prediction",
          "old_text": "decode_422_bitstream(s, width)",
          "new_text": "s->dsp.add_hfyu_left_prediction(ydst, s->temp[0], width, lefty)",
          "old_line_content": "                    decode_422_bitstream(s, width);",
          "new_line_content": "                    lefty = s->dsp.add_hfyu_left_prediction(ydst, s->temp[0], width, lefty);",
          "content_same": false
        },
        {
          "line": 1107,
          "old_api": "decode_422_bitstream",
          "new_api": "add_hfyu_left_prediction",
          "old_text": "decode_422_bitstream(s, width - 2)",
          "new_text": "s->dsp.add_hfyu_left_prediction(p->data[0] + 2, s->temp[0], width - 2, lefty)",
          "old_line_content": "                decode_422_bitstream(s, width - 2);",
          "new_line_content": "                lefty= s->dsp.add_hfyu_left_prediction(p->data[0] + 2, s->temp[0], width - 2, lefty);",
          "content_same": false
        },
        {
          "line": 1118,
          "old_api": "decode_422_bitstream",
          "new_api": "add_hfyu_left_prediction",
          "old_text": "decode_422_bitstream(s, width)",
          "new_text": "s->dsp.add_hfyu_left_prediction(p->data[0] + p->linesize[0], s->temp[0], width, lefty)",
          "old_line_content": "                    decode_422_bitstream(s, width);",
          "new_line_content": "                    lefty = s->dsp.add_hfyu_left_prediction(p->data[0] + p->linesize[0], s->temp[0], width, lefty);",
          "content_same": false
        },
        {
          "line": 1128,
          "old_api": "decode_422_bitstream",
          "new_api": "add_hfyu_left_prediction",
          "old_text": "decode_422_bitstream(s, 4)",
          "new_text": "s->dsp.add_hfyu_left_prediction(p->data[0] + fake_ystride, s->temp[0], 4, lefty)",
          "old_line_content": "                decode_422_bitstream(s, 4);",
          "new_line_content": "                lefty = s->dsp.add_hfyu_left_prediction(p->data[0] + fake_ystride, s->temp[0], 4, lefty);",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": "decode_422_bitstream",
          "new_api": "add_hfyu_median_prediction",
          "old_text": "decode_422_bitstream(s, width - 4)",
          "new_text": "s->dsp.add_hfyu_median_prediction(p->data[0] + fake_ystride+4, p->data[0]+4, s->temp[0], width-4, &lefty, &lefttopy)",
          "old_line_content": "                decode_422_bitstream(s, width - 4);",
          "new_line_content": "                s->dsp.add_hfyu_median_prediction(p->data[0] + fake_ystride+4, p->data[0]+4, s->temp[0], width-4, &lefty, &lefttopy);",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": "decode_bgr_bitstream",
          "new_api": "add_hfyu_left_prediction_bgr32",
          "old_text": "decode_bgr_bitstream(s, width - 1)",
          "new_text": "s->dsp.add_hfyu_left_prediction_bgr32(p->data[0] + last_line+4, s->temp[0], width - 1, &leftr, &leftg, &leftb, &lefta)",
          "old_line_content": "                decode_bgr_bitstream(s, width - 1);",
          "new_line_content": "                s->dsp.add_hfyu_left_prediction_bgr32(p->data[0] + last_line+4, s->temp[0], width - 1, &leftr, &leftg, &leftb, &lefta);",
          "content_same": false
        },
        {
          "line": 1258,
          "old_api": "common_end",
          "new_api": "av_freep",
          "old_text": "common_end(s)",
          "new_text": "av_freep(&s->bitstream_buffer)",
          "old_line_content": "    common_end(s);",
          "new_line_content": "    av_freep(&s->bitstream_buffer);",
          "content_same": false
        },
        {
          "line": 1292,
          "old_api": "ff_huff_gen_len_table",
          "new_api": "generate_bits_table",
          "old_text": "ff_huff_gen_len_table(s->len[i], s->stats[i])",
          "new_text": "generate_bits_table(s->bits[i], s->len[i])",
          "old_line_content": "            ff_huff_gen_len_table(s->len[i], s->stats[i]);",
          "new_line_content": "            if (generate_bits_table(s->bits[i], s->len[i]) < 0)",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": "sub_hfyu_median_prediction",
          "new_api": "encode_422_bitstream",
          "old_text": "s->dsp.sub_hfyu_median_prediction(s->temp[2], p->data[2]+2, p->data[2] + fake_vstride + 2, width2 - 2, &leftv, &lefttopv)",
          "new_text": "encode_422_bitstream(s, 0, width - 4)",
          "old_line_content": "            s->dsp.sub_hfyu_median_prediction(s->temp[2], p->data[2]+2, p->data[2] + fake_vstride + 2, width2 - 2, &leftv, &lefttopv);",
          "new_line_content": "            encode_422_bitstream(s, 0, width - 4);",
          "content_same": false
        },
        {
          "line": 1353,
          "old_api": "sub_hfyu_median_prediction",
          "new_api": "encode_gray_bitstream",
          "old_text": "s->dsp.sub_hfyu_median_prediction(s->temp[0], ydst - fake_ystride, ydst, width , &lefty, &lefttopy)",
          "new_text": "encode_gray_bitstream(s, width)",
          "old_line_content": "                        s->dsp.sub_hfyu_median_prediction(s->temp[0], ydst - fake_ystride, ydst, width , &lefty, &lefttopy);",
          "new_line_content": "                        encode_gray_bitstream(s, width);",
          "content_same": false
        },
        {
          "line": 1422,
          "old_api": "sub_left_prediction_bgr32",
          "new_api": "encode_bgra_bitstream",
          "old_text": "sub_left_prediction_bgr32(s, s->temp[0], data + 4, width - 1, &leftr, &leftg, &leftb, &lefta)",
          "new_text": "encode_bgra_bitstream(s, width - 1, 4)",
          "old_line_content": "        sub_left_prediction_bgr32(s, s->temp[0], data + 4, width - 1, &leftr, &leftg, &leftb, &lefta);",
          "new_line_content": "        encode_bgra_bitstream(s, width - 1, 4);",
          "content_same": false
        },
        {
          "line": 1428,
          "old_api": "diff_bytes",
          "new_api": "sub_left_prediction_bgr32",
          "old_text": "s->dsp.diff_bytes(s->temp[1], dst, dst - fake_stride, width * 4)",
          "new_text": "sub_left_prediction_bgr32(s, s->temp[0], s->temp[1], width, &leftr, &leftg, &leftb, &lefta)",
          "old_line_content": "                s->dsp.diff_bytes(s->temp[1], dst, dst - fake_stride, width * 4);",
          "new_line_content": "                sub_left_prediction_bgr32(s, s->temp[0], s->temp[1], width, &leftr, &leftg, &leftb, &lefta);",
          "content_same": false
        },
        {
          "line": 1447,
          "old_api": "sub_left_prediction_rgb24",
          "new_api": "encode_bgra_bitstream",
          "old_text": "sub_left_prediction_rgb24(s, s->temp[0], data+3, width-1, &leftr, &leftg, &leftb)",
          "new_text": "encode_bgra_bitstream(s, width-1, 3)",
          "old_line_content": "        sub_left_prediction_rgb24(s, s->temp[0], data+3, width-1, &leftr, &leftg, &leftb);",
          "new_line_content": "        encode_bgra_bitstream(s, width-1, 3);",
          "content_same": false
        },
        {
          "line": 1453,
          "old_api": "diff_bytes",
          "new_api": "sub_left_prediction_rgb24",
          "old_text": "s->dsp.diff_bytes(s->temp[1], dst, dst - fake_stride, width*3)",
          "new_text": "sub_left_prediction_rgb24(s, s->temp[0], s->temp[1], width, &leftr, &leftg, &leftb)",
          "old_line_content": "                s->dsp.diff_bytes(s->temp[1], dst, dst - fake_stride, width*3);",
          "new_line_content": "                sub_left_prediction_rgb24(s, s->temp[0], s->temp[1], width, &leftr, &leftg, &leftb);",
          "content_same": false
        },
        {
          "line": 1465,
          "old_api": "put_bits_count",
          "new_api": "put_bits",
          "old_text": "put_bits_count(&s->pb)",
          "new_text": "put_bits(&s->pb, 16, 0)",
          "old_line_content": "    size += (put_bits_count(&s->pb) + 31) / 8;",
          "new_line_content": "    put_bits(&s->pb, 16, 0);",
          "content_same": false
        },
        {
          "line": 1476,
          "old_api": "snprintf",
          "new_api": "strlen",
          "old_text": "snprintf(p, end-p, \"%\"PRIu64\" \", s->stats[i][j])",
          "new_text": "strlen(p)",
          "old_line_content": "                snprintf(p, end-p, \"%\"PRIu64\" \", s->stats[i][j]);",
          "new_line_content": "                p += strlen(p);",
          "content_same": false
        },
        {
          "line": 1486,
          "old_api": "flush_put_bits",
          "new_api": "bswap_buf",
          "old_text": "flush_put_bits(&s->pb)",
          "new_text": "s->dsp.bswap_buf((uint32_t*)pkt->data, (uint32_t*)pkt->data, size)",
          "old_line_content": "        flush_put_bits(&s->pb);",
          "new_line_content": "        s->dsp.bswap_buf((uint32_t*)pkt->data, (uint32_t*)pkt->data, size);",
          "content_same": false
        },
        {
          "line": 1523,
          "old_api": "ONLY_IF_THREADS_ENABLED",
          "new_api": "NULL_IF_CONFIG_SMALL",
          "old_text": "ONLY_IF_THREADS_ENABLED(decode_init_thread_copy)",
          "new_text": "NULL_IF_CONFIG_SMALL(\"Huffyuv / HuffYUV\")",
          "old_line_content": "    .init_thread_copy = ONLY_IF_THREADS_ENABLED(decode_init_thread_copy),",
          "new_line_content": "    .long_name        = NULL_IF_CONFIG_SMALL(\"Huffyuv / HuffYUV\"),",
          "content_same": false
        },
        {
          "line": 1539,
          "old_api": "ONLY_IF_THREADS_ENABLED",
          "new_api": "NULL_IF_CONFIG_SMALL",
          "old_text": "ONLY_IF_THREADS_ENABLED(decode_init_thread_copy)",
          "new_text": "NULL_IF_CONFIG_SMALL(\"Huffyuv FFmpeg variant\")",
          "old_line_content": "    .init_thread_copy = ONLY_IF_THREADS_ENABLED(decode_init_thread_copy),",
          "new_line_content": "    .long_name        = NULL_IF_CONFIG_SMALL(\"Huffyuv FFmpeg variant\"),",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1538,
          "old_api": null,
          "new_api": "ONLY_IF_THREADS_ENABLED",
          "old_text": null,
          "new_text": "ONLY_IF_THREADS_ENABLED(decode_init_thread_copy)",
          "old_line_content": "                        CODEC_CAP_FRAME_THREADS,",
          "new_line_content": "    .init_thread_copy = ONLY_IF_THREADS_ENABLED(decode_init_thread_copy),",
          "content_same": false
        },
        {
          "line": 1037,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 8)",
          "old_line_content": "        if (s->yuy2) {",
          "new_line_content": "            p->data[0][3] = get_bits(&s->gb, 8);",
          "content_same": false
        },
        {
          "line": 1042,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR,\n                   \"YUY2 output is not implemented yet\\n\")",
          "old_line_content": "",
          "new_line_content": "            av_log(avctx, AV_LOG_ERROR,",
          "content_same": false
        },
        {
          "line": 1555,
          "old_api": null,
          "new_api": "NULL_IF_CONFIG_SMALL",
          "old_text": null,
          "new_text": "NULL_IF_CONFIG_SMALL(\"Huffyuv / HuffYUV\")",
          "old_line_content": "    },",
          "new_line_content": "    .long_name      = NULL_IF_CONFIG_SMALL(\"Huffyuv / HuffYUV\"),",
          "content_same": false
        },
        {
          "line": 1047,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 8)",
          "old_line_content": "",
          "new_line_content": "            leftv = p->data[2][0] = get_bits(&s->gb, 8);",
          "content_same": false
        },
        {
          "line": 1055,
          "old_api": null,
          "new_api": "decode_422_bitstream",
          "old_text": null,
          "new_text": "decode_422_bitstream(s, width-2)",
          "old_line_content": "            case PLANE:",
          "new_line_content": "                decode_422_bitstream(s, width-2);",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": null,
          "new_api": "add_hfyu_left_prediction",
          "old_text": null,
          "new_text": "s->dsp.add_hfyu_left_prediction(p->data[1] + 1, s->temp[1], width2 - 1, leftu)",
          "old_line_content": "                if (!(s->flags&CODEC_FLAG_GRAY)) {",
          "new_line_content": "                    leftu = s->dsp.add_hfyu_left_prediction(p->data[1] + 1, s->temp[1], width2 - 1, leftu);",
          "content_same": false
        },
        {
          "line": 1571,
          "old_api": null,
          "new_api": "NULL_IF_CONFIG_SMALL",
          "old_text": null,
          "new_text": "NULL_IF_CONFIG_SMALL(\"Huffyuv FFmpeg variant\")",
          "old_line_content": "    },",
          "new_line_content": "    .long_name      = NULL_IF_CONFIG_SMALL(\"Huffyuv FFmpeg variant\"),",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": null,
          "new_api": "decode_gray_bitstream",
          "old_text": null,
          "new_text": "decode_gray_bitstream(s, width)",
          "old_line_content": "                    if (s->bitstream_bpp == 12) {",
          "new_line_content": "                        decode_gray_bitstream(s, width);",
          "content_same": false
        },
        {
          "line": 1070,
          "old_api": null,
          "new_api": "add_hfyu_left_prediction",
          "old_text": null,
          "new_text": "s->dsp.add_hfyu_left_prediction(ydst, s->temp[0], width, lefty)",
          "old_line_content": "",
          "new_line_content": "                        lefty = s->dsp.add_hfyu_left_prediction(ydst, s->temp[0], width, lefty);",
          "content_same": false
        },
        {
          "line": 1073,
          "old_api": null,
          "new_api": "add_bytes",
          "old_text": null,
          "new_text": "s->dsp.add_bytes(ydst, ydst - fake_ystride, width)",
          "old_line_content": "                            if (y > s->interlaced)",
          "new_line_content": "                                s->dsp.add_bytes(ydst, ydst - fake_ystride, width);",
          "content_same": false
        },
        {
          "line": 1079,
          "old_api": null,
          "new_api": "draw_slice",
          "old_text": null,
          "new_text": "draw_slice(s, y)",
          "old_line_content": "",
          "new_line_content": "                    draw_slice(s, y);",
          "content_same": false
        },
        {
          "line": 1085,
          "old_api": null,
          "new_api": "decode_422_bitstream",
          "old_text": null,
          "new_text": "decode_422_bitstream(s, width)",
          "old_line_content": "",
          "new_line_content": "                    decode_422_bitstream(s, width);",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": null,
          "new_api": "add_hfyu_left_prediction",
          "old_text": null,
          "new_text": "s->dsp.add_hfyu_left_prediction(udst, s->temp[1], width2, leftu)",
          "old_line_content": "                    if (!(s->flags & CODEC_FLAG_GRAY)) {",
          "new_line_content": "                        leftu= s->dsp.add_hfyu_left_prediction(udst, s->temp[1], width2, leftu);",
          "content_same": false
        },
        {
          "line": 1093,
          "old_api": null,
          "new_api": "add_bytes",
          "old_text": null,
          "new_text": "s->dsp.add_bytes(ydst, ydst - fake_ystride, width)",
          "old_line_content": "                        if (cy > s->interlaced) {",
          "new_line_content": "                            s->dsp.add_bytes(ydst, ydst - fake_ystride, width);",
          "content_same": false
        },
        {
          "line": 1095,
          "old_api": null,
          "new_api": "add_bytes",
          "old_text": null,
          "new_text": "s->dsp.add_bytes(udst, udst - fake_ustride, width2)",
          "old_line_content": "                            if (!(s->flags & CODEC_FLAG_GRAY)) {",
          "new_line_content": "                                s->dsp.add_bytes(udst, udst - fake_ustride, width2);",
          "content_same": false
        },
        {
          "line": 1101,
          "old_api": null,
          "new_api": "draw_slice",
          "old_text": null,
          "new_text": "draw_slice(s, height)",
          "old_line_content": "                }",
          "new_line_content": "                draw_slice(s, height);",
          "content_same": false
        },
        {
          "line": 1106,
          "old_api": null,
          "new_api": "decode_422_bitstream",
          "old_text": null,
          "new_text": "decode_422_bitstream(s, width - 2)",
          "old_line_content": "                /* first line except first 2 pixels is left predicted */",
          "new_line_content": "                decode_422_bitstream(s, width - 2);",
          "content_same": false
        },
        {
          "line": 1109,
          "old_api": null,
          "new_api": "add_hfyu_left_prediction",
          "old_text": null,
          "new_text": "s->dsp.add_hfyu_left_prediction(p->data[1] + 1, s->temp[1], width2 - 1, leftu)",
          "old_line_content": "                if (!(s->flags & CODEC_FLAG_GRAY)) {",
          "new_line_content": "                    leftu = s->dsp.add_hfyu_left_prediction(p->data[1] + 1, s->temp[1], width2 - 1, leftu);",
          "content_same": false
        },
        {
          "line": 1117,
          "old_api": null,
          "new_api": "decode_422_bitstream",
          "old_text": null,
          "new_text": "decode_422_bitstream(s, width)",
          "old_line_content": "                if (s->interlaced) {",
          "new_line_content": "                    decode_422_bitstream(s, width);",
          "content_same": false
        },
        {
          "line": 1120,
          "old_api": null,
          "new_api": "add_hfyu_left_prediction",
          "old_text": null,
          "new_text": "s->dsp.add_hfyu_left_prediction(p->data[1] + p->linesize[2], s->temp[1], width2, leftu)",
          "old_line_content": "                    if (!(s->flags & CODEC_FLAG_GRAY)) {",
          "new_line_content": "                        leftu = s->dsp.add_hfyu_left_prediction(p->data[1] + p->linesize[2], s->temp[1], width2, leftu);",
          "content_same": false
        },
        {
          "line": 1127,
          "old_api": null,
          "new_api": "decode_422_bitstream",
          "old_text": null,
          "new_text": "decode_422_bitstream(s, 4)",
          "old_line_content": "                /* next 4 pixels are left predicted too */",
          "new_line_content": "                decode_422_bitstream(s, 4);",
          "content_same": false
        },
        {
          "line": 1130,
          "old_api": null,
          "new_api": "add_hfyu_left_prediction",
          "old_text": null,
          "new_text": "s->dsp.add_hfyu_left_prediction(p->data[1] + fake_ustride, s->temp[1], 2, leftu)",
          "old_line_content": "                if (!(s->flags&CODEC_FLAG_GRAY)) {",
          "new_line_content": "                    leftu = s->dsp.add_hfyu_left_prediction(p->data[1] + fake_ustride, s->temp[1], 2, leftu);",
          "content_same": false
        },
        {
          "line": 1136,
          "old_api": null,
          "new_api": "decode_422_bitstream",
          "old_text": null,
          "new_text": "decode_422_bitstream(s, width - 4)",
          "old_line_content": "                lefttopy = p->data[0][3];",
          "new_line_content": "                decode_422_bitstream(s, width - 4);",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": null,
          "new_api": "add_hfyu_median_prediction",
          "old_text": null,
          "new_text": "s->dsp.add_hfyu_median_prediction(p->data[1] + fake_ustride+2, p->data[1] + 2, s->temp[1], width2 - 2, &leftu, &lefttopu)",
          "old_line_content": "                    lefttopv = p->data[2][1];",
          "new_line_content": "                    s->dsp.add_hfyu_median_prediction(p->data[1] + fake_ustride+2, p->data[1] + 2, s->temp[1], width2 - 2, &leftu, &lefttopu);",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": null,
          "new_api": "decode_gray_bitstream",
          "old_text": null,
          "new_text": "decode_gray_bitstream(s, width)",
          "old_line_content": "                        while (2 * cy > y) {",
          "new_line_content": "                            decode_gray_bitstream(s, width);",
          "content_same": false
        },
        {
          "line": 1153,
          "old_api": null,
          "new_api": "add_hfyu_median_prediction",
          "old_text": null,
          "new_text": "s->dsp.add_hfyu_median_prediction(ydst, ydst - fake_ystride, s->temp[0], width, &lefty, &lefttopy)",
          "old_line_content": "                            ydst = p->data[0] + p->linesize[0] * y;",
          "new_line_content": "                            s->dsp.add_hfyu_median_prediction(ydst, ydst - fake_ystride, s->temp[0], width, &lefty, &lefttopy);",
          "content_same": false
        },
        {
          "line": 1158,
          "old_api": null,
          "new_api": "draw_slice",
          "old_text": null,
          "new_text": "draw_slice(s, y)",
          "old_line_content": "                    }",
          "new_line_content": "                    draw_slice(s, y);",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": null,
          "new_api": "decode_422_bitstream",
          "old_text": null,
          "new_text": "decode_422_bitstream(s, width)",
          "old_line_content": "",
          "new_line_content": "                    decode_422_bitstream(s, width);",
          "content_same": false
        },
        {
          "line": 1166,
          "old_api": null,
          "new_api": "add_hfyu_median_prediction",
          "old_text": null,
          "new_text": "s->dsp.add_hfyu_median_prediction(ydst, ydst - fake_ystride, s->temp[0], width, &lefty, &lefttopy)",
          "old_line_content": "",
          "new_line_content": "                    s->dsp.add_hfyu_median_prediction(ydst, ydst - fake_ystride, s->temp[0], width, &lefty, &lefttopy);",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": null,
          "new_api": "add_hfyu_median_prediction",
          "old_text": null,
          "new_text": "s->dsp.add_hfyu_median_prediction(udst, udst - fake_ustride, s->temp[1], width2, &leftu, &lefttopu)",
          "old_line_content": "                    if (!(s->flags & CODEC_FLAG_GRAY)) {",
          "new_line_content": "                        s->dsp.add_hfyu_median_prediction(udst, udst - fake_ustride, s->temp[1], width2, &leftu, &lefttopu);",
          "content_same": false
        },
        {
          "line": 1173,
          "old_api": null,
          "new_api": "draw_slice",
          "old_text": null,
          "new_text": "draw_slice(s, height)",
          "old_line_content": "",
          "new_line_content": "                draw_slice(s, height);",
          "content_same": false
        },
        {
          "line": 1183,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 8)",
          "old_line_content": "        if (s->bitstream_bpp == 32) {",
          "new_line_content": "            lefta = p->data[0][last_line+A] = get_bits(&s->gb, 8);",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 8)",
          "old_line_content": "        } else {",
          "new_line_content": "            leftr = p->data[0][last_line+R] = get_bits(&s->gb, 8);",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": null,
          "new_api": "skip_bits",
          "old_text": null,
          "new_text": "skip_bits(&s->gb, 8)",
          "old_line_content": "            lefta = p->data[0][last_line+A] = 255;",
          "new_line_content": "            skip_bits(&s->gb, 8);",
          "content_same": false
        },
        {
          "line": 1199,
          "old_api": null,
          "new_api": "decode_bgr_bitstream",
          "old_text": null,
          "new_text": "decode_bgr_bitstream(s, width - 1)",
          "old_line_content": "            case PLANE:",
          "new_line_content": "                decode_bgr_bitstream(s, width - 1);",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": null,
          "new_api": "decode_bgr_bitstream",
          "old_text": null,
          "new_text": "decode_bgr_bitstream(s, width)",
          "old_line_content": "                for (y = s->height - 2; y >= 0; y--) { //Yes it is stored upside down.",
          "new_line_content": "                    decode_bgr_bitstream(s, width);",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": null,
          "new_api": "add_hfyu_left_prediction_bgr32",
          "old_text": null,
          "new_text": "s->dsp.add_hfyu_left_prediction_bgr32(p->data[0] + p->linesize[0]*y, s->temp[0], width, &leftr, &leftg, &leftb, &lefta)",
          "old_line_content": "",
          "new_line_content": "                    s->dsp.add_hfyu_left_prediction_bgr32(p->data[0] + p->linesize[0]*y, s->temp[0], width, &leftr, &leftg, &leftb, &lefta);",
          "content_same": false
        },
        {
          "line": 1210,
          "old_api": null,
          "new_api": "add_bytes",
          "old_text": null,
          "new_text": "s->dsp.add_bytes(p->data[0] + p->linesize[0] * y,\n                                             p->data[0] + p->linesize[0] * y +\n                                             fake_ystride, fake_ystride)",
          "old_line_content": "                            y < s->height - 1 - s->interlaced) {",
          "new_line_content": "                            s->dsp.add_bytes(p->data[0] + p->linesize[0] * y,",
          "content_same": false
        },
        {
          "line": 1217,
          "old_api": null,
          "new_api": "draw_slice",
          "old_text": null,
          "new_text": "draw_slice(s, height)",
          "old_line_content": "                // just 1 large slice as this is not possible in reverse order",
          "new_line_content": "                draw_slice(s, height);",
          "content_same": false
        },
        {
          "line": 1220,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR,\n                       \"prediction type not supported!\\n\")",
          "old_line_content": "            default:",
          "new_line_content": "                av_log(avctx, AV_LOG_ERROR,",
          "content_same": false
        },
        {
          "line": 1224,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR,\n                   \"BGR24 output is not implemented yet\\n\")",
          "old_line_content": "        }else{",
          "new_line_content": "            av_log(avctx, AV_LOG_ERROR,",
          "content_same": false
        },
        {
          "line": 1229,
          "old_api": null,
          "new_api": "emms_c",
          "old_text": null,
          "new_text": "emms_c()",
          "old_line_content": "    }",
          "new_line_content": "    emms_c();",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": null,
          "new_api": "get_bits_count",
          "old_text": null,
          "new_text": "get_bits_count(&s->gb)",
          "old_line_content": "",
          "new_line_content": "    return (get_bits_count(&s->gb) + 31) / 32 * 4 + table_size;",
          "content_same": false
        },
        {
          "line": 1243,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&s->temp[i])",
          "old_line_content": "    for(i = 0; i < 3; i++) {",
          "new_line_content": "        av_freep(&s->temp[i]);",
          "content_same": false
        },
        {
          "line": 1255,
          "old_api": null,
          "new_api": "release_buffer",
          "old_text": null,
          "new_text": "avctx->release_buffer(avctx, &s->picture)",
          "old_line_content": "    if (s->picture.data[0])",
          "new_line_content": "        avctx->release_buffer(avctx, &s->picture);",
          "content_same": false
        },
        {
          "line": 1257,
          "old_api": null,
          "new_api": "common_end",
          "old_text": null,
          "new_text": "common_end(s)",
          "old_line_content": "",
          "new_line_content": "    common_end(s);",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": null,
          "new_api": "ff_free_vlc",
          "old_text": null,
          "new_text": "ff_free_vlc(&s->vlc[i])",
          "old_line_content": "    for (i = 0; i < 6; i++) {",
          "new_line_content": "        ff_free_vlc(&s->vlc[i]);",
          "content_same": false
        },
        {
          "line": 1282,
          "old_api": null,
          "new_api": "ff_alloc_packet2",
          "old_text": null,
          "new_text": "ff_alloc_packet2(avctx, pkt, width * height * 3 * 4 + FF_MIN_BUFFER_SIZE)",
          "old_line_content": "",
          "new_line_content": "    if ((ret = ff_alloc_packet2(avctx, pkt, width * height * 3 * 4 + FF_MIN_BUFFER_SIZE)) < 0)",
          "content_same": false
        },
        {
          "line": 1291,
          "old_api": null,
          "new_api": "ff_huff_gen_len_table",
          "old_text": null,
          "new_text": "ff_huff_gen_len_table(s->len[i], s->stats[i])",
          "old_line_content": "        for (i = 0; i < 3; i++) {",
          "new_line_content": "            ff_huff_gen_len_table(s->len[i], s->stats[i]);",
          "content_same": false
        },
        {
          "line": 1294,
          "old_api": null,
          "new_api": "store_table",
          "old_text": null,
          "new_text": "store_table(s, s->len[i], &pkt->data[size])",
          "old_line_content": "                return -1;",
          "new_line_content": "            size += store_table(s, s->len[i], &pkt->data[size]);",
          "content_same": false
        },
        {
          "line": 1302,
          "old_api": null,
          "new_api": "init_put_bits",
          "old_text": null,
          "new_text": "init_put_bits(&s->pb, pkt->data + size, pkt->size - size)",
          "old_line_content": "",
          "new_line_content": "    init_put_bits(&s->pb, pkt->data + size, pkt->size - size);",
          "content_same": false
        },
        {
          "line": 1308,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 8, leftv = p->data[2][0])",
          "old_line_content": "",
          "new_line_content": "        put_bits(&s->pb, 8, leftv = p->data[2][0]);",
          "content_same": false
        },
        {
          "line": 1313,
          "old_api": null,
          "new_api": "sub_left_prediction",
          "old_text": null,
          "new_text": "sub_left_prediction(s, s->temp[0], p->data[0], width , 0)",
          "old_line_content": "",
          "new_line_content": "        lefty = sub_left_prediction(s, s->temp[0], p->data[0], width , 0);",
          "content_same": false
        },
        {
          "line": 1317,
          "old_api": null,
          "new_api": "encode_422_bitstream",
          "old_text": null,
          "new_text": "encode_422_bitstream(s, 2, width-2)",
          "old_line_content": "",
          "new_line_content": "        encode_422_bitstream(s, 2, width-2);",
          "content_same": false
        },
        {
          "line": 1323,
          "old_api": null,
          "new_api": "sub_left_prediction",
          "old_text": null,
          "new_text": "sub_left_prediction(s, s->temp[0], p->data[0] + p->linesize[0], width , lefty)",
          "old_line_content": "            if (s->interlaced) {",
          "new_line_content": "                lefty = sub_left_prediction(s, s->temp[0], p->data[0] + p->linesize[0], width , lefty);",
          "content_same": false
        },
        {
          "line": 1327,
          "old_api": null,
          "new_api": "encode_422_bitstream",
          "old_text": null,
          "new_text": "encode_422_bitstream(s, 0, width)",
          "old_line_content": "",
          "new_line_content": "                encode_422_bitstream(s, 0, width);",
          "content_same": false
        },
        {
          "line": 1331,
          "old_api": null,
          "new_api": "sub_left_prediction",
          "old_text": null,
          "new_text": "sub_left_prediction(s, s->temp[0], p->data[0] + fake_ystride, 4, lefty)",
          "old_line_content": "",
          "new_line_content": "            lefty = sub_left_prediction(s, s->temp[0], p->data[0] + fake_ystride, 4, lefty);",
          "content_same": false
        },
        {
          "line": 1335,
          "old_api": null,
          "new_api": "encode_422_bitstream",
          "old_text": null,
          "new_text": "encode_422_bitstream(s, 0, 4)",
          "old_line_content": "",
          "new_line_content": "            encode_422_bitstream(s, 0, 4);",
          "content_same": false
        },
        {
          "line": 1340,
          "old_api": null,
          "new_api": "sub_hfyu_median_prediction",
          "old_text": null,
          "new_text": "s->dsp.sub_hfyu_median_prediction(s->temp[0], p->data[0]+4, p->data[0] + fake_ystride + 4, width - 4 , &lefty, &lefttopy)",
          "old_line_content": "            lefttopv = p->data[2][1];",
          "new_line_content": "            s->dsp.sub_hfyu_median_prediction(s->temp[0], p->data[0]+4, p->data[0] + fake_ystride + 4, width - 4 , &lefty, &lefttopy);",
          "content_same": false
        },
        {
          "line": 1352,
          "old_api": null,
          "new_api": "sub_hfyu_median_prediction",
          "old_text": null,
          "new_text": "s->dsp.sub_hfyu_median_prediction(s->temp[0], ydst - fake_ystride, ydst, width , &lefty, &lefttopy)",
          "old_line_content": "                        ydst = p->data[0] + p->linesize[0] * y;",
          "new_line_content": "                        s->dsp.sub_hfyu_median_prediction(s->temp[0], ydst - fake_ystride, ydst, width , &lefty, &lefttopy);",
          "content_same": false
        },
        {
          "line": 1362,
          "old_api": null,
          "new_api": "sub_hfyu_median_prediction",
          "old_text": null,
          "new_text": "s->dsp.sub_hfyu_median_prediction(s->temp[0], ydst - fake_ystride, ydst, width , &lefty, &lefttopy)",
          "old_line_content": "",
          "new_line_content": "                s->dsp.sub_hfyu_median_prediction(s->temp[0], ydst - fake_ystride, ydst, width , &lefty, &lefttopy);",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": null,
          "new_api": "encode_422_bitstream",
          "old_text": null,
          "new_text": "encode_422_bitstream(s, 0, width)",
          "old_line_content": "",
          "new_line_content": "                encode_422_bitstream(s, 0, width);",
          "content_same": false
        },
        {
          "line": 1377,
          "old_api": null,
          "new_api": "diff_bytes",
          "old_text": null,
          "new_text": "s->dsp.diff_bytes(s->temp[1], ydst, ydst - fake_ystride, width)",
          "old_line_content": "                    if (s->predictor == PLANE && s->interlaced < y) {",
          "new_line_content": "                        s->dsp.diff_bytes(s->temp[1], ydst, ydst - fake_ystride, width);",
          "content_same": false
        },
        {
          "line": 1379,
          "old_api": null,
          "new_api": "sub_left_prediction",
          "old_text": null,
          "new_text": "sub_left_prediction(s, s->temp[0], s->temp[1], width , lefty)",
          "old_line_content": "",
          "new_line_content": "                        lefty = sub_left_prediction(s, s->temp[0], s->temp[1], width , lefty);",
          "content_same": false
        },
        {
          "line": 1381,
          "old_api": null,
          "new_api": "sub_left_prediction",
          "old_text": null,
          "new_text": "sub_left_prediction(s, s->temp[0], ydst, width , lefty)",
          "old_line_content": "                    } else {",
          "new_line_content": "                        lefty = sub_left_prediction(s, s->temp[0], ydst, width , lefty);",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": null,
          "new_api": "encode_gray_bitstream",
          "old_text": null,
          "new_text": "encode_gray_bitstream(s, width)",
          "old_line_content": "                    }",
          "new_line_content": "                    encode_gray_bitstream(s, width);",
          "content_same": false
        },
        {
          "line": 1393,
          "old_api": null,
          "new_api": "diff_bytes",
          "old_text": null,
          "new_text": "s->dsp.diff_bytes(s->temp[1], ydst, ydst - fake_ystride, width)",
          "old_line_content": "                if (s->predictor == PLANE && s->interlaced < cy) {",
          "new_line_content": "                    s->dsp.diff_bytes(s->temp[1], ydst, ydst - fake_ystride, width);",
          "content_same": false
        },
        {
          "line": 1397,
          "old_api": null,
          "new_api": "sub_left_prediction",
          "old_text": null,
          "new_text": "sub_left_prediction(s, s->temp[0], s->temp[1], width , lefty)",
          "old_line_content": "",
          "new_line_content": "                    lefty = sub_left_prediction(s, s->temp[0], s->temp[1], width , lefty);",
          "content_same": false
        },
        {
          "line": 1401,
          "old_api": null,
          "new_api": "sub_left_prediction",
          "old_text": null,
          "new_text": "sub_left_prediction(s, s->temp[0], ydst, width , lefty)",
          "old_line_content": "                } else {",
          "new_line_content": "                    lefty = sub_left_prediction(s, s->temp[0], ydst, width , lefty);",
          "content_same": false
        },
        {
          "line": 1406,
          "old_api": null,
          "new_api": "encode_422_bitstream",
          "old_text": null,
          "new_text": "encode_422_bitstream(s, 0, width)",
          "old_line_content": "",
          "new_line_content": "                encode_422_bitstream(s, 0, width);",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 8, lefta = data[A])",
          "old_line_content": "",
          "new_line_content": "        put_bits(&s->pb, 8, lefta = data[A]);",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": null,
          "new_api": "sub_left_prediction_bgr32",
          "old_text": null,
          "new_text": "sub_left_prediction_bgr32(s, s->temp[0], data + 4, width - 1, &leftr, &leftg, &leftb, &lefta)",
          "old_line_content": "",
          "new_line_content": "        sub_left_prediction_bgr32(s, s->temp[0], data + 4, width - 1, &leftr, &leftg, &leftb, &lefta);",
          "content_same": false
        },
        {
          "line": 1427,
          "old_api": null,
          "new_api": "diff_bytes",
          "old_text": null,
          "new_text": "s->dsp.diff_bytes(s->temp[1], dst, dst - fake_stride, width * 4)",
          "old_line_content": "            if (s->predictor == PLANE && s->interlaced < y) {",
          "new_line_content": "                s->dsp.diff_bytes(s->temp[1], dst, dst - fake_stride, width * 4);",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": null,
          "new_api": "sub_left_prediction_bgr32",
          "old_text": null,
          "new_text": "sub_left_prediction_bgr32(s, s->temp[0], dst, width, &leftr, &leftg, &leftb, &lefta)",
          "old_line_content": "            } else {",
          "new_line_content": "                sub_left_prediction_bgr32(s, s->temp[0], dst, width, &leftr, &leftg, &leftb, &lefta);",
          "content_same": false
        },
        {
          "line": 1432,
          "old_api": null,
          "new_api": "encode_bgra_bitstream",
          "old_text": null,
          "new_text": "encode_bgra_bitstream(s, width, 4)",
          "old_line_content": "            }",
          "new_line_content": "            encode_bgra_bitstream(s, width, 4);",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 8, leftr= data[0])",
          "old_line_content": "",
          "new_line_content": "        put_bits(&s->pb, 8, leftr= data[0]);",
          "content_same": false
        },
        {
          "line": 1446,
          "old_api": null,
          "new_api": "sub_left_prediction_rgb24",
          "old_text": null,
          "new_text": "sub_left_prediction_rgb24(s, s->temp[0], data+3, width-1, &leftr, &leftg, &leftb)",
          "old_line_content": "",
          "new_line_content": "        sub_left_prediction_rgb24(s, s->temp[0], data+3, width-1, &leftr, &leftg, &leftb);",
          "content_same": false
        },
        {
          "line": 1452,
          "old_api": null,
          "new_api": "diff_bytes",
          "old_text": null,
          "new_text": "s->dsp.diff_bytes(s->temp[1], dst, dst - fake_stride, width*3)",
          "old_line_content": "            if(s->predictor == PLANE && s->interlaced < y){",
          "new_line_content": "                s->dsp.diff_bytes(s->temp[1], dst, dst - fake_stride, width*3);",
          "content_same": false
        },
        {
          "line": 1455,
          "old_api": null,
          "new_api": "sub_left_prediction_rgb24",
          "old_text": null,
          "new_text": "sub_left_prediction_rgb24(s, s->temp[0], dst, width, &leftr, &leftg, &leftb)",
          "old_line_content": "            }else{",
          "new_line_content": "                sub_left_prediction_rgb24(s, s->temp[0], dst, width, &leftr, &leftg, &leftb);",
          "content_same": false
        },
        {
          "line": 1457,
          "old_api": null,
          "new_api": "encode_bgra_bitstream",
          "old_text": null,
          "new_text": "encode_bgra_bitstream(s, width, 3)",
          "old_line_content": "            }",
          "new_line_content": "            encode_bgra_bitstream(s, width, 3);",
          "content_same": false
        },
        {
          "line": 1460,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR, \"Format not supported!\\n\")",
          "old_line_content": "    } else {",
          "new_line_content": "        av_log(avctx, AV_LOG_ERROR, \"Format not supported!\\n\");",
          "content_same": false
        },
        {
          "line": 1462,
          "old_api": null,
          "new_api": "emms_c",
          "old_text": null,
          "new_text": "emms_c()",
          "old_line_content": "    }",
          "new_line_content": "    emms_c();",
          "content_same": false
        },
        {
          "line": 1464,
          "old_api": null,
          "new_api": "put_bits_count",
          "old_text": null,
          "new_text": "put_bits_count(&s->pb)",
          "old_line_content": "",
          "new_line_content": "    size += (put_bits_count(&s->pb) + 31) / 8;",
          "content_same": false
        },
        {
          "line": 1475,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(p, end-p, \"%\"PRIu64\" \", s->stats[i][j])",
          "old_line_content": "            for (j = 0; j < 256; j++) {",
          "new_line_content": "                snprintf(p, end-p, \"%\"PRIu64\" \", s->stats[i][j]);",
          "content_same": false
        },
        {
          "line": 1479,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(p, end-p, \"\\n\")",
          "old_line_content": "            }",
          "new_line_content": "            snprintf(p, end-p, \"\\n\");",
          "content_same": false
        },
        {
          "line": 1485,
          "old_api": null,
          "new_api": "flush_put_bits",
          "old_text": null,
          "new_text": "flush_put_bits(&s->pb)",
          "old_line_content": "    if (!(s->avctx->flags2 & CODEC_FLAG2_NO_OUTPUT)) {",
          "new_line_content": "        flush_put_bits(&s->pb);",
          "content_same": false
        },
        {
          "line": 1502,
          "old_api": null,
          "new_api": "common_end",
          "old_text": null,
          "new_text": "common_end(s)",
          "old_line_content": "",
          "new_line_content": "    common_end(s);",
          "content_same": false
        },
        {
          "line": 1504,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&avctx->extradata)",
          "old_line_content": "",
          "new_line_content": "    av_freep(&avctx->extradata);",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": null,
          "new_api": "ff_thread_release_buffer",
          "old_text": null,
          "new_text": "ff_thread_release_buffer(avctx, p)",
          "old_line_content": "    if (p->data[0])",
          "new_line_content": "        ff_thread_release_buffer(avctx, p);",
          "content_same": false
        },
        {
          "line": 1008,
          "old_api": null,
          "new_api": "ff_thread_get_buffer",
          "old_text": null,
          "new_text": "ff_thread_get_buffer(avctx, p)",
          "old_line_content": "    p->reference = 0;",
          "new_line_content": "    if (ff_thread_get_buffer(avctx, p) < 0) {",
          "content_same": false
        },
        {
          "line": 1522,
          "old_api": null,
          "new_api": "ONLY_IF_THREADS_ENABLED",
          "old_text": null,
          "new_text": "ONLY_IF_THREADS_ENABLED(decode_init_thread_copy)",
          "old_line_content": "                        CODEC_CAP_FRAME_THREADS,",
          "new_line_content": "    .init_thread_copy = ONLY_IF_THREADS_ENABLED(decode_init_thread_copy),",
          "content_same": false
        },
        {
          "line": 1014,
          "old_api": null,
          "new_api": "read_huffman_tables",
          "old_text": null,
          "new_text": "read_huffman_tables(s, s->bitstream_buffer, buf_size)",
          "old_line_content": "    if (s->context) {",
          "new_line_content": "        table_size = read_huffman_tables(s, s->bitstream_buffer, buf_size);",
          "content_same": false
        },
        {
          "line": 1022,
          "old_api": null,
          "new_api": "init_get_bits",
          "old_text": null,
          "new_text": "init_get_bits(&s->gb, s->bitstream_buffer+table_size,\n                  (buf_size-table_size) * 8)",
          "old_line_content": "",
          "new_line_content": "    init_get_bits(&s->gb, s->bitstream_buffer+table_size,",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1540,
          "old_api": "NULL_IF_CONFIG_SMALL",
          "new_api": null,
          "old_text": "NULL_IF_CONFIG_SMALL(\"Huffyuv FFmpeg variant\")",
          "new_text": null,
          "old_line_content": "    .long_name        = NULL_IF_CONFIG_SMALL(\"Huffyuv FFmpeg variant\"),",
          "new_line_content": "};",
          "content_same": false
        },
        {
          "line": 1041,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 8)",
          "new_text": null,
          "old_line_content": "            p->data[0][0] = get_bits(&s->gb, 8);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1043,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_ERROR,\n                   \"YUY2 output is not implemented yet\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(avctx, AV_LOG_ERROR,",
          "new_line_content": "                   \"YUY2 output is not implemented yet\\n\");",
          "content_same": false
        },
        {
          "line": 1556,
          "old_api": "NULL_IF_CONFIG_SMALL",
          "new_api": null,
          "old_text": "NULL_IF_CONFIG_SMALL(\"Huffyuv / HuffYUV\")",
          "new_text": null,
          "old_line_content": "    .long_name      = NULL_IF_CONFIG_SMALL(\"Huffyuv / HuffYUV\"),",
          "new_line_content": "};",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 8)",
          "new_text": null,
          "old_line_content": "                    p->data[0][0] = get_bits(&s->gb, 8);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1057,
          "old_api": "add_hfyu_left_prediction",
          "new_api": null,
          "old_text": "s->dsp.add_hfyu_left_prediction(p->data[0] + 2, s->temp[0], width-2, lefty)",
          "new_text": null,
          "old_line_content": "                lefty = s->dsp.add_hfyu_left_prediction(p->data[0] + 2, s->temp[0], width-2, lefty);",
          "new_line_content": "                if (!(s->flags&CODEC_FLAG_GRAY)) {",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": "add_hfyu_left_prediction",
          "new_api": null,
          "old_text": "s->dsp.add_hfyu_left_prediction(p->data[2] + 1, s->temp[2], width2 - 1, leftv)",
          "new_text": null,
          "old_line_content": "                    leftv = s->dsp.add_hfyu_left_prediction(p->data[2] + 1, s->temp[2], width2 - 1, leftv);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1572,
          "old_api": "NULL_IF_CONFIG_SMALL",
          "new_api": null,
          "old_text": "NULL_IF_CONFIG_SMALL(\"Huffyuv FFmpeg variant\")",
          "new_text": null,
          "old_line_content": "    .long_name      = NULL_IF_CONFIG_SMALL(\"Huffyuv FFmpeg variant\"),",
          "new_line_content": "};",
          "content_same": false
        },
        {
          "line": 1067,
          "old_api": "decode_gray_bitstream",
          "new_api": null,
          "old_text": "decode_gray_bitstream(s, width)",
          "new_text": null,
          "old_line_content": "                        decode_gray_bitstream(s, width);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1071,
          "old_api": "add_hfyu_left_prediction",
          "new_api": null,
          "old_text": "s->dsp.add_hfyu_left_prediction(ydst, s->temp[0], width, lefty)",
          "new_text": null,
          "old_line_content": "                        lefty = s->dsp.add_hfyu_left_prediction(ydst, s->temp[0], width, lefty);",
          "new_line_content": "                        if (s->predictor == PLANE) {",
          "content_same": false
        },
        {
          "line": 1074,
          "old_api": "add_bytes",
          "new_api": null,
          "old_text": "s->dsp.add_bytes(ydst, ydst - fake_ystride, width)",
          "new_text": null,
          "old_line_content": "                                s->dsp.add_bytes(ydst, ydst - fake_ystride, width);",
          "new_line_content": "                        }",
          "content_same": false
        },
        {
          "line": 1080,
          "old_api": "draw_slice",
          "new_api": null,
          "old_text": "draw_slice(s, y)",
          "new_text": null,
          "old_line_content": "                    draw_slice(s, y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1087,
          "old_api": "add_hfyu_left_prediction",
          "new_api": null,
          "old_text": "s->dsp.add_hfyu_left_prediction(ydst, s->temp[0], width, lefty)",
          "new_text": null,
          "old_line_content": "                    lefty = s->dsp.add_hfyu_left_prediction(ydst, s->temp[0], width, lefty);",
          "new_line_content": "                    if (!(s->flags & CODEC_FLAG_GRAY)) {",
          "content_same": false
        },
        {
          "line": 1090,
          "old_api": "add_hfyu_left_prediction",
          "new_api": null,
          "old_text": "s->dsp.add_hfyu_left_prediction(vdst, s->temp[2], width2, leftv)",
          "new_text": null,
          "old_line_content": "                        leftv= s->dsp.add_hfyu_left_prediction(vdst, s->temp[2], width2, leftv);",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 1094,
          "old_api": "add_bytes",
          "new_api": null,
          "old_text": "s->dsp.add_bytes(ydst, ydst - fake_ystride, width)",
          "new_text": null,
          "old_line_content": "                            s->dsp.add_bytes(ydst, ydst - fake_ystride, width);",
          "new_line_content": "                            if (!(s->flags & CODEC_FLAG_GRAY)) {",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": "add_bytes",
          "new_api": null,
          "old_text": "s->dsp.add_bytes(vdst, vdst - fake_vstride, width2)",
          "new_text": null,
          "old_line_content": "                                s->dsp.add_bytes(vdst, vdst - fake_vstride, width2);",
          "new_line_content": "                            }",
          "content_same": false
        },
        {
          "line": 1102,
          "old_api": "draw_slice",
          "new_api": null,
          "old_text": "draw_slice(s, height)",
          "new_text": null,
          "old_line_content": "                draw_slice(s, height);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1108,
          "old_api": "add_hfyu_left_prediction",
          "new_api": null,
          "old_text": "s->dsp.add_hfyu_left_prediction(p->data[0] + 2, s->temp[0], width - 2, lefty)",
          "new_text": null,
          "old_line_content": "                lefty= s->dsp.add_hfyu_left_prediction(p->data[0] + 2, s->temp[0], width - 2, lefty);",
          "new_line_content": "                if (!(s->flags & CODEC_FLAG_GRAY)) {",
          "content_same": false
        },
        {
          "line": 1111,
          "old_api": "add_hfyu_left_prediction",
          "new_api": null,
          "old_text": "s->dsp.add_hfyu_left_prediction(p->data[2] + 1, s->temp[2], width2 - 1, leftv)",
          "new_text": null,
          "old_line_content": "                    leftv = s->dsp.add_hfyu_left_prediction(p->data[2] + 1, s->temp[2], width2 - 1, leftv);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1119,
          "old_api": "add_hfyu_left_prediction",
          "new_api": null,
          "old_text": "s->dsp.add_hfyu_left_prediction(p->data[0] + p->linesize[0], s->temp[0], width, lefty)",
          "new_text": null,
          "old_line_content": "                    lefty = s->dsp.add_hfyu_left_prediction(p->data[0] + p->linesize[0], s->temp[0], width, lefty);",
          "new_line_content": "                    if (!(s->flags & CODEC_FLAG_GRAY)) {",
          "content_same": false
        },
        {
          "line": 1122,
          "old_api": "add_hfyu_left_prediction",
          "new_api": null,
          "old_text": "s->dsp.add_hfyu_left_prediction(p->data[2] + p->linesize[1], s->temp[2], width2, leftv)",
          "new_text": null,
          "old_line_content": "                        leftv = s->dsp.add_hfyu_left_prediction(p->data[2] + p->linesize[1], s->temp[2], width2, leftv);",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 1129,
          "old_api": "add_hfyu_left_prediction",
          "new_api": null,
          "old_text": "s->dsp.add_hfyu_left_prediction(p->data[0] + fake_ystride, s->temp[0], 4, lefty)",
          "new_text": null,
          "old_line_content": "                lefty = s->dsp.add_hfyu_left_prediction(p->data[0] + fake_ystride, s->temp[0], 4, lefty);",
          "new_line_content": "                if (!(s->flags&CODEC_FLAG_GRAY)) {",
          "content_same": false
        },
        {
          "line": 1132,
          "old_api": "add_hfyu_left_prediction",
          "new_api": null,
          "old_text": "s->dsp.add_hfyu_left_prediction(p->data[2] + fake_vstride, s->temp[2], 2, leftv)",
          "new_text": null,
          "old_line_content": "                    leftv = s->dsp.add_hfyu_left_prediction(p->data[2] + fake_vstride, s->temp[2], 2, leftv);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": "add_hfyu_median_prediction",
          "new_api": null,
          "old_text": "s->dsp.add_hfyu_median_prediction(p->data[0] + fake_ystride+4, p->data[0]+4, s->temp[0], width-4, &lefty, &lefttopy)",
          "new_text": null,
          "old_line_content": "                s->dsp.add_hfyu_median_prediction(p->data[0] + fake_ystride+4, p->data[0]+4, s->temp[0], width-4, &lefty, &lefttopy);",
          "new_line_content": "                if (!(s->flags&CODEC_FLAG_GRAY)) {",
          "content_same": false
        },
        {
          "line": 1143,
          "old_api": "add_hfyu_median_prediction",
          "new_api": null,
          "old_text": "s->dsp.add_hfyu_median_prediction(p->data[2] + fake_vstride+2, p->data[2] + 2, s->temp[2], width2 - 2, &leftv, &lefttopv)",
          "new_text": null,
          "old_line_content": "                    s->dsp.add_hfyu_median_prediction(p->data[2] + fake_vstride+2, p->data[2] + 2, s->temp[2], width2 - 2, &leftv, &lefttopv);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1152,
          "old_api": "decode_gray_bitstream",
          "new_api": null,
          "old_text": "decode_gray_bitstream(s, width)",
          "new_text": null,
          "old_line_content": "                            decode_gray_bitstream(s, width);",
          "new_line_content": "                            ydst = p->data[0] + p->linesize[0] * y;",
          "content_same": false
        },
        {
          "line": 1154,
          "old_api": "add_hfyu_median_prediction",
          "new_api": null,
          "old_text": "s->dsp.add_hfyu_median_prediction(ydst, ydst - fake_ystride, s->temp[0], width, &lefty, &lefttopy)",
          "new_text": null,
          "old_line_content": "                            s->dsp.add_hfyu_median_prediction(ydst, ydst - fake_ystride, s->temp[0], width, &lefty, &lefttopy);",
          "new_line_content": "                            y++;",
          "content_same": false
        },
        {
          "line": 1159,
          "old_api": "draw_slice",
          "new_api": null,
          "old_text": "draw_slice(s, y)",
          "new_text": null,
          "old_line_content": "                    draw_slice(s, y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1161,
          "old_api": "decode_422_bitstream",
          "new_api": null,
          "old_text": "decode_422_bitstream(s, width)",
          "new_text": null,
          "old_line_content": "                    decode_422_bitstream(s, width);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1167,
          "old_api": "add_hfyu_median_prediction",
          "new_api": null,
          "old_text": "s->dsp.add_hfyu_median_prediction(ydst, ydst - fake_ystride, s->temp[0], width, &lefty, &lefttopy)",
          "new_text": null,
          "old_line_content": "                    s->dsp.add_hfyu_median_prediction(ydst, ydst - fake_ystride, s->temp[0], width, &lefty, &lefttopy);",
          "new_line_content": "                    if (!(s->flags & CODEC_FLAG_GRAY)) {",
          "content_same": false
        },
        {
          "line": 1170,
          "old_api": "add_hfyu_median_prediction",
          "new_api": null,
          "old_text": "s->dsp.add_hfyu_median_prediction(vdst, vdst - fake_vstride, s->temp[2], width2, &leftv, &lefttopv)",
          "new_text": null,
          "old_line_content": "                        s->dsp.add_hfyu_median_prediction(vdst, vdst - fake_vstride, s->temp[2], width2, &leftv, &lefttopv);",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": "draw_slice",
          "new_api": null,
          "old_text": "draw_slice(s, height)",
          "new_text": null,
          "old_line_content": "                draw_slice(s, height);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 8)",
          "new_text": null,
          "old_line_content": "            leftb = p->data[0][last_line+B] = get_bits(&s->gb, 8);",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 8)",
          "new_text": null,
          "old_line_content": "            leftb = p->data[0][last_line+B] = get_bits(&s->gb, 8);",
          "new_line_content": "            lefta = p->data[0][last_line+A] = 255;",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": "skip_bits",
          "new_api": null,
          "old_text": "skip_bits(&s->gb, 8)",
          "new_text": null,
          "old_line_content": "            skip_bits(&s->gb, 8);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": "add_hfyu_left_prediction_bgr32",
          "new_api": null,
          "old_text": "s->dsp.add_hfyu_left_prediction_bgr32(p->data[0] + last_line+4, s->temp[0], width - 1, &leftr, &leftg, &leftb, &lefta)",
          "new_text": null,
          "old_line_content": "                s->dsp.add_hfyu_left_prediction_bgr32(p->data[0] + last_line+4, s->temp[0], width - 1, &leftr, &leftg, &leftb, &lefta);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1204,
          "old_api": "decode_bgr_bitstream",
          "new_api": null,
          "old_text": "decode_bgr_bitstream(s, width)",
          "new_text": null,
          "old_line_content": "                    decode_bgr_bitstream(s, width);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": "add_hfyu_left_prediction_bgr32",
          "new_api": null,
          "old_text": "s->dsp.add_hfyu_left_prediction_bgr32(p->data[0] + p->linesize[0]*y, s->temp[0], width, &leftr, &leftg, &leftb, &lefta)",
          "new_text": null,
          "old_line_content": "                    s->dsp.add_hfyu_left_prediction_bgr32(p->data[0] + p->linesize[0]*y, s->temp[0], width, &leftr, &leftg, &leftb, &lefta);",
          "new_line_content": "                    if (s->predictor == PLANE) {",
          "content_same": false
        },
        {
          "line": 1211,
          "old_api": "add_bytes",
          "new_api": null,
          "old_text": "s->dsp.add_bytes(p->data[0] + p->linesize[0] * y,\n                                             p->data[0] + p->linesize[0] * y +\n                                             fake_ystride, fake_ystride)",
          "new_text": null,
          "old_line_content": "                            s->dsp.add_bytes(p->data[0] + p->linesize[0] * y,",
          "new_line_content": "                                             p->data[0] + p->linesize[0] * y +",
          "content_same": false
        },
        {
          "line": 1218,
          "old_api": "draw_slice",
          "new_api": null,
          "old_text": "draw_slice(s, height)",
          "new_text": null,
          "old_line_content": "                draw_slice(s, height);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 1221,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_ERROR,\n                       \"prediction type not supported!\\n\")",
          "new_text": null,
          "old_line_content": "                av_log(avctx, AV_LOG_ERROR,",
          "new_line_content": "                       \"prediction type not supported!\\n\");",
          "content_same": false
        },
        {
          "line": 1225,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_ERROR,\n                   \"BGR24 output is not implemented yet\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(avctx, AV_LOG_ERROR,",
          "new_line_content": "                   \"BGR24 output is not implemented yet\\n\");",
          "content_same": false
        },
        {
          "line": 1230,
          "old_api": "emms_c",
          "new_api": null,
          "old_text": "emms_c()",
          "new_text": null,
          "old_line_content": "    emms_c();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1235,
          "old_api": "get_bits_count",
          "new_api": null,
          "old_text": "get_bits_count(&s->gb)",
          "new_text": null,
          "old_line_content": "    return (get_bits_count(&s->gb) + 31) / 32 * 4 + table_size;",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1244,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&s->temp[i])",
          "new_text": null,
          "old_line_content": "        av_freep(&s->temp[i]);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1256,
          "old_api": "release_buffer",
          "new_api": null,
          "old_text": "avctx->release_buffer(avctx, &s->picture)",
          "new_text": null,
          "old_line_content": "        avctx->release_buffer(avctx, &s->picture);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1259,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&s->bitstream_buffer)",
          "new_text": null,
          "old_line_content": "    av_freep(&s->bitstream_buffer);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1262,
          "old_api": "ff_free_vlc",
          "new_api": null,
          "old_text": "ff_free_vlc(&s->vlc[i])",
          "new_text": null,
          "old_line_content": "        ff_free_vlc(&s->vlc[i]);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1283,
          "old_api": "ff_alloc_packet2",
          "new_api": null,
          "old_text": "ff_alloc_packet2(avctx, pkt, width * height * 3 * 4 + FF_MIN_BUFFER_SIZE)",
          "new_text": null,
          "old_line_content": "    if ((ret = ff_alloc_packet2(avctx, pkt, width * height * 3 * 4 + FF_MIN_BUFFER_SIZE)) < 0)",
          "new_line_content": "        return ret;",
          "content_same": false
        },
        {
          "line": 1293,
          "old_api": "generate_bits_table",
          "new_api": null,
          "old_text": "generate_bits_table(s->bits[i], s->len[i])",
          "new_text": null,
          "old_line_content": "            if (generate_bits_table(s->bits[i], s->len[i]) < 0)",
          "new_line_content": "                return -1;",
          "content_same": false
        },
        {
          "line": 1295,
          "old_api": "store_table",
          "new_api": null,
          "old_text": "store_table(s, s->len[i], &pkt->data[size])",
          "new_text": null,
          "old_line_content": "            size += store_table(s, s->len[i], &pkt->data[size]);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1303,
          "old_api": "init_put_bits",
          "new_api": null,
          "old_text": "init_put_bits(&s->pb, pkt->data + size, pkt->size - size)",
          "new_text": null,
          "old_line_content": "    init_put_bits(&s->pb, pkt->data + size, pkt->size - size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1312,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 8,         p->data[0][0])",
          "new_text": null,
          "old_line_content": "        put_bits(&s->pb, 8,         p->data[0][0]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1316,
          "old_api": "sub_left_prediction",
          "new_api": null,
          "old_text": "sub_left_prediction(s, s->temp[2], p->data[2], width2, 0)",
          "new_text": null,
          "old_line_content": "        leftv = sub_left_prediction(s, s->temp[2], p->data[2], width2, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": "encode_422_bitstream",
          "new_api": null,
          "old_text": "encode_422_bitstream(s, 2, width-2)",
          "new_text": null,
          "old_line_content": "        encode_422_bitstream(s, 2, width-2);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1326,
          "old_api": "sub_left_prediction",
          "new_api": null,
          "old_text": "sub_left_prediction(s, s->temp[2], p->data[2] + p->linesize[2], width2, leftv)",
          "new_text": null,
          "old_line_content": "                leftv = sub_left_prediction(s, s->temp[2], p->data[2] + p->linesize[2], width2, leftv);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1328,
          "old_api": "encode_422_bitstream",
          "new_api": null,
          "old_text": "encode_422_bitstream(s, 0, width)",
          "new_text": null,
          "old_line_content": "                encode_422_bitstream(s, 0, width);",
          "new_line_content": "                y++; cy++;",
          "content_same": false
        },
        {
          "line": 1334,
          "old_api": "sub_left_prediction",
          "new_api": null,
          "old_text": "sub_left_prediction(s, s->temp[2], p->data[2] + fake_vstride, 2, leftv)",
          "new_text": null,
          "old_line_content": "            leftv = sub_left_prediction(s, s->temp[2], p->data[2] + fake_vstride, 2, leftv);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1336,
          "old_api": "encode_422_bitstream",
          "new_api": null,
          "old_text": "encode_422_bitstream(s, 0, 4)",
          "new_text": null,
          "old_line_content": "            encode_422_bitstream(s, 0, 4);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1344,
          "old_api": "encode_422_bitstream",
          "new_api": null,
          "old_text": "encode_422_bitstream(s, 0, width - 4)",
          "new_text": null,
          "old_line_content": "            encode_422_bitstream(s, 0, width - 4);",
          "new_line_content": "            y++; cy++;",
          "content_same": false
        },
        {
          "line": 1354,
          "old_api": "encode_gray_bitstream",
          "new_api": null,
          "old_text": "encode_gray_bitstream(s, width)",
          "new_text": null,
          "old_line_content": "                        encode_gray_bitstream(s, width);",
          "new_line_content": "                        y++;",
          "content_same": false
        },
        {
          "line": 1365,
          "old_api": "sub_hfyu_median_prediction",
          "new_api": null,
          "old_text": "s->dsp.sub_hfyu_median_prediction(s->temp[2], vdst - fake_vstride, vdst, width2, &leftv, &lefttopv)",
          "new_text": null,
          "old_line_content": "                s->dsp.sub_hfyu_median_prediction(s->temp[2], vdst - fake_vstride, vdst, width2, &leftv, &lefttopv);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1367,
          "old_api": "encode_422_bitstream",
          "new_api": null,
          "old_text": "encode_422_bitstream(s, 0, width)",
          "new_text": null,
          "old_line_content": "                encode_422_bitstream(s, 0, width);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1378,
          "old_api": "diff_bytes",
          "new_api": null,
          "old_text": "s->dsp.diff_bytes(s->temp[1], ydst, ydst - fake_ystride, width)",
          "new_text": null,
          "old_line_content": "                        s->dsp.diff_bytes(s->temp[1], ydst, ydst - fake_ystride, width);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1380,
          "old_api": "sub_left_prediction",
          "new_api": null,
          "old_text": "sub_left_prediction(s, s->temp[0], s->temp[1], width , lefty)",
          "new_text": null,
          "old_line_content": "                        lefty = sub_left_prediction(s, s->temp[0], s->temp[1], width , lefty);",
          "new_line_content": "                    } else {",
          "content_same": false
        },
        {
          "line": 1382,
          "old_api": "sub_left_prediction",
          "new_api": null,
          "old_text": "sub_left_prediction(s, s->temp[0], ydst, width , lefty)",
          "new_text": null,
          "old_line_content": "                        lefty = sub_left_prediction(s, s->temp[0], ydst, width , lefty);",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 1384,
          "old_api": "encode_gray_bitstream",
          "new_api": null,
          "old_text": "encode_gray_bitstream(s, width)",
          "new_text": null,
          "old_line_content": "                    encode_gray_bitstream(s, width);",
          "new_line_content": "                    y++;",
          "content_same": false
        },
        {
          "line": 1396,
          "old_api": "diff_bytes",
          "new_api": null,
          "old_text": "s->dsp.diff_bytes(s->temp[2] + width2, vdst, vdst - fake_vstride, width2)",
          "new_text": null,
          "old_line_content": "                    s->dsp.diff_bytes(s->temp[2] + width2, vdst, vdst - fake_vstride, width2);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1400,
          "old_api": "sub_left_prediction",
          "new_api": null,
          "old_text": "sub_left_prediction(s, s->temp[2], s->temp[2] + width2, width2, leftv)",
          "new_text": null,
          "old_line_content": "                    leftv = sub_left_prediction(s, s->temp[2], s->temp[2] + width2, width2, leftv);",
          "new_line_content": "                } else {",
          "content_same": false
        },
        {
          "line": 1404,
          "old_api": "sub_left_prediction",
          "new_api": null,
          "old_text": "sub_left_prediction(s, s->temp[2], vdst, width2, leftv)",
          "new_text": null,
          "old_line_content": "                    leftv = sub_left_prediction(s, s->temp[2], vdst, width2, leftv);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1407,
          "old_api": "encode_422_bitstream",
          "new_api": null,
          "old_text": "encode_422_bitstream(s, 0, width)",
          "new_text": null,
          "old_line_content": "                encode_422_bitstream(s, 0, width);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1420,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 8, leftb = data[B])",
          "new_text": null,
          "old_line_content": "        put_bits(&s->pb, 8, leftb = data[B]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1423,
          "old_api": "encode_bgra_bitstream",
          "new_api": null,
          "old_text": "encode_bgra_bitstream(s, width - 1, 4)",
          "new_text": null,
          "old_line_content": "        encode_bgra_bitstream(s, width - 1, 4);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1429,
          "old_api": "sub_left_prediction_bgr32",
          "new_api": null,
          "old_text": "sub_left_prediction_bgr32(s, s->temp[0], s->temp[1], width, &leftr, &leftg, &leftb, &lefta)",
          "new_text": null,
          "old_line_content": "                sub_left_prediction_bgr32(s, s->temp[0], s->temp[1], width, &leftr, &leftg, &leftb, &lefta);",
          "new_line_content": "            } else {",
          "content_same": false
        },
        {
          "line": 1431,
          "old_api": "sub_left_prediction_bgr32",
          "new_api": null,
          "old_text": "sub_left_prediction_bgr32(s, s->temp[0], dst, width, &leftr, &leftg, &leftb, &lefta)",
          "new_text": null,
          "old_line_content": "                sub_left_prediction_bgr32(s, s->temp[0], dst, width, &leftr, &leftg, &leftb, &lefta);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1433,
          "old_api": "encode_bgra_bitstream",
          "new_api": null,
          "old_text": "encode_bgra_bitstream(s, width, 4)",
          "new_text": null,
          "old_line_content": "            encode_bgra_bitstream(s, width, 4);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1445,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 8, 0)",
          "new_text": null,
          "old_line_content": "        put_bits(&s->pb, 8, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1448,
          "old_api": "encode_bgra_bitstream",
          "new_api": null,
          "old_text": "encode_bgra_bitstream(s, width-1, 3)",
          "new_text": null,
          "old_line_content": "        encode_bgra_bitstream(s, width-1, 3);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": "sub_left_prediction_rgb24",
          "new_api": null,
          "old_text": "sub_left_prediction_rgb24(s, s->temp[0], s->temp[1], width, &leftr, &leftg, &leftb)",
          "new_text": null,
          "old_line_content": "                sub_left_prediction_rgb24(s, s->temp[0], s->temp[1], width, &leftr, &leftg, &leftb);",
          "new_line_content": "            }else{",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": "sub_left_prediction_rgb24",
          "new_api": null,
          "old_text": "sub_left_prediction_rgb24(s, s->temp[0], dst, width, &leftr, &leftg, &leftb)",
          "new_text": null,
          "old_line_content": "                sub_left_prediction_rgb24(s, s->temp[0], dst, width, &leftr, &leftg, &leftb);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1458,
          "old_api": "encode_bgra_bitstream",
          "new_api": null,
          "old_text": "encode_bgra_bitstream(s, width, 3)",
          "new_text": null,
          "old_line_content": "            encode_bgra_bitstream(s, width, 3);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1461,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_ERROR, \"Format not supported!\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(avctx, AV_LOG_ERROR, \"Format not supported!\\n\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1463,
          "old_api": "emms_c",
          "new_api": null,
          "old_text": "emms_c()",
          "new_text": null,
          "old_line_content": "    emms_c();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1467,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 15, 0)",
          "new_text": null,
          "old_line_content": "    put_bits(&s->pb, 15, 0);",
          "new_line_content": "    size /= 4;",
          "content_same": false
        },
        {
          "line": 1477,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(p)",
          "new_text": null,
          "old_line_content": "                p += strlen(p);",
          "new_line_content": "                s->stats[i][j]= 0;",
          "content_same": false
        },
        {
          "line": 1480,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(p, end-p, \"\\n\")",
          "new_text": null,
          "old_line_content": "            snprintf(p, end-p, \"\\n\");",
          "new_line_content": "            p++;",
          "content_same": false
        },
        {
          "line": 1487,
          "old_api": "bswap_buf",
          "new_api": null,
          "old_text": "s->dsp.bswap_buf((uint32_t*)pkt->data, (uint32_t*)pkt->data, size)",
          "new_text": null,
          "old_line_content": "        s->dsp.bswap_buf((uint32_t*)pkt->data, (uint32_t*)pkt->data, size);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1503,
          "old_api": "common_end",
          "new_api": null,
          "old_text": "common_end(s)",
          "new_text": null,
          "old_line_content": "    common_end(s);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1506,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&avctx->stats_out)",
          "new_text": null,
          "old_line_content": "    av_freep(&avctx->stats_out);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1002,
          "old_api": "bswap_buf",
          "new_api": null,
          "old_text": "s->dsp.bswap_buf((uint32_t*)s->bitstream_buffer,\n                     (const uint32_t*)buf, buf_size / 4)",
          "new_text": null,
          "old_line_content": "    s->dsp.bswap_buf((uint32_t*)s->bitstream_buffer,",
          "new_line_content": "                     (const uint32_t*)buf, buf_size / 4);",
          "content_same": false
        },
        {
          "line": 1006,
          "old_api": "ff_thread_release_buffer",
          "new_api": null,
          "old_text": "ff_thread_release_buffer(avctx, p)",
          "new_text": null,
          "old_line_content": "        ff_thread_release_buffer(avctx, p);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1010,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_ERROR, \"get_buffer() failed\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(avctx, AV_LOG_ERROR, \"get_buffer() failed\\n\");",
          "new_line_content": "        return -1;",
          "content_same": false
        },
        {
          "line": 1524,
          "old_api": "NULL_IF_CONFIG_SMALL",
          "new_api": null,
          "old_text": "NULL_IF_CONFIG_SMALL(\"Huffyuv / HuffYUV\")",
          "new_text": null,
          "old_line_content": "    .long_name        = NULL_IF_CONFIG_SMALL(\"Huffyuv / HuffYUV\"),",
          "new_line_content": "};",
          "content_same": false
        },
        {
          "line": 1015,
          "old_api": "read_huffman_tables",
          "new_api": null,
          "old_text": "read_huffman_tables(s, s->bitstream_buffer, buf_size)",
          "new_text": null,
          "old_line_content": "        table_size = read_huffman_tables(s, s->bitstream_buffer, buf_size);",
          "new_line_content": "        if (table_size < 0)",
          "content_same": false
        },
        {
          "line": 1023,
          "old_api": "init_get_bits",
          "new_api": null,
          "old_text": "init_get_bits(&s->gb, s->bitstream_buffer+table_size,\n                  (buf_size-table_size) * 8)",
          "new_text": null,
          "old_line_content": "    init_get_bits(&s->gb, s->bitstream_buffer+table_size,",
          "new_line_content": "                  (buf_size-table_size) * 8);",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 23,
      "total_additions": 94,
      "total_deletions": 95,
      "total_api_changes": 212
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 3,
        "api_related_lines": 212,
        "non_api_lines": 1,
        "non_api_line_numbers": [
          997
        ]
      }
    },
    "api_calls_before": 270,
    "api_calls_after": 269,
    "diff_info": {
      "added_lines": 2,
      "removed_lines": 3,
      "total_diff_lines": 21
    }
  }
}