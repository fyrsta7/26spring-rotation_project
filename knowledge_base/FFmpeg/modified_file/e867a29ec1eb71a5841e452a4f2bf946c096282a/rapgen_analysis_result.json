{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/e867a29ec1eb71a5841e452a4f2bf946c096282a",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/e867a29ec1eb71a5841e452a4f2bf946c096282a/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/e867a29ec1eb71a5841e452a4f2bf946c096282a/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/e867a29ec1eb71a5841e452a4f2bf946c096282a/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 102,
          "old_api": "av_mallocz",
          "new_api": "strlen",
          "old_text": "av_mallocz(len)",
          "new_text": "strlen(copy_value)",
          "old_line_content": "            char *newval = av_mallocz(len);",
          "new_line_content": "            size_t new_part_len = strlen(copy_value);",
          "content_same": false
        },
        {
          "line": 107,
          "old_api": "av_freep",
          "new_api": "memcpy",
          "old_text": "av_freep(&copy_value)",
          "new_text": "memcpy(newval + oldlen, copy_value, new_part_len + 1)",
          "old_line_content": "            av_freep(&copy_value);",
          "new_line_content": "            memcpy(newval + oldlen, copy_value, new_part_len + 1);",
          "content_same": false
        },
        {
          "line": 141,
          "old_api": "AVERROR",
          "new_api": "av_free",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "av_free(copy_value)",
          "old_line_content": "    return AVERROR(ENOMEM);",
          "new_line_content": "    av_free(copy_value);",
          "content_same": false
        },
        {
          "line": 219,
          "old_api": "av_dict_set",
          "new_api": "av_dict_get",
          "old_text": "av_dict_set(dst, t->key, t->value, flags)",
          "new_text": "av_dict_get(src, \"\", t, AV_DICT_IGNORE_SUFFIX)",
          "old_line_content": "        int ret = av_dict_set(dst, t->key, t->value, flags);",
          "new_line_content": "    while ((t = av_dict_get(src, \"\", t, AV_DICT_IGNORE_SUFFIX))) {",
          "content_same": false
        },
        {
          "line": 240,
          "old_api": "av_strdup",
          "new_api": "av_dict_count",
          "old_text": "av_strdup(\"\")",
          "new_text": "av_dict_count(m)",
          "old_line_content": "        *buffer = av_strdup(\"\");",
          "new_line_content": "    if (!av_dict_count(m)) {",
          "content_same": false
        },
        {
          "line": 241,
          "old_api": "AVERROR",
          "new_api": "av_strdup",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "av_strdup(\"\")",
          "old_line_content": "        return *buffer ? 0 : AVERROR(ENOMEM);",
          "new_line_content": "        *buffer = av_strdup(\"\");",
          "content_same": false
        },
        {
          "line": 245,
          "old_api": "av_dict_get",
          "new_api": "av_bprint_init",
          "old_text": "av_dict_get(m, \"\", t, AV_DICT_IGNORE_SUFFIX)",
          "new_text": "av_bprint_init(&bprint, 64, AV_BPRINT_SIZE_UNLIMITED)",
          "old_line_content": "    while ((t = av_dict_get(m, \"\", t, AV_DICT_IGNORE_SUFFIX))) {",
          "new_line_content": "    av_bprint_init(&bprint, 64, AV_BPRINT_SIZE_UNLIMITED);",
          "content_same": false
        },
        {
          "line": 248,
          "old_api": "av_bprint_escape",
          "new_api": "av_bprint_append_data",
          "old_text": "av_bprint_escape(&bprint, t->key, special_chars, AV_ESCAPE_MODE_BACKSLASH, 0)",
          "new_text": "av_bprint_append_data(&bprint, &pairs_sep, 1)",
          "old_line_content": "        av_bprint_escape(&bprint, t->key, special_chars, AV_ESCAPE_MODE_BACKSLASH, 0);",
          "new_line_content": "            av_bprint_append_data(&bprint, &pairs_sep, 1);",
          "content_same": false
        },
        {
          "line": 249,
          "old_api": "av_bprint_append_data",
          "new_api": "av_bprint_escape",
          "old_text": "av_bprint_append_data(&bprint, &key_val_sep, 1)",
          "new_text": "av_bprint_escape(&bprint, t->key, special_chars, AV_ESCAPE_MODE_BACKSLASH, 0)",
          "old_line_content": "        av_bprint_append_data(&bprint, &key_val_sep, 1);",
          "new_line_content": "        av_bprint_escape(&bprint, t->key, special_chars, AV_ESCAPE_MODE_BACKSLASH, 0);",
          "content_same": false
        },
        {
          "line": 250,
          "old_api": "av_bprint_escape",
          "new_api": "av_bprint_append_data",
          "old_text": "av_bprint_escape(&bprint, t->value, special_chars, AV_ESCAPE_MODE_BACKSLASH, 0)",
          "new_text": "av_bprint_append_data(&bprint, &key_val_sep, 1)",
          "old_line_content": "        av_bprint_escape(&bprint, t->value, special_chars, AV_ESCAPE_MODE_BACKSLASH, 0);",
          "new_line_content": "        av_bprint_append_data(&bprint, &key_val_sep, 1);",
          "content_same": false
        },
        {
          "line": 265,
          "old_api": "av_dict_set",
          "new_api": "av_strlcatf",
          "old_text": "av_dict_set(dict, key, buf, 0)",
          "new_text": "av_strlcatf(buf, sizeof(buf), \".%06dZ\", (int)(timestamp % 1000000))",
          "old_line_content": "        return av_dict_set(dict, key, buf, 0);",
          "new_line_content": "        av_strlcatf(buf, sizeof(buf), \".%06dZ\", (int)(timestamp % 1000000));",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 128,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(pm)",
          "old_line_content": "        }",
          "new_line_content": "            av_freep(pm);",
          "content_same": false
        },
        {
          "line": 130,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&copy_key)",
          "old_line_content": "    }",
          "new_line_content": "        av_freep(&copy_key);",
          "content_same": false
        },
        {
          "line": 260,
          "old_api": null,
          "new_api": "gmtime_r",
          "old_text": null,
          "new_text": "gmtime_r(&seconds, &tmbuf)",
          "old_line_content": "    if (ptm) {",
          "new_line_content": "    ptm = gmtime_r(&seconds, &tmbuf);",
          "content_same": false
        },
        {
          "line": 263,
          "old_api": null,
          "new_api": "strftime",
          "old_text": null,
          "new_text": "strftime(buf, sizeof(buf), \"%Y-%m-%dT%H:%M:%S\", ptm)",
          "old_line_content": "            return AVERROR_EXTERNAL;",
          "new_line_content": "        if (!strftime(buf, sizeof(buf), \"%Y-%m-%dT%H:%M:%S\", ptm))",
          "content_same": false
        },
        {
          "line": 138,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(pm)",
          "old_line_content": "    }",
          "new_line_content": "        av_freep(pm);",
          "content_same": false
        },
        {
          "line": 266,
          "old_api": null,
          "new_api": "av_dict_set",
          "old_text": null,
          "new_text": "av_dict_set(dict, key, buf, 0)",
          "old_line_content": "    } else {",
          "new_line_content": "        return av_dict_set(dict, key, buf, 0);",
          "content_same": false
        },
        {
          "line": 142,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "}",
          "new_line_content": "    return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 149,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(valuestr, sizeof(valuestr), \"%\"PRId64, value)",
          "old_line_content": "    flags &= ~AV_DICT_DONT_STRDUP_VAL;",
          "new_line_content": "    snprintf(valuestr, sizeof(valuestr), \"%\"PRId64, value);",
          "content_same": false
        },
        {
          "line": 151,
          "old_api": null,
          "new_api": "av_dict_set",
          "old_text": null,
          "new_text": "av_dict_set(pm, key, valuestr, flags)",
          "old_line_content": "}",
          "new_line_content": "    return av_dict_set(pm, key, valuestr, flags);",
          "content_same": false
        },
        {
          "line": 158,
          "old_api": null,
          "new_api": "av_get_token",
          "old_text": null,
          "new_text": "av_get_token(buf, key_val_sep)",
          "old_line_content": "    char *val = NULL;",
          "new_line_content": "    char *key = av_get_token(buf, key_val_sep);",
          "content_same": false
        },
        {
          "line": 162,
          "old_api": null,
          "new_api": "strspn",
          "old_text": null,
          "new_text": "strspn(*buf, key_val_sep)",
          "old_line_content": "        (*buf)++;",
          "new_line_content": "    if (key && *key && strspn(*buf, key_val_sep)) {",
          "content_same": false
        },
        {
          "line": 164,
          "old_api": null,
          "new_api": "av_get_token",
          "old_text": null,
          "new_text": "av_get_token(buf, pairs_sep)",
          "old_line_content": "    }",
          "new_line_content": "        val = av_get_token(buf, pairs_sep);",
          "content_same": false
        },
        {
          "line": 168,
          "old_api": null,
          "new_api": "av_dict_set",
          "old_text": null,
          "new_text": "av_dict_set(pm, key, val, flags)",
          "old_line_content": "    else",
          "new_line_content": "        ret = av_dict_set(pm, key, val, flags);",
          "content_same": false
        },
        {
          "line": 170,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "",
          "new_line_content": "        ret = AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 173,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&val)",
          "old_line_content": "",
          "new_line_content": "    av_freep(&val);",
          "content_same": false
        },
        {
          "line": 191,
          "old_api": null,
          "new_api": "parse_key_value_pair",
          "old_text": null,
          "new_text": "parse_key_value_pair(pm, &str, key_val_sep, pairs_sep, flags)",
          "old_line_content": "            return ret;",
          "new_line_content": "        if ((ret = parse_key_value_pair(pm, &str, key_val_sep, pairs_sep, flags)) < 0)",
          "content_same": false
        },
        {
          "line": 208,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&m->elems[m->count].value)",
          "old_line_content": "        }",
          "new_line_content": "            av_freep(&m->elems[m->count].value);",
          "content_same": false
        },
        {
          "line": 210,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&m->elems)",
          "old_line_content": "    }",
          "new_line_content": "        av_freep(&m->elems);",
          "content_same": false
        },
        {
          "line": 212,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(pm)",
          "old_line_content": "}",
          "new_line_content": "    av_freep(pm);",
          "content_same": false
        },
        {
          "line": 220,
          "old_api": null,
          "new_api": "av_dict_set",
          "old_text": null,
          "new_text": "av_dict_set(dst, t->key, t->value, flags)",
          "old_line_content": "        if (ret < 0)",
          "new_line_content": "        int ret = av_dict_set(dst, t->key, t->value, flags);",
          "content_same": false
        },
        {
          "line": 104,
          "old_api": null,
          "new_api": "av_realloc",
          "old_text": null,
          "new_text": "av_realloc(tag->value, len)",
          "old_line_content": "                goto err_out;",
          "new_line_content": "            char *newval = av_realloc(tag->value, len);",
          "content_same": false
        },
        {
          "line": 108,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&copy_value)",
          "old_line_content": "            copy_value = newval;",
          "new_line_content": "            av_freep(&copy_value);",
          "content_same": false
        },
        {
          "line": 238,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "",
          "new_line_content": "        return AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 112,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(tag->key)",
          "old_line_content": "        *tag = m->elems[--m->count];",
          "new_line_content": "        av_free(tag->key);",
          "content_same": false
        },
        {
          "line": 242,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    }",
          "new_line_content": "        return *buffer ? 0 : AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 115,
          "old_api": null,
          "new_api": "av_realloc_array",
          "old_text": null,
          "new_text": "av_realloc_array(m->elems,\n                                                  m->count + 1, sizeof(*m->elems))",
          "old_line_content": "                                                  m->count + 1, sizeof(*m->elems));",
          "new_line_content": "        AVDictionaryEntry *tmp = av_realloc_array(m->elems,",
          "content_same": false
        },
        {
          "line": 246,
          "old_api": null,
          "new_api": "av_dict_get",
          "old_text": null,
          "new_text": "av_dict_get(m, \"\", t, AV_DICT_IGNORE_SUFFIX)",
          "old_line_content": "        if (cnt++)",
          "new_line_content": "    while ((t = av_dict_get(m, \"\", t, AV_DICT_IGNORE_SUFFIX))) {",
          "content_same": false
        },
        {
          "line": 251,
          "old_api": null,
          "new_api": "av_bprint_escape",
          "old_text": null,
          "new_text": "av_bprint_escape(&bprint, t->value, special_chars, AV_ESCAPE_MODE_BACKSLASH, 0)",
          "old_line_content": "    }",
          "new_line_content": "        av_bprint_escape(&bprint, t->value, special_chars, AV_ESCAPE_MODE_BACKSLASH, 0);",
          "content_same": false
        },
        {
          "line": 253,
          "old_api": null,
          "new_api": "av_bprint_finalize",
          "old_text": null,
          "new_text": "av_bprint_finalize(&bprint, buffer)",
          "old_line_content": "}",
          "new_line_content": "    return av_bprint_finalize(&bprint, buffer);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 129,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&copy_key)",
          "new_text": null,
          "old_line_content": "        av_freep(&copy_key);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 259,
          "old_api": "gmtime_r",
          "new_api": null,
          "old_text": "gmtime_r(&seconds, &tmbuf)",
          "new_text": null,
          "old_line_content": "    ptm = gmtime_r(&seconds, &tmbuf);",
          "new_line_content": "    struct tm *ptm, tmbuf;",
          "content_same": false
        },
        {
          "line": 262,
          "old_api": "strftime",
          "new_api": null,
          "old_text": "strftime(buf, sizeof(buf), \"%Y-%m-%dT%H:%M:%S\", ptm)",
          "new_text": null,
          "old_line_content": "        if (!strftime(buf, sizeof(buf), \"%Y-%m-%dT%H:%M:%S\", ptm))",
          "new_line_content": "        char buf[32];",
          "content_same": false
        },
        {
          "line": 136,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&m->elems)",
          "new_text": null,
          "old_line_content": "        av_freep(&m->elems);",
          "new_line_content": "    if (m && !m->count) {",
          "content_same": false
        },
        {
          "line": 264,
          "old_api": "av_strlcatf",
          "new_api": null,
          "old_text": "av_strlcatf(buf, sizeof(buf), \".%06dZ\", (int)(timestamp % 1000000))",
          "new_text": null,
          "old_line_content": "        av_strlcatf(buf, sizeof(buf), \".%06dZ\", (int)(timestamp % 1000000));",
          "new_line_content": "            return AVERROR_EXTERNAL;",
          "content_same": false
        },
        {
          "line": 139,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(copy_key)",
          "new_text": null,
          "old_line_content": "    av_free(copy_key);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 148,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(valuestr, sizeof(valuestr), \"%\"PRId64, value)",
          "new_text": null,
          "old_line_content": "    snprintf(valuestr, sizeof(valuestr), \"%\"PRId64, value);",
          "new_line_content": "    char valuestr[22];",
          "content_same": false
        },
        {
          "line": 150,
          "old_api": "av_dict_set",
          "new_api": null,
          "old_text": "av_dict_set(pm, key, valuestr, flags)",
          "new_text": null,
          "old_line_content": "    return av_dict_set(pm, key, valuestr, flags);",
          "new_line_content": "    flags &= ~AV_DICT_DONT_STRDUP_VAL;",
          "content_same": false
        },
        {
          "line": 157,
          "old_api": "av_get_token",
          "new_api": null,
          "old_text": "av_get_token(buf, key_val_sep)",
          "new_text": null,
          "old_line_content": "    char *key = av_get_token(buf, key_val_sep);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 161,
          "old_api": "strspn",
          "new_api": null,
          "old_text": "strspn(*buf, key_val_sep)",
          "new_text": null,
          "old_line_content": "    if (key && *key && strspn(*buf, key_val_sep)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 163,
          "old_api": "av_get_token",
          "new_api": null,
          "old_text": "av_get_token(buf, pairs_sep)",
          "new_text": null,
          "old_line_content": "        val = av_get_token(buf, pairs_sep);",
          "new_line_content": "        (*buf)++;",
          "content_same": false
        },
        {
          "line": 167,
          "old_api": "av_dict_set",
          "new_api": null,
          "old_text": "av_dict_set(pm, key, val, flags)",
          "new_text": null,
          "old_line_content": "        ret = av_dict_set(pm, key, val, flags);",
          "new_line_content": "    if (key && *key && val && *val)",
          "content_same": false
        },
        {
          "line": 169,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(EINVAL)",
          "new_text": null,
          "old_line_content": "        ret = AVERROR(EINVAL);",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 171,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&key)",
          "new_text": null,
          "old_line_content": "    av_freep(&key);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 190,
          "old_api": "parse_key_value_pair",
          "new_api": null,
          "old_text": "parse_key_value_pair(pm, &str, key_val_sep, pairs_sep, flags)",
          "new_text": null,
          "old_line_content": "        if ((ret = parse_key_value_pair(pm, &str, key_val_sep, pairs_sep, flags)) < 0)",
          "new_line_content": "    while (*str) {",
          "content_same": false
        },
        {
          "line": 206,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&m->elems[m->count].key)",
          "new_text": null,
          "old_line_content": "            av_freep(&m->elems[m->count].key);",
          "new_line_content": "        while (m->count--) {",
          "content_same": false
        },
        {
          "line": 209,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&m->elems)",
          "new_text": null,
          "old_line_content": "        av_freep(&m->elems);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 211,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(pm)",
          "new_text": null,
          "old_line_content": "    av_freep(pm);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 218,
          "old_api": "av_dict_get",
          "new_api": null,
          "old_text": "av_dict_get(src, \"\", t, AV_DICT_IGNORE_SUFFIX)",
          "new_text": null,
          "old_line_content": "    while ((t = av_dict_get(src, \"\", t, AV_DICT_IGNORE_SUFFIX))) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 105,
          "old_api": "av_strlcat",
          "new_api": null,
          "old_text": "av_strlcat(newval, tag->value, len)",
          "new_text": null,
          "old_line_content": "            av_strlcat(newval, tag->value, len);",
          "new_line_content": "            if (!newval)",
          "content_same": false
        },
        {
          "line": 106,
          "old_api": "av_strlcat",
          "new_api": null,
          "old_text": "av_strlcat(newval, copy_value, len)",
          "new_text": null,
          "old_line_content": "            av_strlcat(newval, copy_value, len);",
          "new_line_content": "                goto err_out;",
          "content_same": false
        },
        {
          "line": 237,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(EINVAL)",
          "new_text": null,
          "old_line_content": "        return AVERROR(EINVAL);",
          "new_line_content": "        pairs_sep == '\\\\' || key_val_sep == '\\\\')",
          "content_same": false
        },
        {
          "line": 110,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(tag->value)",
          "new_text": null,
          "old_line_content": "        av_free(tag->value);",
          "new_line_content": "        } else",
          "content_same": false
        },
        {
          "line": 239,
          "old_api": "av_dict_count",
          "new_api": null,
          "old_text": "av_dict_count(m)",
          "new_text": null,
          "old_line_content": "    if (!av_dict_count(m)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 114,
          "old_api": "av_realloc_array",
          "new_api": null,
          "old_text": "av_realloc_array(m->elems,\n                                                  m->count + 1, sizeof(*m->elems))",
          "new_text": null,
          "old_line_content": "        AVDictionaryEntry *tmp = av_realloc_array(m->elems,",
          "new_line_content": "    } else if (copy_value) {",
          "content_same": false
        },
        {
          "line": 244,
          "old_api": "av_bprint_init",
          "new_api": null,
          "old_text": "av_bprint_init(&bprint, 64, AV_BPRINT_SIZE_UNLIMITED)",
          "new_text": null,
          "old_line_content": "    av_bprint_init(&bprint, 64, AV_BPRINT_SIZE_UNLIMITED);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 247,
          "old_api": "av_bprint_append_data",
          "new_api": null,
          "old_text": "av_bprint_append_data(&bprint, &pairs_sep, 1)",
          "new_text": null,
          "old_line_content": "            av_bprint_append_data(&bprint, &pairs_sep, 1);",
          "new_line_content": "        if (cnt++)",
          "content_same": false
        },
        {
          "line": 252,
          "old_api": "av_bprint_finalize",
          "new_api": null,
          "old_text": "av_bprint_finalize(&bprint, buffer)",
          "new_text": null,
          "old_line_content": "    return av_bprint_finalize(&bprint, buffer);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 126,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&m->elems)",
          "new_text": null,
          "old_line_content": "            av_freep(&m->elems);",
          "new_line_content": "        if (!m->count) {",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 11,
      "total_additions": 29,
      "total_deletions": 29,
      "total_api_changes": 69
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 10,
        "api_related_lines": 69,
        "non_api_lines": 4,
        "non_api_line_numbers": [
          109,
          111,
          101,
          103
        ]
      }
    },
    "api_calls_before": 56,
    "api_calls_after": 55,
    "diff_info": {
      "added_lines": 7,
      "removed_lines": 6,
      "total_diff_lines": 29
    }
  }
}