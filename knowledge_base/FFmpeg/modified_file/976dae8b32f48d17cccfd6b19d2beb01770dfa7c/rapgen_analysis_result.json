{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/976dae8b32f48d17cccfd6b19d2beb01770dfa7c",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/976dae8b32f48d17cccfd6b19d2beb01770dfa7c/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/976dae8b32f48d17cccfd6b19d2beb01770dfa7c/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/976dae8b32f48d17cccfd6b19d2beb01770dfa7c/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 63,
          "old_api": "bytestream2_get_le16",
          "new_api": "ff_get_buffer",
          "old_text": "bytestream2_get_le16(&gb)",
          "new_text": "ff_get_buffer(avctx, frame, AV_GET_BUFFER_FLAG_REF)",
          "old_line_content": "    blocks = bytestream2_get_le16(&gb);",
          "new_line_content": "    if ((ret = ff_get_buffer(avctx, frame, AV_GET_BUFFER_FLAG_REF)) < 0)",
          "content_same": false
        },
        {
          "line": 71,
          "old_api": "bytestream2_get_le16",
          "new_api": "bytestream2_get_le24",
          "old_text": "bytestream2_get_le16(&gb)",
          "new_text": "bytestream2_get_le24(&gb)",
          "old_line_content": "            size = bytestream2_get_le16(&gb);",
          "new_line_content": "            size = bytestream2_get_le24(&gb);",
          "content_same": false
        },
        {
          "line": 73,
          "old_api": "bytestream2_get_byte",
          "new_api": "bytestream2_get_le16",
          "old_text": "bytestream2_get_byte(&gb)",
          "new_text": "bytestream2_get_le16(&gb)",
          "old_line_content": "            size = bytestream2_get_byte(&gb);",
          "new_line_content": "            size = bytestream2_get_le16(&gb);",
          "content_same": false
        },
        {
          "line": 75,
          "old_api": "bytestream2_tell",
          "new_api": "bytestream2_get_byte",
          "old_text": "bytestream2_tell(&gb)",
          "new_text": "bytestream2_get_byte(&gb)",
          "old_line_content": "        skip = bytestream2_tell(&gb);",
          "new_line_content": "            size = bytestream2_get_byte(&gb);",
          "content_same": false
        },
        {
          "line": 86,
          "old_api": "av_log",
          "new_api": "inflate",
          "old_text": "av_log(avctx, AV_LOG_ERROR,\n                   \"Inflate failed with return code: %d.\\n\", zret)",
          "new_text": "inflate(&s->zstream, Z_FINISH)",
          "old_line_content": "            av_log(avctx, AV_LOG_ERROR,",
          "new_line_content": "        zret = inflate(&s->zstream, Z_FINISH);",
          "content_same": false
        },
        {
          "line": 93,
          "old_api": "av_log",
          "new_api": "inflateReset",
          "old_text": "av_log(avctx, AV_LOG_ERROR, \"Inflate reset error: %d\\n\", ret)",
          "new_text": "inflateReset(&s->zstream)",
          "old_line_content": "            av_log(avctx, AV_LOG_ERROR, \"Inflate reset error: %d\\n\", ret);",
          "new_line_content": "        ret = inflateReset(&s->zstream);",
          "content_same": false
        },
        {
          "line": 105,
          "old_api": "bytestream2_get_le16",
          "new_api": "bytestream2_skip",
          "old_text": "bytestream2_get_le16(&bgb)",
          "new_text": "bytestream2_skip(&bgb, 4)",
          "old_line_content": "            h = bytestream2_get_le16(&bgb);",
          "new_line_content": "            bytestream2_skip(&bgb, 4);",
          "content_same": false
        },
        {
          "line": 118,
          "old_api": "bytestream2_tell",
          "new_api": "bytestream2_skip",
          "old_text": "bytestream2_tell(&gb)",
          "new_text": "bytestream2_skip(&gb, 1)",
          "old_line_content": "        skip = bytestream2_tell(&gb);",
          "new_line_content": "            bytestream2_skip(&gb, 1);",
          "content_same": false
        },
        {
          "line": 134,
          "old_api": "bytestream2_get_le16",
          "new_api": "bytestream2_skip",
          "old_text": "bytestream2_get_le16(&gb)",
          "new_text": "bytestream2_skip(&gb, 4)",
          "old_line_content": "            h = bytestream2_get_le16(&gb);",
          "new_line_content": "            bytestream2_skip(&gb, 4);",
          "content_same": false
        },
        {
          "line": 147,
          "old_api": "bytestream2_tell",
          "new_api": "bytestream2_skip",
          "old_text": "bytestream2_tell(&gb)",
          "new_text": "bytestream2_skip(&gb, 1)",
          "old_line_content": "        skip = bytestream2_tell(&gb);",
          "new_line_content": "            bytestream2_skip(&gb, 1);",
          "content_same": false
        },
        {
          "line": 189,
          "old_api": "av_log",
          "new_api": "inflate",
          "old_text": "av_log(avctx, AV_LOG_ERROR,\n                       \"Inflate failed with return code: %d.\\n\", zret)",
          "new_text": "inflate(&s->zstream, Z_SYNC_FLUSH)",
          "old_line_content": "                av_log(avctx, AV_LOG_ERROR,",
          "new_line_content": "            zret = inflate(&s->zstream, Z_SYNC_FLUSH);",
          "content_same": false
        },
        {
          "line": 231,
          "old_api": "av_log",
          "new_api": "inflateInit",
          "old_text": "av_log(avctx, AV_LOG_ERROR, \"Inflate init error: %d\\n\", zret)",
          "new_text": "inflateInit(&s->zstream)",
          "old_line_content": "        av_log(avctx, AV_LOG_ERROR, \"Inflate init error: %d\\n\", zret);",
          "new_line_content": "    zret = inflateInit(&s->zstream);",
          "content_same": false
        },
        {
          "line": 237,
          "old_api": "AVERROR",
          "new_api": "av_frame_alloc",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "av_frame_alloc()",
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "    s->prev_frame = av_frame_alloc();",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 256,
          "old_api": null,
          "new_api": "NULL_IF_CONFIG_SMALL",
          "old_text": null,
          "new_text": "NULL_IF_CONFIG_SMALL(\"WinCAM Motion Video\")",
          "old_line_content": "    .id               = AV_CODEC_ID_WCMV,",
          "new_line_content": "    .long_name        = NULL_IF_CONFIG_SMALL(\"WinCAM Motion Video\"),",
          "content_same": false
        },
        {
          "line": 129,
          "old_api": null,
          "new_api": "bytestream2_seek",
          "old_text": null,
          "new_text": "bytestream2_seek(&gb, 2, SEEK_SET)",
          "old_line_content": "        for (int i = 0; i < blocks; i++) {",
          "new_line_content": "        bytestream2_seek(&gb, 2, SEEK_SET);",
          "content_same": false
        },
        {
          "line": 135,
          "old_api": null,
          "new_api": "bytestream2_get_le16",
          "old_text": null,
          "new_text": "bytestream2_get_le16(&gb)",
          "old_line_content": "            if (x + bpp * (int64_t)w * h > INT_MAX)",
          "new_line_content": "            w = bytestream2_get_le16(&gb);",
          "content_same": false
        },
        {
          "line": 136,
          "old_api": null,
          "new_api": "bytestream2_get_le16",
          "old_text": null,
          "new_text": "bytestream2_get_le16(&gb)",
          "old_line_content": "                return AVERROR_INVALIDDATA;",
          "new_line_content": "            h = bytestream2_get_le16(&gb);",
          "content_same": false
        },
        {
          "line": 149,
          "old_api": null,
          "new_api": "bytestream2_tell",
          "old_text": null,
          "new_text": "bytestream2_tell(&gb)",
          "old_line_content": "        s->zstream.next_in  = avpkt->data + skip;",
          "new_line_content": "        skip = bytestream2_tell(&gb);",
          "content_same": false
        },
        {
          "line": 154,
          "old_api": null,
          "new_api": "bytestream2_seek",
          "old_text": null,
          "new_text": "bytestream2_seek(&gb, 2, SEEK_SET)",
          "old_line_content": "",
          "new_line_content": "        bytestream2_seek(&gb, 2, SEEK_SET);",
          "content_same": false
        },
        {
          "line": 158,
          "old_api": null,
          "new_api": "av_frame_copy",
          "old_text": null,
          "new_text": "av_frame_copy(frame, s->prev_frame)",
          "old_line_content": "            return ret;",
          "new_line_content": "        ret = av_frame_copy(frame, s->prev_frame);",
          "content_same": false
        },
        {
          "line": 163,
          "old_api": null,
          "new_api": "av_image_fill_black",
          "old_text": null,
          "new_text": "av_image_fill_black(frame->data, linesize, avctx->pix_fmt, 0,\n                            avctx->width, avctx->height)",
          "old_line_content": "    }",
          "new_line_content": "        av_image_fill_black(frame->data, linesize, avctx->pix_fmt, 0,",
          "content_same": false
        },
        {
          "line": 172,
          "old_api": null,
          "new_api": "bytestream2_get_le16",
          "old_text": null,
          "new_text": "bytestream2_get_le16(&gb)",
          "old_line_content": "",
          "new_line_content": "        w = bytestream2_get_le16(&gb);",
          "content_same": false
        },
        {
          "line": 173,
          "old_api": null,
          "new_api": "bytestream2_get_le16",
          "old_text": null,
          "new_text": "bytestream2_get_le16(&gb)",
          "old_line_content": "        if (blocks == 1 && x == 0 && y == 0 && w == avctx->width && h == avctx->height)",
          "new_line_content": "        h = bytestream2_get_le16(&gb);",
          "content_same": false
        },
        {
          "line": 59,
          "old_api": null,
          "new_api": "bytestream2_get_le16",
          "old_text": null,
          "new_text": "bytestream2_get_le16(&gb)",
          "old_line_content": "",
          "new_line_content": "    blocks = bytestream2_get_le16(&gb);",
          "content_same": false
        },
        {
          "line": 191,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR,\n                       \"Inflate failed with return code: %d.\\n\", zret)",
          "old_line_content": "                return AVERROR_INVALIDDATA;",
          "new_line_content": "                av_log(avctx, AV_LOG_ERROR,",
          "content_same": false
        },
        {
          "line": 203,
          "old_api": null,
          "new_api": "av_frame_unref",
          "old_text": null,
          "new_text": "av_frame_unref(s->prev_frame)",
          "old_line_content": "        return ret;",
          "new_line_content": "    av_frame_unref(s->prev_frame);",
          "content_same": false
        },
        {
          "line": 204,
          "old_api": null,
          "new_api": "av_frame_ref",
          "old_text": null,
          "new_text": "av_frame_ref(s->prev_frame, frame)",
          "old_line_content": "",
          "new_line_content": "    if ((ret = av_frame_ref(s->prev_frame, frame)) < 0)",
          "content_same": false
        },
        {
          "line": 77,
          "old_api": null,
          "new_api": "bytestream2_tell",
          "old_text": null,
          "new_text": "bytestream2_tell(&gb)",
          "old_line_content": "            return AVERROR_INVALIDDATA;",
          "new_line_content": "        skip = bytestream2_tell(&gb);",
          "content_same": false
        },
        {
          "line": 88,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR,\n                   \"Inflate failed with return code: %d.\\n\", zret)",
          "old_line_content": "            return AVERROR_INVALIDDATA;",
          "new_line_content": "            av_log(avctx, AV_LOG_ERROR,",
          "content_same": false
        },
        {
          "line": 120,
          "old_api": null,
          "new_api": "bytestream2_tell",
          "old_text": null,
          "new_text": "bytestream2_tell(&gb)",
          "old_line_content": "        s->zstream.next_in  = avpkt->data + skip;",
          "new_line_content": "        skip = bytestream2_tell(&gb);",
          "content_same": false
        },
        {
          "line": 221,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR, \"Unsupported bits_per_coded_sample: %d\\n\",\n                    avctx->bits_per_coded_sample)",
          "old_line_content": "             return AVERROR_PATCHWELCOME;",
          "new_line_content": "    default: av_log(avctx, AV_LOG_ERROR, \"Unsupported bits_per_coded_sample: %d\\n\",",
          "content_same": false
        },
        {
          "line": 95,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR, \"Inflate reset error: %d\\n\", ret)",
          "old_line_content": "        }",
          "new_line_content": "            av_log(avctx, AV_LOG_ERROR, \"Inflate reset error: %d\\n\", ret);",
          "content_same": false
        },
        {
          "line": 99,
          "old_api": null,
          "new_api": "bytestream2_skip",
          "old_text": null,
          "new_text": "bytestream2_skip(&gb, size)",
          "old_line_content": "",
          "new_line_content": "        bytestream2_skip(&gb, size);",
          "content_same": false
        },
        {
          "line": 100,
          "old_api": null,
          "new_api": "bytestream2_init",
          "old_text": null,
          "new_text": "bytestream2_init(&bgb, s->block_data, blocks * 8)",
          "old_line_content": "        for (int i = 0; i < blocks; i++) {",
          "new_line_content": "        bytestream2_init(&bgb, s->block_data, blocks * 8);",
          "content_same": false
        },
        {
          "line": 233,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR, \"Inflate init error: %d\\n\", zret)",
          "old_line_content": "    }",
          "new_line_content": "        av_log(avctx, AV_LOG_ERROR, \"Inflate init error: %d\\n\", zret);",
          "content_same": false
        },
        {
          "line": 106,
          "old_api": null,
          "new_api": "bytestream2_get_le16",
          "old_text": null,
          "new_text": "bytestream2_get_le16(&bgb)",
          "old_line_content": "            if (x + bpp * (int64_t)w * h > INT_MAX)",
          "new_line_content": "            w = bytestream2_get_le16(&bgb);",
          "content_same": false
        },
        {
          "line": 107,
          "old_api": null,
          "new_api": "bytestream2_get_le16",
          "old_text": null,
          "new_text": "bytestream2_get_le16(&bgb)",
          "old_line_content": "                return AVERROR_INVALIDDATA;",
          "new_line_content": "            h = bytestream2_get_le16(&bgb);",
          "content_same": false
        },
        {
          "line": 239,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    return 0;",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 248,
          "old_api": null,
          "new_api": "av_frame_free",
          "old_text": null,
          "new_text": "av_frame_free(&s->prev_frame)",
          "old_line_content": "",
          "new_line_content": "    av_frame_free(&s->prev_frame);",
          "content_same": false
        },
        {
          "line": 249,
          "old_api": null,
          "new_api": "inflateEnd",
          "old_text": null,
          "new_text": "inflateEnd(&s->zstream)",
          "old_line_content": "    return 0;",
          "new_line_content": "    inflateEnd(&s->zstream);",
          "content_same": false
        },
        {
          "line": 125,
          "old_api": null,
          "new_api": "bytestream2_init",
          "old_text": null,
          "new_text": "bytestream2_init(&gb, s->block_data, blocks * 8)",
          "old_line_content": "        int x = 0;",
          "new_line_content": "        bytestream2_init(&gb, s->block_data, blocks * 8);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 132,
          "old_api": "bytestream2_skip",
          "new_api": null,
          "old_text": "bytestream2_skip(&gb, 4)",
          "new_text": null,
          "old_line_content": "            bytestream2_skip(&gb, 4);",
          "new_line_content": "            int w, h;",
          "content_same": false
        },
        {
          "line": 133,
          "old_api": "bytestream2_get_le16",
          "new_api": null,
          "old_text": "bytestream2_get_le16(&gb)",
          "new_text": null,
          "old_line_content": "            w = bytestream2_get_le16(&gb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 141,
          "old_api": "bytestream2_skip",
          "new_api": null,
          "old_text": "bytestream2_skip(&gb, 3)",
          "new_text": null,
          "old_line_content": "            bytestream2_skip(&gb, 3);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 152,
          "old_api": "bytestream2_seek",
          "new_api": null,
          "old_text": "bytestream2_seek(&gb, 2, SEEK_SET)",
          "new_text": null,
          "old_line_content": "        bytestream2_seek(&gb, 2, SEEK_SET);",
          "new_line_content": "        s->zstream.avail_in = avpkt->size - skip;",
          "content_same": false
        },
        {
          "line": 156,
          "old_api": "av_frame_copy",
          "new_api": null,
          "old_text": "av_frame_copy(frame, s->prev_frame)",
          "new_text": null,
          "old_line_content": "        ret = av_frame_copy(frame, s->prev_frame);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 161,
          "old_api": "av_image_fill_black",
          "new_api": null,
          "old_text": "av_image_fill_black(frame->data, linesize, avctx->pix_fmt, 0,\n                            avctx->width, avctx->height)",
          "new_text": null,
          "old_line_content": "        av_image_fill_black(frame->data, linesize, avctx->pix_fmt, 0,",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 168,
          "old_api": "bytestream2_get_le16",
          "new_api": null,
          "old_text": "bytestream2_get_le16(&gb)",
          "new_text": null,
          "old_line_content": "        x = bytestream2_get_le16(&gb);",
          "new_line_content": "        int x, y, w, h;",
          "content_same": false
        },
        {
          "line": 169,
          "old_api": "bytestream2_get_le16",
          "new_api": null,
          "old_text": "bytestream2_get_le16(&gb)",
          "new_text": null,
          "old_line_content": "        y = bytestream2_get_le16(&gb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 187,
          "old_api": "inflate",
          "new_api": null,
          "old_text": "inflate(&s->zstream, Z_SYNC_FLUSH)",
          "new_text": null,
          "old_line_content": "            zret = inflate(&s->zstream, Z_SYNC_FLUSH);",
          "new_line_content": "            s->zstream.avail_out = w * bpp;",
          "content_same": false
        },
        {
          "line": 60,
          "old_api": "ff_get_buffer",
          "new_api": null,
          "old_text": "ff_get_buffer(avctx, frame, AV_GET_BUFFER_FLAG_REF)",
          "new_text": null,
          "old_line_content": "    if ((ret = ff_get_buffer(avctx, frame, AV_GET_BUFFER_FLAG_REF)) < 0)",
          "new_line_content": "    if (!blocks)",
          "content_same": false
        },
        {
          "line": 69,
          "old_api": "bytestream2_get_le24",
          "new_api": null,
          "old_text": "bytestream2_get_le24(&gb)",
          "new_text": null,
          "old_line_content": "            size = bytestream2_get_le24(&gb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 201,
          "old_api": "av_frame_unref",
          "new_api": null,
          "old_text": "av_frame_unref(s->prev_frame)",
          "new_text": null,
          "old_line_content": "    av_frame_unref(s->prev_frame);",
          "new_line_content": "    frame->pict_type = intra ? AV_PICTURE_TYPE_I : AV_PICTURE_TYPE_P;",
          "content_same": false
        },
        {
          "line": 202,
          "old_api": "av_frame_ref",
          "new_api": null,
          "old_text": "av_frame_ref(s->prev_frame, frame)",
          "new_text": null,
          "old_line_content": "    if ((ret = av_frame_ref(s->prev_frame, frame)) < 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 84,
          "old_api": "inflate",
          "new_api": null,
          "old_text": "inflate(&s->zstream, Z_FINISH)",
          "new_text": null,
          "old_line_content": "        zret = inflate(&s->zstream, Z_FINISH);",
          "new_line_content": "        s->zstream.avail_out = sizeof(s->block_data);",
          "content_same": false
        },
        {
          "line": 91,
          "old_api": "inflateReset",
          "new_api": null,
          "old_text": "inflateReset(&s->zstream)",
          "new_text": null,
          "old_line_content": "        ret = inflateReset(&s->zstream);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 219,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_ERROR, \"Unsupported bits_per_coded_sample: %d\\n\",\n                    avctx->bits_per_coded_sample)",
          "new_text": null,
          "old_line_content": "    default: av_log(avctx, AV_LOG_ERROR, \"Unsupported bits_per_coded_sample: %d\\n\",",
          "new_line_content": "    case 24: avctx->pix_fmt = AV_PIX_FMT_BGR24;  break;",
          "content_same": false
        },
        {
          "line": 97,
          "old_api": "bytestream2_skip",
          "new_api": null,
          "old_text": "bytestream2_skip(&gb, size)",
          "new_text": null,
          "old_line_content": "        bytestream2_skip(&gb, size);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 98,
          "old_api": "bytestream2_init",
          "new_api": null,
          "old_text": "bytestream2_init(&bgb, s->block_data, blocks * 8)",
          "new_text": null,
          "old_line_content": "        bytestream2_init(&bgb, s->block_data, blocks * 8);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 229,
          "old_api": "inflateInit",
          "new_api": null,
          "old_text": "inflateInit(&s->zstream)",
          "new_text": null,
          "old_line_content": "    zret = inflateInit(&s->zstream);",
          "new_line_content": "    s->zstream.zfree = Z_NULL;",
          "content_same": false
        },
        {
          "line": 103,
          "old_api": "bytestream2_skip",
          "new_api": null,
          "old_text": "bytestream2_skip(&bgb, 4)",
          "new_text": null,
          "old_line_content": "            bytestream2_skip(&bgb, 4);",
          "new_line_content": "            int w, h;",
          "content_same": false
        },
        {
          "line": 104,
          "old_api": "bytestream2_get_le16",
          "new_api": null,
          "old_text": "bytestream2_get_le16(&bgb)",
          "new_text": null,
          "old_line_content": "            w = bytestream2_get_le16(&bgb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 235,
          "old_api": "av_frame_alloc",
          "new_api": null,
          "old_text": "av_frame_alloc()",
          "new_text": null,
          "old_line_content": "    s->prev_frame = av_frame_alloc();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 112,
          "old_api": "bytestream2_skip",
          "new_api": null,
          "old_text": "bytestream2_skip(&gb, 3)",
          "new_text": null,
          "old_line_content": "            bytestream2_skip(&gb, 3);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 246,
          "old_api": "av_frame_free",
          "new_api": null,
          "old_text": "av_frame_free(&s->prev_frame)",
          "new_text": null,
          "old_line_content": "    av_frame_free(&s->prev_frame);",
          "new_line_content": "    WCMVContext *s = avctx->priv_data;",
          "content_same": false
        },
        {
          "line": 247,
          "old_api": "inflateEnd",
          "new_api": null,
          "old_text": "inflateEnd(&s->zstream)",
          "new_text": null,
          "old_line_content": "    inflateEnd(&s->zstream);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 123,
          "old_api": "bytestream2_init",
          "new_api": null,
          "old_text": "bytestream2_init(&gb, s->block_data, blocks * 8)",
          "new_text": null,
          "old_line_content": "        bytestream2_init(&gb, s->block_data, blocks * 8);",
          "new_line_content": "        s->zstream.avail_in = avpkt->size - skip;",
          "content_same": false
        },
        {
          "line": 254,
          "old_api": "NULL_IF_CONFIG_SMALL",
          "new_api": null,
          "old_text": "NULL_IF_CONFIG_SMALL(\"WinCAM Motion Video\")",
          "new_text": null,
          "old_line_content": "    .long_name        = NULL_IF_CONFIG_SMALL(\"WinCAM Motion Video\"),",
          "new_line_content": "AVCodec ff_wcmv_decoder = {",
          "content_same": false
        },
        {
          "line": 127,
          "old_api": "bytestream2_seek",
          "new_api": null,
          "old_text": "bytestream2_seek(&gb, 2, SEEK_SET)",
          "new_text": null,
          "old_line_content": "        bytestream2_seek(&gb, 2, SEEK_SET);",
          "new_line_content": "        int x = 0;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 13,
      "total_additions": 28,
      "total_deletions": 28,
      "total_api_changes": 69
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 4,
        "api_related_lines": 69,
        "non_api_lines": 1,
        "non_api_line_numbers": [
          61
        ]
      }
    },
    "api_calls_before": 50,
    "api_calls_after": 50,
    "diff_info": {
      "added_lines": 3,
      "removed_lines": 1,
      "total_diff_lines": 20
    }
  }
}