{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/5bd12d1277171f75c1bcd14ab795742171f196af",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/5bd12d1277171f75c1bcd14ab795742171f196af/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/5bd12d1277171f75c1bcd14ab795742171f196af/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/5bd12d1277171f75c1bcd14ab795742171f196af/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 965,
          "old_api": "RESTORE_BITS",
          "new_api": "SAVE_BITS",
          "old_text": "RESTORE_BITS(&s->gb)",
          "new_text": "SAVE_BITS(&s->gb)",
          "old_line_content": "            RESTORE_BITS(&s->gb);",
          "new_line_content": "        SAVE_BITS(&s->gb);",
          "content_same": false
        },
        {
          "line": 1044,
          "old_api": "RESTORE_BITS",
          "new_api": "SAVE_BITS",
          "old_text": "RESTORE_BITS(&s->gb)",
          "new_text": "SAVE_BITS(&s->gb)",
          "old_line_content": "            RESTORE_BITS(&s->gb);",
          "new_line_content": "        SAVE_BITS(&s->gb);",
          "content_same": false
        },
        {
          "line": 1065,
          "old_api": "get_bits1",
          "new_api": "get_bits",
          "old_text": "get_bits1(&s->gb)",
          "new_text": "get_bits(&s->gb, 6)",
          "old_line_content": "            if (get_bits1(&s->gb))",
          "new_line_content": "            run = get_bits(&s->gb, 6);",
          "content_same": false
        },
        {
          "line": 1144,
          "old_api": "get_bits1",
          "new_api": "get_bits",
          "old_text": "get_bits1(&s->gb)",
          "new_text": "get_bits(&s->gb, 6)",
          "old_line_content": "            if (get_bits1(&s->gb))",
          "new_line_content": "            run = get_bits(&s->gb, 6);",
          "content_same": false
        },
        {
          "line": 1269,
          "old_api": "get_bits",
          "new_api": "get_bits1",
          "old_text": "get_bits(&s->gb, 12)",
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "    bit_rate_ext = get_bits(&s->gb, 12);  /* XXX: handle it */",
          "new_line_content": "    s->progressive_sequence = get_bits1(&s->gb); /* progressive_sequence */",
          "content_same": false
        },
        {
          "line": 1271,
          "old_api": "skip_bits1",
          "new_api": "get_bits",
          "old_text": "skip_bits1(&s->gb)",
          "new_text": "get_bits(&s->gb, 2)",
          "old_line_content": "    skip_bits1(&s->gb); /* marker */",
          "new_line_content": "    horiz_size_ext = get_bits(&s->gb, 2);",
          "content_same": false
        },
        {
          "line": 1278,
          "old_api": "dprintf",
          "new_api": "get_bits",
          "old_text": "dprintf(\"sequence extension\\n\")",
          "new_text": "get_bits(&s->gb, 8)",
          "old_line_content": "    dprintf(\"sequence extension\\n\");",
          "new_line_content": "    vbv_buf_ext = get_bits(&s->gb, 8);",
          "content_same": false
        },
        {
          "line": 1296,
          "old_api": "get_bits1",
          "new_api": "get_bits",
          "old_text": "get_bits1(&s->gb)",
          "new_text": "get_bits(&s->gb, 8)",
          "old_line_content": "    if (get_bits1(&s->gb)) {",
          "new_line_content": "            v = get_bits(&s->gb, 8);",
          "content_same": false
        },
        {
          "line": 1304,
          "old_api": "get_bits1",
          "new_api": "get_bits",
          "old_text": "get_bits1(&s->gb)",
          "new_text": "get_bits(&s->gb, 8)",
          "old_line_content": "    if (get_bits1(&s->gb)) {",
          "new_line_content": "            v = get_bits(&s->gb, 8);",
          "content_same": false
        },
        {
          "line": 1329,
          "old_api": "get_bits1",
          "new_api": "get_bits",
          "old_text": "get_bits1(&s->gb)",
          "new_text": "get_bits(&s->gb, 4)",
          "old_line_content": "    s->top_field_first = get_bits1(&s->gb);",
          "new_line_content": "    s->mpeg_f_code[0][0] = get_bits(&s->gb, 4);",
          "content_same": false
        },
        {
          "line": 1330,
          "old_api": "get_bits1",
          "new_api": "get_bits",
          "old_text": "get_bits1(&s->gb)",
          "new_text": "get_bits(&s->gb, 4)",
          "old_line_content": "    s->frame_pred_frame_dct = get_bits1(&s->gb);",
          "new_line_content": "    s->mpeg_f_code[0][1] = get_bits(&s->gb, 4);",
          "content_same": false
        },
        {
          "line": 1331,
          "old_api": "get_bits1",
          "new_api": "get_bits",
          "old_text": "get_bits1(&s->gb)",
          "new_text": "get_bits(&s->gb, 4)",
          "old_line_content": "    s->concealment_motion_vectors = get_bits1(&s->gb);",
          "new_line_content": "    s->mpeg_f_code[1][0] = get_bits(&s->gb, 4);",
          "content_same": false
        },
        {
          "line": 1332,
          "old_api": "get_bits1",
          "new_api": "get_bits",
          "old_text": "get_bits1(&s->gb)",
          "new_text": "get_bits(&s->gb, 4)",
          "old_line_content": "    s->q_scale_type = get_bits1(&s->gb);",
          "new_line_content": "    s->mpeg_f_code[1][1] = get_bits(&s->gb, 4);",
          "content_same": false
        },
        {
          "line": 1333,
          "old_api": "get_bits1",
          "new_api": "get_bits",
          "old_text": "get_bits1(&s->gb)",
          "new_text": "get_bits(&s->gb, 2)",
          "old_line_content": "    s->intra_vlc_format = get_bits1(&s->gb);",
          "new_line_content": "    s->intra_dc_precision = get_bits(&s->gb, 2);",
          "content_same": false
        },
        {
          "line": 1334,
          "old_api": "get_bits1",
          "new_api": "get_bits",
          "old_text": "get_bits1(&s->gb)",
          "new_text": "get_bits(&s->gb, 2)",
          "old_line_content": "    s->alternate_scan = get_bits1(&s->gb);",
          "new_line_content": "    s->picture_structure = get_bits(&s->gb, 2);",
          "content_same": false
        },
        {
          "line": 1339,
          "old_api": "dprintf",
          "new_api": "get_bits1",
          "old_text": "dprintf(\"intra_dc_precision=%d\\n\", s->intra_dc_precision)",
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "    dprintf(\"intra_dc_precision=%d\\n\", s->intra_dc_precision);",
          "new_line_content": "    s->intra_vlc_format = get_bits1(&s->gb);",
          "content_same": false
        },
        {
          "line": 1340,
          "old_api": "dprintf",
          "new_api": "get_bits1",
          "old_text": "dprintf(\"picture_structure=%d\\n\", s->picture_structure)",
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "    dprintf(\"picture_structure=%d\\n\", s->picture_structure);",
          "new_line_content": "    s->alternate_scan = get_bits1(&s->gb);",
          "content_same": false
        },
        {
          "line": 1341,
          "old_api": "dprintf",
          "new_api": "get_bits1",
          "old_text": "dprintf(\"top field first=%d\\n\", s->top_field_first)",
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "    dprintf(\"top field first=%d\\n\", s->top_field_first);",
          "new_line_content": "    s->repeat_first_field = get_bits1(&s->gb);",
          "content_same": false
        },
        {
          "line": 1342,
          "old_api": "dprintf",
          "new_api": "get_bits1",
          "old_text": "dprintf(\"repeat first field=%d\\n\", s->repeat_first_field)",
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "    dprintf(\"repeat first field=%d\\n\", s->repeat_first_field);",
          "new_line_content": "    s->chroma_420_type = get_bits1(&s->gb);",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": "dprintf",
          "new_api": "get_bits1",
          "old_text": "dprintf(\"conceal=%d\\n\", s->concealment_motion_vectors)",
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "    dprintf(\"conceal=%d\\n\", s->concealment_motion_vectors);",
          "new_line_content": "    s->progressive_frame = get_bits1(&s->gb);",
          "content_same": false
        },
        {
          "line": 1363,
          "old_api": "mpeg_decode_sequence_extension",
          "new_api": "init_get_bits",
          "old_text": "mpeg_decode_sequence_extension(s)",
          "new_text": "init_get_bits(&s->gb, buf, buf_size)",
          "old_line_content": "        mpeg_decode_sequence_extension(s);",
          "new_line_content": "    init_get_bits(&s->gb, buf, buf_size);",
          "content_same": false
        },
        {
          "line": 1412,
          "old_api": "emms_c",
          "new_api": "get_bits1",
          "old_text": "emms_c()",
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "        emms_c();",
          "new_line_content": "    while (get_bits1(&s->gb) != 0) {",
          "content_same": false
        },
        {
          "line": 1413,
          "old_api": "mpeg_decode_mb",
          "new_api": "skip_bits",
          "old_text": "mpeg_decode_mb(s, s->block)",
          "new_text": "skip_bits(&s->gb, 8)",
          "old_line_content": "        ret = mpeg_decode_mb(s, s->block);",
          "new_line_content": "        skip_bits(&s->gb, 8);",
          "content_same": false
        },
        {
          "line": 1419,
          "old_api": "MPV_decode_mb",
          "new_api": "mpeg_decode_mb",
          "old_text": "MPV_decode_mb(s, s->block)",
          "new_text": "mpeg_decode_mb(s, s->block)",
          "old_line_content": "        MPV_decode_mb(s, s->block);",
          "new_line_content": "        ret = mpeg_decode_mb(s, s->block);",
          "content_same": false
        },
        {
          "line": 1479,
          "old_api": "get_bits1",
          "new_api": "get_bits",
          "old_text": "get_bits1(&s->gb)",
          "new_text": "get_bits(&s->gb, 12)",
          "old_line_content": "    if (get_bits1(&s->gb) == 0) /* marker */",
          "new_line_content": "    height = get_bits(&s->gb, 12);",
          "content_same": false
        },
        {
          "line": 1507,
          "old_api": "skip_bits",
          "new_api": "MPV_common_init",
          "old_text": "skip_bits(&s->gb, 10)",
          "new_text": "MPV_common_init(s)",
          "old_line_content": "    skip_bits(&s->gb, 10); /* vbv_buffer_size */",
          "new_line_content": "        if (MPV_common_init(s) < 0)",
          "content_same": false
        },
        {
          "line": 1513,
          "old_api": "get_bits",
          "new_api": "skip_bits",
          "old_text": "get_bits(&s->gb, 8)",
          "new_text": "skip_bits(&s->gb, 10)",
          "old_line_content": "            v = get_bits(&s->gb, 8);",
          "new_line_content": "    skip_bits(&s->gb, 10); /* vbv_buffer_size */",
          "content_same": false
        },
        {
          "line": 1519,
          "old_api": "dprintf",
          "new_api": "get_bits",
          "old_text": "dprintf(\"intra matrix present\\n\")",
          "new_text": "get_bits(&s->gb, 8)",
          "old_line_content": "        dprintf(\"intra matrix present\\n\");",
          "new_line_content": "            v = get_bits(&s->gb, 8);",
          "content_same": false
        },
        {
          "line": 1539,
          "old_api": "dprintf",
          "new_api": "get_bits",
          "old_text": "dprintf(\"non intra matrix present\\n\")",
          "new_text": "get_bits(&s->gb, 8)",
          "old_line_content": "        dprintf(\"non intra matrix present\\n\");",
          "new_line_content": "            v = get_bits(&s->gb, 8);",
          "content_same": false
        },
        {
          "line": 1638,
          "old_api": "mpeg1_decode_picture",
          "new_api": "mpeg1_decode_sequence",
          "old_text": "mpeg1_decode_picture(avctx, \n                                         s->buffer, input_size)",
          "new_text": "mpeg1_decode_sequence(avctx, s->buffer, \n                                          input_size)",
          "old_line_content": "                    mpeg1_decode_picture(avctx, ",
          "new_line_content": "                    mpeg1_decode_sequence(avctx, s->buffer, ",
          "content_same": false
        },
        {
          "line": 1648,
          "old_api": "mpeg_decode_slice",
          "new_api": "mpeg_decode_extension",
          "old_text": "mpeg_decode_slice(avctx, picture,\n                                                start_code, s->buffer, input_size)",
          "new_text": "mpeg_decode_extension(avctx,\n                                          s->buffer, input_size)",
          "old_line_content": "                        ret = mpeg_decode_slice(avctx, picture,",
          "new_line_content": "                    mpeg_decode_extension(avctx,",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1537,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "        }",
          "new_line_content": "    if (get_bits1(&s->gb)) {",
          "content_same": false
        },
        {
          "line": 1545,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(\"non intra matrix present\\n\")",
          "old_line_content": "        for(i=0;i<64;i++) {",
          "new_line_content": "        dprintf(\"non intra matrix present\\n\");",
          "content_same": false
        },
        {
          "line": 1547,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(\" %d\", s->inter_matrix[zigzag_direct[i]])",
          "old_line_content": "            s->inter_matrix[i] = v;",
          "new_line_content": "            dprintf(\" %d\", s->inter_matrix[zigzag_direct[i]]);",
          "content_same": false
        },
        {
          "line": 1548,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"\\n\")",
          "old_line_content": "            s->chroma_inter_matrix[i] = v;",
          "new_line_content": "        printf(\"\\n\");",
          "content_same": false
        },
        {
          "line": 1045,
          "old_api": null,
          "new_api": "SHOW_BITS",
          "old_text": null,
          "new_text": "SHOW_BITS(&s->gb, v, 2)",
          "old_line_content": "            goto add_coef;",
          "new_line_content": "        SHOW_BITS(&s->gb, v, 2);",
          "content_same": false
        },
        {
          "line": 1049,
          "old_api": null,
          "new_api": "FLUSH_BITS",
          "old_text": null,
          "new_text": "FLUSH_BITS(2)",
          "old_line_content": "",
          "new_line_content": "            FLUSH_BITS(2);",
          "content_same": false
        },
        {
          "line": 1050,
          "old_api": null,
          "new_api": "RESTORE_BITS",
          "old_text": null,
          "new_text": "RESTORE_BITS(&s->gb)",
          "old_line_content": "    /* now quantify & encode AC coefs */",
          "new_line_content": "            RESTORE_BITS(&s->gb);",
          "content_same": false
        },
        {
          "line": 1053,
          "old_api": null,
          "new_api": "RESTORE_BITS",
          "old_text": null,
          "new_text": "RESTORE_BITS(&s->gb)",
          "old_line_content": "        if (code < 0)",
          "new_line_content": "        RESTORE_BITS(&s->gb);",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": null,
          "new_api": "get_vlc",
          "old_text": null,
          "new_text": "get_vlc(&s->gb, &rl->vlc)",
          "old_line_content": "            /* escape */",
          "new_line_content": "        code = get_vlc(&s->gb, &rl->vlc);",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 12)",
          "old_line_content": "                level = -level;",
          "new_line_content": "            level = get_bits(&s->gb, 12);",
          "content_same": false
        },
        {
          "line": 1578,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(\"fill_buffer\\n\")",
          "old_line_content": "        if (s2->picture_number > 0) {",
          "new_line_content": "    dprintf(\"fill_buffer\\n\");",
          "content_same": false
        },
        {
          "line": 1071,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "    add_coef:",
          "new_line_content": "            if (get_bits1(&s->gb))",
          "content_same": false
        },
        {
          "line": 1079,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(\"%d: run=%d level=%d\\n\", n, run, level)",
          "old_line_content": "            level = -level;",
          "new_line_content": "        dprintf(\"%d: run=%d level=%d\\n\", n, run, level);",
          "content_same": false
        },
        {
          "line": 1613,
          "old_api": null,
          "new_api": "find_start_code",
          "old_text": null,
          "new_text": "find_start_code(&buf_ptr, buf_end, &s->header_state)",
          "old_line_content": "        /* copy to buffer */",
          "new_line_content": "        code = find_start_code(&buf_ptr, buf_end, &s->header_state);",
          "content_same": false
        },
        {
          "line": 1627,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(s->buf_ptr, buf_start, len)",
          "old_line_content": "                start_code = s->start_code;",
          "new_line_content": "            memcpy(s->buf_ptr, buf_start, len);",
          "content_same": false
        },
        {
          "line": 1116,
          "old_api": null,
          "new_api": "decode_dc",
          "old_text": null,
          "new_text": "decode_dc(s, component)",
          "old_line_content": "    block[0] = dc << (3 - s->intra_dc_precision);",
          "new_line_content": "    diff = decode_dc(s, component);",
          "content_same": false
        },
        {
          "line": 1123,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(\"dc=%d\\n\", block[0])",
          "old_line_content": "        rl = &rl_mpeg1;",
          "new_line_content": "    dprintf(\"dc=%d\\n\", block[0]);",
          "content_same": false
        },
        {
          "line": 1644,
          "old_api": null,
          "new_api": "mpeg1_decode_picture",
          "old_text": null,
          "new_text": "mpeg1_decode_picture(avctx, \n                                         s->buffer, input_size)",
          "old_line_content": "                    break;",
          "new_line_content": "                    mpeg1_decode_picture(avctx, ",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": null,
          "new_api": "get_vlc",
          "old_text": null,
          "new_text": "get_vlc(&s->gb, &rl->vlc)",
          "old_line_content": "            /* escape */",
          "new_line_content": "        code = get_vlc(&s->gb, &rl->vlc);",
          "content_same": false
        },
        {
          "line": 1654,
          "old_api": null,
          "new_api": "mpeg_decode_slice",
          "old_text": null,
          "new_text": "mpeg_decode_slice(avctx, picture,\n                                                start_code, s->buffer, input_size)",
          "old_line_content": "#if 0",
          "new_line_content": "                        ret = mpeg_decode_slice(avctx, picture,",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 12)",
          "old_line_content": "                level = -level;",
          "new_line_content": "            level = get_bits(&s->gb, 12);",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "\tj = scan_table[i];",
          "new_line_content": "            if (get_bits1(&s->gb))",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(\"%d: run=%d level=%d\\n\", n, run, level)",
          "old_line_content": "        i++;",
          "new_line_content": "        dprintf(\"%d: run=%d level=%d\\n\", n, run, level);",
          "content_same": false
        },
        {
          "line": 1698,
          "old_api": null,
          "new_api": "MPV_common_end",
          "old_text": null,
          "new_text": "MPV_common_end(&s->mpeg_enc_ctx)",
          "old_line_content": "    CODEC_TYPE_VIDEO,",
          "new_line_content": "        MPV_common_end(&s->mpeg_enc_ctx);",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": null,
          "new_api": "init_get_bits",
          "old_text": null,
          "new_text": "init_get_bits(&s->gb, buf, buf_size)",
          "old_line_content": "    if (s->pict_type == P_TYPE || s->pict_type == B_TYPE) {",
          "new_line_content": "    init_get_bits(&s->gb, buf, buf_size);",
          "content_same": false
        },
        {
          "line": 1237,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 3)",
          "old_line_content": "        if (f_code == 0)",
          "new_line_content": "    s->pict_type = get_bits(&s->gb, 3);",
          "content_same": false
        },
        {
          "line": 1238,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(\"pict_type=%d number=%d\\n\", s->pict_type, s->picture_number)",
          "old_line_content": "            return -1;",
          "new_line_content": "    dprintf(\"pict_type=%d number=%d\\n\", s->pict_type, s->picture_number);",
          "content_same": false
        },
        {
          "line": 1239,
          "old_api": null,
          "new_api": "skip_bits",
          "old_text": null,
          "new_text": "skip_bits(&s->gb, 16)",
          "old_line_content": "        s->mpeg_f_code[0][0] = f_code;",
          "new_line_content": "    skip_bits(&s->gb, 16);",
          "content_same": false
        },
        {
          "line": 1241,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "    }",
          "new_line_content": "        s->full_pel[0] = get_bits1(&s->gb);",
          "content_same": false
        },
        {
          "line": 1242,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 3)",
          "old_line_content": "    if (s->pict_type == B_TYPE) {",
          "new_line_content": "        f_code = get_bits(&s->gb, 3);",
          "content_same": false
        },
        {
          "line": 1249,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "    }",
          "new_line_content": "        s->full_pel[1] = get_bits1(&s->gb);",
          "content_same": false
        },
        {
          "line": 1250,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 3)",
          "old_line_content": "    s->y_dc_scale = 8;",
          "new_line_content": "        f_code = get_bits(&s->gb, 3);",
          "content_same": false
        },
        {
          "line": 1268,
          "old_api": null,
          "new_api": "skip_bits",
          "old_text": null,
          "new_text": "skip_bits(&s->gb, 8)",
          "old_line_content": "    s->height |= (vert_size_ext << 12);",
          "new_line_content": "    skip_bits(&s->gb, 8); /* profil and level */",
          "content_same": false
        },
        {
          "line": 1270,
          "old_api": null,
          "new_api": "skip_bits",
          "old_text": null,
          "new_text": "skip_bits(&s->gb, 2)",
          "old_line_content": "    s->bit_rate = ((s->bit_rate / 400) | (bit_rate_ext << 12)) * 400;",
          "new_line_content": "    skip_bits(&s->gb, 2); /* chroma_format */",
          "content_same": false
        },
        {
          "line": 1277,
          "old_api": null,
          "new_api": "skip_bits1",
          "old_text": null,
          "new_text": "skip_bits1(&s->gb)",
          "old_line_content": "        s->frame_rate = (s->frame_rate * frame_rate_ext_n) / frame_rate_ext_d;",
          "new_line_content": "    skip_bits1(&s->gb); /* marker */",
          "content_same": false
        },
        {
          "line": 1279,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "    s->mpeg2 = 1;",
          "new_line_content": "    low_delay = get_bits1(&s->gb);",
          "content_same": false
        },
        {
          "line": 1280,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 2)",
          "old_line_content": "}",
          "new_line_content": "    frame_rate_ext_n = get_bits(&s->gb, 2);",
          "content_same": false
        },
        {
          "line": 1281,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 5)",
          "old_line_content": "",
          "new_line_content": "    frame_rate_ext_d = get_bits(&s->gb, 5);",
          "content_same": false
        },
        {
          "line": 1284,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(\"sequence extension\\n\")",
          "old_line_content": "    int i, v, j;",
          "new_line_content": "    dprintf(\"sequence extension\\n\");",
          "content_same": false
        },
        {
          "line": 1292,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(\"matrix extension\\n\")",
          "old_line_content": "            s->intra_matrix[j] = v;",
          "new_line_content": "    dprintf(\"matrix extension\\n\");",
          "content_same": false
        },
        {
          "line": 1294,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "        }",
          "new_line_content": "    if (get_bits1(&s->gb)) {",
          "content_same": false
        },
        {
          "line": 1302,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "        }",
          "new_line_content": "    if (get_bits1(&s->gb)) {",
          "content_same": false
        },
        {
          "line": 1310,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "    }",
          "new_line_content": "    if (get_bits1(&s->gb)) {",
          "content_same": false
        },
        {
          "line": 1312,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 8)",
          "old_line_content": "        for(i=0;i<64;i++) {",
          "new_line_content": "            v = get_bits(&s->gb, 8);",
          "content_same": false
        },
        {
          "line": 1317,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "    }",
          "new_line_content": "    if (get_bits1(&s->gb)) {",
          "content_same": false
        },
        {
          "line": 1319,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 8)",
          "old_line_content": "",
          "new_line_content": "            v = get_bits(&s->gb, 8);",
          "content_same": false
        },
        {
          "line": 1338,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "    /* composite display not parsed */",
          "new_line_content": "    s->q_scale_type = get_bits1(&s->gb);",
          "content_same": false
        },
        {
          "line": 1348,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(\"repeat first field=%d\\n\", s->repeat_first_field)",
          "old_line_content": "}",
          "new_line_content": "    dprintf(\"repeat first field=%d\\n\", s->repeat_first_field);",
          "content_same": false
        },
        {
          "line": 1349,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(\"conceal=%d\\n\", s->concealment_motion_vectors)",
          "old_line_content": "",
          "new_line_content": "    dprintf(\"conceal=%d\\n\", s->concealment_motion_vectors);",
          "content_same": false
        },
        {
          "line": 1350,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(\"intra_vlc_format=%d\\n\", s->intra_vlc_format)",
          "old_line_content": "static void mpeg_decode_extension(AVCodecContext *avctx, ",
          "new_line_content": "    dprintf(\"intra_vlc_format=%d\\n\", s->intra_vlc_format);",
          "content_same": false
        },
        {
          "line": 1351,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(\"alternate_scan=%d\\n\", s->alternate_scan)",
          "old_line_content": "                                  UINT8 *buf, int buf_size)",
          "new_line_content": "    dprintf(\"alternate_scan=%d\\n\", s->alternate_scan);",
          "content_same": false
        },
        {
          "line": 1352,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(\"frame_pred_frame_dct=%d\\n\", s->frame_pred_frame_dct)",
          "old_line_content": "{",
          "new_line_content": "    dprintf(\"frame_pred_frame_dct=%d\\n\", s->frame_pred_frame_dct);",
          "content_same": false
        },
        {
          "line": 1353,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(\"progressive_frame=%d\\n\", s->progressive_frame)",
          "old_line_content": "    Mpeg1Context *s1 = avctx->priv_data;",
          "new_line_content": "    dprintf(\"progressive_frame=%d\\n\", s->progressive_frame);",
          "content_same": false
        },
        {
          "line": 1365,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 4)",
          "old_line_content": "    case 0x3:",
          "new_line_content": "    ext_type = get_bits(&s->gb, 4);",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": null,
          "new_api": "mpeg_decode_sequence_extension",
          "old_text": null,
          "new_text": "mpeg_decode_sequence_extension(s)",
          "old_line_content": "    case 0x8:",
          "new_line_content": "        mpeg_decode_sequence_extension(s);",
          "content_same": false
        },
        {
          "line": 1373,
          "old_api": null,
          "new_api": "mpeg_decode_quant_matrix_extension",
          "old_text": null,
          "new_text": "mpeg_decode_quant_matrix_extension(s)",
          "old_line_content": "    }",
          "new_line_content": "        mpeg_decode_quant_matrix_extension(s);",
          "content_same": false
        },
        {
          "line": 865,
          "old_api": null,
          "new_api": "mpeg2_decode_block_non_intra",
          "old_text": null,
          "new_text": "mpeg2_decode_block_non_intra(s, block[i], i)",
          "old_line_content": "                }",
          "new_line_content": "                    if (mpeg2_decode_block_non_intra(s, block[i], i) < 0)",
          "content_same": false
        },
        {
          "line": 1377,
          "old_api": null,
          "new_api": "mpeg_decode_picture_coding_extension",
          "old_text": null,
          "new_text": "mpeg_decode_picture_coding_extension(s)",
          "old_line_content": "static int mpeg_decode_slice(AVCodecContext *avctx, ",
          "new_line_content": "        mpeg_decode_picture_coding_extension(s);",
          "content_same": false
        },
        {
          "line": 875,
          "old_api": null,
          "new_api": "mpeg1_decode_block",
          "old_text": null,
          "new_text": "mpeg1_decode_block(s, block[i], i)",
          "old_line_content": "    }",
          "new_line_content": "                if (mpeg1_decode_block(s, block[i], i) < 0)",
          "content_same": false
        },
        {
          "line": 1398,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(s->last_mv, 0, sizeof(s->last_mv))",
          "old_line_content": "        s->first_slice = 0;",
          "new_line_content": "    memset(s->last_mv, 0, sizeof(s->last_mv));",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": null,
          "new_api": "get_vlc",
          "old_text": null,
          "new_text": "get_vlc(&s->gb, &mv_vlc)",
          "old_line_content": "    }",
          "new_line_content": "    code = get_vlc(&s->gb, &mv_vlc);",
          "content_same": false
        },
        {
          "line": 1405,
          "old_api": null,
          "new_api": "MPV_frame_start",
          "old_text": null,
          "new_text": "MPV_frame_start(s)",
          "old_line_content": "    /* extra slice info */",
          "new_line_content": "        MPV_frame_start(s);",
          "content_same": false
        },
        {
          "line": 1408,
          "old_api": null,
          "new_api": "init_get_bits",
          "old_text": null,
          "new_text": "init_get_bits(&s->gb, buf, buf_size)",
          "old_line_content": "    }",
          "new_line_content": "    init_get_bits(&s->gb, buf, buf_size);",
          "content_same": false
        },
        {
          "line": 897,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "    if (sign)",
          "new_line_content": "    sign = get_bits1(&s->gb);",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": null,
          "new_api": "get_qscale",
          "old_text": null,
          "new_text": "get_qscale(s)",
          "old_line_content": "    for(;;) {",
          "new_line_content": "    s->qscale = get_qscale(s);",
          "content_same": false
        },
        {
          "line": 901,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, shift)",
          "old_line_content": "    /* modulo decoding */",
          "new_line_content": "        val |= get_bits(&s->gb, shift);",
          "content_same": false
        },
        {
          "line": 1417,
          "old_api": null,
          "new_api": "clear_blocks",
          "old_text": null,
          "new_text": "clear_blocks(s->block[0])",
          "old_line_content": "        if (ret == 1)",
          "new_line_content": "        clear_blocks(s->block[0]);",
          "content_same": false
        },
        {
          "line": 1418,
          "old_api": null,
          "new_api": "emms_c",
          "old_text": null,
          "new_text": "emms_c()",
          "old_line_content": "            break;",
          "new_line_content": "        emms_c();",
          "content_same": false
        },
        {
          "line": 1420,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(\"ret=%d\\n\", ret)",
          "old_line_content": "    }",
          "new_line_content": "        dprintf(\"ret=%d\\n\", ret);",
          "content_same": false
        },
        {
          "line": 1425,
          "old_api": null,
          "new_api": "MPV_decode_mb",
          "old_text": null,
          "new_text": "MPV_decode_mb(s, s->block)",
          "old_line_content": "        s->mb_y == (s->mb_height - 1)) {",
          "new_line_content": "        MPV_decode_mb(s, s->block);",
          "content_same": false
        },
        {
          "line": 1427,
          "old_api": null,
          "new_api": "emms_c",
          "old_text": null,
          "new_text": "emms_c()",
          "old_line_content": "        UINT8 **picture;",
          "new_line_content": "    emms_c();",
          "content_same": false
        },
        {
          "line": 923,
          "old_api": null,
          "new_api": "get_vlc",
          "old_text": null,
          "new_text": "get_vlc(&s->gb, &dc_lum_vlc)",
          "old_line_content": "    if (code == 0) {",
          "new_line_content": "        code = get_vlc(&s->gb, &dc_lum_vlc);",
          "content_same": false
        },
        {
          "line": 1435,
          "old_api": null,
          "new_api": "MPV_frame_end",
          "old_text": null,
          "new_text": "MPV_frame_end(s)",
          "old_line_content": "        } else {",
          "new_line_content": "        MPV_frame_end(s);",
          "content_same": false
        },
        {
          "line": 925,
          "old_api": null,
          "new_api": "get_vlc",
          "old_text": null,
          "new_text": "get_vlc(&s->gb, &dc_chroma_vlc)",
          "old_line_content": "    } else {",
          "new_line_content": "        code = get_vlc(&s->gb, &dc_chroma_vlc);",
          "content_same": false
        },
        {
          "line": 932,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, code)",
          "old_line_content": "",
          "new_line_content": "        diff = get_bits(&s->gb, code);",
          "content_same": false
        },
        {
          "line": 950,
          "old_api": null,
          "new_api": "decode_dc",
          "old_text": null,
          "new_text": "decode_dc(s, component)",
          "old_line_content": "        block[0] = dc;",
          "new_line_content": "        diff = decode_dc(s, component);",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(\"dc=%d diff=%d\\n\", dc, diff)",
          "old_line_content": "        i = 0;",
          "new_line_content": "        dprintf(\"dc=%d diff=%d\\n\", dc, diff);",
          "content_same": false
        },
        {
          "line": 1476,
          "old_api": null,
          "new_api": "init_get_bits",
          "old_text": null,
          "new_text": "init_get_bits(&s->gb, buf, buf_size)",
          "old_line_content": "    if (s->frame_rate_index == 0)",
          "new_line_content": "    init_get_bits(&s->gb, buf, buf_size);",
          "content_same": false
        },
        {
          "line": 966,
          "old_api": null,
          "new_api": "SHOW_BITS",
          "old_text": null,
          "new_text": "SHOW_BITS(&s->gb, v, 2)",
          "old_line_content": "            goto add_coef;",
          "new_line_content": "        SHOW_BITS(&s->gb, v, 2);",
          "content_same": false
        },
        {
          "line": 1480,
          "old_api": null,
          "new_api": "skip_bits",
          "old_text": null,
          "new_text": "skip_bits(&s->gb, 4)",
          "old_line_content": "        return -1;",
          "new_line_content": "    skip_bits(&s->gb, 4);",
          "content_same": false
        },
        {
          "line": 1481,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 4)",
          "old_line_content": "    if (width <= 0 || height <= 0 ||",
          "new_line_content": "    s->frame_rate_index = get_bits(&s->gb, 4);",
          "content_same": false
        },
        {
          "line": 970,
          "old_api": null,
          "new_api": "FLUSH_BITS",
          "old_text": null,
          "new_text": "FLUSH_BITS(2)",
          "old_line_content": "",
          "new_line_content": "            FLUSH_BITS(2);",
          "content_same": false
        },
        {
          "line": 971,
          "old_api": null,
          "new_api": "RESTORE_BITS",
          "old_text": null,
          "new_text": "RESTORE_BITS(&s->gb)",
          "old_line_content": "    /* now quantify & encode AC coefs */",
          "new_line_content": "            RESTORE_BITS(&s->gb);",
          "content_same": false
        },
        {
          "line": 1484,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 18)",
          "old_line_content": "    if (width != s->width ||",
          "new_line_content": "    s->bit_rate = get_bits(&s->gb, 18) * 400;",
          "content_same": false
        },
        {
          "line": 1485,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "        height != s->height) {",
          "new_line_content": "    if (get_bits1(&s->gb) == 0) /* marker */",
          "content_same": false
        },
        {
          "line": 974,
          "old_api": null,
          "new_api": "RESTORE_BITS",
          "old_text": null,
          "new_text": "RESTORE_BITS(&s->gb)",
          "old_line_content": "        if (code < 0) {",
          "new_line_content": "        RESTORE_BITS(&s->gb);",
          "content_same": false
        },
        {
          "line": 979,
          "old_api": null,
          "new_api": "get_vlc",
          "old_text": null,
          "new_text": "get_vlc(&s->gb, &rl->vlc)",
          "old_line_content": "        } else if (code == 111) {",
          "new_line_content": "        code = get_vlc(&s->gb, &rl->vlc);",
          "content_same": false
        },
        {
          "line": 1495,
          "old_api": null,
          "new_api": "MPV_common_end",
          "old_text": null,
          "new_text": "MPV_common_end(s)",
          "old_line_content": "        avctx->width = width;",
          "new_line_content": "            MPV_common_end(s);",
          "content_same": false
        },
        {
          "line": 988,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 8)",
          "old_line_content": "            }",
          "new_line_content": "            level = get_bits(&s->gb, 8);",
          "content_same": false
        },
        {
          "line": 991,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 8)",
          "old_line_content": "            level = rl->table_level[code];",
          "new_line_content": "                level = get_bits(&s->gb, 8) - 256;",
          "content_same": false
        },
        {
          "line": 993,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 8)",
          "old_line_content": "                level = -level;",
          "new_line_content": "                level = get_bits(&s->gb, 8);",
          "content_same": false
        },
        {
          "line": 1509,
          "old_api": null,
          "new_api": "mpeg1_init_vlc",
          "old_text": null,
          "new_text": "mpeg1_init_vlc(s)",
          "old_line_content": "",
          "new_line_content": "        mpeg1_init_vlc(s);",
          "content_same": false
        },
        {
          "line": 998,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "    add_coef:",
          "new_line_content": "            if (get_bits1(&s->gb))",
          "content_same": false
        },
        {
          "line": 1514,
          "old_api": null,
          "new_api": "skip_bits",
          "old_text": null,
          "new_text": "skip_bits(&s->gb, 1)",
          "old_line_content": "            j = zigzag_direct[i];",
          "new_line_content": "    skip_bits(&s->gb, 1);",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(\"%d: run=%d level=%d\\n\", n, run, level)",
          "old_line_content": "    return 0;",
          "new_line_content": "        dprintf(\"%d: run=%d level=%d\\n\", n, run, level);",
          "content_same": false
        },
        {
          "line": 1517,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "        }",
          "new_line_content": "    if (get_bits1(&s->gb)) {",
          "content_same": false
        },
        {
          "line": 1525,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(\"intra matrix present\\n\")",
          "old_line_content": "        for(i=0;i<64;i++) {",
          "new_line_content": "        dprintf(\"intra matrix present\\n\");",
          "content_same": false
        },
        {
          "line": 1527,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(\" %d\", s->intra_matrix[zigzag_direct[i]])",
          "old_line_content": "            s->intra_matrix[i] = v;",
          "new_line_content": "            dprintf(\" %d\", s->intra_matrix[zigzag_direct[i]]);",
          "content_same": false
        },
        {
          "line": 1528,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"\\n\")",
          "old_line_content": "            s->chroma_intra_matrix[i] = v;",
          "new_line_content": "        printf(\"\\n\");",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1541,
          "old_api": "dprintf",
          "new_api": null,
          "old_text": "dprintf(\" %d\", s->inter_matrix[zigzag_direct[i]])",
          "new_text": null,
          "old_line_content": "            dprintf(\" %d\", s->inter_matrix[zigzag_direct[i]]);",
          "new_line_content": "            s->inter_matrix[j] = v;",
          "content_same": false
        },
        {
          "line": 1542,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"\\n\")",
          "new_text": null,
          "old_line_content": "        printf(\"\\n\");",
          "new_line_content": "            s->chroma_inter_matrix[j] = v;",
          "content_same": false
        },
        {
          "line": 1038,
          "old_api": "SAVE_BITS",
          "new_api": null,
          "old_text": "SAVE_BITS(&s->gb)",
          "new_text": null,
          "old_line_content": "        SAVE_BITS(&s->gb);",
          "new_line_content": "        if (n < 4) ",
          "content_same": false
        },
        {
          "line": 1039,
          "old_api": "SHOW_BITS",
          "new_api": null,
          "old_text": "SHOW_BITS(&s->gb, v, 2)",
          "new_text": null,
          "old_line_content": "        SHOW_BITS(&s->gb, v, 2);",
          "new_line_content": "            matrix = s->inter_matrix;",
          "content_same": false
        },
        {
          "line": 1043,
          "old_api": "FLUSH_BITS",
          "new_api": null,
          "old_text": "FLUSH_BITS(2)",
          "new_text": null,
          "old_line_content": "            FLUSH_BITS(2);",
          "new_line_content": "        /* special case for the first coef. no need to add a second vlc table */",
          "content_same": false
        },
        {
          "line": 1047,
          "old_api": "RESTORE_BITS",
          "new_api": null,
          "old_text": "RESTORE_BITS(&s->gb)",
          "new_text": null,
          "old_line_content": "        RESTORE_BITS(&s->gb);",
          "new_line_content": "            run = 0;",
          "content_same": false
        },
        {
          "line": 1052,
          "old_api": "get_vlc",
          "new_api": null,
          "old_text": "get_vlc(&s->gb, &rl->vlc)",
          "new_text": null,
          "old_line_content": "        code = get_vlc(&s->gb, &rl->vlc);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1059,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 6)",
          "new_text": null,
          "old_line_content": "            run = get_bits(&s->gb, 6);",
          "new_line_content": "        if (code < 0)",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 12)",
          "new_text": null,
          "old_line_content": "            level = get_bits(&s->gb, 12);",
          "new_line_content": "            return -1;",
          "content_same": false
        },
        {
          "line": 1572,
          "old_api": "dprintf",
          "new_api": null,
          "old_text": "dprintf(\"fill_buffer\\n\")",
          "new_text": null,
          "old_line_content": "    dprintf(\"fill_buffer\\n\");",
          "new_line_content": "    Mpeg1Context *s = avctx->priv_data;",
          "content_same": false
        },
        {
          "line": 1073,
          "old_api": "dprintf",
          "new_api": null,
          "old_text": "dprintf(\"%d: run=%d level=%d\\n\", n, run, level)",
          "new_text": null,
          "old_line_content": "        dprintf(\"%d: run=%d level=%d\\n\", n, run, level);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1607,
          "old_api": "find_start_code",
          "new_api": null,
          "old_text": "find_start_code(&buf_ptr, buf_end, &s->header_state)",
          "new_text": null,
          "old_line_content": "        code = find_start_code(&buf_ptr, buf_end, &s->header_state);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1621,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(s->buf_ptr, buf_start, len)",
          "new_text": null,
          "old_line_content": "            memcpy(s->buf_ptr, buf_start, len);",
          "new_line_content": "        if (len + (s->buf_ptr - s->buffer) > s->buffer_size) {",
          "content_same": false
        },
        {
          "line": 1110,
          "old_api": "decode_dc",
          "new_api": null,
          "old_text": "decode_dc(s, component)",
          "new_text": null,
          "old_line_content": "    diff = decode_dc(s, component);",
          "new_line_content": "        scan_table = ff_alternate_vertical_scan;",
          "content_same": false
        },
        {
          "line": 1117,
          "old_api": "dprintf",
          "new_api": null,
          "old_text": "dprintf(\"dc=%d\\n\", block[0])",
          "new_text": null,
          "old_line_content": "    dprintf(\"dc=%d\\n\", block[0]);",
          "new_line_content": "    if (diff >= 0xffff)",
          "content_same": false
        },
        {
          "line": 1632,
          "old_api": "mpeg1_decode_sequence",
          "new_api": null,
          "old_text": "mpeg1_decode_sequence(avctx, s->buffer, \n                                          input_size)",
          "new_text": null,
          "old_line_content": "                    mpeg1_decode_sequence(avctx, s->buffer, ",
          "new_line_content": "                input_size = s->buf_ptr - s->buffer;",
          "content_same": false
        },
        {
          "line": 1642,
          "old_api": "mpeg_decode_extension",
          "new_api": null,
          "old_text": "mpeg_decode_extension(avctx,\n                                          s->buffer, input_size)",
          "new_text": null,
          "old_line_content": "                    mpeg_decode_extension(avctx,",
          "new_line_content": "                case PICTURE_START_CODE:",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": "get_vlc",
          "new_api": null,
          "old_text": "get_vlc(&s->gb, &rl->vlc)",
          "new_text": null,
          "old_line_content": "        code = get_vlc(&s->gb, &rl->vlc);",
          "new_line_content": "        matrix = s->intra_matrix;",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 6)",
          "new_text": null,
          "old_line_content": "            run = get_bits(&s->gb, 6);",
          "new_line_content": "        if (code < 0)",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 12)",
          "new_text": null,
          "old_line_content": "            level = get_bits(&s->gb, 12);",
          "new_line_content": "            return -1;",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": "dprintf",
          "new_api": null,
          "old_text": "dprintf(\"%d: run=%d level=%d\\n\", n, run, level)",
          "new_text": null,
          "old_line_content": "        dprintf(\"%d: run=%d level=%d\\n\", n, run, level);",
          "new_line_content": "                level = -level;",
          "content_same": false
        },
        {
          "line": 1692,
          "old_api": "MPV_common_end",
          "new_api": null,
          "old_text": "MPV_common_end(&s->mpeg_enc_ctx)",
          "new_text": null,
          "old_line_content": "        MPV_common_end(&s->mpeg_enc_ctx);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1228,
          "old_api": "init_get_bits",
          "new_api": null,
          "old_text": "init_get_bits(&s->gb, buf, buf_size)",
          "new_text": null,
          "old_line_content": "    init_get_bits(&s->gb, buf, buf_size);",
          "new_line_content": "                                UINT8 *buf, int buf_size)",
          "content_same": false
        },
        {
          "line": 1230,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 10)",
          "new_text": null,
          "old_line_content": "    ref = get_bits(&s->gb, 10); /* temporal ref */",
          "new_line_content": "    Mpeg1Context *s1 = avctx->priv_data;",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 3)",
          "new_text": null,
          "old_line_content": "    s->pict_type = get_bits(&s->gb, 3);",
          "new_line_content": "    MpegEncContext *s = &s1->mpeg_enc_ctx;",
          "content_same": false
        },
        {
          "line": 1232,
          "old_api": "dprintf",
          "new_api": null,
          "old_text": "dprintf(\"pict_type=%d number=%d\\n\", s->pict_type, s->picture_number)",
          "new_text": null,
          "old_line_content": "    dprintf(\"pict_type=%d number=%d\\n\", s->pict_type, s->picture_number);",
          "new_line_content": "    int ref, f_code;",
          "content_same": false
        },
        {
          "line": 1233,
          "old_api": "skip_bits",
          "new_api": null,
          "old_text": "skip_bits(&s->gb, 16)",
          "new_text": null,
          "old_line_content": "    skip_bits(&s->gb, 16);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1235,
          "old_api": "get_bits1",
          "new_api": null,
          "old_text": "get_bits1(&s->gb)",
          "new_text": null,
          "old_line_content": "        s->full_pel[0] = get_bits1(&s->gb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1243,
          "old_api": "get_bits1",
          "new_api": null,
          "old_text": "get_bits1(&s->gb)",
          "new_text": null,
          "old_line_content": "        s->full_pel[1] = get_bits1(&s->gb);",
          "new_line_content": "        if (f_code == 0)",
          "content_same": false
        },
        {
          "line": 1244,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 3)",
          "new_text": null,
          "old_line_content": "        f_code = get_bits(&s->gb, 3);",
          "new_line_content": "            return -1;",
          "content_same": false
        },
        {
          "line": 1262,
          "old_api": "skip_bits",
          "new_api": null,
          "old_text": "skip_bits(&s->gb, 8)",
          "new_text": null,
          "old_line_content": "    skip_bits(&s->gb, 8); /* profil and level */",
          "new_line_content": "static void mpeg_decode_sequence_extension(MpegEncContext *s)",
          "content_same": false
        },
        {
          "line": 1263,
          "old_api": "get_bits1",
          "new_api": null,
          "old_text": "get_bits1(&s->gb)",
          "new_text": null,
          "old_line_content": "    s->progressive_sequence = get_bits1(&s->gb); /* progressive_sequence */",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1264,
          "old_api": "skip_bits",
          "new_api": null,
          "old_text": "skip_bits(&s->gb, 2)",
          "new_text": null,
          "old_line_content": "    skip_bits(&s->gb, 2); /* chroma_format */",
          "new_line_content": "    int horiz_size_ext, vert_size_ext;",
          "content_same": false
        },
        {
          "line": 1265,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 2)",
          "new_text": null,
          "old_line_content": "    horiz_size_ext = get_bits(&s->gb, 2);",
          "new_line_content": "    int bit_rate_ext, vbv_buf_ext, low_delay;",
          "content_same": false
        },
        {
          "line": 1266,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 2)",
          "new_text": null,
          "old_line_content": "    vert_size_ext = get_bits(&s->gb, 2);",
          "new_line_content": "    int frame_rate_ext_n, frame_rate_ext_d;",
          "content_same": false
        },
        {
          "line": 1273,
          "old_api": "get_bits1",
          "new_api": null,
          "old_text": "get_bits1(&s->gb)",
          "new_text": null,
          "old_line_content": "    low_delay = get_bits1(&s->gb);",
          "new_line_content": "    s->width |= (horiz_size_ext << 12);",
          "content_same": false
        },
        {
          "line": 1274,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 2)",
          "new_text": null,
          "old_line_content": "    frame_rate_ext_n = get_bits(&s->gb, 2);",
          "new_line_content": "    s->height |= (vert_size_ext << 12);",
          "content_same": false
        },
        {
          "line": 1286,
          "old_api": "dprintf",
          "new_api": null,
          "old_text": "dprintf(\"matrix extension\\n\")",
          "new_text": null,
          "old_line_content": "    dprintf(\"matrix extension\\n\");",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1288,
          "old_api": "get_bits1",
          "new_api": null,
          "old_text": "get_bits1(&s->gb)",
          "new_text": null,
          "old_line_content": "    if (get_bits1(&s->gb)) {",
          "new_line_content": "static void mpeg_decode_quant_matrix_extension(MpegEncContext *s)",
          "content_same": false
        },
        {
          "line": 1290,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 8)",
          "new_text": null,
          "old_line_content": "            v = get_bits(&s->gb, 8);",
          "new_line_content": "    int i, v, j;",
          "content_same": false
        },
        {
          "line": 1298,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 8)",
          "new_text": null,
          "old_line_content": "            v = get_bits(&s->gb, 8);",
          "new_line_content": "            s->intra_matrix[j] = v;",
          "content_same": false
        },
        {
          "line": 1306,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 8)",
          "new_text": null,
          "old_line_content": "            v = get_bits(&s->gb, 8);",
          "new_line_content": "            s->inter_matrix[j] = v;",
          "content_same": false
        },
        {
          "line": 1311,
          "old_api": "get_bits1",
          "new_api": null,
          "old_text": "get_bits1(&s->gb)",
          "new_text": null,
          "old_line_content": "    if (get_bits1(&s->gb)) {",
          "new_line_content": "        for(i=0;i<64;i++) {",
          "content_same": false
        },
        {
          "line": 1313,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 8)",
          "new_text": null,
          "old_line_content": "            v = get_bits(&s->gb, 8);",
          "new_line_content": "            j = zigzag_direct[i];",
          "content_same": false
        },
        {
          "line": 1323,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 4)",
          "new_text": null,
          "old_line_content": "    s->mpeg_f_code[0][0] = get_bits(&s->gb, 4);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1324,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 4)",
          "new_text": null,
          "old_line_content": "    s->mpeg_f_code[0][1] = get_bits(&s->gb, 4);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1325,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 4)",
          "new_text": null,
          "old_line_content": "    s->mpeg_f_code[1][0] = get_bits(&s->gb, 4);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1326,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 4)",
          "new_text": null,
          "old_line_content": "    s->mpeg_f_code[1][1] = get_bits(&s->gb, 4);",
          "new_line_content": "static void mpeg_decode_picture_coding_extension(MpegEncContext *s)",
          "content_same": false
        },
        {
          "line": 1327,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 2)",
          "new_text": null,
          "old_line_content": "    s->intra_dc_precision = get_bits(&s->gb, 2);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1328,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 2)",
          "new_text": null,
          "old_line_content": "    s->picture_structure = get_bits(&s->gb, 2);",
          "new_line_content": "    s->full_pel[0] = s->full_pel[1] = 0;",
          "content_same": false
        },
        {
          "line": 1344,
          "old_api": "dprintf",
          "new_api": null,
          "old_text": "dprintf(\"intra_vlc_format=%d\\n\", s->intra_vlc_format)",
          "new_text": null,
          "old_line_content": "    dprintf(\"intra_vlc_format=%d\\n\", s->intra_vlc_format);",
          "new_line_content": "    /* composite display not parsed */",
          "content_same": false
        },
        {
          "line": 1357,
          "old_api": "init_get_bits",
          "new_api": null,
          "old_text": "init_get_bits(&s->gb, buf, buf_size)",
          "new_text": null,
          "old_line_content": "    init_get_bits(&s->gb, buf, buf_size);",
          "new_line_content": "                                  UINT8 *buf, int buf_size)",
          "content_same": false
        },
        {
          "line": 1359,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 4)",
          "new_text": null,
          "old_line_content": "    ext_type = get_bits(&s->gb, 4);",
          "new_line_content": "    Mpeg1Context *s1 = avctx->priv_data;",
          "content_same": false
        },
        {
          "line": 1367,
          "old_api": "mpeg_decode_quant_matrix_extension",
          "new_api": null,
          "old_text": "mpeg_decode_quant_matrix_extension(s)",
          "new_text": null,
          "old_line_content": "        mpeg_decode_quant_matrix_extension(s);",
          "new_line_content": "    case 0x1:",
          "content_same": false
        },
        {
          "line": 1371,
          "old_api": "mpeg_decode_picture_coding_extension",
          "new_api": null,
          "old_text": "mpeg_decode_picture_coding_extension(s)",
          "new_text": null,
          "old_line_content": "        mpeg_decode_picture_coding_extension(s);",
          "new_line_content": "    case 0x3:",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": "mpeg2_decode_block_non_intra",
          "new_api": null,
          "old_text": "mpeg2_decode_block_non_intra(s, block[i], i)",
          "new_text": null,
          "old_line_content": "                    if (mpeg2_decode_block_non_intra(s, block[i], i) < 0)",
          "new_line_content": "            for(i=0;i<6;i++) {",
          "content_same": false
        },
        {
          "line": 871,
          "old_api": "mpeg1_decode_block",
          "new_api": null,
          "old_text": "mpeg1_decode_block(s, block[i], i)",
          "new_text": null,
          "old_line_content": "                if (mpeg1_decode_block(s, block[i], i) < 0)",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1392,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(s->last_mv, 0, sizeof(s->last_mv))",
          "new_text": null,
          "old_line_content": "    memset(s->last_mv, 0, sizeof(s->last_mv));",
          "new_line_content": "    start_code = (start_code - 1) & 0xff;",
          "content_same": false
        },
        {
          "line": 884,
          "old_api": "get_vlc",
          "new_api": null,
          "old_text": "get_vlc(&s->gb, &mv_vlc)",
          "new_text": null,
          "old_line_content": "    code = get_vlc(&s->gb, &mv_vlc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1399,
          "old_api": "MPV_frame_start",
          "new_api": null,
          "old_text": "MPV_frame_start(s)",
          "new_text": null,
          "old_line_content": "        MPV_frame_start(s);",
          "new_line_content": "    s->mb_x = -1;",
          "content_same": false
        },
        {
          "line": 1402,
          "old_api": "init_get_bits",
          "new_api": null,
          "old_text": "init_get_bits(&s->gb, buf, buf_size)",
          "new_text": null,
          "old_line_content": "    init_get_bits(&s->gb, buf, buf_size);",
          "new_line_content": "    /* start frame decoding */",
          "content_same": false
        },
        {
          "line": 891,
          "old_api": "get_bits1",
          "new_api": null,
          "old_text": "get_bits1(&s->gb)",
          "new_text": null,
          "old_line_content": "    sign = get_bits1(&s->gb);",
          "new_line_content": "    if (code < 0) {",
          "content_same": false
        },
        {
          "line": 1404,
          "old_api": "get_qscale",
          "new_api": null,
          "old_text": "get_qscale(s)",
          "new_text": null,
          "old_line_content": "    s->qscale = get_qscale(s);",
          "new_line_content": "        s->first_slice = 0;",
          "content_same": false
        },
        {
          "line": 1406,
          "old_api": "get_bits1",
          "new_api": null,
          "old_text": "get_bits1(&s->gb)",
          "new_text": null,
          "old_line_content": "    while (get_bits1(&s->gb) != 0) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 895,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, shift)",
          "new_text": null,
          "old_line_content": "        val |= get_bits(&s->gb, shift);",
          "new_line_content": "        return pred;",
          "content_same": false
        },
        {
          "line": 1407,
          "old_api": "skip_bits",
          "new_api": null,
          "old_text": "skip_bits(&s->gb, 8)",
          "new_text": null,
          "old_line_content": "        skip_bits(&s->gb, 8);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1411,
          "old_api": "clear_blocks",
          "new_api": null,
          "old_text": "clear_blocks(s->block[0])",
          "new_text": null,
          "old_line_content": "        clear_blocks(s->block[0]);",
          "new_line_content": "    /* extra slice info */",
          "content_same": false
        },
        {
          "line": 1414,
          "old_api": "dprintf",
          "new_api": null,
          "old_text": "dprintf(\"ret=%d\\n\", ret)",
          "new_text": null,
          "old_line_content": "        dprintf(\"ret=%d\\n\", ret);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": "emms_c",
          "new_api": null,
          "old_text": "emms_c()",
          "new_text": null,
          "old_line_content": "    emms_c();",
          "new_line_content": "        if (ret < 0)",
          "content_same": false
        },
        {
          "line": 917,
          "old_api": "get_vlc",
          "new_api": null,
          "old_text": "get_vlc(&s->gb, &dc_lum_vlc)",
          "new_text": null,
          "old_line_content": "        code = get_vlc(&s->gb, &dc_lum_vlc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1429,
          "old_api": "MPV_frame_end",
          "new_api": null,
          "old_text": "MPV_frame_end(s)",
          "new_text": null,
          "old_line_content": "        MPV_frame_end(s);",
          "new_line_content": "    /* end of slice reached */",
          "content_same": false
        },
        {
          "line": 919,
          "old_api": "get_vlc",
          "new_api": null,
          "old_text": "get_vlc(&s->gb, &dc_chroma_vlc)",
          "new_text": null,
          "old_line_content": "        code = get_vlc(&s->gb, &dc_chroma_vlc);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 926,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, code)",
          "new_text": null,
          "old_line_content": "        diff = get_bits(&s->gb, code);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": "decode_dc",
          "new_api": null,
          "old_text": "decode_dc(s, component)",
          "new_text": null,
          "old_line_content": "        diff = decode_dc(s, component);",
          "new_line_content": "    int code, component;",
          "content_same": false
        },
        {
          "line": 951,
          "old_api": "dprintf",
          "new_api": null,
          "old_text": "dprintf(\"dc=%d diff=%d\\n\", dc, diff)",
          "new_text": null,
          "old_line_content": "        dprintf(\"dc=%d diff=%d\\n\", dc, diff);",
          "new_line_content": "        if (diff >= 0xffff)",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": "init_get_bits",
          "new_api": null,
          "old_text": "init_get_bits(&s->gb, buf, buf_size)",
          "new_text": null,
          "old_line_content": "    init_get_bits(&s->gb, buf, buf_size);",
          "new_line_content": "                                 UINT8 *buf, int buf_size)",
          "content_same": false
        },
        {
          "line": 959,
          "old_api": "SAVE_BITS",
          "new_api": null,
          "old_text": "SAVE_BITS(&s->gb)",
          "new_text": null,
          "old_line_content": "        SAVE_BITS(&s->gb);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": "SHOW_BITS",
          "new_api": null,
          "old_text": "SHOW_BITS(&s->gb, v, 2)",
          "new_text": null,
          "old_line_content": "        SHOW_BITS(&s->gb, v, 2);",
          "new_line_content": "        int bit_cnt, v;",
          "content_same": false
        },
        {
          "line": 1472,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 12)",
          "new_text": null,
          "old_line_content": "    width = get_bits(&s->gb, 12);",
          "new_line_content": "    Mpeg1Context *s1 = avctx->priv_data;",
          "content_same": false
        },
        {
          "line": 1473,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 12)",
          "new_text": null,
          "old_line_content": "    height = get_bits(&s->gb, 12);",
          "new_line_content": "    MpegEncContext *s = &s1->mpeg_enc_ctx;",
          "content_same": false
        },
        {
          "line": 1474,
          "old_api": "skip_bits",
          "new_api": null,
          "old_text": "skip_bits(&s->gb, 4)",
          "new_text": null,
          "old_line_content": "    skip_bits(&s->gb, 4);",
          "new_line_content": "    int width, height, i, v, j;",
          "content_same": false
        },
        {
          "line": 964,
          "old_api": "FLUSH_BITS",
          "new_api": null,
          "old_text": "FLUSH_BITS(2)",
          "new_text": null,
          "old_line_content": "            FLUSH_BITS(2);",
          "new_line_content": "        /* special case for the first coef. no need to add a second vlc table */",
          "content_same": false
        },
        {
          "line": 1475,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 4)",
          "new_text": null,
          "old_line_content": "    s->frame_rate_index = get_bits(&s->gb, 4);",
          "new_line_content": "    ",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": "RESTORE_BITS",
          "new_api": null,
          "old_text": "RESTORE_BITS(&s->gb)",
          "new_text": null,
          "old_line_content": "        RESTORE_BITS(&s->gb);",
          "new_line_content": "            run = 0;",
          "content_same": false
        },
        {
          "line": 973,
          "old_api": "get_vlc",
          "new_api": null,
          "old_text": "get_vlc(&s->gb, &rl->vlc)",
          "new_text": null,
          "old_line_content": "        code = get_vlc(&s->gb, &rl->vlc);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1489,
          "old_api": "MPV_common_end",
          "new_api": null,
          "old_text": "MPV_common_end(s)",
          "new_text": null,
          "old_line_content": "            MPV_common_end(s);",
          "new_line_content": "        return -1;",
          "content_same": false
        },
        {
          "line": 981,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 6)",
          "new_text": null,
          "old_line_content": "            run = get_bits(&s->gb, 6);",
          "new_line_content": "            return -1;",
          "content_same": false
        },
        {
          "line": 982,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 8)",
          "new_text": null,
          "old_line_content": "            level = get_bits(&s->gb, 8);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 985,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 8)",
          "new_text": null,
          "old_line_content": "                level = get_bits(&s->gb, 8) - 256;",
          "new_line_content": "        } else if (code == 111) {",
          "content_same": false
        },
        {
          "line": 1501,
          "old_api": "MPV_common_init",
          "new_api": null,
          "old_text": "MPV_common_init(s)",
          "new_text": null,
          "old_line_content": "        if (MPV_common_init(s) < 0)",
          "new_line_content": "        avctx->width = width;",
          "content_same": false
        },
        {
          "line": 1503,
          "old_api": "mpeg1_init_vlc",
          "new_api": null,
          "old_text": "mpeg1_init_vlc(s)",
          "new_text": null,
          "old_line_content": "        mpeg1_init_vlc(s);",
          "new_line_content": "        avctx->frame_rate = frame_rate_tab[s->frame_rate_index];",
          "content_same": false
        },
        {
          "line": 992,
          "old_api": "get_bits1",
          "new_api": null,
          "old_text": "get_bits1(&s->gb)",
          "new_text": null,
          "old_line_content": "            if (get_bits1(&s->gb))",
          "new_line_content": "            } else if (level == 0) {",
          "content_same": false
        },
        {
          "line": 1508,
          "old_api": "skip_bits",
          "new_api": null,
          "old_text": "skip_bits(&s->gb, 1)",
          "new_text": null,
          "old_line_content": "    skip_bits(&s->gb, 1);",
          "new_line_content": "            return -1;",
          "content_same": false
        },
        {
          "line": 999,
          "old_api": "dprintf",
          "new_api": null,
          "old_text": "dprintf(\"%d: run=%d level=%d\\n\", n, run, level)",
          "new_text": null,
          "old_line_content": "        dprintf(\"%d: run=%d level=%d\\n\", n, run, level);",
          "new_line_content": "                level = -level;",
          "content_same": false
        },
        {
          "line": 1511,
          "old_api": "get_bits1",
          "new_api": null,
          "old_text": "get_bits1(&s->gb)",
          "new_text": null,
          "old_line_content": "    if (get_bits1(&s->gb)) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1521,
          "old_api": "dprintf",
          "new_api": null,
          "old_text": "dprintf(\" %d\", s->intra_matrix[zigzag_direct[i]])",
          "new_text": null,
          "old_line_content": "            dprintf(\" %d\", s->intra_matrix[zigzag_direct[i]]);",
          "new_line_content": "            s->intra_matrix[j] = v;",
          "content_same": false
        },
        {
          "line": 1522,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"\\n\")",
          "new_text": null,
          "old_line_content": "        printf(\"\\n\");",
          "new_line_content": "            s->chroma_intra_matrix[j] = v;",
          "content_same": false
        },
        {
          "line": 1531,
          "old_api": "get_bits1",
          "new_api": null,
          "old_text": "get_bits1(&s->gb)",
          "new_text": null,
          "old_line_content": "    if (get_bits1(&s->gb)) {",
          "new_line_content": "        for(i=0;i<64;i++) {",
          "content_same": false
        },
        {
          "line": 1533,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 8)",
          "new_text": null,
          "old_line_content": "            v = get_bits(&s->gb, 8);",
          "new_line_content": "            s->intra_matrix[i] = v;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 31,
      "total_additions": 99,
      "total_deletions": 99,
      "total_api_changes": 229
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 6,
        "api_related_lines": 229,
        "non_api_lines": 6,
        "non_api_line_numbers": [
          867,
          868,
          877,
          878,
          858,
          859
        ]
      }
    },
    "api_calls_before": 284,
    "api_calls_after": 284,
    "diff_info": {
      "added_lines": 6,
      "removed_lines": 0,
      "total_diff_lines": 32
    }
  }
}