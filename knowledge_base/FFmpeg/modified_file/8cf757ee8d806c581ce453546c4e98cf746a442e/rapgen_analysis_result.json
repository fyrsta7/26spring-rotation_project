{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/8cf757ee8d806c581ce453546c4e98cf746a442e",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/8cf757ee8d806c581ce453546c4e98cf746a442e/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/8cf757ee8d806c581ce453546c4e98cf746a442e/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/8cf757ee8d806c581ce453546c4e98cf746a442e/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 764,
          "old_api": "memset",
          "new_api": "AVERROR",
          "old_text": "memset(par, 0, sizeof(*par))",
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    memset(par, 0, sizeof(*par));",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 769,
          "old_api": "AVERROR",
          "new_api": "av_log",
          "old_text": "AVERROR(EINVAL)",
          "new_text": "av_log(NULL, AV_LOG_ERROR, \"Cannot connect video filter to audio input\\n\")",
          "old_line_content": "        ret = AVERROR(EINVAL);",
          "new_line_content": "        av_log(NULL, AV_LOG_ERROR, \"Cannot connect video filter to audio input\\n\");",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": "av_bprintf",
          "new_api": "av_bprint_init",
          "old_text": "av_bprintf(&args,\n             \"video_size=%dx%d:pix_fmt=%d:time_base=%d/%d:\"\n             \"pixel_aspect=%d/%d:sws_param=flags=%d\",\n             ifilter->width, ifilter->height, ifilter->format,\n             tb.num, tb.den, sar.num, sar.den,\n             SWS_BILINEAR + ((ist->dec_ctx->flags&AV_CODEC_FLAG_BITEXACT) ? SWS_BITEXACT:0))",
          "new_text": "av_bprint_init(&args, 0, AV_BPRINT_SIZE_AUTOMATIC)",
          "old_line_content": "    av_bprintf(&args,",
          "new_line_content": "    av_bprint_init(&args, 0, AV_BPRINT_SIZE_AUTOMATIC);",
          "content_same": false
        },
        {
          "line": 794,
          "old_api": "snprintf",
          "new_api": "av_bprintf",
          "old_text": "snprintf(name, sizeof(name), \"graph %d input from stream %d:%d\", fg->index,\n             ist->file_index, ist->st->index)",
          "new_text": "av_bprintf(&args, \":frame_rate=%d/%d\", fr.num, fr.den)",
          "old_line_content": "    snprintf(name, sizeof(name), \"graph %d input from stream %d:%d\", fg->index,",
          "new_line_content": "        av_bprintf(&args, \":frame_rate=%d/%d\", fr.num, fr.den);",
          "content_same": false
        },
        {
          "line": 812,
          "old_api": "insert_filter",
          "new_api": "fabs",
          "old_text": "insert_filter(&last_filter, &pad_idx, \"transpose\", \"clock\")",
          "new_text": "fabs(theta - 90)",
          "old_line_content": "            ret = insert_filter(&last_filter, &pad_idx, \"transpose\", \"clock\");",
          "new_line_content": "        if (fabs(theta - 90) < 1.0) {",
          "content_same": false
        },
        {
          "line": 813,
          "old_api": "fabs",
          "new_api": "insert_filter",
          "old_text": "fabs(theta - 180)",
          "new_text": "insert_filter(&last_filter, &pad_idx, \"transpose\", \"clock\")",
          "old_line_content": "        } else if (fabs(theta - 180) < 1.0) {",
          "new_line_content": "            ret = insert_filter(&last_filter, &pad_idx, \"transpose\", \"clock\");",
          "content_same": false
        },
        {
          "line": 814,
          "old_api": "insert_filter",
          "new_api": "fabs",
          "old_text": "insert_filter(&last_filter, &pad_idx, \"hflip\", NULL)",
          "new_text": "fabs(theta - 180)",
          "old_line_content": "            ret = insert_filter(&last_filter, &pad_idx, \"hflip\", NULL);",
          "new_line_content": "        } else if (fabs(theta - 180) < 1.0) {",
          "content_same": false
        },
        {
          "line": 818,
          "old_api": "fabs",
          "new_api": "insert_filter",
          "old_text": "fabs(theta - 270)",
          "new_text": "insert_filter(&last_filter, &pad_idx, \"vflip\", NULL)",
          "old_line_content": "        } else if (fabs(theta - 270) < 1.0) {",
          "new_line_content": "            ret = insert_filter(&last_filter, &pad_idx, \"vflip\", NULL);",
          "content_same": false
        },
        {
          "line": 819,
          "old_api": "insert_filter",
          "new_api": "fabs",
          "old_text": "insert_filter(&last_filter, &pad_idx, \"transpose\", \"cclock\")",
          "new_text": "fabs(theta - 270)",
          "old_line_content": "            ret = insert_filter(&last_filter, &pad_idx, \"transpose\", \"cclock\");",
          "new_line_content": "        } else if (fabs(theta - 270) < 1.0) {",
          "content_same": false
        },
        {
          "line": 820,
          "old_api": "fabs",
          "new_api": "insert_filter",
          "old_text": "fabs(theta)",
          "new_text": "insert_filter(&last_filter, &pad_idx, \"transpose\", \"cclock\")",
          "old_line_content": "        } else if (fabs(theta) > 1.0) {",
          "new_line_content": "            ret = insert_filter(&last_filter, &pad_idx, \"transpose\", \"cclock\");",
          "content_same": false
        },
        {
          "line": 823,
          "old_api": "insert_filter",
          "new_api": "snprintf",
          "old_text": "insert_filter(&last_filter, &pad_idx, \"rotate\", rotate_buf)",
          "new_text": "snprintf(rotate_buf, sizeof(rotate_buf), \"%f*PI/180\", theta)",
          "old_line_content": "            ret = insert_filter(&last_filter, &pad_idx, \"rotate\", rotate_buf);",
          "new_line_content": "            snprintf(rotate_buf, sizeof(rotate_buf), \"%f*PI/180\", theta);",
          "content_same": false
        },
        {
          "line": 835,
          "old_api": "avfilter_get_by_name",
          "new_api": "avfilter_graph_create_filter",
          "old_text": "avfilter_get_by_name(\"yadif\")",
          "new_text": "avfilter_graph_create_filter(&yadif,\n                                                avfilter_get_by_name(\"yadif\"),\n                                                name, \"\", NULL,\n                                                fg->graph)",
          "old_line_content": "                                                avfilter_get_by_name(\"yadif\"),",
          "new_line_content": "        if ((ret = avfilter_graph_create_filter(&yadif,",
          "content_same": false
        },
        {
          "line": 882,
          "old_api": "AVERROR",
          "new_api": "av_log",
          "old_text": "AVERROR(EINVAL)",
          "new_text": "av_log(NULL, AV_LOG_ERROR, \"Cannot connect audio filter to non audio input\\n\")",
          "old_line_content": "        return AVERROR(EINVAL);",
          "new_line_content": "        av_log(NULL, AV_LOG_ERROR, \"Cannot connect audio filter to non audio input\\n\");",
          "content_same": false
        },
        {
          "line": 886,
          "old_api": "av_bprintf",
          "new_api": "av_bprint_init",
          "old_text": "av_bprintf(&args, \"time_base=%d/%d:sample_rate=%d:sample_fmt=%s\",\n             1, ifilter->sample_rate,\n             ifilter->sample_rate,\n             av_get_sample_fmt_name(ifilter->format))",
          "new_text": "av_bprint_init(&args, 0, AV_BPRINT_SIZE_AUTOMATIC)",
          "old_line_content": "    av_bprintf(&args, \"time_base=%d/%d:sample_rate=%d:sample_fmt=%s\",",
          "new_line_content": "    av_bprint_init(&args, 0, AV_BPRINT_SIZE_AUTOMATIC);",
          "content_same": false
        },
        {
          "line": 895,
          "old_api": "snprintf",
          "new_api": "av_bprintf",
          "old_text": "snprintf(name, sizeof(name), \"graph_%d_in_%d_%d\", fg->index,\n             ist->file_index, ist->st->index)",
          "new_text": "av_bprintf(&args, \":channels=%d\", ifilter->channels)",
          "old_line_content": "    snprintf(name, sizeof(name), \"graph_%d_in_%d_%d\", fg->index,",
          "new_line_content": "        av_bprintf(&args, \":channels=%d\", ifilter->channels);",
          "content_same": false
        },
        {
          "line": 933,
          "old_api": "AUTO_INSERT_FILTER_INPUT",
          "new_api": "av_strlcatf",
          "old_text": "AUTO_INSERT_FILTER_INPUT(\"-async\", \"aresample\", args)",
          "new_text": "av_strlcatf(args, sizeof(args), \":first_pts=0\")",
          "old_line_content": "        AUTO_INSERT_FILTER_INPUT(\"-async\", \"aresample\", args);",
          "new_line_content": "            av_strlcatf(args, sizeof(args), \":first_pts=0\");",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": "AUTO_INSERT_FILTER_INPUT",
          "new_api": "snprintf",
          "old_text": "AUTO_INSERT_FILTER_INPUT(\"-vol\", \"volume\", args)",
          "new_text": "snprintf(args, sizeof(args), \"%f\", audio_volume / 256.)",
          "old_line_content": "        AUTO_INSERT_FILTER_INPUT(\"-vol\", \"volume\", args);",
          "new_line_content": "        snprintf(args, sizeof(args), \"%f\", audio_volume / 256.);",
          "content_same": false
        },
        {
          "line": 988,
          "old_api": "configure_input_video_filter",
          "new_api": "avfilter_pad_get_type",
          "old_text": "configure_input_video_filter(fg, ifilter, in)",
          "new_text": "avfilter_pad_get_type(in->filter_ctx->input_pads, in->pad_idx)",
          "old_line_content": "    case AVMEDIA_TYPE_VIDEO: return configure_input_video_filter(fg, ifilter, in);",
          "new_line_content": "    switch (avfilter_pad_get_type(in->filter_ctx->input_pads, in->pad_idx)) {",
          "content_same": false
        },
        {
          "line": 989,
          "old_api": "configure_input_audio_filter",
          "new_api": "configure_input_video_filter",
          "old_text": "configure_input_audio_filter(fg, ifilter, in)",
          "new_text": "configure_input_video_filter(fg, ifilter, in)",
          "old_line_content": "    case AVMEDIA_TYPE_AUDIO: return configure_input_audio_filter(fg, ifilter, in);",
          "new_line_content": "    case AVMEDIA_TYPE_VIDEO: return configure_input_video_filter(fg, ifilter, in);",
          "content_same": false
        },
        {
          "line": 990,
          "old_api": "av_assert0",
          "new_api": "configure_input_audio_filter",
          "old_text": "av_assert0(0)",
          "new_text": "configure_input_audio_filter(fg, ifilter, in)",
          "old_line_content": "    default: av_assert0(0);",
          "new_line_content": "    case AVMEDIA_TYPE_AUDIO: return configure_input_audio_filter(fg, ifilter, in);",
          "content_same": false
        },
        {
          "line": 1012,
          "old_api": "avfilter_graph_alloc",
          "new_api": "cleanup_filtergraph",
          "old_text": "avfilter_graph_alloc()",
          "new_text": "cleanup_filtergraph(fg)",
          "old_line_content": "    if (!(fg->graph = avfilter_graph_alloc()))",
          "new_line_content": "    cleanup_filtergraph(fg);",
          "content_same": false
        },
        {
          "line": 1013,
          "old_api": "AVERROR",
          "new_api": "avfilter_graph_alloc",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "avfilter_graph_alloc()",
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "    if (!(fg->graph = avfilter_graph_alloc()))",
          "content_same": false
        },
        {
          "line": 1029,
          "old_api": "av_strdup",
          "new_api": "strlen",
          "old_text": "av_strdup(args)",
          "new_text": "strlen(args)",
          "old_line_content": "        fg->graph->scale_sws_opts = av_strdup(args);",
          "new_line_content": "            args[strlen(args)-1] = 0;",
          "content_same": false
        },
        {
          "line": 1038,
          "old_api": "av_opt_set",
          "new_api": "strlen",
          "old_text": "av_opt_set(fg->graph, \"aresample_swr_opts\", args, 0)",
          "new_text": "strlen(args)",
          "old_line_content": "        av_opt_set(fg->graph, \"aresample_swr_opts\", args, 0);",
          "new_line_content": "            args[strlen(args)-1] = 0;",
          "content_same": false
        },
        {
          "line": 1098,
          "old_api": "avfilter_inout_free",
          "new_api": "configure_input_filter",
          "old_text": "avfilter_inout_free(&inputs)",
          "new_text": "configure_input_filter(fg, fg->inputs[i], cur)",
          "old_line_content": "            avfilter_inout_free(&inputs);",
          "new_line_content": "        if ((ret = configure_input_filter(fg, fg->inputs[i], cur)) < 0) {",
          "content_same": false
        },
        {
          "line": 1106,
          "old_api": "avfilter_inout_free",
          "new_api": "configure_output_filter",
          "old_text": "avfilter_inout_free(&outputs)",
          "new_text": "configure_output_filter(fg, fg->outputs[i], cur)",
          "old_line_content": "    avfilter_inout_free(&outputs);",
          "new_line_content": "        configure_output_filter(fg, fg->outputs[i], cur);",
          "content_same": false
        },
        {
          "line": 1120,
          "old_api": "av_buffersink_get_h",
          "new_api": "av_buffersink_get_w",
          "old_text": "av_buffersink_get_h(sink)",
          "new_text": "av_buffersink_get_w(sink)",
          "old_line_content": "        ofilter->height = av_buffersink_get_h(sink);",
          "new_line_content": "        ofilter->width  = av_buffersink_get_w(sink);",
          "content_same": false
        },
        {
          "line": 1123,
          "old_api": "av_buffersink_get_channel_layout",
          "new_api": "av_buffersink_get_sample_rate",
          "old_text": "av_buffersink_get_channel_layout(sink)",
          "new_text": "av_buffersink_get_sample_rate(sink)",
          "old_line_content": "        ofilter->channel_layout = av_buffersink_get_channel_layout(sink);",
          "new_line_content": "        ofilter->sample_rate    = av_buffersink_get_sample_rate(sink);",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": "avcodec_get_name",
          "new_api": "av_log",
          "old_text": "avcodec_get_name(ost->st->codecpar->codec_id)",
          "new_text": "av_log(NULL, AV_LOG_ERROR, \"Encoder (codec %s) not found for output stream #%d:%d\\n\",\n                     avcodec_get_name(ost->st->codecpar->codec_id), ost->file_index, ost->index)",
          "old_line_content": "                     avcodec_get_name(ost->st->codecpar->codec_id), ost->file_index, ost->index);",
          "new_line_content": "            av_log(NULL, AV_LOG_ERROR, \"Encoder (codec %s) not found for output stream #%d:%d\\n\",",
          "content_same": false
        },
        {
          "line": 1135,
          "old_api": "AVERROR",
          "new_api": "avcodec_get_name",
          "old_text": "AVERROR(EINVAL)",
          "new_text": "avcodec_get_name(ost->st->codecpar->codec_id)",
          "old_line_content": "            ret = AVERROR(EINVAL);",
          "new_line_content": "                     avcodec_get_name(ost->st->codecpar->codec_id), ost->file_index, ost->index);",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": "av_buffersrc_add_frame",
          "new_api": "av_fifo_generic_read",
          "old_text": "av_buffersrc_add_frame(fg->inputs[i]->filter, tmp)",
          "new_text": "av_fifo_generic_read(fg->inputs[i]->frame_queue, &tmp, sizeof(tmp), NULL)",
          "old_line_content": "            ret = av_buffersrc_add_frame(fg->inputs[i]->filter, tmp);",
          "new_line_content": "            av_fifo_generic_read(fg->inputs[i]->frame_queue, &tmp, sizeof(tmp), NULL);",
          "content_same": false
        },
        {
          "line": 1149,
          "old_api": "av_frame_free",
          "new_api": "av_buffersrc_add_frame",
          "old_text": "av_frame_free(&tmp)",
          "new_text": "av_buffersrc_add_frame(fg->inputs[i]->filter, tmp)",
          "old_line_content": "            av_frame_free(&tmp);",
          "new_line_content": "            ret = av_buffersrc_add_frame(fg->inputs[i]->filter, tmp);",
          "content_same": false
        },
        {
          "line": 1171,
          "old_api": "sub2video_update",
          "new_api": "av_fifo_generic_read",
          "old_text": "sub2video_update(ist, &tmp)",
          "new_text": "av_fifo_generic_read(ist->sub2video.sub_queue, &tmp, sizeof(tmp), NULL)",
          "old_line_content": "                sub2video_update(ist, &tmp);",
          "new_line_content": "                av_fifo_generic_read(ist->sub2video.sub_queue, &tmp, sizeof(tmp), NULL);",
          "content_same": false
        },
        {
          "line": 1172,
          "old_api": "avsubtitle_free",
          "new_api": "sub2video_update",
          "old_text": "avsubtitle_free(&tmp)",
          "new_text": "sub2video_update(ist, &tmp)",
          "old_line_content": "                avsubtitle_free(&tmp);",
          "new_line_content": "                sub2video_update(ist, &tmp);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1024,
          "old_api": null,
          "new_api": "av_dict_get",
          "old_text": null,
          "new_text": "av_dict_get(ost->sws_dict, \"\", e,\n                                AV_DICT_IGNORE_SUFFIX)",
          "old_line_content": "                                AV_DICT_IGNORE_SUFFIX))) {",
          "new_line_content": "        while ((e = av_dict_get(ost->sws_dict, \"\", e,",
          "content_same": false
        },
        {
          "line": 1026,
          "old_api": null,
          "new_api": "av_strlcatf",
          "old_text": null,
          "new_text": "av_strlcatf(args, sizeof(args), \"%s=%s:\", e->key, e->value)",
          "old_line_content": "        }",
          "new_line_content": "            av_strlcatf(args, sizeof(args), \"%s=%s:\", e->key, e->value);",
          "content_same": false
        },
        {
          "line": 1030,
          "old_api": null,
          "new_api": "av_strdup",
          "old_text": null,
          "new_text": "av_strdup(args)",
          "old_line_content": "",
          "new_line_content": "        fg->graph->scale_sws_opts = av_strdup(args);",
          "content_same": false
        },
        {
          "line": 1033,
          "old_api": null,
          "new_api": "av_dict_get",
          "old_text": null,
          "new_text": "av_dict_get(ost->swr_opts, \"\", e,\n                                AV_DICT_IGNORE_SUFFIX)",
          "old_line_content": "                                AV_DICT_IGNORE_SUFFIX))) {",
          "new_line_content": "        while ((e = av_dict_get(ost->swr_opts, \"\", e,",
          "content_same": false
        },
        {
          "line": 1035,
          "old_api": null,
          "new_api": "av_strlcatf",
          "old_text": null,
          "new_text": "av_strlcatf(args, sizeof(args), \"%s=%s:\", e->key, e->value)",
          "old_line_content": "        }",
          "new_line_content": "            av_strlcatf(args, sizeof(args), \"%s=%s:\", e->key, e->value);",
          "content_same": false
        },
        {
          "line": 1039,
          "old_api": null,
          "new_api": "av_opt_set",
          "old_text": null,
          "new_text": "av_opt_set(fg->graph, \"aresample_swr_opts\", args, 0)",
          "old_line_content": "",
          "new_line_content": "        av_opt_set(fg->graph, \"aresample_swr_opts\", args, 0);",
          "content_same": false
        },
        {
          "line": 1042,
          "old_api": null,
          "new_api": "av_dict_get",
          "old_text": null,
          "new_text": "av_dict_get(fg->outputs[0]->ost->resample_opts, \"\", e,\n                                AV_DICT_IGNORE_SUFFIX)",
          "old_line_content": "                                AV_DICT_IGNORE_SUFFIX))) {",
          "new_line_content": "        while ((e = av_dict_get(fg->outputs[0]->ost->resample_opts, \"\", e,",
          "content_same": false
        },
        {
          "line": 1044,
          "old_api": null,
          "new_api": "av_strlcatf",
          "old_text": null,
          "new_text": "av_strlcatf(args, sizeof(args), \"%s=%s:\", e->key, e->value)",
          "old_line_content": "        }",
          "new_line_content": "            av_strlcatf(args, sizeof(args), \"%s=%s:\", e->key, e->value);",
          "content_same": false
        },
        {
          "line": 1047,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(args)",
          "old_line_content": "",
          "new_line_content": "            args[strlen(args) - 1] = '\\0';",
          "content_same": false
        },
        {
          "line": 1049,
          "old_api": null,
          "new_api": "av_dict_get",
          "old_text": null,
          "new_text": "av_dict_get(ost->encoder_opts, \"threads\", NULL, 0)",
          "old_line_content": "        if (e)",
          "new_line_content": "        e = av_dict_get(ost->encoder_opts, \"threads\", NULL, 0);",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": null,
          "new_api": "av_opt_set",
          "old_text": null,
          "new_text": "av_opt_set(fg->graph, \"threads\", e->value, 0)",
          "old_line_content": "    } else {",
          "new_line_content": "            av_opt_set(fg->graph, \"threads\", e->value, 0);",
          "content_same": false
        },
        {
          "line": 1056,
          "old_api": null,
          "new_api": "avfilter_graph_parse2",
          "old_text": null,
          "new_text": "avfilter_graph_parse2(fg->graph, graph_desc, &inputs, &outputs)",
          "old_line_content": "        goto fail;",
          "new_line_content": "    if ((ret = avfilter_graph_parse2(fg->graph, graph_desc, &inputs, &outputs)) < 0)",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": null,
          "new_api": "av_buffer_ref",
          "old_text": null,
          "new_text": "av_buffer_ref(device)",
          "old_line_content": "            if (!fg->graph->filters[i]->hw_device_ctx) {",
          "new_line_content": "            fg->graph->filters[i]->hw_device_ctx = av_buffer_ref(device);",
          "content_same": false
        },
        {
          "line": 1065,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "                goto fail;",
          "new_line_content": "                ret = AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_ERROR, \"Simple filtergraph '%s' was expected \"\n               \"to have exactly 1 input and 1 output.\"\n               \" However, it had %s input(s) and %s output(s).\"\n               \" Please adjust, or use a complex filtergraph (-filter_complex) instead.\\n\",\n               graph_desc, num_inputs, num_outputs)",
          "old_line_content": "               \"to have exactly 1 input and 1 output.\"",
          "new_line_content": "        av_log(NULL, AV_LOG_ERROR, \"Simple filtergraph '%s' was expected \"",
          "content_same": false
        },
        {
          "line": 1093,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "        goto fail;",
          "new_line_content": "        ret = AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": null,
          "new_api": "avfilter_inout_free",
          "old_text": null,
          "new_text": "avfilter_inout_free(&outputs)",
          "old_line_content": "            goto fail;",
          "new_line_content": "            avfilter_inout_free(&outputs);",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": null,
          "new_api": "avfilter_inout_free",
          "old_text": null,
          "new_text": "avfilter_inout_free(&inputs)",
          "old_line_content": "",
          "new_line_content": "    avfilter_inout_free(&inputs);",
          "content_same": false
        },
        {
          "line": 1107,
          "old_api": null,
          "new_api": "avfilter_inout_free",
          "old_text": null,
          "new_text": "avfilter_inout_free(&outputs)",
          "old_line_content": "",
          "new_line_content": "    avfilter_inout_free(&outputs);",
          "content_same": false
        },
        {
          "line": 1109,
          "old_api": null,
          "new_api": "avfilter_graph_config",
          "old_text": null,
          "new_text": "avfilter_graph_config(fg->graph, NULL)",
          "old_line_content": "        goto fail;",
          "new_line_content": "    if ((ret = avfilter_graph_config(fg->graph, NULL)) < 0)",
          "content_same": false
        },
        {
          "line": 1118,
          "old_api": null,
          "new_api": "av_buffersink_get_format",
          "old_text": null,
          "new_text": "av_buffersink_get_format(sink)",
          "old_line_content": "",
          "new_line_content": "        ofilter->format = av_buffersink_get_format(sink);",
          "content_same": false
        },
        {
          "line": 1121,
          "old_api": null,
          "new_api": "av_buffersink_get_h",
          "old_text": null,
          "new_text": "av_buffersink_get_h(sink)",
          "old_line_content": "",
          "new_line_content": "        ofilter->height = av_buffersink_get_h(sink);",
          "content_same": false
        },
        {
          "line": 1124,
          "old_api": null,
          "new_api": "av_buffersink_get_channel_layout",
          "old_text": null,
          "new_text": "av_buffersink_get_channel_layout(sink)",
          "old_line_content": "    }",
          "new_line_content": "        ofilter->channel_layout = av_buffersink_get_channel_layout(sink);",
          "content_same": false
        },
        {
          "line": 1136,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "            goto fail;",
          "new_line_content": "            ret = AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": null,
          "new_api": "av_buffersink_set_frame_size",
          "old_text": null,
          "new_text": "av_buffersink_set_frame_size(ost->filter->filter,\n                                         ost->enc_ctx->frame_size)",
          "old_line_content": "                                         ost->enc_ctx->frame_size);",
          "new_line_content": "            av_buffersink_set_frame_size(ost->filter->filter,",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": null,
          "new_api": "av_fifo_size",
          "old_text": null,
          "new_text": "av_fifo_size(fg->inputs[i]->frame_queue)",
          "old_line_content": "            AVFrame *tmp;",
          "new_line_content": "        while (av_fifo_size(fg->inputs[i]->frame_queue)) {",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": null,
          "new_api": "av_frame_free",
          "old_text": null,
          "new_text": "av_frame_free(&tmp)",
          "old_line_content": "            if (ret < 0)",
          "new_line_content": "            av_frame_free(&tmp);",
          "content_same": false
        },
        {
          "line": 1159,
          "old_api": null,
          "new_api": "av_buffersrc_add_frame",
          "old_text": null,
          "new_text": "av_buffersrc_add_frame(fg->inputs[i]->filter, NULL)",
          "old_line_content": "            if (ret < 0)",
          "new_line_content": "            ret = av_buffersrc_add_frame(fg->inputs[i]->filter, NULL);",
          "content_same": false
        },
        {
          "line": 1169,
          "old_api": null,
          "new_api": "av_fifo_size",
          "old_text": null,
          "new_text": "av_fifo_size(ist->sub2video.sub_queue)",
          "old_line_content": "                AVSubtitle tmp;",
          "new_line_content": "            while (av_fifo_size(ist->sub2video.sub_queue)) {",
          "content_same": false
        },
        {
          "line": 1173,
          "old_api": null,
          "new_api": "avsubtitle_free",
          "old_text": null,
          "new_text": "avsubtitle_free(&tmp)",
          "old_line_content": "            }",
          "new_line_content": "                avsubtitle_free(&tmp);",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": null,
          "new_api": "cleanup_filtergraph",
          "old_text": null,
          "new_text": "cleanup_filtergraph(fg)",
          "old_line_content": "    return ret;",
          "new_line_content": "    cleanup_filtergraph(fg);",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": null,
          "new_api": "av_buffer_unref",
          "old_text": null,
          "new_text": "av_buffer_unref(&ifilter->hw_frames_ctx)",
          "old_line_content": "",
          "new_line_content": "    av_buffer_unref(&ifilter->hw_frames_ctx);",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": null,
          "new_api": "av_buffer_ref",
          "old_text": null,
          "new_text": "av_buffer_ref(frame->hw_frames_ctx)",
          "old_line_content": "        if (!ifilter->hw_frames_ctx)",
          "new_line_content": "        ifilter->hw_frames_ctx = av_buffer_ref(frame->hw_frames_ctx);",
          "content_same": false
        },
        {
          "line": 1202,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    }",
          "new_line_content": "            return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": null,
          "new_api": "avfilter_get_by_name",
          "old_text": null,
          "new_text": "avfilter_get_by_name(\"buffer\")",
          "old_line_content": "    InputStream *ist = ifilter->ist;",
          "new_line_content": "    const AVFilter *buffer_filt = avfilter_get_by_name(\"buffer\");",
          "content_same": false
        },
        {
          "line": 753,
          "old_api": null,
          "new_api": "av_inv_q",
          "old_text": null,
          "new_text": "av_inv_q(ist->framerate)",
          "old_line_content": "                                         ist->st->time_base;",
          "new_line_content": "    AVRational tb = ist->framerate.num ? av_inv_q(ist->framerate) :",
          "content_same": false
        },
        {
          "line": 761,
          "old_api": null,
          "new_api": "av_buffersrc_parameters_alloc",
          "old_text": null,
          "new_text": "av_buffersrc_parameters_alloc()",
          "old_line_content": "",
          "new_line_content": "    AVBufferSrcParameters *par = av_buffersrc_parameters_alloc();",
          "content_same": false
        },
        {
          "line": 765,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(par, 0, sizeof(*par))",
          "old_line_content": "    par->format = AV_PIX_FMT_NONE;",
          "new_line_content": "    memset(par, 0, sizeof(*par));",
          "content_same": false
        },
        {
          "line": 770,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "        goto fail;",
          "new_line_content": "        ret = AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 775,
          "old_api": null,
          "new_api": "av_guess_frame_rate",
          "old_text": null,
          "new_text": "av_guess_frame_rate(input_files[ist->file_index]->ctx, ist->st, NULL)",
          "old_line_content": "",
          "new_line_content": "        fr = av_guess_frame_rate(input_files[ist->file_index]->ctx, ist->st, NULL);",
          "content_same": false
        },
        {
          "line": 778,
          "old_api": null,
          "new_api": "sub2video_prepare",
          "old_text": null,
          "new_text": "sub2video_prepare(ist, ifilter)",
          "old_line_content": "        if (ret < 0)",
          "new_line_content": "        ret = sub2video_prepare(ist, ifilter);",
          "content_same": false
        },
        {
          "line": 787,
          "old_api": null,
          "new_api": "av_bprintf",
          "old_text": null,
          "new_text": "av_bprintf(&args,\n             \"video_size=%dx%d:pix_fmt=%d:time_base=%d/%d:\"\n             \"pixel_aspect=%d/%d:sws_param=flags=%d\",\n             ifilter->width, ifilter->height, ifilter->format,\n             tb.num, tb.den, sar.num, sar.den,\n             SWS_BILINEAR + ((ist->dec_ctx->flags&AV_CODEC_FLAG_BITEXACT) ? SWS_BITEXACT:0))",
          "old_line_content": "             \"video_size=%dx%d:pix_fmt=%d:time_base=%d/%d:\"",
          "new_line_content": "    av_bprintf(&args,",
          "content_same": false
        },
        {
          "line": 795,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(name, sizeof(name), \"graph %d input from stream %d:%d\", fg->index,\n             ist->file_index, ist->st->index)",
          "old_line_content": "             ist->file_index, ist->st->index);",
          "new_line_content": "    snprintf(name, sizeof(name), \"graph %d input from stream %d:%d\", fg->index,",
          "content_same": false
        },
        {
          "line": 799,
          "old_api": null,
          "new_api": "avfilter_graph_create_filter",
          "old_text": null,
          "new_text": "avfilter_graph_create_filter(&ifilter->filter, buffer_filt, name,\n                                            args.str, NULL, fg->graph)",
          "old_line_content": "                                            args.str, NULL, fg->graph)) < 0)",
          "new_line_content": "    if ((ret = avfilter_graph_create_filter(&ifilter->filter, buffer_filt, name,",
          "content_same": false
        },
        {
          "line": 803,
          "old_api": null,
          "new_api": "av_buffersrc_parameters_set",
          "old_text": null,
          "new_text": "av_buffersrc_parameters_set(ifilter->filter, par)",
          "old_line_content": "    if (ret < 0)",
          "new_line_content": "    ret = av_buffersrc_parameters_set(ifilter->filter, par);",
          "content_same": false
        },
        {
          "line": 806,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&par)",
          "old_line_content": "    last_filter = ifilter->filter;",
          "new_line_content": "    av_freep(&par);",
          "content_same": false
        },
        {
          "line": 810,
          "old_api": null,
          "new_api": "get_rotation",
          "old_text": null,
          "new_text": "get_rotation(ist->st)",
          "old_line_content": "",
          "new_line_content": "        double theta = get_rotation(ist->st);",
          "content_same": false
        },
        {
          "line": 815,
          "old_api": null,
          "new_api": "insert_filter",
          "old_text": null,
          "new_text": "insert_filter(&last_filter, &pad_idx, \"hflip\", NULL)",
          "old_line_content": "            if (ret < 0)",
          "new_line_content": "            ret = insert_filter(&last_filter, &pad_idx, \"hflip\", NULL);",
          "content_same": false
        },
        {
          "line": 821,
          "old_api": null,
          "new_api": "fabs",
          "old_text": null,
          "new_text": "fabs(theta)",
          "old_line_content": "            char rotate_buf[64];",
          "new_line_content": "        } else if (fabs(theta) > 1.0) {",
          "content_same": false
        },
        {
          "line": 824,
          "old_api": null,
          "new_api": "insert_filter",
          "old_text": null,
          "new_text": "insert_filter(&last_filter, &pad_idx, \"rotate\", rotate_buf)",
          "old_line_content": "        }",
          "new_line_content": "            ret = insert_filter(&last_filter, &pad_idx, \"rotate\", rotate_buf);",
          "content_same": false
        },
        {
          "line": 833,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(name, sizeof(name), \"deinterlace_in_%d_%d\",\n                 ist->file_index, ist->st->index)",
          "old_line_content": "                 ist->file_index, ist->st->index);",
          "new_line_content": "        snprintf(name, sizeof(name), \"deinterlace_in_%d_%d\",",
          "content_same": false
        },
        {
          "line": 836,
          "old_api": null,
          "new_api": "avfilter_get_by_name",
          "old_text": null,
          "new_text": "avfilter_get_by_name(\"yadif\")",
          "old_line_content": "                                                name, \"\", NULL,",
          "new_line_content": "                                                avfilter_get_by_name(\"yadif\"),",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": null,
          "new_api": "avfilter_link",
          "old_text": null,
          "new_text": "avfilter_link(last_filter, 0, yadif, 0)",
          "old_line_content": "            return ret;",
          "new_line_content": "        if ((ret = avfilter_link(last_filter, 0, yadif, 0)) < 0)",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(name, sizeof(name), \"trim_in_%d_%d\",\n             ist->file_index, ist->st->index)",
          "old_line_content": "             ist->file_index, ist->st->index);",
          "new_line_content": "    snprintf(name, sizeof(name), \"trim_in_%d_%d\",",
          "content_same": false
        },
        {
          "line": 854,
          "old_api": null,
          "new_api": "insert_trim",
          "old_text": null,
          "new_text": "insert_trim(((f->start_time == AV_NOPTS_VALUE) || !f->accurate_seek) ?\n                      AV_NOPTS_VALUE : tsoffset, f->recording_time,\n                      &last_filter, &pad_idx, name)",
          "old_line_content": "                      AV_NOPTS_VALUE : tsoffset, f->recording_time,",
          "new_line_content": "    ret = insert_trim(((f->start_time == AV_NOPTS_VALUE) || !f->accurate_seek) ?",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": null,
          "new_api": "avfilter_link",
          "old_text": null,
          "new_text": "avfilter_link(last_filter, 0, in->filter_ctx, in->pad_idx)",
          "old_line_content": "        return ret;",
          "new_line_content": "    if ((ret = avfilter_link(last_filter, 0, in->filter_ctx, in->pad_idx)) < 0)",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&par)",
          "old_line_content": "",
          "new_line_content": "    av_freep(&par);",
          "content_same": false
        },
        {
          "line": 873,
          "old_api": null,
          "new_api": "avfilter_get_by_name",
          "old_text": null,
          "new_text": "avfilter_get_by_name(\"abuffer\")",
          "old_line_content": "    InputStream *ist = ifilter->ist;",
          "new_line_content": "    const AVFilter *abuffer_filt = avfilter_get_by_name(\"abuffer\");",
          "content_same": false
        },
        {
          "line": 883,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "    }",
          "new_line_content": "        return AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 887,
          "old_api": null,
          "new_api": "av_bprintf",
          "old_text": null,
          "new_text": "av_bprintf(&args, \"time_base=%d/%d:sample_rate=%d:sample_fmt=%s\",\n             1, ifilter->sample_rate,\n             ifilter->sample_rate,\n             av_get_sample_fmt_name(ifilter->format))",
          "old_line_content": "             1, ifilter->sample_rate,",
          "new_line_content": "    av_bprintf(&args, \"time_base=%d/%d:sample_rate=%d:sample_fmt=%s\",",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": null,
          "new_api": "av_get_sample_fmt_name",
          "old_text": null,
          "new_text": "av_get_sample_fmt_name(ifilter->format)",
          "old_line_content": "    if (ifilter->channel_layout)",
          "new_line_content": "             av_get_sample_fmt_name(ifilter->format));",
          "content_same": false
        },
        {
          "line": 892,
          "old_api": null,
          "new_api": "av_bprintf",
          "old_text": null,
          "new_text": "av_bprintf(&args, \":channel_layout=0x%\"PRIx64,\n                   ifilter->channel_layout)",
          "old_line_content": "                   ifilter->channel_layout);",
          "new_line_content": "        av_bprintf(&args, \":channel_layout=0x%\"PRIx64,",
          "content_same": false
        },
        {
          "line": 896,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(name, sizeof(name), \"graph_%d_in_%d_%d\", fg->index,\n             ist->file_index, ist->st->index)",
          "old_line_content": "             ist->file_index, ist->st->index);",
          "new_line_content": "    snprintf(name, sizeof(name), \"graph_%d_in_%d_%d\", fg->index,",
          "content_same": false
        },
        {
          "line": 899,
          "old_api": null,
          "new_api": "avfilter_graph_create_filter",
          "old_text": null,
          "new_text": "avfilter_graph_create_filter(&ifilter->filter, abuffer_filt,\n                                            name, args.str, NULL,\n                                            fg->graph)",
          "old_line_content": "                                            name, args.str, NULL,",
          "new_line_content": "    if ((ret = avfilter_graph_create_filter(&ifilter->filter, abuffer_filt,",
          "content_same": false
        },
        {
          "line": 929,
          "old_api": null,
          "new_api": "av_strlcatf",
          "old_text": null,
          "new_text": "av_strlcatf(args, sizeof(args), \"async=%d\", audio_sync_method)",
          "old_line_content": "        if (audio_drift_threshold != 0.1)",
          "new_line_content": "        av_strlcatf(args, sizeof(args), \"async=%d\", audio_sync_method);",
          "content_same": false
        },
        {
          "line": 931,
          "old_api": null,
          "new_api": "av_strlcatf",
          "old_text": null,
          "new_text": "av_strlcatf(args, sizeof(args), \":min_hard_comp=%f\", audio_drift_threshold)",
          "old_line_content": "        if (!fg->reconfiguration)",
          "new_line_content": "            av_strlcatf(args, sizeof(args), \":min_hard_comp=%f\", audio_drift_threshold);",
          "content_same": false
        },
        {
          "line": 934,
          "old_api": null,
          "new_api": "AUTO_INSERT_FILTER_INPUT",
          "old_text": null,
          "new_text": "AUTO_INSERT_FILTER_INPUT(\"-async\", \"aresample\", args)",
          "old_line_content": "    }",
          "new_line_content": "        AUTO_INSERT_FILTER_INPUT(\"-async\", \"aresample\", args);",
          "content_same": false
        },
        {
          "line": 953,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_WARNING, \"-vol has been deprecated. Use the volume \"\n               \"audio filter instead.\\n\")",
          "old_line_content": "               \"audio filter instead.\\n\");",
          "new_line_content": "        av_log(NULL, AV_LOG_WARNING, \"-vol has been deprecated. Use the volume \"",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": null,
          "new_api": "AUTO_INSERT_FILTER_INPUT",
          "old_text": null,
          "new_text": "AUTO_INSERT_FILTER_INPUT(\"-vol\", \"volume\", args)",
          "old_line_content": "    }",
          "new_line_content": "        AUTO_INSERT_FILTER_INPUT(\"-vol\", \"volume\", args);",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(name, sizeof(name), \"trim for input stream %d:%d\",\n             ist->file_index, ist->st->index)",
          "old_line_content": "             ist->file_index, ist->st->index);",
          "new_line_content": "    snprintf(name, sizeof(name), \"trim for input stream %d:%d\",",
          "content_same": false
        },
        {
          "line": 967,
          "old_api": null,
          "new_api": "insert_trim",
          "old_text": null,
          "new_text": "insert_trim(((f->start_time == AV_NOPTS_VALUE) || !f->accurate_seek) ?\n                      AV_NOPTS_VALUE : tsoffset, f->recording_time,\n                      &last_filter, &pad_idx, name)",
          "old_line_content": "                      AV_NOPTS_VALUE : tsoffset, f->recording_time,",
          "new_line_content": "    ret = insert_trim(((f->start_time == AV_NOPTS_VALUE) || !f->accurate_seek) ?",
          "content_same": false
        },
        {
          "line": 973,
          "old_api": null,
          "new_api": "avfilter_link",
          "old_text": null,
          "new_text": "avfilter_link(last_filter, 0, in->filter_ctx, in->pad_idx)",
          "old_line_content": "        return ret;",
          "new_line_content": "    if ((ret = avfilter_link(last_filter, 0, in->filter_ctx, in->pad_idx)) < 0)",
          "content_same": false
        },
        {
          "line": 983,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(NULL, AV_LOG_ERROR,\n               \"No decoder for stream #%d:%d, filtering impossible\\n\",\n               ifilter->ist->file_index, ifilter->ist->st->index)",
          "old_line_content": "               \"No decoder for stream #%d:%d, filtering impossible\\n\",",
          "new_line_content": "        av_log(NULL, AV_LOG_ERROR,",
          "content_same": false
        },
        {
          "line": 991,
          "old_api": null,
          "new_api": "av_assert0",
          "old_text": null,
          "new_text": "av_assert0(0)",
          "old_line_content": "    }",
          "new_line_content": "    default: av_assert0(0);",
          "content_same": false
        },
        {
          "line": 1002,
          "old_api": null,
          "new_api": "avfilter_graph_free",
          "old_text": null,
          "new_text": "avfilter_graph_free(&fg->graph)",
          "old_line_content": "}",
          "new_line_content": "    avfilter_graph_free(&fg->graph);",
          "content_same": false
        },
        {
          "line": 1008,
          "old_api": null,
          "new_api": "filtergraph_is_simple",
          "old_text": null,
          "new_text": "filtergraph_is_simple(fg)",
          "old_line_content": "    const char *graph_desc = simple ? fg->outputs[0]->ost->avfilter :",
          "new_line_content": "    int ret, i, simple = filtergraph_is_simple(fg);",
          "content_same": false
        },
        {
          "line": 1014,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1025,
          "old_api": "av_strlcatf",
          "new_api": null,
          "old_text": "av_strlcatf(args, sizeof(args), \"%s=%s:\", e->key, e->value)",
          "new_text": null,
          "old_line_content": "            av_strlcatf(args, sizeof(args), \"%s=%s:\", e->key, e->value);",
          "new_line_content": "                                AV_DICT_IGNORE_SUFFIX))) {",
          "content_same": false
        },
        {
          "line": 1027,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(args)",
          "new_text": null,
          "old_line_content": "        if (strlen(args))",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1032,
          "old_api": "av_dict_get",
          "new_api": null,
          "old_text": "av_dict_get(ost->swr_opts, \"\", e,\n                                AV_DICT_IGNORE_SUFFIX)",
          "new_text": null,
          "old_line_content": "        while ((e = av_dict_get(ost->swr_opts, \"\", e,",
          "new_line_content": "        args[0] = 0;",
          "content_same": false
        },
        {
          "line": 1034,
          "old_api": "av_strlcatf",
          "new_api": null,
          "old_text": "av_strlcatf(args, sizeof(args), \"%s=%s:\", e->key, e->value)",
          "new_text": null,
          "old_line_content": "            av_strlcatf(args, sizeof(args), \"%s=%s:\", e->key, e->value);",
          "new_line_content": "                                AV_DICT_IGNORE_SUFFIX))) {",
          "content_same": false
        },
        {
          "line": 1036,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(args)",
          "new_text": null,
          "old_line_content": "        if (strlen(args))",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1041,
          "old_api": "av_dict_get",
          "new_api": null,
          "old_text": "av_dict_get(fg->outputs[0]->ost->resample_opts, \"\", e,\n                                AV_DICT_IGNORE_SUFFIX)",
          "new_text": null,
          "old_line_content": "        while ((e = av_dict_get(fg->outputs[0]->ost->resample_opts, \"\", e,",
          "new_line_content": "        args[0] = '\\0';",
          "content_same": false
        },
        {
          "line": 1043,
          "old_api": "av_strlcatf",
          "new_api": null,
          "old_text": "av_strlcatf(args, sizeof(args), \"%s=%s:\", e->key, e->value)",
          "new_text": null,
          "old_line_content": "            av_strlcatf(args, sizeof(args), \"%s=%s:\", e->key, e->value);",
          "new_line_content": "                                AV_DICT_IGNORE_SUFFIX))) {",
          "content_same": false
        },
        {
          "line": 1045,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(args)",
          "new_text": null,
          "old_line_content": "        if (strlen(args))",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1048,
          "old_api": "av_dict_get",
          "new_api": null,
          "old_text": "av_dict_get(ost->encoder_opts, \"threads\", NULL, 0)",
          "new_text": null,
          "old_line_content": "        e = av_dict_get(ost->encoder_opts, \"threads\", NULL, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1050,
          "old_api": "av_opt_set",
          "new_api": null,
          "old_text": "av_opt_set(fg->graph, \"threads\", e->value, 0)",
          "new_text": null,
          "old_line_content": "            av_opt_set(fg->graph, \"threads\", e->value, 0);",
          "new_line_content": "        if (e)",
          "content_same": false
        },
        {
          "line": 1055,
          "old_api": "avfilter_graph_parse2",
          "new_api": null,
          "old_text": "avfilter_graph_parse2(fg->graph, graph_desc, &inputs, &outputs)",
          "new_text": null,
          "old_line_content": "    if ((ret = avfilter_graph_parse2(fg->graph, graph_desc, &inputs, &outputs)) < 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1062,
          "old_api": "av_buffer_ref",
          "new_api": null,
          "old_text": "av_buffer_ref(device)",
          "new_text": null,
          "old_line_content": "            fg->graph->filters[i]->hw_device_ctx = av_buffer_ref(device);",
          "new_line_content": "        for (i = 0; i < fg->graph->nb_filters; i++) {",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "                ret = AVERROR(ENOMEM);",
          "new_line_content": "            if (!fg->graph->filters[i]->hw_device_ctx) {",
          "content_same": false
        },
        {
          "line": 1087,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_ERROR, \"Simple filtergraph '%s' was expected \"\n               \"to have exactly 1 input and 1 output.\"\n               \" However, it had %s input(s) and %s output(s).\"\n               \" Please adjust, or use a complex filtergraph (-filter_complex) instead.\\n\",\n               graph_desc, num_inputs, num_outputs)",
          "new_text": null,
          "old_line_content": "        av_log(NULL, AV_LOG_ERROR, \"Simple filtergraph '%s' was expected \"",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1092,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(EINVAL)",
          "new_text": null,
          "old_line_content": "        ret = AVERROR(EINVAL);",
          "new_line_content": "               graph_desc, num_inputs, num_outputs);",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": "configure_input_filter",
          "new_api": null,
          "old_text": "configure_input_filter(fg, fg->inputs[i], cur)",
          "new_text": null,
          "old_line_content": "        if ((ret = configure_input_filter(fg, fg->inputs[i], cur)) < 0) {",
          "new_line_content": "    for (cur = inputs, i = 0; cur; cur = cur->next, i++)",
          "content_same": false
        },
        {
          "line": 1102,
          "old_api": "avfilter_inout_free",
          "new_api": null,
          "old_text": "avfilter_inout_free(&inputs)",
          "new_text": null,
          "old_line_content": "    avfilter_inout_free(&inputs);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1105,
          "old_api": "configure_output_filter",
          "new_api": null,
          "old_text": "configure_output_filter(fg, fg->outputs[i], cur)",
          "new_text": null,
          "old_line_content": "        configure_output_filter(fg, fg->outputs[i], cur);",
          "new_line_content": "    for (cur = outputs, i = 0; cur; cur = cur->next, i++)",
          "content_same": false
        },
        {
          "line": 1108,
          "old_api": "avfilter_graph_config",
          "new_api": null,
          "old_text": "avfilter_graph_config(fg->graph, NULL)",
          "new_text": null,
          "old_line_content": "    if ((ret = avfilter_graph_config(fg->graph, NULL)) < 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1117,
          "old_api": "av_buffersink_get_format",
          "new_api": null,
          "old_text": "av_buffersink_get_format(sink)",
          "new_text": null,
          "old_line_content": "        ofilter->format = av_buffersink_get_format(sink);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1119,
          "old_api": "av_buffersink_get_w",
          "new_api": null,
          "old_text": "av_buffersink_get_w(sink)",
          "new_text": null,
          "old_line_content": "        ofilter->width  = av_buffersink_get_w(sink);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1122,
          "old_api": "av_buffersink_get_sample_rate",
          "new_api": null,
          "old_text": "av_buffersink_get_sample_rate(sink)",
          "new_text": null,
          "old_line_content": "        ofilter->sample_rate    = av_buffersink_get_sample_rate(sink);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_ERROR, \"Encoder (codec %s) not found for output stream #%d:%d\\n\",\n                     avcodec_get_name(ost->st->codecpar->codec_id), ost->file_index, ost->index)",
          "new_text": null,
          "old_line_content": "            av_log(NULL, AV_LOG_ERROR, \"Encoder (codec %s) not found for output stream #%d:%d\\n\",",
          "new_line_content": "               complex filter graphs are initialized earlier */",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": "av_buffersink_set_frame_size",
          "new_api": null,
          "old_text": "av_buffersink_set_frame_size(ost->filter->filter,\n                                         ost->enc_ctx->frame_size)",
          "new_text": null,
          "old_line_content": "            av_buffersink_set_frame_size(ost->filter->filter,",
          "new_line_content": "            !(ost->enc->capabilities & AV_CODEC_CAP_VARIABLE_FRAME_SIZE))",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": "av_fifo_size",
          "new_api": null,
          "old_text": "av_fifo_size(fg->inputs[i]->frame_queue)",
          "new_text": null,
          "old_line_content": "        while (av_fifo_size(fg->inputs[i]->frame_queue)) {",
          "new_line_content": "    for (i = 0; i < fg->nb_inputs; i++) {",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": "av_fifo_generic_read",
          "new_api": null,
          "old_text": "av_fifo_generic_read(fg->inputs[i]->frame_queue, &tmp, sizeof(tmp), NULL)",
          "new_text": null,
          "old_line_content": "            av_fifo_generic_read(fg->inputs[i]->frame_queue, &tmp, sizeof(tmp), NULL);",
          "new_line_content": "            AVFrame *tmp;",
          "content_same": false
        },
        {
          "line": 1158,
          "old_api": "av_buffersrc_add_frame",
          "new_api": null,
          "old_text": "av_buffersrc_add_frame(fg->inputs[i]->filter, NULL)",
          "new_text": null,
          "old_line_content": "            ret = av_buffersrc_add_frame(fg->inputs[i]->filter, NULL);",
          "new_line_content": "        if (fg->inputs[i]->eof) {",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": "av_fifo_size",
          "new_api": null,
          "old_text": "av_fifo_size(ist->sub2video.sub_queue)",
          "new_text": null,
          "old_line_content": "            while (av_fifo_size(ist->sub2video.sub_queue)) {",
          "new_line_content": "        if (ist->sub2video.sub_queue && ist->sub2video.frame) {",
          "content_same": false
        },
        {
          "line": 1170,
          "old_api": "av_fifo_generic_read",
          "new_api": null,
          "old_text": "av_fifo_generic_read(ist->sub2video.sub_queue, &tmp, sizeof(tmp), NULL)",
          "new_text": null,
          "old_line_content": "                av_fifo_generic_read(ist->sub2video.sub_queue, &tmp, sizeof(tmp), NULL);",
          "new_line_content": "                AVSubtitle tmp;",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": "cleanup_filtergraph",
          "new_api": null,
          "old_text": "cleanup_filtergraph(fg)",
          "new_text": null,
          "old_line_content": "    cleanup_filtergraph(fg);",
          "new_line_content": "fail:",
          "content_same": false
        },
        {
          "line": 1186,
          "old_api": "av_buffer_unref",
          "new_api": null,
          "old_text": "av_buffer_unref(&ifilter->hw_frames_ctx)",
          "new_text": null,
          "old_line_content": "    av_buffer_unref(&ifilter->hw_frames_ctx);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1199,
          "old_api": "av_buffer_ref",
          "new_api": null,
          "old_text": "av_buffer_ref(frame->hw_frames_ctx)",
          "new_text": null,
          "old_line_content": "        ifilter->hw_frames_ctx = av_buffer_ref(frame->hw_frames_ctx);",
          "new_line_content": "    if (frame->hw_frames_ctx) {",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "            return AVERROR(ENOMEM);",
          "new_line_content": "        if (!ifilter->hw_frames_ctx)",
          "content_same": false
        },
        {
          "line": 749,
          "old_api": "avfilter_get_by_name",
          "new_api": null,
          "old_text": "avfilter_get_by_name(\"buffer\")",
          "new_text": null,
          "old_line_content": "    const AVFilter *buffer_filt = avfilter_get_by_name(\"buffer\");",
          "new_line_content": "    AVFilterContext *last_filter;",
          "content_same": false
        },
        {
          "line": 752,
          "old_api": "av_inv_q",
          "new_api": null,
          "old_text": "av_inv_q(ist->framerate)",
          "new_text": null,
          "old_line_content": "    AVRational tb = ist->framerate.num ? av_inv_q(ist->framerate) :",
          "new_line_content": "    InputFile     *f = input_files[ist->file_index];",
          "content_same": false
        },
        {
          "line": 760,
          "old_api": "av_buffersrc_parameters_alloc",
          "new_api": null,
          "old_text": "av_buffersrc_parameters_alloc()",
          "new_text": null,
          "old_line_content": "    AVBufferSrcParameters *par = av_buffersrc_parameters_alloc();",
          "new_line_content": "    int64_t tsoffset = 0;",
          "content_same": false
        },
        {
          "line": 763,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "    if (!par)",
          "content_same": false
        },
        {
          "line": 768,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_ERROR, \"Cannot connect video filter to audio input\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(NULL, AV_LOG_ERROR, \"Cannot connect video filter to audio input\\n\");",
          "new_line_content": "    if (ist->dec_ctx->codec_type == AVMEDIA_TYPE_AUDIO) {",
          "content_same": false
        },
        {
          "line": 774,
          "old_api": "av_guess_frame_rate",
          "new_api": null,
          "old_text": "av_guess_frame_rate(input_files[ist->file_index]->ctx, ist->st, NULL)",
          "new_text": null,
          "old_line_content": "        fr = av_guess_frame_rate(input_files[ist->file_index]->ctx, ist->st, NULL);",
          "new_line_content": "    if (!fr.num)",
          "content_same": false
        },
        {
          "line": 777,
          "old_api": "sub2video_prepare",
          "new_api": null,
          "old_text": "sub2video_prepare(ist, ifilter)",
          "new_text": null,
          "old_line_content": "        ret = sub2video_prepare(ist, ifilter);",
          "new_line_content": "    if (ist->dec_ctx->codec_type == AVMEDIA_TYPE_SUBTITLE) {",
          "content_same": false
        },
        {
          "line": 785,
          "old_api": "av_bprint_init",
          "new_api": null,
          "old_text": "av_bprint_init(&args, 0, AV_BPRINT_SIZE_AUTOMATIC)",
          "new_text": null,
          "old_line_content": "    av_bprint_init(&args, 0, AV_BPRINT_SIZE_AUTOMATIC);",
          "new_line_content": "        sar = (AVRational){0,1};",
          "content_same": false
        },
        {
          "line": 793,
          "old_api": "av_bprintf",
          "new_api": null,
          "old_text": "av_bprintf(&args, \":frame_rate=%d/%d\", fr.num, fr.den)",
          "new_text": null,
          "old_line_content": "        av_bprintf(&args, \":frame_rate=%d/%d\", fr.num, fr.den);",
          "new_line_content": "    if (fr.num && fr.den)",
          "content_same": false
        },
        {
          "line": 798,
          "old_api": "avfilter_graph_create_filter",
          "new_api": null,
          "old_text": "avfilter_graph_create_filter(&ifilter->filter, buffer_filt, name,\n                                            args.str, NULL, fg->graph)",
          "new_text": null,
          "old_line_content": "    if ((ret = avfilter_graph_create_filter(&ifilter->filter, buffer_filt, name,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 802,
          "old_api": "av_buffersrc_parameters_set",
          "new_api": null,
          "old_text": "av_buffersrc_parameters_set(ifilter->filter, par)",
          "new_text": null,
          "old_line_content": "    ret = av_buffersrc_parameters_set(ifilter->filter, par);",
          "new_line_content": "    par->hw_frames_ctx = ifilter->hw_frames_ctx;",
          "content_same": false
        },
        {
          "line": 805,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&par)",
          "new_text": null,
          "old_line_content": "    av_freep(&par);",
          "new_line_content": "        goto fail;",
          "content_same": false
        },
        {
          "line": 809,
          "old_api": "get_rotation",
          "new_api": null,
          "old_text": "get_rotation(ist->st)",
          "new_text": null,
          "old_line_content": "        double theta = get_rotation(ist->st);",
          "new_line_content": "    if (ist->autorotate) {",
          "content_same": false
        },
        {
          "line": 811,
          "old_api": "fabs",
          "new_api": null,
          "old_text": "fabs(theta - 90)",
          "new_text": null,
          "old_line_content": "        if (fabs(theta - 90) < 1.0) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 817,
          "old_api": "insert_filter",
          "new_api": null,
          "old_text": "insert_filter(&last_filter, &pad_idx, \"vflip\", NULL)",
          "new_text": null,
          "old_line_content": "            ret = insert_filter(&last_filter, &pad_idx, \"vflip\", NULL);",
          "new_line_content": "                return ret;",
          "content_same": false
        },
        {
          "line": 822,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(rotate_buf, sizeof(rotate_buf), \"%f*PI/180\", theta)",
          "new_text": null,
          "old_line_content": "            snprintf(rotate_buf, sizeof(rotate_buf), \"%f*PI/180\", theta);",
          "new_line_content": "            char rotate_buf[64];",
          "content_same": false
        },
        {
          "line": 832,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(name, sizeof(name), \"deinterlace_in_%d_%d\",\n                 ist->file_index, ist->st->index)",
          "new_text": null,
          "old_line_content": "        snprintf(name, sizeof(name), \"deinterlace_in_%d_%d\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 834,
          "old_api": "avfilter_graph_create_filter",
          "new_api": null,
          "old_text": "avfilter_graph_create_filter(&yadif,\n                                                avfilter_get_by_name(\"yadif\"),\n                                                name, \"\", NULL,\n                                                fg->graph)",
          "new_text": null,
          "old_line_content": "        if ((ret = avfilter_graph_create_filter(&yadif,",
          "new_line_content": "                 ist->file_index, ist->st->index);",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": "avfilter_link",
          "new_api": null,
          "old_text": "avfilter_link(last_filter, 0, yadif, 0)",
          "new_text": null,
          "old_line_content": "        if ((ret = avfilter_link(last_filter, 0, yadif, 0)) < 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(name, sizeof(name), \"trim_in_%d_%d\",\n             ist->file_index, ist->st->index)",
          "new_text": null,
          "old_line_content": "    snprintf(name, sizeof(name), \"trim_in_%d_%d\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 853,
          "old_api": "insert_trim",
          "new_api": null,
          "old_text": "insert_trim(((f->start_time == AV_NOPTS_VALUE) || !f->accurate_seek) ?\n                      AV_NOPTS_VALUE : tsoffset, f->recording_time,\n                      &last_filter, &pad_idx, name)",
          "new_text": null,
          "old_line_content": "    ret = insert_trim(((f->start_time == AV_NOPTS_VALUE) || !f->accurate_seek) ?",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 859,
          "old_api": "avfilter_link",
          "new_api": null,
          "old_text": "avfilter_link(last_filter, 0, in->filter_ctx, in->pad_idx)",
          "new_text": null,
          "old_line_content": "    if ((ret = avfilter_link(last_filter, 0, in->filter_ctx, in->pad_idx)) < 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&par)",
          "new_text": null,
          "old_line_content": "    av_freep(&par);",
          "new_line_content": "fail:",
          "content_same": false
        },
        {
          "line": 872,
          "old_api": "avfilter_get_by_name",
          "new_api": null,
          "old_text": "avfilter_get_by_name(\"abuffer\")",
          "new_text": null,
          "old_line_content": "    const AVFilter *abuffer_filt = avfilter_get_by_name(\"abuffer\");",
          "new_line_content": "    AVFilterContext *last_filter;",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_ERROR, \"Cannot connect audio filter to non audio input\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(NULL, AV_LOG_ERROR, \"Cannot connect audio filter to non audio input\\n\");",
          "new_line_content": "    if (ist->dec_ctx->codec_type != AVMEDIA_TYPE_AUDIO) {",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": "av_bprint_init",
          "new_api": null,
          "old_text": "av_bprint_init(&args, 0, AV_BPRINT_SIZE_AUTOMATIC)",
          "new_text": null,
          "old_line_content": "    av_bprint_init(&args, 0, AV_BPRINT_SIZE_AUTOMATIC);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 889,
          "old_api": "av_get_sample_fmt_name",
          "new_api": null,
          "old_text": "av_get_sample_fmt_name(ifilter->format)",
          "new_text": null,
          "old_line_content": "             av_get_sample_fmt_name(ifilter->format));",
          "new_line_content": "             ifilter->sample_rate,",
          "content_same": false
        },
        {
          "line": 891,
          "old_api": "av_bprintf",
          "new_api": null,
          "old_text": "av_bprintf(&args, \":channel_layout=0x%\"PRIx64,\n                   ifilter->channel_layout)",
          "new_text": null,
          "old_line_content": "        av_bprintf(&args, \":channel_layout=0x%\"PRIx64,",
          "new_line_content": "    if (ifilter->channel_layout)",
          "content_same": false
        },
        {
          "line": 894,
          "old_api": "av_bprintf",
          "new_api": null,
          "old_text": "av_bprintf(&args, \":channels=%d\", ifilter->channels)",
          "new_text": null,
          "old_line_content": "        av_bprintf(&args, \":channels=%d\", ifilter->channels);",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 898,
          "old_api": "avfilter_graph_create_filter",
          "new_api": null,
          "old_text": "avfilter_graph_create_filter(&ifilter->filter, abuffer_filt,\n                                            name, args.str, NULL,\n                                            fg->graph)",
          "new_text": null,
          "old_line_content": "    if ((ret = avfilter_graph_create_filter(&ifilter->filter, abuffer_filt,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 928,
          "old_api": "av_strlcatf",
          "new_api": null,
          "old_text": "av_strlcatf(args, sizeof(args), \"async=%d\", audio_sync_method)",
          "new_text": null,
          "old_line_content": "        av_strlcatf(args, sizeof(args), \"async=%d\", audio_sync_method);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 930,
          "old_api": "av_strlcatf",
          "new_api": null,
          "old_text": "av_strlcatf(args, sizeof(args), \":min_hard_comp=%f\", audio_drift_threshold)",
          "new_text": null,
          "old_line_content": "            av_strlcatf(args, sizeof(args), \":min_hard_comp=%f\", audio_drift_threshold);",
          "new_line_content": "        if (audio_drift_threshold != 0.1)",
          "content_same": false
        },
        {
          "line": 932,
          "old_api": "av_strlcatf",
          "new_api": null,
          "old_text": "av_strlcatf(args, sizeof(args), \":first_pts=0\")",
          "new_text": null,
          "old_line_content": "            av_strlcatf(args, sizeof(args), \":first_pts=0\");",
          "new_line_content": "        if (!fg->reconfiguration)",
          "content_same": false
        },
        {
          "line": 952,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_WARNING, \"-vol has been deprecated. Use the volume \"\n               \"audio filter instead.\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(NULL, AV_LOG_WARNING, \"-vol has been deprecated. Use the volume \"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 955,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(args, sizeof(args), \"%f\", audio_volume / 256.)",
          "new_text": null,
          "old_line_content": "        snprintf(args, sizeof(args), \"%f\", audio_volume / 256.);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 959,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(name, sizeof(name), \"trim for input stream %d:%d\",\n             ist->file_index, ist->st->index)",
          "new_text": null,
          "old_line_content": "    snprintf(name, sizeof(name), \"trim for input stream %d:%d\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 966,
          "old_api": "insert_trim",
          "new_api": null,
          "old_text": "insert_trim(((f->start_time == AV_NOPTS_VALUE) || !f->accurate_seek) ?\n                      AV_NOPTS_VALUE : tsoffset, f->recording_time,\n                      &last_filter, &pad_idx, name)",
          "new_text": null,
          "old_line_content": "    ret = insert_trim(((f->start_time == AV_NOPTS_VALUE) || !f->accurate_seek) ?",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 972,
          "old_api": "avfilter_link",
          "new_api": null,
          "old_text": "avfilter_link(last_filter, 0, in->filter_ctx, in->pad_idx)",
          "new_text": null,
          "old_line_content": "    if ((ret = avfilter_link(last_filter, 0, in->filter_ctx, in->pad_idx)) < 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 982,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_ERROR,\n               \"No decoder for stream #%d:%d, filtering impossible\\n\",\n               ifilter->ist->file_index, ifilter->ist->st->index)",
          "new_text": null,
          "old_line_content": "        av_log(NULL, AV_LOG_ERROR,",
          "new_line_content": "    if (!ifilter->ist->dec) {",
          "content_same": false
        },
        {
          "line": 987,
          "old_api": "avfilter_pad_get_type",
          "new_api": null,
          "old_text": "avfilter_pad_get_type(in->filter_ctx->input_pads, in->pad_idx)",
          "new_text": null,
          "old_line_content": "    switch (avfilter_pad_get_type(in->filter_ctx->input_pads, in->pad_idx)) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": "avfilter_graph_free",
          "new_api": null,
          "old_text": "avfilter_graph_free(&fg->graph)",
          "new_text": null,
          "old_line_content": "    avfilter_graph_free(&fg->graph);",
          "new_line_content": "        fg->inputs[i]->filter = (AVFilterContext *)NULL;",
          "content_same": false
        },
        {
          "line": 1007,
          "old_api": "filtergraph_is_simple",
          "new_api": null,
          "old_text": "filtergraph_is_simple(fg)",
          "new_text": null,
          "old_line_content": "    int ret, i, simple = filtergraph_is_simple(fg);",
          "new_line_content": "    AVFilterInOut *inputs, *outputs, *cur;",
          "content_same": false
        },
        {
          "line": 1011,
          "old_api": "cleanup_filtergraph",
          "new_api": null,
          "old_text": "cleanup_filtergraph(fg)",
          "new_text": null,
          "old_line_content": "    cleanup_filtergraph(fg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1023,
          "old_api": "av_dict_get",
          "new_api": null,
          "old_text": "av_dict_get(ost->sws_dict, \"\", e,\n                                AV_DICT_IGNORE_SUFFIX)",
          "new_text": null,
          "old_line_content": "        while ((e = av_dict_get(ost->sws_dict, \"\", e,",
          "new_line_content": "        args[0] = 0;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 34,
      "total_additions": 77,
      "total_deletions": 77,
      "total_api_changes": 188
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 1,
        "api_related_lines": 188,
        "non_api_lines": 1,
        "non_api_line_numbers": [
          742
        ]
      }
    },
    "api_calls_before": 276,
    "api_calls_after": 276,
    "diff_info": {
      "added_lines": 1,
      "removed_lines": 0,
      "total_diff_lines": 13
    }
  }
}