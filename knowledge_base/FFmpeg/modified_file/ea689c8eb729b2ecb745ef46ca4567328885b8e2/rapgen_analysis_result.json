{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/ea689c8eb729b2ecb745ef46ca4567328885b8e2",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/ea689c8eb729b2ecb745ef46ca4567328885b8e2/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/ea689c8eb729b2ecb745ef46ca4567328885b8e2/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/ea689c8eb729b2ecb745ef46ca4567328885b8e2/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [],
      "additions": [
        {
          "line": 2755,
          "old_api": null,
          "new_api": "block_permute",
          "old_text": null,
          "new_text": "block_permute(block)",
          "old_line_content": "",
          "new_line_content": "    block_permute(block);",
          "content_same": false
        },
        {
          "line": 3047,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"concealing errors\\n\")",
          "old_line_content": "    /* for all MBs from the current one back until the last resync marker */",
          "new_line_content": "    fprintf(stderr, \"concealing errors\\n\");",
          "content_same": false
        },
        {
          "line": 3079,
          "old_api": null,
          "new_api": "mpeg_motion",
          "old_text": null,
          "new_text": "mpeg_motion(s, dest_y, dest_cb, dest_cr, 0, \n                            s->last_picture, 0, 0, put_pixels_tab,\n                            mx, my, 16)",
          "old_line_content": "                            mx, my, 16);",
          "new_line_content": "                mpeg_motion(s, dest_y, dest_cb, dest_cr, 0, ",
          "content_same": false
        },
        {
          "line": 2926,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"unquant error %d %d\\n\", i, level)",
          "old_line_content": "                block[j] = level;",
          "new_line_content": "                    fprintf(stderr, \"unquant error %d %d\\n\", i, level);",
          "content_same": false
        },
        {
          "line": 2866,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"unquant error %d %d\\n\", i, level)",
          "old_line_content": "                block[j] = level;",
          "new_line_content": "                    fprintf(stderr, \"unquant error %d %d\\n\", i, level);",
          "content_same": false
        },
        {
          "line": 3061,
          "old_api": null,
          "new_api": "remove_ac",
          "old_text": null,
          "new_text": "remove_ac(s, dest_y, dest_cb, dest_cr, mb_x, mb_y)",
          "old_line_content": "                }else{",
          "new_line_content": "                    remove_ac(s, dest_y, dest_cb, dest_cr, mb_x, mb_y);",
          "content_same": false
        },
        {
          "line": 2902,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"unquant error %d %d\\n\", i, level)",
          "old_line_content": "                block[j] = level;",
          "new_line_content": "                    fprintf(stderr, \"unquant error %d %d\\n\", i, level);",
          "content_same": false
        },
        {
          "line": 3064,
          "old_api": null,
          "new_api": "mpeg_motion",
          "old_text": null,
          "new_text": "mpeg_motion(s, dest_y, dest_cb, dest_cr, 0, \n                                s->last_picture, 0, 0, put_pixels_tab,\n                                0/*mx*/, 0/*my*/, 16)",
          "old_line_content": "                                0/*mx*/, 0/*my*/, 16);",
          "new_line_content": "                    mpeg_motion(s, dest_y, dest_cb, dest_cr, 0, ",
          "content_same": false
        },
        {
          "line": 2841,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"unquant error %d %d\\n\", i, level)",
          "old_line_content": "                block[j] = level;",
          "new_line_content": "                    fprintf(stderr, \"unquant error %d %d\\n\", i, level);",
          "content_same": false
        },
        {
          "line": 2973,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"unquant error %d %d\\n\", i, level)",
          "old_line_content": "            block[i] = level;",
          "new_line_content": "                    fprintf(stderr, \"unquant error %d %d\\n\", i, level);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2754,
          "old_api": "block_permute",
          "new_api": null,
          "old_text": "block_permute(block)",
          "new_text": null,
          "old_line_content": "    block_permute(block);",
          "new_line_content": "       permutation. will be moved into DCT code */",
          "content_same": false
        },
        {
          "line": 3045,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"concealing errors\\n\")",
          "new_text": null,
          "old_line_content": "    fprintf(stderr, \"concealing errors\\n\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3077,
          "old_api": "mpeg_motion",
          "new_api": null,
          "old_text": "mpeg_motion(s, dest_y, dest_cb, dest_cr, 0, \n                            s->last_picture, 0, 0, put_pixels_tab,\n                            mx, my, 16)",
          "new_text": null,
          "old_line_content": "                mpeg_motion(s, dest_y, dest_cb, dest_cr, 0, ",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 2924,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"unquant error %d %d\\n\", i, level)",
          "new_text": null,
          "old_line_content": "                    fprintf(stderr, \"unquant error %d %d\\n\", i, level);",
          "new_line_content": "#ifdef PARANOID",
          "content_same": false
        },
        {
          "line": 2864,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"unquant error %d %d\\n\", i, level)",
          "new_text": null,
          "old_line_content": "                    fprintf(stderr, \"unquant error %d %d\\n\", i, level);",
          "new_line_content": "#ifdef PARANOID",
          "content_same": false
        },
        {
          "line": 3059,
          "old_api": "remove_ac",
          "new_api": null,
          "old_text": "remove_ac(s, dest_y, dest_cb, dest_cr, mb_x, mb_y)",
          "new_text": null,
          "old_line_content": "                    remove_ac(s, dest_y, dest_cb, dest_cr, mb_x, mb_y);",
          "new_line_content": "            if(s->mbintra_table[mb_y*s->mb_width + mb_x] && mb_dist<intra_conceal){",
          "content_same": false
        },
        {
          "line": 2900,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"unquant error %d %d\\n\", i, level)",
          "new_text": null,
          "old_line_content": "                    fprintf(stderr, \"unquant error %d %d\\n\", i, level);",
          "new_line_content": "#ifdef PARANOID",
          "content_same": false
        },
        {
          "line": 3062,
          "old_api": "mpeg_motion",
          "new_api": null,
          "old_text": "mpeg_motion(s, dest_y, dest_cb, dest_cr, 0, \n                                s->last_picture, 0, 0, put_pixels_tab,\n                                0/*mx*/, 0/*my*/, 16)",
          "new_text": null,
          "old_line_content": "                    mpeg_motion(s, dest_y, dest_cb, dest_cr, 0, ",
          "new_line_content": "//                    printf(\"remove ac to %d %d\\n\", mb_x, mb_y);",
          "content_same": false
        },
        {
          "line": 2839,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"unquant error %d %d\\n\", i, level)",
          "new_text": null,
          "old_line_content": "                    fprintf(stderr, \"unquant error %d %d\\n\", i, level);",
          "new_line_content": "#ifdef PARANOID",
          "content_same": false
        },
        {
          "line": 2971,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"unquant error %d %d\\n\", i, level)",
          "new_text": null,
          "old_line_content": "                    fprintf(stderr, \"unquant error %d %d\\n\", i, level);",
          "new_line_content": "#ifdef PARANOID",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 0,
      "total_additions": 10,
      "total_deletions": 10,
      "total_api_changes": 20
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 2,
        "api_related_lines": 20,
        "non_api_lines": 2,
        "non_api_line_numbers": [
          2752,
          2756
        ]
      }
    },
    "api_calls_before": 397,
    "api_calls_after": 397,
    "diff_info": {
      "added_lines": 2,
      "removed_lines": 0,
      "total_diff_lines": 17
    }
  }
}