{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/9d4bbf6d4f3a0b78c4ec7a1f366adf5c3cc8ea1a",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/9d4bbf6d4f3a0b78c4ec7a1f366adf5c3cc8ea1a/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/9d4bbf6d4f3a0b78c4ec7a1f366adf5c3cc8ea1a/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/9d4bbf6d4f3a0b78c4ec7a1f366adf5c3cc8ea1a/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1144,
          "old_api": "sym_quant",
          "new_api": "asym_quant",
          "old_text": "sym_quant(c, e, 15)",
          "new_text": "asym_quant(c, e, 14)",
          "old_line_content": "            v = sym_quant(c, e, 15);",
          "new_line_content": "            v = asym_quant(c, e, 14);",
          "content_same": false
        },
        {
          "line": 1424,
          "old_api": "put_bits (&s->pb,   5, q)",
          "new_api": "put_bits (&s->pb,   7, q)",
          "old_text": "put_bits (&s->pb,   5, q)",
          "new_text": "put_bits (&s->pb,   7, q)",
          "old_line_content": "            case 1: if (q != 128) put_bits (&s->pb,   5, q); break;",
          "new_line_content": "            case 4: if (q != 128) put_bits (&s->pb,   7, q); break;",
          "content_same": false
        },
        {
          "line": 1425,
          "old_api": "put_bits (&s->pb,   7, q)",
          "new_api": "put_sbits",
          "old_text": "put_bits (&s->pb,   7, q)",
          "new_text": "put_sbits(&s->pb,  14, q)",
          "old_line_content": "            case 2: if (q != 128) put_bits (&s->pb,   7, q); break;",
          "new_line_content": "            case 14:              put_sbits(&s->pb,  14, q); break;",
          "content_same": false
        },
        {
          "line": 1427,
          "old_api": "put_bits (&s->pb,   7, q)",
          "new_api": "put_sbits",
          "old_text": "put_bits (&s->pb,   7, q)",
          "new_text": "put_sbits(&s->pb, b-1, q)",
          "old_line_content": "            case 4: if (q != 128) put_bits (&s->pb,   7, q); break;",
          "new_line_content": "            default:              put_sbits(&s->pb, b-1, q); break;",
          "content_same": false
        },
        {
          "line": 1486,
          "old_api": "put_bits_count",
          "new_api": "put_bits_ptr",
          "old_text": "put_bits_count(&s->pb)",
          "new_text": "put_bits_ptr(&s->pb)",
          "old_line_content": "    av_assert2(s->frame_size * 8 - put_bits_count(&s->pb) >= 18);",
          "new_line_content": "    pad_bytes = s->frame_size - (put_bits_ptr(&s->pb) - frame) - 2;",
          "content_same": false
        },
        {
          "line": 1487,
          "old_api": "flush_put_bits",
          "new_api": "av_assert2",
          "old_text": "flush_put_bits(&s->pb)",
          "new_text": "av_assert2(pad_bytes >= 0)",
          "old_line_content": "    flush_put_bits(&s->pb);",
          "new_line_content": "    av_assert2(pad_bytes >= 0);",
          "content_same": false
        },
        {
          "line": 1500,
          "old_api": "av_crc",
          "new_api": "AV_WB16",
          "old_text": "av_crc(crc_ctx, 0, frame + 4, frame_size_58 - 4)",
          "new_text": "AV_WB16(frame + 2, crc1)",
          "old_line_content": "    crc1    = av_bswap16(av_crc(crc_ctx, 0, frame + 4, frame_size_58 - 4));",
          "new_line_content": "    AV_WB16(frame + 2, crc1);",
          "content_same": false
        },
        {
          "line": 1503,
          "old_api": "AV_WB16",
          "new_api": "av_crc",
          "old_text": "AV_WB16(frame + 2, crc1)",
          "new_text": "av_crc(crc_ctx, 0, frame + frame_size_58,\n                          s->frame_size - frame_size_58 - 3)",
          "old_line_content": "    AV_WB16(frame + 2, crc1);",
          "new_line_content": "    crc2_partial = av_crc(crc_ctx, 0, frame + frame_size_58,",
          "content_same": false
        },
        {
          "line": 1513,
          "old_api": "av_crc",
          "new_api": "AV_WB16",
          "old_text": "av_crc(crc_ctx, crc2_partial, frame + s->frame_size - 3, 1)",
          "new_text": "AV_WB16(frame + s->frame_size - 2, crc2)",
          "old_line_content": "        crc2 = av_crc(crc_ctx, crc2_partial, frame + s->frame_size - 3, 1);",
          "new_line_content": "    AV_WB16(frame + s->frame_size - 2, crc2);",
          "content_same": false
        },
        {
          "line": 1529,
          "old_api": "output_frame_header",
          "new_api": "output_audio_block",
          "old_text": "s->output_frame_header(s)",
          "new_text": "output_audio_block(s, blk)",
          "old_line_content": "    s->output_frame_header(s);",
          "new_line_content": "        output_audio_block(s, blk);",
          "content_same": false
        },
        {
          "line": 1548,
          "old_api": "av_strlcpy",
          "new_api": "snprintf",
          "old_text": "av_strlcpy(strbuf, \"AC-3 (dnet half-rate)\",   32)",
          "new_text": "snprintf(strbuf, 32, \"ERROR\")",
          "old_line_content": "    case  9:  av_strlcpy(strbuf, \"AC-3 (dnet half-rate)\",   32); break;",
          "new_line_content": "    default: snprintf(strbuf, 32, \"ERROR\");",
          "content_same": false
        },
        {
          "line": 1550,
          "old_api": "av_strlcpy",
          "new_api": "av_dlog",
          "old_text": "av_strlcpy(strbuf, \"E-AC-3 (enhanced)\",       32)",
          "new_text": "av_dlog(avctx, \"bitstream_id: %s (%d)\\n\", strbuf, s->bitstream_id)",
          "old_line_content": "    case 16:  av_strlcpy(strbuf, \"E-AC-3 (enhanced)\",       32); break;",
          "new_line_content": "    av_dlog(avctx, \"bitstream_id: %s (%d)\\n\", strbuf, s->bitstream_id);",
          "content_same": false
        },
        {
          "line": 1551,
          "old_api": "snprintf",
          "new_api": "av_get_sample_fmt_name",
          "old_text": "snprintf(strbuf, 32, \"ERROR\")",
          "new_text": "av_get_sample_fmt_name(avctx->sample_fmt)",
          "old_line_content": "    default: snprintf(strbuf, 32, \"ERROR\");",
          "new_line_content": "    av_dlog(avctx, \"sample_fmt: %s\\n\", av_get_sample_fmt_name(avctx->sample_fmt));",
          "content_same": false
        },
        {
          "line": 1554,
          "old_api": "av_get_sample_fmt_name",
          "new_api": "av_dlog",
          "old_text": "av_get_sample_fmt_name(avctx->sample_fmt)",
          "new_text": "av_dlog(avctx, \"sample_rate: %d\\n\", s->sample_rate)",
          "old_line_content": "    av_dlog(avctx, \"sample_fmt: %s\\n\", av_get_sample_fmt_name(avctx->sample_fmt));",
          "new_line_content": "    av_dlog(avctx, \"sample_rate: %d\\n\", s->sample_rate);",
          "content_same": false
        },
        {
          "line": 1555,
          "old_api": "av_get_channel_layout_string",
          "new_api": "av_dlog",
          "old_text": "av_get_channel_layout_string(strbuf, 32, s->channels, avctx->channel_layout)",
          "new_text": "av_dlog(avctx, \"bit_rate: %d\\n\", s->bit_rate)",
          "old_line_content": "    av_get_channel_layout_string(strbuf, 32, s->channels, avctx->channel_layout);",
          "new_line_content": "    av_dlog(avctx, \"bit_rate: %d\\n\", s->bit_rate);",
          "content_same": false
        },
        {
          "line": 1575,
          "old_api": "av_dlog",
          "new_api": "av_strlcpy",
          "old_text": "av_dlog(avctx, \"mixing_level: %ddB\\n\", opt->mixing_level)",
          "new_text": "av_strlcpy(strbuf, \"large\", 32)",
          "old_line_content": "        av_dlog(avctx, \"mixing_level: %ddB\\n\", opt->mixing_level);",
          "new_line_content": "        case 1:  av_strlcpy(strbuf, \"large\", 32);        break;",
          "content_same": false
        },
        {
          "line": 1577,
          "old_api": "av_strlcpy",
          "new_api": "snprintf",
          "old_text": "av_strlcpy(strbuf, \"notindicated\", 32)",
          "new_text": "snprintf(strbuf, 32, \"ERROR (%d)\", opt->room_type)",
          "old_line_content": "        case 0:  av_strlcpy(strbuf, \"notindicated\", 32); break;",
          "new_line_content": "        default: snprintf(strbuf, 32, \"ERROR (%d)\", opt->room_type);",
          "content_same": false
        },
        {
          "line": 1579,
          "old_api": "av_strlcpy",
          "new_api": "av_dlog",
          "old_text": "av_strlcpy(strbuf, \"small\", 32)",
          "new_text": "av_dlog(avctx, \"room_type: %s\\n\", strbuf)",
          "old_line_content": "        case 2:  av_strlcpy(strbuf, \"small\", 32);        break;",
          "new_line_content": "        av_dlog(avctx, \"room_type: %s\\n\", strbuf);",
          "content_same": false
        },
        {
          "line": 1588,
          "old_api": "av_dlog",
          "new_api": "av_strlcpy",
          "old_text": "av_dlog(avctx, \"dialnorm: %ddB\\n\", opt->dialogue_level)",
          "new_text": "av_strlcpy(strbuf, \"notindicated\", 32)",
          "old_line_content": "    av_dlog(avctx, \"dialnorm: %ddB\\n\", opt->dialogue_level);",
          "new_line_content": "        case 0:  av_strlcpy(strbuf, \"notindicated\", 32); break;",
          "content_same": false
        },
        {
          "line": 1591,
          "old_api": "av_strlcpy",
          "new_api": "snprintf",
          "old_text": "av_strlcpy(strbuf, \"notindicated\", 32)",
          "new_text": "snprintf(strbuf, 32, \"ERROR (%d)\", opt->dolby_surround_mode)",
          "old_line_content": "        case 0:  av_strlcpy(strbuf, \"notindicated\", 32); break;",
          "new_line_content": "        default: snprintf(strbuf, 32, \"ERROR (%d)\", opt->dolby_surround_mode);",
          "content_same": false
        },
        {
          "line": 1593,
          "old_api": "av_strlcpy",
          "new_api": "av_dlog",
          "old_text": "av_strlcpy(strbuf, \"off\", 32)",
          "new_text": "av_dlog(avctx, \"dsur_mode: %s\\n\", strbuf)",
          "old_line_content": "        case 2:  av_strlcpy(strbuf, \"off\", 32);          break;",
          "new_line_content": "        av_dlog(avctx, \"dsur_mode: %s\\n\", strbuf);",
          "content_same": false
        },
        {
          "line": 1605,
          "old_api": "av_strlcpy",
          "new_api": "snprintf",
          "old_text": "av_strlcpy(strbuf, \"notindicated\", 32)",
          "new_text": "snprintf(strbuf, 32, \"ERROR (%d)\", opt->preferred_stereo_downmix)",
          "old_line_content": "            case 0:  av_strlcpy(strbuf, \"notindicated\", 32); break;",
          "new_line_content": "            default: snprintf(strbuf, 32, \"ERROR (%d)\", opt->preferred_stereo_downmix);",
          "content_same": false
        },
        {
          "line": 1607,
          "old_api": "av_strlcpy",
          "new_api": "av_dlog",
          "old_text": "av_strlcpy(strbuf, \"loro\", 32)",
          "new_text": "av_dlog(avctx, \"dmix_mode: %s\\n\", strbuf)",
          "old_line_content": "            case 2:  av_strlcpy(strbuf, \"loro\", 32);         break;",
          "new_line_content": "            av_dlog(avctx, \"dmix_mode: %s\\n\", strbuf);",
          "content_same": false
        },
        {
          "line": 1608,
          "old_api": "snprintf",
          "new_api": "av_dlog",
          "old_text": "snprintf(strbuf, 32, \"ERROR (%d)\", opt->preferred_stereo_downmix)",
          "new_text": "av_dlog(avctx, \"ltrt_cmixlev: %0.3f (%d)\\n\",\n                    opt->ltrt_center_mix_level, s->ltrt_center_mix_level)",
          "old_line_content": "            default: snprintf(strbuf, 32, \"ERROR (%d)\", opt->preferred_stereo_downmix);",
          "new_line_content": "            av_dlog(avctx, \"ltrt_cmixlev: %0.3f (%d)\\n\",",
          "content_same": false
        },
        {
          "line": 1624,
          "old_api": "av_strlcpy",
          "new_api": "snprintf",
          "old_text": "av_strlcpy(strbuf, \"notindicated\", 32)",
          "new_text": "snprintf(strbuf, 32, \"ERROR (%d)\", opt->dolby_surround_ex_mode)",
          "old_line_content": "            case 0:  av_strlcpy(strbuf, \"notindicated\", 32); break;",
          "new_line_content": "            default: snprintf(strbuf, 32, \"ERROR (%d)\", opt->dolby_surround_ex_mode);",
          "content_same": false
        },
        {
          "line": 1626,
          "old_api": "av_strlcpy",
          "new_api": "av_dlog",
          "old_text": "av_strlcpy(strbuf, \"off\", 32)",
          "new_text": "av_dlog(avctx, \"dsurex_mode: %s\\n\", strbuf)",
          "old_line_content": "            case 2:  av_strlcpy(strbuf, \"off\", 32);          break;",
          "new_line_content": "            av_dlog(avctx, \"dsurex_mode: %s\\n\", strbuf);",
          "content_same": false
        },
        {
          "line": 1629,
          "old_api": "av_dlog",
          "new_api": "av_strlcpy",
          "old_text": "av_dlog(avctx, \"dsurex_mode: %s\\n\", strbuf)",
          "new_text": "av_strlcpy(strbuf, \"on\", 32)",
          "old_line_content": "            av_dlog(avctx, \"dsurex_mode: %s\\n\", strbuf);",
          "new_line_content": "            case 1:  av_strlcpy(strbuf, \"on\", 32);           break;",
          "content_same": false
        },
        {
          "line": 1631,
          "old_api": "av_strlcpy",
          "new_api": "snprintf",
          "old_text": "av_strlcpy(strbuf, \"notindicated\", 32)",
          "new_text": "snprintf(strbuf, 32, \"ERROR (%d)\", opt->dolby_headphone_mode)",
          "old_line_content": "            case 0:  av_strlcpy(strbuf, \"notindicated\", 32); break;",
          "new_line_content": "            default: snprintf(strbuf, 32, \"ERROR (%d)\", opt->dolby_headphone_mode);",
          "content_same": false
        },
        {
          "line": 1633,
          "old_api": "av_strlcpy",
          "new_api": "av_dlog",
          "old_text": "av_strlcpy(strbuf, \"off\", 32)",
          "new_text": "av_dlog(avctx, \"dheadphone_mode: %s\\n\", strbuf)",
          "old_line_content": "            case 2:  av_strlcpy(strbuf, \"off\", 32);          break;",
          "new_line_content": "            av_dlog(avctx, \"dheadphone_mode: %s\\n\", strbuf);",
          "content_same": false
        },
        {
          "line": 1636,
          "old_api": "av_dlog",
          "new_api": "av_strlcpy",
          "old_text": "av_dlog(avctx, \"dheadphone_mode: %s\\n\", strbuf)",
          "new_text": "av_strlcpy(strbuf, \"standard\", 32)",
          "old_line_content": "            av_dlog(avctx, \"dheadphone_mode: %s\\n\", strbuf);",
          "new_line_content": "            case 0:  av_strlcpy(strbuf, \"standard\", 32); break;",
          "content_same": false
        },
        {
          "line": 1640,
          "old_api": "av_strlcpy",
          "new_api": "av_dlog",
          "old_text": "av_strlcpy(strbuf, \"hdcd\", 32)",
          "new_text": "av_dlog(avctx, \"ad_conv_type: %s\\n\", strbuf)",
          "old_line_content": "            case 1:  av_strlcpy(strbuf, \"hdcd\", 32);     break;",
          "new_line_content": "            av_dlog(avctx, \"ad_conv_type: %s\\n\", strbuf);",
          "content_same": false
        },
        {
          "line": 1714,
          "old_api": "AVERROR",
          "new_api": "av_log",
          "old_text": "AVERROR(EINVAL)",
          "new_text": "av_log(avctx, AV_LOG_ERROR, \"invalid mixing level. must be between \"\n                   \"80dB and 111dB\\n\")",
          "old_line_content": "            return AVERROR(EINVAL);",
          "new_line_content": "            av_log(avctx, AV_LOG_ERROR, \"invalid mixing level. must be between \"",
          "content_same": false
        },
        {
          "line": 1832,
          "old_api": "av_freep",
          "new_api": "mdct_end",
          "old_text": "av_freep(&block->qmant)",
          "new_text": "s->mdct_end(s->mdct)",
          "old_line_content": "        av_freep(&block->qmant);",
          "new_line_content": "    s->mdct_end(s->mdct);",
          "content_same": false
        },
        {
          "line": 1835,
          "old_api": "mdct_end",
          "new_api": "av_freep",
          "old_text": "s->mdct_end(s->mdct)",
          "new_text": "av_freep(&avctx->coded_frame)",
          "old_line_content": "    s->mdct_end(s->mdct);",
          "new_line_content": "    av_freep(&avctx->coded_frame);",
          "content_same": false
        },
        {
          "line": 1854,
          "old_api": "AVERROR",
          "new_api": "avcodec_guess_channel_layout",
          "old_text": "AVERROR(EINVAL)",
          "new_text": "avcodec_guess_channel_layout(channels, CODEC_ID_AC3, NULL)",
          "old_line_content": "        return AVERROR(EINVAL);",
          "new_line_content": "        ch_layout = avcodec_guess_channel_layout(channels, CODEC_ID_AC3, NULL);",
          "content_same": false
        },
        {
          "line": 2090,
          "old_api": "allocate_sample_buffers",
          "new_api": "FF_ALLOC_OR_GOTO",
          "old_text": "s->allocate_sample_buffers(s)",
          "new_text": "FF_ALLOC_OR_GOTO(avctx, s->bap_buffer,  AC3_MAX_BLOCKS * channels *\n                     AC3_MAX_COEFS * sizeof(*s->bap_buffer),  alloc_fail)",
          "old_line_content": "    if (s->allocate_sample_buffers(s))",
          "new_line_content": "    FF_ALLOC_OR_GOTO(avctx, s->bap_buffer,  AC3_MAX_BLOCKS * channels *",
          "content_same": false
        },
        {
          "line": 2238,
          "old_api": "bit_alloc_init",
          "new_api": "mdct_init",
          "old_text": "bit_alloc_init(s)",
          "new_text": "s->mdct_init(avctx, s->mdct, 9)",
          "old_line_content": "    bit_alloc_init(s);",
          "new_line_content": "    ret = s->mdct_init(avctx, s->mdct, 9);",
          "content_same": false
        },
        {
          "line": 2249,
          "old_api": "avcodec_alloc_frame",
          "new_api": "ff_ac3dsp_init",
          "old_text": "avcodec_alloc_frame()",
          "new_text": "ff_ac3dsp_init(&s->ac3dsp, avctx->flags & CODEC_FLAG_BITEXACT)",
          "old_line_content": "    avctx->coded_frame= avcodec_alloc_frame();",
          "new_line_content": "    ff_ac3dsp_init(&s->ac3dsp, avctx->flags & CODEC_FLAG_BITEXACT);",
          "content_same": false
        },
        {
          "line": 2251,
          "old_api": "dsputil_init",
          "new_api": "dprint_options",
          "old_text": "dsputil_init(&s->dsp, avctx)",
          "new_text": "dprint_options(avctx)",
          "old_line_content": "    dsputil_init(&s->dsp, avctx);",
          "new_line_content": "    dprint_options(avctx);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1543,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(strbuf, \"AC-3 (alt syntax)\",       32)",
          "old_line_content": "    char strbuf[32];",
          "new_line_content": "    case  6:  av_strlcpy(strbuf, \"AC-3 (alt syntax)\",       32); break;",
          "content_same": false
        },
        {
          "line": 1544,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(strbuf, \"AC-3 (standard)\",         32)",
          "old_line_content": "",
          "new_line_content": "    case  8:  av_strlcpy(strbuf, \"AC-3 (standard)\",         32); break;",
          "content_same": false
        },
        {
          "line": 2057,
          "old_api": null,
          "new_api": "FFMIN",
          "old_text": null,
          "new_text": "FFMIN(cpl_end_band-1, 15)",
          "old_line_content": "        uint8_t *cpl_band_sizes = s->cpl_band_sizes;",
          "new_line_content": "        cpl_start_band = av_clip(cpl_start, 0, FFMIN(cpl_end_band-1, 15));",
          "content_same": false
        },
        {
          "line": 1545,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(strbuf, \"AC-3 (dnet half-rate)\",   32)",
          "old_line_content": "    switch (s->bitstream_id) {",
          "new_line_content": "    case  9:  av_strlcpy(strbuf, \"AC-3 (dnet half-rate)\",   32); break;",
          "content_same": false
        },
        {
          "line": 1552,
          "old_api": null,
          "new_api": "av_get_channel_layout_string",
          "old_text": null,
          "new_text": "av_get_channel_layout_string(strbuf, 32, s->channels, avctx->channel_layout)",
          "old_line_content": "    }",
          "new_line_content": "    av_get_channel_layout_string(strbuf, 32, s->channels, avctx->channel_layout);",
          "content_same": false
        },
        {
          "line": 1559,
          "old_api": null,
          "new_api": "av_dlog",
          "old_text": null,
          "new_text": "av_dlog(avctx, \"per_frame_metadata: %s\\n\",\n            opt->allow_per_frame_metadata?\"on\":\"off\")",
          "old_line_content": "    if (s->cutoff)",
          "new_line_content": "    av_dlog(avctx, \"per_frame_metadata: %s\\n\",",
          "content_same": false
        },
        {
          "line": 1567,
          "old_api": null,
          "new_api": "av_dlog",
          "old_text": null,
          "new_text": "av_dlog(avctx, \"surround_mixlev: %0.3f (%d)\\n\", opt->surround_mix_level,\n                s->surround_mix_level)",
          "old_line_content": "    else",
          "new_line_content": "        av_dlog(avctx, \"surround_mixlev: %0.3f (%d)\\n\", opt->surround_mix_level,",
          "content_same": false
        },
        {
          "line": 1572,
          "old_api": null,
          "new_api": "av_dlog",
          "old_text": null,
          "new_text": "av_dlog(avctx, \"mixing_level: %ddB\\n\", opt->mixing_level)",
          "old_line_content": "    else",
          "new_line_content": "        av_dlog(avctx, \"mixing_level: %ddB\\n\", opt->mixing_level);",
          "content_same": false
        },
        {
          "line": 1574,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(strbuf, \"notindicated\", 32)",
          "old_line_content": "    if (opt->audio_production_info) {",
          "new_line_content": "        case 0:  av_strlcpy(strbuf, \"notindicated\", 32); break;",
          "content_same": false
        },
        {
          "line": 2087,
          "old_api": null,
          "new_api": "allocate_sample_buffers",
          "old_text": null,
          "new_text": "s->allocate_sample_buffers(s)",
          "old_line_content": "    AC3EncodeContext *s = avctx->priv_data;",
          "new_line_content": "    if (s->allocate_sample_buffers(s))",
          "content_same": false
        },
        {
          "line": 1576,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(strbuf, \"small\", 32)",
          "old_line_content": "        switch (opt->room_type) {",
          "new_line_content": "        case 2:  av_strlcpy(strbuf, \"small\", 32);        break;",
          "content_same": false
        },
        {
          "line": 2092,
          "old_api": null,
          "new_api": "FF_ALLOC_OR_GOTO",
          "old_text": null,
          "new_text": "FF_ALLOC_OR_GOTO(avctx, s->bap1_buffer, AC3_MAX_BLOCKS * channels *\n                     AC3_MAX_COEFS * sizeof(*s->bap1_buffer), alloc_fail)",
          "old_line_content": "",
          "new_line_content": "    FF_ALLOC_OR_GOTO(avctx, s->bap1_buffer, AC3_MAX_BLOCKS * channels *",
          "content_same": false
        },
        {
          "line": 1581,
          "old_api": null,
          "new_api": "av_dlog",
          "old_text": null,
          "new_text": "av_dlog(avctx, \"mixing_level: {not written}\\n\")",
          "old_line_content": "        }",
          "new_line_content": "        av_dlog(avctx, \"mixing_level: {not written}\\n\");",
          "content_same": false
        },
        {
          "line": 2094,
          "old_api": null,
          "new_api": "FF_ALLOCZ_OR_GOTO",
          "old_text": null,
          "new_text": "FF_ALLOCZ_OR_GOTO(avctx, s->mdct_coef_buffer, AC3_MAX_BLOCKS * channels *\n                      AC3_MAX_COEFS * sizeof(*s->mdct_coef_buffer), alloc_fail)",
          "old_line_content": "                     AC3_MAX_COEFS * sizeof(*s->bap_buffer),  alloc_fail);",
          "new_line_content": "    FF_ALLOCZ_OR_GOTO(avctx, s->mdct_coef_buffer, AC3_MAX_BLOCKS * channels *",
          "content_same": false
        },
        {
          "line": 2096,
          "old_api": null,
          "new_api": "FF_ALLOC_OR_GOTO",
          "old_text": null,
          "new_text": "FF_ALLOC_OR_GOTO(avctx, s->exp_buffer, AC3_MAX_BLOCKS * channels *\n                     AC3_MAX_COEFS * sizeof(*s->exp_buffer), alloc_fail)",
          "old_line_content": "                     AC3_MAX_COEFS * sizeof(*s->bap1_buffer), alloc_fail);",
          "new_line_content": "    FF_ALLOC_OR_GOTO(avctx, s->exp_buffer, AC3_MAX_BLOCKS * channels *",
          "content_same": false
        },
        {
          "line": 2098,
          "old_api": null,
          "new_api": "FF_ALLOC_OR_GOTO",
          "old_text": null,
          "new_text": "FF_ALLOC_OR_GOTO(avctx, s->grouped_exp_buffer, AC3_MAX_BLOCKS * channels *\n                     128 * sizeof(*s->grouped_exp_buffer), alloc_fail)",
          "old_line_content": "                      AC3_MAX_COEFS * sizeof(*s->mdct_coef_buffer), alloc_fail);",
          "new_line_content": "    FF_ALLOC_OR_GOTO(avctx, s->grouped_exp_buffer, AC3_MAX_BLOCKS * channels *",
          "content_same": false
        },
        {
          "line": 2100,
          "old_api": null,
          "new_api": "FF_ALLOC_OR_GOTO",
          "old_text": null,
          "new_text": "FF_ALLOC_OR_GOTO(avctx, s->psd_buffer, AC3_MAX_BLOCKS * channels *\n                     AC3_MAX_COEFS * sizeof(*s->psd_buffer), alloc_fail)",
          "old_line_content": "                     AC3_MAX_COEFS * sizeof(*s->exp_buffer), alloc_fail);",
          "new_line_content": "    FF_ALLOC_OR_GOTO(avctx, s->psd_buffer, AC3_MAX_BLOCKS * channels *",
          "content_same": false
        },
        {
          "line": 1589,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(strbuf, \"on\", 32)",
          "old_line_content": "    if (s->channel_mode == AC3_CHMODE_STEREO) {",
          "new_line_content": "        case 1:  av_strlcpy(strbuf, \"on\", 32);           break;",
          "content_same": false
        },
        {
          "line": 2102,
          "old_api": null,
          "new_api": "FF_ALLOC_OR_GOTO",
          "old_text": null,
          "new_text": "FF_ALLOC_OR_GOTO(avctx, s->band_psd_buffer, AC3_MAX_BLOCKS * channels *\n                     64 * sizeof(*s->band_psd_buffer), alloc_fail)",
          "old_line_content": "                     128 * sizeof(*s->grouped_exp_buffer), alloc_fail);",
          "new_line_content": "    FF_ALLOC_OR_GOTO(avctx, s->band_psd_buffer, AC3_MAX_BLOCKS * channels *",
          "content_same": false
        },
        {
          "line": 1590,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(strbuf, \"off\", 32)",
          "old_line_content": "        switch (opt->dolby_surround_mode) {",
          "new_line_content": "        case 2:  av_strlcpy(strbuf, \"off\", 32);          break;",
          "content_same": false
        },
        {
          "line": 2104,
          "old_api": null,
          "new_api": "FF_ALLOC_OR_GOTO",
          "old_text": null,
          "new_text": "FF_ALLOC_OR_GOTO(avctx, s->mask_buffer, AC3_MAX_BLOCKS * channels *\n                     64 * sizeof(*s->mask_buffer), alloc_fail)",
          "old_line_content": "                     AC3_MAX_COEFS * sizeof(*s->psd_buffer), alloc_fail);",
          "new_line_content": "    FF_ALLOC_OR_GOTO(avctx, s->mask_buffer, AC3_MAX_BLOCKS * channels *",
          "content_same": false
        },
        {
          "line": 2106,
          "old_api": null,
          "new_api": "FF_ALLOC_OR_GOTO",
          "old_text": null,
          "new_text": "FF_ALLOC_OR_GOTO(avctx, s->qmant_buffer, AC3_MAX_BLOCKS * channels *\n                     AC3_MAX_COEFS * sizeof(*s->qmant_buffer), alloc_fail)",
          "old_line_content": "                     64 * sizeof(*s->band_psd_buffer), alloc_fail);",
          "new_line_content": "    FF_ALLOC_OR_GOTO(avctx, s->qmant_buffer, AC3_MAX_BLOCKS * channels *",
          "content_same": false
        },
        {
          "line": 1083,
          "old_api": null,
          "new_api": "sym_quant",
          "old_text": null,
          "new_text": "sym_quant(c, e, 3)",
          "old_line_content": "            v = 0;",
          "new_line_content": "            v = sym_quant(c, e, 3);",
          "content_same": false
        },
        {
          "line": 1595,
          "old_api": null,
          "new_api": "av_dlog",
          "old_text": null,
          "new_text": "av_dlog(avctx, \"dsur_mode: {not written}\\n\")",
          "old_line_content": "        }",
          "new_line_content": "        av_dlog(avctx, \"dsur_mode: {not written}\\n\");",
          "content_same": false
        },
        {
          "line": 1597,
          "old_api": null,
          "new_api": "av_dlog",
          "old_text": null,
          "new_text": "av_dlog(avctx, \"original: %s\\n\", opt->original?\"on\":\"off\")",
          "old_line_content": "    } else {",
          "new_line_content": "    av_dlog(avctx, \"original: %s\\n\", opt->original?\"on\":\"off\");",
          "content_same": false
        },
        {
          "line": 2111,
          "old_api": null,
          "new_api": "FF_ALLOC_OR_GOTO",
          "old_text": null,
          "new_text": "FF_ALLOC_OR_GOTO(avctx, s->cpl_coord_mant_buffer, AC3_MAX_BLOCKS * channels *\n                         16 * sizeof(*s->cpl_coord_mant_buffer), alloc_fail)",
          "old_line_content": "    if (s->cpl_enabled) {",
          "new_line_content": "        FF_ALLOC_OR_GOTO(avctx, s->cpl_coord_mant_buffer, AC3_MAX_BLOCKS * channels *",
          "content_same": false
        },
        {
          "line": 1602,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(strbuf, \"notindicated\", 32)",
          "old_line_content": "    if (s->bitstream_id == 6) {",
          "new_line_content": "            case 0:  av_strlcpy(strbuf, \"notindicated\", 32); break;",
          "content_same": false
        },
        {
          "line": 1603,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(strbuf, \"ltrt\", 32)",
          "old_line_content": "        if (opt->extended_bsi_1) {",
          "new_line_content": "            case 1:  av_strlcpy(strbuf, \"ltrt\", 32);         break;",
          "content_same": false
        },
        {
          "line": 2116,
          "old_api": null,
          "new_api": "FF_ALLOCZ_OR_GOTO",
          "old_text": null,
          "new_text": "FF_ALLOCZ_OR_GOTO(avctx, block->mdct_coef, channels * sizeof(*block->mdct_coef),\n                          alloc_fail)",
          "old_line_content": "    }",
          "new_line_content": "        FF_ALLOCZ_OR_GOTO(avctx, block->mdct_coef, channels * sizeof(*block->mdct_coef),",
          "content_same": false
        },
        {
          "line": 1604,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(strbuf, \"loro\", 32)",
          "old_line_content": "            switch (opt->preferred_stereo_downmix) {",
          "new_line_content": "            case 2:  av_strlcpy(strbuf, \"loro\", 32);         break;",
          "content_same": false
        },
        {
          "line": 2118,
          "old_api": null,
          "new_api": "FF_ALLOCZ_OR_GOTO",
          "old_text": null,
          "new_text": "FF_ALLOCZ_OR_GOTO(avctx, block->exp, channels * sizeof(*block->exp),\n                          alloc_fail)",
          "old_line_content": "        AC3Block *block = &s->blocks[blk];",
          "new_line_content": "        FF_ALLOCZ_OR_GOTO(avctx, block->exp, channels * sizeof(*block->exp),",
          "content_same": false
        },
        {
          "line": 2120,
          "old_api": null,
          "new_api": "FF_ALLOCZ_OR_GOTO",
          "old_text": null,
          "new_text": "FF_ALLOCZ_OR_GOTO(avctx, block->grouped_exp, channels * sizeof(*block->grouped_exp),\n                          alloc_fail)",
          "old_line_content": "                          alloc_fail);",
          "new_line_content": "        FF_ALLOCZ_OR_GOTO(avctx, block->grouped_exp, channels * sizeof(*block->grouped_exp),",
          "content_same": false
        },
        {
          "line": 2122,
          "old_api": null,
          "new_api": "FF_ALLOCZ_OR_GOTO",
          "old_text": null,
          "new_text": "FF_ALLOCZ_OR_GOTO(avctx, block->psd, channels * sizeof(*block->psd),\n                          alloc_fail)",
          "old_line_content": "                          alloc_fail);",
          "new_line_content": "        FF_ALLOCZ_OR_GOTO(avctx, block->psd, channels * sizeof(*block->psd),",
          "content_same": false
        },
        {
          "line": 2124,
          "old_api": null,
          "new_api": "FF_ALLOCZ_OR_GOTO",
          "old_text": null,
          "new_text": "FF_ALLOCZ_OR_GOTO(avctx, block->band_psd, channels * sizeof(*block->band_psd),\n                          alloc_fail)",
          "old_line_content": "                          alloc_fail);",
          "new_line_content": "        FF_ALLOCZ_OR_GOTO(avctx, block->band_psd, channels * sizeof(*block->band_psd),",
          "content_same": false
        },
        {
          "line": 1612,
          "old_api": null,
          "new_api": "av_dlog",
          "old_text": null,
          "new_text": "av_dlog(avctx, \"loro_cmixlev: %0.3f (%d)\\n\",\n                    opt->loro_center_mix_level, s->loro_center_mix_level)",
          "old_line_content": "                    opt->ltrt_center_mix_level, s->ltrt_center_mix_level);",
          "new_line_content": "            av_dlog(avctx, \"loro_cmixlev: %0.3f (%d)\\n\",",
          "content_same": false
        },
        {
          "line": 2126,
          "old_api": null,
          "new_api": "FF_ALLOCZ_OR_GOTO",
          "old_text": null,
          "new_text": "FF_ALLOCZ_OR_GOTO(avctx, block->mask, channels * sizeof(*block->mask),\n                          alloc_fail)",
          "old_line_content": "                          alloc_fail);",
          "new_line_content": "        FF_ALLOCZ_OR_GOTO(avctx, block->mask, channels * sizeof(*block->mask),",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": null,
          "new_api": "sym_quant",
          "old_text": null,
          "new_text": "sym_quant(c, e, 5)",
          "old_line_content": "            }",
          "new_line_content": "            v = sym_quant(c, e, 5);",
          "content_same": false
        },
        {
          "line": 2128,
          "old_api": null,
          "new_api": "FF_ALLOCZ_OR_GOTO",
          "old_text": null,
          "new_text": "FF_ALLOCZ_OR_GOTO(avctx, block->qmant, channels * sizeof(*block->qmant),\n                          alloc_fail)",
          "old_line_content": "                          alloc_fail);",
          "new_line_content": "        FF_ALLOCZ_OR_GOTO(avctx, block->qmant, channels * sizeof(*block->qmant),",
          "content_same": false
        },
        {
          "line": 1614,
          "old_api": null,
          "new_api": "av_dlog",
          "old_text": null,
          "new_text": "av_dlog(avctx, \"loro_surmixlev: %0.3f (%d)\\n\",\n                    opt->loro_surround_mix_level, s->loro_surround_mix_level)",
          "old_line_content": "                    opt->ltrt_surround_mix_level, s->ltrt_surround_mix_level);",
          "new_line_content": "            av_dlog(avctx, \"loro_surmixlev: %0.3f (%d)\\n\",",
          "content_same": false
        },
        {
          "line": 2133,
          "old_api": null,
          "new_api": "FF_ALLOCZ_OR_GOTO",
          "old_text": null,
          "new_text": "FF_ALLOCZ_OR_GOTO(avctx, block->cpl_coord_mant, channels * sizeof(*block->cpl_coord_mant),\n                              alloc_fail)",
          "old_line_content": "        if (s->cpl_enabled) {",
          "new_line_content": "            FF_ALLOCZ_OR_GOTO(avctx, block->cpl_coord_mant, channels * sizeof(*block->cpl_coord_mant),",
          "content_same": false
        },
        {
          "line": 1621,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(strbuf, \"notindicated\", 32)",
          "old_line_content": "        }",
          "new_line_content": "            case 0:  av_strlcpy(strbuf, \"notindicated\", 32); break;",
          "content_same": false
        },
        {
          "line": 1622,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(strbuf, \"on\", 32)",
          "old_line_content": "        if (opt->extended_bsi_2) {",
          "new_line_content": "            case 1:  av_strlcpy(strbuf, \"on\", 32);           break;",
          "content_same": false
        },
        {
          "line": 1623,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(strbuf, \"off\", 32)",
          "old_line_content": "            switch (opt->dolby_surround_ex_mode) {",
          "new_line_content": "            case 2:  av_strlcpy(strbuf, \"off\", 32);          break;",
          "content_same": false
        },
        {
          "line": 1628,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(strbuf, \"notindicated\", 32)",
          "old_line_content": "            }",
          "new_line_content": "            case 0:  av_strlcpy(strbuf, \"notindicated\", 32); break;",
          "content_same": false
        },
        {
          "line": 1630,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(strbuf, \"off\", 32)",
          "old_line_content": "            switch (opt->dolby_headphone_mode) {",
          "new_line_content": "            case 2:  av_strlcpy(strbuf, \"off\", 32);          break;",
          "content_same": false
        },
        {
          "line": 1123,
          "old_api": null,
          "new_api": "sym_quant",
          "old_text": null,
          "new_text": "sym_quant(c, e, 7)",
          "old_line_content": "            }",
          "new_line_content": "            v = sym_quant(c, e, 7);",
          "content_same": false
        },
        {
          "line": 1637,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(strbuf, \"hdcd\", 32)",
          "old_line_content": "",
          "new_line_content": "            case 1:  av_strlcpy(strbuf, \"hdcd\", 32);     break;",
          "content_same": false
        },
        {
          "line": 1638,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(strbuf, 32, \"ERROR (%d)\", opt->ad_converter_type)",
          "old_line_content": "            switch (opt->ad_converter_type) {",
          "new_line_content": "            default: snprintf(strbuf, 32, \"ERROR (%d)\", opt->ad_converter_type);",
          "content_same": false
        },
        {
          "line": 1642,
          "old_api": null,
          "new_api": "av_dlog",
          "old_text": null,
          "new_text": "av_dlog(avctx, \"extended bitstream info 2: {not written}\\n\")",
          "old_line_content": "            }",
          "new_line_content": "            av_dlog(avctx, \"extended bitstream info 2: {not written}\\n\");",
          "content_same": false
        },
        {
          "line": 2156,
          "old_api": null,
          "new_api": "FF_ALLOCZ_OR_GOTO",
          "old_text": null,
          "new_text": "FF_ALLOCZ_OR_GOTO(avctx, s->fixed_coef_buffer, AC3_MAX_BLOCKS * channels *\n                          AC3_MAX_COEFS * sizeof(*s->fixed_coef_buffer), alloc_fail)",
          "old_line_content": "    }",
          "new_line_content": "        FF_ALLOCZ_OR_GOTO(avctx, s->fixed_coef_buffer, AC3_MAX_BLOCKS * channels *",
          "content_same": false
        },
        {
          "line": 2160,
          "old_api": null,
          "new_api": "FF_ALLOCZ_OR_GOTO",
          "old_text": null,
          "new_text": "FF_ALLOCZ_OR_GOTO(avctx, block->fixed_coef, channels *\n                              sizeof(*block->fixed_coef), alloc_fail)",
          "old_line_content": "                          AC3_MAX_COEFS * sizeof(*s->fixed_coef_buffer), alloc_fail);",
          "new_line_content": "            FF_ALLOCZ_OR_GOTO(avctx, block->fixed_coef, channels *",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": null,
          "new_api": "sym_quant",
          "old_text": null,
          "new_text": "sym_quant(c, e, 15)",
          "old_line_content": "            }",
          "new_line_content": "            v = sym_quant(c, e, 15);",
          "content_same": false
        },
        {
          "line": 2168,
          "old_api": null,
          "new_api": "FF_ALLOCZ_OR_GOTO",
          "old_text": null,
          "new_text": "FF_ALLOCZ_OR_GOTO(avctx, block->fixed_coef, channels *\n                              sizeof(*block->fixed_coef), alloc_fail)",
          "old_line_content": "    } else {",
          "new_line_content": "            FF_ALLOCZ_OR_GOTO(avctx, block->fixed_coef, channels *",
          "content_same": false
        },
        {
          "line": 1656,
          "old_api": null,
          "new_api": "v < (v_list[i] + FLT_OPTION_THRESHOLD) &&\n            v > (v_list[i] - FLT_OPTION_THRESHOLD)",
          "old_text": null,
          "new_text": "v < (v_list[i] + FLT_OPTION_THRESHOLD) &&\n            v > (v_list[i] - FLT_OPTION_THRESHOLD)",
          "old_line_content": "    int i;",
          "new_line_content": "        if (v < (v_list[i] + FLT_OPTION_THRESHOLD) &&",
          "content_same": false
        },
        {
          "line": 2177,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "    return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 1672,
          "old_api": null,
          "new_api": "validate_float_option",
          "old_text": null,
          "new_text": "validate_float_option(*opt_param, list, list_size)",
          "old_line_content": "                               int list_size, int default_value, int min_value,",
          "new_line_content": "    int mixlev = validate_float_option(*opt_param, list, list_size);",
          "content_same": false
        },
        {
          "line": 1676,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(log_ctx, AV_LOG_WARNING, \"requested %s is not valid. using \"\n                   \"default value: %0.3f\\n\", opt_name, list[mixlev])",
          "old_line_content": "    if (mixlev < min_value) {",
          "new_line_content": "            av_log(log_ctx, AV_LOG_WARNING, \"requested %s is not valid. using \"",
          "content_same": false
        },
        {
          "line": 2195,
          "old_api": null,
          "new_api": "ff_ac3_common_init",
          "old_text": null,
          "new_text": "ff_ac3_common_init()",
          "old_line_content": "",
          "new_line_content": "    ff_ac3_common_init();",
          "content_same": false
        },
        {
          "line": 2197,
          "old_api": null,
          "new_api": "validate_options",
          "old_text": null,
          "new_text": "validate_options(avctx, s)",
          "old_line_content": "",
          "new_line_content": "    ret = validate_options(avctx, s);",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": null,
          "new_api": "quantize_mantissas_blk_ch",
          "old_text": null,
          "new_text": "quantize_mantissas_blk_ch(&m, block->fixed_coef[ch],\n                                      s->blocks[s->exp_ref_block[ch][blk]].exp[ch],\n                                      s->ref_bap[ch][blk], block->qmant[ch],\n                                      s->start_freq[ch], block->end_freq[ch])",
          "old_line_content": "                ch      = CPL_CH;",
          "new_line_content": "            quantize_mantissas_blk_ch(&m, block->fixed_coef[ch],",
          "content_same": false
        },
        {
          "line": 1696,
          "old_api": null,
          "new_api": "validate_mix_level",
          "old_text": null,
          "new_text": "validate_mix_level(avctx, \"center_mix_level\", &opt->center_mix_level,\n                           cmixlev_options, CMIXLEV_NUM_OPTIONS, 1, 0,\n                           &s->center_mix_level)",
          "old_line_content": "",
          "new_line_content": "        validate_mix_level(avctx, \"center_mix_level\", &opt->center_mix_level,",
          "content_same": false
        },
        {
          "line": 2210,
          "old_api": null,
          "new_api": "pow_poly",
          "old_text": null,
          "new_text": "pow_poly((CRC16_POLY >> 1), (8 * frame_size_58) - 16, CRC16_POLY)",
          "old_line_content": "",
          "new_line_content": "    s->crc_inv[0] = pow_poly((CRC16_POLY >> 1), (8 * frame_size_58) - 16, CRC16_POLY);",
          "content_same": false
        },
        {
          "line": 1701,
          "old_api": null,
          "new_api": "validate_mix_level",
          "old_text": null,
          "new_text": "validate_mix_level(avctx, \"surround_mix_level\", &opt->surround_mix_level,\n                           surmixlev_options, SURMIXLEV_NUM_OPTIONS, 1, 0,\n                           &s->surround_mix_level)",
          "old_line_content": "                           &s->center_mix_level);",
          "new_line_content": "        validate_mix_level(avctx, \"surround_mix_level\", &opt->surround_mix_level,",
          "content_same": false
        },
        {
          "line": 1194,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 16, 0x0b77)",
          "old_line_content": "{",
          "new_line_content": "    put_bits(&s->pb, 16, 0x0b77);   /* frame header */",
          "content_same": false
        },
        {
          "line": 1195,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 16, 0)",
          "old_line_content": "    AC3EncOptions *opt = &s->options;",
          "new_line_content": "    put_bits(&s->pb, 16, 0);        /* crc1: will be filled later */",
          "content_same": false
        },
        {
          "line": 1196,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 2,  s->bit_alloc.sr_code)",
          "old_line_content": "",
          "new_line_content": "    put_bits(&s->pb, 2,  s->bit_alloc.sr_code);",
          "content_same": false
        },
        {
          "line": 1709,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR, \"mixing_level must be set if \"\n                   \"room_type is set\\n\")",
          "old_line_content": "    /* set audio production info flag */",
          "new_line_content": "            av_log(avctx, AV_LOG_ERROR, \"mixing_level must be set if \"",
          "content_same": false
        },
        {
          "line": 1711,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "        if (opt->mixing_level < 0) {",
          "new_line_content": "            return AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 1204,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 2, s->surround_mix_level)",
          "old_line_content": "    if ((s->channel_mode & 0x01) && s->channel_mode != AC3_CHMODE_MONO)",
          "new_line_content": "        put_bits(&s->pb, 2, s->surround_mix_level);",
          "content_same": false
        },
        {
          "line": 1716,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "        if (opt->mixing_level < 80) {",
          "new_line_content": "            return AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 2, opt->dolby_surround_mode)",
          "old_line_content": "    if (s->channel_mode & 0x04)",
          "new_line_content": "        put_bits(&s->pb, 2, opt->dolby_surround_mode);",
          "content_same": false
        },
        {
          "line": 2231,
          "old_api": null,
          "new_api": "set_bandwidth",
          "old_text": null,
          "new_text": "set_bandwidth(s)",
          "old_line_content": "    else",
          "new_line_content": "    set_bandwidth(s);",
          "content_same": false
        },
        {
          "line": 1208,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 5, -opt->dialogue_level)",
          "old_line_content": "    if (s->channel_mode == AC3_CHMODE_STEREO)",
          "new_line_content": "    put_bits(&s->pb, 5, -opt->dialogue_level);",
          "content_same": false
        },
        {
          "line": 2233,
          "old_api": null,
          "new_api": "exponent_init",
          "old_text": null,
          "new_text": "exponent_init(s)",
          "old_line_content": "",
          "new_line_content": "    exponent_init(s);",
          "content_same": false
        },
        {
          "line": 2235,
          "old_api": null,
          "new_api": "bit_alloc_init",
          "old_text": null,
          "new_text": "bit_alloc_init(s)",
          "old_line_content": "",
          "new_line_content": "    bit_alloc_init(s);",
          "content_same": false
        },
        {
          "line": 2237,
          "old_api": null,
          "new_api": "FF_ALLOCZ_OR_GOTO",
          "old_text": null,
          "new_text": "FF_ALLOCZ_OR_GOTO(avctx, s->mdct, sizeof(AC3MDCTContext), init_fail)",
          "old_line_content": "",
          "new_line_content": "    FF_ALLOCZ_OR_GOTO(avctx, s->mdct, sizeof(AC3MDCTContext), init_fail);",
          "content_same": false
        },
        {
          "line": 2242,
          "old_api": null,
          "new_api": "allocate_buffers",
          "old_text": null,
          "new_text": "allocate_buffers(avctx)",
          "old_line_content": "    if (ret)",
          "new_line_content": "    ret = allocate_buffers(avctx);",
          "content_same": false
        },
        {
          "line": 2246,
          "old_api": null,
          "new_api": "avcodec_alloc_frame",
          "old_text": null,
          "new_text": "avcodec_alloc_frame()",
          "old_line_content": "    if (ret)",
          "new_line_content": "    avctx->coded_frame= avcodec_alloc_frame();",
          "content_same": false
        },
        {
          "line": 1222,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 2, opt->preferred_stereo_downmix)",
          "old_line_content": "        /* alternate bit stream syntax */",
          "new_line_content": "            put_bits(&s->pb, 2, opt->preferred_stereo_downmix);",
          "content_same": false
        },
        {
          "line": 2248,
          "old_api": null,
          "new_api": "dsputil_init",
          "old_text": null,
          "new_text": "dsputil_init(&s->dsp, avctx)",
          "old_line_content": "",
          "new_line_content": "    dsputil_init(&s->dsp, avctx);",
          "content_same": false
        },
        {
          "line": 1224,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 3, s->ltrt_surround_mix_level)",
          "old_line_content": "        if (opt->extended_bsi_1) {",
          "new_line_content": "            put_bits(&s->pb, 3, s->ltrt_surround_mix_level);",
          "content_same": false
        },
        {
          "line": 1737,
          "old_api": null,
          "new_api": "validate_mix_level",
          "old_text": null,
          "new_text": "validate_mix_level(avctx, \"ltrt_center_mix_level\",\n                           &opt->ltrt_center_mix_level, extmixlev_options,\n                           EXTMIXLEV_NUM_OPTIONS, 5, 0,\n                           &s->ltrt_center_mix_level)",
          "old_line_content": "        if (opt->preferred_stereo_downmix < 0)",
          "new_line_content": "        validate_mix_level(avctx, \"ltrt_center_mix_level\",",
          "content_same": false
        },
        {
          "line": 1230,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 2, opt->dolby_surround_ex_mode)",
          "old_line_content": "        }",
          "new_line_content": "            put_bits(&s->pb, 2, opt->dolby_surround_ex_mode);",
          "content_same": false
        },
        {
          "line": 2255,
          "old_api": null,
          "new_api": "ff_ac3_encode_close",
          "old_text": null,
          "new_text": "ff_ac3_encode_close(avctx)",
          "old_line_content": "",
          "new_line_content": "    ff_ac3_encode_close(avctx);",
          "content_same": false
        },
        {
          "line": 1232,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 1, opt->ad_converter_type)",
          "old_line_content": "        if (opt->extended_bsi_2) {",
          "new_line_content": "            put_bits(&s->pb, 1, opt->ad_converter_type);",
          "content_same": false
        },
        {
          "line": 1742,
          "old_api": null,
          "new_api": "validate_mix_level",
          "old_text": null,
          "new_text": "validate_mix_level(avctx, \"ltrt_surround_mix_level\",\n                           &opt->ltrt_surround_mix_level, extmixlev_options,\n                           EXTMIXLEV_NUM_OPTIONS, 6, 3,\n                           &s->ltrt_surround_mix_level)",
          "old_line_content": "                           EXTMIXLEV_NUM_OPTIONS, 5, 0,",
          "new_line_content": "        validate_mix_level(avctx, \"ltrt_surround_mix_level\",",
          "content_same": false
        },
        {
          "line": 1747,
          "old_api": null,
          "new_api": "validate_mix_level",
          "old_text": null,
          "new_text": "validate_mix_level(avctx, \"loro_center_mix_level\",\n                           &opt->loro_center_mix_level, extmixlev_options,\n                           EXTMIXLEV_NUM_OPTIONS, 5, 0,\n                           &s->loro_center_mix_level)",
          "old_line_content": "                           EXTMIXLEV_NUM_OPTIONS, 6, 3,",
          "new_line_content": "        validate_mix_level(avctx, \"loro_center_mix_level\",",
          "content_same": false
        },
        {
          "line": 1237,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 1, 0)",
          "old_line_content": "        }",
          "new_line_content": "    put_bits(&s->pb, 1, 0);         /* no time code 2 */",
          "content_same": false
        },
        {
          "line": 1752,
          "old_api": null,
          "new_api": "validate_mix_level",
          "old_text": null,
          "new_text": "validate_mix_level(avctx, \"loro_surround_mix_level\",\n                           &opt->loro_surround_mix_level, extmixlev_options,\n                           EXTMIXLEV_NUM_OPTIONS, 6, 3,\n                           &s->loro_surround_mix_level)",
          "old_line_content": "                           EXTMIXLEV_NUM_OPTIONS, 5, 0,",
          "new_line_content": "        validate_mix_level(avctx, \"loro_surround_mix_level\",",
          "content_same": false
        },
        {
          "line": 1255,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 1, 0)",
          "old_line_content": "    /* block switching */",
          "new_line_content": "            put_bits(&s->pb, 1, 0);",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 1, 1)",
          "old_line_content": "    /* dither flags */",
          "new_line_content": "            put_bits(&s->pb, 1, 1);",
          "content_same": false
        },
        {
          "line": 1265,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 1, 0)",
          "old_line_content": "    }",
          "new_line_content": "    put_bits(&s->pb, 1, 0);",
          "content_same": false
        },
        {
          "line": 1269,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 1, 0)",
          "old_line_content": "",
          "new_line_content": "        put_bits(&s->pb, 1, 0);",
          "content_same": false
        },
        {
          "line": 1784,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_WARNING, \"alternate bitstream syntax is \"\n                       \"not compatible with reduced samplerates. writing of \"\n                       \"extended bitstream information will be disabled.\\n\")",
          "old_line_content": "        if (s->bitstream_id > 8 && s->bitstream_id < 11) {",
          "new_line_content": "                av_log(avctx, AV_LOG_WARNING, \"alternate bitstream syntax is \"",
          "content_same": false
        },
        {
          "line": 1273,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 1, block->new_cpl_strategy)",
          "old_line_content": "",
          "new_line_content": "        put_bits(&s->pb, 1, block->new_cpl_strategy);",
          "content_same": false
        },
        {
          "line": 1280,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 1, 0)",
          "old_line_content": "        if (block->cpl_in_use) {",
          "new_line_content": "                put_bits(&s->pb, 1, 0); /* enhanced coupling */",
          "content_same": false
        },
        {
          "line": 1290,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 4, end_sub - 3)",
          "old_line_content": "            start_sub = (s->start_freq[CPL_CH] - 37) / 12;",
          "new_line_content": "            put_bits(&s->pb, 4, end_sub - 3);",
          "content_same": false
        },
        {
          "line": 1806,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&s->windowed_samples)",
          "old_line_content": "    int blk, ch;",
          "new_line_content": "    av_freep(&s->windowed_samples);",
          "content_same": false
        },
        {
          "line": 1808,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&s->planar_samples[ch])",
          "old_line_content": "",
          "new_line_content": "        av_freep(&s->planar_samples[ch]);",
          "content_same": false
        },
        {
          "line": 1810,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&s->bap_buffer)",
          "old_line_content": "    for (ch = 0; ch < s->channels; ch++)",
          "new_line_content": "    av_freep(&s->bap_buffer);",
          "content_same": false
        },
        {
          "line": 1306,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 1, block->new_cpl_coords)",
          "old_line_content": "        for (ch = 1; ch <= s->fbw_channels; ch++) {",
          "new_line_content": "                    put_bits(&s->pb, 1, block->new_cpl_coords);",
          "content_same": false
        },
        {
          "line": 1308,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 2, block->cpl_master_exp[ch])",
          "old_line_content": "                if (!s->eac3 || block->new_cpl_coords != 2)",
          "new_line_content": "                    put_bits(&s->pb, 2, block->cpl_master_exp[ch]);",
          "content_same": false
        },
        {
          "line": 1310,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 4, block->cpl_coord_exp [ch][bnd])",
          "old_line_content": "                if (block->new_cpl_coords) {",
          "new_line_content": "                        put_bits(&s->pb, 4, block->cpl_coord_exp [ch][bnd]);",
          "content_same": false
        },
        {
          "line": 1823,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&block->fixed_coef)",
          "old_line_content": "    for (blk = 0; blk < AC3_MAX_BLOCKS; blk++) {",
          "new_line_content": "        av_freep(&block->fixed_coef);",
          "content_same": false
        },
        {
          "line": 1824,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&block->exp)",
          "old_line_content": "        AC3Block *block = &s->blocks[blk];",
          "new_line_content": "        av_freep(&block->exp);",
          "content_same": false
        },
        {
          "line": 1321,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 1, block->new_rematrixing_strategy)",
          "old_line_content": "    /* stereo rematrixing */",
          "new_line_content": "            put_bits(&s->pb, 1, block->new_rematrixing_strategy);",
          "content_same": false
        },
        {
          "line": 1833,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&s->mdct)",
          "old_line_content": "    }",
          "new_line_content": "    av_freep(&s->mdct);",
          "content_same": false
        },
        {
          "line": 1325,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 1, block->rematrixing_flags[bnd])",
          "old_line_content": "        if (block->new_rematrixing_strategy) {",
          "new_line_content": "                put_bits(&s->pb, 1, block->rematrixing_flags[bnd]);",
          "content_same": false
        },
        {
          "line": 1332,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 2, s->exp_strategy[ch][blk])",
          "old_line_content": "    /* exponent strategy */",
          "new_line_content": "            put_bits(&s->pb, 2, s->exp_strategy[ch][blk]);",
          "content_same": false
        },
        {
          "line": 1334,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 1, s->exp_strategy[s->lfe_channel][blk])",
          "old_line_content": "        for (ch = !block->cpl_in_use; ch <= s->fbw_channels; ch++)",
          "new_line_content": "            put_bits(&s->pb, 1, s->exp_strategy[s->lfe_channel][blk]);",
          "content_same": false
        },
        {
          "line": 1849,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "    int ch_layout;",
          "new_line_content": "        return AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 1851,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "    if (channels < 1 || channels > AC3_MAX_CHANNELS)",
          "new_line_content": "        return AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 1340,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 6, s->bandwidth_code)",
          "old_line_content": "    /* bandwidth */",
          "new_line_content": "            put_bits(&s->pb, 6, s->bandwidth_code);",
          "content_same": false
        },
        {
          "line": 1352,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 4, block->grouped_exp[ch][0] >> cpl)",
          "old_line_content": "            continue;",
          "new_line_content": "        put_bits(&s->pb, 4, block->grouped_exp[ch][0] >> cpl);",
          "content_same": false
        },
        {
          "line": 1357,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 7, block->grouped_exp[ch][i])",
          "old_line_content": "        /* exponent groups */",
          "new_line_content": "            put_bits(&s->pb, 7, block->grouped_exp[ch][i]);",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 2, 0)",
          "old_line_content": "",
          "new_line_content": "            put_bits(&s->pb, 2, 0);",
          "content_same": false
        },
        {
          "line": 1874,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "    case AV_CH_LAYOUT_5POINT0:",
          "new_line_content": "        return AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 1367,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 1, baie)",
          "old_line_content": "    /* bit allocation info */",
          "new_line_content": "        put_bits(&s->pb, 1, baie);",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 2, s->slow_decay_code)",
          "old_line_content": "        baie = (blk == 0);",
          "new_line_content": "            put_bits(&s->pb, 2, s->slow_decay_code);",
          "content_same": false
        },
        {
          "line": 1371,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 2, s->slow_gain_code)",
          "old_line_content": "        if (baie) {",
          "new_line_content": "            put_bits(&s->pb, 2, s->slow_gain_code);",
          "content_same": false
        },
        {
          "line": 1379,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 1, block->new_snr_offsets)",
          "old_line_content": "",
          "new_line_content": "        put_bits(&s->pb, 1, block->new_snr_offsets);",
          "content_same": false
        },
        {
          "line": 1381,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 6, s->coarse_snr_offset)",
          "old_line_content": "    if (!s->eac3) {",
          "new_line_content": "            put_bits(&s->pb, 6, s->coarse_snr_offset);",
          "content_same": false
        },
        {
          "line": 1894,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_WARNING, \"No channel layout specified. The \"\n                                      \"encoder will guess the layout, but it \"\n                                      \"might be incorrect.\\n\")",
          "old_line_content": "",
          "new_line_content": "        av_log(avctx, AV_LOG_WARNING, \"No channel layout specified. The \"",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 4, s->fine_snr_offset[ch])",
          "old_line_content": "        if (block->new_snr_offsets) {",
          "new_line_content": "                put_bits(&s->pb, 4, s->fine_snr_offset[ch]);",
          "content_same": false
        },
        {
          "line": 1898,
          "old_api": null,
          "new_api": "set_channel_info",
          "old_text": null,
          "new_text": "set_channel_info(s, avctx->channels, &avctx->channel_layout)",
          "old_line_content": "                                      \"encoder will guess the layout, but it \"",
          "new_line_content": "    ret = set_channel_info(s, avctx->channels, &avctx->channel_layout);",
          "content_same": false
        },
        {
          "line": 1388,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 1, 0)",
          "old_line_content": "            }",
          "new_line_content": "        put_bits(&s->pb, 1, 0); /* no converter snr offset */",
          "content_same": false
        },
        {
          "line": 1900,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR, \"invalid channel layout\\n\")",
          "old_line_content": "    }",
          "new_line_content": "        av_log(avctx, AV_LOG_ERROR, \"invalid channel layout\\n\");",
          "content_same": false
        },
        {
          "line": 1394,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 1, block->new_cpl_leak)",
          "old_line_content": "    /* coupling leak */",
          "new_line_content": "            put_bits(&s->pb, 1, block->new_cpl_leak);",
          "content_same": false
        },
        {
          "line": 1396,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 3, s->bit_alloc.cpl_fast_leak)",
          "old_line_content": "        if (!s->eac3 || block->new_cpl_leak != 2)",
          "new_line_content": "            put_bits(&s->pb, 3, s->bit_alloc.cpl_fast_leak);",
          "content_same": false
        },
        {
          "line": 1402,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 1, 0)",
          "old_line_content": "    }",
          "new_line_content": "        put_bits(&s->pb, 1, 0); /* no delta bit allocation */",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 1, 0)",
          "old_line_content": "",
          "new_line_content": "        put_bits(&s->pb, 1, 0); /* no data to skip */",
          "content_same": false
        },
        {
          "line": 1914,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR, \"invalid sample rate\\n\")",
          "old_line_content": "            break;",
          "new_line_content": "        av_log(avctx, AV_LOG_ERROR, \"invalid sample rate\\n\");",
          "content_same": false
        },
        {
          "line": 1915,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "    }",
          "new_line_content": "        return AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 1930,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR, \"invalid bit rate. must be %d to %d \"\n                   \"for this sample rate\\n\", min_br, max_br)",
          "old_line_content": "        max_br = 2048 * s->sample_rate / AC3_FRAME_SIZE * 16;",
          "new_line_content": "            av_log(avctx, AV_LOG_ERROR, \"invalid bit rate. must be %d to %d \"",
          "content_same": false
        },
        {
          "line": 1932,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "        if (avctx->bit_rate < min_br || avctx->bit_rate > max_br) {",
          "new_line_content": "            return AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": null,
          "new_api": "put_bits (&s->pb,   5, q)",
          "old_text": null,
          "new_text": "put_bits (&s->pb,   5, q)",
          "old_line_content": "            b = s->ref_bap[ch][blk][i];",
          "new_line_content": "            case 1: if (q != 128) put_bits (&s->pb,   5, q); break;",
          "content_same": false
        },
        {
          "line": 1422,
          "old_api": null,
          "new_api": "put_bits (&s->pb,   7, q)",
          "old_text": null,
          "new_text": "put_bits (&s->pb,   7, q)",
          "old_line_content": "            switch (b) {",
          "new_line_content": "            case 2: if (q != 128) put_bits (&s->pb,   7, q); break;",
          "content_same": false
        },
        {
          "line": 1423,
          "old_api": null,
          "new_api": "put_sbits",
          "old_text": null,
          "new_text": "put_sbits(&s->pb,   3, q)",
          "old_line_content": "            case 0:                                          break;",
          "new_line_content": "            case 3:               put_sbits(&s->pb,   3, q); break;",
          "content_same": false
        },
        {
          "line": 1937,
          "old_api": null,
          "new_api": "av_assert1",
          "old_text": null,
          "new_text": "av_assert1(wpf > 0 && wpf <= 2048)",
          "old_line_content": "",
          "new_line_content": "        av_assert1(wpf > 0 && wpf <= 2048);",
          "content_same": false
        },
        {
          "line": 1945,
          "old_api": null,
          "new_api": "abs",
          "old_text": null,
          "new_text": "abs(ff_ac3_bitrate_tab[i] * 1000 - avctx->bit_rate)",
          "old_line_content": "        min_br_code = -1;",
          "new_line_content": "            int br_dist = abs(ff_ac3_bitrate_tab[i] * 1000 - avctx->bit_rate);",
          "content_same": false
        },
        {
          "line": 1963,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR, \"invalid bit rate\\n\")",
          "old_line_content": "                break;",
          "new_line_content": "            av_log(avctx, AV_LOG_ERROR, \"invalid bit rate\\n\");",
          "content_same": false
        },
        {
          "line": 1964,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "        }",
          "new_line_content": "            return AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 1974,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR, \"invalid cutoff frequency\\n\")",
          "old_line_content": "",
          "new_line_content": "        av_log(avctx, AV_LOG_ERROR, \"invalid cutoff frequency\\n\");",
          "content_same": false
        },
        {
          "line": 1463,
          "old_api": null,
          "new_api": "mul_poly",
          "old_text": null,
          "new_text": "mul_poly(r, a, poly)",
          "old_line_content": "    r = 1;",
          "new_line_content": "            r = mul_poly(r, a, poly);",
          "content_same": false
        },
        {
          "line": 1464,
          "old_api": null,
          "new_api": "mul_poly",
          "old_text": null,
          "new_text": "mul_poly(a, a, poly)",
          "old_line_content": "    while (n) {",
          "new_line_content": "        a = mul_poly(a, a, poly);",
          "content_same": false
        },
        {
          "line": 1975,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "    /* validate cutoff */",
          "new_line_content": "        return AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 1476,
          "old_api": null,
          "new_api": "av_crc_get_table",
          "old_text": null,
          "new_text": "av_crc_get_table(AV_CRC_16_ANSI)",
          "old_line_content": " */",
          "new_line_content": "    const AVCRC *crc_ctx = av_crc_get_table(AV_CRC_16_ANSI);",
          "content_same": false
        },
        {
          "line": 1988,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR, \"invalid audio service type for the \"\n                                    \"specified number of channels\\n\")",
          "old_line_content": "          avctx->audio_service_type == AV_AUDIO_SERVICE_TYPE_EMERGENCY  ||",
          "new_line_content": "        av_log(avctx, AV_LOG_ERROR, \"invalid audio service type for the \"",
          "content_same": false
        },
        {
          "line": 1990,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "         && avctx->channels > 1)) {",
          "new_line_content": "        return AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 1994,
          "old_api": null,
          "new_api": "ff_ac3_validate_metadata",
          "old_text": null,
          "new_text": "ff_ac3_validate_metadata(avctx)",
          "old_line_content": "    }",
          "new_line_content": "        ret = ff_ac3_validate_metadata(avctx);",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": null,
          "new_api": "put_bits_count",
          "old_text": null,
          "new_text": "put_bits_count(&s->pb)",
          "old_line_content": "    frame_size_58 = ((s->frame_size >> 2) + (s->frame_size >> 4)) << 1;",
          "new_line_content": "    av_assert2(s->frame_size * 8 - put_bits_count(&s->pb) >= 18);",
          "content_same": false
        },
        {
          "line": 1484,
          "old_api": null,
          "new_api": "flush_put_bits",
          "old_text": null,
          "new_text": "flush_put_bits(&s->pb)",
          "old_line_content": "",
          "new_line_content": "    flush_put_bits(&s->pb);",
          "content_same": false
        },
        {
          "line": 1493,
          "old_api": null,
          "new_api": "av_crc",
          "old_text": null,
          "new_text": "av_crc(crc_ctx, 0, frame + 2, s->frame_size - 5)",
          "old_line_content": "",
          "new_line_content": "        crc2_partial = av_crc(crc_ctx, 0, frame + 2, s->frame_size - 5);",
          "content_same": false
        },
        {
          "line": 1497,
          "old_api": null,
          "new_api": "av_crc",
          "old_text": null,
          "new_text": "av_crc(crc_ctx, 0, frame + 4, frame_size_58 - 4)",
          "old_line_content": "    } else {",
          "new_line_content": "    crc1    = av_bswap16(av_crc(crc_ctx, 0, frame + 4, frame_size_58 - 4));",
          "content_same": false
        },
        {
          "line": 1499,
          "old_api": null,
          "new_api": "mul_poly",
          "old_text": null,
          "new_text": "mul_poly(crc_inv, crc1, CRC16_POLY)",
          "old_line_content": "    /* this is not so easy because it is at the beginning of the data... */",
          "new_line_content": "    crc1    = mul_poly(crc_inv, crc1, CRC16_POLY);",
          "content_same": false
        },
        {
          "line": 1510,
          "old_api": null,
          "new_api": "av_crc",
          "old_text": null,
          "new_text": "av_crc(crc_ctx, crc2_partial, frame + s->frame_size - 3, 1)",
          "old_line_content": "    /* ensure crc2 does not match sync word by flipping crcrsv bit if needed */",
          "new_line_content": "        crc2 = av_crc(crc_ctx, crc2_partial, frame + s->frame_size - 3, 1);",
          "content_same": false
        },
        {
          "line": 2023,
          "old_api": null,
          "new_api": "av_clip",
          "old_text": null,
          "new_text": "av_clip((fbw_coeffs - 73) / 3, 0, 60)",
          "old_line_content": "        /* calculate bandwidth based on user-specified cutoff frequency */",
          "new_line_content": "        s->bandwidth_code = av_clip((fbw_coeffs - 73) / 3, 0, 60);",
          "content_same": false
        },
        {
          "line": 1512,
          "old_api": null,
          "new_api": "av_bswap16",
          "old_text": null,
          "new_text": "av_bswap16(crc2)",
          "old_line_content": "        frame[s->frame_size - 3] ^= 0x1;",
          "new_line_content": "    crc2 = av_bswap16(crc2);",
          "content_same": false
        },
        {
          "line": 1524,
          "old_api": null,
          "new_api": "init_put_bits",
          "old_text": null,
          "new_text": "init_put_bits(&s->pb, frame, AC3_MAX_CODED_FRAME_SIZE)",
          "old_line_content": "{",
          "new_line_content": "    init_put_bits(&s->pb, frame, AC3_MAX_CODED_FRAME_SIZE);",
          "content_same": false
        },
        {
          "line": 1526,
          "old_api": null,
          "new_api": "output_frame_header",
          "old_text": null,
          "new_text": "s->output_frame_header(s)",
          "old_line_content": "",
          "new_line_content": "    s->output_frame_header(s);",
          "content_same": false
        },
        {
          "line": 1531,
          "old_api": null,
          "new_api": "output_frame_end",
          "old_text": null,
          "new_text": "output_frame_end(s)",
          "old_line_content": "    for (blk = 0; blk < AC3_MAX_BLOCKS; blk++)",
          "new_line_content": "    output_frame_end(s);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2060,
          "old_api": "FFMIN",
          "new_api": null,
          "old_text": "FFMIN(cpl_end_band-1, 15)",
          "new_text": null,
          "old_line_content": "        cpl_start_band = av_clip(cpl_start, 0, FFMIN(cpl_end_band-1, 15));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1549,
          "old_api": "av_strlcpy",
          "new_api": null,
          "old_text": "av_strlcpy(strbuf, \"AC-3 (dnet quater-rate)\", 32)",
          "new_text": null,
          "old_line_content": "    case 10:  av_strlcpy(strbuf, \"AC-3 (dnet quater-rate)\", 32); break;",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1556,
          "old_api": "av_dlog",
          "new_api": null,
          "old_text": "av_dlog(avctx, \"channel_layout: %s\\n\", strbuf)",
          "new_text": null,
          "old_line_content": "    av_dlog(avctx, \"channel_layout: %s\\n\", strbuf);",
          "new_line_content": "    if (s->cutoff)",
          "content_same": false
        },
        {
          "line": 1558,
          "old_api": "av_dlog",
          "new_api": null,
          "old_text": "av_dlog(avctx, \"bit_rate: %d\\n\", s->bit_rate)",
          "new_text": null,
          "old_line_content": "    av_dlog(avctx, \"bit_rate: %d\\n\", s->bit_rate);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1560,
          "old_api": "av_dlog",
          "new_api": null,
          "old_text": "av_dlog(avctx, \"cutoff: %d\\n\", s->cutoff)",
          "new_text": null,
          "old_line_content": "        av_dlog(avctx, \"cutoff: %d\\n\", s->cutoff);",
          "new_line_content": "            opt->allow_per_frame_metadata?\"on\":\"off\");",
          "content_same": false
        },
        {
          "line": 1568,
          "old_api": "av_dlog",
          "new_api": null,
          "old_text": "av_dlog(avctx, \"center_mixlev: {not written}\\n\")",
          "new_text": null,
          "old_line_content": "        av_dlog(avctx, \"center_mixlev: {not written}\\n\");",
          "new_line_content": "                s->surround_mix_level);",
          "content_same": false
        },
        {
          "line": 1573,
          "old_api": "av_dlog",
          "new_api": null,
          "old_text": "av_dlog(avctx, \"surround_mixlev: {not written}\\n\")",
          "new_text": null,
          "old_line_content": "        av_dlog(avctx, \"surround_mixlev: {not written}\\n\");",
          "new_line_content": "        switch (opt->room_type) {",
          "content_same": false
        },
        {
          "line": 1578,
          "old_api": "av_strlcpy",
          "new_api": null,
          "old_text": "av_strlcpy(strbuf, \"large\", 32)",
          "new_text": null,
          "old_line_content": "        case 1:  av_strlcpy(strbuf, \"large\", 32);        break;",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1580,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(strbuf, 32, \"ERROR (%d)\", opt->room_type)",
          "new_text": null,
          "old_line_content": "        default: snprintf(strbuf, 32, \"ERROR (%d)\", opt->room_type);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 2093,
          "old_api": "FF_ALLOC_OR_GOTO",
          "new_api": null,
          "old_text": "FF_ALLOC_OR_GOTO(avctx, s->bap_buffer,  AC3_MAX_BLOCKS * channels *\n                     AC3_MAX_COEFS * sizeof(*s->bap_buffer),  alloc_fail)",
          "new_text": null,
          "old_line_content": "    FF_ALLOC_OR_GOTO(avctx, s->bap_buffer,  AC3_MAX_BLOCKS * channels *",
          "new_line_content": "                     AC3_MAX_COEFS * sizeof(*s->bap1_buffer), alloc_fail);",
          "content_same": false
        },
        {
          "line": 2095,
          "old_api": "FF_ALLOC_OR_GOTO",
          "new_api": null,
          "old_text": "FF_ALLOC_OR_GOTO(avctx, s->bap1_buffer, AC3_MAX_BLOCKS * channels *\n                     AC3_MAX_COEFS * sizeof(*s->bap1_buffer), alloc_fail)",
          "new_text": null,
          "old_line_content": "    FF_ALLOC_OR_GOTO(avctx, s->bap1_buffer, AC3_MAX_BLOCKS * channels *",
          "new_line_content": "                      AC3_MAX_COEFS * sizeof(*s->mdct_coef_buffer), alloc_fail);",
          "content_same": false
        },
        {
          "line": 2097,
          "old_api": "FF_ALLOCZ_OR_GOTO",
          "new_api": null,
          "old_text": "FF_ALLOCZ_OR_GOTO(avctx, s->mdct_coef_buffer, AC3_MAX_BLOCKS * channels *\n                      AC3_MAX_COEFS * sizeof(*s->mdct_coef_buffer), alloc_fail)",
          "new_text": null,
          "old_line_content": "    FF_ALLOCZ_OR_GOTO(avctx, s->mdct_coef_buffer, AC3_MAX_BLOCKS * channels *",
          "new_line_content": "                     AC3_MAX_COEFS * sizeof(*s->exp_buffer), alloc_fail);",
          "content_same": false
        },
        {
          "line": 2099,
          "old_api": "FF_ALLOC_OR_GOTO",
          "new_api": null,
          "old_text": "FF_ALLOC_OR_GOTO(avctx, s->exp_buffer, AC3_MAX_BLOCKS * channels *\n                     AC3_MAX_COEFS * sizeof(*s->exp_buffer), alloc_fail)",
          "new_text": null,
          "old_line_content": "    FF_ALLOC_OR_GOTO(avctx, s->exp_buffer, AC3_MAX_BLOCKS * channels *",
          "new_line_content": "                     128 * sizeof(*s->grouped_exp_buffer), alloc_fail);",
          "content_same": false
        },
        {
          "line": 1587,
          "old_api": "av_dlog",
          "new_api": null,
          "old_text": "av_dlog(avctx, \"copyright: %s\\n\", opt->copyright?\"on\":\"off\")",
          "new_text": null,
          "old_line_content": "    av_dlog(avctx, \"copyright: %s\\n\", opt->copyright?\"on\":\"off\");",
          "new_line_content": "        switch (opt->dolby_surround_mode) {",
          "content_same": false
        },
        {
          "line": 2101,
          "old_api": "FF_ALLOC_OR_GOTO",
          "new_api": null,
          "old_text": "FF_ALLOC_OR_GOTO(avctx, s->grouped_exp_buffer, AC3_MAX_BLOCKS * channels *\n                     128 * sizeof(*s->grouped_exp_buffer), alloc_fail)",
          "new_text": null,
          "old_line_content": "    FF_ALLOC_OR_GOTO(avctx, s->grouped_exp_buffer, AC3_MAX_BLOCKS * channels *",
          "new_line_content": "                     AC3_MAX_COEFS * sizeof(*s->psd_buffer), alloc_fail);",
          "content_same": false
        },
        {
          "line": 2103,
          "old_api": "FF_ALLOC_OR_GOTO",
          "new_api": null,
          "old_text": "FF_ALLOC_OR_GOTO(avctx, s->psd_buffer, AC3_MAX_BLOCKS * channels *\n                     AC3_MAX_COEFS * sizeof(*s->psd_buffer), alloc_fail)",
          "new_text": null,
          "old_line_content": "    FF_ALLOC_OR_GOTO(avctx, s->psd_buffer, AC3_MAX_BLOCKS * channels *",
          "new_line_content": "                     64 * sizeof(*s->band_psd_buffer), alloc_fail);",
          "content_same": false
        },
        {
          "line": 1592,
          "old_api": "av_strlcpy",
          "new_api": null,
          "old_text": "av_strlcpy(strbuf, \"on\", 32)",
          "new_text": null,
          "old_line_content": "        case 1:  av_strlcpy(strbuf, \"on\", 32);           break;",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2105,
          "old_api": "FF_ALLOC_OR_GOTO",
          "new_api": null,
          "old_text": "FF_ALLOC_OR_GOTO(avctx, s->band_psd_buffer, AC3_MAX_BLOCKS * channels *\n                     64 * sizeof(*s->band_psd_buffer), alloc_fail)",
          "new_text": null,
          "old_line_content": "    FF_ALLOC_OR_GOTO(avctx, s->band_psd_buffer, AC3_MAX_BLOCKS * channels *",
          "new_line_content": "                     64 * sizeof(*s->mask_buffer), alloc_fail);",
          "content_same": false
        },
        {
          "line": 1594,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(strbuf, 32, \"ERROR (%d)\", opt->dolby_surround_mode)",
          "new_text": null,
          "old_line_content": "        default: snprintf(strbuf, 32, \"ERROR (%d)\", opt->dolby_surround_mode);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 2107,
          "old_api": "FF_ALLOC_OR_GOTO",
          "new_api": null,
          "old_text": "FF_ALLOC_OR_GOTO(avctx, s->mask_buffer, AC3_MAX_BLOCKS * channels *\n                     64 * sizeof(*s->mask_buffer), alloc_fail)",
          "new_text": null,
          "old_line_content": "    FF_ALLOC_OR_GOTO(avctx, s->mask_buffer, AC3_MAX_BLOCKS * channels *",
          "new_line_content": "                     AC3_MAX_COEFS * sizeof(*s->qmant_buffer), alloc_fail);",
          "content_same": false
        },
        {
          "line": 1596,
          "old_api": "av_dlog",
          "new_api": null,
          "old_text": "av_dlog(avctx, \"dsur_mode: %s\\n\", strbuf)",
          "new_text": null,
          "old_line_content": "        av_dlog(avctx, \"dsur_mode: %s\\n\", strbuf);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1086,
          "old_api": "sym_quant",
          "new_api": null,
          "old_text": "sym_quant(c, e, 3)",
          "new_text": null,
          "old_line_content": "            v = sym_quant(c, e, 3);",
          "new_line_content": "                s->qmant1_ptr = &qmant[i];",
          "content_same": false
        },
        {
          "line": 1598,
          "old_api": "av_dlog",
          "new_api": null,
          "old_text": "av_dlog(avctx, \"dsur_mode: {not written}\\n\")",
          "new_text": null,
          "old_line_content": "        av_dlog(avctx, \"dsur_mode: {not written}\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2112,
          "old_api": "FF_ALLOC_OR_GOTO",
          "new_api": null,
          "old_text": "FF_ALLOC_OR_GOTO(avctx, s->cpl_coord_exp_buffer, AC3_MAX_BLOCKS * channels *\n                         16 * sizeof(*s->cpl_coord_exp_buffer), alloc_fail)",
          "new_text": null,
          "old_line_content": "        FF_ALLOC_OR_GOTO(avctx, s->cpl_coord_exp_buffer, AC3_MAX_BLOCKS * channels *",
          "new_line_content": "                         16 * sizeof(*s->cpl_coord_mant_buffer), alloc_fail);",
          "content_same": false
        },
        {
          "line": 1600,
          "old_api": "av_dlog",
          "new_api": null,
          "old_text": "av_dlog(avctx, \"original: %s\\n\", opt->original?\"on\":\"off\")",
          "new_text": null,
          "old_line_content": "    av_dlog(avctx, \"original: %s\\n\", opt->original?\"on\":\"off\");",
          "new_line_content": "        if (opt->extended_bsi_1) {",
          "content_same": false
        },
        {
          "line": 2114,
          "old_api": "FF_ALLOC_OR_GOTO",
          "new_api": null,
          "old_text": "FF_ALLOC_OR_GOTO(avctx, s->cpl_coord_mant_buffer, AC3_MAX_BLOCKS * channels *\n                         16 * sizeof(*s->cpl_coord_mant_buffer), alloc_fail)",
          "new_text": null,
          "old_line_content": "        FF_ALLOC_OR_GOTO(avctx, s->cpl_coord_mant_buffer, AC3_MAX_BLOCKS * channels *",
          "new_line_content": "    for (blk = 0; blk < AC3_MAX_BLOCKS; blk++) {",
          "content_same": false
        },
        {
          "line": 1606,
          "old_api": "av_strlcpy",
          "new_api": null,
          "old_text": "av_strlcpy(strbuf, \"ltrt\", 32)",
          "new_text": null,
          "old_line_content": "            case 1:  av_strlcpy(strbuf, \"ltrt\", 32);         break;",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 2119,
          "old_api": "FF_ALLOCZ_OR_GOTO",
          "new_api": null,
          "old_text": "FF_ALLOCZ_OR_GOTO(avctx, block->mdct_coef, channels * sizeof(*block->mdct_coef),\n                          alloc_fail)",
          "new_text": null,
          "old_line_content": "        FF_ALLOCZ_OR_GOTO(avctx, block->mdct_coef, channels * sizeof(*block->mdct_coef),",
          "new_line_content": "                          alloc_fail);",
          "content_same": false
        },
        {
          "line": 2121,
          "old_api": "FF_ALLOCZ_OR_GOTO",
          "new_api": null,
          "old_text": "FF_ALLOCZ_OR_GOTO(avctx, block->exp, channels * sizeof(*block->exp),\n                          alloc_fail)",
          "new_text": null,
          "old_line_content": "        FF_ALLOCZ_OR_GOTO(avctx, block->exp, channels * sizeof(*block->exp),",
          "new_line_content": "                          alloc_fail);",
          "content_same": false
        },
        {
          "line": 2123,
          "old_api": "FF_ALLOCZ_OR_GOTO",
          "new_api": null,
          "old_text": "FF_ALLOCZ_OR_GOTO(avctx, block->grouped_exp, channels * sizeof(*block->grouped_exp),\n                          alloc_fail)",
          "new_text": null,
          "old_line_content": "        FF_ALLOCZ_OR_GOTO(avctx, block->grouped_exp, channels * sizeof(*block->grouped_exp),",
          "new_line_content": "                          alloc_fail);",
          "content_same": false
        },
        {
          "line": 1611,
          "old_api": "av_dlog",
          "new_api": null,
          "old_text": "av_dlog(avctx, \"ltrt_cmixlev: %0.3f (%d)\\n\",\n                    opt->ltrt_center_mix_level, s->ltrt_center_mix_level)",
          "new_text": null,
          "old_line_content": "            av_dlog(avctx, \"ltrt_cmixlev: %0.3f (%d)\\n\",",
          "new_line_content": "                    opt->ltrt_surround_mix_level, s->ltrt_surround_mix_level);",
          "content_same": false
        },
        {
          "line": 2125,
          "old_api": "FF_ALLOCZ_OR_GOTO",
          "new_api": null,
          "old_text": "FF_ALLOCZ_OR_GOTO(avctx, block->psd, channels * sizeof(*block->psd),\n                          alloc_fail)",
          "new_text": null,
          "old_line_content": "        FF_ALLOCZ_OR_GOTO(avctx, block->psd, channels * sizeof(*block->psd),",
          "new_line_content": "                          alloc_fail);",
          "content_same": false
        },
        {
          "line": 1613,
          "old_api": "av_dlog",
          "new_api": null,
          "old_text": "av_dlog(avctx, \"ltrt_surmixlev: %0.3f (%d)\\n\",\n                    opt->ltrt_surround_mix_level, s->ltrt_surround_mix_level)",
          "new_text": null,
          "old_line_content": "            av_dlog(avctx, \"ltrt_surmixlev: %0.3f (%d)\\n\",",
          "new_line_content": "                    opt->loro_center_mix_level, s->loro_center_mix_level);",
          "content_same": false
        },
        {
          "line": 2127,
          "old_api": "FF_ALLOCZ_OR_GOTO",
          "new_api": null,
          "old_text": "FF_ALLOCZ_OR_GOTO(avctx, block->band_psd, channels * sizeof(*block->band_psd),\n                          alloc_fail)",
          "new_text": null,
          "old_line_content": "        FF_ALLOCZ_OR_GOTO(avctx, block->band_psd, channels * sizeof(*block->band_psd),",
          "new_line_content": "                          alloc_fail);",
          "content_same": false
        },
        {
          "line": 1615,
          "old_api": "av_dlog",
          "new_api": null,
          "old_text": "av_dlog(avctx, \"loro_cmixlev: %0.3f (%d)\\n\",\n                    opt->loro_center_mix_level, s->loro_center_mix_level)",
          "new_text": null,
          "old_line_content": "            av_dlog(avctx, \"loro_cmixlev: %0.3f (%d)\\n\",",
          "new_line_content": "                    opt->loro_surround_mix_level, s->loro_surround_mix_level);",
          "content_same": false
        },
        {
          "line": 2129,
          "old_api": "FF_ALLOCZ_OR_GOTO",
          "new_api": null,
          "old_text": "FF_ALLOCZ_OR_GOTO(avctx, block->mask, channels * sizeof(*block->mask),\n                          alloc_fail)",
          "new_text": null,
          "old_line_content": "        FF_ALLOCZ_OR_GOTO(avctx, block->mask, channels * sizeof(*block->mask),",
          "new_line_content": "                          alloc_fail);",
          "content_same": false
        },
        {
          "line": 1106,
          "old_api": "sym_quant",
          "new_api": null,
          "old_text": "sym_quant(c, e, 5)",
          "new_text": null,
          "old_line_content": "            v = sym_quant(c, e, 5);",
          "new_line_content": "                s->qmant2_ptr = &qmant[i];",
          "content_same": false
        },
        {
          "line": 1620,
          "old_api": "av_dlog",
          "new_api": null,
          "old_text": "av_dlog(avctx, \"extended bitstream info 1: {not written}\\n\")",
          "new_text": null,
          "old_line_content": "            av_dlog(avctx, \"extended bitstream info 1: {not written}\\n\");",
          "new_line_content": "            switch (opt->dolby_surround_ex_mode) {",
          "content_same": false
        },
        {
          "line": 2134,
          "old_api": "FF_ALLOCZ_OR_GOTO",
          "new_api": null,
          "old_text": "FF_ALLOCZ_OR_GOTO(avctx, block->cpl_coord_exp, channels * sizeof(*block->cpl_coord_exp),\n                              alloc_fail)",
          "new_text": null,
          "old_line_content": "            FF_ALLOCZ_OR_GOTO(avctx, block->cpl_coord_exp, channels * sizeof(*block->cpl_coord_exp),",
          "new_line_content": "                              alloc_fail);",
          "content_same": false
        },
        {
          "line": 2136,
          "old_api": "FF_ALLOCZ_OR_GOTO",
          "new_api": null,
          "old_text": "FF_ALLOCZ_OR_GOTO(avctx, block->cpl_coord_mant, channels * sizeof(*block->cpl_coord_mant),\n                              alloc_fail)",
          "new_text": null,
          "old_line_content": "            FF_ALLOCZ_OR_GOTO(avctx, block->cpl_coord_mant, channels * sizeof(*block->cpl_coord_mant),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1625,
          "old_api": "av_strlcpy",
          "new_api": null,
          "old_text": "av_strlcpy(strbuf, \"on\", 32)",
          "new_text": null,
          "old_line_content": "            case 1:  av_strlcpy(strbuf, \"on\", 32);           break;",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1627,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(strbuf, 32, \"ERROR (%d)\", opt->dolby_surround_ex_mode)",
          "new_text": null,
          "old_line_content": "            default: snprintf(strbuf, 32, \"ERROR (%d)\", opt->dolby_surround_ex_mode);",
          "new_line_content": "            switch (opt->dolby_headphone_mode) {",
          "content_same": false
        },
        {
          "line": 1632,
          "old_api": "av_strlcpy",
          "new_api": null,
          "old_text": "av_strlcpy(strbuf, \"on\", 32)",
          "new_text": null,
          "old_line_content": "            case 1:  av_strlcpy(strbuf, \"on\", 32);           break;",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1634,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(strbuf, 32, \"ERROR (%d)\", opt->dolby_headphone_mode)",
          "new_text": null,
          "old_line_content": "            default: snprintf(strbuf, 32, \"ERROR (%d)\", opt->dolby_headphone_mode);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1639,
          "old_api": "av_strlcpy",
          "new_api": null,
          "old_text": "av_strlcpy(strbuf, \"standard\", 32)",
          "new_text": null,
          "old_line_content": "            case 0:  av_strlcpy(strbuf, \"standard\", 32); break;",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1129,
          "old_api": "sym_quant",
          "new_api": null,
          "old_text": "sym_quant(c, e, 11)",
          "new_text": null,
          "old_line_content": "            v = sym_quant(c, e, 11);",
          "new_line_content": "                s->qmant4_ptr = &qmant[i];",
          "content_same": false
        },
        {
          "line": 1641,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(strbuf, 32, \"ERROR (%d)\", opt->ad_converter_type)",
          "new_text": null,
          "old_line_content": "            default: snprintf(strbuf, 32, \"ERROR (%d)\", opt->ad_converter_type);",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 1643,
          "old_api": "av_dlog",
          "new_api": null,
          "old_text": "av_dlog(avctx, \"ad_conv_type: %s\\n\", strbuf)",
          "new_text": null,
          "old_line_content": "            av_dlog(avctx, \"ad_conv_type: %s\\n\", strbuf);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1645,
          "old_api": "av_dlog",
          "new_api": null,
          "old_text": "av_dlog(avctx, \"extended bitstream info 2: {not written}\\n\")",
          "new_text": null,
          "old_line_content": "            av_dlog(avctx, \"extended bitstream info 2: {not written}\\n\");",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 2159,
          "old_api": "FF_ALLOCZ_OR_GOTO",
          "new_api": null,
          "old_text": "FF_ALLOCZ_OR_GOTO(avctx, s->fixed_coef_buffer, AC3_MAX_BLOCKS * channels *\n                          AC3_MAX_COEFS * sizeof(*s->fixed_coef_buffer), alloc_fail)",
          "new_text": null,
          "old_line_content": "        FF_ALLOCZ_OR_GOTO(avctx, s->fixed_coef_buffer, AC3_MAX_BLOCKS * channels *",
          "new_line_content": "            AC3Block *block = &s->blocks[blk];",
          "content_same": false
        },
        {
          "line": 2163,
          "old_api": "FF_ALLOCZ_OR_GOTO",
          "new_api": null,
          "old_text": "FF_ALLOCZ_OR_GOTO(avctx, block->fixed_coef, channels *\n                              sizeof(*block->fixed_coef), alloc_fail)",
          "new_text": null,
          "old_line_content": "            FF_ALLOCZ_OR_GOTO(avctx, block->fixed_coef, channels *",
          "new_line_content": "                block->fixed_coef[ch] = &s->fixed_coef_buffer[AC3_MAX_COEFS * (AC3_MAX_BLOCKS * ch + blk)];",
          "content_same": false
        },
        {
          "line": 2171,
          "old_api": "FF_ALLOCZ_OR_GOTO",
          "new_api": null,
          "old_text": "FF_ALLOCZ_OR_GOTO(avctx, block->fixed_coef, channels *\n                              sizeof(*block->fixed_coef), alloc_fail)",
          "new_text": null,
          "old_line_content": "            FF_ALLOCZ_OR_GOTO(avctx, block->fixed_coef, channels *",
          "new_line_content": "                block->fixed_coef[ch] = (int32_t *)block->mdct_coef[ch];",
          "content_same": false
        },
        {
          "line": 1659,
          "old_api": "v < (v_list[i] + FLT_OPTION_THRESHOLD) &&\n            v > (v_list[i] - FLT_OPTION_THRESHOLD)",
          "new_api": null,
          "old_text": "v < (v_list[i] + FLT_OPTION_THRESHOLD) &&\n            v > (v_list[i] - FLT_OPTION_THRESHOLD)",
          "new_text": null,
          "old_line_content": "        if (v < (v_list[i] + FLT_OPTION_THRESHOLD) &&",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1153,
          "old_api": "asym_quant",
          "new_api": null,
          "old_text": "asym_quant(c, e, b - 1)",
          "new_text": null,
          "old_line_content": "            v = asym_quant(c, e, b - 1);",
          "new_line_content": "        qmant[i] = v;",
          "content_same": false
        },
        {
          "line": 2180,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "    return AVERROR(ENOMEM);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1675,
          "old_api": "validate_float_option",
          "new_api": null,
          "old_text": "validate_float_option(*opt_param, list, list_size)",
          "new_text": null,
          "old_line_content": "    int mixlev = validate_float_option(*opt_param, list, list_size);",
          "new_line_content": "        if (*opt_param >= 0.0) {",
          "content_same": false
        },
        {
          "line": 1679,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(log_ctx, AV_LOG_WARNING, \"requested %s is not valid. using \"\n                   \"default value: %0.3f\\n\", opt_name, list[mixlev])",
          "new_text": null,
          "old_line_content": "            av_log(log_ctx, AV_LOG_WARNING, \"requested %s is not valid. using \"",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2198,
          "old_api": "ff_ac3_common_init",
          "new_api": null,
          "old_text": "ff_ac3_common_init()",
          "new_text": null,
          "old_line_content": "    ff_ac3_common_init();",
          "new_line_content": "    if (ret)",
          "content_same": false
        },
        {
          "line": 2200,
          "old_api": "validate_options",
          "new_api": null,
          "old_text": "validate_options(avctx, s)",
          "new_text": null,
          "old_line_content": "    ret = validate_options(avctx, s);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": "quantize_mantissas_blk_ch",
          "new_api": null,
          "old_text": "quantize_mantissas_blk_ch(&m, block->fixed_coef[ch],\n                                      s->blocks[s->exp_ref_block[ch][blk]].exp[ch],\n                                      s->ref_bap[ch][blk], block->qmant[ch],\n                                      s->start_freq[ch], block->end_freq[ch])",
          "new_text": null,
          "old_line_content": "            quantize_mantissas_blk_ch(&m, block->fixed_coef[ch],",
          "new_line_content": "                                      s->start_freq[ch], block->end_freq[ch]);",
          "content_same": false
        },
        {
          "line": 1699,
          "old_api": "validate_mix_level",
          "new_api": null,
          "old_text": "validate_mix_level(avctx, \"center_mix_level\", &opt->center_mix_level,\n                           cmixlev_options, CMIXLEV_NUM_OPTIONS, 1, 0,\n                           &s->center_mix_level)",
          "new_text": null,
          "old_line_content": "        validate_mix_level(avctx, \"center_mix_level\", &opt->center_mix_level,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2216,
          "old_api": "pow_poly",
          "new_api": null,
          "old_text": "pow_poly((CRC16_POLY >> 1), (8 * frame_size_58) - 16, CRC16_POLY)",
          "new_text": null,
          "old_line_content": "        s->crc_inv[1] = pow_poly((CRC16_POLY >> 1), (8 * frame_size_58) - 16, CRC16_POLY);",
          "new_line_content": "    /* set function pointers */",
          "content_same": false
        },
        {
          "line": 1704,
          "old_api": "validate_mix_level",
          "new_api": null,
          "old_text": "validate_mix_level(avctx, \"surround_mix_level\", &opt->surround_mix_level,\n                           surmixlev_options, SURMIXLEV_NUM_OPTIONS, 1, 0,\n                           &s->surround_mix_level)",
          "new_text": null,
          "old_line_content": "        validate_mix_level(avctx, \"surround_mix_level\", &opt->surround_mix_level,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1712,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_ERROR, \"mixing_level must be set if \"\n                   \"room_type is set\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(avctx, AV_LOG_ERROR, \"mixing_level must be set if \"",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 5,  s->bitstream_id)",
          "new_text": null,
          "old_line_content": "    put_bits(&s->pb, 5,  s->bitstream_id);",
          "new_line_content": "    if ((s->channel_mode & 0x01) && s->channel_mode != AC3_CHMODE_MONO)",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 3,  s->channel_mode)",
          "new_text": null,
          "old_line_content": "    put_bits(&s->pb, 3,  s->channel_mode);",
          "new_line_content": "    if (s->channel_mode & 0x04)",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 2, s->center_mix_level)",
          "new_text": null,
          "old_line_content": "        put_bits(&s->pb, 2, s->center_mix_level);",
          "new_line_content": "    if (s->channel_mode == AC3_CHMODE_STEREO)",
          "content_same": false
        },
        {
          "line": 1717,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_ERROR, \"invalid mixing level. must be between \"\n                   \"80dB and 111dB\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(avctx, AV_LOG_ERROR, \"invalid mixing level. must be between \"",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1719,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(EINVAL)",
          "new_text": null,
          "old_line_content": "            return AVERROR(EINVAL);",
          "new_line_content": "        if (opt->room_type < 0)",
          "content_same": false
        },
        {
          "line": 2234,
          "old_api": "set_bandwidth",
          "new_api": null,
          "old_text": "set_bandwidth(s)",
          "new_text": null,
          "old_line_content": "    set_bandwidth(s);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2236,
          "old_api": "exponent_init",
          "new_api": null,
          "old_text": "exponent_init(s)",
          "new_text": null,
          "old_line_content": "    exponent_init(s);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1212,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 1, 0)",
          "new_text": null,
          "old_line_content": "    put_bits(&s->pb, 1, 0);         /* no compression control word */",
          "new_line_content": "    if (opt->audio_production_info) {",
          "content_same": false
        },
        {
          "line": 2240,
          "old_api": "FF_ALLOCZ_OR_GOTO",
          "new_api": null,
          "old_text": "FF_ALLOCZ_OR_GOTO(avctx, s->mdct, sizeof(AC3MDCTContext), init_fail)",
          "new_text": null,
          "old_line_content": "    FF_ALLOCZ_OR_GOTO(avctx, s->mdct, sizeof(AC3MDCTContext), init_fail);",
          "new_line_content": "        goto init_fail;",
          "content_same": false
        },
        {
          "line": 2241,
          "old_api": "mdct_init",
          "new_api": null,
          "old_text": "s->mdct_init(avctx, s->mdct, 9)",
          "new_text": null,
          "old_line_content": "    ret = s->mdct_init(avctx, s->mdct, 9);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1219,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 1, opt->copyright)",
          "new_text": null,
          "old_line_content": "    put_bits(&s->pb, 1, opt->copyright);",
          "new_line_content": "        /* alternate bit stream syntax */",
          "content_same": false
        },
        {
          "line": 2245,
          "old_api": "allocate_buffers",
          "new_api": null,
          "old_text": "allocate_buffers(avctx)",
          "new_text": null,
          "old_line_content": "    ret = allocate_buffers(avctx);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 3, s->ltrt_surround_mix_level)",
          "new_text": null,
          "old_line_content": "            put_bits(&s->pb, 3, s->ltrt_surround_mix_level);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2252,
          "old_api": "ff_ac3dsp_init",
          "new_api": null,
          "old_text": "ff_ac3dsp_init(&s->ac3dsp, avctx->flags & CODEC_FLAG_BITEXACT)",
          "new_text": null,
          "old_line_content": "    ff_ac3dsp_init(&s->ac3dsp, avctx->flags & CODEC_FLAG_BITEXACT);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1229,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 3, s->loro_surround_mix_level)",
          "new_text": null,
          "old_line_content": "            put_bits(&s->pb, 3, s->loro_surround_mix_level);",
          "new_line_content": "        if (opt->extended_bsi_2) {",
          "content_same": false
        },
        {
          "line": 2254,
          "old_api": "dprint_options",
          "new_api": null,
          "old_text": "dprint_options(avctx)",
          "new_text": null,
          "old_line_content": "    dprint_options(avctx);",
          "new_line_content": "init_fail:",
          "content_same": false
        },
        {
          "line": 1740,
          "old_api": "validate_mix_level",
          "new_api": null,
          "old_text": "validate_mix_level(avctx, \"ltrt_center_mix_level\",\n                           &opt->ltrt_center_mix_level, extmixlev_options,\n                           EXTMIXLEV_NUM_OPTIONS, 5, 0,\n                           &s->ltrt_center_mix_level)",
          "new_text": null,
          "old_line_content": "        validate_mix_level(avctx, \"ltrt_center_mix_level\",",
          "new_line_content": "                           &s->ltrt_center_mix_level);",
          "content_same": false
        },
        {
          "line": 1745,
          "old_api": "validate_mix_level",
          "new_api": null,
          "old_text": "validate_mix_level(avctx, \"ltrt_surround_mix_level\",\n                           &opt->ltrt_surround_mix_level, extmixlev_options,\n                           EXTMIXLEV_NUM_OPTIONS, 6, 3,\n                           &s->ltrt_surround_mix_level)",
          "new_text": null,
          "old_line_content": "        validate_mix_level(avctx, \"ltrt_surround_mix_level\",",
          "new_line_content": "                           &s->ltrt_surround_mix_level);",
          "content_same": false
        },
        {
          "line": 2258,
          "old_api": "ff_ac3_encode_close",
          "new_api": null,
          "old_text": "ff_ac3_encode_close(avctx)",
          "new_text": null,
          "old_line_content": "    ff_ac3_encode_close(avctx);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 2, opt->dolby_headphone_mode)",
          "new_text": null,
          "old_line_content": "            put_bits(&s->pb, 2, opt->dolby_headphone_mode);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1235,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 1, opt->ad_converter_type)",
          "new_text": null,
          "old_line_content": "            put_bits(&s->pb, 1, opt->ad_converter_type);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 1750,
          "old_api": "validate_mix_level",
          "new_api": null,
          "old_text": "validate_mix_level(avctx, \"loro_center_mix_level\",\n                           &opt->loro_center_mix_level, extmixlev_options,\n                           EXTMIXLEV_NUM_OPTIONS, 5, 0,\n                           &s->loro_center_mix_level)",
          "new_text": null,
          "old_line_content": "        validate_mix_level(avctx, \"loro_center_mix_level\",",
          "new_line_content": "                           &s->loro_center_mix_level);",
          "content_same": false
        },
        {
          "line": 1240,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 1, 0)",
          "new_text": null,
          "old_line_content": "    put_bits(&s->pb, 1, 0);         /* no time code 2 */",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1242,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 1, 0)",
          "new_text": null,
          "old_line_content": "    put_bits(&s->pb, 1, 0);         /* no additional bit stream info */",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1755,
          "old_api": "validate_mix_level",
          "new_api": null,
          "old_text": "validate_mix_level(avctx, \"loro_surround_mix_level\",\n                           &opt->loro_surround_mix_level, extmixlev_options,\n                           EXTMIXLEV_NUM_OPTIONS, 6, 3,\n                           &s->loro_surround_mix_level)",
          "new_text": null,
          "old_line_content": "        validate_mix_level(avctx, \"loro_surround_mix_level\",",
          "new_line_content": "                           &s->loro_surround_mix_level);",
          "content_same": false
        },
        {
          "line": 1258,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 1, 0)",
          "new_text": null,
          "old_line_content": "            put_bits(&s->pb, 1, 0);",
          "new_line_content": "    /* dither flags */",
          "content_same": false
        },
        {
          "line": 1264,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 1, 1)",
          "new_text": null,
          "old_line_content": "            put_bits(&s->pb, 1, 1);",
          "new_line_content": "    /* dynamic range codes */",
          "content_same": false
        },
        {
          "line": 1268,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 1, 0)",
          "new_text": null,
          "old_line_content": "    put_bits(&s->pb, 1, 0);",
          "new_line_content": "    if (s->eac3)",
          "content_same": false
        },
        {
          "line": 1272,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 1, 0)",
          "new_text": null,
          "old_line_content": "        put_bits(&s->pb, 1, 0);",
          "new_line_content": "    if (!s->eac3)",
          "content_same": false
        },
        {
          "line": 1787,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_WARNING, \"alternate bitstream syntax is \"\n                       \"not compatible with reduced samplerates. writing of \"\n                       \"extended bitstream information will be disabled.\\n\")",
          "new_text": null,
          "old_line_content": "                av_log(avctx, AV_LOG_WARNING, \"alternate bitstream syntax is \"",
          "new_line_content": "                warn_once = 0;",
          "content_same": false
        },
        {
          "line": 1279,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 1, block->cpl_in_use)",
          "new_text": null,
          "old_line_content": "            put_bits(&s->pb, 1, block->cpl_in_use);",
          "new_line_content": "            if (s->eac3)",
          "content_same": false
        },
        {
          "line": 1292,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 4, start_sub)",
          "new_text": null,
          "old_line_content": "            put_bits(&s->pb, 4, start_sub);",
          "new_line_content": "            if (s->eac3) {",
          "content_same": false
        },
        {
          "line": 1299,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 1, ff_eac3_default_cpl_band_struct[bnd])",
          "new_text": null,
          "old_line_content": "                    put_bits(&s->pb, 1, ff_eac3_default_cpl_band_struct[bnd]);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1820,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&s->band_psd_buffer)",
          "new_text": null,
          "old_line_content": "    av_freep(&s->band_psd_buffer);",
          "new_line_content": "    for (blk = 0; blk < AC3_MAX_BLOCKS; blk++) {",
          "content_same": false
        },
        {
          "line": 1309,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 1, block->new_cpl_coords)",
          "new_text": null,
          "old_line_content": "                    put_bits(&s->pb, 1, block->new_cpl_coords);",
          "new_line_content": "                    for (bnd = 0; bnd < s->num_cpl_bands; bnd++) {",
          "content_same": false
        },
        {
          "line": 1821,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&s->mask_buffer)",
          "new_text": null,
          "old_line_content": "    av_freep(&s->mask_buffer);",
          "new_line_content": "        AC3Block *block = &s->blocks[blk];",
          "content_same": false
        },
        {
          "line": 1313,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 4, block->cpl_coord_exp [ch][bnd])",
          "new_text": null,
          "old_line_content": "                        put_bits(&s->pb, 4, block->cpl_coord_exp [ch][bnd]);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1314,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 4, block->cpl_coord_mant[ch][bnd])",
          "new_text": null,
          "old_line_content": "                        put_bits(&s->pb, 4, block->cpl_coord_mant[ch][bnd]);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1830,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&block->band_psd)",
          "new_text": null,
          "old_line_content": "        av_freep(&block->band_psd);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1831,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&block->mask)",
          "new_text": null,
          "old_line_content": "        av_freep(&block->mask);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1324,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 1, block->new_rematrixing_strategy)",
          "new_text": null,
          "old_line_content": "            put_bits(&s->pb, 1, block->new_rematrixing_strategy);",
          "new_line_content": "            for (bnd = 0; bnd < block->num_rematrixing_bands; bnd++)",
          "content_same": false
        },
        {
          "line": 1836,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&s->mdct)",
          "new_text": null,
          "old_line_content": "    av_freep(&s->mdct);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 1838,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&avctx->coded_frame)",
          "new_text": null,
          "old_line_content": "    av_freep(&avctx->coded_frame);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1328,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 1, block->rematrixing_flags[bnd])",
          "new_text": null,
          "old_line_content": "                put_bits(&s->pb, 1, block->rematrixing_flags[bnd]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1335,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 2, s->exp_strategy[ch][blk])",
          "new_text": null,
          "old_line_content": "            put_bits(&s->pb, 2, s->exp_strategy[ch][blk]);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1337,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 1, s->exp_strategy[s->lfe_channel][blk])",
          "new_text": null,
          "old_line_content": "            put_bits(&s->pb, 1, s->exp_strategy[s->lfe_channel][blk]);",
          "new_line_content": "    /* bandwidth */",
          "content_same": false
        },
        {
          "line": 1852,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(EINVAL)",
          "new_text": null,
          "old_line_content": "        return AVERROR(EINVAL);",
          "new_line_content": "    ch_layout = *channel_layout;",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 6, s->bandwidth_code)",
          "new_text": null,
          "old_line_content": "            put_bits(&s->pb, 6, s->bandwidth_code);",
          "new_line_content": "    /* exponents */",
          "content_same": false
        },
        {
          "line": 1857,
          "old_api": "avcodec_guess_channel_layout",
          "new_api": null,
          "old_text": "avcodec_guess_channel_layout(channels, CODEC_ID_AC3, NULL)",
          "new_text": null,
          "old_line_content": "        ch_layout = avcodec_guess_channel_layout(channels, CODEC_ID_AC3, NULL);",
          "new_line_content": "    s->channels     = channels;",
          "content_same": false
        },
        {
          "line": 1355,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 4, block->grouped_exp[ch][0] >> cpl)",
          "new_text": null,
          "old_line_content": "        put_bits(&s->pb, 4, block->grouped_exp[ch][0] >> cpl);",
          "new_line_content": "        nb_groups = exponent_group_tab[cpl][s->exp_strategy[ch][blk]-1][block->end_freq[ch]-s->start_freq[ch]];",
          "content_same": false
        },
        {
          "line": 1360,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 7, block->grouped_exp[ch][i])",
          "new_text": null,
          "old_line_content": "            put_bits(&s->pb, 7, block->grouped_exp[ch][i]);",
          "new_line_content": "        if (ch != s->lfe_channel && !cpl)",
          "content_same": false
        },
        {
          "line": 1364,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 2, 0)",
          "new_text": null,
          "old_line_content": "            put_bits(&s->pb, 2, 0);",
          "new_line_content": "    /* bit allocation info */",
          "content_same": false
        },
        {
          "line": 1877,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(EINVAL)",
          "new_text": null,
          "old_line_content": "        return AVERROR(EINVAL);",
          "new_line_content": "    s->has_surround =  s->channel_mode & 0x04;",
          "content_same": false
        },
        {
          "line": 1374,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 2, s->slow_gain_code)",
          "new_text": null,
          "old_line_content": "            put_bits(&s->pb, 2, s->slow_gain_code);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1375,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 2, s->db_per_bit_code)",
          "new_text": null,
          "old_line_content": "            put_bits(&s->pb, 2, s->db_per_bit_code);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1376,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 3, s->floor_code)",
          "new_text": null,
          "old_line_content": "            put_bits(&s->pb, 3, s->floor_code);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1382,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 1, block->new_snr_offsets)",
          "new_text": null,
          "old_line_content": "        put_bits(&s->pb, 1, block->new_snr_offsets);",
          "new_line_content": "            for (ch = !block->cpl_in_use; ch <= s->channels; ch++) {",
          "content_same": false
        },
        {
          "line": 1897,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_WARNING, \"No channel layout specified. The \"\n                                      \"encoder will guess the layout, but it \"\n                                      \"might be incorrect.\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(avctx, AV_LOG_WARNING, \"No channel layout specified. The \"",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1386,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 4, s->fine_snr_offset[ch])",
          "new_text": null,
          "old_line_content": "                put_bits(&s->pb, 4, s->fine_snr_offset[ch]);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1387,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 3, s->fast_gain_code[ch])",
          "new_text": null,
          "old_line_content": "                put_bits(&s->pb, 3, s->fast_gain_code[ch]);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 1901,
          "old_api": "set_channel_info",
          "new_api": null,
          "old_text": "set_channel_info(s, avctx->channels, &avctx->channel_layout)",
          "new_text": null,
          "old_line_content": "    ret = set_channel_info(s, avctx->channels, &avctx->channel_layout);",
          "new_line_content": "        return ret;",
          "content_same": false
        },
        {
          "line": 1391,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 1, 0)",
          "new_text": null,
          "old_line_content": "        put_bits(&s->pb, 1, 0); /* no converter snr offset */",
          "new_line_content": "    /* coupling leak */",
          "content_same": false
        },
        {
          "line": 1903,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_ERROR, \"invalid channel layout\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(avctx, AV_LOG_ERROR, \"invalid channel layout\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1399,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 3, s->bit_alloc.cpl_fast_leak)",
          "new_text": null,
          "old_line_content": "            put_bits(&s->pb, 3, s->bit_alloc.cpl_fast_leak);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1400,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 3, s->bit_alloc.cpl_slow_leak)",
          "new_text": null,
          "old_line_content": "            put_bits(&s->pb, 3, s->bit_alloc.cpl_slow_leak);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1405,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 1, 0)",
          "new_text": null,
          "old_line_content": "        put_bits(&s->pb, 1, 0); /* no delta bit allocation */",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1406,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 1, 0)",
          "new_text": null,
          "old_line_content": "        put_bits(&s->pb, 1, 0); /* no data to skip */",
          "new_line_content": "    /* mantissas */",
          "content_same": false
        },
        {
          "line": 1917,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_ERROR, \"invalid sample rate\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(avctx, AV_LOG_ERROR, \"invalid sample rate\\n\");",
          "new_line_content": "    s->sample_rate        = avctx->sample_rate;",
          "content_same": false
        },
        {
          "line": 1918,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(EINVAL)",
          "new_text": null,
          "old_line_content": "        return AVERROR(EINVAL);",
          "new_line_content": "    s->bit_alloc.sr_shift = i / 3;",
          "content_same": false
        },
        {
          "line": 1933,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_ERROR, \"invalid bit rate. must be %d to %d \"\n                   \"for this sample rate\\n\", min_br, max_br)",
          "new_text": null,
          "old_line_content": "            av_log(avctx, AV_LOG_ERROR, \"invalid bit rate. must be %d to %d \"",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1935,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(EINVAL)",
          "new_text": null,
          "old_line_content": "            return AVERROR(EINVAL);",
          "new_line_content": "        /* calculate words-per-frame for the selected bitrate */",
          "content_same": false
        },
        {
          "line": 1428,
          "old_api": "put_sbits",
          "new_api": null,
          "old_text": "put_sbits(&s->pb,  14, q)",
          "new_text": null,
          "old_line_content": "            case 14:              put_sbits(&s->pb,  14, q); break;",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1429,
          "old_api": "put_sbits",
          "new_api": null,
          "old_text": "put_sbits(&s->pb,  16, q)",
          "new_text": null,
          "old_line_content": "            case 15:              put_sbits(&s->pb,  16, q); break;",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": "put_sbits",
          "new_api": null,
          "old_text": "put_sbits(&s->pb, b-1, q)",
          "new_text": null,
          "old_line_content": "            default:              put_sbits(&s->pb, b-1, q); break;",
          "new_line_content": "        if (ch == CPL_CH)",
          "content_same": false
        },
        {
          "line": 1940,
          "old_api": "av_assert1",
          "new_api": null,
          "old_text": "av_assert1(wpf > 0 && wpf <= 2048)",
          "new_text": null,
          "old_line_content": "        av_assert1(wpf > 0 && wpf <= 2048);",
          "new_line_content": "           this is needed for lookup tables for bandwidth and coupling",
          "content_same": false
        },
        {
          "line": 1948,
          "old_api": "abs",
          "new_api": null,
          "old_text": "abs(ff_ac3_bitrate_tab[i] * 1000 - avctx->bit_rate)",
          "new_text": null,
          "old_line_content": "            int br_dist = abs(ff_ac3_bitrate_tab[i] * 1000 - avctx->bit_rate);",
          "new_line_content": "                min_br_code = i;",
          "content_same": false
        },
        {
          "line": 1966,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_ERROR, \"invalid bit rate\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(avctx, AV_LOG_ERROR, \"invalid bit rate\\n\");",
          "new_line_content": "        s->frame_size_code = i << 1;",
          "content_same": false
        },
        {
          "line": 1967,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(EINVAL)",
          "new_text": null,
          "old_line_content": "            return AVERROR(EINVAL);",
          "new_line_content": "        s->frame_size_min  = 2 * ff_ac3_frame_size_tab[s->frame_size_code][s->bit_alloc.sr_code];",
          "content_same": false
        },
        {
          "line": 1977,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_ERROR, \"invalid cutoff frequency\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(avctx, AV_LOG_ERROR, \"invalid cutoff frequency\\n\");",
          "new_line_content": "    s->cutoff = avctx->cutoff;",
          "content_same": false
        },
        {
          "line": 1466,
          "old_api": "mul_poly",
          "new_api": null,
          "old_text": "mul_poly(r, a, poly)",
          "new_text": null,
          "old_line_content": "            r = mul_poly(r, a, poly);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1467,
          "old_api": "mul_poly",
          "new_api": null,
          "old_text": "mul_poly(a, a, poly)",
          "new_text": null,
          "old_line_content": "        a = mul_poly(a, a, poly);",
          "new_line_content": "    return r;",
          "content_same": false
        },
        {
          "line": 1978,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(EINVAL)",
          "new_text": null,
          "old_line_content": "        return AVERROR(EINVAL);",
          "new_line_content": "    if (s->cutoff > (s->sample_rate >> 1))",
          "content_same": false
        },
        {
          "line": 1479,
          "old_api": "av_crc_get_table",
          "new_api": null,
          "old_text": "av_crc_get_table(AV_CRC_16_ANSI)",
          "new_text": null,
          "old_line_content": "    const AVCRC *crc_ctx = av_crc_get_table(AV_CRC_16_ANSI);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1991,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_ERROR, \"invalid audio service type for the \"\n                                    \"specified number of channels\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(avctx, AV_LOG_ERROR, \"invalid audio service type for the \"",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1993,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(EINVAL)",
          "new_text": null,
          "old_line_content": "        return AVERROR(EINVAL);",
          "new_line_content": "    if (!s->eac3) {",
          "content_same": false
        },
        {
          "line": 1997,
          "old_api": "ff_ac3_validate_metadata",
          "new_api": null,
          "old_text": "ff_ac3_validate_metadata(avctx)",
          "new_text": null,
          "old_line_content": "        ret = ff_ac3_validate_metadata(avctx);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1490,
          "old_api": "av_assert2",
          "new_api": null,
          "old_text": "av_assert2(pad_bytes >= 0)",
          "new_text": null,
          "old_line_content": "    av_assert2(pad_bytes >= 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1492,
          "old_api": "put_bits_ptr",
          "new_api": null,
          "old_text": "put_bits_ptr(&s->pb)",
          "new_text": null,
          "old_line_content": "        memset(put_bits_ptr(&s->pb), 0, pad_bytes);",
          "new_line_content": "        /* compute crc2 */",
          "content_same": false
        },
        {
          "line": 1496,
          "old_api": "av_crc",
          "new_api": null,
          "old_text": "av_crc(crc_ctx, 0, frame + 2, s->frame_size - 5)",
          "new_text": null,
          "old_line_content": "        crc2_partial = av_crc(crc_ctx, 0, frame + 2, s->frame_size - 5);",
          "new_line_content": "    /* this is not so easy because it is at the beginning of the data... */",
          "content_same": false
        },
        {
          "line": 1502,
          "old_api": "mul_poly",
          "new_api": null,
          "old_text": "mul_poly(crc_inv, crc1, CRC16_POLY)",
          "new_text": null,
          "old_line_content": "    crc1    = mul_poly(crc_inv, crc1, CRC16_POLY);",
          "new_line_content": "    /* compute crc2 */",
          "content_same": false
        },
        {
          "line": 1509,
          "old_api": "av_crc",
          "new_api": null,
          "old_text": "av_crc(crc_ctx, crc2_partial, frame + s->frame_size - 3, 1)",
          "new_text": null,
          "old_line_content": "    crc2 = av_crc(crc_ctx, crc2_partial, frame + s->frame_size - 3, 1);",
          "new_line_content": "        frame[s->frame_size - 3] ^= 0x1;",
          "content_same": false
        },
        {
          "line": 2026,
          "old_api": "av_clip",
          "new_api": null,
          "old_text": "av_clip((fbw_coeffs - 73) / 3, 0, 60)",
          "new_text": null,
          "old_line_content": "        s->bandwidth_code = av_clip((fbw_coeffs - 73) / 3, 0, 60);",
          "new_line_content": "        s->bandwidth_code = ac3_bandwidth_tab[s->fbw_channels-1][s->bit_alloc.sr_code][s->frame_size_code/2];",
          "content_same": false
        },
        {
          "line": 1515,
          "old_api": "av_bswap16",
          "new_api": null,
          "old_text": "av_bswap16(crc2)",
          "new_text": null,
          "old_line_content": "    crc2 = av_bswap16(crc2);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1516,
          "old_api": "AV_WB16",
          "new_api": null,
          "old_text": "AV_WB16(frame + s->frame_size - 2, crc2)",
          "new_text": null,
          "old_line_content": "    AV_WB16(frame + s->frame_size - 2, crc2);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1527,
          "old_api": "init_put_bits",
          "new_api": null,
          "old_text": "init_put_bits(&s->pb, frame, AC3_MAX_CODED_FRAME_SIZE)",
          "new_text": null,
          "old_line_content": "    init_put_bits(&s->pb, frame, AC3_MAX_CODED_FRAME_SIZE);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1532,
          "old_api": "output_audio_block",
          "new_api": null,
          "old_text": "output_audio_block(s, blk)",
          "new_text": null,
          "old_line_content": "        output_audio_block(s, blk);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1534,
          "old_api": "output_frame_end",
          "new_api": null,
          "old_text": "output_frame_end(s)",
          "new_text": null,
          "old_line_content": "    output_frame_end(s);",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 39,
      "total_additions": 161,
      "total_deletions": 161,
      "total_api_changes": 361
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 9,
        "api_related_lines": 361,
        "non_api_lines": 7,
        "non_api_line_numbers": [
          1077,
          1079,
          1080,
          1081,
          1082,
          1084,
          1150
        ]
      }
    },
    "api_calls_before": 315,
    "api_calls_after": 315,
    "diff_info": {
      "added_lines": 4,
      "removed_lines": 7,
      "total_diff_lines": 32
    }
  }
}