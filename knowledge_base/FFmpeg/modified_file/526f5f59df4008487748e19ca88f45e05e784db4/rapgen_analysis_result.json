{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/526f5f59df4008487748e19ca88f45e05e784db4",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/526f5f59df4008487748e19ca88f45e05e784db4/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/526f5f59df4008487748e19ca88f45e05e784db4/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/526f5f59df4008487748e19ca88f45e05e784db4/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 2609,
          "old_api": "av_freep",
          "new_api": "av_mallocz",
          "old_text": "av_freep(&st->codecpar->extradata)",
          "new_text": "av_mallocz(sc->extradata_size[0] + AV_INPUT_BUFFER_PADDING_SIZE)",
          "old_line_content": "    av_freep(&st->codecpar->extradata);",
          "new_line_content": "        st->codecpar->extradata = av_mallocz(sc->extradata_size[0] + AV_INPUT_BUFFER_PADDING_SIZE);",
          "content_same": false
        },
        {
          "line": 2612,
          "old_api": "av_mallocz",
          "new_api": "memcpy",
          "old_text": "av_mallocz(sc->extradata_size[0] + AV_INPUT_BUFFER_PADDING_SIZE)",
          "new_text": "memcpy(st->codecpar->extradata, sc->extradata[0], sc->extradata_size[0])",
          "old_line_content": "        st->codecpar->extradata = av_mallocz(sc->extradata_size[0] + AV_INPUT_BUFFER_PADDING_SIZE);",
          "new_line_content": "        memcpy(st->codecpar->extradata, sc->extradata[0], sc->extradata_size[0]);",
          "content_same": false
        },
        {
          "line": 2615,
          "old_api": "memcpy",
          "new_api": "mov_finalize_stsd_codec",
          "old_text": "memcpy(st->codecpar->extradata, sc->extradata[0], sc->extradata_size[0])",
          "new_text": "mov_finalize_stsd_codec(c, pb, st, sc)",
          "old_line_content": "        memcpy(st->codecpar->extradata, sc->extradata[0], sc->extradata_size[0]);",
          "new_line_content": "    return mov_finalize_stsd_codec(c, pb, st, sc);",
          "content_same": false
        },
        {
          "line": 2642,
          "old_api": "avio_r8",
          "new_api": "avio_rb32",
          "old_text": "avio_r8(pb)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    avio_r8(pb); /* version */",
          "new_line_content": "    entries = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 2654,
          "old_api": "av_log",
          "new_api": "av_malloc_array",
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"Duplicated STSC atom\\n\")",
          "new_text": "av_malloc_array(entries, sizeof(*sc->stsc_data))",
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Duplicated STSC atom\\n\");",
          "new_line_content": "    sc->stsc_data = av_malloc_array(entries, sizeof(*sc->stsc_data));",
          "content_same": false
        },
        {
          "line": 2659,
          "old_api": "AVERROR",
          "new_api": "avio_rb32",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "        sc->stsc_data[i].first = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 2685,
          "old_api": "FFMAX",
          "new_api": "av_assert0",
          "old_text": "FFMAX(sc->stsc_data[i].id, 1)",
          "new_text": "av_assert0(sc->stsc_data[i+1].first >= 2)",
          "old_line_content": "                sc->stsc_data[i].id    = FFMAX(sc->stsc_data[i].id, 1);",
          "new_line_content": "            av_assert0(sc->stsc_data[i+1].first >= 2);",
          "content_same": false
        },
        {
          "line": 2738,
          "old_api": "avio_rb32",
          "new_api": "av_free",
          "old_text": "avio_rb32(pb)",
          "new_text": "av_free(sc->stps_data)",
          "old_line_content": "    entries = avio_rb32(pb);",
          "new_line_content": "    av_free(sc->stps_data);",
          "content_same": false
        },
        {
          "line": 2740,
          "old_api": "av_log",
          "new_api": "av_malloc_array",
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"Duplicated STPS atom\\n\")",
          "new_text": "av_malloc_array(entries, sizeof(*sc->stps_data))",
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Duplicated STPS atom\\n\");",
          "new_line_content": "    sc->stps_data = av_malloc_array(entries, sizeof(*sc->stps_data));",
          "content_same": false
        },
        {
          "line": 2745,
          "old_api": "AVERROR",
          "new_api": "avio_rb32",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "        sc->stps_data[i] = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 2772,
          "old_api": "avio_r8",
          "new_api": "avio_rb32",
          "old_text": "avio_r8(pb)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    avio_r8(pb); /* version */",
          "new_line_content": "    entries = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 2787,
          "old_api": "av_log",
          "new_api": "av_freep",
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"Duplicated STSS atom\\n\")",
          "new_text": "av_freep(&sc->keyframes)",
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Duplicated STSS atom\\n\");",
          "new_line_content": "    av_freep(&sc->keyframes);",
          "content_same": false
        },
        {
          "line": 2794,
          "old_api": "AVERROR",
          "new_api": "avio_rb32",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "        sc->keyframes[i] = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 2824,
          "old_api": "avio_r8",
          "new_api": "MKTAG",
          "old_text": "avio_r8(pb)",
          "new_text": "MKTAG('s','t','s','z')",
          "old_line_content": "    avio_r8(pb); /* version */",
          "new_line_content": "    if (atom.type == MKTAG('s','t','s','z')) {",
          "content_same": false
        },
        {
          "line": 2825,
          "old_api": "avio_rb24",
          "new_api": "avio_rb32",
          "old_text": "avio_rb24(pb)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    avio_rb24(pb); /* flags */",
          "new_line_content": "        sample_size = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 2835,
          "old_api": "avio_rb24",
          "new_api": "avio_rb32",
          "old_text": "avio_rb24(pb)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        avio_rb24(pb); /* reserved */",
          "new_line_content": "    entries = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 2856,
          "old_api": "av_log",
          "new_api": "av_malloc_array",
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"Duplicated STSZ atom\\n\")",
          "new_text": "av_malloc_array(entries, sizeof(*sc->sample_sizes))",
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Duplicated STSZ atom\\n\");",
          "new_line_content": "    sc->sample_sizes = av_malloc_array(entries, sizeof(*sc->sample_sizes));",
          "content_same": false
        },
        {
          "line": 2865,
          "old_api": "av_malloc",
          "new_api": "AVERROR",
          "old_text": "av_malloc(num_bytes+AV_INPUT_BUFFER_PADDING_SIZE)",
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    buf = av_malloc(num_bytes+AV_INPUT_BUFFER_PADDING_SIZE);",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 2868,
          "old_api": "AVERROR",
          "new_api": "ffio_read_size",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "ffio_read_size(pb, buf, num_bytes)",
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "    ret = ffio_read_size(pb, buf, num_bytes);",
          "content_same": false
        },
        {
          "line": 2871,
          "old_api": "ffio_read_size",
          "new_api": "av_free",
          "old_text": "ffio_read_size(pb, buf, num_bytes)",
          "new_text": "av_free(buf)",
          "old_line_content": "    ret = ffio_read_size(pb, buf, num_bytes);",
          "new_line_content": "        av_free(buf);",
          "content_same": false
        },
        {
          "line": 2879,
          "old_api": "init_get_bits",
          "new_api": "get_bits_long",
          "old_text": "init_get_bits(&gb, buf, 8*num_bytes)",
          "new_text": "get_bits_long(&gb, field_size)",
          "old_line_content": "    init_get_bits(&gb, buf, 8*num_bytes);",
          "new_line_content": "        sc->sample_sizes[i] = get_bits_long(&gb, field_size);",
          "content_same": false
        },
        {
          "line": 2882,
          "old_api": "get_bits_long",
          "new_api": "av_log",
          "old_text": "get_bits_long(&gb, field_size)",
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Invalid sample size %d\\n\", sc->sample_sizes[i])",
          "old_line_content": "        sc->sample_sizes[i] = get_bits_long(&gb, field_size);",
          "new_line_content": "            av_log(c->fc, AV_LOG_ERROR, \"Invalid sample size %d\\n\", sc->sample_sizes[i]);",
          "content_same": false
        },
        {
          "line": 2893,
          "old_api": "av_free",
          "new_api": "av_log",
          "old_text": "av_free(buf)",
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STSZ atom\\n\")",
          "old_line_content": "    av_free(buf);",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STSZ atom\\n\");",
          "content_same": false
        },
        {
          "line": 2917,
          "old_api": "avio_rb24",
          "new_api": "av_log",
          "old_text": "avio_rb24(pb)",
          "new_text": "av_log(c->fc, AV_LOG_TRACE, \"track[%u].stts.entries = %u\\n\",\n            c->fc->nb_streams-1, entries)",
          "old_line_content": "    avio_rb24(pb); /* flags */",
          "new_line_content": "    av_log(c->fc, AV_LOG_TRACE, \"track[%u].stts.entries = %u\\n\",",
          "content_same": false
        },
        {
          "line": 2925,
          "old_api": "av_freep",
          "new_api": "AVERROR",
          "old_text": "av_freep(&sc->stts_data)",
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    av_freep(&sc->stts_data);",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 2934,
          "old_api": "av_fast_realloc",
          "new_api": "av_freep",
          "old_text": "av_fast_realloc(sc->stts_data, &alloc_size,\n                                             min_entries * sizeof(*sc->stts_data))",
          "new_text": "av_freep(&sc->stts_data)",
          "old_line_content": "        MOVStts *stts_data = av_fast_realloc(sc->stts_data, &alloc_size,",
          "new_line_content": "            av_freep(&sc->stts_data);",
          "content_same": false
        },
        {
          "line": 2991,
          "old_api": "avio_rb24",
          "new_api": "av_log",
          "old_text": "avio_rb24(pb)",
          "new_text": "av_log(c->fc, AV_LOG_TRACE, \"track[%u].sdtp.entries = %\" PRId64 \"\\n\",\n           c->fc->nb_streams - 1, entries)",
          "old_line_content": "    avio_rb24(pb); /* flags */",
          "new_line_content": "    av_log(c->fc, AV_LOG_TRACE, \"track[%u].sdtp.entries = %\" PRId64 \"\\n\",",
          "content_same": false
        },
        {
          "line": 2999,
          "old_api": "av_freep",
          "new_api": "av_mallocz",
          "old_text": "av_freep(&sc->sdtp_data)",
          "new_text": "av_mallocz(entries)",
          "old_line_content": "    av_freep(&sc->sdtp_data);",
          "new_line_content": "    sc->sdtp_data = av_mallocz(entries);",
          "content_same": false
        },
        {
          "line": 3004,
          "old_api": "AVERROR",
          "new_api": "avio_r8",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "avio_r8(pb)",
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "        sc->sdtp_data[i] = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 3017,
          "old_api": "av_log",
          "new_api": "FFMAX",
          "old_text": "av_log(logctx, AV_LOG_WARNING, \"mov_update_dts_shift(): dts_shift set to %d\\n\", INT_MAX)",
          "new_text": "FFMAX(sc->dts_shift, -duration)",
          "old_line_content": "            av_log(logctx, AV_LOG_WARNING, \"mov_update_dts_shift(): dts_shift set to %d\\n\", INT_MAX);",
          "new_line_content": "        sc->dts_shift = FFMAX(sc->dts_shift, -duration);",
          "content_same": false
        },
        {
          "line": 3036,
          "old_api": "avio_rb24",
          "new_api": "av_log",
          "old_text": "avio_rb24(pb)",
          "new_text": "av_log(c->fc, AV_LOG_TRACE, \"track[%u].ctts.entries = %u\\n\", c->fc->nb_streams - 1, entries)",
          "old_line_content": "    avio_rb24(pb); /* flags */",
          "new_line_content": "    av_log(c->fc, AV_LOG_TRACE, \"track[%u].ctts.entries = %u\\n\", c->fc->nb_streams - 1, entries);",
          "content_same": false
        },
        {
          "line": 3045,
          "old_api": "av_freep",
          "new_api": "AVERROR",
          "old_text": "av_freep(&sc->ctts_data)",
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    av_freep(&sc->ctts_data);",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 3048,
          "old_api": "AVERROR",
          "new_api": "avio_rb32",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "        int count    =avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 3052,
          "old_api": "avio_rb32",
          "new_api": "av_log",
          "old_text": "avio_rb32(pb)",
          "new_text": "av_log(c->fc, AV_LOG_TRACE,\n                   \"ignoring CTTS entry with count=%d duration=%d\\n\",\n                   count, duration)",
          "old_line_content": "        int duration =avio_rb32(pb);",
          "new_line_content": "            av_log(c->fc, AV_LOG_TRACE,",
          "content_same": false
        },
        {
          "line": 3061,
          "old_api": "add_ctts_entry",
          "new_api": "av_log",
          "old_text": "add_ctts_entry(&sc->ctts_data, &ctts_count, &sc->ctts_allocated_size,\n                       count, duration)",
          "new_text": "av_log(c->fc, AV_LOG_TRACE, \"count=%d, duration=%d\\n\",\n                count, duration)",
          "old_line_content": "        add_ctts_entry(&sc->ctts_data, &ctts_count, &sc->ctts_allocated_size,",
          "new_line_content": "        av_log(c->fc, AV_LOG_TRACE, \"count=%d, duration=%d\\n\",",
          "content_same": false
        },
        {
          "line": 3064,
          "old_api": "av_log",
          "new_api": "FFNABS",
          "old_text": "av_log(c->fc, AV_LOG_TRACE, \"count=%d, duration=%d\\n\",\n                count, duration)",
          "new_text": "FFNABS(duration)",
          "old_line_content": "        av_log(c->fc, AV_LOG_TRACE, \"count=%d, duration=%d\\n\",",
          "new_line_content": "        if (FFNABS(duration) < -(1<<28) && i+2<entries) {",
          "content_same": false
        },
        {
          "line": 3103,
          "old_api": "avio_r8",
          "new_api": "MKTAG",
          "old_text": "avio_r8(pb)",
          "new_text": "MKTAG( 'r','a','p',' ')",
          "old_line_content": "    version = avio_r8(pb); /* version */",
          "new_line_content": "    if (grouping_type != MKTAG( 'r','a','p',' '))",
          "content_same": false
        },
        {
          "line": 3106,
          "old_api": "MKTAG",
          "new_api": "avio_rb32",
          "old_text": "MKTAG( 'r','a','p',' ')",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    if (grouping_type != MKTAG( 'r','a','p',' '))",
          "new_line_content": "        avio_rb32(pb); /* grouping_type_parameter */",
          "content_same": false
        },
        {
          "line": 3115,
          "old_api": "av_log",
          "new_api": "av_malloc_array",
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"Duplicated SBGP atom\\n\")",
          "new_text": "av_malloc_array(entries, sizeof(*sc->rap_group))",
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Duplicated SBGP atom\\n\");",
          "new_line_content": "    sc->rap_group = av_malloc_array(entries, sizeof(*sc->rap_group));",
          "content_same": false
        },
        {
          "line": 3120,
          "old_api": "AVERROR",
          "new_api": "avio_rb32",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "        sc->rap_group[i].count = avio_rb32(pb); /* sample_count */",
          "content_same": false
        },
        {
          "line": 3155,
          "old_api": "avpriv_request_sample",
          "new_api": "av_rescale",
          "old_text": "avpriv_request_sample(mov->fc, \"Support for mvhd.timescale = 0 with editlists\")",
          "new_text": "av_rescale(*edit_list_duration, msc->time_scale,\n                                     global_timescale)",
          "old_line_content": "      avpriv_request_sample(mov->fc, \"Support for mvhd.timescale = 0 with editlists\");",
          "new_line_content": "    *edit_list_duration = av_rescale(*edit_list_duration, msc->time_scale,",
          "content_same": false
        },
        {
          "line": 3576,
          "old_api": "FFMAX",
          "new_api": "find_prev_closest_index",
          "old_text": "FFMAX(search_timestamp - msc->time_scale, e_old[0].timestamp)",
          "new_text": "find_prev_closest_index(st, e_old, nb_old, ctts_data_old, ctts_count_old, search_timestamp, 0,\n                                    &index, &ctts_index_old, &ctts_sample_old)",
          "old_line_content": "            search_timestamp = FFMAX(search_timestamp - msc->time_scale, e_old[0].timestamp);",
          "new_line_content": "        if (find_prev_closest_index(st, e_old, nb_old, ctts_data_old, ctts_count_old, search_timestamp, 0,",
          "content_same": false
        },
        {
          "line": 3581,
          "old_api": "av_log",
          "new_api": "find_prev_closest_index",
          "old_text": "av_log(mov->fc, AV_LOG_WARNING,\n                   \"st: %d edit list: %\"PRId64\" Missing key frame while searching for timestamp: %\"PRId64\"\\n\",\n                   st->index, edit_list_index, search_timestamp)",
          "new_text": "find_prev_closest_index(st, e_old, nb_old, ctts_data_old, ctts_count_old, search_timestamp, AVSEEK_FLAG_ANY,\n                                        &index, &ctts_index_old, &ctts_sample_old)",
          "old_line_content": "            av_log(mov->fc, AV_LOG_WARNING,",
          "new_line_content": "            if (find_prev_closest_index(st, e_old, nb_old, ctts_data_old, ctts_count_old, search_timestamp, AVSEEK_FLAG_ANY,",
          "content_same": false
        },
        {
          "line": 3661,
          "old_api": "av_realloc",
          "new_api": "av_log",
          "old_text": "av_realloc(frame_duration_buffer,\n                                                           num_discarded_begin * sizeof(int64_t))",
          "new_text": "av_log(mov->fc, AV_LOG_ERROR, \"Cannot reallocate frame duration buffer\\n\")",
          "old_line_content": "                        frame_duration_buffer = av_realloc(frame_duration_buffer,",
          "new_line_content": "                            av_log(mov->fc, AV_LOG_ERROR, \"Cannot reallocate frame duration buffer\\n\");",
          "content_same": false
        },
        {
          "line": 3860,
          "old_api": "av_fast_realloc",
          "new_api": "av_free",
          "old_text": "av_fast_realloc(NULL, &sc->ctts_allocated_size,\n                                    sc->sample_count * sizeof(*sc->ctts_data))",
          "new_text": "av_free(ctts_data_old)",
          "old_line_content": "            sc->ctts_data = av_fast_realloc(NULL, &sc->ctts_allocated_size,",
          "new_line_content": "                av_free(ctts_data_old);",
          "content_same": false
        },
        {
          "line": 3873,
          "old_api": "add_ctts_entry",
          "new_api": "av_free",
          "old_text": "add_ctts_entry(&sc->ctts_data, &sc->ctts_count,\n                                   &sc->ctts_allocated_size, 1,\n                                   ctts_data_old[i].duration)",
          "new_text": "av_free(ctts_data_old)",
          "old_line_content": "                    add_ctts_entry(&sc->ctts_data, &sc->ctts_count,",
          "new_line_content": "            av_free(ctts_data_old);",
          "content_same": false
        },
        {
          "line": 4015,
          "old_api": "av_log",
          "new_api": "av_reallocp_array",
          "old_text": "av_log(mov->fc, AV_LOG_TRACE, \"chunk count %u\\n\", total)",
          "new_text": "av_reallocp_array(&st->index_entries,\n                              st->nb_index_entries + total,\n                              sizeof(*st->index_entries))",
          "old_line_content": "        av_log(mov->fc, AV_LOG_TRACE, \"chunk count %u\\n\", total);",
          "new_line_content": "        if (av_reallocp_array(&st->index_entries,",
          "content_same": false
        },
        {
          "line": 4110,
          "old_api": "av_url_split",
          "new_api": "strlen",
          "old_text": "av_url_split(src_proto, sizeof(src_proto), src_auth, sizeof(src_auth), src_host, sizeof(src_host), &src_port, NULL, 0, src)",
          "new_text": "strlen(src)",
          "old_line_content": "    av_url_split(src_proto, sizeof(src_proto), src_auth, sizeof(src_auth), src_host, sizeof(src_host), &src_port, NULL, 0, src);",
          "new_line_content": "    if (strlen(src) == 0) {",
          "content_same": false
        },
        {
          "line": 4117,
          "old_api": "strlen",
          "new_api": "strcmp",
          "old_text": "strlen(src_host)",
          "new_text": "strcmp(src_proto, ref_proto)",
          "old_line_content": "        strlen(src_host) + 1 >= sizeof(src_host) ||",
          "new_line_content": "    } else if (strcmp(src_proto, ref_proto) ||",
          "content_same": false
        },
        {
          "line": 4118,
          "old_api": "strlen",
          "new_api": "strcmp",
          "old_text": "strlen(ref_host)",
          "new_text": "strcmp(src_auth, ref_auth)",
          "old_line_content": "        strlen(ref_host) + 1 >= sizeof(ref_host)) {",
          "new_line_content": "               strcmp(src_auth, ref_auth) ||",
          "content_same": false
        },
        {
          "line": 4164,
          "old_api": "test_same_origin",
          "new_api": "av_log",
          "old_text": "test_same_origin(src, filename)",
          "new_text": "av_log(c->fc, AV_LOG_ERROR,\n                        \"Reference with mismatching origin, %s not tried for security reasons, \"\n                        \"set demuxer option use_absolute_path to allow it anyway\\n\",\n                        ref->path)",
          "old_line_content": "                int same_origin = test_same_origin(src, filename);",
          "new_line_content": "                    av_log(c->fc, AV_LOG_ERROR,",
          "content_same": false
        },
        {
          "line": 4171,
          "old_api": "AVERROR",
          "new_api": "strstr",
          "old_text": "AVERROR(ENOENT)",
          "new_text": "strstr(ref->path + l + 1, \"..\")",
          "old_line_content": "                    return AVERROR(ENOENT);",
          "new_line_content": "                if(strstr(ref->path + l + 1, \"..\") ||",
          "content_same": false
        },
        {
          "line": 4175,
          "old_api": "strstr",
          "new_api": "AVERROR",
          "old_text": "strstr(ref->path + l + 1, \":\")",
          "new_text": "AVERROR(ENOENT)",
          "old_line_content": "                   strstr(ref->path + l + 1, \":\") ||",
          "new_line_content": "                    return AVERROR(ENOENT);",
          "content_same": false
        },
        {
          "line": 4178,
          "old_api": "AVERROR",
          "new_api": "strlen",
          "old_text": "AVERROR(ENOENT)",
          "new_text": "strlen(filename)",
          "old_line_content": "                    return AVERROR(ENOENT);",
          "new_line_content": "            if (strlen(filename) + 1 == sizeof(filename))",
          "content_same": false
        },
        {
          "line": 4189,
          "old_api": "io_open",
          "new_api": "av_log",
          "old_text": "c->fc->io_open(c->fc, pb, ref->path, AVIO_FLAG_READ, NULL)",
          "new_text": "av_log(c->fc, AV_LOG_ERROR,\n               \"Absolute path %s not tried for security reasons, \"\n               \"set demuxer option use_absolute_path to allow absolute paths\\n\",\n               ref->path)",
          "old_line_content": "        if (!c->fc->io_open(c->fc, pb, ref->path, AVIO_FLAG_READ, NULL))",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR,",
          "content_same": false
        },
        {
          "line": 4217,
          "old_api": "avformat_new_stream",
          "new_api": "av_mallocz",
          "old_text": "avformat_new_stream(c->fc, NULL)",
          "new_text": "av_mallocz(sizeof(MOVStreamContext))",
          "old_line_content": "    st = avformat_new_stream(c->fc, NULL);",
          "new_line_content": "    sc = av_mallocz(sizeof(MOVStreamContext));",
          "content_same": false
        },
        {
          "line": 4357,
          "old_api": "avio_skip",
          "new_api": "av_log",
          "old_text": "avio_skip(pb, 4)",
          "new_text": "av_log(c->fc, AV_LOG_ERROR,\n               \"The 'keys' atom with the invalid key count: %\"PRIu32\"\\n\", count)",
          "old_line_content": "    avio_skip(pb, 4);",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR,",
          "content_same": false
        },
        {
          "line": 4368,
          "old_api": "AVERROR",
          "new_api": "avio_rb32",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "        uint32_t key_size = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 4371,
          "old_api": "avio_rb32",
          "new_api": "av_log",
          "old_text": "avio_rb32(pb)",
          "new_text": "av_log(c->fc, AV_LOG_ERROR,\n                   \"The key# %\"PRIu32\" in meta has invalid size:\"\n                   \"%\"PRIu32\"\\n\", i, key_size)",
          "old_line_content": "        uint32_t key_size = avio_rb32(pb);",
          "new_line_content": "            av_log(c->fc, AV_LOG_ERROR,",
          "content_same": false
        },
        {
          "line": 4380,
          "old_api": "MKTAG",
          "new_api": "av_mallocz",
          "old_text": "MKTAG('m','d','t','a')",
          "new_text": "av_mallocz(key_size + 1)",
          "old_line_content": "        if (type != MKTAG('m','d','t','a')) {",
          "new_line_content": "        c->meta_keys[i] = av_mallocz(key_size + 1);",
          "content_same": false
        },
        {
          "line": 4383,
          "old_api": "av_mallocz",
          "new_api": "avio_read",
          "old_text": "av_mallocz(key_size + 1)",
          "new_text": "avio_read(pb, c->meta_keys[i], key_size)",
          "old_line_content": "        c->meta_keys[i] = av_mallocz(key_size + 1);",
          "new_line_content": "        avio_read(pb, c->meta_keys[i], key_size);",
          "content_same": false
        },
        {
          "line": 4410,
          "old_api": "avio_tell",
          "new_api": "avio_rb32",
          "old_text": "avio_tell(pb)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        if (end - avio_tell(pb) <= 12)",
          "new_line_content": "        len = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 4414,
          "old_api": "avio_rl32",
          "new_api": "avio_tell",
          "old_text": "avio_rl32(pb)",
          "new_text": "avio_tell(pb)",
          "old_line_content": "        tag = avio_rl32(pb);",
          "new_line_content": "        if (len < 12 || len - 12 > end - avio_tell(pb))",
          "content_same": false
        },
        {
          "line": 4423,
          "old_api": "MKTAG",
          "new_api": "avio_skip",
          "old_text": "MKTAG('n', 'a', 'm', 'e')",
          "new_text": "avio_skip(pb, 4)",
          "old_line_content": "        else if (tag == MKTAG('n', 'a', 'm', 'e'))",
          "new_line_content": "            avio_skip(pb, 4);",
          "content_same": false
        },
        {
          "line": 4437,
          "old_api": "AVERROR",
          "new_api": "ffio_read_size",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "ffio_read_size(pb, *p, len)",
          "old_line_content": "            ret = AVERROR(ENOMEM);",
          "new_line_content": "        ret = ffio_read_size(pb, *p, len);",
          "content_same": false
        },
        {
          "line": 4466,
          "old_api": "avio_seek",
          "new_api": "av_freep",
          "old_text": "avio_seek(pb, end, SEEK_SET)",
          "new_text": "av_freep(&mean)",
          "old_line_content": "    avio_seek(pb, end, SEEK_SET);",
          "new_line_content": "    av_freep(&mean);",
          "content_same": false
        },
        {
          "line": 4479,
          "old_api": "avio_rl32",
          "new_api": "avio_seek",
          "old_text": "avio_rl32(pb)",
          "new_text": "avio_seek(pb, -8, SEEK_CUR)",
          "old_line_content": "        tag = avio_rl32(pb);",
          "new_line_content": "            avio_seek(pb, -8, SEEK_CUR);",
          "content_same": false
        },
        {
          "line": 4481,
          "old_api": "MKTAG",
          "new_api": "mov_read_default",
          "old_text": "MKTAG('h','d','l','r')",
          "new_text": "mov_read_default(c, pb, atom)",
          "old_line_content": "        if (tag == MKTAG('h','d','l','r')) {",
          "new_line_content": "            return mov_read_default(c, pb, atom);",
          "content_same": false
        },
        {
          "line": 4526,
          "old_api": "avio_rb64",
          "new_api": "avio_rb32",
          "old_text": "avio_rb64(pb)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        avio_rb64(pb);",
          "new_line_content": "        avio_rb32(pb); /* creation time */",
          "content_same": false
        },
        {
          "line": 4527,
          "old_api": "avio_rb64",
          "new_api": "avio_rb32",
          "old_text": "avio_rb64(pb)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        avio_rb64(pb);",
          "new_line_content": "        avio_rb32(pb); /* modification time */",
          "content_same": false
        },
        {
          "line": 4537,
          "old_api": "avio_rb32",
          "new_api": "avio_rb16",
          "old_text": "avio_rb32(pb)",
          "new_text": "avio_rb16(pb)",
          "old_line_content": "    avio_rb32(pb); /* reserved */",
          "new_line_content": "    avio_rb16(pb); /* layer */",
          "content_same": false
        },
        {
          "line": 4538,
          "old_api": "avio_rb32",
          "new_api": "avio_rb16",
          "old_text": "avio_rb32(pb)",
          "new_text": "avio_rb16(pb)",
          "old_line_content": "    avio_rb32(pb); /* reserved */",
          "new_line_content": "    avio_rb16(pb); /* alternate group */",
          "content_same": false
        },
        {
          "line": 4573,
          "old_api": "IS_MATRIX_IDENT",
          "new_api": "av_freep",
          "old_text": "IS_MATRIX_IDENT(res_display_matrix)",
          "new_text": "av_freep(&sc->display_matrix)",
          "old_line_content": "    if (!IS_MATRIX_IDENT(res_display_matrix)) {",
          "new_line_content": "        av_freep(&sc->display_matrix);",
          "content_same": false
        },
        {
          "line": 4576,
          "old_api": "av_freep",
          "new_api": "AVERROR",
          "old_text": "av_freep(&sc->display_matrix)",
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "        av_freep(&sc->display_matrix);",
          "new_line_content": "            return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 4624,
          "old_api": "avio_r8",
          "new_api": "avio_rb32",
          "old_text": "avio_r8(pb)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    avio_r8(pb); /* version */",
          "new_line_content": "    track_id = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 4641,
          "old_api": "set_frag_stream",
          "new_api": "avio_rb64",
          "old_text": "set_frag_stream(&c->frag_index, track_id)",
          "new_text": "avio_rb64(pb)",
          "old_line_content": "    set_frag_stream(&c->frag_index, track_id);",
          "new_line_content": "                             avio_rb64(pb) : flags & MOV_TFHD_DEFAULT_BASE_IS_MOOF ?",
          "content_same": false
        },
        {
          "line": 4651,
          "old_api": "avio_rb32",
          "new_api": "av_log",
          "old_text": "avio_rb32(pb)",
          "new_text": "av_log(c->fc, AV_LOG_TRACE, \"frag flags 0x%x\\n\", frag->flags)",
          "old_line_content": "                     avio_rb32(pb) : trex->size;",
          "new_line_content": "    av_log(c->fc, AV_LOG_TRACE, \"frag flags 0x%x\\n\", frag->flags);",
          "content_same": false
        },
        {
          "line": 4653,
          "old_api": "avio_rb32",
          "new_api": "get_current_frag_stream_info",
          "old_text": "avio_rb32(pb)",
          "new_text": "get_current_frag_stream_info(&c->frag_index)",
          "old_line_content": "                     avio_rb32(pb) : trex->flags;",
          "new_line_content": "    frag_stream_info = get_current_frag_stream_info(&c->frag_index);",
          "content_same": false
        },
        {
          "line": 4669,
          "old_api": "av_malloc_array",
          "new_api": "av_free",
          "old_text": "av_malloc_array(num, sizeof(int))",
          "new_text": "av_free(c->chapter_tracks)",
          "old_line_content": "    if (!(new_tracks = av_malloc_array(num, sizeof(int))))",
          "new_line_content": "    av_free(c->chapter_tracks);",
          "content_same": false
        },
        {
          "line": 4698,
          "old_api": "avio_r8",
          "new_api": "avio_rb32",
          "old_text": "avio_r8(pb)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    avio_r8(pb); /* version */",
          "new_line_content": "    trex->stsd_id  = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 4699,
          "old_api": "avio_rb24",
          "new_api": "avio_rb32",
          "old_text": "avio_rb24(pb)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    avio_rb24(pb); /* flags */",
          "new_line_content": "    trex->duration = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 4730,
          "old_api": "avio_r8",
          "new_api": "avio_rb64",
          "old_text": "avio_r8(pb)",
          "new_text": "avio_rb64(pb)",
          "old_line_content": "    version = avio_r8(pb);",
          "new_line_content": "        base_media_decode_time = avio_rb64(pb);",
          "content_same": false
        },
        {
          "line": 4735,
          "old_api": "avio_rb32",
          "new_api": "get_current_frag_stream_info",
          "old_text": "avio_rb32(pb)",
          "new_text": "get_current_frag_stream_info(&c->frag_index)",
          "old_line_content": "        base_media_decode_time = avio_rb32(pb);",
          "new_line_content": "    frag_stream_info = get_current_frag_stream_info(&c->frag_index);",
          "content_same": false
        },
        {
          "line": 4798,
          "old_api": "av_assert0",
          "new_api": "avio_rb24",
          "old_text": "av_assert0(index_entry_pos <= st->nb_index_entries)",
          "new_text": "avio_rb24(pb)",
          "old_line_content": "    av_assert0(index_entry_pos <= st->nb_index_entries);",
          "new_line_content": "    flags = avio_rb24(pb);",
          "content_same": false
        },
        {
          "line": 4800,
          "old_api": "avio_r8",
          "new_api": "av_log",
          "old_text": "avio_r8(pb)",
          "new_text": "av_log(c->fc, AV_LOG_TRACE, \"flags 0x%x entries %u\\n\", flags, entries)",
          "old_line_content": "    avio_r8(pb); /* version */",
          "new_line_content": "    av_log(c->fc, AV_LOG_TRACE, \"flags 0x%x entries %u\\n\", flags, entries);",
          "content_same": false
        },
        {
          "line": 4807,
          "old_api": "avio_rb32",
          "new_api": "get_current_frag_stream_info",
          "old_text": "avio_rb32(pb)",
          "new_text": "get_current_frag_stream_info(&c->frag_index)",
          "old_line_content": "    if (flags & MOV_TRUN_DATA_OFFSET)        data_offset        = avio_rb32(pb);",
          "new_line_content": "    frag_stream_info = get_current_frag_stream_info(&c->frag_index);",
          "content_same": false
        },
        {
          "line": 4867,
          "old_api": "av_fast_realloc",
          "new_api": "AVERROR",
          "old_text": "av_fast_realloc(sc->ctts_data, &sc->ctts_allocated_size,\n                                requested_size)",
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    ctts_data = av_fast_realloc(sc->ctts_data, &sc->ctts_allocated_size,",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 4913,
          "old_api": "avio_rb32",
          "new_api": "mov_update_dts_shift",
          "old_text": "avio_rb32(pb)",
          "new_text": "mov_update_dts_shift(sc, ctts_duration, c->fc)",
          "old_line_content": "        if (flags & MOV_TRUN_SAMPLE_FLAGS)    sample_flags    = avio_rb32(pb);",
          "new_line_content": "        mov_update_dts_shift(sc, ctts_duration, c->fc);",
          "content_same": false
        },
        {
          "line": 5062,
          "old_api": "avio_rb32",
          "new_api": "av_log",
          "old_text": "avio_rb32(pb)",
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Invalid sidx timescale 1/%d\\n\", timescale.den)",
          "old_line_content": "    timescale = av_make_q(1, avio_rb32(pb));",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Invalid sidx timescale 1/%d\\n\", timescale.den);",
          "content_same": false
        },
        {
          "line": 5070,
          "old_api": "avio_rb32",
          "new_api": "avio_rb64",
          "old_text": "avio_rb32(pb)",
          "new_text": "avio_rb64(pb)",
          "old_line_content": "        pts = avio_rb32(pb);",
          "new_line_content": "        pts = avio_rb64(pb);",
          "content_same": false
        },
        {
          "line": 5071,
          "old_api": "avio_rb32",
          "new_api": "avio_rb64",
          "old_text": "avio_rb32(pb)",
          "new_text": "avio_rb64(pb)",
          "old_line_content": "        offset += avio_rb32(pb);",
          "new_line_content": "        offset += avio_rb64(pb);",
          "content_same": false
        },
        {
          "line": 5074,
          "old_api": "avio_rb64",
          "new_api": "avio_rb16",
          "old_text": "avio_rb64(pb)",
          "new_text": "avio_rb16(pb)",
          "old_line_content": "        offset += avio_rb64(pb);",
          "new_line_content": "    avio_rb16(pb); // reserved",
          "content_same": false
        },
        {
          "line": 5084,
          "old_api": "avio_rb32",
          "new_api": "avpriv_request_sample",
          "old_text": "avio_rb32(pb)",
          "new_text": "avpriv_request_sample(c->fc, \"sidx reference_type 1\")",
          "old_line_content": "        uint32_t size = avio_rb32(pb);",
          "new_line_content": "            avpriv_request_sample(c->fc, \"sidx reference_type 1\");",
          "content_same": false
        },
        {
          "line": 5087,
          "old_api": "avpriv_request_sample",
          "new_api": "avio_rb32",
          "old_text": "avpriv_request_sample(c->fc, \"sidx reference_type 1\")",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "            avpriv_request_sample(c->fc, \"sidx reference_type 1\");",
          "new_line_content": "        avio_rb32(pb); // sap_flags",
          "content_same": false
        },
        {
          "line": 5090,
          "old_api": "avio_rb32",
          "new_api": "update_frag_index",
          "old_text": "avio_rb32(pb)",
          "new_text": "update_frag_index(c, offset)",
          "old_line_content": "        avio_rb32(pb); // sap_flags",
          "new_line_content": "        index = update_frag_index(c, offset);",
          "content_same": false
        },
        {
          "line": 5091,
          "old_api": "av_rescale_q",
          "new_api": "get_frag_stream_info",
          "old_text": "av_rescale_q(pts, timescale, st->time_base)",
          "new_text": "get_frag_stream_info(&c->frag_index, index, track_id)",
          "old_line_content": "        timestamp = av_rescale_q(pts, timescale, st->time_base);",
          "new_line_content": "        frag_stream_info = get_frag_stream_info(&c->frag_index, index, track_id);",
          "content_same": false
        },
        {
          "line": 5145,
          "old_api": "avio_skip",
          "new_api": "avio_rl32",
          "old_text": "avio_skip(pb, atom.size - 4)",
          "new_text": "avio_rl32(pb)",
          "old_line_content": "        avio_skip(pb, atom.size - 4);",
          "new_line_content": "    atom.type = avio_rl32(pb);",
          "content_same": false
        },
        {
          "line": 5148,
          "old_api": "avio_rl32",
          "new_api": "avio_skip",
          "old_text": "avio_rl32(pb)",
          "new_text": "avio_skip(pb, atom.size)",
          "old_line_content": "    atom.type = avio_rl32(pb);",
          "new_line_content": "        avio_skip(pb, atom.size);",
          "content_same": false
        },
        {
          "line": 5151,
          "old_api": "avio_skip",
          "new_api": "mov_read_mdat",
          "old_text": "avio_skip(pb, atom.size)",
          "new_text": "mov_read_mdat(c, pb, atom)",
          "old_line_content": "        avio_skip(pb, atom.size);",
          "new_line_content": "    err = mov_read_mdat(c, pb, atom);",
          "content_same": false
        },
        {
          "line": 5167,
          "old_api": "avio_rb32",
          "new_api": "MKTAG",
          "old_text": "avio_rb32(pb)",
          "new_text": "MKTAG('z','l','i','b')",
          "old_line_content": "    avio_rb32(pb); /* dcom atom */",
          "new_line_content": "    if (avio_rl32(pb) != MKTAG('z','l','i','b')) {",
          "content_same": false
        },
        {
          "line": 5168,
          "old_api": "MKTAG",
          "new_api": "av_log",
          "old_text": "MKTAG('d','c','o','m')",
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"unknown compression for cmov atom !\\n\")",
          "old_line_content": "    if (avio_rl32(pb) != MKTAG('d','c','o','m'))",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"unknown compression for cmov atom !\\n\");",
          "content_same": false
        },
        {
          "line": 5171,
          "old_api": "av_log",
          "new_api": "avio_rb32",
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"unknown compression for cmov atom !\\n\")",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"unknown compression for cmov atom !\\n\");",
          "new_line_content": "    avio_rb32(pb); /* cmvd atom */",
          "content_same": false
        },
        {
          "line": 5177,
          "old_api": "avio_rb32",
          "new_api": "av_malloc",
          "old_text": "avio_rb32(pb)",
          "new_text": "av_malloc(cmov_len)",
          "old_line_content": "    moov_len = avio_rb32(pb); /* uncompressed size */",
          "new_line_content": "    cmov_data = av_malloc(cmov_len);",
          "content_same": false
        },
        {
          "line": 5182,
          "old_api": "AVERROR",
          "new_api": "av_free",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "av_free(cmov_data)",
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "        av_free(cmov_data);",
          "content_same": false
        },
        {
          "line": 5183,
          "old_api": "av_malloc",
          "new_api": "AVERROR",
          "old_text": "av_malloc(moov_len)",
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    moov_data = av_malloc(moov_len);",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 5185,
          "old_api": "av_free",
          "new_api": "ffio_read_size",
          "old_text": "av_free(cmov_data)",
          "new_text": "ffio_read_size(pb, cmov_data, cmov_len)",
          "old_line_content": "        av_free(cmov_data);",
          "new_line_content": "    ret = ffio_read_size(pb, cmov_data, cmov_len);",
          "content_same": false
        },
        {
          "line": 5195,
          "old_api": "ffio_init_context",
          "new_api": "MKTAG",
          "old_text": "ffio_init_context(&ctx, moov_data, moov_len, 0, NULL, NULL, NULL, NULL)",
          "new_text": "MKTAG('m','o','o','v')",
          "old_line_content": "    if (ffio_init_context(&ctx, moov_data, moov_len, 0, NULL, NULL, NULL, NULL) != 0)",
          "new_line_content": "    atom.type = MKTAG('m','o','o','v');",
          "content_same": false
        },
        {
          "line": 5200,
          "old_api": "mov_read_default",
          "new_api": "av_free",
          "old_text": "mov_read_default(c, &ctx, atom)",
          "new_text": "av_free(cmov_data)",
          "old_line_content": "    ret = mov_read_default(c, &ctx, atom);",
          "new_line_content": "    av_free(cmov_data);",
          "content_same": false
        },
        {
          "line": 5203,
          "old_api": "av_free",
          "new_api": "av_log",
          "old_text": "av_free(cmov_data)",
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"this file requires zlib support compiled in\\n\")",
          "old_line_content": "    av_free(cmov_data);",
          "new_line_content": "    av_log(c->fc, AV_LOG_ERROR, \"this file requires zlib support compiled in\\n\");",
          "content_same": false
        },
        {
          "line": 5244,
          "old_api": "av_log",
          "new_api": "av_malloc_array",
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"Duplicated ELST atom\\n\")",
          "new_text": "av_malloc_array(edit_count, sizeof(*sc->elst_data))",
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Duplicated ELST atom\\n\");",
          "new_line_content": "    sc->elst_data = av_malloc_array(edit_count, sizeof(*sc->elst_data));",
          "content_same": false
        },
        {
          "line": 5257,
          "old_api": "avio_rb64",
          "new_api": "avio_rb32",
          "old_text": "avio_rb64(pb)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "            e->time     = avio_rb64(pb);",
          "new_line_content": "            e->duration = avio_rb32(pb); /* segment duration */",
          "content_same": false
        },
        {
          "line": 5336,
          "old_api": "av_log",
          "new_api": "avio_skip",
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"Unsupported VP Codec Configuration box version %d\\n\", version)",
          "new_text": "avio_skip(pb, 3)",
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Unsupported VP Codec Configuration box version %d\\n\", version);",
          "new_line_content": "    avio_skip(pb, 3); /* flags */",
          "content_same": false
        },
        {
          "line": 5339,
          "old_api": "avio_skip",
          "new_api": "avio_r8",
          "old_text": "avio_skip(pb, 3)",
          "new_text": "avio_r8(pb)",
          "old_line_content": "    avio_skip(pb, 3); /* flags */",
          "new_line_content": "    color_range     = avio_r8(pb); /* bitDepth, chromaSubsampling, videoFullRangeFlag */",
          "content_same": false
        },
        {
          "line": 5341,
          "old_api": "avio_skip",
          "new_api": "avio_r8",
          "old_text": "avio_skip(pb, 2)",
          "new_text": "avio_r8(pb)",
          "old_line_content": "    avio_skip(pb, 2); /* profile + level */",
          "new_line_content": "    color_trc       = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 5343,
          "old_api": "avio_r8",
          "new_api": "avio_rb16",
          "old_text": "avio_r8(pb)",
          "new_text": "avio_rb16(pb)",
          "old_line_content": "    color_primaries = avio_r8(pb);",
          "new_line_content": "    if (avio_rb16(pb)) /* codecIntializationDataSize */",
          "content_same": false
        },
        {
          "line": 5346,
          "old_api": "avio_rb16",
          "new_api": "av_color_primaries_name",
          "old_text": "avio_rb16(pb)",
          "new_text": "av_color_primaries_name(color_primaries)",
          "old_line_content": "    if (avio_rb16(pb)) /* codecIntializationDataSize */",
          "new_line_content": "    if (!av_color_primaries_name(color_primaries))",
          "content_same": false
        },
        {
          "line": 5381,
          "old_api": "av_log",
          "new_api": "avio_skip",
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"Unsupported Mastering Display Metadata box version %d\\n\", version)",
          "new_text": "avio_skip(pb, 3)",
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Unsupported Mastering Display Metadata box version %d\\n\", version);",
          "new_line_content": "    avio_skip(pb, 3); /* flags */",
          "content_same": false
        },
        {
          "line": 5388,
          "old_api": "AVERROR",
          "new_api": "avio_rb16",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "avio_rb16(pb)",
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "        sc->mastering->display_primaries[i][0] = av_make_q(avio_rb16(pb), 1 << 16);",
          "content_same": false
        },
        {
          "line": 5394,
          "old_api": "avio_rb16",
          "new_api": "avio_rb32",
          "old_text": "avio_rb16(pb)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    sc->mastering->white_point[0] = av_make_q(avio_rb16(pb), 1 << 16);",
          "new_line_content": "    sc->mastering->max_luminance = av_make_q(avio_rb32(pb), 1 << 8);",
          "content_same": false
        },
        {
          "line": 5395,
          "old_api": "avio_rb16",
          "new_api": "avio_rb32",
          "old_text": "avio_rb16(pb)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    sc->mastering->white_point[1] = av_make_q(avio_rb16(pb), 1 << 16);",
          "new_line_content": "    sc->mastering->min_luminance = av_make_q(avio_rb32(pb), 1 << 14);",
          "content_same": false
        },
        {
          "line": 5433,
          "old_api": "avio_rb16",
          "new_api": "avio_rb32",
          "old_text": "avio_rb16(pb)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    sc->mastering->white_point[0] = av_make_q(avio_rb16(pb), chroma_den);",
          "new_line_content": "    sc->mastering->max_luminance = av_make_q(avio_rb32(pb), luma_den);",
          "content_same": false
        },
        {
          "line": 5434,
          "old_api": "avio_rb16",
          "new_api": "avio_rb32",
          "old_text": "avio_rb16(pb)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    sc->mastering->white_point[1] = av_make_q(avio_rb16(pb), chroma_den);",
          "new_line_content": "    sc->mastering->min_luminance = av_make_q(avio_rb32(pb), luma_den);",
          "content_same": false
        },
        {
          "line": 5462,
          "old_api": "av_log",
          "new_api": "avio_skip",
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"Unsupported Content Light Level box version %d\\n\", version)",
          "new_text": "avio_skip(pb, 3)",
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Unsupported Content Light Level box version %d\\n\", version);",
          "new_line_content": "    avio_skip(pb, 3); /* flags */",
          "content_same": false
        },
        {
          "line": 5469,
          "old_api": "AVERROR",
          "new_api": "avio_rb16",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "avio_rb16(pb)",
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "    sc->coll->MaxFALL = avio_rb16(pb);",
          "content_same": false
        },
        {
          "line": 5493,
          "old_api": "AVERROR",
          "new_api": "avio_rb16",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "avio_rb16(pb)",
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "    sc->coll->MaxFALL = avio_rb16(pb);",
          "content_same": false
        },
        {
          "line": 5515,
          "old_api": "av_log",
          "new_api": "avio_skip",
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Empty stereoscopic video box\\n\")",
          "new_text": "avio_skip(pb, 4)",
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Empty stereoscopic video box\\n\");",
          "new_line_content": "    avio_skip(pb, 4); /* version + flags */",
          "content_same": false
        },
        {
          "line": 5571,
          "old_api": "av_log",
          "new_api": "avio_r8",
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Missing spherical video header\\n\")",
          "new_text": "avio_r8(pb)",
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Missing spherical video header\\n\");",
          "new_line_content": "    version = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 5580,
          "old_api": "avio_skip",
          "new_api": "avio_rb32",
          "old_text": "avio_skip(pb, 3)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    avio_skip(pb, 3); /* flags */",
          "new_line_content": "    size = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 5599,
          "old_api": "av_log",
          "new_api": "avio_r8",
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Missing projection header box\\n\")",
          "new_text": "avio_r8(pb)",
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Missing projection header box\\n\");",
          "new_line_content": "    version = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 5608,
          "old_api": "avio_skip",
          "new_api": "avio_rb32",
          "old_text": "avio_skip(pb, 3)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    avio_skip(pb, 3); /* flags */",
          "new_line_content": "    yaw   = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 5619,
          "old_api": "avio_rl32",
          "new_api": "av_log",
          "old_text": "avio_rl32(pb)",
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"Unknown spherical version %d\\n\",\n               version)",
          "old_line_content": "    tag = avio_rl32(pb);",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Unknown spherical version %d\\n\",",
          "content_same": false
        },
        {
          "line": 5626,
          "old_api": "avio_skip",
          "new_api": "avio_rb32",
          "old_text": "avio_skip(pb, 3)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    avio_skip(pb, 3); /* flags */",
          "new_line_content": "        layout = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 5628,
          "old_api": "MKTAG",
          "new_api": "av_log",
          "old_text": "MKTAG('c','b','m','p')",
          "new_text": "av_log(c->fc, AV_LOG_WARNING,\n                   \"Unsupported cubemap layout %d\\n\", layout)",
          "old_line_content": "    case MKTAG('c','b','m','p'):",
          "new_line_content": "            av_log(c->fc, AV_LOG_WARNING,",
          "content_same": false
        },
        {
          "line": 5638,
          "old_api": "MKTAG",
          "new_api": "avio_rb32",
          "old_text": "MKTAG('e','q','u','i')",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    case MKTAG('e','q','u','i'):",
          "new_line_content": "        l = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 5642,
          "old_api": "avio_rb32",
          "new_api": "av_log",
          "old_text": "avio_rb32(pb)",
          "new_text": "av_log(c->fc, AV_LOG_ERROR,\n                   \"Invalid bounding rectangle coordinates \"\n                   \"%\"PRIu32\",%\"PRIu32\",%\"PRIu32\",%\"PRIu32\"\\n\", l, t, r, b)",
          "old_line_content": "        r = avio_rb32(pb);",
          "new_line_content": "            av_log(c->fc, AV_LOG_ERROR,",
          "content_same": false
        },
        {
          "line": 5688,
          "old_api": "AVERROR",
          "new_api": "ffio_read_size",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "ffio_read_size(pb, buffer, len)",
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "    ret = ffio_read_size(pb, buffer, len);",
          "content_same": false
        },
        {
          "line": 5701,
          "old_api": "av_stristr",
          "new_api": "av_spherical_alloc",
          "old_text": "av_stristr(val, \"true\")",
          "new_text": "av_spherical_alloc(&sc->spherical_size)",
          "old_line_content": "        av_stristr(val, \"true\") &&",
          "new_line_content": "        sc->spherical = av_spherical_alloc(&sc->spherical_size);",
          "content_same": false
        },
        {
          "line": 5785,
          "old_api": "avio_skip",
          "new_api": "av_mallocz",
          "old_text": "avio_skip(pb, 4)",
          "new_text": "av_mallocz(len + 1)",
          "old_line_content": "        ret = avio_skip(pb, 4); // zeroes",
          "new_line_content": "        buffer = av_mallocz(len + 1);",
          "content_same": false
        },
        {
          "line": 5802,
          "old_api": "av_stristr",
          "new_api": "av_realloc_f",
          "old_text": "av_stristr(ptr, \"systemBitrate=\\\"\")",
          "new_text": "av_realloc_f(c->bitrates, c->bitrates_count, sizeof(*c->bitrates))",
          "old_line_content": "        while ((ptr = av_stristr(ptr, \"systemBitrate=\\\"\"))) {",
          "new_line_content": "            c->bitrates = av_realloc_f(c->bitrates, c->bitrates_count, sizeof(*c->bitrates));",
          "content_same": false
        },
        {
          "line": 5805,
          "old_api": "av_realloc_f",
          "new_api": "av_free",
          "old_text": "av_realloc_f(c->bitrates, c->bitrates_count, sizeof(*c->bitrates))",
          "new_text": "av_free(buffer)",
          "old_line_content": "            c->bitrates = av_realloc_f(c->bitrates, c->bitrates_count, sizeof(*c->bitrates));",
          "new_line_content": "                av_free(buffer);",
          "content_same": false
        },
        {
          "line": 5809,
          "old_api": "AVERROR",
          "new_api": "strtol",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "strtol(ptr, &endptr, 10)",
          "old_line_content": "                return AVERROR(ENOMEM);",
          "new_line_content": "            ret = strtol(ptr, &endptr, 10);",
          "content_same": false
        },
        {
          "line": 5896,
          "old_api": "mov_codec_id",
          "new_api": "av_log",
          "old_text": "mov_codec_id(st, format)",
          "new_text": "av_log(c->fc, AV_LOG_WARNING,\n                   \"ignoring 'frma' atom of '%.4s', stream has codec id %d\\n\",\n                   (char*)&format, st->codecpar->codec_id)",
          "old_line_content": "        id = mov_codec_id(st, format);",
          "new_line_content": "            av_log(c->fc, AV_LOG_WARNING,",
          "content_same": false
        },
        {
          "line": 5990,
          "old_api": "AVERROR",
          "new_api": "avio_read",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "avio_read(pb, (*sample)->iv, sc->cenc.per_sample_iv_size)",
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "        if (avio_read(pb, (*sample)->iv, sc->cenc.per_sample_iv_size) != sc->cenc.per_sample_iv_size) {",
          "content_same": false
        },
        {
          "line": 6003,
          "old_api": "av_free",
          "new_api": "av_encryption_info_free",
          "old_text": "av_free((*sample)->subsamples)",
          "new_text": "av_encryption_info_free(*sample)",
          "old_line_content": "        av_free((*sample)->subsamples);",
          "new_line_content": "            av_encryption_info_free(*sample);",
          "content_same": false
        },
        {
          "line": 6046,
          "old_api": "avio_r8",
          "new_api": "avio_rb32",
          "old_text": "avio_r8(pb)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    avio_r8(pb); /* version */",
          "new_line_content": "    sample_count = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 6051,
          "old_api": "AVERROR",
          "new_api": "FFMAX",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "FFMAX(i + 1, 1024 * 1024)",
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "        unsigned int min_samples = FFMIN(FFMAX(i + 1, 1024 * 1024), sample_count);",
          "content_same": false
        },
        {
          "line": 6060,
          "old_api": "mov_read_sample_encryption_info",
          "new_api": "AVERROR",
          "old_text": "mov_read_sample_encryption_info(\n                c, pb, sc, &encryption_index->encrypted_samples[i], use_subsamples)",
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "            ret = mov_read_sample_encryption_info(",
          "new_line_content": "            ret = AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 6063,
          "old_api": "AVERROR",
          "new_api": "av_log",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Hit EOF while reading senc\\n\")",
          "old_line_content": "            ret = AVERROR(ENOMEM);",
          "new_line_content": "            av_log(c->fc, AV_LOG_ERROR, \"Hit EOF while reading senc\\n\");",
          "content_same": false
        },
        {
          "line": 6100,
          "old_api": "avio_tell",
          "new_api": "av_log",
          "old_text": "avio_tell(pb)",
          "new_text": "av_log(c->fc, AV_LOG_INFO, \"Failed to seek for auxiliary info, will only parse senc atoms for encryption info\\n\")",
          "old_line_content": "    prev_pos = avio_tell(pb);",
          "new_line_content": "        av_log(c->fc, AV_LOG_INFO, \"Failed to seek for auxiliary info, will only parse senc atoms for encryption info\\n\");",
          "content_same": false
        },
        {
          "line": 6109,
          "old_api": "av_fast_realloc",
          "new_api": "AVERROR",
          "old_text": "av_fast_realloc(encryption_index->encrypted_samples, &alloc_size,\n                                            min_samples * sizeof(*encrypted_samples))",
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "        encrypted_samples = av_fast_realloc(encryption_index->encrypted_samples, &alloc_size,",
          "new_line_content": "            ret = AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 6134,
          "old_api": "avio_seek",
          "new_api": "av_encryption_info_free",
          "old_text": "avio_seek(pb, prev_pos, SEEK_SET)",
          "new_text": "av_encryption_info_free(encryption_index->encrypted_samples[i - 1])",
          "old_line_content": "    avio_seek(pb, prev_pos, SEEK_SET);",
          "new_line_content": "            av_encryption_info_free(encryption_index->encrypted_samples[i - 1]);",
          "content_same": false
        },
        {
          "line": 6157,
          "old_api": "av_fast_realloc",
          "new_api": "av_free",
          "old_text": "av_fast_realloc(buffer, &alloc_size, new_size)",
          "new_text": "av_free(buffer)",
          "old_line_content": "        uint8_t *new_buffer = av_fast_realloc(buffer, &alloc_size, new_size);",
          "new_line_content": "            av_free(buffer);",
          "content_same": false
        },
        {
          "line": 6158,
          "old_api": "FFMIN",
          "new_api": "AVERROR",
          "old_text": "FFMIN(size, alloc_size)",
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "        unsigned int to_read = FFMIN(size, alloc_size) - offset;",
          "new_line_content": "            return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 6198,
          "old_api": "avio_r8",
          "new_api": "avio_rb32",
          "old_text": "avio_r8(pb)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    avio_r8(pb); /* version */",
          "new_line_content": "        aux_info_param = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 6201,
          "old_api": "avio_rb32",
          "new_api": "av_log",
          "old_text": "avio_rb32(pb)",
          "new_text": "av_log(c->fc, AV_LOG_DEBUG, \"Ignoring saiz box with non-zero aux_info_type\\n\")",
          "old_line_content": "        aux_info_param = avio_rb32(pb);",
          "new_line_content": "                av_log(c->fc, AV_LOG_DEBUG, \"Ignoring saiz box with non-zero aux_info_type\\n\");",
          "content_same": false
        },
        {
          "line": 6215,
          "old_api": "MKBETAG",
          "new_api": "av_log",
          "old_text": "MKBETAG('c','b','c','1')",
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Saw encrypted saiz without schm/tenc\\n\")",
          "old_line_content": "                 aux_info_type == MKBETAG('c','b','c','1') ||",
          "new_line_content": "                av_log(c->fc, AV_LOG_ERROR, \"Saw encrypted saiz without schm/tenc\\n\");",
          "content_same": false
        },
        {
          "line": 6272,
          "old_api": "avio_r8",
          "new_api": "avio_rb32",
          "old_text": "avio_r8(pb)",
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    version = avio_r8(pb); /* version */",
          "new_line_content": "        aux_info_param = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 6275,
          "old_api": "avio_rb32",
          "new_api": "av_log",
          "old_text": "avio_rb32(pb)",
          "new_text": "av_log(c->fc, AV_LOG_DEBUG, \"Ignoring saio box with non-zero aux_info_type\\n\")",
          "old_line_content": "        aux_info_param = avio_rb32(pb);",
          "new_line_content": "                av_log(c->fc, AV_LOG_DEBUG, \"Ignoring saio box with non-zero aux_info_type\\n\");",
          "content_same": false
        },
        {
          "line": 6289,
          "old_api": "MKBETAG",
          "new_api": "av_log",
          "old_text": "MKBETAG('c','b','c','1')",
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Saw encrypted saio without schm/tenc\\n\")",
          "old_line_content": "                 aux_info_type == MKBETAG('c','b','c','1') ||",
          "new_line_content": "                av_log(c->fc, AV_LOG_ERROR, \"Saw encrypted saio without schm/tenc\\n\");",
          "content_same": false
        },
        {
          "line": 6305,
          "old_api": "AVERROR",
          "new_api": "FFMAX",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "FFMAX(i + 1, 1024)",
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "        unsigned int min_offsets = FFMIN(FFMAX(i + 1, 1024), entry_count);",
          "content_same": false
        },
        {
          "line": 6357,
          "old_api": "avio_r8",
          "new_api": "av_encryption_init_info_alloc",
          "old_text": "avio_r8(pb)",
          "new_text": "av_encryption_init_info_alloc(/* system_id_size */ 16, /* num_key_ids */ 0,\n                                         /* key_id_size */ 16, /* data_size */ 0)",
          "old_line_content": "    version = avio_r8(pb); /* version */",
          "new_line_content": "    info = av_encryption_init_info_alloc(/* system_id_size */ 16, /* num_key_ids */ 0,",
          "content_same": false
        },
        {
          "line": 6360,
          "old_api": "av_encryption_init_info_alloc",
          "new_api": "AVERROR",
          "old_text": "av_encryption_init_info_alloc(/* system_id_size */ 16, /* num_key_ids */ 0,\n                                         /* key_id_size */ 16, /* data_size */ 0)",
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    info = av_encryption_init_info_alloc(/* system_id_size */ 16, /* num_key_ids */ 0,",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 6363,
          "old_api": "AVERROR",
          "new_api": "av_log",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Failed to read the system id\\n\")",
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Failed to read the system id\\n\");",
          "content_same": false
        },
        {
          "line": 6380,
          "old_api": "av_fast_realloc",
          "new_api": "AVERROR",
          "old_text": "av_fast_realloc(info->key_ids, &alloc_size,\n                                      min_kid_count * sizeof(*key_ids))",
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "            key_ids = av_fast_realloc(info->key_ids, &alloc_size,",
          "new_line_content": "                ret = AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 6440,
          "old_api": "AVERROR",
          "new_api": "av_stream_add_side_data",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "av_stream_add_side_data(st, AV_PKT_DATA_ENCRYPTION_INIT_INFO,\n                                  side_data, side_data_size)",
          "old_line_content": "        ret = AVERROR(ENOMEM);",
          "new_line_content": "    ret = av_stream_add_side_data(st, AV_PKT_DATA_ENCRYPTION_INIT_INFO,",
          "content_same": false
        },
        {
          "line": 6443,
          "old_api": "av_stream_add_side_data",
          "new_api": "av_free",
          "old_text": "av_stream_add_side_data(st, AV_PKT_DATA_ENCRYPTION_INIT_INFO,\n                                  side_data, side_data_size)",
          "new_text": "av_free(side_data)",
          "old_line_content": "    ret = av_stream_add_side_data(st, AV_PKT_DATA_ENCRYPTION_INIT_INFO,",
          "new_line_content": "        av_free(side_data);",
          "content_same": false
        },
        {
          "line": 6446,
          "old_api": "av_free",
          "new_api": "av_encryption_init_info_free",
          "old_text": "av_free(side_data)",
          "new_text": "av_encryption_init_info_free(info)",
          "old_line_content": "        av_free(side_data);",
          "new_line_content": "    av_encryption_init_info_free(info);",
          "content_same": false
        },
        {
          "line": 6471,
          "old_api": "avio_rb32",
          "new_api": "av_encryption_info_alloc",
          "old_text": "avio_rb32(pb)",
          "new_text": "av_encryption_info_alloc(0, 16, 16)",
          "old_line_content": "    avio_rb32(pb); /* version and flags */",
          "new_line_content": "        sc->cenc.default_encrypted_sample = av_encryption_info_alloc(0, 16, 16);",
          "content_same": false
        },
        {
          "line": 6511,
          "old_api": "avio_rb24",
          "new_api": "avio_r8",
          "old_text": "avio_rb24(pb)",
          "new_text": "avio_r8(pb)",
          "old_line_content": "    avio_rb24(pb); /* flags */",
          "new_line_content": "    pattern = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 6521,
          "old_api": "avio_r8",
          "new_api": "av_mallocz",
          "old_text": "avio_r8(pb)",
          "new_text": "av_mallocz(sizeof(MOVEncryptionIndex))",
          "old_line_content": "    is_protected = avio_r8(pb);",
          "new_line_content": "        sc->cenc.encryption_index = av_mallocz(sizeof(MOVEncryptionIndex));",
          "content_same": false
        },
        {
          "line": 6528,
          "old_api": "avio_r8",
          "new_api": "av_log",
          "old_text": "avio_r8(pb)",
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"invalid per-sample IV size value\\n\")",
          "old_line_content": "    sc->cenc.per_sample_iv_size = avio_r8(pb);",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"invalid per-sample IV size value\\n\");",
          "content_same": false
        },
        {
          "line": 6531,
          "old_api": "av_log",
          "new_api": "avio_read",
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"invalid per-sample IV size value\\n\")",
          "new_text": "avio_read(pb, sc->cenc.default_encrypted_sample->key_id, 16)",
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"invalid per-sample IV size value\\n\");",
          "new_line_content": "    if (avio_read(pb, sc->cenc.default_encrypted_sample->key_id, 16) != 16) {",
          "content_same": false
        },
        {
          "line": 6569,
          "old_api": "avio_r8",
          "new_api": "avio_rb24",
          "old_text": "avio_r8(pb)",
          "new_text": "avio_rb24(pb)",
          "old_line_content": "    if (avio_r8(pb) != 0)",
          "new_line_content": "    avio_rb24(pb); /* Flags */",
          "content_same": false
        },
        {
          "line": 6572,
          "old_api": "avio_rb24",
          "new_api": "flac_parse_block_header",
          "old_text": "avio_rb24(pb)",
          "new_text": "flac_parse_block_header(buf, &last, &type, &size)",
          "old_line_content": "    avio_rb24(pb); /* Flags */",
          "new_line_content": "    flac_parse_block_header(buf, &last, &type, &size);",
          "content_same": false
        },
        {
          "line": 6575,
          "old_api": "flac_parse_block_header",
          "new_api": "av_log",
          "old_text": "flac_parse_block_header(buf, &last, &type, &size)",
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"STREAMINFO must be first FLACMetadataBlock\\n\")",
          "old_line_content": "    flac_parse_block_header(buf, &last, &type, &size);",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"STREAMINFO must be first FLACMetadataBlock\\n\");",
          "content_same": false
        },
        {
          "line": 6605,
          "old_api": "AVERROR",
          "new_api": "av_aes_ctr_init",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "av_aes_ctr_init(sc->cenc.aes_ctr, c->decryption_key)",
          "old_line_content": "            return AVERROR(ENOMEM);",
          "new_line_content": "        ret = av_aes_ctr_init(sc->cenc.aes_ctr, c->decryption_key);",
          "content_same": false
        },
        {
          "line": 6696,
          "old_api": "cenc_decrypt",
          "new_api": "av_encryption_info_add_side_data",
          "old_text": "cenc_decrypt(mov, sc, encrypted_sample, pkt->data, pkt->size)",
          "new_text": "av_encryption_info_add_side_data(encrypted_sample, &size)",
          "old_line_content": "            return cenc_decrypt(mov, sc, encrypted_sample, pkt->data, pkt->size);",
          "new_line_content": "            uint8_t *side_data = av_encryption_info_add_side_data(encrypted_sample, &size);",
          "content_same": false
        },
        {
          "line": 6699,
          "old_api": "av_encryption_info_add_side_data",
          "new_api": "av_packet_add_side_data",
          "old_text": "av_encryption_info_add_side_data(encrypted_sample, &size)",
          "new_text": "av_packet_add_side_data(pkt, AV_PKT_DATA_ENCRYPTION_INFO, side_data, size)",
          "old_line_content": "            uint8_t *side_data = av_encryption_info_add_side_data(encrypted_sample, &size);",
          "new_line_content": "            ret = av_packet_add_side_data(pkt, AV_PKT_DATA_ENCRYPTION_INFO, side_data, size);",
          "content_same": false
        },
        {
          "line": 6701,
          "old_api": "AVERROR",
          "new_api": "av_free",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "av_free(side_data)",
          "old_line_content": "                return AVERROR(ENOMEM);",
          "new_line_content": "                av_free(side_data);",
          "content_same": false
        },
        {
          "line": 6736,
          "old_api": "ff_alloc_extradata",
          "new_api": "MKTAG",
          "old_text": "ff_alloc_extradata(st->codecpar, size)",
          "new_text": "MKTAG('O','p','u','s')",
          "old_line_content": "    if ((ret = ff_alloc_extradata(st->codecpar, size)) < 0)",
          "new_line_content": "    AV_WL32(st->codecpar->extradata, MKTAG('O','p','u','s'));",
          "content_same": false
        },
        {
          "line": 6739,
          "old_api": "MKTAG",
          "new_api": "avio_read",
          "old_text": "MKTAG('O','p','u','s')",
          "new_text": "avio_read(pb, st->codecpar->extradata + 9, size - 9)",
          "old_line_content": "    AV_WL32(st->codecpar->extradata, MKTAG('O','p','u','s'));",
          "new_line_content": "    avio_read(pb, st->codecpar->extradata + 9, size - 9);",
          "content_same": false
        },
        {
          "line": 6751,
          "old_api": "AV_RB16",
          "new_api": "av_rescale_q",
          "old_text": "AV_RB16(st->codecpar->extradata + 16)",
          "new_text": "av_rescale_q(OPUS_SEEK_PREROLL_MS,\n                                              (AVRational){1, 1000},\n                                              (AVRational){1, 48000})",
          "old_line_content": "    AV_WL16(st->codecpar->extradata + 16, AV_RB16(st->codecpar->extradata + 16));",
          "new_line_content": "    st->codecpar->seek_preroll = av_rescale_q(OPUS_SEEK_PREROLL_MS,",
          "content_same": false
        },
        {
          "line": 6810,
          "old_api": "AVERROR",
          "new_api": "avio_r8",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "avio_r8(pb)",
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "    dovi->dv_version_minor = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 6812,
          "old_api": "avio_r8",
          "new_api": "avio_rb16",
          "old_text": "avio_r8(pb)",
          "new_text": "avio_rb16(pb)",
          "old_line_content": "    dovi->dv_version_major = avio_r8(pb);",
          "new_line_content": "    buf = avio_rb16(pb);",
          "content_same": false
        },
        {
          "line": 6830,
          "old_api": "av_stream_add_side_data",
          "new_api": "av_free",
          "old_text": "av_stream_add_side_data(st, AV_PKT_DATA_DOVI_CONF,\n                                  (uint8_t *)dovi, dovi_size)",
          "new_text": "av_free(dovi)",
          "old_line_content": "    ret = av_stream_add_side_data(st, AV_PKT_DATA_DOVI_CONF,",
          "new_line_content": "        av_free(dovi);",
          "content_same": false
        },
        {
          "line": 6969,
          "old_api": "avio_rb32",
          "new_api": "MKTAG",
          "old_text": "avio_rb32(pb)",
          "new_text": "MKTAG('h','o','o','v')",
          "old_line_content": "            a.size = avio_rb32(pb);",
          "new_line_content": "                  a.type == MKTAG('h','o','o','v')) &&",
          "content_same": false
        },
        {
          "line": 6977,
          "old_api": "avio_read",
          "new_api": "MKTAG",
          "old_text": "avio_read(pb, buf, 8)",
          "new_text": "MKTAG('m','v','h','d')",
          "old_line_content": "                if (avio_read(pb, buf, 8) != 8)",
          "new_line_content": "                if (*type == MKTAG('m','v','h','d') ||",
          "content_same": false
        },
        {
          "line": 6979,
          "old_api": "avio_seek",
          "new_api": "av_log",
          "old_text": "avio_seek(pb, -8, SEEK_CUR)",
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Detected moov in a free or hoov atom.\\n\")",
          "old_line_content": "                avio_seek(pb, -8, SEEK_CUR);",
          "new_line_content": "                    av_log(c->fc, AV_LOG_ERROR, \"Detected moov in a free or hoov atom.\\n\");",
          "content_same": false
        },
        {
          "line": 6989,
          "old_api": "MKTAG",
          "new_api": "avio_skip",
          "old_text": "MKTAG('m','d','a','t')",
          "new_text": "avio_skip(pb, -8)",
          "old_line_content": "                if (a.type == MKTAG('t','r','a','k') || a.type == MKTAG('m','d','a','t'))",
          "new_line_content": "                    avio_skip(pb, -8);",
          "content_same": false
        },
        {
          "line": 7055,
          "old_api": "av_log",
          "new_api": "avio_seek",
          "old_text": "av_log(c->fc, AV_LOG_WARNING,\n                       \"overread end of atom '%.4s' by %\"PRId64\" bytes\\n\",\n                       (char*)&a.type, -left)",
          "new_text": "avio_seek(pb, left, SEEK_CUR)",
          "old_line_content": "                av_log(c->fc, AV_LOG_WARNING,",
          "new_line_content": "                avio_seek(pb, left, SEEK_CUR);",
          "content_same": false
        },
        {
          "line": 7085,
          "old_api": "AV_RL32",
          "new_api": "MKTAG",
          "old_text": "AV_RL32(p->buf + offset + 4)",
          "new_text": "MKTAG('m','o','o','v')",
          "old_line_content": "        tag = AV_RL32(p->buf + offset + 4);",
          "new_line_content": "        case MKTAG('m','o','o','v'):",
          "content_same": false
        },
        {
          "line": 7091,
          "old_api": "MKTAG",
          "new_api": "AV_RB32",
          "old_text": "MKTAG('p','n','o','t')",
          "new_text": "AV_RB32(p->buf+offset)",
          "old_line_content": "        case MKTAG('p','n','o','t'): /* detect movs with preview pics like ew.mov and april.mov */",
          "new_line_content": "            if (AV_RB32(p->buf+offset) < 8 &&",
          "content_same": false
        },
        {
          "line": 7092,
          "old_api": "MKTAG",
          "new_api": "AV_RB32",
          "old_text": "MKTAG('u','d','t','a')",
          "new_text": "AV_RB32(p->buf+offset)",
          "old_line_content": "        case MKTAG('u','d','t','a'): /* Packet Video PVAuthor adds this and a lot of more junk */",
          "new_line_content": "                (AV_RB32(p->buf+offset) != 1 ||",
          "content_same": false
        },
        {
          "line": 7094,
          "old_api": "AV_RB32",
          "new_api": "AV_RB64",
          "old_text": "AV_RB32(p->buf+offset)",
          "new_text": "AV_RB64(p->buf+offset + 8)",
          "old_line_content": "            if (AV_RB32(p->buf+offset) < 8 &&",
          "new_line_content": "                 AV_RB64(p->buf+offset + 8) == 0)) {",
          "content_same": false
        },
        {
          "line": 7095,
          "old_api": "AV_RB32",
          "new_api": "FFMAX",
          "old_text": "AV_RB32(p->buf+offset)",
          "new_text": "FFMAX(score, AVPROBE_SCORE_EXTENSION)",
          "old_line_content": "                (AV_RB32(p->buf+offset) != 1 ||",
          "new_line_content": "                score = FFMAX(score, AVPROBE_SCORE_EXTENSION);",
          "content_same": false
        },
        {
          "line": 7097,
          "old_api": "AV_RB64",
          "new_api": "MKTAG",
          "old_text": "AV_RB64(p->buf+offset + 8)",
          "new_text": "MKTAG('j','p','2',' ')",
          "old_line_content": "                 AV_RB64(p->buf+offset + 8) == 0)) {",
          "new_line_content": "                       (   AV_RL32(p->buf + offset + 8) == MKTAG('j','p','2',' ')",
          "content_same": false
        },
        {
          "line": 7098,
          "old_api": "FFMAX",
          "new_api": "MKTAG",
          "old_text": "FFMAX(score, AVPROBE_SCORE_EXTENSION)",
          "new_text": "MKTAG('j','p','x',' ')",
          "old_line_content": "                score = FFMAX(score, AVPROBE_SCORE_EXTENSION);",
          "new_line_content": "                        || AV_RL32(p->buf + offset + 8) == MKTAG('j','p','x',' ')",
          "content_same": false
        },
        {
          "line": 7100,
          "old_api": "MKTAG",
          "new_api": "FFMAX",
          "old_text": "MKTAG('j','p','2',' ')",
          "new_text": "FFMAX(score, 5)",
          "old_line_content": "                       (   AV_RL32(p->buf + offset + 8) == MKTAG('j','p','2',' ')",
          "new_line_content": "                score = FFMAX(score, 5);",
          "content_same": false
        },
        {
          "line": 7107,
          "old_api": "AV_RB32",
          "new_api": "MKTAG",
          "old_text": "AV_RB32(p->buf+offset)",
          "new_text": "MKTAG('e','d','i','w')",
          "old_line_content": "            offset = FFMAX(4, AV_RB32(p->buf+offset)) + offset;",
          "new_line_content": "        case MKTAG('e','d','i','w'): /* xdcam files have reverted first tags */",
          "content_same": false
        },
        {
          "line": 7112,
          "old_api": "MKTAG",
          "new_api": "FFMAX",
          "old_text": "MKTAG('f','r','e','e')",
          "new_text": "FFMAX(score, AVPROBE_SCORE_MAX - 5)",
          "old_line_content": "        case MKTAG('f','r','e','e'):",
          "new_line_content": "            score  = FFMAX(score, AVPROBE_SCORE_MAX - 5);",
          "content_same": false
        },
        {
          "line": 7113,
          "old_api": "MKTAG",
          "new_api": "AV_RB32",
          "old_text": "MKTAG('j','u','n','k')",
          "new_text": "AV_RB32(p->buf+offset)",
          "old_line_content": "        case MKTAG('j','u','n','k'):",
          "new_line_content": "            offset = FFMAX(4, AV_RB32(p->buf+offset)) + offset;",
          "content_same": false
        },
        {
          "line": 7115,
          "old_api": "FFMAX",
          "new_api": "MKTAG",
          "old_text": "FFMAX(score, AVPROBE_SCORE_MAX - 5)",
          "new_text": "MKTAG(0x82,0x82,0x7f,0x7d)",
          "old_line_content": "            score  = FFMAX(score, AVPROBE_SCORE_MAX - 5);",
          "new_line_content": "        case MKTAG(0x82,0x82,0x7f,0x7d):",
          "content_same": false
        },
        {
          "line": 7116,
          "old_api": "AV_RB32",
          "new_api": "MKTAG",
          "old_text": "AV_RB32(p->buf+offset)",
          "new_text": "MKTAG('s','k','i','p')",
          "old_line_content": "            offset = FFMAX(4, AV_RB32(p->buf+offset)) + offset;",
          "new_line_content": "        case MKTAG('s','k','i','p'):",
          "content_same": false
        },
        {
          "line": 7120,
          "old_api": "MKTAG",
          "new_api": "FFMAX",
          "old_text": "MKTAG('u','u','i','d')",
          "new_text": "FFMAX(score, AVPROBE_SCORE_EXTENSION)",
          "old_line_content": "        case MKTAG('u','u','i','d'):",
          "new_line_content": "            score  = FFMAX(score, AVPROBE_SCORE_EXTENSION);",
          "content_same": false
        },
        {
          "line": 7121,
          "old_api": "MKTAG",
          "new_api": "AV_RB32",
          "old_text": "MKTAG('p','r','f','l')",
          "new_text": "AV_RB32(p->buf+offset)",
          "old_line_content": "        case MKTAG('p','r','f','l'):",
          "new_line_content": "            offset = FFMAX(4, AV_RB32(p->buf+offset)) + offset;",
          "content_same": false
        },
        {
          "line": 7137,
          "old_api": "MKTAG",
          "new_api": "av_log",
          "old_text": "MKTAG('h','d','l','r')",
          "new_text": "av_log(NULL, AV_LOG_WARNING, \"Found media data tag MPEG indicating this is a MOV-packed MPEG-PS.\\n\")",
          "old_line_content": "            if(AV_RL32(p->buf + offset     ) == MKTAG('h','d','l','r') &&",
          "new_line_content": "                av_log(NULL, AV_LOG_WARNING, \"Found media data tag MPEG indicating this is a MOV-packed MPEG-PS.\\n\");",
          "content_same": false
        },
        {
          "line": 7261,
          "old_api": "av_timecode_init",
          "new_api": "av_dict_set",
          "old_text": "av_timecode_init(&tc, rate, flags, 0, s)",
          "new_text": "av_dict_set(&st->metadata, \"timecode\",\n                av_timecode_make_string(&tc, buf, value), 0)",
          "old_line_content": "    int ret = av_timecode_init(&tc, rate, flags, 0, s);",
          "new_line_content": "    av_dict_set(&st->metadata, \"timecode\",",
          "content_same": false
        },
        {
          "line": 7279,
          "old_api": "avio_seek",
          "new_api": "avio_r8",
          "old_text": "avio_seek(sc->pb, st->index_entries->pos, SEEK_SET)",
          "new_text": "avio_r8(s->pb)",
          "old_line_content": "    avio_seek(sc->pb, st->index_entries->pos, SEEK_SET);",
          "new_line_content": "    mm = avio_r8(s->pb);",
          "content_same": false
        },
        {
          "line": 7280,
          "old_api": "avio_skip",
          "new_api": "avio_r8",
          "old_text": "avio_skip(s->pb, 13)",
          "new_text": "avio_r8(s->pb)",
          "old_line_content": "    avio_skip(s->pb, 13);",
          "new_line_content": "    ss = avio_r8(s->pb);",
          "content_same": false
        },
        {
          "line": 7283,
          "old_api": "avio_r8",
          "new_api": "snprintf",
          "old_text": "avio_r8(s->pb)",
          "new_text": "snprintf(buf, AV_TIMECODE_STR_SIZE, \"%02d:%02d:%02d%c%02d\",\n             hh, mm, ss, drop ? ';' : ':', ff)",
          "old_line_content": "    ss = avio_r8(s->pb);",
          "new_line_content": "    snprintf(buf, AV_TIMECODE_STR_SIZE, \"%02d:%02d:%02d%c%02d\",",
          "content_same": false
        },
        {
          "line": 7285,
          "old_api": "avio_r8",
          "new_api": "av_dict_set",
          "old_text": "avio_r8(s->pb)",
          "new_text": "av_dict_set(&st->metadata, \"timecode\", buf, 0)",
          "old_line_content": "    ff = avio_r8(s->pb);",
          "new_line_content": "    av_dict_set(&st->metadata, \"timecode\", buf, 0);",
          "content_same": false
        },
        {
          "line": 7326,
          "old_api": "av_encryption_info_free",
          "new_api": "av_freep",
          "old_text": "av_encryption_info_free((*index)->encrypted_samples[i])",
          "new_text": "av_freep(&(*index)->auxiliary_info_sizes)",
          "old_line_content": "        av_encryption_info_free((*index)->encrypted_samples[i]);",
          "new_line_content": "    av_freep(&(*index)->auxiliary_info_sizes);",
          "content_same": false
        },
        {
          "line": 7356,
          "old_api": "ff_format_io_close",
          "new_api": "av_freep",
          "old_text": "ff_format_io_close(s, &sc->pb)",
          "new_text": "av_freep(&sc->chunk_offsets)",
          "old_line_content": "            ff_format_io_close(s, &sc->pb);",
          "new_line_content": "        av_freep(&sc->chunk_offsets);",
          "content_same": false
        },
        {
          "line": 7374,
          "old_api": "av_freep",
          "new_api": "mov_free_encryption_index",
          "old_text": "av_freep(&sc->extradata)",
          "new_text": "mov_free_encryption_index(&sc->cenc.encryption_index)",
          "old_line_content": "        av_freep(&sc->extradata);",
          "new_line_content": "        mov_free_encryption_index(&sc->cenc.encryption_index);",
          "content_same": false
        },
        {
          "line": 7375,
          "old_api": "av_freep",
          "new_api": "av_encryption_info_free",
          "old_text": "av_freep(&sc->extradata_size)",
          "new_text": "av_encryption_info_free(sc->cenc.default_encrypted_sample)",
          "old_line_content": "        av_freep(&sc->extradata_size);",
          "new_line_content": "        av_encryption_info_free(sc->cenc.default_encrypted_sample);",
          "content_same": false
        },
        {
          "line": 7378,
          "old_api": "av_encryption_info_free",
          "new_api": "av_freep",
          "old_text": "av_encryption_info_free(sc->cenc.default_encrypted_sample)",
          "new_text": "av_freep(&sc->stereo3d)",
          "old_line_content": "        av_encryption_info_free(sc->cenc.default_encrypted_sample);",
          "new_line_content": "        av_freep(&sc->stereo3d);",
          "content_same": false
        },
        {
          "line": 7379,
          "old_api": "av_aes_ctr_free",
          "new_api": "av_freep",
          "old_text": "av_aes_ctr_free(sc->cenc.aes_ctr)",
          "new_text": "av_freep(&sc->spherical)",
          "old_line_content": "        av_aes_ctr_free(sc->cenc.aes_ctr);",
          "new_line_content": "        av_freep(&sc->spherical);",
          "content_same": false
        },
        {
          "line": 7441,
          "old_api": "tmcd_is_referenced",
          "new_api": "av_dict_set",
          "old_text": "tmcd_is_referenced(s, i + 1)",
          "new_text": "av_dict_set(&s->metadata, \"timecode\", tcr->value, 0)",
          "old_line_content": "            !tmcd_is_referenced(s, i + 1)) {",
          "new_line_content": "                av_dict_set(&s->metadata, \"timecode\", tcr->value, 0);",
          "content_same": false
        },
        {
          "line": 7455,
          "old_api": "avio_rb32",
          "new_api": "MKBETAG",
          "old_text": "avio_rb32(f)",
          "new_text": "MKBETAG('t', 'f', 'r', 'a')",
          "old_line_content": "    uint32_t size = avio_rb32(f);",
          "new_line_content": "    if (avio_rb32(f) != MKBETAG('t', 'f', 'r', 'a')) {",
          "content_same": false
        },
        {
          "line": 7458,
          "old_api": "MKBETAG",
          "new_api": "av_log",
          "old_text": "MKBETAG('t', 'f', 'r', 'a')",
          "new_text": "av_log(mov->fc, AV_LOG_VERBOSE, \"found tfra\\n\")",
          "old_line_content": "    if (avio_rb32(f) != MKBETAG('t', 'f', 'r', 'a')) {",
          "new_line_content": "    av_log(mov->fc, AV_LOG_VERBOSE, \"found tfra\\n\");",
          "content_same": false
        },
        {
          "line": 7461,
          "old_api": "av_log",
          "new_api": "avio_rb24",
          "old_text": "av_log(mov->fc, AV_LOG_VERBOSE, \"found tfra\\n\")",
          "new_text": "avio_rb24(f)",
          "old_line_content": "    av_log(mov->fc, AV_LOG_VERBOSE, \"found tfra\\n\");",
          "new_line_content": "    avio_rb24(f);",
          "content_same": false
        },
        {
          "line": 7463,
          "old_api": "avio_r8",
          "new_api": "avio_rb32",
          "old_text": "avio_r8(f)",
          "new_text": "avio_rb32(f)",
          "old_line_content": "    version = avio_r8(f);",
          "new_line_content": "    fieldlength = avio_rb32(f);",
          "content_same": false
        },
        {
          "line": 7464,
          "old_api": "avio_rb24",
          "new_api": "avio_rb32",
          "old_text": "avio_rb24(f)",
          "new_text": "avio_rb32(f)",
          "old_line_content": "    avio_rb24(f);",
          "new_line_content": "    item_count = avio_rb32(f);",
          "content_same": false
        },
        {
          "line": 7478,
          "old_api": "avio_rb64",
          "new_api": "avio_rb32",
          "old_text": "avio_rb64(f)",
          "new_text": "avio_rb32(f)",
          "old_line_content": "            time   = avio_rb64(f);",
          "new_line_content": "            time   = avio_rb32(f);",
          "content_same": false
        },
        {
          "line": 7479,
          "old_api": "avio_rb64",
          "new_api": "avio_rb32",
          "old_text": "avio_rb64(f)",
          "new_text": "avio_rb32(f)",
          "old_line_content": "            offset = avio_rb64(f);",
          "new_line_content": "            offset = avio_rb32(f);",
          "content_same": false
        },
        {
          "line": 7499,
          "old_api": "avio_r8",
          "new_api": "avio_seek",
          "old_text": "avio_r8(f)",
          "new_text": "avio_seek(f, pos + size, SEEK_SET)",
          "old_line_content": "            avio_r8(f);",
          "new_line_content": "    avio_seek(f, pos + size, SEEK_SET);",
          "content_same": false
        },
        {
          "line": 7519,
          "old_api": "av_log",
          "new_api": "avio_seek",
          "old_text": "av_log(c->fc, AV_LOG_DEBUG, \"doesn't look like mfra (unreasonable size)\\n\")",
          "new_text": "avio_seek(f, -mfra_size, SEEK_CUR)",
          "old_line_content": "        av_log(c->fc, AV_LOG_DEBUG, \"doesn't look like mfra (unreasonable size)\\n\");",
          "new_line_content": "    if ((seek_ret = avio_seek(f, -mfra_size, SEEK_CUR)) < 0) {",
          "content_same": false
        },
        {
          "line": 7527,
          "old_api": "av_log",
          "new_api": "MKBETAG",
          "old_text": "av_log(c->fc, AV_LOG_DEBUG, \"doesn't look like mfra (size mismatch)\\n\")",
          "new_text": "MKBETAG('m', 'f', 'r', 'a')",
          "old_line_content": "        av_log(c->fc, AV_LOG_DEBUG, \"doesn't look like mfra (size mismatch)\\n\");",
          "new_line_content": "    if (avio_rb32(f) != MKBETAG('m', 'f', 'r', 'a')) {",
          "content_same": false
        },
        {
          "line": 7591,
          "old_api": "mov_read_chapters",
          "new_api": "mov_read_timecode_track",
          "old_text": "mov_read_chapters(s)",
          "new_text": "mov_read_timecode_track(s, s->streams[i])",
          "old_line_content": "            mov_read_chapters(s);",
          "new_line_content": "                mov_read_timecode_track(s, s->streams[i]);",
          "content_same": false
        },
        {
          "line": 7593,
          "old_api": "AV_RL32",
          "new_api": "mov_read_rtmd_track",
          "old_text": "AV_RL32(\"tmcd\")",
          "new_text": "mov_read_rtmd_track(s, s->streams[i])",
          "old_line_content": "            if (s->streams[i]->codecpar->codec_tag == AV_RL32(\"tmcd\")) {",
          "new_line_content": "                mov_read_rtmd_track(s, s->streams[i]);",
          "content_same": false
        },
        {
          "line": 7616,
          "old_api": "av_dict_set",
          "new_api": "export_orphan_timecode",
          "old_text": "av_dict_set(&st->metadata, \"timecode\", tcr->value, 0)",
          "new_text": "export_orphan_timecode(s)",
          "old_line_content": "                av_dict_set(&st->metadata, \"timecode\", tcr->value, 0);",
          "new_line_content": "    export_orphan_timecode(s);",
          "content_same": false
        },
        {
          "line": 7821,
          "old_api": "AV_RL32",
          "new_api": "avio_feof",
          "old_text": "AV_RL32(\"root\")",
          "new_text": "avio_feof(s->pb)",
          "old_line_content": "    ret = mov_read_default(mov, s->pb, (MOVAtom){ AV_RL32(\"root\"), INT64_MAX });",
          "new_line_content": "    if (avio_feof(s->pb))",
          "content_same": false
        },
        {
          "line": 7865,
          "old_api": "avio_skip",
          "new_api": "avio_r8",
          "old_text": "avio_skip(pb, 8)",
          "new_text": "avio_r8(pb)",
          "old_line_content": "    avio_skip(pb, 8);",
          "new_line_content": "        pkt->data[j+1] = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 7896,
          "old_api": "mov_current_sample_inc",
          "new_api": "FFMIN",
          "old_text": "mov_current_sample_inc(sc)",
          "new_text": "FFMIN(sample->pos, mov->next_root_atom)",
          "old_line_content": "    mov_current_sample_inc(sc);",
          "new_line_content": "        sample->pos = FFMIN(sample->pos, mov->next_root_atom);",
          "content_same": false
        },
        {
          "line": 7906,
          "old_api": "av_log",
          "new_api": "mov_current_sample_dec",
          "old_text": "av_log(mov->fc, AV_LOG_ERROR, \"stream %d, offset 0x%\"PRIx64\": partial file\\n\",\n                   sc->ffindex, sample->pos)",
          "new_text": "mov_current_sample_dec(sc)",
          "old_line_content": "            av_log(mov->fc, AV_LOG_ERROR, \"stream %d, offset 0x%\"PRIx64\": partial file\\n\",",
          "new_line_content": "                mov_current_sample_dec(sc);",
          "content_same": false
        },
        {
          "line": 7922,
          "old_api": "av_get_packet",
          "new_api": "mov_current_sample_dec",
          "old_text": "av_get_packet(sc->pb, pkt, sample->size)",
          "new_text": "mov_current_sample_dec(sc)",
          "old_line_content": "        ret = av_get_packet(sc->pb, pkt, sample->size);",
          "new_line_content": "                mov_current_sample_dec(sc);",
          "content_same": false
        },
        {
          "line": 7942,
          "old_api": "avpriv_dv_produce_packet",
          "new_api": "avpriv_dv_get_packet",
          "old_text": "avpriv_dv_produce_packet(mov->dv_demux, pkt, pkt->data, pkt->size, pkt->pos)",
          "new_text": "avpriv_dv_get_packet(mov->dv_demux, pkt)",
          "old_line_content": "            avpriv_dv_produce_packet(mov->dv_demux, pkt, pkt->data, pkt->size, pkt->pos);",
          "new_line_content": "            ret = avpriv_dv_get_packet(mov->dv_demux, pkt);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 8196,
          "old_api": null,
          "new_api": "NULL_IF_CONFIG_SMALL",
          "old_text": null,
          "new_text": "NULL_IF_CONFIG_SMALL(\"QuickTime / MOV\")",
          "old_line_content": "",
          "new_line_content": "    .long_name      = NULL_IF_CONFIG_SMALL(\"QuickTime / MOV\"),",
          "content_same": false
        },
        {
          "line": 6154,
          "old_api": null,
          "new_api": "av_fast_realloc",
          "old_text": null,
          "new_text": "av_fast_realloc(buffer, &alloc_size, new_size)",
          "old_line_content": "    while (offset < size) {",
          "new_line_content": "        uint8_t *new_buffer = av_fast_realloc(buffer, &alloc_size, new_size);",
          "content_same": false
        },
        {
          "line": 4107,
          "old_api": null,
          "new_api": "av_url_split",
          "old_text": null,
          "new_text": "av_url_split(src_proto, sizeof(src_proto), src_auth, sizeof(src_auth), src_host, sizeof(src_host), &src_port, NULL, 0, src)",
          "old_line_content": "    int src_port=-1;",
          "new_line_content": "    av_url_split(src_proto, sizeof(src_proto), src_auth, sizeof(src_auth), src_host, sizeof(src_host), &src_port, NULL, 0, src);",
          "content_same": false
        },
        {
          "line": 4108,
          "old_api": null,
          "new_api": "av_url_split",
          "old_text": null,
          "new_text": "av_url_split(ref_proto, sizeof(ref_proto), ref_auth, sizeof(ref_auth), ref_host, sizeof(ref_host), &ref_port, NULL, 0, ref)",
          "old_line_content": "    int ref_port=-1;",
          "new_line_content": "    av_url_split(ref_proto, sizeof(ref_proto), ref_auth, sizeof(ref_auth), ref_host, sizeof(ref_host), &ref_port, NULL, 0, ref);",
          "content_same": false
        },
        {
          "line": 6155,
          "old_api": null,
          "new_api": "FFMIN",
          "old_text": null,
          "new_text": "FFMIN(size, alloc_size)",
          "old_line_content": "        unsigned int new_size =",
          "new_line_content": "        unsigned int to_read = FFMIN(size, alloc_size) - offset;",
          "content_same": false
        },
        {
          "line": 4112,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(src_auth)",
          "old_line_content": "",
          "new_line_content": "    } else if (strlen(src_auth) + 1 >= sizeof(src_auth) ||",
          "content_same": false
        },
        {
          "line": 4114,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(src_host)",
          "old_line_content": "        return -1;",
          "new_line_content": "        strlen(src_host) + 1 >= sizeof(src_host) ||",
          "content_same": false
        },
        {
          "line": 6162,
          "old_api": null,
          "new_api": "avio_read",
          "old_text": null,
          "new_text": "avio_read(pb, buffer + offset, to_read)",
          "old_line_content": "        }",
          "new_line_content": "        if (avio_read(pb, buffer + offset, to_read) != to_read) {",
          "content_same": false
        },
        {
          "line": 6163,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(buffer)",
          "old_line_content": "        buffer = new_buffer;",
          "new_line_content": "            av_free(buffer);",
          "content_same": false
        },
        {
          "line": 4119,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(src_host, ref_host)",
          "old_line_content": "        return 0;",
          "new_line_content": "               strcmp(src_host, ref_host) ||",
          "content_same": false
        },
        {
          "line": 6180,
          "old_api": null,
          "new_api": "get_current_encryption_info",
          "old_text": null,
          "new_text": "get_current_encryption_info(c, &encryption_index, &sc)",
          "old_line_content": "    int ret;",
          "new_line_content": "    ret = get_current_encryption_info(c, &encryption_index, &sc);",
          "content_same": false
        },
        {
          "line": 4136,
          "old_api": null,
          "new_api": "strrchr",
          "old_text": null,
          "new_text": "strrchr(src, '/')",
          "old_line_content": "        int i, l;",
          "new_line_content": "        src_path = strrchr(src, '/');",
          "content_same": false
        },
        {
          "line": 6186,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_DEBUG, \"Ignoring duplicate encryption info in saiz\\n\")",
          "old_line_content": "",
          "new_line_content": "        av_log(c->fc, AV_LOG_DEBUG, \"Ignoring duplicate encryption info in saiz\\n\");",
          "content_same": false
        },
        {
          "line": 4143,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(ref->path)",
          "old_line_content": "            src_path = src;",
          "new_line_content": "        for (i = 0, l = strlen(ref->path) - 1; l >= 0; l--)",
          "content_same": false
        },
        {
          "line": 6191,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Duplicate saiz atom\\n\")",
          "old_line_content": "    }",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Duplicate saiz atom\\n\");",
          "content_same": false
        },
        {
          "line": 6195,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "    avio_r8(pb); /* version */",
          "content_same": false
        },
        {
          "line": 6196,
          "old_api": null,
          "new_api": "avio_rb24",
          "old_text": null,
          "new_text": "avio_rb24(pb)",
          "old_line_content": "    }",
          "new_line_content": "    if (avio_rb24(pb) & 0x01) {  /* flags */",
          "content_same": false
        },
        {
          "line": 6197,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "",
          "new_line_content": "        aux_info_type = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 4153,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(filename, src, src_path - src)",
          "old_line_content": "",
          "new_line_content": "            memcpy(filename, src, src_path - src);",
          "content_same": false
        },
        {
          "line": 4157,
          "old_api": null,
          "new_api": "av_strlcat",
          "old_text": null,
          "new_text": "av_strlcat(filename, \"../\", sizeof(filename))",
          "old_line_content": "            filename[src_path - src] = 0;",
          "new_line_content": "                av_strlcat(filename, \"../\", sizeof(filename));",
          "content_same": false
        },
        {
          "line": 6205,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_DEBUG, \"Ignoring saiz box with non-zero aux_info_type_parameter\\n\")",
          "old_line_content": "                return 0;",
          "new_line_content": "                av_log(c->fc, AV_LOG_DEBUG, \"Ignoring saiz box with non-zero aux_info_type_parameter\\n\");",
          "content_same": false
        },
        {
          "line": 4159,
          "old_api": null,
          "new_api": "av_strlcat",
          "old_text": null,
          "new_text": "av_strlcat(filename, ref->path + l + 1, sizeof(filename))",
          "old_line_content": "            for (i = 1; i < ref->nlvl_from; i++)",
          "new_line_content": "            av_strlcat(filename, ref->path + l + 1, sizeof(filename));",
          "content_same": false
        },
        {
          "line": 4161,
          "old_api": null,
          "new_api": "test_same_origin",
          "old_text": null,
          "new_text": "test_same_origin(src, filename)",
          "old_line_content": "",
          "new_line_content": "                int same_origin = test_same_origin(src, filename);",
          "content_same": false
        },
        {
          "line": 6210,
          "old_api": null,
          "new_api": "MKBETAG",
          "old_text": null,
          "new_text": "MKBETAG('c','e','n','c')",
          "old_line_content": "            }",
          "new_line_content": "            if ((aux_info_type == MKBETAG('c','e','n','c') ||",
          "content_same": false
        },
        {
          "line": 6211,
          "old_api": null,
          "new_api": "MKBETAG",
          "old_text": null,
          "new_text": "MKBETAG('c','e','n','s')",
          "old_line_content": "        } else {",
          "new_line_content": "                 aux_info_type == MKBETAG('c','e','n','s') ||",
          "content_same": false
        },
        {
          "line": 6212,
          "old_api": null,
          "new_api": "MKBETAG",
          "old_text": null,
          "new_text": "MKBETAG('c','b','c','1')",
          "old_line_content": "            // Didn't see 'schm' or 'tenc', so this isn't encrypted.",
          "new_line_content": "                 aux_info_type == MKBETAG('c','b','c','1') ||",
          "content_same": false
        },
        {
          "line": 4168,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOENT)",
          "old_line_content": "                        \"Reference with mismatching origin, %s not tried for security reasons, \"",
          "new_line_content": "                    return AVERROR(ENOENT);",
          "content_same": false
        },
        {
          "line": 4172,
          "old_api": null,
          "new_api": "strstr",
          "old_text": null,
          "new_text": "strstr(ref->path + l + 1, \":\")",
          "old_line_content": "                }",
          "new_line_content": "                   strstr(ref->path + l + 1, \":\") ||",
          "content_same": false
        },
        {
          "line": 6226,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "        return 0;",
          "new_line_content": "    encryption_index->auxiliary_info_default_size = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 4179,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOENT)",
          "old_line_content": "            }",
          "new_line_content": "                return AVERROR(ENOENT);",
          "content_same": false
        },
        {
          "line": 4180,
          "old_api": null,
          "new_api": "io_open",
          "old_text": null,
          "new_text": "c->fc->io_open(c->fc, pb, filename, AVIO_FLAG_READ, NULL)",
          "old_line_content": "",
          "new_line_content": "            if (!c->fc->io_open(c->fc, pb, filename, AVIO_FLAG_READ, NULL))",
          "content_same": false
        },
        {
          "line": 6227,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    }",
          "new_line_content": "    sample_count = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 6231,
          "old_api": null,
          "new_api": "mov_try_read_block",
          "old_text": null,
          "new_text": "mov_try_read_block(pb, sample_count, &encryption_index->auxiliary_info_sizes)",
          "old_line_content": "    encryption_index->auxiliary_info_sample_count = sample_count;",
          "new_line_content": "        ret = mov_try_read_block(pb, sample_count, &encryption_index->auxiliary_info_sizes);",
          "content_same": false
        },
        {
          "line": 4184,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"Using absolute path on user request, \"\n               \"this is a possible security issue\\n\")",
          "old_line_content": "                return 0;",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Using absolute path on user request, \"",
          "content_same": false
        },
        {
          "line": 6233,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Failed to read the auxiliary info\\n\")",
          "old_line_content": "    if (encryption_index->auxiliary_info_default_size == 0) {",
          "new_line_content": "            av_log(c->fc, AV_LOG_ERROR, \"Failed to read the auxiliary info\\n\");",
          "content_same": false
        },
        {
          "line": 4186,
          "old_api": null,
          "new_api": "io_open",
          "old_text": null,
          "new_text": "c->fc->io_open(c->fc, pb, ref->path, AVIO_FLAG_READ, NULL)",
          "old_line_content": "    } else if (c->use_absolute_path) {",
          "new_line_content": "        if (!c->fc->io_open(c->fc, pb, ref->path, AVIO_FLAG_READ, NULL))",
          "content_same": false
        },
        {
          "line": 6239,
          "old_api": null,
          "new_api": "mov_parse_auxiliary_info",
          "old_text": null,
          "new_text": "mov_parse_auxiliary_info(c, sc, pb, encryption_index)",
          "old_line_content": "    }",
          "new_line_content": "        return mov_parse_auxiliary_info(c, sc, pb, encryption_index);",
          "content_same": false
        },
        {
          "line": 4195,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOENT)",
          "old_line_content": "               ref->path);",
          "new_line_content": "    return AVERROR(ENOENT);",
          "content_same": false
        },
        {
          "line": 4201,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"stream %d, timescale not set\\n\", sc->ffindex)",
          "old_line_content": "static void fix_timescale(MOVContext *c, MOVStreamContext *sc)",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"stream %d, timescale not set\\n\", sc->ffindex);",
          "content_same": false
        },
        {
          "line": 6254,
          "old_api": null,
          "new_api": "get_current_encryption_info",
          "old_text": null,
          "new_text": "get_current_encryption_info(c, &encryption_index, &sc)",
          "old_line_content": "    unsigned int version, entry_count, aux_info_type, aux_info_param;",
          "new_line_content": "    ret = get_current_encryption_info(c, &encryption_index, &sc);",
          "content_same": false
        },
        {
          "line": 6260,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_DEBUG, \"Ignoring duplicate encryption info in saio\\n\")",
          "old_line_content": "",
          "new_line_content": "        av_log(c->fc, AV_LOG_DEBUG, \"Ignoring duplicate encryption info in saio\\n\");",
          "content_same": false
        },
        {
          "line": 4214,
          "old_api": null,
          "new_api": "avformat_new_stream",
          "old_text": null,
          "new_text": "avformat_new_stream(c->fc, NULL)",
          "old_line_content": "    MOVStreamContext *sc;",
          "new_line_content": "    st = avformat_new_stream(c->fc, NULL);",
          "content_same": false
        },
        {
          "line": 4215,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    int ret;",
          "new_line_content": "    if (!st) return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 6265,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Duplicate saio atom\\n\")",
          "old_line_content": "    }",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Duplicate saio atom\\n\");",
          "content_same": false
        },
        {
          "line": 6269,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "    version = avio_r8(pb); /* version */",
          "content_same": false
        },
        {
          "line": 6270,
          "old_api": null,
          "new_api": "avio_rb24",
          "old_text": null,
          "new_text": "avio_rb24(pb)",
          "old_line_content": "    }",
          "new_line_content": "    if (avio_rb24(pb) & 0x01) {  /* flags */",
          "content_same": false
        },
        {
          "line": 6271,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "",
          "new_line_content": "        aux_info_type = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 4225,
          "old_api": null,
          "new_api": "mov_read_default",
          "old_text": null,
          "new_text": "mov_read_default(c, pb, atom)",
          "old_line_content": "    sc->ffindex = st->index;",
          "new_line_content": "    if ((ret = mov_read_default(c, pb, atom)) < 0)",
          "content_same": false
        },
        {
          "line": 6279,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_DEBUG, \"Ignoring saio box with non-zero aux_info_type_parameter\\n\")",
          "old_line_content": "                return 0;",
          "new_line_content": "                av_log(c->fc, AV_LOG_DEBUG, \"Ignoring saio box with non-zero aux_info_type_parameter\\n\");",
          "content_same": false
        },
        {
          "line": 4234,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&sc->stsc_data)",
          "old_line_content": "    // but we can overlook it (clearing stsc) whenever stts_count == 0 (indicating no samples).",
          "new_line_content": "        av_freep(&sc->stsc_data);",
          "content_same": false
        },
        {
          "line": 6284,
          "old_api": null,
          "new_api": "MKBETAG",
          "old_text": null,
          "new_text": "MKBETAG('c','e','n','c')",
          "old_line_content": "            }",
          "new_line_content": "            if ((aux_info_type == MKBETAG('c','e','n','c') ||",
          "content_same": false
        },
        {
          "line": 6285,
          "old_api": null,
          "new_api": "MKBETAG",
          "old_text": null,
          "new_text": "MKBETAG('c','e','n','s')",
          "old_line_content": "        } else {",
          "new_line_content": "                 aux_info_type == MKBETAG('c','e','n','s') ||",
          "content_same": false
        },
        {
          "line": 6286,
          "old_api": null,
          "new_api": "MKBETAG",
          "old_text": null,
          "new_text": "MKBETAG('c','b','c','1')",
          "old_line_content": "            // Didn't see 'schm' or 'tenc', so this isn't encrypted.",
          "new_line_content": "                 aux_info_type == MKBETAG('c','b','c','1') ||",
          "content_same": false
        },
        {
          "line": 4241,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"stream %d, missing mandatory atoms, broken header\\n\",\n               st->index)",
          "old_line_content": "    if ((sc->chunk_count && (!sc->stts_count || !sc->stsc_count ||",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"stream %d, missing mandatory atoms, broken header\\n\",",
          "content_same": false
        },
        {
          "line": 4246,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"stream %d, contradictionary STSC and STCO\\n\",\n               st->index)",
          "old_line_content": "        return 0;",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"stream %d, contradictionary STSC and STCO\\n\",",
          "content_same": false
        },
        {
          "line": 4251,
          "old_api": null,
          "new_api": "fix_timescale",
          "old_text": null,
          "new_text": "fix_timescale(c, sc)",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "    fix_timescale(c, sc);",
          "content_same": false
        },
        {
          "line": 6300,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        return 0;",
          "new_line_content": "    entry_count = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 4253,
          "old_api": null,
          "new_api": "avpriv_set_pts_info",
          "old_text": null,
          "new_text": "avpriv_set_pts_info(st, 64, 1, sc->time_scale)",
          "old_line_content": "",
          "new_line_content": "    avpriv_set_pts_info(st, 64, 1, sc->time_scale);",
          "content_same": false
        },
        {
          "line": 6302,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 4255,
          "old_api": null,
          "new_api": "mov_build_index",
          "old_text": null,
          "new_text": "mov_build_index(c, st)",
          "old_line_content": "",
          "new_line_content": "    mov_build_index(c, st);",
          "content_same": false
        },
        {
          "line": 6306,
          "old_api": null,
          "new_api": "av_fast_realloc",
          "old_text": null,
          "new_text": "av_fast_realloc(\n            encryption_index->auxiliary_offsets, &alloc_size,\n            min_offsets * sizeof(*auxiliary_offsets))",
          "old_line_content": "",
          "new_line_content": "        auxiliary_offsets = av_fast_realloc(",
          "content_same": false
        },
        {
          "line": 4260,
          "old_api": null,
          "new_api": "mov_open_dref",
          "old_text": null,
          "new_text": "mov_open_dref(c, &sc->pb, c->fc->url, dref)",
          "old_line_content": "    if (sc->dref_id-1 < sc->drefs_count && sc->drefs[sc->dref_id-1].path) {",
          "new_line_content": "            if (mov_open_dref(c, &sc->pb, c->fc->url, dref) < 0)",
          "content_same": false
        },
        {
          "line": 4261,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR,\n                       \"stream %d, error opening alias: path='%s', dir='%s', \"\n                       \"filename='%s', volume='%s', nlvl_from=%d, nlvl_to=%d\\n\",\n                       st->index, dref->path, dref->dir, dref->filename,\n                       dref->volume, dref->nlvl_from, dref->nlvl_to)",
          "old_line_content": "        MOVDref *dref = &sc->drefs[sc->dref_id - 1];",
          "new_line_content": "                av_log(c->fc, AV_LOG_ERROR,",
          "content_same": false
        },
        {
          "line": 6310,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&encryption_index->auxiliary_offsets)",
          "old_line_content": "            encryption_index->auxiliary_offsets, &alloc_size,",
          "new_line_content": "            av_freep(&encryption_index->auxiliary_offsets);",
          "content_same": false
        },
        {
          "line": 6311,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "            min_offsets * sizeof(*auxiliary_offsets));",
          "new_line_content": "            return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 4267,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING,\n                   \"Skipped opening external track: \"\n                   \"stream %d, alias: path='%s', dir='%s', \"\n                   \"filename='%s', volume='%s', nlvl_from=%d, nlvl_to=%d.\"\n                   \"Set enable_drefs to allow this.\\n\",\n                   st->index, dref->path, dref->dir, dref->filename,\n                   dref->volume, dref->nlvl_from, dref->nlvl_to)",
          "old_line_content": "                       st->index, dref->path, dref->dir, dref->filename,",
          "new_line_content": "            av_log(c->fc, AV_LOG_WARNING,",
          "content_same": false
        },
        {
          "line": 6316,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        encryption_index->auxiliary_offsets = auxiliary_offsets;",
          "new_line_content": "            encryption_index->auxiliary_offsets[i] = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 6318,
          "old_api": null,
          "new_api": "avio_rb64",
          "old_text": null,
          "new_text": "avio_rb64(pb)",
          "old_line_content": "        if (version == 0) {",
          "new_line_content": "            encryption_index->auxiliary_offsets[i] = avio_rb64(pb);",
          "content_same": false
        },
        {
          "line": 6326,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Hit EOF while reading saio\\n\")",
          "old_line_content": "    }",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Hit EOF while reading saio\\n\");",
          "content_same": false
        },
        {
          "line": 6327,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&encryption_index->auxiliary_offsets)",
          "old_line_content": "",
          "new_line_content": "        av_freep(&encryption_index->auxiliary_offsets);",
          "content_same": false
        },
        {
          "line": 4284,
          "old_api": null,
          "new_api": "av_d2q",
          "old_text": null,
          "new_text": "av_d2q(((double)st->codecpar->height * sc->width) /\n                                             ((double)st->codecpar->width * sc->height), INT_MAX)",
          "old_line_content": "        if (!st->sample_aspect_ratio.num && st->codecpar->width && st->codecpar->height &&",
          "new_line_content": "            st->sample_aspect_ratio = av_d2q(((double)st->codecpar->height * sc->width) /",
          "content_same": false
        },
        {
          "line": 6334,
          "old_api": null,
          "new_api": "mov_parse_auxiliary_info",
          "old_text": null,
          "new_text": "mov_parse_auxiliary_info(c, sc, pb, encryption_index)",
          "old_line_content": "    encryption_index->auxiliary_offsets_count = entry_count;",
          "new_line_content": "        return mov_parse_auxiliary_info(c, sc, pb, encryption_index);",
          "content_same": false
        },
        {
          "line": 4290,
          "old_api": null,
          "new_api": "av_reduce",
          "old_text": null,
          "new_text": "av_reduce(&st->r_frame_rate.num, &st->r_frame_rate.den,\n                      sc->time_scale, sc->stts_data[0].duration, INT_MAX)",
          "old_line_content": "",
          "new_line_content": "            av_reduce(&st->r_frame_rate.num, &st->r_frame_rate.den,",
          "content_same": false
        },
        {
          "line": 4297,
          "old_api": null,
          "new_api": "TAG_IS_AVCI",
          "old_text": null,
          "new_text": "TAG_IS_AVCI(st->codecpar->codec_tag)",
          "old_line_content": "",
          "new_line_content": "        TAG_IS_AVCI(st->codecpar->codec_tag)) {",
          "content_same": false
        },
        {
          "line": 4298,
          "old_api": null,
          "new_api": "ff_generate_avci_extradata",
          "old_text": null,
          "new_text": "ff_generate_avci_extradata(st)",
          "old_line_content": "    // done for ai5q, ai52, ai55, ai1q, ai12 and ai15.",
          "new_line_content": "        ret = ff_generate_avci_extradata(st);",
          "content_same": false
        },
        {
          "line": 6354,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "        return 0;",
          "new_line_content": "    version = avio_r8(pb); /* version */",
          "content_same": false
        },
        {
          "line": 6355,
          "old_api": null,
          "new_api": "avio_rb24",
          "old_text": null,
          "new_text": "avio_rb24(pb)",
          "old_line_content": "    st = c->fc->streams[c->fc->nb_streams-1];",
          "new_line_content": "    avio_rb24(pb);  /* flags */",
          "content_same": false
        },
        {
          "line": 6362,
          "old_api": null,
          "new_api": "avio_read",
          "old_text": null,
          "new_text": "avio_read(pb, info->system_id, 16)",
          "old_line_content": "    if (!info)",
          "new_line_content": "    if (avio_read(pb, info->system_id, 16) != 16) {",
          "content_same": false
        },
        {
          "line": 6369,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    }",
          "new_line_content": "        kid_count = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 6371,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    if (version > 0) {",
          "new_line_content": "            ret = AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 4326,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&sc->chunk_offsets)",
          "old_line_content": "            st->need_parsing = AVSTREAM_PARSE_FULL;",
          "new_line_content": "    av_freep(&sc->chunk_offsets);",
          "content_same": false
        },
        {
          "line": 4327,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&sc->sample_sizes)",
          "old_line_content": "    }",
          "new_line_content": "    av_freep(&sc->sample_sizes);",
          "content_same": false
        },
        {
          "line": 4328,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&sc->keyframes)",
          "old_line_content": "    /* Do not need those anymore. */",
          "new_line_content": "    av_freep(&sc->keyframes);",
          "content_same": false
        },
        {
          "line": 6376,
          "old_api": null,
          "new_api": "FFMAX",
          "old_text": null,
          "new_text": "FFMAX(i + 1, 1024)",
          "old_line_content": "        }",
          "new_line_content": "            unsigned int min_kid_count = FFMIN(FFMAX(i + 1, 1024), kid_count);",
          "content_same": false
        },
        {
          "line": 6377,
          "old_api": null,
          "new_api": "av_fast_realloc",
          "old_text": null,
          "new_text": "av_fast_realloc(info->key_ids, &alloc_size,\n                                      min_kid_count * sizeof(*key_ids))",
          "old_line_content": "",
          "new_line_content": "            key_ids = av_fast_realloc(info->key_ids, &alloc_size,",
          "content_same": false
        },
        {
          "line": 6385,
          "old_api": null,
          "new_api": "av_mallocz",
          "old_text": null,
          "new_text": "av_mallocz(16)",
          "old_line_content": "            }",
          "new_line_content": "            info->key_ids[i] = av_mallocz(16);",
          "content_same": false
        },
        {
          "line": 6387,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "                ret = AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 4341,
          "old_api": null,
          "new_api": "mov_read_default",
          "old_text": null,
          "new_text": "mov_read_default(c, pb, atom)",
          "old_line_content": "{",
          "new_line_content": "    ret = mov_read_default(c, pb, atom);",
          "content_same": false
        },
        {
          "line": 6392,
          "old_api": null,
          "new_api": "avio_read",
          "old_text": null,
          "new_text": "avio_read(pb, info->key_ids[i], 16)",
          "old_line_content": "            }",
          "new_line_content": "            if (avio_read(pb, info->key_ids[i], 16) != 16) {",
          "content_same": false
        },
        {
          "line": 6393,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Failed to read the key id\\n\")",
          "old_line_content": "            info->num_key_ids = i + 1;",
          "new_line_content": "                av_log(c->fc, AV_LOG_ERROR, \"Failed to read the key id\\n\");",
          "content_same": false
        },
        {
          "line": 6400,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Hit EOF while reading pssh\\n\")",
          "old_line_content": "        }",
          "new_line_content": "            av_log(c->fc, AV_LOG_ERROR, \"Hit EOF while reading pssh\\n\");",
          "content_same": false
        },
        {
          "line": 4354,
          "old_api": null,
          "new_api": "avio_skip",
          "old_text": null,
          "new_text": "avio_skip(pb, 4)",
          "old_line_content": "    if (atom.size < 8)",
          "new_line_content": "    avio_skip(pb, 4);",
          "content_same": false
        },
        {
          "line": 4355,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        return 0;",
          "new_line_content": "    count = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 6406,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        }",
          "new_line_content": "    extra_data_size = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 6407,
          "old_api": null,
          "new_api": "mov_try_read_block",
          "old_text": null,
          "new_text": "mov_try_read_block(pb, extra_data_size, &extra_data)",
          "old_line_content": "    }",
          "new_line_content": "    ret = mov_try_read_block(pb, extra_data_size, &extra_data);",
          "content_same": false
        },
        {
          "line": 4363,
          "old_api": null,
          "new_api": "av_mallocz",
          "old_text": null,
          "new_text": "av_mallocz(c->meta_keys_count * sizeof(*c->meta_keys))",
          "old_line_content": "    }",
          "new_line_content": "    c->meta_keys = av_mallocz(c->meta_keys_count * sizeof(*c->meta_keys));",
          "content_same": false
        },
        {
          "line": 6411,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&info->data)",
          "old_line_content": "    if (ret < 0)",
          "new_line_content": "    av_freep(&info->data);  // malloc(0) may still allocate something.",
          "content_same": false
        },
        {
          "line": 4365,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    c->meta_keys_count = count + 1;",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 6416,
          "old_api": null,
          "new_api": "av_stream_get_side_data",
          "old_text": null,
          "new_text": "av_stream_get_side_data(st, AV_PKT_DATA_ENCRYPTION_INIT_INFO, &old_side_data_size)",
          "old_line_content": "    info->data_size = extra_data_size;",
          "new_line_content": "    old_side_data = av_stream_get_side_data(st, AV_PKT_DATA_ENCRYPTION_INIT_INFO, &old_side_data_size);",
          "content_same": false
        },
        {
          "line": 4369,
          "old_api": null,
          "new_api": "avio_rl32",
          "old_text": null,
          "new_text": "avio_rl32(pb)",
          "old_line_content": "",
          "new_line_content": "        uint32_t type = avio_rl32(pb);",
          "content_same": false
        },
        {
          "line": 6418,
          "old_api": null,
          "new_api": "av_encryption_init_info_get_side_data",
          "old_text": null,
          "new_text": "av_encryption_init_info_get_side_data(old_side_data, old_side_data_size)",
          "old_line_content": "    // If there is existing initialization data, append to the list.",
          "new_line_content": "        old_init_info = av_encryption_init_info_get_side_data(old_side_data, old_side_data_size);",
          "content_same": false
        },
        {
          "line": 4377,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('m','d','t','a')",
          "old_line_content": "            return AVERROR_INVALIDDATA;",
          "new_line_content": "        if (type != MKTAG('m','d','t','a')) {",
          "content_same": false
        },
        {
          "line": 4378,
          "old_api": null,
          "new_api": "avio_skip",
          "old_text": null,
          "new_text": "avio_skip(pb, key_size)",
          "old_line_content": "        }",
          "new_line_content": "            avio_skip(pb, key_size);",
          "content_same": false
        },
        {
          "line": 4382,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "        }",
          "new_line_content": "            return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 6430,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "            info = old_init_info;",
          "new_line_content": "            ret = AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 6435,
          "old_api": null,
          "new_api": "av_encryption_init_info_add_side_data",
          "old_text": null,
          "new_text": "av_encryption_init_info_add_side_data(info, &side_data_size)",
          "old_line_content": "        }",
          "new_line_content": "    side_data = av_encryption_init_info_add_side_data(info, &side_data_size);",
          "content_same": false
        },
        {
          "line": 6437,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "        ret = AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 4391,
          "old_api": null,
          "new_api": "avio_tell",
          "old_text": null,
          "new_text": "avio_tell(pb)",
          "old_line_content": "",
          "new_line_content": "    int64_t end = avio_tell(pb) + atom.size;",
          "content_same": false
        },
        {
          "line": 4407,
          "old_api": null,
          "new_api": "avio_tell",
          "old_text": null,
          "new_text": "avio_tell(pb)",
          "old_line_content": "        uint8_t **p;",
          "new_line_content": "        if (end - avio_tell(pb) <= 12)",
          "content_same": false
        },
        {
          "line": 4411,
          "old_api": null,
          "new_api": "avio_rl32",
          "old_text": null,
          "new_text": "avio_rl32(pb)",
          "old_line_content": "            break;",
          "new_line_content": "        tag = avio_rl32(pb);",
          "content_same": false
        },
        {
          "line": 4412,
          "old_api": null,
          "new_api": "avio_skip",
          "old_text": null,
          "new_text": "avio_skip(pb, 4)",
          "old_line_content": "",
          "new_line_content": "        avio_skip(pb, 4); // flags",
          "content_same": false
        },
        {
          "line": 6461,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"schm boxes are only supported in first sample descriptor\\n\")",
          "old_line_content": "    sc = st->priv_data;",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"schm boxes are only supported in first sample descriptor\\n\");",
          "content_same": false
        },
        {
          "line": 4418,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('m', 'e', 'a', 'n')",
          "old_line_content": "            break;",
          "new_line_content": "        if (tag == MKTAG('m', 'e', 'a', 'n'))",
          "content_same": false
        },
        {
          "line": 4420,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('n', 'a', 'm', 'e')",
          "old_line_content": "",
          "new_line_content": "        else if (tag == MKTAG('n', 'a', 'm', 'e'))",
          "content_same": false
        },
        {
          "line": 6468,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    if (atom.size < 8)",
          "new_line_content": "    avio_rb32(pb); /* version and flags */",
          "content_same": false
        },
        {
          "line": 4422,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('d', 'a', 't', 'a')",
          "old_line_content": "            p = &mean;",
          "new_line_content": "        else if (tag == MKTAG('d', 'a', 't', 'a') && len > 4) {",
          "content_same": false
        },
        {
          "line": 6473,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    if (!sc->cenc.default_encrypted_sample) {",
          "new_line_content": "            return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 6477,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        }",
          "new_line_content": "    sc->cenc.default_encrypted_sample->scheme = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 4432,
          "old_api": null,
          "new_api": "av_malloc",
          "old_text": null,
          "new_text": "av_malloc(len + 1)",
          "old_line_content": "        if (*p)",
          "new_line_content": "        *p = av_malloc(len + 1);",
          "content_same": false
        },
        {
          "line": 4434,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "            ret = AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 4439,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(p)",
          "old_line_content": "        }",
          "new_line_content": "            av_freep(p);",
          "content_same": false
        },
        {
          "line": 6493,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"tenc atom are only supported in first sample descriptor\\n\")",
          "old_line_content": "    sc = st->priv_data;",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"tenc atom are only supported in first sample descriptor\\n\");",
          "content_same": false
        },
        {
          "line": 4446,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(key, \"iTunSMPB\")",
          "old_line_content": "    }",
          "new_line_content": "        if (strcmp(key, \"iTunSMPB\") == 0) {",
          "content_same": false
        },
        {
          "line": 4448,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf(val, \"%*X %X %X %X\", &priming, &remainder, &samples)",
          "old_line_content": "    if (mean && key && val) {",
          "new_line_content": "            if(sscanf(val, \"%*X %X %X %X\", &priming, &remainder, &samples) == 3){",
          "content_same": false
        },
        {
          "line": 6498,
          "old_api": null,
          "new_api": "av_encryption_info_alloc",
          "old_text": null,
          "new_text": "av_encryption_info_alloc(0, 16, 16)",
          "old_line_content": "    }",
          "new_line_content": "        sc->cenc.default_encrypted_sample = av_encryption_info_alloc(0, 16, 16);",
          "content_same": false
        },
        {
          "line": 6500,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    if (!sc->cenc.default_encrypted_sample) {",
          "new_line_content": "            return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 4453,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(key, \"cdec\")",
          "old_line_content": "                    sc->start_pad = priming;",
          "new_line_content": "        if (strcmp(key, \"cdec\") != 0) {",
          "content_same": false
        },
        {
          "line": 4454,
          "old_api": null,
          "new_api": "av_dict_set",
          "old_text": null,
          "new_text": "av_dict_set(&c->fc->metadata, key, val,\n                        AV_DICT_DONT_STRDUP_KEY | AV_DICT_DONT_STRDUP_VAL)",
          "old_line_content": "            }",
          "new_line_content": "            av_dict_set(&c->fc->metadata, key, val,",
          "content_same": false
        },
        {
          "line": 4459,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_VERBOSE,\n               \"Unhandled or malformed custom metadata of size %\"PRId64\"\\n\", atom.size)",
          "old_line_content": "            key = val = NULL;",
          "new_line_content": "        av_log(c->fc, AV_LOG_VERBOSE,",
          "content_same": false
        },
        {
          "line": 6507,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "    if (atom.size < 20)",
          "new_line_content": "    version = avio_r8(pb); /* version */",
          "content_same": false
        },
        {
          "line": 6508,
          "old_api": null,
          "new_api": "avio_rb24",
          "old_text": null,
          "new_text": "avio_rb24(pb)",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "    avio_rb24(pb); /* flags */",
          "content_same": false
        },
        {
          "line": 4463,
          "old_api": null,
          "new_api": "avio_seek",
          "old_text": null,
          "new_text": "avio_seek(pb, end, SEEK_SET)",
          "old_line_content": "               \"Unhandled or malformed custom metadata of size %\"PRId64\"\\n\", atom.size);",
          "new_line_content": "    avio_seek(pb, end, SEEK_SET);",
          "content_same": false
        },
        {
          "line": 4464,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&key)",
          "old_line_content": "    }",
          "new_line_content": "    av_freep(&key);",
          "content_same": false
        },
        {
          "line": 4465,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&val)",
          "old_line_content": "",
          "new_line_content": "    av_freep(&val);",
          "content_same": false
        },
        {
          "line": 6518,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "        sc->cenc.default_encrypted_sample->skip_byte_block = pattern & 0xf;",
          "new_line_content": "    is_protected = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 4474,
          "old_api": null,
          "new_api": "avio_feof",
          "old_text": null,
          "new_text": "avio_feof(pb)",
          "old_line_content": "{",
          "new_line_content": "        if (avio_feof(pb))",
          "content_same": false
        },
        {
          "line": 6523,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "        // The whole stream should be by-default encrypted.",
          "new_line_content": "            return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 4476,
          "old_api": null,
          "new_api": "avio_rl32",
          "old_text": null,
          "new_text": "avio_rl32(pb)",
          "old_line_content": "        uint32_t tag;",
          "new_line_content": "        tag = avio_rl32(pb);",
          "content_same": false
        },
        {
          "line": 6525,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "        if (!sc->cenc.encryption_index)",
          "new_line_content": "    sc->cenc.per_sample_iv_size = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 4478,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('h','d','l','r')",
          "old_line_content": "            return AVERROR_EOF;",
          "new_line_content": "        if (tag == MKTAG('h','d','l','r')) {",
          "content_same": false
        },
        {
          "line": 6532,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"failed to read the default key ID\\n\")",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"failed to read the default key ID\\n\");",
          "content_same": false
        },
        {
          "line": 6537,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "    }",
          "new_line_content": "        iv_size = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 6539,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"invalid default_constant_IV_size in tenc atom\\n\")",
          "old_line_content": "    if (is_protected && !sc->cenc.per_sample_iv_size) {",
          "new_line_content": "            av_log(c->fc, AV_LOG_ERROR, \"invalid default_constant_IV_size in tenc atom\\n\");",
          "content_same": false
        },
        {
          "line": 6543,
          "old_api": null,
          "new_api": "avio_read",
          "old_text": null,
          "new_text": "avio_read(pb, sc->cenc.default_encrypted_sample->iv, iv_size)",
          "old_line_content": "            return AVERROR_INVALIDDATA;",
          "new_line_content": "        if (avio_read(pb, sc->cenc.default_encrypted_sample->iv, iv_size) != iv_size) {",
          "content_same": false
        },
        {
          "line": 6544,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"failed to read the default IV\\n\")",
          "old_line_content": "        }",
          "new_line_content": "            av_log(c->fc, AV_LOG_ERROR, \"failed to read the default IV\\n\");",
          "content_same": false
        },
        {
          "line": 4518,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "    if (st->id != -1)",
          "new_line_content": "    version = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 4519,
          "old_api": null,
          "new_api": "avio_rb24",
          "old_text": null,
          "new_text": "avio_rb24(pb)",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "    flags = avio_rb24(pb);",
          "content_same": false
        },
        {
          "line": 6566,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "    if (avio_r8(pb) != 0)",
          "content_same": false
        },
        {
          "line": 4523,
          "old_api": null,
          "new_api": "avio_rb64",
          "old_text": null,
          "new_text": "avio_rb64(pb)",
          "old_line_content": "    st->disposition |= (flags & MOV_TKHD_FLAG_ENABLED) ? AV_DISPOSITION_DEFAULT : 0;",
          "new_line_content": "        avio_rb64(pb);",
          "content_same": false
        },
        {
          "line": 4524,
          "old_api": null,
          "new_api": "avio_rb64",
          "old_text": null,
          "new_text": "avio_rb64(pb)",
          "old_line_content": "",
          "new_line_content": "        avio_rb64(pb);",
          "content_same": false
        },
        {
          "line": 6571,
          "old_api": null,
          "new_api": "avio_read",
          "old_text": null,
          "new_text": "avio_read(pb, buf, sizeof(buf))",
          "old_line_content": "",
          "new_line_content": "    avio_read(pb, buf, sizeof(buf));",
          "content_same": false
        },
        {
          "line": 6579,
          "old_api": null,
          "new_api": "ff_get_extradata",
          "old_text": null,
          "new_text": "ff_get_extradata(c->fc, st->codecpar, pb, size)",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "    ret = ff_get_extradata(c->fc, st->codecpar, pb, size);",
          "content_same": false
        },
        {
          "line": 4534,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "",
          "new_line_content": "    avio_rb32(pb); /* reserved */",
          "content_same": false
        },
        {
          "line": 4535,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    /* highlevel (considering edits) duration in movie timebase */",
          "new_line_content": "    avio_rb32(pb); /* reserved */",
          "content_same": false
        },
        {
          "line": 6584,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"non-STREAMINFO FLACMetadataBlock(s) ignored\\n\")",
          "old_line_content": "        return ret;",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"non-STREAMINFO FLACMetadataBlock(s) ignored\\n\");",
          "content_same": false
        },
        {
          "line": 4539,
          "old_api": null,
          "new_api": "avio_rb16",
          "old_text": null,
          "new_text": "avio_rb16(pb)",
          "old_line_content": "",
          "new_line_content": "    avio_rb16(pb); /* volume */",
          "content_same": false
        },
        {
          "line": 6593,
          "old_api": null,
          "new_api": "MKBETAG",
          "old_text": null,
          "new_text": "MKBETAG('c','e','n','c')",
          "old_line_content": "{",
          "new_line_content": "    if (sample->scheme != MKBETAG('c','e','n','c') || sample->crypt_byte_block != 0 || sample->skip_byte_block != 0) {",
          "content_same": false
        },
        {
          "line": 6594,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Only the 'cenc' encryption scheme is supported\\n\")",
          "old_line_content": "    int i, ret;",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Only the 'cenc' encryption scheme is supported\\n\");",
          "content_same": false
        },
        {
          "line": 4547,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    // save u,v,z to store the whole matrix in the AV_PKT_DATA_DISPLAYMATRIX",
          "new_line_content": "        display_matrix[i][0] = avio_rb32(pb);   // 16.16 fixed point",
          "content_same": false
        },
        {
          "line": 4548,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    // side data, but the scale factor is not needed to calculate aspect ratio",
          "new_line_content": "        display_matrix[i][1] = avio_rb32(pb);   // 16.16 fixed point",
          "content_same": false
        },
        {
          "line": 4549,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    for (i = 0; i < 3; i++) {",
          "new_line_content": "        display_matrix[i][2] = avio_rb32(pb);   //  2.30 fixed point",
          "content_same": false
        },
        {
          "line": 6600,
          "old_api": null,
          "new_api": "av_aes_ctr_alloc",
          "old_text": null,
          "new_text": "av_aes_ctr_alloc()",
          "old_line_content": "",
          "new_line_content": "        sc->cenc.aes_ctr = av_aes_ctr_alloc();",
          "content_same": false
        },
        {
          "line": 4553,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    }",
          "new_line_content": "    height = avio_rb32(pb);      // 16.16 fixed point track height",
          "content_same": false
        },
        {
          "line": 6602,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "        /* initialize the cipher */",
          "new_line_content": "            return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 6611,
          "old_api": null,
          "new_api": "av_aes_ctr_set_full_iv",
          "old_text": null,
          "new_text": "av_aes_ctr_set_full_iv(sc->cenc.aes_ctr, sample->iv)",
          "old_line_content": "        }",
          "new_line_content": "    av_aes_ctr_set_full_iv(sc->cenc.aes_ctr, sample->iv);",
          "content_same": false
        },
        {
          "line": 6616,
          "old_api": null,
          "new_api": "av_aes_ctr_crypt",
          "old_text": null,
          "new_text": "av_aes_ctr_crypt(sc->cenc.aes_ctr, input, input, size)",
          "old_line_content": "    if (!sample->subsample_count)",
          "new_line_content": "        av_aes_ctr_crypt(sc->cenc.aes_ctr, input, input, size);",
          "content_same": false
        },
        {
          "line": 4570,
          "old_api": null,
          "new_api": "IS_MATRIX_IDENT",
          "old_text": null,
          "new_text": "IS_MATRIX_IDENT(res_display_matrix)",
          "old_line_content": "    }",
          "new_line_content": "    if (!IS_MATRIX_IDENT(res_display_matrix)) {",
          "content_same": false
        },
        {
          "line": 4574,
          "old_api": null,
          "new_api": "av_malloc",
          "old_text": null,
          "new_text": "av_malloc(sizeof(int32_t) * 9)",
          "old_line_content": "        double rotate;",
          "new_line_content": "        sc->display_matrix = av_malloc(sizeof(int32_t) * 9);",
          "content_same": false
        },
        {
          "line": 6623,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"subsample size exceeds the packet size left\\n\")",
          "old_line_content": "    for (i = 0; i < sample->subsample_count; i++)",
          "new_line_content": "            av_log(c->fc, AV_LOG_ERROR, \"subsample size exceeds the packet size left\\n\");",
          "content_same": false
        },
        {
          "line": 4583,
          "old_api": null,
          "new_api": "av_display_rotation_get",
          "old_text": null,
          "new_text": "av_display_rotation_get(sc->display_matrix)",
          "old_line_content": "                sc->display_matrix[i * 3 + j] = res_display_matrix[i][j];",
          "new_line_content": "        rotate = av_display_rotation_get(sc->display_matrix);",
          "content_same": false
        },
        {
          "line": 4584,
          "old_api": null,
          "new_api": "isnan",
          "old_text": null,
          "new_text": "isnan(rotate)",
          "old_line_content": "",
          "new_line_content": "        if (!isnan(rotate)) {",
          "content_same": false
        },
        {
          "line": 6632,
          "old_api": null,
          "new_api": "av_aes_ctr_crypt",
          "old_text": null,
          "new_text": "av_aes_ctr_crypt(sc->cenc.aes_ctr, input, input, sample->subsamples[i].bytes_of_protected_data)",
          "old_line_content": "        size -= sample->subsamples[i].bytes_of_clear_data;",
          "new_line_content": "        av_aes_ctr_crypt(sc->cenc.aes_ctr, input, input, sample->subsamples[i].bytes_of_protected_data);",
          "content_same": false
        },
        {
          "line": 4589,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(rotate_buf, sizeof(rotate_buf), \"%g\", rotate)",
          "old_line_content": "            rotate = -rotate;",
          "new_line_content": "            snprintf(rotate_buf, sizeof(rotate_buf), \"%g\", rotate);",
          "content_same": false
        },
        {
          "line": 4590,
          "old_api": null,
          "new_api": "av_dict_set",
          "old_text": null,
          "new_text": "av_dict_set(&st->metadata, \"rotate\", rotate_buf, 0)",
          "old_line_content": "            if (rotate < 0) // for backward compatibility",
          "new_line_content": "            av_dict_set(&st->metadata, \"rotate\", rotate_buf, 0);",
          "content_same": false
        },
        {
          "line": 6638,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"leftover packet bytes after subsample processing\\n\")",
          "old_line_content": "    }",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"leftover packet bytes after subsample processing\\n\");",
          "content_same": false
        },
        {
          "line": 4601,
          "old_api": null,
          "new_api": "hypot",
          "old_text": null,
          "new_text": "hypot(sc->display_matrix[0 + i],\n                                      sc->display_matrix[3 + i])",
          "old_line_content": "        double disp_transform[2];",
          "new_line_content": "            disp_transform[i] = hypot(sc->display_matrix[0 + i],",
          "content_same": false
        },
        {
          "line": 2556,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STSD atom\\n\")",
          "old_line_content": "    }",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STSD atom\\n\");",
          "content_same": false
        },
        {
          "line": 6652,
          "old_api": null,
          "new_api": "get_frag_stream_info",
          "old_text": null,
          "new_text": "get_frag_stream_info(&mov->frag_index, mov->frag_index.current, st->id)",
          "old_line_content": "    AVEncryptionInfo *encrypted_sample;",
          "new_line_content": "    frag_stream_info = get_frag_stream_info(&mov->frag_index, mov->frag_index.current, st->id);",
          "content_same": false
        },
        {
          "line": 4606,
          "old_api": null,
          "new_api": "fabs",
          "old_text": null,
          "new_text": "fabs((disp_transform[0] / disp_transform[1]) - 1.0)",
          "old_line_content": "",
          "new_line_content": "            fabs((disp_transform[0] / disp_transform[1]) - 1.0) > 0.01)",
          "content_same": false
        },
        {
          "line": 4607,
          "old_api": null,
          "new_api": "av_d2q",
          "old_text": null,
          "new_text": "av_d2q(\n                disp_transform[0] / disp_transform[1],\n                INT_MAX)",
          "old_line_content": "        if (disp_transform[0] > 0       && disp_transform[1] > 0 &&",
          "new_line_content": "            st->sample_aspect_ratio = av_d2q(",
          "content_same": false
        },
        {
          "line": 4621,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "    int flags, track_id, i;",
          "new_line_content": "    avio_r8(pb); /* version */",
          "content_same": false
        },
        {
          "line": 2574,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "    st = c->fc->streams[c->fc->nb_streams - 1];",
          "new_line_content": "    sc->stsd_version = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 2575,
          "old_api": null,
          "new_api": "avio_rb24",
          "old_text": null,
          "new_text": "avio_rb24(pb)",
          "old_line_content": "    sc = st->priv_data;",
          "new_line_content": "    avio_rb24(pb); /* flags */",
          "content_same": false
        },
        {
          "line": 2576,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "",
          "new_line_content": "    entries = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 4622,
          "old_api": null,
          "new_api": "avio_rb24",
          "old_text": null,
          "new_text": "avio_rb24(pb)",
          "old_line_content": "    MOVFragmentStreamInfo * frag_stream_info;",
          "new_line_content": "    flags = avio_rb24(pb);",
          "content_same": false
        },
        {
          "line": 6672,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_ERROR, \"saiz atom found without saio\\n\")",
          "old_line_content": "    if (encryption_index) {",
          "new_line_content": "            av_log(mov->fc, AV_LOG_ERROR, \"saiz atom found without saio\\n\");",
          "content_same": false
        },
        {
          "line": 2580,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"invalid STSD entries %d\\n\", entries)",
          "old_line_content": "",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"invalid STSD entries %d\\n\", entries);",
          "content_same": false
        },
        {
          "line": 6677,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_ERROR, \"saio atom found without saiz\\n\")",
          "old_line_content": "        }",
          "new_line_content": "            av_log(mov->fc, AV_LOG_ERROR, \"saio atom found without saiz\\n\");",
          "content_same": false
        },
        {
          "line": 2585,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR,\n               \"Duplicate stsd found in this track.\\n\")",
          "old_line_content": "    }",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR,",
          "content_same": false
        },
        {
          "line": 4633,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"could not find corresponding trex (id %u)\\n\", track_id)",
          "old_line_content": "            break;",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"could not find corresponding trex (id %u)\\n\", track_id);",
          "content_same": false
        },
        {
          "line": 4638,
          "old_api": null,
          "new_api": "set_frag_stream",
          "old_text": null,
          "new_text": "set_frag_stream(&c->frag_index, track_id)",
          "old_line_content": "    }",
          "new_line_content": "    set_frag_stream(&c->frag_index, track_id);",
          "content_same": false
        },
        {
          "line": 2591,
          "old_api": null,
          "new_api": "av_mallocz_array",
          "old_text": null,
          "new_text": "av_mallocz_array(entries, sizeof(*sc->extradata))",
          "old_line_content": "    }",
          "new_line_content": "    sc->extradata = av_mallocz_array(entries, sizeof(*sc->extradata));",
          "content_same": false
        },
        {
          "line": 6688,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_ERROR, \"Incorrect number of samples in encryption info\\n\")",
          "old_line_content": "            // Per-sample setting override.",
          "new_line_content": "            av_log(mov->fc, AV_LOG_ERROR, \"Incorrect number of samples in encryption info\\n\");",
          "content_same": false
        },
        {
          "line": 2593,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    /* Prepare space for hosting multiple extradata. */",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 2595,
          "old_api": null,
          "new_api": "av_mallocz_array",
          "old_text": null,
          "new_text": "av_mallocz_array(entries, sizeof(*sc->extradata_size))",
          "old_line_content": "    if (!sc->extradata)",
          "new_line_content": "    sc->extradata_size = av_mallocz_array(entries, sizeof(*sc->extradata_size));",
          "content_same": false
        },
        {
          "line": 4643,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    frag->base_data_offset = flags & MOV_TFHD_BASE_DATA_OFFSET ?",
          "new_line_content": "    frag->stsd_id  = flags & MOV_TFHD_STSD_ID ? avio_rb32(pb) : trex->stsd_id;",
          "content_same": false
        },
        {
          "line": 2597,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "        ret = AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 6693,
          "old_api": null,
          "new_api": "cenc_decrypt",
          "old_text": null,
          "new_text": "cenc_decrypt(mov, sc, encrypted_sample, pkt->data, pkt->size)",
          "old_line_content": "        }",
          "new_line_content": "            return cenc_decrypt(mov, sc, encrypted_sample, pkt->data, pkt->size);",
          "content_same": false
        },
        {
          "line": 4648,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    frag->duration = flags & MOV_TFHD_DEFAULT_DURATION ?",
          "new_line_content": "                     avio_rb32(pb) : trex->size;",
          "content_same": false
        },
        {
          "line": 2601,
          "old_api": null,
          "new_api": "ff_mov_read_stsd_entries",
          "old_text": null,
          "new_text": "ff_mov_read_stsd_entries(c, pb, entries)",
          "old_line_content": "        goto fail;",
          "new_line_content": "    ret = ff_mov_read_stsd_entries(c, pb, entries);",
          "content_same": false
        },
        {
          "line": 4650,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    frag->size     = flags & MOV_TFHD_DEFAULT_SIZE ?",
          "new_line_content": "                     avio_rb32(pb) : trex->flags;",
          "content_same": false
        },
        {
          "line": 6698,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "            size_t size;",
          "new_line_content": "                return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 2606,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&st->codecpar->extradata)",
          "old_line_content": "        goto fail;",
          "new_line_content": "    av_freep(&st->codecpar->extradata);",
          "content_same": false
        },
        {
          "line": 2611,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    if (sc->extradata_size[0]) {",
          "new_line_content": "            return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 4666,
          "old_api": null,
          "new_api": "av_malloc_array",
          "old_text": null,
          "new_text": "av_malloc_array(num, sizeof(int))",
          "old_line_content": "    void *new_tracks;",
          "new_line_content": "    if (!(new_tracks = av_malloc_array(num, sizeof(int))))",
          "content_same": false
        },
        {
          "line": 4667,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 2620,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&sc->extradata[j])",
          "old_line_content": "    if (sc->extradata) {",
          "new_line_content": "            av_freep(&sc->extradata[j]);",
          "content_same": false
        },
        {
          "line": 2624,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&sc->extradata_size)",
          "old_line_content": "    }",
          "new_line_content": "    av_freep(&sc->extradata_size);",
          "content_same": false
        },
        {
          "line": 4674,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    c->nb_chapter_tracks = num;",
          "new_line_content": "        c->chapter_tracks[i] = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 6725,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "    if (avio_r8(pb) != 0) {",
          "content_same": false
        },
        {
          "line": 6726,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"unsupported OpusSpecificBox version\\n\")",
          "old_line_content": "",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"unsupported OpusSpecificBox version\\n\");",
          "content_same": false
        },
        {
          "line": 6733,
          "old_api": null,
          "new_api": "ff_alloc_extradata",
          "old_text": null,
          "new_text": "ff_alloc_extradata(st->codecpar, size)",
          "old_line_content": "    /* OpusSpecificBox size plus magic for Ogg OpusHead header. */",
          "new_line_content": "    if ((ret = ff_alloc_extradata(st->codecpar, size)) < 0)",
          "content_same": false
        },
        {
          "line": 4686,
          "old_api": null,
          "new_api": "av_reallocp_array",
          "old_text": null,
          "new_text": "av_reallocp_array(&c->trex_data, c->trex_count + 1,\n                                 sizeof(*c->trex_data))",
          "old_line_content": "",
          "new_line_content": "    if ((err = av_reallocp_array(&c->trex_data, c->trex_count + 1,",
          "content_same": false
        },
        {
          "line": 2639,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "    st = c->fc->streams[c->fc->nb_streams-1];",
          "new_line_content": "    avio_r8(pb); /* version */",
          "content_same": false
        },
        {
          "line": 2640,
          "old_api": null,
          "new_api": "avio_rb24",
          "old_text": null,
          "new_text": "avio_rb24(pb)",
          "old_line_content": "    sc = st->priv_data;",
          "new_line_content": "    avio_rb24(pb); /* flags */",
          "content_same": false
        },
        {
          "line": 6737,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('H','e','a','d')",
          "old_line_content": "        return ret;",
          "new_line_content": "    AV_WL32(st->codecpar->extradata + 4, MKTAG('H','e','a','d'));",
          "content_same": false
        },
        {
          "line": 6738,
          "old_api": null,
          "new_api": "AV_WB8",
          "old_text": null,
          "new_text": "AV_WB8(st->codecpar->extradata + 8, 1)",
          "old_line_content": "",
          "new_line_content": "    AV_WB8(st->codecpar->extradata + 8, 1); /* OpusHead version */",
          "content_same": false
        },
        {
          "line": 2646,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_TRACE, \"track[%u].stsc.entries = %u\\n\", c->fc->nb_streams - 1, entries)",
          "old_line_content": "    if ((uint64_t)entries * 12 + 4 > atom.size)",
          "new_line_content": "    av_log(c->fc, AV_LOG_TRACE, \"track[%u].stsc.entries = %u\\n\", c->fc->nb_streams - 1, entries);",
          "content_same": false
        },
        {
          "line": 4695,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "    c->fc->duration = AV_NOPTS_VALUE; // the duration from mvhd is not representing the whole file when fragments are used.",
          "new_line_content": "    avio_r8(pb); /* version */",
          "content_same": false
        },
        {
          "line": 4696,
          "old_api": null,
          "new_api": "avio_rb24",
          "old_text": null,
          "new_text": "avio_rb24(pb)",
          "old_line_content": "",
          "new_line_content": "    avio_rb24(pb); /* flags */",
          "content_same": false
        },
        {
          "line": 4697,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    trex = &c->trex_data[c->trex_count++];",
          "new_line_content": "    trex->track_id = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 6745,
          "old_api": null,
          "new_api": "AV_RB16",
          "old_text": null,
          "new_text": "AV_RB16(st->codecpar->extradata + 10)",
          "old_line_content": "       little-endian; aside from the preceeding magic and version they're",
          "new_line_content": "    pre_skip = AV_RB16(st->codecpar->extradata + 10);",
          "content_same": false
        },
        {
          "line": 2651,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"Duplicated STSC atom\\n\")",
          "old_line_content": "    if (!entries)",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Duplicated STSC atom\\n\");",
          "content_same": false
        },
        {
          "line": 2652,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(sc->stsc_data)",
          "old_line_content": "        return 0;",
          "new_line_content": "    av_free(sc->stsc_data);",
          "content_same": false
        },
        {
          "line": 6746,
          "old_api": null,
          "new_api": "AV_WL16",
          "old_text": null,
          "new_text": "AV_WL16(st->codecpar->extradata + 10, pre_skip)",
          "old_line_content": "       otherwise currently identical.  Data after output gain at offset 16",
          "new_line_content": "    AV_WL16(st->codecpar->extradata + 10, pre_skip);",
          "content_same": false
        },
        {
          "line": 6747,
          "old_api": null,
          "new_api": "AV_RB32",
          "old_text": null,
          "new_text": "AV_RB32(st->codecpar->extradata + 12)",
          "old_line_content": "       doesn't need to be bytewapped. */",
          "new_line_content": "    AV_WL32(st->codecpar->extradata + 12, AV_RB32(st->codecpar->extradata + 12));",
          "content_same": false
        },
        {
          "line": 2656,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    sc->stsc_count = 0;",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 2660,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "",
          "new_line_content": "        sc->stsc_data[i].count = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 2661,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    for (i = 0; i < entries && !pb->eof_reached; i++) {",
          "new_line_content": "        sc->stsc_data[i].id = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 2672,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"STSC entry %d is invalid (first=%d count=%d id=%d)\\n\", i, sc->stsc_data[i].first, sc->stsc_data[i].count, sc->stsc_data[i].id)",
          "old_line_content": "            sc->stsc_data[i].first < first_min ||",
          "new_line_content": "            av_log(c->fc, AV_LOG_WARNING, \"STSC entry %d is invalid (first=%d count=%d id=%d)\\n\", i, sc->stsc_data[i].first, sc->stsc_data[i].count, sc->stsc_data[i].id);",
          "content_same": false
        },
        {
          "line": 4721,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"could not find corresponding track id %u\\n\", frag->track_id)",
          "old_line_content": "        }",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"could not find corresponding track id %u\\n\", frag->track_id);",
          "content_same": false
        },
        {
          "line": 6772,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    if (atom.size < 10)",
          "new_line_content": "    format_info = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 2678,
          "old_api": null,
          "new_api": "FFMAX",
          "old_text": null,
          "new_text": "FFMAX(sc->stsc_data[i].first, first_min)",
          "old_line_content": "                    sc->stsc_count --;",
          "new_line_content": "                sc->stsc_data[i].first = FFMAX(sc->stsc_data[i].first, first_min);",
          "content_same": false
        },
        {
          "line": 4727,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "    sc = st->priv_data;",
          "new_line_content": "    version = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 2680,
          "old_api": null,
          "new_api": "FFMIN",
          "old_text": null,
          "new_text": "FFMIN(sc->stsc_data[i-1].first + 1LL, INT_MAX)",
          "old_line_content": "                }",
          "new_line_content": "                    sc->stsc_data[i].first = FFMIN(sc->stsc_data[i-1].first + 1LL, INT_MAX);",
          "content_same": false
        },
        {
          "line": 4728,
          "old_api": null,
          "new_api": "avio_rb24",
          "old_text": null,
          "new_text": "avio_rb24(pb)",
          "old_line_content": "    if (sc->pseudo_stream_id + 1 != frag->stsd_id && sc->pseudo_stream_id != -1)",
          "new_line_content": "    avio_rb24(pb); /* flags */",
          "content_same": false
        },
        {
          "line": 2682,
          "old_api": null,
          "new_api": "FFMAX",
          "old_text": null,
          "new_text": "FFMAX(sc->stsc_data[i].id, 1)",
          "old_line_content": "                if (i > 0 && sc->stsc_data[i].first <= sc->stsc_data[i-1].first)",
          "new_line_content": "                sc->stsc_data[i].id    = FFMAX(sc->stsc_data[i].id, 1);",
          "content_same": false
        },
        {
          "line": 4732,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    if (version) {",
          "new_line_content": "        base_media_decode_time = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 6783,
          "old_api": null,
          "new_api": "mlp_samplerate",
          "old_text": null,
          "new_text": "mlp_samplerate(ratebits)",
          "old_line_content": "        channel_assignment = channel_assignment1;",
          "new_line_content": "    st->codecpar->sample_rate = mlp_samplerate(ratebits);",
          "content_same": false
        },
        {
          "line": 6784,
          "old_api": null,
          "new_api": "truehd_channels",
          "old_text": null,
          "new_text": "truehd_channels(channel_assignment)",
          "old_line_content": "",
          "new_line_content": "    st->codecpar->channels = truehd_channels(channel_assignment);",
          "content_same": false
        },
        {
          "line": 6785,
          "old_api": null,
          "new_api": "truehd_layout",
          "old_text": null,
          "new_text": "truehd_layout(channel_assignment)",
          "old_line_content": "    st->codecpar->frame_size = 40 << (ratebits & 0x7);",
          "new_line_content": "    st->codecpar->channel_layout = truehd_layout(channel_assignment);",
          "content_same": false
        },
        {
          "line": 2694,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STSC atom\\n\")",
          "old_line_content": "    }",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STSC atom\\n\");",
          "content_same": false
        },
        {
          "line": 6805,
          "old_api": null,
          "new_api": "av_dovi_alloc",
          "old_text": null,
          "new_text": "av_dovi_alloc(&dovi_size)",
          "old_line_content": "    if ((uint64_t)atom.size > (1<<30) || atom.size < 4)",
          "new_line_content": "    dovi = av_dovi_alloc(&dovi_size);",
          "content_same": false
        },
        {
          "line": 2711,
          "old_api": null,
          "new_api": "mov_stsc_index_valid",
          "old_text": null,
          "new_text": "mov_stsc_index_valid(index, sc->stsc_count)",
          "old_line_content": "{",
          "new_line_content": "    if (mov_stsc_index_valid(index, sc->stsc_count))",
          "content_same": false
        },
        {
          "line": 6807,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 6809,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "    if (!dovi)",
          "new_line_content": "    dovi->dv_version_major = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 4762,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"trun track id unknown, no tfhd was found\\n\")",
          "old_line_content": "    MOVFragmentStreamInfo * frag_stream_info;",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"trun track id unknown, no tfhd was found\\n\");",
          "content_same": false
        },
        {
          "line": 2715,
          "old_api": null,
          "new_api": "av_assert0",
          "old_text": null,
          "new_text": "av_assert0(sc->stsc_data[index].first <= sc->chunk_count)",
          "old_line_content": "        chunk_count = sc->stsc_data[index + 1].first - sc->stsc_data[index].first;",
          "new_line_content": "        av_assert0(sc->stsc_data[index].first <= sc->chunk_count);",
          "content_same": false
        },
        {
          "line": 6819,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "    dovi->el_present_flag   = (buf >> 1) & 0x01;    // 1 bit",
          "new_line_content": "        buf = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 4773,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"could not find corresponding track id %u\\n\", frag->track_id)",
          "old_line_content": "        }",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"could not find corresponding track id %u\\n\", frag->track_id);",
          "content_same": false
        },
        {
          "line": 6827,
          "old_api": null,
          "new_api": "av_stream_add_side_data",
          "old_text": null,
          "new_text": "av_stream_add_side_data(st, AV_PKT_DATA_DOVI_CONF,\n                                  (uint8_t *)dovi, dovi_size)",
          "old_line_content": "        dovi->dv_bl_signal_compatibility_id = 0;",
          "new_line_content": "    ret = av_stream_add_side_data(st, AV_PKT_DATA_DOVI_CONF,",
          "content_same": false
        },
        {
          "line": 2733,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    st = c->fc->streams[c->fc->nb_streams-1];",
          "new_line_content": "    avio_rb32(pb); // version + flags",
          "content_same": false
        },
        {
          "line": 2735,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "",
          "new_line_content": "    entries = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 2737,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"Duplicated STPS atom\\n\")",
          "old_line_content": "",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Duplicated STPS atom\\n\");",
          "content_same": false
        },
        {
          "line": 6834,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c, AV_LOG_TRACE, \"DOVI in dvcC/dvvC box, version: %d.%d, profile: %d, level: %d, \"\n           \"rpu flag: %d, el flag: %d, bl flag: %d, compatibility id: %d\\n\",\n           dovi->dv_version_major, dovi->dv_version_minor,\n           dovi->dv_profile, dovi->dv_level,\n           dovi->rpu_present_flag,\n           dovi->el_present_flag,\n           dovi->bl_present_flag,\n           dovi->dv_bl_signal_compatibility_id\n        )",
          "old_line_content": "        return ret;",
          "new_line_content": "    av_log(c, AV_LOG_TRACE, \"DOVI in dvcC/dvvC box, version: %d.%d, profile: %d, level: %d, \"",
          "content_same": false
        },
        {
          "line": 4788,
          "old_api": null,
          "new_api": "get_frag_stream_info",
          "old_text": null,
          "new_text": "get_frag_stream_info(&c->frag_index, i, frag->track_id)",
          "old_line_content": "    // New index entries will be inserted before the index_entry found.",
          "new_line_content": "        frag_stream_info = get_frag_stream_info(&c->frag_index, i, frag->track_id);",
          "content_same": false
        },
        {
          "line": 2742,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    sc->stps_count = 0;",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 4795,
          "old_api": null,
          "new_api": "av_assert0",
          "old_text": null,
          "new_text": "av_assert0(index_entry_pos <= st->nb_index_entries)",
          "old_line_content": "            break;",
          "new_line_content": "    av_assert0(index_entry_pos <= st->nb_index_entries);",
          "content_same": false
        },
        {
          "line": 4797,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "    }",
          "new_line_content": "    avio_r8(pb); /* version */",
          "content_same": false
        },
        {
          "line": 2751,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STPS atom\\n\")",
          "old_line_content": "    sc->stps_count = i;",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STPS atom\\n\");",
          "content_same": false
        },
        {
          "line": 4799,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "",
          "new_line_content": "    entries = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 6848,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('A','C','L','R')",
          "old_line_content": "}",
          "new_line_content": "{ MKTAG('A','C','L','R'), mov_read_aclr },",
          "content_same": false
        },
        {
          "line": 6849,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('A','P','R','G')",
          "old_line_content": "",
          "new_line_content": "{ MKTAG('A','P','R','G'), mov_read_avid },",
          "content_same": false
        },
        {
          "line": 6850,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('A','A','L','P')",
          "old_line_content": "static const MOVParseTableEntry mov_default_parse_table[] = {",
          "new_line_content": "{ MKTAG('A','A','L','P'), mov_read_avid },",
          "content_same": false
        },
        {
          "line": 4804,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "",
          "new_line_content": "    if (flags & MOV_TRUN_DATA_OFFSET)        data_offset        = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 4805,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    if ((uint64_t)entries+sc->ctts_count >= UINT_MAX/sizeof(*sc->ctts_data))",
          "new_line_content": "    if (flags & MOV_TRUN_FIRST_SAMPLE_FLAGS) first_sample_flags = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 4815,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_DEBUG, \"found mfra time %\"PRId64\n                    \", using it for pts\\n\", pts)",
          "old_line_content": "        } else if (frag_stream_info->first_tfra_pts != AV_NOPTS_VALUE &&",
          "new_line_content": "            av_log(c->fc, AV_LOG_DEBUG, \"found mfra time %\"PRId64",
          "content_same": false
        },
        {
          "line": 2769,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "    st = c->fc->streams[c->fc->nb_streams-1];",
          "new_line_content": "    avio_r8(pb); /* version */",
          "content_same": false
        },
        {
          "line": 2770,
          "old_api": null,
          "new_api": "avio_rb24",
          "old_text": null,
          "new_text": "avio_rb24(pb)",
          "old_line_content": "    sc = st->priv_data;",
          "new_line_content": "    avio_rb24(pb); /* flags */",
          "content_same": false
        },
        {
          "line": 4820,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_DEBUG, \"found mfra time %\"PRId64\n                    \", using it for dts\\n\", pts)",
          "old_line_content": "        } else if (frag_stream_info->first_tfra_pts != AV_NOPTS_VALUE &&",
          "new_line_content": "            av_log(c->fc, AV_LOG_DEBUG, \"found mfra time %\"PRId64",
          "content_same": false
        },
        {
          "line": 2774,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_TRACE, \"keyframe_count = %u\\n\", entries)",
          "old_line_content": "",
          "new_line_content": "    av_log(c->fc, AV_LOG_TRACE, \"keyframe_count = %u\\n\", entries);",
          "content_same": false
        },
        {
          "line": 4826,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_DEBUG, \"found sidx time %\"PRId64\n                    \", using it for pts\\n\", pts)",
          "old_line_content": "            // FIXME: sidx earliest_presentation_time is *PTS*, s.b.",
          "new_line_content": "            av_log(c->fc, AV_LOG_DEBUG, \"found sidx time %\"PRId64",
          "content_same": false
        },
        {
          "line": 4830,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_DEBUG, \"found tfdt time %\"PRId64\n                    \", using it for dts\\n\", dts)",
          "old_line_content": "                    \", using it for pts\\n\", pts);",
          "new_line_content": "            av_log(c->fc, AV_LOG_DEBUG, \"found tfdt time %\"PRId64",
          "content_same": false
        },
        {
          "line": 2784,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"Duplicated STSS atom\\n\")",
          "old_line_content": "        return 0;",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Duplicated STSS atom\\n\");",
          "content_same": false
        },
        {
          "line": 4834,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_DEBUG, \"found track end time %\"PRId64\n                    \", using it for dts\\n\", dts)",
          "old_line_content": "                    \", using it for dts\\n\", dts);",
          "new_line_content": "            av_log(c->fc, AV_LOG_DEBUG, \"found track end time %\"PRId64",
          "content_same": false
        },
        {
          "line": 2789,
          "old_api": null,
          "new_api": "av_malloc_array",
          "old_text": null,
          "new_text": "av_malloc_array(entries, sizeof(*sc->keyframes))",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "    sc->keyframes = av_malloc_array(entries, sizeof(*sc->keyframes));",
          "content_same": false
        },
        {
          "line": 2791,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    sc->keyframe_count = 0;",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 4839,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_DEBUG, \"found track end time %\"PRId64\n                \", using it for dts\\n\", dts)",
          "old_line_content": "        }",
          "new_line_content": "        av_log(c->fc, AV_LOG_DEBUG, \"found track end time %\"PRId64",
          "content_same": false
        },
        {
          "line": 4844,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_TRACE, \"first sample flags 0x%x\\n\", first_sample_flags)",
          "old_line_content": "    }",
          "new_line_content": "    av_log(c->fc, AV_LOG_TRACE, \"first sample flags 0x%x\\n\", first_sample_flags);",
          "content_same": false
        },
        {
          "line": 2800,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STSS atom\\n\")",
          "old_line_content": "    sc->keyframe_count = i;",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STSS atom\\n\");",
          "content_same": false
        },
        {
          "line": 4849,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Failed to add index entry\\n\")",
          "old_line_content": "    // realloc space for new index entries",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Failed to add index entry\\n\");",
          "content_same": false
        },
        {
          "line": 4855,
          "old_api": null,
          "new_api": "av_fast_realloc",
          "old_text": null,
          "new_text": "av_fast_realloc(st->index_entries,\n                                  &st->index_entries_allocated_size,\n                                  requested_size)",
          "old_line_content": "        return 0;",
          "new_line_content": "    new_entries = av_fast_realloc(st->index_entries,",
          "content_same": false
        },
        {
          "line": 4859,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "                                  &st->index_entries_allocated_size,",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 4864,
          "old_api": null,
          "new_api": "av_fast_realloc",
          "old_text": null,
          "new_text": "av_fast_realloc(sc->ctts_data, &sc->ctts_allocated_size,\n                                requested_size)",
          "old_line_content": "",
          "new_line_content": "    ctts_data = av_fast_realloc(sc->ctts_data, &sc->ctts_allocated_size,",
          "content_same": false
        },
        {
          "line": 2821,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "    st = c->fc->streams[c->fc->nb_streams-1];",
          "new_line_content": "    avio_r8(pb); /* version */",
          "content_same": false
        },
        {
          "line": 2822,
          "old_api": null,
          "new_api": "avio_rb24",
          "old_text": null,
          "new_text": "avio_rb24(pb)",
          "old_line_content": "    sc = st->priv_data;",
          "new_line_content": "    avio_rb24(pb); /* flags */",
          "content_same": false
        },
        {
          "line": 4873,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset((uint8_t*)(sc->ctts_data) + old_ctts_allocated_size, 0,\n           sc->ctts_allocated_size - old_ctts_allocated_size)",
          "old_line_content": "    // In case there were samples without ctts entries, ensure they get",
          "new_line_content": "    memset((uint8_t*)(sc->ctts_data) + old_ctts_allocated_size, 0,",
          "content_same": false
        },
        {
          "line": 4878,
          "old_api": null,
          "new_api": "memmove",
          "old_text": null,
          "new_text": "memmove(st->index_entries + index_entry_pos + entries,\n                st->index_entries + index_entry_pos,\n                sizeof(*st->index_entries) *\n                (st->nb_index_entries - index_entry_pos))",
          "old_line_content": "",
          "new_line_content": "        memmove(st->index_entries + index_entry_pos + entries,",
          "content_same": false
        },
        {
          "line": 2832,
          "old_api": null,
          "new_api": "avio_rb24",
          "old_text": null,
          "new_text": "avio_rb24(pb)",
          "old_line_content": "        field_size = 32;",
          "new_line_content": "        avio_rb24(pb); /* reserved */",
          "content_same": false
        },
        {
          "line": 2833,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "    } else {",
          "new_line_content": "        field_size = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 4882,
          "old_api": null,
          "new_api": "memmove",
          "old_text": null,
          "new_text": "memmove(sc->ctts_data + index_entry_pos + entries,\n                sc->ctts_data + index_entry_pos,\n                sizeof(*sc->ctts_data) * (sc->ctts_count - index_entry_pos))",
          "old_line_content": "                st->index_entries + index_entry_pos,",
          "new_line_content": "        memmove(sc->ctts_data + index_entry_pos + entries,",
          "content_same": false
        },
        {
          "line": 2837,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_TRACE, \"sample_size = %u sample_count = %u\\n\", sc->sample_size, entries)",
          "old_line_content": "    }",
          "new_line_content": "    av_log(c->fc, AV_LOG_TRACE, \"sample_size = %u sample_count = %u\\n\", sc->sample_size, entries);",
          "content_same": false
        },
        {
          "line": 2844,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Invalid sample field size %u\\n\", field_size)",
          "old_line_content": "        return 0;",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Invalid sample field size %u\\n\", field_size);",
          "content_same": false
        },
        {
          "line": 2853,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"Duplicated STSZ atom\\n\")",
          "old_line_content": "    if (entries >= (UINT_MAX - 4) / field_size)",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Duplicated STSZ atom\\n\");",
          "content_same": false
        },
        {
          "line": 2854,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(sc->sample_sizes)",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "    av_free(sc->sample_sizes);",
          "content_same": false
        },
        {
          "line": 2858,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    sc->sample_count = 0;",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 6954,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Atoms too deeply nested\\n\")",
          "old_line_content": "    int i;",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Atoms too deeply nested\\n\");",
          "content_same": false
        },
        {
          "line": 4908,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        int keyframe = 0;",
          "new_line_content": "        if (flags & MOV_TRUN_SAMPLE_DURATION) sample_duration = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 4909,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        int index_entry_flags = 0;",
          "new_line_content": "        if (flags & MOV_TRUN_SAMPLE_SIZE)     sample_size     = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 2862,
          "old_api": null,
          "new_api": "av_malloc",
          "old_text": null,
          "new_text": "av_malloc(num_bytes+AV_INPUT_BUFFER_PADDING_SIZE)",
          "old_line_content": "",
          "new_line_content": "    buf = av_malloc(num_bytes+AV_INPUT_BUFFER_PADDING_SIZE);",
          "content_same": false
        },
        {
          "line": 4910,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "",
          "new_line_content": "        if (flags & MOV_TRUN_SAMPLE_FLAGS)    sample_flags    = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 2864,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&sc->sample_sizes)",
          "old_line_content": "",
          "new_line_content": "        av_freep(&sc->sample_sizes);",
          "content_same": false
        },
        {
          "line": 6961,
          "old_api": null,
          "new_api": "avio_feof",
          "old_text": null,
          "new_text": "avio_feof(pb)",
          "old_line_content": "",
          "new_line_content": "    while (total_size <= atom.size - 8 && !avio_feof(pb)) {",
          "content_same": false
        },
        {
          "line": 2870,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&sc->sample_sizes)",
          "old_line_content": "",
          "new_line_content": "        av_freep(&sc->sample_sizes);",
          "content_same": false
        },
        {
          "line": 6966,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        a.size = atom.size;",
          "new_line_content": "            a.size = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 2872,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"STSZ atom truncated\\n\")",
          "old_line_content": "    if (ret < 0) {",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"STSZ atom truncated\\n\");",
          "content_same": false
        },
        {
          "line": 4921,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_DEBUG,\n                   \"pts %\"PRId64\" calculated dts %\"PRId64\n                   \" sc->dts_shift %d ctts.duration %d\"\n                   \" sc->time_offset %\"PRId64\n                   \" flags & MOV_TRUN_SAMPLE_CTS %d\\n\",\n                   pts, dts,\n                   sc->dts_shift, ctts_duration,\n                   sc->time_offset, flags & MOV_TRUN_SAMPLE_CTS)",
          "old_line_content": "            } else {",
          "new_line_content": "            av_log(c->fc, AV_LOG_DEBUG,",
          "content_same": false
        },
        {
          "line": 6967,
          "old_api": null,
          "new_api": "avio_rl32",
          "old_text": null,
          "new_text": "avio_rl32(pb)",
          "old_line_content": "        a.type=0;",
          "new_line_content": "            a.type = avio_rl32(pb);",
          "content_same": false
        },
        {
          "line": 6968,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('f','r','e','e')",
          "old_line_content": "        if (atom.size >= 8) {",
          "new_line_content": "            if (((a.type == MKTAG('f','r','e','e') && c->moov_retry) ||",
          "content_same": false
        },
        {
          "line": 2876,
          "old_api": null,
          "new_api": "init_get_bits",
          "old_text": null,
          "new_text": "init_get_bits(&gb, buf, 8*num_bytes)",
          "old_line_content": "        return 0;",
          "new_line_content": "    init_get_bits(&gb, buf, 8*num_bytes);",
          "content_same": false
        },
        {
          "line": 6974,
          "old_api": null,
          "new_api": "avio_read",
          "old_text": null,
          "new_text": "avio_read(pb, buf, 8)",
          "old_line_content": "                c->fc->strict_std_compliance < FF_COMPLIANCE_STRICT) {",
          "new_line_content": "                if (avio_read(pb, buf, 8) != 8)",
          "content_same": false
        },
        {
          "line": 6976,
          "old_api": null,
          "new_api": "avio_seek",
          "old_text": null,
          "new_text": "avio_seek(pb, -8, SEEK_CUR)",
          "old_line_content": "                uint32_t *type = (uint32_t *)buf + 1;",
          "new_line_content": "                avio_seek(pb, -8, SEEK_CUR);",
          "content_same": false
        },
        {
          "line": 2881,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(buf)",
          "old_line_content": "    for (i = 0; i < entries && !pb->eof_reached; i++) {",
          "new_line_content": "            av_free(buf);",
          "content_same": false
        },
        {
          "line": 6978,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('c','m','o','v')",
          "old_line_content": "                    return AVERROR_INVALIDDATA;",
          "new_line_content": "                    *type == MKTAG('c','m','o','v')) {",
          "content_same": false
        },
        {
          "line": 6984,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('m','o','o','v')",
          "old_line_content": "                }",
          "new_line_content": "                atom.type != MKTAG('m','o','o','v'))",
          "content_same": false
        },
        {
          "line": 2890,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(buf)",
          "old_line_content": "",
          "new_line_content": "    av_free(buf);",
          "content_same": false
        },
        {
          "line": 6988,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Broken file, trak/mdat not at top-level\\n\")",
          "old_line_content": "            {",
          "new_line_content": "                    av_log(c->fc, AV_LOG_ERROR, \"Broken file, trak/mdat not at top-level\\n\");",
          "content_same": false
        },
        {
          "line": 6996,
          "old_api": null,
          "new_api": "avio_rb64",
          "old_text": null,
          "new_text": "avio_rb64(pb)",
          "old_line_content": "            }",
          "new_line_content": "                a.size = avio_rb64(pb) - 8;",
          "content_same": false
        },
        {
          "line": 7000,
          "old_api": null,
          "new_api": "\"PRId64\"\\n\",\n               av_fourcc2str(a.type)",
          "old_text": null,
          "new_text": "\"PRId64\"\\n\",\n               av_fourcc2str(a.type)",
          "old_line_content": "                total_size += 8;",
          "new_line_content": "        av_log(c->fc, AV_LOG_TRACE, \"type:'%s' parent:'%s' sz: %\"PRId64\" %\"PRId64\" %\"PRId64\"\\n\",",
          "content_same": false
        },
        {
          "line": 7001,
          "old_api": null,
          "new_api": "av_fourcc2str",
          "old_text": null,
          "new_text": "av_fourcc2str(atom.type)",
          "old_line_content": "            }",
          "new_line_content": "               av_fourcc2str(a.type), av_fourcc2str(atom.type), a.size, total_size, atom.size);",
          "content_same": false
        },
        {
          "line": 4957,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_TRACE, \"AVIndex stream %d, sample %d, offset %\"PRIx64\", dts %\"PRId64\", \"\n                \"size %u, distance %d, keyframe %d\\n\", st->index,\n                index_entry_pos, offset, dts, sample_size, distance, keyframe)",
          "old_line_content": "        sc->ctts_data[index_entry_pos].duration = ctts_duration;",
          "new_line_content": "        av_log(c->fc, AV_LOG_TRACE, \"AVIndex stream %d, sample %d, offset %\"PRIx64\", dts %\"PRId64\", \"",
          "content_same": false
        },
        {
          "line": 7008,
          "old_api": null,
          "new_api": "FFMIN",
          "old_text": null,
          "new_text": "FFMIN(a.size, atom.size - total_size)",
          "old_line_content": "        a.size -= 8;",
          "new_line_content": "        a.size = FFMIN(a.size, atom.size - total_size);",
          "content_same": false
        },
        {
          "line": 2913,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "    st = c->fc->streams[c->fc->nb_streams-1];",
          "new_line_content": "    avio_r8(pb); /* version */",
          "content_same": false
        },
        {
          "line": 2914,
          "old_api": null,
          "new_api": "avio_rb24",
          "old_text": null,
          "new_text": "avio_rb24(pb)",
          "old_line_content": "    sc = st->priv_data;",
          "new_line_content": "    avio_rb24(pb); /* flags */",
          "content_same": false
        },
        {
          "line": 2915,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "",
          "new_line_content": "    entries = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 2921,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"Duplicated STTS atom\\n\")",
          "old_line_content": "            c->fc->nb_streams-1, entries);",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Duplicated STTS atom\\n\");",
          "content_same": false
        },
        {
          "line": 2922,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&sc->stts_data)",
          "old_line_content": "",
          "new_line_content": "    av_freep(&sc->stts_data);",
          "content_same": false
        },
        {
          "line": 7017,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('u','d','t','a')",
          "old_line_content": "            }",
          "new_line_content": "        if (!parse && (atom.type == MKTAG('u','d','t','a') ||",
          "content_same": false
        },
        {
          "line": 7018,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('i','l','s','t')",
          "old_line_content": "",
          "new_line_content": "                       atom.type == MKTAG('i','l','s','t')))",
          "content_same": false
        },
        {
          "line": 7024,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('m','e','t','a')",
          "old_line_content": "        // Supports parsing the QuickTime Metadata Keys.",
          "new_line_content": "            atom.type == MKTAG('m','e','t','a') &&",
          "content_same": false
        },
        {
          "line": 7025,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('k','e','y','s')",
          "old_line_content": "        // https://developer.apple.com/library/mac/documentation/QuickTime/QTFF/Metadata/Metadata.html",
          "new_line_content": "            a.type == MKTAG('k','e','y','s') &&",
          "content_same": false
        },
        {
          "line": 2930,
          "old_api": null,
          "new_api": "FFMAX",
          "old_text": null,
          "new_text": "FFMAX(i + 1, 1024 * 1024)",
          "old_line_content": "    for (i = 0; i < entries && !pb->eof_reached; i++) {",
          "new_line_content": "        unsigned int min_entries = FFMIN(FFMAX(i + 1, 1024 * 1024), entries);",
          "content_same": false
        },
        {
          "line": 2931,
          "old_api": null,
          "new_api": "av_fast_realloc",
          "old_text": null,
          "new_text": "av_fast_realloc(sc->stts_data, &alloc_size,\n                                             min_entries * sizeof(*sc->stts_data))",
          "old_line_content": "        int sample_duration;",
          "new_line_content": "        MOVStts *stts_data = av_fast_realloc(sc->stts_data, &alloc_size,",
          "content_same": false
        },
        {
          "line": 4978,
          "old_api": null,
          "new_api": "memmove",
          "old_text": null,
          "new_text": "memmove(st->index_entries + index_entry_pos,\n                st->index_entries + index_entry_pos + gap,\n                sizeof(*st->index_entries) *\n                (st->nb_index_entries - (index_entry_pos + gap)))",
          "old_line_content": "        // EOF found before reading all entries.  Fix the hole this would",
          "new_line_content": "        memmove(st->index_entries + index_entry_pos,",
          "content_same": false
        },
        {
          "line": 4982,
          "old_api": null,
          "new_api": "memmove",
          "old_text": null,
          "new_text": "memmove(sc->ctts_data + index_entry_pos,\n                sc->ctts_data + index_entry_pos + gap,\n                sizeof(*sc->ctts_data) *\n                (sc->ctts_count - (index_entry_pos + gap)))",
          "old_line_content": "                st->index_entries + index_entry_pos + gap,",
          "new_line_content": "        memmove(sc->ctts_data + index_entry_pos,",
          "content_same": false
        },
        {
          "line": 7031,
          "old_api": null,
          "new_api": "avio_skip",
          "old_text": null,
          "new_text": "avio_skip(pb, a.size)",
          "old_line_content": "        }",
          "new_line_content": "            avio_skip(pb, a.size);",
          "content_same": false
        },
        {
          "line": 2936,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "        if (!stts_data) {",
          "new_line_content": "            return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 7033,
          "old_api": null,
          "new_api": "avio_tell",
          "old_text": null,
          "new_text": "avio_tell(pb)",
          "old_line_content": "        if (!parse) { /* skip leaf atoms data */",
          "new_line_content": "            int64_t start_pos = avio_tell(pb);",
          "content_same": false
        },
        {
          "line": 7035,
          "old_api": null,
          "new_api": "parse",
          "old_text": null,
          "new_text": "parse(c, pb, a)",
          "old_line_content": "        } else {",
          "new_line_content": "            int err = parse(c, pb, a);",
          "content_same": false
        },
        {
          "line": 2941,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        sc->stts_count = min_entries;",
          "new_line_content": "        sample_count=avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 2942,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        sc->stts_data = stts_data;",
          "new_line_content": "        sample_duration = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 7042,
          "old_api": null,
          "new_api": "avio_size",
          "old_text": null,
          "new_text": "avio_size(pb)",
          "old_line_content": "            }",
          "new_line_content": "                 start_pos + a.size == avio_size(pb))) {",
          "content_same": false
        },
        {
          "line": 2947,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_TRACE, \"sample_count=%d, sample_duration=%d\\n\",\n                sample_count, sample_duration)",
          "old_line_content": "        sc->stts_data[i].count= sample_count;",
          "new_line_content": "        av_log(c->fc, AV_LOG_TRACE, \"sample_count=%d, sample_duration=%d\\n\",",
          "content_same": false
        },
        {
          "line": 7048,
          "old_api": null,
          "new_api": "avio_tell",
          "old_text": null,
          "new_text": "avio_tell(pb)",
          "old_line_content": "                c->atom_depth --;",
          "new_line_content": "            left = a.size - avio_tell(pb) + start_pos;",
          "content_same": false
        },
        {
          "line": 7050,
          "old_api": null,
          "new_api": "avio_skip",
          "old_text": null,
          "new_text": "avio_skip(pb, left)",
          "old_line_content": "            }",
          "new_line_content": "                avio_skip(pb, left);",
          "content_same": false
        },
        {
          "line": 7052,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING,\n                       \"overread end of atom '%.4s' by %\"PRId64\" bytes\\n\",\n                       (char*)&a.type, -left)",
          "old_line_content": "            if (left > 0) /* skip garbage at atom end */",
          "new_line_content": "                av_log(c->fc, AV_LOG_WARNING,",
          "content_same": false
        },
        {
          "line": 5010,
          "old_api": null,
          "new_api": "fix_frag_index_entries",
          "old_text": null,
          "new_text": "fix_frag_index_entries(&c->frag_index, next_frag_index,\n                           frag->track_id, entries)",
          "old_line_content": "    // If a hole was created to insert the new index_entries into,",
          "new_line_content": "    fix_frag_index_entries(&c->frag_index, next_frag_index,",
          "content_same": false
        },
        {
          "line": 2965,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STTS atom\\n\")",
          "old_line_content": "    }",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STTS atom\\n\");",
          "content_same": false
        },
        {
          "line": 5014,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted TRUN atom\\n\")",
          "old_line_content": "                           frag->track_id, entries);",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted TRUN atom\\n\");",
          "content_same": false
        },
        {
          "line": 7063,
          "old_api": null,
          "new_api": "avio_skip",
          "old_text": null,
          "new_text": "avio_skip(pb, atom.size - total_size)",
          "old_line_content": "    }",
          "new_line_content": "        avio_skip(pb, atom.size - total_size);",
          "content_same": false
        },
        {
          "line": 2971,
          "old_api": null,
          "new_api": "FFMIN",
          "old_text": null,
          "new_text": "FFMIN(st->duration, duration)",
          "old_line_content": "",
          "new_line_content": "        st->duration= FFMIN(st->duration, duration);",
          "content_same": false
        },
        {
          "line": 5029,
          "old_api": null,
          "new_api": "avio_tell",
          "old_text": null,
          "new_text": "avio_tell(pb)",
          "old_line_content": "",
          "new_line_content": "    int64_t offset = avio_tell(pb) + atom.size, pts, timestamp;",
          "content_same": false
        },
        {
          "line": 7082,
          "old_api": null,
          "new_api": "AV_RL32",
          "old_text": null,
          "new_text": "AV_RL32(p->buf + offset + 4)",
          "old_line_content": "        /* ignore invalid offset */",
          "new_line_content": "        tag = AV_RL32(p->buf + offset + 4);",
          "content_same": false
        },
        {
          "line": 2987,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "    st = c->fc->streams[c->fc->nb_streams - 1];",
          "new_line_content": "    avio_r8(pb); /* version */",
          "content_same": false
        },
        {
          "line": 2988,
          "old_api": null,
          "new_api": "avio_rb24",
          "old_text": null,
          "new_text": "avio_rb24(pb)",
          "old_line_content": "    sc = st->priv_data;",
          "new_line_content": "    avio_rb24(pb); /* flags */",
          "content_same": false
        },
        {
          "line": 5037,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "    MOVStreamContext *sc, *ref_sc = NULL;",
          "new_line_content": "    version = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 5039,
          "old_api": null,
          "new_api": "avpriv_request_sample",
          "old_text": null,
          "new_text": "avpriv_request_sample(c->fc, \"sidx version %u\", version)",
          "old_line_content": "",
          "new_line_content": "        avpriv_request_sample(c->fc, \"sidx version %u\", version);",
          "content_same": false
        },
        {
          "line": 7087,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('m','d','a','t')",
          "old_line_content": "        /* check for obvious tags */",
          "new_line_content": "        case MKTAG('m','d','a','t'):",
          "content_same": false
        },
        {
          "line": 7089,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('u','d','t','a')",
          "old_line_content": "            moov_offset = offset + 4;",
          "new_line_content": "        case MKTAG('u','d','t','a'): /* Packet Video PVAuthor adds this and a lot of more junk */",
          "content_same": false
        },
        {
          "line": 2995,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"Duplicated SDTP atom\\n\")",
          "old_line_content": "           c->fc->nb_streams - 1, entries);",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Duplicated SDTP atom\\n\");",
          "content_same": false
        },
        {
          "line": 2996,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&sc->sdtp_data)",
          "old_line_content": "",
          "new_line_content": "    av_freep(&sc->sdtp_data);",
          "content_same": false
        },
        {
          "line": 5043,
          "old_api": null,
          "new_api": "avio_rb24",
          "old_text": null,
          "new_text": "avio_rb24(pb)",
          "old_line_content": "        return 0;",
          "new_line_content": "    avio_rb24(pb); // flags",
          "content_same": false
        },
        {
          "line": 5045,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "",
          "new_line_content": "    track_id = avio_rb32(pb); // Reference ID",
          "content_same": false
        },
        {
          "line": 7096,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('f','t','y','p')",
          "old_line_content": "                 offset + 12 > (unsigned int)p->buf_size ||",
          "new_line_content": "            } else if (tag == MKTAG('f','t','y','p') &&",
          "content_same": false
        },
        {
          "line": 3001,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 5053,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"could not find corresponding track id %d\\n\", track_id)",
          "old_line_content": "        }",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"could not find corresponding track id %d\\n\", track_id);",
          "content_same": false
        },
        {
          "line": 7104,
          "old_api": null,
          "new_api": "AV_RB32",
          "old_text": null,
          "new_text": "AV_RB32(p->buf+offset)",
          "old_line_content": "            } else {",
          "new_line_content": "            offset = FFMAX(4, AV_RB32(p->buf+offset)) + offset;",
          "content_same": false
        },
        {
          "line": 5059,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "",
          "new_line_content": "    timescale = av_make_q(1, avio_rb32(pb));",
          "content_same": false
        },
        {
          "line": 7108,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('w','i','d','e')",
          "old_line_content": "            break;",
          "new_line_content": "        case MKTAG('w','i','d','e'):",
          "content_same": false
        },
        {
          "line": 7109,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('f','r','e','e')",
          "old_line_content": "        /* those are more common words, so rate then a bit less */",
          "new_line_content": "        case MKTAG('f','r','e','e'):",
          "content_same": false
        },
        {
          "line": 3014,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(logctx, AV_LOG_WARNING, \"mov_update_dts_shift(): dts_shift set to %d\\n\", INT_MAX)",
          "old_line_content": "{",
          "new_line_content": "            av_log(logctx, AV_LOG_WARNING, \"mov_update_dts_shift(): dts_shift set to %d\\n\", INT_MAX);",
          "content_same": false
        },
        {
          "line": 5067,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    }",
          "new_line_content": "        pts = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 5068,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "",
          "new_line_content": "        offset += avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 7117,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('u','u','i','d')",
          "old_line_content": "            break;",
          "new_line_content": "        case MKTAG('u','u','i','d'):",
          "content_same": false
        },
        {
          "line": 5076,
          "old_api": null,
          "new_api": "avio_rb16",
          "old_text": null,
          "new_text": "avio_rb16(pb)",
          "old_line_content": "",
          "new_line_content": "    item_count = avio_rb16(pb);",
          "content_same": false
        },
        {
          "line": 3032,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "    st = c->fc->streams[c->fc->nb_streams-1];",
          "new_line_content": "    avio_r8(pb); /* version */",
          "content_same": false
        },
        {
          "line": 3033,
          "old_api": null,
          "new_api": "avio_rb24",
          "old_text": null,
          "new_text": "avio_rb24(pb)",
          "old_line_content": "    sc = st->priv_data;",
          "new_line_content": "    avio_rb24(pb); /* flags */",
          "content_same": false
        },
        {
          "line": 3034,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "",
          "new_line_content": "    entries = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 5081,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    for (i = 0; i < item_count; i++) {",
          "new_line_content": "        uint32_t size = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 5082,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        int index;",
          "new_line_content": "        uint32_t duration = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 7134,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('h','d','l','r')",
          "old_line_content": "",
          "new_line_content": "            if(AV_RL32(p->buf + offset     ) == MKTAG('h','d','l','r') &&",
          "content_same": false
        },
        {
          "line": 7135,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('m','h','l','r')",
          "old_line_content": "        while(offset < (p->buf_size - 16)){ /* Sufficient space */",
          "new_line_content": "               AV_RL32(p->buf + offset +  8) == MKTAG('m','h','l','r') &&",
          "content_same": false
        },
        {
          "line": 5088,
          "old_api": null,
          "new_api": "av_rescale_q",
          "old_text": null,
          "new_text": "av_rescale_q(pts, timescale, st->time_base)",
          "old_line_content": "            return AVERROR_PATCHWELCOME;",
          "new_line_content": "        timestamp = av_rescale_q(pts, timescale, st->time_base);",
          "content_same": false
        },
        {
          "line": 7136,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('M','P','E','G')",
          "old_line_content": "               /* We found an actual hdlr atom */",
          "new_line_content": "               AV_RL32(p->buf + offset + 12) == MKTAG('M','P','E','G')){",
          "content_same": false
        },
        {
          "line": 3042,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&sc->ctts_data)",
          "old_line_content": "        return 0;",
          "new_line_content": "    av_freep(&sc->ctts_data);",
          "content_same": false
        },
        {
          "line": 3043,
          "old_api": null,
          "new_api": "av_fast_realloc",
          "old_text": null,
          "new_text": "av_fast_realloc(NULL, &sc->ctts_allocated_size, entries * sizeof(*sc->ctts_data))",
          "old_line_content": "    if (entries >= UINT_MAX / sizeof(*sc->ctts_data))",
          "new_line_content": "    sc->ctts_data = av_fast_realloc(NULL, &sc->ctts_allocated_size, entries * sizeof(*sc->ctts_data));",
          "content_same": false
        },
        {
          "line": 3049,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "",
          "new_line_content": "        int duration =avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 5103,
          "old_api": null,
          "new_api": "avio_size",
          "old_text": null,
          "new_text": "avio_size(pb)",
          "old_line_content": "",
          "new_line_content": "    if (offset == avio_size(pb)) {",
          "content_same": false
        },
        {
          "line": 3058,
          "old_api": null,
          "new_api": "add_ctts_entry",
          "old_text": null,
          "new_text": "add_ctts_entry(&sc->ctts_data, &ctts_count, &sc->ctts_allocated_size,\n                       count, duration)",
          "old_line_content": "            continue;",
          "new_line_content": "        add_ctts_entry(&sc->ctts_data, &ctts_count, &sc->ctts_allocated_size,",
          "content_same": false
        },
        {
          "line": 3065,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"CTTS invalid\\n\")",
          "old_line_content": "                count, duration);",
          "new_line_content": "            av_log(c->fc, AV_LOG_WARNING, \"CTTS invalid\\n\");",
          "content_same": false
        },
        {
          "line": 3066,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&sc->ctts_data)",
          "old_line_content": "",
          "new_line_content": "            av_freep(&sc->ctts_data);",
          "content_same": false
        },
        {
          "line": 3072,
          "old_api": null,
          "new_api": "mov_update_dts_shift",
          "old_text": null,
          "new_text": "mov_update_dts_shift(sc, duration, c->fc)",
          "old_line_content": "        }",
          "new_line_content": "            mov_update_dts_shift(sc, duration, c->fc);",
          "content_same": false
        },
        {
          "line": 5122,
          "old_api": null,
          "new_api": "av_rescale",
          "old_text": null,
          "new_text": "av_rescale(ref_st->duration, sc->time_scale, ref_sc->time_scale)",
          "old_line_content": "            st = c->fc->streams[i];",
          "new_line_content": "                st->duration = sc->track_end = av_rescale(ref_st->duration, sc->time_scale, ref_sc->time_scale);",
          "content_same": false
        },
        {
          "line": 7171,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(s, AV_LOG_ERROR, \"Referenced QT chapter track not found\\n\")",
          "old_line_content": "                break;",
          "new_line_content": "            av_log(s, AV_LOG_ERROR, \"Referenced QT chapter track not found\\n\");",
          "content_same": false
        },
        {
          "line": 3078,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted CTTS atom\\n\")",
          "old_line_content": "    sc->ctts_count = ctts_count;",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted CTTS atom\\n\");",
          "content_same": false
        },
        {
          "line": 7176,
          "old_api": null,
          "new_api": "avio_tell",
          "old_text": null,
          "new_text": "avio_tell(sc->pb)",
          "old_line_content": "        }",
          "new_line_content": "        cur_pos = avio_tell(sc->pb);",
          "content_same": false
        },
        {
          "line": 3082,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_TRACE, \"dts shift %d\\n\", sc->dts_shift)",
          "old_line_content": "        return AVERROR_EOF;",
          "new_line_content": "    av_log(c->fc, AV_LOG_TRACE, \"dts shift %d\\n\", sc->dts_shift);",
          "content_same": false
        },
        {
          "line": 7183,
          "old_api": null,
          "new_api": "avio_seek",
          "old_text": null,
          "new_text": "avio_seek(sc->pb, sample->pos, SEEK_SET)",
          "old_line_content": "            if (st->nb_index_entries) {",
          "new_line_content": "                if (avio_seek(sc->pb, sample->pos, SEEK_SET) != sample->pos) {",
          "content_same": false
        },
        {
          "line": 7184,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(s, AV_LOG_ERROR, \"Failed to retrieve first frame\\n\")",
          "old_line_content": "                // Retrieve the first frame, if possible",
          "new_line_content": "                    av_log(s, AV_LOG_ERROR, \"Failed to retrieve first frame\\n\");",
          "content_same": false
        },
        {
          "line": 7188,
          "old_api": null,
          "new_api": "av_get_packet",
          "old_text": null,
          "new_text": "av_get_packet(sc->pb, &st->attached_pic, sample->size)",
          "old_line_content": "                    goto finish;",
          "new_line_content": "                if (av_get_packet(sc->pb, &st->attached_pic, sample->size) < 0)",
          "content_same": false
        },
        {
          "line": 5141,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "",
          "new_line_content": "    if (avio_rb32(pb) != 0) { /* 0 sized mdat atom... use the 'wide' atom size */",
          "content_same": false
        },
        {
          "line": 5142,
          "old_api": null,
          "new_api": "avio_skip",
          "old_text": null,
          "new_text": "avio_skip(pb, atom.size - 4)",
          "old_line_content": "    if (atom.size < 8)",
          "new_line_content": "        avio_skip(pb, atom.size - 4);",
          "content_same": false
        },
        {
          "line": 5147,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('m','d','a','t')",
          "old_line_content": "    }",
          "new_line_content": "    if (atom.type != MKTAG('m','d','a','t')) {",
          "content_same": false
        },
        {
          "line": 3100,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "    st = c->fc->streams[c->fc->nb_streams-1];",
          "new_line_content": "    version = avio_r8(pb); /* version */",
          "content_same": false
        },
        {
          "line": 3101,
          "old_api": null,
          "new_api": "avio_rb24",
          "old_text": null,
          "new_text": "avio_rb24(pb)",
          "old_line_content": "    sc = st->priv_data;",
          "new_line_content": "    avio_rb24(pb); /* flags */",
          "content_same": false
        },
        {
          "line": 3102,
          "old_api": null,
          "new_api": "avio_rl32",
          "old_text": null,
          "new_text": "avio_rl32(pb)",
          "old_line_content": "",
          "new_line_content": "    grouping_type = avio_rl32(pb);",
          "content_same": false
        },
        {
          "line": 3108,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    if (version == 1)",
          "new_line_content": "    entries = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 7206,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(s, AV_LOG_WARNING, \"ignoring stream duration which is shorter than chapters\\n\")",
          "old_line_content": "                int len, title_len;",
          "new_line_content": "                    av_log(s, AV_LOG_WARNING, \"ignoring stream duration which is shorter than chapters\\n\");",
          "content_same": false
        },
        {
          "line": 3112,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"Duplicated SBGP atom\\n\")",
          "old_line_content": "    if (!entries)",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Duplicated SBGP atom\\n\");",
          "content_same": false
        },
        {
          "line": 3113,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(sc->rap_group)",
          "old_line_content": "        return 0;",
          "new_line_content": "    av_free(sc->rap_group);",
          "content_same": false
        },
        {
          "line": 7210,
          "old_api": null,
          "new_api": "avio_seek",
          "old_text": null,
          "new_text": "avio_seek(sc->pb, sample->pos, SEEK_SET)",
          "old_line_content": "                    end = AV_NOPTS_VALUE;",
          "new_line_content": "                if (avio_seek(sc->pb, sample->pos, SEEK_SET) != sample->pos) {",
          "content_same": false
        },
        {
          "line": 7211,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(s, AV_LOG_ERROR, \"Chapter %d not found in file\\n\", i)",
          "old_line_content": "                }",
          "new_line_content": "                    av_log(s, AV_LOG_ERROR, \"Chapter %d not found in file\\n\", i);",
          "content_same": false
        },
        {
          "line": 5164,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    long cmov_len, moov_len;",
          "new_line_content": "    avio_rb32(pb); /* dcom atom */",
          "content_same": false
        },
        {
          "line": 3117,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    sc->rap_group_count = 0;",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 5165,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('d','c','o','m')",
          "old_line_content": "    int ret = -1;",
          "new_line_content": "    if (avio_rl32(pb) != MKTAG('d','c','o','m'))",
          "content_same": false
        },
        {
          "line": 7216,
          "old_api": null,
          "new_api": "avio_rb16",
          "old_text": null,
          "new_text": "avio_rb16(sc->pb)",
          "old_line_content": "                }",
          "new_line_content": "                len = avio_rb16(sc->pb);",
          "content_same": false
        },
        {
          "line": 3121,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "",
          "new_line_content": "        sc->rap_group[i].index = avio_rb32(pb); /* group_description_index */",
          "content_same": false
        },
        {
          "line": 5172,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('c','m','v','d')",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "    if (avio_rl32(pb) != MKTAG('c','m','v','d'))",
          "content_same": false
        },
        {
          "line": 7220,
          "old_api": null,
          "new_api": "av_mallocz",
          "old_text": null,
          "new_text": "av_mallocz(title_len)",
          "old_line_content": "                if (len > sample->size-2)",
          "new_line_content": "                if (!(title = av_mallocz(title_len)))",
          "content_same": false
        },
        {
          "line": 3127,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted SBGP atom\\n\")",
          "old_line_content": "    sc->rap_group_count = i;",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted SBGP atom\\n\");",
          "content_same": false
        },
        {
          "line": 5179,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 7229,
          "old_api": null,
          "new_api": "avio_rb16",
          "old_text": null,
          "new_text": "avio_rb16(sc->pb)",
          "old_line_content": "                if (!len) {",
          "new_line_content": "                    ch = avio_rb16(sc->pb);",
          "content_same": false
        },
        {
          "line": 7231,
          "old_api": null,
          "new_api": "avio_get_str16be",
          "old_text": null,
          "new_text": "avio_get_str16be(sc->pb, len, title, title_len)",
          "old_line_content": "                } else {",
          "new_line_content": "                        avio_get_str16be(sc->pb, len, title, title_len);",
          "content_same": false
        },
        {
          "line": 7233,
          "old_api": null,
          "new_api": "avio_get_str16le",
          "old_text": null,
          "new_text": "avio_get_str16le(sc->pb, len, title, title_len)",
          "old_line_content": "                    if (ch == 0xfeff)",
          "new_line_content": "                        avio_get_str16le(sc->pb, len, title, title_len);",
          "content_same": false
        },
        {
          "line": 7235,
          "old_api": null,
          "new_api": "AV_WB16",
          "old_text": null,
          "new_text": "AV_WB16(title, ch)",
          "old_line_content": "                    else if (ch == 0xfffe)",
          "new_line_content": "                        AV_WB16(title, ch);",
          "content_same": false
        },
        {
          "line": 5190,
          "old_api": null,
          "new_api": "uncompress (moov_data, (uLongf *) &moov_len, (const Bytef *)cmov_data, cmov_len)",
          "old_text": null,
          "new_text": "uncompress (moov_data, (uLongf *) &moov_len, (const Bytef *)cmov_data, cmov_len)",
          "old_line_content": "        goto free_and_return;",
          "new_line_content": "    if (uncompress (moov_data, (uLongf *) &moov_len, (const Bytef *)cmov_data, cmov_len) != Z_OK)",
          "content_same": false
        },
        {
          "line": 7239,
          "old_api": null,
          "new_api": "avio_get_str",
          "old_text": null,
          "new_text": "avio_get_str(sc->pb, INT_MAX, title + 2, len - 1)",
          "old_line_content": "                        if (len == 1 || len == 2)",
          "new_line_content": "                            avio_get_str(sc->pb, INT_MAX, title + 2, len - 1);",
          "content_same": false
        },
        {
          "line": 5192,
          "old_api": null,
          "new_api": "ffio_init_context",
          "old_text": null,
          "new_text": "ffio_init_context(&ctx, moov_data, moov_len, 0, NULL, NULL, NULL, NULL)",
          "old_line_content": "    ret = AVERROR_INVALIDDATA;",
          "new_line_content": "    if (ffio_init_context(&ctx, moov_data, moov_len, 0, NULL, NULL, NULL, NULL) != 0)",
          "content_same": false
        },
        {
          "line": 7243,
          "old_api": null,
          "new_api": "avpriv_new_chapter",
          "old_text": null,
          "new_text": "avpriv_new_chapter(s, i, st->time_base, sample->timestamp, end, title)",
          "old_line_content": "                    }",
          "new_line_content": "                avpriv_new_chapter(s, i, st->time_base, sample->timestamp, end, title);",
          "content_same": false
        },
        {
          "line": 7244,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&title)",
          "old_line_content": "                }",
          "new_line_content": "                av_freep(&title);",
          "content_same": false
        },
        {
          "line": 5197,
          "old_api": null,
          "new_api": "mov_read_default",
          "old_text": null,
          "new_text": "mov_read_default(c, &ctx, atom)",
          "old_line_content": "    ctx.seekable = AVIO_SEEKABLE_NORMAL;",
          "new_line_content": "    ret = mov_read_default(c, &ctx, atom);",
          "content_same": false
        },
        {
          "line": 5199,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(moov_data)",
          "old_line_content": "    atom.size = moov_len;",
          "new_line_content": "    av_free(moov_data);",
          "content_same": false
        },
        {
          "line": 3152,
          "old_api": null,
          "new_api": "avpriv_request_sample",
          "old_text": null,
          "new_text": "avpriv_request_sample(mov->fc, \"Support for mvhd.timescale = 0 with editlists\")",
          "old_line_content": "",
          "new_line_content": "      avpriv_request_sample(mov->fc, \"Support for mvhd.timescale = 0 with editlists\");",
          "content_same": false
        },
        {
          "line": 7248,
          "old_api": null,
          "new_api": "avio_seek",
          "old_text": null,
          "new_text": "avio_seek(sc->pb, cur_pos, SEEK_SET)",
          "old_line_content": "            }",
          "new_line_content": "        avio_seek(sc->pb, cur_pos, SEEK_SET);",
          "content_same": false
        },
        {
          "line": 5204,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOSYS)",
          "old_line_content": "    return ret;",
          "new_line_content": "    return AVERROR(ENOSYS);",
          "content_same": false
        },
        {
          "line": 7258,
          "old_api": null,
          "new_api": "av_timecode_init",
          "old_text": null,
          "new_text": "av_timecode_init(&tc, rate, flags, 0, s)",
          "old_line_content": "    AVTimecode tc;",
          "new_line_content": "    int ret = av_timecode_init(&tc, rate, flags, 0, s);",
          "content_same": false
        },
        {
          "line": 7262,
          "old_api": null,
          "new_api": "av_timecode_make_string",
          "old_text": null,
          "new_text": "av_timecode_make_string(&tc, buf, value)",
          "old_line_content": "    if (ret < 0)",
          "new_line_content": "                av_timecode_make_string(&tc, buf, value), 0);",
          "content_same": false
        },
        {
          "line": 5219,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "        return 0;",
          "new_line_content": "    version = avio_r8(pb); /* version */",
          "content_same": false
        },
        {
          "line": 5220,
          "old_api": null,
          "new_api": "avio_rb24",
          "old_text": null,
          "new_text": "avio_rb24(pb)",
          "old_line_content": "    sc = c->fc->streams[c->fc->nb_streams-1]->priv_data;",
          "new_line_content": "    avio_rb24(pb); /* flags */",
          "content_same": false
        },
        {
          "line": 5221,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "",
          "new_line_content": "    edit_count = avio_rb32(pb); /* entries */",
          "content_same": false
        },
        {
          "line": 7270,
          "old_api": null,
          "new_api": "avio_tell",
          "old_text": null,
          "new_text": "avio_tell(sc->pb)",
          "old_line_content": "{",
          "new_line_content": "    int64_t cur_pos = avio_tell(sc->pb);",
          "content_same": false
        },
        {
          "line": 5227,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Invalid edit list entry_count: %d for elst atom of size: %\"PRId64\" bytes.\\n\",\n                   edit_count, atom.size + 8)",
          "old_line_content": "    elst_entry_size = version == 1 ? 20 : 12;",
          "new_line_content": "            av_log(c->fc, AV_LOG_ERROR, \"Invalid edit list entry_count: %d for elst atom of size: %\"PRId64\" bytes.\\n\",",
          "content_same": false
        },
        {
          "line": 7276,
          "old_api": null,
          "new_api": "avio_seek",
          "old_text": null,
          "new_text": "avio_seek(sc->pb, st->index_entries->pos, SEEK_SET)",
          "old_line_content": "    if (!st->nb_index_entries)",
          "new_line_content": "    avio_seek(sc->pb, st->index_entries->pos, SEEK_SET);",
          "content_same": false
        },
        {
          "line": 7277,
          "old_api": null,
          "new_api": "avio_skip",
          "old_text": null,
          "new_text": "avio_skip(s->pb, 13)",
          "old_line_content": "        return -1;",
          "new_line_content": "    avio_skip(s->pb, 13);",
          "content_same": false
        },
        {
          "line": 7278,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(s->pb)",
          "old_line_content": "",
          "new_line_content": "    hh = avio_r8(s->pb);",
          "content_same": false
        },
        {
          "line": 5233,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"ELST atom of %\"PRId64\" bytes, bigger than %d entries.\", atom.size, edit_count)",
          "old_line_content": "        } else {",
          "new_line_content": "                av_log(c->fc, AV_LOG_WARNING, \"ELST atom of %\"PRId64\" bytes, bigger than %d entries.\", atom.size, edit_count);",
          "content_same": false
        },
        {
          "line": 7287,
          "old_api": null,
          "new_api": "avio_seek",
          "old_text": null,
          "new_text": "avio_seek(sc->pb, cur_pos, SEEK_SET)",
          "old_line_content": "             hh, mm, ss, drop ? ';' : ':', ff);",
          "new_line_content": "    avio_seek(sc->pb, cur_pos, SEEK_SET);",
          "content_same": false
        },
        {
          "line": 5241,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"Duplicated ELST atom\\n\")",
          "old_line_content": "    if (!edit_count)",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Duplicated ELST atom\\n\");",
          "content_same": false
        },
        {
          "line": 5242,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(sc->elst_data)",
          "old_line_content": "        return 0;",
          "new_line_content": "    av_free(sc->elst_data);",
          "content_same": false
        },
        {
          "line": 3196,
          "old_api": null,
          "new_api": "av_assert0",
          "old_text": null,
          "new_text": "av_assert0(index)",
          "old_line_content": "    int64_t i = 0;",
          "new_line_content": "    av_assert0(index);",
          "content_same": false
        },
        {
          "line": 5246,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    sc->elst_count = 0;",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 7295,
          "old_api": null,
          "new_api": "avio_tell",
          "old_text": null,
          "new_text": "avio_tell(sc->pb)",
          "old_line_content": "{",
          "new_line_content": "    int64_t cur_pos = avio_tell(sc->pb);",
          "content_same": false
        },
        {
          "line": 5248,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_TRACE, \"track[%u].edit_count = %i\\n\", c->fc->nb_streams - 1, edit_count)",
          "old_line_content": "    if (!sc->elst_data)",
          "new_line_content": "    av_log(c->fc, AV_LOG_TRACE, \"track[%u].edit_count = %i\\n\", c->fc->nb_streams - 1, edit_count);",
          "content_same": false
        },
        {
          "line": 5253,
          "old_api": null,
          "new_api": "avio_rb64",
          "old_text": null,
          "new_text": "avio_rb64(pb)",
          "old_line_content": "        MOVElst *e = &sc->elst_data[i];",
          "new_line_content": "            e->duration = avio_rb64(pb);",
          "content_same": false
        },
        {
          "line": 5254,
          "old_api": null,
          "new_api": "avio_rb64",
          "old_text": null,
          "new_text": "avio_rb64(pb)",
          "old_line_content": "",
          "new_line_content": "            e->time     = avio_rb64(pb);",
          "content_same": false
        },
        {
          "line": 3207,
          "old_api": null,
          "new_api": "av_index_search_timestamp",
          "old_text": null,
          "new_text": "av_index_search_timestamp(st, timestamp_pts, flag | AVSEEK_FLAG_BACKWARD)",
          "old_line_content": "",
          "new_line_content": "    *index = av_index_search_timestamp(st, timestamp_pts, flag | AVSEEK_FLAG_BACKWARD);",
          "content_same": false
        },
        {
          "line": 7301,
          "old_api": null,
          "new_api": "avio_seek",
          "old_text": null,
          "new_text": "avio_seek(sc->pb, st->index_entries->pos, SEEK_SET)",
          "old_line_content": "    if (!st->nb_index_entries)",
          "new_line_content": "    avio_seek(sc->pb, st->index_entries->pos, SEEK_SET);",
          "content_same": false
        },
        {
          "line": 7302,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(s->pb)",
          "old_line_content": "        return -1;",
          "new_line_content": "    value = avio_rb32(s->pb);",
          "content_same": false
        },
        {
          "line": 5258,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "            atom.size -= 16;",
          "new_line_content": "            e->time     = (int32_t)avio_rb32(pb); /* media time */",
          "content_same": false
        },
        {
          "line": 5263,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_TRACE, \"duration=%\"PRId64\" time=%\"PRId64\" rate=%f\\n\",\n               e->duration, e->time, e->rate)",
          "old_line_content": "        }",
          "new_line_content": "        av_log(c->fc, AV_LOG_TRACE, \"duration=%\"PRId64\" time=%\"PRId64\" rate=%f\\n\",",
          "content_same": false
        },
        {
          "line": 7313,
          "old_api": null,
          "new_api": "parse_timecode_in_framenum_format",
          "old_text": null,
          "new_text": "parse_timecode_in_framenum_format(s, st, value, flags)",
          "old_line_content": "     * No sample with tmcd track can be found with a QT timecode at the moment,",
          "new_line_content": "    parse_timecode_in_framenum_format(s, st, value, flags);",
          "content_same": false
        },
        {
          "line": 7315,
          "old_api": null,
          "new_api": "avio_seek",
          "old_text": null,
          "new_text": "avio_seek(sc->pb, cur_pos, SEEK_SET)",
          "old_line_content": "     * format). */",
          "new_line_content": "    avio_seek(sc->pb, cur_pos, SEEK_SET);",
          "content_same": false
        },
        {
          "line": 5268,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Track %d, edit %d: Invalid edit list media time=%\"PRId64\"\\n\",\n                   c->fc->nb_streams-1, i, e->time)",
          "old_line_content": "",
          "new_line_content": "            av_log(c->fc, AV_LOG_ERROR, \"Track %d, edit %d: Invalid edit list media time=%\"PRId64\"\\n\",",
          "content_same": false
        },
        {
          "line": 3223,
          "old_api": null,
          "new_api": "av_assert0",
          "old_text": null,
          "new_text": "av_assert0(ctts_index)",
          "old_line_content": "    // If we have CTTS then refine the search, by searching backwards over PTS",
          "new_line_content": "        av_assert0(ctts_index);",
          "content_same": false
        },
        {
          "line": 3224,
          "old_api": null,
          "new_api": "av_assert0",
          "old_text": null,
          "new_text": "av_assert0(ctts_sample)",
          "old_line_content": "    // computed by adding corresponding CTTS durations to index timestamps.",
          "new_line_content": "        av_assert0(ctts_sample);",
          "content_same": false
        },
        {
          "line": 7323,
          "old_api": null,
          "new_api": "av_encryption_info_free",
          "old_text": null,
          "new_text": "av_encryption_info_free((*index)->encrypted_samples[i])",
          "old_line_content": "    int i;",
          "new_line_content": "        av_encryption_info_free((*index)->encrypted_samples[i]);",
          "content_same": false
        },
        {
          "line": 7325,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&(*index)->encrypted_samples)",
          "old_line_content": "    for (i = 0; i < (*index)->nb_encrypted_samples; i++) {",
          "new_line_content": "    av_freep(&(*index)->encrypted_samples);",
          "content_same": false
        },
        {
          "line": 7327,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&(*index)->auxiliary_offsets)",
          "old_line_content": "    }",
          "new_line_content": "    av_freep(&(*index)->auxiliary_offsets);",
          "content_same": false
        },
        {
          "line": 5285,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    if (c->fc->nb_streams < 1)",
          "new_line_content": "    sc->timecode_track = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 7343,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&sc->ctts_data)",
          "old_line_content": "        if (!sc)",
          "new_line_content": "        av_freep(&sc->ctts_data);",
          "content_same": false
        },
        {
          "line": 7345,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&sc->drefs[j].path)",
          "old_line_content": "",
          "new_line_content": "            av_freep(&sc->drefs[j].path);",
          "content_same": false
        },
        {
          "line": 5299,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Empty AV1 Codec Configuration Box\\n\")",
          "old_line_content": "    st = c->fc->streams[c->fc->nb_streams - 1];",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Empty AV1 Codec Configuration Box\\n\");",
          "content_same": false
        },
        {
          "line": 5305,
          "old_api": null,
          "new_api": "avio_skip",
          "old_text": null,
          "new_text": "avio_skip(pb, 4)",
          "old_line_content": "",
          "new_line_content": "    avio_skip(pb, 4);",
          "content_same": false
        },
        {
          "line": 7353,
          "old_api": null,
          "new_api": "ff_format_io_close",
          "old_text": null,
          "new_text": "ff_format_io_close(s, &sc->pb)",
          "old_line_content": "        sc->drefs_count = 0;",
          "new_line_content": "            ff_format_io_close(s, &sc->pb);",
          "content_same": false
        },
        {
          "line": 7357,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&sc->stsc_data)",
          "old_line_content": "",
          "new_line_content": "        av_freep(&sc->stsc_data);",
          "content_same": false
        },
        {
          "line": 5310,
          "old_api": null,
          "new_api": "ff_get_extradata",
          "old_text": null,
          "new_text": "ff_get_extradata(c->fc, st->codecpar, pb, atom.size - 4)",
          "old_line_content": "    if (atom.size == 4)",
          "new_line_content": "    ret = ff_get_extradata(c->fc, st->codecpar, pb, atom.size - 4);",
          "content_same": false
        },
        {
          "line": 7358,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&sc->sample_sizes)",
          "old_line_content": "        sc->pb = NULL;",
          "new_line_content": "        av_freep(&sc->sample_sizes);",
          "content_same": false
        },
        {
          "line": 7370,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(sc->extradata[j])",
          "old_line_content": "",
          "new_line_content": "                av_free(sc->extradata[j]);",
          "content_same": false
        },
        {
          "line": 7371,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&sc->extradata)",
          "old_line_content": "        if (sc->extradata)",
          "new_line_content": "        av_freep(&sc->extradata);",
          "content_same": false
        },
        {
          "line": 7372,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&sc->extradata_size)",
          "old_line_content": "            for (j = 0; j < sc->stsd_count; j++)",
          "new_line_content": "        av_freep(&sc->extradata_size);",
          "content_same": false
        },
        {
          "line": 5327,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Empty VP Codec Configuration box\\n\")",
          "old_line_content": "    st = c->fc->streams[c->fc->nb_streams - 1];",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Empty VP Codec Configuration box\\n\");",
          "content_same": false
        },
        {
          "line": 7376,
          "old_api": null,
          "new_api": "av_aes_ctr_free",
          "old_text": null,
          "new_text": "av_aes_ctr_free(sc->cenc.aes_ctr)",
          "old_line_content": "",
          "new_line_content": "        av_aes_ctr_free(sc->cenc.aes_ctr);",
          "content_same": false
        },
        {
          "line": 5331,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "    version = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 7380,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&sc->mastering)",
          "old_line_content": "",
          "new_line_content": "        av_freep(&sc->mastering);",
          "content_same": false
        },
        {
          "line": 5333,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"Unsupported VP Codec Configuration box version %d\\n\", version)",
          "old_line_content": "",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Unsupported VP Codec Configuration box version %d\\n\", version);",
          "content_same": false
        },
        {
          "line": 3286,
          "old_api": null,
          "new_api": "FFMAX",
          "old_text": null,
          "new_text": "FFMAX(min_size_needed, 2 * st->index_entries_allocated_size)",
          "old_line_content": "    // Another difference from ff_add_index_entry function.",
          "new_line_content": "        FFMAX(min_size_needed, 2 * st->index_entries_allocated_size) :",
          "content_same": false
        },
        {
          "line": 7385,
          "old_api": null,
          "new_api": "avformat_free_context",
          "old_text": null,
          "new_text": "avformat_free_context(mov->dv_fctx)",
          "old_line_content": "    }",
          "new_line_content": "        avformat_free_context(mov->dv_fctx);",
          "content_same": false
        },
        {
          "line": 5338,
          "old_api": null,
          "new_api": "avio_skip",
          "old_text": null,
          "new_text": "avio_skip(pb, 2)",
          "old_line_content": "    }",
          "new_line_content": "    avio_skip(pb, 2); /* profile + level */",
          "content_same": false
        },
        {
          "line": 3292,
          "old_api": null,
          "new_api": "av_fast_realloc",
          "old_text": null,
          "new_text": "av_fast_realloc(st->index_entries,\n                              &st->index_entries_allocated_size,\n                              requested_size)",
          "old_line_content": "    if((unsigned)st->nb_index_entries + 1 >= UINT_MAX / sizeof(AVIndexEntry))",
          "new_line_content": "    entries = av_fast_realloc(st->index_entries,",
          "content_same": false
        },
        {
          "line": 5340,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "",
          "new_line_content": "    color_primaries = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 7391,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&mov->meta_keys[i])",
          "old_line_content": "",
          "new_line_content": "            av_freep(&mov->meta_keys[i]);",
          "content_same": false
        },
        {
          "line": 7393,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&mov->meta_keys)",
          "old_line_content": "        for (i = 1; i < mov->meta_keys_count; i++) {",
          "new_line_content": "        av_freep(&mov->meta_keys);",
          "content_same": false
        },
        {
          "line": 5348,
          "old_api": null,
          "new_api": "av_color_transfer_name",
          "old_text": null,
          "new_text": "av_color_transfer_name(color_trc)",
          "old_line_content": "",
          "new_line_content": "    if (!av_color_transfer_name(color_trc))",
          "content_same": false
        },
        {
          "line": 7397,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&mov->bitrates)",
          "old_line_content": "    }",
          "new_line_content": "    av_freep(&mov->bitrates);",
          "content_same": false
        },
        {
          "line": 5350,
          "old_api": null,
          "new_api": "av_color_space_name",
          "old_text": null,
          "new_text": "av_color_space_name(color_space)",
          "old_line_content": "        color_primaries = AVCOL_PRI_UNSPECIFIED;",
          "new_line_content": "    if (!av_color_space_name(color_space))",
          "content_same": false
        },
        {
          "line": 7402,
          "old_api": null,
          "new_api": "mov_free_encryption_index",
          "old_text": null,
          "new_text": "mov_free_encryption_index(&frag[j].encryption_index)",
          "old_line_content": "    for (i = 0; i < mov->frag_index.nb_items; i++) {",
          "new_line_content": "            mov_free_encryption_index(&frag[j].encryption_index);",
          "content_same": false
        },
        {
          "line": 7404,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&mov->frag_index.item[i].stream_info)",
          "old_line_content": "        for (j = 0; j < mov->frag_index.item[i].nb_stream_info; j++) {",
          "new_line_content": "        av_freep(&mov->frag_index.item[i].stream_info);",
          "content_same": false
        },
        {
          "line": 7406,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&mov->frag_index.item)",
          "old_line_content": "        }",
          "new_line_content": "    av_freep(&mov->frag_index.item);",
          "content_same": false
        },
        {
          "line": 7408,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&mov->aes_decrypt)",
          "old_line_content": "    }",
          "new_line_content": "    av_freep(&mov->aes_decrypt);",
          "content_same": false
        },
        {
          "line": 3319,
          "old_api": null,
          "new_api": "av_assert0",
          "old_text": null,
          "new_text": "av_assert0(end_index >= 0 && end_index <= st->nb_index_entries)",
          "old_line_content": "                                       int64_t* frame_duration_buffer,",
          "new_line_content": "    av_assert0(end_index >= 0 && end_index <= st->nb_index_entries);",
          "content_same": false
        },
        {
          "line": 5372,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Empty Mastering Display Metadata box\\n\")",
          "old_line_content": "    sc = c->fc->streams[c->fc->nb_streams - 1]->priv_data;",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Empty Mastering Display Metadata box\\n\");",
          "content_same": false
        },
        {
          "line": 5376,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "    version = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 5378,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"Unsupported Mastering Display Metadata box version %d\\n\", version)",
          "old_line_content": "",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Unsupported Mastering Display Metadata box version %d\\n\", version);",
          "content_same": false
        },
        {
          "line": 5383,
          "old_api": null,
          "new_api": "av_mastering_display_metadata_alloc",
          "old_text": null,
          "new_text": "av_mastering_display_metadata_alloc()",
          "old_line_content": "    }",
          "new_line_content": "    sc->mastering = av_mastering_display_metadata_alloc();",
          "content_same": false
        },
        {
          "line": 3337,
          "old_api": null,
          "new_api": "FFMAX",
          "old_text": null,
          "new_text": "FFMAX(min_size_needed, 2 * (*allocated_size))",
          "old_line_content": "    const size_t min_size_needed = (*ctts_count + 1) * sizeof(MOVStts);",
          "new_line_content": "        FFMAX(min_size_needed, 2 * (*allocated_size)) :",
          "content_same": false
        },
        {
          "line": 5385,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 5389,
          "old_api": null,
          "new_api": "avio_rb16",
          "old_text": null,
          "new_text": "avio_rb16(pb)",
          "old_line_content": "",
          "new_line_content": "        sc->mastering->display_primaries[i][1] = av_make_q(avio_rb16(pb), 1 << 16);",
          "content_same": false
        },
        {
          "line": 7437,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('t','m','c','d')",
          "old_line_content": "    for (i = 0; i < s->nb_streams; i++) {",
          "new_line_content": "        if (st->codecpar->codec_tag  == MKTAG('t','m','c','d') &&",
          "content_same": false
        },
        {
          "line": 3343,
          "old_api": null,
          "new_api": "av_fast_realloc",
          "old_text": null,
          "new_text": "av_fast_realloc(*ctts_data, allocated_size, requested_size)",
          "old_line_content": "    if((unsigned)(*ctts_count) >= UINT_MAX / sizeof(MOVStts) - 1)",
          "new_line_content": "    ctts_buf_new = av_fast_realloc(*ctts_data, allocated_size, requested_size);",
          "content_same": false
        },
        {
          "line": 7438,
          "old_api": null,
          "new_api": "tmcd_is_referenced",
          "old_text": null,
          "new_text": "tmcd_is_referenced(s, i + 1)",
          "old_line_content": "        AVStream *st = s->streams[i];",
          "new_line_content": "            !tmcd_is_referenced(s, i + 1)) {",
          "content_same": false
        },
        {
          "line": 7439,
          "old_api": null,
          "new_api": "av_dict_get",
          "old_text": null,
          "new_text": "av_dict_get(st->metadata, \"timecode\", NULL, 0)",
          "old_line_content": "",
          "new_line_content": "            AVDictionaryEntry *tcr = av_dict_get(st->metadata, \"timecode\", NULL, 0);",
          "content_same": false
        },
        {
          "line": 7451,
          "old_api": null,
          "new_api": "avio_tell",
          "old_text": null,
          "new_text": "avio_tell(f)",
          "old_line_content": "static int read_tfra(MOVContext *mov, AVIOContext *f)",
          "new_line_content": "    int64_t pos = avio_tell(f);",
          "content_same": false
        },
        {
          "line": 7452,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(f)",
          "old_line_content": "{",
          "new_line_content": "    uint32_t size = avio_rb32(f);",
          "content_same": false
        },
        {
          "line": 7460,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(f)",
          "old_line_content": "    }",
          "new_line_content": "    version = avio_r8(f);",
          "content_same": false
        },
        {
          "line": 7462,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(f)",
          "old_line_content": "",
          "new_line_content": "    track_id = avio_rb32(f);",
          "content_same": false
        },
        {
          "line": 5417,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Invalid Mastering Display Color Volume box\\n\")",
          "old_line_content": "    sc = c->fc->streams[c->fc->nb_streams - 1]->priv_data;",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Invalid Mastering Display Color Volume box\\n\");",
          "content_same": false
        },
        {
          "line": 5421,
          "old_api": null,
          "new_api": "av_mastering_display_metadata_alloc",
          "old_text": null,
          "new_text": "av_mastering_display_metadata_alloc()",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "    sc->mastering = av_mastering_display_metadata_alloc();",
          "content_same": false
        },
        {
          "line": 7470,
          "old_api": null,
          "new_api": "avio_feof",
          "old_text": null,
          "new_text": "avio_feof(f)",
          "old_line_content": "        int index;",
          "new_line_content": "        if (avio_feof(f)) {",
          "content_same": false
        },
        {
          "line": 5423,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 5427,
          "old_api": null,
          "new_api": "avio_rb16",
          "old_text": null,
          "new_text": "avio_rb16(pb)",
          "old_line_content": "",
          "new_line_content": "        sc->mastering->display_primaries[j][0] = av_make_q(avio_rb16(pb), chroma_den);",
          "content_same": false
        },
        {
          "line": 5428,
          "old_api": null,
          "new_api": "avio_rb16",
          "old_text": null,
          "new_text": "avio_rb16(pb)",
          "old_line_content": "    for (i = 0; i < 3; i++) {",
          "new_line_content": "        sc->mastering->display_primaries[j][1] = av_make_q(avio_rb16(pb), chroma_den);",
          "content_same": false
        },
        {
          "line": 7475,
          "old_api": null,
          "new_api": "avio_rb64",
          "old_text": null,
          "new_text": "avio_rb64(f)",
          "old_line_content": "        }",
          "new_line_content": "            time   = avio_rb64(f);",
          "content_same": false
        },
        {
          "line": 7476,
          "old_api": null,
          "new_api": "avio_rb64",
          "old_text": null,
          "new_text": "avio_rb64(f)",
          "old_line_content": "",
          "new_line_content": "            offset = avio_rb64(f);",
          "content_same": false
        },
        {
          "line": 7485,
          "old_api": null,
          "new_api": "update_frag_index",
          "old_text": null,
          "new_text": "update_frag_index(mov, offset)",
          "old_line_content": "        // The first sample of each stream in a fragment is always a random",
          "new_line_content": "        index = update_frag_index(mov, offset);",
          "content_same": false
        },
        {
          "line": 7486,
          "old_api": null,
          "new_api": "get_frag_stream_info",
          "old_text": null,
          "new_text": "get_frag_stream_info(&mov->frag_index, index, track_id)",
          "old_line_content": "        // access sample.  So it's entry in the tfra can be used as the",
          "new_line_content": "        frag_stream_info = get_frag_stream_info(&mov->frag_index, index, track_id);",
          "content_same": false
        },
        {
          "line": 7492,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(f)",
          "old_line_content": "            frag_stream_info->first_tfra_pts = time;",
          "new_line_content": "            avio_r8(f);",
          "content_same": false
        },
        {
          "line": 7494,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(f)",
          "old_line_content": "        for (j = 0; j < ((fieldlength >> 4) & 3) + 1; j++)",
          "new_line_content": "            avio_r8(f);",
          "content_same": false
        },
        {
          "line": 3400,
          "old_api": null,
          "new_api": "FFMAX",
          "old_text": null,
          "new_text": "FFMAX(st->codecpar->video_delay, num_swaps)",
          "old_line_content": "                }",
          "new_line_content": "            st->codecpar->video_delay = FFMAX(st->codecpar->video_delay, num_swaps);",
          "content_same": false
        },
        {
          "line": 7496,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(f)",
          "old_line_content": "        for (j = 0; j < ((fieldlength >> 2) & 3) + 1; j++)",
          "new_line_content": "            avio_r8(f);",
          "content_same": false
        },
        {
          "line": 5453,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Empty Content Light Level box\\n\")",
          "old_line_content": "    sc = c->fc->streams[c->fc->nb_streams - 1]->priv_data;",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Empty Content Light Level box\\n\");",
          "content_same": false
        },
        {
          "line": 3408,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_DEBUG, \"Setting codecpar->delay to %d for stream st: %d\\n\",\n               st->codecpar->video_delay, st->index)",
          "old_line_content": "                ctts_sample = 0;",
          "new_line_content": "        av_log(c->fc, AV_LOG_DEBUG, \"Setting codecpar->delay to %d for stream st: %d\\n\",",
          "content_same": false
        },
        {
          "line": 5457,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "    version = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 7505,
          "old_api": null,
          "new_api": "avio_size",
          "old_text": null,
          "new_text": "avio_size(f)",
          "old_line_content": "",
          "new_line_content": "    int64_t stream_size = avio_size(f);",
          "content_same": false
        },
        {
          "line": 5459,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"Unsupported Content Light Level box version %d\\n\", version)",
          "old_line_content": "",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Unsupported Content Light Level box version %d\\n\", version);",
          "content_same": false
        },
        {
          "line": 7506,
          "old_api": null,
          "new_api": "avio_tell",
          "old_text": null,
          "new_text": "avio_tell(f)",
          "old_line_content": "static int mov_read_mfra(MOVContext *c, AVIOContext *f)",
          "new_line_content": "    int64_t original_pos = avio_tell(f);",
          "content_same": false
        },
        {
          "line": 7510,
          "old_api": null,
          "new_api": "avio_seek",
          "old_text": null,
          "new_text": "avio_seek(f, stream_size - 4, SEEK_SET)",
          "old_line_content": "    int64_t seek_ret;",
          "new_line_content": "    if ((seek_ret = avio_seek(f, stream_size - 4, SEEK_SET)) < 0) {",
          "content_same": false
        },
        {
          "line": 5464,
          "old_api": null,
          "new_api": "av_content_light_metadata_alloc",
          "old_text": null,
          "new_text": "av_content_light_metadata_alloc(&sc->coll_size)",
          "old_line_content": "    }",
          "new_line_content": "    sc->coll = av_content_light_metadata_alloc(&sc->coll_size);",
          "content_same": false
        },
        {
          "line": 5466,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 7514,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(f)",
          "old_line_content": "        ret = seek_ret;",
          "new_line_content": "    mfra_size = avio_rb32(f);",
          "content_same": false
        },
        {
          "line": 5468,
          "old_api": null,
          "new_api": "avio_rb16",
          "old_text": null,
          "new_text": "avio_rb16(pb)",
          "old_line_content": "    if (!sc->coll)",
          "new_line_content": "    sc->coll->MaxCLL  = avio_rb16(pb);",
          "content_same": false
        },
        {
          "line": 7516,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_DEBUG, \"doesn't look like mfra (unreasonable size)\\n\")",
          "old_line_content": "    }",
          "new_line_content": "        av_log(c->fc, AV_LOG_DEBUG, \"doesn't look like mfra (unreasonable size)\\n\");",
          "content_same": false
        },
        {
          "line": 7523,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(f)",
          "old_line_content": "        ret = seek_ret;",
          "new_line_content": "    if (avio_rb32(f) != mfra_size) {",
          "content_same": false
        },
        {
          "line": 7524,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_DEBUG, \"doesn't look like mfra (size mismatch)\\n\")",
          "old_line_content": "        goto fail;",
          "new_line_content": "        av_log(c->fc, AV_LOG_DEBUG, \"doesn't look like mfra (size mismatch)\\n\");",
          "content_same": false
        },
        {
          "line": 7528,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_DEBUG, \"doesn't look like mfra (tag mismatch)\\n\")",
          "old_line_content": "        goto fail;",
          "new_line_content": "        av_log(c->fc, AV_LOG_DEBUG, \"doesn't look like mfra (tag mismatch)\\n\");",
          "content_same": false
        },
        {
          "line": 5484,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Empty Content Light Level Info box\\n\")",
          "old_line_content": "    sc = c->fc->streams[c->fc->nb_streams - 1]->priv_data;",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Empty Content Light Level Info box\\n\");",
          "content_same": false
        },
        {
          "line": 7533,
          "old_api": null,
          "new_api": "read_tfra",
          "old_text": null,
          "new_text": "read_tfra(c, f)",
          "old_line_content": "    }",
          "new_line_content": "        ret = read_tfra(c, f);",
          "content_same": false
        },
        {
          "line": 5488,
          "old_api": null,
          "new_api": "av_content_light_metadata_alloc",
          "old_text": null,
          "new_text": "av_content_light_metadata_alloc(&sc->coll_size)",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "    sc->coll = av_content_light_metadata_alloc(&sc->coll_size);",
          "content_same": false
        },
        {
          "line": 5490,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 7539,
          "old_api": null,
          "new_api": "avio_seek",
          "old_text": null,
          "new_text": "avio_seek(f, original_pos, SEEK_SET)",
          "old_line_content": "    } while (!ret);",
          "new_line_content": "    seek_ret = avio_seek(f, original_pos, SEEK_SET);",
          "content_same": false
        },
        {
          "line": 5492,
          "old_api": null,
          "new_api": "avio_rb16",
          "old_text": null,
          "new_text": "avio_rb16(pb)",
          "old_line_content": "    if (!sc->coll)",
          "new_line_content": "    sc->coll->MaxCLL  = avio_rb16(pb);",
          "content_same": false
        },
        {
          "line": 7541,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR,\n               \"failed to seek back after looking for mfra\\n\")",
          "old_line_content": "fail:",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR,",
          "content_same": false
        },
        {
          "line": 7553,
          "old_api": null,
          "new_api": "AV_RL32",
          "old_text": null,
          "new_text": "AV_RL32(\"root\")",
          "old_line_content": "    MOVContext *mov = s->priv_data;",
          "new_line_content": "    MOVAtom atom = { AV_RL32(\"root\") };",
          "content_same": false
        },
        {
          "line": 7557,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(s, AV_LOG_ERROR, \"Invalid decryption key len %d expected %d\\n\",\n            mov->decryption_key_len, AES_CTR_KEY_SIZE)",
          "old_line_content": "    int i;",
          "new_line_content": "        av_log(s, AV_LOG_ERROR, \"Invalid decryption key len %d expected %d\\n\",",
          "content_same": false
        },
        {
          "line": 7559,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "    if (mov->decryption_key_len != 0 && mov->decryption_key_len != AES_CTR_KEY_SIZE) {",
          "new_line_content": "        return AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 5512,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Empty stereoscopic video box\\n\")",
          "old_line_content": "    sc = st->priv_data;",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Empty stereoscopic video box\\n\");",
          "content_same": false
        },
        {
          "line": 5517,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "    }",
          "new_line_content": "    mode = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 7566,
          "old_api": null,
          "new_api": "avio_size",
          "old_text": null,
          "new_text": "avio_size(pb)",
          "old_line_content": "    mov->trak_index = -1;",
          "new_line_content": "        atom.size = avio_size(pb);",
          "content_same": false
        },
        {
          "line": 7573,
          "old_api": null,
          "new_api": "avio_seek",
          "old_text": null,
          "new_text": "avio_seek(pb, 0, SEEK_SET)",
          "old_line_content": "    /* check MOV header */",
          "new_line_content": "            avio_seek(pb, 0, SEEK_SET);",
          "content_same": false
        },
        {
          "line": 7574,
          "old_api": null,
          "new_api": "mov_read_default",
          "old_text": null,
          "new_text": "mov_read_default(mov, pb, atom)",
          "old_line_content": "    do {",
          "new_line_content": "        if ((err = mov_read_default(mov, pb, atom)) < 0) {",
          "content_same": false
        },
        {
          "line": 7575,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(s, AV_LOG_ERROR, \"error reading header\\n\")",
          "old_line_content": "        if (mov->moov_retry)",
          "new_line_content": "            av_log(s, AV_LOG_ERROR, \"error reading header\\n\");",
          "content_same": false
        },
        {
          "line": 5529,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"Unknown st3d mode value %d\\n\", mode)",
          "old_line_content": "        type = AV_STEREO3D_SIDEBYSIDE;",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Unknown st3d mode value %d\\n\", mode);",
          "content_same": false
        },
        {
          "line": 7580,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(s, AV_LOG_ERROR, \"moov atom not found\\n\")",
          "old_line_content": "        }",
          "new_line_content": "        av_log(s, AV_LOG_ERROR, \"moov atom not found\\n\");",
          "content_same": false
        },
        {
          "line": 5533,
          "old_api": null,
          "new_api": "av_stereo3d_alloc",
          "old_text": null,
          "new_text": "av_stereo3d_alloc()",
          "old_line_content": "        return 0;",
          "new_line_content": "    sc->stereo3d = av_stereo3d_alloc();",
          "content_same": false
        },
        {
          "line": 5535,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 7584,
          "old_api": null,
          "new_api": "avio_tell",
          "old_text": null,
          "new_text": "avio_tell(pb)",
          "old_line_content": "        err = AVERROR_INVALIDDATA;",
          "new_line_content": "    av_log(mov->fc, AV_LOG_TRACE, \"on_parse_exit_offset=%\"PRId64\"\\n\", avio_tell(pb));",
          "content_same": false
        },
        {
          "line": 7588,
          "old_api": null,
          "new_api": "mov_read_chapters",
          "old_text": null,
          "new_text": "mov_read_chapters(s)",
          "old_line_content": "",
          "new_line_content": "            mov_read_chapters(s);",
          "content_same": false
        },
        {
          "line": 7590,
          "old_api": null,
          "new_api": "AV_RL32",
          "old_text": null,
          "new_text": "AV_RL32(\"tmcd\")",
          "old_line_content": "        if (mov->nb_chapter_tracks > 0 && !mov->ignore_chapters)",
          "new_line_content": "            if (s->streams[i]->codecpar->codec_tag == AV_RL32(\"tmcd\")) {",
          "content_same": false
        },
        {
          "line": 7592,
          "old_api": null,
          "new_api": "AV_RL32",
          "old_text": null,
          "new_text": "AV_RL32(\"rtmd\")",
          "old_line_content": "        for (i = 0; i < s->nb_streams; i++)",
          "new_line_content": "            } else if (s->streams[i]->codecpar->codec_tag == AV_RL32(\"rtmd\")) {",
          "content_same": false
        },
        {
          "line": 3505,
          "old_api": null,
          "new_api": "av_malloc",
          "old_text": null,
          "new_text": "av_malloc((msc->elst_count + 1) * sizeof(msc->index_ranges[0]))",
          "old_line_content": "    }",
          "new_line_content": "    msc->index_ranges = av_malloc((msc->elst_count + 1) * sizeof(msc->index_ranges[0]));",
          "content_same": false
        },
        {
          "line": 3507,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_ERROR, \"Cannot allocate index ranges buffer\\n\")",
          "old_line_content": "    // allocate the index ranges array",
          "new_line_content": "        av_log(mov->fc, AV_LOG_ERROR, \"Cannot allocate index ranges buffer\\n\");",
          "content_same": false
        },
        {
          "line": 5558,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Empty spherical video box\\n\")",
          "old_line_content": "    sc = st->priv_data;",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Empty spherical video box\\n\");",
          "content_same": false
        },
        {
          "line": 5562,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "    size = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 7611,
          "old_api": null,
          "new_api": "av_dict_get",
          "old_text": null,
          "new_text": "av_dict_get(s->streams[tmcd_st_id]->metadata, \"timecode\", NULL, 0)",
          "old_line_content": "",
          "new_line_content": "            tcr = av_dict_get(s->streams[tmcd_st_id]->metadata, \"timecode\", NULL, 0);",
          "content_same": false
        },
        {
          "line": 7613,
          "old_api": null,
          "new_api": "av_dict_set",
          "old_text": null,
          "new_text": "av_dict_set(&st->metadata, \"timecode\", tcr->value, 0)",
          "old_line_content": "                continue;",
          "new_line_content": "                av_dict_set(&st->metadata, \"timecode\", tcr->value, 0);",
          "content_same": false
        },
        {
          "line": 5566,
          "old_api": null,
          "new_api": "avio_rl32",
          "old_text": null,
          "new_text": "avio_rl32(pb)",
          "old_line_content": "    if (size <= 12 || size > atom.size)",
          "new_line_content": "    tag = avio_rl32(pb);",
          "content_same": false
        },
        {
          "line": 5567,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('s','v','h','d')",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "    if (tag != MKTAG('s','v','h','d')) {",
          "content_same": false
        },
        {
          "line": 5568,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Missing spherical video header\\n\")",
          "old_line_content": "",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Missing spherical video header\\n\");",
          "content_same": false
        },
        {
          "line": 5573,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"Unknown spherical version %d\\n\",\n               version)",
          "old_line_content": "    }",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Unknown spherical version %d\\n\",",
          "content_same": false
        },
        {
          "line": 7621,
          "old_api": null,
          "new_api": "fix_timescale",
          "old_text": null,
          "new_text": "fix_timescale(mov, sc)",
          "old_line_content": "    for (i = 0; i < s->nb_streams; i++) {",
          "new_line_content": "        fix_timescale(mov, sc);",
          "content_same": false
        },
        {
          "line": 5577,
          "old_api": null,
          "new_api": "avio_skip",
          "old_text": null,
          "new_text": "avio_skip(pb, 3)",
          "old_line_content": "               version);",
          "new_line_content": "    avio_skip(pb, 3); /* flags */",
          "content_same": false
        },
        {
          "line": 5578,
          "old_api": null,
          "new_api": "avio_skip",
          "old_text": null,
          "new_text": "avio_skip(pb, size - 12)",
          "old_line_content": "        return 0;",
          "new_line_content": "    avio_skip(pb, size - 12); /* metadata_source */",
          "content_same": false
        },
        {
          "line": 7626,
          "old_api": null,
          "new_api": "av_reduce",
          "old_text": null,
          "new_text": "av_reduce(&st->avg_frame_rate.num, &st->avg_frame_rate.den,\n                      sc->time_scale*(int64_t)sc->nb_frames_for_fps, sc->duration_for_fps, INT_MAX)",
          "old_line_content": "            st->skip_samples = sc->start_pad;",
          "new_line_content": "            av_reduce(&st->avg_frame_rate.num, &st->avg_frame_rate.den,",
          "content_same": false
        },
        {
          "line": 3532,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_DEBUG, \"Shifting DTS by %d because of negative CTTS.\\n\", msc->dts_shift)",
          "old_line_content": "    // then negate the DTS by dts_shift",
          "new_line_content": "        av_log(mov->fc, AV_LOG_DEBUG, \"Shifting DTS by %d because of negative CTTS.\\n\", msc->dts_shift);",
          "content_same": false
        },
        {
          "line": 5584,
          "old_api": null,
          "new_api": "avio_rl32",
          "old_text": null,
          "new_text": "avio_rl32(pb)",
          "old_line_content": "    if (size > atom.size)",
          "new_line_content": "    tag = avio_rl32(pb);",
          "content_same": false
        },
        {
          "line": 3537,
          "old_api": null,
          "new_api": "get_edit_list_entry",
          "old_text": null,
          "new_text": "get_edit_list_entry(mov, msc, edit_list_index, &edit_list_media_time,\n                               &edit_list_duration, mov->time_scale)",
          "old_line_content": "",
          "new_line_content": "    while (get_edit_list_entry(mov, msc, edit_list_index, &edit_list_media_time,",
          "content_same": false
        },
        {
          "line": 5585,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('p','r','o','j')",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "    if (tag != MKTAG('p','r','o','j')) {",
          "content_same": false
        },
        {
          "line": 3539,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_DEBUG, \"Processing st: %d, edit list %\"PRId64\" - media time: %\"PRId64\", duration: %\"PRId64\"\\n\",\n               st->index, edit_list_index, edit_list_media_time, edit_list_duration)",
          "old_line_content": "",
          "new_line_content": "        av_log(mov->fc, AV_LOG_DEBUG, \"Processing st: %d, edit list %\"PRId64\" - media time: %\"PRId64\", duration: %\"PRId64\"\\n\",",
          "content_same": false
        },
        {
          "line": 5586,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Missing projection box\\n\")",
          "old_line_content": "",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Missing projection box\\n\");",
          "content_same": false
        },
        {
          "line": 7634,
          "old_api": null,
          "new_api": "mov_rewrite_dvd_sub_extradata",
          "old_text": null,
          "new_text": "mov_rewrite_dvd_sub_extradata(st)",
          "old_line_content": "                st->codecpar->height = sc->height;",
          "new_line_content": "                if ((err = mov_rewrite_dvd_sub_extradata(st)) < 0)",
          "content_same": false
        },
        {
          "line": 5590,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        return 0;",
          "new_line_content": "    size = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 5594,
          "old_api": null,
          "new_api": "avio_rl32",
          "old_text": null,
          "new_text": "avio_rl32(pb)",
          "old_line_content": "    if (size > atom.size)",
          "new_line_content": "    tag = avio_rl32(pb);",
          "content_same": false
        },
        {
          "line": 5595,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('p','r','h','d')",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "    if (tag != MKTAG('p','r','h','d')) {",
          "content_same": false
        },
        {
          "line": 5596,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Missing projection header box\\n\")",
          "old_line_content": "",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Missing projection header box\\n\");",
          "content_same": false
        },
        {
          "line": 7642,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(s, AV_LOG_VERBOSE, \"Forcing full parsing for mp3 stream\\n\")",
          "old_line_content": "            mov->handbrake_version <= 1000000*0 + 1000*10 + 2 &&  // 0.10.2",
          "new_line_content": "            av_log(s, AV_LOG_VERBOSE, \"Forcing full parsing for mp3 stream\\n\");",
          "content_same": false
        },
        {
          "line": 5601,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"Unknown spherical version %d\\n\",\n               version)",
          "old_line_content": "    }",
          "new_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Unknown spherical version %d\\n\",",
          "content_same": false
        },
        {
          "line": 5605,
          "old_api": null,
          "new_api": "avio_skip",
          "old_text": null,
          "new_text": "avio_skip(pb, 3)",
          "old_line_content": "               version);",
          "new_line_content": "    avio_skip(pb, 3); /* flags */",
          "content_same": false
        },
        {
          "line": 7653,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(s, AV_LOG_ERROR, \"Overflow during bit rate calculation %\"PRId64\" * 8 * %d\\n\",\n                           sc->data_size, sc->time_scale)",
          "old_line_content": "            MOVStreamContext *sc = st->priv_data;",
          "new_line_content": "                    av_log(s, AV_LOG_ERROR, \"Overflow during bit rate calculation %\"PRId64\" * 8 * %d\\n\",",
          "content_same": false
        },
        {
          "line": 5609,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "",
          "new_line_content": "    pitch = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 5610,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "    /* 16.16 fixed point */",
          "new_line_content": "    roll  = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 5616,
          "old_api": null,
          "new_api": "avio_rl32",
          "old_text": null,
          "new_text": "avio_rl32(pb)",
          "old_line_content": "    if (size > atom.size)",
          "new_line_content": "    tag = avio_rl32(pb);",
          "content_same": false
        },
        {
          "line": 5617,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "    version = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 3573,
          "old_api": null,
          "new_api": "FFMAX",
          "old_text": null,
          "new_text": "FFMAX(search_timestamp - msc->time_scale, e_old[0].timestamp)",
          "old_line_content": "            // Audio decoders like AAC need need a decoder delay samples previous to the current sample,",
          "new_line_content": "            search_timestamp = FFMAX(search_timestamp - msc->time_scale, e_old[0].timestamp);",
          "content_same": false
        },
        {
          "line": 7669,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(s, AV_LOG_ERROR, \"Overflow during bit rate calculation %\"PRId64\" * 8 * %d\\n\",\n                           sc->data_size, sc->time_scale)",
          "old_line_content": "            MOVStreamContext *sc = st->priv_data;",
          "new_line_content": "                    av_log(s, AV_LOG_ERROR, \"Overflow during bit rate calculation %\"PRId64\" * 8 * %d\\n\",",
          "content_same": false
        },
        {
          "line": 5623,
          "old_api": null,
          "new_api": "avio_skip",
          "old_text": null,
          "new_text": "avio_skip(pb, 3)",
          "old_line_content": "               version);",
          "new_line_content": "    avio_skip(pb, 3); /* flags */",
          "content_same": false
        },
        {
          "line": 5625,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('c','b','m','p')",
          "old_line_content": "    }",
          "new_line_content": "    case MKTAG('c','b','m','p'):",
          "content_same": false
        },
        {
          "line": 3578,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_WARNING,\n                   \"st: %d edit list: %\"PRId64\" Missing key frame while searching for timestamp: %\"PRId64\"\\n\",\n                   st->index, edit_list_index, search_timestamp)",
          "old_line_content": "",
          "new_line_content": "            av_log(mov->fc, AV_LOG_WARNING,",
          "content_same": false
        },
        {
          "line": 3583,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_WARNING,\n                       \"st: %d edit list %\"PRId64\" Cannot find an index entry before timestamp: %\"PRId64\".\\n\",\n                       st->index, edit_list_index, search_timestamp)",
          "old_line_content": "                   st->index, edit_list_index, search_timestamp);",
          "new_line_content": "                av_log(mov->fc, AV_LOG_WARNING,",
          "content_same": false
        },
        {
          "line": 5633,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "            return 0;",
          "new_line_content": "        padding = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 5635,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('e','q','u','i')",
          "old_line_content": "        projection = AV_SPHERICAL_CUBEMAP;",
          "new_line_content": "    case MKTAG('e','q','u','i'):",
          "content_same": false
        },
        {
          "line": 5637,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "        break;",
          "new_line_content": "        b = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 7686,
          "old_api": null,
          "new_api": "ff_rfps_calculate",
          "old_text": null,
          "new_text": "ff_rfps_calculate(s)",
          "old_line_content": "        }",
          "new_line_content": "    ff_rfps_calculate(s);",
          "content_same": false
        },
        {
          "line": 7694,
          "old_api": null,
          "new_api": "ff_replaygain_export",
          "old_text": null,
          "new_text": "ff_replaygain_export(st, s->metadata)",
          "old_line_content": "",
          "new_line_content": "            err = ff_replaygain_export(st, s->metadata);",
          "content_same": false
        },
        {
          "line": 7701,
          "old_api": null,
          "new_api": "av_stream_add_side_data",
          "old_text": null,
          "new_text": "av_stream_add_side_data(st, AV_PKT_DATA_DISPLAYMATRIX, (uint8_t*)sc->display_matrix,\n                                              sizeof(int32_t) * 9)",
          "old_line_content": "            break;",
          "new_line_content": "                err = av_stream_add_side_data(st, AV_PKT_DATA_DISPLAYMATRIX, (uint8_t*)sc->display_matrix,",
          "content_same": false
        },
        {
          "line": 5654,
          "old_api": null,
          "new_api": "av_fourcc2str",
          "old_text": null,
          "new_text": "av_fourcc2str(tag)",
          "old_line_content": "            projection = AV_SPHERICAL_EQUIRECTANGULAR;",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Unknown projection type: %s\\n\", av_fourcc2str(tag));",
          "content_same": false
        },
        {
          "line": 3610,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_DEBUG, \"stts: %\"PRId64\" ctts: %\"PRId64\", ctts_index: %\"PRId64\", ctts_count: %\"PRId64\"\\n\",\n                       curr_cts, curr_ctts, ctts_index_old, ctts_count_old)",
          "old_line_content": "",
          "new_line_content": "                av_log(mov->fc, AV_LOG_DEBUG, \"stts: %\"PRId64\" ctts: %\"PRId64\", ctts_index: %\"PRId64\", ctts_count: %\"PRId64\"\\n\",",
          "content_same": false
        },
        {
          "line": 5658,
          "old_api": null,
          "new_api": "av_spherical_alloc",
          "old_text": null,
          "new_text": "av_spherical_alloc(&sc->spherical_size)",
          "old_line_content": "        return 0;",
          "new_line_content": "    sc->spherical = av_spherical_alloc(&sc->spherical_size);",
          "content_same": false
        },
        {
          "line": 5660,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 7709,
          "old_api": null,
          "new_api": "av_stream_add_side_data",
          "old_text": null,
          "new_text": "av_stream_add_side_data(st, AV_PKT_DATA_STEREO3D,\n                                              (uint8_t *)sc->stereo3d,\n                                              sizeof(*sc->stereo3d))",
          "old_line_content": "                sc->display_matrix = NULL;",
          "new_line_content": "                err = av_stream_add_side_data(st, AV_PKT_DATA_STEREO3D,",
          "content_same": false
        },
        {
          "line": 3615,
          "old_api": null,
          "new_api": "add_ctts_entry",
          "old_text": null,
          "new_text": "add_ctts_entry(&msc->ctts_data, &msc->ctts_count,\n                                       &msc->ctts_allocated_size,\n                                       ctts_data_old[ctts_index_old].count - edit_list_start_ctts_sample,\n                                       ctts_data_old[ctts_index_old].duration)",
          "old_line_content": "                curr_cts += curr_ctts;",
          "new_line_content": "                    if (add_ctts_entry(&msc->ctts_data, &msc->ctts_count,",
          "content_same": false
        },
        {
          "line": 3619,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_ERROR, \"Cannot add CTTS entry %\"PRId64\" - {%\"PRId64\", %d}\\n\",\n                               ctts_index_old,\n                               ctts_data_old[ctts_index_old].count - edit_list_start_ctts_sample,\n                               ctts_data_old[ctts_index_old].duration)",
          "old_line_content": "                                       &msc->ctts_allocated_size,",
          "new_line_content": "                        av_log(mov->fc, AV_LOG_ERROR, \"Cannot add CTTS entry %\"PRId64\" - {%\"PRId64\", %d}\\n\",",
          "content_same": false
        },
        {
          "line": 7718,
          "old_api": null,
          "new_api": "av_stream_add_side_data",
          "old_text": null,
          "new_text": "av_stream_add_side_data(st, AV_PKT_DATA_SPHERICAL,\n                                              (uint8_t *)sc->spherical,\n                                              sc->spherical_size)",
          "old_line_content": "                sc->stereo3d = NULL;",
          "new_line_content": "                err = av_stream_add_side_data(st, AV_PKT_DATA_SPHERICAL,",
          "content_same": false
        },
        {
          "line": 7727,
          "old_api": null,
          "new_api": "av_stream_add_side_data",
          "old_text": null,
          "new_text": "av_stream_add_side_data(st, AV_PKT_DATA_MASTERING_DISPLAY_METADATA,\n                                              (uint8_t *)sc->mastering,\n                                              sizeof(*sc->mastering))",
          "old_line_content": "                sc->spherical = NULL;",
          "new_line_content": "                err = av_stream_add_side_data(st, AV_PKT_DATA_MASTERING_DISPLAY_METADATA,",
          "content_same": false
        },
        {
          "line": 5681,
          "old_api": null,
          "new_api": "av_malloc",
          "old_text": null,
          "new_text": "av_malloc(len + 1)",
          "old_line_content": "static int mov_parse_uuid_spherical(MOVStreamContext *sc, AVIOContext *pb, size_t len)",
          "new_line_content": "    uint8_t *buffer = av_malloc(len + 1);",
          "content_same": false
        },
        {
          "line": 5685,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    const char *val;",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 7736,
          "old_api": null,
          "new_api": "av_stream_add_side_data",
          "old_text": null,
          "new_text": "av_stream_add_side_data(st, AV_PKT_DATA_CONTENT_LIGHT_LEVEL,\n                                              (uint8_t *)sc->coll,\n                                              sc->coll_size)",
          "old_line_content": "                sc->mastering = NULL;",
          "new_line_content": "                err = av_stream_add_side_data(st, AV_PKT_DATA_CONTENT_LIGHT_LEVEL,",
          "content_same": false
        },
        {
          "line": 3645,
          "old_api": null,
          "new_api": "fix_index_entry_timestamps",
          "old_text": null,
          "new_text": "fix_index_entry_timestamps(st, st->nb_index_entries, edit_list_dts_counter,\n                                                       frame_duration_buffer, num_discarded_begin)",
          "old_line_content": "                        // Make timestamps strictly monotonically increasing for audio, by rewriting timestamps for",
          "new_line_content": "                            fix_index_entry_timestamps(st, st->nb_index_entries, edit_list_dts_counter,",
          "content_same": false
        },
        {
          "line": 5694,
          "old_api": null,
          "new_api": "av_stristr",
          "old_text": null,
          "new_text": "av_stristr(buffer, \"<GSpherical:StitchingSoftware>\")",
          "old_line_content": "",
          "new_line_content": "        av_stristr(buffer, \"<GSpherical:StitchingSoftware>\") &&",
          "content_same": false
        },
        {
          "line": 3647,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&frame_duration_buffer)",
          "old_line_content": "                        if (frame_duration_buffer) {",
          "new_line_content": "                            av_freep(&frame_duration_buffer);",
          "content_same": false
        },
        {
          "line": 5695,
          "old_api": null,
          "new_api": "av_stristr",
          "old_text": null,
          "new_text": "av_stristr(buffer, \"<GSpherical:Spherical>\")",
          "old_line_content": "    /* Check for mandatory keys and values, try to support XML as best-effort */",
          "new_line_content": "        (val = av_stristr(buffer, \"<GSpherical:Spherical>\")) &&",
          "content_same": false
        },
        {
          "line": 5696,
          "old_api": null,
          "new_api": "av_stristr",
          "old_text": null,
          "new_text": "av_stristr(val, \"true\")",
          "old_line_content": "    if (!sc->spherical &&",
          "new_line_content": "        av_stristr(val, \"true\") &&",
          "content_same": false
        },
        {
          "line": 3651,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_DEBUG, \"skip %d audio samples from curr_cts: %\"PRId64\"\\n\", packet_skip_samples, curr_cts)",
          "old_line_content": "                        }",
          "new_line_content": "                    av_log(mov->fc, AV_LOG_DEBUG, \"skip %d audio samples from curr_cts: %\"PRId64\"\\n\", packet_skip_samples, curr_cts);",
          "content_same": false
        },
        {
          "line": 7747,
          "old_api": null,
          "new_api": "ff_configure_buffers_for_index",
          "old_text": null,
          "new_text": "ff_configure_buffers_for_index(s, AV_TIME_BASE)",
          "old_line_content": "            break;",
          "new_line_content": "    ff_configure_buffers_for_index(s, AV_TIME_BASE);",
          "content_same": false
        },
        {
          "line": 3658,
          "old_api": null,
          "new_api": "av_realloc",
          "old_text": null,
          "new_text": "av_realloc(frame_duration_buffer,\n                                                           num_discarded_begin * sizeof(int64_t))",
          "old_line_content": "",
          "new_line_content": "                        frame_duration_buffer = av_realloc(frame_duration_buffer,",
          "content_same": false
        },
        {
          "line": 5707,
          "old_api": null,
          "new_api": "av_stristr",
          "old_text": null,
          "new_text": "av_stristr(buffer, \"<GSpherical:StereoMode>\")",
          "old_line_content": "",
          "new_line_content": "        if (av_stristr(buffer, \"<GSpherical:StereoMode>\") && !sc->stereo3d) {",
          "content_same": false
        },
        {
          "line": 7755,
          "old_api": null,
          "new_api": "mov_read_close",
          "old_text": null,
          "new_text": "mov_read_close(s)",
          "old_line_content": "",
          "new_line_content": "    mov_read_close(s);",
          "content_same": false
        },
        {
          "line": 5712,
          "old_api": null,
          "new_api": "av_stristr",
          "old_text": null,
          "new_text": "av_stristr(buffer, \"top-bottom\")",
          "old_line_content": "",
          "new_line_content": "            else if (av_stristr(buffer, \"top-bottom\"))",
          "content_same": false
        },
        {
          "line": 5717,
          "old_api": null,
          "new_api": "av_stereo3d_alloc",
          "old_text": null,
          "new_text": "av_stereo3d_alloc()",
          "old_line_content": "            else",
          "new_line_content": "            sc->stereo3d = av_stereo3d_alloc();",
          "content_same": false
        },
        {
          "line": 7769,
          "old_api": null,
          "new_api": "av_rescale",
          "old_text": null,
          "new_text": "av_rescale(current_sample->timestamp, AV_TIME_BASE, msc->time_scale)",
          "old_line_content": "        MOVStreamContext *msc = avst->priv_data;",
          "new_line_content": "            int64_t dts = av_rescale(current_sample->timestamp, AV_TIME_BASE, msc->time_scale);",
          "content_same": false
        },
        {
          "line": 7770,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(s, AV_LOG_TRACE, \"stream %d, sample %d, dts %\"PRId64\"\\n\", i, msc->current_sample, dts)",
          "old_line_content": "        if (msc->pb && msc->current_sample < avst->nb_index_entries) {",
          "new_line_content": "            av_log(s, AV_LOG_TRACE, \"stream %d, sample %d, dts %\"PRId64\"\\n\", i, msc->current_sample, dts);",
          "content_same": false
        },
        {
          "line": 3677,
          "old_api": null,
          "new_api": "FFMIN",
          "old_text": null,
          "new_text": "FFMIN(msc->min_corrected_pts, edit_list_dts_counter + curr_ctts + msc->dts_shift)",
          "old_line_content": "                if (msc->min_corrected_pts < 0) {",
          "new_line_content": "                    msc->min_corrected_pts = FFMIN(msc->min_corrected_pts, edit_list_dts_counter + curr_ctts + msc->dts_shift);",
          "content_same": false
        },
        {
          "line": 5725,
          "old_api": null,
          "new_api": "av_stristr",
          "old_text": null,
          "new_text": "av_stristr(buffer, \"<GSpherical:InitialViewHeadingDegrees>\")",
          "old_line_content": "        }",
          "new_line_content": "        val = av_stristr(buffer, \"<GSpherical:InitialViewHeadingDegrees>\");",
          "content_same": false
        },
        {
          "line": 5727,
          "old_api": null,
          "new_api": "strtol",
          "old_text": null,
          "new_text": "strtol(val, NULL, 10)",
          "old_line_content": "        /* orientation */",
          "new_line_content": "            sc->spherical->yaw = strtol(val, NULL, 10) * (1 << 16);",
          "content_same": false
        },
        {
          "line": 7774,
          "old_api": null,
          "new_api": "FFABS",
          "old_text": null,
          "new_text": "FFABS(best_dts - dts)",
          "old_line_content": "            if (!sample || (!(s->pb->seekable & AVIO_SEEKABLE_NORMAL) && current_sample->pos < sample->pos) ||",
          "new_line_content": "                 ((FFABS(best_dts - dts) <= AV_TIME_BASE && current_sample->pos < sample->pos) ||",
          "content_same": false
        },
        {
          "line": 7775,
          "old_api": null,
          "new_api": "FFABS",
          "old_text": null,
          "new_text": "FFABS(best_dts - dts)",
          "old_line_content": "                ((s->pb->seekable & AVIO_SEEKABLE_NORMAL) &&",
          "new_line_content": "                  (FFABS(best_dts - dts) > AV_TIME_BASE && dts < best_dts)))))) {",
          "content_same": false
        },
        {
          "line": 3684,
          "old_api": null,
          "new_api": "fix_index_entry_timestamps",
          "old_text": null,
          "new_text": "fix_index_entry_timestamps(st, st->nb_index_entries, edit_list_dts_counter,\n                                                   frame_duration_buffer, num_discarded_begin)",
          "old_line_content": "                    // Make timestamps strictly monotonically increasing by rewriting timestamps for",
          "new_line_content": "                        fix_index_entry_timestamps(st, st->nb_index_entries, edit_list_dts_counter,",
          "content_same": false
        },
        {
          "line": 3686,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&frame_duration_buffer)",
          "old_line_content": "                    if (frame_duration_buffer) {",
          "new_line_content": "                        av_freep(&frame_duration_buffer);",
          "content_same": false
        },
        {
          "line": 5737,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(buffer)",
          "old_line_content": "    }",
          "new_line_content": "    av_free(buffer);",
          "content_same": false
        },
        {
          "line": 7786,
          "old_api": null,
          "new_api": "avio_feof",
          "old_text": null,
          "new_text": "avio_feof(pb)",
          "old_line_content": "}",
          "new_line_content": "    if (error_code == AVERROR_EOF || avio_feof(pb))",
          "content_same": false
        },
        {
          "line": 3691,
          "old_api": null,
          "new_api": "add_index_entry",
          "old_text": null,
          "new_text": "add_index_entry(st, current->pos, edit_list_dts_counter, current->size,\n                                current->min_distance, flags)",
          "old_line_content": "                }",
          "new_line_content": "            if (add_index_entry(st, current->pos, edit_list_dts_counter, current->size,",
          "content_same": false
        },
        {
          "line": 3693,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_ERROR, \"Cannot add index entry\\n\")",
          "old_line_content": "",
          "new_line_content": "                av_log(mov->fc, AV_LOG_ERROR, \"Cannot add index entry\\n\");",
          "content_same": false
        },
        {
          "line": 7799,
          "old_api": null,
          "new_api": "avio_seek",
          "old_text": null,
          "new_text": "avio_seek(s->pb, target, SEEK_SET)",
          "old_line_content": "",
          "new_line_content": "    if (avio_seek(s->pb, target, SEEK_SET) != target) {",
          "content_same": false
        },
        {
          "line": 7800,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_ERROR, \"root atom offset 0x%\"PRIx64\": partial file\\n\", target)",
          "old_line_content": "    if (index >= 0 && index < mov->frag_index.nb_items)",
          "new_line_content": "        av_log(mov->fc, AV_LOG_ERROR, \"root atom offset 0x%\"PRIx64\": partial file\\n\", target);",
          "content_same": false
        },
        {
          "line": 7806,
          "old_api": null,
          "new_api": "search_frag_moof_offset",
          "old_text": null,
          "new_text": "search_frag_moof_offset(&mov->frag_index, target)",
          "old_line_content": "",
          "new_line_content": "        index = search_frag_moof_offset(&mov->frag_index, target);",
          "content_same": false
        },
        {
          "line": 5760,
          "old_api": null,
          "new_api": "FFMIN",
          "old_text": null,
          "new_text": "FFMIN(INT_MAX, SIZE_MAX)",
          "old_line_content": "        0x88, 0x14, 0x58, 0x7a, 0x02, 0x52, 0x1f, 0xdd,",
          "new_line_content": "    if (atom.size < sizeof(uuid) || atom.size >= FFMIN(INT_MAX, SIZE_MAX))",
          "content_same": false
        },
        {
          "line": 5768,
          "old_api": null,
          "new_api": "avio_read",
          "old_text": null,
          "new_text": "avio_read(pb, uuid, sizeof(uuid))",
          "old_line_content": "    st = c->fc->streams[c->fc->nb_streams - 1];",
          "new_line_content": "    ret = avio_read(pb, uuid, sizeof(uuid));",
          "content_same": false
        },
        {
          "line": 3721,
          "old_api": null,
          "new_api": "add_ctts_entry",
          "old_text": null,
          "new_text": "add_ctts_entry(&msc->ctts_data, &msc->ctts_count,\n                                           &msc->ctts_allocated_size,\n                                           ctts_sample_old - edit_list_start_ctts_sample,\n                                           ctts_data_old[ctts_index_old].duration)",
          "old_line_content": "                        continue;",
          "new_line_content": "                        if (add_ctts_entry(&msc->ctts_data, &msc->ctts_count,",
          "content_same": false
        },
        {
          "line": 7818,
          "old_api": null,
          "new_api": "AV_RL32",
          "old_text": null,
          "new_text": "AV_RL32(\"root\")",
          "old_line_content": "",
          "new_line_content": "    ret = mov_read_default(mov, s->pb, (MOVAtom){ AV_RL32(\"root\"), INT64_MAX });",
          "content_same": false
        },
        {
          "line": 3725,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_ERROR, \"Cannot add CTTS entry %\"PRId64\" - {%\"PRId64\", %d}\\n\",\n                                   ctts_index_old, ctts_sample_old - edit_list_start_ctts_sample,\n                                   ctts_data_old[ctts_index_old].duration)",
          "old_line_content": "                                           &msc->ctts_allocated_size,",
          "new_line_content": "                            av_log(mov->fc, AV_LOG_ERROR, \"Cannot add CTTS entry %\"PRId64\" - {%\"PRId64\", %d}\\n\",",
          "content_same": false
        },
        {
          "line": 5774,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(uuid, uuid_isml_manifest, sizeof(uuid))",
          "old_line_content": "    } else if (ret != sizeof(uuid)) {",
          "new_line_content": "    if (!memcmp(uuid, uuid_isml_manifest, sizeof(uuid))) {",
          "content_same": false
        },
        {
          "line": 7823,
          "old_api": null,
          "new_api": "avio_tell",
          "old_text": null,
          "new_text": "avio_tell(s->pb)",
          "old_line_content": "        return ret;",
          "new_line_content": "    av_log(s, AV_LOG_TRACE, \"read fragments, offset 0x%\"PRIx64\"\\n\", avio_tell(s->pb));",
          "content_same": false
        },
        {
          "line": 5782,
          "old_api": null,
          "new_api": "avio_skip",
          "old_text": null,
          "new_text": "avio_skip(pb, 4)",
          "old_line_content": "        if (len < 4) {",
          "new_line_content": "        ret = avio_skip(pb, 4); // zeroes",
          "content_same": false
        },
        {
          "line": 5787,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "            return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 5789,
          "old_api": null,
          "new_api": "avio_read",
          "old_text": null,
          "new_text": "avio_read(pb, buffer, len)",
          "old_line_content": "        if (!buffer) {",
          "new_line_content": "        ret = avio_read(pb, buffer, len);",
          "content_same": false
        },
        {
          "line": 5791,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(buffer)",
          "old_line_content": "        }",
          "new_line_content": "            av_free(buffer);",
          "content_same": false
        },
        {
          "line": 3744,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_DEBUG, \"Offset DTS by %\"PRId64\" to make first pts zero.\\n\", msc->min_corrected_pts)",
          "old_line_content": "    // dts by that amount to make the first pts zero.",
          "new_line_content": "            av_log(mov->fc, AV_LOG_DEBUG, \"Offset DTS by %\"PRId64\" to make first pts zero.\\n\", msc->min_corrected_pts);",
          "content_same": false
        },
        {
          "line": 7840,
          "old_api": null,
          "new_api": "av_packet_new_side_data",
          "old_text": null,
          "new_text": "av_packet_new_side_data(pkt,\n                                       AV_PKT_DATA_NEW_EXTRADATA,\n                                       extradata_size)",
          "old_line_content": "    extradata_size = sc->extradata_size[sc->last_stsd_index];",
          "new_line_content": "        side = av_packet_new_side_data(pkt,",
          "content_same": false
        },
        {
          "line": 7844,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "                                       AV_PKT_DATA_NEW_EXTRADATA,",
          "new_line_content": "            return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 7845,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(side, extradata, extradata_size)",
          "old_line_content": "                                       extradata_size);",
          "new_line_content": "        memcpy(side, extradata, extradata_size);",
          "content_same": false
        },
        {
          "line": 5799,
          "old_api": null,
          "new_api": "av_stristr",
          "old_text": null,
          "new_text": "av_stristr(ptr, \"systemBitrate=\\\"\")",
          "old_line_content": "        }",
          "new_line_content": "        while ((ptr = av_stristr(ptr, \"systemBitrate=\\\"\"))) {",
          "content_same": false
        },
        {
          "line": 3754,
          "old_api": null,
          "new_api": "FFMIN",
          "old_text": null,
          "new_text": "FFMIN(st->duration, edit_list_dts_entry_end - start_dts)",
          "old_line_content": "    st->start_time = empty_edits_sum_duration;",
          "new_line_content": "    st->duration = FFMIN(st->duration, edit_list_dts_entry_end - start_dts);",
          "content_same": false
        },
        {
          "line": 3758,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(e_old)",
          "old_line_content": "    msc->start_pad = st->skip_samples;",
          "new_line_content": "    av_free(e_old);",
          "content_same": false
        },
        {
          "line": 3759,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(ctts_data_old)",
          "old_line_content": "",
          "new_line_content": "    av_free(ctts_data_old);",
          "content_same": false
        },
        {
          "line": 3760,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&frame_duration_buffer)",
          "old_line_content": "    // Free the old index and the old CTTS structures",
          "new_line_content": "    av_freep(&frame_duration_buffer);",
          "content_same": false
        },
        {
          "line": 5806,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "            if (!c->bitrates) {",
          "new_line_content": "                return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 7858,
          "old_api": null,
          "new_api": "av_new_packet",
          "old_text": null,
          "new_text": "av_new_packet(pkt, new_size)",
          "old_line_content": "    if (size <= 8)",
          "new_line_content": "    ret = av_new_packet(pkt, new_size);",
          "content_same": false
        },
        {
          "line": 7862,
          "old_api": null,
          "new_api": "avio_skip",
          "old_text": null,
          "new_text": "avio_skip(pb, 8)",
          "old_line_content": "    if (ret < 0)",
          "new_line_content": "    avio_skip(pb, 8);",
          "content_same": false
        },
        {
          "line": 5817,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(buffer)",
          "old_line_content": "            }",
          "new_line_content": "        av_free(buffer);",
          "content_same": false
        },
        {
          "line": 5818,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(uuid, uuid_xmp, sizeof(uuid))",
          "old_line_content": "        }",
          "new_line_content": "    } else if (!memcmp(uuid, uuid_xmp, sizeof(uuid))) {",
          "content_same": false
        },
        {
          "line": 7866,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "    for (int j = 0; j < new_size; j += 3) {",
          "new_line_content": "        pkt->data[j+2] = avio_r8(pb);",
          "content_same": false
        },
        {
          "line": 5822,
          "old_api": null,
          "new_api": "av_mallocz",
          "old_text": null,
          "new_text": "av_mallocz(len + 1)",
          "old_line_content": "        uint8_t *buffer;",
          "new_line_content": "            buffer = av_mallocz(len + 1);",
          "content_same": false
        },
        {
          "line": 5824,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "        if (c->export_xmp) {",
          "new_line_content": "                return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 5826,
          "old_api": null,
          "new_api": "avio_read",
          "old_text": null,
          "new_text": "avio_read(pb, buffer, len)",
          "old_line_content": "            if (!buffer) {",
          "new_line_content": "            ret = avio_read(pb, buffer, len);",
          "content_same": false
        },
        {
          "line": 5828,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(buffer)",
          "old_line_content": "            }",
          "new_line_content": "                av_free(buffer);",
          "content_same": false
        },
        {
          "line": 7882,
          "old_api": null,
          "new_api": "mov_find_next_sample",
          "old_text": null,
          "new_text": "mov_find_next_sample(s, &st)",
          "old_line_content": "    int ret;",
          "new_line_content": "    sample = mov_find_next_sample(s, &st);",
          "content_same": false
        },
        {
          "line": 5835,
          "old_api": null,
          "new_api": "av_dict_set",
          "old_text": null,
          "new_text": "av_dict_set(&c->fc->metadata, \"xmp\",\n                        buffer, AV_DICT_DONT_STRDUP_VAL)",
          "old_line_content": "                return AVERROR_INVALIDDATA;",
          "new_line_content": "            av_dict_set(&c->fc->metadata, \"xmp\",",
          "content_same": false
        },
        {
          "line": 7886,
          "old_api": null,
          "new_api": "mov_switch_root",
          "old_text": null,
          "new_text": "mov_switch_root(s, mov->next_root_atom, -1)",
          "old_line_content": "    if (!sample || (mov->next_root_atom && sample->pos > mov->next_root_atom)) {",
          "new_line_content": "        if ((ret = mov_switch_root(s, mov->next_root_atom, -1)) < 0)",
          "content_same": false
        },
        {
          "line": 5839,
          "old_api": null,
          "new_api": "avio_skip",
          "old_text": null,
          "new_text": "avio_skip(pb, len)",
          "old_line_content": "                        buffer, AV_DICT_DONT_STRDUP_VAL);",
          "new_line_content": "            ret = avio_skip(pb, len);",
          "content_same": false
        },
        {
          "line": 5843,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(uuid, uuid_spherical, sizeof(uuid))",
          "old_line_content": "            if (ret < 0)",
          "new_line_content": "    } else if (!memcmp(uuid, uuid_spherical, sizeof(uuid))) {",
          "content_same": false
        },
        {
          "line": 5845,
          "old_api": null,
          "new_api": "mov_parse_uuid_spherical",
          "old_text": null,
          "new_text": "mov_parse_uuid_spherical(sc, pb, len)",
          "old_line_content": "        }",
          "new_line_content": "        ret = mov_parse_uuid_spherical(sc, pb, len);",
          "content_same": false
        },
        {
          "line": 7893,
          "old_api": null,
          "new_api": "mov_current_sample_inc",
          "old_text": null,
          "new_text": "mov_current_sample_inc(sc)",
          "old_line_content": "    sc = st->priv_data;",
          "new_line_content": "    mov_current_sample_inc(sc);",
          "content_same": false
        },
        {
          "line": 5849,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING, \"Invalid spherical metadata found\\n\")",
          "old_line_content": "        if (ret < 0)",
          "new_line_content": "            av_log(c->fc, AV_LOG_WARNING, \"Invalid spherical metadata found\\n\");",
          "content_same": false
        },
        {
          "line": 7897,
          "old_api": null,
          "new_api": "FFMIN",
          "old_text": null,
          "new_text": "FFMIN(sample->size, (mov->next_root_atom - sample->pos))",
          "old_line_content": "",
          "new_line_content": "        sample->size = FFMIN(sample->size, (mov->next_root_atom - sample->pos));",
          "content_same": false
        },
        {
          "line": 3803,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_WARNING, \"multiple edit list entries, \"\n                   \"Use -advanced_editlist to correctly decode otherwise \"\n                   \"a/v desync might occur\\n\")",
          "old_line_content": "        }",
          "new_line_content": "            av_log(mov->fc, AV_LOG_WARNING, \"multiple edit list entries, \"",
          "content_same": false
        },
        {
          "line": 7901,
          "old_api": null,
          "new_api": "avio_seek",
          "old_text": null,
          "new_text": "avio_seek(sc->pb, sample->pos, SEEK_SET)",
          "old_line_content": "    }",
          "new_line_content": "        int64_t ret64 = avio_seek(sc->pb, sample->pos, SEEK_SET);",
          "content_same": false
        },
        {
          "line": 7903,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_ERROR, \"stream %d, offset 0x%\"PRIx64\": partial file\\n\",\n                   sc->ffindex, sample->pos)",
          "old_line_content": "    if (st->discard != AVDISCARD_ALL) {",
          "new_line_content": "            av_log(mov->fc, AV_LOG_ERROR, \"stream %d, offset 0x%\"PRIx64\": partial file\\n\",",
          "content_same": false
        },
        {
          "line": 7905,
          "old_api": null,
          "new_api": "should_retry",
          "old_text": null,
          "new_text": "should_retry(sc->pb, ret64)",
          "old_line_content": "        if (ret64 != sample->pos) {",
          "new_line_content": "            if (should_retry(sc->pb, ret64)) {",
          "content_same": false
        },
        {
          "line": 3810,
          "old_api": null,
          "new_api": "av_rescale",
          "old_text": null,
          "new_text": "av_rescale(empty_duration, sc->time_scale, mov->time_scale)",
          "old_line_content": "        /* adjust first dts according to edit list */",
          "new_line_content": "                empty_duration = av_rescale(empty_duration, sc->time_scale, mov->time_scale);",
          "content_same": false
        },
        {
          "line": 5863,
          "old_api": null,
          "new_api": "FFMIN",
          "old_text": null,
          "new_text": "FFMIN(sizeof(content), atom.size)",
          "old_line_content": "    if (atom.size < 8)",
          "new_line_content": "    ret = avio_read(pb, content, FFMIN(sizeof(content), atom.size));",
          "content_same": false
        },
        {
          "line": 7912,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_DEBUG, \"Nonkey frame from stream %d discarded due to AVDISCARD_NONKEY\\n\", sc->ffindex)",
          "old_line_content": "        }",
          "new_line_content": "            av_log(mov->fc, AV_LOG_DEBUG, \"Nonkey frame from stream %d discarded due to AVDISCARD_NONKEY\\n\", sc->ffindex);",
          "content_same": false
        },
        {
          "line": 5869,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(content, \"Anevia\\x1A\\x1A\", 8)",
          "old_line_content": "",
          "new_line_content": "        && !memcmp(content, \"Anevia\\x1A\\x1A\", 8)",
          "content_same": false
        },
        {
          "line": 7917,
          "old_api": null,
          "new_api": "get_eia608_packet",
          "old_text": null,
          "new_text": "get_eia608_packet(sc->pb, pkt, sample->size)",
          "old_line_content": "        }",
          "new_line_content": "            ret = get_eia608_packet(sc->pb, pkt, sample->size);",
          "content_same": false
        },
        {
          "line": 7919,
          "old_api": null,
          "new_api": "av_get_packet",
          "old_text": null,
          "new_text": "av_get_packet(sc->pb, pkt, sample->size)",
          "old_line_content": "        if (st->codecpar->codec_id == AV_CODEC_ID_EIA_608 && sample->size > 8)",
          "new_line_content": "        ret = av_get_packet(sc->pb, pkt, sample->size);",
          "content_same": false
        },
        {
          "line": 7921,
          "old_api": null,
          "new_api": "should_retry",
          "old_text": null,
          "new_text": "should_retry(sc->pb, ret)",
          "old_line_content": "        else",
          "new_line_content": "            if (should_retry(sc->pb, ret)) {",
          "content_same": false
        },
        {
          "line": 5879,
          "old_api": null,
          "new_api": "avio_rl32",
          "old_text": null,
          "new_text": "avio_rl32(pb)",
          "old_line_content": "",
          "new_line_content": "    uint32_t format = avio_rl32(pb);",
          "content_same": false
        },
        {
          "line": 7929,
          "old_api": null,
          "new_api": "av_packet_new_side_data",
          "old_text": null,
          "new_text": "av_packet_new_side_data(pkt, AV_PKT_DATA_PALETTE, AVPALETTE_SIZE)",
          "old_line_content": "        if (sc->has_palette) {",
          "new_line_content": "            pal = av_packet_new_side_data(pkt, AV_PKT_DATA_PALETTE, AVPALETTE_SIZE);",
          "content_same": false
        },
        {
          "line": 7931,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_ERROR, \"Cannot append palette to packet\\n\")",
          "old_line_content": "",
          "new_line_content": "                av_log(mov->fc, AV_LOG_ERROR, \"Cannot append palette to packet\\n\");",
          "content_same": false
        },
        {
          "line": 7933,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(pal, sc->palette, AVPALETTE_SIZE)",
          "old_line_content": "            if (!pal) {",
          "new_line_content": "                memcpy(pal, sc->palette, AVPALETTE_SIZE);",
          "content_same": false
        },
        {
          "line": 3843,
          "old_api": null,
          "new_api": "av_reallocp_array",
          "old_text": null,
          "new_text": "av_reallocp_array(&st->index_entries,\n                              st->nb_index_entries + sc->sample_count,\n                              sizeof(*st->index_entries))",
          "old_line_content": "            return;",
          "new_line_content": "        if (av_reallocp_array(&st->index_entries,",
          "content_same": false
        },
        {
          "line": 5891,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('e','n','c','v')",
          "old_line_content": "",
          "new_line_content": "    case MKTAG('e','n','c','v'):        // encrypted video",
          "content_same": false
        },
        {
          "line": 5892,
          "old_api": null,
          "new_api": "MKTAG",
          "old_text": null,
          "new_text": "MKTAG('e','n','c','a')",
          "old_line_content": "    switch (sc->format)",
          "new_line_content": "    case MKTAG('e','n','c','a'):        // encrypted audio",
          "content_same": false
        },
        {
          "line": 5893,
          "old_api": null,
          "new_api": "mov_codec_id",
          "old_text": null,
          "new_text": "mov_codec_id(st, format)",
          "old_line_content": "    {",
          "new_line_content": "        id = mov_codec_id(st, format);",
          "content_same": false
        },
        {
          "line": 7939,
          "old_api": null,
          "new_api": "avpriv_dv_produce_packet",
          "old_text": null,
          "new_text": "avpriv_dv_produce_packet(mov->dv_demux, pkt, pkt->data, pkt->size, pkt->pos)",
          "old_line_content": "        }",
          "new_line_content": "            avpriv_dv_produce_packet(mov->dv_demux, pkt, pkt->data, pkt->size, pkt->pos);",
          "content_same": false
        },
        {
          "line": 7940,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&pkt->data)",
          "old_line_content": "#if CONFIG_DV_DEMUXER",
          "new_line_content": "            av_freep(&pkt->data);",
          "content_same": false
        },
        {
          "line": 7948,
          "old_api": null,
          "new_api": "AV_RB32",
          "old_text": null,
          "new_text": "AV_RB32(pkt->data)",
          "old_line_content": "        }",
          "new_line_content": "            if (ff_mpa_check_header(AV_RB32(pkt->data)) < 0)",
          "content_same": false
        },
        {
          "line": 3857,
          "old_api": null,
          "new_api": "av_fast_realloc",
          "old_text": null,
          "new_text": "av_fast_realloc(NULL, &sc->ctts_allocated_size,\n                                    sc->sample_count * sizeof(*sc->ctts_data))",
          "old_line_content": "                return;",
          "new_line_content": "            sc->ctts_data = av_fast_realloc(NULL, &sc->ctts_allocated_size,",
          "content_same": false
        },
        {
          "line": 5908,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_WARNING,\n                   \"ignoring 'frma' atom of '%.4s', stream format is '%.4s'\\n\",\n                   (char*)&format, (char*)&sc->format)",
          "old_line_content": "",
          "new_line_content": "            av_log(c->fc, AV_LOG_WARNING,",
          "content_same": false
        },
        {
          "line": 3864,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset((uint8_t*)(sc->ctts_data), 0, sc->ctts_allocated_size)",
          "old_line_content": "                return;",
          "new_line_content": "            memset((uint8_t*)(sc->ctts_data), 0, sc->ctts_allocated_size);",
          "content_same": false
        },
        {
          "line": 3870,
          "old_api": null,
          "new_api": "add_ctts_entry",
          "old_text": null,
          "new_text": "add_ctts_entry(&sc->ctts_data, &sc->ctts_count,\n                                   &sc->ctts_allocated_size, 1,\n                                   ctts_data_old[i].duration)",
          "old_line_content": "                        sc->ctts_count < sc->sample_count; i++)",
          "new_line_content": "                    add_ctts_entry(&sc->ctts_data, &sc->ctts_count,",
          "content_same": false
        },
        {
          "line": 3879,
          "old_api": null,
          "new_api": "mov_stsc_index_valid",
          "old_text": null,
          "new_text": "mov_stsc_index_valid(stsc_index, sc->stsc_count)",
          "old_line_content": "        for (i = 0; i < sc->chunk_count; i++) {",
          "new_line_content": "            while (mov_stsc_index_valid(stsc_index, sc->stsc_count) &&",
          "content_same": false
        },
        {
          "line": 5930,
          "old_api": null,
          "new_api": "get_current_frag_stream_info",
          "old_text": null,
          "new_text": "get_current_frag_stream_info(&c->frag_index)",
          "old_line_content": "    AVStream *st;",
          "new_line_content": "    frag_stream_info = get_current_frag_stream_info(&c->frag_index);",
          "content_same": false
        },
        {
          "line": 3885,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_WARNING, \"STSZ sample size %d invalid (too large), ignoring\\n\", sc->stsz_sample_size)",
          "old_line_content": "",
          "new_line_content": "                av_log(mov->fc, AV_LOG_WARNING, \"STSZ sample size %d invalid (too large), ignoring\\n\", sc->stsz_sample_size);",
          "content_same": false
        },
        {
          "line": 3889,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_WARNING, \"STSZ sample size %d invalid (too small), ignoring\\n\", sc->stsz_sample_size)",
          "old_line_content": "                sc->stsz_sample_size = sc->sample_size;",
          "new_line_content": "                av_log(mov->fc, AV_LOG_WARNING, \"STSZ sample size %d invalid (too small), ignoring\\n\", sc->stsz_sample_size);",
          "content_same": false
        },
        {
          "line": 7990,
          "old_api": null,
          "new_api": "mov_stsc_index_valid",
          "old_text": null,
          "new_text": "mov_stsc_index_valid(sc->stsc_index, sc->stsc_count)",
          "old_line_content": "        /* Keep track of the stsc index for the given sample, then check",
          "new_line_content": "        if (mov_stsc_index_valid(sc->stsc_index, sc->stsc_count) &&",
          "content_same": false
        },
        {
          "line": 7991,
          "old_api": null,
          "new_api": "mov_get_stsc_samples",
          "old_text": null,
          "new_text": "mov_get_stsc_samples(sc, sc->stsc_index)",
          "old_line_content": "        * if the stsd index is different from the last used one. */",
          "new_line_content": "            mov_get_stsc_samples(sc, sc->stsc_index) == sc->stsc_sample) {",
          "content_same": false
        },
        {
          "line": 3896,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_ERROR, \"wrong sample count\\n\")",
          "old_line_content": "            for (j = 0; j < sc->stsc_data[stsc_index].count; j++) {",
          "new_line_content": "                    av_log(mov->fc, AV_LOG_ERROR, \"wrong sample count\\n\");",
          "content_same": false
        },
        {
          "line": 5946,
          "old_api": null,
          "new_api": "av_mallocz",
          "old_text": null,
          "new_text": "av_mallocz(sizeof(*frag_stream_info->encryption_index))",
          "old_line_content": "            // If this stream isn't encrypted, don't create the index.",
          "new_line_content": "            frag_stream_info->encryption_index = av_mallocz(sizeof(*frag_stream_info->encryption_index));",
          "content_same": false
        },
        {
          "line": 5948,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "                return 0;",
          "new_line_content": "                return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 7998,
          "old_api": null,
          "new_api": "mov_change_extradata",
          "old_text": null,
          "new_text": "mov_change_extradata(sc, pkt)",
          "old_line_content": "        } else if (sc->stsc_data[sc->stsc_index].id > 0 &&",
          "new_line_content": "            ret = mov_change_extradata(sc, pkt);",
          "content_same": false
        },
        {
          "line": 8005,
          "old_api": null,
          "new_api": "aax_filter",
          "old_text": null,
          "new_text": "aax_filter(pkt->data, pkt->size, mov)",
          "old_line_content": "    }",
          "new_line_content": "        aax_filter(pkt->data, pkt->size, mov);",
          "content_same": false
        },
        {
          "line": 8007,
          "old_api": null,
          "new_api": "cenc_filter",
          "old_text": null,
          "new_text": "cenc_filter(mov, st, sc, pkt, current_index)",
          "old_line_content": "    if (mov->aax_mode)",
          "new_line_content": "    ret = cenc_filter(mov, st, sc, pkt, current_index);",
          "content_same": false
        },
        {
          "line": 5964,
          "old_api": null,
          "new_api": "av_mallocz",
          "old_text": null,
          "new_text": "av_mallocz(sizeof(*frag_stream_info->encryption_index))",
          "old_line_content": "            // If this stream isn't encrypted, don't create the index.",
          "new_line_content": "            (*sc)->cenc.encryption_index = av_mallocz(sizeof(*frag_stream_info->encryption_index));",
          "content_same": false
        },
        {
          "line": 5966,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "                return 0;",
          "new_line_content": "                return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 8023,
          "old_api": null,
          "new_api": "search_frag_timestamp",
          "old_text": null,
          "new_text": "search_frag_timestamp(&mov->frag_index, st, timestamp)",
          "old_line_content": "    if (!mov->frag_index.complete)",
          "new_line_content": "    index = search_frag_timestamp(&mov->frag_index, st, timestamp);",
          "content_same": false
        },
        {
          "line": 3929,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_ERROR, \"Sample size %u is too large\\n\", sample_size)",
          "old_line_content": "                   sc->stsc_data[stsc_index].id - 1 == sc->pseudo_stream_id) {",
          "new_line_content": "                        av_log(mov->fc, AV_LOG_ERROR, \"Sample size %u is too large\\n\", sample_size);",
          "content_same": false
        },
        {
          "line": 8027,
          "old_api": null,
          "new_api": "mov_switch_root",
          "old_text": null,
          "new_text": "mov_switch_root(s, -1, index)",
          "old_line_content": "    if (index < 0)",
          "new_line_content": "        return mov_switch_root(s, -1, index);",
          "content_same": false
        },
        {
          "line": 5981,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Missing schm or tenc\\n\")",
          "old_line_content": "    AVSubsampleEncryptionInfo *subsamples;",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Missing schm or tenc\\n\");",
          "content_same": false
        },
        {
          "line": 5985,
          "old_api": null,
          "new_api": "av_encryption_info_clone",
          "old_text": null,
          "new_text": "av_encryption_info_clone(sc->cenc.default_encrypted_sample)",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "    *sample = av_encryption_info_clone(sc->cenc.default_encrypted_sample);",
          "content_same": false
        },
        {
          "line": 3938,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_TRACE, \"AVIndex stream %d, sample %u, offset %\"PRIx64\", dts %\"PRId64\", \"\n                            \"size %u, distance %u, keyframe %d\\n\", st->index, current_sample,\n                            current_offset, current_dts, sample_size, distance, keyframe)",
          "old_line_content": "                    e->size = sample_size;",
          "new_line_content": "                    av_log(mov->fc, AV_LOG_TRACE, \"AVIndex stream %d, sample %u, offset %\"PRIx64\", dts %\"PRId64\", \"",
          "content_same": false
        },
        {
          "line": 5987,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 3942,
          "old_api": null,
          "new_api": "ff_rfps_add_frame",
          "old_text": null,
          "new_text": "ff_rfps_add_frame(mov->fc, st, current_dts)",
          "old_line_content": "                            \"size %u, distance %u, keyframe %d\\n\", st->index, current_sample,",
          "new_line_content": "                        ff_rfps_add_frame(mov->fc, st, current_dts);",
          "content_same": false
        },
        {
          "line": 5991,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"failed to read the initialization vector\\n\")",
          "old_line_content": "",
          "new_line_content": "            av_log(c->fc, AV_LOG_ERROR, \"failed to read the initialization vector\\n\");",
          "content_same": false
        },
        {
          "line": 5992,
          "old_api": null,
          "new_api": "av_encryption_info_free",
          "old_text": null,
          "new_text": "av_encryption_info_free(*sample)",
          "old_line_content": "    if (sc->cenc.per_sample_iv_size != 0) {",
          "new_line_content": "            av_encryption_info_free(*sample);",
          "content_same": false
        },
        {
          "line": 8044,
          "old_api": null,
          "new_api": "mov_seek_fragment",
          "old_text": null,
          "new_text": "mov_seek_fragment(s, st, timestamp)",
          "old_line_content": "    // can search over the DTS timeline.",
          "new_line_content": "    ret = mov_seek_fragment(s, st, timestamp);",
          "content_same": false
        },
        {
          "line": 3951,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_WARNING,\n                           \"Invalid SampleDelta %d in STTS, at %d st:%d\\n\",\n                           sc->stts_data[stts_index].duration, stts_index,\n                           st->index)",
          "old_line_content": "                /* A negative sample duration is invalid based on the spec,",
          "new_line_content": "                    av_log(mov->fc, AV_LOG_WARNING,",
          "content_same": false
        },
        {
          "line": 5999,
          "old_api": null,
          "new_api": "avio_rb16",
          "old_text": null,
          "new_text": "avio_rb16(pb)",
          "old_line_content": "    }",
          "new_line_content": "        subsample_count = avio_rb16(pb);",
          "content_same": false
        },
        {
          "line": 6000,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free((*sample)->subsamples)",
          "old_line_content": "",
          "new_line_content": "        av_free((*sample)->subsamples);",
          "content_same": false
        },
        {
          "line": 6001,
          "old_api": null,
          "new_api": "av_mallocz_array",
          "old_text": null,
          "new_text": "av_mallocz_array(subsample_count, sizeof(*subsamples))",
          "old_line_content": "    if (use_subsamples) {",
          "new_line_content": "        (*sample)->subsamples = av_mallocz_array(subsample_count, sizeof(*subsamples));",
          "content_same": false
        },
        {
          "line": 8048,
          "old_api": null,
          "new_api": "av_index_search_timestamp",
          "old_text": null,
          "new_text": "av_index_search_timestamp(st, timestamp, flags)",
          "old_line_content": "    if (ret < 0)",
          "new_line_content": "    sample = av_index_search_timestamp(st, timestamp, flags);",
          "content_same": false
        },
        {
          "line": 8049,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(s, AV_LOG_TRACE, \"stream %d, timestamp %\"PRId64\", sample %d\\n\", st->index, timestamp, sample)",
          "old_line_content": "        return ret;",
          "new_line_content": "    av_log(s, AV_LOG_TRACE, \"stream %d, timestamp %\"PRId64\", sample %d\\n\", st->index, timestamp, sample);",
          "content_same": false
        },
        {
          "line": 6005,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "        if (!(*sample)->subsamples) {",
          "new_line_content": "            return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 8054,
          "old_api": null,
          "new_api": "mov_current_sample_set",
          "old_text": null,
          "new_text": "mov_current_sample_set(sc, sample)",
          "old_line_content": "        sample = 0;",
          "new_line_content": "    mov_current_sample_set(sc, sample);",
          "content_same": false
        },
        {
          "line": 8055,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(s, AV_LOG_TRACE, \"stream %d, found sample %d\\n\", st->index, sc->current_sample)",
          "old_line_content": "    if (sample < 0) /* not sure what to do */",
          "new_line_content": "    av_log(s, AV_LOG_TRACE, \"stream %d, found sample %d\\n\", st->index, sc->current_sample);",
          "content_same": false
        },
        {
          "line": 6009,
          "old_api": null,
          "new_api": "avio_rb16",
          "old_text": null,
          "new_text": "avio_rb16(pb)",
          "old_line_content": "        }",
          "new_line_content": "            (*sample)->subsamples[i].bytes_of_clear_data = avio_rb16(pb);",
          "content_same": false
        },
        {
          "line": 6010,
          "old_api": null,
          "new_api": "avio_rb32",
          "old_text": null,
          "new_text": "avio_rb32(pb)",
          "old_line_content": "",
          "new_line_content": "            (*sample)->subsamples[i].bytes_of_protected_data = avio_rb32(pb);",
          "content_same": false
        },
        {
          "line": 6014,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"hit EOF while reading sub-sample encryption info\\n\")",
          "old_line_content": "        }",
          "new_line_content": "            av_log(c->fc, AV_LOG_ERROR, \"hit EOF while reading sub-sample encryption info\\n\");",
          "content_same": false
        },
        {
          "line": 6015,
          "old_api": null,
          "new_api": "av_encryption_info_free",
          "old_text": null,
          "new_text": "av_encryption_info_free(*sample)",
          "old_line_content": "",
          "new_line_content": "            av_encryption_info_free(*sample);",
          "content_same": false
        },
        {
          "line": 8074,
          "old_api": null,
          "new_api": "mov_get_stsc_samples",
          "old_text": null,
          "new_text": "mov_get_stsc_samples(sc, i)",
          "old_line_content": "    if (sc->chunk_count) {",
          "new_line_content": "        int64_t next = time_sample + mov_get_stsc_samples(sc, i);",
          "content_same": false
        },
        {
          "line": 8080,
          "old_api": null,
          "new_api": "av_assert0",
          "old_text": null,
          "new_text": "av_assert0(next == (int)next)",
          "old_line_content": "            sc->stsc_sample = sc->current_sample - time_sample;",
          "new_line_content": "        av_assert0(next == (int)next);",
          "content_same": false
        },
        {
          "line": 6033,
          "old_api": null,
          "new_api": "get_current_encryption_info",
          "old_text": null,
          "new_text": "get_current_encryption_info(c, &encryption_index, &sc)",
          "old_line_content": "    int use_subsamples, ret;",
          "new_line_content": "    ret = get_current_encryption_info(c, &encryption_index, &sc);",
          "content_same": false
        },
        {
          "line": 6039,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_DEBUG, \"Ignoring duplicate encryption info in senc\\n\")",
          "old_line_content": "",
          "new_line_content": "        av_log(c->fc, AV_LOG_DEBUG, \"Ignoring duplicate encryption info in senc\\n\");",
          "content_same": false
        },
        {
          "line": 3992,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_ERROR, \"error unaligned chunk\\n\")",
          "old_line_content": "            chunk_samples = sc->stsc_data[i].count;",
          "new_line_content": "                av_log(mov->fc, AV_LOG_ERROR, \"error unaligned chunk\\n\");",
          "content_same": false
        },
        {
          "line": 6043,
          "old_api": null,
          "new_api": "avio_r8",
          "old_text": null,
          "new_text": "avio_r8(pb)",
          "old_line_content": "        return 0;",
          "new_line_content": "    avio_r8(pb); /* version */",
          "content_same": false
        },
        {
          "line": 6044,
          "old_api": null,
          "new_api": "avio_rb24",
          "old_text": null,
          "new_text": "avio_rb24(pb)",
          "old_line_content": "    }",
          "new_line_content": "    use_subsamples = avio_rb24(pb) & 0x02; /* flags */",
          "content_same": false
        },
        {
          "line": 6048,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 8099,
          "old_api": null,
          "new_api": "mov_seek_stream",
          "old_text": null,
          "new_text": "mov_seek_stream(s, st, sample_time, flags)",
          "old_line_content": "        return AVERROR_INVALIDDATA;",
          "new_line_content": "    sample = mov_seek_stream(s, st, sample_time, flags);",
          "content_same": false
        },
        {
          "line": 6052,
          "old_api": null,
          "new_api": "av_fast_realloc",
          "old_text": null,
          "new_text": "av_fast_realloc(encryption_index->encrypted_samples, &alloc_size,\n                                            min_samples * sizeof(*encrypted_samples))",
          "old_line_content": "",
          "new_line_content": "        encrypted_samples = av_fast_realloc(encryption_index->encrypted_samples, &alloc_size,",
          "content_same": false
        },
        {
          "line": 4005,
          "old_api": null,
          "new_api": "mov_stsc_index_valid",
          "old_text": null,
          "new_text": "mov_stsc_index_valid(i, sc->stsc_count)",
          "old_line_content": "                count = (chunk_samples+1023) / 1024;",
          "new_line_content": "            if (mov_stsc_index_valid(i, sc->stsc_count))",
          "content_same": false
        },
        {
          "line": 6057,
          "old_api": null,
          "new_api": "mov_read_sample_encryption_info",
          "old_text": null,
          "new_text": "mov_read_sample_encryption_info(\n                c, pb, sc, &encryption_index->encrypted_samples[i], use_subsamples)",
          "old_line_content": "        if (encrypted_samples) {",
          "new_line_content": "            ret = mov_read_sample_encryption_info(",
          "content_same": false
        },
        {
          "line": 4012,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_TRACE, \"chunk count %u\\n\", total)",
          "old_line_content": "            total += chunk_count * count;",
          "new_line_content": "        av_log(mov->fc, AV_LOG_TRACE, \"chunk count %u\\n\", total);",
          "content_same": false
        },
        {
          "line": 8116,
          "old_api": null,
          "new_api": "av_rescale_q",
          "old_text": null,
          "new_text": "av_rescale_q(seek_timestamp, s->streams[stream_index]->time_base, st->time_base)",
          "old_line_content": "            if (stream_index == i)",
          "new_line_content": "            timestamp = av_rescale_q(seek_timestamp, s->streams[stream_index]->time_base, st->time_base);",
          "content_same": false
        },
        {
          "line": 6069,
          "old_api": null,
          "new_api": "av_encryption_info_free",
          "old_text": null,
          "new_text": "av_encryption_info_free(encryption_index->encrypted_samples[i - 1])",
          "old_line_content": "",
          "new_line_content": "                av_encryption_info_free(encryption_index->encrypted_samples[i - 1]);",
          "content_same": false
        },
        {
          "line": 6070,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&encryption_index->encrypted_samples)",
          "old_line_content": "        if (ret < 0) {",
          "new_line_content": "            av_freep(&encryption_index->encrypted_samples);",
          "content_same": false
        },
        {
          "line": 8117,
          "old_api": null,
          "new_api": "mov_seek_stream",
          "old_text": null,
          "new_text": "mov_seek_stream(s, st, timestamp, flags)",
          "old_line_content": "                continue;",
          "new_line_content": "            mov_seek_stream(s, st, timestamp, flags);",
          "content_same": false
        },
        {
          "line": 4026,
          "old_api": null,
          "new_api": "mov_stsc_index_valid",
          "old_text": null,
          "new_text": "mov_stsc_index_valid(stsc_index, sc->stsc_count)",
          "old_line_content": "        // populate index",
          "new_line_content": "            if (mov_stsc_index_valid(stsc_index, sc->stsc_count) &&",
          "content_same": false
        },
        {
          "line": 8124,
          "old_api": null,
          "new_api": "mov_current_sample_set",
          "old_text": null,
          "new_text": "mov_current_sample_set(sc, 0)",
          "old_line_content": "            MOVStreamContext *sc;",
          "new_line_content": "            mov_current_sample_set(sc, 0);",
          "content_same": false
        },
        {
          "line": 8128,
          "old_api": null,
          "new_api": "mov_find_next_sample",
          "old_text": null,
          "new_text": "mov_find_next_sample(s, &st)",
          "old_line_content": "        }",
          "new_line_content": "            AVIndexEntry *entry = mov_find_next_sample(s, &st);",
          "content_same": false
        },
        {
          "line": 4036,
          "old_api": null,
          "new_api": "avpriv_request_sample",
          "old_text": null,
          "new_text": "avpriv_request_sample(mov->fc,\n                           \"Zero bytes per frame, but %d samples per frame\",\n                           sc->samples_per_frame)",
          "old_line_content": "                unsigned size, samples;",
          "new_line_content": "                    avpriv_request_sample(mov->fc,",
          "content_same": false
        },
        {
          "line": 8134,
          "old_api": null,
          "new_api": "mov_current_sample_inc",
          "old_text": null,
          "new_text": "mov_current_sample_inc(sc)",
          "old_line_content": "            sc = st->priv_data;",
          "new_line_content": "            mov_current_sample_inc(sc);",
          "content_same": false
        },
        {
          "line": 6091,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Multiple auxiliary info chunks are not supported\\n\")",
          "old_line_content": "        return 0;",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Multiple auxiliary info chunks are not supported\\n\");",
          "content_same": false
        },
        {
          "line": 4047,
          "old_api": null,
          "new_api": "FFMIN",
          "old_text": null,
          "new_text": "FFMIN((1024 / sc->samples_per_frame)*\n                                        sc->samples_per_frame, chunk_samples)",
          "old_line_content": "                    size = sc->bytes_per_frame;",
          "new_line_content": "                        samples = FFMIN((1024 / sc->samples_per_frame)*",
          "content_same": false
        },
        {
          "line": 6095,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "        return AVERROR_PATCHWELCOME;",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 6097,
          "old_api": null,
          "new_api": "avio_tell",
          "old_text": null,
          "new_text": "avio_tell(pb)",
          "old_line_content": "    if (sample_count >= INT_MAX / sizeof(*encrypted_samples))",
          "new_line_content": "    prev_pos = avio_tell(pb);",
          "content_same": false
        },
        {
          "line": 8145,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(use_absolute_path)",
          "old_line_content": "static const AVOption mov_options[] = {",
          "new_line_content": "        OFFSET(use_absolute_path), AV_OPT_TYPE_BOOL, {.i64 = 0},",
          "content_same": false
        },
        {
          "line": 4051,
          "old_api": null,
          "new_api": "FFMIN",
          "old_text": null,
          "new_text": "FFMIN(1024, chunk_samples)",
          "old_line_content": "                                        sc->samples_per_frame, chunk_samples);",
          "new_line_content": "                        samples = FFMIN(1024, chunk_samples);",
          "content_same": false
        },
        {
          "line": 6099,
          "old_api": null,
          "new_api": "avio_seek",
          "old_text": null,
          "new_text": "avio_seek(pb, encryption_index->auxiliary_offsets[0], SEEK_SET)",
          "old_line_content": "",
          "new_line_content": "        avio_seek(pb, encryption_index->auxiliary_offsets[0], SEEK_SET) != encryption_index->auxiliary_offsets[0]) {",
          "content_same": false
        },
        {
          "line": 8149,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(seek_individually)",
          "old_line_content": "        0, 1, FLAGS},",
          "new_line_content": "        OFFSET(seek_individually), AV_OPT_TYPE_BOOL, { .i64 = 1 },",
          "content_same": false
        },
        {
          "line": 8151,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(ignore_editlist)",
          "old_line_content": "        \"Seek each stream individually to the closest point\",",
          "new_line_content": "    {\"ignore_editlist\", \"Ignore the edit list atom.\", OFFSET(ignore_editlist), AV_OPT_TYPE_BOOL, {.i64 = 0},",
          "content_same": false
        },
        {
          "line": 4057,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_ERROR, \"wrong chunk count %u\\n\", total)",
          "old_line_content": "                }",
          "new_line_content": "                    av_log(mov->fc, AV_LOG_ERROR, \"wrong chunk count %u\\n\", total);",
          "content_same": false
        },
        {
          "line": 6105,
          "old_api": null,
          "new_api": "FFMAX",
          "old_text": null,
          "new_text": "FFMAX(i + 1, 1024 * 1024)",
          "old_line_content": "    }",
          "new_line_content": "        unsigned int min_samples = FFMIN(FFMAX(i + 1, 1024 * 1024), sample_count);",
          "content_same": false
        },
        {
          "line": 6106,
          "old_api": null,
          "new_api": "av_fast_realloc",
          "old_text": null,
          "new_text": "av_fast_realloc(encryption_index->encrypted_samples, &alloc_size,\n                                            min_samples * sizeof(*encrypted_samples))",
          "old_line_content": "",
          "new_line_content": "        encrypted_samples = av_fast_realloc(encryption_index->encrypted_samples, &alloc_size,",
          "content_same": false
        },
        {
          "line": 8155,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(advanced_editlist)",
          "old_line_content": "        0, 1, FLAGS},",
          "new_line_content": "        OFFSET(advanced_editlist), AV_OPT_TYPE_BOOL, {.i64 = 1},",
          "content_same": false
        },
        {
          "line": 4061,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_ERROR, \"Sample size %u is too large\\n\", size)",
          "old_line_content": "                    return;",
          "new_line_content": "                    av_log(mov->fc, AV_LOG_ERROR, \"Sample size %u is too large\\n\", size);",
          "content_same": false
        },
        {
          "line": 8157,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(ignore_chapters)",
          "old_line_content": "        \"Modify the AVIndex according to the editlists. Use this option to decode in the order specified by the edits.\",",
          "new_line_content": "    {\"ignore_chapters\", \"\", OFFSET(ignore_chapters), AV_OPT_TYPE_BOOL, {.i64 = 0},",
          "content_same": false
        },
        {
          "line": 8161,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(use_mfra_for)",
          "old_line_content": "        0, 1, FLAGS},",
          "new_line_content": "        OFFSET(use_mfra_for), AV_OPT_TYPE_INT, {.i64 = FF_MOV_FLAG_MFRA_AUTO},",
          "content_same": false
        },
        {
          "line": 4070,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(mov->fc, AV_LOG_TRACE, \"AVIndex stream %d, chunk %u, offset %\"PRIx64\", dts %\"PRId64\", \"\n                       \"size %u, duration %u\\n\", st->index, i, current_offset, current_dts,\n                       size, samples)",
          "old_line_content": "                e->size = size;",
          "new_line_content": "                av_log(mov->fc, AV_LOG_TRACE, \"AVIndex stream %d, chunk %u, offset %\"PRIx64\", dts %\"PRId64\", \"",
          "content_same": false
        },
        {
          "line": 6119,
          "old_api": null,
          "new_api": "mov_read_sample_encryption_info",
          "old_text": null,
          "new_text": "mov_read_sample_encryption_info(c, pb, sc, sample, sample_info_size > sc->cenc.per_sample_iv_size)",
          "old_line_content": "                               ? encryption_index->auxiliary_info_default_size",
          "new_line_content": "        ret = mov_read_sample_encryption_info(c, pb, sc, sample, sample_info_size > sc->cenc.per_sample_iv_size);",
          "content_same": false
        },
        {
          "line": 8170,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(export_all)",
          "old_line_content": "        FLAGS, \"use_mfra_for\" },",
          "new_line_content": "    { \"export_all\", \"Export unrecognized metadata entries\", OFFSET(export_all),",
          "content_same": false
        },
        {
          "line": 6124,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(c->fc, AV_LOG_ERROR, \"Hit EOF while reading auxiliary info\\n\")",
          "old_line_content": "            goto finish;",
          "new_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Hit EOF while reading auxiliary info\\n\");",
          "content_same": false
        },
        {
          "line": 8172,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(export_xmp)",
          "old_line_content": "        FLAGS, \"use_mfra_for\" },",
          "new_line_content": "    { \"export_xmp\", \"Export full XMP metadata\", OFFSET(export_xmp),",
          "content_same": false
        },
        {
          "line": 8174,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(activation_bytes)",
          "old_line_content": "        AV_OPT_TYPE_BOOL, { .i64 = 0 }, 0, 1, .flags = FLAGS },",
          "new_line_content": "    { \"activation_bytes\", \"Secret bytes for Audible AAX files\", OFFSET(activation_bytes),",
          "content_same": false
        },
        {
          "line": 4083,
          "old_api": null,
          "new_api": "mov_fix_index",
          "old_text": null,
          "new_text": "mov_fix_index(mov, st)",
          "old_line_content": "",
          "new_line_content": "        mov_fix_index(mov, st);",
          "content_same": false
        },
        {
          "line": 6131,
          "old_api": null,
          "new_api": "avio_seek",
          "old_text": null,
          "new_text": "avio_seek(pb, prev_pos, SEEK_SET)",
          "old_line_content": "    }",
          "new_line_content": "    avio_seek(pb, prev_pos, SEEK_SET);",
          "content_same": false
        },
        {
          "line": 8181,
          "old_api": null,
          "new_api": "OFFSET",
          "old_text": null,
          "new_text": "OFFSET(enable_drefs)",
          "old_line_content": "        AV_OPT_TYPE_BINARY, {.str=\"77214d4b196a87cd520045fd20a51d67\"},",
          "new_line_content": "    { \"enable_drefs\", \"Enable external track support.\", OFFSET(enable_drefs), AV_OPT_TYPE_BOOL,",
          "content_same": false
        },
        {
          "line": 6136,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&encryption_index->encrypted_samples)",
          "old_line_content": "        for (; i > 0; i--) {",
          "new_line_content": "        av_freep(&encryption_index->encrypted_samples);",
          "content_same": false
        },
        {
          "line": 4094,
          "old_api": null,
          "new_api": "mov_estimate_video_delay",
          "old_text": null,
          "new_text": "mov_estimate_video_delay(mov, st)",
          "old_line_content": "        }",
          "new_line_content": "    mov_estimate_video_delay(mov, st);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 4097,
          "old_api": "mov_estimate_video_delay",
          "new_api": null,
          "old_text": "mov_estimate_video_delay(mov, st)",
          "new_text": null,
          "old_line_content": "    mov_estimate_video_delay(mov, st);",
          "new_line_content": "static int test_same_origin(const char *src, const char *ref) {",
          "content_same": false
        },
        {
          "line": 8199,
          "old_api": "NULL_IF_CONFIG_SMALL",
          "new_api": null,
          "old_text": "NULL_IF_CONFIG_SMALL(\"QuickTime / MOV\")",
          "new_text": null,
          "old_line_content": "    .long_name      = NULL_IF_CONFIG_SMALL(\"QuickTime / MOV\"),",
          "new_line_content": "    .extensions     = \"mov,mp4,m4a,3gp,3g2,mj2,psp,m4b,ism,ismv,isma,f4v\",",
          "content_same": false
        },
        {
          "line": 4111,
          "old_api": "av_url_split",
          "new_api": null,
          "old_text": "av_url_split(ref_proto, sizeof(ref_proto), ref_auth, sizeof(ref_auth), ref_host, sizeof(ref_host), &ref_port, NULL, 0, ref)",
          "new_text": null,
          "old_line_content": "    av_url_split(ref_proto, sizeof(ref_proto), ref_auth, sizeof(ref_auth), ref_host, sizeof(ref_host), &ref_port, NULL, 0, ref);",
          "new_line_content": "        return -1;",
          "content_same": false
        },
        {
          "line": 6160,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(buffer)",
          "new_text": null,
          "old_line_content": "            av_free(buffer);",
          "new_line_content": "        buffer = new_buffer;",
          "content_same": false
        },
        {
          "line": 6161,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "            return AVERROR(ENOMEM);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4116,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(ref_auth)",
          "new_text": null,
          "old_line_content": "        strlen(ref_auth) + 1 >= sizeof(ref_auth) ||",
          "new_line_content": "        return 0;",
          "content_same": false
        },
        {
          "line": 6165,
          "old_api": "avio_read",
          "new_api": null,
          "old_text": "avio_read(pb, buffer + offset, to_read)",
          "new_text": null,
          "old_line_content": "        if (avio_read(pb, buffer + offset, to_read) != to_read) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 6166,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(buffer)",
          "new_text": null,
          "old_line_content": "            av_free(buffer);",
          "new_line_content": "        offset += to_read;",
          "content_same": false
        },
        {
          "line": 4120,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(src_proto, ref_proto)",
          "new_text": null,
          "old_line_content": "    } else if (strcmp(src_proto, ref_proto) ||",
          "new_line_content": "               src_port != ref_port) {",
          "content_same": false
        },
        {
          "line": 4121,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(src_auth, ref_auth)",
          "new_text": null,
          "old_line_content": "               strcmp(src_auth, ref_auth) ||",
          "new_line_content": "        return 0;",
          "content_same": false
        },
        {
          "line": 4122,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(src_host, ref_host)",
          "new_text": null,
          "old_line_content": "               strcmp(src_host, ref_host) ||",
          "new_line_content": "    } else",
          "content_same": false
        },
        {
          "line": 6183,
          "old_api": "get_current_encryption_info",
          "new_api": null,
          "old_text": "get_current_encryption_info(c, &encryption_index, &sc)",
          "new_text": null,
          "old_line_content": "    ret = get_current_encryption_info(c, &encryption_index, &sc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4139,
          "old_api": "strrchr",
          "new_api": null,
          "old_text": "strrchr(src, '/')",
          "new_text": null,
          "old_line_content": "        src_path = strrchr(src, '/');",
          "new_line_content": "        else",
          "content_same": false
        },
        {
          "line": 6189,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_DEBUG, \"Ignoring duplicate encryption info in saiz\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_DEBUG, \"Ignoring duplicate encryption info in saiz\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4146,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(ref->path)",
          "new_text": null,
          "old_line_content": "        for (i = 0, l = strlen(ref->path) - 1; l >= 0; l--)",
          "new_line_content": "                    break;",
          "content_same": false
        },
        {
          "line": 6194,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Duplicate saiz atom\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Duplicate saiz atom\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6199,
          "old_api": "avio_rb24",
          "new_api": null,
          "old_text": "avio_rb24(pb)",
          "new_text": null,
          "old_line_content": "    if (avio_rb24(pb) & 0x01) {  /* flags */",
          "new_line_content": "        if (sc->cenc.default_encrypted_sample) {",
          "content_same": false
        },
        {
          "line": 6200,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        aux_info_type = avio_rb32(pb);",
          "new_line_content": "            if (aux_info_type != sc->cenc.default_encrypted_sample->scheme) {",
          "content_same": false
        },
        {
          "line": 4156,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(filename, src, src_path - src)",
          "new_text": null,
          "old_line_content": "            memcpy(filename, src, src_path - src);",
          "new_line_content": "            for (i = 1; i < ref->nlvl_from; i++)",
          "content_same": false
        },
        {
          "line": 6204,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_DEBUG, \"Ignoring saiz box with non-zero aux_info_type\\n\")",
          "new_text": null,
          "old_line_content": "                av_log(c->fc, AV_LOG_DEBUG, \"Ignoring saiz box with non-zero aux_info_type\\n\");",
          "new_line_content": "            if (aux_info_param != 0) {",
          "content_same": false
        },
        {
          "line": 4160,
          "old_api": "av_strlcat",
          "new_api": null,
          "old_text": "av_strlcat(filename, \"../\", sizeof(filename))",
          "new_text": null,
          "old_line_content": "                av_strlcat(filename, \"../\", sizeof(filename));",
          "new_line_content": "            if (!c->use_absolute_path) {",
          "content_same": false
        },
        {
          "line": 6208,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_DEBUG, \"Ignoring saiz box with non-zero aux_info_type_parameter\\n\")",
          "new_text": null,
          "old_line_content": "                av_log(c->fc, AV_LOG_DEBUG, \"Ignoring saiz box with non-zero aux_info_type_parameter\\n\");",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 4162,
          "old_api": "av_strlcat",
          "new_api": null,
          "old_text": "av_strlcat(filename, ref->path + l + 1, sizeof(filename))",
          "new_text": null,
          "old_line_content": "            av_strlcat(filename, ref->path + l + 1, sizeof(filename));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6214,
          "old_api": "MKBETAG",
          "new_api": null,
          "old_text": "MKBETAG('c','e','n','s')",
          "new_text": null,
          "old_line_content": "                 aux_info_type == MKBETAG('c','e','n','s') ||",
          "new_line_content": "                aux_info_param == 0) {",
          "content_same": false
        },
        {
          "line": 4167,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR,\n                        \"Reference with mismatching origin, %s not tried for security reasons, \"\n                        \"set demuxer option use_absolute_path to allow it anyway\\n\",\n                        ref->path)",
          "new_text": null,
          "old_line_content": "                    av_log(c->fc, AV_LOG_ERROR,",
          "new_line_content": "                        ref->path);",
          "content_same": false
        },
        {
          "line": 6216,
          "old_api": "MKBETAG",
          "new_api": null,
          "old_text": "MKBETAG('c','b','c','s')",
          "new_text": null,
          "old_line_content": "                 aux_info_type == MKBETAG('c','b','c','s')) &&",
          "new_line_content": "                return AVERROR_INVALIDDATA;",
          "content_same": false
        },
        {
          "line": 6218,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Saw encrypted saiz without schm/tenc\\n\")",
          "new_text": null,
          "old_line_content": "                av_log(c->fc, AV_LOG_ERROR, \"Saw encrypted saiz without schm/tenc\\n\");",
          "new_line_content": "                return 0;",
          "content_same": false
        },
        {
          "line": 4174,
          "old_api": "strstr",
          "new_api": null,
          "old_text": "strstr(ref->path + l + 1, \"..\")",
          "new_text": null,
          "old_line_content": "                if(strstr(ref->path + l + 1, \"..\") ||",
          "new_line_content": "                   (filename[0] == '/' && src_path == src))",
          "content_same": false
        },
        {
          "line": 4181,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(filename)",
          "new_text": null,
          "old_line_content": "            if (strlen(filename) + 1 == sizeof(filename))",
          "new_line_content": "                return 0;",
          "content_same": false
        },
        {
          "line": 4182,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOENT)",
          "new_text": null,
          "old_line_content": "                return AVERROR(ENOENT);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4183,
          "old_api": "io_open",
          "new_api": null,
          "old_text": "c->fc->io_open(c->fc, pb, filename, AVIO_FLAG_READ, NULL)",
          "new_text": null,
          "old_line_content": "            if (!c->fc->io_open(c->fc, pb, filename, AVIO_FLAG_READ, NULL))",
          "new_line_content": "    } else if (c->use_absolute_path) {",
          "content_same": false
        },
        {
          "line": 6229,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "    encryption_index->auxiliary_info_default_size = avio_r8(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6230,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    sample_count = avio_rb32(pb);",
          "new_line_content": "    if (encryption_index->auxiliary_info_default_size == 0) {",
          "content_same": false
        },
        {
          "line": 6234,
          "old_api": "mov_try_read_block",
          "new_api": null,
          "old_text": "mov_try_read_block(pb, sample_count, &encryption_index->auxiliary_info_sizes)",
          "new_text": null,
          "old_line_content": "        ret = mov_try_read_block(pb, sample_count, &encryption_index->auxiliary_info_sizes);",
          "new_line_content": "            return ret;",
          "content_same": false
        },
        {
          "line": 4187,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"Using absolute path on user request, \"\n               \"this is a possible security issue\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Using absolute path on user request, \"",
          "new_line_content": "            return 0;",
          "content_same": false
        },
        {
          "line": 6236,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Failed to read the auxiliary info\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_ERROR, \"Failed to read the auxiliary info\\n\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4192,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR,\n               \"Absolute path %s not tried for security reasons, \"\n               \"set demuxer option use_absolute_path to allow absolute paths\\n\",\n               ref->path)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR,",
          "new_line_content": "               ref->path);",
          "content_same": false
        },
        {
          "line": 6242,
          "old_api": "mov_parse_auxiliary_info",
          "new_api": null,
          "old_text": "mov_parse_auxiliary_info(c, sc, pb, encryption_index)",
          "new_text": null,
          "old_line_content": "        return mov_parse_auxiliary_info(c, sc, pb, encryption_index);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 4198,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOENT)",
          "new_text": null,
          "old_line_content": "    return AVERROR(ENOENT);",
          "new_line_content": "static void fix_timescale(MOVContext *c, MOVStreamContext *sc)",
          "content_same": false
        },
        {
          "line": 4204,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"stream %d, timescale not set\\n\", sc->ffindex)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"stream %d, timescale not set\\n\", sc->ffindex);",
          "new_line_content": "            sc->time_scale = 1;",
          "content_same": false
        },
        {
          "line": 6257,
          "old_api": "get_current_encryption_info",
          "new_api": null,
          "old_text": "get_current_encryption_info(c, &encryption_index, &sc)",
          "new_text": null,
          "old_line_content": "    ret = get_current_encryption_info(c, &encryption_index, &sc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6263,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_DEBUG, \"Ignoring duplicate encryption info in saio\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_DEBUG, \"Ignoring duplicate encryption info in saio\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4220,
          "old_api": "av_mallocz",
          "new_api": null,
          "old_text": "av_mallocz(sizeof(MOVStreamContext))",
          "new_text": null,
          "old_line_content": "    sc = av_mallocz(sizeof(MOVStreamContext));",
          "new_line_content": "    st->priv_data = sc;",
          "content_same": false
        },
        {
          "line": 4221,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "    if (!sc) return AVERROR(ENOMEM);",
          "new_line_content": "    st->codecpar->codec_type = AVMEDIA_TYPE_DATA;",
          "content_same": false
        },
        {
          "line": 6268,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Duplicate saio atom\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Duplicate saio atom\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6273,
          "old_api": "avio_rb24",
          "new_api": null,
          "old_text": "avio_rb24(pb)",
          "new_text": null,
          "old_line_content": "    if (avio_rb24(pb) & 0x01) {  /* flags */",
          "new_line_content": "        if (sc->cenc.default_encrypted_sample) {",
          "content_same": false
        },
        {
          "line": 6274,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        aux_info_type = avio_rb32(pb);",
          "new_line_content": "            if (aux_info_type != sc->cenc.default_encrypted_sample->scheme) {",
          "content_same": false
        },
        {
          "line": 4228,
          "old_api": "mov_read_default",
          "new_api": null,
          "old_text": "mov_read_default(c, pb, atom)",
          "new_text": null,
          "old_line_content": "    if ((ret = mov_read_default(c, pb, atom)) < 0)",
          "new_line_content": "    c->trak_index = -1;",
          "content_same": false
        },
        {
          "line": 6278,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_DEBUG, \"Ignoring saio box with non-zero aux_info_type\\n\")",
          "new_text": null,
          "old_line_content": "                av_log(c->fc, AV_LOG_DEBUG, \"Ignoring saio box with non-zero aux_info_type\\n\");",
          "new_line_content": "            if (aux_info_param != 0) {",
          "content_same": false
        },
        {
          "line": 6282,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_DEBUG, \"Ignoring saio box with non-zero aux_info_type_parameter\\n\")",
          "new_text": null,
          "old_line_content": "                av_log(c->fc, AV_LOG_DEBUG, \"Ignoring saio box with non-zero aux_info_type_parameter\\n\");",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 4237,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&sc->stsc_data)",
          "new_text": null,
          "old_line_content": "        av_freep(&sc->stsc_data);",
          "new_line_content": "    /* sanity checks */",
          "content_same": false
        },
        {
          "line": 6288,
          "old_api": "MKBETAG",
          "new_api": null,
          "old_text": "MKBETAG('c','e','n','s')",
          "new_text": null,
          "old_line_content": "                 aux_info_type == MKBETAG('c','e','n','s') ||",
          "new_line_content": "                aux_info_param == 0) {",
          "content_same": false
        },
        {
          "line": 6290,
          "old_api": "MKBETAG",
          "new_api": null,
          "old_text": "MKBETAG('c','b','c','s')",
          "new_text": null,
          "old_line_content": "                 aux_info_type == MKBETAG('c','b','c','s')) &&",
          "new_line_content": "                return AVERROR_INVALIDDATA;",
          "content_same": false
        },
        {
          "line": 4244,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"stream %d, missing mandatory atoms, broken header\\n\",\n               st->index)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"stream %d, missing mandatory atoms, broken header\\n\",",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 6292,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Saw encrypted saio without schm/tenc\\n\")",
          "new_text": null,
          "old_line_content": "                av_log(c->fc, AV_LOG_ERROR, \"Saw encrypted saio without schm/tenc\\n\");",
          "new_line_content": "                return 0;",
          "content_same": false
        },
        {
          "line": 4249,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"stream %d, contradictionary STSC and STCO\\n\",\n               st->index)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"stream %d, contradictionary STSC and STCO\\n\",",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4254,
          "old_api": "fix_timescale",
          "new_api": null,
          "old_text": "fix_timescale(c, sc)",
          "new_text": null,
          "old_line_content": "    fix_timescale(c, sc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6303,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    entry_count = avio_rb32(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4256,
          "old_api": "avpriv_set_pts_info",
          "new_api": null,
          "old_text": "avpriv_set_pts_info(st, 64, 1, sc->time_scale)",
          "new_text": null,
          "old_line_content": "    avpriv_set_pts_info(st, 64, 1, sc->time_scale);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4258,
          "old_api": "mov_build_index",
          "new_api": null,
          "old_text": "mov_build_index(c, st)",
          "new_text": null,
          "old_line_content": "    mov_build_index(c, st);",
          "new_line_content": "        MOVDref *dref = &sc->drefs[sc->dref_id - 1];",
          "content_same": false
        },
        {
          "line": 6308,
          "old_api": "FFMAX",
          "new_api": null,
          "old_text": "FFMAX(i + 1, 1024)",
          "new_text": null,
          "old_line_content": "        unsigned int min_offsets = FFMIN(FFMAX(i + 1, 1024), entry_count);",
          "new_line_content": "            min_offsets * sizeof(*auxiliary_offsets));",
          "content_same": false
        },
        {
          "line": 6309,
          "old_api": "av_fast_realloc",
          "new_api": null,
          "old_text": "av_fast_realloc(\n            encryption_index->auxiliary_offsets, &alloc_size,\n            min_offsets * sizeof(*auxiliary_offsets))",
          "new_text": null,
          "old_line_content": "        auxiliary_offsets = av_fast_realloc(",
          "new_line_content": "        if (!auxiliary_offsets) {",
          "content_same": false
        },
        {
          "line": 4263,
          "old_api": "mov_open_dref",
          "new_api": null,
          "old_text": "mov_open_dref(c, &sc->pb, c->fc->url, dref)",
          "new_text": null,
          "old_line_content": "            if (mov_open_dref(c, &sc->pb, c->fc->url, dref) < 0)",
          "new_line_content": "                       \"filename='%s', volume='%s', nlvl_from=%d, nlvl_to=%d\\n\",",
          "content_same": false
        },
        {
          "line": 4264,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR,\n                       \"stream %d, error opening alias: path='%s', dir='%s', \"\n                       \"filename='%s', volume='%s', nlvl_from=%d, nlvl_to=%d\\n\",\n                       st->index, dref->path, dref->dir, dref->filename,\n                       dref->volume, dref->nlvl_from, dref->nlvl_to)",
          "new_text": null,
          "old_line_content": "                av_log(c->fc, AV_LOG_ERROR,",
          "new_line_content": "                       st->index, dref->path, dref->dir, dref->filename,",
          "content_same": false
        },
        {
          "line": 6313,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&encryption_index->auxiliary_offsets)",
          "new_text": null,
          "old_line_content": "            av_freep(&encryption_index->auxiliary_offsets);",
          "new_line_content": "        encryption_index->auxiliary_offsets = auxiliary_offsets;",
          "content_same": false
        },
        {
          "line": 6314,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "            return AVERROR(ENOMEM);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4270,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING,\n                   \"Skipped opening external track: \"\n                   \"stream %d, alias: path='%s', dir='%s', \"\n                   \"filename='%s', volume='%s', nlvl_from=%d, nlvl_to=%d.\"\n                   \"Set enable_drefs to allow this.\\n\",\n                   st->index, dref->path, dref->dir, dref->filename,\n                   dref->volume, dref->nlvl_from, dref->nlvl_to)",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_WARNING,",
          "new_line_content": "                   \"filename='%s', volume='%s', nlvl_from=%d, nlvl_to=%d.\"",
          "content_same": false
        },
        {
          "line": 6319,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "            encryption_index->auxiliary_offsets[i] = avio_rb32(pb);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 6321,
          "old_api": "avio_rb64",
          "new_api": null,
          "old_text": "avio_rb64(pb)",
          "new_text": null,
          "old_line_content": "            encryption_index->auxiliary_offsets[i] = avio_rb64(pb);",
          "new_line_content": "            encryption_index->auxiliary_offsets[i] += c->fragment.base_data_offset;",
          "content_same": false
        },
        {
          "line": 6329,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Hit EOF while reading saio\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Hit EOF while reading saio\\n\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 6330,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&encryption_index->auxiliary_offsets)",
          "new_text": null,
          "old_line_content": "        av_freep(&encryption_index->auxiliary_offsets);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4287,
          "old_api": "av_d2q",
          "new_api": null,
          "old_text": "av_d2q(((double)st->codecpar->height * sc->width) /\n                                             ((double)st->codecpar->width * sc->height), INT_MAX)",
          "new_text": null,
          "old_line_content": "            st->sample_aspect_ratio = av_d2q(((double)st->codecpar->height * sc->width) /",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6337,
          "old_api": "mov_parse_auxiliary_info",
          "new_api": null,
          "old_text": "mov_parse_auxiliary_info(c, sc, pb, encryption_index)",
          "new_text": null,
          "old_line_content": "        return mov_parse_auxiliary_info(c, sc, pb, encryption_index);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 4293,
          "old_api": "av_reduce",
          "new_api": null,
          "old_text": "av_reduce(&st->r_frame_rate.num, &st->r_frame_rate.den,\n                      sc->time_scale, sc->stts_data[0].duration, INT_MAX)",
          "new_text": null,
          "old_line_content": "            av_reduce(&st->r_frame_rate.num, &st->r_frame_rate.den,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4300,
          "old_api": "TAG_IS_AVCI",
          "new_api": null,
          "old_text": "TAG_IS_AVCI(st->codecpar->codec_tag)",
          "new_text": null,
          "old_line_content": "        TAG_IS_AVCI(st->codecpar->codec_tag)) {",
          "new_line_content": "            return ret;",
          "content_same": false
        },
        {
          "line": 4301,
          "old_api": "ff_generate_avci_extradata",
          "new_api": null,
          "old_text": "ff_generate_avci_extradata(st)",
          "new_text": null,
          "old_line_content": "        ret = ff_generate_avci_extradata(st);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 6358,
          "old_api": "avio_rb24",
          "new_api": null,
          "old_text": "avio_rb24(pb)",
          "new_text": null,
          "old_line_content": "    avio_rb24(pb);  /* flags */",
          "new_line_content": "                                         /* key_id_size */ 16, /* data_size */ 0);",
          "content_same": false
        },
        {
          "line": 6365,
          "old_api": "avio_read",
          "new_api": null,
          "old_text": "avio_read(pb, info->system_id, 16)",
          "new_text": null,
          "old_line_content": "    if (avio_read(pb, info->system_id, 16) != 16) {",
          "new_line_content": "        goto finish;",
          "content_same": false
        },
        {
          "line": 6366,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Failed to read the system id\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Failed to read the system id\\n\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 6372,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        kid_count = avio_rb32(pb);",
          "new_line_content": "            goto finish;",
          "content_same": false
        },
        {
          "line": 6374,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "            ret = AVERROR(ENOMEM);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6379,
          "old_api": "FFMAX",
          "new_api": null,
          "old_text": "FFMAX(i + 1, 1024)",
          "new_text": null,
          "old_line_content": "            unsigned int min_kid_count = FFMIN(FFMAX(i + 1, 1024), kid_count);",
          "new_line_content": "            if (!key_ids) {",
          "content_same": false
        },
        {
          "line": 4333,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&sc->stps_data)",
          "new_text": null,
          "old_line_content": "    av_freep(&sc->stps_data);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4334,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&sc->elst_data)",
          "new_text": null,
          "old_line_content": "    av_freep(&sc->elst_data);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 4335,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&sc->rap_group)",
          "new_text": null,
          "old_line_content": "    av_freep(&sc->rap_group);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 6383,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "                ret = AVERROR(ENOMEM);",
          "new_line_content": "            info->key_ids = key_ids;",
          "content_same": false
        },
        {
          "line": 6388,
          "old_api": "av_mallocz",
          "new_api": null,
          "old_text": "av_mallocz(16)",
          "new_text": null,
          "old_line_content": "            info->key_ids[i] = av_mallocz(16);",
          "new_line_content": "                goto finish;",
          "content_same": false
        },
        {
          "line": 6390,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "                ret = AVERROR(ENOMEM);",
          "new_line_content": "            info->num_key_ids = i + 1;",
          "content_same": false
        },
        {
          "line": 4344,
          "old_api": "mov_read_default",
          "new_api": null,
          "old_text": "mov_read_default(c, pb, atom)",
          "new_text": null,
          "old_line_content": "    ret = mov_read_default(c, pb, atom);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 6395,
          "old_api": "avio_read",
          "new_api": null,
          "old_text": "avio_read(pb, info->key_ids[i], 16)",
          "new_text": null,
          "old_line_content": "            if (avio_read(pb, info->key_ids[i], 16) != 16) {",
          "new_line_content": "                goto finish;",
          "content_same": false
        },
        {
          "line": 6396,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Failed to read the key id\\n\")",
          "new_text": null,
          "old_line_content": "                av_log(c->fc, AV_LOG_ERROR, \"Failed to read the key id\\n\");",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 6403,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Hit EOF while reading pssh\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_ERROR, \"Hit EOF while reading pssh\\n\");",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4358,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    count = avio_rb32(pb);",
          "new_line_content": "               \"The 'keys' atom with the invalid key count: %\"PRIu32\"\\n\", count);",
          "content_same": false
        },
        {
          "line": 4360,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR,\n               \"The 'keys' atom with the invalid key count: %\"PRIu32\"\\n\", count)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 6409,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    extra_data_size = avio_rb32(pb);",
          "new_line_content": "        goto finish;",
          "content_same": false
        },
        {
          "line": 6410,
          "old_api": "mov_try_read_block",
          "new_api": null,
          "old_text": "mov_try_read_block(pb, extra_data_size, &extra_data)",
          "new_text": null,
          "old_line_content": "    ret = mov_try_read_block(pb, extra_data_size, &extra_data);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4366,
          "old_api": "av_mallocz",
          "new_api": null,
          "old_text": "av_mallocz(c->meta_keys_count * sizeof(*c->meta_keys))",
          "new_text": null,
          "old_line_content": "    c->meta_keys = av_mallocz(c->meta_keys_count * sizeof(*c->meta_keys));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6414,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&info->data)",
          "new_text": null,
          "old_line_content": "    av_freep(&info->data);  // malloc(0) may still allocate something.",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6419,
          "old_api": "av_stream_get_side_data",
          "new_api": null,
          "old_text": "av_stream_get_side_data(st, AV_PKT_DATA_ENCRYPTION_INIT_INFO, &old_side_data_size)",
          "new_text": null,
          "old_line_content": "    old_side_data = av_stream_get_side_data(st, AV_PKT_DATA_ENCRYPTION_INIT_INFO, &old_side_data_size);",
          "new_line_content": "        if (old_init_info) {",
          "content_same": false
        },
        {
          "line": 4372,
          "old_api": "avio_rl32",
          "new_api": null,
          "old_text": "avio_rl32(pb)",
          "new_text": null,
          "old_line_content": "        uint32_t type = avio_rl32(pb);",
          "new_line_content": "                   \"The key# %\"PRIu32\" in meta has invalid size:\"",
          "content_same": false
        },
        {
          "line": 6421,
          "old_api": "av_encryption_init_info_get_side_data",
          "new_api": null,
          "old_text": "av_encryption_init_info_get_side_data(old_side_data, old_side_data_size)",
          "new_text": null,
          "old_line_content": "        old_init_info = av_encryption_init_info_get_side_data(old_side_data, old_side_data_size);",
          "new_line_content": "            for (AVEncryptionInitInfo *cur = old_init_info;; cur = cur->next) {",
          "content_same": false
        },
        {
          "line": 4374,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR,\n                   \"The key# %\"PRIu32\" in meta has invalid size:\"\n                   \"%\"PRIu32\"\\n\", i, key_size)",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_ERROR,",
          "new_line_content": "            return AVERROR_INVALIDDATA;",
          "content_same": false
        },
        {
          "line": 4381,
          "old_api": "avio_skip",
          "new_api": null,
          "old_text": "avio_skip(pb, key_size)",
          "new_text": null,
          "old_line_content": "            avio_skip(pb, key_size);",
          "new_line_content": "        if (!c->meta_keys[i])",
          "content_same": false
        },
        {
          "line": 4385,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "            return AVERROR(ENOMEM);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4386,
          "old_api": "avio_read",
          "new_api": null,
          "old_text": "avio_read(pb, c->meta_keys[i], key_size)",
          "new_text": null,
          "old_line_content": "        avio_read(pb, c->meta_keys[i], key_size);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 6433,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "            ret = AVERROR(ENOMEM);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 6438,
          "old_api": "av_encryption_init_info_add_side_data",
          "new_api": null,
          "old_text": "av_encryption_init_info_add_side_data(info, &side_data_size)",
          "new_text": null,
          "old_line_content": "    side_data = av_encryption_init_info_add_side_data(info, &side_data_size);",
          "new_line_content": "        goto finish;",
          "content_same": false
        },
        {
          "line": 4394,
          "old_api": "avio_tell",
          "new_api": null,
          "old_text": "avio_tell(pb)",
          "new_text": null,
          "old_line_content": "    int64_t end = avio_tell(pb) + atom.size;",
          "new_line_content": "    int ret = 0;",
          "content_same": false
        },
        {
          "line": 6449,
          "old_api": "av_encryption_init_info_free",
          "new_api": null,
          "old_text": "av_encryption_init_info_free(info)",
          "new_text": null,
          "old_line_content": "    av_encryption_init_info_free(info);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4413,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        len = avio_rb32(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4415,
          "old_api": "avio_skip",
          "new_api": null,
          "old_text": "avio_skip(pb, 4)",
          "new_text": null,
          "old_line_content": "        avio_skip(pb, 4); // flags",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 6464,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"schm boxes are only supported in first sample descriptor\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"schm boxes are only supported in first sample descriptor\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4417,
          "old_api": "avio_tell",
          "new_api": null,
          "old_text": "avio_tell(pb)",
          "new_text": null,
          "old_line_content": "        if (len < 12 || len - 12 > end - avio_tell(pb))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4421,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('m', 'e', 'a', 'n')",
          "new_text": null,
          "old_line_content": "        if (tag == MKTAG('m', 'e', 'a', 'n'))",
          "new_line_content": "            p = &key;",
          "content_same": false
        },
        {
          "line": 4425,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('d', 'a', 't', 'a')",
          "new_text": null,
          "old_line_content": "        else if (tag == MKTAG('d', 'a', 't', 'a') && len > 4) {",
          "new_line_content": "            p = &val;",
          "content_same": false
        },
        {
          "line": 4426,
          "old_api": "avio_skip",
          "new_api": null,
          "old_text": "avio_skip(pb, 4)",
          "new_text": null,
          "old_line_content": "            avio_skip(pb, 4);",
          "new_line_content": "        } else",
          "content_same": false
        },
        {
          "line": 6474,
          "old_api": "av_encryption_info_alloc",
          "new_api": null,
          "old_text": "av_encryption_info_alloc(0, 16, 16)",
          "new_text": null,
          "old_line_content": "        sc->cenc.default_encrypted_sample = av_encryption_info_alloc(0, 16, 16);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 6476,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "            return AVERROR(ENOMEM);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6480,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    sc->cenc.default_encrypted_sample->scheme = avio_rb32(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4435,
          "old_api": "av_malloc",
          "new_api": null,
          "old_text": "av_malloc(len + 1)",
          "new_text": null,
          "old_line_content": "        *p = av_malloc(len + 1);",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 4440,
          "old_api": "ffio_read_size",
          "new_api": null,
          "old_text": "ffio_read_size(pb, *p, len)",
          "new_text": null,
          "old_line_content": "        ret = ffio_read_size(pb, *p, len);",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 4442,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(p)",
          "new_text": null,
          "old_line_content": "            av_freep(p);",
          "new_line_content": "        (*p)[len] = 0;",
          "content_same": false
        },
        {
          "line": 6496,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"tenc atom are only supported in first sample descriptor\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"tenc atom are only supported in first sample descriptor\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4449,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(key, \"iTunSMPB\")",
          "new_text": null,
          "old_line_content": "        if (strcmp(key, \"iTunSMPB\") == 0) {",
          "new_line_content": "                if(priming>0 && priming<16384)",
          "content_same": false
        },
        {
          "line": 4451,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf(val, \"%*X %X %X %X\", &priming, &remainder, &samples)",
          "new_text": null,
          "old_line_content": "            if(sscanf(val, \"%*X %X %X %X\", &priming, &remainder, &samples) == 3){",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 6501,
          "old_api": "av_encryption_info_alloc",
          "new_api": null,
          "old_text": "av_encryption_info_alloc(0, 16, 16)",
          "new_text": null,
          "old_line_content": "        sc->cenc.default_encrypted_sample = av_encryption_info_alloc(0, 16, 16);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 6503,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "            return AVERROR(ENOMEM);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4456,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(key, \"cdec\")",
          "new_text": null,
          "old_line_content": "        if (strcmp(key, \"cdec\") != 0) {",
          "new_line_content": "            key = val = NULL;",
          "content_same": false
        },
        {
          "line": 4457,
          "old_api": "av_dict_set",
          "new_api": null,
          "old_text": "av_dict_set(&c->fc->metadata, key, val,\n                        AV_DICT_DONT_STRDUP_KEY | AV_DICT_DONT_STRDUP_VAL)",
          "new_text": null,
          "old_line_content": "            av_dict_set(&c->fc->metadata, key, val,",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4462,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_VERBOSE,\n               \"Unhandled or malformed custom metadata of size %\"PRId64\"\\n\", atom.size)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_VERBOSE,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6513,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "    avio_r8(pb); /* reserved */",
          "new_line_content": "    if (version > 0) {",
          "content_same": false
        },
        {
          "line": 6514,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "    pattern = avio_r8(pb);",
          "new_line_content": "        sc->cenc.default_encrypted_sample->crypt_byte_block = pattern >> 4;",
          "content_same": false
        },
        {
          "line": 4467,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&key)",
          "new_text": null,
          "old_line_content": "    av_freep(&key);",
          "new_line_content": "    return ret;",
          "content_same": false
        },
        {
          "line": 4468,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&val)",
          "new_text": null,
          "old_line_content": "    av_freep(&val);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4469,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&mean)",
          "new_text": null,
          "old_line_content": "    av_freep(&mean);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6524,
          "old_api": "av_mallocz",
          "new_api": null,
          "old_text": "av_mallocz(sizeof(MOVEncryptionIndex))",
          "new_text": null,
          "old_line_content": "        sc->cenc.encryption_index = av_mallocz(sizeof(MOVEncryptionIndex));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4477,
          "old_api": "avio_feof",
          "new_api": null,
          "old_text": "avio_feof(pb)",
          "new_text": null,
          "old_line_content": "        if (avio_feof(pb))",
          "new_line_content": "        atom.size -= 4;",
          "content_same": false
        },
        {
          "line": 6526,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "            return AVERROR(ENOMEM);",
          "new_line_content": "    if (sc->cenc.per_sample_iv_size != 0 && sc->cenc.per_sample_iv_size != 8 &&",
          "content_same": false
        },
        {
          "line": 4482,
          "old_api": "avio_seek",
          "new_api": null,
          "old_text": "avio_seek(pb, -8, SEEK_CUR)",
          "new_text": null,
          "old_line_content": "            avio_seek(pb, -8, SEEK_CUR);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4484,
          "old_api": "mov_read_default",
          "new_api": null,
          "old_text": "mov_read_default(c, pb, atom)",
          "new_text": null,
          "old_line_content": "            return mov_read_default(c, pb, atom);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 6534,
          "old_api": "avio_read",
          "new_api": null,
          "old_text": "avio_read(pb, sc->cenc.default_encrypted_sample->key_id, 16)",
          "new_text": null,
          "old_line_content": "    if (avio_read(pb, sc->cenc.default_encrypted_sample->key_id, 16) != 16) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 6535,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"failed to read the default key ID\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"failed to read the default key ID\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6540,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "        iv_size = avio_r8(pb);",
          "new_line_content": "            return AVERROR_INVALIDDATA;",
          "content_same": false
        },
        {
          "line": 6542,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"invalid default_constant_IV_size in tenc atom\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_ERROR, \"invalid default_constant_IV_size in tenc atom\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6546,
          "old_api": "avio_read",
          "new_api": null,
          "old_text": "avio_read(pb, sc->cenc.default_encrypted_sample->iv, iv_size)",
          "new_text": null,
          "old_line_content": "        if (avio_read(pb, sc->cenc.default_encrypted_sample->iv, iv_size) != iv_size) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 6547,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"failed to read the default IV\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_ERROR, \"failed to read the default IV\\n\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4521,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "    version = avio_r8(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4522,
          "old_api": "avio_rb24",
          "new_api": null,
          "old_text": "avio_rb24(pb)",
          "new_text": null,
          "old_line_content": "    flags = avio_rb24(pb);",
          "new_line_content": "    if (version == 1) {",
          "content_same": false
        },
        {
          "line": 6574,
          "old_api": "avio_read",
          "new_api": null,
          "old_text": "avio_read(pb, buf, sizeof(buf))",
          "new_text": null,
          "old_line_content": "    avio_read(pb, buf, sizeof(buf));",
          "new_line_content": "    if (type != FLAC_METADATA_TYPE_STREAMINFO || size != FLAC_STREAMINFO_SIZE) {",
          "content_same": false
        },
        {
          "line": 6578,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"STREAMINFO must be first FLACMetadataBlock\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"STREAMINFO must be first FLACMetadataBlock\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4532,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    st->id = (int)avio_rb32(pb); /* track id (NOT 0 !)*/",
          "new_line_content": "    /* highlevel (considering edits) duration in movie timebase */",
          "content_same": false
        },
        {
          "line": 6582,
          "old_api": "ff_get_extradata",
          "new_api": null,
          "old_text": "ff_get_extradata(c->fc, st->codecpar, pb, size)",
          "new_text": null,
          "old_line_content": "    ret = ff_get_extradata(c->fc, st->codecpar, pb, size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4536,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    (version == 1) ? avio_rb64(pb) : avio_rb32(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6587,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"non-STREAMINFO FLACMetadataBlock(s) ignored\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"non-STREAMINFO FLACMetadataBlock(s) ignored\\n\");",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4541,
          "old_api": "avio_rb16",
          "new_api": null,
          "old_text": "avio_rb16(pb)",
          "new_text": null,
          "old_line_content": "    avio_rb16(pb); /* alternate group */",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4542,
          "old_api": "avio_rb16",
          "new_api": null,
          "old_text": "avio_rb16(pb)",
          "new_text": null,
          "old_line_content": "    avio_rb16(pb); /* volume */",
          "new_line_content": "    //read in the display matrix (outlined in ISO 14496-12, Section 6.2.2)",
          "content_same": false
        },
        {
          "line": 4543,
          "old_api": "avio_rb16",
          "new_api": null,
          "old_text": "avio_rb16(pb)",
          "new_text": null,
          "old_line_content": "    avio_rb16(pb); /* reserved */",
          "new_line_content": "    // they're kept in fixed point format through all calculations",
          "content_same": false
        },
        {
          "line": 6596,
          "old_api": "MKBETAG",
          "new_api": null,
          "old_text": "MKBETAG('c','e','n','c')",
          "new_text": null,
          "old_line_content": "    if (sample->scheme != MKBETAG('c','e','n','c') || sample->crypt_byte_block != 0 || sample->skip_byte_block != 0) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 6597,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Only the 'cenc' encryption scheme is supported\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Only the 'cenc' encryption scheme is supported\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4550,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        display_matrix[i][0] = avio_rb32(pb);   // 16.16 fixed point",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4551,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        display_matrix[i][1] = avio_rb32(pb);   // 16.16 fixed point",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4555,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    width = avio_rb32(pb);       // 16.16 fixed point track width",
          "new_line_content": "    sc->height = height >> 16;",
          "content_same": false
        },
        {
          "line": 4556,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    height = avio_rb32(pb);      // 16.16 fixed point track height",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6603,
          "old_api": "av_aes_ctr_alloc",
          "new_api": null,
          "old_text": "av_aes_ctr_alloc()",
          "new_text": null,
          "old_line_content": "        sc->cenc.aes_ctr = av_aes_ctr_alloc();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 6608,
          "old_api": "av_aes_ctr_init",
          "new_api": null,
          "old_text": "av_aes_ctr_init(sc->cenc.aes_ctr, c->decryption_key)",
          "new_text": null,
          "old_line_content": "        ret = av_aes_ctr_init(sc->cenc.aes_ctr, c->decryption_key);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 6614,
          "old_api": "av_aes_ctr_set_full_iv",
          "new_api": null,
          "old_text": "av_aes_ctr_set_full_iv(sc->cenc.aes_ctr, sample->iv)",
          "new_text": null,
          "old_line_content": "    av_aes_ctr_set_full_iv(sc->cenc.aes_ctr, sample->iv);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 6619,
          "old_api": "av_aes_ctr_crypt",
          "new_api": null,
          "old_text": "av_aes_ctr_crypt(sc->cenc.aes_ctr, input, input, size)",
          "new_text": null,
          "old_line_content": "        av_aes_ctr_crypt(sc->cenc.aes_ctr, input, input, size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4577,
          "old_api": "av_malloc",
          "new_api": null,
          "old_text": "av_malloc(sizeof(int32_t) * 9)",
          "new_text": null,
          "old_line_content": "        sc->display_matrix = av_malloc(sizeof(int32_t) * 9);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6626,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"subsample size exceeds the packet size left\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_ERROR, \"subsample size exceeds the packet size left\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4579,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "            return AVERROR(ENOMEM);",
          "new_line_content": "            for (j = 0; j < 3; j++)",
          "content_same": false
        },
        {
          "line": 4586,
          "old_api": "av_display_rotation_get",
          "new_api": null,
          "old_text": "av_display_rotation_get(sc->display_matrix)",
          "new_text": null,
          "old_line_content": "        rotate = av_display_rotation_get(sc->display_matrix);",
          "new_line_content": "            rotate = -rotate;",
          "content_same": false
        },
        {
          "line": 4587,
          "old_api": "isnan",
          "new_api": null,
          "old_text": "isnan(rotate)",
          "new_text": null,
          "old_line_content": "        if (!isnan(rotate)) {",
          "new_line_content": "            if (rotate < 0) // for backward compatibility",
          "content_same": false
        },
        {
          "line": 6635,
          "old_api": "av_aes_ctr_crypt",
          "new_api": null,
          "old_text": "av_aes_ctr_crypt(sc->cenc.aes_ctr, input, input, sample->subsamples[i].bytes_of_protected_data)",
          "new_text": null,
          "old_line_content": "        av_aes_ctr_crypt(sc->cenc.aes_ctr, input, input, sample->subsamples[i].bytes_of_protected_data);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4592,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(rotate_buf, sizeof(rotate_buf), \"%g\", rotate)",
          "new_text": null,
          "old_line_content": "            snprintf(rotate_buf, sizeof(rotate_buf), \"%g\", rotate);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 4593,
          "old_api": "av_dict_set",
          "new_api": null,
          "old_text": "av_dict_set(&st->metadata, \"rotate\", rotate_buf, 0)",
          "new_text": null,
          "old_line_content": "            av_dict_set(&st->metadata, \"rotate\", rotate_buf, 0);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 6641,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"leftover packet bytes after subsample processing\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"leftover packet bytes after subsample processing\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2548,
          "old_api": "av_malloc",
          "new_api": null,
          "old_text": "av_malloc(extra_size + AV_INPUT_BUFFER_PADDING_SIZE)",
          "new_text": null,
          "old_line_content": "            sc->extradata[pseudo_stream_id] = av_malloc(extra_size + AV_INPUT_BUFFER_PADDING_SIZE);",
          "new_line_content": "            sc->extradata[pseudo_stream_id] = st->codecpar->extradata;",
          "content_same": false
        },
        {
          "line": 2550,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "                return AVERROR(ENOMEM);",
          "new_line_content": "            st->codecpar->extradata_size = 0;",
          "content_same": false
        },
        {
          "line": 2551,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(sc->extradata[pseudo_stream_id], st->codecpar->extradata, extra_size)",
          "new_text": null,
          "old_line_content": "            memcpy(sc->extradata[pseudo_stream_id], st->codecpar->extradata, extra_size);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2552,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&st->codecpar->extradata)",
          "new_text": null,
          "old_line_content": "            av_freep(&st->codecpar->extradata);",
          "new_line_content": "        sc->stsd_count++;",
          "content_same": false
        },
        {
          "line": 4604,
          "old_api": "hypot",
          "new_api": null,
          "old_text": "hypot(sc->display_matrix[0 + i],\n                                      sc->display_matrix[3 + i])",
          "new_text": null,
          "old_line_content": "            disp_transform[i] = hypot(sc->display_matrix[0 + i],",
          "new_line_content": "        if (disp_transform[0] > 0       && disp_transform[1] > 0 &&",
          "content_same": false
        },
        {
          "line": 2559,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STSD atom\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STSD atom\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6655,
          "old_api": "get_frag_stream_info",
          "new_api": null,
          "old_text": "get_frag_stream_info(&mov->frag_index, mov->frag_index.current, st->id)",
          "new_text": null,
          "old_line_content": "    frag_stream_info = get_frag_stream_info(&mov->frag_index, mov->frag_index.current, st->id);",
          "new_line_content": "    if (frag_stream_info) {",
          "content_same": false
        },
        {
          "line": 4609,
          "old_api": "fabs",
          "new_api": null,
          "old_text": "fabs((disp_transform[0] / disp_transform[1]) - 1.0)",
          "new_text": null,
          "old_line_content": "            fabs((disp_transform[0] / disp_transform[1]) - 1.0) > 0.01)",
          "new_line_content": "                INT_MAX);",
          "content_same": false
        },
        {
          "line": 4610,
          "old_api": "av_d2q",
          "new_api": null,
          "old_text": "av_d2q(\n                disp_transform[0] / disp_transform[1],\n                INT_MAX)",
          "new_text": null,
          "old_line_content": "            st->sample_aspect_ratio = av_d2q(",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2577,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "    sc->stsd_version = avio_r8(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2578,
          "old_api": "avio_rb24",
          "new_api": null,
          "old_text": "avio_rb24(pb)",
          "new_text": null,
          "old_line_content": "    avio_rb24(pb); /* flags */",
          "new_line_content": "    /* Each entry contains a size (4 bytes) and format (4 bytes). */",
          "content_same": false
        },
        {
          "line": 2579,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    entries = avio_rb32(pb);",
          "new_line_content": "    if (entries <= 0 || entries > atom.size / 8) {",
          "content_same": false
        },
        {
          "line": 4625,
          "old_api": "avio_rb24",
          "new_api": null,
          "old_text": "avio_rb24(pb)",
          "new_text": null,
          "old_line_content": "    flags = avio_rb24(pb);",
          "new_line_content": "    if (!track_id)",
          "content_same": false
        },
        {
          "line": 4627,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    track_id = avio_rb32(pb);",
          "new_line_content": "    for (i = 0; i < c->trex_count; i++)",
          "content_same": false
        },
        {
          "line": 6675,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_ERROR, \"saiz atom found without saio\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(mov->fc, AV_LOG_ERROR, \"saiz atom found without saio\\n\");",
          "new_line_content": "        if (encryption_index->auxiliary_offsets_count &&",
          "content_same": false
        },
        {
          "line": 2583,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"invalid STSD entries %d\\n\", entries)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"invalid STSD entries %d\\n\", entries);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6680,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_ERROR, \"saio atom found without saiz\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(mov->fc, AV_LOG_ERROR, \"saio atom found without saiz\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2588,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR,\n               \"Duplicate stsd found in this track.\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4636,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"could not find corresponding trex (id %u)\\n\", track_id)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"could not find corresponding trex (id %u)\\n\", track_id);",
          "new_line_content": "    c->fragment.found_tfhd = 1;",
          "content_same": false
        },
        {
          "line": 2594,
          "old_api": "av_mallocz_array",
          "new_api": null,
          "old_text": "av_mallocz_array(entries, sizeof(*sc->extradata))",
          "new_text": null,
          "old_line_content": "    sc->extradata = av_mallocz_array(entries, sizeof(*sc->extradata));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6691,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_ERROR, \"Incorrect number of samples in encryption info\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(mov->fc, AV_LOG_ERROR, \"Incorrect number of samples in encryption info\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2596,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "    if (!sc->extradata_size) {",
          "content_same": false
        },
        {
          "line": 4644,
          "old_api": "avio_rb64",
          "new_api": null,
          "old_text": "avio_rb64(pb)",
          "new_text": null,
          "old_line_content": "                             avio_rb64(pb) : flags & MOV_TFHD_DEFAULT_BASE_IS_MOOF ?",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2598,
          "old_api": "av_mallocz_array",
          "new_api": null,
          "old_text": "av_mallocz_array(entries, sizeof(*sc->extradata_size))",
          "new_text": null,
          "old_line_content": "    sc->extradata_size = av_mallocz_array(entries, sizeof(*sc->extradata_size));",
          "new_line_content": "        goto fail;",
          "content_same": false
        },
        {
          "line": 2600,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "        ret = AVERROR(ENOMEM);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4649,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "                     avio_rb32(pb) : trex->duration;",
          "new_line_content": "    frag->flags    = flags & MOV_TFHD_DEFAULT_FLAGS ?",
          "content_same": false
        },
        {
          "line": 2604,
          "old_api": "ff_mov_read_stsd_entries",
          "new_api": null,
          "old_text": "ff_mov_read_stsd_entries(c, pb, entries)",
          "new_text": null,
          "old_line_content": "    ret = ff_mov_read_stsd_entries(c, pb, entries);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4654,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_TRACE, \"frag flags 0x%x\\n\", frag->flags)",
          "new_text": null,
          "old_line_content": "    av_log(c->fc, AV_LOG_TRACE, \"frag flags 0x%x\\n\", frag->flags);",
          "new_line_content": "    if (frag_stream_info)",
          "content_same": false
        },
        {
          "line": 6702,
          "old_api": "av_packet_add_side_data",
          "new_api": null,
          "old_text": "av_packet_add_side_data(pkt, AV_PKT_DATA_ENCRYPTION_INFO, side_data, size)",
          "new_text": null,
          "old_line_content": "            ret = av_packet_add_side_data(pkt, AV_PKT_DATA_ENCRYPTION_INFO, side_data, size);",
          "new_line_content": "            return ret;",
          "content_same": false
        },
        {
          "line": 4656,
          "old_api": "get_current_frag_stream_info",
          "new_api": null,
          "old_text": "get_current_frag_stream_info(&c->frag_index)",
          "new_text": null,
          "old_line_content": "    frag_stream_info = get_current_frag_stream_info(&c->frag_index);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6704,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(side_data)",
          "new_text": null,
          "old_line_content": "                av_free(side_data);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2614,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "            return AVERROR(ENOMEM);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2618,
          "old_api": "mov_finalize_stsd_codec",
          "new_api": null,
          "old_text": "mov_finalize_stsd_codec(c, pb, st, sc)",
          "new_text": null,
          "old_line_content": "    return mov_finalize_stsd_codec(c, pb, st, sc);",
          "new_line_content": "        int j;",
          "content_same": false
        },
        {
          "line": 4670,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "    c->chapter_tracks = new_tracks;",
          "content_same": false
        },
        {
          "line": 4672,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(c->chapter_tracks)",
          "new_text": null,
          "old_line_content": "    av_free(c->chapter_tracks);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2626,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&sc->extradata)",
          "new_text": null,
          "old_line_content": "    av_freep(&sc->extradata);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2627,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&sc->extradata_size)",
          "new_text": null,
          "old_line_content": "    av_freep(&sc->extradata_size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4677,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        c->chapter_tracks[i] = avio_rb32(pb);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 6728,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "    if (avio_r8(pb) != 0) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 6729,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"unsupported OpusSpecificBox version\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"unsupported OpusSpecificBox version\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4689,
          "old_api": "av_reallocp_array",
          "new_api": null,
          "old_text": "av_reallocp_array(&c->trex_data, c->trex_count + 1,\n                                 sizeof(*c->trex_data))",
          "new_text": null,
          "old_line_content": "    if ((err = av_reallocp_array(&c->trex_data, c->trex_count + 1,",
          "new_line_content": "        return err;",
          "content_same": false
        },
        {
          "line": 2643,
          "old_api": "avio_rb24",
          "new_api": null,
          "old_text": "avio_rb24(pb)",
          "new_text": null,
          "old_line_content": "    avio_rb24(pb); /* flags */",
          "new_line_content": "    if ((uint64_t)entries * 12 + 4 > atom.size)",
          "content_same": false
        },
        {
          "line": 6740,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('H','e','a','d')",
          "new_text": null,
          "old_line_content": "    AV_WL32(st->codecpar->extradata + 4, MKTAG('H','e','a','d'));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2645,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    entries = avio_rb32(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6741,
          "old_api": "AV_WB8",
          "new_api": null,
          "old_text": "AV_WB8(st->codecpar->extradata + 8, 1)",
          "new_text": null,
          "old_line_content": "    AV_WB8(st->codecpar->extradata + 8, 1); /* OpusHead version */",
          "new_line_content": "    /* OpusSpecificBox is stored in big-endian, but OpusHead is",
          "content_same": false
        },
        {
          "line": 6742,
          "old_api": "avio_read",
          "new_api": null,
          "old_text": "avio_read(pb, st->codecpar->extradata + 9, size - 9)",
          "new_text": null,
          "old_line_content": "    avio_read(pb, st->codecpar->extradata + 9, size - 9);",
          "new_line_content": "       little-endian; aside from the preceeding magic and version they're",
          "content_same": false
        },
        {
          "line": 2649,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_TRACE, \"track[%u].stsc.entries = %u\\n\", c->fc->nb_streams - 1, entries)",
          "new_text": null,
          "old_line_content": "    av_log(c->fc, AV_LOG_TRACE, \"track[%u].stsc.entries = %u\\n\", c->fc->nb_streams - 1, entries);",
          "new_line_content": "        return 0;",
          "content_same": false
        },
        {
          "line": 6749,
          "old_api": "AV_WL16",
          "new_api": null,
          "old_text": "AV_WL16(st->codecpar->extradata + 10, pre_skip)",
          "new_text": null,
          "old_line_content": "    AV_WL16(st->codecpar->extradata + 10, pre_skip);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4702,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    trex->duration = avio_rb32(pb);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 2655,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(sc->stsc_data)",
          "new_text": null,
          "old_line_content": "    av_free(sc->stsc_data);",
          "new_line_content": "    if (!sc->stsc_data)",
          "content_same": false
        },
        {
          "line": 4703,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    trex->size     = avio_rb32(pb);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2657,
          "old_api": "av_malloc_array",
          "new_api": null,
          "old_text": "av_malloc_array(entries, sizeof(*sc->stsc_data))",
          "new_text": null,
          "old_line_content": "    sc->stsc_data = av_malloc_array(entries, sizeof(*sc->stsc_data));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4704,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    trex->flags    = avio_rb32(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6750,
          "old_api": "AV_RB32",
          "new_api": null,
          "old_text": "AV_RB32(st->codecpar->extradata + 12)",
          "new_text": null,
          "old_line_content": "    AV_WL32(st->codecpar->extradata + 12, AV_RB32(st->codecpar->extradata + 12));",
          "new_line_content": "    st->codecpar->initial_padding = pre_skip;",
          "content_same": false
        },
        {
          "line": 6754,
          "old_api": "av_rescale_q",
          "new_api": null,
          "old_text": "av_rescale_q(OPUS_SEEK_PREROLL_MS,\n                                              (AVRational){1, 1000},\n                                              (AVRational){1, 48000})",
          "new_text": null,
          "old_line_content": "    st->codecpar->seek_preroll = av_rescale_q(OPUS_SEEK_PREROLL_MS,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2662,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        sc->stsc_data[i].first = avio_rb32(pb);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2663,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        sc->stsc_data[i].count = avio_rb32(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2664,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        sc->stsc_data[i].id = avio_rb32(pb);",
          "new_line_content": "    sc->stsc_count = i;",
          "content_same": false
        },
        {
          "line": 2675,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"STSC entry %d is invalid (first=%d count=%d id=%d)\\n\", i, sc->stsc_data[i].first, sc->stsc_data[i].count, sc->stsc_data[i].id)",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_WARNING, \"STSC entry %d is invalid (first=%d count=%d id=%d)\\n\", i, sc->stsc_data[i].first, sc->stsc_data[i].count, sc->stsc_data[i].id);",
          "new_line_content": "                    sc->stsc_count --;",
          "content_same": false
        },
        {
          "line": 4724,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"could not find corresponding track id %u\\n\", frag->track_id)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"could not find corresponding track id %u\\n\", frag->track_id);",
          "new_line_content": "    sc = st->priv_data;",
          "content_same": false
        },
        {
          "line": 6775,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    format_info = avio_rb32(pb);",
          "new_line_content": "    channel_assignment1 = (format_info >> 15) & 0x1F;",
          "content_same": false
        },
        {
          "line": 2683,
          "old_api": "FFMIN",
          "new_api": null,
          "old_text": "FFMIN(sc->stsc_data[i-1].first + 1LL, INT_MAX)",
          "new_text": null,
          "old_line_content": "                    sc->stsc_data[i].first = FFMIN(sc->stsc_data[i-1].first + 1LL, INT_MAX);",
          "new_line_content": "                continue;",
          "content_same": false
        },
        {
          "line": 2684,
          "old_api": "FFMAX",
          "new_api": null,
          "old_text": "FFMAX(sc->stsc_data[i].count, 1)",
          "new_text": null,
          "old_line_content": "                sc->stsc_data[i].count = FFMAX(sc->stsc_data[i].count, 1);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 4731,
          "old_api": "avio_rb24",
          "new_api": null,
          "old_text": "avio_rb24(pb)",
          "new_text": null,
          "old_line_content": "    avio_rb24(pb); /* flags */",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 4733,
          "old_api": "avio_rb64",
          "new_api": null,
          "old_text": "avio_rb64(pb)",
          "new_text": null,
          "old_line_content": "        base_media_decode_time = avio_rb64(pb);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2688,
          "old_api": "av_assert0",
          "new_api": null,
          "old_text": "av_assert0(sc->stsc_data[i+1].first >= 2)",
          "new_text": null,
          "old_line_content": "            av_assert0(sc->stsc_data[i+1].first >= 2);",
          "new_line_content": "            sc->stsc_data[i].count = sc->stsc_data[i+1].count;",
          "content_same": false
        },
        {
          "line": 4738,
          "old_api": "get_current_frag_stream_info",
          "new_api": null,
          "old_text": "get_current_frag_stream_info(&c->frag_index)",
          "new_text": null,
          "old_line_content": "    frag_stream_info = get_current_frag_stream_info(&c->frag_index);",
          "new_line_content": "    sc->track_end = base_media_decode_time;",
          "content_same": false
        },
        {
          "line": 6786,
          "old_api": "mlp_samplerate",
          "new_api": null,
          "old_text": "mlp_samplerate(ratebits)",
          "new_text": null,
          "old_line_content": "    st->codecpar->sample_rate = mlp_samplerate(ratebits);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6787,
          "old_api": "truehd_channels",
          "new_api": null,
          "old_text": "truehd_channels(channel_assignment)",
          "new_text": null,
          "old_line_content": "    st->codecpar->channels = truehd_channels(channel_assignment);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 6788,
          "old_api": "truehd_layout",
          "new_api": null,
          "old_text": "truehd_layout(channel_assignment)",
          "new_text": null,
          "old_line_content": "    st->codecpar->channel_layout = truehd_layout(channel_assignment);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2697,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STSC atom\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STSC atom\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6808,
          "old_api": "av_dovi_alloc",
          "new_api": null,
          "old_text": "av_dovi_alloc(&dovi_size)",
          "new_text": null,
          "old_line_content": "    dovi = av_dovi_alloc(&dovi_size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2714,
          "old_api": "mov_stsc_index_valid",
          "new_api": null,
          "old_text": "mov_stsc_index_valid(index, sc->stsc_count)",
          "new_text": null,
          "old_line_content": "    if (mov_stsc_index_valid(index, sc->stsc_count))",
          "new_line_content": "        // Validation for stsc / stco  happens earlier in mov_read_stsc + mov_read_trak.",
          "content_same": false
        },
        {
          "line": 4765,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"trun track id unknown, no tfhd was found\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"trun track id unknown, no tfhd was found\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2718,
          "old_api": "av_assert0",
          "new_api": null,
          "old_text": "av_assert0(sc->stsc_data[index].first <= sc->chunk_count)",
          "new_text": null,
          "old_line_content": "        av_assert0(sc->stsc_data[index].first <= sc->chunk_count);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6813,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "    dovi->dv_version_minor = avio_r8(pb);",
          "new_line_content": "    dovi->dv_profile        = (buf >> 9) & 0x7f;    // 7 bits",
          "content_same": false
        },
        {
          "line": 6815,
          "old_api": "avio_rb16",
          "new_api": null,
          "old_text": "avio_rb16(pb)",
          "new_text": null,
          "old_line_content": "    buf = avio_rb16(pb);",
          "new_line_content": "    dovi->rpu_present_flag  = (buf >> 2) & 0x01;    // 1 bit",
          "content_same": false
        },
        {
          "line": 6822,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "        buf = avio_r8(pb);",
          "new_line_content": "        // 0 stands for None",
          "content_same": false
        },
        {
          "line": 4776,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"could not find corresponding track id %u\\n\", frag->track_id)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"could not find corresponding track id %u\\n\", frag->track_id);",
          "new_line_content": "    sc = st->priv_data;",
          "content_same": false
        },
        {
          "line": 2736,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    avio_rb32(pb); // version + flags",
          "new_line_content": "    if (sc->stps_data)",
          "content_same": false
        },
        {
          "line": 6833,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(dovi)",
          "new_text": null,
          "old_line_content": "        av_free(dovi);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2741,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(sc->stps_data)",
          "new_text": null,
          "old_line_content": "    av_free(sc->stps_data);",
          "new_line_content": "    if (!sc->stps_data)",
          "content_same": false
        },
        {
          "line": 6837,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c, AV_LOG_TRACE, \"DOVI in dvcC/dvvC box, version: %d.%d, profile: %d, level: %d, \"\n           \"rpu flag: %d, el flag: %d, bl flag: %d, compatibility id: %d\\n\",\n           dovi->dv_version_major, dovi->dv_version_minor,\n           dovi->dv_profile, dovi->dv_level,\n           dovi->rpu_present_flag,\n           dovi->el_present_flag,\n           dovi->bl_present_flag,\n           dovi->dv_bl_signal_compatibility_id\n        )",
          "new_text": null,
          "old_line_content": "    av_log(c, AV_LOG_TRACE, \"DOVI in dvcC/dvvC box, version: %d.%d, profile: %d, level: %d, \"",
          "new_line_content": "           dovi->dv_profile, dovi->dv_level,",
          "content_same": false
        },
        {
          "line": 2743,
          "old_api": "av_malloc_array",
          "new_api": null,
          "old_text": "av_malloc_array(entries, sizeof(*sc->stps_data))",
          "new_text": null,
          "old_line_content": "    sc->stps_data = av_malloc_array(entries, sizeof(*sc->stps_data));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4791,
          "old_api": "get_frag_stream_info",
          "new_api": null,
          "old_text": "get_frag_stream_info(&c->frag_index, i, frag->track_id)",
          "new_text": null,
          "old_line_content": "        frag_stream_info = get_frag_stream_info(&c->frag_index, i, frag->track_id);",
          "new_line_content": "            index_entry_pos = frag_stream_info->index_entry;",
          "content_same": false
        },
        {
          "line": 2748,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        sc->stps_data[i] = avio_rb32(pb);",
          "new_line_content": "    sc->stps_count = i;",
          "content_same": false
        },
        {
          "line": 4801,
          "old_api": "avio_rb24",
          "new_api": null,
          "old_text": "avio_rb24(pb)",
          "new_text": null,
          "old_line_content": "    flags = avio_rb24(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2754,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STPS atom\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STPS atom\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4802,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    entries = avio_rb32(pb);",
          "new_line_content": "    if ((uint64_t)entries+sc->ctts_count >= UINT_MAX/sizeof(*sc->ctts_data))",
          "content_same": false
        },
        {
          "line": 4803,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_TRACE, \"flags 0x%x entries %u\\n\", flags, entries)",
          "new_text": null,
          "old_line_content": "    av_log(c->fc, AV_LOG_TRACE, \"flags 0x%x entries %u\\n\", flags, entries);",
          "new_line_content": "        return AVERROR_INVALIDDATA;",
          "content_same": false
        },
        {
          "line": 4808,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    if (flags & MOV_TRUN_FIRST_SAMPLE_FLAGS) first_sample_flags = avio_rb32(pb);",
          "new_line_content": "    if (frag_stream_info)",
          "content_same": false
        },
        {
          "line": 4810,
          "old_api": "get_current_frag_stream_info",
          "new_api": null,
          "old_text": "get_current_frag_stream_info(&c->frag_index)",
          "new_text": null,
          "old_line_content": "    frag_stream_info = get_current_frag_stream_info(&c->frag_index);",
          "new_line_content": "        if (frag_stream_info->next_trun_dts != AV_NOPTS_VALUE) {",
          "content_same": false
        },
        {
          "line": 4818,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_DEBUG, \"found mfra time %\"PRId64\n                    \", using it for pts\\n\", pts)",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_DEBUG, \"found mfra time %\"PRId64",
          "new_line_content": "            c->use_mfra_for == FF_MOV_FLAG_MFRA_DTS) {",
          "content_same": false
        },
        {
          "line": 2773,
          "old_api": "avio_rb24",
          "new_api": null,
          "old_text": "avio_rb24(pb)",
          "new_text": null,
          "old_line_content": "    avio_rb24(pb); /* flags */",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2775,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    entries = avio_rb32(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4823,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_DEBUG, \"found mfra time %\"PRId64\n                    \", using it for dts\\n\", pts)",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_DEBUG, \"found mfra time %\"PRId64",
          "new_line_content": "            // FIXME: sidx earliest_presentation_time is *PTS*, s.b.",
          "content_same": false
        },
        {
          "line": 2777,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_TRACE, \"keyframe_count = %u\\n\", entries)",
          "new_text": null,
          "old_line_content": "    av_log(c->fc, AV_LOG_TRACE, \"keyframe_count = %u\\n\", entries);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 4829,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_DEBUG, \"found sidx time %\"PRId64\n                    \", using it for pts\\n\", pts)",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_DEBUG, \"found sidx time %\"PRId64",
          "new_line_content": "            dts = frag_stream_info->tfdt_dts - sc->time_offset;",
          "content_same": false
        },
        {
          "line": 4833,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_DEBUG, \"found tfdt time %\"PRId64\n                    \", using it for dts\\n\", dts)",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_DEBUG, \"found tfdt time %\"PRId64",
          "new_line_content": "            dts = sc->track_end - sc->time_offset;",
          "content_same": false
        },
        {
          "line": 4837,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_DEBUG, \"found track end time %\"PRId64\n                    \", using it for dts\\n\", dts)",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_DEBUG, \"found track end time %\"PRId64",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 2790,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&sc->keyframes)",
          "new_text": null,
          "old_line_content": "    av_freep(&sc->keyframes);",
          "new_line_content": "    if (!sc->keyframes)",
          "content_same": false
        },
        {
          "line": 2792,
          "old_api": "av_malloc_array",
          "new_api": null,
          "old_text": "av_malloc_array(entries, sizeof(*sc->keyframes))",
          "new_text": null,
          "old_line_content": "    sc->keyframes = av_malloc_array(entries, sizeof(*sc->keyframes));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4842,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_DEBUG, \"found track end time %\"PRId64\n                \", using it for dts\\n\", dts)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_DEBUG, \"found track end time %\"PRId64",
          "new_line_content": "    offset   = frag->base_data_offset + data_offset;",
          "content_same": false
        },
        {
          "line": 2797,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        sc->keyframes[i] = avio_rb32(pb);",
          "new_line_content": "    sc->keyframe_count = i;",
          "content_same": false
        },
        {
          "line": 4847,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_TRACE, \"first sample flags 0x%x\\n\", first_sample_flags)",
          "new_text": null,
          "old_line_content": "    av_log(c->fc, AV_LOG_TRACE, \"first sample flags 0x%x\\n\", first_sample_flags);",
          "new_line_content": "    if((uint64_t)st->nb_index_entries + entries >= UINT_MAX / sizeof(AVIndexEntry)) {",
          "content_same": false
        },
        {
          "line": 2803,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STSS atom\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STSS atom\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4852,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Failed to add index entry\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Failed to add index entry\\n\");",
          "new_line_content": "        return 0;",
          "content_same": false
        },
        {
          "line": 4858,
          "old_api": "av_fast_realloc",
          "new_api": null,
          "old_text": "av_fast_realloc(st->index_entries,\n                                  &st->index_entries_allocated_size,\n                                  requested_size)",
          "new_text": null,
          "old_line_content": "    new_entries = av_fast_realloc(st->index_entries,",
          "new_line_content": "    if(!new_entries)",
          "content_same": false
        },
        {
          "line": 4862,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "    requested_size = (st->nb_index_entries + entries) * sizeof(*sc->ctts_data);",
          "content_same": false
        },
        {
          "line": 4870,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "    // In case there were samples without ctts entries, ensure they get",
          "content_same": false
        },
        {
          "line": 2827,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('s','t','s','z')",
          "new_text": null,
          "old_line_content": "    if (atom.type == MKTAG('s','t','s','z')) {",
          "new_line_content": "            sc->sample_size = sample_size;",
          "content_same": false
        },
        {
          "line": 2828,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        sample_size = avio_rb32(pb);",
          "new_line_content": "        sc->stsz_sample_size = sample_size;",
          "content_same": false
        },
        {
          "line": 4876,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset((uint8_t*)(sc->ctts_data) + old_ctts_allocated_size, 0,\n           sc->ctts_allocated_size - old_ctts_allocated_size)",
          "new_text": null,
          "old_line_content": "    memset((uint8_t*)(sc->ctts_data) + old_ctts_allocated_size, 0,",
          "new_line_content": "    if (index_entry_pos < st->nb_index_entries) {",
          "content_same": false
        },
        {
          "line": 4881,
          "old_api": "memmove",
          "new_api": null,
          "old_text": "memmove(st->index_entries + index_entry_pos + entries,\n                st->index_entries + index_entry_pos,\n                sizeof(*st->index_entries) *\n                (st->nb_index_entries - index_entry_pos))",
          "new_text": null,
          "old_line_content": "        memmove(st->index_entries + index_entry_pos + entries,",
          "new_line_content": "                (st->nb_index_entries - index_entry_pos));",
          "content_same": false
        },
        {
          "line": 2836,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "        field_size = avio_r8(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4885,
          "old_api": "memmove",
          "new_api": null,
          "old_text": "memmove(sc->ctts_data + index_entry_pos + entries,\n                sc->ctts_data + index_entry_pos,\n                sizeof(*sc->ctts_data) * (sc->ctts_count - index_entry_pos))",
          "new_text": null,
          "old_line_content": "        memmove(sc->ctts_data + index_entry_pos + entries,",
          "new_line_content": "        if (index_entry_pos < sc->current_sample) {",
          "content_same": false
        },
        {
          "line": 2838,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    entries = avio_rb32(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2840,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_TRACE, \"sample_size = %u sample_count = %u\\n\", sc->sample_size, entries)",
          "new_text": null,
          "old_line_content": "    av_log(c->fc, AV_LOG_TRACE, \"sample_size = %u sample_count = %u\\n\", sc->sample_size, entries);",
          "new_line_content": "    if (sample_size)",
          "content_same": false
        },
        {
          "line": 2847,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Invalid sample field size %u\\n\", field_size)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Invalid sample field size %u\\n\", field_size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6944,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('c','l','l','i')",
          "new_text": null,
          "old_line_content": "{ MKTAG('c','l','l','i'), mov_read_clli },",
          "new_line_content": "{ 0, NULL }",
          "content_same": false
        },
        {
          "line": 6945,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('d','v','c','C')",
          "new_text": null,
          "old_line_content": "{ MKTAG('d','v','c','C'), mov_read_dvcc_dvvc },",
          "new_line_content": "};",
          "content_same": false
        },
        {
          "line": 6946,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('d','v','v','C')",
          "new_text": null,
          "old_line_content": "{ MKTAG('d','v','v','C'), mov_read_dvcc_dvvc },",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2857,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(sc->sample_sizes)",
          "new_text": null,
          "old_line_content": "    av_free(sc->sample_sizes);",
          "new_line_content": "    if (!sc->sample_sizes)",
          "content_same": false
        },
        {
          "line": 2859,
          "old_api": "av_malloc_array",
          "new_api": null,
          "old_text": "av_malloc_array(entries, sizeof(*sc->sample_sizes))",
          "new_text": null,
          "old_line_content": "    sc->sample_sizes = av_malloc_array(entries, sizeof(*sc->sample_sizes));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2861,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6957,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Atoms too deeply nested\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Atoms too deeply nested\\n\");",
          "new_line_content": "    c->atom_depth ++;",
          "content_same": false
        },
        {
          "line": 4912,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        if (flags & MOV_TRUN_SAMPLE_SIZE)     sample_size     = avio_rb32(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4914,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        if (flags & MOV_TRUN_SAMPLE_CTS)      ctts_duration   = avio_rb32(pb);",
          "new_line_content": "        if (pts != AV_NOPTS_VALUE) {",
          "content_same": false
        },
        {
          "line": 2867,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&sc->sample_sizes)",
          "new_text": null,
          "old_line_content": "        av_freep(&sc->sample_sizes);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4916,
          "old_api": "mov_update_dts_shift",
          "new_api": null,
          "old_text": "mov_update_dts_shift(sc, ctts_duration, c->fc)",
          "new_text": null,
          "old_line_content": "        mov_update_dts_shift(sc, ctts_duration, c->fc);",
          "new_line_content": "            if (flags & MOV_TRUN_SAMPLE_CTS) {",
          "content_same": false
        },
        {
          "line": 6964,
          "old_api": "avio_feof",
          "new_api": null,
          "old_text": "avio_feof(pb)",
          "new_text": null,
          "old_line_content": "    while (total_size <= atom.size - 8 && !avio_feof(pb)) {",
          "new_line_content": "        a.type=0;",
          "content_same": false
        },
        {
          "line": 2873,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&sc->sample_sizes)",
          "new_text": null,
          "old_line_content": "        av_freep(&sc->sample_sizes);",
          "new_line_content": "        return 0;",
          "content_same": false
        },
        {
          "line": 2874,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(buf)",
          "new_text": null,
          "old_line_content": "        av_free(buf);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2875,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"STSZ atom truncated\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"STSZ atom truncated\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4924,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_DEBUG,\n                   \"pts %\"PRId64\" calculated dts %\"PRId64\n                   \" sc->dts_shift %d ctts.duration %d\"\n                   \" sc->time_offset %\"PRId64\n                   \" flags & MOV_TRUN_SAMPLE_CTS %d\\n\",\n                   pts, dts,\n                   sc->dts_shift, ctts_duration,\n                   sc->time_offset, flags & MOV_TRUN_SAMPLE_CTS)",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_DEBUG,",
          "new_line_content": "                   \" sc->time_offset %\"PRId64",
          "content_same": false
        },
        {
          "line": 6970,
          "old_api": "avio_rl32",
          "new_api": null,
          "old_text": "avio_rl32(pb)",
          "new_text": null,
          "old_line_content": "            a.type = avio_rl32(pb);",
          "new_line_content": "                a.size >= 8 &&",
          "content_same": false
        },
        {
          "line": 6971,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('f','r','e','e')",
          "new_text": null,
          "old_line_content": "            if (((a.type == MKTAG('f','r','e','e') && c->moov_retry) ||",
          "new_line_content": "                c->fc->strict_std_compliance < FF_COMPLIANCE_STRICT) {",
          "content_same": false
        },
        {
          "line": 6972,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('h','o','o','v')",
          "new_text": null,
          "old_line_content": "                  a.type == MKTAG('h','o','o','v')) &&",
          "new_line_content": "                uint8_t buf[8];",
          "content_same": false
        },
        {
          "line": 2884,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(buf)",
          "new_text": null,
          "old_line_content": "            av_free(buf);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2885,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Invalid sample size %d\\n\", sc->sample_sizes[i])",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_ERROR, \"Invalid sample size %d\\n\", sc->sample_sizes[i]);",
          "new_line_content": "        sc->data_size += sc->sample_sizes[i];",
          "content_same": false
        },
        {
          "line": 6981,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('c','m','o','v')",
          "new_text": null,
          "old_line_content": "                    *type == MKTAG('c','m','o','v')) {",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 6982,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Detected moov in a free or hoov atom.\\n\")",
          "new_text": null,
          "old_line_content": "                    av_log(c->fc, AV_LOG_ERROR, \"Detected moov in a free or hoov atom.\\n\");",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 6987,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('m','o','o','v')",
          "new_text": null,
          "old_line_content": "                atom.type != MKTAG('m','o','o','v'))",
          "new_line_content": "                {",
          "content_same": false
        },
        {
          "line": 6991,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Broken file, trak/mdat not at top-level\\n\")",
          "new_text": null,
          "old_line_content": "                    av_log(c->fc, AV_LOG_ERROR, \"Broken file, trak/mdat not at top-level\\n\");",
          "new_line_content": "                    return 0;",
          "content_same": false
        },
        {
          "line": 2896,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STSZ atom\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STSZ atom\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6992,
          "old_api": "avio_skip",
          "new_api": null,
          "old_text": "avio_skip(pb, -8)",
          "new_text": null,
          "old_line_content": "                    avio_skip(pb, -8);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 6999,
          "old_api": "avio_rb64",
          "new_api": null,
          "old_text": "avio_rb64(pb)",
          "new_text": null,
          "old_line_content": "                a.size = avio_rb64(pb) - 8;",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 7003,
          "old_api": "\"PRId64\"\\n\",\n               av_fourcc2str(a.type)",
          "new_api": null,
          "old_text": "\"PRId64\"\\n\",\n               av_fourcc2str(a.type)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_TRACE, \"type:'%s' parent:'%s' sz: %\"PRId64\" %\"PRId64\" %\"PRId64\"\\n\",",
          "new_line_content": "            a.size = atom.size - total_size + 8;",
          "content_same": false
        },
        {
          "line": 7004,
          "old_api": "av_fourcc2str",
          "new_api": null,
          "old_text": "av_fourcc2str(atom.type)",
          "new_text": null,
          "old_line_content": "               av_fourcc2str(a.type), av_fourcc2str(atom.type), a.size, total_size, atom.size);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4960,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_TRACE, \"AVIndex stream %d, sample %d, offset %\"PRIx64\", dts %\"PRId64\", \"\n                \"size %u, distance %d, keyframe %d\\n\", st->index,\n                index_entry_pos, offset, dts, sample_size, distance, keyframe)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_TRACE, \"AVIndex stream %d, sample %d, offset %\"PRIx64\", dts %\"PRId64\", \"",
          "new_line_content": "        distance++;",
          "content_same": false
        },
        {
          "line": 7011,
          "old_api": "FFMIN",
          "new_api": null,
          "old_text": "FFMIN(a.size, atom.size - total_size)",
          "new_text": null,
          "old_line_content": "        a.size = FFMIN(a.size, atom.size - total_size);",
          "new_line_content": "            if (mov_default_parse_table[i].type == a.type) {",
          "content_same": false
        },
        {
          "line": 2916,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "    avio_r8(pb); /* version */",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2918,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    entries = avio_rb32(pb);",
          "new_line_content": "            c->fc->nb_streams-1, entries);",
          "content_same": false
        },
        {
          "line": 2920,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_TRACE, \"track[%u].stts.entries = %u\\n\",\n            c->fc->nb_streams-1, entries)",
          "new_text": null,
          "old_line_content": "    av_log(c->fc, AV_LOG_TRACE, \"track[%u].stts.entries = %u\\n\",",
          "new_line_content": "    if (sc->stts_data)",
          "content_same": false
        },
        {
          "line": 2924,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"Duplicated STTS atom\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Duplicated STTS atom\\n\");",
          "new_line_content": "    if (entries >= INT_MAX / sizeof(*sc->stts_data))",
          "content_same": false
        },
        {
          "line": 7020,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('u','d','t','a')",
          "new_text": null,
          "old_line_content": "        if (!parse && (atom.type == MKTAG('u','d','t','a') ||",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7021,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('i','l','s','t')",
          "new_text": null,
          "old_line_content": "                       atom.type == MKTAG('i','l','s','t')))",
          "new_line_content": "        // Supports parsing the QuickTime Metadata Keys.",
          "content_same": false
        },
        {
          "line": 2928,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "        int sample_duration;",
          "content_same": false
        },
        {
          "line": 7027,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('m','e','t','a')",
          "new_text": null,
          "old_line_content": "            atom.type == MKTAG('m','e','t','a') &&",
          "new_line_content": "            parse = mov_read_keys;",
          "content_same": false
        },
        {
          "line": 7028,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('k','e','y','s')",
          "new_text": null,
          "old_line_content": "            a.type == MKTAG('k','e','y','s') &&",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2933,
          "old_api": "FFMAX",
          "new_api": null,
          "old_text": "FFMAX(i + 1, 1024 * 1024)",
          "new_text": null,
          "old_line_content": "        unsigned int min_entries = FFMIN(FFMAX(i + 1, 1024 * 1024), entries);",
          "new_line_content": "        if (!stts_data) {",
          "content_same": false
        },
        {
          "line": 4981,
          "old_api": "memmove",
          "new_api": null,
          "old_text": "memmove(st->index_entries + index_entry_pos,\n                st->index_entries + index_entry_pos + gap,\n                sizeof(*st->index_entries) *\n                (st->nb_index_entries - (index_entry_pos + gap)))",
          "new_text": null,
          "old_line_content": "        memmove(st->index_entries + index_entry_pos,",
          "new_line_content": "                (st->nb_index_entries - (index_entry_pos + gap)));",
          "content_same": false
        },
        {
          "line": 2937,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&sc->stts_data)",
          "new_text": null,
          "old_line_content": "            av_freep(&sc->stts_data);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4985,
          "old_api": "memmove",
          "new_api": null,
          "old_text": "memmove(sc->ctts_data + index_entry_pos,\n                sc->ctts_data + index_entry_pos + gap,\n                sizeof(*sc->ctts_data) *\n                (sc->ctts_count - (index_entry_pos + gap)))",
          "new_text": null,
          "old_line_content": "        memmove(sc->ctts_data + index_entry_pos,",
          "new_line_content": "                (sc->ctts_count - (index_entry_pos + gap)));",
          "content_same": false
        },
        {
          "line": 2939,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "            return AVERROR(ENOMEM);",
          "new_line_content": "        sc->stts_data = stts_data;",
          "content_same": false
        },
        {
          "line": 7034,
          "old_api": "avio_skip",
          "new_api": null,
          "old_text": "avio_skip(pb, a.size)",
          "new_text": null,
          "old_line_content": "            avio_skip(pb, a.size);",
          "new_line_content": "            int64_t left;",
          "content_same": false
        },
        {
          "line": 7036,
          "old_api": "avio_tell",
          "new_api": null,
          "old_text": "avio_tell(pb)",
          "new_text": null,
          "old_line_content": "            int64_t start_pos = avio_tell(pb);",
          "new_line_content": "            if (err < 0) {",
          "content_same": false
        },
        {
          "line": 7038,
          "old_api": "parse",
          "new_api": null,
          "old_text": "parse(c, pb, a)",
          "new_text": null,
          "old_line_content": "            int err = parse(c, pb, a);",
          "new_line_content": "                return err;",
          "content_same": false
        },
        {
          "line": 2944,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        sample_count=avio_rb32(pb);",
          "new_line_content": "        sc->stts_data[i].count= sample_count;",
          "content_same": false
        },
        {
          "line": 2945,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        sample_duration = avio_rb32(pb);",
          "new_line_content": "        sc->stts_data[i].duration= sample_duration;",
          "content_same": false
        },
        {
          "line": 7045,
          "old_api": "avio_size",
          "new_api": null,
          "old_text": "avio_size(pb)",
          "new_text": null,
          "old_line_content": "                 start_pos + a.size == avio_size(pb))) {",
          "new_line_content": "                c->atom_depth --;",
          "content_same": false
        },
        {
          "line": 2950,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_TRACE, \"sample_count=%d, sample_duration=%d\\n\",\n                sample_count, sample_duration)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_TRACE, \"sample_count=%d, sample_duration=%d\\n\",",
          "new_line_content": "        duration+=(int64_t)sample_duration*(uint64_t)sample_count;",
          "content_same": false
        },
        {
          "line": 7051,
          "old_api": "avio_tell",
          "new_api": null,
          "old_text": "avio_tell(pb)",
          "new_text": null,
          "old_line_content": "            left = a.size - avio_tell(pb) + start_pos;",
          "new_line_content": "            else if (left < 0) {",
          "content_same": false
        },
        {
          "line": 7053,
          "old_api": "avio_skip",
          "new_api": null,
          "old_text": "avio_skip(pb, left)",
          "new_text": null,
          "old_line_content": "                avio_skip(pb, left);",
          "new_line_content": "                       \"overread end of atom '%.4s' by %\"PRId64\" bytes\\n\",",
          "content_same": false
        },
        {
          "line": 7058,
          "old_api": "avio_seek",
          "new_api": null,
          "old_text": "avio_seek(pb, left, SEEK_CUR)",
          "new_text": null,
          "old_line_content": "                avio_seek(pb, left, SEEK_CUR);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5013,
          "old_api": "fix_frag_index_entries",
          "new_api": null,
          "old_text": "fix_frag_index_entries(&c->frag_index, next_frag_index,\n                           frag->track_id, entries)",
          "new_text": null,
          "old_line_content": "    fix_frag_index_entries(&c->frag_index, next_frag_index,",
          "new_line_content": "    if (pb->eof_reached) {",
          "content_same": false
        },
        {
          "line": 2968,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STTS atom\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted STTS atom\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5017,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted TRUN atom\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted TRUN atom\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7066,
          "old_api": "avio_skip",
          "new_api": null,
          "old_text": "avio_skip(pb, atom.size - total_size)",
          "new_text": null,
          "old_line_content": "        avio_skip(pb, atom.size - total_size);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 2974,
          "old_api": "FFMIN",
          "new_api": null,
          "old_text": "FFMIN(st->duration, duration)",
          "new_text": null,
          "old_line_content": "        st->duration= FFMIN(st->duration, duration);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 5032,
          "old_api": "avio_tell",
          "new_api": null,
          "old_text": "avio_tell(pb)",
          "new_text": null,
          "old_line_content": "    int64_t offset = avio_tell(pb) + atom.size, pts, timestamp;",
          "new_line_content": "    AVStream *st = NULL;",
          "content_same": false
        },
        {
          "line": 2990,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "    avio_r8(pb); /* version */",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5040,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "    version = avio_r8(pb);",
          "new_line_content": "        return 0;",
          "content_same": false
        },
        {
          "line": 2994,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_TRACE, \"track[%u].sdtp.entries = %\" PRId64 \"\\n\",\n           c->fc->nb_streams - 1, entries)",
          "new_text": null,
          "old_line_content": "    av_log(c->fc, AV_LOG_TRACE, \"track[%u].sdtp.entries = %\" PRId64 \"\\n\",",
          "new_line_content": "    if (sc->sdtp_data)",
          "content_same": false
        },
        {
          "line": 5042,
          "old_api": "avpriv_request_sample",
          "new_api": null,
          "old_text": "avpriv_request_sample(c->fc, \"sidx version %u\", version)",
          "new_text": null,
          "old_line_content": "        avpriv_request_sample(c->fc, \"sidx version %u\", version);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7093,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('f','t','y','p')",
          "new_text": null,
          "old_line_content": "        case MKTAG('f','t','y','p'):",
          "new_line_content": "                 offset + 12 > (unsigned int)p->buf_size ||",
          "content_same": false
        },
        {
          "line": 2998,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"Duplicated SDTP atom\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Duplicated SDTP atom\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5046,
          "old_api": "avio_rb24",
          "new_api": null,
          "old_text": "avio_rb24(pb)",
          "new_text": null,
          "old_line_content": "    avio_rb24(pb); // flags",
          "new_line_content": "    for (i = 0; i < c->fc->nb_streams; i++) {",
          "content_same": false
        },
        {
          "line": 5048,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    track_id = avio_rb32(pb); // Reference ID",
          "new_line_content": "            st = c->fc->streams[i];",
          "content_same": false
        },
        {
          "line": 3002,
          "old_api": "av_mallocz",
          "new_api": null,
          "old_text": "av_mallocz(entries)",
          "new_text": null,
          "old_line_content": "    sc->sdtp_data = av_mallocz(entries);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7099,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('f','t','y','p')",
          "new_text": null,
          "old_line_content": "            } else if (tag == MKTAG('f','t','y','p') &&",
          "new_line_content": "                    )) {",
          "content_same": false
        },
        {
          "line": 7101,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('j','p','x',' ')",
          "new_text": null,
          "old_line_content": "                        || AV_RL32(p->buf + offset + 8) == MKTAG('j','p','x',' ')",
          "new_line_content": "            } else {",
          "content_same": false
        },
        {
          "line": 3007,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "        sc->sdtp_data[i] = avio_r8(pb);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 5056,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"could not find corresponding track id %d\\n\", track_id)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"could not find corresponding track id %d\\n\", track_id);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7103,
          "old_api": "FFMAX",
          "new_api": null,
          "old_text": "FFMAX(score, 5)",
          "new_text": null,
          "old_line_content": "                score = FFMAX(score, 5);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 5065,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Invalid sidx timescale 1/%d\\n\", timescale.den)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Invalid sidx timescale 1/%d\\n\", timescale.den);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7114,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('p','i','c','t')",
          "new_text": null,
          "old_line_content": "        case MKTAG('p','i','c','t'):",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 3020,
          "old_api": "FFMAX",
          "new_api": null,
          "old_text": "FFMAX(sc->dts_shift, -duration)",
          "new_text": null,
          "old_line_content": "        sc->dts_shift = FFMAX(sc->dts_shift, -duration);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7119,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('s','k','i','p')",
          "new_text": null,
          "old_line_content": "        case MKTAG('s','k','i','p'):",
          "new_line_content": "            /* if we only find those cause probedata is too small at least rate them */",
          "content_same": false
        },
        {
          "line": 5073,
          "old_api": "avio_rb64",
          "new_api": null,
          "old_text": "avio_rb64(pb)",
          "new_text": null,
          "old_line_content": "        pts = avio_rb64(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7123,
          "old_api": "FFMAX",
          "new_api": null,
          "old_text": "FFMAX(score, AVPROBE_SCORE_EXTENSION)",
          "new_text": null,
          "old_line_content": "            score  = FFMAX(score, AVPROBE_SCORE_EXTENSION);",
          "new_line_content": "        default:",
          "content_same": false
        },
        {
          "line": 5077,
          "old_api": "avio_rb16",
          "new_api": null,
          "old_text": "avio_rb16(pb)",
          "new_text": null,
          "old_line_content": "    avio_rb16(pb); // reserved",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5079,
          "old_api": "avio_rb16",
          "new_api": null,
          "old_text": "avio_rb16(pb)",
          "new_text": null,
          "old_line_content": "    item_count = avio_rb16(pb);",
          "new_line_content": "        int index;",
          "content_same": false
        },
        {
          "line": 7127,
          "old_api": "AV_RB32",
          "new_api": null,
          "old_text": "AV_RB32(p->buf+offset)",
          "new_text": null,
          "old_line_content": "            offset = FFMAX(4, AV_RB32(p->buf+offset)) + offset;",
          "new_line_content": "    if(score > AVPROBE_SCORE_MAX - 50 && moov_offset != -1) {",
          "content_same": false
        },
        {
          "line": 3035,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "    avio_r8(pb); /* version */",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3037,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    entries = avio_rb32(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5085,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        uint32_t duration = avio_rb32(pb);",
          "new_line_content": "            return AVERROR_PATCHWELCOME;",
          "content_same": false
        },
        {
          "line": 3039,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_TRACE, \"track[%u].ctts.entries = %u\\n\", c->fc->nb_streams - 1, entries)",
          "new_text": null,
          "old_line_content": "    av_log(c->fc, AV_LOG_TRACE, \"track[%u].ctts.entries = %u\\n\", c->fc->nb_streams - 1, entries);",
          "new_line_content": "        return 0;",
          "content_same": false
        },
        {
          "line": 7138,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('m','h','l','r')",
          "new_text": null,
          "old_line_content": "               AV_RL32(p->buf + offset +  8) == MKTAG('m','h','l','r') &&",
          "new_line_content": "                /* We found a media handler reference atom describing an",
          "content_same": false
        },
        {
          "line": 7139,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('M','P','E','G')",
          "new_text": null,
          "old_line_content": "               AV_RL32(p->buf + offset + 12) == MKTAG('M','P','E','G')){",
          "new_line_content": "                 * MPEG-PS-in-MOV, return a",
          "content_same": false
        },
        {
          "line": 7140,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(NULL, AV_LOG_WARNING, \"Found media data tag MPEG indicating this is a MOV-packed MPEG-PS.\\n\")",
          "new_text": null,
          "old_line_content": "                av_log(NULL, AV_LOG_WARNING, \"Found media data tag MPEG indicating this is a MOV-packed MPEG-PS.\\n\");",
          "new_line_content": "                 * low score to force expanding the probe window until",
          "content_same": false
        },
        {
          "line": 5093,
          "old_api": "update_frag_index",
          "new_api": null,
          "old_text": "update_frag_index(c, offset)",
          "new_text": null,
          "old_line_content": "        index = update_frag_index(c, offset);",
          "new_line_content": "            frag_stream_info->sidx_pts = timestamp;",
          "content_same": false
        },
        {
          "line": 3046,
          "old_api": "av_fast_realloc",
          "new_api": null,
          "old_text": "av_fast_realloc(NULL, &sc->ctts_allocated_size, entries * sizeof(*sc->ctts_data))",
          "new_text": null,
          "old_line_content": "    sc->ctts_data = av_fast_realloc(NULL, &sc->ctts_allocated_size, entries * sizeof(*sc->ctts_data));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5094,
          "old_api": "get_frag_stream_info",
          "new_api": null,
          "old_text": "get_frag_stream_info(&c->frag_index, index, track_id)",
          "new_text": null,
          "old_line_content": "        frag_stream_info = get_frag_stream_info(&c->frag_index, index, track_id);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3051,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        int count    =avio_rb32(pb);",
          "new_line_content": "        if (count <= 0) {",
          "content_same": false
        },
        {
          "line": 3055,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_TRACE,\n                   \"ignoring CTTS entry with count=%d duration=%d\\n\",\n                   count, duration)",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_TRACE,",
          "new_line_content": "            continue;",
          "content_same": false
        },
        {
          "line": 5106,
          "old_api": "avio_size",
          "new_api": null,
          "old_text": "avio_size(pb)",
          "new_text": null,
          "old_line_content": "    if (offset == avio_size(pb)) {",
          "new_line_content": "        for (i = 0; i < c->frag_index.nb_items; i++) {",
          "content_same": false
        },
        {
          "line": 3067,
          "old_api": "FFNABS",
          "new_api": null,
          "old_text": "FFNABS(duration)",
          "new_text": null,
          "old_line_content": "        if (FFNABS(duration) < -(1<<28) && i+2<entries) {",
          "new_line_content": "            sc->ctts_count = 0;",
          "content_same": false
        },
        {
          "line": 3068,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"CTTS invalid\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_WARNING, \"CTTS invalid\\n\");",
          "new_line_content": "            return 0;",
          "content_same": false
        },
        {
          "line": 3069,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&sc->ctts_data)",
          "new_text": null,
          "old_line_content": "            av_freep(&sc->ctts_data);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3075,
          "old_api": "mov_update_dts_shift",
          "new_api": null,
          "old_text": "mov_update_dts_shift(sc, duration, c->fc)",
          "new_text": null,
          "old_line_content": "            mov_update_dts_shift(sc, duration, c->fc);",
          "new_line_content": "    sc->ctts_count = ctts_count;",
          "content_same": false
        },
        {
          "line": 5125,
          "old_api": "av_rescale",
          "new_api": null,
          "old_text": "av_rescale(ref_st->duration, sc->time_scale, ref_sc->time_scale)",
          "new_text": null,
          "old_line_content": "                st->duration = sc->track_end = av_rescale(ref_st->duration, sc->time_scale, ref_sc->time_scale);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7174,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(s, AV_LOG_ERROR, \"Referenced QT chapter track not found\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(s, AV_LOG_ERROR, \"Referenced QT chapter track not found\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3081,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted CTTS atom\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted CTTS atom\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7179,
          "old_api": "avio_tell",
          "new_api": null,
          "old_text": "avio_tell(sc->pb)",
          "new_text": null,
          "old_line_content": "        cur_pos = avio_tell(sc->pb);",
          "new_line_content": "            st->disposition |= AV_DISPOSITION_ATTACHED_PIC | AV_DISPOSITION_TIMED_THUMBNAILS;",
          "content_same": false
        },
        {
          "line": 3085,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_TRACE, \"dts shift %d\\n\", sc->dts_shift)",
          "new_text": null,
          "old_line_content": "    av_log(c->fc, AV_LOG_TRACE, \"dts shift %d\\n\", sc->dts_shift);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 7186,
          "old_api": "avio_seek",
          "new_api": null,
          "old_text": "avio_seek(sc->pb, sample->pos, SEEK_SET)",
          "new_text": null,
          "old_line_content": "                if (avio_seek(sc->pb, sample->pos, SEEK_SET) != sample->pos) {",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 7187,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(s, AV_LOG_ERROR, \"Failed to retrieve first frame\\n\")",
          "new_text": null,
          "old_line_content": "                    av_log(s, AV_LOG_ERROR, \"Failed to retrieve first frame\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7191,
          "old_api": "av_get_packet",
          "new_api": null,
          "old_text": "av_get_packet(sc->pb, &st->attached_pic, sample->size)",
          "new_text": null,
          "old_line_content": "                if (av_get_packet(sc->pb, &st->attached_pic, sample->size) < 0)",
          "new_line_content": "                st->attached_pic.stream_index = st->index;",
          "content_same": false
        },
        {
          "line": 5144,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    if (avio_rb32(pb) != 0) { /* 0 sized mdat atom... use the 'wide' atom size */",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 5150,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('m','d','a','t')",
          "new_text": null,
          "old_line_content": "    if (atom.type != MKTAG('m','d','a','t')) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3104,
          "old_api": "avio_rb24",
          "new_api": null,
          "old_text": "avio_rb24(pb)",
          "new_text": null,
          "old_line_content": "    avio_rb24(pb); /* flags */",
          "new_line_content": "        return 0; /* only support 'rap ' grouping */",
          "content_same": false
        },
        {
          "line": 3105,
          "old_api": "avio_rl32",
          "new_api": null,
          "old_text": "avio_rl32(pb)",
          "new_text": null,
          "old_line_content": "    grouping_type = avio_rl32(pb);",
          "new_line_content": "    if (version == 1)",
          "content_same": false
        },
        {
          "line": 5154,
          "old_api": "mov_read_mdat",
          "new_api": null,
          "old_text": "mov_read_mdat(c, pb, atom)",
          "new_text": null,
          "old_line_content": "    err = mov_read_mdat(c, pb, atom);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3109,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        avio_rb32(pb); /* grouping_type_parameter */",
          "new_line_content": "    if (!entries)",
          "content_same": false
        },
        {
          "line": 3111,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    entries = avio_rb32(pb);",
          "new_line_content": "    if (sc->rap_group)",
          "content_same": false
        },
        {
          "line": 7209,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(s, AV_LOG_WARNING, \"ignoring stream duration which is shorter than chapters\\n\")",
          "new_text": null,
          "old_line_content": "                    av_log(s, AV_LOG_WARNING, \"ignoring stream duration which is shorter than chapters\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3116,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(sc->rap_group)",
          "new_text": null,
          "old_line_content": "    av_free(sc->rap_group);",
          "new_line_content": "    if (!sc->rap_group)",
          "content_same": false
        },
        {
          "line": 7213,
          "old_api": "avio_seek",
          "new_api": null,
          "old_text": "avio_seek(sc->pb, sample->pos, SEEK_SET)",
          "new_text": null,
          "old_line_content": "                if (avio_seek(sc->pb, sample->pos, SEEK_SET) != sample->pos) {",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 3118,
          "old_api": "av_malloc_array",
          "new_api": null,
          "old_text": "av_malloc_array(entries, sizeof(*sc->rap_group))",
          "new_text": null,
          "old_line_content": "    sc->rap_group = av_malloc_array(entries, sizeof(*sc->rap_group));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7214,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(s, AV_LOG_ERROR, \"Chapter %d not found in file\\n\", i)",
          "new_text": null,
          "old_line_content": "                    av_log(s, AV_LOG_ERROR, \"Chapter %d not found in file\\n\", i);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5170,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('z','l','i','b')",
          "new_text": null,
          "old_line_content": "    if (avio_rl32(pb) != MKTAG('z','l','i','b')) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3123,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        sc->rap_group[i].count = avio_rb32(pb); /* sample_count */",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3124,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        sc->rap_group[i].index = avio_rb32(pb); /* group_description_index */",
          "new_line_content": "    sc->rap_group_count = i;",
          "content_same": false
        },
        {
          "line": 7219,
          "old_api": "avio_rb16",
          "new_api": null,
          "old_text": "avio_rb16(sc->pb)",
          "new_text": null,
          "old_line_content": "                len = avio_rb16(sc->pb);",
          "new_line_content": "                title_len = 2*len + 1;",
          "content_same": false
        },
        {
          "line": 5175,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('c','m','v','d')",
          "new_text": null,
          "old_line_content": "    if (avio_rl32(pb) != MKTAG('c','m','v','d'))",
          "new_line_content": "    cmov_len = atom.size - 6 * 4;",
          "content_same": false
        },
        {
          "line": 7223,
          "old_api": "av_mallocz",
          "new_api": null,
          "old_text": "av_mallocz(title_len)",
          "new_text": null,
          "old_line_content": "                if (!(title = av_mallocz(title_len)))",
          "new_line_content": "                // The samples could theoretically be in any encoding if there's an encd",
          "content_same": false
        },
        {
          "line": 3130,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted SBGP atom\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"reached eof, corrupted SBGP atom\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7232,
          "old_api": "avio_rb16",
          "new_api": null,
          "old_text": "avio_rb16(sc->pb)",
          "new_text": null,
          "old_line_content": "                    ch = avio_rb16(sc->pb);",
          "new_line_content": "                    else if (ch == 0xfffe)",
          "content_same": false
        },
        {
          "line": 5186,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "    if (ret < 0)",
          "content_same": false
        },
        {
          "line": 7234,
          "old_api": "avio_get_str16be",
          "new_api": null,
          "old_text": "avio_get_str16be(sc->pb, len, title, title_len)",
          "new_text": null,
          "old_line_content": "                        avio_get_str16be(sc->pb, len, title, title_len);",
          "new_line_content": "                    else {",
          "content_same": false
        },
        {
          "line": 5188,
          "old_api": "ffio_read_size",
          "new_api": null,
          "old_text": "ffio_read_size(pb, cmov_data, cmov_len)",
          "new_text": null,
          "old_line_content": "    ret = ffio_read_size(pb, cmov_data, cmov_len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7236,
          "old_api": "avio_get_str16le",
          "new_api": null,
          "old_text": "avio_get_str16le(sc->pb, len, title, title_len)",
          "new_text": null,
          "old_line_content": "                        avio_get_str16le(sc->pb, len, title, title_len);",
          "new_line_content": "                        if (len == 1 || len == 2)",
          "content_same": false
        },
        {
          "line": 7238,
          "old_api": "AV_WB16",
          "new_api": null,
          "old_text": "AV_WB16(title, ch)",
          "new_text": null,
          "old_line_content": "                        AV_WB16(title, ch);",
          "new_line_content": "                        else",
          "content_same": false
        },
        {
          "line": 5193,
          "old_api": "uncompress (moov_data, (uLongf *) &moov_len, (const Bytef *)cmov_data, cmov_len)",
          "new_api": null,
          "old_text": "uncompress (moov_data, (uLongf *) &moov_len, (const Bytef *)cmov_data, cmov_len)",
          "new_text": null,
          "old_line_content": "    if (uncompress (moov_data, (uLongf *) &moov_len, (const Bytef *)cmov_data, cmov_len) != Z_OK)",
          "new_line_content": "        goto free_and_return;",
          "content_same": false
        },
        {
          "line": 7242,
          "old_api": "avio_get_str",
          "new_api": null,
          "old_text": "avio_get_str(sc->pb, INT_MAX, title + 2, len - 1)",
          "new_text": null,
          "old_line_content": "                            avio_get_str(sc->pb, INT_MAX, title + 2, len - 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5198,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('m','o','o','v')",
          "new_text": null,
          "old_line_content": "    atom.type = MKTAG('m','o','o','v');",
          "new_line_content": "free_and_return:",
          "content_same": false
        },
        {
          "line": 7246,
          "old_api": "avpriv_new_chapter",
          "new_api": null,
          "old_text": "avpriv_new_chapter(s, i, st->time_base, sample->timestamp, end, title)",
          "new_text": null,
          "old_line_content": "                avpriv_new_chapter(s, i, st->time_base, sample->timestamp, end, title);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 7247,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&title)",
          "new_text": null,
          "old_line_content": "                av_freep(&title);",
          "new_line_content": "finish:",
          "content_same": false
        },
        {
          "line": 5202,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(moov_data)",
          "new_text": null,
          "old_line_content": "    av_free(moov_data);",
          "new_line_content": "#else",
          "content_same": false
        },
        {
          "line": 7251,
          "old_api": "avio_seek",
          "new_api": null,
          "old_text": "avio_seek(sc->pb, cur_pos, SEEK_SET)",
          "new_text": null,
          "old_line_content": "        avio_seek(sc->pb, cur_pos, SEEK_SET);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3158,
          "old_api": "av_rescale",
          "new_api": null,
          "old_text": "av_rescale(*edit_list_duration, msc->time_scale,\n                                     global_timescale)",
          "new_text": null,
          "old_line_content": "    *edit_list_duration = av_rescale(*edit_list_duration, msc->time_scale,",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 5206,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"this file requires zlib support compiled in\\n\")",
          "new_text": null,
          "old_line_content": "    av_log(c->fc, AV_LOG_ERROR, \"this file requires zlib support compiled in\\n\");",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 5207,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOSYS)",
          "new_text": null,
          "old_line_content": "    return AVERROR(ENOSYS);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7264,
          "old_api": "av_dict_set",
          "new_api": null,
          "old_text": "av_dict_set(&st->metadata, \"timecode\",\n                av_timecode_make_string(&tc, buf, value), 0)",
          "new_text": null,
          "old_line_content": "    av_dict_set(&st->metadata, \"timecode\",",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 7265,
          "old_api": "av_timecode_make_string",
          "new_api": null,
          "old_text": "av_timecode_make_string(&tc, buf, value)",
          "new_text": null,
          "old_line_content": "                av_timecode_make_string(&tc, buf, value), 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5222,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "    version = avio_r8(pb); /* version */",
          "new_line_content": "    atom.size -= 8;",
          "content_same": false
        },
        {
          "line": 5223,
          "old_api": "avio_rb24",
          "new_api": null,
          "old_text": "avio_rb24(pb)",
          "new_text": null,
          "old_line_content": "    avio_rb24(pb); /* flags */",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5224,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    edit_count = avio_rb32(pb); /* entries */",
          "new_line_content": "    elst_entry_size = version == 1 ? 20 : 12;",
          "content_same": false
        },
        {
          "line": 7273,
          "old_api": "avio_tell",
          "new_api": null,
          "old_text": "avio_tell(sc->pb)",
          "new_text": null,
          "old_line_content": "    int64_t cur_pos = avio_tell(sc->pb);",
          "new_line_content": "    if (!st->nb_index_entries)",
          "content_same": false
        },
        {
          "line": 5230,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Invalid edit list entry_count: %d for elst atom of size: %\"PRId64\" bytes.\\n\",\n                   edit_count, atom.size + 8)",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_ERROR, \"Invalid edit list entry_count: %d for elst atom of size: %\"PRId64\" bytes.\\n\",",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 5236,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"ELST atom of %\"PRId64\" bytes, bigger than %d entries.\", atom.size, edit_count)",
          "new_text": null,
          "old_line_content": "                av_log(c->fc, AV_LOG_WARNING, \"ELST atom of %\"PRId64\" bytes, bigger than %d entries.\", atom.size, edit_count);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 7284,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(s->pb)",
          "new_text": null,
          "old_line_content": "    drop = avio_r8(s->pb);",
          "new_line_content": "             hh, mm, ss, drop ? ';' : ':', ff);",
          "content_same": false
        },
        {
          "line": 7286,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(buf, AV_TIMECODE_STR_SIZE, \"%02d:%02d:%02d%c%02d\",\n             hh, mm, ss, drop ? ';' : ':', ff)",
          "new_text": null,
          "old_line_content": "    snprintf(buf, AV_TIMECODE_STR_SIZE, \"%02d:%02d:%02d%c%02d\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7288,
          "old_api": "av_dict_set",
          "new_api": null,
          "old_text": "av_dict_set(&st->metadata, \"timecode\", buf, 0)",
          "new_text": null,
          "old_line_content": "    av_dict_set(&st->metadata, \"timecode\", buf, 0);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 7290,
          "old_api": "avio_seek",
          "new_api": null,
          "old_text": "avio_seek(sc->pb, cur_pos, SEEK_SET)",
          "new_text": null,
          "old_line_content": "    avio_seek(sc->pb, cur_pos, SEEK_SET);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5245,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(sc->elst_data)",
          "new_text": null,
          "old_line_content": "    av_free(sc->elst_data);",
          "new_line_content": "    if (!sc->elst_data)",
          "content_same": false
        },
        {
          "line": 3199,
          "old_api": "av_assert0",
          "new_api": null,
          "old_text": "av_assert0(index)",
          "new_text": null,
          "old_line_content": "    av_assert0(index);",
          "new_line_content": "    // at least dts_shift amount to obtain PTS.",
          "content_same": false
        },
        {
          "line": 5247,
          "old_api": "av_malloc_array",
          "new_api": null,
          "old_text": "av_malloc_array(edit_count, sizeof(*sc->elst_data))",
          "new_text": null,
          "old_line_content": "    sc->elst_data = av_malloc_array(edit_count, sizeof(*sc->elst_data));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5249,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "    for (i = 0; i < edit_count && atom.size > 0 && !pb->eof_reached; i++) {",
          "content_same": false
        },
        {
          "line": 7298,
          "old_api": "avio_tell",
          "new_api": null,
          "old_text": "avio_tell(sc->pb)",
          "new_text": null,
          "old_line_content": "    int64_t cur_pos = avio_tell(sc->pb);",
          "new_line_content": "    if (!st->nb_index_entries)",
          "content_same": false
        },
        {
          "line": 5251,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_TRACE, \"track[%u].edit_count = %i\\n\", c->fc->nb_streams - 1, edit_count)",
          "new_text": null,
          "old_line_content": "    av_log(c->fc, AV_LOG_TRACE, \"track[%u].edit_count = %i\\n\", c->fc->nb_streams - 1, edit_count);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5256,
          "old_api": "avio_rb64",
          "new_api": null,
          "old_text": "avio_rb64(pb)",
          "new_text": null,
          "old_line_content": "            e->duration = avio_rb64(pb);",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 7304,
          "old_api": "avio_seek",
          "new_api": null,
          "old_text": "avio_seek(sc->pb, st->index_entries->pos, SEEK_SET)",
          "new_text": null,
          "old_line_content": "    avio_seek(sc->pb, st->index_entries->pos, SEEK_SET);",
          "new_line_content": "    if (sc->tmcd_flags & 0x0001) flags |= AV_TIMECODE_FLAG_DROPFRAME;",
          "content_same": false
        },
        {
          "line": 3210,
          "old_api": "av_index_search_timestamp",
          "new_api": null,
          "old_text": "av_index_search_timestamp(st, timestamp_pts, flag | AVSEEK_FLAG_BACKWARD)",
          "new_text": null,
          "old_line_content": "    *index = av_index_search_timestamp(st, timestamp_pts, flag | AVSEEK_FLAG_BACKWARD);",
          "new_line_content": "    if (*index >= 0) {",
          "content_same": false
        },
        {
          "line": 7305,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(s->pb)",
          "new_text": null,
          "old_line_content": "    value = avio_rb32(s->pb);",
          "new_line_content": "    if (sc->tmcd_flags & 0x0002) flags |= AV_TIMECODE_FLAG_24HOURSMAX;",
          "content_same": false
        },
        {
          "line": 5260,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "            e->duration = avio_rb32(pb); /* segment duration */",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 5264,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        e->rate = avio_rb32(pb) / 65536.0;",
          "new_line_content": "               e->duration, e->time, e->rate);",
          "content_same": false
        },
        {
          "line": 5266,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_TRACE, \"duration=%\"PRId64\" time=%\"PRId64\" rate=%f\\n\",\n               e->duration, e->time, e->rate)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_TRACE, \"duration=%\"PRId64\" time=%\"PRId64\" rate=%f\\n\",",
          "new_line_content": "        if (e->time < 0 && e->time != -1 &&",
          "content_same": false
        },
        {
          "line": 7316,
          "old_api": "parse_timecode_in_framenum_format",
          "new_api": null,
          "old_text": "parse_timecode_in_framenum_format(s, st, value, flags)",
          "new_text": null,
          "old_line_content": "    parse_timecode_in_framenum_format(s, st, value, flags);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 7318,
          "old_api": "avio_seek",
          "new_api": null,
          "old_text": "avio_seek(sc->pb, cur_pos, SEEK_SET)",
          "new_text": null,
          "old_line_content": "    avio_seek(sc->pb, cur_pos, SEEK_SET);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5271,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Track %d, edit %d: Invalid edit list media time=%\"PRId64\"\\n\",\n                   c->fc->nb_streams-1, i, e->time)",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_ERROR, \"Track %d, edit %d: Invalid edit list media time=%\"PRId64\"\\n\",",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3226,
          "old_api": "av_assert0",
          "new_api": null,
          "old_text": "av_assert0(ctts_index)",
          "new_text": null,
          "old_line_content": "        av_assert0(ctts_index);",
          "new_line_content": "        *ctts_index = 0;",
          "content_same": false
        },
        {
          "line": 3227,
          "old_api": "av_assert0",
          "new_api": null,
          "old_text": "av_assert0(ctts_sample)",
          "new_text": null,
          "old_line_content": "        av_assert0(ctts_sample);",
          "new_line_content": "        *ctts_sample = 0;",
          "content_same": false
        },
        {
          "line": 7329,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&(*index)->auxiliary_info_sizes)",
          "new_text": null,
          "old_line_content": "    av_freep(&(*index)->auxiliary_info_sizes);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 7330,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&(*index)->auxiliary_offsets)",
          "new_text": null,
          "old_line_content": "    av_freep(&(*index)->auxiliary_offsets);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7331,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(index)",
          "new_text": null,
          "old_line_content": "    av_freep(index);",
          "new_line_content": "static int mov_read_close(AVFormatContext *s)",
          "content_same": false
        },
        {
          "line": 5288,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    sc->timecode_track = avio_rb32(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7349,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&sc->drefs[j].dir)",
          "new_text": null,
          "old_line_content": "            av_freep(&sc->drefs[j].dir);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5302,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Empty AV1 Codec Configuration Box\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Empty AV1 Codec Configuration Box\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7351,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&sc->drefs)",
          "new_text": null,
          "old_line_content": "        av_freep(&sc->drefs);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5308,
          "old_api": "avio_skip",
          "new_api": null,
          "old_text": "avio_skip(pb, 4)",
          "new_text": null,
          "old_line_content": "    avio_skip(pb, 4);",
          "new_line_content": "        return 0;",
          "content_same": false
        },
        {
          "line": 5313,
          "old_api": "ff_get_extradata",
          "new_api": null,
          "old_text": "ff_get_extradata(c->fc, st->codecpar, pb, atom.size - 4)",
          "new_text": null,
          "old_line_content": "    ret = ff_get_extradata(c->fc, st->codecpar, pb, atom.size - 4);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7367,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&sc->rap_group)",
          "new_text": null,
          "old_line_content": "        av_freep(&sc->rap_group);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7368,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&sc->display_matrix)",
          "new_text": null,
          "old_line_content": "        av_freep(&sc->display_matrix);",
          "new_line_content": "        if (sc->extradata)",
          "content_same": false
        },
        {
          "line": 7369,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&sc->index_ranges)",
          "new_text": null,
          "old_line_content": "        av_freep(&sc->index_ranges);",
          "new_line_content": "            for (j = 0; j < sc->stsd_count; j++)",
          "content_same": false
        },
        {
          "line": 7373,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(sc->extradata[j])",
          "new_text": null,
          "old_line_content": "                av_free(sc->extradata[j]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7377,
          "old_api": "mov_free_encryption_index",
          "new_api": null,
          "old_text": "mov_free_encryption_index(&sc->cenc.encryption_index)",
          "new_text": null,
          "old_line_content": "        mov_free_encryption_index(&sc->cenc.encryption_index);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5330,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Empty VP Codec Configuration box\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Empty VP Codec Configuration box\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5334,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "    version = avio_r8(pb);",
          "new_line_content": "        return 0;",
          "content_same": false
        },
        {
          "line": 7382,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&sc->spherical)",
          "new_text": null,
          "old_line_content": "        av_freep(&sc->spherical);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 7383,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&sc->mastering)",
          "new_text": null,
          "old_line_content": "        av_freep(&sc->mastering);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3289,
          "old_api": "FFMAX",
          "new_api": null,
          "old_text": "FFMAX(min_size_needed, 2 * st->index_entries_allocated_size)",
          "new_text": null,
          "old_line_content": "        FFMAX(min_size_needed, 2 * st->index_entries_allocated_size) :",
          "new_line_content": "    if((unsigned)st->nb_index_entries + 1 >= UINT_MAX / sizeof(AVIndexEntry))",
          "content_same": false
        },
        {
          "line": 7384,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&sc->coll)",
          "new_text": null,
          "old_line_content": "        av_freep(&sc->coll);",
          "new_line_content": "    if (mov->dv_demux) {",
          "content_same": false
        },
        {
          "line": 7388,
          "old_api": "avformat_free_context",
          "new_api": null,
          "old_text": "avformat_free_context(mov->dv_fctx)",
          "new_text": null,
          "old_line_content": "        avformat_free_context(mov->dv_fctx);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3295,
          "old_api": "av_fast_realloc",
          "new_api": null,
          "old_text": "av_fast_realloc(st->index_entries,\n                              &st->index_entries_allocated_size,\n                              requested_size)",
          "new_text": null,
          "old_line_content": "    entries = av_fast_realloc(st->index_entries,",
          "new_line_content": "    if(!entries)",
          "content_same": false
        },
        {
          "line": 5344,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "    color_trc       = avio_r8(pb);",
          "new_line_content": "        return AVERROR_INVALIDDATA;",
          "content_same": false
        },
        {
          "line": 5345,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "    color_space     = avio_r8(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7394,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&mov->meta_keys[i])",
          "new_text": null,
          "old_line_content": "            av_freep(&mov->meta_keys[i]);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 5349,
          "old_api": "av_color_primaries_name",
          "new_api": null,
          "old_text": "av_color_primaries_name(color_primaries)",
          "new_text": null,
          "old_line_content": "    if (!av_color_primaries_name(color_primaries))",
          "new_line_content": "        color_trc = AVCOL_TRC_UNSPECIFIED;",
          "content_same": false
        },
        {
          "line": 5351,
          "old_api": "av_color_transfer_name",
          "new_api": null,
          "old_text": "av_color_transfer_name(color_trc)",
          "new_text": null,
          "old_line_content": "    if (!av_color_transfer_name(color_trc))",
          "new_line_content": "        color_space = AVCOL_SPC_UNSPECIFIED;",
          "content_same": false
        },
        {
          "line": 7399,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&mov->trex_data)",
          "new_text": null,
          "old_line_content": "    av_freep(&mov->trex_data);",
          "new_line_content": "    for (i = 0; i < mov->frag_index.nb_items; i++) {",
          "content_same": false
        },
        {
          "line": 5353,
          "old_api": "av_color_space_name",
          "new_api": null,
          "old_text": "av_color_space_name(color_space)",
          "new_text": null,
          "old_line_content": "    if (!av_color_space_name(color_space))",
          "new_line_content": "    st->codecpar->color_range     = (color_range & 1) ? AVCOL_RANGE_JPEG : AVCOL_RANGE_MPEG;",
          "content_same": false
        },
        {
          "line": 7400,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&mov->bitrates)",
          "new_text": null,
          "old_line_content": "    av_freep(&mov->bitrates);",
          "new_line_content": "        MOVFragmentStreamInfo *frag = mov->frag_index.item[i].stream_info;",
          "content_same": false
        },
        {
          "line": 7405,
          "old_api": "mov_free_encryption_index",
          "new_api": null,
          "old_text": "mov_free_encryption_index(&frag[j].encryption_index)",
          "new_text": null,
          "old_line_content": "            mov_free_encryption_index(&frag[j].encryption_index);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 7407,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&mov->frag_index.item[i].stream_info)",
          "new_text": null,
          "old_line_content": "        av_freep(&mov->frag_index.item[i].stream_info);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7411,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&mov->aes_decrypt)",
          "new_text": null,
          "old_line_content": "    av_freep(&mov->aes_decrypt);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 7412,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&mov->chapter_tracks)",
          "new_text": null,
          "old_line_content": "    av_freep(&mov->chapter_tracks);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3322,
          "old_api": "av_assert0",
          "new_api": null,
          "old_text": "av_assert0(end_index >= 0 && end_index <= st->nb_index_entries)",
          "new_text": null,
          "old_line_content": "    av_assert0(end_index >= 0 && end_index <= st->nb_index_entries);",
          "new_line_content": "        st->index_entries[end_index - 1 - i].timestamp = end_ts;",
          "content_same": false
        },
        {
          "line": 5375,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Empty Mastering Display Metadata box\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Empty Mastering Display Metadata box\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5379,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "    version = avio_r8(pb);",
          "new_line_content": "        return 0;",
          "content_same": false
        },
        {
          "line": 5384,
          "old_api": "avio_skip",
          "new_api": null,
          "old_text": "avio_skip(pb, 3)",
          "new_text": null,
          "old_line_content": "    avio_skip(pb, 3); /* flags */",
          "new_line_content": "    if (!sc->mastering)",
          "content_same": false
        },
        {
          "line": 5386,
          "old_api": "av_mastering_display_metadata_alloc",
          "new_api": null,
          "old_text": "av_mastering_display_metadata_alloc()",
          "new_text": null,
          "old_line_content": "    sc->mastering = av_mastering_display_metadata_alloc();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3340,
          "old_api": "FFMAX",
          "new_api": null,
          "old_text": "FFMAX(min_size_needed, 2 * (*allocated_size))",
          "new_text": null,
          "old_line_content": "        FFMAX(min_size_needed, 2 * (*allocated_size)) :",
          "new_line_content": "    if((unsigned)(*ctts_count) >= UINT_MAX / sizeof(MOVStts) - 1)",
          "content_same": false
        },
        {
          "line": 7440,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('t','m','c','d')",
          "new_text": null,
          "old_line_content": "        if (st->codecpar->codec_tag  == MKTAG('t','m','c','d') &&",
          "new_line_content": "            if (tcr) {",
          "content_same": false
        },
        {
          "line": 3346,
          "old_api": "av_fast_realloc",
          "new_api": null,
          "old_text": "av_fast_realloc(*ctts_data, allocated_size, requested_size)",
          "new_text": null,
          "old_line_content": "    ctts_buf_new = av_fast_realloc(*ctts_data, allocated_size, requested_size);",
          "new_line_content": "        return -1;",
          "content_same": false
        },
        {
          "line": 7442,
          "old_api": "av_dict_get",
          "new_api": null,
          "old_text": "av_dict_get(st->metadata, \"timecode\", NULL, 0)",
          "new_text": null,
          "old_line_content": "            AVDictionaryEntry *tcr = av_dict_get(st->metadata, \"timecode\", NULL, 0);",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 7444,
          "old_api": "av_dict_set",
          "new_api": null,
          "old_text": "av_dict_set(&s->metadata, \"timecode\", tcr->value, 0)",
          "new_text": null,
          "old_line_content": "                av_dict_set(&s->metadata, \"timecode\", tcr->value, 0);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 5397,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    sc->mastering->max_luminance = av_make_q(avio_rb32(pb), 1 << 8);",
          "new_line_content": "    sc->mastering->has_primaries = 1;",
          "content_same": false
        },
        {
          "line": 5398,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    sc->mastering->min_luminance = av_make_q(avio_rb32(pb), 1 << 14);",
          "new_line_content": "    sc->mastering->has_luminance = 1;",
          "content_same": false
        },
        {
          "line": 7454,
          "old_api": "avio_tell",
          "new_api": null,
          "old_text": "avio_tell(f)",
          "new_text": null,
          "old_line_content": "    int64_t pos = avio_tell(f);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7465,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(f)",
          "new_text": null,
          "old_line_content": "    track_id = avio_rb32(f);",
          "new_line_content": "    for (i = 0; i < item_count; i++) {",
          "content_same": false
        },
        {
          "line": 7466,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(f)",
          "new_text": null,
          "old_line_content": "    fieldlength = avio_rb32(f);",
          "new_line_content": "        int64_t time, offset;",
          "content_same": false
        },
        {
          "line": 7467,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(f)",
          "new_text": null,
          "old_line_content": "    item_count = avio_rb32(f);",
          "new_line_content": "        int index;",
          "content_same": false
        },
        {
          "line": 5420,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Invalid Mastering Display Color Volume box\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Invalid Mastering Display Color Volume box\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5424,
          "old_api": "av_mastering_display_metadata_alloc",
          "new_api": null,
          "old_text": "av_mastering_display_metadata_alloc()",
          "new_text": null,
          "old_line_content": "    sc->mastering = av_mastering_display_metadata_alloc();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7473,
          "old_api": "avio_feof",
          "new_api": null,
          "old_text": "avio_feof(f)",
          "new_text": null,
          "old_line_content": "        if (avio_feof(f)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5426,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "        const int j = mapping[i];",
          "content_same": false
        },
        {
          "line": 7481,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(f)",
          "new_text": null,
          "old_line_content": "            time   = avio_rb32(f);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7482,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(f)",
          "new_text": null,
          "old_line_content": "            offset = avio_rb32(f);",
          "new_line_content": "        // The first sample of each stream in a fragment is always a random",
          "content_same": false
        },
        {
          "line": 5436,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    sc->mastering->max_luminance = av_make_q(avio_rb32(pb), luma_den);",
          "new_line_content": "    sc->mastering->has_luminance = 1;",
          "content_same": false
        },
        {
          "line": 5437,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    sc->mastering->min_luminance = av_make_q(avio_rb32(pb), luma_den);",
          "new_line_content": "    sc->mastering->has_primaries = 1;",
          "content_same": false
        },
        {
          "line": 7488,
          "old_api": "update_frag_index",
          "new_api": null,
          "old_text": "update_frag_index(mov, offset)",
          "new_text": null,
          "old_line_content": "        index = update_frag_index(mov, offset);",
          "new_line_content": "            frag_stream_info->first_tfra_pts == AV_NOPTS_VALUE)",
          "content_same": false
        },
        {
          "line": 7489,
          "old_api": "get_frag_stream_info",
          "new_api": null,
          "old_text": "get_frag_stream_info(&mov->frag_index, index, track_id)",
          "new_text": null,
          "old_line_content": "        frag_stream_info = get_frag_stream_info(&mov->frag_index, index, track_id);",
          "new_line_content": "            frag_stream_info->first_tfra_pts = time;",
          "content_same": false
        },
        {
          "line": 7495,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(f)",
          "new_text": null,
          "old_line_content": "            avio_r8(f);",
          "new_line_content": "        for (j = 0; j < ((fieldlength >> 0) & 3) + 1; j++)",
          "content_same": false
        },
        {
          "line": 7497,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(f)",
          "new_text": null,
          "old_line_content": "            avio_r8(f);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3403,
          "old_api": "FFMAX",
          "new_api": null,
          "old_text": "FFMAX(st->codecpar->video_delay, num_swaps)",
          "new_text": null,
          "old_line_content": "            st->codecpar->video_delay = FFMAX(st->codecpar->video_delay, num_swaps);",
          "new_line_content": "            if (ctts_sample == msc->ctts_data[ctts_ind].count) {",
          "content_same": false
        },
        {
          "line": 7502,
          "old_api": "avio_seek",
          "new_api": null,
          "old_text": "avio_seek(f, pos + size, SEEK_SET)",
          "new_text": null,
          "old_line_content": "    avio_seek(f, pos + size, SEEK_SET);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5456,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Empty Content Light Level box\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Empty Content Light Level box\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3411,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_DEBUG, \"Setting codecpar->delay to %d for stream st: %d\\n\",\n               st->codecpar->video_delay, st->index)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_DEBUG, \"Setting codecpar->delay to %d for stream st: %d\\n\",",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 5460,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "    version = avio_r8(pb);",
          "new_line_content": "        return 0;",
          "content_same": false
        },
        {
          "line": 7508,
          "old_api": "avio_size",
          "new_api": null,
          "old_text": "avio_size(f)",
          "new_text": null,
          "old_line_content": "    int64_t stream_size = avio_size(f);",
          "new_line_content": "    int32_t mfra_size;",
          "content_same": false
        },
        {
          "line": 7509,
          "old_api": "avio_tell",
          "new_api": null,
          "old_text": "avio_tell(f)",
          "new_text": null,
          "old_line_content": "    int64_t original_pos = avio_tell(f);",
          "new_line_content": "    int ret = -1;",
          "content_same": false
        },
        {
          "line": 5465,
          "old_api": "avio_skip",
          "new_api": null,
          "old_text": "avio_skip(pb, 3)",
          "new_text": null,
          "old_line_content": "    avio_skip(pb, 3); /* flags */",
          "new_line_content": "    if (!sc->coll)",
          "content_same": false
        },
        {
          "line": 7513,
          "old_api": "avio_seek",
          "new_api": null,
          "old_text": "avio_seek(f, stream_size - 4, SEEK_SET)",
          "new_text": null,
          "old_line_content": "    if ((seek_ret = avio_seek(f, stream_size - 4, SEEK_SET)) < 0) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 5467,
          "old_api": "av_content_light_metadata_alloc",
          "new_api": null,
          "old_text": "av_content_light_metadata_alloc(&sc->coll_size)",
          "new_text": null,
          "old_line_content": "    sc->coll = av_content_light_metadata_alloc(&sc->coll_size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7517,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(f)",
          "new_text": null,
          "old_line_content": "    mfra_size = avio_rb32(f);",
          "new_line_content": "        goto fail;",
          "content_same": false
        },
        {
          "line": 5471,
          "old_api": "avio_rb16",
          "new_api": null,
          "old_text": "avio_rb16(pb)",
          "new_text": null,
          "old_line_content": "    sc->coll->MaxCLL  = avio_rb16(pb);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 5472,
          "old_api": "avio_rb16",
          "new_api": null,
          "old_text": "avio_rb16(pb)",
          "new_text": null,
          "old_line_content": "    sc->coll->MaxFALL = avio_rb16(pb);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 7522,
          "old_api": "avio_seek",
          "new_api": null,
          "old_text": "avio_seek(f, -mfra_size, SEEK_CUR)",
          "new_text": null,
          "old_line_content": "    if ((seek_ret = avio_seek(f, -mfra_size, SEEK_CUR)) < 0) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 7526,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(f)",
          "new_text": null,
          "old_line_content": "    if (avio_rb32(f) != mfra_size) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 7530,
          "old_api": "MKBETAG",
          "new_api": null,
          "old_text": "MKBETAG('m', 'f', 'r', 'a')",
          "new_text": null,
          "old_line_content": "    if (avio_rb32(f) != MKBETAG('m', 'f', 'r', 'a')) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 7534,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_VERBOSE, \"stream has mfra\\n\")",
          "new_text": null,
          "old_line_content": "    av_log(c->fc, AV_LOG_VERBOSE, \"stream has mfra\\n\");",
          "new_line_content": "        if (ret < 0)",
          "content_same": false
        },
        {
          "line": 5487,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Empty Content Light Level Info box\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Empty Content Light Level Info box\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7536,
          "old_api": "read_tfra",
          "new_api": null,
          "old_text": "read_tfra(c, f)",
          "new_text": null,
          "old_line_content": "        ret = read_tfra(c, f);",
          "new_line_content": "    } while (!ret);",
          "content_same": false
        },
        {
          "line": 5491,
          "old_api": "av_content_light_metadata_alloc",
          "new_api": null,
          "old_text": "av_content_light_metadata_alloc(&sc->coll_size)",
          "new_text": null,
          "old_line_content": "    sc->coll = av_content_light_metadata_alloc(&sc->coll_size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7542,
          "old_api": "avio_seek",
          "new_api": null,
          "old_text": "avio_seek(f, original_pos, SEEK_SET)",
          "new_text": null,
          "old_line_content": "    seek_ret = avio_seek(f, original_pos, SEEK_SET);",
          "new_line_content": "               \"failed to seek back after looking for mfra\\n\");",
          "content_same": false
        },
        {
          "line": 5495,
          "old_api": "avio_rb16",
          "new_api": null,
          "old_text": "avio_rb16(pb)",
          "new_text": null,
          "old_line_content": "    sc->coll->MaxCLL  = avio_rb16(pb);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 5496,
          "old_api": "avio_rb16",
          "new_api": null,
          "old_text": "avio_rb16(pb)",
          "new_text": null,
          "old_line_content": "    sc->coll->MaxFALL = avio_rb16(pb);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 7544,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR,\n               \"failed to seek back after looking for mfra\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 7556,
          "old_api": "AV_RL32",
          "new_api": null,
          "old_text": "AV_RL32(\"root\")",
          "new_text": null,
          "old_line_content": "    MOVAtom atom = { AV_RL32(\"root\") };",
          "new_line_content": "    if (mov->decryption_key_len != 0 && mov->decryption_key_len != AES_CTR_KEY_SIZE) {",
          "content_same": false
        },
        {
          "line": 7560,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(s, AV_LOG_ERROR, \"Invalid decryption key len %d expected %d\\n\",\n            mov->decryption_key_len, AES_CTR_KEY_SIZE)",
          "new_text": null,
          "old_line_content": "        av_log(s, AV_LOG_ERROR, \"Invalid decryption key len %d expected %d\\n\",",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 7562,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(EINVAL)",
          "new_text": null,
          "old_line_content": "        return AVERROR(EINVAL);",
          "new_line_content": "    mov->fc = s;",
          "content_same": false
        },
        {
          "line": 5518,
          "old_api": "avio_skip",
          "new_api": null,
          "old_text": "avio_skip(pb, 4)",
          "new_text": null,
          "old_line_content": "    avio_skip(pb, 4); /* version + flags */",
          "new_line_content": "    switch (mode) {",
          "content_same": false
        },
        {
          "line": 5520,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "    mode = avio_r8(pb);",
          "new_line_content": "        type = AV_STEREO3D_2D;",
          "content_same": false
        },
        {
          "line": 7569,
          "old_api": "avio_size",
          "new_api": null,
          "old_text": "avio_size(pb)",
          "new_text": null,
          "old_line_content": "        atom.size = avio_size(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7576,
          "old_api": "avio_seek",
          "new_api": null,
          "old_text": "avio_seek(pb, 0, SEEK_SET)",
          "new_text": null,
          "old_line_content": "            avio_seek(pb, 0, SEEK_SET);",
          "new_line_content": "            goto fail;",
          "content_same": false
        },
        {
          "line": 7577,
          "old_api": "mov_read_default",
          "new_api": null,
          "old_text": "mov_read_default(mov, pb, atom)",
          "new_text": null,
          "old_line_content": "        if ((err = mov_read_default(mov, pb, atom)) < 0) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 7578,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(s, AV_LOG_ERROR, \"error reading header\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(s, AV_LOG_ERROR, \"error reading header\\n\");",
          "new_line_content": "    } while ((pb->seekable & AVIO_SEEKABLE_NORMAL) && !mov->found_moov && !mov->moov_retry++);",
          "content_same": false
        },
        {
          "line": 5532,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"Unknown st3d mode value %d\\n\", mode)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Unknown st3d mode value %d\\n\", mode);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7583,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(s, AV_LOG_ERROR, \"moov atom not found\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(s, AV_LOG_ERROR, \"moov atom not found\\n\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 5536,
          "old_api": "av_stereo3d_alloc",
          "new_api": null,
          "old_text": "av_stereo3d_alloc()",
          "new_text": null,
          "old_line_content": "    sc->stereo3d = av_stereo3d_alloc();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5538,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 7587,
          "old_api": "avio_tell",
          "new_api": null,
          "old_text": "avio_tell(pb)",
          "new_text": null,
          "old_line_content": "    av_log(mov->fc, AV_LOG_TRACE, \"on_parse_exit_offset=%\"PRId64\"\\n\", avio_tell(pb));",
          "new_line_content": "        if (mov->nb_chapter_tracks > 0 && !mov->ignore_chapters)",
          "content_same": false
        },
        {
          "line": 7594,
          "old_api": "mov_read_timecode_track",
          "new_api": null,
          "old_text": "mov_read_timecode_track(s, s->streams[i])",
          "new_text": null,
          "old_line_content": "                mov_read_timecode_track(s, s->streams[i]);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 7595,
          "old_api": "AV_RL32",
          "new_api": null,
          "old_text": "AV_RL32(\"rtmd\")",
          "new_text": null,
          "old_line_content": "            } else if (s->streams[i]->codecpar->codec_tag == AV_RL32(\"rtmd\")) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 7596,
          "old_api": "mov_read_rtmd_track",
          "new_api": null,
          "old_text": "mov_read_rtmd_track(s, s->streams[i])",
          "new_text": null,
          "old_line_content": "                mov_read_rtmd_track(s, s->streams[i]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3508,
          "old_api": "av_malloc",
          "new_api": null,
          "old_text": "av_malloc((msc->elst_count + 1) * sizeof(msc->index_ranges[0]))",
          "new_text": null,
          "old_line_content": "    msc->index_ranges = av_malloc((msc->elst_count + 1) * sizeof(msc->index_ranges[0]));",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 3510,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_ERROR, \"Cannot allocate index ranges buffer\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(mov->fc, AV_LOG_ERROR, \"Cannot allocate index ranges buffer\\n\");",
          "new_line_content": "    msc->current_index_range = msc->index_ranges;",
          "content_same": false
        },
        {
          "line": 5561,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Empty spherical video box\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Empty spherical video box\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5565,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    size = avio_rb32(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7614,
          "old_api": "av_dict_get",
          "new_api": null,
          "old_text": "av_dict_get(s->streams[tmcd_st_id]->metadata, \"timecode\", NULL, 0)",
          "new_text": null,
          "old_line_content": "            tcr = av_dict_get(s->streams[tmcd_st_id]->metadata, \"timecode\", NULL, 0);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 5569,
          "old_api": "avio_rl32",
          "new_api": null,
          "old_text": "avio_rl32(pb)",
          "new_text": null,
          "old_line_content": "    tag = avio_rl32(pb);",
          "new_line_content": "        return 0;",
          "content_same": false
        },
        {
          "line": 5570,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('s','v','h','d')",
          "new_text": null,
          "old_line_content": "    if (tag != MKTAG('s','v','h','d')) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 7619,
          "old_api": "export_orphan_timecode",
          "new_api": null,
          "old_text": "export_orphan_timecode(s)",
          "new_text": null,
          "old_line_content": "    export_orphan_timecode(s);",
          "new_line_content": "        AVStream *st = s->streams[i];",
          "content_same": false
        },
        {
          "line": 5574,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "    version = avio_r8(pb);",
          "new_line_content": "               version);",
          "content_same": false
        },
        {
          "line": 5576,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"Unknown spherical version %d\\n\",\n               version)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Unknown spherical version %d\\n\",",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 7624,
          "old_api": "fix_timescale",
          "new_api": null,
          "old_text": "fix_timescale(mov, sc)",
          "new_text": null,
          "old_line_content": "        fix_timescale(mov, sc);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 5581,
          "old_api": "avio_skip",
          "new_api": null,
          "old_text": "avio_skip(pb, size - 12)",
          "new_text": null,
          "old_line_content": "    avio_skip(pb, size - 12); /* metadata_source */",
          "new_line_content": "    if (size > atom.size)",
          "content_same": false
        },
        {
          "line": 7629,
          "old_api": "av_reduce",
          "new_api": null,
          "old_text": "av_reduce(&st->avg_frame_rate.num, &st->avg_frame_rate.den,\n                      sc->time_scale*(int64_t)sc->nb_frames_for_fps, sc->duration_for_fps, INT_MAX)",
          "new_text": null,
          "old_line_content": "            av_reduce(&st->avg_frame_rate.num, &st->avg_frame_rate.den,",
          "new_line_content": "            if (st->codecpar->width <= 0 || st->codecpar->height <= 0) {",
          "content_same": false
        },
        {
          "line": 3535,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_DEBUG, \"Shifting DTS by %d because of negative CTTS.\\n\", msc->dts_shift)",
          "new_text": null,
          "old_line_content": "        av_log(mov->fc, AV_LOG_DEBUG, \"Shifting DTS by %d because of negative CTTS.\\n\", msc->dts_shift);",
          "new_line_content": "    start_dts = edit_list_dts_entry_end;",
          "content_same": false
        },
        {
          "line": 5583,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    size = avio_rb32(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5587,
          "old_api": "avio_rl32",
          "new_api": null,
          "old_text": "avio_rl32(pb)",
          "new_text": null,
          "old_line_content": "    tag = avio_rl32(pb);",
          "new_line_content": "        return 0;",
          "content_same": false
        },
        {
          "line": 3540,
          "old_api": "get_edit_list_entry",
          "new_api": null,
          "old_text": "get_edit_list_entry(mov, msc, edit_list_index, &edit_list_media_time,\n                               &edit_list_duration, mov->time_scale)",
          "new_text": null,
          "old_line_content": "    while (get_edit_list_entry(mov, msc, edit_list_index, &edit_list_media_time,",
          "new_line_content": "               st->index, edit_list_index, edit_list_media_time, edit_list_duration);",
          "content_same": false
        },
        {
          "line": 5588,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('p','r','o','j')",
          "new_text": null,
          "old_line_content": "    if (tag != MKTAG('p','r','o','j')) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3542,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_DEBUG, \"Processing st: %d, edit list %\"PRId64\" - media time: %\"PRId64\", duration: %\"PRId64\"\\n\",\n               st->index, edit_list_index, edit_list_media_time, edit_list_duration)",
          "new_text": null,
          "old_line_content": "        av_log(mov->fc, AV_LOG_DEBUG, \"Processing st: %d, edit list %\"PRId64\" - media time: %\"PRId64\", duration: %\"PRId64\"\\n\",",
          "new_line_content": "        edit_list_dts_counter = edit_list_dts_entry_end;",
          "content_same": false
        },
        {
          "line": 5589,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Missing projection box\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Missing projection box\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7637,
          "old_api": "mov_rewrite_dvd_sub_extradata",
          "new_api": null,
          "old_text": "mov_rewrite_dvd_sub_extradata(st)",
          "new_text": null,
          "old_line_content": "                if ((err = mov_rewrite_dvd_sub_extradata(st)) < 0)",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 5593,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    size = avio_rb32(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5597,
          "old_api": "avio_rl32",
          "new_api": null,
          "old_text": "avio_rl32(pb)",
          "new_text": null,
          "old_line_content": "    tag = avio_rl32(pb);",
          "new_line_content": "        return 0;",
          "content_same": false
        },
        {
          "line": 5598,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('p','r','h','d')",
          "new_text": null,
          "old_line_content": "    if (tag != MKTAG('p','r','h','d')) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 7645,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(s, AV_LOG_VERBOSE, \"Forcing full parsing for mp3 stream\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(s, AV_LOG_VERBOSE, \"Forcing full parsing for mp3 stream\\n\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 5602,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "    version = avio_r8(pb);",
          "new_line_content": "               version);",
          "content_same": false
        },
        {
          "line": 5604,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"Unknown spherical version %d\\n\",\n               version)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Unknown spherical version %d\\n\",",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 7656,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(s, AV_LOG_ERROR, \"Overflow during bit rate calculation %\"PRId64\" * 8 * %d\\n\",\n                           sc->data_size, sc->time_scale)",
          "new_text": null,
          "old_line_content": "                    av_log(s, AV_LOG_ERROR, \"Overflow during bit rate calculation %\"PRId64\" * 8 * %d\\n\",",
          "new_line_content": "                    goto fail;",
          "content_same": false
        },
        {
          "line": 5611,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    yaw   = avio_rb32(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5613,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    roll  = avio_rb32(pb);",
          "new_line_content": "    if (size > atom.size)",
          "content_same": false
        },
        {
          "line": 5615,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    size = avio_rb32(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5620,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "    version = avio_r8(pb);",
          "new_line_content": "               version);",
          "content_same": false
        },
        {
          "line": 5622,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"Unknown spherical version %d\\n\",\n               version)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_WARNING, \"Unknown spherical version %d\\n\",",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 7672,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(s, AV_LOG_ERROR, \"Overflow during bit rate calculation %\"PRId64\" * 8 * %d\\n\",\n                           sc->data_size, sc->time_scale)",
          "new_text": null,
          "old_line_content": "                    av_log(s, AV_LOG_ERROR, \"Overflow during bit rate calculation %\"PRId64\" * 8 * %d\\n\",",
          "new_line_content": "                    goto fail;",
          "content_same": false
        },
        {
          "line": 3579,
          "old_api": "find_prev_closest_index",
          "new_api": null,
          "old_text": "find_prev_closest_index(st, e_old, nb_old, ctts_data_old, ctts_count_old, search_timestamp, 0,\n                                    &index, &ctts_index_old, &ctts_sample_old)",
          "new_text": null,
          "old_line_content": "        if (find_prev_closest_index(st, e_old, nb_old, ctts_data_old, ctts_count_old, search_timestamp, 0,",
          "new_line_content": "                   \"st: %d edit list: %\"PRId64\" Missing key frame while searching for timestamp: %\"PRId64\"\\n\",",
          "content_same": false
        },
        {
          "line": 5629,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        layout = avio_rb32(pb);",
          "new_line_content": "                   \"Unsupported cubemap layout %d\\n\", layout);",
          "content_same": false
        },
        {
          "line": 5631,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING,\n                   \"Unsupported cubemap layout %d\\n\", layout)",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_WARNING,",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3584,
          "old_api": "find_prev_closest_index",
          "new_api": null,
          "old_text": "find_prev_closest_index(st, e_old, nb_old, ctts_data_old, ctts_count_old, search_timestamp, AVSEEK_FLAG_ANY,\n                                        &index, &ctts_index_old, &ctts_sample_old)",
          "new_text": null,
          "old_line_content": "            if (find_prev_closest_index(st, e_old, nb_old, ctts_data_old, ctts_count_old, search_timestamp, AVSEEK_FLAG_ANY,",
          "new_line_content": "                       \"st: %d edit list %\"PRId64\" Cannot find an index entry before timestamp: %\"PRId64\".\\n\",",
          "content_same": false
        },
        {
          "line": 3586,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_WARNING,\n                       \"st: %d edit list %\"PRId64\" Cannot find an index entry before timestamp: %\"PRId64\".\\n\",\n                       st->index, edit_list_index, search_timestamp)",
          "new_text": null,
          "old_line_content": "                av_log(mov->fc, AV_LOG_WARNING,",
          "new_line_content": "                index = 0;",
          "content_same": false
        },
        {
          "line": 5640,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        b = avio_rb32(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5641,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "        l = avio_rb32(pb);",
          "new_line_content": "        if (b >= UINT_MAX - t || r >= UINT_MAX - l) {",
          "content_same": false
        },
        {
          "line": 7689,
          "old_api": "ff_rfps_calculate",
          "new_api": null,
          "old_text": "ff_rfps_calculate(s)",
          "new_text": null,
          "old_line_content": "    ff_rfps_calculate(s);",
          "new_line_content": "        AVStream *st = s->streams[i];",
          "content_same": false
        },
        {
          "line": 5645,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR,\n                   \"Invalid bounding rectangle coordinates \"\n                   \"%\"PRIu32\",%\"PRIu32\",%\"PRIu32\",%\"PRIu32\"\\n\", l, t, r, b)",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_ERROR,",
          "new_line_content": "            return AVERROR_INVALIDDATA;",
          "content_same": false
        },
        {
          "line": 7697,
          "old_api": "ff_replaygain_export",
          "new_api": null,
          "old_text": "ff_replaygain_export(st, s->metadata)",
          "new_text": null,
          "old_line_content": "            err = ff_replaygain_export(st, s->metadata);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 7704,
          "old_api": "av_stream_add_side_data",
          "new_api": null,
          "old_text": "av_stream_add_side_data(st, AV_PKT_DATA_DISPLAYMATRIX, (uint8_t*)sc->display_matrix,\n                                              sizeof(int32_t) * 9)",
          "new_text": null,
          "old_line_content": "                err = av_stream_add_side_data(st, AV_PKT_DATA_DISPLAYMATRIX, (uint8_t*)sc->display_matrix,",
          "new_line_content": "                    goto fail;",
          "content_same": false
        },
        {
          "line": 5657,
          "old_api": "av_fourcc2str",
          "new_api": null,
          "old_text": "av_fourcc2str(tag)",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Unknown projection type: %s\\n\", av_fourcc2str(tag));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3613,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_DEBUG, \"stts: %\"PRId64\" ctts: %\"PRId64\", ctts_index: %\"PRId64\", ctts_count: %\"PRId64\"\\n\",\n                       curr_cts, curr_ctts, ctts_index_old, ctts_count_old)",
          "new_text": null,
          "old_line_content": "                av_log(mov->fc, AV_LOG_DEBUG, \"stts: %\"PRId64\" ctts: %\"PRId64\", ctts_index: %\"PRId64\", ctts_count: %\"PRId64\"\\n\",",
          "new_line_content": "                ctts_sample_old++;",
          "content_same": false
        },
        {
          "line": 5661,
          "old_api": "av_spherical_alloc",
          "new_api": null,
          "old_text": "av_spherical_alloc(&sc->spherical_size)",
          "new_text": null,
          "old_line_content": "    sc->spherical = av_spherical_alloc(&sc->spherical_size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5663,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7712,
          "old_api": "av_stream_add_side_data",
          "new_api": null,
          "old_text": "av_stream_add_side_data(st, AV_PKT_DATA_STEREO3D,\n                                              (uint8_t *)sc->stereo3d,\n                                              sizeof(*sc->stereo3d))",
          "new_text": null,
          "old_line_content": "                err = av_stream_add_side_data(st, AV_PKT_DATA_STEREO3D,",
          "new_line_content": "                if (err < 0)",
          "content_same": false
        },
        {
          "line": 3618,
          "old_api": "add_ctts_entry",
          "new_api": null,
          "old_text": "add_ctts_entry(&msc->ctts_data, &msc->ctts_count,\n                                       &msc->ctts_allocated_size,\n                                       ctts_data_old[ctts_index_old].count - edit_list_start_ctts_sample,\n                                       ctts_data_old[ctts_index_old].duration)",
          "new_text": null,
          "old_line_content": "                    if (add_ctts_entry(&msc->ctts_data, &msc->ctts_count,",
          "new_line_content": "                                       ctts_data_old[ctts_index_old].duration) == -1) {",
          "content_same": false
        },
        {
          "line": 3622,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_ERROR, \"Cannot add CTTS entry %\"PRId64\" - {%\"PRId64\", %d}\\n\",\n                               ctts_index_old,\n                               ctts_data_old[ctts_index_old].count - edit_list_start_ctts_sample,\n                               ctts_data_old[ctts_index_old].duration)",
          "new_text": null,
          "old_line_content": "                        av_log(mov->fc, AV_LOG_ERROR, \"Cannot add CTTS entry %\"PRId64\" - {%\"PRId64\", %d}\\n\",",
          "new_line_content": "                               ctts_data_old[ctts_index_old].duration);",
          "content_same": false
        },
        {
          "line": 7721,
          "old_api": "av_stream_add_side_data",
          "new_api": null,
          "old_text": "av_stream_add_side_data(st, AV_PKT_DATA_SPHERICAL,\n                                              (uint8_t *)sc->spherical,\n                                              sc->spherical_size)",
          "new_text": null,
          "old_line_content": "                err = av_stream_add_side_data(st, AV_PKT_DATA_SPHERICAL,",
          "new_line_content": "                if (err < 0)",
          "content_same": false
        },
        {
          "line": 7730,
          "old_api": "av_stream_add_side_data",
          "new_api": null,
          "old_text": "av_stream_add_side_data(st, AV_PKT_DATA_MASTERING_DISPLAY_METADATA,\n                                              (uint8_t *)sc->mastering,\n                                              sizeof(*sc->mastering))",
          "new_text": null,
          "old_line_content": "                err = av_stream_add_side_data(st, AV_PKT_DATA_MASTERING_DISPLAY_METADATA,",
          "new_line_content": "                if (err < 0)",
          "content_same": false
        },
        {
          "line": 5684,
          "old_api": "av_malloc",
          "new_api": null,
          "old_text": "av_malloc(len + 1)",
          "new_text": null,
          "old_line_content": "    uint8_t *buffer = av_malloc(len + 1);",
          "new_line_content": "    if (!buffer)",
          "content_same": false
        },
        {
          "line": 5691,
          "old_api": "ffio_read_size",
          "new_api": null,
          "old_text": "ffio_read_size(pb, buffer, len)",
          "new_text": null,
          "old_line_content": "    ret = ffio_read_size(pb, buffer, len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7739,
          "old_api": "av_stream_add_side_data",
          "new_api": null,
          "old_text": "av_stream_add_side_data(st, AV_PKT_DATA_CONTENT_LIGHT_LEVEL,\n                                              (uint8_t *)sc->coll,\n                                              sc->coll_size)",
          "new_text": null,
          "old_line_content": "                err = av_stream_add_side_data(st, AV_PKT_DATA_CONTENT_LIGHT_LEVEL,",
          "new_line_content": "                if (err < 0)",
          "content_same": false
        },
        {
          "line": 3648,
          "old_api": "fix_index_entry_timestamps",
          "new_api": null,
          "old_text": "fix_index_entry_timestamps(st, st->nb_index_entries, edit_list_dts_counter,\n                                                       frame_duration_buffer, num_discarded_begin)",
          "new_text": null,
          "old_line_content": "                            fix_index_entry_timestamps(st, st->nb_index_entries, edit_list_dts_counter,",
          "new_line_content": "                        }",
          "content_same": false
        },
        {
          "line": 3650,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&frame_duration_buffer)",
          "new_text": null,
          "old_line_content": "                            av_freep(&frame_duration_buffer);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5702,
          "old_api": "av_stristr",
          "new_api": null,
          "old_text": "av_stristr(buffer, \"<GSpherical:ProjectionType>\")",
          "new_text": null,
          "old_line_content": "        (val = av_stristr(buffer, \"<GSpherical:ProjectionType>\")) &&",
          "new_line_content": "        if (!sc->spherical)",
          "content_same": false
        },
        {
          "line": 5703,
          "old_api": "av_stristr",
          "new_api": null,
          "old_text": "av_stristr(val, \"equirectangular\")",
          "new_text": null,
          "old_line_content": "        av_stristr(val, \"equirectangular\")) {",
          "new_line_content": "            goto out;",
          "content_same": false
        },
        {
          "line": 5704,
          "old_api": "av_spherical_alloc",
          "new_api": null,
          "old_text": "av_spherical_alloc(&sc->spherical_size)",
          "new_text": null,
          "old_line_content": "        sc->spherical = av_spherical_alloc(&sc->spherical_size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3657,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_DEBUG, \"drop a frame at curr_cts: %\"PRId64\" @ %\"PRId64\"\\n\", curr_cts, index)",
          "new_text": null,
          "old_line_content": "                    av_log(mov->fc, AV_LOG_DEBUG, \"drop a frame at curr_cts: %\"PRId64\" @ %\"PRId64\"\\n\", curr_cts, index);",
          "new_line_content": "                        num_discarded_begin++;",
          "content_same": false
        },
        {
          "line": 7750,
          "old_api": "ff_configure_buffers_for_index",
          "new_api": null,
          "old_text": "ff_configure_buffers_for_index(s, AV_TIME_BASE)",
          "new_text": null,
          "old_line_content": "    ff_configure_buffers_for_index(s, AV_TIME_BASE);",
          "new_line_content": "        if (mov->frag_index.item[i].moof_offset <= mov->fragment.moof_offset)",
          "content_same": false
        },
        {
          "line": 7758,
          "old_api": "mov_read_close",
          "new_api": null,
          "old_text": "mov_read_close(s)",
          "new_text": null,
          "old_line_content": "    mov_read_close(s);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3664,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_ERROR, \"Cannot reallocate frame duration buffer\\n\")",
          "new_text": null,
          "old_line_content": "                            av_log(mov->fc, AV_LOG_ERROR, \"Cannot reallocate frame duration buffer\\n\");",
          "new_line_content": "                        frame_duration_buffer[num_discarded_begin - 1] = frame_duration;",
          "content_same": false
        },
        {
          "line": 5713,
          "old_api": "av_stristr",
          "new_api": null,
          "old_text": "av_stristr(buffer, \"left-right\")",
          "new_text": null,
          "old_line_content": "            if (av_stristr(buffer, \"left-right\"))",
          "new_line_content": "                mode = AV_STEREO3D_TOPBOTTOM;",
          "content_same": false
        },
        {
          "line": 5715,
          "old_api": "av_stristr",
          "new_api": null,
          "old_text": "av_stristr(buffer, \"top-bottom\")",
          "new_text": null,
          "old_line_content": "            else if (av_stristr(buffer, \"top-bottom\"))",
          "new_line_content": "                mode = AV_STEREO3D_2D;",
          "content_same": false
        },
        {
          "line": 5720,
          "old_api": "av_stereo3d_alloc",
          "new_api": null,
          "old_text": "av_stereo3d_alloc()",
          "new_text": null,
          "old_line_content": "            sc->stereo3d = av_stereo3d_alloc();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7772,
          "old_api": "av_rescale",
          "new_api": null,
          "old_text": "av_rescale(current_sample->timestamp, AV_TIME_BASE, msc->time_scale)",
          "new_text": null,
          "old_line_content": "            int64_t dts = av_rescale(current_sample->timestamp, AV_TIME_BASE, msc->time_scale);",
          "new_line_content": "                ((s->pb->seekable & AVIO_SEEKABLE_NORMAL) &&",
          "content_same": false
        },
        {
          "line": 7773,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(s, AV_LOG_TRACE, \"stream %d, sample %d, dts %\"PRId64\"\\n\", i, msc->current_sample, dts)",
          "new_text": null,
          "old_line_content": "            av_log(s, AV_LOG_TRACE, \"stream %d, sample %d, dts %\"PRId64\"\\n\", i, msc->current_sample, dts);",
          "new_line_content": "                 ((msc->pb != s->pb && dts < best_dts) || (msc->pb == s->pb && dts != AV_NOPTS_VALUE &&",
          "content_same": false
        },
        {
          "line": 3680,
          "old_api": "FFMIN",
          "new_api": null,
          "old_text": "FFMIN(msc->min_corrected_pts, edit_list_dts_counter + curr_ctts + msc->dts_shift)",
          "new_text": null,
          "old_line_content": "                    msc->min_corrected_pts = FFMIN(msc->min_corrected_pts, edit_list_dts_counter + curr_ctts + msc->dts_shift);",
          "new_line_content": "                    edit_list_start_encountered = 1;",
          "content_same": false
        },
        {
          "line": 7777,
          "old_api": "FFABS",
          "new_api": null,
          "old_text": "FFABS(best_dts - dts)",
          "new_text": null,
          "old_line_content": "                 ((FFABS(best_dts - dts) <= AV_TIME_BASE && current_sample->pos < sample->pos) ||",
          "new_line_content": "                best_dts = dts;",
          "content_same": false
        },
        {
          "line": 7778,
          "old_api": "FFABS",
          "new_api": null,
          "old_text": "FFABS(best_dts - dts)",
          "new_text": null,
          "old_line_content": "                  (FFABS(best_dts - dts) > AV_TIME_BASE && dts < best_dts)))))) {",
          "new_line_content": "                *st = avst;",
          "content_same": false
        },
        {
          "line": 5734,
          "old_api": "av_stristr",
          "new_api": null,
          "old_text": "av_stristr(buffer, \"<GSpherical:InitialViewRollDegrees>\")",
          "new_text": null,
          "old_line_content": "        val = av_stristr(buffer, \"<GSpherical:InitialViewRollDegrees>\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3687,
          "old_api": "fix_index_entry_timestamps",
          "new_api": null,
          "old_text": "fix_index_entry_timestamps(st, st->nb_index_entries, edit_list_dts_counter,\n                                                   frame_duration_buffer, num_discarded_begin)",
          "new_text": null,
          "old_line_content": "                        fix_index_entry_timestamps(st, st->nb_index_entries, edit_list_dts_counter,",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 5736,
          "old_api": "strtol",
          "new_api": null,
          "old_text": "strtol(val, NULL, 10)",
          "new_text": null,
          "old_line_content": "            sc->spherical->roll = strtol(val, NULL, 10) * (1 << 16);",
          "new_line_content": "out:",
          "content_same": false
        },
        {
          "line": 3689,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&frame_duration_buffer)",
          "new_text": null,
          "old_line_content": "                        av_freep(&frame_duration_buffer);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 5740,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(buffer)",
          "new_text": null,
          "old_line_content": "    av_free(buffer);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7789,
          "old_api": "avio_feof",
          "new_api": null,
          "old_text": "avio_feof(pb)",
          "new_text": null,
          "old_line_content": "    if (error_code == AVERROR_EOF || avio_feof(pb))",
          "new_line_content": "    return 1;",
          "content_same": false
        },
        {
          "line": 3694,
          "old_api": "add_index_entry",
          "new_api": null,
          "old_text": "add_index_entry(st, current->pos, edit_list_dts_counter, current->size,\n                                current->min_distance, flags)",
          "new_text": null,
          "old_line_content": "            if (add_index_entry(st, current->pos, edit_list_dts_counter, current->size,",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 3696,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_ERROR, \"Cannot add index entry\\n\")",
          "new_text": null,
          "old_line_content": "                av_log(mov->fc, AV_LOG_ERROR, \"Cannot add index entry\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7802,
          "old_api": "avio_seek",
          "new_api": null,
          "old_text": "avio_seek(s->pb, target, SEEK_SET)",
          "new_text": null,
          "old_line_content": "    if (avio_seek(s->pb, target, SEEK_SET) != target) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 7803,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_ERROR, \"root atom offset 0x%\"PRIx64\": partial file\\n\", target)",
          "new_text": null,
          "old_line_content": "        av_log(mov->fc, AV_LOG_ERROR, \"root atom offset 0x%\"PRIx64\": partial file\\n\", target);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7809,
          "old_api": "search_frag_moof_offset",
          "new_api": null,
          "old_text": "search_frag_moof_offset(&mov->frag_index, target)",
          "new_text": null,
          "old_line_content": "        index = search_frag_moof_offset(&mov->frag_index, target);",
          "new_line_content": "        if (index + 1 < mov->frag_index.nb_items)",
          "content_same": false
        },
        {
          "line": 5763,
          "old_api": "FFMIN",
          "new_api": null,
          "old_text": "FFMIN(INT_MAX, SIZE_MAX)",
          "new_text": null,
          "old_line_content": "    if (atom.size < sizeof(uuid) || atom.size >= FFMIN(INT_MAX, SIZE_MAX))",
          "new_line_content": "    if (c->fc->nb_streams < 1)",
          "content_same": false
        },
        {
          "line": 5771,
          "old_api": "avio_read",
          "new_api": null,
          "old_text": "avio_read(pb, uuid, sizeof(uuid))",
          "new_text": null,
          "old_line_content": "    ret = avio_read(pb, uuid, sizeof(uuid));",
          "new_line_content": "    } else if (ret != sizeof(uuid)) {",
          "content_same": false
        },
        {
          "line": 3724,
          "old_api": "add_ctts_entry",
          "new_api": null,
          "old_text": "add_ctts_entry(&msc->ctts_data, &msc->ctts_count,\n                                           &msc->ctts_allocated_size,\n                                           ctts_sample_old - edit_list_start_ctts_sample,\n                                           ctts_data_old[ctts_index_old].duration)",
          "new_text": null,
          "old_line_content": "                        if (add_ctts_entry(&msc->ctts_data, &msc->ctts_count,",
          "new_line_content": "                                           ctts_data_old[ctts_index_old].duration) == -1) {",
          "content_same": false
        },
        {
          "line": 3728,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_ERROR, \"Cannot add CTTS entry %\"PRId64\" - {%\"PRId64\", %d}\\n\",\n                                   ctts_index_old, ctts_sample_old - edit_list_start_ctts_sample,\n                                   ctts_data_old[ctts_index_old].duration)",
          "new_text": null,
          "old_line_content": "                            av_log(mov->fc, AV_LOG_ERROR, \"Cannot add CTTS entry %\"PRId64\" - {%\"PRId64\", %d}\\n\",",
          "new_line_content": "                            break;",
          "content_same": false
        },
        {
          "line": 5777,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(uuid, uuid_isml_manifest, sizeof(uuid))",
          "new_text": null,
          "old_line_content": "    if (!memcmp(uuid, uuid_isml_manifest, sizeof(uuid))) {",
          "new_line_content": "        size_t len = atom.size - sizeof(uuid);",
          "content_same": false
        },
        {
          "line": 7824,
          "old_api": "avio_feof",
          "new_api": null,
          "old_text": "avio_feof(s->pb)",
          "new_text": null,
          "old_line_content": "    if (avio_feof(s->pb))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7826,
          "old_api": "avio_tell",
          "new_api": null,
          "old_text": "avio_tell(s->pb)",
          "new_text": null,
          "old_line_content": "    av_log(s, AV_LOG_TRACE, \"read fragments, offset 0x%\"PRIx64\"\\n\", avio_tell(s->pb));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 5788,
          "old_api": "av_mallocz",
          "new_api": null,
          "old_text": "av_mallocz(len + 1)",
          "new_text": null,
          "old_line_content": "        buffer = av_mallocz(len + 1);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 5790,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "            return AVERROR(ENOMEM);",
          "new_line_content": "        if (ret < 0) {",
          "content_same": false
        },
        {
          "line": 5792,
          "old_api": "avio_read",
          "new_api": null,
          "old_text": "avio_read(pb, buffer, len)",
          "new_text": null,
          "old_line_content": "        ret = avio_read(pb, buffer, len);",
          "new_line_content": "            return ret;",
          "content_same": false
        },
        {
          "line": 3747,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_DEBUG, \"Offset DTS by %\"PRId64\" to make first pts zero.\\n\", msc->min_corrected_pts)",
          "new_text": null,
          "old_line_content": "            av_log(mov->fc, AV_LOG_DEBUG, \"Offset DTS by %\"PRId64\" to make first pts zero.\\n\", msc->min_corrected_pts);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 7843,
          "old_api": "av_packet_new_side_data",
          "new_api": null,
          "old_text": "av_packet_new_side_data(pkt,\n                                       AV_PKT_DATA_NEW_EXTRADATA,\n                                       extradata_size)",
          "new_text": null,
          "old_line_content": "        side = av_packet_new_side_data(pkt,",
          "new_line_content": "        if (!side)",
          "content_same": false
        },
        {
          "line": 5797,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(buffer)",
          "new_text": null,
          "old_line_content": "            av_free(buffer);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7847,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "            return AVERROR(ENOMEM);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7848,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(side, extradata, extradata_size)",
          "new_text": null,
          "old_line_content": "        memcpy(side, extradata, extradata_size);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 3757,
          "old_api": "FFMIN",
          "new_api": null,
          "old_text": "FFMIN(st->duration, edit_list_dts_entry_end - start_dts)",
          "new_text": null,
          "old_line_content": "    st->duration = FFMIN(st->duration, edit_list_dts_entry_end - start_dts);",
          "new_line_content": "    // Free the old index and the old CTTS structures",
          "content_same": false
        },
        {
          "line": 5808,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(buffer)",
          "new_text": null,
          "old_line_content": "                av_free(buffer);",
          "new_line_content": "            errno = 0;",
          "content_same": false
        },
        {
          "line": 3761,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(e_old)",
          "new_text": null,
          "old_line_content": "    av_free(e_old);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3762,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(ctts_data_old)",
          "new_text": null,
          "old_line_content": "    av_free(ctts_data_old);",
          "new_line_content": "    // Null terminate the index ranges array",
          "content_same": false
        },
        {
          "line": 3763,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&frame_duration_buffer)",
          "new_text": null,
          "old_line_content": "    av_freep(&frame_duration_buffer);",
          "new_line_content": "    current_index_range++;",
          "content_same": false
        },
        {
          "line": 5812,
          "old_api": "strtol",
          "new_api": null,
          "old_text": "strtol(ptr, &endptr, 10)",
          "new_text": null,
          "old_line_content": "            ret = strtol(ptr, &endptr, 10);",
          "new_line_content": "            } else {",
          "content_same": false
        },
        {
          "line": 7861,
          "old_api": "av_new_packet",
          "new_api": null,
          "old_text": "av_new_packet(pkt, new_size)",
          "new_text": null,
          "old_line_content": "    ret = av_new_packet(pkt, new_size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5820,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(buffer)",
          "new_text": null,
          "old_line_content": "        av_free(buffer);",
          "new_line_content": "        size_t len = atom.size - sizeof(uuid);",
          "content_same": false
        },
        {
          "line": 5821,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(uuid, uuid_xmp, sizeof(uuid))",
          "new_text": null,
          "old_line_content": "    } else if (!memcmp(uuid, uuid_xmp, sizeof(uuid))) {",
          "new_line_content": "        if (c->export_xmp) {",
          "content_same": false
        },
        {
          "line": 7868,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "        pkt->data[j+1] = avio_r8(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7869,
          "old_api": "avio_r8",
          "new_api": null,
          "old_text": "avio_r8(pb)",
          "new_text": null,
          "old_line_content": "        pkt->data[j+2] = avio_r8(pb);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 5825,
          "old_api": "av_mallocz",
          "new_api": null,
          "old_text": "av_mallocz(len + 1)",
          "new_text": null,
          "old_line_content": "            buffer = av_mallocz(len + 1);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 5827,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "                return AVERROR(ENOMEM);",
          "new_line_content": "            if (ret < 0) {",
          "content_same": false
        },
        {
          "line": 5829,
          "old_api": "avio_read",
          "new_api": null,
          "old_text": "avio_read(pb, buffer, len)",
          "new_text": null,
          "old_line_content": "            ret = avio_read(pb, buffer, len);",
          "new_line_content": "                return ret;",
          "content_same": false
        },
        {
          "line": 5834,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(buffer)",
          "new_text": null,
          "old_line_content": "                av_free(buffer);",
          "new_line_content": "            buffer[len] = '\\0';",
          "content_same": false
        },
        {
          "line": 7885,
          "old_api": "mov_find_next_sample",
          "new_api": null,
          "old_text": "mov_find_next_sample(s, &st)",
          "new_text": null,
          "old_line_content": "    sample = mov_find_next_sample(s, &st);",
          "new_line_content": "            return AVERROR_EOF;",
          "content_same": false
        },
        {
          "line": 5838,
          "old_api": "av_dict_set",
          "new_api": null,
          "old_text": "av_dict_set(&c->fc->metadata, \"xmp\",\n                        buffer, AV_DICT_DONT_STRDUP_VAL)",
          "new_text": null,
          "old_line_content": "            av_dict_set(&c->fc->metadata, \"xmp\",",
          "new_line_content": "            // skip all uuid atom, which makes it fast for long uuid-xmp file",
          "content_same": false
        },
        {
          "line": 7889,
          "old_api": "mov_switch_root",
          "new_api": null,
          "old_text": "mov_switch_root(s, mov->next_root_atom, -1)",
          "new_text": null,
          "old_line_content": "        if ((ret = mov_switch_root(s, mov->next_root_atom, -1)) < 0)",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 5842,
          "old_api": "avio_skip",
          "new_api": null,
          "old_text": "avio_skip(pb, len)",
          "new_text": null,
          "old_line_content": "            ret = avio_skip(pb, len);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 5846,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(uuid, uuid_spherical, sizeof(uuid))",
          "new_text": null,
          "old_line_content": "    } else if (!memcmp(uuid, uuid_spherical, sizeof(uuid))) {",
          "new_line_content": "        if (ret < 0)",
          "content_same": false
        },
        {
          "line": 5848,
          "old_api": "mov_parse_uuid_spherical",
          "new_api": null,
          "old_text": "mov_parse_uuid_spherical(sc, pb, len)",
          "new_text": null,
          "old_line_content": "        ret = mov_parse_uuid_spherical(sc, pb, len);",
          "new_line_content": "        if (!sc->spherical)",
          "content_same": false
        },
        {
          "line": 7899,
          "old_api": "FFMIN",
          "new_api": null,
          "old_text": "FFMIN(sample->pos, mov->next_root_atom)",
          "new_text": null,
          "old_line_content": "        sample->pos = FFMIN(sample->pos, mov->next_root_atom);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5852,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING, \"Invalid spherical metadata found\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_WARNING, \"Invalid spherical metadata found\\n\");",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 7900,
          "old_api": "FFMIN",
          "new_api": null,
          "old_text": "FFMIN(sample->size, (mov->next_root_atom - sample->pos))",
          "new_text": null,
          "old_line_content": "        sample->size = FFMIN(sample->size, (mov->next_root_atom - sample->pos));",
          "new_line_content": "    if (st->discard != AVDISCARD_ALL) {",
          "content_same": false
        },
        {
          "line": 3806,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_WARNING, \"multiple edit list entries, \"\n                   \"Use -advanced_editlist to correctly decode otherwise \"\n                   \"a/v desync might occur\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(mov->fc, AV_LOG_WARNING, \"multiple edit list entries, \"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7904,
          "old_api": "avio_seek",
          "new_api": null,
          "old_text": "avio_seek(sc->pb, sample->pos, SEEK_SET)",
          "new_text": null,
          "old_line_content": "        int64_t ret64 = avio_seek(sc->pb, sample->pos, SEEK_SET);",
          "new_line_content": "                   sc->ffindex, sample->pos);",
          "content_same": false
        },
        {
          "line": 7908,
          "old_api": "should_retry",
          "new_api": null,
          "old_text": "should_retry(sc->pb, ret64)",
          "new_text": null,
          "old_line_content": "            if (should_retry(sc->pb, ret64)) {",
          "new_line_content": "            return AVERROR_INVALIDDATA;",
          "content_same": false
        },
        {
          "line": 3813,
          "old_api": "av_rescale",
          "new_api": null,
          "old_text": "av_rescale(empty_duration, sc->time_scale, mov->time_scale)",
          "new_text": null,
          "old_line_content": "                empty_duration = av_rescale(empty_duration, sc->time_scale, mov->time_scale);",
          "new_line_content": "            if (!mov->advanced_editlist)",
          "content_same": false
        },
        {
          "line": 7909,
          "old_api": "mov_current_sample_dec",
          "new_api": null,
          "old_text": "mov_current_sample_dec(sc)",
          "new_text": null,
          "old_line_content": "                mov_current_sample_dec(sc);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 5866,
          "old_api": "FFMIN",
          "new_api": null,
          "old_text": "FFMIN(sizeof(content), atom.size)",
          "new_text": null,
          "old_line_content": "    ret = avio_read(pb, content, FFMIN(sizeof(content), atom.size));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7915,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_DEBUG, \"Nonkey frame from stream %d discarded due to AVDISCARD_NONKEY\\n\", sc->ffindex)",
          "new_text": null,
          "old_line_content": "            av_log(mov->fc, AV_LOG_DEBUG, \"Nonkey frame from stream %d discarded due to AVDISCARD_NONKEY\\n\", sc->ffindex);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5872,
          "old_api": "memcmp",
          "new_api": null,
          "old_text": "memcmp(content, \"Anevia\\x1A\\x1A\", 8)",
          "new_text": null,
          "old_line_content": "        && !memcmp(content, \"Anevia\\x1A\\x1A\", 8)",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 7920,
          "old_api": "get_eia608_packet",
          "new_api": null,
          "old_text": "get_eia608_packet(sc->pb, pkt, sample->size)",
          "new_text": null,
          "old_line_content": "            ret = get_eia608_packet(sc->pb, pkt, sample->size);",
          "new_line_content": "        if (ret < 0) {",
          "content_same": false
        },
        {
          "line": 7924,
          "old_api": "should_retry",
          "new_api": null,
          "old_text": "should_retry(sc->pb, ret)",
          "new_text": null,
          "old_line_content": "            if (should_retry(sc->pb, ret)) {",
          "new_line_content": "            return ret;",
          "content_same": false
        },
        {
          "line": 7925,
          "old_api": "mov_current_sample_dec",
          "new_api": null,
          "old_text": "mov_current_sample_dec(sc)",
          "new_text": null,
          "old_line_content": "                mov_current_sample_dec(sc);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 5882,
          "old_api": "avio_rl32",
          "new_api": null,
          "old_text": "avio_rl32(pb)",
          "new_text": null,
          "old_line_content": "    uint32_t format = avio_rl32(pb);",
          "new_line_content": "    AVStream *st;",
          "content_same": false
        },
        {
          "line": 7932,
          "old_api": "av_packet_new_side_data",
          "new_api": null,
          "old_text": "av_packet_new_side_data(pkt, AV_PKT_DATA_PALETTE, AVPALETTE_SIZE)",
          "new_text": null,
          "old_line_content": "            pal = av_packet_new_side_data(pkt, AV_PKT_DATA_PALETTE, AVPALETTE_SIZE);",
          "new_line_content": "            } else {",
          "content_same": false
        },
        {
          "line": 7934,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_ERROR, \"Cannot append palette to packet\\n\")",
          "new_text": null,
          "old_line_content": "                av_log(mov->fc, AV_LOG_ERROR, \"Cannot append palette to packet\\n\");",
          "new_line_content": "                sc->has_palette = 0;",
          "content_same": false
        },
        {
          "line": 7936,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(pal, sc->palette, AVPALETTE_SIZE)",
          "new_text": null,
          "old_line_content": "                memcpy(pal, sc->palette, AVPALETTE_SIZE);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3846,
          "old_api": "av_reallocp_array",
          "new_api": null,
          "old_text": "av_reallocp_array(&st->index_entries,\n                              st->nb_index_entries + sc->sample_count,\n                              sizeof(*st->index_entries))",
          "new_text": null,
          "old_line_content": "        if (av_reallocp_array(&st->index_entries,",
          "new_line_content": "            st->nb_index_entries = 0;",
          "content_same": false
        },
        {
          "line": 5894,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('e','n','c','v')",
          "new_text": null,
          "old_line_content": "    case MKTAG('e','n','c','v'):        // encrypted video",
          "new_line_content": "        if (st->codecpar->codec_id != AV_CODEC_ID_NONE &&",
          "content_same": false
        },
        {
          "line": 5895,
          "old_api": "MKTAG",
          "new_api": null,
          "old_text": "MKTAG('e','n','c','a')",
          "new_text": null,
          "old_line_content": "    case MKTAG('e','n','c','a'):        // encrypted audio",
          "new_line_content": "            st->codecpar->codec_id != id) {",
          "content_same": false
        },
        {
          "line": 7943,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&pkt->data)",
          "new_text": null,
          "old_line_content": "            av_freep(&pkt->data);",
          "new_line_content": "            if (ret < 0)",
          "content_same": false
        },
        {
          "line": 7945,
          "old_api": "avpriv_dv_get_packet",
          "new_api": null,
          "old_text": "avpriv_dv_get_packet(mov->dv_demux, pkt)",
          "new_text": null,
          "old_line_content": "            ret = avpriv_dv_get_packet(mov->dv_demux, pkt);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 5899,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING,\n                   \"ignoring 'frma' atom of '%.4s', stream has codec id %d\\n\",\n                   (char*)&format, st->codecpar->codec_id)",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_WARNING,",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 7951,
          "old_api": "AV_RB32",
          "new_api": null,
          "old_text": "AV_RB32(pkt->data)",
          "new_text": null,
          "old_line_content": "            if (ff_mpa_check_header(AV_RB32(pkt->data)) < 0)",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3863,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(ctts_data_old)",
          "new_text": null,
          "old_line_content": "                av_free(ctts_data_old);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5911,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_WARNING,\n                   \"ignoring 'frma' atom of '%.4s', stream format is '%.4s'\\n\",\n                   (char*)&format, (char*)&sc->format)",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_WARNING,",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3867,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset((uint8_t*)(sc->ctts_data), 0, sc->ctts_allocated_size)",
          "new_text": null,
          "old_line_content": "            memset((uint8_t*)(sc->ctts_data), 0, sc->ctts_allocated_size);",
          "new_line_content": "                        sc->ctts_count < sc->sample_count; i++)",
          "content_same": false
        },
        {
          "line": 3876,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(ctts_data_old)",
          "new_text": null,
          "old_line_content": "            av_free(ctts_data_old);",
          "new_line_content": "        for (i = 0; i < sc->chunk_count; i++) {",
          "content_same": false
        },
        {
          "line": 3882,
          "old_api": "mov_stsc_index_valid",
          "new_api": null,
          "old_text": "mov_stsc_index_valid(stsc_index, sc->stsc_count)",
          "new_text": null,
          "old_line_content": "            while (mov_stsc_index_valid(stsc_index, sc->stsc_count) &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5933,
          "old_api": "get_current_frag_stream_info",
          "new_api": null,
          "old_text": "get_current_frag_stream_info(&c->frag_index)",
          "new_text": null,
          "old_line_content": "    frag_stream_info = get_current_frag_stream_info(&c->frag_index);",
          "new_line_content": "            if (c->fc->streams[i]->id == frag_stream_info->id) {",
          "content_same": false
        },
        {
          "line": 3888,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_WARNING, \"STSZ sample size %d invalid (too large), ignoring\\n\", sc->stsz_sample_size)",
          "new_text": null,
          "old_line_content": "                av_log(mov->fc, AV_LOG_WARNING, \"STSZ sample size %d invalid (too large), ignoring\\n\", sc->stsz_sample_size);",
          "new_line_content": "            if (sc->stsz_sample_size>0 && sc->stsz_sample_size < sc->sample_size) {",
          "content_same": false
        },
        {
          "line": 3892,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_WARNING, \"STSZ sample size %d invalid (too small), ignoring\\n\", sc->stsz_sample_size)",
          "new_text": null,
          "old_line_content": "                av_log(mov->fc, AV_LOG_WARNING, \"STSZ sample size %d invalid (too small), ignoring\\n\", sc->stsz_sample_size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7993,
          "old_api": "mov_stsc_index_valid",
          "new_api": null,
          "old_text": "mov_stsc_index_valid(sc->stsc_index, sc->stsc_count)",
          "new_text": null,
          "old_line_content": "        if (mov_stsc_index_valid(sc->stsc_index, sc->stsc_count) &&",
          "new_line_content": "            sc->stsc_sample = 0;",
          "content_same": false
        },
        {
          "line": 7994,
          "old_api": "mov_get_stsc_samples",
          "new_api": null,
          "old_text": "mov_get_stsc_samples(sc, sc->stsc_index)",
          "new_text": null,
          "old_line_content": "            mov_get_stsc_samples(sc, sc->stsc_index) == sc->stsc_sample) {",
          "new_line_content": "        /* Do not check indexes after a switch. */",
          "content_same": false
        },
        {
          "line": 3899,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_ERROR, \"wrong sample count\\n\")",
          "new_text": null,
          "old_line_content": "                    av_log(mov->fc, AV_LOG_ERROR, \"wrong sample count\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5949,
          "old_api": "av_mallocz",
          "new_api": null,
          "old_text": "av_mallocz(sizeof(*frag_stream_info->encryption_index))",
          "new_text": null,
          "old_line_content": "            frag_stream_info->encryption_index = av_mallocz(sizeof(*frag_stream_info->encryption_index));",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 5951,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "                return AVERROR(ENOMEM);",
          "new_line_content": "        return 1;",
          "content_same": false
        },
        {
          "line": 8001,
          "old_api": "mov_change_extradata",
          "new_api": null,
          "old_text": "mov_change_extradata(sc, pkt)",
          "new_text": null,
          "old_line_content": "            ret = mov_change_extradata(sc, pkt);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 8008,
          "old_api": "aax_filter",
          "new_api": null,
          "old_text": "aax_filter(pkt->data, pkt->size, mov)",
          "new_text": null,
          "old_line_content": "        aax_filter(pkt->data, pkt->size, mov);",
          "new_line_content": "    if (ret < 0) {",
          "content_same": false
        },
        {
          "line": 8010,
          "old_api": "cenc_filter",
          "new_api": null,
          "old_text": "cenc_filter(mov, st, sc, pkt, current_index)",
          "new_text": null,
          "old_line_content": "    ret = cenc_filter(mov, st, sc, pkt, current_index);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 5967,
          "old_api": "av_mallocz",
          "new_api": null,
          "old_text": "av_mallocz(sizeof(*frag_stream_info->encryption_index))",
          "new_text": null,
          "old_line_content": "            (*sc)->cenc.encryption_index = av_mallocz(sizeof(*frag_stream_info->encryption_index));",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 5969,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "                return AVERROR(ENOMEM);",
          "new_line_content": "        *encryption_index = (*sc)->cenc.encryption_index;",
          "content_same": false
        },
        {
          "line": 8026,
          "old_api": "search_frag_timestamp",
          "new_api": null,
          "old_text": "search_frag_timestamp(&mov->frag_index, st, timestamp)",
          "new_text": null,
          "old_line_content": "    index = search_frag_timestamp(&mov->frag_index, st, timestamp);",
          "new_line_content": "    if (!mov->frag_index.item[index].headers_read)",
          "content_same": false
        },
        {
          "line": 3932,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_ERROR, \"Sample size %u is too large\\n\", sample_size)",
          "new_text": null,
          "old_line_content": "                        av_log(mov->fc, AV_LOG_ERROR, \"Sample size %u is too large\\n\", sample_size);",
          "new_line_content": "                    e = &st->index_entries[st->nb_index_entries++];",
          "content_same": false
        },
        {
          "line": 8030,
          "old_api": "mov_switch_root",
          "new_api": null,
          "old_text": "mov_switch_root(s, -1, index)",
          "new_text": null,
          "old_line_content": "        return mov_switch_root(s, -1, index);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5984,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Missing schm or tenc\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Missing schm or tenc\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5988,
          "old_api": "av_encryption_info_clone",
          "new_api": null,
          "old_text": "av_encryption_info_clone(sc->cenc.default_encrypted_sample)",
          "new_text": null,
          "old_line_content": "    *sample = av_encryption_info_clone(sc->cenc.default_encrypted_sample);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3941,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_TRACE, \"AVIndex stream %d, sample %u, offset %\"PRIx64\", dts %\"PRId64\", \"\n                            \"size %u, distance %u, keyframe %d\\n\", st->index, current_sample,\n                            current_offset, current_dts, sample_size, distance, keyframe)",
          "new_text": null,
          "old_line_content": "                    av_log(mov->fc, AV_LOG_TRACE, \"AVIndex stream %d, sample %u, offset %\"PRIx64\", dts %\"PRId64\", \"",
          "new_line_content": "                    if (st->codecpar->codec_type == AVMEDIA_TYPE_VIDEO && st->nb_index_entries < 100)",
          "content_same": false
        },
        {
          "line": 3945,
          "old_api": "ff_rfps_add_frame",
          "new_api": null,
          "old_text": "ff_rfps_add_frame(mov->fc, st, current_dts)",
          "new_text": null,
          "old_line_content": "                        ff_rfps_add_frame(mov->fc, st, current_dts);",
          "new_line_content": "                current_offset += sample_size;",
          "content_same": false
        },
        {
          "line": 5993,
          "old_api": "avio_read",
          "new_api": null,
          "old_text": "avio_read(pb, (*sample)->iv, sc->cenc.per_sample_iv_size)",
          "new_text": null,
          "old_line_content": "        if (avio_read(pb, (*sample)->iv, sc->cenc.per_sample_iv_size) != sc->cenc.per_sample_iv_size) {",
          "new_line_content": "            *sample = NULL;",
          "content_same": false
        },
        {
          "line": 5994,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"failed to read the initialization vector\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_ERROR, \"failed to read the initialization vector\\n\");",
          "new_line_content": "            return AVERROR_INVALIDDATA;",
          "content_same": false
        },
        {
          "line": 5995,
          "old_api": "av_encryption_info_free",
          "new_api": null,
          "old_text": "av_encryption_info_free(*sample)",
          "new_text": null,
          "old_line_content": "            av_encryption_info_free(*sample);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 8047,
          "old_api": "mov_seek_fragment",
          "new_api": null,
          "old_text": "mov_seek_fragment(s, st, timestamp)",
          "new_text": null,
          "old_line_content": "    ret = mov_seek_fragment(s, st, timestamp);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3954,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_WARNING,\n                           \"Invalid SampleDelta %d in STTS, at %d st:%d\\n\",\n                           sc->stts_data[stts_index].duration, stts_index,\n                           st->index)",
          "new_text": null,
          "old_line_content": "                    av_log(mov->fc, AV_LOG_WARNING,",
          "new_line_content": "                           st->index);",
          "content_same": false
        },
        {
          "line": 6002,
          "old_api": "avio_rb16",
          "new_api": null,
          "old_text": "avio_rb16(pb)",
          "new_text": null,
          "old_line_content": "        subsample_count = avio_rb16(pb);",
          "new_line_content": "        if (!(*sample)->subsamples) {",
          "content_same": false
        },
        {
          "line": 6004,
          "old_api": "av_mallocz_array",
          "new_api": null,
          "old_text": "av_mallocz_array(subsample_count, sizeof(*subsamples))",
          "new_text": null,
          "old_line_content": "        (*sample)->subsamples = av_mallocz_array(subsample_count, sizeof(*subsamples));",
          "new_line_content": "            *sample = NULL;",
          "content_same": false
        },
        {
          "line": 8051,
          "old_api": "av_index_search_timestamp",
          "new_api": null,
          "old_text": "av_index_search_timestamp(st, timestamp, flags)",
          "new_text": null,
          "old_line_content": "    sample = av_index_search_timestamp(st, timestamp, flags);",
          "new_line_content": "        sample = 0;",
          "content_same": false
        },
        {
          "line": 6006,
          "old_api": "av_encryption_info_free",
          "new_api": null,
          "old_text": "av_encryption_info_free(*sample)",
          "new_text": null,
          "old_line_content": "            av_encryption_info_free(*sample);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 8052,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(s, AV_LOG_TRACE, \"stream %d, timestamp %\"PRId64\", sample %d\\n\", st->index, timestamp, sample)",
          "new_text": null,
          "old_line_content": "    av_log(s, AV_LOG_TRACE, \"stream %d, timestamp %\"PRId64\", sample %d\\n\", st->index, timestamp, sample);",
          "new_line_content": "    if (sample < 0) /* not sure what to do */",
          "content_same": false
        },
        {
          "line": 6008,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "            return AVERROR(ENOMEM);",
          "new_line_content": "        for (i = 0; i < subsample_count && !pb->eof_reached; i++) {",
          "content_same": false
        },
        {
          "line": 8057,
          "old_api": "mov_current_sample_set",
          "new_api": null,
          "old_text": "mov_current_sample_set(sc, sample)",
          "new_text": null,
          "old_line_content": "    mov_current_sample_set(sc, sample);",
          "new_line_content": "    if (sc->ctts_data) {",
          "content_same": false
        },
        {
          "line": 8058,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(s, AV_LOG_TRACE, \"stream %d, found sample %d\\n\", st->index, sc->current_sample)",
          "new_text": null,
          "old_line_content": "    av_log(s, AV_LOG_TRACE, \"stream %d, found sample %d\\n\", st->index, sc->current_sample);",
          "new_line_content": "        time_sample = 0;",
          "content_same": false
        },
        {
          "line": 6012,
          "old_api": "avio_rb16",
          "new_api": null,
          "old_text": "avio_rb16(pb)",
          "new_text": null,
          "old_line_content": "            (*sample)->subsamples[i].bytes_of_clear_data = avio_rb16(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6013,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "            (*sample)->subsamples[i].bytes_of_protected_data = avio_rb32(pb);",
          "new_line_content": "        if (pb->eof_reached) {",
          "content_same": false
        },
        {
          "line": 6017,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"hit EOF while reading sub-sample encryption info\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_ERROR, \"hit EOF while reading sub-sample encryption info\\n\");",
          "new_line_content": "            return AVERROR_INVALIDDATA;",
          "content_same": false
        },
        {
          "line": 6018,
          "old_api": "av_encryption_info_free",
          "new_api": null,
          "old_text": "av_encryption_info_free(*sample)",
          "new_text": null,
          "old_line_content": "            av_encryption_info_free(*sample);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 8077,
          "old_api": "mov_get_stsc_samples",
          "new_api": null,
          "old_text": "mov_get_stsc_samples(sc, i)",
          "new_text": null,
          "old_line_content": "        int64_t next = time_sample + mov_get_stsc_samples(sc, i);",
          "new_line_content": "            sc->stsc_sample = sc->current_sample - time_sample;",
          "content_same": false
        },
        {
          "line": 8083,
          "old_api": "av_assert0",
          "new_api": null,
          "old_text": "av_assert0(next == (int)next)",
          "new_text": null,
          "old_line_content": "        av_assert0(next == (int)next);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 6036,
          "old_api": "get_current_encryption_info",
          "new_api": null,
          "old_text": "get_current_encryption_info(c, &encryption_index, &sc)",
          "new_text": null,
          "old_line_content": "    ret = get_current_encryption_info(c, &encryption_index, &sc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6042,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_DEBUG, \"Ignoring duplicate encryption info in senc\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_DEBUG, \"Ignoring duplicate encryption info in senc\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3995,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_ERROR, \"error unaligned chunk\\n\")",
          "new_text": null,
          "old_line_content": "                av_log(mov->fc, AV_LOG_ERROR, \"error unaligned chunk\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6047,
          "old_api": "avio_rb24",
          "new_api": null,
          "old_text": "avio_rb24(pb)",
          "new_text": null,
          "old_line_content": "    use_subsamples = avio_rb24(pb) & 0x02; /* flags */",
          "new_line_content": "    if (sample_count >= INT_MAX / sizeof(*encrypted_samples))",
          "content_same": false
        },
        {
          "line": 6049,
          "old_api": "avio_rb32",
          "new_api": null,
          "old_text": "avio_rb32(pb)",
          "new_text": null,
          "old_line_content": "    sample_count = avio_rb32(pb);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6054,
          "old_api": "FFMAX",
          "new_api": null,
          "old_text": "FFMAX(i + 1, 1024 * 1024)",
          "new_text": null,
          "old_line_content": "        unsigned int min_samples = FFMIN(FFMAX(i + 1, 1024 * 1024), sample_count);",
          "new_line_content": "        if (encrypted_samples) {",
          "content_same": false
        },
        {
          "line": 6055,
          "old_api": "av_fast_realloc",
          "new_api": null,
          "old_text": "av_fast_realloc(encryption_index->encrypted_samples, &alloc_size,\n                                            min_samples * sizeof(*encrypted_samples))",
          "new_text": null,
          "old_line_content": "        encrypted_samples = av_fast_realloc(encryption_index->encrypted_samples, &alloc_size,",
          "new_line_content": "            encryption_index->encrypted_samples = encrypted_samples;",
          "content_same": false
        },
        {
          "line": 4008,
          "old_api": "mov_stsc_index_valid",
          "new_api": null,
          "old_text": "mov_stsc_index_valid(i, sc->stsc_count)",
          "new_text": null,
          "old_line_content": "            if (mov_stsc_index_valid(i, sc->stsc_count))",
          "new_line_content": "                chunk_count = sc->chunk_count - (sc->stsc_data[i].first - 1);",
          "content_same": false
        },
        {
          "line": 8102,
          "old_api": "mov_seek_stream",
          "new_api": null,
          "old_text": "mov_seek_stream(s, st, sample_time, flags)",
          "new_text": null,
          "old_line_content": "    sample = mov_seek_stream(s, st, sample_time, flags);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4018,
          "old_api": "av_reallocp_array",
          "new_api": null,
          "old_text": "av_reallocp_array(&st->index_entries,\n                              st->nb_index_entries + total,\n                              sizeof(*st->index_entries))",
          "new_text": null,
          "old_line_content": "        if (av_reallocp_array(&st->index_entries,",
          "new_line_content": "            st->nb_index_entries = 0;",
          "content_same": false
        },
        {
          "line": 6066,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Hit EOF while reading senc\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(c->fc, AV_LOG_ERROR, \"Hit EOF while reading senc\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8119,
          "old_api": "av_rescale_q",
          "new_api": null,
          "old_text": "av_rescale_q(seek_timestamp, s->streams[stream_index]->time_base, st->time_base)",
          "new_text": null,
          "old_line_content": "            timestamp = av_rescale_q(seek_timestamp, s->streams[stream_index]->time_base, st->time_base);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 6072,
          "old_api": "av_encryption_info_free",
          "new_api": null,
          "old_text": "av_encryption_info_free(encryption_index->encrypted_samples[i - 1])",
          "new_text": null,
          "old_line_content": "                av_encryption_info_free(encryption_index->encrypted_samples[i - 1]);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 6073,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&encryption_index->encrypted_samples)",
          "new_text": null,
          "old_line_content": "            av_freep(&encryption_index->encrypted_samples);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 8120,
          "old_api": "mov_seek_stream",
          "new_api": null,
          "old_text": "mov_seek_stream(s, st, timestamp, flags)",
          "new_text": null,
          "old_line_content": "            mov_seek_stream(s, st, timestamp, flags);",
          "new_line_content": "        for (i = 0; i < s->nb_streams; i++) {",
          "content_same": false
        },
        {
          "line": 4029,
          "old_api": "mov_stsc_index_valid",
          "new_api": null,
          "old_text": "mov_stsc_index_valid(stsc_index, sc->stsc_count)",
          "new_text": null,
          "old_line_content": "            if (mov_stsc_index_valid(stsc_index, sc->stsc_count) &&",
          "new_line_content": "            chunk_samples = sc->stsc_data[stsc_index].count;",
          "content_same": false
        },
        {
          "line": 8127,
          "old_api": "mov_current_sample_set",
          "new_api": null,
          "old_text": "mov_current_sample_set(sc, 0)",
          "new_text": null,
          "old_line_content": "            mov_current_sample_set(sc, 0);",
          "new_line_content": "            MOVStreamContext *sc;",
          "content_same": false
        },
        {
          "line": 8131,
          "old_api": "mov_find_next_sample",
          "new_api": null,
          "old_text": "mov_find_next_sample(s, &st)",
          "new_text": null,
          "old_line_content": "            AVIndexEntry *entry = mov_find_next_sample(s, &st);",
          "new_line_content": "            sc = st->priv_data;",
          "content_same": false
        },
        {
          "line": 4039,
          "old_api": "avpriv_request_sample",
          "new_api": null,
          "old_text": "avpriv_request_sample(mov->fc,\n                           \"Zero bytes per frame, but %d samples per frame\",\n                           sc->samples_per_frame)",
          "new_text": null,
          "old_line_content": "                    avpriv_request_sample(mov->fc,",
          "new_line_content": "                    return;",
          "content_same": false
        },
        {
          "line": 8137,
          "old_api": "mov_current_sample_inc",
          "new_api": null,
          "old_text": "mov_current_sample_inc(sc)",
          "new_text": null,
          "old_line_content": "            mov_current_sample_inc(sc);",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 6094,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Multiple auxiliary info chunks are not supported\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Multiple auxiliary info chunks are not supported\\n\");",
          "new_line_content": "    if (sample_count >= INT_MAX / sizeof(*encrypted_samples))",
          "content_same": false
        },
        {
          "line": 4050,
          "old_api": "FFMIN",
          "new_api": null,
          "old_text": "FFMIN((1024 / sc->samples_per_frame)*\n                                        sc->samples_per_frame, chunk_samples)",
          "new_text": null,
          "old_line_content": "                        samples = FFMIN((1024 / sc->samples_per_frame)*",
          "new_line_content": "                    } else {",
          "content_same": false
        },
        {
          "line": 6098,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "    if (!(pb->seekable & AVIO_SEEKABLE_NORMAL) ||",
          "content_same": false
        },
        {
          "line": 8148,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(use_absolute_path)",
          "new_text": null,
          "old_line_content": "        OFFSET(use_absolute_path), AV_OPT_TYPE_BOOL, {.i64 = 0},",
          "new_line_content": "        \"Seek each stream individually to the closest point\",",
          "content_same": false
        },
        {
          "line": 4054,
          "old_api": "FFMIN",
          "new_api": null,
          "old_text": "FFMIN(1024, chunk_samples)",
          "new_text": null,
          "old_line_content": "                        samples = FFMIN(1024, chunk_samples);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 6102,
          "old_api": "avio_seek",
          "new_api": null,
          "old_text": "avio_seek(pb, encryption_index->auxiliary_offsets[0], SEEK_SET)",
          "new_text": null,
          "old_line_content": "        avio_seek(pb, encryption_index->auxiliary_offsets[0], SEEK_SET) != encryption_index->auxiliary_offsets[0]) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 6103,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_INFO, \"Failed to seek for auxiliary info, will only parse senc atoms for encryption info\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_INFO, \"Failed to seek for auxiliary info, will only parse senc atoms for encryption info\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8152,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(seek_individually)",
          "new_text": null,
          "old_line_content": "        OFFSET(seek_individually), AV_OPT_TYPE_BOOL, { .i64 = 1 },",
          "new_line_content": "        0, 1, FLAGS},",
          "content_same": false
        },
        {
          "line": 8154,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(ignore_editlist)",
          "new_text": null,
          "old_line_content": "    {\"ignore_editlist\", \"Ignore the edit list atom.\", OFFSET(ignore_editlist), AV_OPT_TYPE_BOOL, {.i64 = 0},",
          "new_line_content": "        \"Modify the AVIndex according to the editlists. Use this option to decode in the order specified by the edits.\",",
          "content_same": false
        },
        {
          "line": 4060,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_ERROR, \"wrong chunk count %u\\n\", total)",
          "new_text": null,
          "old_line_content": "                    av_log(mov->fc, AV_LOG_ERROR, \"wrong chunk count %u\\n\", total);",
          "new_line_content": "                if (size > 0x3FFFFFFF) {",
          "content_same": false
        },
        {
          "line": 6108,
          "old_api": "FFMAX",
          "new_api": null,
          "old_text": "FFMAX(i + 1, 1024 * 1024)",
          "new_text": null,
          "old_line_content": "        unsigned int min_samples = FFMIN(FFMAX(i + 1, 1024 * 1024), sample_count);",
          "new_line_content": "        if (!encrypted_samples) {",
          "content_same": false
        },
        {
          "line": 8158,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(advanced_editlist)",
          "new_text": null,
          "old_line_content": "        OFFSET(advanced_editlist), AV_OPT_TYPE_BOOL, {.i64 = 1},",
          "new_line_content": "        0, 1, FLAGS},",
          "content_same": false
        },
        {
          "line": 4064,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_ERROR, \"Sample size %u is too large\\n\", size)",
          "new_text": null,
          "old_line_content": "                    av_log(mov->fc, AV_LOG_ERROR, \"Sample size %u is too large\\n\", size);",
          "new_line_content": "                e = &st->index_entries[st->nb_index_entries++];",
          "content_same": false
        },
        {
          "line": 6112,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "            ret = AVERROR(ENOMEM);",
          "new_line_content": "        encryption_index->encrypted_samples = encrypted_samples;",
          "content_same": false
        },
        {
          "line": 8160,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(ignore_chapters)",
          "new_text": null,
          "old_line_content": "    {\"ignore_chapters\", \"\", OFFSET(ignore_chapters), AV_OPT_TYPE_BOOL, {.i64 = 0},",
          "new_line_content": "        \"use mfra for fragment timestamps\",",
          "content_same": false
        },
        {
          "line": 8164,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(use_mfra_for)",
          "new_text": null,
          "old_line_content": "        OFFSET(use_mfra_for), AV_OPT_TYPE_INT, {.i64 = FF_MOV_FLAG_MFRA_AUTO},",
          "new_line_content": "    {\"auto\", \"auto\", 0, AV_OPT_TYPE_CONST, {.i64 = FF_MOV_FLAG_MFRA_AUTO}, 0, 0,",
          "content_same": false
        },
        {
          "line": 4073,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(mov->fc, AV_LOG_TRACE, \"AVIndex stream %d, chunk %u, offset %\"PRIx64\", dts %\"PRId64\", \"\n                       \"size %u, duration %u\\n\", st->index, i, current_offset, current_dts,\n                       size, samples)",
          "new_text": null,
          "old_line_content": "                av_log(mov->fc, AV_LOG_TRACE, \"AVIndex stream %d, chunk %u, offset %\"PRIx64\", dts %\"PRId64\", \"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6122,
          "old_api": "mov_read_sample_encryption_info",
          "new_api": null,
          "old_text": "mov_read_sample_encryption_info(c, pb, sc, sample, sample_info_size > sc->cenc.per_sample_iv_size)",
          "new_text": null,
          "old_line_content": "        ret = mov_read_sample_encryption_info(c, pb, sc, sample, sample_info_size > sc->cenc.per_sample_iv_size);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 8173,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(export_all)",
          "new_text": null,
          "old_line_content": "    { \"export_all\", \"Export unrecognized metadata entries\", OFFSET(export_all),",
          "new_line_content": "        AV_OPT_TYPE_BOOL, { .i64 = 0 }, 0, 1, .flags = FLAGS },",
          "content_same": false
        },
        {
          "line": 6127,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(c->fc, AV_LOG_ERROR, \"Hit EOF while reading auxiliary info\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(c->fc, AV_LOG_ERROR, \"Hit EOF while reading auxiliary info\\n\");",
          "new_line_content": "        encryption_index->nb_encrypted_samples = sample_count;",
          "content_same": false
        },
        {
          "line": 8175,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(export_xmp)",
          "new_text": null,
          "old_line_content": "    { \"export_xmp\", \"Export full XMP metadata\", OFFSET(export_xmp),",
          "new_line_content": "        AV_OPT_TYPE_BINARY, .flags = AV_OPT_FLAG_DECODING_PARAM },",
          "content_same": false
        },
        {
          "line": 4086,
          "old_api": "mov_fix_index",
          "new_api": null,
          "old_text": "mov_fix_index(mov, st)",
          "new_text": null,
          "old_line_content": "        mov_fix_index(mov, st);",
          "new_line_content": "    // Update start time of the stream.",
          "content_same": false
        },
        {
          "line": 8183,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(decryption_key)",
          "new_text": null,
          "old_line_content": "    { \"decryption_key\", \"The media decryption key (hex)\", OFFSET(decryption_key), AV_OPT_TYPE_BINARY, .flags = AV_OPT_FLAG_DECODING_PARAM },",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8184,
          "old_api": "OFFSET",
          "new_api": null,
          "old_text": "OFFSET(enable_drefs)",
          "new_text": null,
          "old_line_content": "    { \"enable_drefs\", \"Enable external track support.\", OFFSET(enable_drefs), AV_OPT_TYPE_BOOL,",
          "new_line_content": "    { NULL },",
          "content_same": false
        },
        {
          "line": 6137,
          "old_api": "av_encryption_info_free",
          "new_api": null,
          "old_text": "av_encryption_info_free(encryption_index->encrypted_samples[i - 1])",
          "new_text": null,
          "old_line_content": "            av_encryption_info_free(encryption_index->encrypted_samples[i - 1]);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 6139,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&encryption_index->encrypted_samples)",
          "new_text": null,
          "old_line_content": "        av_freep(&encryption_index->encrypted_samples);",
          "new_line_content": "}",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 237,
      "total_additions": 805,
      "total_deletions": 809,
      "total_api_changes": 1851
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 5,
        "api_related_lines": 1851,
        "non_api_lines": 1,
        "non_api_line_numbers": [
          2549
        ]
      }
    },
    "api_calls_before": 1906,
    "api_calls_after": 1902,
    "diff_info": {
      "added_lines": 2,
      "removed_lines": 5,
      "total_diff_lines": 19
    }
  }
}