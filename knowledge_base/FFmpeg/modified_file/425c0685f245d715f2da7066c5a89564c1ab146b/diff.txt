diff --git a/libavfilter/vf_cropdetect.c b/libavfilter/vf_cropdetect.c
index d45637777f..4a89875502 100644
--- a/libavfilter/vf_cropdetect.c
+++ b/libavfilter/vf_cropdetect.c
@@ -165,7 +165,7 @@ static int filter_frame(AVFilterLink *inlink, AVFrame *frame)
     int w, h, x, y, shrink_by;
     AVDictionary **metadata;
     int outliers, last_y;
-    int limit = round(s->limit);
+    int limit = lrint(s->limit);
 
     // ignore first 2 frames - they may be empty
     if (++s->frame_nb > 0) {
