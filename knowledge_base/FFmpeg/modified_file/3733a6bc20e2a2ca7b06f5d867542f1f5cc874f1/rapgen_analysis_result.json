{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/3733a6bc20e2a2ca7b06f5d867542f1f5cc874f1",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/3733a6bc20e2a2ca7b06f5d867542f1f5cc874f1/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/3733a6bc20e2a2ca7b06f5d867542f1f5cc874f1/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/3733a6bc20e2a2ca7b06f5d867542f1f5cc874f1/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 2541,
          "old_api": "sinf",
          "new_api": "cosf",
          "old_text": "sinf(lat)",
          "new_text": "cosf(lat)",
          "old_line_content": "    vec[1] = sinf(lat);",
          "new_line_content": "    vec[0] = sinf(lon) * cosf(lat);",
          "content_same": false
        },
        {
          "line": 2542,
          "old_api": "cosf",
          "new_api": "sinf",
          "old_text": "cosf(lat)",
          "new_text": "sinf(lat)",
          "old_line_content": "    vec[2] = cosf(lon) * cosf(lat);",
          "new_line_content": "    vec[1] = sinf(lat);",
          "content_same": false
        },
        {
          "line": 2587,
          "old_api": "cosf",
          "new_api": "sinf",
          "old_text": "cosf(phi)",
          "new_text": "sinf(phi)",
          "old_line_content": "    const float cos_phi   = cosf(phi);",
          "new_line_content": "    const float sin_phi   = sinf(phi);",
          "content_same": false
        },
        {
          "line": 2588,
          "old_api": "sinf",
          "new_api": "cosf",
          "old_text": "sinf(theta)",
          "new_text": "cosf(phi)",
          "old_line_content": "    const float sin_theta = sinf(theta);",
          "new_line_content": "    const float cos_phi   = cosf(phi);",
          "content_same": false
        },
        {
          "line": 2589,
          "old_api": "cosf",
          "new_api": "sinf",
          "old_text": "cosf(theta)",
          "new_text": "sinf(theta)",
          "old_line_content": "    const float cos_theta = cosf(theta);",
          "new_line_content": "    const float sin_theta = sinf(theta);",
          "content_same": false
        },
        {
          "line": 2634,
          "old_api": "hypotf",
          "new_api": "atan2f",
          "old_text": "hypotf(vec[0], vec[2])",
          "new_text": "atan2f(vec[0], -vec[2])",
          "old_line_content": "    const float theta = atan2f(-vec[1], hypotf(vec[0], vec[2])) * s->input_mirror_modifier[1] / s->iflat_range[1];",
          "new_line_content": "    const float phi   = atan2f(vec[0], -vec[2]) * s->input_mirror_modifier[0] / s->iflat_range[0];",
          "content_same": false
        },
        {
          "line": 2640,
          "old_api": "floorf",
          "new_api": "tanf",
          "old_text": "floorf(uf)",
          "new_text": "tanf(theta)",
          "old_line_content": "    ui = floorf(uf);",
          "new_line_content": "    vf = (tanf(theta) + 1.f) * height / 2.f;",
          "content_same": false
        },
        {
          "line": 2686,
          "old_api": "atan2f",
          "new_api": "asinf",
          "old_text": "atan2f(uf, vf)",
          "new_text": "asinf(cosz)",
          "old_line_content": "        const float phi   = atan2f(uf, vf);",
          "new_line_content": "        const float theta = asinf(cosz);",
          "content_same": false
        },
        {
          "line": 2689,
          "old_api": "cosf",
          "new_api": "sinf",
          "old_text": "cosf(phi)",
          "new_text": "sinf(phi)",
          "old_line_content": "        const float cos_phi   = cosf(phi);",
          "new_line_content": "        const float sin_phi   = sinf(phi);",
          "content_same": false
        },
        {
          "line": 2690,
          "old_api": "sinf",
          "new_api": "cosf",
          "old_text": "sinf(theta)",
          "new_text": "cosf(phi)",
          "old_line_content": "        const float sin_theta = sinf(theta);",
          "new_line_content": "        const float cos_phi   = cosf(phi);",
          "content_same": false
        },
        {
          "line": 2691,
          "old_api": "cosf",
          "new_api": "sinf",
          "old_text": "cosf(theta)",
          "new_text": "sinf(theta)",
          "old_line_content": "        const float cos_theta = cosf(theta);",
          "new_line_content": "        const float sin_theta = sinf(theta);",
          "content_same": false
        },
        {
          "line": 2783,
          "old_api": "reflecty",
          "new_api": "reflectx",
          "old_text": "reflecty(vi + i - 1, height)",
          "new_text": "reflectx(ui + j - 1, vi + i - 1, width, height)",
          "old_line_content": "            vs[i][j] = reflecty(vi + i - 1, height);",
          "new_line_content": "            us[i][j] = reflectx(ui + j - 1, vi + i - 1, width, height);",
          "content_same": false
        },
        {
          "line": 2820,
          "old_api": "cosf",
          "new_api": "sinf",
          "old_text": "cosf(theta)",
          "new_text": "sinf(theta)",
          "old_line_content": "    const float cos_theta = cosf(theta);",
          "new_line_content": "    const float sin_theta = sinf(theta);",
          "content_same": false
        },
        {
          "line": 2912,
          "old_api": "cosf",
          "new_api": "sinf",
          "old_text": "cosf(phi)",
          "new_text": "sinf(phi)",
          "old_line_content": "        const float cos_phi   = cosf(phi);",
          "new_line_content": "        const float sin_phi   = sinf(phi);",
          "content_same": false
        },
        {
          "line": 2913,
          "old_api": "sinf",
          "new_api": "cosf",
          "old_text": "sinf(theta)",
          "new_text": "cosf(phi)",
          "old_line_content": "        const float sin_theta = sinf(theta);",
          "new_line_content": "        const float cos_phi   = cosf(phi);",
          "content_same": false
        },
        {
          "line": 2914,
          "old_api": "cosf",
          "new_api": "sinf",
          "old_text": "cosf(theta)",
          "new_text": "sinf(theta)",
          "old_line_content": "        const float cos_theta = cosf(theta);",
          "new_line_content": "        const float sin_theta = sinf(theta);",
          "content_same": false
        },
        {
          "line": 2976,
          "old_api": "asinf",
          "new_api": "atan2f",
          "old_text": "asinf(-vec[1])",
          "new_text": "atan2f(vec[0], -vec[2])",
          "old_line_content": "    const float theta = asinf(-vec[1]) * s->input_mirror_modifier[1];",
          "new_line_content": "    const float phi   = atan2f(vec[0], -vec[2]) * s->input_mirror_modifier[0];",
          "content_same": false
        },
        {
          "line": 3049,
          "old_api": "asinf",
          "new_api": "atan2f",
          "old_text": "asinf(-vec[1])",
          "new_text": "atan2f(vec[0], -vec[2])",
          "old_line_content": "    const float theta = asinf(-vec[1]) * s->input_mirror_modifier[1];",
          "new_line_content": "    const float phi   = atan2f(vec[0], -vec[2]) * s->input_mirror_modifier[0];",
          "content_same": false
        },
        {
          "line": 3159,
          "old_api": "cosf",
          "new_api": "sinf",
          "old_text": "cosf(phi)",
          "new_text": "sinf(phi)",
          "old_line_content": "        const float cos_phi   = cosf(phi);",
          "new_line_content": "        const float sin_phi   = sinf(phi);",
          "content_same": false
        },
        {
          "line": 3160,
          "old_api": "sinf",
          "new_api": "cosf",
          "old_text": "sinf(theta)",
          "new_text": "cosf(phi)",
          "old_line_content": "        const float sin_theta = sinf(theta);",
          "new_line_content": "        const float cos_phi   = cosf(phi);",
          "content_same": false
        },
        {
          "line": 3161,
          "old_api": "cosf",
          "new_api": "sinf",
          "old_text": "cosf(theta)",
          "new_text": "sinf(theta)",
          "old_line_content": "        const float cos_theta = cosf(theta);",
          "new_line_content": "        const float sin_theta = sinf(theta);",
          "content_same": false
        },
        {
          "line": 3247,
          "old_api": "cosf",
          "new_api": "sinf",
          "old_text": "cosf(-yaw_rad)",
          "new_text": "sinf(-yaw_rad)",
          "old_line_content": "    const float cos_yaw   = cosf(-yaw_rad);",
          "new_line_content": "    const float sin_yaw   = sinf(-yaw_rad);",
          "content_same": false
        },
        {
          "line": 3248,
          "old_api": "sinf",
          "new_api": "cosf",
          "old_text": "sinf(pitch_rad)",
          "new_text": "cosf(-yaw_rad)",
          "old_line_content": "    const float sin_pitch = sinf(pitch_rad);",
          "new_line_content": "    const float cos_yaw   = cosf(-yaw_rad);",
          "content_same": false
        },
        {
          "line": 3249,
          "old_api": "cosf",
          "new_api": "sinf",
          "old_text": "cosf(pitch_rad)",
          "new_text": "sinf(pitch_rad)",
          "old_line_content": "    const float cos_pitch = cosf(pitch_rad);",
          "new_line_content": "    const float sin_pitch = sinf(pitch_rad);",
          "content_same": false
        },
        {
          "line": 3250,
          "old_api": "sinf",
          "new_api": "cosf",
          "old_text": "sinf(roll_rad)",
          "new_text": "cosf(pitch_rad)",
          "old_line_content": "    const float sin_roll  = sinf(roll_rad);",
          "new_line_content": "    const float cos_pitch = cosf(pitch_rad);",
          "content_same": false
        },
        {
          "line": 3251,
          "old_api": "cosf",
          "new_api": "sinf",
          "old_text": "cosf(roll_rad)",
          "new_text": "sinf(roll_rad)",
          "old_line_content": "    const float cos_roll  = cosf(roll_rad);",
          "new_line_content": "    const float sin_roll  = sinf(roll_rad);",
          "content_same": false
        },
        {
          "line": 3345,
          "old_api": "hypotf",
          "new_api": "FFMIN",
          "old_text": "hypotf(w, h)",
          "new_text": "FFMIN(d_fov, 359.f)",
          "old_line_content": "            const float d = hypotf(w, h);",
          "new_line_content": "            const float da = tanf(0.5 * FFMIN(d_fov, 359.f) * M_PI / 180.f);",
          "content_same": false
        },
        {
          "line": 3398,
          "old_api": "isnan",
          "new_api": "out_transform",
          "old_text": "isnan(vec[2])",
          "new_text": "s->out_transform(s, i, j, width, height, vec)",
          "old_line_content": "                av_assert1(!isnan(vec[0]) && !isnan(vec[1]) && !isnan(vec[2]));",
          "new_line_content": "                    out_mask = s->out_transform(s, i, j, width, height, vec);",
          "content_same": false
        },
        {
          "line": 3399,
          "old_api": "rotate",
          "new_api": "isnan",
          "old_text": "rotate(s->rot_mat, vec)",
          "new_text": "isnan(vec[2])",
          "old_line_content": "                rotate(s->rot_mat, vec);",
          "new_line_content": "                av_assert1(!isnan(vec[0]) && !isnan(vec[1]) && !isnan(vec[2]));",
          "content_same": false
        },
        {
          "line": 3400,
          "old_api": "isnan",
          "new_api": "rotate",
          "old_text": "isnan(vec[2])",
          "new_text": "rotate(s->rot_mat, vec)",
          "old_line_content": "                av_assert1(!isnan(vec[0]) && !isnan(vec[1]) && !isnan(vec[2]));",
          "new_line_content": "                rotate(s->rot_mat, vec);",
          "content_same": false
        },
        {
          "line": 3401,
          "old_api": "normalize_vector",
          "new_api": "isnan",
          "old_text": "normalize_vector(vec)",
          "new_text": "isnan(vec[2])",
          "old_line_content": "                normalize_vector(vec);",
          "new_line_content": "                av_assert1(!isnan(vec[0]) && !isnan(vec[1]) && !isnan(vec[2]));",
          "content_same": false
        },
        {
          "line": 3402,
          "old_api": "mirror",
          "new_api": "normalize_vector",
          "old_text": "mirror(s->output_mirror_modifier, vec)",
          "new_text": "normalize_vector(vec)",
          "old_line_content": "                mirror(s->output_mirror_modifier, vec);",
          "new_line_content": "                normalize_vector(vec);",
          "content_same": false
        },
        {
          "line": 3407,
          "old_api": "isnan",
          "new_api": "in_transform",
          "old_text": "isnan(dv)",
          "new_text": "s->in_transform(s, vec, in_width, in_height, rmap.u, rmap.v, &du, &dv)",
          "old_line_content": "                av_assert1(!isnan(du) && !isnan(dv));",
          "new_line_content": "                    in_mask = s->in_transform(s, vec, in_width, in_height, rmap.u, rmap.v, &du, &dv);",
          "content_same": false
        },
        {
          "line": 3408,
          "old_api": "calculate_kernel",
          "new_api": "isnan",
          "old_text": "s->calculate_kernel(du, dv, &rmap, u, v, ker)",
          "new_text": "isnan(dv)",
          "old_line_content": "                s->calculate_kernel(du, dv, &rmap, u, v, ker);",
          "new_line_content": "                av_assert1(!isnan(du) && !isnan(dv));",
          "content_same": false
        },
        {
          "line": 3595,
          "old_api": "AVERROR",
          "new_api": "av_log",
          "old_text": "AVERROR(EINVAL)",
          "new_text": "av_log(ctx, AV_LOG_ERROR, \"Supplied format is not accepted as input.\\n\")",
          "old_line_content": "        return AVERROR(EINVAL);",
          "new_line_content": "        av_log(ctx, AV_LOG_ERROR, \"Supplied format is not accepted as input.\\n\");",
          "content_same": false
        },
        {
          "line": 3797,
          "old_api": "AVERROR",
          "new_api": "av_log",
          "old_text": "AVERROR(EINVAL)",
          "new_text": "av_log(ctx, AV_LOG_ERROR, \"Both width and height values should be specified.\\n\")",
          "old_line_content": "        return AVERROR(EINVAL);",
          "new_line_content": "        av_log(ctx, AV_LOG_ERROR, \"Both width and height values should be specified.\\n\");",
          "content_same": false
        },
        {
          "line": 3869,
          "old_api": "set_mirror_modifier",
          "new_api": "calculate_rotation_matrix",
          "old_text": "set_mirror_modifier(s->h_flip, s->v_flip, s->d_flip, s->output_mirror_modifier)",
          "new_text": "calculate_rotation_matrix(s->yaw, s->pitch, s->roll, s->rot_mat, s->rotation_order)",
          "old_line_content": "    set_mirror_modifier(s->h_flip, s->v_flip, s->d_flip, s->output_mirror_modifier);",
          "new_line_content": "    calculate_rotation_matrix(s->yaw, s->pitch, s->roll, s->rot_mat, s->rotation_order);",
          "content_same": false
        },
        {
          "line": 3887,
          "old_api": "AVERROR",
          "new_api": "av_frame_free",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "av_frame_free(&in)",
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "        av_frame_free(&in);",
          "content_same": false
        },
        {
          "line": 3897,
          "old_api": "ff_filter_frame",
          "new_api": "av_frame_free",
          "old_text": "ff_filter_frame(outlink, out)",
          "new_text": "av_frame_free(&in)",
          "old_line_content": "    return ff_filter_frame(outlink, out);",
          "new_line_content": "    av_frame_free(&in);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 3073,
          "old_api": null,
          "new_api": "fmodf",
          "old_text": null,
          "new_text": "fmodf(uf + 1.f, 1.f)",
          "old_line_content": "",
          "new_line_content": "            uf = uf >= 0.f ? fmodf(uf - 1.f, 1.f) : fmodf(uf + 1.f, 1.f);",
          "content_same": false
        },
        {
          "line": 2562,
          "old_api": null,
          "new_api": "tanf",
          "old_text": null,
          "new_text": "tanf(0.5f * s->v_fov * M_PI / 180.f)",
          "old_line_content": "",
          "new_line_content": "    s->flat_range[1] = tanf(0.5f * s->v_fov * M_PI / 180.f);",
          "content_same": false
        },
        {
          "line": 3589,
          "old_api": null,
          "new_api": "prepare_flat_in",
          "old_text": null,
          "new_text": "prepare_flat_in(ctx)",
          "old_line_content": "        wf = w;",
          "new_line_content": "        err = prepare_flat_in(ctx);",
          "content_same": false
        },
        {
          "line": 3596,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "    case DUAL_FISHEYE:",
          "new_line_content": "        return AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 2585,
          "old_api": null,
          "new_api": "atanf",
          "old_text": null,
          "new_text": "atanf(vf)",
          "old_line_content": "",
          "new_line_content": "    const float theta = atanf(vf);",
          "content_same": false
        },
        {
          "line": 3611,
          "old_api": null,
          "new_api": "prepare_stereographic_in",
          "old_text": null,
          "new_text": "prepare_stereographic_in(ctx)",
          "old_line_content": "        wf = w;",
          "new_line_content": "        err = prepare_stereographic_in(ctx);",
          "content_same": false
        },
        {
          "line": 2590,
          "old_api": null,
          "new_api": "cosf",
          "old_text": null,
          "new_text": "cosf(theta)",
          "old_line_content": "",
          "new_line_content": "    const float cos_theta = cosf(theta);",
          "content_same": false
        },
        {
          "line": 2596,
          "old_api": null,
          "new_api": "normalize_vector",
          "old_text": null,
          "new_text": "normalize_vector(vec)",
          "old_line_content": "",
          "new_line_content": "    normalize_vector(vec);",
          "content_same": false
        },
        {
          "line": 3117,
          "old_api": null,
          "new_api": "floorf",
          "old_text": null,
          "new_text": "floorf(vf)",
          "old_line_content": "",
          "new_line_content": "    vi = floorf(vf);",
          "content_same": false
        },
        {
          "line": 2613,
          "old_api": null,
          "new_api": "tanf",
          "old_text": null,
          "new_text": "tanf(0.5f * s->iv_fov * M_PI / 180.f)",
          "old_line_content": "",
          "new_line_content": "    s->iflat_range[1] = tanf(0.5f * s->iv_fov * M_PI / 180.f);",
          "content_same": false
        },
        {
          "line": 3125,
          "old_api": null,
          "new_api": "av_clip",
          "old_text": null,
          "new_text": "av_clip(vi + i - 1, 0, eh - 1)",
          "old_line_content": "        }",
          "new_line_content": "            vs[i][j] = v_shift + av_clip(vi + i - 1, 0, eh - 1);",
          "content_same": false
        },
        {
          "line": 3641,
          "old_api": null,
          "new_api": "prepare_fisheye_in",
          "old_text": null,
          "new_text": "prepare_fisheye_in(ctx)",
          "old_line_content": "        wf = w * 2;",
          "new_line_content": "        err = prepare_fisheye_in(ctx);",
          "content_same": false
        },
        {
          "line": 3647,
          "old_api": null,
          "new_api": "prepare_cylindrical_in",
          "old_text": null,
          "new_text": "prepare_cylindrical_in(ctx)",
          "old_line_content": "        wf = w;",
          "new_line_content": "        err = prepare_cylindrical_in(ctx);",
          "content_same": false
        },
        {
          "line": 2635,
          "old_api": null,
          "new_api": "hypotf",
          "old_text": null,
          "new_text": "hypotf(vec[0], vec[2])",
          "old_line_content": "    int visible, ui, vi;",
          "new_line_content": "    const float theta = atan2f(-vec[1], hypotf(vec[0], vec[2])) * s->input_mirror_modifier[1] / s->iflat_range[1];",
          "content_same": false
        },
        {
          "line": 3664,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(ctx, AV_LOG_ERROR, \"Specified input format is not handled.\\n\")",
          "old_line_content": "        return AVERROR_BUG;",
          "new_line_content": "        av_log(ctx, AV_LOG_ERROR, \"Specified input format is not handled.\\n\");",
          "content_same": false
        },
        {
          "line": 2642,
          "old_api": null,
          "new_api": "floorf",
          "old_text": null,
          "new_text": "floorf(vf)",
          "old_line_content": "",
          "new_line_content": "    vi = floorf(vf);",
          "content_same": false
        },
        {
          "line": 3154,
          "old_api": null,
          "new_api": "floorf",
          "old_text": null,
          "new_text": "floorf(y * 2.f)",
          "old_line_content": "",
          "new_line_content": "        const float back = floorf(y * 2.f);",
          "content_same": false
        },
        {
          "line": 3162,
          "old_api": null,
          "new_api": "cosf",
          "old_text": null,
          "new_text": "cosf(theta)",
          "old_line_content": "",
          "new_line_content": "        const float cos_theta = cosf(theta);",
          "content_same": false
        },
        {
          "line": 3677,
          "old_api": null,
          "new_api": "lrintf",
          "old_text": null,
          "new_text": "lrintf(hf)",
          "old_line_content": "        break;",
          "new_line_content": "        h = lrintf(hf);",
          "content_same": false
        },
        {
          "line": 2654,
          "old_api": null,
          "new_api": "av_clip",
          "old_text": null,
          "new_text": "av_clip(vi + i - 1, 0, height - 1)",
          "old_line_content": "        }",
          "new_line_content": "            vs[i][j] = visible ? av_clip(vi + i - 1, 0, height - 1) : 0;",
          "content_same": false
        },
        {
          "line": 3171,
          "old_api": null,
          "new_api": "floorf",
          "old_text": null,
          "new_text": "floorf(y * 4.f)",
          "old_line_content": "        float uf, vf;",
          "new_line_content": "        const int face = floorf(y * 4.f);",
          "content_same": false
        },
        {
          "line": 3683,
          "old_api": null,
          "new_api": "lrintf",
          "old_text": null,
          "new_text": "lrintf(hf)",
          "old_line_content": "        break;",
          "new_line_content": "        h = lrintf(hf);",
          "content_same": false
        },
        {
          "line": 3689,
          "old_api": null,
          "new_api": "lrintf",
          "old_text": null,
          "new_text": "lrintf(hf * 3.f)",
          "old_line_content": "        break;",
          "new_line_content": "        h = lrintf(hf * 3.f);",
          "content_same": false
        },
        {
          "line": 3695,
          "old_api": null,
          "new_api": "lrintf",
          "old_text": null,
          "new_text": "lrintf(hf / 2.f)",
          "old_line_content": "        break;",
          "new_line_content": "        h = lrintf(hf / 2.f);",
          "content_same": false
        },
        {
          "line": 2677,
          "old_api": null,
          "new_api": "hypotf",
          "old_text": null,
          "new_text": "hypotf(uf, vf)",
          "old_line_content": "    const float sinzz = 1.f - rh * rh;",
          "new_line_content": "    const float rh = hypotf(uf, vf);",
          "content_same": false
        },
        {
          "line": 3701,
          "old_api": null,
          "new_api": "lrintf",
          "old_text": null,
          "new_text": "lrintf(hf / 8.f * 9.f)",
          "old_line_content": "        break;",
          "new_line_content": "        h = lrintf(hf / 8.f * 9.f);",
          "content_same": false
        },
        {
          "line": 2680,
          "old_api": null,
          "new_api": "sqrtf",
          "old_text": null,
          "new_text": "sqrtf(sinzz)",
          "old_line_content": "    const float sinz2 = sinz * sinz;",
          "new_line_content": "    const float sinz = (h - sqrtf(sinzz)) / (h / rh + rh / h);",
          "content_same": false
        },
        {
          "line": 3707,
          "old_api": null,
          "new_api": "lrintf",
          "old_text": null,
          "new_text": "lrintf(hf)",
          "old_line_content": "        break;",
          "new_line_content": "        h = lrintf(hf);",
          "content_same": false
        },
        {
          "line": 2684,
          "old_api": null,
          "new_api": "sqrtf",
          "old_text": null,
          "new_text": "sqrtf(1.f - sinz2)",
          "old_line_content": "",
          "new_line_content": "        const float cosz = sqrtf(1.f - sinz2);",
          "content_same": false
        },
        {
          "line": 2687,
          "old_api": null,
          "new_api": "atan2f",
          "old_text": null,
          "new_text": "atan2f(uf, vf)",
          "old_line_content": "",
          "new_line_content": "        const float phi   = atan2f(uf, vf);",
          "content_same": false
        },
        {
          "line": 3713,
          "old_api": null,
          "new_api": "lrintf",
          "old_text": null,
          "new_text": "lrintf(hf)",
          "old_line_content": "        break;",
          "new_line_content": "        h = lrintf(hf);",
          "content_same": false
        },
        {
          "line": 2692,
          "old_api": null,
          "new_api": "cosf",
          "old_text": null,
          "new_text": "cosf(theta)",
          "old_line_content": "",
          "new_line_content": "        const float cos_theta = cosf(theta);",
          "content_same": false
        },
        {
          "line": 3719,
          "old_api": null,
          "new_api": "lrintf",
          "old_text": null,
          "new_text": "lrintf(hf)",
          "old_line_content": "        break;",
          "new_line_content": "        h = lrintf(hf);",
          "content_same": false
        },
        {
          "line": 3725,
          "old_api": null,
          "new_api": "lrintf",
          "old_text": null,
          "new_text": "lrintf(hf * 2.f)",
          "old_line_content": "        break;",
          "new_line_content": "        h = lrintf(hf * 2.f);",
          "content_same": false
        },
        {
          "line": 2704,
          "old_api": null,
          "new_api": "normalize_vector",
          "old_text": null,
          "new_text": "normalize_vector(vec)",
          "old_line_content": "    return 1;",
          "new_line_content": "    normalize_vector(vec);",
          "content_same": false
        },
        {
          "line": 3217,
          "old_api": null,
          "new_api": "normalize_vector",
          "old_text": null,
          "new_text": "normalize_vector(vec)",
          "old_line_content": "",
          "new_line_content": "    normalize_vector(vec);",
          "content_same": false
        },
        {
          "line": 3731,
          "old_api": null,
          "new_api": "lrintf",
          "old_text": null,
          "new_text": "lrintf(hf * 2.f)",
          "old_line_content": "        break;",
          "new_line_content": "        h = lrintf(hf * 2.f);",
          "content_same": false
        },
        {
          "line": 3737,
          "old_api": null,
          "new_api": "lrintf",
          "old_text": null,
          "new_text": "lrintf(hf * 2.f)",
          "old_line_content": "        break;",
          "new_line_content": "        h = lrintf(hf * 2.f);",
          "content_same": false
        },
        {
          "line": 3743,
          "old_api": null,
          "new_api": "lrintf",
          "old_text": null,
          "new_text": "lrintf(hf)",
          "old_line_content": "        break;",
          "new_line_content": "        h = lrintf(hf);",
          "content_same": false
        },
        {
          "line": 3749,
          "old_api": null,
          "new_api": "lrintf",
          "old_text": null,
          "new_text": "lrintf(hf)",
          "old_line_content": "        break;",
          "new_line_content": "        h = lrintf(hf);",
          "content_same": false
        },
        {
          "line": 2727,
          "old_api": null,
          "new_api": "fabsf",
          "old_text": null,
          "new_text": "fabsf(1.f - uf * 2.f + vf)",
          "old_line_content": "",
          "new_line_content": "    vec[2] = 2.f * fabsf(1.f - fabsf(1.f - uf * 2.f + vf)) - 1.f;",
          "content_same": false
        },
        {
          "line": 2729,
          "old_api": null,
          "new_api": "normalize_vector",
          "old_text": null,
          "new_text": "normalize_vector(vec)",
          "old_line_content": "",
          "new_line_content": "    normalize_vector(vec);",
          "content_same": false
        },
        {
          "line": 3755,
          "old_api": null,
          "new_api": "lrintf",
          "old_text": null,
          "new_text": "lrintf(hf)",
          "old_line_content": "        break;",
          "new_line_content": "        h = lrintf(hf);",
          "content_same": false
        },
        {
          "line": 3761,
          "old_api": null,
          "new_api": "lrintf",
          "old_text": null,
          "new_text": "lrintf(hf)",
          "old_line_content": "        break;",
          "new_line_content": "        h = lrintf(hf);",
          "content_same": false
        },
        {
          "line": 3252,
          "old_api": null,
          "new_api": "cosf",
          "old_text": null,
          "new_text": "cosf(roll_rad)",
          "old_line_content": "",
          "new_line_content": "    const float cos_roll  = cosf(roll_rad);",
          "content_same": false
        },
        {
          "line": 3767,
          "old_api": null,
          "new_api": "lrintf",
          "old_text": null,
          "new_text": "lrintf(hf * 0.5f)",
          "old_line_content": "        break;",
          "new_line_content": "        h = lrintf(hf * 0.5f);",
          "content_same": false
        },
        {
          "line": 3773,
          "old_api": null,
          "new_api": "lrintf",
          "old_text": null,
          "new_text": "lrintf(hf)",
          "old_line_content": "        break;",
          "new_line_content": "        h = lrintf(hf);",
          "content_same": false
        },
        {
          "line": 2754,
          "old_api": null,
          "new_api": "FFMAX3",
          "old_text": null,
          "new_text": "FFMAX3(d1, d2, d3)",
          "old_line_content": "",
          "new_line_content": "    const float d = FFMAX(d0, FFMAX3(d1, d2, d3));",
          "content_same": false
        },
        {
          "line": 3779,
          "old_api": null,
          "new_api": "lrintf",
          "old_text": null,
          "new_text": "lrintf(hf)",
          "old_line_content": "        break;",
          "new_line_content": "        h = lrintf(hf);",
          "content_same": false
        },
        {
          "line": 3270,
          "old_api": null,
          "new_api": "multiply_matrix",
          "old_text": null,
          "new_text": "multiply_matrix(rot_mat, temp, m[rotation_order[2]])",
          "old_line_content": "}",
          "new_line_content": "    multiply_matrix(rot_mat, temp, m[rotation_order[2]]);",
          "content_same": false
        },
        {
          "line": 3785,
          "old_api": null,
          "new_api": "lrintf",
          "old_text": null,
          "new_text": "lrintf(hf)",
          "old_line_content": "        break;",
          "new_line_content": "        h = lrintf(hf);",
          "content_same": false
        },
        {
          "line": 3788,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(ctx, AV_LOG_ERROR, \"Specified output format is not handled.\\n\")",
          "old_line_content": "        return AVERROR_BUG;",
          "new_line_content": "        av_log(ctx, AV_LOG_ERROR, \"Specified output format is not handled.\\n\");",
          "content_same": false
        },
        {
          "line": 3798,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(EINVAL)",
          "old_line_content": "    } else {",
          "new_line_content": "        return AVERROR(EINVAL);",
          "content_same": false
        },
        {
          "line": 2776,
          "old_api": null,
          "new_api": "floorf",
          "old_text": null,
          "new_text": "floorf(vf)",
          "old_line_content": "",
          "new_line_content": "    vi = floorf(vf);",
          "content_same": false
        },
        {
          "line": 3801,
          "old_api": null,
          "new_api": "FFSWAP",
          "old_text": null,
          "new_text": "FFSWAP(int, w, h)",
          "old_line_content": "",
          "new_line_content": "            FFSWAP(int, w, h);",
          "content_same": false
        },
        {
          "line": 3804,
          "old_api": null,
          "new_api": "FFSWAP",
          "old_text": null,
          "new_text": "FFSWAP(int, w, h)",
          "old_line_content": "    }",
          "new_line_content": "            FFSWAP(int, w, h);",
          "content_same": false
        },
        {
          "line": 2784,
          "old_api": null,
          "new_api": "reflecty",
          "old_text": null,
          "new_text": "reflecty(vi + i - 1, height)",
          "old_line_content": "        }",
          "new_line_content": "            vs[i][j] = reflecty(vi + i - 1, height);",
          "content_same": false
        },
        {
          "line": 3811,
          "old_api": null,
          "new_api": "fov_from_dfov",
          "old_text": null,
          "new_text": "fov_from_dfov(s->out, s->d_fov, w, h, &s->h_fov, &s->v_fov)",
          "old_line_content": "",
          "new_line_content": "        fov_from_dfov(s->out, s->d_fov, w, h, &s->h_fov, &s->v_fov);",
          "content_same": false
        },
        {
          "line": 3814,
          "old_api": null,
          "new_api": "prepare_out",
          "old_text": null,
          "new_text": "prepare_out(ctx)",
          "old_line_content": "        if (err != 0)",
          "new_line_content": "        err = prepare_out(ctx);",
          "content_same": false
        },
        {
          "line": 3819,
          "old_api": null,
          "new_api": "set_dimensions",
          "old_text": null,
          "new_text": "set_dimensions(s->pr_width, s->pr_height, w, h, desc)",
          "old_line_content": "",
          "new_line_content": "    set_dimensions(s->pr_width, s->pr_height, w, h, desc);",
          "content_same": false
        },
        {
          "line": 3309,
          "old_api": null,
          "new_api": "av_calloc",
          "old_text": null,
          "new_text": "av_calloc(s->uv_linesize[p] * s->pr_height[p], sizeof_uv)",
          "old_line_content": "    if (!s->v[p])",
          "new_line_content": "        s->u[p] = av_calloc(s->uv_linesize[p] * s->pr_height[p], sizeof_uv);",
          "content_same": false
        },
        {
          "line": 3311,
          "old_api": null,
          "new_api": "av_calloc",
          "old_text": null,
          "new_text": "av_calloc(s->uv_linesize[p] * s->pr_height[p], sizeof_uv)",
          "old_line_content": "    if (!s->u[p] || !s->v[p])",
          "new_line_content": "        s->v[p] = av_calloc(s->uv_linesize[p] * s->pr_height[p], sizeof_uv);",
          "content_same": false
        },
        {
          "line": 3313,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    if (sizeof_ker) {",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 3825,
          "old_api": null,
          "new_api": "FFSWAP",
          "old_text": null,
          "new_text": "FFSWAP(int, s->out_width, s->out_height)",
          "old_line_content": "",
          "new_line_content": "        FFSWAP(int, s->out_width, s->out_height);",
          "content_same": false
        },
        {
          "line": 3316,
          "old_api": null,
          "new_api": "av_calloc",
          "old_text": null,
          "new_text": "av_calloc(s->uv_linesize[p] * s->pr_height[p], sizeof_ker)",
          "old_line_content": "        if (!s->ker[p])",
          "new_line_content": "            s->ker[p] = av_calloc(s->uv_linesize[p] * s->pr_height[p], sizeof_ker);",
          "content_same": false
        },
        {
          "line": 3318,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    }",
          "new_line_content": "            return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 3323,
          "old_api": null,
          "new_api": "av_calloc",
          "old_text": null,
          "new_text": "av_calloc(s->pr_width[p] * s->pr_height[p], sizeof_mask)",
          "old_line_content": "        if (!s->mask)",
          "new_line_content": "            s->mask = av_calloc(s->pr_width[p] * s->pr_height[p], sizeof_mask);",
          "content_same": false
        },
        {
          "line": 3325,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    }",
          "new_line_content": "            return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 2816,
          "old_api": null,
          "new_api": "hypotf",
          "old_text": null,
          "new_text": "hypotf(uf, vf)",
          "old_line_content": "    const float lh    = h > 0.f ? h : 1.f;",
          "new_line_content": "    const float h     = hypotf(uf, vf);",
          "content_same": false
        },
        {
          "line": 3842,
          "old_api": null,
          "new_api": "av_assert0",
          "old_text": null,
          "new_text": "av_assert0(0)",
          "old_line_content": "    }",
          "new_line_content": "        av_assert0(0);",
          "content_same": false
        },
        {
          "line": 2821,
          "old_api": null,
          "new_api": "cosf",
          "old_text": null,
          "new_text": "cosf(theta)",
          "old_line_content": "",
          "new_line_content": "    const float cos_theta = cosf(theta);",
          "content_same": false
        },
        {
          "line": 3846,
          "old_api": null,
          "new_api": "set_dimensions",
          "old_text": null,
          "new_text": "set_dimensions(s->planewidth, s->planeheight, w, h, desc)",
          "old_line_content": "",
          "new_line_content": "    set_dimensions(s->planewidth, s->planeheight, w, h, desc);",
          "content_same": false
        },
        {
          "line": 3336,
          "old_api": null,
          "new_api": "hypotf",
          "old_text": null,
          "new_text": "hypotf(w, h)",
          "old_line_content": "",
          "new_line_content": "            const float d = 0.5f * hypotf(w, h);",
          "content_same": false
        },
        {
          "line": 3849,
          "old_api": null,
          "new_api": "FFALIGN",
          "old_text": null,
          "new_text": "FFALIGN(s->pr_width[i], 8)",
          "old_line_content": "",
          "new_line_content": "        s->uv_linesize[i] = FFALIGN(s->pr_width[i], 8);",
          "content_same": false
        },
        {
          "line": 2827,
          "old_api": null,
          "new_api": "normalize_vector",
          "old_text": null,
          "new_text": "normalize_vector(vec)",
          "old_line_content": "",
          "new_line_content": "    normalize_vector(vec);",
          "content_same": false
        },
        {
          "line": 3854,
          "old_api": null,
          "new_api": "av_pix_fmt_count_planes",
          "old_text": null,
          "new_text": "av_pix_fmt_count_planes(inlink->format)",
          "old_line_content": "    have_alpha   = !!(desc->flags & AV_PIX_FMT_FLAG_ALPHA);",
          "new_line_content": "    s->nb_planes = av_pix_fmt_count_planes(inlink->format);",
          "content_same": false
        },
        {
          "line": 3346,
          "old_api": null,
          "new_api": "hypotf",
          "old_text": null,
          "new_text": "hypotf(w, h)",
          "old_line_content": "",
          "new_line_content": "            const float d = hypotf(w, h);",
          "content_same": false
        },
        {
          "line": 3349,
          "old_api": null,
          "new_api": "atan2f",
          "old_text": null,
          "new_text": "atan2f(da * h, d)",
          "old_line_content": "",
          "new_line_content": "            *v_fov = atan2f(da * h, d) * 360.f / M_PI;",
          "content_same": false
        },
        {
          "line": 3867,
          "old_api": null,
          "new_api": "allocate_plane",
          "old_text": null,
          "new_text": "allocate_plane(s, sizeof_uv, sizeof_ker, sizeof_mask * have_alpha * s->alpha, i)",
          "old_line_content": "",
          "new_line_content": "        allocate_plane(s, sizeof_uv, sizeof_ker, sizeof_mask * have_alpha * s->alpha, i);",
          "content_same": false
        },
        {
          "line": 3870,
          "old_api": null,
          "new_api": "set_mirror_modifier",
          "old_text": null,
          "new_text": "set_mirror_modifier(s->h_flip, s->v_flip, s->d_flip, s->output_mirror_modifier)",
          "old_line_content": "",
          "new_line_content": "    set_mirror_modifier(s->h_flip, s->v_flip, s->d_flip, s->output_mirror_modifier);",
          "content_same": false
        },
        {
          "line": 3872,
          "old_api": null,
          "new_api": "ff_filter_get_nb_threads",
          "old_text": null,
          "new_text": "ff_filter_get_nb_threads(ctx)",
          "old_line_content": "",
          "new_line_content": "    ctx->internal->execute(ctx, v360_slice, NULL, NULL, FFMIN(outlink->h, ff_filter_get_nb_threads(ctx)));",
          "content_same": false
        },
        {
          "line": 3362,
          "old_api": null,
          "new_api": "FF_CEIL_RSHIFT",
          "old_text": null,
          "new_text": "FF_CEIL_RSHIFT(w, desc->log2_chroma_w)",
          "old_line_content": "    outw[0] = outw[3] = w;",
          "new_line_content": "    outw[1] = outw[2] = FF_CEIL_RSHIFT(w, desc->log2_chroma_w);",
          "content_same": false
        },
        {
          "line": 3364,
          "old_api": null,
          "new_api": "FF_CEIL_RSHIFT",
          "old_text": null,
          "new_text": "FF_CEIL_RSHIFT(h, desc->log2_chroma_h)",
          "old_line_content": "    outh[0] = outh[3] = h;",
          "new_line_content": "    outh[1] = outh[2] = FF_CEIL_RSHIFT(h, desc->log2_chroma_h);",
          "content_same": false
        },
        {
          "line": 2853,
          "old_api": null,
          "new_api": "hypotf",
          "old_text": null,
          "new_text": "hypotf(vec[0], vec[1])",
          "old_line_content": "    const float lh    = h > 0.f ? h : 1.f;",
          "new_line_content": "    const float h     = hypotf(vec[0], vec[1]);",
          "content_same": false
        },
        {
          "line": 2855,
          "old_api": null,
          "new_api": "fabsf",
          "old_text": null,
          "new_text": "fabsf(vec[2])",
          "old_line_content": "",
          "new_line_content": "    const float theta = acosf(fabsf(vec[2])) / M_PI;",
          "content_same": false
        },
        {
          "line": 3885,
          "old_api": null,
          "new_api": "ff_get_video_buffer",
          "old_text": null,
          "new_text": "ff_get_video_buffer(outlink, outlink->w, outlink->h)",
          "old_line_content": "    if (!out) {",
          "new_line_content": "    out = ff_get_video_buffer(outlink, outlink->w, outlink->h);",
          "content_same": false
        },
        {
          "line": 3888,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "    }",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 2866,
          "old_api": null,
          "new_api": "ceilf",
          "old_text": null,
          "new_text": "ceilf(ew)",
          "old_line_content": "        uf = ew - uf;",
          "new_line_content": "        u_shift = ceilf(ew);",
          "content_same": false
        },
        {
          "line": 3890,
          "old_api": null,
          "new_api": "av_frame_copy_props",
          "old_text": null,
          "new_text": "av_frame_copy_props(out, in)",
          "old_line_content": "",
          "new_line_content": "    av_frame_copy_props(out, in);",
          "content_same": false
        },
        {
          "line": 2871,
          "old_api": null,
          "new_api": "floorf",
          "old_text": null,
          "new_text": "floorf(vf)",
          "old_line_content": "",
          "new_line_content": "    vi = floorf(vf);",
          "content_same": false
        },
        {
          "line": 3895,
          "old_api": null,
          "new_api": "ff_filter_get_nb_threads",
          "old_text": null,
          "new_text": "ff_filter_get_nb_threads(ctx)",
          "old_line_content": "",
          "new_line_content": "    ctx->internal->execute(ctx, s->remap_slice, &td, NULL, FFMIN(outlink->h, ff_filter_get_nb_threads(ctx)));",
          "content_same": false
        },
        {
          "line": 3898,
          "old_api": null,
          "new_api": "ff_filter_frame",
          "old_text": null,
          "new_text": "ff_filter_frame(outlink, out)",
          "old_line_content": "}",
          "new_line_content": "    return ff_filter_frame(outlink, out);",
          "content_same": false
        },
        {
          "line": 2879,
          "old_api": null,
          "new_api": "av_clip",
          "old_text": null,
          "new_text": "av_clip(          vi + i - 1, 0, height - 1)",
          "old_line_content": "        }",
          "new_line_content": "            vs[i][j] = av_clip(          vi + i - 1, 0, height - 1);",
          "content_same": false
        },
        {
          "line": 3906,
          "old_api": null,
          "new_api": "ff_filter_process_command",
          "old_text": null,
          "new_text": "ff_filter_process_command(ctx, cmd, args, res, res_len, flags)",
          "old_line_content": "    if (ret < 0)",
          "new_line_content": "    ret = ff_filter_process_command(ctx, cmd, args, res, res_len, flags);",
          "content_same": false
        },
        {
          "line": 3396,
          "old_api": null,
          "new_api": "out_transform",
          "old_text": null,
          "new_text": "s->out_transform(s, j, i, height, width, vec)",
          "old_line_content": "                else",
          "new_line_content": "                    out_mask = s->out_transform(s, j, i, height, width, vec);",
          "content_same": false
        },
        {
          "line": 3910,
          "old_api": null,
          "new_api": "config_output",
          "old_text": null,
          "new_text": "config_output(ctx->outputs[0])",
          "old_line_content": "}",
          "new_line_content": "    return config_output(ctx->outputs[0]);",
          "content_same": false
        },
        {
          "line": 3403,
          "old_api": null,
          "new_api": "mirror",
          "old_text": null,
          "new_text": "mirror(s->output_mirror_modifier, vec)",
          "old_line_content": "                if (s->in_transpose)",
          "new_line_content": "                mirror(s->output_mirror_modifier, vec);",
          "content_same": false
        },
        {
          "line": 3405,
          "old_api": null,
          "new_api": "in_transform",
          "old_text": null,
          "new_text": "s->in_transform(s, vec, in_height, in_width, rmap.v, rmap.u, &du, &dv)",
          "old_line_content": "                else",
          "new_line_content": "                    in_mask = s->in_transform(s, vec, in_height, in_width, rmap.v, rmap.u, &du, &dv);",
          "content_same": false
        },
        {
          "line": 3920,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&s->ker[p])",
          "old_line_content": "    }",
          "new_line_content": "        av_freep(&s->ker[p]);",
          "content_same": false
        },
        {
          "line": 3409,
          "old_api": null,
          "new_api": "calculate_kernel",
          "old_text": null,
          "new_text": "s->calculate_kernel(du, dv, &rmap, u, v, ker)",
          "old_line_content": "",
          "new_line_content": "                s->calculate_kernel(du, dv, &rmap, u, v, ker);",
          "content_same": false
        },
        {
          "line": 3922,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&s->mask)",
          "old_line_content": "}",
          "new_line_content": "    av_freep(&s->mask);",
          "content_same": false
        },
        {
          "line": 2915,
          "old_api": null,
          "new_api": "cosf",
          "old_text": null,
          "new_text": "cosf(theta)",
          "old_line_content": "",
          "new_line_content": "        const float cos_theta = cosf(theta);",
          "content_same": false
        },
        {
          "line": 3430,
          "old_api": null,
          "new_api": "av_pix_fmt_desc_get",
          "old_text": null,
          "new_text": "av_pix_fmt_desc_get(inlink->format)",
          "old_line_content": "    const int depth = desc->comp[0].depth;",
          "new_line_content": "    const AVPixFmtDescriptor *desc = av_pix_fmt_desc_get(inlink->format);",
          "content_same": false
        },
        {
          "line": 3945,
          "old_api": null,
          "new_api": "NULL_IF_CONFIG_SMALL",
          "old_text": null,
          "new_text": "NULL_IF_CONFIG_SMALL(\"Convert 360 projection of video.\")",
          "old_line_content": "    .priv_size     = sizeof(V360Context),",
          "new_line_content": "    .description   = NULL_IF_CONFIG_SMALL(\"Convert 360 projection of video.\"),",
          "content_same": false
        },
        {
          "line": 3440,
          "old_api": null,
          "new_api": "int (*prepare_out)(AVFilterContext *ctx)",
          "old_text": null,
          "new_text": "int (*prepare_out)(AVFilterContext *ctx)",
          "old_line_content": "    int have_alpha;",
          "new_line_content": "    int (*prepare_out)(AVFilterContext *ctx);",
          "content_same": false
        },
        {
          "line": 2953,
          "old_api": null,
          "new_api": "normalize_vector",
          "old_text": null,
          "new_text": "normalize_vector(vec)",
          "old_line_content": "",
          "new_line_content": "    normalize_vector(vec);",
          "content_same": false
        },
        {
          "line": 2977,
          "old_api": null,
          "new_api": "asinf",
          "old_text": null,
          "new_text": "asinf(-vec[1])",
          "old_line_content": "    const float theta_range = M_PI_4;",
          "new_line_content": "    const float theta = asinf(-vec[1]) * s->input_mirror_modifier[1];",
          "content_same": false
        },
        {
          "line": 3491,
          "old_api": null,
          "new_api": "av_assert0",
          "old_text": null,
          "new_text": "av_assert0(0)",
          "old_line_content": "    }",
          "new_line_content": "        av_assert0(0);",
          "content_same": false
        },
        {
          "line": 3494,
          "old_api": null,
          "new_api": "ff_v360_init",
          "old_text": null,
          "new_text": "ff_v360_init(s, depth)",
          "old_line_content": "",
          "new_line_content": "    ff_v360_init(s, depth);",
          "content_same": false
        },
        {
          "line": 3501,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(ctx, AV_LOG_WARNING,\n                   \"Incomplete rorder option. Direction for all 3 rotation orders should be specified. Switching to default rorder.\\n\")",
          "old_line_content": "                   \"Incomplete rorder option. Direction for all 3 rotation orders should be specified. Switching to default rorder.\\n\");",
          "new_line_content": "            av_log(ctx, AV_LOG_WARNING,",
          "content_same": false
        },
        {
          "line": 3509,
          "old_api": null,
          "new_api": "get_rorder",
          "old_text": null,
          "new_text": "get_rorder(c)",
          "old_line_content": "        if (rorder == -1) {",
          "new_line_content": "        rorder = get_rorder(c);",
          "content_same": false
        },
        {
          "line": 3511,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(ctx, AV_LOG_WARNING,\n                   \"Incorrect rotation order symbol '%c' in rorder option. Switching to default rorder.\\n\", c)",
          "old_line_content": "                   \"Incorrect rotation order symbol '%c' in rorder option. Switching to default rorder.\\n\", c);",
          "new_line_content": "            av_log(ctx, AV_LOG_WARNING,",
          "content_same": false
        },
        {
          "line": 2489,
          "old_api": null,
          "new_api": "atan2f",
          "old_text": null,
          "new_text": "atan2f(h, -vec[2])",
          "old_line_content": "",
          "new_line_content": "    const float phi = atan2f(h, -vec[2]) / M_PI;",
          "content_same": false
        },
        {
          "line": 2494,
          "old_api": null,
          "new_api": "hypotf",
          "old_text": null,
          "new_text": "hypotf(uf, vf)",
          "old_line_content": "    int ui, vi;",
          "new_line_content": "    const int visible = hypotf(uf, vf) <= 0.5f;",
          "content_same": false
        },
        {
          "line": 2501,
          "old_api": null,
          "new_api": "floorf",
          "old_text": null,
          "new_text": "floorf(vf)",
          "old_line_content": "",
          "new_line_content": "    vi = floorf(vf);",
          "content_same": false
        },
        {
          "line": 3018,
          "old_api": null,
          "new_api": "floorf",
          "old_text": null,
          "new_text": "floorf(vf)",
          "old_line_content": "",
          "new_line_content": "    vi = floorf(vf);",
          "content_same": false
        },
        {
          "line": 2509,
          "old_api": null,
          "new_api": "av_clip",
          "old_text": null,
          "new_text": "av_clip(vi + i - 1, 0, height - 1)",
          "old_line_content": "        }",
          "new_line_content": "            vs[i][j] = visible ? av_clip(vi + i - 1, 0, height - 1) : 0;",
          "content_same": false
        },
        {
          "line": 3026,
          "old_api": null,
          "new_api": "av_clip",
          "old_text": null,
          "new_text": "av_clip(vi + i - 1, 0, eh - 1)",
          "old_line_content": "        }",
          "new_line_content": "            vs[i][j] = v_shift + av_clip(vi + i - 1, 0, eh - 1);",
          "content_same": false
        },
        {
          "line": 3541,
          "old_api": null,
          "new_api": "av_assert0",
          "old_text": null,
          "new_text": "av_assert0(0)",
          "old_line_content": "    }",
          "new_line_content": "        av_assert0(0);",
          "content_same": false
        },
        {
          "line": 3545,
          "old_api": null,
          "new_api": "set_dimensions",
          "old_text": null,
          "new_text": "set_dimensions(s->in_offset_w, s->in_offset_h, in_offset_w, in_offset_h, desc)",
          "old_line_content": "",
          "new_line_content": "    set_dimensions(s->in_offset_w, s->in_offset_h, in_offset_w, in_offset_h, desc);",
          "content_same": false
        },
        {
          "line": 3551,
          "old_api": null,
          "new_api": "fov_from_dfov",
          "old_text": null,
          "new_text": "fov_from_dfov(s->in, s->id_fov, w, h, &s->ih_fov, &s->iv_fov)",
          "old_line_content": "",
          "new_line_content": "        fov_from_dfov(s->in, s->id_fov, w, h, &s->ih_fov, &s->iv_fov);",
          "content_same": false
        },
        {
          "line": 3554,
          "old_api": null,
          "new_api": "FFSWAP",
          "old_text": null,
          "new_text": "FFSWAP(int, s->in_width, s->in_height)",
          "old_line_content": "",
          "new_line_content": "        FFSWAP(int, s->in_width, s->in_height);",
          "content_same": false
        },
        {
          "line": 2536,
          "old_api": null,
          "new_api": "sqrtf",
          "old_text": null,
          "new_text": "sqrtf(dscr)",
          "old_line_content": "    const float S = (d + 1.f) / (d + clon);",
          "new_line_content": "    const float clon = (-k * d + sqrtf(dscr)) / (k + 1.f);",
          "content_same": false
        },
        {
          "line": 3050,
          "old_api": null,
          "new_api": "asinf",
          "old_text": null,
          "new_text": "asinf(-vec[1])",
          "old_line_content": "",
          "new_line_content": "    const float theta = asinf(-vec[1]) * s->input_mirror_modifier[1];",
          "content_same": false
        },
        {
          "line": 2539,
          "old_api": null,
          "new_api": "atan2f",
          "old_text": null,
          "new_text": "atan2f(vf, S)",
          "old_line_content": "",
          "new_line_content": "    const float lat = -atan2f(vf, S);",
          "content_same": false
        },
        {
          "line": 3565,
          "old_api": null,
          "new_api": "prepare_cube_in",
          "old_text": null,
          "new_text": "prepare_cube_in(ctx)",
          "old_line_content": "        wf = w / 3.f * 4.f;",
          "new_line_content": "        err = prepare_cube_in(ctx);",
          "content_same": false
        },
        {
          "line": 2543,
          "old_api": null,
          "new_api": "cosf",
          "old_text": null,
          "new_text": "cosf(lat)",
          "old_line_content": "",
          "new_line_content": "    vec[2] = cosf(lon) * cosf(lat);",
          "content_same": false
        },
        {
          "line": 2545,
          "old_api": null,
          "new_api": "normalize_vector",
          "old_text": null,
          "new_text": "normalize_vector(vec)",
          "old_line_content": "",
          "new_line_content": "    normalize_vector(vec);",
          "content_same": false
        },
        {
          "line": 3571,
          "old_api": null,
          "new_api": "prepare_cube_in",
          "old_text": null,
          "new_text": "prepare_cube_in(ctx)",
          "old_line_content": "        wf = w * 4.f;",
          "new_line_content": "        err = prepare_cube_in(ctx);",
          "content_same": false
        },
        {
          "line": 3577,
          "old_api": null,
          "new_api": "prepare_cube_in",
          "old_text": null,
          "new_text": "prepare_cube_in(ctx)",
          "old_line_content": "        wf = w / 3.f * 2.f;",
          "new_line_content": "        err = prepare_cube_in(ctx);",
          "content_same": false
        },
        {
          "line": 3069,
          "old_api": null,
          "new_api": "fmodf",
          "old_text": null,
          "new_text": "fmodf(phi, M_PI_2)",
          "old_line_content": "        vf = theta / M_PI_4;",
          "new_line_content": "        uf = fmodf(phi, M_PI_2) / M_PI_2;",
          "content_same": false
        },
        {
          "line": 3583,
          "old_api": null,
          "new_api": "prepare_eac_in",
          "old_text": null,
          "new_text": "prepare_eac_in(ctx)",
          "old_line_content": "        wf = w;",
          "new_line_content": "        err = prepare_eac_in(ctx);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 3072,
          "old_api": "fmodf",
          "new_api": null,
          "old_text": "fmodf(uf + 1.f, 1.f)",
          "new_text": null,
          "old_line_content": "            uf = uf >= 0.f ? fmodf(uf - 1.f, 1.f) : fmodf(uf + 1.f, 1.f);",
          "new_line_content": "        if (v_shift)",
          "content_same": false
        },
        {
          "line": 2561,
          "old_api": "tanf",
          "new_api": null,
          "old_text": "tanf(0.5f * s->v_fov * M_PI / 180.f)",
          "new_text": null,
          "old_line_content": "    s->flat_range[1] = tanf(0.5f * s->v_fov * M_PI / 180.f);",
          "new_line_content": "    s->flat_range[0] = M_PI * s->h_fov / 360.f;",
          "content_same": false
        },
        {
          "line": 3588,
          "old_api": "prepare_flat_in",
          "new_api": null,
          "old_text": "prepare_flat_in(ctx)",
          "new_text": null,
          "old_line_content": "        err = prepare_flat_in(ctx);",
          "new_line_content": "        s->in_transform = xyz_to_flat;",
          "content_same": false
        },
        {
          "line": 3594,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(ctx, AV_LOG_ERROR, \"Supplied format is not accepted as input.\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(ctx, AV_LOG_ERROR, \"Supplied format is not accepted as input.\\n\");",
          "new_line_content": "    case PANNINI:",
          "content_same": false
        },
        {
          "line": 2584,
          "old_api": "atanf",
          "new_api": null,
          "old_text": "atanf(vf)",
          "new_text": null,
          "old_line_content": "    const float theta = atanf(vf);",
          "new_line_content": "    const float phi   = uf;",
          "content_same": false
        },
        {
          "line": 2586,
          "old_api": "sinf",
          "new_api": null,
          "old_text": "sinf(phi)",
          "new_text": null,
          "old_line_content": "    const float sin_phi   = sinf(phi);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3610,
          "old_api": "prepare_stereographic_in",
          "new_api": null,
          "old_text": "prepare_stereographic_in(ctx)",
          "new_text": null,
          "old_line_content": "        err = prepare_stereographic_in(ctx);",
          "new_line_content": "        s->in_transform = xyz_to_stereographic;",
          "content_same": false
        },
        {
          "line": 2595,
          "old_api": "normalize_vector",
          "new_api": null,
          "old_text": "normalize_vector(vec)",
          "new_text": null,
          "old_line_content": "    normalize_vector(vec);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3115,
          "old_api": "floorf",
          "new_api": null,
          "old_text": "floorf(uf)",
          "new_text": null,
          "old_line_content": "    ui = floorf(uf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3123,
          "old_api": "av_clip",
          "new_api": null,
          "old_text": "av_clip(ui + j - 1, 0, ew - 1)",
          "new_text": null,
          "old_line_content": "            us[i][j] = u_shift + av_clip(ui + j - 1, 0, ew - 1);",
          "new_line_content": "        for (int j = 0; j < 4; j++) {",
          "content_same": false
        },
        {
          "line": 2612,
          "old_api": "tanf",
          "new_api": null,
          "old_text": "tanf(0.5f * s->iv_fov * M_PI / 180.f)",
          "new_text": null,
          "old_line_content": "    s->iflat_range[1] = tanf(0.5f * s->iv_fov * M_PI / 180.f);",
          "new_line_content": "    s->iflat_range[0] = M_PI * s->ih_fov / 360.f;",
          "content_same": false
        },
        {
          "line": 3640,
          "old_api": "prepare_fisheye_in",
          "new_api": null,
          "old_text": "prepare_fisheye_in(ctx)",
          "new_text": null,
          "old_line_content": "        err = prepare_fisheye_in(ctx);",
          "new_line_content": "        s->in_transform = xyz_to_fisheye;",
          "content_same": false
        },
        {
          "line": 3646,
          "old_api": "prepare_cylindrical_in",
          "new_api": null,
          "old_text": "prepare_cylindrical_in(ctx)",
          "new_text": null,
          "old_line_content": "        err = prepare_cylindrical_in(ctx);",
          "new_line_content": "        s->in_transform = xyz_to_cylindrical;",
          "content_same": false
        },
        {
          "line": 2633,
          "old_api": "atan2f",
          "new_api": null,
          "old_text": "atan2f(vec[0], -vec[2])",
          "new_text": null,
          "old_line_content": "    const float phi   = atan2f(vec[0], -vec[2]) * s->input_mirror_modifier[0] / s->iflat_range[0];",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2639,
          "old_api": "tanf",
          "new_api": null,
          "old_text": "tanf(theta)",
          "new_text": null,
          "old_line_content": "    vf = (tanf(theta) + 1.f) * height / 2.f;",
          "new_line_content": "    uf = (phi + 1.f) * (width - 1) / 2.f;",
          "content_same": false
        },
        {
          "line": 3663,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(ctx, AV_LOG_ERROR, \"Specified input format is not handled.\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(ctx, AV_LOG_ERROR, \"Specified input format is not handled.\\n\");",
          "new_line_content": "    default:",
          "content_same": false
        },
        {
          "line": 3153,
          "old_api": "floorf",
          "new_api": null,
          "old_text": "floorf(y * 2.f)",
          "new_text": null,
          "old_line_content": "        const float back = floorf(y * 2.f);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3158,
          "old_api": "sinf",
          "new_api": null,
          "old_text": "sinf(phi)",
          "new_text": null,
          "old_line_content": "        const float sin_phi   = sinf(phi);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3675,
          "old_api": "lrintf",
          "new_api": null,
          "old_text": "lrintf(wf)",
          "new_text": null,
          "old_line_content": "        w = lrintf(wf);",
          "new_line_content": "        prepare_out = NULL;",
          "content_same": false
        },
        {
          "line": 2652,
          "old_api": "av_clip",
          "new_api": null,
          "old_text": "av_clip(ui + j - 1, 0, width  - 1)",
          "new_text": null,
          "old_line_content": "            us[i][j] = visible ? av_clip(ui + j - 1, 0, width  - 1) : 0;",
          "new_line_content": "        for (int j = 0; j < 4; j++) {",
          "content_same": false
        },
        {
          "line": 3681,
          "old_api": "lrintf",
          "new_api": null,
          "old_text": "lrintf(wf / 4.f * 3.f)",
          "new_text": null,
          "old_line_content": "        w = lrintf(wf / 4.f * 3.f);",
          "new_line_content": "        prepare_out = prepare_cube_out;",
          "content_same": false
        },
        {
          "line": 3170,
          "old_api": "floorf",
          "new_api": null,
          "old_text": "floorf(y * 4.f)",
          "new_text": null,
          "old_line_content": "        const int face = floorf(y * 4.f);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3687,
          "old_api": "lrintf",
          "new_api": null,
          "old_text": "lrintf(wf / 4.f)",
          "new_text": null,
          "old_line_content": "        w = lrintf(wf / 4.f);",
          "new_line_content": "        prepare_out = prepare_cube_out;",
          "content_same": false
        },
        {
          "line": 3693,
          "old_api": "lrintf",
          "new_api": null,
          "old_text": "lrintf(wf / 2.f * 3.f)",
          "new_text": null,
          "old_line_content": "        w = lrintf(wf / 2.f * 3.f);",
          "new_line_content": "        prepare_out = prepare_cube_out;",
          "content_same": false
        },
        {
          "line": 3699,
          "old_api": "lrintf",
          "new_api": null,
          "old_text": "lrintf(wf)",
          "new_text": null,
          "old_line_content": "        w = lrintf(wf);",
          "new_line_content": "        prepare_out = prepare_eac_out;",
          "content_same": false
        },
        {
          "line": 2676,
          "old_api": "hypotf",
          "new_api": null,
          "old_text": "hypotf(uf, vf)",
          "new_text": null,
          "old_line_content": "    const float rh = hypotf(uf, vf);",
          "new_line_content": "    const float vf = ((2.f * j + 1.f) / height - 1.f);",
          "content_same": false
        },
        {
          "line": 2679,
          "old_api": "sqrtf",
          "new_api": null,
          "old_text": "sqrtf(sinzz)",
          "new_text": null,
          "old_line_content": "    const float sinz = (h - sqrtf(sinzz)) / (h / rh + rh / h);",
          "new_line_content": "    const float h = 1.f + s->v_fov;",
          "content_same": false
        },
        {
          "line": 3705,
          "old_api": "lrintf",
          "new_api": null,
          "old_text": "lrintf(wf)",
          "new_text": null,
          "old_line_content": "        w = lrintf(wf);",
          "new_line_content": "        prepare_out = prepare_flat_out;",
          "content_same": false
        },
        {
          "line": 2683,
          "old_api": "sqrtf",
          "new_api": null,
          "old_text": "sqrtf(1.f - sinz2)",
          "new_text": null,
          "old_line_content": "        const float cosz = sqrtf(1.f - sinz2);",
          "new_line_content": "    if (sinz2 <= 1.f) {",
          "content_same": false
        },
        {
          "line": 2685,
          "old_api": "asinf",
          "new_api": null,
          "old_text": "asinf(cosz)",
          "new_text": null,
          "old_line_content": "        const float theta = asinf(cosz);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3711,
          "old_api": "lrintf",
          "new_api": null,
          "old_text": "lrintf(wf)",
          "new_text": null,
          "old_line_content": "        w = lrintf(wf);",
          "new_line_content": "        prepare_out = NULL;",
          "content_same": false
        },
        {
          "line": 2688,
          "old_api": "sinf",
          "new_api": null,
          "old_text": "sinf(phi)",
          "new_text": null,
          "old_line_content": "        const float sin_phi   = sinf(phi);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3717,
          "old_api": "lrintf",
          "new_api": null,
          "old_text": "lrintf(wf / 4.f * 5.f)",
          "new_text": null,
          "old_line_content": "        w = lrintf(wf / 4.f * 5.f);",
          "new_line_content": "        prepare_out = NULL;",
          "content_same": false
        },
        {
          "line": 3723,
          "old_api": "lrintf",
          "new_api": null,
          "old_text": "lrintf(wf)",
          "new_text": null,
          "old_line_content": "        w = lrintf(wf);",
          "new_line_content": "        prepare_out = prepare_stereographic_out;",
          "content_same": false
        },
        {
          "line": 2703,
          "old_api": "normalize_vector",
          "new_api": null,
          "old_text": "normalize_vector(vec)",
          "new_text": null,
          "old_line_content": "    normalize_vector(vec);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3216,
          "old_api": "normalize_vector",
          "new_api": null,
          "old_text": "normalize_vector(vec)",
          "new_text": null,
          "old_line_content": "    normalize_vector(vec);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3729,
          "old_api": "lrintf",
          "new_api": null,
          "old_text": "lrintf(wf)",
          "new_text": null,
          "old_line_content": "        w = lrintf(wf);",
          "new_line_content": "        prepare_out = NULL;",
          "content_same": false
        },
        {
          "line": 3735,
          "old_api": "lrintf",
          "new_api": null,
          "old_text": "lrintf(wf)",
          "new_text": null,
          "old_line_content": "        w = lrintf(wf);",
          "new_line_content": "        prepare_out = NULL;",
          "content_same": false
        },
        {
          "line": 3741,
          "old_api": "lrintf",
          "new_api": null,
          "old_text": "lrintf(wf)",
          "new_text": null,
          "old_line_content": "        w = lrintf(wf);",
          "new_line_content": "        prepare_out = NULL;",
          "content_same": false
        },
        {
          "line": 3747,
          "old_api": "lrintf",
          "new_api": null,
          "old_text": "lrintf(wf)",
          "new_text": null,
          "old_line_content": "        w = lrintf(wf);",
          "new_line_content": "        prepare_out = NULL;",
          "content_same": false
        },
        {
          "line": 2726,
          "old_api": "fabsf",
          "new_api": null,
          "old_text": "fabsf(1.f - uf * 2.f + vf)",
          "new_text": null,
          "old_line_content": "    vec[2] = 2.f * fabsf(1.f - fabsf(1.f - uf * 2.f + vf)) - 1.f;",
          "new_line_content": "    vec[1] = 1.f - vf * 2.f;",
          "content_same": false
        },
        {
          "line": 2728,
          "old_api": "normalize_vector",
          "new_api": null,
          "old_text": "normalize_vector(vec)",
          "new_text": null,
          "old_line_content": "    normalize_vector(vec);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3753,
          "old_api": "lrintf",
          "new_api": null,
          "old_text": "lrintf(wf * 0.5f)",
          "new_text": null,
          "old_line_content": "        w = lrintf(wf * 0.5f);",
          "new_line_content": "        prepare_out = prepare_fisheye_out;",
          "content_same": false
        },
        {
          "line": 3246,
          "old_api": "sinf",
          "new_api": null,
          "old_text": "sinf(-yaw_rad)",
          "new_text": null,
          "old_line_content": "    const float sin_yaw   = sinf(-yaw_rad);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3759,
          "old_api": "lrintf",
          "new_api": null,
          "old_text": "lrintf(wf)",
          "new_text": null,
          "old_line_content": "        w = lrintf(wf);",
          "new_line_content": "        prepare_out = NULL;",
          "content_same": false
        },
        {
          "line": 3765,
          "old_api": "lrintf",
          "new_api": null,
          "old_text": "lrintf(wf)",
          "new_text": null,
          "old_line_content": "        w = lrintf(wf);",
          "new_line_content": "        prepare_out = prepare_cylindrical_out;",
          "content_same": false
        },
        {
          "line": 3771,
          "old_api": "lrintf",
          "new_api": null,
          "old_text": "lrintf(wf / 2.f)",
          "new_text": null,
          "old_line_content": "        w = lrintf(wf / 2.f);",
          "new_line_content": "        prepare_out = NULL;",
          "content_same": false
        },
        {
          "line": 2753,
          "old_api": "FFMAX3",
          "new_api": null,
          "old_text": "FFMAX3(d1, d2, d3)",
          "new_text": null,
          "old_line_content": "    const float d = FFMAX(d0, FFMAX3(d1, d2, d3));",
          "new_line_content": "    const float d3 = vec[0] *-1.f + vec[1] * 1.f + vec[2] * 1.f;",
          "content_same": false
        },
        {
          "line": 3777,
          "old_api": "lrintf",
          "new_api": null,
          "old_text": "lrintf(wf)",
          "new_text": null,
          "old_line_content": "        w = lrintf(wf);",
          "new_line_content": "        prepare_out = NULL;",
          "content_same": false
        },
        {
          "line": 3268,
          "old_api": "multiply_matrix",
          "new_api": null,
          "old_text": "multiply_matrix(temp, m[rotation_order[0]], m[rotation_order[1]])",
          "new_text": null,
          "old_line_content": "    multiply_matrix(temp, m[rotation_order[0]], m[rotation_order[1]]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3783,
          "old_api": "lrintf",
          "new_api": null,
          "old_text": "lrintf(wf / 4.f * 3.f)",
          "new_text": null,
          "old_line_content": "        w = lrintf(wf / 4.f * 3.f);",
          "new_line_content": "        prepare_out = NULL;",
          "content_same": false
        },
        {
          "line": 3787,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(ctx, AV_LOG_ERROR, \"Specified output format is not handled.\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(ctx, AV_LOG_ERROR, \"Specified output format is not handled.\\n\");",
          "new_line_content": "    default:",
          "content_same": false
        },
        {
          "line": 3796,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(ctx, AV_LOG_ERROR, \"Both width and height values should be specified.\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(ctx, AV_LOG_ERROR, \"Both width and height values should be specified.\\n\");",
          "new_line_content": "    } else if (s->width > 0 || s->height > 0) {",
          "content_same": false
        },
        {
          "line": 2774,
          "old_api": "floorf",
          "new_api": null,
          "old_text": "floorf(uf)",
          "new_text": null,
          "old_line_content": "    ui = floorf(uf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3800,
          "old_api": "FFSWAP",
          "new_api": null,
          "old_text": "FFSWAP(int, w, h)",
          "new_text": null,
          "old_line_content": "            FFSWAP(int, w, h);",
          "new_line_content": "        if (s->out_transpose)",
          "content_same": false
        },
        {
          "line": 3803,
          "old_api": "FFSWAP",
          "new_api": null,
          "old_text": "FFSWAP(int, w, h)",
          "new_text": null,
          "old_line_content": "            FFSWAP(int, w, h);",
          "new_line_content": "        if (s->in_transpose)",
          "content_same": false
        },
        {
          "line": 2782,
          "old_api": "reflectx",
          "new_api": null,
          "old_text": "reflectx(ui + j - 1, vi + i - 1, width, height)",
          "new_text": null,
          "old_line_content": "            us[i][j] = reflectx(ui + j - 1, vi + i - 1, width, height);",
          "new_line_content": "        for (int j = 0; j < 4; j++) {",
          "content_same": false
        },
        {
          "line": 3810,
          "old_api": "fov_from_dfov",
          "new_api": null,
          "old_text": "fov_from_dfov(s->out, s->d_fov, w, h, &s->h_fov, &s->v_fov)",
          "new_text": null,
          "old_line_content": "        fov_from_dfov(s->out, s->d_fov, w, h, &s->h_fov, &s->v_fov);",
          "new_line_content": "    if (s->d_fov > 0.f)",
          "content_same": false
        },
        {
          "line": 3813,
          "old_api": "prepare_out",
          "new_api": null,
          "old_text": "prepare_out(ctx)",
          "new_text": null,
          "old_line_content": "        err = prepare_out(ctx);",
          "new_line_content": "    if (prepare_out) {",
          "content_same": false
        },
        {
          "line": 3818,
          "old_api": "set_dimensions",
          "new_api": null,
          "old_text": "set_dimensions(s->pr_width, s->pr_height, w, h, desc)",
          "new_text": null,
          "old_line_content": "    set_dimensions(s->pr_width, s->pr_height, w, h, desc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3308,
          "old_api": "av_calloc",
          "new_api": null,
          "old_text": "av_calloc(s->uv_linesize[p] * s->pr_height[p], sizeof_uv)",
          "new_text": null,
          "old_line_content": "        s->u[p] = av_calloc(s->uv_linesize[p] * s->pr_height[p], sizeof_uv);",
          "new_line_content": "    if (!s->u[p])",
          "content_same": false
        },
        {
          "line": 3310,
          "old_api": "av_calloc",
          "new_api": null,
          "old_text": "av_calloc(s->uv_linesize[p] * s->pr_height[p], sizeof_uv)",
          "new_text": null,
          "old_line_content": "        s->v[p] = av_calloc(s->uv_linesize[p] * s->pr_height[p], sizeof_uv);",
          "new_line_content": "    if (!s->v[p])",
          "content_same": false
        },
        {
          "line": 3312,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "    if (!s->u[p] || !s->v[p])",
          "content_same": false
        },
        {
          "line": 3824,
          "old_api": "FFSWAP",
          "new_api": null,
          "old_text": "FFSWAP(int, s->out_width, s->out_height)",
          "new_text": null,
          "old_line_content": "        FFSWAP(int, s->out_width, s->out_height);",
          "new_line_content": "    if (s->out_transpose)",
          "content_same": false
        },
        {
          "line": 3315,
          "old_api": "av_calloc",
          "new_api": null,
          "old_text": "av_calloc(s->uv_linesize[p] * s->pr_height[p], sizeof_ker)",
          "new_text": null,
          "old_line_content": "            s->ker[p] = av_calloc(s->uv_linesize[p] * s->pr_height[p], sizeof_ker);",
          "new_line_content": "        if (!s->ker[p])",
          "content_same": false
        },
        {
          "line": 3317,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "            return AVERROR(ENOMEM);",
          "new_line_content": "        if (!s->ker[p])",
          "content_same": false
        },
        {
          "line": 3322,
          "old_api": "av_calloc",
          "new_api": null,
          "old_text": "av_calloc(s->pr_width[p] * s->pr_height[p], sizeof_mask)",
          "new_text": null,
          "old_line_content": "            s->mask = av_calloc(s->pr_width[p] * s->pr_height[p], sizeof_mask);",
          "new_line_content": "        if (!s->mask)",
          "content_same": false
        },
        {
          "line": 3324,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "            return AVERROR(ENOMEM);",
          "new_line_content": "        if (!s->mask)",
          "content_same": false
        },
        {
          "line": 2815,
          "old_api": "hypotf",
          "new_api": null,
          "old_text": "hypotf(uf, vf)",
          "new_text": null,
          "old_line_content": "    const float h     = hypotf(uf, vf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3841,
          "old_api": "av_assert0",
          "new_api": null,
          "old_text": "av_assert0(0)",
          "new_text": null,
          "old_line_content": "        av_assert0(0);",
          "new_line_content": "    default:",
          "content_same": false
        },
        {
          "line": 2819,
          "old_api": "sinf",
          "new_api": null,
          "old_text": "sinf(theta)",
          "new_text": null,
          "old_line_content": "    const float sin_theta = sinf(theta);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3844,
          "old_api": "set_dimensions",
          "new_api": null,
          "old_text": "set_dimensions(s->out_offset_w, s->out_offset_h, out_offset_w, out_offset_h, desc)",
          "new_text": null,
          "old_line_content": "    set_dimensions(s->out_offset_w, s->out_offset_h, out_offset_w, out_offset_h, desc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3335,
          "old_api": "hypotf",
          "new_api": null,
          "old_text": "hypotf(w, h)",
          "new_text": null,
          "old_line_content": "            const float d = 0.5f * hypotf(w, h);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 3848,
          "old_api": "FFALIGN",
          "new_api": null,
          "old_text": "FFALIGN(s->pr_width[i], 8)",
          "new_text": null,
          "old_line_content": "        s->uv_linesize[i] = FFALIGN(s->pr_width[i], 8);",
          "new_line_content": "    for (int i = 0; i < 4; i++)",
          "content_same": false
        },
        {
          "line": 2826,
          "old_api": "normalize_vector",
          "new_api": null,
          "old_text": "normalize_vector(vec)",
          "new_text": null,
          "old_line_content": "    normalize_vector(vec);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3853,
          "old_api": "av_pix_fmt_count_planes",
          "new_api": null,
          "old_text": "av_pix_fmt_count_planes(inlink->format)",
          "new_text": null,
          "old_line_content": "    s->nb_planes = av_pix_fmt_count_planes(inlink->format);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3344,
          "old_api": "FFMIN",
          "new_api": null,
          "old_text": "FFMIN(d_fov, 359.f)",
          "new_text": null,
          "old_line_content": "            const float da = tanf(0.5 * FFMIN(d_fov, 359.f) * M_PI / 180.f);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 3347,
          "old_api": "atan2f",
          "new_api": null,
          "old_text": "atan2f(da * w, d)",
          "new_text": null,
          "old_line_content": "            *h_fov = atan2f(da * w, d) * 360.f / M_PI;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3866,
          "old_api": "allocate_plane",
          "new_api": null,
          "old_text": "allocate_plane(s, sizeof_uv, sizeof_ker, sizeof_mask * have_alpha * s->alpha, i)",
          "new_text": null,
          "old_line_content": "        allocate_plane(s, sizeof_uv, sizeof_ker, sizeof_mask * have_alpha * s->alpha, i);",
          "new_line_content": "    for (int i = 0; i < s->nb_allocated; i++)",
          "content_same": false
        },
        {
          "line": 3868,
          "old_api": "calculate_rotation_matrix",
          "new_api": null,
          "old_text": "calculate_rotation_matrix(s->yaw, s->pitch, s->roll, s->rot_mat, s->rotation_order)",
          "new_text": null,
          "old_line_content": "    calculate_rotation_matrix(s->yaw, s->pitch, s->roll, s->rot_mat, s->rotation_order);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3871,
          "old_api": "ff_filter_get_nb_threads",
          "new_api": null,
          "old_text": "ff_filter_get_nb_threads(ctx)",
          "new_text": null,
          "old_line_content": "    ctx->internal->execute(ctx, v360_slice, NULL, NULL, FFMIN(outlink->h, ff_filter_get_nb_threads(ctx)));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3361,
          "old_api": "FF_CEIL_RSHIFT",
          "new_api": null,
          "old_text": "FF_CEIL_RSHIFT(w, desc->log2_chroma_w)",
          "new_text": null,
          "old_line_content": "    outw[1] = outw[2] = FF_CEIL_RSHIFT(w, desc->log2_chroma_w);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3363,
          "old_api": "FF_CEIL_RSHIFT",
          "new_api": null,
          "old_text": "FF_CEIL_RSHIFT(h, desc->log2_chroma_h)",
          "new_text": null,
          "old_line_content": "    outh[1] = outh[2] = FF_CEIL_RSHIFT(h, desc->log2_chroma_h);",
          "new_line_content": "    outw[0] = outw[3] = w;",
          "content_same": false
        },
        {
          "line": 2852,
          "old_api": "hypotf",
          "new_api": null,
          "old_text": "hypotf(vec[0], vec[1])",
          "new_text": null,
          "old_line_content": "    const float h     = hypotf(vec[0], vec[1]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2854,
          "old_api": "fabsf",
          "new_api": null,
          "old_text": "fabsf(vec[2])",
          "new_text": null,
          "old_line_content": "    const float theta = acosf(fabsf(vec[2])) / M_PI;",
          "new_line_content": "    const float lh    = h > 0.f ? h : 1.f;",
          "content_same": false
        },
        {
          "line": 3884,
          "old_api": "ff_get_video_buffer",
          "new_api": null,
          "old_text": "ff_get_video_buffer(outlink, outlink->w, outlink->h)",
          "new_text": null,
          "old_line_content": "    out = ff_get_video_buffer(outlink, outlink->w, outlink->h);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3886,
          "old_api": "av_frame_free",
          "new_api": null,
          "old_text": "av_frame_free(&in)",
          "new_text": null,
          "old_line_content": "        av_frame_free(&in);",
          "new_line_content": "    if (!out) {",
          "content_same": false
        },
        {
          "line": 2865,
          "old_api": "ceilf",
          "new_api": null,
          "old_text": "ceilf(ew)",
          "new_text": null,
          "old_line_content": "        u_shift = ceilf(ew);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 3889,
          "old_api": "av_frame_copy_props",
          "new_api": null,
          "old_text": "av_frame_copy_props(out, in)",
          "new_text": null,
          "old_line_content": "    av_frame_copy_props(out, in);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2869,
          "old_api": "floorf",
          "new_api": null,
          "old_text": "floorf(uf)",
          "new_text": null,
          "old_line_content": "    ui = floorf(uf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3894,
          "old_api": "ff_filter_get_nb_threads",
          "new_api": null,
          "old_text": "ff_filter_get_nb_threads(ctx)",
          "new_text": null,
          "old_line_content": "    ctx->internal->execute(ctx, s->remap_slice, &td, NULL, FFMIN(outlink->h, ff_filter_get_nb_threads(ctx)));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3896,
          "old_api": "av_frame_free",
          "new_api": null,
          "old_text": "av_frame_free(&in)",
          "new_text": null,
          "old_line_content": "    av_frame_free(&in);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2877,
          "old_api": "av_clip",
          "new_api": null,
          "old_text": "av_clip(u_shift + ui + j - 1, 0, width  - 1)",
          "new_text": null,
          "old_line_content": "            us[i][j] = av_clip(u_shift + ui + j - 1, 0, width  - 1);",
          "new_line_content": "        for (int j = 0; j < 4; j++) {",
          "content_same": false
        },
        {
          "line": 3905,
          "old_api": "ff_filter_process_command",
          "new_api": null,
          "old_text": "ff_filter_process_command(ctx, cmd, args, res, res_len, flags)",
          "new_text": null,
          "old_line_content": "    ret = ff_filter_process_command(ctx, cmd, args, res, res_len, flags);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3395,
          "old_api": "out_transform",
          "new_api": null,
          "old_text": "s->out_transform(s, j, i, height, width, vec)",
          "new_text": null,
          "old_line_content": "                    out_mask = s->out_transform(s, j, i, height, width, vec);",
          "new_line_content": "                if (s->out_transpose)",
          "content_same": false
        },
        {
          "line": 3397,
          "old_api": "out_transform",
          "new_api": null,
          "old_text": "s->out_transform(s, i, j, width, height, vec)",
          "new_text": null,
          "old_line_content": "                    out_mask = s->out_transform(s, i, j, width, height, vec);",
          "new_line_content": "                else",
          "content_same": false
        },
        {
          "line": 3909,
          "old_api": "config_output",
          "new_api": null,
          "old_text": "config_output(ctx->outputs[0])",
          "new_text": null,
          "old_line_content": "    return config_output(ctx->outputs[0]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3404,
          "old_api": "in_transform",
          "new_api": null,
          "old_text": "s->in_transform(s, vec, in_height, in_width, rmap.v, rmap.u, &du, &dv)",
          "new_text": null,
          "old_line_content": "                    in_mask = s->in_transform(s, vec, in_height, in_width, rmap.v, rmap.u, &du, &dv);",
          "new_line_content": "                if (s->in_transpose)",
          "content_same": false
        },
        {
          "line": 3917,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&s->u[p])",
          "new_text": null,
          "old_line_content": "        av_freep(&s->u[p]);",
          "new_line_content": "    for (int p = 0; p < s->nb_allocated; p++) {",
          "content_same": false
        },
        {
          "line": 3406,
          "old_api": "in_transform",
          "new_api": null,
          "old_text": "s->in_transform(s, vec, in_width, in_height, rmap.u, rmap.v, &du, &dv)",
          "new_text": null,
          "old_line_content": "                    in_mask = s->in_transform(s, vec, in_width, in_height, rmap.u, rmap.v, &du, &dv);",
          "new_line_content": "                else",
          "content_same": false
        },
        {
          "line": 3921,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&s->mask)",
          "new_text": null,
          "old_line_content": "    av_freep(&s->mask);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2911,
          "old_api": "sinf",
          "new_api": null,
          "old_text": "sinf(phi)",
          "new_text": null,
          "old_line_content": "        const float sin_phi   = sinf(phi);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3429,
          "old_api": "av_pix_fmt_desc_get",
          "new_api": null,
          "old_text": "av_pix_fmt_desc_get(inlink->format)",
          "new_text": null,
          "old_line_content": "    const AVPixFmtDescriptor *desc = av_pix_fmt_desc_get(inlink->format);",
          "new_line_content": "    V360Context *s = ctx->priv;",
          "content_same": false
        },
        {
          "line": 3944,
          "old_api": "NULL_IF_CONFIG_SMALL",
          "new_api": null,
          "old_text": "NULL_IF_CONFIG_SMALL(\"Convert 360 projection of video.\")",
          "new_text": null,
          "old_line_content": "    .description   = NULL_IF_CONFIG_SMALL(\"Convert 360 projection of video.\"),",
          "new_line_content": "    .name          = \"v360\",",
          "content_same": false
        },
        {
          "line": 3439,
          "old_api": "int (*prepare_out)(AVFilterContext *ctx)",
          "new_api": null,
          "old_text": "int (*prepare_out)(AVFilterContext *ctx)",
          "new_text": null,
          "old_line_content": "    int (*prepare_out)(AVFilterContext *ctx);",
          "new_line_content": "    float hf, wf;",
          "content_same": false
        },
        {
          "line": 2952,
          "old_api": "normalize_vector",
          "new_api": null,
          "old_text": "normalize_vector(vec)",
          "new_text": null,
          "old_line_content": "    normalize_vector(vec);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2975,
          "old_api": "atan2f",
          "new_api": null,
          "old_text": "atan2f(vec[0], -vec[2])",
          "new_text": null,
          "old_line_content": "    const float phi   = atan2f(vec[0], -vec[2]) * s->input_mirror_modifier[0];",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3490,
          "old_api": "av_assert0",
          "new_api": null,
          "old_text": "av_assert0(0)",
          "new_text": null,
          "old_line_content": "        av_assert0(0);",
          "new_line_content": "    default:",
          "content_same": false
        },
        {
          "line": 3493,
          "old_api": "ff_v360_init",
          "new_api": null,
          "old_text": "ff_v360_init(s, depth)",
          "new_text": null,
          "old_line_content": "    ff_v360_init(s, depth);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3500,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(ctx, AV_LOG_WARNING,\n                   \"Incomplete rorder option. Direction for all 3 rotation orders should be specified. Switching to default rorder.\\n\")",
          "new_text": null,
          "old_line_content": "            av_log(ctx, AV_LOG_WARNING,",
          "new_line_content": "        if (c == '\\0') {",
          "content_same": false
        },
        {
          "line": 3508,
          "old_api": "get_rorder",
          "new_api": null,
          "old_text": "get_rorder(c)",
          "new_text": null,
          "old_line_content": "        rorder = get_rorder(c);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3510,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(ctx, AV_LOG_WARNING,\n                   \"Incorrect rotation order symbol '%c' in rorder option. Switching to default rorder.\\n\", c)",
          "new_text": null,
          "old_line_content": "            av_log(ctx, AV_LOG_WARNING,",
          "new_line_content": "        if (rorder == -1) {",
          "content_same": false
        },
        {
          "line": 2488,
          "old_api": "atan2f",
          "new_api": null,
          "old_text": "atan2f(vec[0], vec[1])",
          "new_text": null,
          "old_line_content": "    const float theta = -atan2f(vec[0], vec[1]);",
          "new_line_content": "    const float lh  = h > 0.f ? h : 1.f;",
          "content_same": false
        },
        {
          "line": 2490,
          "old_api": "sinf",
          "new_api": null,
          "old_text": "sinf(theta)",
          "new_text": null,
          "old_line_content": "    float uf = sinf(theta) * phi * s->input_mirror_modifier[0] / s->iflat_range[0];",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2491,
          "old_api": "cosf",
          "new_api": null,
          "old_text": "cosf(theta)",
          "new_text": null,
          "old_line_content": "    float vf = cosf(theta) * phi * s->input_mirror_modifier[1] / s->iflat_range[1];",
          "new_line_content": "    float uf =  vec[0] / lh * phi * s->input_mirror_modifier[0] / s->iflat_range[0];",
          "content_same": false
        },
        {
          "line": 2493,
          "old_api": "hypotf",
          "new_api": null,
          "old_text": "hypotf(uf, vf)",
          "new_text": null,
          "old_line_content": "    const int visible = hypotf(uf, vf) <= 0.5f;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2499,
          "old_api": "floorf",
          "new_api": null,
          "old_text": "floorf(uf)",
          "new_text": null,
          "old_line_content": "    ui = floorf(uf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3016,
          "old_api": "floorf",
          "new_api": null,
          "old_text": "floorf(uf)",
          "new_text": null,
          "old_line_content": "    ui = floorf(uf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2507,
          "old_api": "av_clip",
          "new_api": null,
          "old_text": "av_clip(ui + j - 1, 0, width  - 1)",
          "new_text": null,
          "old_line_content": "            us[i][j] = visible ? av_clip(ui + j - 1, 0, width  - 1) : 0;",
          "new_line_content": "        for (int j = 0; j < 4; j++) {",
          "content_same": false
        },
        {
          "line": 3024,
          "old_api": "av_clip",
          "new_api": null,
          "old_text": "av_clip(ui + j - 1, 0, ew - 1)",
          "new_text": null,
          "old_line_content": "            us[i][j] = u_shift + av_clip(ui + j - 1, 0, ew - 1);",
          "new_line_content": "        for (int j = 0; j < 4; j++) {",
          "content_same": false
        },
        {
          "line": 3540,
          "old_api": "av_assert0",
          "new_api": null,
          "old_text": "av_assert0(0)",
          "new_text": null,
          "old_line_content": "        av_assert0(0);",
          "new_line_content": "    default:",
          "content_same": false
        },
        {
          "line": 3543,
          "old_api": "set_dimensions",
          "new_api": null,
          "old_text": "set_dimensions(s->inplanewidth, s->inplaneheight, w, h, desc)",
          "new_text": null,
          "old_line_content": "    set_dimensions(s->inplanewidth, s->inplaneheight, w, h, desc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3550,
          "old_api": "fov_from_dfov",
          "new_api": null,
          "old_text": "fov_from_dfov(s->in, s->id_fov, w, h, &s->ih_fov, &s->iv_fov)",
          "new_text": null,
          "old_line_content": "        fov_from_dfov(s->in, s->id_fov, w, h, &s->ih_fov, &s->iv_fov);",
          "new_line_content": "    if (s->id_fov > 0.f)",
          "content_same": false
        },
        {
          "line": 3553,
          "old_api": "FFSWAP",
          "new_api": null,
          "old_text": "FFSWAP(int, s->in_width, s->in_height)",
          "new_text": null,
          "old_line_content": "        FFSWAP(int, s->in_width, s->in_height);",
          "new_line_content": "    if (s->in_transpose)",
          "content_same": false
        },
        {
          "line": 2535,
          "old_api": "sqrtf",
          "new_api": null,
          "old_text": "sqrtf(dscr)",
          "new_text": null,
          "old_line_content": "    const float clon = (-k * d + sqrtf(dscr)) / (k + 1.f);",
          "new_line_content": "    const float dscr = k * k * d * d - (k + 1.f) * (k * d * d - 1.f);",
          "content_same": false
        },
        {
          "line": 3048,
          "old_api": "atan2f",
          "new_api": null,
          "old_text": "atan2f(vec[0], -vec[2])",
          "new_text": null,
          "old_line_content": "    const float phi   = atan2f(vec[0], -vec[2]) * s->input_mirror_modifier[0];",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2537,
          "old_api": "atan2f",
          "new_api": null,
          "old_text": "atan2f(uf, S * clon)",
          "new_text": null,
          "old_line_content": "    const float lon = -(M_PI + atan2f(uf, S * clon));",
          "new_line_content": "    const float S = (d + 1.f) / (d + clon);",
          "content_same": false
        },
        {
          "line": 2540,
          "old_api": "cosf",
          "new_api": null,
          "old_text": "cosf(lat)",
          "new_text": null,
          "old_line_content": "    vec[0] = sinf(lon) * cosf(lat);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3564,
          "old_api": "prepare_cube_in",
          "new_api": null,
          "old_text": "prepare_cube_in(ctx)",
          "new_text": null,
          "old_line_content": "        err = prepare_cube_in(ctx);",
          "new_line_content": "        s->in_transform = xyz_to_cube3x2;",
          "content_same": false
        },
        {
          "line": 2544,
          "old_api": "normalize_vector",
          "new_api": null,
          "old_text": "normalize_vector(vec)",
          "new_text": null,
          "old_line_content": "    normalize_vector(vec);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3570,
          "old_api": "prepare_cube_in",
          "new_api": null,
          "old_text": "prepare_cube_in(ctx)",
          "new_text": null,
          "old_line_content": "        err = prepare_cube_in(ctx);",
          "new_line_content": "        s->in_transform = xyz_to_cube1x6;",
          "content_same": false
        },
        {
          "line": 3576,
          "old_api": "prepare_cube_in",
          "new_api": null,
          "old_text": "prepare_cube_in(ctx)",
          "new_text": null,
          "old_line_content": "        err = prepare_cube_in(ctx);",
          "new_line_content": "        s->in_transform = xyz_to_cube6x1;",
          "content_same": false
        },
        {
          "line": 3068,
          "old_api": "fmodf",
          "new_api": null,
          "old_text": "fmodf(phi, M_PI_2)",
          "new_text": null,
          "old_line_content": "        uf = fmodf(phi, M_PI_2) / M_PI_2;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3582,
          "old_api": "prepare_eac_in",
          "new_api": null,
          "old_text": "prepare_eac_in(ctx)",
          "new_text": null,
          "old_line_content": "        err = prepare_eac_in(ctx);",
          "new_line_content": "        s->in_transform = xyz_to_eac;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 39,
      "total_additions": 132,
      "total_deletions": 134,
      "total_api_changes": 305
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 6,
        "api_related_lines": 305,
        "non_api_lines": 2,
        "non_api_line_numbers": [
          2492,
          2487
        ]
      }
    },
    "api_calls_before": 509,
    "api_calls_after": 506,
    "diff_info": {
      "added_lines": 5,
      "removed_lines": 4,
      "total_diff_lines": 22
    }
  }
}