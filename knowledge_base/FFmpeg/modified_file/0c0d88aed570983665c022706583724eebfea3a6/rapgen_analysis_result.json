{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/0c0d88aed570983665c022706583724eebfea3a6",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/0c0d88aed570983665c022706583724eebfea3a6/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/0c0d88aed570983665c022706583724eebfea3a6/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/0c0d88aed570983665c022706583724eebfea3a6/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1876,
          "old_api": "MULH3",
          "new_api": "imdct12",
          "old_text": "MULH3(out2[i    ], win[i    ], 1)",
          "new_text": "imdct12(out2, ptr + 0)",
          "old_line_content": "            *out_ptr     = MULH3(out2[i    ], win[i    ], 1) + buf[i + 6*2];",
          "new_line_content": "        imdct12(out2, ptr + 0);",
          "content_same": false
        },
        {
          "line": 1882,
          "old_api": "MULH3",
          "new_api": "imdct12",
          "old_text": "MULH3(out2[i    ], win[i    ], 1)",
          "new_text": "imdct12(out2, ptr + 1)",
          "old_line_content": "            buf[i + 6*0] = MULH3(out2[i    ], win[i    ], 1) + buf[i + 6*0];",
          "new_line_content": "        imdct12(out2, ptr + 1);",
          "content_same": false
        },
        {
          "line": 1956,
          "old_api": "get_bits1",
          "new_api": "get_bits",
          "old_text": "get_bits1(&s->gb)",
          "new_text": "get_bits(&s->gb, 4)",
          "old_line_content": "                g->switch_point = get_bits1(&s->gb);",
          "new_line_content": "                g->scalefac_compress = get_bits(&s->gb, 4);",
          "content_same": false
        },
        {
          "line": 1961,
          "old_api": "ff_init_short_region",
          "new_api": "av_log",
          "old_text": "ff_init_short_region(s, g)",
          "new_text": "av_log(s->avctx, AV_LOG_ERROR, \"invalid block type\\n\")",
          "old_line_content": "                ff_init_short_region(s, g);",
          "new_line_content": "                    av_log(s->avctx, AV_LOG_ERROR, \"invalid block type\\n\");",
          "content_same": false
        },
        {
          "line": 1969,
          "old_api": "get_bits",
          "new_api": "ff_init_short_region",
          "old_text": "get_bits(&s->gb, 4)",
          "new_text": "ff_init_short_region(s, g)",
          "old_line_content": "                region_address1 = get_bits(&s->gb, 4);",
          "new_line_content": "                ff_init_short_region(s, g);",
          "content_same": false
        },
        {
          "line": 1975,
          "old_api": "ff_region_offset2size",
          "new_api": "get_bits",
          "old_text": "ff_region_offset2size(g)",
          "new_text": "get_bits(&s->gb, 5)",
          "old_line_content": "            ff_region_offset2size(g);",
          "new_line_content": "                    g->table_select[i] = get_bits(&s->gb, 5);",
          "content_same": false
        },
        {
          "line": 1981,
          "old_api": "get_bits1",
          "new_api": "ff_init_long_region",
          "old_text": "get_bits1(&s->gb)",
          "new_text": "ff_init_long_region(s, g, region_address1, region_address2)",
          "old_line_content": "            g->scalefac_scale = get_bits1(&s->gb);",
          "new_line_content": "                ff_init_long_region(s, g, region_address1, region_address2);",
          "content_same": false
        },
        {
          "line": 1983,
          "old_api": "dprintf",
          "new_api": "ff_region_offset2size",
          "old_text": "dprintf(s->avctx, \"block_type=%d switch_point=%d\\n\",\n                    g->block_type, g->switch_point)",
          "new_text": "ff_region_offset2size(g)",
          "old_line_content": "            dprintf(s->avctx, \"block_type=%d switch_point=%d\\n\",",
          "new_line_content": "            ff_region_offset2size(g);",
          "content_same": false
        },
        {
          "line": 1989,
          "old_api": "get_bits_count",
          "new_api": "get_bits1",
          "old_text": "get_bits_count(&s->gb)",
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "    const uint8_t *ptr = s->gb.buffer + (get_bits_count(&s->gb)>>3);",
          "new_line_content": "            g->scalefac_scale = get_bits1(&s->gb);",
          "content_same": false
        },
        {
          "line": 1990,
          "old_api": "get_bits_count",
          "new_api": "get_bits1",
          "old_text": "get_bits_count(&s->gb)",
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "    assert((get_bits_count(&s->gb) & 7) == 0);",
          "new_line_content": "            g->count1table_select = get_bits1(&s->gb);",
          "content_same": false
        },
        {
          "line": 1997,
          "old_api": "init_get_bits",
          "new_api": "get_bits_count",
          "old_text": "init_get_bits(&s->gb, s->last_buf, s->last_buf_size*8)",
          "new_text": "get_bits_count(&s->gb)",
          "old_line_content": "        init_get_bits(&s->gb, s->last_buf, s->last_buf_size*8);",
          "new_line_content": "    const uint8_t *ptr = s->gb.buffer + (get_bits_count(&s->gb)>>3);",
          "content_same": false
        },
        {
          "line": 1998,
          "old_api": "skip_bits_long",
          "new_api": "get_bits_count",
          "old_text": "skip_bits_long(&s->gb, 8*(s->last_buf_size - main_data_begin))",
          "new_text": "get_bits_count(&s->gb)",
          "old_line_content": "        skip_bits_long(&s->gb, 8*(s->last_buf_size - main_data_begin));",
          "new_line_content": "    assert((get_bits_count(&s->gb) & 7) == 0);",
          "content_same": false
        },
        {
          "line": 2005,
          "old_api": "av_log",
          "new_api": "init_get_bits",
          "old_text": "av_log(s->avctx, AV_LOG_DEBUG, \"mdb:%d, lastbuf:%d skipping granule %d\\n\",\n                                            main_data_begin, s->last_buf_size, gr)",
          "new_text": "init_get_bits(&s->gb, s->last_buf, s->last_buf_size*8)",
          "old_line_content": "                av_log(s->avctx, AV_LOG_DEBUG, \"mdb:%d, lastbuf:%d skipping granule %d\\n\",",
          "new_line_content": "        init_get_bits(&s->gb, s->last_buf, s->last_buf_size*8);",
          "content_same": false
        },
        {
          "line": 2167,
          "old_api": "mp_decode_layer2",
          "new_api": "dprintf",
          "old_text": "mp_decode_layer2(s)",
          "new_text": "dprintf(s->avctx, \"frame %d:\\n\", s->frame_count)",
          "old_line_content": "        nb_frames = mp_decode_layer2(s);",
          "new_line_content": "    dprintf(s->avctx, \"frame %d:\\n\", s->frame_count);",
          "content_same": false
        },
        {
          "line": 2187,
          "old_api": "align_get_bits",
          "new_api": "get_bits_count",
          "old_text": "align_get_bits(&s->gb)",
          "new_text": "get_bits_count(&s->gb)",
          "old_line_content": "        align_get_bits(&s->gb);",
          "new_line_content": "                memmove(s->last_buf, s->gb.buffer + (get_bits_count(&s->gb)>>3), i);",
          "content_same": false
        },
        {
          "line": 2196,
          "old_api": "assert",
          "new_api": "get_bits_count",
          "old_text": "assert(i <= buf_size - HEADER_SIZE && i>= 0)",
          "new_text": "get_bits_count(&s->gb)",
          "old_line_content": "        assert(i <= buf_size - HEADER_SIZE && i>= 0);",
          "new_line_content": "        assert((get_bits_count(&s->gb) & 7) == 0);",
          "content_same": false
        },
        {
          "line": 2197,
          "old_api": "memcpy",
          "new_api": "get_bits_left",
          "old_text": "memcpy(s->last_buf + s->last_buf_size, s->gb.buffer + buf_size - HEADER_SIZE - i, i)",
          "new_text": "get_bits_left(&s->gb)",
          "old_line_content": "        memcpy(s->last_buf + s->last_buf_size, s->gb.buffer + buf_size - HEADER_SIZE - i, i);",
          "new_line_content": "        i= get_bits_left(&s->gb)>>3;",
          "content_same": false
        },
        {
          "line": 2463,
          "old_api": "mp_decode_frame",
          "new_api": "assert (m != NULL)",
          "old_text": "mp_decode_frame(m, outptr, buf, fsize)",
          "new_text": "assert (m != NULL)",
          "old_line_content": "        out_size += mp_decode_frame(m, outptr, buf, fsize);",
          "new_line_content": "        assert (m != NULL);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2565,
          "old_api": null,
          "new_api": "NULL_IF_CONFIG_SMALL",
          "old_text": null,
          "new_text": "NULL_IF_CONFIG_SMALL(\"ADU (Application Data Unit) MP3 (MPEG audio layer 3)\")",
          "old_line_content": "    CODEC_ID_MP3ON4,",
          "new_line_content": "    .long_name= NULL_IF_CONFIG_SMALL(\"ADU (Application Data Unit) MP3 (MPEG audio layer 3)\"),",
          "content_same": false
        },
        {
          "line": 1548,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "    }",
          "new_line_content": "            v = AV_RN32A(RENAME(exp_table)+exponents[pos]) ^ (get_bits1(&s->gb)<<31);",
          "content_same": false
        },
        {
          "line": 1549,
          "old_api": null,
          "new_api": "AV_WN32A",
          "old_text": null,
          "new_text": "AV_WN32A(g->sb_hybrid+pos, v)",
          "old_line_content": "    /* skip extension bits */",
          "new_line_content": "            AV_WN32A(g->sb_hybrid+pos, v);",
          "content_same": false
        },
        {
          "line": 2063,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, slen)",
          "old_line_content": "                                g->scale_factors[j] = sc[j];",
          "new_line_content": "                                    g->scale_factors[j++] = get_bits(&s->gb, slen);",
          "content_same": false
        },
        {
          "line": 1551,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "//av_log(NULL, AV_LOG_ERROR, \"left:%d buf:%p\\n\", bits_left, s->in_gb.buffer);",
          "new_line_content": "            v= -get_bits1(&s->gb);",
          "content_same": false
        },
        {
          "line": 1552,
          "old_api": null,
          "new_api": "RENAME",
          "old_text": null,
          "new_text": "RENAME(exp_table)",
          "old_line_content": "    if (bits_left < 0 && s->error_recognition >= FF_ER_COMPLIANT) {",
          "new_line_content": "            g->sb_hybrid[pos] = (RENAME(exp_table)[ exponents[pos] ] ^ v) - v;",
          "content_same": false
        },
        {
          "line": 2580,
          "old_api": null,
          "new_api": "NULL_IF_CONFIG_SMALL",
          "old_text": null,
          "new_text": "NULL_IF_CONFIG_SMALL(\"MP3onMP4\")",
          "old_line_content": "",
          "new_line_content": "    .long_name= NULL_IF_CONFIG_SMALL(\"MP3onMP4\"),",
          "content_same": false
        },
        {
          "line": 1558,
          "old_api": null,
          "new_api": "get_bits_count",
          "old_text": null,
          "new_text": "get_bits_count(&s->gb)",
          "old_line_content": "    }",
          "new_line_content": "    bits_left = end_pos2 - get_bits_count(&s->gb);",
          "content_same": false
        },
        {
          "line": 1561,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(s->avctx, AV_LOG_ERROR, \"bits_left=%d\\n\", bits_left)",
          "old_line_content": "",
          "new_line_content": "        av_log(s->avctx, AV_LOG_ERROR, \"bits_left=%d\\n\", bits_left);",
          "content_same": false
        },
        {
          "line": 1564,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(s->avctx, AV_LOG_ERROR, \"bits_left=%d\\n\", bits_left)",
          "old_line_content": "",
          "new_line_content": "        av_log(s->avctx, AV_LOG_ERROR, \"bits_left=%d\\n\", bits_left);",
          "content_same": false
        },
        {
          "line": 1567,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&g->sb_hybrid[s_index], 0, sizeof(*g->sb_hybrid)*(576 - s_index))",
          "old_line_content": "",
          "new_line_content": "    memset(&g->sb_hybrid[s_index], 0, sizeof(*g->sb_hybrid)*(576 - s_index));",
          "content_same": false
        },
        {
          "line": 1568,
          "old_api": null,
          "new_api": "skip_bits_long",
          "old_text": null,
          "new_text": "skip_bits_long(&s->gb, bits_left)",
          "old_line_content": "/* Reorder short blocks from bitstream order to interleaved order. It",
          "new_line_content": "    skip_bits_long(&s->gb, bits_left);",
          "content_same": false
        },
        {
          "line": 1570,
          "old_api": null,
          "new_api": "get_bits_count",
          "old_text": null,
          "new_text": "get_bits_count(&s->gb)",
          "old_line_content": "   complicated */",
          "new_line_content": "    i= get_bits_count(&s->gb);",
          "content_same": false
        },
        {
          "line": 1571,
          "old_api": null,
          "new_api": "switch_buffer",
          "old_text": null,
          "new_text": "switch_buffer(s, &i, &end_pos, &end_pos2)",
          "old_line_content": "static void reorder_block(MPADecodeContext *s, GranuleDef *g)",
          "new_line_content": "    switch_buffer(s, &i, &end_pos, &end_pos2);",
          "content_same": false
        },
        {
          "line": 2092,
          "old_api": null,
          "new_api": "lsf_sf_expand",
          "old_text": null,
          "new_text": "lsf_sf_expand(slen, sf, 6, 6, 0)",
          "old_line_content": "                    }",
          "new_line_content": "                        lsf_sf_expand(slen, sf, 6, 6, 0);",
          "content_same": false
        },
        {
          "line": 2095,
          "old_api": null,
          "new_api": "lsf_sf_expand",
          "old_text": null,
          "new_text": "lsf_sf_expand(slen, sf - 180, 4, 4, 0)",
          "old_line_content": "                    if (sf < 400) {",
          "new_line_content": "                        lsf_sf_expand(slen, sf - 180, 4, 4, 0);",
          "content_same": false
        },
        {
          "line": 2098,
          "old_api": null,
          "new_api": "lsf_sf_expand",
          "old_text": null,
          "new_text": "lsf_sf_expand(slen, sf - 244, 3, 0, 0)",
          "old_line_content": "                    } else if (sf < 500) {",
          "new_line_content": "                        lsf_sf_expand(slen, sf - 244, 3, 0, 0);",
          "content_same": false
        },
        {
          "line": 2104,
          "old_api": null,
          "new_api": "lsf_sf_expand",
          "old_text": null,
          "new_text": "lsf_sf_expand(slen, sf, 5, 4, 4)",
          "old_line_content": "                        g->preflag = 1;",
          "new_line_content": "                        lsf_sf_expand(slen, sf, 5, 4, 4);",
          "content_same": false
        },
        {
          "line": 2107,
          "old_api": null,
          "new_api": "lsf_sf_expand",
          "old_text": null,
          "new_text": "lsf_sf_expand(slen, sf - 400, 5, 4, 0)",
          "old_line_content": "",
          "new_line_content": "                        lsf_sf_expand(slen, sf - 400, 5, 4, 0);",
          "content_same": false
        },
        {
          "line": 2110,
          "old_api": null,
          "new_api": "lsf_sf_expand",
          "old_text": null,
          "new_text": "lsf_sf_expand(slen, sf - 500, 3, 0, 0)",
          "old_line_content": "                    n = lsf_nsf_table[tindex2][tindex][k];",
          "new_line_content": "                        lsf_sf_expand(slen, sf - 500, 3, 0, 0);",
          "content_same": false
        },
        {
          "line": 1609,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(ptr1, tmp, len * 3 * sizeof(*ptr1))",
          "old_line_content": "{",
          "new_line_content": "        memcpy(ptr1, tmp, len * 3 * sizeof(*ptr1));",
          "content_same": false
        },
        {
          "line": 2122,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, sl)",
          "old_line_content": "                    g->scale_factors[j] = 0;",
          "new_line_content": "                            g->scale_factors[j++] = get_bits(&s->gb, sl);",
          "content_same": false
        },
        {
          "line": 1620,
          "old_api": null,
          "new_api": "INTFLOAT (*is_tab)",
          "old_text": null,
          "new_text": "INTFLOAT (*is_tab)",
          "old_line_content": "        } else {",
          "new_line_content": "    INTFLOAT (*is_tab)[16], *tab0, *tab1, tmp0, tmp1, v1, v2;",
          "content_same": false
        },
        {
          "line": 2133,
          "old_api": null,
          "new_api": "exponents_from_scale_factors",
          "old_text": null,
          "new_text": "exponents_from_scale_factors(s, g, exponents)",
          "old_line_content": "",
          "new_line_content": "            exponents_from_scale_factors(s, g, exponents);",
          "content_same": false
        },
        {
          "line": 2136,
          "old_api": null,
          "new_api": "huffman_decode",
          "old_text": null,
          "new_text": "huffman_decode(s, g, exponents, bits_pos + g->part2_3_length)",
          "old_line_content": "",
          "new_line_content": "            huffman_decode(s, g, exponents, bits_pos + g->part2_3_length);",
          "content_same": false
        },
        {
          "line": 2140,
          "old_api": null,
          "new_api": "compute_stereo",
          "old_text": null,
          "new_text": "compute_stereo(s, &s->granules[0][gr], &s->granules[1][gr])",
          "old_line_content": "        }",
          "new_line_content": "            compute_stereo(s, &s->granules[0][gr], &s->granules[1][gr]);",
          "content_same": false
        },
        {
          "line": 2145,
          "old_api": null,
          "new_api": "reorder_block",
          "old_text": null,
          "new_text": "reorder_block(s, g)",
          "old_line_content": "}",
          "new_line_content": "            reorder_block(s, g);",
          "content_same": false
        },
        {
          "line": 2146,
          "old_api": null,
          "new_api": "compute_antialias",
          "old_text": null,
          "new_text": "compute_antialias(s, g)",
          "old_line_content": "",
          "new_line_content": "            compute_antialias(s, g);",
          "content_same": false
        },
        {
          "line": 2147,
          "old_api": null,
          "new_api": "compute_imdct",
          "old_text": null,
          "new_text": "compute_imdct(s, g, &s->sb_samples[ch][18 * gr][0], s->mdct_buf[ch])",
          "old_line_content": "static int mp_decode_frame(MPADecodeContext *s,",
          "new_line_content": "            compute_imdct(s, g, &s->sb_samples[ch][18 * gr][0], s->mdct_buf[ch]);",
          "content_same": false
        },
        {
          "line": 2150,
          "old_api": null,
          "new_api": "get_bits_count",
          "old_text": null,
          "new_text": "get_bits_count(&s->gb)",
          "old_line_content": "    int i, nb_frames, ch;",
          "new_line_content": "    if(get_bits_count(&s->gb)<0)",
          "content_same": false
        },
        {
          "line": 2151,
          "old_api": null,
          "new_api": "get_bits_count",
          "old_text": null,
          "new_text": "get_bits_count(&s->gb)",
          "old_line_content": "    OUT_INT *samples_ptr;",
          "new_line_content": "        skip_bits_long(&s->gb, -get_bits_count(&s->gb));",
          "content_same": false
        },
        {
          "line": 2161,
          "old_api": null,
          "new_api": "init_get_bits",
          "old_text": null,
          "new_text": "init_get_bits(&s->gb, buf + HEADER_SIZE, (buf_size - HEADER_SIZE)*8)",
          "old_line_content": "    case 1:",
          "new_line_content": "    init_get_bits(&s->gb, buf + HEADER_SIZE, (buf_size - HEADER_SIZE)*8);",
          "content_same": false
        },
        {
          "line": 2165,
          "old_api": null,
          "new_api": "skip_bits",
          "old_text": null,
          "new_text": "skip_bits(&s->gb, 16)",
          "old_line_content": "    case 2:",
          "new_line_content": "        skip_bits(&s->gb, 16);",
          "content_same": false
        },
        {
          "line": 2171,
          "old_api": null,
          "new_api": "mp_decode_layer1",
          "old_text": null,
          "new_text": "mp_decode_layer1(s)",
          "old_line_content": "    default:",
          "new_line_content": "        nb_frames = mp_decode_layer1(s);",
          "content_same": false
        },
        {
          "line": 2175,
          "old_api": null,
          "new_api": "mp_decode_layer2",
          "old_text": null,
          "new_text": "mp_decode_layer2(s)",
          "old_line_content": "        if(s->in_gb.buffer){",
          "new_line_content": "        nb_frames = mp_decode_layer2(s);",
          "content_same": false
        },
        {
          "line": 1664,
          "old_api": null,
          "new_api": "MULLx",
          "old_text": null,
          "new_text": "MULLx(tmp0, v1, FRAC_BITS)",
          "old_line_content": "                        for(j=0;j<len;j++) {",
          "new_line_content": "                        tab0[j] = MULLx(tmp0, v1, FRAC_BITS);",
          "content_same": false
        },
        {
          "line": 1665,
          "old_api": null,
          "new_api": "MULLx",
          "old_text": null,
          "new_text": "MULLx(tmp0, v2, FRAC_BITS)",
          "old_line_content": "                            tmp0 = tab0[j];",
          "new_line_content": "                        tab1[j] = MULLx(tmp0, v2, FRAC_BITS);",
          "content_same": false
        },
        {
          "line": 2180,
          "old_api": null,
          "new_api": "mp_decode_layer3",
          "old_text": null,
          "new_text": "mp_decode_layer3(s)",
          "old_line_content": "                s->last_buf_size=i;",
          "new_line_content": "        nb_frames = mp_decode_layer3(s);",
          "content_same": false
        },
        {
          "line": 2184,
          "old_api": null,
          "new_api": "align_get_bits",
          "old_text": null,
          "new_text": "align_get_bits(&s->gb)",
          "old_line_content": "            s->in_gb.buffer= NULL;",
          "new_line_content": "            align_get_bits(&s->gb);",
          "content_same": false
        },
        {
          "line": 2185,
          "old_api": null,
          "new_api": "get_bits_left",
          "old_text": null,
          "new_text": "get_bits_left(&s->gb)",
          "old_line_content": "        }",
          "new_line_content": "            i= get_bits_left(&s->gb)>>3;",
          "content_same": false
        },
        {
          "line": 1675,
          "old_api": null,
          "new_api": "MULLx",
          "old_text": null,
          "new_text": "MULLx(tmp0 + tmp1, ISQRT2, FRAC_BITS)",
          "old_line_content": "        non_zero_found = non_zero_found_short[0] |",
          "new_line_content": "                            tab0[j] = MULLx(tmp0 + tmp1, ISQRT2, FRAC_BITS);",
          "content_same": false
        },
        {
          "line": 1676,
          "old_api": null,
          "new_api": "MULLx",
          "old_text": null,
          "new_text": "MULLx(tmp0 - tmp1, ISQRT2, FRAC_BITS)",
          "old_line_content": "            non_zero_found_short[1] |",
          "new_line_content": "                            tab1[j] = MULLx(tmp0 - tmp1, ISQRT2, FRAC_BITS);",
          "content_same": false
        },
        {
          "line": 2190,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(s->avctx, AV_LOG_ERROR, \"invalid old backstep %d\\n\", i)",
          "old_line_content": "",
          "new_line_content": "                av_log(s->avctx, AV_LOG_ERROR, \"invalid old backstep %d\\n\", i);",
          "content_same": false
        },
        {
          "line": 2195,
          "old_api": null,
          "new_api": "align_get_bits",
          "old_text": null,
          "new_text": "align_get_bits(&s->gb)",
          "old_line_content": "        }",
          "new_line_content": "        align_get_bits(&s->gb);",
          "content_same": false
        },
        {
          "line": 2201,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(s->avctx, AV_LOG_ERROR, \"invalid new backstep %d\\n\", i)",
          "old_line_content": "    }",
          "new_line_content": "                av_log(s->avctx, AV_LOG_ERROR, \"invalid new backstep %d\\n\", i);",
          "content_same": false
        },
        {
          "line": 2202,
          "old_api": null,
          "new_api": "FFMIN",
          "old_text": null,
          "new_text": "FFMIN(BACKSTEP_SIZE, buf_size - HEADER_SIZE)",
          "old_line_content": "",
          "new_line_content": "            i= FFMIN(BACKSTEP_SIZE, buf_size - HEADER_SIZE);",
          "content_same": false
        },
        {
          "line": 2204,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(i <= buf_size - HEADER_SIZE && i>= 0)",
          "old_line_content": "    for(ch=0;ch<s->nb_channels;ch++) {",
          "new_line_content": "        assert(i <= buf_size - HEADER_SIZE && i>= 0);",
          "content_same": false
        },
        {
          "line": 2205,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(s->last_buf + s->last_buf_size, s->gb.buffer + buf_size - HEADER_SIZE - i, i)",
          "old_line_content": "        samples_ptr = samples + ch;",
          "new_line_content": "        memcpy(s->last_buf + s->last_buf_size, s->gb.buffer + buf_size - HEADER_SIZE - i, i);",
          "content_same": false
        },
        {
          "line": 2215,
          "old_api": null,
          "new_api": "RENAME",
          "old_text": null,
          "new_text": "RENAME(ff_mpa_synth_filter)(s->synth_buf[ch], &(s->synth_buf_offset[ch]),\n                         RENAME(ff_mpa_synth_window), &s->dither_state,\n                         samples_ptr, s->nb_channels,\n                         s->sb_samples[ch][i])",
          "old_line_content": "    return nb_frames * 32 * sizeof(OUT_INT) * s->nb_channels;",
          "new_line_content": "            RENAME(ff_mpa_synth_filter)(s->synth_buf[ch], &(s->synth_buf_offset[ch]),",
          "content_same": false
        },
        {
          "line": 2216,
          "old_api": null,
          "new_api": "RENAME",
          "old_text": null,
          "new_text": "RENAME(ff_mpa_synth_window)",
          "old_line_content": "}",
          "new_line_content": "                         RENAME(ff_mpa_synth_window), &s->dither_state,",
          "content_same": false
        },
        {
          "line": 1708,
          "old_api": null,
          "new_api": "MULLx",
          "old_text": null,
          "new_text": "MULLx(tmp0, v1, FRAC_BITS)",
          "old_line_content": "                    for(j=0;j<len;j++) {",
          "new_line_content": "                    tab0[j] = MULLx(tmp0, v1, FRAC_BITS);",
          "content_same": false
        },
        {
          "line": 1709,
          "old_api": null,
          "new_api": "MULLx",
          "old_text": null,
          "new_text": "MULLx(tmp0, v2, FRAC_BITS)",
          "old_line_content": "                        tmp0 = tab0[j];",
          "new_line_content": "                    tab1[j] = MULLx(tmp0, v2, FRAC_BITS);",
          "content_same": false
        },
        {
          "line": 1719,
          "old_api": null,
          "new_api": "MULLx",
          "old_text": null,
          "new_text": "MULLx(tmp0 + tmp1, ISQRT2, FRAC_BITS)",
          "old_line_content": "        /* NOTE: the 1/sqrt(2) normalization factor is included in the",
          "new_line_content": "                        tab0[j] = MULLx(tmp0 + tmp1, ISQRT2, FRAC_BITS);",
          "content_same": false
        },
        {
          "line": 1720,
          "old_api": null,
          "new_api": "MULLx",
          "old_text": null,
          "new_text": "MULLx(tmp0 - tmp1, ISQRT2, FRAC_BITS)",
          "old_line_content": "           global gain */",
          "new_line_content": "                        tab1[j] = MULLx(tmp0 - tmp1, ISQRT2, FRAC_BITS);",
          "content_same": false
        },
        {
          "line": 2240,
          "old_api": null,
          "new_api": "AV_RB32",
          "old_text": null,
          "new_text": "AV_RB32(buf)",
          "old_line_content": "        s->frame_size = -1;",
          "new_line_content": "    header = AV_RB32(buf);",
          "content_same": false
        },
        {
          "line": 2241,
          "old_api": null,
          "new_api": "ff_mpa_check_header",
          "old_text": null,
          "new_text": "ff_mpa_check_header(header)",
          "old_line_content": "        return -1;",
          "new_line_content": "    if(ff_mpa_check_header(header) < 0){",
          "content_same": false
        },
        {
          "line": 2242,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR, \"Header missing\\n\")",
          "old_line_content": "    }",
          "new_line_content": "        av_log(avctx, AV_LOG_ERROR, \"Header missing\\n\");",
          "content_same": false
        },
        {
          "line": 2246,
          "old_api": null,
          "new_api": "ff_mpegaudio_decode_header",
          "old_text": null,
          "new_text": "ff_mpegaudio_decode_header((MPADecodeHeader *)s, header)",
          "old_line_content": "    avctx->sub_id = s->layer;",
          "new_line_content": "    if (ff_mpegaudio_decode_header((MPADecodeHeader *)s, header) == 1) {",
          "content_same": false
        },
        {
          "line": 2261,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR, \"incomplete frame\\n\")",
          "old_line_content": "    if(out_size>=0){",
          "new_line_content": "        av_log(avctx, AV_LOG_ERROR, \"incomplete frame\\n\");",
          "content_same": false
        },
        {
          "line": 2264,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR, \"incorrect frame size\\n\")",
          "old_line_content": "        //FIXME maybe move the other codec info stuff from above here too",
          "new_line_content": "        av_log(avctx, AV_LOG_ERROR, \"incorrect frame size\\n\");",
          "content_same": false
        },
        {
          "line": 2268,
          "old_api": null,
          "new_api": "mp_decode_frame",
          "old_text": null,
          "new_text": "mp_decode_frame(s, out_samples, buf, buf_size)",
          "old_line_content": "    return buf_size;",
          "new_line_content": "    out_size = mp_decode_frame(s, out_samples, buf, buf_size);",
          "content_same": false
        },
        {
          "line": 2274,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_DEBUG, \"Error while decoding MPEG audio frame.\\n\")",
          "old_line_content": "    s->last_buf_size= 0;",
          "new_line_content": "        av_log(avctx, AV_LOG_DEBUG, \"Error while decoding MPEG audio frame.\\n\"); //FIXME return -1 / but also return the number of bytes consumed",
          "content_same": false
        },
        {
          "line": 1767,
          "old_api": null,
          "new_api": "INT_AA",
          "old_text": null,
          "new_text": "INT_AA(0)",
          "old_line_content": "",
          "new_line_content": "        INT_AA(0)",
          "content_same": false
        },
        {
          "line": 1768,
          "old_api": null,
          "new_api": "INT_AA",
          "old_text": null,
          "new_text": "INT_AA(1)",
          "old_line_content": "        ptr += 18;",
          "new_line_content": "        INT_AA(1)",
          "content_same": false
        },
        {
          "line": 2281,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(s->synth_buf, 0, sizeof(s->synth_buf))",
          "old_line_content": "{",
          "new_line_content": "    memset(s->synth_buf, 0, sizeof(s->synth_buf));",
          "content_same": false
        },
        {
          "line": 1769,
          "old_api": null,
          "new_api": "INT_AA",
          "old_text": null,
          "new_text": "INT_AA(2)",
          "old_line_content": "    }",
          "new_line_content": "        INT_AA(2)",
          "content_same": false
        },
        {
          "line": 1770,
          "old_api": null,
          "new_api": "INT_AA",
          "old_text": null,
          "new_text": "INT_AA(3)",
          "old_line_content": "}",
          "new_line_content": "        INT_AA(3)",
          "content_same": false
        },
        {
          "line": 1771,
          "old_api": null,
          "new_api": "INT_AA",
          "old_text": null,
          "new_text": "INT_AA(4)",
          "old_line_content": "",
          "new_line_content": "        INT_AA(4)",
          "content_same": false
        },
        {
          "line": 1772,
          "old_api": null,
          "new_api": "INT_AA",
          "old_text": null,
          "new_text": "INT_AA(5)",
          "old_line_content": "static void compute_antialias_float(MPADecodeContext *s,",
          "new_line_content": "        INT_AA(5)",
          "content_same": false
        },
        {
          "line": 1773,
          "old_api": null,
          "new_api": "INT_AA",
          "old_text": null,
          "new_text": "INT_AA(6)",
          "old_line_content": "                              GranuleDef *g)",
          "new_line_content": "        INT_AA(6)",
          "content_same": false
        },
        {
          "line": 1774,
          "old_api": null,
          "new_api": "INT_AA",
          "old_text": null,
          "new_text": "INT_AA(7)",
          "old_line_content": "{",
          "new_line_content": "        INT_AA(7)",
          "content_same": false
        },
        {
          "line": 2310,
          "old_api": null,
          "new_api": "AV_RB32",
          "old_text": null,
          "new_text": "AV_RB32(buf)",
          "old_line_content": "    /* update codec info */",
          "new_line_content": "    header = AV_RB32(buf) | 0xffe00000;",
          "content_same": false
        },
        {
          "line": 2312,
          "old_api": null,
          "new_api": "ff_mpa_check_header",
          "old_text": null,
          "new_text": "ff_mpa_check_header(header)",
          "old_line_content": "    avctx->channels = s->nb_channels;",
          "new_line_content": "    if (ff_mpa_check_header(header) < 0) { // Bad header, discard frame",
          "content_same": false
        },
        {
          "line": 2317,
          "old_api": null,
          "new_api": "ff_mpegaudio_decode_header",
          "old_text": null,
          "new_text": "ff_mpegaudio_decode_header((MPADecodeHeader *)s, header)",
          "old_line_content": "",
          "new_line_content": "    ff_mpegaudio_decode_header((MPADecodeHeader *)s, header);",
          "content_same": false
        },
        {
          "line": 1806,
          "old_api": null,
          "new_api": "FLOAT_AA",
          "old_text": null,
          "new_text": "FLOAT_AA(0)",
          "old_line_content": "",
          "new_line_content": "        FLOAT_AA(0)",
          "content_same": false
        },
        {
          "line": 1807,
          "old_api": null,
          "new_api": "FLOAT_AA",
          "old_text": null,
          "new_text": "FLOAT_AA(1)",
          "old_line_content": "        ptr += 18;",
          "new_line_content": "        FLOAT_AA(1)",
          "content_same": false
        },
        {
          "line": 1808,
          "old_api": null,
          "new_api": "FLOAT_AA",
          "old_text": null,
          "new_text": "FLOAT_AA(2)",
          "old_line_content": "    }",
          "new_line_content": "        FLOAT_AA(2)",
          "content_same": false
        },
        {
          "line": 1809,
          "old_api": null,
          "new_api": "FLOAT_AA",
          "old_text": null,
          "new_text": "FLOAT_AA(3)",
          "old_line_content": "}",
          "new_line_content": "        FLOAT_AA(3)",
          "content_same": false
        },
        {
          "line": 1810,
          "old_api": null,
          "new_api": "FLOAT_AA",
          "old_text": null,
          "new_text": "FLOAT_AA(4)",
          "old_line_content": "",
          "new_line_content": "        FLOAT_AA(4)",
          "content_same": false
        },
        {
          "line": 1811,
          "old_api": null,
          "new_api": "FLOAT_AA",
          "old_text": null,
          "new_text": "FLOAT_AA(5)",
          "old_line_content": "static void compute_imdct(MPADecodeContext *s,",
          "new_line_content": "        FLOAT_AA(5)",
          "content_same": false
        },
        {
          "line": 1812,
          "old_api": null,
          "new_api": "FLOAT_AA",
          "old_text": null,
          "new_text": "FLOAT_AA(6)",
          "old_line_content": "                          GranuleDef *g,",
          "new_line_content": "        FLOAT_AA(6)",
          "content_same": false
        },
        {
          "line": 1813,
          "old_api": null,
          "new_api": "FLOAT_AA",
          "old_text": null,
          "new_text": "FLOAT_AA(7)",
          "old_line_content": "                          INTFLOAT *sb_samples,",
          "new_line_content": "        FLOAT_AA(7)",
          "content_same": false
        },
        {
          "line": 2329,
          "old_api": null,
          "new_api": "mp_decode_frame",
          "old_text": null,
          "new_text": "mp_decode_frame(s, out_samples, buf, buf_size)",
          "old_line_content": "#if CONFIG_MP3ON4_DECODER",
          "new_line_content": "        out_size = mp_decode_frame(s, out_samples, buf, buf_size);",
          "content_same": false
        },
        {
          "line": 2373,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR, \"Codec extradata missing or too short.\\n\")",
          "old_line_content": "    }",
          "new_line_content": "        av_log(avctx, AV_LOG_ERROR, \"Codec extradata missing or too short.\\n\");",
          "content_same": false
        },
        {
          "line": 1862,
          "old_api": null,
          "new_api": "imdct36",
          "old_text": null,
          "new_text": "imdct36(out_ptr, buf, ptr, win)",
          "old_line_content": "        out_ptr = sb_samples + j;",
          "new_line_content": "        imdct36(out_ptr, buf, ptr, win);",
          "content_same": false
        },
        {
          "line": 2377,
          "old_api": null,
          "new_api": "ff_mpeg4audio_get_config",
          "old_text": null,
          "new_text": "ff_mpeg4audio_get_config(&cfg, avctx->extradata, avctx->extradata_size)",
          "old_line_content": "",
          "new_line_content": "    ff_mpeg4audio_get_config(&cfg, avctx->extradata, avctx->extradata_size);",
          "content_same": false
        },
        {
          "line": 2379,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR, \"Invalid channel config number.\\n\")",
          "old_line_content": "        s->syncword = 0xffe00000;",
          "new_line_content": "        av_log(avctx, AV_LOG_ERROR, \"Invalid channel config number.\\n\");",
          "content_same": false
        },
        {
          "line": 1878,
          "old_api": null,
          "new_api": "MULH3",
          "old_text": null,
          "new_text": "MULH3(out2[i    ], win[i    ], 1)",
          "old_line_content": "            out_ptr += SBLIMIT;",
          "new_line_content": "            *out_ptr     = MULH3(out2[i    ], win[i    ], 1) + buf[i + 6*1];",
          "content_same": false
        },
        {
          "line": 1879,
          "old_api": null,
          "new_api": "MULH3",
          "old_text": null,
          "new_text": "MULH3(out2[i + 6], win[i + 6], 1)",
          "old_line_content": "        }",
          "new_line_content": "            buf[i + 6*2] = MULH3(out2[i + 6], win[i + 6], 1);",
          "content_same": false
        },
        {
          "line": 1884,
          "old_api": null,
          "new_api": "MULH3",
          "old_text": null,
          "new_text": "MULH3(out2[i    ], win[i    ], 1)",
          "old_line_content": "            buf[i + 6*2] = 0;",
          "new_line_content": "            *out_ptr     = MULH3(out2[i    ], win[i    ], 1) + buf[i + 6*2];",
          "content_same": false
        },
        {
          "line": 2397,
          "old_api": null,
          "new_api": "av_mallocz",
          "old_text": null,
          "new_text": "av_mallocz(sizeof(MPADecodeContext))",
          "old_line_content": "    /* Create a separate codec/context for each frame (first is already ok).",
          "new_line_content": "    s->mp3decctx[0] = av_mallocz(sizeof(MPADecodeContext));",
          "content_same": false
        },
        {
          "line": 1885,
          "old_api": null,
          "new_api": "MULH3",
          "old_text": null,
          "new_text": "MULH3(out2[i + 6], win[i + 6], 1)",
          "old_line_content": "        }",
          "new_line_content": "            buf[i + 6*0] = MULH3(out2[i + 6], win[i + 6], 1);",
          "content_same": false
        },
        {
          "line": 2400,
          "old_api": null,
          "new_api": "decode_init",
          "old_text": null,
          "new_text": "decode_init(avctx)",
          "old_line_content": "    for (i = 1; i < s->frames; i++) {",
          "new_line_content": "    decode_init(avctx);",
          "content_same": false
        },
        {
          "line": 1888,
          "old_api": null,
          "new_api": "imdct12",
          "old_text": null,
          "new_text": "imdct12(out2, ptr + 2)",
          "old_line_content": "    }",
          "new_line_content": "        imdct12(out2, ptr + 2);",
          "content_same": false
        },
        {
          "line": 1890,
          "old_api": null,
          "new_api": "MULH3",
          "old_text": null,
          "new_text": "MULH3(out2[i    ], win[i    ], 1)",
          "old_line_content": "    for(j=sblimit;j<SBLIMIT;j++) {",
          "new_line_content": "            buf[i + 6*0] = MULH3(out2[i    ], win[i    ], 1) + buf[i + 6*0];",
          "content_same": false
        },
        {
          "line": 1891,
          "old_api": null,
          "new_api": "MULH3",
          "old_text": null,
          "new_text": "MULH3(out2[i + 6], win[i + 6], 1)",
          "old_line_content": "        /* overlap */",
          "new_line_content": "            buf[i + 6*1] = MULH3(out2[i + 6], win[i + 6], 1);",
          "content_same": false
        },
        {
          "line": 2409,
          "old_api": null,
          "new_api": "av_mallocz",
          "old_text": null,
          "new_text": "av_mallocz(sizeof(MPADecodeContext))",
          "old_line_content": "",
          "new_line_content": "        s->mp3decctx[i] = av_mallocz(sizeof(MPADecodeContext));",
          "content_same": false
        },
        {
          "line": 2425,
          "old_api": null,
          "new_api": "av_free",
          "old_text": null,
          "new_text": "av_free(s->mp3decctx[i])",
          "old_line_content": "                        AVPacket *avpkt)",
          "new_line_content": "            av_free(s->mp3decctx[i]);",
          "content_same": false
        },
        {
          "line": 1921,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, s->nb_channels)",
          "old_line_content": "        nb_granules = 2;",
          "new_line_content": "        private_bits = get_bits(&s->gb, s->nb_channels);",
          "content_same": false
        },
        {
          "line": 1926,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 3)",
          "old_line_content": "    }",
          "new_line_content": "            private_bits = get_bits(&s->gb, 3);",
          "content_same": false
        },
        {
          "line": 1928,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 5)",
          "old_line_content": "    for(gr=0;gr<nb_granules;gr++) {",
          "new_line_content": "            private_bits = get_bits(&s->gb, 5);",
          "content_same": false
        },
        {
          "line": 1938,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(s->avctx, \"gr=%d ch=%d: side_info\\n\", gr, ch)",
          "old_line_content": "",
          "new_line_content": "            dprintf(s->avctx, \"gr=%d ch=%d: side_info\\n\", gr, ch);",
          "content_same": false
        },
        {
          "line": 1940,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 12)",
          "old_line_content": "            /* if MS stereo only is selected, we precompute the",
          "new_line_content": "            g->part2_3_length = get_bits(&s->gb, 12);",
          "content_same": false
        },
        {
          "line": 1941,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 9)",
          "old_line_content": "               1/sqrt(2) renormalization factor */",
          "new_line_content": "            g->big_values = get_bits(&s->gb, 9);",
          "content_same": false
        },
        {
          "line": 1943,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(s->avctx, AV_LOG_ERROR, \"big_values too big\\n\")",
          "old_line_content": "                MODE_EXT_MS_STEREO)",
          "new_line_content": "                av_log(s->avctx, AV_LOG_ERROR, \"big_values too big\\n\");",
          "content_same": false
        },
        {
          "line": 1947,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 8)",
          "old_line_content": "            else",
          "new_line_content": "            g->global_gain = get_bits(&s->gb, 8);",
          "content_same": false
        },
        {
          "line": 2460,
          "old_api": null,
          "new_api": "AV_RB16",
          "old_text": null,
          "new_text": "AV_RB16(buf)",
          "old_line_content": "            break;",
          "new_line_content": "        fsize = AV_RB16(buf) >> 4;",
          "content_same": false
        },
        {
          "line": 2461,
          "old_api": null,
          "new_api": "FFMIN3",
          "old_text": null,
          "new_text": "FFMIN3(fsize, len, MPA_MAX_CODED_FRAME_SIZE)",
          "old_line_content": "",
          "new_line_content": "        fsize = FFMIN3(fsize, len, MPA_MAX_CODED_FRAME_SIZE);",
          "content_same": false
        },
        {
          "line": 2465,
          "old_api": null,
          "new_api": "AV_RB32",
          "old_text": null,
          "new_text": "AV_RB32(buf)",
          "old_line_content": "        len -= fsize;",
          "new_line_content": "        header = (AV_RB32(buf) & 0x000fffff) | s->syncword; // patch header",
          "content_same": false
        },
        {
          "line": 1954,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 9)",
          "old_line_content": "                    return -1;",
          "new_line_content": "                g->scalefac_compress = get_bits(&s->gb, 9);",
          "content_same": false
        },
        {
          "line": 2467,
          "old_api": null,
          "new_api": "ff_mpa_check_header",
          "old_text": null,
          "new_text": "ff_mpa_check_header(header)",
          "old_line_content": "        if(s->frames > 1) {",
          "new_line_content": "        if (ff_mpa_check_header(header) < 0) // Bad header, discard block",
          "content_same": false
        },
        {
          "line": 1957,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "                for(i=0;i<2;i++)",
          "new_line_content": "            blocksplit_flag = get_bits1(&s->gb);",
          "content_same": false
        },
        {
          "line": 2470,
          "old_api": null,
          "new_api": "ff_mpegaudio_decode_header",
          "old_text": null,
          "new_text": "ff_mpegaudio_decode_header((MPADecodeHeader *)m, header)",
          "old_line_content": "            bp = out_samples + s->coff[fr];",
          "new_line_content": "        ff_mpegaudio_decode_header((MPADecodeHeader *)m, header);",
          "content_same": false
        },
        {
          "line": 2471,
          "old_api": null,
          "new_api": "mp_decode_frame",
          "old_text": null,
          "new_text": "mp_decode_frame(m, outptr, buf, fsize)",
          "old_line_content": "            if(m->nb_channels == 1) {",
          "new_line_content": "        out_size += mp_decode_frame(m, outptr, buf, fsize);",
          "content_same": false
        },
        {
          "line": 1959,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 2)",
          "old_line_content": "                for(i=0;i<3;i++)",
          "new_line_content": "                g->block_type = get_bits(&s->gb, 2);",
          "content_same": false
        },
        {
          "line": 1964,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "                g->block_type = 0;",
          "new_line_content": "                g->switch_point = get_bits1(&s->gb);",
          "content_same": false
        },
        {
          "line": 1966,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 5)",
          "old_line_content": "                for(i=0;i<3;i++)",
          "new_line_content": "                    g->table_select[i] = get_bits(&s->gb, 5);",
          "content_same": false
        },
        {
          "line": 1968,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 3)",
          "old_line_content": "                /* compute huffman coded region sizes */",
          "new_line_content": "                    g->subblock_gain[i] = get_bits(&s->gb, 3);",
          "content_same": false
        },
        {
          "line": 1977,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 4)",
          "old_line_content": "",
          "new_line_content": "                region_address1 = get_bits(&s->gb, 4);",
          "content_same": false
        },
        {
          "line": 1978,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, 3)",
          "old_line_content": "            g->preflag = 0;",
          "new_line_content": "                region_address2 = get_bits(&s->gb, 3);",
          "content_same": false
        },
        {
          "line": 1979,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(s->avctx, \"region1=%d region2=%d\\n\",\n                        region_address1, region_address2)",
          "old_line_content": "            if (!s->lsf)",
          "new_line_content": "                dprintf(s->avctx, \"region1=%d region2=%d\\n\",",
          "content_same": false
        },
        {
          "line": 1984,
          "old_api": null,
          "new_api": "ff_compute_band_indexes",
          "old_text": null,
          "new_text": "ff_compute_band_indexes(s, g)",
          "old_line_content": "                    g->block_type, g->switch_point);",
          "new_line_content": "            ff_compute_band_indexes(s, g);",
          "content_same": false
        },
        {
          "line": 1988,
          "old_api": null,
          "new_api": "get_bits1",
          "old_text": null,
          "new_text": "get_bits1(&s->gb)",
          "old_line_content": "  if (!s->adu_mode) {",
          "new_line_content": "                g->preflag = get_bits1(&s->gb);",
          "content_same": false
        },
        {
          "line": 1991,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(s->avctx, \"block_type=%d switch_point=%d\\n\",\n                    g->block_type, g->switch_point)",
          "old_line_content": "    /* now we get bits from the main_data_begin offset */",
          "new_line_content": "            dprintf(s->avctx, \"block_type=%d switch_point=%d\\n\",",
          "content_same": false
        },
        {
          "line": 2000,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(s->avctx, \"seekback: %d\\n\", main_data_begin)",
          "old_line_content": "",
          "new_line_content": "    dprintf(s->avctx, \"seekback: %d\\n\", main_data_begin);",
          "content_same": false
        },
        {
          "line": 2003,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(s->last_buf + s->last_buf_size, ptr, EXTRABYTES)",
          "old_line_content": "            g = &s->granules[ch][gr];",
          "new_line_content": "    memcpy(s->last_buf + s->last_buf_size, ptr, EXTRABYTES);",
          "content_same": false
        },
        {
          "line": 2517,
          "old_api": null,
          "new_api": "NULL_IF_CONFIG_SMALL",
          "old_text": null,
          "new_text": "NULL_IF_CONFIG_SMALL(\"MP1 (MPEG audio layer 1)\")",
          "old_line_content": "    CODEC_ID_MP2,",
          "new_line_content": "    .long_name= NULL_IF_CONFIG_SMALL(\"MP1 (MPEG audio layer 1)\"),",
          "content_same": false
        },
        {
          "line": 2006,
          "old_api": null,
          "new_api": "skip_bits_long",
          "old_text": null,
          "new_text": "skip_bits_long(&s->gb, 8*(s->last_buf_size - main_data_begin))",
          "old_line_content": "                                            main_data_begin, s->last_buf_size, gr);",
          "new_line_content": "        skip_bits_long(&s->gb, 8*(s->last_buf_size - main_data_begin));",
          "content_same": false
        },
        {
          "line": 2012,
          "old_api": null,
          "new_api": "get_bits_count",
          "old_text": null,
          "new_text": "get_bits_count(&s->gb)",
          "old_line_content": "                    s->in_gb.buffer=NULL;",
          "new_line_content": "            if(get_bits_count(&s->gb)<0){",
          "content_same": false
        },
        {
          "line": 2013,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(s->avctx, AV_LOG_DEBUG, \"mdb:%d, lastbuf:%d skipping granule %d\\n\",\n                                            main_data_begin, s->last_buf_size, gr)",
          "old_line_content": "                }",
          "new_line_content": "                av_log(s->avctx, AV_LOG_DEBUG, \"mdb:%d, lastbuf:%d skipping granule %d\\n\",",
          "content_same": false
        },
        {
          "line": 2015,
          "old_api": null,
          "new_api": "skip_bits_long",
          "old_text": null,
          "new_text": "skip_bits_long(&s->gb, g->part2_3_length)",
          "old_line_content": "            }",
          "new_line_content": "                skip_bits_long(&s->gb, g->part2_3_length);",
          "content_same": false
        },
        {
          "line": 2016,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(g->sb_hybrid, 0, sizeof(g->sb_hybrid))",
          "old_line_content": "",
          "new_line_content": "                memset(g->sb_hybrid, 0, sizeof(g->sb_hybrid));",
          "content_same": false
        },
        {
          "line": 2018,
          "old_api": null,
          "new_api": "get_bits_count",
          "old_text": null,
          "new_text": "get_bits_count(&s->gb)",
          "old_line_content": "",
          "new_line_content": "                    skip_bits_long(&s->in_gb, get_bits_count(&s->gb) - s->gb.size_in_bits);",
          "content_same": false
        },
        {
          "line": 2533,
          "old_api": null,
          "new_api": "NULL_IF_CONFIG_SMALL",
          "old_text": null,
          "new_text": "NULL_IF_CONFIG_SMALL(\"MP2 (MPEG audio layer 2)\")",
          "old_line_content": "    CODEC_ID_MP3,",
          "new_line_content": "    .long_name= NULL_IF_CONFIG_SMALL(\"MP2 (MPEG audio layer 2)\"),",
          "content_same": false
        },
        {
          "line": 2025,
          "old_api": null,
          "new_api": "get_bits_count",
          "old_text": null,
          "new_text": "get_bits_count(&s->gb)",
          "old_line_content": "                slen2 = slen_table[1][g->scalefac_compress];",
          "new_line_content": "            bits_pos = get_bits_count(&s->gb);",
          "content_same": false
        },
        {
          "line": 2034,
          "old_api": null,
          "new_api": "dprintf",
          "old_text": null,
          "new_text": "dprintf(s->avctx, \"slen1=%d slen2=%d\\n\", slen1, slen2)",
          "old_line_content": "                        for(i=0;i<n;i++)",
          "new_line_content": "                dprintf(s->avctx, \"slen1=%d slen2=%d\\n\", slen1, slen2);",
          "content_same": false
        },
        {
          "line": 2549,
          "old_api": null,
          "new_api": "NULL_IF_CONFIG_SMALL",
          "old_text": null,
          "new_text": "NULL_IF_CONFIG_SMALL(\"MP3 (MPEG audio layer 3)\")",
          "old_line_content": "    CODEC_ID_MP3ADU,",
          "new_line_content": "    .long_name= NULL_IF_CONFIG_SMALL(\"MP3 (MPEG audio layer 3)\"),",
          "content_same": false
        },
        {
          "line": 2040,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, slen1)",
          "old_line_content": "                        for(i=0;i<3;i++)",
          "new_line_content": "                            g->scale_factors[j++] = get_bits(&s->gb, slen1);",
          "content_same": false
        },
        {
          "line": 2047,
          "old_api": null,
          "new_api": "get_bits",
          "old_text": null,
          "new_text": "get_bits(&s->gb, slen2)",
          "old_line_content": "                    sc = s->granules[ch][0].scale_factors;",
          "new_line_content": "                            g->scale_factors[j++] = get_bits(&s->gb, slen2);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1541,
          "old_api": "RENAME",
          "new_api": null,
          "old_text": "RENAME(exp_table)",
          "new_text": null,
          "old_line_content": "            v = RENAME(exp_table)[ exponents[pos] ];",
          "new_line_content": "/* Following is a optimized code for",
          "content_same": false
        },
        {
          "line": 2055,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, slen)",
          "new_text": null,
          "old_line_content": "                                    g->scale_factors[j++] = get_bits(&s->gb, slen);",
          "new_line_content": "                    sc = s->granules[ch][0].scale_factors;",
          "content_same": false
        },
        {
          "line": 1543,
          "old_api": "get_bits1",
          "new_api": null,
          "old_text": "get_bits1(&s->gb)",
          "new_text": null,
          "old_line_content": "            if(get_bits1(&s->gb)) //FIXME try to flip the sign bit in int32_t, same above",
          "new_line_content": "            if(get_bits1(&s->gb))",
          "content_same": false
        },
        {
          "line": 2572,
          "old_api": "NULL_IF_CONFIG_SMALL",
          "new_api": null,
          "old_text": "NULL_IF_CONFIG_SMALL(\"MP3onMP4\")",
          "new_text": null,
          "old_line_content": "    .long_name= NULL_IF_CONFIG_SMALL(\"MP3onMP4\"),",
          "new_line_content": "    AVMEDIA_TYPE_AUDIO,",
          "content_same": false
        },
        {
          "line": 1550,
          "old_api": "get_bits_count",
          "new_api": null,
          "old_text": "get_bits_count(&s->gb)",
          "new_text": null,
          "old_line_content": "    bits_left = end_pos2 - get_bits_count(&s->gb);",
          "new_line_content": "#else",
          "content_same": false
        },
        {
          "line": 1553,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(s->avctx, AV_LOG_ERROR, \"bits_left=%d\\n\", bits_left)",
          "new_text": null,
          "old_line_content": "        av_log(s->avctx, AV_LOG_ERROR, \"bits_left=%d\\n\", bits_left);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1556,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(s->avctx, AV_LOG_ERROR, \"bits_left=%d\\n\", bits_left)",
          "new_text": null,
          "old_line_content": "        av_log(s->avctx, AV_LOG_ERROR, \"bits_left=%d\\n\", bits_left);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1559,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&g->sb_hybrid[s_index], 0, sizeof(*g->sb_hybrid)*(576 - s_index))",
          "new_text": null,
          "old_line_content": "    memset(&g->sb_hybrid[s_index], 0, sizeof(*g->sb_hybrid)*(576 - s_index));",
          "new_line_content": "//av_log(NULL, AV_LOG_ERROR, \"left:%d buf:%p\\n\", bits_left, s->in_gb.buffer);",
          "content_same": false
        },
        {
          "line": 1560,
          "old_api": "skip_bits_long",
          "new_api": null,
          "old_text": "skip_bits_long(&s->gb, bits_left)",
          "new_text": null,
          "old_line_content": "    skip_bits_long(&s->gb, bits_left);",
          "new_line_content": "    if (bits_left < 0 && s->error_recognition >= FF_ER_COMPLIANT) {",
          "content_same": false
        },
        {
          "line": 1562,
          "old_api": "get_bits_count",
          "new_api": null,
          "old_text": "get_bits_count(&s->gb)",
          "new_text": null,
          "old_line_content": "    i= get_bits_count(&s->gb);",
          "new_line_content": "        s_index=0;",
          "content_same": false
        },
        {
          "line": 1563,
          "old_api": "switch_buffer",
          "new_api": null,
          "old_text": "switch_buffer(s, &i, &end_pos, &end_pos2)",
          "new_text": null,
          "old_line_content": "    switch_buffer(s, &i, &end_pos, &end_pos2);",
          "new_line_content": "    }else if(bits_left > 0 && s->error_recognition >= FF_ER_AGGRESSIVE){",
          "content_same": false
        },
        {
          "line": 2084,
          "old_api": "lsf_sf_expand",
          "new_api": null,
          "old_text": "lsf_sf_expand(slen, sf, 6, 6, 0)",
          "new_text": null,
          "old_line_content": "                        lsf_sf_expand(slen, sf, 6, 6, 0);",
          "new_line_content": "                } else {",
          "content_same": false
        },
        {
          "line": 2087,
          "old_api": "lsf_sf_expand",
          "new_api": null,
          "old_text": "lsf_sf_expand(slen, sf - 180, 4, 4, 0)",
          "new_text": null,
          "old_line_content": "                        lsf_sf_expand(slen, sf - 180, 4, 4, 0);",
          "new_line_content": "                sf = g->scalefac_compress;",
          "content_same": false
        },
        {
          "line": 2090,
          "old_api": "lsf_sf_expand",
          "new_api": null,
          "old_text": "lsf_sf_expand(slen, sf - 244, 3, 0, 0)",
          "new_text": null,
          "old_line_content": "                        lsf_sf_expand(slen, sf - 244, 3, 0, 0);",
          "new_line_content": "                    sf >>= 1;",
          "content_same": false
        },
        {
          "line": 2096,
          "old_api": "lsf_sf_expand",
          "new_api": null,
          "old_text": "lsf_sf_expand(slen, sf, 5, 4, 4)",
          "new_text": null,
          "old_line_content": "                        lsf_sf_expand(slen, sf, 5, 4, 4);",
          "new_line_content": "                        tindex2 = 4;",
          "content_same": false
        },
        {
          "line": 2099,
          "old_api": "lsf_sf_expand",
          "new_api": null,
          "old_text": "lsf_sf_expand(slen, sf - 400, 5, 4, 0)",
          "new_text": null,
          "old_line_content": "                        lsf_sf_expand(slen, sf - 400, 5, 4, 0);",
          "new_line_content": "                        tindex2 = 5;",
          "content_same": false
        },
        {
          "line": 2102,
          "old_api": "lsf_sf_expand",
          "new_api": null,
          "old_text": "lsf_sf_expand(slen, sf - 500, 3, 0, 0)",
          "new_text": null,
          "old_line_content": "                        lsf_sf_expand(slen, sf - 500, 3, 0, 0);",
          "new_line_content": "                    /* normal case */",
          "content_same": false
        },
        {
          "line": 1601,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(ptr1, tmp, len * 3 * sizeof(*ptr1))",
          "new_text": null,
          "old_line_content": "        memcpy(ptr1, tmp, len * 3 * sizeof(*ptr1));",
          "new_line_content": "        dst = tmp;",
          "content_same": false
        },
        {
          "line": 2114,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, sl)",
          "new_text": null,
          "old_line_content": "                            g->scale_factors[j++] = get_bits(&s->gb, sl);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1612,
          "old_api": "INTFLOAT (*is_tab)",
          "new_api": null,
          "old_text": "INTFLOAT (*is_tab)",
          "new_text": null,
          "old_line_content": "    INTFLOAT (*is_tab)[16], *tab0, *tab1, tmp0, tmp1, v1, v2;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2125,
          "old_api": "exponents_from_scale_factors",
          "new_api": null,
          "old_text": "exponents_from_scale_factors(s, g, exponents)",
          "new_text": null,
          "old_line_content": "            exponents_from_scale_factors(s, g, exponents);",
          "new_line_content": "                            g->scale_factors[j++] = 0;",
          "content_same": false
        },
        {
          "line": 2128,
          "old_api": "huffman_decode",
          "new_api": null,
          "old_text": "huffman_decode(s, g, exponents, bits_pos + g->part2_3_length)",
          "new_text": null,
          "old_line_content": "            huffman_decode(s, g, exponents, bits_pos + g->part2_3_length);",
          "new_line_content": "                /* XXX: should compute exact size */",
          "content_same": false
        },
        {
          "line": 2132,
          "old_api": "compute_stereo",
          "new_api": null,
          "old_text": "compute_stereo(s, &s->granules[0][gr], &s->granules[1][gr])",
          "new_text": null,
          "old_line_content": "            compute_stereo(s, &s->granules[0][gr], &s->granules[1][gr]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2137,
          "old_api": "reorder_block",
          "new_api": null,
          "old_text": "reorder_block(s, g)",
          "new_text": null,
          "old_line_content": "            reorder_block(s, g);",
          "new_line_content": "        } /* ch */",
          "content_same": false
        },
        {
          "line": 2138,
          "old_api": "compute_antialias",
          "new_api": null,
          "old_text": "compute_antialias(s, g)",
          "new_text": null,
          "old_line_content": "            compute_antialias(s, g);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2139,
          "old_api": "compute_imdct",
          "new_api": null,
          "old_text": "compute_imdct(s, g, &s->sb_samples[ch][18 * gr][0], s->mdct_buf[ch])",
          "new_text": null,
          "old_line_content": "            compute_imdct(s, g, &s->sb_samples[ch][18 * gr][0], s->mdct_buf[ch]);",
          "new_line_content": "        if (s->nb_channels == 2)",
          "content_same": false
        },
        {
          "line": 2142,
          "old_api": "get_bits_count",
          "new_api": null,
          "old_text": "get_bits_count(&s->gb)",
          "new_text": null,
          "old_line_content": "    if(get_bits_count(&s->gb)<0)",
          "new_line_content": "        for(ch=0;ch<s->nb_channels;ch++) {",
          "content_same": false
        },
        {
          "line": 2143,
          "old_api": "get_bits_count",
          "new_api": null,
          "old_text": "get_bits_count(&s->gb)",
          "new_text": null,
          "old_line_content": "        skip_bits_long(&s->gb, -get_bits_count(&s->gb));",
          "new_line_content": "            g = &s->granules[ch][gr];",
          "content_same": false
        },
        {
          "line": 2153,
          "old_api": "init_get_bits",
          "new_api": null,
          "old_text": "init_get_bits(&s->gb, buf + HEADER_SIZE, (buf_size - HEADER_SIZE)*8)",
          "new_text": null,
          "old_line_content": "    init_get_bits(&s->gb, buf + HEADER_SIZE, (buf_size - HEADER_SIZE)*8);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2157,
          "old_api": "skip_bits",
          "new_api": null,
          "old_text": "skip_bits(&s->gb, 16)",
          "new_text": null,
          "old_line_content": "        skip_bits(&s->gb, 16);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2159,
          "old_api": "dprintf",
          "new_api": null,
          "old_text": "dprintf(s->avctx, \"frame %d:\\n\", s->frame_count)",
          "new_text": null,
          "old_line_content": "    dprintf(s->avctx, \"frame %d:\\n\", s->frame_count);",
          "new_line_content": "    OUT_INT *samples_ptr;",
          "content_same": false
        },
        {
          "line": 2163,
          "old_api": "mp_decode_layer1",
          "new_api": null,
          "old_text": "mp_decode_layer1(s)",
          "new_text": null,
          "old_line_content": "        nb_frames = mp_decode_layer1(s);",
          "new_line_content": "    /* skip error protection field */",
          "content_same": false
        },
        {
          "line": 1656,
          "old_api": "MULLx",
          "new_api": null,
          "old_text": "MULLx(tmp0, v1, FRAC_BITS)",
          "new_text": null,
          "old_line_content": "                        tab0[j] = MULLx(tmp0, v1, FRAC_BITS);",
          "new_line_content": "                    sf = g1->scale_factors[k + l];",
          "content_same": false
        },
        {
          "line": 1657,
          "old_api": "MULLx",
          "new_api": null,
          "old_text": "MULLx(tmp0, v2, FRAC_BITS)",
          "new_text": null,
          "old_line_content": "                        tab1[j] = MULLx(tmp0, v2, FRAC_BITS);",
          "new_line_content": "                    if (sf >= sf_max)",
          "content_same": false
        },
        {
          "line": 2172,
          "old_api": "mp_decode_layer3",
          "new_api": null,
          "old_text": "mp_decode_layer3(s)",
          "new_text": null,
          "old_line_content": "        nb_frames = mp_decode_layer3(s);",
          "new_line_content": "        break;",
          "content_same": false
        },
        {
          "line": 2176,
          "old_api": "align_get_bits",
          "new_api": null,
          "old_text": "align_get_bits(&s->gb)",
          "new_text": null,
          "old_line_content": "            align_get_bits(&s->gb);",
          "new_line_content": "        break;",
          "content_same": false
        },
        {
          "line": 2177,
          "old_api": "get_bits_left",
          "new_api": null,
          "old_text": "get_bits_left(&s->gb)",
          "new_text": null,
          "old_line_content": "            i= get_bits_left(&s->gb)>>3;",
          "new_line_content": "    case 3:",
          "content_same": false
        },
        {
          "line": 2179,
          "old_api": "get_bits_count",
          "new_api": null,
          "old_text": "get_bits_count(&s->gb)",
          "new_text": null,
          "old_line_content": "                memmove(s->last_buf, s->gb.buffer + (get_bits_count(&s->gb)>>3), i);",
          "new_line_content": "    default:",
          "content_same": false
        },
        {
          "line": 1667,
          "old_api": "MULLx",
          "new_api": null,
          "old_text": "MULLx(tmp0 + tmp1, ISQRT2, FRAC_BITS)",
          "new_text": null,
          "old_line_content": "                            tab0[j] = MULLx(tmp0 + tmp1, ISQRT2, FRAC_BITS);",
          "new_line_content": "                } else {",
          "content_same": false
        },
        {
          "line": 1668,
          "old_api": "MULLx",
          "new_api": null,
          "old_text": "MULLx(tmp0 - tmp1, ISQRT2, FRAC_BITS)",
          "new_text": null,
          "old_line_content": "                            tab1[j] = MULLx(tmp0 - tmp1, ISQRT2, FRAC_BITS);",
          "new_line_content": "                found1:",
          "content_same": false
        },
        {
          "line": 2182,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(s->avctx, AV_LOG_ERROR, \"invalid old backstep %d\\n\", i)",
          "new_text": null,
          "old_line_content": "                av_log(s->avctx, AV_LOG_ERROR, \"invalid old backstep %d\\n\", i);",
          "new_line_content": "        s->last_buf_size=0;",
          "content_same": false
        },
        {
          "line": 2188,
          "old_api": "get_bits_count",
          "new_api": null,
          "old_text": "get_bits_count(&s->gb)",
          "new_text": null,
          "old_line_content": "        assert((get_bits_count(&s->gb) & 7) == 0);",
          "new_line_content": "                s->last_buf_size=i;",
          "content_same": false
        },
        {
          "line": 2189,
          "old_api": "get_bits_left",
          "new_api": null,
          "old_text": "get_bits_left(&s->gb)",
          "new_text": null,
          "old_line_content": "        i= get_bits_left(&s->gb)>>3;",
          "new_line_content": "            }else",
          "content_same": false
        },
        {
          "line": 2193,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(s->avctx, AV_LOG_ERROR, \"invalid new backstep %d\\n\", i)",
          "new_text": null,
          "old_line_content": "                av_log(s->avctx, AV_LOG_ERROR, \"invalid new backstep %d\\n\", i);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2194,
          "old_api": "FFMIN",
          "new_api": null,
          "old_text": "FFMIN(BACKSTEP_SIZE, buf_size - HEADER_SIZE)",
          "new_text": null,
          "old_line_content": "            i= FFMIN(BACKSTEP_SIZE, buf_size - HEADER_SIZE);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2207,
          "old_api": "RENAME",
          "new_api": null,
          "old_text": "RENAME(ff_mpa_synth_filter)(s->synth_buf[ch], &(s->synth_buf_offset[ch]),\n                         RENAME(ff_mpa_synth_window), &s->dither_state,\n                         samples_ptr, s->nb_channels,\n                         s->sb_samples[ch][i])",
          "new_text": null,
          "old_line_content": "            RENAME(ff_mpa_synth_filter)(s->synth_buf[ch], &(s->synth_buf_offset[ch]),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2208,
          "old_api": "RENAME",
          "new_api": null,
          "old_text": "RENAME(ff_mpa_synth_window)",
          "new_text": null,
          "old_line_content": "                         RENAME(ff_mpa_synth_window), &s->dither_state,",
          "new_line_content": "        break;",
          "content_same": false
        },
        {
          "line": 1700,
          "old_api": "MULLx",
          "new_api": null,
          "old_text": "MULLx(tmp0, v1, FRAC_BITS)",
          "new_text": null,
          "old_line_content": "                    tab0[j] = MULLx(tmp0, v1, FRAC_BITS);",
          "new_line_content": "                k = (i == 21) ? 20 : i;",
          "content_same": false
        },
        {
          "line": 1701,
          "old_api": "MULLx",
          "new_api": null,
          "old_text": "MULLx(tmp0, v2, FRAC_BITS)",
          "new_text": null,
          "old_line_content": "                    tab1[j] = MULLx(tmp0, v2, FRAC_BITS);",
          "new_line_content": "                sf = g1->scale_factors[k];",
          "content_same": false
        },
        {
          "line": 1711,
          "old_api": "MULLx",
          "new_api": null,
          "old_text": "MULLx(tmp0 + tmp1, ISQRT2, FRAC_BITS)",
          "new_text": null,
          "old_line_content": "                        tab0[j] = MULLx(tmp0 + tmp1, ISQRT2, FRAC_BITS);",
          "new_line_content": "            } else {",
          "content_same": false
        },
        {
          "line": 1712,
          "old_api": "MULLx",
          "new_api": null,
          "old_text": "MULLx(tmp0 - tmp1, ISQRT2, FRAC_BITS)",
          "new_text": null,
          "old_line_content": "                        tab1[j] = MULLx(tmp0 - tmp1, ISQRT2, FRAC_BITS);",
          "new_line_content": "            found2:",
          "content_same": false
        },
        {
          "line": 2232,
          "old_api": "AV_RB32",
          "new_api": null,
          "old_text": "AV_RB32(buf)",
          "new_text": null,
          "old_line_content": "    header = AV_RB32(buf);",
          "new_line_content": "    MPADecodeContext *s = avctx->priv_data;",
          "content_same": false
        },
        {
          "line": 2233,
          "old_api": "ff_mpa_check_header",
          "new_api": null,
          "old_text": "ff_mpa_check_header(header)",
          "new_text": null,
          "old_line_content": "    if(ff_mpa_check_header(header) < 0){",
          "new_line_content": "    uint32_t header;",
          "content_same": false
        },
        {
          "line": 2234,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_ERROR, \"Header missing\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(avctx, AV_LOG_ERROR, \"Header missing\\n\");",
          "new_line_content": "    int out_size;",
          "content_same": false
        },
        {
          "line": 2238,
          "old_api": "ff_mpegaudio_decode_header",
          "new_api": null,
          "old_text": "ff_mpegaudio_decode_header((MPADecodeHeader *)s, header)",
          "new_text": null,
          "old_line_content": "    if (ff_mpegaudio_decode_header((MPADecodeHeader *)s, header) == 1) {",
          "new_line_content": "        return -1;",
          "content_same": false
        },
        {
          "line": 2253,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_ERROR, \"incomplete frame\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(avctx, AV_LOG_ERROR, \"incomplete frame\\n\");",
          "new_line_content": "    avctx->bit_rate = s->bit_rate;",
          "content_same": false
        },
        {
          "line": 2256,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_ERROR, \"incorrect frame size\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(avctx, AV_LOG_ERROR, \"incorrect frame size\\n\");",
          "new_line_content": "    if(*data_size < 1152*avctx->channels*sizeof(OUT_INT))",
          "content_same": false
        },
        {
          "line": 2260,
          "old_api": "mp_decode_frame",
          "new_api": null,
          "old_text": "mp_decode_frame(s, out_samples, buf, buf_size)",
          "new_text": null,
          "old_line_content": "    out_size = mp_decode_frame(s, out_samples, buf, buf_size);",
          "new_line_content": "    if(s->frame_size<=0 || s->frame_size > buf_size){",
          "content_same": false
        },
        {
          "line": 2266,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_DEBUG, \"Error while decoding MPEG audio frame.\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(avctx, AV_LOG_DEBUG, \"Error while decoding MPEG audio frame.\\n\"); //FIXME return -1 / but also return the number of bytes consumed",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1759,
          "old_api": "INT_AA",
          "new_api": null,
          "old_text": "INT_AA(0)",
          "new_text": null,
          "old_line_content": "        INT_AA(0)",
          "new_line_content": "        csa = &csa_table[0][0];",
          "content_same": false
        },
        {
          "line": 1760,
          "old_api": "INT_AA",
          "new_api": null,
          "old_text": "INT_AA(1)",
          "new_text": null,
          "old_line_content": "        INT_AA(1)",
          "new_line_content": "#define INT_AA(j) \\",
          "content_same": false
        },
        {
          "line": 2273,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(s->synth_buf, 0, sizeof(s->synth_buf))",
          "new_text": null,
          "old_line_content": "    memset(s->synth_buf, 0, sizeof(s->synth_buf));",
          "new_line_content": "    }else",
          "content_same": false
        },
        {
          "line": 1761,
          "old_api": "INT_AA",
          "new_api": null,
          "old_text": "INT_AA(2)",
          "new_text": null,
          "old_line_content": "        INT_AA(2)",
          "new_line_content": "            tmp0 = ptr[-1-j];\\",
          "content_same": false
        },
        {
          "line": 1762,
          "old_api": "INT_AA",
          "new_api": null,
          "old_text": "INT_AA(3)",
          "new_text": null,
          "old_line_content": "        INT_AA(3)",
          "new_line_content": "            tmp1 = ptr[   j];\\",
          "content_same": false
        },
        {
          "line": 1763,
          "old_api": "INT_AA",
          "new_api": null,
          "old_text": "INT_AA(4)",
          "new_text": null,
          "old_line_content": "        INT_AA(4)",
          "new_line_content": "            tmp2= MULH(tmp0 + tmp1, csa[0+4*j]);\\",
          "content_same": false
        },
        {
          "line": 1764,
          "old_api": "INT_AA",
          "new_api": null,
          "old_text": "INT_AA(5)",
          "new_text": null,
          "old_line_content": "        INT_AA(5)",
          "new_line_content": "            ptr[-1-j] = 4*(tmp2 - MULH(tmp1, csa[2+4*j]));\\",
          "content_same": false
        },
        {
          "line": 1765,
          "old_api": "INT_AA",
          "new_api": null,
          "old_text": "INT_AA(6)",
          "new_text": null,
          "old_line_content": "        INT_AA(6)",
          "new_line_content": "            ptr[   j] = 4*(tmp2 + MULH(tmp0, csa[3+4*j]));",
          "content_same": false
        },
        {
          "line": 1766,
          "old_api": "INT_AA",
          "new_api": null,
          "old_text": "INT_AA(7)",
          "new_text": null,
          "old_line_content": "        INT_AA(7)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2302,
          "old_api": "AV_RB32",
          "new_api": null,
          "old_text": "AV_RB32(buf)",
          "new_text": null,
          "old_line_content": "    header = AV_RB32(buf) | 0xffe00000;",
          "new_line_content": "        return buf_size;",
          "content_same": false
        },
        {
          "line": 2304,
          "old_api": "ff_mpa_check_header",
          "new_api": null,
          "old_text": "ff_mpa_check_header(header)",
          "new_text": null,
          "old_line_content": "    if (ff_mpa_check_header(header) < 0) { // Bad header, discard frame",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2309,
          "old_api": "ff_mpegaudio_decode_header",
          "new_api": null,
          "old_text": "ff_mpegaudio_decode_header((MPADecodeHeader *)s, header)",
          "new_text": null,
          "old_line_content": "    ff_mpegaudio_decode_header((MPADecodeHeader *)s, header);",
          "new_line_content": "    // Get header and restore sync word",
          "content_same": false
        },
        {
          "line": 1798,
          "old_api": "FLOAT_AA",
          "new_api": null,
          "old_text": "FLOAT_AA(0)",
          "new_text": null,
          "old_line_content": "        FLOAT_AA(0)",
          "new_line_content": "        float tmp0, tmp1;",
          "content_same": false
        },
        {
          "line": 1799,
          "old_api": "FLOAT_AA",
          "new_api": null,
          "old_text": "FLOAT_AA(1)",
          "new_text": null,
          "old_line_content": "        FLOAT_AA(1)",
          "new_line_content": "        float *csa = &csa_table_float[0][0];",
          "content_same": false
        },
        {
          "line": 1800,
          "old_api": "FLOAT_AA",
          "new_api": null,
          "old_text": "FLOAT_AA(2)",
          "new_text": null,
          "old_line_content": "        FLOAT_AA(2)",
          "new_line_content": "#define FLOAT_AA(j)\\",
          "content_same": false
        },
        {
          "line": 1801,
          "old_api": "FLOAT_AA",
          "new_api": null,
          "old_text": "FLOAT_AA(3)",
          "new_text": null,
          "old_line_content": "        FLOAT_AA(3)",
          "new_line_content": "        tmp0= ptr[-1-j];\\",
          "content_same": false
        },
        {
          "line": 1802,
          "old_api": "FLOAT_AA",
          "new_api": null,
          "old_text": "FLOAT_AA(4)",
          "new_text": null,
          "old_line_content": "        FLOAT_AA(4)",
          "new_line_content": "        tmp1= ptr[   j];\\",
          "content_same": false
        },
        {
          "line": 1803,
          "old_api": "FLOAT_AA",
          "new_api": null,
          "old_text": "FLOAT_AA(5)",
          "new_text": null,
          "old_line_content": "        FLOAT_AA(5)",
          "new_line_content": "        ptr[-1-j] = tmp0 * csa[0+4*j] - tmp1 * csa[1+4*j];\\",
          "content_same": false
        },
        {
          "line": 1804,
          "old_api": "FLOAT_AA",
          "new_api": null,
          "old_text": "FLOAT_AA(6)",
          "new_text": null,
          "old_line_content": "        FLOAT_AA(6)",
          "new_line_content": "        ptr[   j] = tmp0 * csa[1+4*j] + tmp1 * csa[0+4*j];",
          "content_same": false
        },
        {
          "line": 1805,
          "old_api": "FLOAT_AA",
          "new_api": null,
          "old_text": "FLOAT_AA(7)",
          "new_text": null,
          "old_line_content": "        FLOAT_AA(7)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2321,
          "old_api": "mp_decode_frame",
          "new_api": null,
          "old_text": "mp_decode_frame(s, out_samples, buf, buf_size)",
          "new_text": null,
          "old_line_content": "        out_size = mp_decode_frame(s, out_samples, buf, buf_size);",
          "new_line_content": "    avctx->bit_rate = s->bit_rate;",
          "content_same": false
        },
        {
          "line": 2365,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_ERROR, \"Codec extradata missing or too short.\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(avctx, AV_LOG_ERROR, \"Codec extradata missing or too short.\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1854,
          "old_api": "imdct36",
          "new_api": null,
          "old_text": "imdct36(out_ptr, buf, ptr, win)",
          "new_text": null,
          "old_line_content": "        imdct36(out_ptr, buf, ptr, win);",
          "new_line_content": "        out_ptr = sb_samples + j;",
          "content_same": false
        },
        {
          "line": 2369,
          "old_api": "ff_mpeg4audio_get_config",
          "new_api": null,
          "old_text": "ff_mpeg4audio_get_config(&cfg, avctx->extradata, avctx->extradata_size)",
          "new_text": null,
          "old_line_content": "    ff_mpeg4audio_get_config(&cfg, avctx->extradata, avctx->extradata_size);",
          "new_line_content": "    MPEG4AudioConfig cfg;",
          "content_same": false
        },
        {
          "line": 2371,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_ERROR, \"Invalid channel config number.\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(avctx, AV_LOG_ERROR, \"Invalid channel config number.\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1868,
          "old_api": "imdct12",
          "new_api": null,
          "old_text": "imdct12(out2, ptr + 0)",
          "new_text": null,
          "old_line_content": "        imdct12(out2, ptr + 0);",
          "new_line_content": "        /* select frequency inversion */",
          "content_same": false
        },
        {
          "line": 1870,
          "old_api": "MULH3",
          "new_api": null,
          "old_text": "MULH3(out2[i    ], win[i    ], 1)",
          "new_text": null,
          "old_line_content": "            *out_ptr     = MULH3(out2[i    ], win[i    ], 1) + buf[i + 6*1];",
          "new_line_content": "        out_ptr = sb_samples + j;",
          "content_same": false
        },
        {
          "line": 1871,
          "old_api": "MULH3",
          "new_api": null,
          "old_text": "MULH3(out2[i + 6], win[i + 6], 1)",
          "new_text": null,
          "old_line_content": "            buf[i + 6*2] = MULH3(out2[i + 6], win[i + 6], 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1874,
          "old_api": "imdct12",
          "new_api": null,
          "old_text": "imdct12(out2, ptr + 1)",
          "new_text": null,
          "old_line_content": "        imdct12(out2, ptr + 1);",
          "new_line_content": "            out_ptr += SBLIMIT;",
          "content_same": false
        },
        {
          "line": 2389,
          "old_api": "av_mallocz",
          "new_api": null,
          "old_text": "av_mallocz(sizeof(MPADecodeContext))",
          "new_text": null,
          "old_line_content": "    s->mp3decctx[0] = av_mallocz(sizeof(MPADecodeContext));",
          "new_line_content": "        s->syncword = 0xfff00000;",
          "content_same": false
        },
        {
          "line": 1877,
          "old_api": "MULH3",
          "new_api": null,
          "old_text": "MULH3(out2[i + 6], win[i + 6], 1)",
          "new_text": null,
          "old_line_content": "            buf[i + 6*0] = MULH3(out2[i + 6], win[i + 6], 1);",
          "new_line_content": "        for(i=0;i<6;i++) {",
          "content_same": false
        },
        {
          "line": 2392,
          "old_api": "decode_init",
          "new_api": null,
          "old_text": "decode_init(avctx)",
          "new_text": null,
          "old_line_content": "    decode_init(avctx);",
          "new_line_content": "     * We replace avctx->priv_data with the context of the first decoder so that",
          "content_same": false
        },
        {
          "line": 1880,
          "old_api": "imdct12",
          "new_api": null,
          "old_text": "imdct12(out2, ptr + 2)",
          "new_text": null,
          "old_line_content": "        imdct12(out2, ptr + 2);",
          "new_line_content": "            out_ptr += SBLIMIT;",
          "content_same": false
        },
        {
          "line": 1883,
          "old_api": "MULH3",
          "new_api": null,
          "old_text": "MULH3(out2[i + 6], win[i + 6], 1)",
          "new_text": null,
          "old_line_content": "            buf[i + 6*1] = MULH3(out2[i + 6], win[i + 6], 1);",
          "new_line_content": "        for(i=0;i<6;i++) {",
          "content_same": false
        },
        {
          "line": 2401,
          "old_api": "av_mallocz",
          "new_api": null,
          "old_text": "av_mallocz(sizeof(MPADecodeContext))",
          "new_text": null,
          "old_line_content": "        s->mp3decctx[i] = av_mallocz(sizeof(MPADecodeContext));",
          "new_line_content": "    // Restore mp3on4 context pointer",
          "content_same": false
        },
        {
          "line": 2417,
          "old_api": "av_free",
          "new_api": null,
          "old_text": "av_free(s->mp3decctx[i])",
          "new_text": null,
          "old_line_content": "            av_free(s->mp3decctx[i]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1912,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 8)",
          "new_text": null,
          "old_line_content": "        main_data_begin = get_bits(&s->gb, 8);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1913,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, s->nb_channels)",
          "new_text": null,
          "old_line_content": "        private_bits = get_bits(&s->gb, s->nb_channels);",
          "new_line_content": "    int nb_granules, main_data_begin, private_bits;",
          "content_same": false
        },
        {
          "line": 1916,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 9)",
          "new_text": null,
          "old_line_content": "        main_data_begin = get_bits(&s->gb, 9);",
          "new_line_content": "    int16_t exponents[576]; //FIXME try INTFLOAT",
          "content_same": false
        },
        {
          "line": 1918,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 3)",
          "new_text": null,
          "old_line_content": "            private_bits = get_bits(&s->gb, 3);",
          "new_line_content": "    /* read side info */",
          "content_same": false
        },
        {
          "line": 1930,
          "old_api": "dprintf",
          "new_api": null,
          "old_text": "dprintf(s->avctx, \"gr=%d ch=%d: side_info\\n\", gr, ch)",
          "new_text": null,
          "old_line_content": "            dprintf(s->avctx, \"gr=%d ch=%d: side_info\\n\", gr, ch);",
          "new_line_content": "        for(ch=0;ch<s->nb_channels;ch++) {",
          "content_same": false
        },
        {
          "line": 1933,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 9)",
          "new_text": null,
          "old_line_content": "            g->big_values = get_bits(&s->gb, 9);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1935,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(s->avctx, AV_LOG_ERROR, \"big_values too big\\n\")",
          "new_text": null,
          "old_line_content": "                av_log(s->avctx, AV_LOG_ERROR, \"big_values too big\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1939,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 8)",
          "new_text": null,
          "old_line_content": "            g->global_gain = get_bits(&s->gb, 8);",
          "new_line_content": "            g = &s->granules[ch][gr];",
          "content_same": false
        },
        {
          "line": 2452,
          "old_api": "AV_RB16",
          "new_api": null,
          "old_text": "AV_RB16(buf)",
          "new_text": null,
          "old_line_content": "        fsize = AV_RB16(buf) >> 4;",
          "new_line_content": "        return -1;",
          "content_same": false
        },
        {
          "line": 2453,
          "old_api": "FFMIN3",
          "new_api": null,
          "old_text": "FFMIN3(fsize, len, MPA_MAX_CODED_FRAME_SIZE)",
          "new_text": null,
          "old_line_content": "        fsize = FFMIN3(fsize, len, MPA_MAX_CODED_FRAME_SIZE);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2455,
          "old_api": "assert (m != NULL)",
          "new_api": null,
          "old_text": "assert (m != NULL)",
          "new_text": null,
          "old_line_content": "        assert (m != NULL);",
          "new_line_content": "    outptr = s->frames == 1 ? out_samples : decoded_buf;",
          "content_same": false
        },
        {
          "line": 2457,
          "old_api": "AV_RB32",
          "new_api": null,
          "old_text": "AV_RB32(buf)",
          "new_text": null,
          "old_line_content": "        header = (AV_RB32(buf) & 0x000fffff) | s->syncword; // patch header",
          "new_line_content": "    avctx->bit_rate = 0;",
          "content_same": false
        },
        {
          "line": 1946,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 9)",
          "new_text": null,
          "old_line_content": "                g->scalefac_compress = get_bits(&s->gb, 9);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2459,
          "old_api": "ff_mpa_check_header",
          "new_api": null,
          "old_text": "ff_mpa_check_header(header)",
          "new_text": null,
          "old_line_content": "        if (ff_mpa_check_header(header) < 0) // Bad header, discard block",
          "new_line_content": "    for (fr = 0; fr < s->frames; fr++) {",
          "content_same": false
        },
        {
          "line": 1948,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 4)",
          "new_text": null,
          "old_line_content": "                g->scalefac_compress = get_bits(&s->gb, 4);",
          "new_line_content": "            /* if MS stereo only is selected, we precompute the",
          "content_same": false
        },
        {
          "line": 1949,
          "old_api": "get_bits1",
          "new_api": null,
          "old_text": "get_bits1(&s->gb)",
          "new_text": null,
          "old_line_content": "            blocksplit_flag = get_bits1(&s->gb);",
          "new_line_content": "               1/sqrt(2) renormalization factor */",
          "content_same": false
        },
        {
          "line": 2462,
          "old_api": "ff_mpegaudio_decode_header",
          "new_api": null,
          "old_text": "ff_mpegaudio_decode_header((MPADecodeHeader *)m, header)",
          "new_text": null,
          "old_line_content": "        ff_mpegaudio_decode_header((MPADecodeHeader *)m, header);",
          "new_line_content": "        m = s->mp3decctx[fr];",
          "content_same": false
        },
        {
          "line": 1951,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 2)",
          "new_text": null,
          "old_line_content": "                g->block_type = get_bits(&s->gb, 2);",
          "new_line_content": "                MODE_EXT_MS_STEREO)",
          "content_same": false
        },
        {
          "line": 1953,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(s->avctx, AV_LOG_ERROR, \"invalid block type\\n\")",
          "new_text": null,
          "old_line_content": "                    av_log(s->avctx, AV_LOG_ERROR, \"invalid block type\\n\");",
          "new_line_content": "            if (s->lsf)",
          "content_same": false
        },
        {
          "line": 1958,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 5)",
          "new_text": null,
          "old_line_content": "                    g->table_select[i] = get_bits(&s->gb, 5);",
          "new_line_content": "            if (blocksplit_flag) {",
          "content_same": false
        },
        {
          "line": 1960,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 3)",
          "new_text": null,
          "old_line_content": "                    g->subblock_gain[i] = get_bits(&s->gb, 3);",
          "new_line_content": "                if (g->block_type == 0){",
          "content_same": false
        },
        {
          "line": 1967,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 5)",
          "new_text": null,
          "old_line_content": "                    g->table_select[i] = get_bits(&s->gb, 5);",
          "new_line_content": "                for(i=0;i<3;i++)",
          "content_same": false
        },
        {
          "line": 1970,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, 3)",
          "new_text": null,
          "old_line_content": "                region_address2 = get_bits(&s->gb, 3);",
          "new_line_content": "            } else {",
          "content_same": false
        },
        {
          "line": 1971,
          "old_api": "dprintf",
          "new_api": null,
          "old_text": "dprintf(s->avctx, \"region1=%d region2=%d\\n\",\n                        region_address1, region_address2)",
          "new_text": null,
          "old_line_content": "                dprintf(s->avctx, \"region1=%d region2=%d\\n\",",
          "new_line_content": "                int region_address1, region_address2;",
          "content_same": false
        },
        {
          "line": 1973,
          "old_api": "ff_init_long_region",
          "new_api": null,
          "old_text": "ff_init_long_region(s, g, region_address1, region_address2)",
          "new_text": null,
          "old_line_content": "                ff_init_long_region(s, g, region_address1, region_address2);",
          "new_line_content": "                g->switch_point = 0;",
          "content_same": false
        },
        {
          "line": 1976,
          "old_api": "ff_compute_band_indexes",
          "new_api": null,
          "old_text": "ff_compute_band_indexes(s, g)",
          "new_text": null,
          "old_line_content": "            ff_compute_band_indexes(s, g);",
          "new_line_content": "                /* compute huffman coded region sizes */",
          "content_same": false
        },
        {
          "line": 1980,
          "old_api": "get_bits1",
          "new_api": null,
          "old_text": "get_bits1(&s->gb)",
          "new_text": null,
          "old_line_content": "                g->preflag = get_bits1(&s->gb);",
          "new_line_content": "                        region_address1, region_address2);",
          "content_same": false
        },
        {
          "line": 1982,
          "old_api": "get_bits1",
          "new_api": null,
          "old_text": "get_bits1(&s->gb)",
          "new_text": null,
          "old_line_content": "            g->count1table_select = get_bits1(&s->gb);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1992,
          "old_api": "dprintf",
          "new_api": null,
          "old_text": "dprintf(s->avctx, \"seekback: %d\\n\", main_data_begin)",
          "new_text": null,
          "old_line_content": "    dprintf(s->avctx, \"seekback: %d\\n\", main_data_begin);",
          "new_line_content": "                    g->block_type, g->switch_point);",
          "content_same": false
        },
        {
          "line": 1995,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(s->last_buf + s->last_buf_size, ptr, EXTRABYTES)",
          "new_text": null,
          "old_line_content": "    memcpy(s->last_buf + s->last_buf_size, ptr, EXTRABYTES);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2509,
          "old_api": "NULL_IF_CONFIG_SMALL",
          "new_api": null,
          "old_text": "NULL_IF_CONFIG_SMALL(\"MP1 (MPEG audio layer 1)\")",
          "new_text": null,
          "old_line_content": "    .long_name= NULL_IF_CONFIG_SMALL(\"MP1 (MPEG audio layer 1)\"),",
          "new_line_content": "    CODEC_ID_MP1,",
          "content_same": false
        },
        {
          "line": 2004,
          "old_api": "get_bits_count",
          "new_api": null,
          "old_text": "get_bits_count(&s->gb)",
          "new_text": null,
          "old_line_content": "            if(get_bits_count(&s->gb)<0){",
          "new_line_content": "    s->in_gb= s->gb;",
          "content_same": false
        },
        {
          "line": 2007,
          "old_api": "skip_bits_long",
          "new_api": null,
          "old_text": "skip_bits_long(&s->gb, g->part2_3_length)",
          "new_text": null,
          "old_line_content": "                skip_bits_long(&s->gb, g->part2_3_length);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2008,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(g->sb_hybrid, 0, sizeof(g->sb_hybrid))",
          "new_text": null,
          "old_line_content": "                memset(g->sb_hybrid, 0, sizeof(g->sb_hybrid));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2009,
          "old_api": "get_bits_count",
          "new_api": null,
          "old_text": "get_bits_count(&s->gb)",
          "new_text": null,
          "old_line_content": "                if(get_bits_count(&s->gb) >= s->gb.size_in_bits && s->in_gb.buffer){",
          "new_line_content": "    for(gr=0;gr<nb_granules;gr++) {",
          "content_same": false
        },
        {
          "line": 2010,
          "old_api": "get_bits_count",
          "new_api": null,
          "old_text": "get_bits_count(&s->gb)",
          "new_text": null,
          "old_line_content": "                    skip_bits_long(&s->in_gb, get_bits_count(&s->gb) - s->gb.size_in_bits);",
          "new_line_content": "        for(ch=0;ch<s->nb_channels;ch++) {",
          "content_same": false
        },
        {
          "line": 2525,
          "old_api": "NULL_IF_CONFIG_SMALL",
          "new_api": null,
          "old_text": "NULL_IF_CONFIG_SMALL(\"MP2 (MPEG audio layer 2)\")",
          "new_text": null,
          "old_line_content": "    .long_name= NULL_IF_CONFIG_SMALL(\"MP2 (MPEG audio layer 2)\"),",
          "new_line_content": "    CODEC_ID_MP2,",
          "content_same": false
        },
        {
          "line": 2026,
          "old_api": "dprintf",
          "new_api": null,
          "old_text": "dprintf(s->avctx, \"slen1=%d slen2=%d\\n\", slen1, slen2)",
          "new_text": null,
          "old_line_content": "                dprintf(s->avctx, \"slen1=%d slen2=%d\\n\", slen1, slen2);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2541,
          "old_api": "NULL_IF_CONFIG_SMALL",
          "new_api": null,
          "old_text": "NULL_IF_CONFIG_SMALL(\"MP3 (MPEG audio layer 3)\")",
          "new_text": null,
          "old_line_content": "    .long_name= NULL_IF_CONFIG_SMALL(\"MP3 (MPEG audio layer 3)\"),",
          "new_line_content": "    CODEC_ID_MP3,",
          "content_same": false
        },
        {
          "line": 2032,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, slen1)",
          "new_text": null,
          "old_line_content": "                            g->scale_factors[j++] = get_bits(&s->gb, slen1);",
          "new_line_content": "                slen1 = slen_table[0][g->scalefac_compress];",
          "content_same": false
        },
        {
          "line": 2039,
          "old_api": "get_bits",
          "new_api": null,
          "old_text": "get_bits(&s->gb, slen2)",
          "new_text": null,
          "old_line_content": "                            g->scale_factors[j++] = get_bits(&s->gb, slen2);",
          "new_line_content": "                        for(i=0;i<n;i++)",
          "content_same": false
        },
        {
          "line": 2557,
          "old_api": "NULL_IF_CONFIG_SMALL",
          "new_api": null,
          "old_text": "NULL_IF_CONFIG_SMALL(\"ADU (Application Data Unit) MP3 (MPEG audio layer 3)\")",
          "new_text": null,
          "old_line_content": "    .long_name= NULL_IF_CONFIG_SMALL(\"ADU (Application Data Unit) MP3 (MPEG audio layer 3)\"),",
          "new_line_content": "    CODEC_ID_MP3ADU,",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 18,
      "total_additions": 139,
      "total_deletions": 137,
      "total_api_changes": 294
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 12,
        "api_related_lines": 294,
        "non_api_lines": 4,
        "non_api_line_numbers": [
          1547,
          1538,
          1546,
          1542
        ]
      }
    },
    "api_calls_before": 448,
    "api_calls_after": 452,
    "diff_info": {
      "added_lines": 12,
      "removed_lines": 4,
      "total_diff_lines": 32
    }
  }
}