{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/4132218b87cd6fb13abd162e3037ef4563286baa",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/4132218b87cd6fb13abd162e3037ef4563286baa/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/4132218b87cd6fb13abd162e3037ef4563286baa/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/4132218b87cd6fb13abd162e3037ef4563286baa/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 75,
          "old_api": "av_bprintf",
          "new_api": "rstrip_spaces_buf",
          "old_text": "av_bprintf(dst, \"\\\\N\")",
          "new_text": "rstrip_spaces_buf(dst)",
          "old_line_content": "            av_bprintf(dst, \"\\\\N\");",
          "new_line_content": "            rstrip_spaces_buf(dst);",
          "content_same": false
        },
        {
          "line": 90,
          "old_api": "av_bprint_chars",
          "new_api": "strchr",
          "old_text": "av_bprint_chars(dst, *in, 1)",
          "new_text": "strchr(\"CcFfoPSsYy\", in[1])",
          "old_line_content": "                av_bprint_chars(dst, *in, 1);",
          "new_line_content": "                    || (in[1] && strchr(\"CcFfoPSsYy\", in[1]) && in[2] == ':')) {",
          "content_same": false
        },
        {
          "line": 128,
          "old_api": "snprintf",
          "new_api": "strncmp",
          "old_text": "snprintf(stack[sptr].param[PARAM_COLOR],\n                                         sizeof(stack[0].param[PARAM_COLOR]),\n                                         \"{\\\\c&H%X&}\",\n                                         html_color_parse(log_ctx, param))",
          "new_text": "strncmp(param, \"size=\", 5)",
          "old_line_content": "                                    snprintf(stack[sptr].param[PARAM_COLOR],",
          "new_line_content": "                                if (!strncmp(param, \"size=\", 5)) {",
          "content_same": false
        },
        {
          "line": 131,
          "old_api": "html_color_parse",
          "new_api": "sscanf",
          "old_text": "html_color_parse(log_ctx, param)",
          "new_text": "sscanf(param, \"%u\", &font_size)",
          "old_line_content": "                                         html_color_parse(log_ctx, param));",
          "new_line_content": "                                    if (sscanf(param, \"%u\", &font_size) == 1) {",
          "content_same": false
        },
        {
          "line": 132,
          "old_api": "strncmp",
          "new_api": "snprintf",
          "old_text": "strncmp(param, \"face=\", 5)",
          "new_text": "snprintf(stack[sptr].param[PARAM_SIZE],\n                                             sizeof(stack[0].param[PARAM_SIZE]),\n                                             \"{\\\\fs%u}\", font_size)",
          "old_line_content": "                                } else if (!strncmp(param, \"face=\", 5)) {",
          "new_line_content": "                                        snprintf(stack[sptr].param[PARAM_SIZE],",
          "content_same": false
        },
        {
          "line": 136,
          "old_api": "av_strlcpy",
          "new_api": "strncmp",
          "old_text": "av_strlcpy(tmp, param,\n                                               FFMIN(sizeof(tmp), len+1))",
          "new_text": "strncmp(param, \"color=\", 6)",
          "old_line_content": "                                    av_strlcpy(tmp, param,",
          "new_line_content": "                                } else if (!strncmp(param, \"color=\", 6)) {",
          "content_same": false
        },
        {
          "line": 158,
          "old_api": "strstr",
          "new_api": "av_bprintf",
          "old_text": "strstr(in, tmp)",
          "new_text": "av_bprintf(dst, \"%s\", stack[sptr].param[i])",
          "old_line_content": "                    } else if (unknown && !strstr(in, tmp)) {",
          "new_line_content": "                                    av_bprintf(dst, \"%s\", stack[sptr].param[i]);",
          "content_same": false
        },
        {
          "line": 160,
          "old_api": "av_bprint_chars",
          "new_api": "strspn",
          "old_text": "av_bprint_chars(dst, *in, 1)",
          "new_text": "strspn(tagname, \"bisu\")",
          "old_line_content": "                        av_bprint_chars(dst, *in, 1);",
          "new_line_content": "                    } else if (tagname[0] && !tagname[1] && strspn(tagname, \"bisu\") == 1) {",
          "content_same": false
        },
        {
          "line": 168,
          "old_api": "av_bprint_chars",
          "new_api": "strstr",
          "old_text": "av_bprint_chars(dst, *in, 1)",
          "new_text": "strstr(in, tmp)",
          "old_line_content": "            av_bprint_chars(dst, *in, 1);",
          "new_line_content": "                    } else if (unknown && !strstr(in, tmp)) {",
          "content_same": false
        },
        {
          "line": 178,
          "old_api": "strncmp",
          "new_api": "av_bprint_chars",
          "old_text": "strncmp(&dst->str[dst->len - 2], \"\\\\N\", 2)",
          "new_text": "av_bprint_chars(dst, *in, 1)",
          "old_line_content": "    while (dst->len >= 2 && !strncmp(&dst->str[dst->len - 2], \"\\\\N\", 2))",
          "new_line_content": "            av_bprint_chars(dst, *in, 1);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 138,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(stack[sptr].param[PARAM_COLOR],\n                                         sizeof(stack[0].param[PARAM_COLOR]),\n                                         \"{\\\\c&H%X&}\",\n                                         html_color_parse(log_ctx, param))",
          "old_line_content": "                                    param += len;",
          "new_line_content": "                                    snprintf(stack[sptr].param[PARAM_COLOR],",
          "content_same": false
        },
        {
          "line": 141,
          "old_api": null,
          "new_api": "html_color_parse",
          "old_text": null,
          "new_text": "html_color_parse(log_ctx, param)",
          "old_line_content": "                                             \"{\\\\fn%s}\", tmp);",
          "new_line_content": "                                         html_color_parse(log_ctx, param));",
          "content_same": false
        },
        {
          "line": 142,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(param, \"face=\", 5)",
          "old_line_content": "                                }",
          "new_line_content": "                                } else if (!strncmp(param, \"face=\", 5)) {",
          "content_same": false
        },
        {
          "line": 144,
          "old_api": null,
          "new_api": "strcspn",
          "old_text": null,
          "new_text": "strcspn(param,\n                                                  param[-1] == '\"' ? \"\\\"\" :\" \")",
          "old_line_content": "                                    param++;",
          "new_line_content": "                                    len = strcspn(param,",
          "content_same": false
        },
        {
          "line": 146,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(tmp, param,\n                                               FFMIN(sizeof(tmp), len+1))",
          "old_line_content": "                            for (i=0; i<PARAM_NUMBER; i++)",
          "new_line_content": "                                    av_strlcpy(tmp, param,",
          "content_same": false
        },
        {
          "line": 147,
          "old_api": null,
          "new_api": "FFMIN",
          "old_text": null,
          "new_text": "FFMIN(sizeof(tmp), len+1)",
          "old_line_content": "                                if (stack[sptr].param[i][0])",
          "new_line_content": "                                               FFMIN(sizeof(tmp), len+1));",
          "content_same": false
        },
        {
          "line": 149,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(stack[sptr].param[PARAM_FACE],\n                                             sizeof(stack[0].param[PARAM_FACE]),\n                                             \"{\\\\fn%s}\", tmp)",
          "old_line_content": "                        }",
          "new_line_content": "                                    snprintf(stack[sptr].param[PARAM_FACE],",
          "content_same": false
        },
        {
          "line": 153,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(param, ' ')",
          "old_line_content": "                        unknown = 1;",
          "new_line_content": "                                if ((param = strchr(param, ' ')))",
          "content_same": false
        },
        {
          "line": 161,
          "old_api": null,
          "new_api": "av_bprintf",
          "old_text": null,
          "new_text": "av_bprintf(dst, \"{\\\\%c%d}\", tagname[0], !tag_close)",
          "old_line_content": "                    } else",
          "new_line_content": "                        av_bprintf(dst, \"{\\\\%c%d}\", tagname[0], !tag_close);",
          "content_same": false
        },
        {
          "line": 164,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(tmp, sizeof(tmp), \"</%s>\", tagname)",
          "old_line_content": "                    break;",
          "new_line_content": "                        snprintf(tmp, sizeof(tmp), \"</%s>\", tagname);",
          "content_same": false
        },
        {
          "line": 170,
          "old_api": null,
          "new_api": "av_bprint_chars",
          "old_text": null,
          "new_text": "av_bprint_chars(dst, *in, 1)",
          "old_line_content": "        }",
          "new_line_content": "                        av_bprint_chars(dst, *in, 1);",
          "content_same": false
        },
        {
          "line": 172,
          "old_api": null,
          "new_api": "av_strlcpy",
          "old_text": null,
          "new_text": "av_strlcpy(stack[sptr++].tag, tagname,\n                                   sizeof(stack[0].tag))",
          "old_line_content": "            line_start = 0;",
          "new_line_content": "                        av_strlcpy(stack[sptr++].tag, tagname,",
          "content_same": false
        },
        {
          "line": 185,
          "old_api": null,
          "new_api": "av_bprint_is_complete",
          "old_text": null,
          "new_text": "av_bprint_is_complete(dst)",
          "old_line_content": "",
          "new_line_content": "    if (!av_bprint_is_complete(dst))",
          "content_same": false
        },
        {
          "line": 186,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "        return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 188,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(&dst->str[dst->len - 2], \"\\\\N\", 2)",
          "old_line_content": "",
          "new_line_content": "    while (dst->len >= 2 && !strncmp(&dst->str[dst->len - 2], \"\\\\N\", 2))",
          "content_same": false
        },
        {
          "line": 191,
          "old_api": null,
          "new_api": "rstrip_spaces_buf",
          "old_text": null,
          "new_text": "rstrip_spaces_buf(dst)",
          "old_line_content": "",
          "new_line_content": "    rstrip_spaces_buf(dst);",
          "content_same": false
        },
        {
          "line": 64,
          "old_api": null,
          "new_api": "strcpy",
          "old_text": null,
          "new_text": "strcpy(stack[0].param[PARAM_FACE],  \"{\\\\fn}\")",
          "old_line_content": "",
          "new_line_content": "    strcpy(stack[0].param[PARAM_FACE],  \"{\\\\fn}\");",
          "content_same": false
        },
        {
          "line": 76,
          "old_api": null,
          "new_api": "av_bprintf",
          "old_text": null,
          "new_text": "av_bprintf(dst, \"\\\\N\")",
          "old_line_content": "            line_start = 1;",
          "new_line_content": "            av_bprintf(dst, \"\\\\N\");",
          "content_same": false
        },
        {
          "line": 81,
          "old_api": null,
          "new_api": "av_bprint_chars",
          "old_text": null,
          "new_text": "av_bprint_chars(dst, *in, 1)",
          "old_line_content": "            break;",
          "new_line_content": "                av_bprint_chars(dst, *in, 1);",
          "content_same": false
        },
        {
          "line": 91,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(in+2, '}')",
          "old_line_content": "            break;",
          "new_line_content": "                    char *bracep = strchr(in+2, '}');",
          "content_same": false
        },
        {
          "line": 100,
          "old_api": null,
          "new_api": "av_bprint_chars",
          "old_text": null,
          "new_text": "av_bprint_chars(dst, *in, 1)",
          "old_line_content": "                    *param++ = 0;",
          "new_line_content": "            av_bprint_chars(dst, *in, 1);",
          "content_same": false
        },
        {
          "line": 105,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf(in+tag_close+1, \"%127[^>]>%n\", buffer, &len)",
          "old_line_content": "                    if (!tag_close)",
          "new_line_content": "            if (sscanf(in+tag_close+1, \"%127[^>]>%n\", buffer, &len) >= 1 && len > 0) {",
          "content_same": false
        },
        {
          "line": 109,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(tagname, ' ')",
          "old_line_content": "                            for (i=PARAM_NUMBER-1; i>=0; i--)",
          "new_line_content": "                if ((param = strchr(tagname, ' ')))",
          "content_same": false
        },
        {
          "line": 111,
          "old_api": null,
          "new_api": "FF_ARRAY_ELEMS",
          "old_text": null,
          "new_text": "FF_ARRAY_ELEMS(stack)",
          "old_line_content": "                                    for (j=sptr-2; j>=0; j--)",
          "new_line_content": "                if ((!tag_close && sptr < FF_ARRAY_ELEMS(stack)) ||",
          "content_same": false
        },
        {
          "line": 112,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(stack[sptr-1].tag, tagname)",
          "old_line_content": "                                        if (stack[j].param[i][0]) {",
          "new_line_content": "                    ( tag_close && sptr > 0 && !strcmp(stack[sptr-1].tag, tagname))) {",
          "content_same": false
        },
        {
          "line": 116,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(stack+sptr, 0, sizeof(*stack))",
          "old_line_content": "                        } else {",
          "new_line_content": "                        memset(stack+sptr, 0, sizeof(*stack));",
          "content_same": false
        },
        {
          "line": 117,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(tagname, \"font\")",
          "old_line_content": "                            while (param) {",
          "new_line_content": "                    if (!strcmp(tagname, \"font\")) {",
          "content_same": false
        },
        {
          "line": 123,
          "old_api": null,
          "new_api": "av_bprintf",
          "old_text": null,
          "new_text": "av_bprintf(dst, \"%s\", stack[j].param[i])",
          "old_line_content": "                                             sizeof(stack[0].param[PARAM_SIZE]),",
          "new_line_content": "                                            av_bprintf(dst, \"%s\", stack[j].param[i]);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 134,
          "old_api": "strcspn",
          "new_api": null,
          "old_text": "strcspn(param,\n                                                  param[-1] == '\"' ? \"\\\"\" :\" \")",
          "new_text": null,
          "old_line_content": "                                    len = strcspn(param,",
          "new_line_content": "                                             \"{\\\\fs%u}\", font_size);",
          "content_same": false
        },
        {
          "line": 137,
          "old_api": "FFMIN",
          "new_api": null,
          "old_text": "FFMIN(sizeof(tmp), len+1)",
          "new_text": null,
          "old_line_content": "                                               FFMIN(sizeof(tmp), len+1));",
          "new_line_content": "                                    param += 6 + (param[6] == '\"');",
          "content_same": false
        },
        {
          "line": 139,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(stack[sptr].param[PARAM_FACE],\n                                             sizeof(stack[0].param[PARAM_FACE]),\n                                             \"{\\\\fn%s}\", tmp)",
          "new_text": null,
          "old_line_content": "                                    snprintf(stack[sptr].param[PARAM_FACE],",
          "new_line_content": "                                         sizeof(stack[0].param[PARAM_COLOR]),",
          "content_same": false
        },
        {
          "line": 143,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(param, ' ')",
          "new_text": null,
          "old_line_content": "                                if ((param = strchr(param, ' ')))",
          "new_line_content": "                                    param += 5 + (param[5] == '\"');",
          "content_same": false
        },
        {
          "line": 148,
          "old_api": "av_bprintf",
          "new_api": null,
          "old_text": "av_bprintf(dst, \"%s\", stack[sptr].param[i])",
          "new_text": null,
          "old_line_content": "                                    av_bprintf(dst, \"%s\", stack[sptr].param[i]);",
          "new_line_content": "                                    param += len;",
          "content_same": false
        },
        {
          "line": 150,
          "old_api": "strspn",
          "new_api": null,
          "old_text": "strspn(tagname, \"bisu\")",
          "new_text": null,
          "old_line_content": "                    } else if (tagname[0] && !tagname[1] && strspn(tagname, \"bisu\") == 1) {",
          "new_line_content": "                                             sizeof(stack[0].param[PARAM_FACE]),",
          "content_same": false
        },
        {
          "line": 151,
          "old_api": "av_bprintf",
          "new_api": null,
          "old_text": "av_bprintf(dst, \"{\\\\%c%d}\", tagname[0], !tag_close)",
          "new_text": null,
          "old_line_content": "                        av_bprintf(dst, \"{\\\\%c%d}\", tagname[0], !tag_close);",
          "new_line_content": "                                             \"{\\\\fn%s}\", tmp);",
          "content_same": false
        },
        {
          "line": 154,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(tmp, sizeof(tmp), \"</%s>\", tagname)",
          "new_text": null,
          "old_line_content": "                        snprintf(tmp, sizeof(tmp), \"</%s>\", tagname);",
          "new_line_content": "                                    param++;",
          "content_same": false
        },
        {
          "line": 162,
          "old_api": "av_strlcpy",
          "new_api": null,
          "old_text": "av_strlcpy(stack[sptr++].tag, tagname,\n                                   sizeof(stack[0].tag))",
          "new_text": null,
          "old_line_content": "                        av_strlcpy(stack[sptr++].tag, tagname,",
          "new_line_content": "                    } else {",
          "content_same": false
        },
        {
          "line": 175,
          "old_api": "av_bprint_is_complete",
          "new_api": null,
          "old_text": "av_bprint_is_complete(dst)",
          "new_text": null,
          "old_line_content": "    if (!av_bprint_is_complete(dst))",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 176,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "        return AVERROR(ENOMEM);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 181,
          "old_api": "rstrip_spaces_buf",
          "new_api": null,
          "old_text": "rstrip_spaces_buf(dst)",
          "new_text": null,
          "old_line_content": "    rstrip_spaces_buf(dst);",
          "new_line_content": "        if (*in != ' ' && *in != '\\r' && *in != '\\n')",
          "content_same": false
        },
        {
          "line": 61,
          "old_api": "strcpy",
          "new_api": null,
          "old_text": "strcpy(stack[0].param[PARAM_SIZE],  \"{\\\\fs}\")",
          "new_text": null,
          "old_line_content": "    strcpy(stack[0].param[PARAM_SIZE],  \"{\\\\fs}\");",
          "new_line_content": "    stack[0].tag[0] = 0;",
          "content_same": false
        },
        {
          "line": 74,
          "old_api": "rstrip_spaces_buf",
          "new_api": null,
          "old_text": "rstrip_spaces_buf(dst)",
          "new_text": null,
          "old_line_content": "            rstrip_spaces_buf(dst);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 80,
          "old_api": "av_bprint_chars",
          "new_api": null,
          "old_text": "av_bprint_chars(dst, *in, 1)",
          "new_text": null,
          "old_line_content": "                av_bprint_chars(dst, *in, 1);",
          "new_line_content": "            if (!line_start)",
          "content_same": false
        },
        {
          "line": 85,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf(in, \"{\\\\an%*1u}%n\", &len)",
          "new_text": null,
          "old_line_content": "            an += sscanf(in, \"{\\\\an%*1u}%n\", &len) >= 0 && len > 0;",
          "new_line_content": "            len = 0;",
          "content_same": false
        },
        {
          "line": 95,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf(in+tag_close+1, \"%127[^>]>%n\", buffer, &len)",
          "new_text": null,
          "old_line_content": "            if (sscanf(in+tag_close+1, \"%127[^>]>%n\", buffer, &len) >= 1 && len > 0) {",
          "new_line_content": "                    } else",
          "content_same": false
        },
        {
          "line": 99,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(tagname, ' ')",
          "new_text": null,
          "old_line_content": "                if ((param = strchr(tagname, ' ')))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 101,
          "old_api": "FF_ARRAY_ELEMS",
          "new_api": null,
          "old_text": "FF_ARRAY_ELEMS(stack)",
          "new_text": null,
          "old_line_content": "                if ((!tag_close && sptr < FF_ARRAY_ELEMS(stack)) ||",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 102,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(stack[sptr-1].tag, tagname)",
          "new_text": null,
          "old_line_content": "                    ( tag_close && sptr > 0 && !strcmp(stack[sptr-1].tag, tagname))) {",
          "new_line_content": "        case '<':",
          "content_same": false
        },
        {
          "line": 106,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(stack+sptr, 0, sizeof(*stack))",
          "new_text": null,
          "old_line_content": "                        memset(stack+sptr, 0, sizeof(*stack));",
          "new_line_content": "                const char *tagname = buffer;",
          "content_same": false
        },
        {
          "line": 107,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(tagname, \"font\")",
          "new_text": null,
          "old_line_content": "                    if (!strcmp(tagname, \"font\")) {",
          "new_line_content": "                while (*tagname == ' ')",
          "content_same": false
        },
        {
          "line": 113,
          "old_api": "av_bprintf",
          "new_api": null,
          "old_text": "av_bprintf(dst, \"%s\", stack[j].param[i])",
          "new_text": null,
          "old_line_content": "                                            av_bprintf(dst, \"%s\", stack[j].param[i]);",
          "new_line_content": "                    int i, j, unknown = 0;",
          "content_same": false
        },
        {
          "line": 118,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(param, \"size=\", 5)",
          "new_text": null,
          "old_line_content": "                                if (!strncmp(param, \"size=\", 5)) {",
          "new_line_content": "                        if (tag_close) {",
          "content_same": false
        },
        {
          "line": 121,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf(param, \"%u\", &font_size)",
          "new_text": null,
          "old_line_content": "                                    if (sscanf(param, \"%u\", &font_size) == 1) {",
          "new_line_content": "                                    for (j=sptr-2; j>=0; j--)",
          "content_same": false
        },
        {
          "line": 122,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(stack[sptr].param[PARAM_SIZE],\n                                             sizeof(stack[0].param[PARAM_SIZE]),\n                                             \"{\\\\fs%u}\", font_size)",
          "new_text": null,
          "old_line_content": "                                        snprintf(stack[sptr].param[PARAM_SIZE],",
          "new_line_content": "                                        if (stack[j].param[i][0]) {",
          "content_same": false
        },
        {
          "line": 126,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(param, \"color=\", 6)",
          "new_text": null,
          "old_line_content": "                                } else if (!strncmp(param, \"color=\", 6)) {",
          "new_line_content": "                        } else {",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 10,
      "total_additions": 28,
      "total_deletions": 27,
      "total_api_changes": 65
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 16,
        "api_related_lines": 65,
        "non_api_lines": 11,
        "non_api_line_numbers": [
          96,
          97,
          98,
          86,
          87,
          88,
          89,
          59,
          92,
          93,
          94
        ]
      }
    },
    "api_calls_before": 43,
    "api_calls_after": 44,
    "diff_info": {
      "added_lines": 15,
      "removed_lines": 5,
      "total_diff_lines": 39
    }
  }
}