{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/d3dcd2881247a5249d555f25f3f163a441c46237",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/d3dcd2881247a5249d555f25f3f163a441c46237/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/d3dcd2881247a5249d555f25f3f163a441c46237/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/FFmpeg/modified_file/d3dcd2881247a5249d555f25f3f163a441c46237/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 816,
          "old_api": "subframe_count_exact",
          "new_api": "find_subframe_rice_params",
          "old_text": "subframe_count_exact(s, sub, sub->order)",
          "new_text": "find_subframe_rice_params(s, sub, sub->order)",
          "old_line_content": "        return subframe_count_exact(s, sub, sub->order);",
          "new_line_content": "            find_subframe_rice_params(s, sub, sub->order);",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": "lpc32_encode",
          "new_api": "lpc16_encode",
          "old_text": "s->flac_dsp.lpc32_encode(res, smp, n, i+1, coefs[i], shift[i])",
          "new_text": "s->flac_dsp.lpc16_encode(res, smp, n, i+1, coefs[i], shift[i])",
          "old_line_content": "                s->flac_dsp.lpc32_encode(res, smp, n, i+1, coefs[i], shift[i]);",
          "new_line_content": "                s->flac_dsp.lpc16_encode(res, smp, n, i+1, coefs[i], shift[i]);",
          "content_same": false
        },
        {
          "line": 866,
          "old_api": "find_subframe_rice_params",
          "new_api": "lpc32_encode",
          "old_text": "find_subframe_rice_params(s, sub, i+1)",
          "new_text": "s->flac_dsp.lpc32_encode(res, smp, n, i+1, coefs[i], shift[i])",
          "old_line_content": "            bits[i] = find_subframe_rice_params(s, sub, i+1);",
          "new_line_content": "                s->flac_dsp.lpc32_encode(res, smp, n, i+1, coefs[i], shift[i]);",
          "content_same": false
        },
        {
          "line": 886,
          "old_api": "lpc16_encode",
          "new_api": "lpc32_encode",
          "old_text": "s->flac_dsp.lpc16_encode(res, smp, n, i+1, coefs[i], shift[i])",
          "new_text": "s->flac_dsp.lpc32_encode(res, smp, n, i+1, coefs[i], shift[i])",
          "old_line_content": "                    s->flac_dsp.lpc16_encode(res, smp, n, i+1, coefs[i], shift[i]);",
          "new_line_content": "                    s->flac_dsp.lpc32_encode(res, smp, n, i+1, coefs[i], shift[i]);",
          "content_same": false
        },
        {
          "line": 888,
          "old_api": "find_subframe_rice_params",
          "new_api": "lpc16_encode",
          "old_text": "find_subframe_rice_params(s, sub, i+1)",
          "new_text": "s->flac_dsp.lpc16_encode(res, smp, n, i+1, coefs[i], shift[i])",
          "old_line_content": "                bits[i] = find_subframe_rice_params(s, sub, i+1);",
          "new_line_content": "                    s->flac_dsp.lpc16_encode(res, smp, n, i+1, coefs[i], shift[i]);",
          "content_same": false
        },
        {
          "line": 905,
          "old_api": "lpc32_encode",
          "new_api": "lpc16_encode",
          "old_text": "s->flac_dsp.lpc32_encode(res, smp, n, sub->order, sub->coefs, sub->shift)",
          "new_text": "s->flac_dsp.lpc16_encode(res, smp, n, sub->order, sub->coefs, sub->shift)",
          "old_line_content": "        s->flac_dsp.lpc32_encode(res, smp, n, sub->order, sub->coefs, sub->shift);",
          "new_line_content": "        s->flac_dsp.lpc16_encode(res, smp, n, sub->order, sub->coefs, sub->shift);",
          "content_same": false
        },
        {
          "line": 910,
          "old_api": "subframe_count_exact",
          "new_api": "find_subframe_rice_params",
          "old_text": "subframe_count_exact(s, sub, sub->order)",
          "new_text": "find_subframe_rice_params(s, sub, sub->order)",
          "old_line_content": "    return subframe_count_exact(s, sub, sub->order);",
          "new_line_content": "    find_subframe_rice_params(s, sub, sub->order);",
          "content_same": false
        },
        {
          "line": 1116,
          "old_api": "write_utf8",
          "new_api": "put_bits",
          "old_text": "write_utf8(&s->pb, s->frame_count)",
          "new_text": "put_bits(&s->pb, 3, s->bps_code)",
          "old_line_content": "    write_utf8(&s->pb, s->frame_count);",
          "new_line_content": "    put_bits(&s->pb, 3, s->bps_code);",
          "content_same": false
        },
        {
          "line": 1128,
          "old_api": "flush_put_bits",
          "new_api": "put_bits",
          "old_text": "flush_put_bits(&s->pb)",
          "new_text": "put_bits(&s->pb, 16, s->sr_code[1])",
          "old_line_content": "    flush_put_bits(&s->pb);",
          "new_line_content": "        put_bits(&s->pb, 16, s->sr_code[1]);",
          "content_same": false
        },
        {
          "line": 1130,
          "old_api": "put_bits_count",
          "new_api": "flush_put_bits",
          "old_text": "put_bits_count(&s->pb)",
          "new_text": "flush_put_bits(&s->pb)",
          "old_line_content": "                 put_bits_count(&s->pb) >> 3);",
          "new_line_content": "    flush_put_bits(&s->pb);",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": "put_bits",
          "new_api": "av_crc_get_table",
          "old_text": "put_bits(&s->pb, 8, crc)",
          "new_text": "av_crc_get_table(AV_CRC_8_ATM)",
          "old_line_content": "    put_bits(&s->pb, 8, crc);",
          "new_line_content": "    crc = av_crc(av_crc_get_table(AV_CRC_8_ATM), 0, s->pb.buf,",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": "set_sr_golomb_flac",
          "new_api": "put_bits",
          "old_text": "set_sr_golomb_flac(&s->pb, *res++, k, INT32_MAX, 0)",
          "new_text": "put_bits(&s->pb, sub->rc.coding_mode, k)",
          "old_line_content": "                    set_sr_golomb_flac(&s->pb, *res++, k, INT32_MAX, 0);",
          "new_line_content": "                put_bits(&s->pb, sub->rc.coding_mode, k);",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": "put_bits_count",
          "new_api": "flush_put_bits",
          "old_text": "put_bits_count(&s->pb)",
          "new_text": "flush_put_bits(&s->pb)",
          "old_line_content": "                            put_bits_count(&s->pb)>>3));",
          "new_line_content": "    flush_put_bits(&s->pb);",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": "put_bits",
          "new_api": "av_crc_get_table",
          "old_text": "put_bits(&s->pb, 16, crc)",
          "new_text": "av_crc_get_table(AV_CRC_16_ANSI)",
          "old_line_content": "    put_bits(&s->pb, 16, crc);",
          "new_line_content": "    crc = av_bswap16(av_crc(av_crc_get_table(AV_CRC_16_ANSI), 0, s->pb.buf,",
          "content_same": false
        },
        {
          "line": 1202,
          "old_api": "flush_put_bits",
          "new_api": "put_bits_count",
          "old_text": "flush_put_bits(&s->pb)",
          "new_text": "put_bits_count(&s->pb)",
          "old_line_content": "    flush_put_bits(&s->pb);",
          "new_line_content": "                            put_bits_count(&s->pb)>>3));",
          "content_same": false
        },
        {
          "line": 1210,
          "old_api": "write_subframes",
          "new_api": "init_put_bits",
          "old_text": "write_subframes(s)",
          "new_text": "init_put_bits(&s->pb, avpkt->data, avpkt->size)",
          "old_line_content": "    write_subframes(s);",
          "new_line_content": "    init_put_bits(&s->pb, avpkt->data, avpkt->size);",
          "content_same": false
        },
        {
          "line": 1211,
          "old_api": "write_frame_footer",
          "new_api": "write_frame_header",
          "old_text": "write_frame_footer(s)",
          "new_text": "write_frame_header(s)",
          "old_line_content": "    write_frame_footer(s);",
          "new_line_content": "    write_frame_header(s);",
          "content_same": false
        },
        {
          "line": 1212,
          "old_api": "put_bits_count",
          "new_api": "write_subframes",
          "old_text": "put_bits_count(&s->pb)",
          "new_text": "write_subframes(s)",
          "old_line_content": "    return put_bits_count(&s->pb) >> 3;",
          "new_line_content": "    write_subframes(s);",
          "content_same": false
        },
        {
          "line": 1225,
          "old_api": "AVERROR",
          "new_api": "av_fast_malloc",
          "old_text": "AVERROR(ENOMEM)",
          "new_text": "av_fast_malloc(&s->md5_buffer, &s->md5_buffer_size, buf_size)",
          "old_line_content": "            return AVERROR(ENOMEM);",
          "new_line_content": "        av_fast_malloc(&s->md5_buffer, &s->md5_buffer_size, buf_size);",
          "content_same": false
        },
        {
          "line": 1293,
          "old_api": "copy_samples",
          "new_api": "init_frame",
          "old_text": "copy_samples(s, frame->data[0])",
          "new_text": "init_frame(s, frame->nb_samples)",
          "old_line_content": "    copy_samples(s, frame->data[0]);",
          "new_line_content": "    init_frame(s, frame->nb_samples);",
          "content_same": false
        },
        {
          "line": 1295,
          "old_api": "channel_decorrelation",
          "new_api": "copy_samples",
          "old_text": "channel_decorrelation(s)",
          "new_text": "copy_samples(s, frame->data[0])",
          "old_line_content": "    channel_decorrelation(s);",
          "new_line_content": "    copy_samples(s, frame->data[0]);",
          "content_same": false
        },
        {
          "line": 1297,
          "old_api": "remove_wasted_bits",
          "new_api": "channel_decorrelation",
          "old_text": "remove_wasted_bits(s)",
          "new_text": "channel_decorrelation(s)",
          "old_line_content": "    remove_wasted_bits(s);",
          "new_line_content": "    channel_decorrelation(s);",
          "content_same": false
        },
        {
          "line": 1299,
          "old_api": "encode_frame",
          "new_api": "remove_wasted_bits",
          "old_text": "encode_frame(s)",
          "new_text": "remove_wasted_bits(s)",
          "old_line_content": "    frame_bytes = encode_frame(s);",
          "new_line_content": "    remove_wasted_bits(s);",
          "content_same": false
        },
        {
          "line": 1307,
          "old_api": "av_log",
          "new_api": "encode_frame",
          "old_text": "av_log(avctx, AV_LOG_ERROR, \"Bad frame count\\n\")",
          "new_text": "encode_frame(s)",
          "old_line_content": "            av_log(avctx, AV_LOG_ERROR, \"Bad frame count\\n\");",
          "new_line_content": "        frame_bytes = encode_frame(s);",
          "content_same": false
        },
        {
          "line": 1345,
          "old_api": "ff_lpc_end",
          "new_api": "av_freep",
          "old_text": "ff_lpc_end(&s->lpc_ctx)",
          "new_text": "av_freep(&s->md5ctx)",
          "old_line_content": "        ff_lpc_end(&s->lpc_ctx);",
          "new_line_content": "        av_freep(&s->md5ctx);",
          "content_same": false
        },
        {
          "line": 1347,
          "old_api": "av_freep",
          "new_api": "ff_lpc_end",
          "old_text": "av_freep(&avctx->extradata)",
          "new_text": "ff_lpc_end(&s->lpc_ctx)",
          "old_line_content": "    av_freep(&avctx->extradata);",
          "new_line_content": "        ff_lpc_end(&s->lpc_ctx);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1025,
          "old_api": null,
          "new_api": "find_optimal_param",
          "old_text": null,
          "new_text": "find_optimal_param(2 * sum[i], n, max_rice_param)",
          "old_line_content": "    }",
          "new_line_content": "        k      = find_optimal_param(2 * sum[i], n, max_rice_param);",
          "content_same": false
        },
        {
          "line": 1026,
          "old_api": null,
          "new_api": "rice_encode_count",
          "old_text": null,
          "new_text": "rice_encode_count( 2 * sum[i], n, k)",
          "old_line_content": "",
          "new_line_content": "        sum[i] = rice_encode_count( 2 * sum[i], n, k);",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": null,
          "new_api": "estimate_stereo_mode",
          "old_text": null,
          "new_text": "estimate_stereo_mode(left, right, n, max_rice_param)",
          "old_line_content": "        frame->ch_mode = s->options.ch_mode;",
          "new_line_content": "        frame->ch_mode = estimate_stereo_mode(left, right, n, max_rice_param);",
          "content_same": false
        },
        {
          "line": 1096,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(pb, 8, tmp)",
          "old_line_content": "",
          "new_line_content": "    PUT_UTF8(val, tmp, put_bits(pb, 8, tmp);)",
          "content_same": false
        },
        {
          "line": 1108,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 4, frame->bs_code[0])",
          "old_line_content": "",
          "new_line_content": "    put_bits(&s->pb, 4, frame->bs_code[0]);",
          "content_same": false
        },
        {
          "line": 1109,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 4, s->sr_code[0])",
          "old_line_content": "    if (frame->ch_mode == FLAC_CHMODE_INDEPENDENT)",
          "new_line_content": "    put_bits(&s->pb, 4, s->sr_code[0]);",
          "content_same": false
        },
        {
          "line": 1117,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 1, 0)",
          "old_line_content": "",
          "new_line_content": "    put_bits(&s->pb, 1, 0);",
          "content_same": false
        },
        {
          "line": 1118,
          "old_api": null,
          "new_api": "write_utf8",
          "old_text": null,
          "new_text": "write_utf8(&s->pb, s->frame_count)",
          "old_line_content": "    if (frame->bs_code[0] == 6)",
          "new_line_content": "    write_utf8(&s->pb, s->frame_count);",
          "content_same": false
        },
        {
          "line": 1123,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 16, frame->bs_code[1])",
          "old_line_content": "    if (s->sr_code[0] == 12)",
          "new_line_content": "        put_bits(&s->pb, 16, frame->bs_code[1]);",
          "content_same": false
        },
        {
          "line": 1132,
          "old_api": null,
          "new_api": "put_bits_count",
          "old_text": null,
          "new_text": "put_bits_count(&s->pb)",
          "old_line_content": "}",
          "new_line_content": "                 put_bits_count(&s->pb) >> 3);",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 8, crc)",
          "old_line_content": "",
          "new_line_content": "    put_bits(&s->pb, 8, crc);",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 6, sub->type_code)",
          "old_line_content": "        if (sub->wasted)",
          "new_line_content": "        put_bits(&s->pb, 6, sub->type_code);",
          "content_same": false
        },
        {
          "line": 1153,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, sub->wasted, 1)",
          "old_line_content": "        /* subframe */",
          "new_line_content": "            put_bits(&s->pb, sub->wasted, 1);",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": null,
          "new_api": "put_sbits",
          "old_text": null,
          "new_text": "put_sbits(&s->pb, sub->obits, res[0])",
          "old_line_content": "            while (res < frame_end)",
          "new_line_content": "            put_sbits(&s->pb, sub->obits, res[0]);",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": null,
          "new_api": "put_sbits",
          "old_text": null,
          "new_text": "put_sbits(&s->pb, sub->obits, *res++)",
          "old_line_content": "            /* warm-up samples */",
          "new_line_content": "                put_sbits(&s->pb, sub->obits, *res++);",
          "content_same": false
        },
        {
          "line": 1164,
          "old_api": null,
          "new_api": "put_sbits",
          "old_text": null,
          "new_text": "put_sbits(&s->pb, sub->obits, *res++)",
          "old_line_content": "            /* LPC coefficients */",
          "new_line_content": "                put_sbits(&s->pb, sub->obits, *res++);",
          "content_same": false
        },
        {
          "line": 1169,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits( &s->pb, 4, cbits-1)",
          "old_line_content": "                for (i = 0; i < sub->order; i++)",
          "new_line_content": "                put_bits( &s->pb, 4, cbits-1);",
          "content_same": false
        },
        {
          "line": 1172,
          "old_api": null,
          "new_api": "put_sbits",
          "old_text": null,
          "new_text": "put_sbits(&s->pb, cbits, sub->coefs[i])",
          "old_line_content": "",
          "new_line_content": "                    put_sbits(&s->pb, cbits, sub->coefs[i]);",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 2, sub->rc.coding_mode - 4)",
          "old_line_content": "            /* partition order */",
          "new_line_content": "            put_bits(&s->pb, 2, sub->rc.coding_mode - 4);",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 4, porder)",
          "old_line_content": "            /* residual */",
          "new_line_content": "            put_bits(&s->pb, 4, porder);",
          "content_same": false
        },
        {
          "line": 672,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(rc->params, tmp_rc.params, sizeof(rc->params))",
          "old_line_content": "        if (i == pmin)",
          "new_line_content": "            memcpy(rc->params, tmp_rc.params, sizeof(rc->params));",
          "content_same": false
        },
        {
          "line": 676,
          "old_api": null,
          "new_api": "calc_sum_next",
          "old_text": null,
          "new_text": "calc_sum_next(--i, sums)",
          "old_line_content": "",
          "new_line_content": "        calc_sum_next(--i, sums);",
          "content_same": false
        },
        {
          "line": 1189,
          "old_api": null,
          "new_api": "set_sr_golomb_flac",
          "old_text": null,
          "new_text": "set_sr_golomb_flac(&s->pb, *res++, k, INT32_MAX, 0)",
          "old_line_content": "            }",
          "new_line_content": "                    set_sr_golomb_flac(&s->pb, *res++, k, INT32_MAX, 0);",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": null,
          "new_api": "FFMIN",
          "old_text": null,
          "new_text": "FFMIN(frame_end, part_end + psize)",
          "old_line_content": "        }",
          "new_line_content": "                part_end = FFMIN(frame_end, part_end + psize);",
          "content_same": false
        },
        {
          "line": 687,
          "old_api": null,
          "new_api": "av_log2",
          "old_text": null,
          "new_text": "av_log2(n/order)",
          "old_line_content": "}",
          "new_line_content": "        porder = FFMIN(porder, av_log2(n/order));",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": null,
          "new_api": "put_bits",
          "old_text": null,
          "new_text": "put_bits(&s->pb, 16, crc)",
          "old_line_content": "}",
          "new_line_content": "    put_bits(&s->pb, 16, crc);",
          "content_same": false
        },
        {
          "line": 1204,
          "old_api": null,
          "new_api": "flush_put_bits",
          "old_text": null,
          "new_text": "flush_put_bits(&s->pb)",
          "old_line_content": "",
          "new_line_content": "    flush_put_bits(&s->pb);",
          "content_same": false
        },
        {
          "line": 697,
          "old_api": null,
          "new_api": "get_max_p_order",
          "old_text": null,
          "new_text": "get_max_p_order(s->options.max_partition_order,\n                               s->frame.blocksize, pred_order)",
          "old_line_content": "",
          "new_line_content": "    int pmax = get_max_p_order(s->options.max_partition_order,",
          "content_same": false
        },
        {
          "line": 1213,
          "old_api": null,
          "new_api": "write_frame_footer",
          "old_text": null,
          "new_text": "write_frame_footer(s)",
          "old_line_content": "}",
          "new_line_content": "    write_frame_footer(s);",
          "content_same": false
        },
        {
          "line": 1214,
          "old_api": null,
          "new_api": "put_bits_count",
          "old_text": null,
          "new_text": "put_bits_count(&s->pb)",
          "old_line_content": "",
          "new_line_content": "    return put_bits_count(&s->pb) >> 3;",
          "content_same": false
        },
        {
          "line": 703,
          "old_api": null,
          "new_api": "calc_rice_params",
          "old_text": null,
          "new_text": "calc_rice_params(&sub->rc, pmin, pmax, sub->residual,\n                             s->frame.blocksize, pred_order)",
          "old_line_content": "    return bits;",
          "new_line_content": "    bits += calc_rice_params(&sub->rc, pmin, pmax, sub->residual,",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "            return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 1233,
          "old_api": null,
          "new_api": "bswap16_buf",
          "old_text": null,
          "new_text": "s->bdsp.bswap16_buf((uint16_t *) s->md5_buffer,\n                            (const uint16_t *) samples, buf_size / 2)",
          "old_line_content": "        buf = s->md5_buffer;",
          "new_line_content": "        s->bdsp.bswap16_buf((uint16_t *) s->md5_buffer,",
          "content_same": false
        },
        {
          "line": 1250,
          "old_api": null,
          "new_api": "av_md5_update",
          "old_text": null,
          "new_text": "av_md5_update(s->md5ctx, buf, buf_size)",
          "old_line_content": "    return 0;",
          "new_line_content": "    av_md5_update(s->md5ctx, buf, buf_size);",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": null,
          "new_api": "av_md5_final",
          "old_text": null,
          "new_text": "av_md5_final(s->md5ctx, s->md5sum)",
          "old_line_content": "",
          "new_line_content": "        av_md5_final(s->md5ctx, s->md5sum);",
          "content_same": false
        },
        {
          "line": 1268,
          "old_api": null,
          "new_api": "write_streaminfo",
          "old_text": null,
          "new_text": "write_streaminfo(s, avctx->extradata)",
          "old_line_content": "        if (avctx->side_data_only_packets && !s->flushed) {",
          "new_line_content": "        write_streaminfo(s, avctx->extradata);",
          "content_same": false
        },
        {
          "line": 1271,
          "old_api": null,
          "new_api": "av_packet_new_side_data",
          "old_text": null,
          "new_text": "av_packet_new_side_data(avpkt, AV_PKT_DATA_NEW_EXTRADATA,\n                                                         avctx->extradata_size)",
          "old_line_content": "            if (!side_data)",
          "new_line_content": "            uint8_t *side_data = av_packet_new_side_data(avpkt, AV_PKT_DATA_NEW_EXTRADATA,",
          "content_same": false
        },
        {
          "line": 1274,
          "old_api": null,
          "new_api": "AVERROR",
          "old_text": null,
          "new_text": "AVERROR(ENOMEM)",
          "old_line_content": "",
          "new_line_content": "                return AVERROR(ENOMEM);",
          "content_same": false
        },
        {
          "line": 1275,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(side_data, avctx->extradata, avctx->extradata_size)",
          "old_line_content": "            avpkt->pts = s->next_pts;",
          "new_line_content": "            memcpy(side_data, avctx->extradata, avctx->extradata_size);",
          "content_same": false
        },
        {
          "line": 1288,
          "old_api": null,
          "new_api": "ff_flac_get_max_frame_size",
          "old_text": null,
          "new_text": "ff_flac_get_max_frame_size(frame->nb_samples,\n                                                      s->channels,\n                                                      avctx->bits_per_raw_sample)",
          "old_line_content": "                                                      avctx->bits_per_raw_sample);",
          "new_line_content": "        s->max_framesize = ff_flac_get_max_frame_size(frame->nb_samples,",
          "content_same": false
        },
        {
          "line": 783,
          "old_api": null,
          "new_api": "subframe_count_exact",
          "old_text": null,
          "new_text": "subframe_count_exact(s, sub, 0)",
          "old_line_content": "",
          "new_line_content": "        return subframe_count_exact(s, sub, 0);",
          "content_same": false
        },
        {
          "line": 789,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(res, smp, n * sizeof(int32_t))",
          "old_line_content": "    }",
          "new_line_content": "        memcpy(res, smp, n * sizeof(int32_t));",
          "content_same": false
        },
        {
          "line": 790,
          "old_api": null,
          "new_api": "subframe_count_exact",
          "old_text": null,
          "new_text": "subframe_count_exact(s, sub, 0)",
          "old_line_content": "",
          "new_line_content": "        return subframe_count_exact(s, sub, 0);",
          "content_same": false
        },
        {
          "line": 1301,
          "old_api": null,
          "new_api": "encode_frame",
          "old_text": null,
          "new_text": "encode_frame(s)",
          "old_line_content": "    /* Fall back on verbatim mode if the compressed frame is larger than it",
          "new_line_content": "    frame_bytes = encode_frame(s);",
          "content_same": false
        },
        {
          "line": 1309,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR, \"Bad frame count\\n\")",
          "old_line_content": "        }",
          "new_line_content": "            av_log(avctx, AV_LOG_ERROR, \"Bad frame count\\n\");",
          "content_same": false
        },
        {
          "line": 1314,
          "old_api": null,
          "new_api": "ff_alloc_packet2",
          "old_text": null,
          "new_text": "ff_alloc_packet2(avctx, avpkt, frame_bytes)",
          "old_line_content": "",
          "new_line_content": "    if ((ret = ff_alloc_packet2(avctx, avpkt, frame_bytes)) < 0)",
          "content_same": false
        },
        {
          "line": 1317,
          "old_api": null,
          "new_api": "write_frame",
          "old_text": null,
          "new_text": "write_frame(s, avpkt)",
          "old_line_content": "    s->frame_count++;",
          "new_line_content": "    out_bytes = write_frame(s, avpkt);",
          "content_same": false
        },
        {
          "line": 807,
          "old_api": null,
          "new_api": "encode_residual_fixed",
          "old_text": null,
          "new_text": "encode_residual_fixed(res, smp, n, i)",
          "old_line_content": "            if (bits[i] < bits[opt_order])",
          "new_line_content": "            encode_residual_fixed(res, smp, n, i);",
          "content_same": false
        },
        {
          "line": 808,
          "old_api": null,
          "new_api": "find_subframe_rice_params",
          "old_text": null,
          "new_text": "find_subframe_rice_params(s, sub, i)",
          "old_line_content": "                opt_order = i;",
          "new_line_content": "            bits[i] = find_subframe_rice_params(s, sub, i);",
          "content_same": false
        },
        {
          "line": 1321,
          "old_api": null,
          "new_api": "update_md5_sum",
          "old_text": null,
          "new_text": "update_md5_sum(s, frame->data[0])",
          "old_line_content": "        return ret;",
          "new_line_content": "    if ((ret = update_md5_sum(s, frame->data[0])) < 0) {",
          "content_same": false
        },
        {
          "line": 1322,
          "old_api": null,
          "new_api": "av_log",
          "old_text": null,
          "new_text": "av_log(avctx, AV_LOG_ERROR, \"Error updating MD5 checksum\\n\")",
          "old_line_content": "    }",
          "new_line_content": "        av_log(avctx, AV_LOG_ERROR, \"Error updating MD5 checksum\\n\");",
          "content_same": false
        },
        {
          "line": 815,
          "old_api": null,
          "new_api": "encode_residual_fixed",
          "old_text": null,
          "new_text": "encode_residual_fixed(res, smp, n, sub->order)",
          "old_line_content": "        }",
          "new_line_content": "            encode_residual_fixed(res, smp, n, sub->order);",
          "content_same": false
        },
        {
          "line": 818,
          "old_api": null,
          "new_api": "subframe_count_exact",
          "old_text": null,
          "new_text": "subframe_count_exact(s, sub, sub->order)",
          "old_line_content": "",
          "new_line_content": "        return subframe_count_exact(s, sub, sub->order);",
          "content_same": false
        },
        {
          "line": 1331,
          "old_api": null,
          "new_api": "ff_samples_to_time_base",
          "old_text": null,
          "new_text": "ff_samples_to_time_base(avctx, frame->nb_samples)",
          "old_line_content": "",
          "new_line_content": "    avpkt->duration = ff_samples_to_time_base(avctx, frame->nb_samples);",
          "content_same": false
        },
        {
          "line": 823,
          "old_api": null,
          "new_api": "ff_lpc_calc_coefs",
          "old_text": null,
          "new_text": "ff_lpc_calc_coefs(&s->lpc_ctx, smp, n, min_order, max_order,\n                                  s->options.lpc_coeff_precision, coefs, shift, s->options.lpc_type,\n                                  s->options.lpc_passes, omethod,\n                                  MAX_LPC_SHIFT, 0)",
          "old_line_content": "                                  s->options.lpc_passes, omethod,",
          "new_line_content": "    opt_order = ff_lpc_calc_coefs(&s->lpc_ctx, smp, n, min_order, max_order,",
          "content_same": false
        },
        {
          "line": 1346,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&s->md5_buffer)",
          "old_line_content": "    }",
          "new_line_content": "        av_freep(&s->md5_buffer);",
          "content_same": false
        },
        {
          "line": 1349,
          "old_api": null,
          "new_api": "av_freep",
          "old_text": null,
          "new_text": "av_freep(&avctx->extradata)",
          "old_line_content": "    return 0;",
          "new_line_content": "    av_freep(&avctx->extradata);",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": null,
          "new_api": "av_clip",
          "old_text": null,
          "new_text": "av_clip(order, min_order - 1, max_order - 1)",
          "old_line_content": "                continue;",
          "new_line_content": "            order = av_clip(order, min_order - 1, max_order - 1);",
          "content_same": false
        },
        {
          "line": 843,
          "old_api": null,
          "new_api": "av_log2",
          "old_text": null,
          "new_text": "av_log2(order)",
          "old_line_content": "                                         shift[order]);",
          "new_line_content": "            if (s->bps_code * 4 + s->options.lpc_coeff_precision + av_log2(order) <= 32) {",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": null,
          "new_api": "lpc16_encode",
          "old_text": null,
          "new_text": "s->flac_dsp.lpc16_encode(res, smp, n, order+1, coefs[order],\n                                         shift[order])",
          "old_line_content": "            } else {",
          "new_line_content": "                s->flac_dsp.lpc16_encode(res, smp, n, order+1, coefs[order],",
          "content_same": false
        },
        {
          "line": 1356,
          "old_api": null,
          "new_api": "offsetof",
          "old_text": null,
          "new_text": "offsetof(FlacEncodeContext, options.lpc_coeff_precision)",
          "old_line_content": "{ \"none\",     NULL, 0, AV_OPT_TYPE_CONST, {.i64 = FF_LPC_TYPE_NONE },     INT_MIN, INT_MAX, FLAGS, \"lpc_type\" },",
          "new_line_content": "{ \"lpc_coeff_precision\", \"LPC coefficient precision\", offsetof(FlacEncodeContext, options.lpc_coeff_precision), AV_OPT_TYPE_INT, {.i64 = 15 }, 0, MAX_LPC_PRECISION, FLAGS },",
          "content_same": false
        },
        {
          "line": 1357,
          "old_api": null,
          "new_api": "offsetof",
          "old_text": null,
          "new_text": "offsetof(FlacEncodeContext, options.lpc_type)",
          "old_line_content": "{ \"fixed\",    NULL, 0, AV_OPT_TYPE_CONST, {.i64 = FF_LPC_TYPE_FIXED },    INT_MIN, INT_MAX, FLAGS, \"lpc_type\" },",
          "new_line_content": "{ \"lpc_type\", \"LPC algorithm\", offsetof(FlacEncodeContext, options.lpc_type), AV_OPT_TYPE_INT, {.i64 = FF_LPC_TYPE_DEFAULT }, FF_LPC_TYPE_DEFAULT, FF_LPC_TYPE_NB-1, FLAGS, \"lpc_type\" },",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": null,
          "new_api": "lpc32_encode",
          "old_text": null,
          "new_text": "s->flac_dsp.lpc32_encode(res, smp, n, order+1, coefs[order],\n                                         shift[order])",
          "old_line_content": "            }",
          "new_line_content": "                s->flac_dsp.lpc32_encode(res, smp, n, order+1, coefs[order],",
          "content_same": false
        },
        {
          "line": 850,
          "old_api": null,
          "new_api": "find_subframe_rice_params",
          "old_text": null,
          "new_text": "find_subframe_rice_params(s, sub, order+1)",
          "old_line_content": "                opt_index = i;",
          "new_line_content": "            bits[i] = find_subframe_rice_params(s, sub, order+1);",
          "content_same": false
        },
        {
          "line": 1364,
          "old_api": null,
          "new_api": "offsetof",
          "old_text": null,
          "new_text": "offsetof(FlacEncodeContext, options.max_partition_order)",
          "old_line_content": "{ \"estimation\", NULL, 0, AV_OPT_TYPE_CONST, {.i64 = ORDER_METHOD_EST },    INT_MIN, INT_MAX, FLAGS, \"predm\" },",
          "new_line_content": "{ \"max_partition_order\",  NULL, offsetof(FlacEncodeContext, options.max_partition_order),  AV_OPT_TYPE_INT, {.i64 = -1 },      -1, MAX_PARTITION_ORDER, FLAGS },",
          "content_same": false
        },
        {
          "line": 1365,
          "old_api": null,
          "new_api": "offsetof",
          "old_text": null,
          "new_text": "offsetof(FlacEncodeContext, options.prediction_order_method)",
          "old_line_content": "{ \"2level\",     NULL, 0, AV_OPT_TYPE_CONST, {.i64 = ORDER_METHOD_2LEVEL }, INT_MIN, INT_MAX, FLAGS, \"predm\" },",
          "new_line_content": "{ \"prediction_order_method\", \"Search method for selecting prediction order\", offsetof(FlacEncodeContext, options.prediction_order_method), AV_OPT_TYPE_INT, {.i64 = -1 }, -1, ORDER_METHOD_LOG, FLAGS, \"predm\" },",
          "content_same": false
        },
        {
          "line": 1372,
          "old_api": null,
          "new_api": "offsetof",
          "old_text": null,
          "new_text": "offsetof(FlacEncodeContext, options.ch_mode)",
          "old_line_content": "{ \"indep\",      NULL, 0, AV_OPT_TYPE_CONST, { .i64 = FLAC_CHMODE_INDEPENDENT }, INT_MIN, INT_MAX, FLAGS, \"ch_mode\" },",
          "new_line_content": "{ \"ch_mode\", \"Stereo decorrelation mode\", offsetof(FlacEncodeContext, options.ch_mode), AV_OPT_TYPE_INT, { .i64 = -1 }, -1, FLAC_CHMODE_MID_SIDE, FLAGS, \"ch_mode\" },",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": null,
          "new_api": "av_log2",
          "old_text": null,
          "new_text": "av_log2(i)",
          "old_line_content": "            } else {",
          "new_line_content": "            if (s->bps_code * 4 + s->options.lpc_coeff_precision + av_log2(i) <= 32) {",
          "content_same": false
        },
        {
          "line": 868,
          "old_api": null,
          "new_api": "find_subframe_rice_params",
          "old_text": null,
          "new_text": "find_subframe_rice_params(s, sub, i+1)",
          "old_line_content": "                opt_order = i;",
          "new_line_content": "            bits[i] = find_subframe_rice_params(s, sub, i+1);",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(bits, -1, sizeof(bits))",
          "old_line_content": "        for (step = 16; step; step >>= 1) {",
          "new_line_content": "        memset(bits, -1, sizeof(bits));",
          "content_same": false
        },
        {
          "line": 1390,
          "old_api": null,
          "new_api": "NULL_IF_CONFIG_SMALL",
          "old_text": null,
          "new_text": "NULL_IF_CONFIG_SMALL(\"FLAC (Free Lossless Audio Codec)\")",
          "old_line_content": "    .id             = AV_CODEC_ID_FLAC,",
          "new_line_content": "    .long_name      = NULL_IF_CONFIG_SMALL(\"FLAC (Free Lossless Audio Codec)\"),",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": null,
          "new_api": "av_log2",
          "old_text": null,
          "new_text": "av_log2(i)",
          "old_line_content": "                } else {",
          "new_line_content": "                if (s->bps_code * 4 + s->options.lpc_coeff_precision + av_log2(i) <= 32) {",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": null,
          "new_api": "find_subframe_rice_params",
          "old_text": null,
          "new_text": "find_subframe_rice_params(s, sub, i+1)",
          "old_line_content": "                    opt_order = i;",
          "new_line_content": "                bits[i] = find_subframe_rice_params(s, sub, i+1);",
          "content_same": false
        },
        {
          "line": 904,
          "old_api": null,
          "new_api": "av_log2",
          "old_text": null,
          "new_text": "av_log2(opt_order)",
          "old_line_content": "    } else {",
          "new_line_content": "    if (s->bps_code * 4 + s->options.lpc_coeff_precision + av_log2(opt_order) <= 32) {",
          "content_same": false
        },
        {
          "line": 907,
          "old_api": null,
          "new_api": "lpc32_encode",
          "old_text": null,
          "new_text": "s->flac_dsp.lpc32_encode(res, smp, n, sub->order, sub->coefs, sub->shift)",
          "old_line_content": "",
          "new_line_content": "        s->flac_dsp.lpc32_encode(res, smp, n, sub->order, sub->coefs, sub->shift);",
          "content_same": false
        },
        {
          "line": 912,
          "old_api": null,
          "new_api": "subframe_count_exact",
          "old_text": null,
          "new_text": "subframe_count_exact(s, sub, sub->order)",
          "old_line_content": "",
          "new_line_content": "    return subframe_count_exact(s, sub, sub->order);",
          "content_same": false
        },
        {
          "line": 934,
          "old_api": null,
          "new_api": "PUT_UTF8",
          "old_text": null,
          "new_text": "PUT_UTF8(s->frame_count, tmp, count += 8;)",
          "old_line_content": "    /* explicit block size */",
          "new_line_content": "    PUT_UTF8(s->frame_count, tmp, count += 8;)",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": null,
          "new_api": "count_frame_header",
          "old_text": null,
          "new_text": "count_frame_header(s)",
          "old_line_content": "    for (ch = 0; ch < s->channels; ch++)",
          "new_line_content": "    count = count_frame_header(s);",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": null,
          "new_api": "encode_residual_ch",
          "old_text": null,
          "new_text": "encode_residual_ch(s, ch)",
          "old_line_content": "    count += (8 - (count & 7)) & 7; // byte alignment",
          "new_line_content": "        count += encode_residual_ch(s, ch);",
          "content_same": false
        },
        {
          "line": 987,
          "old_api": null,
          "new_api": "av_ctz",
          "old_text": null,
          "new_text": "av_ctz(v)",
          "old_line_content": "            for (i = 0; i < s->frame.blocksize; i++)",
          "new_line_content": "            v = av_ctz(v);",
          "content_same": false
        },
        {
          "line": 1020,
          "old_api": null,
          "new_api": "FFABS",
          "old_text": null,
          "new_text": "FFABS(lt)",
          "old_line_content": "    }",
          "new_line_content": "        sum[0] += FFABS(lt);",
          "content_same": false
        },
        {
          "line": 1021,
          "old_api": null,
          "new_api": "FFABS",
          "old_text": null,
          "new_text": "FFABS(rt)",
          "old_line_content": "    /* estimate bit counts */",
          "new_line_content": "        sum[1] += FFABS(rt);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1024,
          "old_api": "rice_encode_count",
          "new_api": null,
          "old_text": "rice_encode_count( 2 * sum[i], n, k)",
          "new_text": null,
          "old_line_content": "        sum[i] = rice_encode_count( 2 * sum[i], n, k);",
          "new_line_content": "    for (i = 0; i < 4; i++) {",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": "estimate_stereo_mode",
          "new_api": null,
          "old_text": "estimate_stereo_mode(left, right, n, max_rice_param)",
          "new_text": null,
          "old_line_content": "        frame->ch_mode = estimate_stereo_mode(left, right, n, max_rice_param);",
          "new_line_content": "    if (s->options.ch_mode < 0) {",
          "content_same": false
        },
        {
          "line": 1094,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(pb, 8, tmp)",
          "new_text": null,
          "old_line_content": "    PUT_UTF8(val, tmp, put_bits(pb, 8, tmp);)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1105,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 16, 0xFFF8)",
          "new_text": null,
          "old_line_content": "    put_bits(&s->pb, 16, 0xFFF8);",
          "new_line_content": "    frame = &s->frame;",
          "content_same": false
        },
        {
          "line": 1106,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 4, frame->bs_code[0])",
          "new_text": null,
          "old_line_content": "    put_bits(&s->pb, 4, frame->bs_code[0]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1110,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 4, s->channels-1)",
          "new_text": null,
          "old_line_content": "        put_bits(&s->pb, 4, s->channels-1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1115,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 1, 0)",
          "new_text": null,
          "old_line_content": "    put_bits(&s->pb, 1, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1119,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 8, frame->bs_code[1])",
          "new_text": null,
          "old_line_content": "        put_bits(&s->pb, 8, frame->bs_code[1]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1124,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 8, s->sr_code[1])",
          "new_text": null,
          "old_line_content": "        put_bits(&s->pb, 8, s->sr_code[1]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1129,
          "old_api": "av_crc_get_table",
          "new_api": null,
          "old_text": "av_crc_get_table(AV_CRC_8_ATM)",
          "new_text": null,
          "old_line_content": "    crc = av_crc(av_crc_get_table(AV_CRC_8_ATM), 0, s->pb.buf,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 1, 0)",
          "new_text": null,
          "old_line_content": "        put_bits(&s->pb, 1, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 6, sub->type_code)",
          "new_text": null,
          "old_line_content": "        put_bits(&s->pb, 6, sub->type_code);",
          "new_line_content": "        /* subframe header */",
          "content_same": false
        },
        {
          "line": 1155,
          "old_api": "put_sbits",
          "new_api": null,
          "old_text": "put_sbits(&s->pb, sub->obits, res[0])",
          "new_text": null,
          "old_line_content": "            put_sbits(&s->pb, sub->obits, res[0]);",
          "new_line_content": "        /* subframe */",
          "content_same": false
        },
        {
          "line": 1158,
          "old_api": "put_sbits",
          "new_api": null,
          "old_text": "put_sbits(&s->pb, sub->obits, *res++)",
          "new_text": null,
          "old_line_content": "                put_sbits(&s->pb, sub->obits, *res++);",
          "new_line_content": "        } else if (sub->type == FLAC_SUBFRAME_VERBATIM) {",
          "content_same": false
        },
        {
          "line": 1162,
          "old_api": "put_sbits",
          "new_api": null,
          "old_text": "put_sbits(&s->pb, sub->obits, *res++)",
          "new_text": null,
          "old_line_content": "                put_sbits(&s->pb, sub->obits, *res++);",
          "new_line_content": "            /* warm-up samples */",
          "content_same": false
        },
        {
          "line": 1167,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits( &s->pb, 4, cbits-1)",
          "new_text": null,
          "old_line_content": "                put_bits( &s->pb, 4, cbits-1);",
          "new_line_content": "            if (sub->type == FLAC_SUBFRAME_LPC) {",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": "put_sbits",
          "new_api": null,
          "old_text": "put_sbits(&s->pb, 5, sub->shift)",
          "new_text": null,
          "old_line_content": "                put_sbits(&s->pb, 5, sub->shift);",
          "new_line_content": "                int cbits = s->options.lpc_coeff_precision;",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 2, sub->rc.coding_mode - 4)",
          "new_text": null,
          "old_line_content": "            put_bits(&s->pb, 2, sub->rc.coding_mode - 4);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, 4, porder)",
          "new_text": null,
          "old_line_content": "            put_bits(&s->pb, 4, porder);",
          "new_line_content": "            porder  = sub->rc.porder;",
          "content_same": false
        },
        {
          "line": 1185,
          "old_api": "put_bits",
          "new_api": null,
          "old_text": "put_bits(&s->pb, sub->rc.coding_mode, k)",
          "new_text": null,
          "old_line_content": "                put_bits(&s->pb, sub->rc.coding_mode, k);",
          "new_line_content": "            for (p = 0; p < 1 << porder; p++) {",
          "content_same": false
        },
        {
          "line": 674,
          "old_api": "calc_sum_next",
          "new_api": null,
          "old_text": "calc_sum_next(--i, sums)",
          "new_text": null,
          "old_line_content": "        calc_sum_next(--i, sums);",
          "new_line_content": "        if (i == pmin)",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": "FFMIN",
          "new_api": null,
          "old_text": "FFMIN(frame_end, part_end + psize)",
          "new_text": null,
          "old_line_content": "                part_end = FFMIN(frame_end, part_end + psize);",
          "new_line_content": "                while (res < part_end)",
          "content_same": false
        },
        {
          "line": 683,
          "old_api": "av_log2",
          "new_api": null,
          "old_text": "av_log2(n^(n-1))",
          "new_text": null,
          "old_line_content": "    int porder = FFMIN(max_porder, av_log2(n^(n-1)));",
          "new_line_content": "static int get_max_p_order(int max_porder, int n, int order)",
          "content_same": false
        },
        {
          "line": 1198,
          "old_api": "flush_put_bits",
          "new_api": null,
          "old_text": "flush_put_bits(&s->pb)",
          "new_text": null,
          "old_line_content": "    flush_put_bits(&s->pb);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1199,
          "old_api": "av_crc_get_table",
          "new_api": null,
          "old_text": "av_crc_get_table(AV_CRC_16_ANSI)",
          "new_text": null,
          "old_line_content": "    crc = av_bswap16(av_crc(av_crc_get_table(AV_CRC_16_ANSI), 0, s->pb.buf,",
          "new_line_content": "    int crc;",
          "content_same": false
        },
        {
          "line": 693,
          "old_api": "get_max_p_order",
          "new_api": null,
          "old_text": "get_max_p_order(s->options.min_partition_order,\n                               s->frame.blocksize, pred_order)",
          "new_text": null,
          "old_line_content": "    int pmin = get_max_p_order(s->options.min_partition_order,",
          "new_line_content": "                                          FlacSubframe *sub, int pred_order)",
          "content_same": false
        },
        {
          "line": 1208,
          "old_api": "init_put_bits",
          "new_api": null,
          "old_text": "init_put_bits(&s->pb, avpkt->data, avpkt->size)",
          "new_text": null,
          "old_line_content": "    init_put_bits(&s->pb, avpkt->data, avpkt->size);",
          "new_line_content": "static int write_frame(FlacEncodeContext *s, AVPacket *avpkt)",
          "content_same": false
        },
        {
          "line": 1209,
          "old_api": "write_frame_header",
          "new_api": null,
          "old_text": "write_frame_header(s)",
          "new_text": null,
          "old_line_content": "    write_frame_header(s);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 701,
          "old_api": "calc_rice_params",
          "new_api": null,
          "old_text": "calc_rice_params(&sub->rc, pmin, pmax, sub->residual,\n                             s->frame.blocksize, pred_order)",
          "new_text": null,
          "old_line_content": "    bits += calc_rice_params(&sub->rc, pmin, pmax, sub->residual,",
          "new_line_content": "    if (sub->type == FLAC_SUBFRAME_LPC)",
          "content_same": false
        },
        {
          "line": 1223,
          "old_api": "av_fast_malloc",
          "new_api": null,
          "old_text": "av_fast_malloc(&s->md5_buffer, &s->md5_buffer_size, buf_size)",
          "new_text": null,
          "old_line_content": "        av_fast_malloc(&s->md5_buffer, &s->md5_buffer_size, buf_size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": "bswap16_buf",
          "new_api": null,
          "old_text": "s->bdsp.bswap16_buf((uint16_t *) s->md5_buffer,\n                            (const uint16_t *) samples, buf_size / 2)",
          "new_text": null,
          "old_line_content": "        s->bdsp.bswap16_buf((uint16_t *) s->md5_buffer,",
          "new_line_content": "        buf = (const uint8_t *)samples;",
          "content_same": false
        },
        {
          "line": 1248,
          "old_api": "av_md5_update",
          "new_api": null,
          "old_text": "av_md5_update(s->md5ctx, buf, buf_size)",
          "new_text": null,
          "old_line_content": "    av_md5_update(s->md5ctx, buf, buf_size);",
          "new_line_content": "        buf = s->md5_buffer;",
          "content_same": false
        },
        {
          "line": 1265,
          "old_api": "av_md5_final",
          "new_api": null,
          "old_text": "av_md5_final(s->md5ctx, s->md5sum)",
          "new_text": null,
          "old_line_content": "        av_md5_final(s->md5ctx, s->md5sum);",
          "new_line_content": "    if (!frame) {",
          "content_same": false
        },
        {
          "line": 1266,
          "old_api": "write_streaminfo",
          "new_api": null,
          "old_text": "write_streaminfo(s, avctx->extradata)",
          "new_text": null,
          "old_line_content": "        write_streaminfo(s, avctx->extradata);",
          "new_line_content": "        s->max_framesize = s->max_encoded_framesize;",
          "content_same": false
        },
        {
          "line": 1269,
          "old_api": "av_packet_new_side_data",
          "new_api": null,
          "old_text": "av_packet_new_side_data(avpkt, AV_PKT_DATA_NEW_EXTRADATA,\n                                                         avctx->extradata_size)",
          "new_text": null,
          "old_line_content": "            uint8_t *side_data = av_packet_new_side_data(avpkt, AV_PKT_DATA_NEW_EXTRADATA,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1272,
          "old_api": "AVERROR",
          "new_api": null,
          "old_text": "AVERROR(ENOMEM)",
          "new_text": null,
          "old_line_content": "                return AVERROR(ENOMEM);",
          "new_line_content": "                                                         avctx->extradata_size);",
          "content_same": false
        },
        {
          "line": 1273,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(side_data, avctx->extradata, avctx->extradata_size)",
          "new_text": null,
          "old_line_content": "            memcpy(side_data, avctx->extradata, avctx->extradata_size);",
          "new_line_content": "            if (!side_data)",
          "content_same": false
        },
        {
          "line": 1286,
          "old_api": "ff_flac_get_max_frame_size",
          "new_api": null,
          "old_text": "ff_flac_get_max_frame_size(frame->nb_samples,\n                                                      s->channels,\n                                                      avctx->bits_per_raw_sample)",
          "new_text": null,
          "old_line_content": "        s->max_framesize = ff_flac_get_max_frame_size(frame->nb_samples,",
          "new_line_content": "    /* change max_framesize for small final frame */",
          "content_same": false
        },
        {
          "line": 1291,
          "old_api": "init_frame",
          "new_api": null,
          "old_text": "init_frame(s, frame->nb_samples)",
          "new_text": null,
          "old_line_content": "    init_frame(s, frame->nb_samples);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 781,
          "old_api": "subframe_count_exact",
          "new_api": null,
          "old_text": "subframe_count_exact(s, sub, 0)",
          "new_text": null,
          "old_line_content": "        return subframe_count_exact(s, sub, 0);",
          "new_line_content": "        sub->type = sub->type_code = FLAC_SUBFRAME_CONSTANT;",
          "content_same": false
        },
        {
          "line": 787,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(res, smp, n * sizeof(int32_t))",
          "new_text": null,
          "old_line_content": "        memcpy(res, smp, n * sizeof(int32_t));",
          "new_line_content": "    if (frame->verbatim_only || n < 5) {",
          "content_same": false
        },
        {
          "line": 788,
          "old_api": "subframe_count_exact",
          "new_api": null,
          "old_text": "subframe_count_exact(s, sub, 0)",
          "new_text": null,
          "old_line_content": "        return subframe_count_exact(s, sub, 0);",
          "new_line_content": "        sub->type = sub->type_code = FLAC_SUBFRAME_VERBATIM;",
          "content_same": false
        },
        {
          "line": 1305,
          "old_api": "encode_frame",
          "new_api": null,
          "old_text": "encode_frame(s)",
          "new_text": null,
          "old_line_content": "        frame_bytes = encode_frame(s);",
          "new_line_content": "    if (frame_bytes < 0 || frame_bytes > s->max_framesize) {",
          "content_same": false
        },
        {
          "line": 1312,
          "old_api": "ff_alloc_packet2",
          "new_api": null,
          "old_text": "ff_alloc_packet2(avctx, avpkt, frame_bytes)",
          "new_text": null,
          "old_line_content": "    if ((ret = ff_alloc_packet2(avctx, avpkt, frame_bytes)) < 0)",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1315,
          "old_api": "write_frame",
          "new_api": null,
          "old_text": "write_frame(s, avpkt)",
          "new_text": null,
          "old_line_content": "    out_bytes = write_frame(s, avpkt);",
          "new_line_content": "        return ret;",
          "content_same": false
        },
        {
          "line": 805,
          "old_api": "encode_residual_fixed",
          "new_api": null,
          "old_text": "encode_residual_fixed(res, smp, n, i)",
          "new_text": null,
          "old_line_content": "            encode_residual_fixed(res, smp, n, i);",
          "new_line_content": "        bits[0]   = UINT32_MAX;",
          "content_same": false
        },
        {
          "line": 806,
          "old_api": "find_subframe_rice_params",
          "new_api": null,
          "old_text": "find_subframe_rice_params(s, sub, i)",
          "new_text": null,
          "old_line_content": "            bits[i] = find_subframe_rice_params(s, sub, i);",
          "new_line_content": "        for (i = min_order; i <= max_order; i++) {",
          "content_same": false
        },
        {
          "line": 1319,
          "old_api": "update_md5_sum",
          "new_api": null,
          "old_text": "update_md5_sum(s, frame->data[0])",
          "new_text": null,
          "old_line_content": "    if ((ret = update_md5_sum(s, frame->data[0])) < 0) {",
          "new_line_content": "    s->frame_count++;",
          "content_same": false
        },
        {
          "line": 1320,
          "old_api": "av_log",
          "new_api": null,
          "old_text": "av_log(avctx, AV_LOG_ERROR, \"Error updating MD5 checksum\\n\")",
          "new_text": null,
          "old_line_content": "        av_log(avctx, AV_LOG_ERROR, \"Error updating MD5 checksum\\n\");",
          "new_line_content": "    s->sample_count += frame->nb_samples;",
          "content_same": false
        },
        {
          "line": 813,
          "old_api": "encode_residual_fixed",
          "new_api": null,
          "old_text": "encode_residual_fixed(res, smp, n, sub->order)",
          "new_text": null,
          "old_line_content": "            encode_residual_fixed(res, smp, n, sub->order);",
          "new_line_content": "        sub->type_code = sub->type | sub->order;",
          "content_same": false
        },
        {
          "line": 814,
          "old_api": "find_subframe_rice_params",
          "new_api": null,
          "old_text": "find_subframe_rice_params(s, sub, sub->order)",
          "new_text": null,
          "old_line_content": "            find_subframe_rice_params(s, sub, sub->order);",
          "new_line_content": "        if (sub->order != max_order) {",
          "content_same": false
        },
        {
          "line": 1329,
          "old_api": "ff_samples_to_time_base",
          "new_api": null,
          "old_text": "ff_samples_to_time_base(avctx, frame->nb_samples)",
          "new_text": null,
          "old_line_content": "    avpkt->duration = ff_samples_to_time_base(avctx, frame->nb_samples);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 821,
          "old_api": "ff_lpc_calc_coefs",
          "new_api": null,
          "old_text": "ff_lpc_calc_coefs(&s->lpc_ctx, smp, n, min_order, max_order,\n                                  s->options.lpc_coeff_precision, coefs, shift, s->options.lpc_type,\n                                  s->options.lpc_passes, omethod,\n                                  MAX_LPC_SHIFT, 0)",
          "new_text": null,
          "old_line_content": "    opt_order = ff_lpc_calc_coefs(&s->lpc_ctx, smp, n, min_order, max_order,",
          "new_line_content": "    /* LPC */",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&s->md5ctx)",
          "new_text": null,
          "old_line_content": "        av_freep(&s->md5ctx);",
          "new_line_content": "    if (avctx->priv_data) {",
          "content_same": false
        },
        {
          "line": 1344,
          "old_api": "av_freep",
          "new_api": null,
          "old_text": "av_freep(&s->md5_buffer)",
          "new_text": null,
          "old_line_content": "        av_freep(&s->md5_buffer);",
          "new_line_content": "        FlacEncodeContext *s = avctx->priv_data;",
          "content_same": false
        },
        {
          "line": 838,
          "old_api": "av_clip",
          "new_api": null,
          "old_text": "av_clip(order, min_order - 1, max_order - 1)",
          "new_text": null,
          "old_line_content": "            order = av_clip(order, min_order - 1, max_order - 1);",
          "new_line_content": "            int last_order = order;",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": "av_log2",
          "new_api": null,
          "old_text": "av_log2(order)",
          "new_text": null,
          "old_line_content": "            if (s->bps_code * 4 + s->options.lpc_coeff_precision + av_log2(order) <= 32) {",
          "new_line_content": "            if (order == last_order)",
          "content_same": false
        },
        {
          "line": 842,
          "old_api": "lpc16_encode",
          "new_api": null,
          "old_text": "s->flac_dsp.lpc16_encode(res, smp, n, order+1, coefs[order],\n                                         shift[order])",
          "new_text": null,
          "old_line_content": "                s->flac_dsp.lpc16_encode(res, smp, n, order+1, coefs[order],",
          "new_line_content": "                continue;",
          "content_same": false
        },
        {
          "line": 1354,
          "old_api": "offsetof",
          "new_api": null,
          "old_text": "offsetof(FlacEncodeContext, options.lpc_coeff_precision)",
          "new_text": null,
          "old_line_content": "{ \"lpc_coeff_precision\", \"LPC coefficient precision\", offsetof(FlacEncodeContext, options.lpc_coeff_precision), AV_OPT_TYPE_INT, {.i64 = 15 }, 0, MAX_LPC_PRECISION, FLAGS },",
          "new_line_content": "#define FLAGS AV_OPT_FLAG_ENCODING_PARAM | AV_OPT_FLAG_AUDIO_PARAM",
          "content_same": false
        },
        {
          "line": 1355,
          "old_api": "offsetof",
          "new_api": null,
          "old_text": "offsetof(FlacEncodeContext, options.lpc_type)",
          "new_text": null,
          "old_line_content": "{ \"lpc_type\", \"LPC algorithm\", offsetof(FlacEncodeContext, options.lpc_type), AV_OPT_TYPE_INT, {.i64 = FF_LPC_TYPE_DEFAULT }, FF_LPC_TYPE_DEFAULT, FF_LPC_TYPE_NB-1, FLAGS, \"lpc_type\" },",
          "new_line_content": "static const AVOption options[] = {",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": "lpc32_encode",
          "new_api": null,
          "old_text": "s->flac_dsp.lpc32_encode(res, smp, n, order+1, coefs[order],\n                                         shift[order])",
          "new_text": null,
          "old_line_content": "                s->flac_dsp.lpc32_encode(res, smp, n, order+1, coefs[order],",
          "new_line_content": "                                         shift[order]);",
          "content_same": false
        },
        {
          "line": 848,
          "old_api": "find_subframe_rice_params",
          "new_api": null,
          "old_text": "find_subframe_rice_params(s, sub, order+1)",
          "new_text": null,
          "old_line_content": "            bits[i] = find_subframe_rice_params(s, sub, order+1);",
          "new_line_content": "                                         shift[order]);",
          "content_same": false
        },
        {
          "line": 1360,
          "old_api": "offsetof",
          "new_api": null,
          "old_text": "offsetof(FlacEncodeContext, options.lpc_passes)",
          "new_text": null,
          "old_line_content": "{ \"lpc_passes\", \"Number of passes to use for Cholesky factorization during LPC analysis\", offsetof(FlacEncodeContext, options.lpc_passes),  AV_OPT_TYPE_INT, {.i64 = 2 }, 1, INT_MAX, FLAGS },",
          "new_line_content": "{ \"levinson\", NULL, 0, AV_OPT_TYPE_CONST, {.i64 = FF_LPC_TYPE_LEVINSON }, INT_MIN, INT_MAX, FLAGS, \"lpc_type\" },",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": "offsetof",
          "new_api": null,
          "old_text": "offsetof(FlacEncodeContext, options.min_partition_order)",
          "new_text": null,
          "old_line_content": "{ \"min_partition_order\",  NULL, offsetof(FlacEncodeContext, options.min_partition_order),  AV_OPT_TYPE_INT, {.i64 = -1 },      -1, MAX_PARTITION_ORDER, FLAGS },",
          "new_line_content": "{ \"cholesky\", NULL, 0, AV_OPT_TYPE_CONST, {.i64 = FF_LPC_TYPE_CHOLESKY }, INT_MIN, INT_MAX, FLAGS, \"lpc_type\" },",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": "offsetof",
          "new_api": null,
          "old_text": "offsetof(FlacEncodeContext, options.ch_mode)",
          "new_text": null,
          "old_line_content": "{ \"ch_mode\", \"Stereo decorrelation mode\", offsetof(FlacEncodeContext, options.ch_mode), AV_OPT_TYPE_INT, { .i64 = -1 }, -1, FLAC_CHMODE_MID_SIDE, FLAGS, \"ch_mode\" },",
          "new_line_content": "{ \"search\",     NULL, 0, AV_OPT_TYPE_CONST, {.i64 = ORDER_METHOD_SEARCH }, INT_MIN, INT_MAX, FLAGS, \"predm\" },",
          "content_same": false
        },
        {
          "line": 861,
          "old_api": "av_log2",
          "new_api": null,
          "old_text": "av_log2(i)",
          "new_text": null,
          "old_line_content": "            if (s->bps_code * 4 + s->options.lpc_coeff_precision + av_log2(i) <= 32) {",
          "new_line_content": "        bits[0]   = UINT32_MAX;",
          "content_same": false
        },
        {
          "line": 862,
          "old_api": "lpc16_encode",
          "new_api": null,
          "old_text": "s->flac_dsp.lpc16_encode(res, smp, n, i+1, coefs[i], shift[i])",
          "new_text": null,
          "old_line_content": "                s->flac_dsp.lpc16_encode(res, smp, n, i+1, coefs[i], shift[i]);",
          "new_line_content": "        for (i = min_order-1; i < max_order; i++) {",
          "content_same": false
        },
        {
          "line": 876,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(bits, -1, sizeof(bits))",
          "new_text": null,
          "old_line_content": "        memset(bits, -1, sizeof(bits));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1388,
          "old_api": "NULL_IF_CONFIG_SMALL",
          "new_api": null,
          "old_text": "NULL_IF_CONFIG_SMALL(\"FLAC (Free Lossless Audio Codec)\")",
          "new_text": null,
          "old_line_content": "    .long_name      = NULL_IF_CONFIG_SMALL(\"FLAC (Free Lossless Audio Codec)\"),",
          "new_line_content": "AVCodec ff_flac_encoder = {",
          "content_same": false
        },
        {
          "line": 883,
          "old_api": "av_log2",
          "new_api": null,
          "old_text": "av_log2(i)",
          "new_text": null,
          "old_line_content": "                if (s->bps_code * 4 + s->options.lpc_coeff_precision + av_log2(i) <= 32) {",
          "new_line_content": "                if (i < min_order-1 || i >= max_order || bits[i] < UINT32_MAX)",
          "content_same": false
        },
        {
          "line": 884,
          "old_api": "lpc32_encode",
          "new_api": null,
          "old_text": "s->flac_dsp.lpc32_encode(res, smp, n, i+1, coefs[i], shift[i])",
          "new_text": null,
          "old_line_content": "                    s->flac_dsp.lpc32_encode(res, smp, n, i+1, coefs[i], shift[i]);",
          "new_line_content": "                    continue;",
          "content_same": false
        },
        {
          "line": 902,
          "old_api": "av_log2",
          "new_api": null,
          "old_text": "av_log2(opt_order)",
          "new_text": null,
          "old_line_content": "    if (s->bps_code * 4 + s->options.lpc_coeff_precision + av_log2(opt_order) <= 32) {",
          "new_line_content": "        sub->coefs[i] = coefs[sub->order-1][i];",
          "content_same": false
        },
        {
          "line": 903,
          "old_api": "lpc16_encode",
          "new_api": null,
          "old_text": "s->flac_dsp.lpc16_encode(res, smp, n, sub->order, sub->coefs, sub->shift)",
          "new_text": null,
          "old_line_content": "        s->flac_dsp.lpc16_encode(res, smp, n, sub->order, sub->coefs, sub->shift);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 908,
          "old_api": "find_subframe_rice_params",
          "new_api": null,
          "old_text": "find_subframe_rice_params(s, sub, sub->order)",
          "new_text": null,
          "old_line_content": "    find_subframe_rice_params(s, sub, sub->order);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 932,
          "old_api": "PUT_UTF8",
          "new_api": null,
          "old_text": "PUT_UTF8(s->frame_count, tmp, count += 8;)",
          "new_text": null,
          "old_line_content": "    PUT_UTF8(s->frame_count, tmp, count += 8;)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 955,
          "old_api": "count_frame_header",
          "new_api": null,
          "old_text": "count_frame_header(s)",
          "new_text": null,
          "old_line_content": "    count = count_frame_header(s);",
          "new_line_content": "    uint64_t count;",
          "content_same": false
        },
        {
          "line": 958,
          "old_api": "encode_residual_ch",
          "new_api": null,
          "old_text": "encode_residual_ch(s, ch)",
          "new_text": null,
          "old_line_content": "        count += encode_residual_ch(s, ch);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 985,
          "old_api": "av_ctz",
          "new_api": null,
          "old_text": "av_ctz(v)",
          "new_text": null,
          "old_line_content": "            v = av_ctz(v);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1016,
          "old_api": "FFABS",
          "new_api": null,
          "old_text": "FFABS((lt + rt) >> 1)",
          "new_text": null,
          "old_line_content": "        sum[2] += FFABS((lt + rt) >> 1);",
          "new_line_content": "        lt = left_ch[i]  - 2*left_ch[i-1]  + left_ch[i-2];",
          "content_same": false
        },
        {
          "line": 1017,
          "old_api": "FFABS",
          "new_api": null,
          "old_text": "FFABS(lt - rt)",
          "new_text": null,
          "old_line_content": "        sum[3] += FFABS(lt - rt);",
          "new_line_content": "        rt = right_ch[i] - 2*right_ch[i-1] + right_ch[i-2];",
          "content_same": false
        },
        {
          "line": 1023,
          "old_api": "find_optimal_param",
          "new_api": null,
          "old_text": "find_optimal_param(2 * sum[i], n, max_rice_param)",
          "new_text": null,
          "old_line_content": "        k      = find_optimal_param(2 * sum[i], n, max_rice_param);",
          "new_line_content": "    /* estimate bit counts */",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 26,
      "total_additions": 82,
      "total_deletions": 81,
      "total_api_changes": 189
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 3,
        "api_related_lines": 189,
        "non_api_lines": 2,
        "non_api_line_numbers": [
          670,
          671
        ]
      }
    },
    "api_calls_before": 206,
    "api_calls_after": 207,
    "diff_info": {
      "added_lines": 3,
      "removed_lines": 1,
      "total_diff_lines": 16
    }
  }
}