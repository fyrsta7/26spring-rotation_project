{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/64919aaab45076445051245c9bcd48dd84abebe7",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/64919aaab45076445051245c9bcd48dd84abebe7/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/64919aaab45076445051245c9bcd48dd84abebe7/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/64919aaab45076445051245c9bcd48dd84abebe7/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 981,
          "old_api": "is_simple_subquery",
          "new_api": "is_safe_append_member",
          "old_text": "is_simple_subquery(root, subquery, rte, lowest_outer_join)",
          "new_text": "is_safe_append_member(subquery)",
          "old_line_content": "\tif (is_simple_subquery(root, subquery, rte, lowest_outer_join) &&",
          "new_line_content": "\t\t(containing_appendrel == NULL || is_safe_append_member(subquery)))",
          "content_same": false
        },
        {
          "line": 1016,
          "old_api": "list_length",
          "new_api": "OffsetVarNodes",
          "old_text": "list_length(parse->rtable)",
          "new_text": "OffsetVarNodes((Node *) subquery, rtoffset, 0)",
          "old_line_content": "\trtoffset = list_length(parse->rtable);",
          "new_line_content": "\tOffsetVarNodes((Node *) subquery, rtoffset, 0);",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": "get_relids_in_jointree",
          "new_api": "substitute_phv_relids",
          "old_text": "get_relids_in_jointree((Node *) subquery->jointree, false)",
          "new_text": "substitute_phv_relids((Node *) parse, varno, subrelids)",
          "old_line_content": "\t\tsubrelids = get_relids_in_jointree((Node *) subquery->jointree, false);",
          "new_line_content": "\t\tsubstitute_phv_relids((Node *) parse, varno, subrelids);",
          "content_same": false
        },
        {
          "line": 1158,
          "old_api": "substitute_phv_relids",
          "new_api": "fix_append_rel_relids",
          "old_text": "substitute_phv_relids((Node *) parse, varno, subrelids)",
          "new_text": "fix_append_rel_relids(root->append_rel_list, varno, subrelids)",
          "old_line_content": "\t\tsubstitute_phv_relids((Node *) parse, varno, subrelids);",
          "new_line_content": "\t\tfix_append_rel_relids(root->append_rel_list, varno, subrelids);",
          "content_same": false
        },
        {
          "line": 1239,
          "old_api": "IncrementVarSublevelsUp_rtable",
          "new_api": "copyObject",
          "old_text": "IncrementVarSublevelsUp_rtable(rtable, -1, 1)",
          "new_text": "copyObject(subquery->rtable)",
          "old_line_content": "\tIncrementVarSublevelsUp_rtable(rtable, -1, 1);",
          "new_line_content": "\trtable = copyObject(subquery->rtable);",
          "content_same": false
        },
        {
          "line": 1270,
          "old_api": "Assert",
          "new_api": "list_concat",
          "old_text": "Assert(subquery->setOperations)",
          "new_text": "list_concat(root->parse->rtable, rtable)",
          "old_line_content": "\tAssert(subquery->setOperations);",
          "new_line_content": "\troot->parse->rtable = list_concat(root->parse->rtable, rtable);",
          "content_same": false
        },
        {
          "line": 1325,
          "old_api": "lappend",
          "new_api": "makeNode",
          "old_text": "lappend(root->append_rel_list, appinfo)",
          "new_text": "makeNode(AppendRelInfo)",
          "old_line_content": "\t\troot->append_rel_list = lappend(root->append_rel_list, appinfo);",
          "new_line_content": "\t\tappinfo = makeNode(AppendRelInfo);",
          "content_same": false
        },
        {
          "line": 1349,
          "old_api": "pull_up_union_leaf_queries",
          "new_api": "IsA",
          "old_text": "pull_up_union_leaf_queries(op->rarg, root, parentRTindex, setOpQuery,\n\t\t\t\t\t\t\t\t   childRToffset)",
          "new_text": "IsA(setOp, SetOperationStmt)",
          "old_line_content": "\t\tpull_up_union_leaf_queries(op->rarg, root, parentRTindex, setOpQuery,",
          "new_line_content": "\telse if (IsA(setOp, SetOperationStmt))",
          "content_same": false
        },
        {
          "line": 1354,
          "old_api": "elog",
          "new_api": "pull_up_union_leaf_queries",
          "old_text": "elog(ERROR, \"unrecognized node type: %d\",\n\t\t\t (int) nodeTag(setOp))",
          "new_text": "pull_up_union_leaf_queries(op->larg, root, parentRTindex, setOpQuery,\n\t\t\t\t\t\t\t\t   childRToffset)",
          "old_line_content": "\t\telog(ERROR, \"unrecognized node type: %d\",",
          "new_line_content": "\t\tpull_up_union_leaf_queries(op->larg, root, parentRTindex, setOpQuery,",
          "content_same": false
        },
        {
          "line": 1388,
          "old_api": "makeVarFromTargetEntry",
          "new_api": "foreach",
          "old_text": "makeVarFromTargetEntry(newvarno, tle)",
          "new_text": "foreach(l, query->targetList)",
          "old_line_content": "\t\tvars = lappend(vars, makeVarFromTargetEntry(newvarno, tle));",
          "new_line_content": "\tforeach(l, query->targetList)",
          "content_same": false
        },
        {
          "line": 1560,
          "old_api": "linitial",
          "new_api": "Assert",
          "old_text": "linitial(rte->values_lists)",
          "new_text": "Assert(rte->rtekind == RTE_VALUES)",
          "old_line_content": "\tvalues_list = copyObject(linitial(rte->values_lists));",
          "new_line_content": "\tAssert(rte->rtekind == RTE_VALUES);",
          "content_same": false
        },
        {
          "line": 1608,
          "old_api": "Assert",
          "new_api": "perform_pullup_replace_vars",
          "old_text": "Assert(root->join_info_list == NIL)",
          "new_text": "perform_pullup_replace_vars(root, &rvcontext, NULL, NULL)",
          "old_line_content": "\tAssert(root->join_info_list == NIL);",
          "new_line_content": "\tperform_pullup_replace_vars(root, &rvcontext, NULL, NULL);",
          "content_same": false
        },
        {
          "line": 1615,
          "old_api": "list_length",
          "new_api": "Assert",
          "old_text": "list_length(parse->rtable)",
          "new_text": "Assert(root->join_info_list == NIL)",
          "old_line_content": "\tAssert(list_length(parse->rtable) == 1);",
          "new_line_content": "\tAssert(root->join_info_list == NIL);",
          "content_same": false
        },
        {
          "line": 1648,
          "old_api": "list_length",
          "new_api": "Assert",
          "old_text": "list_length(rte->values_lists)",
          "new_text": "Assert(rte->rtekind == RTE_VALUES)",
          "old_line_content": "\tif (list_length(rte->values_lists) != 1)",
          "new_line_content": "\tAssert(rte->rtekind == RTE_VALUES);",
          "content_same": false
        },
        {
          "line": 1854,
          "old_api": "IsA",
          "new_api": "is_simple_union_all_recurse",
          "old_text": "IsA(setOp, RangeTblRef)",
          "new_text": "is_simple_union_all_recurse((Node *) topop, subquery,\n\t\t\t\t\t\t\t\t\t   topop->colTypes)",
          "old_line_content": "\tif (IsA(setOp, RangeTblRef))",
          "new_line_content": "\treturn is_simple_union_all_recurse((Node *) topop, subquery,",
          "content_same": false
        },
        {
          "line": 1864,
          "old_api": "tlist_same_datatypes",
          "new_api": "rt_fetch",
          "old_text": "tlist_same_datatypes(subquery->targetList, colTypes, true)",
          "new_text": "rt_fetch(rtr->rtindex, setOpQuery->rtable)",
          "old_line_content": "\t\treturn tlist_same_datatypes(subquery->targetList, colTypes, true);",
          "new_line_content": "\t\tRangeTblEntry *rte = rt_fetch(rtr->rtindex, setOpQuery->rtable);",
          "content_same": false
        },
        {
          "line": 2141,
          "old_api": "pullup_replace_vars_subquery",
          "new_api": "Assert",
          "old_text": "pullup_replace_vars_subquery(rte->subquery,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t context)",
          "new_text": "Assert(rte->tablesample)",
          "old_line_content": "\t\t\t\t\t\t\tpullup_replace_vars_subquery(rte->subquery,",
          "new_line_content": "\t\t\t\t\t\tAssert(rte->tablesample);",
          "content_same": false
        },
        {
          "line": 2285,
          "old_api": "replace_rte_variables_mutator",
          "new_api": "expandRTE",
          "old_text": "replace_rte_variables_mutator((Node *) fields,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontext)",
          "new_text": "expandRTE(rcon->target_rte,\n\t\t\t\t  var->varno, 0 /* not varlevelsup */ , var->location,\n\t\t\t\t  (var->vartype != RECORDOID),\n\t\t\t\t  &colnames, &fields)",
          "old_line_content": "\t\tfields = (List *) replace_rte_variables_mutator((Node *) fields,",
          "new_line_content": "\t\texpandRTE(rcon->target_rte,",
          "content_same": false
        },
        {
          "line": 2326,
          "old_api": "copyObject",
          "new_api": "get_tle_by_resno",
          "old_text": "copyObject(tle->expr)",
          "new_text": "get_tle_by_resno(rcon->targetlist, varattno)",
          "old_line_content": "\t\tnewnode = (Node *) copyObject(tle->expr);",
          "new_line_content": "\t\tTargetEntry *tle = get_tle_by_resno(rcon->targetlist, varattno);",
          "content_same": false
        },
        {
          "line": 2333,
          "old_api": "IsA",
          "new_api": "copyObject",
          "old_text": "IsA(newnode, Var)",
          "new_text": "copyObject(tle->expr)",
          "old_line_content": "\t\t\tif (newnode && IsA(newnode, Var) &&",
          "new_line_content": "\t\tnewnode = (Node *) copyObject(tle->expr);",
          "content_same": false
        },
        {
          "line": 2416,
          "old_api": "IncrementVarSublevelsUp",
          "new_api": "list_length",
          "old_text": "IncrementVarSublevelsUp(newnode, var->varlevelsup, 0)",
          "new_text": "list_length(rcon->targetlist)",
          "old_line_content": "\t\tIncrementVarSublevelsUp(newnode, var->varlevelsup, 0);",
          "new_line_content": "\t\t\t\tvarattno <= list_length(rcon->targetlist))",
          "content_same": false
        },
        {
          "line": 2615,
          "old_api": "IsA",
          "new_api": "palloc",
          "old_text": "IsA(jtnode, RangeTblRef)",
          "new_text": "palloc(sizeof(reduce_outer_joins_state))",
          "old_line_content": "\tif (IsA(jtnode, RangeTblRef))",
          "new_line_content": "\t\tpalloc(sizeof(reduce_outer_joins_state));",
          "content_same": false
        },
        {
          "line": 2626,
          "old_api": "foreach",
          "new_api": "bms_make_singleton",
          "old_text": "foreach(l, f->fromlist)",
          "new_text": "bms_make_singleton(varno)",
          "old_line_content": "\t\tforeach(l, f->fromlist)",
          "new_line_content": "\t\tresult->relids = bms_make_singleton(varno);",
          "content_same": false
        },
        {
          "line": 2637,
          "old_api": "IsA",
          "new_api": "lfirst",
          "old_text": "IsA(jtnode, JoinExpr)",
          "new_text": "lfirst(l)",
          "old_line_content": "\telse if (IsA(jtnode, JoinExpr))",
          "new_line_content": "\t\t\tsub_state = reduce_outer_joins_pass1(lfirst(l));",
          "content_same": false
        },
        {
          "line": 2650,
          "old_api": "lappend",
          "new_api": "IS_OUTER_JOIN",
          "old_text": "lappend(result->sub_states, sub_state)",
          "new_text": "IS_OUTER_JOIN(j->jointype)",
          "old_line_content": "\t\tresult->sub_states = lappend(result->sub_states, sub_state);",
          "new_line_content": "\t\tif (IS_OUTER_JOIN(j->jointype))",
          "content_same": false
        },
        {
          "line": 2653,
          "old_api": "bms_add_members",
          "new_api": "reduce_outer_joins_pass1",
          "old_text": "bms_add_members(result->relids,\n\t\t\t\t\t\t\t\t\t\t sub_state->relids)",
          "new_text": "reduce_outer_joins_pass1(j->larg)",
          "old_line_content": "\t\tresult->relids = bms_add_members(result->relids,",
          "new_line_content": "\t\tsub_state = reduce_outer_joins_pass1(j->larg);",
          "content_same": false
        },
        {
          "line": 2659,
          "old_api": "elog",
          "new_api": "reduce_outer_joins_pass1",
          "old_text": "elog(ERROR, \"unrecognized node type: %d\",\n\t\t\t (int) nodeTag(jtnode))",
          "new_text": "reduce_outer_joins_pass1(j->rarg)",
          "old_line_content": "\t\telog(ERROR, \"unrecognized node type: %d\",",
          "new_line_content": "\t\tsub_state = reduce_outer_joins_pass1(j->rarg);",
          "content_same": false
        },
        {
          "line": 2660,
          "old_api": "nodeTag",
          "new_api": "bms_add_members",
          "old_text": "nodeTag(jtnode)",
          "new_text": "bms_add_members(result->relids,\n\t\t\t\t\t\t\t\t\t\t sub_state->relids)",
          "old_line_content": "\t\t\t (int) nodeTag(jtnode));",
          "new_line_content": "\t\tresult->relids = bms_add_members(result->relids,",
          "content_same": false
        },
        {
          "line": 2707,
          "old_api": "list_concat",
          "new_api": "find_nonnullable_rels",
          "old_text": "list_concat(pass_forced_null_vars,\n\t\t\t\t\t\t\t\t\t\t\tforced_null_vars)",
          "new_text": "find_nonnullable_rels(f->quals)",
          "old_line_content": "\t\tpass_forced_null_vars = list_concat(pass_forced_null_vars,",
          "new_line_content": "\t\tpass_nonnullable_rels = find_nonnullable_rels(f->quals);",
          "content_same": false
        },
        {
          "line": 2710,
          "old_api": "list_length",
          "new_api": "find_nonnullable_vars",
          "old_text": "list_length(state->sub_states)",
          "new_text": "find_nonnullable_vars(f->quals)",
          "old_line_content": "\t\tAssert(list_length(f->fromlist) == list_length(state->sub_states));",
          "new_line_content": "\t\tpass_nonnullable_vars = find_nonnullable_vars(f->quals);",
          "content_same": false
        },
        {
          "line": 2711,
          "old_api": "forboth",
          "new_api": "list_concat",
          "old_text": "forboth(l, f->fromlist, s, state->sub_states)",
          "new_text": "list_concat(pass_nonnullable_vars,\n\t\t\t\t\t\t\t\t\t\t\tnonnullable_vars)",
          "old_line_content": "\t\tforboth(l, f->fromlist, s, state->sub_states)",
          "new_line_content": "\t\tpass_nonnullable_vars = list_concat(pass_nonnullable_vars,",
          "content_same": false
        },
        {
          "line": 2713,
          "old_api": "lfirst",
          "new_api": "find_forced_null_vars",
          "old_text": "lfirst(s)",
          "new_text": "find_forced_null_vars(f->quals)",
          "old_line_content": "\t\t\treduce_outer_joins_state *sub_state = lfirst(s);",
          "new_line_content": "\t\tpass_forced_null_vars = find_forced_null_vars(f->quals);",
          "content_same": false
        },
        {
          "line": 2875,
          "old_api": "bms_add_members",
          "new_api": "find_nonnullable_rels",
          "old_text": "bms_add_members(local_nonnullable_rels,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t nonnullable_rels)",
          "new_text": "find_nonnullable_rels(j->quals)",
          "old_line_content": "\t\t\t\t\tlocal_nonnullable_rels = bms_add_members(local_nonnullable_rels,",
          "new_line_content": "\t\t\t\tlocal_nonnullable_rels = find_nonnullable_rels(j->quals);",
          "content_same": false
        },
        {
          "line": 2877,
          "old_api": "list_concat",
          "new_api": "find_nonnullable_vars",
          "old_text": "list_concat(local_nonnullable_vars,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t nonnullable_vars)",
          "new_text": "find_nonnullable_vars(j->quals)",
          "old_line_content": "\t\t\t\t\tlocal_nonnullable_vars = list_concat(local_nonnullable_vars,",
          "new_line_content": "\t\t\t\t\tlocal_nonnullable_vars = find_nonnullable_vars(j->quals);",
          "content_same": false
        },
        {
          "line": 3104,
          "old_api": "remove_useless_results_recurse",
          "new_api": "IsA",
          "old_text": "remove_useless_results_recurse(root, j->rarg)",
          "new_text": "IsA(jtnode, JoinExpr)",
          "old_line_content": "\t\tj->rarg = remove_useless_results_recurse(root, j->rarg);",
          "new_line_content": "\telse if (IsA(jtnode, JoinExpr))",
          "content_same": false
        },
        {
          "line": 3137,
          "old_api": "get_result_relid",
          "new_api": "remove_result_refs",
          "old_text": "get_result_relid(root, j->rarg)",
          "new_text": "remove_result_refs(root, varno, j->rarg)",
          "old_line_content": "\t\t\t\telse if ((varno = get_result_relid(root, j->rarg)) != 0)",
          "new_line_content": "\t\t\t\t\tremove_result_refs(root, varno, j->rarg);",
          "content_same": false
        },
        {
          "line": 3221,
          "old_api": "nodeTag",
          "new_api": "elog",
          "old_text": "nodeTag(jtnode)",
          "new_text": "elog(ERROR, \"unrecognized join type: %d\",\n\t\t\t\t\t (int) j->jointype)",
          "old_line_content": "\t\t\t (int) nodeTag(jtnode));",
          "new_line_content": "\t\t\t\telog(ERROR, \"unrecognized join type: %d\",",
          "content_same": false
        },
        {
          "line": 3327,
          "old_api": "IsA",
          "new_api": "query_tree_walker",
          "old_text": "IsA(node, SpecialJoinInfo)",
          "new_text": "query_tree_walker((Query *) node,\n\t\t\t\t\t\t\t\t   find_dependent_phvs_walker,\n\t\t\t\t\t\t\t\t   (void *) context, 0)",
          "old_line_content": "\tAssert(!IsA(node, SpecialJoinInfo));",
          "new_line_content": "\t\tresult = query_tree_walker((Query *) node,",
          "content_same": false
        },
        {
          "line": 3388,
          "old_api": "range_table_entry_walker",
          "new_api": "get_relids_in_jointree",
          "old_text": "range_table_entry_walker(rte,\n\t\t\t\t\t\t\t\t\t find_dependent_phvs_walker,\n\t\t\t\t\t\t\t\t\t (void *) &context,\n\t\t\t\t\t\t\t\t\t 0)",
          "new_text": "get_relids_in_jointree(node, false)",
          "old_line_content": "\t\t\trange_table_entry_walker(rte,",
          "new_line_content": "\tsubrelids = get_relids_in_jointree(node, false);",
          "content_same": false
        },
        {
          "line": 3431,
          "old_api": "bms_union",
          "new_api": "IsA",
          "old_text": "bms_union(phv->phrels,\n\t\t\t\t\t\t\t\t\tcontext->subrelids)",
          "new_text": "IsA(node, PlaceHolderVar)",
          "old_line_content": "\t\t\tphv->phrels = bms_union(phv->phrels,",
          "new_line_content": "\tif (IsA(node, PlaceHolderVar))",
          "content_same": false
        },
        {
          "line": 3436,
          "old_api": "bms_is_empty",
          "new_api": "bms_is_member",
          "old_text": "bms_is_empty(phv->phrels)",
          "new_text": "bms_is_member(context->varno, phv->phrels)",
          "old_line_content": "\t\t\tAssert(!bms_is_empty(phv->phrels));",
          "new_line_content": "\t\t\tbms_is_member(context->varno, phv->phrels))",
          "content_same": false
        },
        {
          "line": 3440,
          "old_api": "IsA",
          "new_api": "bms_del_member",
          "old_text": "IsA(node, Query)",
          "new_text": "bms_del_member(phv->phrels,\n\t\t\t\t\t\t\t\t\t\t context->varno)",
          "old_line_content": "\tif (IsA(node, Query))",
          "new_line_content": "\t\t\tphv->phrels = bms_del_member(phv->phrels,",
          "content_same": false
        },
        {
          "line": 3453,
          "old_api": "IsA",
          "new_api": "query_tree_walker",
          "old_text": "IsA(node, SpecialJoinInfo)",
          "new_text": "query_tree_walker((Query *) node,\n\t\t\t\t\t\t\t\t   substitute_phv_relids_walker,\n\t\t\t\t\t\t\t\t   (void *) context, 0)",
          "old_line_content": "\tAssert(!IsA(node, SpecialJoinInfo));",
          "new_line_content": "\t\tresult = query_tree_walker((Query *) node,",
          "content_same": false
        },
        {
          "line": 3546,
          "old_api": "foreach",
          "new_api": "bms_make_singleton",
          "old_text": "foreach(l, f->fromlist)",
          "new_text": "bms_make_singleton(varno)",
          "old_line_content": "\t\tforeach(l, f->fromlist)",
          "new_line_content": "\t\tresult = bms_make_singleton(varno);",
          "content_same": false
        },
        {
          "line": 3548,
          "old_api": "bms_join",
          "new_api": "IsA",
          "old_text": "bms_join(result,\n\t\t\t\t\t\t\t  get_relids_in_jointree(lfirst(l),\n\t\t\t\t\t\t\t\t\t\t\t\t\t include_joins))",
          "new_text": "IsA(jtnode, FromExpr)",
          "old_line_content": "\t\t\tresult = bms_join(result,",
          "new_line_content": "\telse if (IsA(jtnode, FromExpr))",
          "content_same": false
        },
        {
          "line": 3553,
          "old_api": "IsA",
          "new_api": "foreach",
          "old_text": "IsA(jtnode, JoinExpr)",
          "new_text": "foreach(l, f->fromlist)",
          "old_line_content": "\telse if (IsA(jtnode, JoinExpr))",
          "new_line_content": "\t\tforeach(l, f->fromlist)",
          "content_same": false
        },
        {
          "line": 3564,
          "old_api": "elog",
          "new_api": "get_relids_in_jointree",
          "old_text": "elog(ERROR, \"unrecognized node type: %d\",\n\t\t\t (int) nodeTag(jtnode))",
          "new_text": "get_relids_in_jointree(j->larg, include_joins)",
          "old_line_content": "\t\telog(ERROR, \"unrecognized node type: %d\",",
          "new_line_content": "\t\tresult = get_relids_in_jointree(j->larg, include_joins);",
          "content_same": false
        },
        {
          "line": 3565,
          "old_api": "nodeTag",
          "new_api": "bms_join",
          "old_text": "nodeTag(jtnode)",
          "new_text": "bms_join(result,\n\t\t\t\t\t\t  get_relids_in_jointree(j->rarg, include_joins))",
          "old_line_content": "\t\t\t (int) nodeTag(jtnode));",
          "new_line_content": "\t\tresult = bms_join(result,",
          "content_same": false
        },
        {
          "line": 3608,
          "old_api": "lfirst",
          "new_api": "IsA",
          "old_text": "lfirst(l)",
          "new_text": "IsA(jtnode, FromExpr)",
          "old_line_content": "\t\t\tjtnode = find_jointree_node_for_rel(lfirst(l), relid);",
          "new_line_content": "\telse if (IsA(jtnode, FromExpr))",
          "content_same": false
        },
        {
          "line": 3613,
          "old_api": "IsA",
          "new_api": "foreach",
          "old_text": "IsA(jtnode, JoinExpr)",
          "new_text": "foreach(l, f->fromlist)",
          "old_line_content": "\telse if (IsA(jtnode, JoinExpr))",
          "new_line_content": "\t\tforeach(l, f->fromlist)",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2050,
          "old_api": null,
          "new_api": "pullup_replace_vars",
          "old_text": null,
          "new_text": "pullup_replace_vars(parse->onConflict->onConflictWhere,\n\t\t\t\t\t\t\t\trvcontext)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tpullup_replace_vars(parse->onConflict->onConflictWhere,",
          "content_same": false
        },
        {
          "line": 2058,
          "old_api": null,
          "new_api": "replace_vars_in_jointree",
          "old_text": null,
          "new_text": "replace_vars_in_jointree((Node *) parse->jointree, rvcontext,\n\t\t\t\t\t\t\t lowest_nulling_outer_join)",
          "old_line_content": "\t * pulling up an appendrel member, we do not need PHVs in the list of the",
          "new_line_content": "\treplace_vars_in_jointree((Node *) parse->jointree, rvcontext,",
          "content_same": false
        },
        {
          "line": 2060,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(parse->setOperations == NULL)",
          "old_line_content": "\t * use PHVs for safety.  (This analysis could be made tighter but it seems",
          "new_line_content": "\tAssert(parse->setOperations == NULL);",
          "content_same": false
        },
        {
          "line": 2061,
          "old_api": null,
          "new_api": "pullup_replace_vars",
          "old_text": null,
          "new_text": "pullup_replace_vars(parse->havingQual, rvcontext)",
          "old_line_content": "\t * unlikely to be worth much trouble.)",
          "new_line_content": "\tparse->havingQual = pullup_replace_vars(parse->havingQual, rvcontext);",
          "content_same": false
        },
        {
          "line": 2070,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(lc, root->append_rel_list)",
          "old_line_content": "\t\tappinfo->translated_vars = (List *)",
          "new_line_content": "\tforeach(lc, root->append_rel_list)",
          "content_same": false
        },
        {
          "line": 2072,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(lc)",
          "old_line_content": "\t\trvcontext->need_phvs = save_need_phvs;",
          "new_line_content": "\t\tAppendRelInfo *appinfo = (AppendRelInfo *) lfirst(lc);",
          "content_same": false
        },
        {
          "line": 2078,
          "old_api": null,
          "new_api": "pullup_replace_vars",
          "old_text": null,
          "new_text": "pullup_replace_vars((Node *) appinfo->translated_vars, rvcontext)",
          "old_line_content": "\t * You might think that we could avoid using PHVs for alias vars of joins",
          "new_line_content": "\t\t\tpullup_replace_vars((Node *) appinfo->translated_vars, rvcontext);",
          "content_same": false
        },
        {
          "line": 2091,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(lc, parse->rtable)",
          "old_line_content": "\t\t\t\t\t\t\t\t\trvcontext);",
          "new_line_content": "\tforeach(lc, parse->rtable)",
          "content_same": false
        },
        {
          "line": 2093,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(lc)",
          "old_line_content": "}",
          "new_line_content": "\t\tRangeTblEntry *otherrte = (RangeTblEntry *) lfirst(lc);",
          "content_same": false
        },
        {
          "line": 2097,
          "old_api": null,
          "new_api": "pullup_replace_vars",
          "old_text": null,
          "new_text": "pullup_replace_vars((Node *) otherrte->joinaliasvars,\n\t\t\t\t\t\t\t\t\trvcontext)",
          "old_line_content": " * every expression in the jointree, without changing the jointree structure",
          "new_line_content": "\t\t\t\tpullup_replace_vars((Node *) otherrte->joinaliasvars,",
          "content_same": false
        },
        {
          "line": 2117,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(jtnode, RangeTblRef)",
          "old_line_content": "\t\t * reasons: we can avoid processing no-longer-referenced RTEs, and we",
          "new_line_content": "\tif (IsA(jtnode, RangeTblRef))",
          "content_same": false
        },
        {
          "line": 2132,
          "old_api": null,
          "new_api": "rt_fetch",
          "old_text": null,
          "new_text": "rt_fetch(varno, context->root->parse->rtable)",
          "old_line_content": "\t\t\t\t\tcase RTE_RELATION:",
          "new_line_content": "\t\t\tRangeTblEntry *rte = rt_fetch(varno, context->root->parse->rtable);",
          "content_same": false
        },
        {
          "line": 2143,
          "old_api": null,
          "new_api": "pullup_replace_vars",
          "old_text": null,
          "new_text": "pullup_replace_vars((Node *) rte->tablesample,\n\t\t\t\t\t\t\t\t\t\t\t\tcontext)",
          "old_line_content": "\t\t\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\t\t\tpullup_replace_vars((Node *) rte->tablesample,",
          "content_same": false
        },
        {
          "line": 2148,
          "old_api": null,
          "new_api": "pullup_replace_vars_subquery",
          "old_text": null,
          "new_text": "pullup_replace_vars_subquery(rte->subquery,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t context)",
          "old_line_content": "\t\t\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\t\t\tpullup_replace_vars_subquery(rte->subquery,",
          "content_same": false
        },
        {
          "line": 2153,
          "old_api": null,
          "new_api": "pullup_replace_vars",
          "old_text": null,
          "new_text": "pullup_replace_vars((Node *) rte->functions,\n\t\t\t\t\t\t\t\t\t\t\t\tcontext)",
          "old_line_content": "\t\t\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\t\t\tpullup_replace_vars((Node *) rte->functions,",
          "content_same": false
        },
        {
          "line": 2158,
          "old_api": null,
          "new_api": "pullup_replace_vars",
          "old_text": null,
          "new_text": "pullup_replace_vars((Node *) rte->tablefunc,\n\t\t\t\t\t\t\t\t\t\t\t\tcontext)",
          "old_line_content": "\t\t\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\t\t\tpullup_replace_vars((Node *) rte->tablefunc,",
          "content_same": false
        },
        {
          "line": 2163,
          "old_api": null,
          "new_api": "pullup_replace_vars",
          "old_text": null,
          "new_text": "pullup_replace_vars((Node *) rte->values_lists,\n\t\t\t\t\t\t\t\t\t\t\t\tcontext)",
          "old_line_content": "\t\t\t\t\t\t/* these shouldn't be marked LATERAL */",
          "new_line_content": "\t\t\t\t\t\t\tpullup_replace_vars((Node *) rte->values_lists,",
          "content_same": false
        },
        {
          "line": 2171,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(false)",
          "old_line_content": "\t{",
          "new_line_content": "\t\t\t\t\t\tAssert(false);",
          "content_same": false
        },
        {
          "line": 2177,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(jtnode, FromExpr)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t lowest_nulling_outer_join);",
          "new_line_content": "\telse if (IsA(jtnode, FromExpr))",
          "content_same": false
        },
        {
          "line": 2182,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(l, f->fromlist)",
          "old_line_content": "\t\tJoinExpr   *j = (JoinExpr *) jtnode;",
          "new_line_content": "\t\tforeach(l, f->fromlist)",
          "content_same": false
        },
        {
          "line": 2183,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(l)",
          "old_line_content": "\t\tbool\t\tsave_need_phvs = context->need_phvs;",
          "new_line_content": "\t\t\treplace_vars_in_jointree(lfirst(l), context,",
          "content_same": false
        },
        {
          "line": 2185,
          "old_api": null,
          "new_api": "pullup_replace_vars",
          "old_text": null,
          "new_text": "pullup_replace_vars(f->quals, context)",
          "old_line_content": "\t\tif (j == lowest_nulling_outer_join)",
          "new_line_content": "\t\tf->quals = pullup_replace_vars(f->quals, context);",
          "content_same": false
        },
        {
          "line": 2187,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(jtnode, JoinExpr)",
          "old_line_content": "\t\t\t/* no more PHVs in or below this join */",
          "new_line_content": "\telse if (IsA(jtnode, JoinExpr))",
          "content_same": false
        },
        {
          "line": 2198,
          "old_api": null,
          "new_api": "replace_vars_in_jointree",
          "old_text": null,
          "new_text": "replace_vars_in_jointree(j->larg, context, lowest_nulling_outer_join)",
          "old_line_content": "\t\t * can lead to failure to make a plan at all because none of the quals",
          "new_line_content": "\t\treplace_vars_in_jointree(j->larg, context, lowest_nulling_outer_join);",
          "content_same": false
        },
        {
          "line": 2199,
          "old_api": null,
          "new_api": "replace_vars_in_jointree",
          "old_text": null,
          "new_text": "replace_vars_in_jointree(j->rarg, context, lowest_nulling_outer_join)",
          "old_line_content": "\t\t * appear to be mergeable or hashable conditions.  For this purpose we",
          "new_line_content": "\t\treplace_vars_in_jointree(j->rarg, context, lowest_nulling_outer_join);",
          "content_same": false
        },
        {
          "line": 2212,
          "old_api": null,
          "new_api": "pullup_replace_vars",
          "old_text": null,
          "new_text": "pullup_replace_vars(j->quals, context)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tj->quals = pullup_replace_vars(j->quals, context);",
          "content_same": false
        },
        {
          "line": 2221,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"unrecognized node type: %d\",\n\t\t\t (int) nodeTag(jtnode))",
          "old_line_content": " * Returns a modified copy of the tree, so this can't be used where we",
          "new_line_content": "\t\telog(ERROR, \"unrecognized node type: %d\",",
          "content_same": false
        },
        {
          "line": 2222,
          "old_api": null,
          "new_api": "nodeTag",
          "old_text": null,
          "new_text": "nodeTag(jtnode)",
          "old_line_content": " * need to do in-place replacement.",
          "new_line_content": "\t\t\t (int) nodeTag(jtnode));",
          "content_same": false
        },
        {
          "line": 2234,
          "old_api": null,
          "new_api": "replace_rte_variables",
          "old_text": null,
          "new_text": "replace_rte_variables(expr,\n\t\t\t\t\t\t\t\t context->varno, 0,\n\t\t\t\t\t\t\t\t pullup_replace_vars_callback,\n\t\t\t\t\t\t\t\t (void *) context,\n\t\t\t\t\t\t\t\t context->outer_hasSubLinks)",
          "old_line_content": "static Node *",
          "new_line_content": "\treturn replace_rte_variables(expr,",
          "content_same": false
        },
        {
          "line": 2260,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(rcon->targetlist)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tvarattno <= list_length(rcon->targetlist) &&",
          "content_same": false
        },
        {
          "line": 2264,
          "old_api": null,
          "new_api": "copyObject",
          "old_text": null,
          "new_text": "copyObject(rcon->rv_cache[varattno])",
          "old_line_content": "\t\tList\t   *fields;",
          "new_line_content": "\t\tnewnode = copyObject(rcon->rv_cache[varattno]);",
          "content_same": false
        },
        {
          "line": 2292,
          "old_api": null,
          "new_api": "replace_rte_variables_mutator",
          "old_text": null,
          "new_text": "replace_rte_variables_mutator((Node *) fields,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontext)",
          "old_line_content": "\t\trowexpr->row_typeid = var->vartype;",
          "new_line_content": "\t\tfields = (List *) replace_rte_variables_mutator((Node *) fields,",
          "content_same": false
        },
        {
          "line": 2297,
          "old_api": null,
          "new_api": "makeNode",
          "old_text": null,
          "new_text": "makeNode(RowExpr)",
          "old_line_content": "",
          "new_line_content": "\t\trowexpr = makeNode(RowExpr);",
          "content_same": false
        },
        {
          "line": 2316,
          "old_api": null,
          "new_api": "make_placeholder_expr",
          "old_text": null,
          "new_text": "make_placeholder_expr(rcon->root,\n\t\t\t\t\t\t\t\t\t  (Expr *) newnode,\n\t\t\t\t\t\t\t\t\t  bms_make_singleton(rcon->varno))",
          "old_line_content": "\telse",
          "new_line_content": "\t\t\t\tmake_placeholder_expr(rcon->root,",
          "content_same": false
        },
        {
          "line": 2318,
          "old_api": null,
          "new_api": "bms_make_singleton",
          "old_text": null,
          "new_text": "bms_make_singleton(rcon->varno)",
          "old_line_content": "\t\t/* Normal case referencing one targetlist element */",
          "new_line_content": "\t\t\t\t\t\t\t\t\t  bms_make_singleton(rcon->varno));",
          "content_same": false
        },
        {
          "line": 2320,
          "old_api": null,
          "new_api": "copyObject",
          "old_text": null,
          "new_text": "copyObject(newnode)",
          "old_line_content": "",
          "new_line_content": "\t\t\trcon->rv_cache[InvalidAttrNumber] = copyObject(newnode);",
          "content_same": false
        },
        {
          "line": 2329,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"could not find attribute %d in subquery targetlist\",\n\t\t\t\t varattno)",
          "old_line_content": "\t\tif (rcon->need_phvs)",
          "new_line_content": "\t\t\telog(ERROR, \"could not find attribute %d in subquery targetlist\",",
          "content_same": false
        },
        {
          "line": 2340,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(newnode, Var)",
          "old_line_content": "\t\t\t\t * the referenced rel is under the same lowest outer join, but",
          "new_line_content": "\t\t\tif (newnode && IsA(newnode, Var) &&",
          "content_same": false
        },
        {
          "line": 2351,
          "old_api": null,
          "new_api": "bms_is_member",
          "old_text": null,
          "new_text": "bms_is_member(((Var *) newnode)->varno, rcon->relids)",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\t\t\t\t!bms_is_member(((Var *) newnode)->varno, rcon->relids))",
          "content_same": false
        },
        {
          "line": 2356,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(newnode, PlaceHolderVar)",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\t\telse if (newnode && IsA(newnode, PlaceHolderVar) &&",
          "content_same": false
        },
        {
          "line": 2388,
          "old_api": null,
          "new_api": "pull_varnos",
          "old_text": null,
          "new_text": "pull_varnos(rcon->root, (Node *) newnode)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t bms_overlap(pull_varnos(rcon->root, (Node *) newnode),",
          "content_same": false
        },
        {
          "line": 2390,
          "old_api": null,
          "new_api": "contain_vars_of_level",
          "old_text": null,
          "new_text": "contain_vars_of_level((Node *) newnode, 0)",
          "old_line_content": "\t\t\t\t{",
          "new_line_content": "\t\t\t\t\t contain_vars_of_level((Node *) newnode, 0)) &&",
          "content_same": false
        },
        {
          "line": 2391,
          "old_api": null,
          "new_api": "contain_nonstrict_functions",
          "old_text": null,
          "new_text": "contain_nonstrict_functions((Node *) newnode)",
          "old_line_content": "\t\t\t\t\t/* Else wrap it in a PlaceHolderVar */",
          "new_line_content": "\t\t\t\t\t!contain_nonstrict_functions((Node *) newnode))",
          "content_same": false
        },
        {
          "line": 2405,
          "old_api": null,
          "new_api": "make_placeholder_expr",
          "old_text": null,
          "new_text": "make_placeholder_expr(rcon->root,\n\t\t\t\t\t\t\t\t\t\t  (Expr *) newnode,\n\t\t\t\t\t\t\t\t\t\t  bms_make_singleton(rcon->varno))",
          "old_line_content": "\t\t\t * decided we didn't need a PHV, since this result will be",
          "new_line_content": "\t\t\t\t\tmake_placeholder_expr(rcon->root,",
          "content_same": false
        },
        {
          "line": 2407,
          "old_api": null,
          "new_api": "bms_make_singleton",
          "old_text": null,
          "new_text": "bms_make_singleton(rcon->varno)",
          "old_line_content": "\t\t\t */",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t  bms_make_singleton(rcon->varno));",
          "content_same": false
        },
        {
          "line": 2417,
          "old_api": null,
          "new_api": "copyObject",
          "old_text": null,
          "new_text": "copyObject(newnode)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\trcon->rv_cache[varattno] = copyObject(newnode);",
          "content_same": false
        },
        {
          "line": 2423,
          "old_api": null,
          "new_api": "IncrementVarSublevelsUp",
          "old_text": null,
          "new_text": "IncrementVarSublevelsUp(newnode, var->varlevelsup, 0)",
          "old_line_content": " *",
          "new_line_content": "\t\tIncrementVarSublevelsUp(newnode, var->varlevelsup, 0);",
          "content_same": false
        },
        {
          "line": 2439,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(query, Query)",
          "old_line_content": "",
          "new_line_content": "\tAssert(IsA(query, Query));",
          "content_same": false
        },
        {
          "line": 2440,
          "old_api": null,
          "new_api": "replace_rte_variables",
          "old_text": null,
          "new_text": "replace_rte_variables((Node *) query,\n\t\t\t\t\t\t\t\t\t\t   context->varno, 1,\n\t\t\t\t\t\t\t\t\t\t   pullup_replace_vars_callback,\n\t\t\t\t\t\t\t\t\t\t   (void *) context,\n\t\t\t\t\t\t\t\t\t\t   NULL)",
          "old_line_content": "",
          "new_line_content": "\treturn (Query *) replace_rte_variables((Node *) query,",
          "content_same": false
        },
        {
          "line": 2475,
          "old_api": null,
          "new_api": "castNode",
          "old_text": null,
          "new_text": "castNode(SetOperationStmt, parse->setOperations)",
          "old_line_content": "\t/*",
          "new_line_content": "\ttopop = castNode(SetOperationStmt, parse->setOperations);",
          "content_same": false
        },
        {
          "line": 2476,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(topop)",
          "old_line_content": "\t * Recursively check the tree of set operations.  If not all UNION ALL",
          "new_line_content": "\tAssert(topop);",
          "content_same": false
        },
        {
          "line": 2486,
          "old_api": null,
          "new_api": "is_simple_union_all_recurse",
          "old_text": null,
          "new_text": "is_simple_union_all_recurse((Node *) topop, parse, topop->colTypes)",
          "old_line_content": "\tleftmostjtnode = topop->larg;",
          "new_line_content": "\tif (!is_simple_union_all_recurse((Node *) topop, parse, topop->colTypes))",
          "content_same": false
        },
        {
          "line": 2494,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(leftmostjtnode, SetOperationStmt)",
          "old_line_content": "\t/*",
          "new_line_content": "\twhile (leftmostjtnode && IsA(leftmostjtnode, SetOperationStmt))",
          "content_same": false
        },
        {
          "line": 2496,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(leftmostjtnode, RangeTblRef)",
          "old_line_content": "\t * will represent the leftmost leaf query in its capacity as a member of",
          "new_line_content": "\tAssert(leftmostjtnode && IsA(leftmostjtnode, RangeTblRef));",
          "content_same": false
        },
        {
          "line": 2498,
          "old_api": null,
          "new_api": "rt_fetch",
          "old_text": null,
          "new_text": "rt_fetch(leftmostRTI, parse->rtable)",
          "old_line_content": "\t * (We must do things this way because the upper query's Vars have to be",
          "new_line_content": "\tleftmostRTE = rt_fetch(leftmostRTI, parse->rtable);",
          "content_same": false
        },
        {
          "line": 2499,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(leftmostRTE->rtekind == RTE_SUBQUERY)",
          "old_line_content": "\t * seen as referring to the whole appendrel.)",
          "new_line_content": "\tAssert(leftmostRTE->rtekind == RTE_SUBQUERY);",
          "content_same": false
        },
        {
          "line": 2508,
          "old_api": null,
          "new_api": "copyObject",
          "old_text": null,
          "new_text": "copyObject(leftmostRTE)",
          "old_line_content": "\t/* Modify the formerly-leftmost RTE to mark it as an appendrel parent */",
          "new_line_content": "\tchildRTE = copyObject(leftmostRTE);",
          "content_same": false
        },
        {
          "line": 2509,
          "old_api": null,
          "new_api": "lappend",
          "old_text": null,
          "new_text": "lappend(parse->rtable, childRTE)",
          "old_line_content": "\tleftmostRTE->inh = true;",
          "new_line_content": "\tparse->rtable = lappend(parse->rtable, childRTE);",
          "content_same": false
        },
        {
          "line": 2510,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(parse->rtable)",
          "old_line_content": "",
          "new_line_content": "\tchildRTI = list_length(parse->rtable);",
          "content_same": false
        },
        {
          "line": 2522,
          "old_api": null,
          "new_api": "makeNode",
          "old_text": null,
          "new_text": "makeNode(RangeTblRef)",
          "old_line_content": "\t * do subquery pullup, because of Assert in pull_up_simple_subquery.",
          "new_line_content": "\trtr = makeNode(RangeTblRef);",
          "content_same": false
        },
        {
          "line": 2524,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(parse->jointree->fromlist == NIL)",
          "old_line_content": "\tparse->setOperations = NULL;",
          "new_line_content": "\tAssert(parse->jointree->fromlist == NIL);",
          "content_same": false
        },
        {
          "line": 2525,
          "old_api": null,
          "new_api": "list_make1",
          "old_text": null,
          "new_text": "list_make1(rtr)",
          "old_line_content": "",
          "new_line_content": "\tparse->jointree->fromlist = list_make1(rtr);",
          "content_same": false
        },
        {
          "line": 2539,
          "old_api": null,
          "new_api": "pull_up_union_leaf_queries",
          "old_text": null,
          "new_text": "pull_up_union_leaf_queries((Node *) topop, root, leftmostRTI, parse, 0)",
          "old_line_content": " *",
          "new_line_content": "\tpull_up_union_leaf_queries((Node *) topop, root, leftmostRTI, parse, 0);",
          "content_same": false
        },
        {
          "line": 2594,
          "old_api": null,
          "new_api": "reduce_outer_joins_pass1",
          "old_text": null,
          "new_text": "reduce_outer_joins_pass1((Node *) root->parse->jointree)",
          "old_line_content": "\t\t\t\t\t\t\t state, root, NULL, NIL, NIL);",
          "new_line_content": "\tstate = reduce_outer_joins_pass1((Node *) root->parse->jointree);",
          "content_same": false
        },
        {
          "line": 2598,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"so where are the outer joins?\")",
          "old_line_content": " * reduce_outer_joins_pass1 - phase 1 data collection",
          "new_line_content": "\t\telog(ERROR, \"so where are the outer joins?\");",
          "content_same": false
        },
        {
          "line": 2600,
          "old_api": null,
          "new_api": "reduce_outer_joins_pass2",
          "old_text": null,
          "new_text": "reduce_outer_joins_pass2((Node *) root->parse->jointree,\n\t\t\t\t\t\t\t state, root, NULL, NIL, NIL)",
          "old_line_content": " * Returns a state node describing the given jointree node.",
          "new_line_content": "\treduce_outer_joins_pass2((Node *) root->parse->jointree,",
          "content_same": false
        },
        {
          "line": 2622,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(jtnode, RangeTblRef)",
          "old_line_content": "\t{",
          "new_line_content": "\tif (IsA(jtnode, RangeTblRef))",
          "content_same": false
        },
        {
          "line": 2628,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(jtnode, FromExpr)",
          "old_line_content": "\t\t\treduce_outer_joins_state *sub_state;",
          "new_line_content": "\telse if (IsA(jtnode, FromExpr))",
          "content_same": false
        },
        {
          "line": 2633,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(l, f->fromlist)",
          "old_line_content": "\t\t\tresult->contains_outer |= sub_state->contains_outer;",
          "new_line_content": "\t\tforeach(l, f->fromlist)",
          "content_same": false
        },
        {
          "line": 2638,
          "old_api": null,
          "new_api": "bms_add_members",
          "old_text": null,
          "new_text": "bms_add_members(result->relids,\n\t\t\t\t\t\t\t\t\t\t\t sub_state->relids)",
          "old_line_content": "\t{",
          "new_line_content": "\t\t\tresult->relids = bms_add_members(result->relids,",
          "content_same": false
        },
        {
          "line": 2641,
          "old_api": null,
          "new_api": "lappend",
          "old_text": null,
          "new_text": "lappend(result->sub_states, sub_state)",
          "old_line_content": "",
          "new_line_content": "\t\t\tresult->sub_states = lappend(result->sub_states, sub_state);",
          "content_same": false
        },
        {
          "line": 2644,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(jtnode, JoinExpr)",
          "old_line_content": "\t\t\tresult->contains_outer = true;",
          "new_line_content": "\telse if (IsA(jtnode, JoinExpr))",
          "content_same": false
        },
        {
          "line": 2654,
          "old_api": null,
          "new_api": "bms_add_members",
          "old_text": null,
          "new_text": "bms_add_members(result->relids,\n\t\t\t\t\t\t\t\t\t\t sub_state->relids)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t sub_state->relids);",
          "new_line_content": "\t\tresult->relids = bms_add_members(result->relids,",
          "content_same": false
        },
        {
          "line": 2657,
          "old_api": null,
          "new_api": "lappend",
          "old_text": null,
          "new_text": "lappend(result->sub_states, sub_state)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tresult->sub_states = lappend(result->sub_states, sub_state);",
          "content_same": false
        },
        {
          "line": 2663,
          "old_api": null,
          "new_api": "lappend",
          "old_text": null,
          "new_text": "lappend(result->sub_states, sub_state)",
          "old_line_content": "",
          "new_line_content": "\t\tresult->sub_states = lappend(result->sub_states, sub_state);",
          "content_same": false
        },
        {
          "line": 2666,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"unrecognized node type: %d\",\n\t\t\t (int) nodeTag(jtnode))",
          "old_line_content": " *",
          "new_line_content": "\t\telog(ERROR, \"unrecognized node type: %d\",",
          "content_same": false
        },
        {
          "line": 2667,
          "old_api": null,
          "new_api": "nodeTag",
          "old_text": null,
          "new_text": "nodeTag(jtnode)",
          "old_line_content": " *\tjtnode: current jointree node",
          "new_line_content": "\t\t\t (int) nodeTag(jtnode));",
          "content_same": false
        },
        {
          "line": 2694,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"reached empty jointree\")",
          "old_line_content": "\t\tListCell   *s;",
          "new_line_content": "\t\telog(ERROR, \"reached empty jointree\");",
          "content_same": false
        },
        {
          "line": 2695,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(jtnode, RangeTblRef)",
          "old_line_content": "\t\tRelids\t\tpass_nonnullable_rels;",
          "new_line_content": "\tif (IsA(jtnode, RangeTblRef))",
          "content_same": false
        },
        {
          "line": 2696,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"reached base rel\")",
          "old_line_content": "\t\tList\t   *pass_nonnullable_vars;",
          "new_line_content": "\t\telog(ERROR, \"reached base rel\");",
          "content_same": false
        },
        {
          "line": 2697,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(jtnode, FromExpr)",
          "old_line_content": "\t\tList\t   *pass_forced_null_vars;",
          "new_line_content": "\telse if (IsA(jtnode, FromExpr))",
          "content_same": false
        },
        {
          "line": 2708,
          "old_api": null,
          "new_api": "bms_add_members",
          "old_text": null,
          "new_text": "bms_add_members(pass_nonnullable_rels,\n\t\t\t\t\t\t\t\t\t\t\t\tnonnullable_rels)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t\tforced_null_vars);",
          "new_line_content": "\t\tpass_nonnullable_rels = bms_add_members(pass_nonnullable_rels,",
          "content_same": false
        },
        {
          "line": 2714,
          "old_api": null,
          "new_api": "list_concat",
          "old_text": null,
          "new_text": "list_concat(pass_forced_null_vars,\n\t\t\t\t\t\t\t\t\t\t\tforced_null_vars)",
          "old_line_content": "",
          "new_line_content": "\t\tpass_forced_null_vars = list_concat(pass_forced_null_vars,",
          "content_same": false
        },
        {
          "line": 2717,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(state->sub_states)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t pass_nonnullable_rels,",
          "new_line_content": "\t\tAssert(list_length(f->fromlist) == list_length(state->sub_states));",
          "content_same": false
        },
        {
          "line": 2718,
          "old_api": null,
          "new_api": "forboth",
          "old_text": null,
          "new_text": "forboth(l, f->fromlist, s, state->sub_states)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t pass_nonnullable_vars,",
          "new_line_content": "\t\tforboth(l, f->fromlist, s, state->sub_states)",
          "content_same": false
        },
        {
          "line": 2720,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(s)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\treduce_outer_joins_state *sub_state = lfirst(s);",
          "content_same": false
        },
        {
          "line": 2723,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(l)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\treduce_outer_joins_pass2(lfirst(l), sub_state, root,",
          "content_same": false
        },
        {
          "line": 2728,
          "old_api": null,
          "new_api": "bms_free",
          "old_text": null,
          "new_text": "bms_free(pass_nonnullable_rels)",
          "old_line_content": "\t\tJoinType\tjointype = j->jointype;",
          "new_line_content": "\t\tbms_free(pass_nonnullable_rels);",
          "content_same": false
        },
        {
          "line": 2731,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(jtnode, JoinExpr)",
          "old_line_content": "\t\tList\t   *local_nonnullable_vars = NIL;",
          "new_line_content": "\telse if (IsA(jtnode, JoinExpr))",
          "content_same": false
        },
        {
          "line": 2736,
          "old_api": null,
          "new_api": "linitial",
          "old_text": null,
          "new_text": "linitial(state->sub_states)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\treduce_outer_joins_state *left_state = linitial(state->sub_states);",
          "content_same": false
        },
        {
          "line": 2737,
          "old_api": null,
          "new_api": "lsecond",
          "old_text": null,
          "new_text": "lsecond(state->sub_states)",
          "old_line_content": "\t\t\tcase JOIN_INNER:",
          "new_line_content": "\t\treduce_outer_joins_state *right_state = lsecond(state->sub_states);",
          "content_same": false
        },
        {
          "line": 2747,
          "old_api": null,
          "new_api": "bms_overlap",
          "old_text": null,
          "new_text": "bms_overlap(nonnullable_rels, right_state->relids)",
          "old_line_content": "\t\t\tcase JOIN_FULL:",
          "new_line_content": "\t\t\t\tif (bms_overlap(nonnullable_rels, right_state->relids))",
          "content_same": false
        },
        {
          "line": 2751,
          "old_api": null,
          "new_api": "bms_overlap",
          "old_text": null,
          "new_text": "bms_overlap(nonnullable_rels, left_state->relids)",
          "old_line_content": "\t\t\t\t\t\tjointype = JOIN_INNER;",
          "new_line_content": "\t\t\t\tif (bms_overlap(nonnullable_rels, left_state->relids))",
          "content_same": false
        },
        {
          "line": 2755,
          "old_api": null,
          "new_api": "bms_overlap",
          "old_text": null,
          "new_text": "bms_overlap(nonnullable_rels, left_state->relids)",
          "old_line_content": "\t\t\t\telse",
          "new_line_content": "\t\t\t\tif (bms_overlap(nonnullable_rels, left_state->relids))",
          "content_same": false
        },
        {
          "line": 2764,
          "old_api": null,
          "new_api": "bms_overlap",
          "old_text": null,
          "new_text": "bms_overlap(nonnullable_rels, right_state->relids)",
          "old_line_content": "\t\t\t\t/*",
          "new_line_content": "\t\t\t\t\tif (bms_overlap(nonnullable_rels, right_state->relids))",
          "content_same": false
        },
        {
          "line": 2778,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"unrecognized join type: %d\",\n\t\t\t\t\t (int) jointype)",
          "old_line_content": "\t\t * reduced JOIN_FULL to JOIN_RIGHT, this will mean the JoinExpr no",
          "new_line_content": "\t\t\t\telog(ERROR, \"unrecognized join type: %d\",",
          "content_same": false
        },
        {
          "line": 2798,
          "old_api": null,
          "new_api": "linitial",
          "old_text": null,
          "new_text": "linitial(state->sub_states)",
          "old_line_content": "\t\t * higher qual levels.  NOTE: there are other ways that we could",
          "new_line_content": "\t\t\tright_state = linitial(state->sub_states);",
          "content_same": false
        },
        {
          "line": 2799,
          "old_api": null,
          "new_api": "lsecond",
          "old_text": null,
          "new_text": "lsecond(state->sub_states)",
          "old_line_content": "\t\t * detect an anti-join, in particular if we were to check whether Vars",
          "new_line_content": "\t\t\tleft_state = lsecond(state->sub_states);",
          "content_same": false
        },
        {
          "line": 2816,
          "old_api": null,
          "new_api": "find_nonnullable_vars",
          "old_text": null,
          "new_text": "find_nonnullable_vars(j->quals)",
          "old_line_content": "\t\t\t */",
          "new_line_content": "\t\t\tlocal_nonnullable_vars = find_nonnullable_vars(j->quals);",
          "content_same": false
        },
        {
          "line": 2824,
          "old_api": null,
          "new_api": "list_intersection",
          "old_text": null,
          "new_text": "list_intersection(local_nonnullable_vars,\n\t\t\t\t\t\t\t\t\t\tforced_null_vars)",
          "old_line_content": "",
          "new_line_content": "\t\t\toverlap = list_intersection(local_nonnullable_vars,",
          "content_same": false
        },
        {
          "line": 2827,
          "old_api": null,
          "new_api": "pull_varnos",
          "old_text": null,
          "new_text": "pull_varnos(root, (Node *) overlap)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\t\tbms_overlap(pull_varnos(root, (Node *) overlap),",
          "content_same": false
        },
        {
          "line": 2835,
          "old_api": null,
          "new_api": "rt_fetch",
          "old_text": null,
          "new_text": "rt_fetch(rtindex, root->parse->rtable)",
          "old_line_content": "",
          "new_line_content": "\t\t\tRangeTblEntry *rte = rt_fetch(rtindex, root->parse->rtable);",
          "content_same": false
        },
        {
          "line": 2837,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(rte->rtekind == RTE_JOIN)",
          "old_line_content": "\t\tif (left_state->contains_outer || right_state->contains_outer)",
          "new_line_content": "\t\t\tAssert(rte->rtekind == RTE_JOIN);",
          "content_same": false
        },
        {
          "line": 2838,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(rte->jointype == j->jointype)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\tAssert(rte->jointype == j->jointype);",
          "content_same": false
        },
        {
          "line": 2878,
          "old_api": null,
          "new_api": "find_forced_null_vars",
          "old_text": null,
          "new_text": "find_forced_null_vars(j->quals)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t\t\t nonnullable_vars);",
          "new_line_content": "\t\t\t\tlocal_forced_null_vars = find_forced_null_vars(j->quals);",
          "content_same": false
        },
        {
          "line": 2882,
          "old_api": null,
          "new_api": "bms_add_members",
          "old_text": null,
          "new_text": "bms_add_members(local_nonnullable_rels,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t nonnullable_rels)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\tlocal_nonnullable_rels = bms_add_members(local_nonnullable_rels,",
          "content_same": false
        },
        {
          "line": 2884,
          "old_api": null,
          "new_api": "list_concat",
          "old_text": null,
          "new_text": "list_concat(local_nonnullable_vars,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t nonnullable_vars)",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\t\t\t\tlocal_nonnullable_vars = list_concat(local_nonnullable_vars,",
          "content_same": false
        },
        {
          "line": 2886,
          "old_api": null,
          "new_api": "list_concat",
          "old_text": null,
          "new_text": "list_concat(local_forced_null_vars,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t forced_null_vars)",
          "old_line_content": "\t\t\t\tlocal_nonnullable_rels = NULL;",
          "new_line_content": "\t\t\t\t\tlocal_forced_null_vars = list_concat(local_forced_null_vars,",
          "content_same": false
        },
        {
          "line": 2920,
          "old_api": null,
          "new_api": "reduce_outer_joins_pass2",
          "old_text": null,
          "new_text": "reduce_outer_joins_pass2(j->larg, left_state, root,\n\t\t\t\t\t\t\t\t\t\t pass_nonnullable_rels,\n\t\t\t\t\t\t\t\t\t\t pass_nonnullable_vars,\n\t\t\t\t\t\t\t\t\t\t pass_forced_null_vars)",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\t\t\treduce_outer_joins_pass2(j->larg, left_state, root,",
          "content_same": false
        },
        {
          "line": 2942,
          "old_api": null,
          "new_api": "reduce_outer_joins_pass2",
          "old_text": null,
          "new_text": "reduce_outer_joins_pass2(j->rarg, right_state, root,\n\t\t\t\t\t\t\t\t\t\t pass_nonnullable_rels,\n\t\t\t\t\t\t\t\t\t\t pass_nonnullable_vars,\n\t\t\t\t\t\t\t\t\t\t pass_forced_null_vars)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\treduce_outer_joins_pass2(j->rarg, right_state, root,",
          "content_same": false
        },
        {
          "line": 2947,
          "old_api": null,
          "new_api": "bms_free",
          "old_text": null,
          "new_text": "bms_free(local_nonnullable_rels)",
          "old_line_content": "",
          "new_line_content": "\t\t\tbms_free(local_nonnullable_rels);",
          "content_same": false
        },
        {
          "line": 900,
          "old_api": null,
          "new_api": "copyObject",
          "old_text": null,
          "new_text": "copyObject(rte->subquery)",
          "old_line_content": "\t */",
          "new_line_content": "\tsubquery = copyObject(rte->subquery);",
          "content_same": false
        },
        {
          "line": 2951,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"unrecognized node type: %d\",\n\t\t\t (int) nodeTag(jtnode))",
          "old_line_content": " *\t\tAttempt to remove RTE_RESULT RTEs from the join tree.",
          "new_line_content": "\t\telog(ERROR, \"unrecognized node type: %d\",",
          "content_same": false
        },
        {
          "line": 2952,
          "old_api": null,
          "new_api": "nodeTag",
          "old_text": null,
          "new_text": "nodeTag(jtnode)",
          "old_line_content": " *",
          "new_line_content": "\t\t\t (int) nodeTag(jtnode));",
          "content_same": false
        },
        {
          "line": 909,
          "old_api": null,
          "new_api": "makeNode",
          "old_text": null,
          "new_text": "makeNode(PlannerInfo)",
          "old_line_content": "\t */",
          "new_line_content": "\tsubroot = makeNode(PlannerInfo);",
          "content_same": false
        },
        {
          "line": 927,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(subroot->upper_rels, 0, sizeof(subroot->upper_rels))",
          "old_line_content": "\tsubroot->rowMarks = NIL;",
          "new_line_content": "\tmemset(subroot->upper_rels, 0, sizeof(subroot->upper_rels));",
          "content_same": false
        },
        {
          "line": 939,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(subquery->cteList == NIL)",
          "old_line_content": "\t/* No CTEs to worry about */",
          "new_line_content": "\tAssert(subquery->cteList == NIL);",
          "content_same": false
        },
        {
          "line": 945,
          "old_api": null,
          "new_api": "replace_empty_jointree",
          "old_text": null,
          "new_text": "replace_empty_jointree(subquery)",
          "old_line_content": "\t */",
          "new_line_content": "\treplace_empty_jointree(subquery);",
          "content_same": false
        },
        {
          "line": 2999,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(root->parse->jointree, FromExpr)",
          "old_line_content": "\t/*",
          "new_line_content": "\tAssert(IsA(root->parse->jointree, FromExpr));",
          "content_same": false
        },
        {
          "line": 952,
          "old_api": null,
          "new_api": "pull_up_sublinks",
          "old_text": null,
          "new_text": "pull_up_sublinks(subroot)",
          "old_line_content": "\tif (subquery->hasSubLinks)",
          "new_line_content": "\t\tpull_up_sublinks(subroot);",
          "content_same": false
        },
        {
          "line": 3002,
          "old_api": null,
          "new_api": "remove_useless_results_recurse",
          "old_text": null,
          "new_text": "remove_useless_results_recurse(root, (Node *) root->parse->jointree)",
          "old_line_content": "\t * RTE that we did not remove can be dropped anyway: since the RTE has",
          "new_line_content": "\t\tremove_useless_results_recurse(root, (Node *) root->parse->jointree);",
          "content_same": false
        },
        {
          "line": 3004,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(root->parse->jointree, FromExpr)",
          "old_line_content": "\t * restore that row.",
          "new_line_content": "\tAssert(IsA(root->parse->jointree, FromExpr));",
          "content_same": false
        },
        {
          "line": 958,
          "old_api": null,
          "new_api": "preprocess_function_rtes",
          "old_text": null,
          "new_text": "preprocess_function_rtes(subroot)",
          "old_line_content": "\t */",
          "new_line_content": "\tpreprocess_function_rtes(subroot);",
          "content_same": false
        },
        {
          "line": 3017,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(cell, root->rowMarks)",
          "old_line_content": "}",
          "new_line_content": "\tforeach(cell, root->rowMarks)",
          "content_same": false
        },
        {
          "line": 970,
          "old_api": null,
          "new_api": "pull_up_subqueries",
          "old_text": null,
          "new_text": "pull_up_subqueries(subroot)",
          "old_line_content": "\t */",
          "new_line_content": "\tpull_up_subqueries(subroot);",
          "content_same": false
        },
        {
          "line": 3019,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(cell)",
          "old_line_content": "/*",
          "new_line_content": "\t\tPlanRowMark *rc = (PlanRowMark *) lfirst(cell);",
          "content_same": false
        },
        {
          "line": 3021,
          "old_api": null,
          "new_api": "rt_fetch",
          "old_text": null,
          "new_text": "rt_fetch(rc->rti, root->parse->rtable)",
          "old_line_content": " *\t\tRecursive guts of remove_useless_result_rtes.",
          "new_line_content": "\t\tif (rt_fetch(rc->rti, root->parse->rtable)->rtekind == RTE_RESULT)",
          "content_same": false
        },
        {
          "line": 3022,
          "old_api": null,
          "new_api": "foreach_delete_current",
          "old_text": null,
          "new_text": "foreach_delete_current(root->rowMarks, cell)",
          "old_line_content": " *",
          "new_line_content": "\t\t\troot->rowMarks = foreach_delete_current(root->rowMarks, cell);",
          "content_same": false
        },
        {
          "line": 980,
          "old_api": null,
          "new_api": "is_simple_subquery",
          "old_text": null,
          "new_text": "is_simple_subquery(root, subquery, rte, lowest_outer_join)",
          "old_line_content": "\t */",
          "new_line_content": "\tif (is_simple_subquery(root, subquery, rte, lowest_outer_join) &&",
          "content_same": false
        },
        {
          "line": 3035,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(jtnode != NULL)",
          "old_line_content": "\t\tFromExpr   *f = (FromExpr *) jtnode;",
          "new_line_content": "\tAssert(jtnode != NULL);",
          "content_same": false
        },
        {
          "line": 3036,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(jtnode, RangeTblRef)",
          "old_line_content": "\t\tRelids\t\tresult_relids = NULL;",
          "new_line_content": "\tif (IsA(jtnode, RangeTblRef))",
          "content_same": false
        },
        {
          "line": 3040,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(jtnode, FromExpr)",
          "old_line_content": "\t\t * We can drop RTE_RESULT rels from the fromlist so long as at least",
          "new_line_content": "\telse if (IsA(jtnode, FromExpr))",
          "content_same": false
        },
        {
          "line": 3055,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(cell, f->fromlist)",
          "old_line_content": "\t\t\t/* ... and stick it back into the tree */",
          "new_line_content": "\t\tforeach(cell, f->fromlist)",
          "content_same": false
        },
        {
          "line": 1008,
          "old_api": null,
          "new_api": "flatten_join_alias_vars",
          "old_text": null,
          "new_text": "flatten_join_alias_vars(subroot->parse, (Node *) subquery->targetList)",
          "old_line_content": "\tsubquery->targetList = (List *)",
          "new_line_content": "\t\tflatten_join_alias_vars(subroot->parse, (Node *) subquery->targetList);",
          "content_same": false
        },
        {
          "line": 3057,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(cell)",
          "old_line_content": "",
          "new_line_content": "\t\t\tNode\t   *child = (Node *) lfirst(cell);",
          "content_same": false
        },
        {
          "line": 3061,
          "old_api": null,
          "new_api": "remove_useless_results_recurse",
          "old_text": null,
          "new_text": "remove_useless_results_recurse(root, child)",
          "old_line_content": "\t\t\t * what the inner join's final relid set will be, so postpone",
          "new_line_content": "\t\t\tchild = remove_useless_results_recurse(root, child);",
          "content_same": false
        },
        {
          "line": 3063,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(cell)",
          "old_line_content": "\t\t\t */",
          "new_line_content": "\t\t\tlfirst(cell) = child;",
          "content_same": false
        },
        {
          "line": 1015,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(parse->rtable)",
          "old_line_content": "\t */",
          "new_line_content": "\trtoffset = list_length(parse->rtable);",
          "content_same": false
        },
        {
          "line": 3071,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(f->fromlist)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tif (list_length(f->fromlist) > 1 &&",
          "content_same": false
        },
        {
          "line": 3072,
          "old_api": null,
          "new_api": "get_result_relid",
          "old_text": null,
          "new_text": "get_result_relid(root, child)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t(varno = get_result_relid(root, child)) != 0 &&",
          "content_same": false
        },
        {
          "line": 3073,
          "old_api": null,
          "new_api": "find_dependent_phvs_in_jointree",
          "old_text": null,
          "new_text": "find_dependent_phvs_in_jointree(root, (Node *) f, varno)",
          "old_line_content": "\t\t/*",
          "new_line_content": "\t\t\t\t!find_dependent_phvs_in_jointree(root, (Node *) f, varno))",
          "content_same": false
        },
        {
          "line": 1023,
          "old_api": null,
          "new_api": "IncrementVarSublevelsUp",
          "old_text": null,
          "new_text": "IncrementVarSublevelsUp((Node *) subquery, -1, 1)",
          "old_line_content": "\t */",
          "new_line_content": "\tIncrementVarSublevelsUp((Node *) subquery, -1, 1);",
          "content_same": false
        },
        {
          "line": 3075,
          "old_api": null,
          "new_api": "foreach_delete_current",
          "old_text": null,
          "new_text": "foreach_delete_current(f->fromlist, cell)",
          "old_line_content": "\t\t * inefficient if there's more than one, but it seems better to",
          "new_line_content": "\t\t\t\tf->fromlist = foreach_delete_current(f->fromlist, cell);",
          "content_same": false
        },
        {
          "line": 3076,
          "old_api": null,
          "new_api": "bms_add_member",
          "old_text": null,
          "new_text": "bms_add_member(result_relids, varno)",
          "old_line_content": "\t\t * optimize the support code for the single-relid case.",
          "new_line_content": "\t\t\t\tresult_relids = bms_add_member(result_relids, varno);",
          "content_same": false
        },
        {
          "line": 1035,
          "old_api": null,
          "new_api": "get_relids_in_jointree",
          "old_text": null,
          "new_text": "get_relids_in_jointree((Node *) subquery->jointree,\n\t\t\t\t\t\t\t\t\t\t\t\t  true)",
          "old_line_content": "\tif (rte->lateral)",
          "new_line_content": "\t\trvcontext.relids = get_relids_in_jointree((Node *) subquery->jointree,",
          "content_same": false
        },
        {
          "line": 3089,
          "old_api": null,
          "new_api": "bms_next_member",
          "old_text": null,
          "new_text": "bms_next_member(result_relids, varno)",
          "old_line_content": "\t\t * keep the FromExpr since Query.jointree is required to point to a",
          "new_line_content": "\t\t\twhile ((varno = bms_next_member(result_relids, varno)) >= 0)",
          "content_same": false
        },
        {
          "line": 3090,
          "old_api": null,
          "new_api": "remove_result_refs",
          "old_text": null,
          "new_text": "remove_result_refs(root, varno, (Node *) f)",
          "old_line_content": "\t\t * FromExpr.)",
          "new_line_content": "\t\t\t\tremove_result_refs(root, varno, (Node *) f);",
          "content_same": false
        },
        {
          "line": 1045,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(subquery->targetList)",
          "old_line_content": "\t/* initialize cache array with indexes 0 .. length(tlist) */",
          "new_line_content": "\trvcontext.rv_cache = palloc0((list_length(subquery->targetList) + 1) *",
          "content_same": false
        },
        {
          "line": 3101,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(f->fromlist)",
          "old_line_content": "",
          "new_line_content": "\t\t\tlist_length(f->fromlist) == 1)",
          "content_same": false
        },
        {
          "line": 3102,
          "old_api": null,
          "new_api": "linitial",
          "old_text": null,
          "new_text": "linitial(f->fromlist)",
          "old_line_content": "\t\t/* First, recurse */",
          "new_line_content": "\t\t\treturn (Node *) linitial(f->fromlist);",
          "content_same": false
        },
        {
          "line": 3110,
          "old_api": null,
          "new_api": "remove_useless_results_recurse",
          "old_text": null,
          "new_text": "remove_useless_results_recurse(root, j->larg)",
          "old_line_content": "",
          "new_line_content": "\t\tj->larg = remove_useless_results_recurse(root, j->larg);",
          "content_same": false
        },
        {
          "line": 3111,
          "old_api": null,
          "new_api": "remove_useless_results_recurse",
          "old_text": null,
          "new_text": "remove_useless_results_recurse(root, j->rarg)",
          "old_line_content": "\t\t\t\t/*",
          "new_line_content": "\t\tj->rarg = remove_useless_results_recurse(root, j->rarg);",
          "content_same": false
        },
        {
          "line": 3134,
          "old_api": null,
          "new_api": "get_result_relid",
          "old_text": null,
          "new_text": "get_result_relid(root, j->larg)",
          "old_line_content": "\t\t\t\t\telse",
          "new_line_content": "\t\t\t\tif ((varno = get_result_relid(root, j->larg)) != 0 &&",
          "content_same": false
        },
        {
          "line": 3135,
          "old_api": null,
          "new_api": "find_dependent_phvs_in_jointree",
          "old_text": null,
          "new_text": "find_dependent_phvs_in_jointree(root, j->rarg, varno)",
          "old_line_content": "\t\t\t\t\t\tjtnode = j->rarg;",
          "new_line_content": "\t\t\t\t\t!find_dependent_phvs_in_jointree(root, j->rarg, varno))",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": null,
          "new_api": "perform_pullup_replace_vars",
          "old_text": null,
          "new_text": "perform_pullup_replace_vars(root, &rvcontext,\n\t\t\t\t\t\t\t\tlowest_nulling_outer_join,\n\t\t\t\t\t\t\t\tcontaining_appendrel)",
          "old_line_content": "\t */",
          "new_line_content": "\tperform_pullup_replace_vars(root, &rvcontext,",
          "content_same": false
        },
        {
          "line": 3140,
          "old_api": null,
          "new_api": "list_make1",
          "old_text": null,
          "new_text": "list_make1(j->rarg)",
          "old_line_content": "\t\t\t\t\tif (j->quals)",
          "new_line_content": "\t\t\t\t\t\t\tmakeFromExpr(list_make1(j->rarg), j->quals);",
          "content_same": false
        },
        {
          "line": 3144,
          "old_api": null,
          "new_api": "get_result_relid",
          "old_text": null,
          "new_text": "get_result_relid(root, j->rarg)",
          "old_line_content": "\t\t\t\t\t\tjtnode = j->larg;",
          "new_line_content": "\t\t\t\telse if ((varno = get_result_relid(root, j->rarg)) != 0)",
          "content_same": false
        },
        {
          "line": 3146,
          "old_api": null,
          "new_api": "remove_result_refs",
          "old_text": null,
          "new_text": "remove_result_refs(root, varno, j->larg)",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\tremove_result_refs(root, varno, j->larg);",
          "content_same": false
        },
        {
          "line": 1101,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(lc, subquery->rtable)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tforeach(lc, subquery->rtable)",
          "content_same": false
        },
        {
          "line": 3149,
          "old_api": null,
          "new_api": "list_make1",
          "old_text": null,
          "new_text": "list_make1(j->larg)",
          "old_line_content": "\t\t\t\t/*",
          "new_line_content": "\t\t\t\t\t\t\tmakeFromExpr(list_make1(j->larg), j->quals);",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(lc)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\tRangeTblEntry *child_rte = (RangeTblEntry *) lfirst(lc);",
          "content_same": false
        },
        {
          "line": 3174,
          "old_api": null,
          "new_api": "get_result_relid",
          "old_text": null,
          "new_text": "get_result_relid(root, j->rarg)",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\tif ((varno = get_result_relid(root, j->rarg)) != 0 &&",
          "content_same": false
        },
        {
          "line": 3176,
          "old_api": null,
          "new_api": "find_dependent_phvs",
          "old_text": null,
          "new_text": "find_dependent_phvs(root, varno)",
          "old_line_content": "\t\t\t\t/* Mirror-image of the JOIN_LEFT case */",
          "new_line_content": "\t\t\t\t\t !find_dependent_phvs(root, varno)))",
          "content_same": false
        },
        {
          "line": 3178,
          "old_api": null,
          "new_api": "remove_result_refs",
          "old_text": null,
          "new_text": "remove_result_refs(root, varno, j->larg)",
          "old_line_content": "\t\t\t\t\t(j->quals == NULL ||",
          "new_line_content": "\t\t\t\t\tremove_result_refs(root, varno, j->larg);",
          "content_same": false
        },
        {
          "line": 1132,
          "old_api": null,
          "new_api": "list_concat",
          "old_text": null,
          "new_text": "list_concat(parse->rtable, subquery->rtable)",
          "old_line_content": "\t */",
          "new_line_content": "\tparse->rtable = list_concat(parse->rtable, subquery->rtable);",
          "content_same": false
        },
        {
          "line": 3184,
          "old_api": null,
          "new_api": "get_result_relid",
          "old_text": null,
          "new_text": "get_result_relid(root, j->larg)",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\tif ((varno = get_result_relid(root, j->larg)) != 0 &&",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": null,
          "new_api": "list_concat",
          "old_text": null,
          "new_text": "list_concat(parse->rowMarks, subquery->rowMarks)",
          "old_line_content": "\t */",
          "new_line_content": "\tparse->rowMarks = list_concat(parse->rowMarks, subquery->rowMarks);",
          "content_same": false
        },
        {
          "line": 3186,
          "old_api": null,
          "new_api": "find_dependent_phvs",
          "old_text": null,
          "new_text": "find_dependent_phvs(root, varno)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t !find_dependent_phvs(root, varno)))",
          "content_same": false
        },
        {
          "line": 3188,
          "old_api": null,
          "new_api": "remove_result_refs",
          "old_text": null,
          "new_text": "remove_result_refs(root, varno, j->rarg)",
          "old_line_content": "\t\t\t\t * We may simplify this case if the RHS is an RTE_RESULT; the",
          "new_line_content": "\t\t\t\t\tremove_result_refs(root, varno, j->rarg);",
          "content_same": false
        },
        {
          "line": 1156,
          "old_api": null,
          "new_api": "get_relids_in_jointree",
          "old_text": null,
          "new_text": "get_relids_in_jointree((Node *) subquery->jointree, false)",
          "old_line_content": "",
          "new_line_content": "\t\tsubrelids = get_relids_in_jointree((Node *) subquery->jointree, false);",
          "content_same": false
        },
        {
          "line": 3205,
          "old_api": null,
          "new_api": "get_result_relid",
          "old_text": null,
          "new_text": "get_result_relid(root, j->rarg)",
          "old_line_content": "\t\t\t\t\telse",
          "new_line_content": "\t\t\t\tif ((varno = get_result_relid(root, j->rarg)) != 0)",
          "content_same": false
        },
        {
          "line": 3207,
          "old_api": null,
          "new_api": "find_dependent_phvs",
          "old_text": null,
          "new_text": "find_dependent_phvs(root, varno)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tAssert(!find_dependent_phvs(root, varno));",
          "content_same": false
        },
        {
          "line": 3208,
          "old_api": null,
          "new_api": "remove_result_refs",
          "old_text": null,
          "new_text": "remove_result_refs(root, varno, j->larg)",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\tremove_result_refs(root, varno, j->larg);",
          "content_same": false
        },
        {
          "line": 3211,
          "old_api": null,
          "new_api": "list_make1",
          "old_text": null,
          "new_text": "list_make1(j->larg)",
          "old_line_content": "\t\t\t\t/* We have no special smarts for these cases */",
          "new_line_content": "\t\t\t\t\t\t\tmakeFromExpr(list_make1(j->larg), j->quals);",
          "content_same": false
        },
        {
          "line": 1164,
          "old_api": null,
          "new_api": "list_concat",
          "old_text": null,
          "new_text": "list_concat(root->append_rel_list,\n\t\t\t\t\t\t\t\t\t\tsubroot->append_rel_list)",
          "old_line_content": "\t */",
          "new_line_content": "\troot->append_rel_list = list_concat(root->append_rel_list,",
          "content_same": false
        },
        {
          "line": 1171,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(root->join_info_list == NIL)",
          "old_line_content": "\t */",
          "new_line_content": "\tAssert(root->join_info_list == NIL);",
          "content_same": false
        },
        {
          "line": 3227,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"unrecognized node type: %d\",\n\t\t\t (int) nodeTag(jtnode))",
          "old_line_content": " *\t\tIf jtnode is a RangeTblRef for an RTE_RESULT RTE, return its relid;",
          "new_line_content": "\t\telog(ERROR, \"unrecognized node type: %d\",",
          "content_same": false
        },
        {
          "line": 3228,
          "old_api": null,
          "new_api": "nodeTag",
          "old_text": null,
          "new_text": "nodeTag(jtnode)",
          "old_line_content": " *\t\totherwise return 0.",
          "new_line_content": "\t\t\t (int) nodeTag(jtnode));",
          "content_same": false
        },
        {
          "line": 3242,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(jtnode, RangeTblRef)",
          "old_line_content": "",
          "new_line_content": "\tif (!IsA(jtnode, RangeTblRef))",
          "content_same": false
        },
        {
          "line": 3245,
          "old_api": null,
          "new_api": "rt_fetch",
          "old_text": null,
          "new_text": "rt_fetch(varno, root->parse->rtable)",
          "old_line_content": " *\t\tHelper routine for dropping an unneeded RTE_RESULT RTE.",
          "new_line_content": "\tif (rt_fetch(varno, root->parse->rtable)->rtekind != RTE_RESULT)",
          "content_same": false
        },
        {
          "line": 1208,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(subquery->jointree, FromExpr)",
          "old_line_content": "}",
          "new_line_content": "\tAssert(IsA(subquery->jointree, FromExpr));",
          "content_same": false
        },
        {
          "line": 1209,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(subquery->jointree->fromlist != NIL)",
          "old_line_content": "",
          "new_line_content": "\tAssert(subquery->jointree->fromlist != NIL);",
          "content_same": false
        },
        {
          "line": 1211,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(subquery->jointree->fromlist)",
          "old_line_content": " * pull_up_simple_union_all",
          "new_line_content": "\t\tlist_length(subquery->jointree->fromlist) == 1)",
          "content_same": false
        },
        {
          "line": 1212,
          "old_api": null,
          "new_api": "linitial",
          "old_text": null,
          "new_text": "linitial(subquery->jointree->fromlist)",
          "old_line_content": " *\t\tPull up a single simple UNION ALL subquery.",
          "new_line_content": "\t\treturn (Node *) linitial(subquery->jointree->fromlist);",
          "content_same": false
        },
        {
          "line": 3276,
          "old_api": null,
          "new_api": "get_relids_in_jointree",
          "old_text": null,
          "new_text": "get_relids_in_jointree(newjtloc, false)",
          "old_line_content": "\t * We also need to remove any PlanRowMark referencing the RTE, but we",
          "new_line_content": "\t\tsubrelids = get_relids_in_jointree(newjtloc, false);",
          "content_same": false
        },
        {
          "line": 3277,
          "old_api": null,
          "new_api": "bms_is_empty",
          "old_text": null,
          "new_text": "bms_is_empty(subrelids)",
          "old_line_content": "\t * postpone that work until we return to remove_useless_result_rtes.",
          "new_line_content": "\t\tAssert(!bms_is_empty(subrelids));",
          "content_same": false
        },
        {
          "line": 3278,
          "old_api": null,
          "new_api": "substitute_phv_relids",
          "old_text": null,
          "new_text": "substitute_phv_relids((Node *) root->parse, varno, subrelids)",
          "old_line_content": "\t */",
          "new_line_content": "\t\tsubstitute_phv_relids((Node *) root->parse, varno, subrelids);",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(root->parse->rtable)",
          "old_line_content": "\t */",
          "new_line_content": "\tint\t\t\trtoffset = list_length(root->parse->rtable);",
          "content_same": false
        },
        {
          "line": 3279,
          "old_api": null,
          "new_api": "fix_append_rel_relids",
          "old_text": null,
          "new_text": "fix_append_rel_relids(root->append_rel_list, varno, subrelids)",
          "old_line_content": "}",
          "new_line_content": "\t\tfix_append_rel_relids(root->append_rel_list, varno, subrelids);",
          "content_same": false
        },
        {
          "line": 1246,
          "old_api": null,
          "new_api": "IncrementVarSublevelsUp_rtable",
          "old_text": null,
          "new_text": "IncrementVarSublevelsUp_rtable(rtable, -1, 1)",
          "old_line_content": "\t */",
          "new_line_content": "\tIncrementVarSublevelsUp_rtable(rtable, -1, 1);",
          "content_same": false
        },
        {
          "line": 1260,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(rt)",
          "old_line_content": "\t/*",
          "new_line_content": "\t\t\tRangeTblEntry *child_rte = (RangeTblEntry *) lfirst(rt);",
          "content_same": false
        },
        {
          "line": 1262,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(child_rte->rtekind == RTE_SUBQUERY)",
          "old_line_content": "\t */",
          "new_line_content": "\t\t\tAssert(child_rte->rtekind == RTE_SUBQUERY);",
          "content_same": false
        },
        {
          "line": 3312,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, PlaceHolderVar)",
          "old_line_content": "\t\t/* fall through to examine children */",
          "new_line_content": "\tif (IsA(node, PlaceHolderVar))",
          "content_same": false
        },
        {
          "line": 3317,
          "old_api": null,
          "new_api": "bms_equal",
          "old_text": null,
          "new_text": "bms_equal(context->relids, phv->phrels)",
          "old_line_content": "\t\tbool\t\tresult;",
          "new_line_content": "\t\t\tbms_equal(context->relids, phv->phrels))",
          "content_same": false
        },
        {
          "line": 3321,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, Query)",
          "old_line_content": "\t\t\t\t\t\t\t\t   find_dependent_phvs_walker,",
          "new_line_content": "\tif (IsA(node, Query))",
          "content_same": false
        },
        {
          "line": 1277,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(subquery->setOperations)",
          "old_line_content": "\trte->inh = true;",
          "new_line_content": "\tAssert(subquery->setOperations);",
          "content_same": false
        },
        {
          "line": 1278,
          "old_api": null,
          "new_api": "pull_up_union_leaf_queries",
          "old_text": null,
          "new_text": "pull_up_union_leaf_queries(subquery->setOperations, root, varno, subquery,\n\t\t\t\t\t\t\t   rtoffset)",
          "old_line_content": "",
          "new_line_content": "\tpull_up_union_leaf_queries(subquery->setOperations, root, varno, subquery,",
          "content_same": false
        },
        {
          "line": 3334,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, SpecialJoinInfo)",
          "old_line_content": "}",
          "new_line_content": "\tAssert(!IsA(node, SpecialJoinInfo));",
          "content_same": false
        },
        {
          "line": 3335,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, AppendRelInfo)",
          "old_line_content": "",
          "new_line_content": "\tAssert(!IsA(node, AppendRelInfo));",
          "content_same": false
        },
        {
          "line": 3336,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, PlaceHolderInfo)",
          "old_line_content": "static bool",
          "new_line_content": "\tAssert(!IsA(node, PlaceHolderInfo));",
          "content_same": false
        },
        {
          "line": 3337,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, MinMaxAggInfo)",
          "old_line_content": "find_dependent_phvs(PlannerInfo *root, int varno)",
          "new_line_content": "\tAssert(!IsA(node, MinMaxAggInfo));",
          "content_same": false
        },
        {
          "line": 3339,
          "old_api": null,
          "new_api": "expression_tree_walker",
          "old_text": null,
          "new_text": "expression_tree_walker(node, find_dependent_phvs_walker,\n\t\t\t\t\t\t\t\t  (void *) context)",
          "old_line_content": "\tfind_dependent_phvs_context context;",
          "new_line_content": "\treturn expression_tree_walker(node, find_dependent_phvs_walker,",
          "content_same": false
        },
        {
          "line": 3352,
          "old_api": null,
          "new_api": "bms_make_singleton",
          "old_text": null,
          "new_text": "bms_make_singleton(varno)",
          "old_line_content": "}",
          "new_line_content": "\tcontext.relids = bms_make_singleton(varno);",
          "content_same": false
        },
        {
          "line": 3355,
          "old_api": null,
          "new_api": "query_tree_walker",
          "old_text": null,
          "new_text": "query_tree_walker(root->parse,\n\t\t\t\t\t\t\t find_dependent_phvs_walker,\n\t\t\t\t\t\t\t (void *) &context,\n\t\t\t\t\t\t\t 0)",
          "old_line_content": "find_dependent_phvs_in_jointree(PlannerInfo *root, Node *node, int varno)",
          "new_line_content": "\treturn query_tree_walker(root->parse,",
          "content_same": false
        },
        {
          "line": 1311,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(setOp, RangeTblRef)",
          "old_line_content": "\t\t * Calculate the index in the parent's range table",
          "new_line_content": "\tif (IsA(setOp, RangeTblRef))",
          "content_same": false
        },
        {
          "line": 3372,
          "old_api": null,
          "new_api": "bms_make_singleton",
          "old_text": null,
          "new_text": "bms_make_singleton(varno)",
          "old_line_content": "\t\treturn true;",
          "new_line_content": "\tcontext.relids = bms_make_singleton(varno);",
          "content_same": false
        },
        {
          "line": 1330,
          "old_api": null,
          "new_api": "make_setop_translation_list",
          "old_text": null,
          "new_text": "make_setop_translation_list(setOpQuery, childRTindex, appinfo)",
          "old_line_content": "\t\t * Note that we can pass NULL for containing-join info even if we're",
          "new_line_content": "\t\tmake_setop_translation_list(setOpQuery, childRTindex, appinfo);",
          "content_same": false
        },
        {
          "line": 3378,
          "old_api": null,
          "new_api": "find_dependent_phvs_walker",
          "old_text": null,
          "new_text": "find_dependent_phvs_walker(node, &context)",
          "old_line_content": "\t * are not marked LATERAL, though, since they couldn't possibly contain",
          "new_line_content": "\tif (find_dependent_phvs_walker(node, &context))",
          "content_same": false
        },
        {
          "line": 1332,
          "old_api": null,
          "new_api": "lappend",
          "old_text": null,
          "new_text": "lappend(root->append_rel_list, appinfo)",
          "old_line_content": "\t\t * aren't going to propagate up to the join.  Also, we ignore the",
          "new_line_content": "\t\troot->append_rel_list = lappend(root->append_rel_list, appinfo);",
          "content_same": false
        },
        {
          "line": 3390,
          "old_api": null,
          "new_api": "bms_next_member",
          "old_text": null,
          "new_text": "bms_next_member(subrelids, relid)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t (void *) &context,",
          "new_line_content": "\twhile ((relid = bms_next_member(subrelids, relid)) >= 0)",
          "content_same": false
        },
        {
          "line": 1344,
          "old_api": null,
          "new_api": "makeNode",
          "old_text": null,
          "new_text": "makeNode(RangeTblRef)",
          "old_line_content": "\t\tSetOperationStmt *op = (SetOperationStmt *) setOp;",
          "new_line_content": "\t\trtr = makeNode(RangeTblRef);",
          "content_same": false
        },
        {
          "line": 3392,
          "old_api": null,
          "new_api": "rt_fetch",
          "old_text": null,
          "new_text": "rt_fetch(relid, root->parse->rtable)",
          "old_line_content": "\t\t\treturn true;",
          "new_line_content": "\t\tRangeTblEntry *rte = rt_fetch(relid, root->parse->rtable);",
          "content_same": false
        },
        {
          "line": 1346,
          "old_api": null,
          "new_api": "pull_up_subqueries_recurse",
          "old_text": null,
          "new_text": "pull_up_subqueries_recurse(root, (Node *) rtr,\n\t\t\t\t\t\t\t\t\t\t  NULL, NULL, appinfo)",
          "old_line_content": "\t\t/* Recurse to reach leaf queries */",
          "new_line_content": "\t\t(void) pull_up_subqueries_recurse(root, (Node *) rtr,",
          "content_same": false
        },
        {
          "line": 3395,
          "old_api": null,
          "new_api": "range_table_entry_walker",
          "old_text": null,
          "new_text": "range_table_entry_walker(rte,\n\t\t\t\t\t\t\t\t\t find_dependent_phvs_walker,\n\t\t\t\t\t\t\t\t\t (void *) &context,\n\t\t\t\t\t\t\t\t\t 0)",
          "old_line_content": "\treturn false;",
          "new_line_content": "\t\t\trange_table_entry_walker(rte,",
          "content_same": false
        },
        {
          "line": 1356,
          "old_api": null,
          "new_api": "pull_up_union_leaf_queries",
          "old_text": null,
          "new_text": "pull_up_union_leaf_queries(op->rarg, root, parentRTindex, setOpQuery,\n\t\t\t\t\t\t\t\t   childRToffset)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tpull_up_union_leaf_queries(op->rarg, root, parentRTindex, setOpQuery,",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"unrecognized node type: %d\",\n\t\t\t (int) nodeTag(setOp))",
          "old_line_content": " *\t  Build the list of translations from parent Vars to child Vars for",
          "new_line_content": "\t\telog(ERROR, \"unrecognized node type: %d\",",
          "content_same": false
        },
        {
          "line": 1362,
          "old_api": null,
          "new_api": "nodeTag",
          "old_text": null,
          "new_text": "nodeTag(setOp)",
          "old_line_content": " *\t  a UNION ALL member.  (At this point it's just a simple list of",
          "new_line_content": "\t\t\t (int) nodeTag(setOp));",
          "content_same": false
        },
        {
          "line": 1384,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(query->targetList)",
          "old_line_content": "",
          "new_line_content": "\tappinfo->num_child_cols = list_length(query->targetList);",
          "content_same": false
        },
        {
          "line": 1386,
          "old_api": null,
          "new_api": "palloc0",
          "old_text": null,
          "new_text": "palloc0(appinfo->num_child_cols * sizeof(AttrNumber))",
          "old_line_content": "\t\t\tcontinue;",
          "new_line_content": "\t\t(AttrNumber *) palloc0(appinfo->num_child_cols * sizeof(AttrNumber));",
          "content_same": false
        },
        {
          "line": 1390,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(l)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tTargetEntry *tle = (TargetEntry *) lfirst(l);",
          "content_same": false
        },
        {
          "line": 3438,
          "old_api": null,
          "new_api": "bms_union",
          "old_text": null,
          "new_text": "bms_union(phv->phrels,\n\t\t\t\t\t\t\t\t\tcontext->subrelids)",
          "old_line_content": "\t\t/* fall through to examine children */",
          "new_line_content": "\t\t\tphv->phrels = bms_union(phv->phrels,",
          "content_same": false
        },
        {
          "line": 1395,
          "old_api": null,
          "new_api": "makeVarFromTargetEntry",
          "old_text": null,
          "new_text": "makeVarFromTargetEntry(newvarno, tle)",
          "old_line_content": "/*",
          "new_line_content": "\t\tvars = lappend(vars, makeVarFromTargetEntry(newvarno, tle));",
          "content_same": false
        },
        {
          "line": 3443,
          "old_api": null,
          "new_api": "bms_is_empty",
          "old_text": null,
          "new_text": "bms_is_empty(phv->phrels)",
          "old_line_content": "\t\tbool\t\tresult;",
          "new_line_content": "\t\t\tAssert(!bms_is_empty(phv->phrels));",
          "content_same": false
        },
        {
          "line": 3447,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, Query)",
          "old_line_content": "\t\t\t\t\t\t\t\t   substitute_phv_relids_walker,",
          "new_line_content": "\tif (IsA(node, Query))",
          "content_same": false
        },
        {
          "line": 3460,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, SpecialJoinInfo)",
          "old_line_content": "}",
          "new_line_content": "\tAssert(!IsA(node, SpecialJoinInfo));",
          "content_same": false
        },
        {
          "line": 3461,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, AppendRelInfo)",
          "old_line_content": "",
          "new_line_content": "\tAssert(!IsA(node, AppendRelInfo));",
          "content_same": false
        },
        {
          "line": 3462,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, PlaceHolderInfo)",
          "old_line_content": "static void",
          "new_line_content": "\tAssert(!IsA(node, PlaceHolderInfo));",
          "content_same": false
        },
        {
          "line": 3463,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, MinMaxAggInfo)",
          "old_line_content": "substitute_phv_relids(Node *node, int varno, Relids subrelids)",
          "new_line_content": "\tAssert(!IsA(node, MinMaxAggInfo));",
          "content_same": false
        },
        {
          "line": 3465,
          "old_api": null,
          "new_api": "expression_tree_walker",
          "old_text": null,
          "new_text": "expression_tree_walker(node, substitute_phv_relids_walker,\n\t\t\t\t\t\t\t\t  (void *) context)",
          "old_line_content": "\tsubstitute_phv_relids_context context;",
          "new_line_content": "\treturn expression_tree_walker(node, substitute_phv_relids_walker,",
          "content_same": false
        },
        {
          "line": 1419,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(subquery, Query)",
          "old_line_content": "\t * redesign...",
          "new_line_content": "\tif (!IsA(subquery, Query) ||",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"subquery is bogus\")",
          "old_line_content": "\tif (subquery->setOperations)",
          "new_line_content": "\t\telog(ERROR, \"subquery is bogus\");",
          "content_same": false
        },
        {
          "line": 3481,
          "old_api": null,
          "new_api": "query_or_expression_tree_walker",
          "old_text": null,
          "new_text": "query_or_expression_tree_walker(node,\n\t\t\t\t\t\t\t\t\tsubstitute_phv_relids_walker,\n\t\t\t\t\t\t\t\t\t(void *) &context,\n\t\t\t\t\t\t\t\t\t0)",
          "old_line_content": " * fix_append_rel_relids: update RT-index fields of AppendRelInfo nodes",
          "new_line_content": "\tquery_or_expression_tree_walker(node,",
          "content_same": false
        },
        {
          "line": 3511,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(l)",
          "old_line_content": "\t\t\tif (subvarno < 0)",
          "new_line_content": "\t\tAppendRelInfo *appinfo = (AppendRelInfo *) lfirst(l);",
          "content_same": false
        },
        {
          "line": 3514,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(appinfo->parent_relid != varno)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tAssert(appinfo->parent_relid != varno);",
          "content_same": false
        },
        {
          "line": 3519,
          "old_api": null,
          "new_api": "bms_singleton_member",
          "old_text": null,
          "new_text": "bms_singleton_member(subrelids)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\tsubvarno = bms_singleton_member(subrelids);",
          "content_same": false
        },
        {
          "line": 3524,
          "old_api": null,
          "new_api": "substitute_phv_relids",
          "old_text": null,
          "new_text": "substitute_phv_relids((Node *) appinfo->translated_vars,\n\t\t\t\t\t\t\t  varno, subrelids)",
          "old_line_content": " *",
          "new_line_content": "\t\tsubstitute_phv_relids((Node *) appinfo->translated_vars,",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": null,
          "new_api": "get_relids_in_jointree",
          "old_text": null,
          "new_text": "get_relids_in_jointree((Node *) lowest_outer_join,\n\t\t\t\t\t\t\t\t\t\t\t\t\t   true)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tsafe_upper_varnos = get_relids_in_jointree((Node *) lowest_outer_join,",
          "content_same": false
        },
        {
          "line": 1492,
          "old_api": null,
          "new_api": "jointree_contains_lateral_outer_refs",
          "old_text": null,
          "new_text": "jointree_contains_lateral_outer_refs(root,\n\t\t\t\t\t\t\t\t\t\t\t\t (Node *) subquery->jointree,\n\t\t\t\t\t\t\t\t\t\t\t\t restricted, safe_upper_varnos)",
          "old_line_content": "\t\t * pullup if the subquery's targetlist has any references to rels",
          "new_line_content": "\t\tif (jointree_contains_lateral_outer_refs(root,",
          "content_same": false
        },
        {
          "line": 3542,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(jtnode, RangeTblRef)",
          "old_line_content": "\t{",
          "new_line_content": "\tif (IsA(jtnode, RangeTblRef))",
          "content_same": false
        },
        {
          "line": 3555,
          "old_api": null,
          "new_api": "bms_join",
          "old_text": null,
          "new_text": "bms_join(result,\n\t\t\t\t\t\t\t  get_relids_in_jointree(lfirst(l),\n\t\t\t\t\t\t\t\t\t\t\t\t\t include_joins))",
          "old_line_content": "\t\tJoinExpr   *j = (JoinExpr *) jtnode;",
          "new_line_content": "\t\t\tresult = bms_join(result,",
          "content_same": false
        },
        {
          "line": 3556,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(l)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\t\t  get_relids_in_jointree(lfirst(l),",
          "content_same": false
        },
        {
          "line": 1512,
          "old_api": null,
          "new_api": "pull_varnos_of_level",
          "old_text": null,
          "new_text": "pull_varnos_of_level(root,\n\t\t\t\t\t\t\t\t\t\t\t\t\t   (Node *) subquery->targetList,\n\t\t\t\t\t\t\t\t\t\t\t\t\t   1)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tRelids\t\tlvarnos = pull_varnos_of_level(root,",
          "content_same": false
        },
        {
          "line": 3560,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(jtnode, JoinExpr)",
          "old_line_content": "\t\tif (include_joins && j->rtindex)",
          "new_line_content": "\telse if (IsA(jtnode, JoinExpr))",
          "content_same": false
        },
        {
          "line": 1516,
          "old_api": null,
          "new_api": "bms_is_subset",
          "old_text": null,
          "new_text": "bms_is_subset(lvarnos, safe_upper_varnos)",
          "old_line_content": "\t * targetlist.  Otherwise we might introduce multiple evaluations of these",
          "new_line_content": "\t\t\tif (!bms_is_subset(lvarnos, safe_upper_varnos))",
          "content_same": false
        },
        {
          "line": 3566,
          "old_api": null,
          "new_api": "get_relids_in_jointree",
          "old_text": null,
          "new_text": "get_relids_in_jointree(j->rarg, include_joins)",
          "old_line_content": "\treturn result;",
          "new_line_content": "\t\t\t\t\t\t  get_relids_in_jointree(j->rarg, include_joins));",
          "content_same": false
        },
        {
          "line": 3568,
          "old_api": null,
          "new_api": "bms_add_member",
          "old_text": null,
          "new_text": "bms_add_member(result, j->rtindex)",
          "old_line_content": "",
          "new_line_content": "\t\t\tresult = bms_add_member(result, j->rtindex);",
          "content_same": false
        },
        {
          "line": 3571,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"unrecognized node type: %d\",\n\t\t\t (int) nodeTag(jtnode))",
          "old_line_content": " */",
          "new_line_content": "\t\telog(ERROR, \"unrecognized node type: %d\",",
          "content_same": false
        },
        {
          "line": 3572,
          "old_api": null,
          "new_api": "nodeTag",
          "old_text": null,
          "new_text": "nodeTag(jtnode)",
          "old_line_content": "Relids",
          "new_line_content": "\t\t\t (int) nodeTag(jtnode));",
          "content_same": false
        },
        {
          "line": 1529,
          "old_api": null,
          "new_api": "contain_volatile_functions",
          "old_text": null,
          "new_text": "contain_volatile_functions((Node *) subquery->targetList)",
          "old_line_content": " * pull_up_simple_values",
          "new_line_content": "\tif (contain_volatile_functions((Node *) subquery->targetList))",
          "content_same": false
        },
        {
          "line": 3584,
          "old_api": null,
          "new_api": "find_jointree_node_for_rel",
          "old_text": null,
          "new_text": "find_jointree_node_for_rel((Node *) query->jointree,\n\t\t\t\t\t\t\t\t\t\tjoinrelid)",
          "old_line_content": "/*",
          "new_line_content": "\tjtnode = find_jointree_node_for_rel((Node *) query->jointree,",
          "content_same": false
        },
        {
          "line": 3587,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"could not find join node %d\", joinrelid)",
          "old_line_content": " * Returns NULL if not found",
          "new_line_content": "\t\telog(ERROR, \"could not find join node %d\", joinrelid);",
          "content_same": false
        },
        {
          "line": 3588,
          "old_api": null,
          "new_api": "get_relids_in_jointree",
          "old_text": null,
          "new_text": "get_relids_in_jointree(jtnode, false)",
          "old_line_content": " */",
          "new_line_content": "\treturn get_relids_in_jointree(jtnode, false);",
          "content_same": false
        },
        {
          "line": 1561,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(rte->values_lists)",
          "old_line_content": "",
          "new_line_content": "\tAssert(list_length(rte->values_lists) == 1);",
          "content_same": false
        },
        {
          "line": 1567,
          "old_api": null,
          "new_api": "linitial",
          "old_text": null,
          "new_text": "linitial(rte->values_lists)",
          "old_line_content": "",
          "new_line_content": "\tvalues_list = copyObject(linitial(rte->values_lists));",
          "content_same": false
        },
        {
          "line": 3615,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(l)",
          "old_line_content": "\t\tJoinExpr   *j = (JoinExpr *) jtnode;",
          "new_line_content": "\t\t\tjtnode = find_jointree_node_for_rel(lfirst(l), relid);",
          "content_same": false
        },
        {
          "line": 3620,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(jtnode, JoinExpr)",
          "old_line_content": "\t\tif (jtnode)",
          "new_line_content": "\telse if (IsA(jtnode, JoinExpr))",
          "content_same": false
        },
        {
          "line": 1573,
          "old_api": null,
          "new_api": "contain_vars_of_level",
          "old_text": null,
          "new_text": "contain_vars_of_level((Node *) values_list, 0)",
          "old_line_content": "\tattrno = 1;",
          "new_line_content": "\tAssert(!contain_vars_of_level((Node *) values_list, 0));",
          "content_same": false
        },
        {
          "line": 3626,
          "old_api": null,
          "new_api": "find_jointree_node_for_rel",
          "old_text": null,
          "new_text": "find_jointree_node_for_rel(j->larg, relid)",
          "old_line_content": "\telse",
          "new_line_content": "\t\tjtnode = find_jointree_node_for_rel(j->larg, relid);",
          "content_same": false
        },
        {
          "line": 3629,
          "old_api": null,
          "new_api": "find_jointree_node_for_rel",
          "old_text": null,
          "new_text": "find_jointree_node_for_rel(j->rarg, relid)",
          "old_line_content": "\treturn NULL;",
          "new_line_content": "\t\tjtnode = find_jointree_node_for_rel(j->rarg, relid);",
          "content_same": false
        },
        {
          "line": 1583,
          "old_api": null,
          "new_api": "lappend",
          "old_text": null,
          "new_text": "lappend(tlist,\n\t\t\t\t\t\tmakeTargetEntry((Expr *) lfirst(lc),\n\t\t\t\t\t\t\t\t\t\tattrno,\n\t\t\t\t\t\t\t\t\t\tNULL,\n\t\t\t\t\t\t\t\t\t\tfalse))",
          "old_line_content": "\trvcontext.root = root;",
          "new_line_content": "\t\ttlist = lappend(tlist,",
          "content_same": false
        },
        {
          "line": 1584,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(lc)",
          "old_line_content": "\trvcontext.targetlist = tlist;",
          "new_line_content": "\t\t\t\t\t\tmakeTargetEntry((Expr *) lfirst(lc),",
          "content_same": false
        },
        {
          "line": 3634,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"unrecognized node type: %d\",\n\t\t\t (int) nodeTag(jtnode))",
          "old_line_content": "",
          "new_line_content": "\t\telog(ERROR, \"unrecognized node type: %d\",",
          "content_same": false
        },
        {
          "line": 3635,
          "old_api": null,
          "new_api": "nodeTag",
          "old_text": null,
          "new_text": "nodeTag(jtnode)",
          "old_line_content": "",
          "new_line_content": "\t\t\t (int) nodeTag(jtnode));",
          "content_same": false
        },
        {
          "line": 1599,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(tlist)",
          "old_line_content": "\t * appendrels in the dummy Query that surrounds a VALUES RTE.",
          "new_line_content": "\trvcontext.rv_cache = palloc0((list_length(tlist) + 1) *",
          "content_same": false
        },
        {
          "line": 1614,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(root->append_rel_list == NIL)",
          "old_line_content": "\t */",
          "new_line_content": "\tAssert(root->append_rel_list == NIL);",
          "content_same": false
        },
        {
          "line": 1616,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(root->placeholder_list == NIL)",
          "old_line_content": "",
          "new_line_content": "\tAssert(root->placeholder_list == NIL);",
          "content_same": false
        },
        {
          "line": 1622,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(parse->rtable)",
          "old_line_content": "\t/* Replace rangetable */",
          "new_line_content": "\tAssert(list_length(parse->rtable) == 1);",
          "content_same": false
        },
        {
          "line": 1625,
          "old_api": null,
          "new_api": "makeNode",
          "old_text": null,
          "new_text": "makeNode(RangeTblEntry)",
          "old_line_content": "\t/* We could manufacture a new RangeTblRef, but the one we have is fine */",
          "new_line_content": "\trte = makeNode(RangeTblEntry);",
          "content_same": false
        },
        {
          "line": 1627,
          "old_api": null,
          "new_api": "makeAlias",
          "old_text": null,
          "new_text": "makeAlias(\"*RESULT*\", NIL)",
          "old_line_content": "",
          "new_line_content": "\trte->eref = makeAlias(\"*RESULT*\", NIL);",
          "content_same": false
        },
        {
          "line": 1630,
          "old_api": null,
          "new_api": "list_make1",
          "old_text": null,
          "new_text": "list_make1(rte)",
          "old_line_content": "",
          "new_line_content": "\tparse->rtable = list_make1(rte);",
          "content_same": false
        },
        {
          "line": 1633,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(varno == 1)",
          "old_line_content": " *\t  Check a VALUES RTE in the range table to see if it's simple enough",
          "new_line_content": "\tAssert(varno == 1);",
          "content_same": false
        },
        {
          "line": 1655,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(rte->values_lists)",
          "old_line_content": "\t */",
          "new_line_content": "\tif (list_length(rte->values_lists) != 1)",
          "content_same": false
        },
        {
          "line": 1669,
          "old_api": null,
          "new_api": "expression_returns_set",
          "old_text": null,
          "new_text": "expression_returns_set((Node *) rte->values_lists)",
          "old_line_content": "\t * moment, and assuming this is true greatly simplifies",
          "new_line_content": "\tif (expression_returns_set((Node *) rte->values_lists) ||",
          "content_same": false
        },
        {
          "line": 1670,
          "old_api": null,
          "new_api": "contain_volatile_functions",
          "old_text": null,
          "new_text": "contain_volatile_functions((Node *) rte->values_lists)",
          "old_line_content": "\t * pull_up_simple_values().",
          "new_line_content": "\t\tcontain_volatile_functions((Node *) rte->values_lists))",
          "content_same": false
        },
        {
          "line": 1679,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(root->parse->rtable)",
          "old_line_content": "/*",
          "new_line_content": "\tif (list_length(root->parse->rtable) != 1 ||",
          "content_same": false
        },
        {
          "line": 1680,
          "old_api": null,
          "new_api": "linitial",
          "old_text": null,
          "new_text": "linitial(root->parse->rtable)",
          "old_line_content": " * pull_up_constant_function",
          "new_line_content": "\t\trte != (RangeTblEntry *) linitial(root->parse->rtable))",
          "content_same": false
        },
        {
          "line": 1722,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(rte->functions)",
          "old_line_content": "\t * If the function's result is not a scalar, we punt.  In principle we",
          "new_line_content": "\tif (list_length(rte->functions) != 1)",
          "content_same": false
        },
        {
          "line": 1724,
          "old_api": null,
          "new_api": "linitial_node",
          "old_text": null,
          "new_text": "linitial_node(RangeTblFunction, rte->functions)",
          "old_line_content": "\t * constants, but for now it seems not worth the work.",
          "new_line_content": "\trtf = linitial_node(RangeTblFunction, rte->functions);",
          "content_same": false
        },
        {
          "line": 1725,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(rtf->funcexpr, Const)",
          "old_line_content": "\t */",
          "new_line_content": "\tif (!IsA(rtf->funcexpr, Const))",
          "content_same": false
        },
        {
          "line": 1736,
          "old_api": null,
          "new_api": "get_expr_result_type",
          "old_text": null,
          "new_text": "get_expr_result_type(rtf->funcexpr,\n\t\t\t\t\t\t\t\t\t\t&funcrettype,\n\t\t\t\t\t\t\t\t\t\t&tupdesc)",
          "old_line_content": "\trvcontext.root = root;",
          "new_line_content": "\tfunctypclass = get_expr_result_type(rtf->funcexpr,",
          "content_same": false
        },
        {
          "line": 1744,
          "old_api": null,
          "new_api": "makeTargetEntry",
          "old_text": null,
          "new_text": "makeTargetEntry((Expr *) rtf->funcexpr,\n\t\t\t\t\t\t\t\t\t\t\t\t\t  1,\t/* resno */\n\t\t\t\t\t\t\t\t\t\t\t\t\t  NULL, /* resname */\n\t\t\t\t\t\t\t\t\t\t\t\t\t  false)",
          "old_line_content": "\t * Since this function was reduced to a Const, it doesn't contain any",
          "new_line_content": "\trvcontext.targetlist = list_make1(makeTargetEntry((Expr *) rtf->funcexpr,",
          "content_same": false
        },
        {
          "line": 1763,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(rvcontext.targetlist)",
          "old_line_content": "\tif (lowest_nulling_outer_join != NULL)",
          "new_line_content": "\trvcontext.rv_cache = palloc0((list_length(rvcontext.targetlist) + 1) *",
          "content_same": false
        },
        {
          "line": 1799,
          "old_api": null,
          "new_api": "perform_pullup_replace_vars",
          "old_text": null,
          "new_text": "perform_pullup_replace_vars(root, &rvcontext,\n\t\t\t\t\t\t\t\tlowest_nulling_outer_join,\n\t\t\t\t\t\t\t\tcontaining_appendrel)",
          "old_line_content": "\t * will get removed later if we're able to drop the RTE_RESULT.",
          "new_line_content": "\tperform_pullup_replace_vars(root, &rvcontext,",
          "content_same": false
        },
        {
          "line": 1836,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(subquery, Query)",
          "old_line_content": "\t\treturn false;",
          "new_line_content": "\tif (!IsA(subquery, Query) ||",
          "content_same": false
        },
        {
          "line": 1838,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"subquery is bogus\")",
          "old_line_content": "\t/* Can't handle ORDER BY, LIMIT/OFFSET, locking, or WITH */",
          "new_line_content": "\t\telog(ERROR, \"subquery is bogus\");",
          "content_same": false
        },
        {
          "line": 1841,
          "old_api": null,
          "new_api": "castNode",
          "old_text": null,
          "new_text": "castNode(SetOperationStmt, subquery->setOperations)",
          "old_line_content": "\t\tsubquery->limitCount ||",
          "new_line_content": "\ttopop = castNode(SetOperationStmt, subquery->setOperations);",
          "content_same": false
        },
        {
          "line": 1861,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(setOp, RangeTblRef)",
          "old_line_content": "",
          "new_line_content": "\tif (IsA(setOp, RangeTblRef))",
          "content_same": false
        },
        {
          "line": 1867,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(subquery != NULL)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tAssert(subquery != NULL);",
          "content_same": false
        },
        {
          "line": 1871,
          "old_api": null,
          "new_api": "tlist_same_datatypes",
          "old_text": null,
          "new_text": "tlist_same_datatypes(subquery->targetList, colTypes, true)",
          "old_line_content": "\t\tif (op->op != SETOP_UNION || !op->all)",
          "new_line_content": "\t\treturn tlist_same_datatypes(subquery->targetList, colTypes, true);",
          "content_same": false
        },
        {
          "line": 1873,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(setOp, SetOperationStmt)",
          "old_line_content": "",
          "new_line_content": "\telse if (IsA(setOp, SetOperationStmt))",
          "content_same": false
        },
        {
          "line": 1882,
          "old_api": null,
          "new_api": "is_simple_union_all_recurse",
          "old_text": null,
          "new_text": "is_simple_union_all_recurse(op->larg, setOpQuery, colTypes)",
          "old_line_content": "\t\treturn false;\t\t\t/* keep compiler quiet */",
          "new_line_content": "\t\treturn is_simple_union_all_recurse(op->larg, setOpQuery, colTypes) &&",
          "content_same": false
        },
        {
          "line": 1883,
          "old_api": null,
          "new_api": "is_simple_union_all_recurse",
          "old_text": null,
          "new_text": "is_simple_union_all_recurse(op->rarg, setOpQuery, colTypes)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tis_simple_union_all_recurse(op->rarg, setOpQuery, colTypes);",
          "content_same": false
        },
        {
          "line": 1887,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"unrecognized node type: %d\",\n\t\t\t (int) nodeTag(setOp))",
          "old_line_content": " * is_safe_append_member",
          "new_line_content": "\t\telog(ERROR, \"unrecognized node type: %d\",",
          "content_same": false
        },
        {
          "line": 1888,
          "old_api": null,
          "new_api": "nodeTag",
          "old_text": null,
          "new_text": "nodeTag(setOp)",
          "old_line_content": " *\t  Check a subquery that is a leaf of a UNION ALL appendrel to see if it's",
          "new_line_content": "\t\t\t (int) nodeTag(setOp));",
          "content_same": false
        },
        {
          "line": 1917,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(jtnode, FromExpr)",
          "old_line_content": "\t\tif (jtnode->quals != NULL)",
          "new_line_content": "\tAssert(IsA(jtnode, FromExpr));",
          "content_same": false
        },
        {
          "line": 1922,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(jtnode, FromExpr)",
          "old_line_content": "\t}",
          "new_line_content": "\twhile (IsA(jtnode, FromExpr))",
          "content_same": false
        },
        {
          "line": 1926,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(jtnode->fromlist)",
          "old_line_content": "\treturn true;",
          "new_line_content": "\t\tif (list_length(jtnode->fromlist) != 1)",
          "content_same": false
        },
        {
          "line": 1928,
          "old_api": null,
          "new_api": "linitial",
          "old_text": null,
          "new_text": "linitial(jtnode->fromlist)",
          "old_line_content": "",
          "new_line_content": "\t\tjtnode = linitial(jtnode->fromlist);",
          "content_same": false
        },
        {
          "line": 1930,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(jtnode, RangeTblRef)",
          "old_line_content": " * jointree_contains_lateral_outer_refs",
          "new_line_content": "\tif (!IsA(jtnode, RangeTblRef))",
          "content_same": false
        },
        {
          "line": 1953,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(jtnode, RangeTblRef)",
          "old_line_content": "\t\t/* First, recurse to check child joins */",
          "new_line_content": "\tif (IsA(jtnode, RangeTblRef))",
          "content_same": false
        },
        {
          "line": 1955,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(jtnode, FromExpr)",
          "old_line_content": "\t\t{",
          "new_line_content": "\telse if (IsA(jtnode, FromExpr))",
          "content_same": false
        },
        {
          "line": 1961,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(l, f->fromlist)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\tforeach(l, f->fromlist)",
          "content_same": false
        },
        {
          "line": 1963,
          "old_api": null,
          "new_api": "jointree_contains_lateral_outer_refs",
          "old_text": null,
          "new_text": "jointree_contains_lateral_outer_refs(root,\n\t\t\t\t\t\t\t\t\t\t\t\t\t lfirst(l),\n\t\t\t\t\t\t\t\t\t\t\t\t\t restricted,\n\t\t\t\t\t\t\t\t\t\t\t\t\t safe_upper_varnos)",
          "old_line_content": "\t\t/* Then check the top-level quals */",
          "new_line_content": "\t\t\tif (jointree_contains_lateral_outer_refs(root,",
          "content_same": false
        },
        {
          "line": 1964,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(l)",
          "old_line_content": "\t\tif (restricted &&",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t\t lfirst(l),",
          "content_same": false
        },
        {
          "line": 1972,
          "old_api": null,
          "new_api": "pull_varnos_of_level",
          "old_text": null,
          "new_text": "pull_varnos_of_level(root, f->quals, 1)",
          "old_line_content": "",
          "new_line_content": "\t\t\t!bms_is_subset(pull_varnos_of_level(root, f->quals, 1),",
          "content_same": false
        },
        {
          "line": 1976,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(jtnode, JoinExpr)",
          "old_line_content": "\t\t */",
          "new_line_content": "\telse if (IsA(jtnode, JoinExpr))",
          "content_same": false
        },
        {
          "line": 1991,
          "old_api": null,
          "new_api": "jointree_contains_lateral_outer_refs",
          "old_text": null,
          "new_text": "jointree_contains_lateral_outer_refs(root,\n\t\t\t\t\t\t\t\t\t\t\t\t j->larg,\n\t\t\t\t\t\t\t\t\t\t\t\t restricted,\n\t\t\t\t\t\t\t\t\t\t\t\t safe_upper_varnos)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t restricted,",
          "new_line_content": "\t\tif (jointree_contains_lateral_outer_refs(root,",
          "content_same": false
        },
        {
          "line": 1996,
          "old_api": null,
          "new_api": "jointree_contains_lateral_outer_refs",
          "old_text": null,
          "new_text": "jointree_contains_lateral_outer_refs(root,\n\t\t\t\t\t\t\t\t\t\t\t\t j->rarg,\n\t\t\t\t\t\t\t\t\t\t\t\t restricted,\n\t\t\t\t\t\t\t\t\t\t\t\t safe_upper_varnos)",
          "old_line_content": "\t\tif (restricted &&",
          "new_line_content": "\t\tif (jointree_contains_lateral_outer_refs(root,",
          "content_same": false
        },
        {
          "line": 2004,
          "old_api": null,
          "new_api": "pull_varnos_of_level",
          "old_text": null,
          "new_text": "pull_varnos_of_level(root, j->quals, 1)",
          "old_line_content": "\treturn false;",
          "new_line_content": "\t\t\t!bms_is_subset(pull_varnos_of_level(root, j->quals, 1),",
          "content_same": false
        },
        {
          "line": 2009,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"unrecognized node type: %d\",\n\t\t\t (int) nodeTag(jtnode))",
          "old_line_content": " *",
          "new_line_content": "\t\telog(ERROR, \"unrecognized node type: %d\",",
          "content_same": false
        },
        {
          "line": 2010,
          "old_api": null,
          "new_api": "nodeTag",
          "old_text": null,
          "new_text": "nodeTag(jtnode)",
          "old_line_content": " * Caller has already filled *rvcontext with data describing what to",
          "new_line_content": "\t\t\t (int) nodeTag(jtnode));",
          "content_same": false
        },
        {
          "line": 2041,
          "old_api": null,
          "new_api": "pullup_replace_vars",
          "old_text": null,
          "new_text": "pullup_replace_vars((Node *) parse->targetList, rvcontext)",
          "old_line_content": "\t\t\t\t\t\t\t\trvcontext);",
          "new_line_content": "\t\tpullup_replace_vars((Node *) parse->targetList, rvcontext);",
          "content_same": false
        },
        {
          "line": 2047,
          "old_api": null,
          "new_api": "pullup_replace_vars",
          "old_text": null,
          "new_text": "pullup_replace_vars((Node *) parse->onConflict->onConflictSet,\n\t\t\t\t\t\t\t\trvcontext)",
          "old_line_content": "\t\t * We assume ON CONFLICT's arbiterElems, arbiterWhere, exclRelTlist",
          "new_line_content": "\t\t\tpullup_replace_vars((Node *) parse->onConflict->onConflictSet,",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2051,
          "old_api": "replace_vars_in_jointree",
          "new_api": null,
          "old_text": "replace_vars_in_jointree((Node *) parse->jointree, rvcontext,\n\t\t\t\t\t\t\t lowest_nulling_outer_join)",
          "new_text": null,
          "old_line_content": "\treplace_vars_in_jointree((Node *) parse->jointree, rvcontext,",
          "new_line_content": "\t\t\t\t\t\t\t\trvcontext);",
          "content_same": false
        },
        {
          "line": 2053,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(parse->setOperations == NULL)",
          "new_text": null,
          "old_line_content": "\tAssert(parse->setOperations == NULL);",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 2054,
          "old_api": "pullup_replace_vars",
          "new_api": null,
          "old_text": "pullup_replace_vars(parse->havingQual, rvcontext)",
          "new_text": null,
          "old_line_content": "\tparse->havingQual = pullup_replace_vars(parse->havingQual, rvcontext);",
          "new_line_content": "\t\t * We assume ON CONFLICT's arbiterElems, arbiterWhere, exclRelTlist",
          "content_same": false
        },
        {
          "line": 2063,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(lc, root->append_rel_list)",
          "new_text": null,
          "old_line_content": "\tforeach(lc, root->append_rel_list)",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 2065,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(lc)",
          "new_text": null,
          "old_line_content": "\t\tAppendRelInfo *appinfo = (AppendRelInfo *) lfirst(lc);",
          "new_line_content": "\t * pulling up an appendrel member, we do not need PHVs in the list of the",
          "content_same": false
        },
        {
          "line": 2071,
          "old_api": "pullup_replace_vars",
          "new_api": null,
          "old_text": "pullup_replace_vars((Node *) appinfo->translated_vars, rvcontext)",
          "new_text": null,
          "old_line_content": "\t\t\tpullup_replace_vars((Node *) appinfo->translated_vars, rvcontext);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 2084,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(lc, parse->rtable)",
          "new_text": null,
          "old_line_content": "\tforeach(lc, parse->rtable)",
          "new_line_content": "\t *",
          "content_same": false
        },
        {
          "line": 2086,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(lc)",
          "new_text": null,
          "old_line_content": "\t\tRangeTblEntry *otherrte = (RangeTblEntry *) lfirst(lc);",
          "new_line_content": "\t * below lowest_nulling_outer_join, but that doesn't work because the",
          "content_same": false
        },
        {
          "line": 2090,
          "old_api": "pullup_replace_vars",
          "new_api": null,
          "old_text": "pullup_replace_vars((Node *) otherrte->joinaliasvars,\n\t\t\t\t\t\t\t\t\trvcontext)",
          "new_text": null,
          "old_line_content": "\t\t\t\tpullup_replace_vars((Node *) otherrte->joinaliasvars,",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2110,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(jtnode, RangeTblRef)",
          "new_text": null,
          "old_line_content": "\tif (IsA(jtnode, RangeTblRef))",
          "new_line_content": "static void",
          "content_same": false
        },
        {
          "line": 2125,
          "old_api": "rt_fetch",
          "new_api": null,
          "old_text": "rt_fetch(varno, context->root->parse->rtable)",
          "new_text": null,
          "old_line_content": "\t\t\tRangeTblEntry *rte = rt_fetch(varno, context->root->parse->rtable);",
          "new_line_content": "\t\t * can use the appropriate setting of need_phvs depending on whether",
          "content_same": false
        },
        {
          "line": 2127,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(rte != context->target_rte)",
          "new_text": null,
          "old_line_content": "\t\t\tAssert(rte != context->target_rte);",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 2136,
          "old_api": "pullup_replace_vars",
          "new_api": null,
          "old_text": "pullup_replace_vars((Node *) rte->tablesample,\n\t\t\t\t\t\t\t\t\t\t\t\tcontext)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tpullup_replace_vars((Node *) rte->tablesample,",
          "new_line_content": "\t\t\t{",
          "content_same": false
        },
        {
          "line": 2146,
          "old_api": "pullup_replace_vars",
          "new_api": null,
          "old_text": "pullup_replace_vars((Node *) rte->functions,\n\t\t\t\t\t\t\t\t\t\t\t\tcontext)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tpullup_replace_vars((Node *) rte->functions,",
          "new_line_content": "\t\t\t\t\tcase RTE_SUBQUERY:",
          "content_same": false
        },
        {
          "line": 2151,
          "old_api": "pullup_replace_vars",
          "new_api": null,
          "old_text": "pullup_replace_vars((Node *) rte->tablefunc,\n\t\t\t\t\t\t\t\t\t\t\t\tcontext)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tpullup_replace_vars((Node *) rte->tablefunc,",
          "new_line_content": "\t\t\t\t\tcase RTE_FUNCTION:",
          "content_same": false
        },
        {
          "line": 2156,
          "old_api": "pullup_replace_vars",
          "new_api": null,
          "old_text": "pullup_replace_vars((Node *) rte->values_lists,\n\t\t\t\t\t\t\t\t\t\t\t\tcontext)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tpullup_replace_vars((Node *) rte->values_lists,",
          "new_line_content": "\t\t\t\t\tcase RTE_TABLEFUNC:",
          "content_same": false
        },
        {
          "line": 2164,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(false)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tAssert(false);",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t\tcontext);",
          "content_same": false
        },
        {
          "line": 2170,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(jtnode, FromExpr)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(jtnode, FromExpr))",
          "new_line_content": "\t\t\t\t\t\t/* these shouldn't be marked LATERAL */",
          "content_same": false
        },
        {
          "line": 2175,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(l, f->fromlist)",
          "new_text": null,
          "old_line_content": "\t\tforeach(l, f->fromlist)",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2176,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(l)",
          "new_text": null,
          "old_line_content": "\t\t\treplace_vars_in_jointree(lfirst(l), context,",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2178,
          "old_api": "pullup_replace_vars",
          "new_api": null,
          "old_text": "pullup_replace_vars(f->quals, context)",
          "new_text": null,
          "old_line_content": "\t\tf->quals = pullup_replace_vars(f->quals, context);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 2180,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(jtnode, JoinExpr)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(jtnode, JoinExpr))",
          "new_line_content": "\t\tListCell   *l;",
          "content_same": false
        },
        {
          "line": 2191,
          "old_api": "replace_vars_in_jointree",
          "new_api": null,
          "old_text": "replace_vars_in_jointree(j->larg, context, lowest_nulling_outer_join)",
          "new_text": null,
          "old_line_content": "\t\treplace_vars_in_jointree(j->larg, context, lowest_nulling_outer_join);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2192,
          "old_api": "replace_vars_in_jointree",
          "new_api": null,
          "old_text": "replace_vars_in_jointree(j->rarg, context, lowest_nulling_outer_join)",
          "new_text": null,
          "old_line_content": "\t\treplace_vars_in_jointree(j->rarg, context, lowest_nulling_outer_join);",
          "new_line_content": "\t\tif (j == lowest_nulling_outer_join)",
          "content_same": false
        },
        {
          "line": 2205,
          "old_api": "pullup_replace_vars",
          "new_api": null,
          "old_text": "pullup_replace_vars(j->quals, context)",
          "new_text": null,
          "old_line_content": "\t\tj->quals = pullup_replace_vars(j->quals, context);",
          "new_line_content": "\t\t * can lead to failure to make a plan at all because none of the quals",
          "content_same": false
        },
        {
          "line": 2214,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"unrecognized node type: %d\",\n\t\t\t (int) nodeTag(jtnode))",
          "new_text": null,
          "old_line_content": "\t\telog(ERROR, \"unrecognized node type: %d\",",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 2215,
          "old_api": "nodeTag",
          "new_api": null,
          "old_text": "nodeTag(jtnode)",
          "new_text": null,
          "old_line_content": "\t\t\t (int) nodeTag(jtnode));",
          "new_line_content": "\t\t * We don't bother to update the colvars list, since it won't be used",
          "content_same": false
        },
        {
          "line": 2227,
          "old_api": "replace_rte_variables",
          "new_api": null,
          "old_text": "replace_rte_variables(expr,\n\t\t\t\t\t\t\t\t context->varno, 0,\n\t\t\t\t\t\t\t\t pullup_replace_vars_callback,\n\t\t\t\t\t\t\t\t (void *) context,\n\t\t\t\t\t\t\t\t context->outer_hasSubLinks)",
          "new_text": null,
          "old_line_content": "\treturn replace_rte_variables(expr,",
          "new_line_content": " *",
          "content_same": false
        },
        {
          "line": 2253,
          "old_api": "list_length",
          "new_api": null,
          "old_text": "list_length(rcon->targetlist)",
          "new_text": null,
          "old_line_content": "\t\tvarattno <= list_length(rcon->targetlist) &&",
          "new_line_content": "\t * different IDs.  That would result in duplicate evaluations at runtime,",
          "content_same": false
        },
        {
          "line": 2257,
          "old_api": "copyObject",
          "new_api": null,
          "old_text": "copyObject(rcon->rv_cache[varattno])",
          "new_text": null,
          "old_line_content": "\t\tnewnode = copyObject(rcon->rv_cache[varattno]);",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2278,
          "old_api": "expandRTE",
          "new_api": null,
          "old_text": "expandRTE(rcon->target_rte,\n\t\t\t\t  var->varno, 0 /* not varlevelsup */ , var->location,\n\t\t\t\t  (var->vartype != RECORDOID),\n\t\t\t\t  &colnames, &fields)",
          "new_text": null,
          "old_line_content": "\t\texpandRTE(rcon->target_rte,",
          "new_line_content": "\t\t * dropped columns.  If the var is RECORD (ie, this is a JOIN), then",
          "content_same": false
        },
        {
          "line": 2290,
          "old_api": "makeNode",
          "new_api": null,
          "old_text": "makeNode(RowExpr)",
          "new_text": null,
          "old_line_content": "\t\trowexpr = makeNode(RowExpr);",
          "new_line_content": "\t\trcon->need_phvs = false;",
          "content_same": false
        },
        {
          "line": 2309,
          "old_api": "make_placeholder_expr",
          "new_api": null,
          "old_text": "make_placeholder_expr(rcon->root,\n\t\t\t\t\t\t\t\t\t  (Expr *) newnode,\n\t\t\t\t\t\t\t\t\t  bms_make_singleton(rcon->varno))",
          "new_text": null,
          "old_line_content": "\t\t\t\tmake_placeholder_expr(rcon->root,",
          "new_line_content": "\t\t * expression to yield NULL, not ROW(NULL,NULL,...) when it is forced",
          "content_same": false
        },
        {
          "line": 2311,
          "old_api": "bms_make_singleton",
          "new_api": null,
          "old_text": "bms_make_singleton(rcon->varno)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t\t  bms_make_singleton(rcon->varno));",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 2313,
          "old_api": "copyObject",
          "new_api": null,
          "old_text": "copyObject(newnode)",
          "new_text": null,
          "old_line_content": "\t\t\trcon->rv_cache[InvalidAttrNumber] = copyObject(newnode);",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 2319,
          "old_api": "get_tle_by_resno",
          "new_api": null,
          "old_text": "get_tle_by_resno(rcon->targetlist, varattno)",
          "new_text": null,
          "old_line_content": "\t\tTargetEntry *tle = get_tle_by_resno(rcon->targetlist, varattno);",
          "new_line_content": "\t\t\t/* cache it with the PHV, and with varlevelsup still zero */",
          "content_same": false
        },
        {
          "line": 2322,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"could not find attribute %d in subquery targetlist\",\n\t\t\t\t varattno)",
          "new_text": null,
          "old_line_content": "\t\t\telog(ERROR, \"could not find attribute %d in subquery targetlist\",",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2344,
          "old_api": "bms_is_member",
          "new_api": null,
          "old_text": "bms_is_member(((Var *) newnode)->varno, rcon->relids)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t!bms_is_member(((Var *) newnode)->varno, rcon->relids))",
          "new_line_content": "\t\t\t\t * Simple Vars always escape being wrapped, unless they are",
          "content_same": false
        },
        {
          "line": 2349,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(newnode, PlaceHolderVar)",
          "new_text": null,
          "old_line_content": "\t\t\telse if (newnode && IsA(newnode, PlaceHolderVar) &&",
          "new_line_content": "\t\t\t\t */",
          "content_same": false
        },
        {
          "line": 2381,
          "old_api": "pull_varnos",
          "new_api": null,
          "old_text": "pull_varnos(rcon->root, (Node *) newnode)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t bms_overlap(pull_varnos(rcon->root, (Node *) newnode),",
          "new_line_content": "\t\t\t\t * anyway, if the tlist item is expensive to evaluate?",
          "content_same": false
        },
        {
          "line": 2383,
          "old_api": "contain_vars_of_level",
          "new_api": null,
          "old_text": "contain_vars_of_level((Node *) newnode, 0)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t contain_vars_of_level((Node *) newnode, 0)) &&",
          "new_line_content": "\t\t\t\t * For a LATERAL subquery, we have to check the actual var",
          "content_same": false
        },
        {
          "line": 2384,
          "old_api": "contain_nonstrict_functions",
          "new_api": null,
          "old_text": "contain_nonstrict_functions((Node *) newnode)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t!contain_nonstrict_functions((Node *) newnode))",
          "new_line_content": "\t\t\t\t * membership of the node, but if it's non-lateral then any",
          "content_same": false
        },
        {
          "line": 2398,
          "old_api": "make_placeholder_expr",
          "new_api": null,
          "old_text": "make_placeholder_expr(rcon->root,\n\t\t\t\t\t\t\t\t\t\t  (Expr *) newnode,\n\t\t\t\t\t\t\t\t\t\t  bms_make_singleton(rcon->varno))",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tmake_placeholder_expr(rcon->root,",
          "new_line_content": "\t\t\t\t\t/* Else wrap it in a PlaceHolderVar */",
          "content_same": false
        },
        {
          "line": 2400,
          "old_api": "bms_make_singleton",
          "new_api": null,
          "old_text": "bms_make_singleton(rcon->varno)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t  bms_make_singleton(rcon->varno));",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 2409,
          "old_api": "list_length",
          "new_api": null,
          "old_text": "list_length(rcon->targetlist)",
          "new_text": null,
          "old_line_content": "\t\t\t\tvarattno <= list_length(rcon->targetlist))",
          "new_line_content": "\t\t\t/*",
          "content_same": false
        },
        {
          "line": 2410,
          "old_api": "copyObject",
          "new_api": null,
          "old_text": "copyObject(newnode)",
          "new_text": null,
          "old_line_content": "\t\t\t\trcon->rv_cache[varattno] = copyObject(newnode);",
          "new_line_content": "\t\t\t * Cache it if possible (ie, if the attno is in range, which it",
          "content_same": false
        },
        {
          "line": 2432,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(query, Query)",
          "new_text": null,
          "old_line_content": "\tAssert(IsA(query, Query));",
          "new_line_content": " * replace_rte_variables will think that it shouldn't increment sublevels_up",
          "content_same": false
        },
        {
          "line": 2433,
          "old_api": "replace_rte_variables",
          "new_api": null,
          "old_text": "replace_rte_variables((Node *) query,\n\t\t\t\t\t\t\t\t\t\t   context->varno, 1,\n\t\t\t\t\t\t\t\t\t\t   pullup_replace_vars_callback,\n\t\t\t\t\t\t\t\t\t\t   (void *) context,\n\t\t\t\t\t\t\t\t\t\t   NULL)",
          "new_text": null,
          "old_line_content": "\treturn (Query *) replace_rte_variables((Node *) query,",
          "new_line_content": " * before entering the Query; so we need to call it with sublevels_up == 1.",
          "content_same": false
        },
        {
          "line": 2468,
          "old_api": "castNode",
          "new_api": null,
          "old_text": "castNode(SetOperationStmt, parse->setOperations)",
          "new_text": null,
          "old_line_content": "\ttopop = castNode(SetOperationStmt, parse->setOperations);",
          "new_line_content": "\tint\t\t\tleftmostRTI;",
          "content_same": false
        },
        {
          "line": 2469,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(topop)",
          "new_text": null,
          "old_line_content": "\tAssert(topop);",
          "new_line_content": "\tRangeTblEntry *leftmostRTE;",
          "content_same": false
        },
        {
          "line": 2479,
          "old_api": "is_simple_union_all_recurse",
          "new_api": null,
          "old_text": "is_simple_union_all_recurse((Node *) topop, parse, topop->colTypes)",
          "new_text": null,
          "old_line_content": "\tif (!is_simple_union_all_recurse((Node *) topop, parse, topop->colTypes))",
          "new_line_content": "\tif (root->hasRecursion)",
          "content_same": false
        },
        {
          "line": 2487,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(leftmostjtnode, SetOperationStmt)",
          "new_text": null,
          "old_line_content": "\twhile (leftmostjtnode && IsA(leftmostjtnode, SetOperationStmt))",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 2489,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(leftmostjtnode, RangeTblRef)",
          "new_text": null,
          "old_line_content": "\tAssert(leftmostjtnode && IsA(leftmostjtnode, RangeTblRef));",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 2491,
          "old_api": "rt_fetch",
          "new_api": null,
          "old_text": "rt_fetch(leftmostRTI, parse->rtable)",
          "new_text": null,
          "old_line_content": "\tleftmostRTE = rt_fetch(leftmostRTI, parse->rtable);",
          "new_line_content": "\t * Vars all refer to this RTE (see transformSetOperationStmt).",
          "content_same": false
        },
        {
          "line": 2492,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(leftmostRTE->rtekind == RTE_SUBQUERY)",
          "new_text": null,
          "old_line_content": "\tAssert(leftmostRTE->rtekind == RTE_SUBQUERY);",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2501,
          "old_api": "copyObject",
          "new_api": null,
          "old_text": "copyObject(leftmostRTE)",
          "new_text": null,
          "old_line_content": "\tchildRTE = copyObject(leftmostRTE);",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 2502,
          "old_api": "lappend",
          "new_api": null,
          "old_text": "lappend(parse->rtable, childRTE)",
          "new_text": null,
          "old_line_content": "\tparse->rtable = lappend(parse->rtable, childRTE);",
          "new_line_content": "\t * Make a copy of the leftmost RTE and add it to the rtable.  This copy",
          "content_same": false
        },
        {
          "line": 2503,
          "old_api": "list_length",
          "new_api": null,
          "old_text": "list_length(parse->rtable)",
          "new_text": null,
          "old_line_content": "\tchildRTI = list_length(parse->rtable);",
          "new_line_content": "\t * will represent the leftmost leaf query in its capacity as a member of",
          "content_same": false
        },
        {
          "line": 2515,
          "old_api": "makeNode",
          "new_api": null,
          "old_text": "makeNode(RangeTblRef)",
          "new_text": null,
          "old_line_content": "\trtr = makeNode(RangeTblRef);",
          "new_line_content": "\t/* Modify the formerly-leftmost RTE to mark it as an appendrel parent */",
          "content_same": false
        },
        {
          "line": 2517,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(parse->jointree->fromlist == NIL)",
          "new_text": null,
          "old_line_content": "\tAssert(parse->jointree->fromlist == NIL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2518,
          "old_api": "list_make1",
          "new_api": null,
          "old_text": "list_make1(rtr)",
          "new_text": null,
          "old_line_content": "\tparse->jointree->fromlist = list_make1(rtr);",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 2532,
          "old_api": "pull_up_union_leaf_queries",
          "new_api": null,
          "old_text": "pull_up_union_leaf_queries((Node *) topop, root, leftmostRTI, parse, 0)",
          "new_text": null,
          "old_line_content": "\tpull_up_union_leaf_queries((Node *) topop, root, leftmostRTI, parse, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2587,
          "old_api": "reduce_outer_joins_pass1",
          "new_api": null,
          "old_text": "reduce_outer_joins_pass1((Node *) root->parse->jointree)",
          "new_text": null,
          "old_line_content": "\tstate = reduce_outer_joins_pass1((Node *) root->parse->jointree);",
          "new_line_content": "\t * to stop descending the jointree as soon as there are no outer joins",
          "content_same": false
        },
        {
          "line": 2591,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"so where are the outer joins?\")",
          "new_text": null,
          "old_line_content": "\t\telog(ERROR, \"so where are the outer joins?\");",
          "new_line_content": "\t * join(s) below each side of each join clause. The second pass examines",
          "content_same": false
        },
        {
          "line": 2593,
          "old_api": "reduce_outer_joins_pass2",
          "new_api": null,
          "old_text": "reduce_outer_joins_pass2((Node *) root->parse->jointree,\n\t\t\t\t\t\t\t state, root, NULL, NIL, NIL)",
          "new_text": null,
          "old_line_content": "\treduce_outer_joins_pass2((Node *) root->parse->jointree,",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2608,
          "old_api": "palloc",
          "new_api": null,
          "old_text": "palloc(sizeof(reduce_outer_joins_state))",
          "new_text": null,
          "old_line_content": "\t\tpalloc(sizeof(reduce_outer_joins_state));",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 2619,
          "old_api": "bms_make_singleton",
          "new_api": null,
          "old_text": "bms_make_singleton(varno)",
          "new_text": null,
          "old_line_content": "\t\tresult->relids = bms_make_singleton(varno);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2621,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(jtnode, FromExpr)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(jtnode, FromExpr))",
          "new_line_content": "\t\treturn result;",
          "content_same": false
        },
        {
          "line": 2630,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(l)",
          "new_text": null,
          "old_line_content": "\t\t\tsub_state = reduce_outer_joins_pass1(lfirst(l));",
          "new_line_content": "\t\tFromExpr   *f = (FromExpr *) jtnode;",
          "content_same": false
        },
        {
          "line": 2631,
          "old_api": "bms_add_members",
          "new_api": null,
          "old_text": "bms_add_members(result->relids,\n\t\t\t\t\t\t\t\t\t\t\t sub_state->relids)",
          "new_text": null,
          "old_line_content": "\t\t\tresult->relids = bms_add_members(result->relids,",
          "new_line_content": "\t\tListCell   *l;",
          "content_same": false
        },
        {
          "line": 2634,
          "old_api": "lappend",
          "new_api": null,
          "old_text": "lappend(result->sub_states, sub_state)",
          "new_text": null,
          "old_line_content": "\t\t\tresult->sub_states = lappend(result->sub_states, sub_state);",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 2643,
          "old_api": "IS_OUTER_JOIN",
          "new_api": null,
          "old_text": "IS_OUTER_JOIN(j->jointype)",
          "new_text": null,
          "old_line_content": "\t\tif (IS_OUTER_JOIN(j->jointype))",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2646,
          "old_api": "reduce_outer_joins_pass1",
          "new_api": null,
          "old_text": "reduce_outer_joins_pass1(j->larg)",
          "new_text": null,
          "old_line_content": "\t\tsub_state = reduce_outer_joins_pass1(j->larg);",
          "new_line_content": "\t\tJoinExpr   *j = (JoinExpr *) jtnode;",
          "content_same": false
        },
        {
          "line": 2647,
          "old_api": "bms_add_members",
          "new_api": null,
          "old_text": "bms_add_members(result->relids,\n\t\t\t\t\t\t\t\t\t\t sub_state->relids)",
          "new_text": null,
          "old_line_content": "\t\tresult->relids = bms_add_members(result->relids,",
          "new_line_content": "\t\treduce_outer_joins_state *sub_state;",
          "content_same": false
        },
        {
          "line": 2652,
          "old_api": "reduce_outer_joins_pass1",
          "new_api": null,
          "old_text": "reduce_outer_joins_pass1(j->rarg)",
          "new_text": null,
          "old_line_content": "\t\tsub_state = reduce_outer_joins_pass1(j->rarg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2656,
          "old_api": "lappend",
          "new_api": null,
          "old_text": "lappend(result->sub_states, sub_state)",
          "new_text": null,
          "old_line_content": "\t\tresult->sub_states = lappend(result->sub_states, sub_state);",
          "new_line_content": "\t\tresult->contains_outer |= sub_state->contains_outer;",
          "content_same": false
        },
        {
          "line": 2687,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"reached empty jointree\")",
          "new_text": null,
          "old_line_content": "\t\telog(ERROR, \"reached empty jointree\");",
          "new_line_content": "\t\t\t\t\t\t List *forced_null_vars)",
          "content_same": false
        },
        {
          "line": 2688,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(jtnode, RangeTblRef)",
          "new_text": null,
          "old_line_content": "\tif (IsA(jtnode, RangeTblRef))",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2689,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"reached base rel\")",
          "new_text": null,
          "old_line_content": "\t\telog(ERROR, \"reached base rel\");",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 2690,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(jtnode, FromExpr)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(jtnode, FromExpr))",
          "new_line_content": "\t * pass 2 should never descend as far as an empty subnode or base rel,",
          "content_same": false
        },
        {
          "line": 2700,
          "old_api": "find_nonnullable_rels",
          "new_api": null,
          "old_text": "find_nonnullable_rels(f->quals)",
          "new_text": null,
          "old_line_content": "\t\tpass_nonnullable_rels = find_nonnullable_rels(f->quals);",
          "new_line_content": "\t\tListCell   *l;",
          "content_same": false
        },
        {
          "line": 2701,
          "old_api": "bms_add_members",
          "new_api": null,
          "old_text": "bms_add_members(pass_nonnullable_rels,\n\t\t\t\t\t\t\t\t\t\t\t\tnonnullable_rels)",
          "new_text": null,
          "old_line_content": "\t\tpass_nonnullable_rels = bms_add_members(pass_nonnullable_rels,",
          "new_line_content": "\t\tListCell   *s;",
          "content_same": false
        },
        {
          "line": 2703,
          "old_api": "find_nonnullable_vars",
          "new_api": null,
          "old_text": "find_nonnullable_vars(f->quals)",
          "new_text": null,
          "old_line_content": "\t\tpass_nonnullable_vars = find_nonnullable_vars(f->quals);",
          "new_line_content": "\t\tList\t   *pass_nonnullable_vars;",
          "content_same": false
        },
        {
          "line": 2704,
          "old_api": "list_concat",
          "new_api": null,
          "old_text": "list_concat(pass_nonnullable_vars,\n\t\t\t\t\t\t\t\t\t\t\tnonnullable_vars)",
          "new_text": null,
          "old_line_content": "\t\tpass_nonnullable_vars = list_concat(pass_nonnullable_vars,",
          "new_line_content": "\t\tList\t   *pass_forced_null_vars;",
          "content_same": false
        },
        {
          "line": 2706,
          "old_api": "find_forced_null_vars",
          "new_api": null,
          "old_text": "find_forced_null_vars(f->quals)",
          "new_text": null,
          "old_line_content": "\t\tpass_forced_null_vars = find_forced_null_vars(f->quals);",
          "new_line_content": "\t\t/* Scan quals to see if we can add any constraints */",
          "content_same": false
        },
        {
          "line": 2716,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(l)",
          "new_text": null,
          "old_line_content": "\t\t\t\treduce_outer_joins_pass2(lfirst(l), sub_state, root,",
          "new_line_content": "\t\t/* And recurse --- but only into interesting subtrees */",
          "content_same": false
        },
        {
          "line": 2721,
          "old_api": "bms_free",
          "new_api": null,
          "old_text": "bms_free(pass_nonnullable_rels)",
          "new_text": null,
          "old_line_content": "\t\tbms_free(pass_nonnullable_rels);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2724,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(jtnode, JoinExpr)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(jtnode, JoinExpr))",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t pass_nonnullable_rels,",
          "content_same": false
        },
        {
          "line": 2729,
          "old_api": "linitial",
          "new_api": null,
          "old_text": "linitial(state->sub_states)",
          "new_text": null,
          "old_line_content": "\t\treduce_outer_joins_state *left_state = linitial(state->sub_states);",
          "new_line_content": "\t\t/* can't so easily clean up var lists, unfortunately */",
          "content_same": false
        },
        {
          "line": 2730,
          "old_api": "lsecond",
          "new_api": null,
          "old_text": "lsecond(state->sub_states)",
          "new_text": null,
          "old_line_content": "\t\treduce_outer_joins_state *right_state = lsecond(state->sub_states);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2740,
          "old_api": "bms_overlap",
          "new_api": null,
          "old_text": "bms_overlap(nonnullable_rels, right_state->relids)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (bms_overlap(nonnullable_rels, right_state->relids))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2744,
          "old_api": "bms_overlap",
          "new_api": null,
          "old_text": "bms_overlap(nonnullable_rels, left_state->relids)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (bms_overlap(nonnullable_rels, left_state->relids))",
          "new_line_content": "\t\t\tcase JOIN_INNER:",
          "content_same": false
        },
        {
          "line": 2748,
          "old_api": "bms_overlap",
          "new_api": null,
          "old_text": "bms_overlap(nonnullable_rels, left_state->relids)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (bms_overlap(nonnullable_rels, left_state->relids))",
          "new_line_content": "\t\t\t\t\tjointype = JOIN_INNER;",
          "content_same": false
        },
        {
          "line": 2750,
          "old_api": "bms_overlap",
          "new_api": null,
          "old_text": "bms_overlap(nonnullable_rels, right_state->relids)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tif (bms_overlap(nonnullable_rels, right_state->relids))",
          "new_line_content": "\t\t\tcase JOIN_RIGHT:",
          "content_same": false
        },
        {
          "line": 2771,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"unrecognized join type: %d\",\n\t\t\t\t\t (int) jointype)",
          "new_text": null,
          "old_line_content": "\t\t\t\telog(ERROR, \"unrecognized join type: %d\",",
          "new_line_content": "\t\t\t\t/*",
          "content_same": false
        },
        {
          "line": 2791,
          "old_api": "linitial",
          "new_api": null,
          "old_text": "linitial(state->sub_states)",
          "new_text": null,
          "old_line_content": "\t\t\tright_state = linitial(state->sub_states);",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 2792,
          "old_api": "lsecond",
          "new_api": null,
          "old_text": "lsecond(state->sub_states)",
          "new_text": null,
          "old_line_content": "\t\t\tleft_state = lsecond(state->sub_states);",
          "new_line_content": "\t\t\tNode\t   *tmparg;",
          "content_same": false
        },
        {
          "line": 2809,
          "old_api": "find_nonnullable_vars",
          "new_api": null,
          "old_text": "find_nonnullable_vars(j->quals)",
          "new_text": null,
          "old_line_content": "\t\t\tlocal_nonnullable_vars = find_nonnullable_vars(j->quals);",
          "new_line_content": "\t\t * would have to be wary of lower outer joins). For the moment this",
          "content_same": false
        },
        {
          "line": 2817,
          "old_api": "list_intersection",
          "new_api": null,
          "old_text": "list_intersection(local_nonnullable_vars,\n\t\t\t\t\t\t\t\t\t\tforced_null_vars)",
          "new_text": null,
          "old_line_content": "\t\t\toverlap = list_intersection(local_nonnullable_vars,",
          "new_line_content": "\t\t\tcomputed_local_nonnullable_vars = true;",
          "content_same": false
        },
        {
          "line": 2820,
          "old_api": "pull_varnos",
          "new_api": null,
          "old_text": "pull_varnos(root, (Node *) overlap)",
          "new_text": null,
          "old_line_content": "\t\t\t\tbms_overlap(pull_varnos(root, (Node *) overlap),",
          "new_line_content": "\t\t\t * It's not sufficient to check whether local_nonnullable_vars and",
          "content_same": false
        },
        {
          "line": 2828,
          "old_api": "rt_fetch",
          "new_api": null,
          "old_text": "rt_fetch(rtindex, root->parse->rtable)",
          "new_text": null,
          "old_line_content": "\t\t\tRangeTblEntry *rte = rt_fetch(rtindex, root->parse->rtable);",
          "new_line_content": "\t\t\t\t\t\t\tright_state->relids))",
          "content_same": false
        },
        {
          "line": 2830,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(rte->rtekind == RTE_JOIN)",
          "new_text": null,
          "old_line_content": "\t\t\tAssert(rte->rtekind == RTE_JOIN);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2831,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(rte->jointype == j->jointype)",
          "new_text": null,
          "old_line_content": "\t\t\tAssert(rte->jointype == j->jointype);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2868,
          "old_api": "find_nonnullable_rels",
          "new_api": null,
          "old_text": "find_nonnullable_rels(j->quals)",
          "new_text": null,
          "old_line_content": "\t\t\t\tlocal_nonnullable_rels = find_nonnullable_rels(j->quals);",
          "new_line_content": "\t\t\t * worth having a separate code path to avoid passing them.)",
          "content_same": false
        },
        {
          "line": 2870,
          "old_api": "find_nonnullable_vars",
          "new_api": null,
          "old_text": "find_nonnullable_vars(j->quals)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tlocal_nonnullable_vars = find_nonnullable_vars(j->quals);",
          "new_line_content": "\t\t\t * At a FULL join we just punt and pass nothing down --- is it",
          "content_same": false
        },
        {
          "line": 2871,
          "old_api": "find_forced_null_vars",
          "new_api": null,
          "old_text": "find_forced_null_vars(j->quals)",
          "new_text": null,
          "old_line_content": "\t\t\t\tlocal_forced_null_vars = find_forced_null_vars(j->quals);",
          "new_line_content": "\t\t\t * possible to be smarter?",
          "content_same": false
        },
        {
          "line": 2879,
          "old_api": "list_concat",
          "new_api": null,
          "old_text": "list_concat(local_forced_null_vars,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t forced_null_vars)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tlocal_forced_null_vars = list_concat(local_forced_null_vars,",
          "new_line_content": "\t\t\t\tif (jointype == JOIN_INNER || jointype == JOIN_SEMI)",
          "content_same": false
        },
        {
          "line": 2913,
          "old_api": "reduce_outer_joins_pass2",
          "new_api": null,
          "old_text": "reduce_outer_joins_pass2(j->larg, left_state, root,\n\t\t\t\t\t\t\t\t\t\t pass_nonnullable_rels,\n\t\t\t\t\t\t\t\t\t\t pass_nonnullable_vars,\n\t\t\t\t\t\t\t\t\t\t pass_forced_null_vars)",
          "new_text": null,
          "old_line_content": "\t\t\t\treduce_outer_joins_pass2(j->larg, left_state, root,",
          "new_line_content": "\t\t\t\telse",
          "content_same": false
        },
        {
          "line": 2935,
          "old_api": "reduce_outer_joins_pass2",
          "new_api": null,
          "old_text": "reduce_outer_joins_pass2(j->rarg, right_state, root,\n\t\t\t\t\t\t\t\t\t\t pass_nonnullable_rels,\n\t\t\t\t\t\t\t\t\t\t pass_nonnullable_vars,\n\t\t\t\t\t\t\t\t\t\t pass_forced_null_vars)",
          "new_text": null,
          "old_line_content": "\t\t\t\treduce_outer_joins_pass2(j->rarg, right_state, root,",
          "new_line_content": "\t\t\t\telse",
          "content_same": false
        },
        {
          "line": 2940,
          "old_api": "bms_free",
          "new_api": null,
          "old_text": "bms_free(local_nonnullable_rels)",
          "new_text": null,
          "old_line_content": "\t\t\tbms_free(local_nonnullable_rels);",
          "new_line_content": "\t\t\t\t\tpass_forced_null_vars = NIL;",
          "content_same": false
        },
        {
          "line": 2944,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"unrecognized node type: %d\",\n\t\t\t (int) nodeTag(jtnode))",
          "new_text": null,
          "old_line_content": "\t\telog(ERROR, \"unrecognized node type: %d\",",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t pass_nonnullable_vars,",
          "content_same": false
        },
        {
          "line": 2945,
          "old_api": "nodeTag",
          "new_api": null,
          "old_text": "nodeTag(jtnode)",
          "new_text": null,
          "old_line_content": "\t\t\t (int) nodeTag(jtnode));",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t pass_forced_null_vars);",
          "content_same": false
        },
        {
          "line": 901,
          "old_api": "copyObject",
          "new_api": null,
          "old_text": "copyObject(rte->subquery)",
          "new_text": null,
          "old_line_content": "\tsubquery = copyObject(rte->subquery);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 910,
          "old_api": "makeNode",
          "new_api": null,
          "old_text": "makeNode(PlannerInfo)",
          "new_text": null,
          "old_line_content": "\tsubroot = makeNode(PlannerInfo);",
          "new_line_content": "\tsubroot->parse = subquery;",
          "content_same": false
        },
        {
          "line": 929,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(subroot->upper_targets, 0, sizeof(subroot->upper_targets))",
          "new_text": null,
          "old_line_content": "\tmemset(subroot->upper_targets, 0, sizeof(subroot->upper_targets));",
          "new_line_content": "\tsubroot->processed_tlist = NIL;",
          "content_same": false
        },
        {
          "line": 940,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(subquery->cteList == NIL)",
          "new_text": null,
          "old_line_content": "\tAssert(subquery->cteList == NIL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2992,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(root->parse->jointree, FromExpr)",
          "new_text": null,
          "old_line_content": "\tAssert(IsA(root->parse->jointree, FromExpr));",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 946,
          "old_api": "replace_empty_jointree",
          "new_api": null,
          "old_text": "replace_empty_jointree(subquery)",
          "new_text": null,
          "old_line_content": "\treplace_empty_jointree(subquery);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2995,
          "old_api": "remove_useless_results_recurse",
          "new_api": null,
          "old_text": "remove_useless_results_recurse(root, (Node *) root->parse->jointree)",
          "new_text": null,
          "old_line_content": "\t\tremove_useless_results_recurse(root, (Node *) root->parse->jointree);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2997,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(root->parse->jointree, FromExpr)",
          "new_text": null,
          "old_line_content": "\tAssert(IsA(root->parse->jointree, FromExpr));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 953,
          "old_api": "pull_up_sublinks",
          "new_api": null,
          "old_text": "pull_up_sublinks(subroot)",
          "new_text": null,
          "old_line_content": "\t\tpull_up_sublinks(subroot);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 959,
          "old_api": "preprocess_function_rtes",
          "new_api": null,
          "old_text": "preprocess_function_rtes(subroot)",
          "new_text": null,
          "old_line_content": "\tpreprocess_function_rtes(subroot);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3010,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(cell, root->rowMarks)",
          "new_text": null,
          "old_line_content": "\tforeach(cell, root->rowMarks)",
          "new_line_content": "\t * only one possible output row, there is no need for EPQ to mark and",
          "content_same": false
        },
        {
          "line": 3012,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(cell)",
          "new_text": null,
          "old_line_content": "\t\tPlanRowMark *rc = (PlanRowMark *) lfirst(cell);",
          "new_line_content": "\t *",
          "content_same": false
        },
        {
          "line": 3014,
          "old_api": "rt_fetch",
          "new_api": null,
          "old_text": "rt_fetch(rc->rti, root->parse->rtable)",
          "new_text": null,
          "old_line_content": "\t\tif (rt_fetch(rc->rti, root->parse->rtable)->rtekind == RTE_RESULT)",
          "new_line_content": "\t * RTE_RESULT RTE; otherwise we'll generate a whole-row Var for the",
          "content_same": false
        },
        {
          "line": 3015,
          "old_api": "foreach_delete_current",
          "new_api": null,
          "old_text": "foreach_delete_current(root->rowMarks, cell)",
          "new_text": null,
          "old_line_content": "\t\t\troot->rowMarks = foreach_delete_current(root->rowMarks, cell);",
          "new_line_content": "\t * RTE_RESULT, which the executor has no support for.",
          "content_same": false
        },
        {
          "line": 971,
          "old_api": "pull_up_subqueries",
          "new_api": null,
          "old_text": "pull_up_subqueries(subroot)",
          "new_text": null,
          "old_line_content": "\tpull_up_subqueries(subroot);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3028,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(jtnode != NULL)",
          "new_text": null,
          "old_line_content": "\tAssert(jtnode != NULL);",
          "new_line_content": " *\t\tRecursive guts of remove_useless_result_rtes.",
          "content_same": false
        },
        {
          "line": 3029,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(jtnode, RangeTblRef)",
          "new_text": null,
          "old_line_content": "\tif (IsA(jtnode, RangeTblRef))",
          "new_line_content": " *",
          "content_same": false
        },
        {
          "line": 982,
          "old_api": "is_safe_append_member",
          "new_api": null,
          "old_text": "is_safe_append_member(subquery)",
          "new_text": null,
          "old_line_content": "\t\t(containing_appendrel == NULL || is_safe_append_member(subquery)))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 3033,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(jtnode, FromExpr)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(jtnode, FromExpr))",
          "new_line_content": "remove_useless_results_recurse(PlannerInfo *root, Node *jtnode)",
          "content_same": false
        },
        {
          "line": 3048,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(cell, f->fromlist)",
          "new_text": null,
          "old_line_content": "\t\tforeach(cell, f->fromlist)",
          "new_line_content": "\t\t * one child remains, since joining to a one-row table changes",
          "content_same": false
        },
        {
          "line": 3050,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(cell)",
          "new_text": null,
          "old_line_content": "\t\t\tNode\t   *child = (Node *) lfirst(cell);",
          "new_line_content": "\t\t * are needed by some sibling.  The cleanup transformation below would",
          "content_same": false
        },
        {
          "line": 3054,
          "old_api": "remove_useless_results_recurse",
          "new_api": null,
          "old_text": "remove_useless_results_recurse(root, child)",
          "new_text": null,
          "old_line_content": "\t\t\tchild = remove_useless_results_recurse(root, child);",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 3056,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(cell)",
          "new_text": null,
          "old_line_content": "\t\t\tlfirst(cell) = child;",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 1009,
          "old_api": "flatten_join_alias_vars",
          "new_api": null,
          "old_text": "flatten_join_alias_vars(subroot->parse, (Node *) subquery->targetList)",
          "new_text": null,
          "old_line_content": "\t\tflatten_join_alias_vars(subroot->parse, (Node *) subquery->targetList);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3064,
          "old_api": "list_length",
          "new_api": null,
          "old_text": "list_length(f->fromlist)",
          "new_text": null,
          "old_line_content": "\t\t\tif (list_length(f->fromlist) > 1 &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3065,
          "old_api": "get_result_relid",
          "new_api": null,
          "old_text": "get_result_relid(root, child)",
          "new_text": null,
          "old_line_content": "\t\t\t\t(varno = get_result_relid(root, child)) != 0 &&",
          "new_line_content": "\t\t\t/*",
          "content_same": false
        },
        {
          "line": 3066,
          "old_api": "find_dependent_phvs_in_jointree",
          "new_api": null,
          "old_text": "find_dependent_phvs_in_jointree(root, (Node *) f, varno)",
          "new_text": null,
          "old_line_content": "\t\t\t\t!find_dependent_phvs_in_jointree(root, (Node *) f, varno))",
          "new_line_content": "\t\t\t * If it's an RTE_RESULT with at least one sibling, and no sibling",
          "content_same": false
        },
        {
          "line": 1018,
          "old_api": "OffsetVarNodes",
          "new_api": null,
          "old_text": "OffsetVarNodes((Node *) subroot->append_rel_list, rtoffset, 0)",
          "new_text": null,
          "old_line_content": "\tOffsetVarNodes((Node *) subroot->append_rel_list, rtoffset, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3068,
          "old_api": "foreach_delete_current",
          "new_api": null,
          "old_text": "foreach_delete_current(f->fromlist, cell)",
          "new_text": null,
          "old_line_content": "\t\t\t\tf->fromlist = foreach_delete_current(f->fromlist, cell);",
          "new_line_content": "\t\t\t * what the inner join's final relid set will be, so postpone",
          "content_same": false
        },
        {
          "line": 3069,
          "old_api": "bms_add_member",
          "new_api": null,
          "old_text": "bms_add_member(result_relids, varno)",
          "new_text": null,
          "old_line_content": "\t\t\t\tresult_relids = bms_add_member(result_relids, varno);",
          "new_line_content": "\t\t\t * cleanup of PHVs etc till after this loop.",
          "content_same": false
        },
        {
          "line": 1025,
          "old_api": "IncrementVarSublevelsUp",
          "new_api": null,
          "old_text": "IncrementVarSublevelsUp((Node *) subroot->append_rel_list, -1, 1)",
          "new_text": null,
          "old_line_content": "\tIncrementVarSublevelsUp((Node *) subroot->append_rel_list, -1, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3082,
          "old_api": "bms_next_member",
          "new_api": null,
          "old_text": "bms_next_member(result_relids, varno)",
          "new_text": null,
          "old_line_content": "\t\t\twhile ((varno = bms_next_member(result_relids, varno)) >= 0)",
          "new_line_content": "\t\t * inefficient if there's more than one, but it seems better to",
          "content_same": false
        },
        {
          "line": 3083,
          "old_api": "remove_result_refs",
          "new_api": null,
          "old_text": "remove_result_refs(root, varno, (Node *) f)",
          "new_text": null,
          "old_line_content": "\t\t\t\tremove_result_refs(root, varno, (Node *) f);",
          "new_line_content": "\t\t * optimize the support code for the single-relid case.",
          "content_same": false
        },
        {
          "line": 1036,
          "old_api": "get_relids_in_jointree",
          "new_api": null,
          "old_text": "get_relids_in_jointree((Node *) subquery->jointree,\n\t\t\t\t\t\t\t\t\t\t\t\t  true)",
          "new_text": null,
          "old_line_content": "\t\trvcontext.relids = get_relids_in_jointree((Node *) subquery->jointree,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t  true);",
          "content_same": false
        },
        {
          "line": 1046,
          "old_api": "list_length",
          "new_api": null,
          "old_text": "list_length(subquery->targetList)",
          "new_text": null,
          "old_line_content": "\trvcontext.rv_cache = palloc0((list_length(subquery->targetList) + 1) *",
          "new_line_content": "\t\t\t\t\t\t\t\t sizeof(Node *));",
          "content_same": false
        },
        {
          "line": 3094,
          "old_api": "list_length",
          "new_api": null,
          "old_text": "list_length(f->fromlist)",
          "new_text": null,
          "old_line_content": "\t\t\tlist_length(f->fromlist) == 1)",
          "new_line_content": "\t\t * If we're not at the top of the jointree, it's valid to simplify a",
          "content_same": false
        },
        {
          "line": 3095,
          "old_api": "linitial",
          "new_api": null,
          "old_text": "linitial(f->fromlist)",
          "new_text": null,
          "old_line_content": "\t\t\treturn (Node *) linitial(f->fromlist);",
          "new_line_content": "\t\t * degenerate FromExpr into its single child.  (At the top, we must",
          "content_same": false
        },
        {
          "line": 3097,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(jtnode, JoinExpr)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(jtnode, JoinExpr))",
          "new_line_content": "\t\t * FromExpr.)",
          "content_same": false
        },
        {
          "line": 3103,
          "old_api": "remove_useless_results_recurse",
          "new_api": null,
          "old_text": "remove_useless_results_recurse(root, j->larg)",
          "new_text": null,
          "old_line_content": "\t\tj->larg = remove_useless_results_recurse(root, j->larg);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3127,
          "old_api": "get_result_relid",
          "new_api": null,
          "old_text": "get_result_relid(root, j->larg)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif ((varno = get_result_relid(root, j->larg)) != 0 &&",
          "new_line_content": "\t\t\t\t * be evaluated at the RTE_RESULT rel, because we can't",
          "content_same": false
        },
        {
          "line": 3128,
          "old_api": "find_dependent_phvs_in_jointree",
          "new_api": null,
          "old_text": "find_dependent_phvs_in_jointree(root, j->rarg, varno)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t!find_dependent_phvs_in_jointree(root, j->rarg, varno))",
          "new_line_content": "\t\t\t\t * postpone their evaluation in that case.  But we only have",
          "content_same": false
        },
        {
          "line": 3130,
          "old_api": "remove_result_refs",
          "new_api": null,
          "old_text": "remove_result_refs(root, varno, j->rarg)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tremove_result_refs(root, varno, j->rarg);",
          "new_line_content": "\t\t\t\t * the other input to have a LATERAL reference to the",
          "content_same": false
        },
        {
          "line": 3133,
          "old_api": "list_make1",
          "new_api": null,
          "old_text": "list_make1(j->rarg)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tmakeFromExpr(list_make1(j->rarg), j->quals);",
          "new_line_content": "\t\t\t\t */",
          "content_same": false
        },
        {
          "line": 1089,
          "old_api": "perform_pullup_replace_vars",
          "new_api": null,
          "old_text": "perform_pullup_replace_vars(root, &rvcontext,\n\t\t\t\t\t\t\t\tlowest_nulling_outer_join,\n\t\t\t\t\t\t\t\tcontaining_appendrel)",
          "new_text": null,
          "old_line_content": "\tperform_pullup_replace_vars(root, &rvcontext,",
          "new_line_content": "\t\t\t\t\t\t\t\tlowest_nulling_outer_join,",
          "content_same": false
        },
        {
          "line": 3139,
          "old_api": "remove_result_refs",
          "new_api": null,
          "old_text": "remove_result_refs(root, varno, j->larg)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tremove_result_refs(root, varno, j->larg);",
          "new_line_content": "\t\t\t\t\t\tjtnode = (Node *)",
          "content_same": false
        },
        {
          "line": 3142,
          "old_api": "list_make1",
          "new_api": null,
          "old_text": "list_make1(j->larg)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tmakeFromExpr(list_make1(j->larg), j->quals);",
          "new_line_content": "\t\t\t\t\t\tjtnode = j->rarg;",
          "content_same": false
        },
        {
          "line": 1102,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(lc, subquery->rtable)",
          "new_text": null,
          "old_line_content": "\t\tforeach(lc, subquery->rtable)",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 1104,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(lc)",
          "new_text": null,
          "old_line_content": "\t\t\tRangeTblEntry *child_rte = (RangeTblEntry *) lfirst(lc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3167,
          "old_api": "get_result_relid",
          "new_api": null,
          "old_text": "get_result_relid(root, j->rarg)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif ((varno = get_result_relid(root, j->rarg)) != 0 &&",
          "new_line_content": "\t\t\t\t * Otherwise, it's still true that each LHS row should be",
          "content_same": false
        },
        {
          "line": 3169,
          "old_api": "find_dependent_phvs",
          "new_api": null,
          "old_text": "find_dependent_phvs(root, varno)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t !find_dependent_phvs(root, varno)))",
          "new_line_content": "\t\t\t\t * (unless there are PHVs that have to be evaluated there), we",
          "content_same": false
        },
        {
          "line": 3171,
          "old_api": "remove_result_refs",
          "new_api": null,
          "old_text": "remove_result_refs(root, varno, j->larg)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tremove_result_refs(root, varno, j->larg);",
          "new_line_content": "\t\t\t\t * case also, we can just ignore the qual and discard the left",
          "content_same": false
        },
        {
          "line": 3177,
          "old_api": "get_result_relid",
          "new_api": null,
          "old_text": "get_result_relid(root, j->larg)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif ((varno = get_result_relid(root, j->larg)) != 0 &&",
          "new_line_content": "\t\t\t\t{",
          "content_same": false
        },
        {
          "line": 3179,
          "old_api": "find_dependent_phvs",
          "new_api": null,
          "old_text": "find_dependent_phvs(root, varno)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t !find_dependent_phvs(root, varno)))",
          "new_line_content": "\t\t\t\t\tjtnode = j->larg;",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": "list_concat",
          "new_api": null,
          "old_text": "list_concat(parse->rtable, subquery->rtable)",
          "new_text": null,
          "old_line_content": "\tparse->rtable = list_concat(parse->rtable, subquery->rtable);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3181,
          "old_api": "remove_result_refs",
          "new_api": null,
          "old_text": "remove_result_refs(root, varno, j->rarg)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tremove_result_refs(root, varno, j->rarg);",
          "new_line_content": "\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": "list_concat",
          "new_api": null,
          "old_text": "list_concat(parse->rowMarks, subquery->rowMarks)",
          "new_text": null,
          "old_line_content": "\tparse->rowMarks = list_concat(parse->rowMarks, subquery->rowMarks);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3198,
          "old_api": "get_result_relid",
          "new_api": null,
          "old_text": "get_result_relid(root, j->rarg)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif ((varno = get_result_relid(root, j->rarg)) != 0)",
          "new_line_content": "\t\t\t\t * simplicity we inject the filter qual into a new FromExpr.",
          "content_same": false
        },
        {
          "line": 3200,
          "old_api": "find_dependent_phvs",
          "new_api": null,
          "old_text": "find_dependent_phvs(root, varno)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tAssert(!find_dependent_phvs(root, varno));",
          "new_line_content": "\t\t\t\t * Unlike the LEFT/RIGHT cases, we just Assert that there are",
          "content_same": false
        },
        {
          "line": 3201,
          "old_api": "remove_result_refs",
          "new_api": null,
          "old_text": "remove_result_refs(root, varno, j->larg)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tremove_result_refs(root, varno, j->larg);",
          "new_line_content": "\t\t\t\t * no PHVs that need to be evaluated at the semijoin's RHS,",
          "content_same": false
        },
        {
          "line": 3204,
          "old_api": "list_make1",
          "new_api": null,
          "old_text": "list_make1(j->larg)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tmakeFromExpr(list_make1(j->larg), j->quals);",
          "new_line_content": "\t\t\t\t */",
          "content_same": false
        },
        {
          "line": 1159,
          "old_api": "fix_append_rel_relids",
          "new_api": null,
          "old_text": "fix_append_rel_relids(root->append_rel_list, varno, subrelids)",
          "new_text": null,
          "old_line_content": "\t\tfix_append_rel_relids(root->append_rel_list, varno, subrelids);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1165,
          "old_api": "list_concat",
          "new_api": null,
          "old_text": "list_concat(root->append_rel_list,\n\t\t\t\t\t\t\t\t\t\tsubroot->append_rel_list)",
          "new_text": null,
          "old_line_content": "\troot->append_rel_list = list_concat(root->append_rel_list,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\tsubroot->append_rel_list);",
          "content_same": false
        },
        {
          "line": 3214,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"unrecognized join type: %d\",\n\t\t\t\t\t (int) j->jointype)",
          "new_text": null,
          "old_line_content": "\t\t\t\telog(ERROR, \"unrecognized join type: %d\",",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 3220,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"unrecognized node type: %d\",\n\t\t\t (int) nodeTag(jtnode))",
          "new_text": null,
          "old_line_content": "\t\telog(ERROR, \"unrecognized node type: %d\",",
          "new_line_content": "\t\t\tdefault:",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(subroot->placeholder_list == NIL)",
          "new_text": null,
          "old_line_content": "\tAssert(subroot->placeholder_list == NIL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3235,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(jtnode, RangeTblRef)",
          "new_text": null,
          "old_line_content": "\tif (!IsA(jtnode, RangeTblRef))",
          "new_line_content": " *\t\totherwise return 0.",
          "content_same": false
        },
        {
          "line": 3238,
          "old_api": "rt_fetch",
          "new_api": null,
          "old_text": "rt_fetch(varno, root->parse->rtable)",
          "new_text": null,
          "old_line_content": "\tif (rt_fetch(varno, root->parse->rtable)->rtekind != RTE_RESULT)",
          "new_line_content": "get_result_relid(PlannerInfo *root, Node *jtnode)",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(subquery->jointree, FromExpr)",
          "new_text": null,
          "old_line_content": "\tAssert(IsA(subquery->jointree, FromExpr));",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 1202,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(subquery->jointree->fromlist != NIL)",
          "new_text": null,
          "old_line_content": "\tAssert(subquery->jointree->fromlist != NIL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1204,
          "old_api": "list_length",
          "new_api": null,
          "old_text": "list_length(subquery->jointree->fromlist)",
          "new_text": null,
          "old_line_content": "\t\tlist_length(subquery->jointree->fromlist) == 1)",
          "new_line_content": "\t * Return the adjusted subquery jointree to replace the RangeTblRef entry",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": "linitial",
          "new_api": null,
          "old_text": "linitial(subquery->jointree->fromlist)",
          "new_text": null,
          "old_line_content": "\t\treturn (Node *) linitial(subquery->jointree->fromlist);",
          "new_line_content": "\t * in parent's jointree; or, if the FromExpr is degenerate, just return",
          "content_same": false
        },
        {
          "line": 3269,
          "old_api": "get_relids_in_jointree",
          "new_api": null,
          "old_text": "get_relids_in_jointree(newjtloc, false)",
          "new_text": null,
          "old_line_content": "\t\tsubrelids = get_relids_in_jointree(newjtloc, false);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3270,
          "old_api": "bms_is_empty",
          "new_api": null,
          "old_text": "bms_is_empty(subrelids)",
          "new_text": null,
          "old_line_content": "\t\tAssert(!bms_is_empty(subrelids));",
          "new_line_content": "\t/* Fix up PlaceHolderVars as needed */",
          "content_same": false
        },
        {
          "line": 3271,
          "old_api": "substitute_phv_relids",
          "new_api": null,
          "old_text": "substitute_phv_relids((Node *) root->parse, varno, subrelids)",
          "new_text": null,
          "old_line_content": "\t\tsubstitute_phv_relids((Node *) root->parse, varno, subrelids);",
          "new_line_content": "\t/* If there are no PHVs anywhere, we can skip this bit */",
          "content_same": false
        },
        {
          "line": 1224,
          "old_api": "list_length",
          "new_api": null,
          "old_text": "list_length(root->parse->rtable)",
          "new_text": null,
          "old_line_content": "\tint\t\t\trtoffset = list_length(root->parse->rtable);",
          "new_line_content": " * jtnode, since we don't actually need to change the query jointree.",
          "content_same": false
        },
        {
          "line": 3272,
          "old_api": "fix_append_rel_relids",
          "new_api": null,
          "old_text": "fix_append_rel_relids(root->append_rel_list, varno, subrelids)",
          "new_text": null,
          "old_line_content": "\t\tfix_append_rel_relids(root->append_rel_list, varno, subrelids);",
          "new_line_content": "\tif (root->glob->lastPHId != 0)",
          "content_same": false
        },
        {
          "line": 1232,
          "old_api": "copyObject",
          "new_api": null,
          "old_text": "copyObject(subquery->rtable)",
          "new_text": null,
          "old_line_content": "\trtable = copyObject(subquery->rtable);",
          "new_line_content": "\tList\t   *rtable;",
          "content_same": false
        },
        {
          "line": 1253,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(rt)",
          "new_text": null,
          "old_line_content": "\t\t\tRangeTblEntry *child_rte = (RangeTblEntry *) lfirst(rt);",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 1255,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(child_rte->rtekind == RTE_SUBQUERY)",
          "new_text": null,
          "old_line_content": "\t\t\tAssert(child_rte->rtekind == RTE_SUBQUERY);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 3305,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, PlaceHolderVar)",
          "new_text": null,
          "old_line_content": "\tif (IsA(node, PlaceHolderVar))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3310,
          "old_api": "bms_equal",
          "new_api": null,
          "old_text": "bms_equal(context->relids, phv->phrels)",
          "new_text": null,
          "old_line_content": "\t\t\tbms_equal(context->relids, phv->phrels))",
          "new_line_content": "\tif (node == NULL)",
          "content_same": false
        },
        {
          "line": 1263,
          "old_api": "list_concat",
          "new_api": null,
          "old_text": "list_concat(root->parse->rtable, rtable)",
          "new_text": null,
          "old_line_content": "\troot->parse->rtable = list_concat(root->parse->rtable, rtable);",
          "new_line_content": "\t\t\tchild_rte->lateral = true;",
          "content_same": false
        },
        {
          "line": 3314,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, Query)",
          "new_text": null,
          "old_line_content": "\tif (IsA(node, Query))",
          "new_line_content": "\t\tPlaceHolderVar *phv = (PlaceHolderVar *) node;",
          "content_same": false
        },
        {
          "line": 1271,
          "old_api": "pull_up_union_leaf_queries",
          "new_api": null,
          "old_text": "pull_up_union_leaf_queries(subquery->setOperations, root, varno, subquery,\n\t\t\t\t\t\t\t   rtoffset)",
          "new_text": null,
          "old_line_content": "\tpull_up_union_leaf_queries(subquery->setOperations, root, varno, subquery,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3320,
          "old_api": "query_tree_walker",
          "new_api": null,
          "old_text": "query_tree_walker((Query *) node,\n\t\t\t\t\t\t\t\t   find_dependent_phvs_walker,\n\t\t\t\t\t\t\t\t   (void *) context, 0)",
          "new_text": null,
          "old_line_content": "\t\tresult = query_tree_walker((Query *) node,",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3328,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, AppendRelInfo)",
          "new_text": null,
          "old_line_content": "\tAssert(!IsA(node, AppendRelInfo));",
          "new_line_content": "\t\t\t\t\t\t\t\t   find_dependent_phvs_walker,",
          "content_same": false
        },
        {
          "line": 3329,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, PlaceHolderInfo)",
          "new_text": null,
          "old_line_content": "\tAssert(!IsA(node, PlaceHolderInfo));",
          "new_line_content": "\t\t\t\t\t\t\t\t   (void *) context, 0);",
          "content_same": false
        },
        {
          "line": 3330,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, MinMaxAggInfo)",
          "new_text": null,
          "old_line_content": "\tAssert(!IsA(node, MinMaxAggInfo));",
          "new_line_content": "\t\tcontext->sublevels_up--;",
          "content_same": false
        },
        {
          "line": 3332,
          "old_api": "expression_tree_walker",
          "new_api": null,
          "old_text": "expression_tree_walker(node, find_dependent_phvs_walker,\n\t\t\t\t\t\t\t\t  (void *) context)",
          "new_text": null,
          "old_line_content": "\treturn expression_tree_walker(node, find_dependent_phvs_walker,",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3345,
          "old_api": "bms_make_singleton",
          "new_api": null,
          "old_text": "bms_make_singleton(varno)",
          "new_text": null,
          "old_line_content": "\tcontext.relids = bms_make_singleton(varno);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3348,
          "old_api": "query_tree_walker",
          "new_api": null,
          "old_text": "query_tree_walker(root->parse,\n\t\t\t\t\t\t\t find_dependent_phvs_walker,\n\t\t\t\t\t\t\t (void *) &context,\n\t\t\t\t\t\t\t 0)",
          "new_text": null,
          "old_line_content": "\treturn query_tree_walker(root->parse,",
          "new_line_content": "\t/* If there are no PHVs anywhere, we needn't work hard */",
          "content_same": false
        },
        {
          "line": 1304,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(setOp, RangeTblRef)",
          "new_text": null,
          "old_line_content": "\tif (IsA(setOp, RangeTblRef))",
          "new_line_content": " * from flatten_simple_union_all, childRToffset is 0 since the child RTEs",
          "content_same": false
        },
        {
          "line": 3365,
          "old_api": "bms_make_singleton",
          "new_api": null,
          "old_text": "bms_make_singleton(varno)",
          "new_text": null,
          "old_line_content": "\tcontext.relids = bms_make_singleton(varno);",
          "new_line_content": "\tRelids\t\tsubrelids;",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": "makeNode",
          "new_api": null,
          "old_text": "makeNode(AppendRelInfo)",
          "new_text": null,
          "old_line_content": "\t\tappinfo = makeNode(AppendRelInfo);",
          "new_line_content": "\t\t * Calculate the index in the parent's range table",
          "content_same": false
        },
        {
          "line": 1323,
          "old_api": "make_setop_translation_list",
          "new_api": null,
          "old_text": "make_setop_translation_list(setOpQuery, childRTindex, appinfo)",
          "new_text": null,
          "old_line_content": "\t\tmake_setop_translation_list(setOpQuery, childRTindex, appinfo);",
          "new_line_content": "\t\t * Build a suitable AppendRelInfo, and attach to parent's list.",
          "content_same": false
        },
        {
          "line": 3371,
          "old_api": "find_dependent_phvs_walker",
          "new_api": null,
          "old_text": "find_dependent_phvs_walker(node, &context)",
          "new_text": null,
          "old_line_content": "\tif (find_dependent_phvs_walker(node, &context))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3381,
          "old_api": "get_relids_in_jointree",
          "new_api": null,
          "old_text": "get_relids_in_jointree(node, false)",
          "new_text": null,
          "old_line_content": "\tsubrelids = get_relids_in_jointree(node, false);",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 3383,
          "old_api": "bms_next_member",
          "new_api": null,
          "old_text": "bms_next_member(subrelids, relid)",
          "new_text": null,
          "old_line_content": "\twhile ((relid = bms_next_member(subrelids, relid)) >= 0)",
          "new_line_content": "\t * since they should be flattened already, so their join alias lists no",
          "content_same": false
        },
        {
          "line": 1337,
          "old_api": "makeNode",
          "new_api": null,
          "old_text": "makeNode(RangeTblRef)",
          "new_text": null,
          "old_line_content": "\t\trtr = makeNode(RangeTblRef);",
          "new_line_content": "\t\t * Note that we can pass NULL for containing-join info even if we're",
          "content_same": false
        },
        {
          "line": 3385,
          "old_api": "rt_fetch",
          "new_api": null,
          "old_text": "rt_fetch(relid, root->parse->rtable)",
          "new_text": null,
          "old_line_content": "\t\tRangeTblEntry *rte = rt_fetch(relid, root->parse->rtable);",
          "new_line_content": "\t * are not marked LATERAL, though, since they couldn't possibly contain",
          "content_same": false
        },
        {
          "line": 1339,
          "old_api": "pull_up_subqueries_recurse",
          "new_api": null,
          "old_text": "pull_up_subqueries_recurse(root, (Node *) rtr,\n\t\t\t\t\t\t\t\t\t\t  NULL, NULL, appinfo)",
          "new_text": null,
          "old_line_content": "\t\t(void) pull_up_subqueries_recurse(root, (Node *) rtr,",
          "new_line_content": "\t\t * aren't going to propagate up to the join.  Also, we ignore the",
          "content_same": false
        },
        {
          "line": 1342,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(setOp, SetOperationStmt)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(setOp, SetOperationStmt))",
          "new_line_content": "\t\t * is that it replaced the child relid in the AppendRelInfo node.",
          "content_same": false
        },
        {
          "line": 1347,
          "old_api": "pull_up_union_leaf_queries",
          "new_api": null,
          "old_text": "pull_up_union_leaf_queries(op->larg, root, parentRTindex, setOpQuery,\n\t\t\t\t\t\t\t\t   childRToffset)",
          "new_text": null,
          "old_line_content": "\t\tpull_up_union_leaf_queries(op->larg, root, parentRTindex, setOpQuery,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t  NULL, NULL, appinfo);",
          "content_same": false
        },
        {
          "line": 1355,
          "old_api": "nodeTag",
          "new_api": null,
          "old_text": "nodeTag(setOp)",
          "new_text": null,
          "old_line_content": "\t\t\t (int) nodeTag(setOp));",
          "new_line_content": "\t\t\t\t\t\t\t\t   childRToffset);",
          "content_same": false
        },
        {
          "line": 3424,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, PlaceHolderVar)",
          "new_text": null,
          "old_line_content": "\tif (IsA(node, PlaceHolderVar))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1377,
          "old_api": "list_length",
          "new_api": null,
          "old_text": "list_length(query->targetList)",
          "new_text": null,
          "old_line_content": "\tappinfo->num_child_cols = list_length(query->targetList);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1379,
          "old_api": "palloc0",
          "new_api": null,
          "old_text": "palloc0(appinfo->num_child_cols * sizeof(AttrNumber))",
          "new_text": null,
          "old_line_content": "\t\t(AttrNumber *) palloc0(appinfo->num_child_cols * sizeof(AttrNumber));",
          "new_line_content": "\tAttrNumber *pcolnos;",
          "content_same": false
        },
        {
          "line": 1381,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(l, query->targetList)",
          "new_text": null,
          "old_line_content": "\tforeach(l, query->targetList)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3429,
          "old_api": "bms_is_member",
          "new_api": null,
          "old_text": "bms_is_member(context->varno, phv->phrels)",
          "new_text": null,
          "old_line_content": "\t\t\tbms_is_member(context->varno, phv->phrels))",
          "new_line_content": "\tif (node == NULL)",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(l)",
          "new_text": null,
          "old_line_content": "\t\tTargetEntry *tle = (TargetEntry *) lfirst(l);",
          "new_line_content": "\t/* (entries for resjunk columns will stay that way) */",
          "content_same": false
        },
        {
          "line": 3433,
          "old_api": "bms_del_member",
          "new_api": null,
          "old_text": "bms_del_member(phv->phrels,\n\t\t\t\t\t\t\t\t\t\t context->varno)",
          "new_text": null,
          "old_line_content": "\t\t\tphv->phrels = bms_del_member(phv->phrels,",
          "new_line_content": "\t\tPlaceHolderVar *phv = (PlaceHolderVar *) node;",
          "content_same": false
        },
        {
          "line": 3446,
          "old_api": "query_tree_walker",
          "new_api": null,
          "old_text": "query_tree_walker((Query *) node,\n\t\t\t\t\t\t\t\t   substitute_phv_relids_walker,\n\t\t\t\t\t\t\t\t   (void *) context, 0)",
          "new_text": null,
          "old_line_content": "\t\tresult = query_tree_walker((Query *) node,",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3454,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, AppendRelInfo)",
          "new_text": null,
          "old_line_content": "\tAssert(!IsA(node, AppendRelInfo));",
          "new_line_content": "\t\t\t\t\t\t\t\t   substitute_phv_relids_walker,",
          "content_same": false
        },
        {
          "line": 3455,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, PlaceHolderInfo)",
          "new_text": null,
          "old_line_content": "\tAssert(!IsA(node, PlaceHolderInfo));",
          "new_line_content": "\t\t\t\t\t\t\t\t   (void *) context, 0);",
          "content_same": false
        },
        {
          "line": 3456,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, MinMaxAggInfo)",
          "new_text": null,
          "old_line_content": "\tAssert(!IsA(node, MinMaxAggInfo));",
          "new_line_content": "\t\tcontext->sublevels_up--;",
          "content_same": false
        },
        {
          "line": 3458,
          "old_api": "expression_tree_walker",
          "new_api": null,
          "old_text": "expression_tree_walker(node, substitute_phv_relids_walker,\n\t\t\t\t\t\t\t\t  (void *) context)",
          "new_text": null,
          "old_line_content": "\treturn expression_tree_walker(node, substitute_phv_relids_walker,",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1412,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(subquery, Query)",
          "new_text": null,
          "old_line_content": "\tif (!IsA(subquery, Query) ||",
          "new_line_content": "static bool",
          "content_same": false
        },
        {
          "line": 1414,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"subquery is bogus\")",
          "new_text": null,
          "old_line_content": "\t\telog(ERROR, \"subquery is bogus\");",
          "new_line_content": "\t\t\t\t   JoinExpr *lowest_outer_join)",
          "content_same": false
        },
        {
          "line": 3474,
          "old_api": "query_or_expression_tree_walker",
          "new_api": null,
          "old_text": "query_or_expression_tree_walker(node,\n\t\t\t\t\t\t\t\t\tsubstitute_phv_relids_walker,\n\t\t\t\t\t\t\t\t\t(void *) &context,\n\t\t\t\t\t\t\t\t\t0)",
          "new_text": null,
          "old_line_content": "\tquery_or_expression_tree_walker(node,",
          "new_line_content": "\tcontext.varno = varno;",
          "content_same": false
        },
        {
          "line": 3504,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(l)",
          "new_text": null,
          "old_line_content": "\t\tAppendRelInfo *appinfo = (AppendRelInfo *) lfirst(l);",
          "new_line_content": "\t * We only want to extract the member relid once, but we mustn't fail",
          "content_same": false
        },
        {
          "line": 3507,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(appinfo->parent_relid != varno)",
          "new_text": null,
          "old_line_content": "\t\tAssert(appinfo->parent_relid != varno);",
          "new_line_content": "\t * bms_singleton_member will complain if set is not singleton.",
          "content_same": false
        },
        {
          "line": 3512,
          "old_api": "bms_singleton_member",
          "new_api": null,
          "old_text": "bms_singleton_member(subrelids)",
          "new_text": null,
          "old_line_content": "\t\t\t\tsubvarno = bms_singleton_member(subrelids);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3517,
          "old_api": "substitute_phv_relids",
          "new_api": null,
          "old_text": "substitute_phv_relids((Node *) appinfo->translated_vars,\n\t\t\t\t\t\t\t  varno, subrelids)",
          "new_text": null,
          "old_line_content": "\t\tsubstitute_phv_relids((Node *) appinfo->translated_vars,",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 1476,
          "old_api": "get_relids_in_jointree",
          "new_api": null,
          "old_text": "get_relids_in_jointree((Node *) lowest_outer_join,\n\t\t\t\t\t\t\t\t\t\t\t\t\t   true)",
          "new_text": null,
          "old_line_content": "\t\t\tsafe_upper_varnos = get_relids_in_jointree((Node *) lowest_outer_join,",
          "new_line_content": "\t\t * postpone quals from below an outer join to above it, which is",
          "content_same": false
        },
        {
          "line": 1485,
          "old_api": "jointree_contains_lateral_outer_refs",
          "new_api": null,
          "old_text": "jointree_contains_lateral_outer_refs(root,\n\t\t\t\t\t\t\t\t\t\t\t\t (Node *) subquery->jointree,\n\t\t\t\t\t\t\t\t\t\t\t\t restricted, safe_upper_varnos)",
          "new_text": null,
          "old_line_content": "\t\tif (jointree_contains_lateral_outer_refs(root,",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 3535,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(jtnode, RangeTblRef)",
          "new_text": null,
          "old_line_content": "\tif (IsA(jtnode, RangeTblRef))",
          "new_line_content": "Relids",
          "content_same": false
        },
        {
          "line": 3539,
          "old_api": "bms_make_singleton",
          "new_api": null,
          "old_text": "bms_make_singleton(varno)",
          "new_text": null,
          "old_line_content": "\t\tresult = bms_make_singleton(varno);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3541,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(jtnode, FromExpr)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(jtnode, FromExpr))",
          "new_line_content": "\t\treturn result;",
          "content_same": false
        },
        {
          "line": 3549,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(l)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t  get_relids_in_jointree(lfirst(l),",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 1505,
          "old_api": "pull_varnos_of_level",
          "new_api": null,
          "old_text": "pull_varnos_of_level(root,\n\t\t\t\t\t\t\t\t\t\t\t\t\t   (Node *) subquery->targetList,\n\t\t\t\t\t\t\t\t\t\t\t\t\t   1)",
          "new_text": null,
          "old_line_content": "\t\t\tRelids\t\tlvarnos = pull_varnos_of_level(root,",
          "new_line_content": "\t\t * that.  Also, maybe this restriction could be removed if we forced",
          "content_same": false
        },
        {
          "line": 1509,
          "old_api": "bms_is_subset",
          "new_api": null,
          "old_text": "bms_is_subset(lvarnos, safe_upper_varnos)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!bms_is_subset(lvarnos, safe_upper_varnos))",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 3557,
          "old_api": "get_relids_in_jointree",
          "new_api": null,
          "old_text": "get_relids_in_jointree(j->larg, include_joins)",
          "new_text": null,
          "old_line_content": "\t\tresult = get_relids_in_jointree(j->larg, include_joins);",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t\t include_joins));",
          "content_same": false
        },
        {
          "line": 3558,
          "old_api": "bms_join",
          "new_api": null,
          "old_text": "bms_join(result,\n\t\t\t\t\t\t  get_relids_in_jointree(j->rarg, include_joins))",
          "new_text": null,
          "old_line_content": "\t\tresult = bms_join(result,",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 3559,
          "old_api": "get_relids_in_jointree",
          "new_api": null,
          "old_text": "get_relids_in_jointree(j->rarg, include_joins)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  get_relids_in_jointree(j->rarg, include_joins));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3561,
          "old_api": "bms_add_member",
          "new_api": null,
          "old_text": "bms_add_member(result, j->rtindex)",
          "new_text": null,
          "old_line_content": "\t\t\tresult = bms_add_member(result, j->rtindex);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 1522,
          "old_api": "contain_volatile_functions",
          "new_api": null,
          "old_text": "contain_volatile_functions((Node *) subquery->targetList)",
          "new_text": null,
          "old_line_content": "\tif (contain_volatile_functions((Node *) subquery->targetList))",
          "new_line_content": "\t * Don't pull up a subquery that has any volatile functions in its",
          "content_same": false
        },
        {
          "line": 3577,
          "old_api": "find_jointree_node_for_rel",
          "new_api": null,
          "old_text": "find_jointree_node_for_rel((Node *) query->jointree,\n\t\t\t\t\t\t\t\t\t\tjoinrelid)",
          "new_text": null,
          "old_line_content": "\tjtnode = find_jointree_node_for_rel((Node *) query->jointree,",
          "new_line_content": " * get_relids_for_join: get set of base RT indexes making up a join",
          "content_same": false
        },
        {
          "line": 3580,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"could not find join node %d\", joinrelid)",
          "new_text": null,
          "old_line_content": "\t\telog(ERROR, \"could not find join node %d\", joinrelid);",
          "new_line_content": "get_relids_for_join(Query *query, int joinrelid)",
          "content_same": false
        },
        {
          "line": 3581,
          "old_api": "get_relids_in_jointree",
          "new_api": null,
          "old_text": "get_relids_in_jointree(jtnode, false)",
          "new_text": null,
          "old_line_content": "\treturn get_relids_in_jointree(jtnode, false);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3594,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(jtnode, RangeTblRef)",
          "new_text": null,
          "old_line_content": "\tif (IsA(jtnode, RangeTblRef))",
          "new_line_content": " * Returns NULL if not found",
          "content_same": false
        },
        {
          "line": 1553,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(rte->rtekind == RTE_VALUES)",
          "new_text": null,
          "old_line_content": "\tAssert(rte->rtekind == RTE_VALUES);",
          "new_line_content": "\tint\t\t\tvarno = ((RangeTblRef *) jtnode)->rtindex;",
          "content_same": false
        },
        {
          "line": 1554,
          "old_api": "list_length",
          "new_api": null,
          "old_text": "list_length(rte->values_lists)",
          "new_text": null,
          "old_line_content": "\tAssert(list_length(rte->values_lists) == 1);",
          "new_line_content": "\tList\t   *values_list;",
          "content_same": false
        },
        {
          "line": 3606,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(l, f->fromlist)",
          "new_text": null,
          "old_line_content": "\t\tforeach(l, f->fromlist)",
          "new_line_content": "\t\t\treturn jtnode;",
          "content_same": false
        },
        {
          "line": 1566,
          "old_api": "contain_vars_of_level",
          "new_api": null,
          "old_text": "contain_vars_of_level((Node *) values_list, 0)",
          "new_text": null,
          "old_line_content": "\tAssert(!contain_vars_of_level((Node *) values_list, 0));",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 3619,
          "old_api": "find_jointree_node_for_rel",
          "new_api": null,
          "old_text": "find_jointree_node_for_rel(j->larg, relid)",
          "new_text": null,
          "old_line_content": "\t\tjtnode = find_jointree_node_for_rel(j->larg, relid);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3622,
          "old_api": "find_jointree_node_for_rel",
          "new_api": null,
          "old_text": "find_jointree_node_for_rel(j->rarg, relid)",
          "new_text": null,
          "old_line_content": "\t\tjtnode = find_jointree_node_for_rel(j->rarg, relid);",
          "new_line_content": "\t\tJoinExpr   *j = (JoinExpr *) jtnode;",
          "content_same": false
        },
        {
          "line": 1576,
          "old_api": "lappend",
          "new_api": null,
          "old_text": "lappend(tlist,\n\t\t\t\t\t\tmakeTargetEntry((Expr *) lfirst(lc),\n\t\t\t\t\t\t\t\t\t\tattrno,\n\t\t\t\t\t\t\t\t\t\tNULL,\n\t\t\t\t\t\t\t\t\t\tfalse))",
          "new_text": null,
          "old_line_content": "\t\ttlist = lappend(tlist,",
          "new_line_content": "\t * Set up required context data for pullup_replace_vars.  In particular,",
          "content_same": false
        },
        {
          "line": 1577,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(lc)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\tmakeTargetEntry((Expr *) lfirst(lc),",
          "new_line_content": "\t * we have to make the VALUES list look like a subquery targetlist.",
          "content_same": false
        },
        {
          "line": 3627,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"unrecognized node type: %d\",\n\t\t\t (int) nodeTag(jtnode))",
          "new_text": null,
          "old_line_content": "\t\telog(ERROR, \"unrecognized node type: %d\",",
          "new_line_content": "\t\tif (jtnode)",
          "content_same": false
        },
        {
          "line": 3628,
          "old_api": "nodeTag",
          "new_api": null,
          "old_text": "nodeTag(jtnode)",
          "new_text": null,
          "old_line_content": "\t\t\t (int) nodeTag(jtnode));",
          "new_line_content": "\t\t\treturn jtnode;",
          "content_same": false
        },
        {
          "line": 1592,
          "old_api": "list_length",
          "new_api": null,
          "old_text": "list_length(tlist)",
          "new_text": null,
          "old_line_content": "\trvcontext.rv_cache = palloc0((list_length(tlist) + 1) *",
          "new_line_content": "\trvcontext.target_rte = rte;",
          "content_same": false
        },
        {
          "line": 1601,
          "old_api": "perform_pullup_replace_vars",
          "new_api": null,
          "old_text": "perform_pullup_replace_vars(root, &rvcontext, NULL, NULL)",
          "new_text": null,
          "old_line_content": "\tperform_pullup_replace_vars(root, &rvcontext, NULL, NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1607,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(root->append_rel_list == NIL)",
          "new_text": null,
          "old_line_content": "\tAssert(root->append_rel_list == NIL);",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 1609,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(root->placeholder_list == NIL)",
          "new_text": null,
          "old_line_content": "\tAssert(root->placeholder_list == NIL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1618,
          "old_api": "makeNode",
          "new_api": null,
          "old_text": "makeNode(RangeTblEntry)",
          "new_text": null,
          "old_line_content": "\trte = makeNode(RangeTblEntry);",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 1620,
          "old_api": "makeAlias",
          "new_api": null,
          "old_text": "makeAlias(\"*RESULT*\", NIL)",
          "new_text": null,
          "old_line_content": "\trte->eref = makeAlias(\"*RESULT*\", NIL);",
          "new_line_content": "\t * rtable entry in the current query level, so this is easy.",
          "content_same": false
        },
        {
          "line": 1623,
          "old_api": "list_make1",
          "new_api": null,
          "old_text": "list_make1(rte)",
          "new_text": null,
          "old_line_content": "\tparse->rtable = list_make1(rte);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1626,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(varno == 1)",
          "new_text": null,
          "old_line_content": "\tAssert(varno == 1);",
          "new_line_content": "\trte->rtekind = RTE_RESULT;",
          "content_same": false
        },
        {
          "line": 1641,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(rte->rtekind == RTE_VALUES)",
          "new_text": null,
          "old_line_content": "\tAssert(rte->rtekind == RTE_VALUES);",
          "new_line_content": " *\t  to pull up into the parent query.",
          "content_same": false
        },
        {
          "line": 1662,
          "old_api": "expression_returns_set",
          "new_api": null,
          "old_text": "expression_returns_set((Node *) rte->values_lists)",
          "new_text": null,
          "old_line_content": "\tif (expression_returns_set((Node *) rte->values_lists) ||",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 1663,
          "old_api": "contain_volatile_functions",
          "new_api": null,
          "old_text": "contain_volatile_functions((Node *) rte->values_lists)",
          "new_text": null,
          "old_line_content": "\t\tcontain_volatile_functions((Node *) rte->values_lists))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1672,
          "old_api": "list_length",
          "new_api": null,
          "old_text": "list_length(root->parse->rtable)",
          "new_text": null,
          "old_line_content": "\tif (list_length(root->parse->rtable) != 1 ||",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1673,
          "old_api": "linitial",
          "new_api": null,
          "old_text": "linitial(root->parse->rtable)",
          "new_text": null,
          "old_line_content": "\t\trte != (RangeTblEntry *) linitial(root->parse->rtable))",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 1715,
          "old_api": "list_length",
          "new_api": null,
          "old_text": "list_length(rte->functions)",
          "new_text": null,
          "old_line_content": "\tif (list_length(rte->functions) != 1)",
          "new_line_content": "\tpullup_replace_vars_context rvcontext;",
          "content_same": false
        },
        {
          "line": 1717,
          "old_api": "linitial_node",
          "new_api": null,
          "old_text": "linitial_node(RangeTblFunction, rte->functions)",
          "new_text": null,
          "old_line_content": "\trtf = linitial_node(RangeTblFunction, rte->functions);",
          "new_line_content": "\t/* Fail if the RTE has ORDINALITY - we don't implement that here. */",
          "content_same": false
        },
        {
          "line": 1718,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(rtf->funcexpr, Const)",
          "new_text": null,
          "old_line_content": "\tif (!IsA(rtf->funcexpr, Const))",
          "new_line_content": "\tif (rte->funcordinality)",
          "content_same": false
        },
        {
          "line": 1729,
          "old_api": "get_expr_result_type",
          "new_api": null,
          "old_text": "get_expr_result_type(rtf->funcexpr,\n\t\t\t\t\t\t\t\t\t\t&funcrettype,\n\t\t\t\t\t\t\t\t\t\t&tupdesc)",
          "new_text": null,
          "old_line_content": "\tfunctypclass = get_expr_result_type(rtf->funcexpr,",
          "new_line_content": "\t * If the function's result is not a scalar, we punt.  In principle we",
          "content_same": false
        },
        {
          "line": 1737,
          "old_api": "makeTargetEntry",
          "new_api": null,
          "old_text": "makeTargetEntry((Expr *) rtf->funcexpr,\n\t\t\t\t\t\t\t\t\t\t\t\t\t  1,\t/* resno */\n\t\t\t\t\t\t\t\t\t\t\t\t\t  NULL, /* resname */\n\t\t\t\t\t\t\t\t\t\t\t\t\t  false)",
          "new_text": null,
          "old_line_content": "\trvcontext.targetlist = list_make1(makeTargetEntry((Expr *) rtf->funcexpr,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t&funcrettype,",
          "content_same": false
        },
        {
          "line": 1756,
          "old_api": "list_length",
          "new_api": null,
          "old_text": "list_length(rvcontext.targetlist)",
          "new_text": null,
          "old_line_content": "\trvcontext.rv_cache = palloc0((list_length(rvcontext.targetlist) + 1) *",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1792,
          "old_api": "perform_pullup_replace_vars",
          "new_api": null,
          "old_text": "perform_pullup_replace_vars(root, &rvcontext,\n\t\t\t\t\t\t\t\tlowest_nulling_outer_join,\n\t\t\t\t\t\t\t\tcontaining_appendrel)",
          "new_text": null,
          "old_line_content": "\tperform_pullup_replace_vars(root, &rvcontext,",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1829,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(subquery, Query)",
          "new_text": null,
          "old_line_content": "\tif (!IsA(subquery, Query) ||",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 1831,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"subquery is bogus\")",
          "new_text": null,
          "old_line_content": "\t\telog(ERROR, \"subquery is bogus\");",
          "new_line_content": "is_simple_union_all(Query *subquery)",
          "content_same": false
        },
        {
          "line": 1834,
          "old_api": "castNode",
          "new_api": null,
          "old_text": "castNode(SetOperationStmt, subquery->setOperations)",
          "new_text": null,
          "old_line_content": "\ttopop = castNode(SetOperationStmt, subquery->setOperations);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1847,
          "old_api": "is_simple_union_all_recurse",
          "new_api": null,
          "old_text": "is_simple_union_all_recurse((Node *) topop, subquery,\n\t\t\t\t\t\t\t\t\t   topop->colTypes)",
          "new_text": null,
          "old_line_content": "\treturn is_simple_union_all_recurse((Node *) topop, subquery,",
          "new_line_content": "\t\tsubquery->limitOffset ||",
          "content_same": false
        },
        {
          "line": 1857,
          "old_api": "rt_fetch",
          "new_api": null,
          "old_text": "rt_fetch(rtr->rtindex, setOpQuery->rtable)",
          "new_text": null,
          "old_line_content": "\t\tRangeTblEntry *rte = rt_fetch(rtr->rtindex, setOpQuery->rtable);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1860,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(subquery != NULL)",
          "new_text": null,
          "old_line_content": "\t\tAssert(subquery != NULL);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1866,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(setOp, SetOperationStmt)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(setOp, SetOperationStmt))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1875,
          "old_api": "is_simple_union_all_recurse",
          "new_api": null,
          "old_text": "is_simple_union_all_recurse(op->larg, setOpQuery, colTypes)",
          "new_text": null,
          "old_line_content": "\t\treturn is_simple_union_all_recurse(op->larg, setOpQuery, colTypes) &&",
          "new_line_content": "\t\tSetOperationStmt *op = (SetOperationStmt *) setOp;",
          "content_same": false
        },
        {
          "line": 1876,
          "old_api": "is_simple_union_all_recurse",
          "new_api": null,
          "old_text": "is_simple_union_all_recurse(op->rarg, setOpQuery, colTypes)",
          "new_text": null,
          "old_line_content": "\t\t\tis_simple_union_all_recurse(op->rarg, setOpQuery, colTypes);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1880,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"unrecognized node type: %d\",\n\t\t\t (int) nodeTag(setOp))",
          "new_text": null,
          "old_line_content": "\t\telog(ERROR, \"unrecognized node type: %d\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1881,
          "old_api": "nodeTag",
          "new_api": null,
          "old_text": "nodeTag(setOp)",
          "new_text": null,
          "old_line_content": "\t\t\t (int) nodeTag(setOp));",
          "new_line_content": "\t\t/* Recurse to check inputs */",
          "content_same": false
        },
        {
          "line": 1910,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(jtnode, FromExpr)",
          "new_text": null,
          "old_line_content": "\tAssert(IsA(jtnode, FromExpr));",
          "new_line_content": "\t * Also, the child can't have any WHERE quals because there's no place to",
          "content_same": false
        },
        {
          "line": 1915,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(jtnode, FromExpr)",
          "new_text": null,
          "old_line_content": "\twhile (IsA(jtnode, FromExpr))",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 1919,
          "old_api": "list_length",
          "new_api": null,
          "old_text": "list_length(jtnode->fromlist)",
          "new_text": null,
          "old_line_content": "\t\tif (list_length(jtnode->fromlist) != 1)",
          "new_line_content": "\tif (jtnode->fromlist == NIL && jtnode->quals == NULL)",
          "content_same": false
        },
        {
          "line": 1921,
          "old_api": "linitial",
          "new_api": null,
          "old_text": "linitial(jtnode->fromlist)",
          "new_text": null,
          "old_line_content": "\t\tjtnode = linitial(jtnode->fromlist);",
          "new_line_content": "\t/* Check the more general case */",
          "content_same": false
        },
        {
          "line": 1923,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(jtnode, RangeTblRef)",
          "new_text": null,
          "old_line_content": "\tif (!IsA(jtnode, RangeTblRef))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 1946,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(jtnode, RangeTblRef)",
          "new_text": null,
          "old_line_content": "\tif (IsA(jtnode, RangeTblRef))",
          "new_line_content": "static bool",
          "content_same": false
        },
        {
          "line": 1948,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(jtnode, FromExpr)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(jtnode, FromExpr))",
          "new_line_content": "\t\t\t\t\t\t\t\t\t bool restricted,",
          "content_same": false
        },
        {
          "line": 1954,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(l, f->fromlist)",
          "new_text": null,
          "old_line_content": "\t\tforeach(l, f->fromlist)",
          "new_line_content": "\t\treturn false;",
          "content_same": false
        },
        {
          "line": 1956,
          "old_api": "jointree_contains_lateral_outer_refs",
          "new_api": null,
          "old_text": "jointree_contains_lateral_outer_refs(root,\n\t\t\t\t\t\t\t\t\t\t\t\t\t lfirst(l),\n\t\t\t\t\t\t\t\t\t\t\t\t\t restricted,\n\t\t\t\t\t\t\t\t\t\t\t\t\t safe_upper_varnos)",
          "new_text": null,
          "old_line_content": "\t\t\tif (jointree_contains_lateral_outer_refs(root,",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 1957,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(l)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t\t lfirst(l),",
          "new_line_content": "\t\tFromExpr   *f = (FromExpr *) jtnode;",
          "content_same": false
        },
        {
          "line": 1965,
          "old_api": "pull_varnos_of_level",
          "new_api": null,
          "old_text": "pull_varnos_of_level(root, f->quals, 1)",
          "new_text": null,
          "old_line_content": "\t\t\t!bms_is_subset(pull_varnos_of_level(root, f->quals, 1),",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t\t restricted,",
          "content_same": false
        },
        {
          "line": 1969,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(jtnode, JoinExpr)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(jtnode, JoinExpr))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1984,
          "old_api": "jointree_contains_lateral_outer_refs",
          "new_api": null,
          "old_text": "jointree_contains_lateral_outer_refs(root,\n\t\t\t\t\t\t\t\t\t\t\t\t j->larg,\n\t\t\t\t\t\t\t\t\t\t\t\t restricted,\n\t\t\t\t\t\t\t\t\t\t\t\t safe_upper_varnos)",
          "new_text": null,
          "old_line_content": "\t\tif (jointree_contains_lateral_outer_refs(root,",
          "new_line_content": "\t\tif (j->jointype != JOIN_INNER)",
          "content_same": false
        },
        {
          "line": 1989,
          "old_api": "jointree_contains_lateral_outer_refs",
          "new_api": null,
          "old_text": "jointree_contains_lateral_outer_refs(root,\n\t\t\t\t\t\t\t\t\t\t\t\t j->rarg,\n\t\t\t\t\t\t\t\t\t\t\t\t restricted,\n\t\t\t\t\t\t\t\t\t\t\t\t safe_upper_varnos)",
          "new_text": null,
          "old_line_content": "\t\tif (jointree_contains_lateral_outer_refs(root,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1997,
          "old_api": "pull_varnos_of_level",
          "new_api": null,
          "old_text": "pull_varnos_of_level(root, j->quals, 1)",
          "new_text": null,
          "old_line_content": "\t\t\t!bms_is_subset(pull_varnos_of_level(root, j->quals, 1),",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t j->rarg,",
          "content_same": false
        },
        {
          "line": 2002,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"unrecognized node type: %d\",\n\t\t\t (int) nodeTag(jtnode))",
          "new_text": null,
          "old_line_content": "\t\telog(ERROR, \"unrecognized node type: %d\",",
          "new_line_content": "\t\t/* Check the JOIN's qual clauses */",
          "content_same": false
        },
        {
          "line": 2003,
          "old_api": "nodeTag",
          "new_api": null,
          "old_text": "nodeTag(jtnode)",
          "new_text": null,
          "old_line_content": "\t\t\t (int) nodeTag(jtnode));",
          "new_line_content": "\t\tif (restricted &&",
          "content_same": false
        },
        {
          "line": 2034,
          "old_api": "pullup_replace_vars",
          "new_api": null,
          "old_text": "pullup_replace_vars((Node *) parse->targetList, rvcontext)",
          "new_text": null,
          "old_line_content": "\t\tpullup_replace_vars((Node *) parse->targetList, rvcontext);",
          "new_line_content": "\t * replace any of the jointree structure.  (This'd be a lot cleaner if we",
          "content_same": false
        },
        {
          "line": 2036,
          "old_api": "pullup_replace_vars",
          "new_api": null,
          "old_text": "pullup_replace_vars((Node *) parse->returningList, rvcontext)",
          "new_text": null,
          "old_line_content": "\t\tpullup_replace_vars((Node *) parse->returningList, rvcontext);",
          "new_line_content": "\t * returningList, and havingQual, since those are certainly above any",
          "content_same": false
        },
        {
          "line": 2040,
          "old_api": "pullup_replace_vars",
          "new_api": null,
          "old_text": "pullup_replace_vars((Node *) parse->onConflict->onConflictSet,\n\t\t\t\t\t\t\t\trvcontext)",
          "new_text": null,
          "old_line_content": "\t\t\tpullup_replace_vars((Node *) parse->onConflict->onConflictSet,",
          "new_line_content": "\tparse->targetList = (List *)",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 50,
      "total_additions": 313,
      "total_deletions": 313,
      "total_api_changes": 676
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 12,
        "api_related_lines": 676,
        "non_api_lines": 12,
        "non_api_line_numbers": [
          896,
          897,
          898,
          899,
          1176,
          1177,
          1178,
          1179,
          1180,
          1181,
          1182,
          1183
        ]
      }
    },
    "api_calls_before": 517,
    "api_calls_after": 517,
    "diff_info": {
      "added_lines": 11,
      "removed_lines": 4,
      "total_diff_lines": 34
    }
  }
}