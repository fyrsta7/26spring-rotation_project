{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/b56fb691b0033f9b86e0552bd5adfd485f05eef6",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/b56fb691b0033f9b86e0552bd5adfd485f05eef6/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/b56fb691b0033f9b86e0552bd5adfd485f05eef6/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/b56fb691b0033f9b86e0552bd5adfd485f05eef6/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1055,
          "old_api": "ltsReadBlock",
          "new_api": "ltsRecallPrevBlockNum",
          "old_text": "ltsReadBlock(lts, datablocknum, (void *) lt->buffer)",
          "new_text": "ltsRecallPrevBlockNum(lts, lt->indirect)",
          "old_line_content": "\t\t\tltsReadBlock(lts, datablocknum, (void *) lt->buffer);",
          "new_line_content": "\t\tlong\t\tdatablocknum = ltsRecallPrevBlockNum(lts, lt->indirect);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1026,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(tapenum >= 0 && tapenum < lts->nTapes)",
          "old_line_content": "",
          "new_line_content": "\tAssert(tapenum >= 0 && tapenum < lts->nTapes);",
          "content_same": false
        },
        {
          "line": 1028,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(lt->frozen)",
          "old_line_content": "\t * Easy case for seek within current block.",
          "new_line_content": "\tAssert(lt->frozen);",
          "content_same": false
        },
        {
          "line": 1029,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(offset >= 0 && offset <= BLCKSZ)",
          "old_line_content": "\t */",
          "new_line_content": "\tAssert(offset >= 0 && offset <= BLCKSZ);",
          "content_same": false
        },
        {
          "line": 1030,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(lt->buffer_size == BLCKSZ)",
          "old_line_content": "\tif (blocknum == lt->curBlockNumber && offset <= lt->nbytes)",
          "new_line_content": "\tAssert(lt->buffer_size == BLCKSZ);",
          "content_same": false
        },
        {
          "line": 900,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(tapenum >= 0 && tapenum < lts->nTapes)",
          "old_line_content": "\t * Completion of a write phase.  Flush last partial data block, flush any",
          "new_line_content": "\tAssert(tapenum >= 0 && tapenum < lts->nTapes);",
          "content_same": false
        },
        {
          "line": 902,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(lt->writing)",
          "old_line_content": "\t */",
          "new_line_content": "\tAssert(lt->writing);",
          "content_same": false
        },
        {
          "line": 909,
          "old_api": null,
          "new_api": "ltsDumpBuffer",
          "old_text": null,
          "new_text": "ltsDumpBuffer(lts, lt)",
          "old_line_content": "",
          "new_line_content": "\t\tltsDumpBuffer(lts, lt);",
          "content_same": false
        },
        {
          "line": 913,
          "old_api": null,
          "new_api": "ltsRewindIndirectBlock",
          "old_text": null,
          "new_text": "ltsRewindIndirectBlock(lts, lt->indirect, true)",
          "old_line_content": "\t * read pattern of the backing file look more sequential to the OS, when",
          "new_line_content": "\tdatablocknum = ltsRewindIndirectBlock(lts, lt->indirect, true);",
          "content_same": false
        },
        {
          "line": 788,
          "old_api": null,
          "new_api": "palloc",
          "old_text": null,
          "new_text": "palloc(lt->read_buffer_size)",
          "old_line_content": "\t\tlt->curBlockNumber = 0L;",
          "new_line_content": "\t\t\tlt->buffer = palloc(lt->read_buffer_size);",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": null,
          "new_api": "ltsReadFillBuffer",
          "old_text": null,
          "new_text": "ltsReadFillBuffer(lts, lt, datablocknum)",
          "old_line_content": "\t\t * Completion of a read phase.  Rewind and prepare for write.",
          "new_line_content": "\t\t\tltsReadFillBuffer(lts, lt, datablocknum);",
          "content_same": false
        },
        {
          "line": 925,
          "old_api": null,
          "new_api": "pfree",
          "old_text": null,
          "new_text": "pfree(lt->buffer)",
          "old_line_content": "\t/* Read the first block, or reset if tape is empty */",
          "new_line_content": "\t\t\tpfree(lt->buffer);",
          "content_same": false
        },
        {
          "line": 926,
          "old_api": null,
          "new_api": "palloc",
          "old_text": null,
          "new_text": "palloc(BLCKSZ)",
          "old_line_content": "\tlt->curBlockNumber = 0L;",
          "new_line_content": "\t\tlt->buffer = palloc(BLCKSZ);",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"unexpected end of tape\")",
          "old_line_content": "\t{",
          "new_line_content": "\t\t\telog(ERROR, \"unexpected end of tape\");",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": null,
          "new_api": "ltsReadBlock",
          "old_text": null,
          "new_text": "ltsReadBlock(lts, datablocknum, (void *) lt->buffer)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t\t\t lt->frozen);",
          "new_line_content": "\t\t\tltsReadBlock(lts, datablocknum, (void *) lt->buffer);",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": null,
          "new_api": "ltsRecallNextBlockNum",
          "old_text": null,
          "new_text": "ltsRecallNextBlockNum(lts, lt->indirect,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t lt->frozen)",
          "old_line_content": "\t\tif (++lt->curBlockNumber == blocknum)",
          "new_line_content": "\t\tlong\t\tdatablocknum = ltsRecallNextBlockNum(lts, lt->indirect,",
          "content_same": false
        },
        {
          "line": 936,
          "old_api": null,
          "new_api": "ltsReadBlock",
          "old_text": null,
          "new_text": "ltsReadBlock(lts, datablocknum, (void *) lt->buffer)",
          "old_line_content": "",
          "new_line_content": "\t\tltsReadBlock(lts, datablocknum, (void *) lt->buffer);",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"unexpected end of tape\")",
          "old_line_content": "\t\tBLCKSZ : lt->lastBlockBytes;",
          "new_line_content": "\t\t\telog(ERROR, \"unexpected end of tape\");",
          "content_same": false
        },
        {
          "line": 812,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(!lt->writing && !lt->frozen)",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\tAssert(!lt->writing && !lt->frozen);",
          "content_same": false
        },
        {
          "line": 1070,
          "old_api": null,
          "new_api": "ltsReadBlock",
          "old_text": null,
          "new_text": "ltsReadBlock(lts, datablocknum, (void *) lt->buffer)",
          "old_line_content": "\treturn true;",
          "new_line_content": "\t\t\tltsReadBlock(lts, datablocknum, (void *) lt->buffer);",
          "content_same": false
        },
        {
          "line": 819,
          "old_api": null,
          "new_api": "pfree",
          "old_text": null,
          "new_text": "pfree(ib)",
          "old_line_content": "\t\tlt->writing = true;",
          "new_line_content": "\t\t\t\tpfree(ib);",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(tapenum >= 0 && tapenum < lts->nTapes)",
          "old_line_content": "\t/*",
          "new_line_content": "\tAssert(tapenum >= 0 && tapenum < lts->nTapes);",
          "content_same": false
        },
        {
          "line": 1090,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(tapenum >= 0 && tapenum < lts->nTapes)",
          "old_line_content": "",
          "new_line_content": "\tAssert(tapenum >= 0 && tapenum < lts->nTapes);",
          "content_same": false
        },
        {
          "line": 834,
          "old_api": null,
          "new_api": "pfree",
          "old_text": null,
          "new_text": "pfree(lt->buffer)",
          "old_line_content": "}",
          "new_line_content": "\t\t\tpfree(lt->buffer);",
          "content_same": false
        },
        {
          "line": 962,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(lt->frozen)",
          "old_line_content": "\t */",
          "new_line_content": "\tAssert(lt->frozen);",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(lt->buffer_size == BLCKSZ)",
          "old_line_content": "\tif (size <= (size_t) lt->pos)",
          "new_line_content": "\tAssert(lt->buffer_size == BLCKSZ);",
          "content_same": false
        },
        {
          "line": 1094,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(lt->buffer_size == BLCKSZ)",
          "old_line_content": "",
          "new_line_content": "\tAssert(lt->buffer_size == BLCKSZ);",
          "content_same": false
        },
        {
          "line": 854,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(tapenum >= 0 && tapenum < lts->nTapes)",
          "old_line_content": "\t{",
          "new_line_content": "\tAssert(tapenum >= 0 && tapenum < lts->nTapes);",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(!lt->writing)",
          "old_line_content": "\t\t{",
          "new_line_content": "\tAssert(!lt->writing);",
          "content_same": false
        },
        {
          "line": 1117,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(tapenum >= 0 && tapenum < lts->nTapes)",
          "old_line_content": "\t * given value down to nearest BLCKSZ.  Make sure we have at least one",
          "new_line_content": "\tAssert(tapenum >= 0 && tapenum < lts->nTapes);",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": null,
          "new_api": "ltsReadFillBuffer",
          "old_text": null,
          "new_text": "ltsReadFillBuffer(lts, lt, -1)",
          "old_line_content": "\t\tif (nthistime > size)",
          "new_line_content": "\t\t\tif (!ltsReadFillBuffer(lts, lt, -1))",
          "content_same": false
        },
        {
          "line": 997,
          "old_api": null,
          "new_api": "ltsRecallPrevBlockNum",
          "old_text": null,
          "new_text": "ltsRecallPrevBlockNum(lts, lt->indirect)",
          "old_line_content": "\t\tif (nblocks == 0)",
          "new_line_content": "\t\tlong\t\tdatablocknum = ltsRecallPrevBlockNum(lts, lt->indirect);",
          "content_same": false
        },
        {
          "line": 870,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(nthistime > 0)",
          "old_line_content": "\t\tptr = (void *) ((char *) ptr + nthistime);",
          "new_line_content": "\t\tAssert(nthistime > 0);",
          "content_same": false
        },
        {
          "line": 872,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(ptr, lt->buffer + lt->pos, nthistime)",
          "old_line_content": "\t\tnread += nthistime;",
          "new_line_content": "\t\tmemcpy(ptr, lt->buffer + lt->pos, nthistime);",
          "content_same": false
        },
        {
          "line": 1000,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"unexpected end of tape\")",
          "old_line_content": "\t\t\tlt->nbytes = BLCKSZ;",
          "new_line_content": "\t\t\telog(ERROR, \"unexpected end of tape\");",
          "content_same": false
        },
        {
          "line": 1004,
          "old_api": null,
          "new_api": "ltsReadBlock",
          "old_text": null,
          "new_text": "ltsReadBlock(lts, datablocknum, (void *) lt->buffer)",
          "old_line_content": "\treturn true;",
          "new_line_content": "\t\t\tltsReadBlock(lts, datablocknum, (void *) lt->buffer);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1024,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(offset >= 0 && offset <= BLCKSZ)",
          "new_text": null,
          "old_line_content": "\tAssert(offset >= 0 && offset <= BLCKSZ);",
          "new_line_content": "\tLogicalTape *lt;",
          "content_same": false
        },
        {
          "line": 1025,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(lt->buffer_size == BLCKSZ)",
          "new_text": null,
          "old_line_content": "\tAssert(lt->buffer_size == BLCKSZ);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 897,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(lt->writing)",
          "new_text": null,
          "old_line_content": "\tAssert(lt->writing);",
          "new_line_content": "\tLogicalTape *lt;",
          "content_same": false
        },
        {
          "line": 904,
          "old_api": "ltsDumpBuffer",
          "new_api": null,
          "old_text": "ltsDumpBuffer(lts, lt)",
          "new_text": null,
          "old_line_content": "\t\tltsDumpBuffer(lts, lt);",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 908,
          "old_api": "ltsRewindIndirectBlock",
          "new_api": null,
          "old_text": "ltsRewindIndirectBlock(lts, lt->indirect, true)",
          "new_text": null,
          "old_line_content": "\tdatablocknum = ltsRewindIndirectBlock(lts, lt->indirect, true);",
          "new_line_content": "\tif (lt->dirty)",
          "content_same": false
        },
        {
          "line": 784,
          "old_api": "palloc",
          "new_api": null,
          "old_text": "palloc(lt->read_buffer_size)",
          "new_text": null,
          "old_line_content": "\t\tlt->buffer = palloc(lt->read_buffer_size);",
          "new_line_content": "\t\tlt->buffer = NULL;",
          "content_same": false
        },
        {
          "line": 792,
          "old_api": "ltsReadFillBuffer",
          "new_api": null,
          "old_text": "ltsReadFillBuffer(lts, lt, datablocknum)",
          "new_text": null,
          "old_line_content": "\t\t\tltsReadFillBuffer(lts, lt, datablocknum);",
          "new_line_content": "\t\t/* Read the first block, or reset if tape is empty */",
          "content_same": false
        },
        {
          "line": 920,
          "old_api": "pfree",
          "new_api": null,
          "old_text": "pfree(lt->buffer)",
          "new_text": null,
          "old_line_content": "\t\t\tpfree(lt->buffer);",
          "new_line_content": "\t * tape is frozen, we only read from a single tape anyway.",
          "content_same": false
        },
        {
          "line": 1050,
          "old_api": "ltsRecallPrevBlockNum",
          "new_api": null,
          "old_text": "ltsRecallPrevBlockNum(lts, lt->indirect)",
          "new_text": null,
          "old_line_content": "\t\tlong\t\tdatablocknum = ltsRecallPrevBlockNum(lts, lt->indirect);",
          "new_line_content": "\t * be pretty inefficient for long seeks, but we really aren't expecting",
          "content_same": false
        },
        {
          "line": 921,
          "old_api": "palloc",
          "new_api": null,
          "old_text": "palloc(BLCKSZ)",
          "new_text": null,
          "old_line_content": "\t\tlt->buffer = palloc(BLCKSZ);",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 1023,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(lt->frozen)",
          "new_text": null,
          "old_line_content": "\tAssert(lt->frozen);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1053,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"unexpected end of tape\")",
          "new_text": null,
          "old_line_content": "\t\t\telog(ERROR, \"unexpected end of tape\");",
          "new_line_content": "\twhile (lt->curBlockNumber > blocknum)",
          "content_same": false
        },
        {
          "line": 1059,
          "old_api": "ltsRecallNextBlockNum",
          "new_api": null,
          "old_text": "ltsRecallNextBlockNum(lts, lt->indirect,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t lt->frozen)",
          "new_text": null,
          "old_line_content": "\t\tlong\t\tdatablocknum = ltsRecallNextBlockNum(lts, lt->indirect,",
          "new_line_content": "\t\tif (--lt->curBlockNumber == blocknum)",
          "content_same": false
        },
        {
          "line": 931,
          "old_api": "ltsReadBlock",
          "new_api": null,
          "old_text": "ltsReadBlock(lts, datablocknum, (void *) lt->buffer)",
          "new_text": null,
          "old_line_content": "\t\tltsReadBlock(lts, datablocknum, (void *) lt->buffer);",
          "new_line_content": "\tlt->curBlockNumber = 0L;",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"unexpected end of tape\")",
          "new_text": null,
          "old_line_content": "\t\t\telog(ERROR, \"unexpected end of tape\");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 807,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(!lt->writing && !lt->frozen)",
          "new_text": null,
          "old_line_content": "\t\tAssert(!lt->writing && !lt->frozen);",
          "new_line_content": "\t\t * of this module it'd be useless code.",
          "content_same": false
        },
        {
          "line": 1065,
          "old_api": "ltsReadBlock",
          "new_api": null,
          "old_text": "ltsReadBlock(lts, datablocknum, (void *) lt->buffer)",
          "new_text": null,
          "old_line_content": "\t\t\tltsReadBlock(lts, datablocknum, (void *) lt->buffer);",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t\t\t lt->frozen);",
          "content_same": false
        },
        {
          "line": 814,
          "old_api": "pfree",
          "new_api": null,
          "old_text": "pfree(ib)",
          "new_text": null,
          "old_line_content": "\t\t\t\tpfree(ib);",
          "new_line_content": "\t\tif (lt->indirect)",
          "content_same": false
        },
        {
          "line": 955,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(tapenum >= 0 && tapenum < lts->nTapes)",
          "new_text": null,
          "old_line_content": "\tAssert(tapenum >= 0 && tapenum < lts->nTapes);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 829,
          "old_api": "pfree",
          "new_api": null,
          "old_text": "pfree(lt->buffer)",
          "new_text": null,
          "old_line_content": "\t\t\tpfree(lt->buffer);",
          "new_line_content": "\t\tlt->pos = 0;",
          "content_same": false
        },
        {
          "line": 1085,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(tapenum >= 0 && tapenum < lts->nTapes)",
          "new_text": null,
          "old_line_content": "\tAssert(tapenum >= 0 && tapenum < lts->nTapes);",
          "new_line_content": "LogicalTapeTell(LogicalTapeSet *lts, int tapenum,",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(lt->frozen)",
          "new_text": null,
          "old_line_content": "\tAssert(lt->frozen);",
          "new_line_content": "\tlong\t\tnblocks;",
          "content_same": false
        },
        {
          "line": 958,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(lt->buffer_size == BLCKSZ)",
          "new_text": null,
          "old_line_content": "\tAssert(lt->buffer_size == BLCKSZ);",
          "new_line_content": "\tint\t\t\tnewpos;",
          "content_same": false
        },
        {
          "line": 1089,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(lt->buffer_size == BLCKSZ)",
          "new_text": null,
          "old_line_content": "\tAssert(lt->buffer_size == BLCKSZ);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 849,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(tapenum >= 0 && tapenum < lts->nTapes)",
          "new_text": null,
          "old_line_content": "\tAssert(tapenum >= 0 && tapenum < lts->nTapes);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 851,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(!lt->writing)",
          "new_text": null,
          "old_line_content": "\tAssert(!lt->writing);",
          "new_line_content": "\tsize_t\t\tnread = 0;",
          "content_same": false
        },
        {
          "line": 1112,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(tapenum >= 0 && tapenum < lts->nTapes)",
          "new_text": null,
          "old_line_content": "\tAssert(tapenum >= 0 && tapenum < lts->nTapes);",
          "new_line_content": "void",
          "content_same": false
        },
        {
          "line": 858,
          "old_api": "ltsReadFillBuffer",
          "new_api": null,
          "old_text": "ltsReadFillBuffer(lts, lt, -1)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!ltsReadFillBuffer(lts, lt, -1))",
          "new_line_content": "\twhile (size > 0)",
          "content_same": false
        },
        {
          "line": 992,
          "old_api": "ltsRecallPrevBlockNum",
          "new_api": null,
          "old_text": "ltsRecallPrevBlockNum(lts, lt->indirect)",
          "new_text": null,
          "old_line_content": "\t\tlong\t\tdatablocknum = ltsRecallPrevBlockNum(lts, lt->indirect);",
          "new_line_content": "\t * pretty inefficient for long seeks, but we really aren't expecting that",
          "content_same": false
        },
        {
          "line": 865,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(nthistime > 0)",
          "new_text": null,
          "old_line_content": "\t\tAssert(nthistime > 0);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 867,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(ptr, lt->buffer + lt->pos, nthistime)",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(ptr, lt->buffer + lt->pos, nthistime);",
          "new_line_content": "\t\tnthistime = lt->nbytes - lt->pos;",
          "content_same": false
        },
        {
          "line": 995,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"unexpected end of tape\")",
          "new_text": null,
          "old_line_content": "\t\t\telog(ERROR, \"unexpected end of tape\");",
          "new_line_content": "\twhile (nblocks-- > 0)",
          "content_same": false
        },
        {
          "line": 999,
          "old_api": "ltsReadBlock",
          "new_api": null,
          "old_text": "ltsReadBlock(lts, datablocknum, (void *) lt->buffer)",
          "new_text": null,
          "old_line_content": "\t\t\tltsReadBlock(lts, datablocknum, (void *) lt->buffer);",
          "new_line_content": "\t\tif (datablocknum == -1L)",
          "content_same": false
        },
        {
          "line": 1021,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(tapenum >= 0 && tapenum < lts->nTapes)",
          "new_text": null,
          "old_line_content": "\tAssert(tapenum >= 0 && tapenum < lts->nTapes);",
          "new_line_content": "LogicalTapeSeek(LogicalTapeSet *lts, int tapenum,",
          "content_same": false
        },
        {
          "line": 895,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(tapenum >= 0 && tapenum < lts->nTapes)",
          "new_text": null,
          "old_line_content": "\tAssert(tapenum >= 0 && tapenum < lts->nTapes);",
          "new_line_content": "LogicalTapeFreeze(LogicalTapeSet *lts, int tapenum)",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 1,
      "total_additions": 35,
      "total_deletions": 35,
      "total_api_changes": 71
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 8,
        "api_related_lines": 71,
        "non_api_lines": 6,
        "non_api_line_numbers": [
          781,
          785,
          786,
          787,
          789,
          790
        ]
      }
    },
    "api_calls_before": 99,
    "api_calls_after": 99,
    "diff_info": {
      "added_lines": 8,
      "removed_lines": 3,
      "total_diff_lines": 25
    }
  }
}