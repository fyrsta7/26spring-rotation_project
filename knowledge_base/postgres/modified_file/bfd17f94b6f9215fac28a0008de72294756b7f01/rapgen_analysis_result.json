{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/bfd17f94b6f9215fac28a0008de72294756b7f01",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/bfd17f94b6f9215fac28a0008de72294756b7f01/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/bfd17f94b6f9215fac28a0008de72294756b7f01/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/bfd17f94b6f9215fac28a0008de72294756b7f01/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 2036,
          "old_api": "PQgetisnull",
          "new_api": "PQntuples",
          "old_text": "PQgetisnull(res, i, 1)",
          "new_text": "PQntuples(res)",
          "old_line_content": "\t\t\tif (PQgetisnull(res, i, 1))",
          "new_line_content": "\t\tfor (i = 0; i < PQntuples(res); i++)",
          "content_same": false
        },
        {
          "line": 2042,
          "old_api": "printfPQExpBuffer",
          "new_api": "PQgetisnull",
          "old_text": "printfPQExpBuffer(commentcmd, \"COMMENT ON LARGE OBJECT %u IS \",\n\t\t\t\t\t\t\t  blobOid)",
          "new_text": "PQgetisnull(res, i, 1)",
          "old_line_content": "\t\t\tprintfPQExpBuffer(commentcmd, \"COMMENT ON LARGE OBJECT %u IS \",",
          "new_line_content": "\t\t\tif (PQgetisnull(res, i, 1))",
          "content_same": false
        },
        {
          "line": 2045,
          "old_api": "appendPQExpBuffer",
          "new_api": "PQgetvalue",
          "old_text": "appendPQExpBuffer(commentcmd, \";\\n\")",
          "new_text": "PQgetvalue(res, i, 0)",
          "old_line_content": "\t\t\tappendPQExpBuffer(commentcmd, \";\\n\");",
          "new_line_content": "\t\t\tblobOid = atooid(PQgetvalue(res, i, 0));",
          "content_same": false
        },
        {
          "line": 2051,
          "old_api": "PQclear",
          "new_api": "appendPQExpBuffer",
          "old_text": "PQclear(res)",
          "new_text": "appendPQExpBuffer(commentcmd, \";\\n\")",
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\t\tappendPQExpBuffer(commentcmd, \";\\n\");",
          "content_same": false
        },
        {
          "line": 2055,
          "old_api": "destroyPQExpBuffer",
          "new_api": "PQntuples",
          "old_text": "destroyPQExpBuffer(commentcmd)",
          "new_text": "PQntuples(res)",
          "old_line_content": "\tdestroyPQExpBuffer(commentcmd);",
          "new_line_content": "\t} while (PQntuples(res) > 0);",
          "content_same": false
        },
        {
          "line": 2093,
          "old_api": "strdup",
          "new_api": "malloc",
          "old_text": "strdup(\"public\")",
          "new_text": "malloc(2 * sizeof(NamespaceInfo))",
          "old_line_content": "\t\tnsinfo[0].dobj.name = strdup(\"public\");",
          "new_line_content": "\t\tnsinfo = (NamespaceInfo *) malloc(2 * sizeof(NamespaceInfo));",
          "content_same": false
        },
        {
          "line": 2103,
          "old_api": "strdup",
          "new_api": "selectDumpableNamespace",
          "old_text": "strdup(\"pg_catalog\")",
          "new_text": "selectDumpableNamespace(&nsinfo[0])",
          "old_line_content": "\t\tnsinfo[1].dobj.name = strdup(\"pg_catalog\");",
          "new_line_content": "\t\tselectDumpableNamespace(&nsinfo[0]);",
          "content_same": false
        },
        {
          "line": 2124,
          "old_api": "appendPQExpBuffer",
          "new_api": "selectSourceSchema",
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, nspname, \"\n\t\t\t\t\t  \"(%s nspowner) AS rolname, \"\n\t\t\t\t\t  \"nspacl FROM pg_namespace\",\n\t\t\t\t\t  username_subquery)",
          "new_text": "selectSourceSchema(\"pg_catalog\")",
          "old_line_content": "\tappendPQExpBuffer(query, \"SELECT tableoid, oid, nspname, \"",
          "new_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 2130,
          "old_api": "check_sql_result",
          "new_api": "appendPQExpBuffer",
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, nspname, \"\n\t\t\t\t\t  \"(%s nspowner) AS rolname, \"\n\t\t\t\t\t  \"nspacl FROM pg_namespace\",\n\t\t\t\t\t  username_subquery)",
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\tappendPQExpBuffer(query, \"SELECT tableoid, oid, nspname, \"",
          "content_same": false
        },
        {
          "line": 2136,
          "old_api": "PQfnumber",
          "new_api": "check_sql_result",
          "old_text": "PQfnumber(res, \"tableoid\")",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 2138,
          "old_api": "PQfnumber",
          "new_api": "PQntuples",
          "old_text": "PQfnumber(res, \"nspname\")",
          "new_text": "PQntuples(res)",
          "old_line_content": "\ti_nspname = PQfnumber(res, \"nspname\");",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 2140,
          "old_api": "PQfnumber",
          "new_api": "malloc",
          "old_text": "PQfnumber(res, \"nspacl\")",
          "new_text": "malloc(ntups * sizeof(NamespaceInfo))",
          "old_line_content": "\ti_nspacl = PQfnumber(res, \"nspacl\");",
          "new_line_content": "\tnsinfo = (NamespaceInfo *) malloc(ntups * sizeof(NamespaceInfo));",
          "content_same": false
        },
        {
          "line": 2145,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_tableoid)",
          "new_text": "PQfnumber(res, \"rolname\")",
          "old_line_content": "\t\tnsinfo[i].dobj.catId.tableoid = atooid(PQgetvalue(res, i, i_tableoid));",
          "new_line_content": "\ti_rolname = PQfnumber(res, \"rolname\");",
          "content_same": false
        },
        {
          "line": 2146,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_oid)",
          "new_text": "PQfnumber(res, \"nspacl\")",
          "old_line_content": "\t\tnsinfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "new_line_content": "\ti_nspacl = PQfnumber(res, \"nspacl\");",
          "content_same": false
        },
        {
          "line": 2153,
          "old_api": "selectDumpableNamespace",
          "new_api": "AssignDumpId",
          "old_text": "selectDumpableNamespace(&nsinfo[i])",
          "new_text": "AssignDumpId(&nsinfo[i].dobj)",
          "old_line_content": "\t\tselectDumpableNamespace(&nsinfo[i]);",
          "new_line_content": "\t\tAssignDumpId(&nsinfo[i].dobj);",
          "content_same": false
        },
        {
          "line": 2155,
          "old_api": "strlen",
          "new_api": "PQgetvalue",
          "old_text": "strlen(nsinfo[i].rolname)",
          "new_text": "PQgetvalue(res, i, i_rolname)",
          "old_line_content": "\t\tif (strlen(nsinfo[i].rolname) == 0)",
          "new_line_content": "\t\tnsinfo[i].rolname = strdup(PQgetvalue(res, i, i_rolname));",
          "content_same": false
        },
        {
          "line": 2156,
          "old_api": "write_msg",
          "new_api": "PQgetvalue",
          "old_text": "write_msg(NULL, \"WARNING: owner of schema \\\"%s\\\" appears to be invalid\\n\",\n\t\t\t\t\t  nsinfo[i].dobj.name)",
          "new_text": "PQgetvalue(res, i, i_nspacl)",
          "old_line_content": "\t\t\twrite_msg(NULL, \"WARNING: owner of schema \\\"%s\\\" appears to be invalid\\n\",",
          "new_line_content": "\t\tnsinfo[i].nspacl = strdup(PQgetvalue(res, i, i_nspacl));",
          "content_same": false
        },
        {
          "line": 2161,
          "old_api": "destroyPQExpBuffer",
          "new_api": "strlen",
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": "strlen(nsinfo[i].rolname)",
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\tif (strlen(nsinfo[i].rolname) == 0)",
          "content_same": false
        },
        {
          "line": 2326,
          "old_api": "PQfnumber",
          "new_api": "check_sql_result",
          "old_text": "PQfnumber(res, \"tableoid\")",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 2328,
          "old_api": "PQfnumber",
          "new_api": "PQntuples",
          "old_text": "PQfnumber(res, \"typname\")",
          "new_text": "PQntuples(res)",
          "old_line_content": "\ti_typname = PQfnumber(res, \"typname\");",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 2330,
          "old_api": "PQfnumber",
          "new_api": "malloc",
          "old_text": "PQfnumber(res, \"rolname\")",
          "new_text": "malloc(ntups * sizeof(TypeInfo))",
          "old_line_content": "\ti_rolname = PQfnumber(res, \"rolname\");",
          "new_line_content": "\ttinfo = (TypeInfo *) malloc(ntups * sizeof(TypeInfo));",
          "content_same": false
        },
        {
          "line": 2343,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_tableoid)",
          "new_text": "PQfnumber(res, \"typisdefined\")",
          "old_line_content": "\t\ttinfo[i].dobj.catId.tableoid = atooid(PQgetvalue(res, i, i_tableoid));",
          "new_line_content": "\ti_typisdefined = PQfnumber(res, \"typisdefined\");",
          "content_same": false
        },
        {
          "line": 2344,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_oid)",
          "new_text": "PQfnumber(res, \"isarray\")",
          "old_line_content": "\t\ttinfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "new_line_content": "\ti_isarray = PQfnumber(res, \"isarray\");",
          "content_same": false
        },
        {
          "line": 2351,
          "old_api": "PQgetvalue",
          "new_api": "AssignDumpId",
          "old_text": "PQgetvalue(res, i, i_typrelid)",
          "new_text": "AssignDumpId(&tinfo[i].dobj)",
          "old_line_content": "\t\ttinfo[i].typrelid = atooid(PQgetvalue(res, i, i_typrelid));",
          "new_line_content": "\t\tAssignDumpId(&tinfo[i].dobj);",
          "content_same": false
        },
        {
          "line": 2367,
          "old_api": "selectDumpableType",
          "new_api": "PQgetvalue",
          "old_text": "selectDumpableType(&tinfo[i])",
          "new_text": "PQgetvalue(res, i, i_isarray)",
          "old_line_content": "\t\tselectDumpableType(&tinfo[i]);",
          "new_line_content": "\t\tif (strcmp(PQgetvalue(res, i, i_isarray), \"t\") == 0)",
          "content_same": false
        },
        {
          "line": 2423,
          "old_api": "addObjectDependency",
          "new_api": "PQgetvalue",
          "old_text": "addObjectDependency(&tinfo[i].dobj,\n\t\t\t\t\t\t\t\t\t\tfuncInfo->dobj.dumpId)",
          "new_text": "PQgetvalue(res, i, i_typoutput)",
          "old_line_content": "\t\t\t\t\taddObjectDependency(&tinfo[i].dobj,",
          "new_line_content": "\t\t\t\ttypoutput = atooid(PQgetvalue(res, i, i_typoutput));",
          "content_same": false
        },
        {
          "line": 2432,
          "old_api": "findFuncByOid",
          "new_api": "addObjectDependency",
          "old_text": "findFuncByOid(typoutput)",
          "new_text": "addObjectDependency(&funcInfo->dobj,\n\t\t\t\t\t\t\t\t\t\tstinfo->dobj.dumpId)",
          "old_line_content": "\t\t\t\tfuncInfo = findFuncByOid(typoutput);",
          "new_line_content": "\t\t\t\t\taddObjectDependency(&funcInfo->dobj,",
          "content_same": false
        },
        {
          "line": 2454,
          "old_api": "PQclear",
          "new_api": "write_msg",
          "old_text": "PQclear(res)",
          "new_text": "write_msg(NULL, \"WARNING: owner of data type \\\"%s\\\" appears to be invalid\\n\",\n\t\t\t\t\t  tinfo[i].dobj.name)",
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\t\twrite_msg(NULL, \"WARNING: owner of data type \\\"%s\\\" appears to be invalid\\n\",",
          "content_same": false
        },
        {
          "line": 2527,
          "old_api": "malloc",
          "new_api": "PQexec",
          "old_text": "malloc(ntups * sizeof(OprInfo))",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\toprinfo = (OprInfo *) malloc(ntups * sizeof(OprInfo));",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 2530,
          "old_api": "PQfnumber",
          "new_api": "PQntuples",
          "old_text": "PQfnumber(res, \"oid\")",
          "new_text": "PQntuples(res)",
          "old_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 2533,
          "old_api": "PQfnumber",
          "new_api": "malloc",
          "old_text": "PQfnumber(res, \"rolname\")",
          "new_text": "malloc(ntups * sizeof(OprInfo))",
          "old_line_content": "\ti_rolname = PQfnumber(res, \"rolname\");",
          "new_line_content": "\toprinfo = (OprInfo *) malloc(ntups * sizeof(OprInfo));",
          "content_same": false
        },
        {
          "line": 2539,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_tableoid)",
          "new_text": "PQfnumber(res, \"rolname\")",
          "old_line_content": "\t\toprinfo[i].dobj.catId.tableoid = atooid(PQgetvalue(res, i, i_tableoid));",
          "new_line_content": "\ti_rolname = PQfnumber(res, \"rolname\");",
          "content_same": false
        },
        {
          "line": 2540,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_oid)",
          "new_text": "PQfnumber(res, \"oprcode\")",
          "old_line_content": "\t\toprinfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "new_line_content": "\ti_oprcode = PQfnumber(res, \"oprcode\");",
          "content_same": false
        },
        {
          "line": 2549,
          "old_api": "selectDumpableObject",
          "new_api": "PQgetvalue",
          "old_text": "selectDumpableObject(&(oprinfo[i].dobj))",
          "new_text": "PQgetvalue(res, i, i_oprnamespace)",
          "old_line_content": "\t\tselectDumpableObject(&(oprinfo[i].dobj));",
          "new_line_content": "\t\toprinfo[i].dobj.namespace = findNamespace(atooid(PQgetvalue(res, i, i_oprnamespace)),",
          "content_same": false
        },
        {
          "line": 2551,
          "old_api": "strlen",
          "new_api": "PQgetvalue",
          "old_text": "strlen(oprinfo[i].rolname)",
          "new_text": "PQgetvalue(res, i, i_rolname)",
          "old_line_content": "\t\tif (strlen(oprinfo[i].rolname) == 0)",
          "new_line_content": "\t\toprinfo[i].rolname = strdup(PQgetvalue(res, i, i_rolname));",
          "content_same": false
        },
        {
          "line": 2552,
          "old_api": "write_msg",
          "new_api": "PQgetvalue",
          "old_text": "write_msg(NULL, \"WARNING: owner of operator \\\"%s\\\" appears to be invalid\\n\",\n\t\t\t\t\t  oprinfo[i].dobj.name)",
          "new_text": "PQgetvalue(res, i, i_oprcode)",
          "old_line_content": "\t\t\twrite_msg(NULL, \"WARNING: owner of operator \\\"%s\\\" appears to be invalid\\n\",",
          "new_line_content": "\t\toprinfo[i].oprcode = atooid(PQgetvalue(res, i, i_oprcode));",
          "content_same": false
        },
        {
          "line": 2558,
          "old_api": "destroyPQExpBuffer",
          "new_api": "write_msg",
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": "write_msg(NULL, \"WARNING: owner of operator \\\"%s\\\" appears to be invalid\\n\",\n\t\t\t\t\t  oprinfo[i].dobj.name)",
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\twrite_msg(NULL, \"WARNING: owner of operator \\\"%s\\\" appears to be invalid\\n\",",
          "content_same": false
        },
        {
          "line": 2605,
          "old_api": "PQexec",
          "new_api": "appendPQExpBuffer",
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, conname, \"\n\t\t\t\t\t  \"connamespace, \"\n\t\t\t\t\t  \"(%s conowner) AS rolname \"\n\t\t\t\t\t  \"FROM pg_conversion\",\n\t\t\t\t\t  username_subquery)",
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\tappendPQExpBuffer(query, \"SELECT tableoid, oid, conname, \"",
          "content_same": false
        },
        {
          "line": 2611,
          "old_api": "malloc",
          "new_api": "PQexec",
          "old_text": "malloc(ntups * sizeof(ConvInfo))",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\tconvinfo = (ConvInfo *) malloc(ntups * sizeof(ConvInfo));",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 2614,
          "old_api": "PQfnumber",
          "new_api": "PQntuples",
          "old_text": "PQfnumber(res, \"oid\")",
          "new_text": "PQntuples(res)",
          "old_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 2617,
          "old_api": "PQfnumber",
          "new_api": "malloc",
          "old_text": "PQfnumber(res, \"rolname\")",
          "new_text": "malloc(ntups * sizeof(ConvInfo))",
          "old_line_content": "\ti_rolname = PQfnumber(res, \"rolname\");",
          "new_line_content": "\tconvinfo = (ConvInfo *) malloc(ntups * sizeof(ConvInfo));",
          "content_same": false
        },
        {
          "line": 2622,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_tableoid)",
          "new_text": "PQfnumber(res, \"connamespace\")",
          "old_line_content": "\t\tconvinfo[i].dobj.catId.tableoid = atooid(PQgetvalue(res, i, i_tableoid));",
          "new_line_content": "\ti_connamespace = PQfnumber(res, \"connamespace\");",
          "content_same": false
        },
        {
          "line": 2623,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_oid)",
          "new_text": "PQfnumber(res, \"rolname\")",
          "old_line_content": "\t\tconvinfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "new_line_content": "\ti_rolname = PQfnumber(res, \"rolname\");",
          "content_same": false
        },
        {
          "line": 2631,
          "old_api": "selectDumpableObject",
          "new_api": "PQgetvalue",
          "old_text": "selectDumpableObject(&(convinfo[i].dobj))",
          "new_text": "PQgetvalue(res, i, i_conname)",
          "old_line_content": "\t\tselectDumpableObject(&(convinfo[i].dobj));",
          "new_line_content": "\t\tconvinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_conname));",
          "content_same": false
        },
        {
          "line": 2634,
          "old_api": "PQclear",
          "new_api": "PQgetvalue",
          "old_text": "PQclear(res)",
          "new_text": "PQgetvalue(res, i, i_rolname)",
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\tconvinfo[i].rolname = strdup(PQgetvalue(res, i, i_rolname));",
          "content_same": false
        },
        {
          "line": 2701,
          "old_api": "malloc",
          "new_api": "PQexec",
          "old_text": "malloc(ntups * sizeof(OpclassInfo))",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\topcinfo = (OpclassInfo *) malloc(ntups * sizeof(OpclassInfo));",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 2704,
          "old_api": "PQfnumber",
          "new_api": "PQntuples",
          "old_text": "PQfnumber(res, \"oid\")",
          "new_text": "PQntuples(res)",
          "old_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 2707,
          "old_api": "PQfnumber",
          "new_api": "malloc",
          "old_text": "PQfnumber(res, \"rolname\")",
          "new_text": "malloc(ntups * sizeof(OpclassInfo))",
          "old_line_content": "\ti_rolname = PQfnumber(res, \"rolname\");",
          "new_line_content": "\topcinfo = (OpclassInfo *) malloc(ntups * sizeof(OpclassInfo));",
          "content_same": false
        },
        {
          "line": 2712,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_tableoid)",
          "new_text": "PQfnumber(res, \"opcnamespace\")",
          "old_line_content": "\t\topcinfo[i].dobj.catId.tableoid = atooid(PQgetvalue(res, i, i_tableoid));",
          "new_line_content": "\ti_opcnamespace = PQfnumber(res, \"opcnamespace\");",
          "content_same": false
        },
        {
          "line": 2713,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_oid)",
          "new_text": "PQfnumber(res, \"rolname\")",
          "old_line_content": "\t\topcinfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "new_line_content": "\ti_rolname = PQfnumber(res, \"rolname\");",
          "content_same": false
        },
        {
          "line": 2721,
          "old_api": "selectDumpableObject",
          "new_api": "PQgetvalue",
          "old_text": "selectDumpableObject(&(opcinfo[i].dobj))",
          "new_text": "PQgetvalue(res, i, i_opcname)",
          "old_line_content": "\t\tselectDumpableObject(&(opcinfo[i].dobj));",
          "new_line_content": "\t\topcinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_opcname));",
          "content_same": false
        },
        {
          "line": 2731,
          "old_api": "PQclear",
          "new_api": "strlen",
          "old_text": "PQclear(res)",
          "new_text": "strlen(opcinfo[i].rolname)",
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\t\tif (strlen(opcinfo[i].rolname) == 0)",
          "content_same": false
        },
        {
          "line": 2782,
          "old_api": "PQexec",
          "new_api": "appendPQExpBuffer",
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, opfname, \"\n\t\t\t\t\t  \"opfnamespace, \"\n\t\t\t\t\t  \"(%s opfowner) AS rolname \"\n\t\t\t\t\t  \"FROM pg_opfamily\",\n\t\t\t\t\t  username_subquery)",
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\tappendPQExpBuffer(query, \"SELECT tableoid, oid, opfname, \"",
          "content_same": false
        },
        {
          "line": 2788,
          "old_api": "malloc",
          "new_api": "PQexec",
          "old_text": "malloc(ntups * sizeof(OpfamilyInfo))",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\topfinfo = (OpfamilyInfo *) malloc(ntups * sizeof(OpfamilyInfo));",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 2791,
          "old_api": "PQfnumber",
          "new_api": "PQntuples",
          "old_text": "PQfnumber(res, \"oid\")",
          "new_text": "PQntuples(res)",
          "old_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 2794,
          "old_api": "PQfnumber",
          "new_api": "malloc",
          "old_text": "PQfnumber(res, \"rolname\")",
          "new_text": "malloc(ntups * sizeof(OpfamilyInfo))",
          "old_line_content": "\ti_rolname = PQfnumber(res, \"rolname\");",
          "new_line_content": "\topfinfo = (OpfamilyInfo *) malloc(ntups * sizeof(OpfamilyInfo));",
          "content_same": false
        },
        {
          "line": 2799,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_tableoid)",
          "new_text": "PQfnumber(res, \"opfnamespace\")",
          "old_line_content": "\t\topfinfo[i].dobj.catId.tableoid = atooid(PQgetvalue(res, i, i_tableoid));",
          "new_line_content": "\ti_opfnamespace = PQfnumber(res, \"opfnamespace\");",
          "content_same": false
        },
        {
          "line": 2800,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_oid)",
          "new_text": "PQfnumber(res, \"rolname\")",
          "old_line_content": "\t\topfinfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "new_line_content": "\ti_rolname = PQfnumber(res, \"rolname\");",
          "content_same": false
        },
        {
          "line": 2808,
          "old_api": "selectDumpableObject",
          "new_api": "PQgetvalue",
          "old_text": "selectDumpableObject(&(opfinfo[i].dobj))",
          "new_text": "PQgetvalue(res, i, i_opfname)",
          "old_line_content": "\t\tselectDumpableObject(&(opfinfo[i].dobj));",
          "new_line_content": "\t\topfinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_opfname));",
          "content_same": false
        },
        {
          "line": 2818,
          "old_api": "PQclear",
          "new_api": "strlen",
          "old_text": "PQclear(res)",
          "new_text": "strlen(opfinfo[i].rolname)",
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\t\tif (strlen(opfinfo[i].rolname) == 0)",
          "content_same": false
        },
        {
          "line": 2856,
          "old_api": "appendPQExpBuffer",
          "new_api": "selectSourceSchema",
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, proname AS aggname, \"\n\t\t\t\t\t\t  \"pronamespace AS aggnamespace, \"\n\t\t\t\t\t\t  \"pronargs, proargtypes, \"\n\t\t\t\t\t\t  \"(%s proowner) AS rolname, \"\n\t\t\t\t\t\t  \"proacl AS aggacl \"\n\t\t\t\t\t\t  \"FROM pg_proc \"\n\t\t\t\t\t\t  \"WHERE proisagg \"\n\t\t\t\t\t\t  \"AND pronamespace != \"\n\t\t\t   \"(SELECT oid FROM pg_namespace WHERE nspname = 'pg_catalog')\",\n\t\t\t\t\t\t  username_subquery)",
          "new_text": "selectSourceSchema(\"pg_catalog\")",
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, proname AS aggname, \"",
          "new_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 2916,
          "old_api": "malloc",
          "new_api": "PQexec",
          "old_text": "malloc(ntups * sizeof(AggInfo))",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\tagginfo = (AggInfo *) malloc(ntups * sizeof(AggInfo));",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 2919,
          "old_api": "PQfnumber",
          "new_api": "PQntuples",
          "old_text": "PQfnumber(res, \"oid\")",
          "new_text": "PQntuples(res)",
          "old_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 2922,
          "old_api": "PQfnumber",
          "new_api": "malloc",
          "old_text": "PQfnumber(res, \"pronargs\")",
          "new_text": "malloc(ntups * sizeof(AggInfo))",
          "old_line_content": "\ti_pronargs = PQfnumber(res, \"pronargs\");",
          "new_line_content": "\tagginfo = (AggInfo *) malloc(ntups * sizeof(AggInfo));",
          "content_same": false
        },
        {
          "line": 2930,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_tableoid)",
          "new_text": "PQfnumber(res, \"rolname\")",
          "old_line_content": "\t\tagginfo[i].aggfn.dobj.catId.tableoid = atooid(PQgetvalue(res, i, i_tableoid));",
          "new_line_content": "\ti_rolname = PQfnumber(res, \"rolname\");",
          "content_same": false
        },
        {
          "line": 2931,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_oid)",
          "new_text": "PQfnumber(res, \"aggacl\")",
          "old_line_content": "\t\tagginfo[i].aggfn.dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "new_line_content": "\ti_aggacl = PQfnumber(res, \"aggacl\");",
          "content_same": false
        },
        {
          "line": 2937,
          "old_api": "strlen",
          "new_api": "PQgetvalue",
          "old_text": "strlen(agginfo[i].aggfn.rolname)",
          "new_text": "PQgetvalue(res, i, i_oid)",
          "old_line_content": "\t\tif (strlen(agginfo[i].aggfn.rolname) == 0)",
          "new_line_content": "\t\tagginfo[i].aggfn.dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "content_same": false
        },
        {
          "line": 2938,
          "old_api": "write_msg",
          "new_api": "AssignDumpId",
          "old_text": "write_msg(NULL, \"WARNING: owner of aggregate function \\\"%s\\\" appears to be invalid\\n\",\n\t\t\t\t\t  agginfo[i].aggfn.dobj.name)",
          "new_text": "AssignDumpId(&agginfo[i].aggfn.dobj)",
          "old_line_content": "\t\t\twrite_msg(NULL, \"WARNING: owner of aggregate function \\\"%s\\\" appears to be invalid\\n\",",
          "new_line_content": "\t\tAssignDumpId(&agginfo[i].aggfn.dobj);",
          "content_same": false
        },
        {
          "line": 2943,
          "old_api": "PQgetvalue",
          "new_api": "strlen",
          "old_text": "PQgetvalue(res, i, i_pronargs)",
          "new_text": "strlen(agginfo[i].aggfn.rolname)",
          "old_line_content": "\t\tagginfo[i].aggfn.nargs = atoi(PQgetvalue(res, i, i_pronargs));",
          "new_line_content": "\t\tif (strlen(agginfo[i].aggfn.rolname) == 0)",
          "content_same": false
        },
        {
          "line": 2948,
          "old_api": "malloc",
          "new_api": "PQgetvalue",
          "old_text": "malloc(agginfo[i].aggfn.nargs * sizeof(Oid))",
          "new_text": "PQgetvalue(res, i, i_aggacl)",
          "old_line_content": "\t\t\tagginfo[i].aggfn.argtypes = (Oid *) malloc(agginfo[i].aggfn.nargs * sizeof(Oid));",
          "new_line_content": "\t\tagginfo[i].aggfn.proacl = strdup(PQgetvalue(res, i, i_aggacl));",
          "content_same": false
        },
        {
          "line": 3002,
          "old_api": "appendPQExpBuffer",
          "new_api": "selectSourceSchema",
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT tableoid, oid, proname, prolang, \"\n\t\t\t\t\t\t  \"pronargs, proargtypes, prorettype, proacl, \"\n\t\t\t\t\t\t  \"pronamespace, \"\n\t\t\t\t\t\t  \"(%s proowner) AS rolname \"\n\t\t\t\t\t\t  \"FROM pg_proc \"\n\t\t\t\t\t\t  \"WHERE NOT proisagg \"\n\t\t\t\t\t\t  \"AND pronamespace != \"\n\t\t\t\t\t\t  \"(SELECT oid FROM pg_namespace \"\n\t\t\t\t\t\t  \"WHERE nspname = 'pg_catalog')\",\n\t\t\t\t\t\t  username_subquery)",
          "new_text": "selectSourceSchema(\"pg_catalog\")",
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 3051,
          "old_api": "calloc",
          "new_api": "check_sql_result",
          "old_text": "calloc(ntups, sizeof(FuncInfo))",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\tfinfo = (FuncInfo *) calloc(ntups, sizeof(FuncInfo));",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 3053,
          "old_api": "PQfnumber",
          "new_api": "PQntuples",
          "old_text": "PQfnumber(res, \"tableoid\")",
          "new_text": "PQntuples(res)",
          "old_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 3057,
          "old_api": "PQfnumber",
          "new_api": "calloc",
          "old_text": "PQfnumber(res, \"rolname\")",
          "new_text": "calloc(ntups, sizeof(FuncInfo))",
          "old_line_content": "\ti_rolname = PQfnumber(res, \"rolname\");",
          "new_line_content": "\tfinfo = (FuncInfo *) calloc(ntups, sizeof(FuncInfo));",
          "content_same": false
        },
        {
          "line": 3067,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_tableoid)",
          "new_text": "PQfnumber(res, \"prorettype\")",
          "old_line_content": "\t\tfinfo[i].dobj.catId.tableoid = atooid(PQgetvalue(res, i, i_tableoid));",
          "new_line_content": "\ti_prorettype = PQfnumber(res, \"prorettype\");",
          "content_same": false
        },
        {
          "line": 3068,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_oid)",
          "new_text": "PQfnumber(res, \"proacl\")",
          "old_line_content": "\t\tfinfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "new_line_content": "\ti_proacl = PQfnumber(res, \"proacl\");",
          "content_same": false
        },
        {
          "line": 3075,
          "old_api": "PQgetvalue",
          "new_api": "AssignDumpId",
          "old_text": "PQgetvalue(res, i, i_prolang)",
          "new_text": "AssignDumpId(&finfo[i].dobj)",
          "old_line_content": "\t\tfinfo[i].lang = atooid(PQgetvalue(res, i, i_prolang));",
          "new_line_content": "\t\tAssignDumpId(&finfo[i].dobj);",
          "content_same": false
        },
        {
          "line": 3083,
          "old_api": "malloc",
          "new_api": "PQgetvalue",
          "old_text": "malloc(finfo[i].nargs * sizeof(Oid))",
          "new_text": "PQgetvalue(res, i, i_proacl)",
          "old_line_content": "\t\t\tfinfo[i].argtypes = (Oid *) malloc(finfo[i].nargs * sizeof(Oid));",
          "new_line_content": "\t\tfinfo[i].proacl = strdup(PQgetvalue(res, i, i_proacl));",
          "content_same": false
        },
        {
          "line": 3089,
          "old_api": "selectDumpableObject",
          "new_api": "malloc",
          "old_text": "selectDumpableObject(&(finfo[i].dobj))",
          "new_text": "malloc(finfo[i].nargs * sizeof(Oid))",
          "old_line_content": "\t\tselectDumpableObject(&(finfo[i].dobj));",
          "new_line_content": "\t\t\tfinfo[i].argtypes = (Oid *) malloc(finfo[i].nargs * sizeof(Oid));",
          "content_same": false
        },
        {
          "line": 3097,
          "old_api": "PQclear",
          "new_api": "strlen",
          "old_text": "PQclear(res)",
          "new_text": "strlen(finfo[i].rolname)",
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\tif (strlen(finfo[i].rolname) == 0)",
          "content_same": false
        },
        {
          "line": 3384,
          "old_api": "PQfnumber",
          "new_api": "calloc",
          "old_text": "PQfnumber(res, \"relacl\")",
          "new_text": "calloc(ntups, sizeof(TableInfo))",
          "old_line_content": "\ti_relacl = PQfnumber(res, \"relacl\");",
          "new_line_content": "\ttblinfo = (TableInfo *) calloc(ntups, sizeof(TableInfo));",
          "content_same": false
        },
        {
          "line": 3417,
          "old_api": "PQgetvalue",
          "new_api": "do_sql_command",
          "old_text": "PQgetvalue(res, i, i_reltableoid)",
          "new_text": "do_sql_command(g_conn, query->data)",
          "old_line_content": "\t\ttblinfo[i].dobj.catId.tableoid = atooid(PQgetvalue(res, i, i_reltableoid));",
          "new_line_content": "\t\tdo_sql_command(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 3425,
          "old_api": "PQgetvalue",
          "new_api": "AssignDumpId",
          "old_text": "PQgetvalue(res, i, i_relkind)",
          "new_text": "AssignDumpId(&tblinfo[i].dobj)",
          "old_line_content": "\t\ttblinfo[i].relkind = *(PQgetvalue(res, i, i_relkind));",
          "new_line_content": "\t\tAssignDumpId(&tblinfo[i].dobj);",
          "content_same": false
        },
        {
          "line": 3432,
          "old_api": "PQgetisnull",
          "new_api": "PQgetvalue",
          "old_text": "PQgetisnull(res, i, i_owning_tab)",
          "new_text": "PQgetvalue(res, i, i_relhasindex)",
          "old_line_content": "\t\tif (PQgetisnull(res, i, i_owning_tab))",
          "new_line_content": "\t\ttblinfo[i].hasindex = (strcmp(PQgetvalue(res, i, i_relhasindex), \"t\") == 0);",
          "content_same": false
        },
        {
          "line": 3479,
          "old_api": "strlen",
          "new_api": "fmtQualifiedId",
          "old_text": "strlen(tblinfo[i].rolname)",
          "new_text": "fmtQualifiedId(tblinfo[i].dobj.namespace->dobj.name,\n\t\t\t\t\t\t\t\t\t\ttblinfo[i].dobj.name)",
          "old_line_content": "\t\tif (strlen(tblinfo[i].rolname) == 0)",
          "new_line_content": "\t\t\t\t\t\t fmtQualifiedId(tblinfo[i].dobj.namespace->dobj.name,",
          "content_same": false
        },
        {
          "line": 3486,
          "old_api": "do_sql_command",
          "new_api": "write_msg",
          "old_text": "do_sql_command(g_conn, \"SET statement_timeout = 0\")",
          "new_text": "write_msg(NULL, \"WARNING: owner of table \\\"%s\\\" appears to be invalid\\n\",\n\t\t\t\t\t  tblinfo[i].dobj.name)",
          "old_line_content": "\t\tdo_sql_command(g_conn, \"SET statement_timeout = 0\");",
          "new_line_content": "\t\t\twrite_msg(NULL, \"WARNING: owner of table \\\"%s\\\" appears to be invalid\\n\",",
          "content_same": false
        },
        {
          "line": 3551,
          "old_api": "PQexec",
          "new_api": "selectSourceSchema",
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": "selectSourceSchema(\"pg_catalog\")",
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 3558,
          "old_api": "malloc",
          "new_api": "check_sql_result",
          "old_text": "malloc(ntups * sizeof(InhInfo))",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\tinhinfo = (InhInfo *) malloc(ntups * sizeof(InhInfo));",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 3560,
          "old_api": "PQfnumber",
          "new_api": "PQntuples",
          "old_text": "PQfnumber(res, \"inhrelid\")",
          "new_text": "PQntuples(res)",
          "old_line_content": "\ti_inhrelid = PQfnumber(res, \"inhrelid\");",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 3566,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_inhparent)",
          "new_text": "PQfnumber(res, \"inhrelid\")",
          "old_line_content": "\t\tinhinfo[i].inhparent = atooid(PQgetvalue(res, i, i_inhparent));",
          "new_line_content": "\ti_inhrelid = PQfnumber(res, \"inhrelid\");",
          "content_same": false
        },
        {
          "line": 3571,
          "old_api": "destroyPQExpBuffer",
          "new_api": "PQgetvalue",
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": "PQgetvalue(res, i, i_inhrelid)",
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\tinhinfo[i].inhrelid = atooid(PQgetvalue(res, i, i_inhrelid));",
          "content_same": false
        },
        {
          "line": 3762,
          "old_api": "PQfnumber",
          "new_api": "PQexec",
          "old_text": "PQfnumber(res, \"oid\")",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t\ti_oid = PQfnumber(res, \"oid\");",
          "new_line_content": "\t\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 3763,
          "old_api": "PQfnumber",
          "new_api": "check_sql_result",
          "old_text": "PQfnumber(res, \"indexname\")",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\ti_indexname = PQfnumber(res, \"indexname\");",
          "new_line_content": "\t\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 3765,
          "old_api": "PQfnumber",
          "new_api": "PQntuples",
          "old_text": "PQfnumber(res, \"indnkeys\")",
          "new_text": "PQntuples(res)",
          "old_line_content": "\t\ti_indnkeys = PQfnumber(res, \"indnkeys\");",
          "new_line_content": "\t\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 3775,
          "old_api": "malloc",
          "new_api": "PQfnumber",
          "old_text": "malloc(ntups * sizeof(IndxInfo))",
          "new_text": "PQfnumber(res, \"conname\")",
          "old_line_content": "\t\tindxinfo = (IndxInfo *) malloc(ntups * sizeof(IndxInfo));",
          "new_line_content": "\t\ti_conname = PQfnumber(res, \"conname\");",
          "content_same": false
        },
        {
          "line": 3776,
          "old_api": "malloc",
          "new_api": "PQfnumber",
          "old_text": "malloc(ntups * sizeof(ConstraintInfo))",
          "new_text": "PQfnumber(res, \"contableoid\")",
          "old_line_content": "\t\tconstrinfo = (ConstraintInfo *) malloc(ntups * sizeof(ConstraintInfo));",
          "new_line_content": "\t\ti_contableoid = PQfnumber(res, \"contableoid\");",
          "content_same": false
        },
        {
          "line": 3791,
          "old_api": "PQgetvalue",
          "new_api": "AssignDumpId",
          "old_text": "PQgetvalue(res, j, i_tablespace)",
          "new_text": "AssignDumpId(&indxinfo[j].dobj)",
          "old_line_content": "\t\t\tindxinfo[j].tablespace = strdup(PQgetvalue(res, j, i_tablespace));",
          "new_line_content": "\t\t\tAssignDumpId(&indxinfo[j].dobj);",
          "content_same": false
        },
        {
          "line": 3913,
          "old_api": "PQfnumber",
          "new_api": "PQexec",
          "old_text": "PQfnumber(res, \"oid\")",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t\ti_conoid = PQfnumber(res, \"oid\");",
          "new_line_content": "\t\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 3914,
          "old_api": "PQfnumber",
          "new_api": "check_sql_result",
          "old_text": "PQfnumber(res, \"conname\")",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\ti_conname = PQfnumber(res, \"conname\");",
          "new_line_content": "\t\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 3916,
          "old_api": "PQfnumber",
          "new_api": "PQntuples",
          "old_text": "PQfnumber(res, \"condef\")",
          "new_text": "PQntuples(res)",
          "old_line_content": "\t\ti_condef = PQfnumber(res, \"condef\");",
          "new_line_content": "\t\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 3918,
          "old_api": "malloc",
          "new_api": "PQfnumber",
          "old_text": "malloc(ntups * sizeof(ConstraintInfo))",
          "new_text": "PQfnumber(res, \"tableoid\")",
          "old_line_content": "\t\tconstrinfo = (ConstraintInfo *) malloc(ntups * sizeof(ConstraintInfo));",
          "new_line_content": "\t\ti_contableoid = PQfnumber(res, \"tableoid\");",
          "content_same": false
        },
        {
          "line": 3924,
          "old_api": "PQgetvalue",
          "new_api": "malloc",
          "old_text": "PQgetvalue(res, j, i_conoid)",
          "new_text": "malloc(ntups * sizeof(ConstraintInfo))",
          "old_line_content": "\t\t\tconstrinfo[j].dobj.catId.oid = atooid(PQgetvalue(res, j, i_conoid));",
          "new_line_content": "\t\tconstrinfo = (ConstraintInfo *) malloc(ntups * sizeof(ConstraintInfo));",
          "content_same": false
        },
        {
          "line": 3931,
          "old_api": "PQgetvalue",
          "new_api": "AssignDumpId",
          "old_text": "PQgetvalue(res, j, i_condef)",
          "new_text": "AssignDumpId(&constrinfo[j].dobj)",
          "old_line_content": "\t\t\tconstrinfo[j].condef = strdup(PQgetvalue(res, j, i_condef));",
          "new_line_content": "\t\t\tAssignDumpId(&constrinfo[j].dobj);",
          "content_same": false
        },
        {
          "line": 3938,
          "old_api": "PQclear",
          "new_api": "PQgetvalue",
          "old_text": "PQclear(res)",
          "new_text": "PQgetvalue(res, j, i_confrelid)",
          "old_line_content": "\t\tPQclear(res);",
          "new_line_content": "\t\t\tconstrinfo[j].confrelid = atooid(PQgetvalue(res, j, i_confrelid));",
          "content_same": false
        },
        {
          "line": 3995,
          "old_api": "PQfnumber",
          "new_api": "PQexec",
          "old_text": "PQfnumber(res, \"oid\")",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 3996,
          "old_api": "PQfnumber",
          "new_api": "check_sql_result",
          "old_text": "PQfnumber(res, \"conname\")",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\ti_conname = PQfnumber(res, \"conname\");",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 4015,
          "old_api": "PQgetvalue",
          "new_api": "AssignDumpId",
          "old_text": "PQgetvalue(res, i, i_consrc)",
          "new_text": "AssignDumpId(&constrinfo[i].dobj)",
          "old_line_content": "\t\tconstrinfo[i].condef = strdup(PQgetvalue(res, i, i_consrc));",
          "new_line_content": "\t\tAssignDumpId(&constrinfo[i].dobj);",
          "content_same": false
        },
        {
          "line": 4031,
          "old_api": "destroyPQExpBuffer",
          "new_api": "addObjectDependency",
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": "addObjectDependency(&tinfo->dobj,\n\t\t\t\t\t\t\tconstrinfo[i].dobj.dumpId)",
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\taddObjectDependency(&tinfo->dobj,",
          "content_same": false
        },
        {
          "line": 4095,
          "old_api": "malloc",
          "new_api": "check_sql_result",
          "old_text": "malloc(ntups * sizeof(RuleInfo))",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\truleinfo = (RuleInfo *) malloc(ntups * sizeof(RuleInfo));",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 4097,
          "old_api": "PQfnumber",
          "new_api": "PQntuples",
          "old_text": "PQfnumber(res, \"tableoid\")",
          "new_text": "PQntuples(res)",
          "old_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 4101,
          "old_api": "PQfnumber",
          "new_api": "malloc",
          "old_text": "PQfnumber(res, \"ev_type\")",
          "new_text": "malloc(ntups * sizeof(RuleInfo))",
          "old_line_content": "\ti_ev_type = PQfnumber(res, \"ev_type\");",
          "new_line_content": "\truleinfo = (RuleInfo *) malloc(ntups * sizeof(RuleInfo));",
          "content_same": false
        },
        {
          "line": 4118,
          "old_api": "write_msg",
          "new_api": "AssignDumpId",
          "old_text": "write_msg(NULL, \"failed sanity check, parent table OID %u of pg_rewrite entry OID %u not found\\n\",\n\t\t\t\t\t  ruletableoid,\n\t\t\t\t\t  ruleinfo[i].dobj.catId.oid)",
          "new_text": "AssignDumpId(&ruleinfo[i].dobj)",
          "old_line_content": "\t\t\twrite_msg(NULL, \"failed sanity check, parent table OID %u of pg_rewrite entry OID %u not found\\n\",",
          "new_line_content": "\t\tAssignDumpId(&ruleinfo[i].dobj);",
          "content_same": false
        },
        {
          "line": 4121,
          "old_api": "exit_nicely",
          "new_api": "findTableByOid",
          "old_text": "exit_nicely()",
          "new_text": "findTableByOid(ruletableoid)",
          "old_line_content": "\t\t\texit_nicely();",
          "new_line_content": "\t\truleinfo[i].ruletable = findTableByOid(ruletableoid);",
          "content_same": false
        },
        {
          "line": 4127,
          "old_api": "PQgetvalue",
          "new_api": "exit_nicely",
          "old_text": "PQgetvalue(res, i, i_ev_enabled)",
          "new_text": "exit_nicely()",
          "old_line_content": "\t\truleinfo[i].ev_enabled = *(PQgetvalue(res, i, i_ev_enabled));",
          "new_line_content": "\t\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 4207,
          "old_api": "selectSourceSchema",
          "new_api": "write_msg",
          "old_text": "selectSourceSchema(tbinfo->dobj.namespace->dobj.name)",
          "new_text": "write_msg(NULL, \"reading triggers for table \\\"%s\\\"\\n\",\n\t\t\t\t\t  tbinfo->dobj.name)",
          "old_line_content": "\t\tselectSourceSchema(tbinfo->dobj.namespace->dobj.name);",
          "new_line_content": "\t\t\twrite_msg(NULL, \"reading triggers for table \\\"%s\\\"\\n\",",
          "content_same": false
        },
        {
          "line": 4215,
          "old_api": "appendPQExpBuffer",
          "new_api": "resetPQExpBuffer",
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"SELECT tgname, \"\n\t\t\t\t\t\t\t  \"tgfoid::pg_catalog.regproc AS tgfname, \"\n\t\t\t\t\t\t\t  \"tgtype, tgnargs, tgargs, tgenabled, \"\n\t\t\t\t\t\t\t  \"tgisconstraint, tgconstrname, tgdeferrable, \"\n\t\t\t\t\t\t\t  \"tgconstrrelid, tginitdeferred, tableoid, oid, \"\n\t\t\t\t\t \"tgconstrrelid::pg_catalog.regclass AS tgconstrrelname \"\n\t\t\t\t\t\t\t  \"FROM pg_catalog.pg_trigger t \"\n\t\t\t\t\t\t\t  \"WHERE tgrelid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t\t  \"AND tgconstraint = 0\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": "resetPQExpBuffer(query)",
          "old_line_content": "\t\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\tresetPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 4284,
          "old_api": "PQfnumber",
          "new_api": "PQexec",
          "old_text": "PQfnumber(res, \"oid\")",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t\ti_oid = PQfnumber(res, \"oid\");",
          "new_line_content": "\t\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 4285,
          "old_api": "PQfnumber",
          "new_api": "check_sql_result",
          "old_text": "PQfnumber(res, \"tgname\")",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\ti_tgname = PQfnumber(res, \"tgname\");",
          "new_line_content": "\t\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 4287,
          "old_api": "PQfnumber",
          "new_api": "PQntuples",
          "old_text": "PQfnumber(res, \"tgtype\")",
          "new_text": "PQntuples(res)",
          "old_line_content": "\t\ti_tgtype = PQfnumber(res, \"tgtype\");",
          "new_line_content": "\t\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 4298,
          "old_api": "malloc",
          "new_api": "PQfnumber",
          "old_text": "malloc(ntups * sizeof(TriggerInfo))",
          "new_text": "PQfnumber(res, \"tgconstrrelid\")",
          "old_line_content": "\t\ttginfo = (TriggerInfo *) malloc(ntups * sizeof(TriggerInfo));",
          "new_line_content": "\t\ti_tgconstrrelid = PQfnumber(res, \"tgconstrrelid\");",
          "content_same": false
        },
        {
          "line": 4304,
          "old_api": "PQgetvalue",
          "new_api": "malloc",
          "old_text": "PQgetvalue(res, j, i_oid)",
          "new_text": "malloc(ntups * sizeof(TriggerInfo))",
          "old_line_content": "\t\t\ttginfo[j].dobj.catId.oid = atooid(PQgetvalue(res, j, i_oid));",
          "new_line_content": "\t\ttginfo = (TriggerInfo *) malloc(ntups * sizeof(TriggerInfo));",
          "content_same": false
        },
        {
          "line": 4311,
          "old_api": "PQgetvalue",
          "new_api": "AssignDumpId",
          "old_text": "PQgetvalue(res, j, i_tgnargs)",
          "new_text": "AssignDumpId(&tginfo[j].dobj)",
          "old_line_content": "\t\t\ttginfo[j].tgnargs = atoi(PQgetvalue(res, j, i_tgnargs));",
          "new_line_content": "\t\t\tAssignDumpId(&tginfo[j].dobj);",
          "content_same": false
        },
        {
          "line": 4322,
          "old_api": "OidIsValid",
          "new_api": "PQgetvalue",
          "old_text": "OidIsValid(tginfo[j].tgconstrrelid)",
          "new_text": "PQgetvalue(res, j, i_tginitdeferred)",
          "old_line_content": "\t\t\t\tif (OidIsValid(tginfo[j].tgconstrrelid))",
          "new_line_content": "\t\t\ttginfo[j].tginitdeferred = *(PQgetvalue(res, j, i_tginitdeferred)) == 't';",
          "content_same": false
        },
        {
          "line": 4326,
          "old_api": "write_msg",
          "new_api": "PQgetvalue",
          "old_text": "write_msg(NULL, \"query produced null referenced table name for foreign key trigger \\\"%s\\\" on table \\\"%s\\\" (OID of table: %u)\\n\",\n\t\t\t\t\t\t\t\t  tginfo[j].dobj.name, tbinfo->dobj.name,\n\t\t\t\t\t\t\t\t  tginfo[j].tgconstrrelid)",
          "new_text": "PQgetvalue(res, j, i_tgconstrname)",
          "old_line_content": "\t\t\t\t\t\twrite_msg(NULL, \"query produced null referenced table name for foreign key trigger \\\"%s\\\" on table \\\"%s\\\" (OID of table: %u)\\n\",",
          "new_line_content": "\t\t\t\ttginfo[j].tgconstrname = strdup(PQgetvalue(res, j, i_tgconstrname));",
          "content_same": false
        },
        {
          "line": 4434,
          "old_api": "malloc",
          "new_api": "check_sql_result",
          "old_text": "malloc(ntups * sizeof(ProcLangInfo))",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\tplanginfo = (ProcLangInfo *) malloc(ntups * sizeof(ProcLangInfo));",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 4436,
          "old_api": "PQfnumber",
          "new_api": "PQntuples",
          "old_text": "PQfnumber(res, \"tableoid\")",
          "new_text": "PQntuples(res)",
          "old_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 4440,
          "old_api": "PQfnumber",
          "new_api": "malloc",
          "old_text": "PQfnumber(res, \"lanplcallfoid\")",
          "new_text": "malloc(ntups * sizeof(ProcLangInfo))",
          "old_line_content": "\ti_lanplcallfoid = PQfnumber(res, \"lanplcallfoid\");",
          "new_line_content": "\tplanginfo = (ProcLangInfo *) malloc(ntups * sizeof(ProcLangInfo));",
          "content_same": false
        },
        {
          "line": 4449,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_tableoid)",
          "new_text": "PQfnumber(res, \"lanacl\")",
          "old_line_content": "\t\tplanginfo[i].dobj.catId.tableoid = atooid(PQgetvalue(res, i, i_tableoid));",
          "new_line_content": "\ti_lanacl = PQfnumber(res, \"lanacl\");",
          "content_same": false
        },
        {
          "line": 4450,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_oid)",
          "new_text": "PQfnumber(res, \"lanowner\")",
          "old_line_content": "\t\tplanginfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "new_line_content": "\ti_lanowner = PQfnumber(res, \"lanowner\");",
          "content_same": false
        },
        {
          "line": 4457,
          "old_api": "PQgetvalue",
          "new_api": "AssignDumpId",
          "old_text": "PQgetvalue(res, i, i_lanvalidator)",
          "new_text": "AssignDumpId(&planginfo[i].dobj)",
          "old_line_content": "\t\t\tplanginfo[i].lanvalidator = atooid(PQgetvalue(res, i, i_lanvalidator));",
          "new_line_content": "\t\tAssignDumpId(&planginfo[i].dobj);",
          "content_same": false
        },
        {
          "line": 4463,
          "old_api": "strdup",
          "new_api": "PQgetvalue",
          "old_text": "strdup(\"{=U}\")",
          "new_text": "PQgetvalue(res, i, i_lanvalidator)",
          "old_line_content": "\t\t\tplanginfo[i].lanacl = strdup(\"{=U}\");",
          "new_line_content": "\t\t\tplanginfo[i].lanvalidator = atooid(PQgetvalue(res, i, i_lanvalidator));",
          "content_same": false
        },
        {
          "line": 4467,
          "old_api": "strdup",
          "new_api": "PQgetvalue",
          "old_text": "strdup(\"\")",
          "new_text": "PQgetvalue(res, i, i_lanacl)",
          "old_line_content": "\t\t\tplanginfo[i].lanowner = strdup(\"\");",
          "new_line_content": "\t\t\tplanginfo[i].lanacl = strdup(PQgetvalue(res, i, i_lanacl));",
          "content_same": false
        },
        {
          "line": 4550,
          "old_api": "malloc",
          "new_api": "check_sql_result",
          "old_text": "malloc(ntups * sizeof(CastInfo))",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\tcastinfo = (CastInfo *) malloc(ntups * sizeof(CastInfo));",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 4552,
          "old_api": "PQfnumber",
          "new_api": "PQntuples",
          "old_text": "PQfnumber(res, \"tableoid\")",
          "new_text": "PQntuples(res)",
          "old_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 4556,
          "old_api": "PQfnumber",
          "new_api": "malloc",
          "old_text": "PQfnumber(res, \"castfunc\")",
          "new_text": "malloc(ntups * sizeof(CastInfo))",
          "old_line_content": "\ti_castfunc = PQfnumber(res, \"castfunc\");",
          "new_line_content": "\tcastinfo = (CastInfo *) malloc(ntups * sizeof(CastInfo));",
          "content_same": false
        },
        {
          "line": 4589,
          "old_api": "OidIsValid",
          "new_api": "findTypeByOid",
          "old_text": "OidIsValid(castinfo[i].castfunc)",
          "new_text": "findTypeByOid(castinfo[i].casttarget)",
          "old_line_content": "\t\tif (OidIsValid(castinfo[i].castfunc))",
          "new_line_content": "\t\ttTypeInfo = findTypeByOid(castinfo[i].casttarget);",
          "content_same": false
        },
        {
          "line": 4739,
          "old_api": "PQfnumber",
          "new_api": "PQexec",
          "old_text": "PQfnumber(res, \"attname\")",
          "new_text": "PQexec(g_conn, q->data)",
          "old_line_content": "\t\ti_attname = PQfnumber(res, \"attname\");",
          "new_line_content": "\t\tres = PQexec(g_conn, q->data);",
          "content_same": false
        },
        {
          "line": 4740,
          "old_api": "PQfnumber",
          "new_api": "check_sql_result",
          "old_text": "PQfnumber(res, \"atttypname\")",
          "new_text": "check_sql_result(res, g_conn, q->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\ti_atttypname = PQfnumber(res, \"atttypname\");",
          "new_line_content": "\t\tcheck_sql_result(res, g_conn, q->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 4742,
          "old_api": "PQfnumber",
          "new_api": "PQntuples",
          "old_text": "PQfnumber(res, \"attstattarget\")",
          "new_text": "PQntuples(res)",
          "old_line_content": "\t\ti_attstattarget = PQfnumber(res, \"attstattarget\");",
          "new_line_content": "\t\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 4753,
          "old_api": "malloc",
          "new_api": "PQfnumber",
          "old_text": "malloc(ntups * sizeof(char *))",
          "new_text": "PQfnumber(res, \"attisdropped\")",
          "old_line_content": "\t\ttbinfo->attnames = (char **) malloc(ntups * sizeof(char *));",
          "new_line_content": "\t\ti_attisdropped = PQfnumber(res, \"attisdropped\");",
          "content_same": false
        },
        {
          "line": 4754,
          "old_api": "malloc",
          "new_api": "PQfnumber",
          "old_text": "malloc(ntups * sizeof(char *))",
          "new_text": "PQfnumber(res, \"attlen\")",
          "old_line_content": "\t\ttbinfo->atttypnames = (char **) malloc(ntups * sizeof(char *));",
          "new_line_content": "\t\ti_attlen = PQfnumber(res, \"attlen\");",
          "content_same": false
        },
        {
          "line": 4755,
          "old_api": "malloc",
          "new_api": "PQfnumber",
          "old_text": "malloc(ntups * sizeof(int))",
          "new_text": "PQfnumber(res, \"attalign\")",
          "old_line_content": "\t\ttbinfo->atttypmod = (int *) malloc(ntups * sizeof(int));",
          "new_line_content": "\t\ti_attalign = PQfnumber(res, \"attalign\");",
          "content_same": false
        },
        {
          "line": 4756,
          "old_api": "malloc",
          "new_api": "PQfnumber",
          "old_text": "malloc(ntups * sizeof(int))",
          "new_text": "PQfnumber(res, \"attislocal\")",
          "old_line_content": "\t\ttbinfo->attstattarget = (int *) malloc(ntups * sizeof(int));",
          "new_line_content": "\t\ti_attislocal = PQfnumber(res, \"attislocal\");",
          "content_same": false
        },
        {
          "line": 4772,
          "old_api": "PQgetvalue",
          "new_api": "malloc",
          "old_text": "PQgetvalue(res, j, i_attnum)",
          "new_text": "malloc(ntups * sizeof(bool))",
          "old_line_content": "\t\t\tif (j + 1 != atoi(PQgetvalue(res, j, i_attnum)))",
          "new_line_content": "\t\ttbinfo->inhAttrDef = (bool *) malloc(ntups * sizeof(bool));",
          "content_same": false
        },
        {
          "line": 4780,
          "old_api": "PQgetvalue",
          "new_api": "write_msg",
          "old_text": "PQgetvalue(res, j, i_atttypmod)",
          "new_text": "write_msg(NULL, \"invalid column numbering in table \\\"%s\\\"\\n\",\n\t\t\t\t\t\t  tbinfo->dobj.name)",
          "old_line_content": "\t\t\ttbinfo->atttypmod[j] = atoi(PQgetvalue(res, j, i_atttypmod));",
          "new_line_content": "\t\t\t\twrite_msg(NULL, \"invalid column numbering in table \\\"%s\\\"\\n\",",
          "content_same": false
        },
        {
          "line": 4782,
          "old_api": "PQgetvalue",
          "new_api": "exit_nicely",
          "old_text": "PQgetvalue(res, j, i_attstorage)",
          "new_text": "exit_nicely()",
          "old_line_content": "\t\t\ttbinfo->attstorage[j] = *(PQgetvalue(res, j, i_attstorage));",
          "new_line_content": "\t\t\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 4830,
          "old_api": "pg_get_expr",
          "new_api": "write_msg",
          "old_text": "appendPQExpBuffer(q, \"SELECT tableoid, oid, adnum, \"\n\t\t\t\t\t\t   \"pg_catalog.pg_get_expr(adbin, adrelid) AS adsrc \"\n\t\t\t\t\t\t\t\t  \"FROM pg_catalog.pg_attrdef \"\n\t\t\t\t\t\t\t\t  \"WHERE adrelid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": "write_msg(NULL, \"finding default expressions of table \\\"%s\\\"\\n\",\n\t\t\t\t\t\t  tbinfo->dobj.name)",
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \"SELECT tableoid, oid, adnum, \"",
          "new_line_content": "\t\t\t\twrite_msg(NULL, \"finding default expressions of table \\\"%s\\\"\\n\",",
          "content_same": false
        },
        {
          "line": 4881,
          "old_api": "strdup",
          "new_api": "PQgetvalue",
          "old_text": "strdup(tbinfo->dobj.name)",
          "new_text": "PQgetvalue(res, j, 1)",
          "old_line_content": "\t\t\t\tattrdefs[j].dobj.name = strdup(tbinfo->dobj.name);",
          "new_line_content": "\t\t\t\tattrdefs[j].dobj.catId.oid = atooid(PQgetvalue(res, j, 1));",
          "content_same": false
        },
        {
          "line": 4909,
          "old_api": "write_msg",
          "new_api": "addObjectDependency",
          "old_text": "write_msg(NULL, \"invalid adnum value %d for table \\\"%s\\\"\\n\",\n\t\t\t\t\t\t\t  adnum, tbinfo->dobj.name)",
          "new_text": "addObjectDependency(&tbinfo->dobj,\n\t\t\t\t\t\t\t\t\t\tattrdefs[j].dobj.dumpId)",
          "old_line_content": "\t\t\t\t\twrite_msg(NULL, \"invalid adnum value %d for table \\\"%s\\\"\\n\",",
          "new_line_content": "\t\t\t\t\taddObjectDependency(&tbinfo->dobj,",
          "content_same": false
        },
        {
          "line": 4915,
          "old_api": "PQclear",
          "new_api": "write_msg",
          "old_text": "PQclear(res)",
          "new_text": "write_msg(NULL, \"invalid adnum value %d for table \\\"%s\\\"\\n\",\n\t\t\t\t\t\t\t  adnum, tbinfo->dobj.name)",
          "old_line_content": "\t\t\tPQclear(res);",
          "new_line_content": "\t\t\t\t\twrite_msg(NULL, \"invalid adnum value %d for table \\\"%s\\\"\\n\",",
          "content_same": false
        },
        {
          "line": 4933,
          "old_api": "pg_get_constraintdef",
          "new_api": "write_msg",
          "old_text": "appendPQExpBuffer(q, \"SELECT tableoid, oid, conname, \"\n\t\t\t\t\t\t\t\"pg_catalog.pg_get_constraintdef(oid) AS consrc, \"\n\t\t\t\t\t\t\t\t  \"conislocal \"\n\t\t\t\t\t\t\t\t  \"FROM pg_catalog.pg_constraint \"\n\t\t\t\t\t\t\t\t  \"WHERE conrelid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t\t\t  \"   AND contype = 'c' \"\n\t\t\t\t\t\t\t\t  \"ORDER BY conname\",\n\t\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": "write_msg(NULL, \"finding check constraints for table \\\"%s\\\"\\n\",\n\t\t\t\t\t\t  tbinfo->dobj.name)",
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \"SELECT tableoid, oid, conname, \"",
          "new_line_content": "\t\t\t\twrite_msg(NULL, \"finding check constraints for table \\\"%s\\\"\\n\",",
          "content_same": false
        },
        {
          "line": 5007,
          "old_api": "ngettext",
          "new_api": "PQexec",
          "old_text": "ngettext(\"expected %d check constraint on table \\\"%s\\\" but found %d\\n\",\n\t\t\t\t\t\t\t\t\t\t \"expected %d check constraints on table \\\"%s\\\" but found %d\\n\",\n\t\t\t\t\t\t\t\t\t\t tbinfo->ncheck)",
          "new_text": "PQexec(g_conn, q->data)",
          "old_line_content": "\t\t\t\twrite_msg(NULL, ngettext(\"expected %d check constraint on table \\\"%s\\\" but found %d\\n\",",
          "new_line_content": "\t\t\tres = PQexec(g_conn, q->data);",
          "content_same": false
        },
        {
          "line": 5021,
          "old_api": "PQgetvalue",
          "new_api": "malloc",
          "old_text": "PQgetvalue(res, j, 0)",
          "new_text": "malloc(numConstrs * sizeof(ConstraintInfo))",
          "old_line_content": "\t\t\t\tconstrs[j].dobj.catId.tableoid = atooid(PQgetvalue(res, j, 0));",
          "new_line_content": "\t\t\tconstrs = (ConstraintInfo *) malloc(numConstrs * sizeof(ConstraintInfo));",
          "content_same": false
        },
        {
          "line": 5029,
          "old_api": "PQgetvalue",
          "new_api": "AssignDumpId",
          "old_text": "PQgetvalue(res, j, 3)",
          "new_text": "AssignDumpId(&constrs[j].dobj)",
          "old_line_content": "\t\t\t\tconstrs[j].condef = strdup(PQgetvalue(res, j, 3));",
          "new_line_content": "\t\t\t\tAssignDumpId(&constrs[j].dobj);",
          "content_same": false
        },
        {
          "line": 5106,
          "old_api": "check_sql_result",
          "new_api": "appendPQExpBuffer",
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, prsname, prsnamespace, \"\n\t\t\t\t\t  \"prsstart::oid, prstoken::oid, \"\n\t\t\t\t\t  \"prsend::oid, prsheadline::oid, prslextype::oid \"\n\t\t\t\t\t  \"FROM pg_ts_parser\")",
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\tappendPQExpBuffer(query, \"SELECT tableoid, oid, prsname, prsnamespace, \"",
          "content_same": false
        },
        {
          "line": 5111,
          "old_api": "malloc",
          "new_api": "PQexec",
          "old_text": "malloc(ntups * sizeof(TSParserInfo))",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\tprsinfo = (TSParserInfo *) malloc(ntups * sizeof(TSParserInfo));",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 5114,
          "old_api": "PQfnumber",
          "new_api": "PQntuples",
          "old_text": "PQfnumber(res, \"oid\")",
          "new_text": "PQntuples(res)",
          "old_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 5117,
          "old_api": "PQfnumber",
          "new_api": "malloc",
          "old_text": "PQfnumber(res, \"prsstart\")",
          "new_text": "malloc(ntups * sizeof(TSParserInfo))",
          "old_line_content": "\ti_prsstart = PQfnumber(res, \"prsstart\");",
          "new_line_content": "\tprsinfo = (TSParserInfo *) malloc(ntups * sizeof(TSParserInfo));",
          "content_same": false
        },
        {
          "line": 5126,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_tableoid)",
          "new_text": "PQfnumber(res, \"prsheadline\")",
          "old_line_content": "\t\tprsinfo[i].dobj.catId.tableoid = atooid(PQgetvalue(res, i, i_tableoid));",
          "new_line_content": "\ti_prsheadline = PQfnumber(res, \"prsheadline\");",
          "content_same": false
        },
        {
          "line": 5127,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_oid)",
          "new_text": "PQfnumber(res, \"prslextype\")",
          "old_line_content": "\t\tprsinfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "new_line_content": "\ti_prslextype = PQfnumber(res, \"prslextype\");",
          "content_same": false
        },
        {
          "line": 5134,
          "old_api": "PQgetvalue",
          "new_api": "AssignDumpId",
          "old_text": "PQgetvalue(res, i, i_prsend)",
          "new_text": "AssignDumpId(&prsinfo[i].dobj)",
          "old_line_content": "\t\tprsinfo[i].prsend = atooid(PQgetvalue(res, i, i_prsend));",
          "new_line_content": "\t\tAssignDumpId(&prsinfo[i].dobj);",
          "content_same": false
        },
        {
          "line": 5139,
          "old_api": "selectDumpableObject",
          "new_api": "PQgetvalue",
          "old_text": "selectDumpableObject(&(prsinfo[i].dobj))",
          "new_text": "PQgetvalue(res, i, i_prstoken)",
          "old_line_content": "\t\tselectDumpableObject(&(prsinfo[i].dobj));",
          "new_line_content": "\t\tprsinfo[i].prstoken = atooid(PQgetvalue(res, i, i_prstoken));",
          "content_same": false
        },
        {
          "line": 5142,
          "old_api": "PQclear",
          "new_api": "PQgetvalue",
          "old_text": "PQclear(res)",
          "new_text": "PQgetvalue(res, i, i_prslextype)",
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\tprsinfo[i].prslextype = atooid(PQgetvalue(res, i, i_prslextype));",
          "content_same": false
        },
        {
          "line": 5188,
          "old_api": "PQexec",
          "new_api": "appendPQExpBuffer",
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, dictname, \"\n\t\t\t\t\t  \"dictnamespace, (%s dictowner) AS rolname, \"\n\t\t\t\t\t  \"dicttemplate, dictinitoption \"\n\t\t\t\t\t  \"FROM pg_ts_dict\",\n\t\t\t\t\t  username_subquery)",
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\tappendPQExpBuffer(query, \"SELECT tableoid, oid, dictname, \"",
          "content_same": false
        },
        {
          "line": 5194,
          "old_api": "malloc",
          "new_api": "PQexec",
          "old_text": "malloc(ntups * sizeof(TSDictInfo))",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\tdictinfo = (TSDictInfo *) malloc(ntups * sizeof(TSDictInfo));",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 5197,
          "old_api": "PQfnumber",
          "new_api": "PQntuples",
          "old_text": "PQfnumber(res, \"oid\")",
          "new_text": "PQntuples(res)",
          "old_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 5200,
          "old_api": "PQfnumber",
          "new_api": "malloc",
          "old_text": "PQfnumber(res, \"rolname\")",
          "new_text": "malloc(ntups * sizeof(TSDictInfo))",
          "old_line_content": "\ti_rolname = PQfnumber(res, \"rolname\");",
          "new_line_content": "\tdictinfo = (TSDictInfo *) malloc(ntups * sizeof(TSDictInfo));",
          "content_same": false
        },
        {
          "line": 5207,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_tableoid)",
          "new_text": "PQfnumber(res, \"dictinitoption\")",
          "old_line_content": "\t\tdictinfo[i].dobj.catId.tableoid = atooid(PQgetvalue(res, i, i_tableoid));",
          "new_line_content": "\ti_dictinitoption = PQfnumber(res, \"dictinitoption\");",
          "content_same": false
        },
        {
          "line": 5208,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_oid)",
          "new_text": "PQfnumber(res, \"dicttemplate\")",
          "old_line_content": "\t\tdictinfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "new_line_content": "\ti_dicttemplate = PQfnumber(res, \"dicttemplate\");",
          "content_same": false
        },
        {
          "line": 5215,
          "old_api": "PQgetisnull",
          "new_api": "AssignDumpId",
          "old_text": "PQgetisnull(res, i, i_dictinitoption)",
          "new_text": "AssignDumpId(&dictinfo[i].dobj)",
          "old_line_content": "\t\tif (PQgetisnull(res, i, i_dictinitoption))",
          "new_line_content": "\t\tAssignDumpId(&dictinfo[i].dobj);",
          "content_same": false
        },
        {
          "line": 5221,
          "old_api": "selectDumpableObject",
          "new_api": "PQgetisnull",
          "old_text": "selectDumpableObject(&(dictinfo[i].dobj))",
          "new_text": "PQgetisnull(res, i, i_dictinitoption)",
          "old_line_content": "\t\tselectDumpableObject(&(dictinfo[i].dobj));",
          "new_line_content": "\t\tif (PQgetisnull(res, i, i_dictinitoption))",
          "content_same": false
        },
        {
          "line": 5224,
          "old_api": "PQclear",
          "new_api": "PQgetvalue",
          "old_text": "PQclear(res)",
          "new_text": "PQgetvalue(res, i, i_dictinitoption)",
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\t\tdictinfo[i].dictinitoption = strdup(PQgetvalue(res, i, i_dictinitoption));",
          "content_same": false
        },
        {
          "line": 5267,
          "old_api": "PQexec",
          "new_api": "selectSourceSchema",
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": "selectSourceSchema(\"pg_catalog\")",
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 5273,
          "old_api": "malloc",
          "new_api": "PQexec",
          "old_text": "malloc(ntups * sizeof(TSTemplateInfo))",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\ttmplinfo = (TSTemplateInfo *) malloc(ntups * sizeof(TSTemplateInfo));",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 5276,
          "old_api": "PQfnumber",
          "new_api": "PQntuples",
          "old_text": "PQfnumber(res, \"oid\")",
          "new_text": "PQntuples(res)",
          "old_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 5279,
          "old_api": "PQfnumber",
          "new_api": "malloc",
          "old_text": "PQfnumber(res, \"tmplinit\")",
          "new_text": "malloc(ntups * sizeof(TSTemplateInfo))",
          "old_line_content": "\ti_tmplinit = PQfnumber(res, \"tmplinit\");",
          "new_line_content": "\ttmplinfo = (TSTemplateInfo *) malloc(ntups * sizeof(TSTemplateInfo));",
          "content_same": false
        },
        {
          "line": 5285,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_tableoid)",
          "new_text": "PQfnumber(res, \"tmplinit\")",
          "old_line_content": "\t\ttmplinfo[i].dobj.catId.tableoid = atooid(PQgetvalue(res, i, i_tableoid));",
          "new_line_content": "\ti_tmplinit = PQfnumber(res, \"tmplinit\");",
          "content_same": false
        },
        {
          "line": 5286,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_oid)",
          "new_text": "PQfnumber(res, \"tmpllexize\")",
          "old_line_content": "\t\ttmplinfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "new_line_content": "\ti_tmpllexize = PQfnumber(res, \"tmpllexize\");",
          "content_same": false
        },
        {
          "line": 5295,
          "old_api": "selectDumpableObject",
          "new_api": "PQgetvalue",
          "old_text": "selectDumpableObject(&(tmplinfo[i].dobj))",
          "new_text": "PQgetvalue(res, i, i_tmplnamespace)",
          "old_line_content": "\t\tselectDumpableObject(&(tmplinfo[i].dobj));",
          "new_line_content": "\t\ttmplinfo[i].dobj.namespace = findNamespace(atooid(PQgetvalue(res, i, i_tmplnamespace)),",
          "content_same": false
        },
        {
          "line": 5298,
          "old_api": "PQclear",
          "new_api": "PQgetvalue",
          "old_text": "PQclear(res)",
          "new_text": "PQgetvalue(res, i, i_tmpllexize)",
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\ttmplinfo[i].tmpllexize = atooid(PQgetvalue(res, i, i_tmpllexize));",
          "content_same": false
        },
        {
          "line": 5343,
          "old_api": "check_sql_result",
          "new_api": "appendPQExpBuffer",
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, cfgname, \"\n\t\t\t\t\t  \"cfgnamespace, (%s cfgowner) AS rolname, cfgparser \"\n\t\t\t\t\t  \"FROM pg_ts_config\",\n\t\t\t\t\t  username_subquery)",
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\tappendPQExpBuffer(query, \"SELECT tableoid, oid, cfgname, \"",
          "content_same": false
        },
        {
          "line": 5348,
          "old_api": "malloc",
          "new_api": "PQexec",
          "old_text": "malloc(ntups * sizeof(TSConfigInfo))",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\tcfginfo = (TSConfigInfo *) malloc(ntups * sizeof(TSConfigInfo));",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 5351,
          "old_api": "PQfnumber",
          "new_api": "PQntuples",
          "old_text": "PQfnumber(res, \"oid\")",
          "new_text": "PQntuples(res)",
          "old_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 5354,
          "old_api": "PQfnumber",
          "new_api": "malloc",
          "old_text": "PQfnumber(res, \"rolname\")",
          "new_text": "malloc(ntups * sizeof(TSConfigInfo))",
          "old_line_content": "\ti_rolname = PQfnumber(res, \"rolname\");",
          "new_line_content": "\tcfginfo = (TSConfigInfo *) malloc(ntups * sizeof(TSConfigInfo));",
          "content_same": false
        },
        {
          "line": 5360,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_tableoid)",
          "new_text": "PQfnumber(res, \"rolname\")",
          "old_line_content": "\t\tcfginfo[i].dobj.catId.tableoid = atooid(PQgetvalue(res, i, i_tableoid));",
          "new_line_content": "\ti_rolname = PQfnumber(res, \"rolname\");",
          "content_same": false
        },
        {
          "line": 5361,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_oid)",
          "new_text": "PQfnumber(res, \"cfgparser\")",
          "old_line_content": "\t\tcfginfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "new_line_content": "\ti_cfgparser = PQfnumber(res, \"cfgparser\");",
          "content_same": false
        },
        {
          "line": 5370,
          "old_api": "selectDumpableObject",
          "new_api": "PQgetvalue",
          "old_text": "selectDumpableObject(&(cfginfo[i].dobj))",
          "new_text": "PQgetvalue(res, i, i_cfgnamespace)",
          "old_line_content": "\t\tselectDumpableObject(&(cfginfo[i].dobj));",
          "new_line_content": "\t\tcfginfo[i].dobj.namespace = findNamespace(atooid(PQgetvalue(res, i, i_cfgnamespace)),",
          "content_same": false
        },
        {
          "line": 5373,
          "old_api": "PQclear",
          "new_api": "PQgetvalue",
          "old_text": "PQclear(res)",
          "new_text": "PQgetvalue(res, i, i_cfgparser)",
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\tcfginfo[i].cfgparser = atooid(PQgetvalue(res, i, i_cfgparser));",
          "content_same": false
        },
        {
          "line": 5426,
          "old_api": "malloc",
          "new_api": "PQexec",
          "old_text": "malloc(ntups * sizeof(FdwInfo))",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\tfdwinfo = (FdwInfo *) malloc(ntups * sizeof(FdwInfo));",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 5429,
          "old_api": "PQfnumber",
          "new_api": "PQntuples",
          "old_text": "PQfnumber(res, \"fdwname\")",
          "new_text": "PQntuples(res)",
          "old_line_content": "\ti_fdwname = PQfnumber(res, \"fdwname\");",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 5432,
          "old_api": "PQfnumber",
          "new_api": "malloc",
          "old_text": "PQfnumber(res, \"fdwacl\")",
          "new_text": "malloc(ntups * sizeof(FdwInfo))",
          "old_line_content": "\ti_fdwacl = PQfnumber(res, \"fdwacl\");",
          "new_line_content": "\tfdwinfo = (FdwInfo *) malloc(ntups * sizeof(FdwInfo));",
          "content_same": false
        },
        {
          "line": 5438,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_oid)",
          "new_text": "PQfnumber(res, \"fdwacl\")",
          "old_line_content": "\t\tfdwinfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "new_line_content": "\ti_fdwacl = PQfnumber(res, \"fdwacl\");",
          "content_same": false
        },
        {
          "line": 5439,
          "old_api": "AssignDumpId",
          "new_api": "PQfnumber",
          "old_text": "AssignDumpId(&fdwinfo[i].dobj)",
          "new_text": "PQfnumber(res, \"fdwoptions\")",
          "old_line_content": "\t\tAssignDumpId(&fdwinfo[i].dobj);",
          "new_line_content": "\ti_fdwoptions = PQfnumber(res, \"fdwoptions\");",
          "content_same": false
        },
        {
          "line": 5445,
          "old_api": "PQgetvalue",
          "new_api": "AssignDumpId",
          "old_text": "PQgetvalue(res, i, i_fdwacl)",
          "new_text": "AssignDumpId(&fdwinfo[i].dobj)",
          "old_line_content": "\t\tfdwinfo[i].fdwacl = strdup(PQgetvalue(res, i, i_fdwacl));",
          "new_line_content": "\t\tAssignDumpId(&fdwinfo[i].dobj);",
          "content_same": false
        },
        {
          "line": 5449,
          "old_api": "selectDumpableObject",
          "new_api": "PQgetvalue",
          "old_text": "selectDumpableObject(&(fdwinfo[i].dobj))",
          "new_text": "PQgetvalue(res, i, i_fdwvalidator)",
          "old_line_content": "\t\tselectDumpableObject(&(fdwinfo[i].dobj));",
          "new_line_content": "\t\tfdwinfo[i].fdwvalidator = strdup(PQgetvalue(res, i, i_fdwvalidator));",
          "content_same": false
        },
        {
          "line": 5508,
          "old_api": "malloc",
          "new_api": "PQexec",
          "old_text": "malloc(ntups * sizeof(ForeignServerInfo))",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\tsrvinfo = (ForeignServerInfo *) malloc(ntups * sizeof(ForeignServerInfo));",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 5511,
          "old_api": "PQfnumber",
          "new_api": "PQntuples",
          "old_text": "PQfnumber(res, \"srvname\")",
          "new_text": "PQntuples(res)",
          "old_line_content": "\ti_srvname = PQfnumber(res, \"srvname\");",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 5514,
          "old_api": "PQfnumber",
          "new_api": "malloc",
          "old_text": "PQfnumber(res, \"srvtype\")",
          "new_text": "malloc(ntups * sizeof(ForeignServerInfo))",
          "old_line_content": "\ti_srvtype = PQfnumber(res, \"srvtype\");",
          "new_line_content": "\tsrvinfo = (ForeignServerInfo *) malloc(ntups * sizeof(ForeignServerInfo));",
          "content_same": false
        },
        {
          "line": 5522,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_oid)",
          "new_text": "PQfnumber(res, \"srvacl\")",
          "old_line_content": "\t\tsrvinfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "new_line_content": "\ti_srvacl = PQfnumber(res, \"srvacl\");",
          "content_same": false
        },
        {
          "line": 5523,
          "old_api": "AssignDumpId",
          "new_api": "PQfnumber",
          "old_text": "AssignDumpId(&srvinfo[i].dobj)",
          "new_text": "PQfnumber(res, \"srvoptions\")",
          "old_line_content": "\t\tAssignDumpId(&srvinfo[i].dobj);",
          "new_line_content": "\ti_srvoptions = PQfnumber(res, \"srvoptions\");",
          "content_same": false
        },
        {
          "line": 5529,
          "old_api": "PQgetvalue",
          "new_api": "AssignDumpId",
          "old_text": "PQgetvalue(res, i, i_srvversion)",
          "new_text": "AssignDumpId(&srvinfo[i].dobj)",
          "old_line_content": "\t\tsrvinfo[i].srvversion = strdup(PQgetvalue(res, i, i_srvversion));",
          "new_line_content": "\t\tAssignDumpId(&srvinfo[i].dobj);",
          "content_same": false
        },
        {
          "line": 5534,
          "old_api": "selectDumpableObject",
          "new_api": "PQgetvalue",
          "old_text": "selectDumpableObject(&(srvinfo[i].dobj))",
          "new_text": "PQgetvalue(res, i, i_srvtype)",
          "old_line_content": "\t\tselectDumpableObject(&(srvinfo[i].dobj));",
          "new_line_content": "\t\tsrvinfo[i].srvtype = strdup(PQgetvalue(res, i, i_srvtype));",
          "content_same": false
        },
        {
          "line": 5537,
          "old_api": "PQclear",
          "new_api": "PQgetvalue",
          "old_text": "PQclear(res)",
          "new_text": "PQgetvalue(res, i, i_srvacl)",
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\tsrvinfo[i].srvacl = strdup(PQgetvalue(res, i, i_srvacl));",
          "content_same": false
        },
        {
          "line": 5657,
          "old_api": "appendStringLiteralAH",
          "new_api": "resetPQExpBuffer",
          "old_text": "appendStringLiteralAH(query, descr, fout)",
          "new_text": "resetPQExpBuffer(target)",
          "old_line_content": "\t\t\tappendStringLiteralAH(query, descr, fout);",
          "new_line_content": "\t\t\tresetPQExpBuffer(target);",
          "content_same": false
        },
        {
          "line": 5679,
          "old_api": "appendStringLiteralAH",
          "new_api": "fmtId",
          "old_text": "appendStringLiteralAH(query, descr, fout)",
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t\t\tappendStringLiteralAH(query, descr, fout);",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 5840,
          "old_api": "check_sql_result",
          "new_api": "appendPQExpBuffer",
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": "appendPQExpBuffer(query, \"SELECT description, 0 AS classoid, objoid, 0 AS objsubid \"\n\t\t\t\t\t\t  \"FROM pg_description \"\n\t\t\t\t\t\t  \"ORDER BY objoid\")",
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT description, 0 AS classoid, objoid, 0 AS objsubid \"",
          "content_same": false
        },
        {
          "line": 5845,
          "old_api": "PQfnumber",
          "new_api": "PQexec",
          "old_text": "PQfnumber(res, \"classoid\")",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\ti_classoid = PQfnumber(res, \"classoid\");",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 5846,
          "old_api": "PQfnumber",
          "new_api": "check_sql_result",
          "old_text": "PQfnumber(res, \"objoid\")",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\ti_objoid = PQfnumber(res, \"objoid\");",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 5851,
          "old_api": "malloc",
          "new_api": "PQfnumber",
          "old_text": "malloc(ntups * sizeof(CommentItem))",
          "new_text": "PQfnumber(res, \"classoid\")",
          "old_line_content": "\tcomments = (CommentItem *) malloc(ntups * sizeof(CommentItem));",
          "new_line_content": "\ti_classoid = PQfnumber(res, \"classoid\");",
          "content_same": false
        },
        {
          "line": 5855,
          "old_api": "PQgetvalue",
          "new_api": "PQntuples",
          "old_text": "PQgetvalue(res, i, i_description)",
          "new_text": "PQntuples(res)",
          "old_line_content": "\t\tcomments[i].descr = PQgetvalue(res, i, i_description);",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 5857,
          "old_api": "PQgetvalue",
          "new_api": "malloc",
          "old_text": "PQgetvalue(res, i, i_objoid)",
          "new_text": "malloc(ntups * sizeof(CommentItem))",
          "old_line_content": "\t\tcomments[i].objoid = atooid(PQgetvalue(res, i, i_objoid));",
          "new_line_content": "\tcomments = (CommentItem *) malloc(ntups * sizeof(CommentItem));",
          "content_same": false
        },
        {
          "line": 5862,
          "old_api": "destroyPQExpBuffer",
          "new_api": "PQgetvalue",
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": "PQgetvalue(res, i, i_classoid)",
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\tcomments[i].classoid = atooid(PQgetvalue(res, i, i_classoid));",
          "content_same": false
        },
        {
          "line": 5886,
          "old_api": "dumpShellType",
          "new_api": "dumpNamespace",
          "old_text": "dumpShellType(fout, (ShellTypeInfo *) dobj)",
          "new_text": "dumpNamespace(fout, (NamespaceInfo *) dobj)",
          "old_line_content": "\t\t\tdumpShellType(fout, (ShellTypeInfo *) dobj);",
          "new_line_content": "\t\t\tdumpNamespace(fout, (NamespaceInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5889,
          "old_api": "dumpFunc",
          "new_api": "dumpType",
          "old_text": "dumpFunc(fout, (FuncInfo *) dobj)",
          "new_text": "dumpType(fout, (TypeInfo *) dobj)",
          "old_line_content": "\t\t\tdumpFunc(fout, (FuncInfo *) dobj);",
          "new_line_content": "\t\t\tdumpType(fout, (TypeInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5892,
          "old_api": "dumpAgg",
          "new_api": "dumpShellType",
          "old_text": "dumpAgg(fout, (AggInfo *) dobj)",
          "new_text": "dumpShellType(fout, (ShellTypeInfo *) dobj)",
          "old_line_content": "\t\t\tdumpAgg(fout, (AggInfo *) dobj);",
          "new_line_content": "\t\t\tdumpShellType(fout, (ShellTypeInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5895,
          "old_api": "dumpOpr",
          "new_api": "dumpFunc",
          "old_text": "dumpOpr(fout, (OprInfo *) dobj)",
          "new_text": "dumpFunc(fout, (FuncInfo *) dobj)",
          "old_line_content": "\t\t\tdumpOpr(fout, (OprInfo *) dobj);",
          "new_line_content": "\t\t\tdumpFunc(fout, (FuncInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5898,
          "old_api": "dumpOpclass",
          "new_api": "dumpAgg",
          "old_text": "dumpOpclass(fout, (OpclassInfo *) dobj)",
          "new_text": "dumpAgg(fout, (AggInfo *) dobj)",
          "old_line_content": "\t\t\tdumpOpclass(fout, (OpclassInfo *) dobj);",
          "new_line_content": "\t\t\tdumpAgg(fout, (AggInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5901,
          "old_api": "dumpOpfamily",
          "new_api": "dumpOpr",
          "old_text": "dumpOpfamily(fout, (OpfamilyInfo *) dobj)",
          "new_text": "dumpOpr(fout, (OprInfo *) dobj)",
          "old_line_content": "\t\t\tdumpOpfamily(fout, (OpfamilyInfo *) dobj);",
          "new_line_content": "\t\t\tdumpOpr(fout, (OprInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5904,
          "old_api": "dumpConversion",
          "new_api": "dumpOpclass",
          "old_text": "dumpConversion(fout, (ConvInfo *) dobj)",
          "new_text": "dumpOpclass(fout, (OpclassInfo *) dobj)",
          "old_line_content": "\t\t\tdumpConversion(fout, (ConvInfo *) dobj);",
          "new_line_content": "\t\t\tdumpOpclass(fout, (OpclassInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5907,
          "old_api": "dumpTable",
          "new_api": "dumpOpfamily",
          "old_text": "dumpTable(fout, (TableInfo *) dobj)",
          "new_text": "dumpOpfamily(fout, (OpfamilyInfo *) dobj)",
          "old_line_content": "\t\t\tdumpTable(fout, (TableInfo *) dobj);",
          "new_line_content": "\t\t\tdumpOpfamily(fout, (OpfamilyInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5910,
          "old_api": "dumpAttrDef",
          "new_api": "dumpConversion",
          "old_text": "dumpAttrDef(fout, (AttrDefInfo *) dobj)",
          "new_text": "dumpConversion(fout, (ConvInfo *) dobj)",
          "old_line_content": "\t\t\tdumpAttrDef(fout, (AttrDefInfo *) dobj);",
          "new_line_content": "\t\t\tdumpConversion(fout, (ConvInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5913,
          "old_api": "dumpIndex",
          "new_api": "dumpTable",
          "old_text": "dumpIndex(fout, (IndxInfo *) dobj)",
          "new_text": "dumpTable(fout, (TableInfo *) dobj)",
          "old_line_content": "\t\t\tdumpIndex(fout, (IndxInfo *) dobj);",
          "new_line_content": "\t\t\tdumpTable(fout, (TableInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5916,
          "old_api": "dumpRule",
          "new_api": "dumpAttrDef",
          "old_text": "dumpRule(fout, (RuleInfo *) dobj)",
          "new_text": "dumpAttrDef(fout, (AttrDefInfo *) dobj)",
          "old_line_content": "\t\t\tdumpRule(fout, (RuleInfo *) dobj);",
          "new_line_content": "\t\t\tdumpAttrDef(fout, (AttrDefInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5919,
          "old_api": "dumpTrigger",
          "new_api": "dumpIndex",
          "old_text": "dumpTrigger(fout, (TriggerInfo *) dobj)",
          "new_text": "dumpIndex(fout, (IndxInfo *) dobj)",
          "old_line_content": "\t\t\tdumpTrigger(fout, (TriggerInfo *) dobj);",
          "new_line_content": "\t\t\tdumpIndex(fout, (IndxInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5922,
          "old_api": "dumpConstraint",
          "new_api": "dumpRule",
          "old_text": "dumpConstraint(fout, (ConstraintInfo *) dobj)",
          "new_text": "dumpRule(fout, (RuleInfo *) dobj)",
          "old_line_content": "\t\t\tdumpConstraint(fout, (ConstraintInfo *) dobj);",
          "new_line_content": "\t\t\tdumpRule(fout, (RuleInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5925,
          "old_api": "dumpConstraint",
          "new_api": "dumpTrigger",
          "old_text": "dumpConstraint(fout, (ConstraintInfo *) dobj)",
          "new_text": "dumpTrigger(fout, (TriggerInfo *) dobj)",
          "old_line_content": "\t\t\tdumpConstraint(fout, (ConstraintInfo *) dobj);",
          "new_line_content": "\t\t\tdumpTrigger(fout, (TriggerInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5928,
          "old_api": "dumpProcLang",
          "new_api": "dumpConstraint",
          "old_text": "dumpProcLang(fout, (ProcLangInfo *) dobj)",
          "new_text": "dumpConstraint(fout, (ConstraintInfo *) dobj)",
          "old_line_content": "\t\t\tdumpProcLang(fout, (ProcLangInfo *) dobj);",
          "new_line_content": "\t\t\tdumpConstraint(fout, (ConstraintInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5931,
          "old_api": "dumpCast",
          "new_api": "dumpConstraint",
          "old_text": "dumpCast(fout, (CastInfo *) dobj)",
          "new_text": "dumpConstraint(fout, (ConstraintInfo *) dobj)",
          "old_line_content": "\t\t\tdumpCast(fout, (CastInfo *) dobj);",
          "new_line_content": "\t\t\tdumpConstraint(fout, (ConstraintInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5934,
          "old_api": "dumpTableData",
          "new_api": "dumpProcLang",
          "old_text": "dumpTableData(fout, (TableDataInfo *) dobj)",
          "new_text": "dumpProcLang(fout, (ProcLangInfo *) dobj)",
          "old_line_content": "\t\t\tdumpTableData(fout, (TableDataInfo *) dobj);",
          "new_line_content": "\t\t\tdumpProcLang(fout, (ProcLangInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5940,
          "old_api": "dumpTSParser",
          "new_api": "dumpTableData",
          "old_text": "dumpTSParser(fout, (TSParserInfo *) dobj)",
          "new_text": "dumpTableData(fout, (TableDataInfo *) dobj)",
          "old_line_content": "\t\t\tdumpTSParser(fout, (TSParserInfo *) dobj);",
          "new_line_content": "\t\t\tdumpTableData(fout, (TableDataInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5946,
          "old_api": "dumpTSTemplate",
          "new_api": "dumpTSParser",
          "old_text": "dumpTSTemplate(fout, (TSTemplateInfo *) dobj)",
          "new_text": "dumpTSParser(fout, (TSParserInfo *) dobj)",
          "old_line_content": "\t\t\tdumpTSTemplate(fout, (TSTemplateInfo *) dobj);",
          "new_line_content": "\t\t\tdumpTSParser(fout, (TSParserInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5949,
          "old_api": "dumpTSConfig",
          "new_api": "dumpTSDictionary",
          "old_text": "dumpTSConfig(fout, (TSConfigInfo *) dobj)",
          "new_text": "dumpTSDictionary(fout, (TSDictInfo *) dobj)",
          "old_line_content": "\t\t\tdumpTSConfig(fout, (TSConfigInfo *) dobj);",
          "new_line_content": "\t\t\tdumpTSDictionary(fout, (TSDictInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5952,
          "old_api": "dumpForeignDataWrapper",
          "new_api": "dumpTSTemplate",
          "old_text": "dumpForeignDataWrapper(fout, (FdwInfo *) dobj)",
          "new_text": "dumpTSTemplate(fout, (TSTemplateInfo *) dobj)",
          "old_line_content": "\t\t\tdumpForeignDataWrapper(fout, (FdwInfo *) dobj);",
          "new_line_content": "\t\t\tdumpTSTemplate(fout, (TSTemplateInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5955,
          "old_api": "dumpForeignServer",
          "new_api": "dumpTSConfig",
          "old_text": "dumpForeignServer(fout, (ForeignServerInfo *) dobj)",
          "new_text": "dumpTSConfig(fout, (TSConfigInfo *) dobj)",
          "old_line_content": "\t\t\tdumpForeignServer(fout, (ForeignServerInfo *) dobj);",
          "new_line_content": "\t\t\tdumpTSConfig(fout, (TSConfigInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5958,
          "old_api": "ArchiveEntry",
          "new_api": "dumpForeignDataWrapper",
          "old_text": "ArchiveEntry(fout, dobj->catId, dobj->dumpId,\n\t\t\t\t\t\t dobj->name, NULL, NULL, \"\",\n\t\t\t\t\t\t false, \"BLOBS\", SECTION_DATA,\n\t\t\t\t\t\t \"\", \"\", NULL,\n\t\t\t\t\t\t dobj->dependencies, dobj->nDeps,\n\t\t\t\t\t\t dumpBlobs, NULL)",
          "new_text": "dumpForeignDataWrapper(fout, (FdwInfo *) dobj)",
          "old_line_content": "\t\t\tArchiveEntry(fout, dobj->catId, dobj->dumpId,",
          "new_line_content": "\t\t\tdumpForeignDataWrapper(fout, (FdwInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5998,
          "old_api": "fmtId",
          "new_api": "strlen",
          "old_text": "fmtId(nspinfo->dobj.name)",
          "new_text": "strlen(nspinfo->dobj.name)",
          "old_line_content": "\tqnspname = strdup(fmtId(nspinfo->dobj.name));",
          "new_line_content": "\tif (strlen(nspinfo->dobj.name) == 0)",
          "content_same": false
        },
        {
          "line": 6002,
          "old_api": "appendPQExpBuffer",
          "new_api": "createPQExpBuffer",
          "old_text": "appendPQExpBuffer(q, \"CREATE SCHEMA %s;\\n\", qnspname)",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tappendPQExpBuffer(q, \"CREATE SCHEMA %s;\\n\", qnspname);",
          "new_line_content": "\tdelq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 6004,
          "old_api": "ArchiveEntry",
          "new_api": "fmtId",
          "old_text": "ArchiveEntry(fout, nspinfo->dobj.catId, nspinfo->dobj.dumpId,\n\t\t\t\t nspinfo->dobj.name,\n\t\t\t\t NULL, NULL,\n\t\t\t\t nspinfo->rolname,\n\t\t\t\t false, \"SCHEMA\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t nspinfo->dobj.dependencies, nspinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": "fmtId(nspinfo->dobj.name)",
          "old_line_content": "\tArchiveEntry(fout, nspinfo->dobj.catId, nspinfo->dobj.dumpId,",
          "new_line_content": "\tqnspname = strdup(fmtId(nspinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 6020,
          "old_api": "dumpACL",
          "new_api": "resetPQExpBuffer",
          "old_text": "dumpACL(fout, nspinfo->dobj.catId, nspinfo->dobj.dumpId, \"SCHEMA\",\n\t\t\tqnspname, NULL, nspinfo->dobj.name, NULL,\n\t\t\tnspinfo->rolname, nspinfo->nspacl)",
          "new_text": "resetPQExpBuffer(q)",
          "old_line_content": "\tdumpACL(fout, nspinfo->dobj.catId, nspinfo->dobj.dumpId, \"SCHEMA\",",
          "new_line_content": "\tresetPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 6026,
          "old_api": "destroyPQExpBuffer",
          "new_api": "dumpACL",
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": "dumpACL(fout, nspinfo->dobj.catId, nspinfo->dobj.dumpId, \"SCHEMA\",\n\t\t\tqnspname, NULL, nspinfo->dobj.name, NULL,\n\t\t\tnspinfo->rolname, nspinfo->nspacl)",
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\tdumpACL(fout, nspinfo->dobj.catId, nspinfo->dobj.dumpId, \"SCHEMA\",",
          "content_same": false
        },
        {
          "line": 6049,
          "old_api": "dumpEnumType",
          "new_api": "dumpBaseType",
          "old_text": "dumpEnumType(fout, tinfo)",
          "new_text": "dumpBaseType(fout, tinfo)",
          "old_line_content": "\t\tdumpEnumType(fout, tinfo);",
          "new_line_content": "\t\tdumpBaseType(fout, tinfo);",
          "content_same": false
        },
        {
          "line": 6076,
          "old_api": "check_sql_result",
          "new_api": "appendPQExpBuffer",
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": "appendPQExpBuffer(query, \"SELECT enumlabel FROM pg_catalog.pg_enum \"\n\t\t\t\t\t  \"WHERE enumtypid = '%u'\"\n\t\t\t\t\t  \"ORDER BY oid\",\n\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\tappendPQExpBuffer(query, \"SELECT enumlabel FROM pg_catalog.pg_enum \"",
          "content_same": false
        },
        {
          "line": 6082,
          "old_api": "write_msg",
          "new_api": "check_sql_result",
          "old_text": "write_msg(NULL, \"no label definitions found for enum ID %u\\n\", tinfo->dobj.catId.oid)",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\twrite_msg(NULL, \"no label definitions found for enum ID %u\\n\", tinfo->dobj.catId.oid);",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 6099,
          "old_api": "PQgetvalue",
          "new_api": "appendPQExpBuffer",
          "old_text": "PQgetvalue(res, i, 0)",
          "new_text": "appendPQExpBuffer(delq, \"%s;\\n\",\n\t\t\t\t\t  fmtId(tinfo->dobj.name))",
          "old_line_content": "\t\tlabel = PQgetvalue(res, i, 0);",
          "new_line_content": "\tappendPQExpBuffer(delq, \"%s;\\n\",",
          "content_same": false
        },
        {
          "line": 6102,
          "old_api": "appendPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "appendPQExpBuffer(q, \"    \")",
          "new_text": "fmtId(tinfo->dobj.name)",
          "old_line_content": "\t\tappendPQExpBuffer(q, \"    \");",
          "new_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 6105,
          "old_api": "appendPQExpBuffer",
          "new_api": "PQgetvalue",
          "old_text": "appendPQExpBuffer(q, \"\\n);\\n\")",
          "new_text": "PQgetvalue(res, i, 0)",
          "old_line_content": "\tappendPQExpBuffer(q, \"\\n);\\n\");",
          "new_line_content": "\t\tlabel = PQgetvalue(res, i, 0);",
          "content_same": false
        },
        {
          "line": 6107,
          "old_api": "ArchiveEntry",
          "new_api": "appendPQExpBuffer",
          "old_text": "ArchiveEntry(fout, tinfo->dobj.catId, tinfo->dobj.dumpId,\n\t\t\t\t tinfo->dobj.name,\n\t\t\t\t tinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t tinfo->rolname, false,\n\t\t\t\t \"TYPE\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t tinfo->dobj.dependencies, tinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": "appendPQExpBuffer(q, \",\\n\")",
          "old_line_content": "\tArchiveEntry(fout, tinfo->dobj.catId, tinfo->dobj.dumpId,",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \",\\n\");",
          "content_same": false
        },
        {
          "line": 6126,
          "old_api": "destroyPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": "fmtId(tinfo->dobj.name)",
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\tappendPQExpBuffer(q, \"TYPE %s\", fmtId(tinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 6127,
          "old_api": "destroyPQExpBuffer",
          "new_api": "dumpComment",
          "old_text": "destroyPQExpBuffer(delq)",
          "new_text": "dumpComment(fout, q->data,\n\t\t\t\ttinfo->dobj.namespace->dobj.name, tinfo->rolname,\n\t\t\t\ttinfo->dobj.catId, 0, tinfo->dobj.dumpId)",
          "old_line_content": "\tdestroyPQExpBuffer(delq);",
          "new_line_content": "\tdumpComment(fout, q->data,",
          "content_same": false
        },
        {
          "line": 6340,
          "old_api": "ngettext",
          "new_api": "check_sql_result",
          "old_text": "ngettext(\"query returned %d row instead of one: %s\\n\",\n\t\t\t\t\t\t\t\t \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t\t\t\t\t ntups)",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\twrite_msg(NULL, ngettext(\"query returned %d row instead of one: %s\\n\",",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 6350,
          "old_api": "PQfnumber",
          "new_api": "exit_nicely",
          "old_text": "PQfnumber(res, \"typreceive\")",
          "new_text": "exit_nicely()",
          "old_line_content": "\ttypreceive = PQgetvalue(res, 0, PQfnumber(res, \"typreceive\"));",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 6392,
          "old_api": "fmtId",
          "new_api": "appendPQExpBuffer",
          "old_text": "fmtId(tinfo->dobj.name)",
          "new_text": "appendPQExpBuffer(delq, \"%s CASCADE;\\n\",\n\t\t\t\t\t  fmtId(tinfo->dobj.name))",
          "old_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.name),",
          "new_line_content": "\tappendPQExpBuffer(delq, \"%s CASCADE;\\n\",",
          "content_same": false
        },
        {
          "line": 6393,
          "old_api": "strcmp",
          "new_api": "fmtId",
          "old_text": "strcmp(typlen, \"-1\")",
          "new_text": "fmtId(tinfo->dobj.name)",
          "old_line_content": "\t\t\t\t\t  (strcmp(typlen, \"-1\") == 0) ? \"variable\" : typlen);",
          "new_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 6398,
          "old_api": "appendPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "appendPQExpBuffer(q, \",\\n    INPUT = %s\", typinput)",
          "new_text": "fmtId(tinfo->dobj.name)",
          "old_line_content": "\t\tappendPQExpBuffer(q, \",\\n    INPUT = %s\", typinput);",
          "new_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.name),",
          "content_same": false
        },
        {
          "line": 6399,
          "old_api": "appendPQExpBuffer",
          "new_api": "strcmp",
          "old_text": "appendPQExpBuffer(q, \",\\n    OUTPUT = %s\", typoutput)",
          "new_text": "strcmp(typlen, \"-1\")",
          "old_line_content": "\t\tappendPQExpBuffer(q, \",\\n    OUTPUT = %s\", typoutput);",
          "new_line_content": "\t\t\t\t\t  (strcmp(typlen, \"-1\") == 0) ? \"variable\" : typlen);",
          "content_same": false
        },
        {
          "line": 6404,
          "old_api": "OidIsValid",
          "new_api": "appendPQExpBuffer",
          "old_text": "OidIsValid(typmodinoid)",
          "new_text": "appendPQExpBuffer(q, \",\\n    INPUT = %s\", typinput)",
          "old_line_content": "\t\tif (OidIsValid(typmodinoid))",
          "new_line_content": "\t\tappendPQExpBuffer(q, \",\\n    INPUT = %s\", typinput);",
          "content_same": false
        },
        {
          "line": 6415,
          "old_api": "fmtId",
          "new_api": "appendPQExpBuffer",
          "old_text": "fmtId(typinput)",
          "new_text": "appendPQExpBuffer(q, \",\\n    ANALYZE = %s\", typanalyze)",
          "old_line_content": "\t\tappendPQExpBuffer(q, \",\\n    INPUT = %s\", fmtId(typinput));",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \",\\n    ANALYZE = %s\", typanalyze);",
          "content_same": false
        },
        {
          "line": 6422,
          "old_api": "appendPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "appendPQExpBuffer(q, \",\\n    DEFAULT = \")",
          "new_text": "fmtId(typoutput)",
          "old_line_content": "\t\tappendPQExpBuffer(q, \",\\n    DEFAULT = \");",
          "new_line_content": "\t\tappendPQExpBuffer(q, \",\\n    OUTPUT = %s\", fmtId(typoutput));",
          "content_same": false
        },
        {
          "line": 6435,
          "old_api": "getFormattedTypeName",
          "new_api": "OidIsValid",
          "old_text": "getFormattedTypeName(tinfo->typelem, zeroAsOpaque)",
          "new_text": "OidIsValid(tinfo->typelem)",
          "old_line_content": "\t\telemType = getFormattedTypeName(tinfo->typelem, zeroAsOpaque);",
          "new_line_content": "\tif (OidIsValid(tinfo->typelem))",
          "content_same": false
        },
        {
          "line": 6440,
          "old_api": "strcmp",
          "new_api": "selectSourceSchema",
          "old_text": "strcmp(typcategory, \"U\")",
          "new_text": "selectSourceSchema(tinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\tif (strcmp(typcategory, \"U\") != 0)",
          "new_line_content": "\t\tselectSourceSchema(tinfo->dobj.namespace->dobj.name);",
          "content_same": false
        },
        {
          "line": 6443,
          "old_api": "appendStringLiteralAH",
          "new_api": "free",
          "old_text": "appendStringLiteralAH(q, typcategory, fout)",
          "new_text": "free(elemType)",
          "old_line_content": "\t\tappendStringLiteralAH(q, typcategory, fout);",
          "new_line_content": "\t\tfree(elemType);",
          "content_same": false
        },
        {
          "line": 6449,
          "old_api": "strcmp",
          "new_api": "appendStringLiteralAH",
          "old_text": "strcmp(typdelim, \",\")",
          "new_text": "appendStringLiteralAH(q, typcategory, fout)",
          "old_line_content": "\tif (typdelim && strcmp(typdelim, \",\") != 0)",
          "new_line_content": "\t\tappendStringLiteralAH(q, typcategory, fout);",
          "content_same": false
        },
        {
          "line": 6452,
          "old_api": "appendStringLiteralAH",
          "new_api": "strcmp",
          "old_text": "appendStringLiteralAH(q, typdelim, fout)",
          "new_text": "strcmp(typispreferred, \"t\")",
          "old_line_content": "\t\tappendStringLiteralAH(q, typdelim, fout);",
          "new_line_content": "\tif (strcmp(typispreferred, \"t\") == 0)",
          "content_same": false
        },
        {
          "line": 6457,
          "old_api": "strcmp",
          "new_api": "appendPQExpBuffer",
          "old_text": "strcmp(typalign, \"s\")",
          "new_text": "appendPQExpBuffer(q, \",\\n    DELIMITER = \")",
          "old_line_content": "\telse if (strcmp(typalign, \"s\") == 0)",
          "new_line_content": "\t\tappendPQExpBuffer(q, \",\\n    DELIMITER = \");",
          "content_same": false
        },
        {
          "line": 6458,
          "old_api": "appendPQExpBuffer",
          "new_api": "appendStringLiteralAH",
          "old_text": "appendPQExpBuffer(q, \",\\n    ALIGNMENT = int2\")",
          "new_text": "appendStringLiteralAH(q, typdelim, fout)",
          "old_line_content": "\t\tappendPQExpBuffer(q, \",\\n    ALIGNMENT = int2\");",
          "new_line_content": "\t\tappendStringLiteralAH(q, typdelim, fout);",
          "content_same": false
        },
        {
          "line": 6464,
          "old_api": "strcmp",
          "new_api": "appendPQExpBuffer",
          "old_text": "strcmp(typstorage, \"p\")",
          "new_text": "appendPQExpBuffer(q, \",\\n    ALIGNMENT = int2\")",
          "old_line_content": "\tif (strcmp(typstorage, \"p\") == 0)",
          "new_line_content": "\t\tappendPQExpBuffer(q, \",\\n    ALIGNMENT = int2\");",
          "content_same": false
        },
        {
          "line": 6465,
          "old_api": "appendPQExpBuffer",
          "new_api": "strcmp",
          "old_text": "appendPQExpBuffer(q, \",\\n    STORAGE = plain\")",
          "new_text": "strcmp(typalign, \"i\")",
          "old_line_content": "\t\tappendPQExpBuffer(q, \",\\n    STORAGE = plain\");",
          "new_line_content": "\telse if (strcmp(typalign, \"i\") == 0)",
          "content_same": false
        },
        {
          "line": 6466,
          "old_api": "strcmp",
          "new_api": "appendPQExpBuffer",
          "old_text": "strcmp(typstorage, \"e\")",
          "new_text": "appendPQExpBuffer(q, \",\\n    ALIGNMENT = int4\")",
          "old_line_content": "\telse if (strcmp(typstorage, \"e\") == 0)",
          "new_line_content": "\t\tappendPQExpBuffer(q, \",\\n    ALIGNMENT = int4\");",
          "content_same": false
        },
        {
          "line": 6467,
          "old_api": "appendPQExpBuffer",
          "new_api": "strcmp",
          "old_text": "appendPQExpBuffer(q, \",\\n    STORAGE = external\")",
          "new_text": "strcmp(typalign, \"d\")",
          "old_line_content": "\t\tappendPQExpBuffer(q, \",\\n    STORAGE = external\");",
          "new_line_content": "\telse if (strcmp(typalign, \"d\") == 0)",
          "content_same": false
        },
        {
          "line": 6468,
          "old_api": "strcmp",
          "new_api": "appendPQExpBuffer",
          "old_text": "strcmp(typstorage, \"x\")",
          "new_text": "appendPQExpBuffer(q, \",\\n    ALIGNMENT = double\")",
          "old_line_content": "\telse if (strcmp(typstorage, \"x\") == 0)",
          "new_line_content": "\t\tappendPQExpBuffer(q, \",\\n    ALIGNMENT = double\");",
          "content_same": false
        },
        {
          "line": 6473,
          "old_api": "strcmp",
          "new_api": "appendPQExpBuffer",
          "old_text": "strcmp(typbyval, \"t\")",
          "new_text": "appendPQExpBuffer(q, \",\\n    STORAGE = external\")",
          "old_line_content": "\tif (strcmp(typbyval, \"t\") == 0)",
          "new_line_content": "\t\tappendPQExpBuffer(q, \",\\n    STORAGE = external\");",
          "content_same": false
        },
        {
          "line": 6474,
          "old_api": "appendPQExpBuffer",
          "new_api": "strcmp",
          "old_text": "appendPQExpBuffer(q, \",\\n    PASSEDBYVALUE\")",
          "new_text": "strcmp(typstorage, \"x\")",
          "old_line_content": "\t\tappendPQExpBuffer(q, \",\\n    PASSEDBYVALUE\");",
          "new_line_content": "\telse if (strcmp(typstorage, \"x\") == 0)",
          "content_same": false
        },
        {
          "line": 6476,
          "old_api": "appendPQExpBuffer",
          "new_api": "strcmp",
          "old_text": "appendPQExpBuffer(q, \"\\n);\\n\")",
          "new_text": "strcmp(typstorage, \"m\")",
          "old_line_content": "\tappendPQExpBuffer(q, \"\\n);\\n\");",
          "new_line_content": "\telse if (strcmp(typstorage, \"m\") == 0)",
          "content_same": false
        },
        {
          "line": 6497,
          "old_api": "destroyPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": "fmtId(tinfo->dobj.name)",
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\tappendPQExpBuffer(q, \"TYPE %s\", fmtId(tinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 6498,
          "old_api": "destroyPQExpBuffer",
          "new_api": "dumpComment",
          "old_text": "destroyPQExpBuffer(delq)",
          "new_text": "dumpComment(fout, q->data,\n\t\t\t\ttinfo->dobj.namespace->dobj.name, tinfo->rolname,\n\t\t\t\ttinfo->dobj.catId, 0, tinfo->dobj.dumpId)",
          "old_line_content": "\tdestroyPQExpBuffer(delq);",
          "new_line_content": "\tdumpComment(fout, q->data,",
          "content_same": false
        },
        {
          "line": 6539,
          "old_api": "ngettext",
          "new_api": "check_sql_result",
          "old_text": "ngettext(\"query returned %d row instead of one: %s\\n\",\n\t\t\t\t\t\t\t\t \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t\t\t\t\t ntups)",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\twrite_msg(NULL, ngettext(\"query returned %d row instead of one: %s\\n\",",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 6549,
          "old_api": "PQfnumber",
          "new_api": "exit_nicely",
          "old_text": "PQfnumber(res, \"typdefaultbin\")",
          "new_text": "exit_nicely()",
          "old_line_content": "\t\ttypdefault = PQgetvalue(res, 0, PQfnumber(res, \"typdefaultbin\"));",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 6558,
          "old_api": "appendPQExpBuffer",
          "new_api": "PQfnumber",
          "old_text": "appendPQExpBuffer(q,\n\t\t\t\t\t  \"CREATE DOMAIN %s AS %s\",\n\t\t\t\t\t  fmtId(tinfo->dobj.name),\n\t\t\t\t\t  typdefn)",
          "new_text": "PQfnumber(res, \"typdefault\")",
          "old_line_content": "\tappendPQExpBuffer(q,",
          "new_line_content": "\t\ttypdefault = PQgetvalue(res, 0, PQfnumber(res, \"typdefault\"));",
          "content_same": false
        },
        {
          "line": 6570,
          "old_api": "appendStringLiteralAH",
          "new_api": "appendPQExpBuffer",
          "old_text": "appendStringLiteralAH(q, typdefault, fout)",
          "new_text": "appendPQExpBuffer(q, \" NOT NULL\")",
          "old_line_content": "\t\t\tappendStringLiteralAH(q, typdefault, fout);",
          "new_line_content": "\t\tappendPQExpBuffer(q, \" NOT NULL\");",
          "content_same": false
        },
        {
          "line": 6595,
          "old_api": "fmtId",
          "new_api": "appendPQExpBuffer",
          "old_text": "fmtId(tinfo->dobj.namespace->dobj.name)",
          "new_text": "appendPQExpBuffer(q, \";\\n\")",
          "old_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.namespace->dobj.name));",
          "new_line_content": "\tappendPQExpBuffer(q, \";\\n\");",
          "content_same": false
        },
        {
          "line": 6618,
          "old_api": "destroyPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "destroyPQExpBuffer(delq)",
          "new_text": "fmtId(tinfo->dobj.name)",
          "old_line_content": "\tdestroyPQExpBuffer(delq);",
          "new_line_content": "\tappendPQExpBuffer(q, \"DOMAIN %s\", fmtId(tinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 6619,
          "old_api": "destroyPQExpBuffer",
          "new_api": "dumpComment",
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": "dumpComment(fout, q->data,\n\t\t\t\ttinfo->dobj.namespace->dobj.name, tinfo->rolname,\n\t\t\t\ttinfo->dobj.catId, 0, tinfo->dobj.dumpId)",
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\tdumpComment(fout, q->data,",
          "content_same": false
        },
        {
          "line": 6661,
          "old_api": "write_msg",
          "new_api": "check_sql_result",
          "old_text": "write_msg(NULL, \"query returned no rows: %s\\n\", query->data)",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\twrite_msg(NULL, \"query returned no rows: %s\\n\", query->data);",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 6668,
          "old_api": "appendPQExpBuffer",
          "new_api": "exit_nicely",
          "old_text": "appendPQExpBuffer(q, \"CREATE TYPE %s AS (\",\n\t\t\t\t\t  fmtId(tinfo->dobj.name))",
          "new_text": "exit_nicely()",
          "old_line_content": "\tappendPQExpBuffer(q, \"CREATE TYPE %s AS (\",",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 6683,
          "old_api": "appendPQExpBuffer",
          "new_api": "PQgetvalue",
          "old_text": "appendPQExpBuffer(q, \"\\n);\\n\")",
          "new_text": "PQgetvalue(res, i, i_atttypdefn)",
          "old_line_content": "\tappendPQExpBuffer(q, \"\\n);\\n\");",
          "new_line_content": "\t\tatttypdefn = PQgetvalue(res, i, i_atttypdefn);",
          "content_same": false
        },
        {
          "line": 6689,
          "old_api": "fmtId",
          "new_api": "appendPQExpBuffer",
          "old_text": "fmtId(tinfo->dobj.namespace->dobj.name)",
          "new_text": "appendPQExpBuffer(q, \"\\n);\\n\")",
          "old_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.namespace->dobj.name));",
          "new_line_content": "\tappendPQExpBuffer(q, \"\\n);\\n\");",
          "content_same": false
        },
        {
          "line": 6713,
          "old_api": "destroyPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": "fmtId(tinfo->dobj.name)",
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\tappendPQExpBuffer(q, \"TYPE %s\", fmtId(tinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 6714,
          "old_api": "destroyPQExpBuffer",
          "new_api": "dumpComment",
          "old_text": "destroyPQExpBuffer(delq)",
          "new_text": "dumpComment(fout, q->data,\n\t\t\t\ttinfo->dobj.namespace->dobj.name, tinfo->rolname,\n\t\t\t\ttinfo->dobj.catId, 0, tinfo->dobj.dumpId)",
          "old_line_content": "\tdestroyPQExpBuffer(delq);",
          "new_line_content": "\tdumpComment(fout, q->data,",
          "content_same": false
        },
        {
          "line": 6833,
          "old_api": "createPQExpBuffer",
          "new_api": "OidIsValid",
          "old_text": "createPQExpBuffer()",
          "new_text": "OidIsValid(plang->lanvalidator)",
          "old_line_content": "\tdelqry = createPQExpBuffer();",
          "new_line_content": "\t\t\t\t (validatorInfo != NULL || !OidIsValid(plang->lanvalidator)));",
          "content_same": false
        },
        {
          "line": 6835,
          "old_api": "fmtId",
          "new_api": "shouldDumpProcLangs",
          "old_text": "fmtId(plang->dobj.name)",
          "new_text": "shouldDumpProcLangs()",
          "old_line_content": "\tqlanname = strdup(fmtId(plang->dobj.name));",
          "new_line_content": "\tif (!useParams && !shouldDumpProcLangs())",
          "content_same": false
        },
        {
          "line": 6856,
          "old_api": "fmtId",
          "new_api": "appendPQExpBuffer",
          "old_text": "fmtId(funcInfo->dobj.name)",
          "new_text": "appendPQExpBuffer(defqry, \"CREATE %sPROCEDURAL LANGUAGE %s\",\n\t\t\t\t\t  (useParams && plang->lanpltrusted) ? \"TRUSTED \" : \"\",\n\t\t\t\t\t  qlanname)",
          "old_line_content": "\t\t\t\t\t\t  fmtId(funcInfo->dobj.name));",
          "new_line_content": "\tappendPQExpBuffer(defqry, \"CREATE %sPROCEDURAL LANGUAGE %s\",",
          "content_same": false
        },
        {
          "line": 6862,
          "old_api": "appendPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "appendPQExpBuffer(defqry, \"%s.\",\n\t\t\t\t\t\t\tfmtId(validatorInfo->dobj.namespace->dobj.name))",
          "new_text": "fmtId(funcInfo->dobj.name)",
          "old_line_content": "\t\t\t\tappendPQExpBuffer(defqry, \"%s.\",",
          "new_line_content": "\t\t\t\t\t\t  fmtId(funcInfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 6863,
          "old_api": "fmtId",
          "new_api": "OidIsValid",
          "old_text": "fmtId(validatorInfo->dobj.namespace->dobj.name)",
          "new_text": "OidIsValid(plang->lanvalidator)",
          "old_line_content": "\t\t\t\t\t\t\tfmtId(validatorInfo->dobj.namespace->dobj.name));",
          "new_line_content": "\t\tif (OidIsValid(plang->lanvalidator))",
          "content_same": false
        },
        {
          "line": 6865,
          "old_api": "fmtId",
          "new_api": "appendPQExpBuffer",
          "old_text": "fmtId(validatorInfo->dobj.name)",
          "new_text": "appendPQExpBuffer(defqry, \" VALIDATOR \")",
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(validatorInfo->dobj.name));",
          "new_line_content": "\t\t\tappendPQExpBuffer(defqry, \" VALIDATOR \");",
          "content_same": false
        },
        {
          "line": 6870,
          "old_api": "ArchiveEntry",
          "new_api": "appendPQExpBuffer",
          "old_text": "ArchiveEntry(fout, plang->dobj.catId, plang->dobj.dumpId,\n\t\t\t\t plang->dobj.name,\n\t\t\t\t lanschema, NULL, plang->lanowner,\n\t\t\t\t false, \"PROCEDURAL LANGUAGE\", SECTION_PRE_DATA,\n\t\t\t\t defqry->data, delqry->data, NULL,\n\t\t\t\t plang->dobj.dependencies, plang->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": "appendPQExpBuffer(defqry, \"%s\",\n\t\t\t\t\t\t\t  fmtId(validatorInfo->dobj.name))",
          "old_line_content": "\tArchiveEntry(fout, plang->dobj.catId, plang->dobj.dumpId,",
          "new_line_content": "\t\t\tappendPQExpBuffer(defqry, \"%s\",",
          "content_same": false
        },
        {
          "line": 6886,
          "old_api": "dumpACL",
          "new_api": "appendPQExpBuffer",
          "old_text": "dumpACL(fout, plang->dobj.catId, plang->dobj.dumpId, \"LANGUAGE\",\n\t\t\t\tqlanname, NULL, plang->dobj.name,\n\t\t\t\tlanschema,\n\t\t\t\tplang->lanowner, plang->lanacl)",
          "new_text": "appendPQExpBuffer(defqry, \"LANGUAGE %s\", qlanname)",
          "old_line_content": "\t\tdumpACL(fout, plang->dobj.catId, plang->dobj.dumpId, \"LANGUAGE\",",
          "new_line_content": "\tappendPQExpBuffer(defqry, \"LANGUAGE %s\", qlanname);",
          "content_same": false
        },
        {
          "line": 6976,
          "old_api": "free",
          "new_api": "appendPQExpBuffer",
          "old_text": "free(typname)",
          "new_text": "appendPQExpBuffer(&fn, \"%s%s%s%s%s\",\n\t\t\t\t\t\t  (j > 0) ? \", \" : \"\",\n\t\t\t\t\t\t  argmode,\n\t\t\t\t\t\t  argname ? fmtId(argname) : \"\",\n\t\t\t\t\t\t  argname ? \" \" : \"\",\n\t\t\t\t\t\t  typname)",
          "old_line_content": "\t\tfree(typname);",
          "new_line_content": "\t\tappendPQExpBuffer(&fn, \"%s%s%s%s%s\",",
          "content_same": false
        },
        {
          "line": 7071,
          "old_api": "selectSourceSchema",
          "new_api": "createPQExpBuffer",
          "old_text": "selectSourceSchema(finfo->dobj.namespace->dobj.name)",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tselectSourceSchema(finfo->dobj.namespace->dobj.name);",
          "new_line_content": "\tquery = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 7190,
          "old_api": "ngettext",
          "new_api": "check_sql_result",
          "old_text": "ngettext(\"query returned %d row instead of one: %s\\n\",\n\t\t\t\t\t\t\t\t \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t\t\t\t\t ntups)",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\twrite_msg(NULL, ngettext(\"query returned %d row instead of one: %s\\n\",",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 7235,
          "old_api": "appendPQExpBuffer",
          "new_api": "strcmp",
          "old_text": "appendPQExpBuffer(asPart, \", \")",
          "new_text": "strcmp(probin, \"-\")",
          "old_line_content": "\t\t\tappendPQExpBuffer(asPart, \", \");",
          "new_line_content": "\tif (probin[0] != '\\0' && strcmp(probin, \"-\") != 0)",
          "content_same": false
        },
        {
          "line": 7328,
          "old_api": "format_function_arguments_old",
          "new_api": "format_function_arguments",
          "old_text": "format_function_arguments_old(finfo, nallargs, allargtypes,\n\t\t\t\t\t\t\t\t\t\t\t\targmodes, argnames)",
          "new_text": "format_function_arguments(finfo, funcargs)",
          "old_line_content": "\t\tfuncsig = format_function_arguments_old(finfo, nallargs, allargtypes,",
          "new_line_content": "\t\tfuncfullsig = format_function_arguments(finfo, funcargs);",
          "content_same": false
        },
        {
          "line": 7339,
          "old_api": "fmtId",
          "new_api": "format_function_signature",
          "old_text": "fmtId(finfo->dobj.namespace->dobj.name)",
          "new_text": "format_function_signature(finfo, false)",
          "old_line_content": "\t\t\t\t\t  fmtId(finfo->dobj.namespace->dobj.name),",
          "new_line_content": "\tfuncsig_tag = format_function_signature(finfo, false);",
          "content_same": false
        },
        {
          "line": 7354,
          "old_api": "fmtId",
          "new_api": "appendPQExpBuffer",
          "old_text": "fmtId(lanname)",
          "new_text": "appendPQExpBuffer(q, \"RETURNS %s%s\",\n\t\t\t\t\t\t  (proretset[0] == 't') ? \"SETOF \" : \"\",\n\t\t\t\t\t\t  rettypename)",
          "old_line_content": "\tappendPQExpBuffer(q, \"\\n    LANGUAGE %s\", fmtId(lanname));",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"RETURNS %s%s\",",
          "content_same": false
        },
        {
          "line": 7357,
          "old_api": "appendPQExpBuffer",
          "new_api": "free",
          "old_text": "appendPQExpBuffer(q, \" WINDOW\")",
          "new_text": "free(rettypename)",
          "old_line_content": "\t\tappendPQExpBuffer(q, \" WINDOW\");",
          "new_line_content": "\t\tfree(rettypename);",
          "content_same": false
        },
        {
          "line": 7390,
          "old_api": "appendPQExpBuffer",
          "new_api": "strcmp",
          "old_text": "appendPQExpBuffer(q, \" COST %s\", procost)",
          "new_text": "strcmp(procost, \"0\")",
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \" COST %s\", procost);",
          "new_line_content": "\tif (strcmp(procost, \"0\") != 0)",
          "content_same": false
        },
        {
          "line": 7401,
          "old_api": "appendPQExpBuffer",
          "new_api": "strcmp",
          "old_text": "appendPQExpBuffer(q, \" ROWS %s\", prorows)",
          "new_text": "strcmp(procost, \"100\")",
          "old_line_content": "\t\tappendPQExpBuffer(q, \" ROWS %s\", prorows);",
          "new_line_content": "\t\t\tif (strcmp(procost, \"100\") != 0)",
          "content_same": false
        },
        {
          "line": 7419,
          "old_api": "pg_strcasecmp",
          "new_api": "fmtId",
          "old_text": "pg_strcasecmp(configitem, \"DateStyle\")",
          "new_text": "fmtId(configitem)",
          "old_line_content": "\t\tif (pg_strcasecmp(configitem, \"DateStyle\") == 0",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"\\n    SET %s TO \", fmtId(configitem));",
          "content_same": false
        },
        {
          "line": 7426,
          "old_api": "appendPQExpBuffer",
          "new_api": "pg_strcasecmp",
          "old_text": "appendPQExpBuffer(q, \"\\n    %s;\\n\", asPart->data)",
          "new_text": "pg_strcasecmp(configitem, \"search_path\")",
          "old_line_content": "\tappendPQExpBuffer(q, \"\\n    %s;\\n\", asPart->data);",
          "new_line_content": "\t\t\t|| pg_strcasecmp(configitem, \"search_path\") == 0)",
          "content_same": false
        },
        {
          "line": 7445,
          "old_api": "dumpACL",
          "new_api": "resetPQExpBuffer",
          "old_text": "dumpACL(fout, finfo->dobj.catId, finfo->dobj.dumpId, \"FUNCTION\",\n\t\t\tfuncsig, NULL, funcsig_tag,\n\t\t\tfinfo->dobj.namespace->dobj.name,\n\t\t\tfinfo->rolname, finfo->proacl)",
          "new_text": "resetPQExpBuffer(q)",
          "old_line_content": "\tdumpACL(fout, finfo->dobj.catId, finfo->dobj.dumpId, \"FUNCTION\",",
          "new_line_content": "\tresetPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 7456,
          "old_api": "free",
          "new_api": "PQclear",
          "old_text": "free(funcsig)",
          "new_text": "PQclear(res)",
          "old_line_content": "\tfree(funcsig);",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 7459,
          "old_api": "free",
          "new_api": "destroyPQExpBuffer",
          "old_text": "free(allargtypes)",
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": "\t\tfree(allargtypes);",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 7461,
          "old_api": "free",
          "new_api": "destroyPQExpBuffer",
          "old_text": "free(argmodes)",
          "new_text": "destroyPQExpBuffer(asPart)",
          "old_line_content": "\t\tfree(argmodes);",
          "new_line_content": "\tdestroyPQExpBuffer(asPart);",
          "content_same": false
        },
        {
          "line": 7542,
          "old_api": "appendPQExpBuffer",
          "new_api": "selectSourceSchema",
          "old_text": "appendPQExpBuffer(delqry, \"DROP CAST (%s AS %s);\\n\",\n\t\t\t\t\t  getFormattedTypeName(cast->castsource, zeroAsNone),\n\t\t\t\t\t  getFormattedTypeName(cast->casttarget, zeroAsNone))",
          "new_text": "selectSourceSchema(\"pg_catalog\")",
          "old_line_content": "\tappendPQExpBuffer(delqry, \"DROP CAST (%s AS %s);\\n\",",
          "new_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 7544,
          "old_api": "getFormattedTypeName",
          "new_api": "createPQExpBuffer",
          "old_text": "getFormattedTypeName(cast->casttarget, zeroAsNone)",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t  getFormattedTypeName(cast->casttarget, zeroAsNone));",
          "new_line_content": "\tdefqry = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 7546,
          "old_api": "appendPQExpBuffer",
          "new_api": "createPQExpBuffer",
          "old_text": "appendPQExpBuffer(defqry, \"CREATE CAST (%s AS %s) \",\n\t\t\t\t\t  getFormattedTypeName(cast->castsource, zeroAsNone),\n\t\t\t\t\t  getFormattedTypeName(cast->casttarget, zeroAsNone))",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tappendPQExpBuffer(defqry, \"CREATE CAST (%s AS %s) \",",
          "new_line_content": "\tcastsig = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 7548,
          "old_api": "getFormattedTypeName",
          "new_api": "appendPQExpBuffer",
          "old_text": "getFormattedTypeName(cast->casttarget, zeroAsNone)",
          "new_text": "appendPQExpBuffer(delqry, \"DROP CAST (%s AS %s);\\n\",\n\t\t\t\t\t  getFormattedTypeName(cast->castsource, zeroAsNone),\n\t\t\t\t\t  getFormattedTypeName(cast->casttarget, zeroAsNone))",
          "old_line_content": "\t\t\t\t\t  getFormattedTypeName(cast->casttarget, zeroAsNone));",
          "new_line_content": "\tappendPQExpBuffer(delqry, \"DROP CAST (%s AS %s);\\n\",",
          "content_same": false
        },
        {
          "line": 7553,
          "old_api": "appendPQExpBuffer",
          "new_api": "getFormattedTypeName",
          "old_text": "appendPQExpBuffer(defqry, \"WITHOUT FUNCTION\")",
          "new_text": "getFormattedTypeName(cast->castsource, zeroAsNone)",
          "old_line_content": "\t\t\tappendPQExpBuffer(defqry, \"WITHOUT FUNCTION\");",
          "new_line_content": "\t\t\t\t\t  getFormattedTypeName(cast->castsource, zeroAsNone),",
          "content_same": false
        },
        {
          "line": 7569,
          "old_api": "write_msg",
          "new_api": "appendPQExpBuffer",
          "old_text": "write_msg(NULL, \"WARNING: bogus value in pg_cast.castmethod field\\n\")",
          "new_text": "appendPQExpBuffer(defqry, \"WITH FUNCTION %s.\",\n\t\t\t\t\t\t\t  fmtId(funcInfo->dobj.namespace->dobj.name))",
          "old_line_content": "\t\t\twrite_msg(NULL, \"WARNING: bogus value in pg_cast.castmethod field\\n\");",
          "new_line_content": "\t\t\tappendPQExpBuffer(defqry, \"WITH FUNCTION %s.\",",
          "content_same": false
        },
        {
          "line": 7575,
          "old_api": "appendPQExpBuffer",
          "new_api": "write_msg",
          "old_text": "appendPQExpBuffer(defqry, \" AS IMPLICIT\")",
          "new_text": "write_msg(NULL, \"WARNING: bogus value in pg_cast.castmethod field\\n\")",
          "old_line_content": "\t\tappendPQExpBuffer(defqry, \" AS IMPLICIT\");",
          "new_line_content": "\t\t\twrite_msg(NULL, \"WARNING: bogus value in pg_cast.castmethod field\\n\");",
          "content_same": false
        },
        {
          "line": 7579,
          "old_api": "getFormattedTypeName",
          "new_api": "appendPQExpBuffer",
          "old_text": "getFormattedTypeName(cast->castsource, zeroAsNone)",
          "new_text": "appendPQExpBuffer(defqry, \" AS ASSIGNMENT\")",
          "old_line_content": "\t\t\t\t\t  getFormattedTypeName(cast->castsource, zeroAsNone),",
          "new_line_content": "\t\tappendPQExpBuffer(defqry, \" AS ASSIGNMENT\");",
          "content_same": false
        },
        {
          "line": 7582,
          "old_api": "ArchiveEntry",
          "new_api": "appendPQExpBuffer",
          "old_text": "ArchiveEntry(fout, cast->dobj.catId, cast->dobj.dumpId,\n\t\t\t\t castsig->data,\n\t\t\t\t \"pg_catalog\", NULL, \"\",\n\t\t\t\t false, \"CAST\", SECTION_PRE_DATA,\n\t\t\t\t defqry->data, delqry->data, NULL,\n\t\t\t\t cast->dobj.dependencies, cast->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": "appendPQExpBuffer(defqry, \";\\n\")",
          "old_line_content": "\tArchiveEntry(fout, cast->dobj.catId, cast->dobj.dumpId,",
          "new_line_content": "\tappendPQExpBuffer(defqry, \";\\n\");",
          "content_same": false
        },
        {
          "line": 7599,
          "old_api": "destroyPQExpBuffer",
          "new_api": "getFormattedTypeName",
          "old_text": "destroyPQExpBuffer(defqry)",
          "new_text": "getFormattedTypeName(cast->castsource, zeroAsNone)",
          "old_line_content": "\tdestroyPQExpBuffer(defqry);",
          "new_line_content": "\t\t\t\t\t  getFormattedTypeName(cast->castsource, zeroAsNone),",
          "content_same": false
        },
        {
          "line": 7600,
          "old_api": "destroyPQExpBuffer",
          "new_api": "getFormattedTypeName",
          "old_text": "destroyPQExpBuffer(delqry)",
          "new_text": "getFormattedTypeName(cast->casttarget, zeroAsNone)",
          "old_line_content": "\tdestroyPQExpBuffer(delqry);",
          "new_line_content": "\t\t\t\t\t  getFormattedTypeName(cast->casttarget, zeroAsNone));",
          "content_same": false
        },
        {
          "line": 7601,
          "old_api": "destroyPQExpBuffer",
          "new_api": "dumpComment",
          "old_text": "destroyPQExpBuffer(castsig)",
          "new_text": "dumpComment(fout, defqry->data,\n\t\t\t\tNULL, \"\",\n\t\t\t\tcast->dobj.catId, 0, cast->dobj.dumpId)",
          "old_line_content": "\tdestroyPQExpBuffer(castsig);",
          "new_line_content": "\tdumpComment(fout, defqry->data,",
          "content_same": false
        },
        {
          "line": 7654,
          "old_api": "createPQExpBuffer",
          "new_api": "OidIsValid",
          "old_text": "createPQExpBuffer()",
          "new_text": "OidIsValid(oprinfo->oprcode)",
          "old_line_content": "\toprid = createPQExpBuffer();",
          "new_line_content": "\tif (!OidIsValid(oprinfo->oprcode))",
          "content_same": false
        },
        {
          "line": 7658,
          "old_api": "selectSourceSchema",
          "new_api": "createPQExpBuffer",
          "old_text": "selectSourceSchema(oprinfo->dobj.namespace->dobj.name)",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tselectSourceSchema(oprinfo->dobj.namespace->dobj.name);",
          "new_line_content": "\tq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 7727,
          "old_api": "write_msg",
          "new_api": "check_sql_result",
          "old_text": "write_msg(NULL, \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t  ntups, query->data)",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\twrite_msg(NULL, \"query returned %d rows instead of one: %s\\n\",",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 7733,
          "old_api": "PQfnumber",
          "new_api": "write_msg",
          "old_text": "PQfnumber(res, \"oprcode\")",
          "new_text": "write_msg(NULL, \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t  ntups, query->data)",
          "old_line_content": "\ti_oprcode = PQfnumber(res, \"oprcode\");",
          "new_line_content": "\t\twrite_msg(NULL, \"query returned %d rows instead of one: %s\\n\",",
          "content_same": false
        },
        {
          "line": 7735,
          "old_api": "PQfnumber",
          "new_api": "exit_nicely",
          "old_text": "PQfnumber(res, \"oprright\")",
          "new_text": "exit_nicely()",
          "old_line_content": "\ti_oprright = PQfnumber(res, \"oprright\");",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 7743,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, 0, i_oprkind)",
          "new_text": "PQfnumber(res, \"oprnegate\")",
          "old_line_content": "\toprkind = PQgetvalue(res, 0, i_oprkind);",
          "new_line_content": "\ti_oprnegate = PQfnumber(res, \"oprnegate\");",
          "content_same": false
        },
        {
          "line": 7744,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, 0, i_oprcode)",
          "new_text": "PQfnumber(res, \"oprrest\")",
          "old_line_content": "\toprcode = PQgetvalue(res, 0, i_oprcode);",
          "new_line_content": "\ti_oprrest = PQfnumber(res, \"oprrest\");",
          "content_same": false
        },
        {
          "line": 7745,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, 0, i_oprleft)",
          "new_text": "PQfnumber(res, \"oprjoin\")",
          "old_line_content": "\toprleft = PQgetvalue(res, 0, i_oprleft);",
          "new_line_content": "\ti_oprjoin = PQfnumber(res, \"oprjoin\");",
          "content_same": false
        },
        {
          "line": 7746,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, 0, i_oprright)",
          "new_text": "PQfnumber(res, \"oprcanmerge\")",
          "old_line_content": "\toprright = PQgetvalue(res, 0, i_oprright);",
          "new_line_content": "\ti_oprcanmerge = PQfnumber(res, \"oprcanmerge\");",
          "content_same": false
        },
        {
          "line": 7747,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, 0, i_oprcom)",
          "new_text": "PQfnumber(res, \"oprcanhash\")",
          "old_line_content": "\toprcom = PQgetvalue(res, 0, i_oprcom);",
          "new_line_content": "\ti_oprcanhash = PQfnumber(res, \"oprcanhash\");",
          "content_same": false
        },
        {
          "line": 7754,
          "old_api": "appendPQExpBuffer",
          "new_api": "PQgetvalue",
          "old_text": "appendPQExpBuffer(details, \"    PROCEDURE = %s\",\n\t\t\t\t\t  convertRegProcReference(oprcode))",
          "new_text": "PQgetvalue(res, 0, i_oprnegate)",
          "old_line_content": "\tappendPQExpBuffer(details, \"    PROCEDURE = %s\",",
          "new_line_content": "\toprnegate = PQgetvalue(res, 0, i_oprnegate);",
          "content_same": false
        },
        {
          "line": 7755,
          "old_api": "convertRegProcReference",
          "new_api": "PQgetvalue",
          "old_text": "convertRegProcReference(oprcode)",
          "new_text": "PQgetvalue(res, 0, i_oprrest)",
          "old_line_content": "\t\t\t\t\t  convertRegProcReference(oprcode));",
          "new_line_content": "\toprrest = PQgetvalue(res, 0, i_oprrest);",
          "content_same": false
        },
        {
          "line": 7757,
          "old_api": "appendPQExpBuffer",
          "new_api": "PQgetvalue",
          "old_text": "appendPQExpBuffer(oprid, \"%s (\",\n\t\t\t\t\t  oprinfo->dobj.name)",
          "new_text": "PQgetvalue(res, 0, i_oprcanmerge)",
          "old_line_content": "\tappendPQExpBuffer(oprid, \"%s (\",",
          "new_line_content": "\toprcanmerge = PQgetvalue(res, 0, i_oprcanmerge);",
          "content_same": false
        },
        {
          "line": 7770,
          "old_api": "fmtId",
          "new_api": "strcmp",
          "old_text": "fmtId(oprleft)",
          "new_text": "strcmp(oprkind, \"r\")",
          "old_line_content": "\t\t\tname = fmtId(oprleft);",
          "new_line_content": "\tif (strcmp(oprkind, \"r\") == 0 ||",
          "content_same": false
        },
        {
          "line": 7771,
          "old_api": "appendPQExpBuffer",
          "new_api": "strcmp",
          "old_text": "appendPQExpBuffer(details, \",\\n    LEFTARG = %s\", name)",
          "new_text": "strcmp(oprkind, \"b\")",
          "old_line_content": "\t\tappendPQExpBuffer(details, \",\\n    LEFTARG = %s\", name);",
          "new_line_content": "\t\tstrcmp(oprkind, \"b\") == 0)",
          "content_same": false
        },
        {
          "line": 7777,
          "old_api": "strcmp",
          "new_api": "appendPQExpBuffer",
          "old_text": "strcmp(oprkind, \"l\")",
          "new_text": "appendPQExpBuffer(details, \",\\n    LEFTARG = %s\", name)",
          "old_line_content": "\tif (strcmp(oprkind, \"l\") == 0 ||",
          "new_line_content": "\t\tappendPQExpBuffer(details, \",\\n    LEFTARG = %s\", name);",
          "content_same": false
        },
        {
          "line": 7778,
          "old_api": "strcmp",
          "new_api": "appendPQExpBuffer",
          "old_text": "strcmp(oprkind, \"b\")",
          "new_text": "appendPQExpBuffer(oprid, \"%s\", name)",
          "old_line_content": "\t\tstrcmp(oprkind, \"b\") == 0)",
          "new_line_content": "\t\tappendPQExpBuffer(oprid, \"%s\", name);",
          "content_same": false
        },
        {
          "line": 7783,
          "old_api": "fmtId",
          "new_api": "strcmp",
          "old_text": "fmtId(oprright)",
          "new_text": "strcmp(oprkind, \"l\")",
          "old_line_content": "\t\t\tname = fmtId(oprright);",
          "new_line_content": "\tif (strcmp(oprkind, \"l\") == 0 ||",
          "content_same": false
        },
        {
          "line": 7784,
          "old_api": "appendPQExpBuffer",
          "new_api": "strcmp",
          "old_text": "appendPQExpBuffer(details, \",\\n    RIGHTARG = %s\", name)",
          "new_text": "strcmp(oprkind, \"b\")",
          "old_line_content": "\t\tappendPQExpBuffer(details, \",\\n    RIGHTARG = %s\", name);",
          "new_line_content": "\t\tstrcmp(oprkind, \"b\") == 0)",
          "content_same": false
        },
        {
          "line": 7790,
          "old_api": "convertOperatorReference",
          "new_api": "appendPQExpBuffer",
          "old_text": "convertOperatorReference(oprcom)",
          "new_text": "appendPQExpBuffer(details, \",\\n    RIGHTARG = %s\", name)",
          "old_line_content": "\tname = convertOperatorReference(oprcom);",
          "new_line_content": "\t\tappendPQExpBuffer(details, \",\\n    RIGHTARG = %s\", name);",
          "content_same": false
        },
        {
          "line": 7794,
          "old_api": "convertOperatorReference",
          "new_api": "appendPQExpBuffer",
          "old_text": "convertOperatorReference(oprnegate)",
          "new_text": "appendPQExpBuffer(oprid, \", NONE)\")",
          "old_line_content": "\tname = convertOperatorReference(oprnegate);",
          "new_line_content": "\t\tappendPQExpBuffer(oprid, \", NONE)\");",
          "content_same": false
        },
        {
          "line": 7796,
          "old_api": "appendPQExpBuffer",
          "new_api": "convertOperatorReference",
          "old_text": "appendPQExpBuffer(details, \",\\n    NEGATOR = %s\", name)",
          "new_text": "convertOperatorReference(oprcom)",
          "old_line_content": "\t\tappendPQExpBuffer(details, \",\\n    NEGATOR = %s\", name);",
          "new_line_content": "\tname = convertOperatorReference(oprcom);",
          "content_same": false
        },
        {
          "line": 7798,
          "old_api": "strcmp",
          "new_api": "appendPQExpBuffer",
          "old_text": "strcmp(oprcanmerge, \"t\")",
          "new_text": "appendPQExpBuffer(details, \",\\n    COMMUTATOR = %s\", name)",
          "old_line_content": "\tif (strcmp(oprcanmerge, \"t\") == 0)",
          "new_line_content": "\t\tappendPQExpBuffer(details, \",\\n    COMMUTATOR = %s\", name);",
          "content_same": false
        },
        {
          "line": 7804,
          "old_api": "convertRegProcReference",
          "new_api": "strcmp",
          "old_text": "convertRegProcReference(oprrest)",
          "new_text": "strcmp(oprcanmerge, \"t\")",
          "old_line_content": "\tname = convertRegProcReference(oprrest);",
          "new_line_content": "\tif (strcmp(oprcanmerge, \"t\") == 0)",
          "content_same": false
        },
        {
          "line": 7808,
          "old_api": "convertRegProcReference",
          "new_api": "appendPQExpBuffer",
          "old_text": "convertRegProcReference(oprjoin)",
          "new_text": "appendPQExpBuffer(details, \",\\n    HASHES\")",
          "old_line_content": "\tname = convertRegProcReference(oprjoin);",
          "new_line_content": "\t\tappendPQExpBuffer(details, \",\\n    HASHES\");",
          "content_same": false
        },
        {
          "line": 7810,
          "old_api": "appendPQExpBuffer",
          "new_api": "convertRegProcReference",
          "old_text": "appendPQExpBuffer(details, \",\\n    JOIN = %s\", name)",
          "new_text": "convertRegProcReference(oprrest)",
          "old_line_content": "\t\tappendPQExpBuffer(details, \",\\n    JOIN = %s\", name);",
          "new_line_content": "\tname = convertRegProcReference(oprrest);",
          "content_same": false
        },
        {
          "line": 7816,
          "old_api": "fmtId",
          "new_api": "appendPQExpBuffer",
          "old_text": "fmtId(oprinfo->dobj.namespace->dobj.name)",
          "new_text": "appendPQExpBuffer(details, \",\\n    JOIN = %s\", name)",
          "old_line_content": "\t\t\t\t\t  fmtId(oprinfo->dobj.namespace->dobj.name),",
          "new_line_content": "\t\tappendPQExpBuffer(details, \",\\n    JOIN = %s\", name);",
          "content_same": false
        },
        {
          "line": 7822,
          "old_api": "ArchiveEntry",
          "new_api": "fmtId",
          "old_text": "ArchiveEntry(fout, oprinfo->dobj.catId, oprinfo->dobj.dumpId,\n\t\t\t\t oprinfo->dobj.name,\n\t\t\t\t oprinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t oprinfo->rolname,\n\t\t\t\t false, \"OPERATOR\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t oprinfo->dobj.dependencies, oprinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": "fmtId(oprinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\tArchiveEntry(fout, oprinfo->dobj.catId, oprinfo->dobj.dumpId,",
          "new_line_content": "\t\t\t\t\t  fmtId(oprinfo->dobj.namespace->dobj.name),",
          "content_same": false
        },
        {
          "line": 7839,
          "old_api": "PQclear",
          "new_api": "resetPQExpBuffer",
          "old_text": "PQclear(res)",
          "new_text": "resetPQExpBuffer(q)",
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\tresetPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 7841,
          "old_api": "destroyPQExpBuffer",
          "new_api": "dumpComment",
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": "dumpComment(fout, q->data,\n\t\t\t\toprinfo->dobj.namespace->dobj.name, oprinfo->rolname,\n\t\t\t\toprinfo->dobj.catId, 0, oprinfo->dobj.dumpId)",
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\tdumpComment(fout, q->data,",
          "content_same": false
        },
        {
          "line": 7845,
          "old_api": "destroyPQExpBuffer",
          "new_api": "PQclear",
          "old_text": "destroyPQExpBuffer(details)",
          "new_text": "PQclear(res)",
          "old_line_content": "\tdestroyPQExpBuffer(details);",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 7941,
          "old_api": "atooid",
          "new_api": "strlen",
          "old_text": "atooid(opr)",
          "new_text": "strlen(name)",
          "old_line_content": "\toprInfo = findOprByOid(atooid(opr));",
          "new_line_content": "\t\toname = malloc(strlen(name) + 11);",
          "content_same": false
        },
        {
          "line": 7975,
          "old_api": "write_msg",
          "new_api": "PQexec",
          "old_text": "write_msg(NULL, \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t  ntups, query)",
          "new_text": "PQexec(g_conn, query)",
          "old_line_content": "\t\twrite_msg(NULL, \"query returned %d rows instead of one: %s\\n\",",
          "new_line_content": "\tres = PQexec(g_conn, query);",
          "content_same": false
        },
        {
          "line": 8079,
          "old_api": "write_msg",
          "new_api": "check_sql_result",
          "old_text": "write_msg(NULL, \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t  ntups, query->data)",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\twrite_msg(NULL, \"query returned %d rows instead of one: %s\\n\",",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 8085,
          "old_api": "PQfnumber",
          "new_api": "write_msg",
          "old_text": "PQfnumber(res, \"opckeytype\")",
          "new_text": "write_msg(NULL, \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t  ntups, query->data)",
          "old_line_content": "\ti_opckeytype = PQfnumber(res, \"opckeytype\");",
          "new_line_content": "\t\twrite_msg(NULL, \"query returned %d rows instead of one: %s\\n\",",
          "content_same": false
        },
        {
          "line": 8087,
          "old_api": "PQfnumber",
          "new_api": "exit_nicely",
          "old_text": "PQfnumber(res, \"opcfamily\")",
          "new_text": "exit_nicely()",
          "old_line_content": "\ti_opcfamily = PQfnumber(res, \"opcfamily\");",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 8091,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, 0, i_opcintype)",
          "new_text": "PQfnumber(res, \"opckeytype\")",
          "old_line_content": "\topcintype = PQgetvalue(res, 0, i_opcintype);",
          "new_line_content": "\ti_opckeytype = PQfnumber(res, \"opckeytype\");",
          "content_same": false
        },
        {
          "line": 8092,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, 0, i_opckeytype)",
          "new_text": "PQfnumber(res, \"opcdefault\")",
          "old_line_content": "\topckeytype = PQgetvalue(res, 0, i_opckeytype);",
          "new_line_content": "\ti_opcdefault = PQfnumber(res, \"opcdefault\");",
          "content_same": false
        },
        {
          "line": 8093,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, 0, i_opcdefault)",
          "new_text": "PQfnumber(res, \"opcfamily\")",
          "old_line_content": "\topcdefault = PQgetvalue(res, 0, i_opcdefault);",
          "new_line_content": "\ti_opcfamily = PQfnumber(res, \"opcfamily\");",
          "content_same": false
        },
        {
          "line": 8094,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, 0, i_opcfamily)",
          "new_text": "PQfnumber(res, \"opcfamilynsp\")",
          "old_line_content": "\topcfamily = PQgetvalue(res, 0, i_opcfamily);",
          "new_line_content": "\ti_opcfamilynsp = PQfnumber(res, \"opcfamilynsp\");",
          "content_same": false
        },
        {
          "line": 8095,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, 0, i_opcfamilynsp)",
          "new_text": "PQfnumber(res, \"amname\")",
          "old_line_content": "\topcfamilynsp = PQgetvalue(res, 0, i_opcfamilynsp);",
          "new_line_content": "\ti_amname = PQfnumber(res, \"amname\");",
          "content_same": false
        },
        {
          "line": 8103,
          "old_api": "fmtId",
          "new_api": "PQgetvalue",
          "old_text": "fmtId(opcinfo->dobj.namespace->dobj.name)",
          "new_text": "PQgetvalue(res, 0, i_amname)",
          "old_line_content": "\t\t\t\t\t  fmtId(opcinfo->dobj.namespace->dobj.name));",
          "new_line_content": "\tamname = strdup(PQgetvalue(res, 0, i_amname));",
          "content_same": false
        },
        {
          "line": 8112,
          "old_api": "strcmp",
          "new_api": "appendPQExpBuffer",
          "old_text": "strcmp(opcdefault, \"t\")",
          "new_text": "appendPQExpBuffer(delq, \" USING %s;\\n\",\n\t\t\t\t\t  fmtId(amname))",
          "old_line_content": "\tif (strcmp(opcdefault, \"t\") == 0)",
          "new_line_content": "\tappendPQExpBuffer(delq, \" USING %s;\\n\",",
          "content_same": false
        },
        {
          "line": 8113,
          "old_api": "appendPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "appendPQExpBuffer(q, \"DEFAULT \")",
          "new_text": "fmtId(amname)",
          "old_line_content": "\t\tappendPQExpBuffer(q, \"DEFAULT \");",
          "new_line_content": "\t\t\t\t\t  fmtId(amname));",
          "content_same": false
        },
        {
          "line": 8116,
          "old_api": "fmtId",
          "new_api": "appendPQExpBuffer",
          "old_text": "fmtId(amname)",
          "new_text": "appendPQExpBuffer(q, \"CREATE OPERATOR CLASS %s\\n    \",\n\t\t\t\t\t  fmtId(opcinfo->dobj.name))",
          "old_line_content": "\t\t\t\t\t  fmtId(amname));",
          "new_line_content": "\tappendPQExpBuffer(q, \"CREATE OPERATOR CLASS %s\\n    \",",
          "content_same": false
        },
        {
          "line": 8117,
          "old_api": "strlen",
          "new_api": "fmtId",
          "old_text": "strlen(opcfamily)",
          "new_text": "fmtId(opcinfo->dobj.name)",
          "old_line_content": "\tif (strlen(opcfamily) > 0 &&",
          "new_line_content": "\t\t\t\t\t  fmtId(opcinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 8119,
          "old_api": "strcmp",
          "new_api": "appendPQExpBuffer",
          "old_text": "strcmp(opcfamilynsp, opcinfo->dobj.namespace->dobj.name)",
          "new_text": "appendPQExpBuffer(q, \"DEFAULT \")",
          "old_line_content": "\t\t strcmp(opcfamilynsp, opcinfo->dobj.namespace->dobj.name) != 0))",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"DEFAULT \");",
          "content_same": false
        },
        {
          "line": 8122,
          "old_api": "strcmp",
          "new_api": "fmtId",
          "old_text": "strcmp(opcfamilynsp, opcinfo->dobj.namespace->dobj.name)",
          "new_text": "fmtId(amname)",
          "old_line_content": "\t\tif (strcmp(opcfamilynsp, opcinfo->dobj.namespace->dobj.name) != 0)",
          "new_line_content": "\t\t\t\t\t  fmtId(amname));",
          "content_same": false
        },
        {
          "line": 8123,
          "old_api": "fmtId",
          "new_api": "strlen",
          "old_text": "fmtId(opcfamilynsp)",
          "new_text": "strlen(opcfamily)",
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \"%s.\", fmtId(opcfamilynsp));",
          "new_line_content": "\tif (strlen(opcfamily) > 0 &&",
          "content_same": false
        },
        {
          "line": 8124,
          "old_api": "fmtId",
          "new_api": "strcmp",
          "old_text": "fmtId(opcfamily)",
          "new_text": "strcmp(opcfamily, opcinfo->dobj.name)",
          "old_line_content": "\t\tappendPQExpBuffer(q, \"%s\", fmtId(opcfamily));",
          "new_line_content": "\t\t(strcmp(opcfamily, opcinfo->dobj.name) != 0 ||",
          "content_same": false
        },
        {
          "line": 8130,
          "old_api": "strcmp",
          "new_api": "fmtId",
          "old_text": "strcmp(opckeytype, \"-\")",
          "new_text": "fmtId(opcfamily)",
          "old_line_content": "\tif (strcmp(opckeytype, \"-\") != 0)",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"%s\", fmtId(opcfamily));",
          "content_same": false
        },
        {
          "line": 8196,
          "old_api": "PQfnumber",
          "new_api": "PQexec",
          "old_text": "PQfnumber(res, \"amopreqcheck\")",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\ti_amopreqcheck = PQfnumber(res, \"amopreqcheck\");",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 8197,
          "old_api": "PQfnumber",
          "new_api": "check_sql_result",
          "old_text": "PQfnumber(res, \"amopopr\")",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\ti_amopopr = PQfnumber(res, \"amopopr\");",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 8201,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_amopstrategy)",
          "new_text": "PQfnumber(res, \"amopstrategy\")",
          "old_line_content": "\t\tamopstrategy = PQgetvalue(res, i, i_amopstrategy);",
          "new_line_content": "\ti_amopstrategy = PQfnumber(res, \"amopstrategy\");",
          "content_same": false
        },
        {
          "line": 8202,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_amopreqcheck)",
          "new_text": "PQfnumber(res, \"amopreqcheck\")",
          "old_line_content": "\t\tamopreqcheck = PQgetvalue(res, i, i_amopreqcheck);",
          "new_line_content": "\ti_amopreqcheck = PQfnumber(res, \"amopreqcheck\");",
          "content_same": false
        },
        {
          "line": 8203,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_amopopr)",
          "new_text": "PQfnumber(res, \"amopopr\")",
          "old_line_content": "\t\tamopopr = PQgetvalue(res, i, i_amopopr);",
          "new_line_content": "\ti_amopopr = PQfnumber(res, \"amopopr\");",
          "content_same": false
        },
        {
          "line": 8208,
          "old_api": "appendPQExpBuffer",
          "new_api": "PQgetvalue",
          "old_text": "appendPQExpBuffer(q, \"OPERATOR %s %s\",\n\t\t\t\t\t\t  amopstrategy, amopopr)",
          "new_text": "PQgetvalue(res, i, i_amopreqcheck)",
          "old_line_content": "\t\tappendPQExpBuffer(q, \"OPERATOR %s %s\",",
          "new_line_content": "\t\tamopreqcheck = PQgetvalue(res, i, i_amopreqcheck);",
          "content_same": false
        },
        {
          "line": 8216,
          "old_api": "PQclear",
          "new_api": "strcmp",
          "old_text": "PQclear(res)",
          "new_text": "strcmp(amopreqcheck, \"t\")",
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\tif (strcmp(amopreqcheck, \"t\") == 0)",
          "content_same": false
        },
        {
          "line": 8255,
          "old_api": "PQfnumber",
          "new_api": "PQexec",
          "old_text": "PQfnumber(res, \"amproc\")",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\ti_amproc = PQfnumber(res, \"amproc\");",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 8260,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_amproc)",
          "new_text": "PQfnumber(res, \"amprocnum\")",
          "old_line_content": "\t\tamproc = PQgetvalue(res, i, i_amproc);",
          "new_line_content": "\ti_amprocnum = PQfnumber(res, \"amprocnum\");",
          "content_same": false
        },
        {
          "line": 8265,
          "old_api": "appendPQExpBuffer",
          "new_api": "PQgetvalue",
          "old_text": "appendPQExpBuffer(q, \"FUNCTION %s %s\",\n\t\t\t\t\t\t  amprocnum, amproc)",
          "new_text": "PQgetvalue(res, i, i_amprocnum)",
          "old_line_content": "\t\tappendPQExpBuffer(q, \"FUNCTION %s %s\",",
          "new_line_content": "\t\tamprocnum = PQgetvalue(res, i, i_amprocnum);",
          "content_same": false
        },
        {
          "line": 8271,
          "old_api": "PQclear",
          "new_api": "appendPQExpBuffer",
          "old_text": "PQclear(res)",
          "new_text": "appendPQExpBuffer(q, \"FUNCTION %s %s\",\n\t\t\t\t\t\t  amprocnum, amproc)",
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"FUNCTION %s %s\",",
          "content_same": false
        },
        {
          "line": 8295,
          "old_api": "free",
          "new_api": "appendPQExpBuffer",
          "old_text": "free(amname)",
          "new_text": "appendPQExpBuffer(q, \" USING %s\",\n\t\t\t\t\t  fmtId(amname))",
          "old_line_content": "\tfree(amname);",
          "new_line_content": "\tappendPQExpBuffer(q, \" USING %s\",",
          "content_same": false
        },
        {
          "line": 8296,
          "old_api": "destroyPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": "fmtId(amname)",
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\t\t\t  fmtId(amname));",
          "content_same": false
        },
        {
          "line": 8297,
          "old_api": "destroyPQExpBuffer",
          "new_api": "dumpComment",
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": "dumpComment(fout, q->data,\n\t\t\t\tNULL, opcinfo->rolname,\n\t\t\t\topcinfo->dobj.catId, 0, opcinfo->dobj.dumpId)",
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\tdumpComment(fout, q->data,",
          "content_same": false
        },
        {
          "line": 8411,
          "old_api": "resetPQExpBuffer",
          "new_api": "PQexec",
          "old_text": "resetPQExpBuffer(query)",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t\tresetPQExpBuffer(query);",
          "new_line_content": "\tres_procs = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 8430,
          "old_api": "PQclear",
          "new_api": "PQexec",
          "old_text": "PQclear(res)",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t\t\tPQclear(res);",
          "new_line_content": "\t\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 8431,
          "old_api": "PQclear",
          "new_api": "check_sql_result",
          "old_text": "PQclear(res_ops)",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\t\tPQclear(res_ops);",
          "new_line_content": "\t\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 8433,
          "old_api": "destroyPQExpBuffer",
          "new_api": "PQntuples",
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": "PQntuples(res)",
          "old_line_content": "\t\t\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\tif (PQntuples(res) == 0)",
          "content_same": false
        },
        {
          "line": 8439,
          "old_api": "PQclear",
          "new_api": "destroyPQExpBuffer",
          "old_text": "PQclear(res)",
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": "\t\tPQclear(res);",
          "new_line_content": "\t\t\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 8445,
          "old_api": "appendPQExpBuffer",
          "new_api": "PQclear",
          "old_text": "appendPQExpBuffer(query, \"SELECT \"\n\t \"(SELECT amname FROM pg_catalog.pg_am WHERE oid = opfmethod) AS amname \"\n\t\t\t\t\t  \"FROM pg_catalog.pg_opfamily \"\n\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t  opfinfo->dobj.catId.oid)",
          "new_text": "PQclear(res)",
          "old_line_content": "\tappendPQExpBuffer(query, \"SELECT \"",
          "new_line_content": "\t\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 8451,
          "old_api": "PQexec",
          "new_api": "appendPQExpBuffer",
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": "appendPQExpBuffer(query, \"SELECT \"\n\t \"(SELECT amname FROM pg_catalog.pg_am WHERE oid = opfmethod) AS amname \"\n\t\t\t\t\t  \"FROM pg_catalog.pg_opfamily \"\n\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t  opfinfo->dobj.catId.oid)",
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\tappendPQExpBuffer(query, \"SELECT \"",
          "content_same": false
        },
        {
          "line": 8458,
          "old_api": "write_msg",
          "new_api": "check_sql_result",
          "old_text": "write_msg(NULL, \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t  ntups, query->data)",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\twrite_msg(NULL, \"query returned %d rows instead of one: %s\\n\",",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 8466,
          "old_api": "PQgetvalue",
          "new_api": "exit_nicely",
          "old_text": "PQgetvalue(res, 0, i_amname)",
          "new_text": "exit_nicely()",
          "old_line_content": "\tamname = strdup(PQgetvalue(res, 0, i_amname));",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 8472,
          "old_api": "fmtId",
          "new_api": "PQgetvalue",
          "old_text": "fmtId(opfinfo->dobj.namespace->dobj.name)",
          "new_text": "PQgetvalue(res, 0, i_amname)",
          "old_line_content": "\t\t\t\t\t  fmtId(opfinfo->dobj.namespace->dobj.name));",
          "new_line_content": "\tamname = strdup(PQgetvalue(res, 0, i_amname));",
          "content_same": false
        },
        {
          "line": 8487,
          "old_api": "PQntuples",
          "new_api": "appendPQExpBuffer",
          "old_text": "PQntuples(res_procs)",
          "new_text": "appendPQExpBuffer(q, \" USING %s;\\n\",\n\t\t\t\t\t  fmtId(amname))",
          "old_line_content": "\tif (PQntuples(res_ops) > 0 || PQntuples(res_procs) > 0)",
          "new_line_content": "\tappendPQExpBuffer(q, \" USING %s;\\n\",",
          "content_same": false
        },
        {
          "line": 8490,
          "old_api": "fmtId",
          "new_api": "PQclear",
          "old_text": "fmtId(opfinfo->dobj.name)",
          "new_text": "PQclear(res)",
          "old_line_content": "\t\t\t\t\t\t  fmtId(opfinfo->dobj.name));",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 8507,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res_ops, i, i_amopstrategy)",
          "new_text": "PQfnumber(res_ops, \"amopstrategy\")",
          "old_line_content": "\t\t\tamopstrategy = PQgetvalue(res_ops, i, i_amopstrategy);",
          "new_line_content": "\t\ti_amopstrategy = PQfnumber(res_ops, \"amopstrategy\");",
          "content_same": false
        },
        {
          "line": 8508,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res_ops, i, i_amopreqcheck)",
          "new_text": "PQfnumber(res_ops, \"amopreqcheck\")",
          "old_line_content": "\t\t\tamopreqcheck = PQgetvalue(res_ops, i, i_amopreqcheck);",
          "new_line_content": "\t\ti_amopreqcheck = PQfnumber(res_ops, \"amopreqcheck\");",
          "content_same": false
        },
        {
          "line": 8509,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res_ops, i, i_amopopr)",
          "new_text": "PQfnumber(res_ops, \"amopopr\")",
          "old_line_content": "\t\t\tamopopr = PQgetvalue(res_ops, i, i_amopopr);",
          "new_line_content": "\t\ti_amopopr = PQfnumber(res_ops, \"amopopr\");",
          "content_same": false
        },
        {
          "line": 8514,
          "old_api": "appendPQExpBuffer",
          "new_api": "PQgetvalue",
          "old_text": "appendPQExpBuffer(q, \"OPERATOR %s %s\",\n\t\t\t\t\t\t\t  amopstrategy, amopopr)",
          "new_text": "PQgetvalue(res_ops, i, i_amopreqcheck)",
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \"OPERATOR %s %s\",",
          "new_line_content": "\t\t\tamopreqcheck = PQgetvalue(res_ops, i, i_amopreqcheck);",
          "content_same": false
        },
        {
          "line": 8534,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res_procs, i, i_amprocnum)",
          "new_text": "PQfnumber(res_procs, \"amproc\")",
          "old_line_content": "\t\t\tamprocnum = PQgetvalue(res_procs, i, i_amprocnum);",
          "new_line_content": "\t\ti_amproc = PQfnumber(res_procs, \"amproc\");",
          "content_same": false
        },
        {
          "line": 8535,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res_procs, i, i_amproc)",
          "new_text": "PQfnumber(res_procs, \"amproclefttype\")",
          "old_line_content": "\t\t\tamproc = PQgetvalue(res_procs, i, i_amproc);",
          "new_line_content": "\t\ti_amproclefttype = PQfnumber(res_procs, \"amproclefttype\");",
          "content_same": false
        },
        {
          "line": 8536,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res_procs, i, i_amproclefttype)",
          "new_text": "PQfnumber(res_procs, \"amprocrighttype\")",
          "old_line_content": "\t\t\tamproclefttype = PQgetvalue(res_procs, i, i_amproclefttype);",
          "new_line_content": "\t\ti_amprocrighttype = PQfnumber(res_procs, \"amprocrighttype\");",
          "content_same": false
        },
        {
          "line": 8540,
          "old_api": "appendPQExpBuffer",
          "new_api": "PQgetvalue",
          "old_text": "appendPQExpBuffer(q, \" ,\\n    \")",
          "new_text": "PQgetvalue(res_procs, i, i_amprocnum)",
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \" ,\\n    \");",
          "new_line_content": "\t\t\tamprocnum = PQgetvalue(res_procs, i, i_amprocnum);",
          "content_same": false
        },
        {
          "line": 8542,
          "old_api": "appendPQExpBuffer",
          "new_api": "PQgetvalue",
          "old_text": "appendPQExpBuffer(q, \"FUNCTION %s (%s, %s) %s\",\n\t\t\t\t\t\t\t  amprocnum, amproclefttype, amprocrighttype,\n\t\t\t\t\t\t\t  amproc)",
          "new_text": "PQgetvalue(res_procs, i, i_amproclefttype)",
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \"FUNCTION %s (%s, %s) %s\",",
          "new_line_content": "\t\t\tamproclefttype = PQgetvalue(res_procs, i, i_amproclefttype);",
          "content_same": false
        },
        {
          "line": 8572,
          "old_api": "free",
          "new_api": "appendPQExpBuffer",
          "old_text": "free(amname)",
          "new_text": "appendPQExpBuffer(q, \" USING %s\",\n\t\t\t\t\t  fmtId(amname))",
          "old_line_content": "\tfree(amname);",
          "new_line_content": "\tappendPQExpBuffer(q, \" USING %s\",",
          "content_same": false
        },
        {
          "line": 8573,
          "old_api": "PQclear",
          "new_api": "fmtId",
          "old_text": "PQclear(res_ops)",
          "new_text": "fmtId(amname)",
          "old_line_content": "\tPQclear(res_ops);",
          "new_line_content": "\t\t\t\t\t  fmtId(amname));",
          "content_same": false
        },
        {
          "line": 8574,
          "old_api": "PQclear",
          "new_api": "dumpComment",
          "old_text": "PQclear(res_procs)",
          "new_text": "dumpComment(fout, q->data,\n\t\t\t\tNULL, opfinfo->rolname,\n\t\t\t\topfinfo->dobj.catId, 0, opfinfo->dobj.dumpId)",
          "old_line_content": "\tPQclear(res_procs);",
          "new_line_content": "\tdumpComment(fout, q->data,",
          "content_same": false
        },
        {
          "line": 8614,
          "old_api": "selectSourceSchema",
          "new_api": "createPQExpBuffer",
          "old_text": "selectSourceSchema(convinfo->dobj.namespace->dobj.name)",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tselectSourceSchema(convinfo->dobj.namespace->dobj.name);",
          "new_line_content": "\tquery = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 8617,
          "old_api": "pg_encoding_to_char",
          "new_api": "createPQExpBuffer",
          "old_text": "appendPQExpBuffer(query, \"SELECT conname, \"\n\t\t \"pg_catalog.pg_encoding_to_char(conforencoding) AS conforencoding, \"\n\t\t   \"pg_catalog.pg_encoding_to_char(contoencoding) AS contoencoding, \"\n\t\t\t\t\t  \"conproc, condefault \"\n\t\t\t\t\t  \"FROM pg_catalog.pg_conversion c \"\n\t\t\t\t\t  \"WHERE c.oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t  convinfo->dobj.catId.oid)",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tappendPQExpBuffer(query, \"SELECT conname, \"",
          "new_line_content": "\tdetails = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 8632,
          "old_api": "write_msg",
          "new_api": "check_sql_result",
          "old_text": "write_msg(NULL, \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t  ntups, query->data)",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\twrite_msg(NULL, \"query returned %d rows instead of one: %s\\n\",",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 8638,
          "old_api": "PQfnumber",
          "new_api": "write_msg",
          "old_text": "PQfnumber(res, \"conforencoding\")",
          "new_text": "write_msg(NULL, \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t  ntups, query->data)",
          "old_line_content": "\ti_conforencoding = PQfnumber(res, \"conforencoding\");",
          "new_line_content": "\t\twrite_msg(NULL, \"query returned %d rows instead of one: %s\\n\",",
          "content_same": false
        },
        {
          "line": 8640,
          "old_api": "PQfnumber",
          "new_api": "exit_nicely",
          "old_text": "PQfnumber(res, \"conproc\")",
          "new_text": "exit_nicely()",
          "old_line_content": "\ti_conproc = PQfnumber(res, \"conproc\");",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 8643,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, 0, i_conname)",
          "new_text": "PQfnumber(res, \"conname\")",
          "old_line_content": "\tconname = PQgetvalue(res, 0, i_conname);",
          "new_line_content": "\ti_conname = PQfnumber(res, \"conname\");",
          "content_same": false
        },
        {
          "line": 8644,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, 0, i_conforencoding)",
          "new_text": "PQfnumber(res, \"conforencoding\")",
          "old_line_content": "\tconforencoding = PQgetvalue(res, 0, i_conforencoding);",
          "new_line_content": "\ti_conforencoding = PQfnumber(res, \"conforencoding\");",
          "content_same": false
        },
        {
          "line": 8645,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, 0, i_contoencoding)",
          "new_text": "PQfnumber(res, \"contoencoding\")",
          "old_line_content": "\tcontoencoding = PQgetvalue(res, 0, i_contoencoding);",
          "new_line_content": "\ti_contoencoding = PQfnumber(res, \"contoencoding\");",
          "content_same": false
        },
        {
          "line": 8646,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, 0, i_conproc)",
          "new_text": "PQfnumber(res, \"conproc\")",
          "old_line_content": "\tconproc = PQgetvalue(res, 0, i_conproc);",
          "new_line_content": "\ti_conproc = PQfnumber(res, \"conproc\");",
          "content_same": false
        },
        {
          "line": 8647,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, 0, i_condefault)",
          "new_text": "PQfnumber(res, \"condefault\")",
          "old_line_content": "\tcondefault = (PQgetvalue(res, 0, i_condefault)[0] == 't');",
          "new_line_content": "\ti_condefault = PQfnumber(res, \"condefault\");",
          "content_same": false
        },
        {
          "line": 8652,
          "old_api": "appendPQExpBuffer",
          "new_api": "PQgetvalue",
          "old_text": "appendPQExpBuffer(delq, \"DROP CONVERSION %s\",\n\t\t\t\t\t  fmtId(convinfo->dobj.namespace->dobj.name))",
          "new_text": "PQgetvalue(res, 0, i_conproc)",
          "old_line_content": "\tappendPQExpBuffer(delq, \"DROP CONVERSION %s\",",
          "new_line_content": "\tconproc = PQgetvalue(res, 0, i_conproc);",
          "content_same": false
        },
        {
          "line": 8653,
          "old_api": "fmtId",
          "new_api": "PQgetvalue",
          "old_text": "fmtId(convinfo->dobj.namespace->dobj.name)",
          "new_text": "PQgetvalue(res, 0, i_condefault)",
          "old_line_content": "\t\t\t\t\t  fmtId(convinfo->dobj.namespace->dobj.name));",
          "new_line_content": "\tcondefault = (PQgetvalue(res, 0, i_condefault)[0] == 't');",
          "content_same": false
        },
        {
          "line": 8660,
          "old_api": "appendStringLiteralAH",
          "new_api": "appendPQExpBuffer",
          "old_text": "appendStringLiteralAH(q, conforencoding, fout)",
          "new_text": "appendPQExpBuffer(delq, \".%s;\\n\",\n\t\t\t\t\t  fmtId(convinfo->dobj.name))",
          "old_line_content": "\tappendStringLiteralAH(q, conforencoding, fout);",
          "new_line_content": "\tappendPQExpBuffer(delq, \".%s;\\n\",",
          "content_same": false
        },
        {
          "line": 8661,
          "old_api": "appendPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "appendPQExpBuffer(q, \" TO \")",
          "new_text": "fmtId(convinfo->dobj.name)",
          "old_line_content": "\tappendPQExpBuffer(q, \" TO \");",
          "new_line_content": "\t\t\t\t\t  fmtId(convinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 8666,
          "old_api": "ArchiveEntry",
          "new_api": "appendStringLiteralAH",
          "old_text": "ArchiveEntry(fout, convinfo->dobj.catId, convinfo->dobj.dumpId,\n\t\t\t\t convinfo->dobj.name,\n\t\t\t\t convinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t convinfo->rolname,\n\t\t\t\t false, \"CONVERSION\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t convinfo->dobj.dependencies, convinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": "appendStringLiteralAH(q, conforencoding, fout)",
          "old_line_content": "\tArchiveEntry(fout, convinfo->dobj.catId, convinfo->dobj.dumpId,",
          "new_line_content": "\tappendStringLiteralAH(q, conforencoding, fout);",
          "content_same": false
        },
        {
          "line": 8683,
          "old_api": "PQclear",
          "new_api": "resetPQExpBuffer",
          "old_text": "PQclear(res)",
          "new_text": "resetPQExpBuffer(q)",
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\tresetPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 8685,
          "old_api": "destroyPQExpBuffer",
          "new_api": "dumpComment",
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": "dumpComment(fout, q->data,\n\t\t\t\tconvinfo->dobj.namespace->dobj.name, convinfo->rolname,\n\t\t\t\tconvinfo->dobj.catId, 0, convinfo->dobj.dumpId)",
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\tdumpComment(fout, q->data,",
          "content_same": false
        },
        {
          "line": 8769,
          "old_api": "selectSourceSchema",
          "new_api": "createPQExpBuffer",
          "old_text": "selectSourceSchema(agginfo->aggfn.dobj.namespace->dobj.name)",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tselectSourceSchema(agginfo->aggfn.dobj.namespace->dobj.name);",
          "new_line_content": "\tquery = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 8827,
          "old_api": "write_msg",
          "new_api": "check_sql_result",
          "old_text": "write_msg(NULL, \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t  ntups, query->data)",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\twrite_msg(NULL, \"query returned %d rows instead of one: %s\\n\",",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 8833,
          "old_api": "PQfnumber",
          "new_api": "write_msg",
          "old_text": "PQfnumber(res, \"aggfinalfn\")",
          "new_text": "write_msg(NULL, \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t  ntups, query->data)",
          "old_line_content": "\ti_aggfinalfn = PQfnumber(res, \"aggfinalfn\");",
          "new_line_content": "\t\twrite_msg(NULL, \"query returned %d rows instead of one: %s\\n\",",
          "content_same": false
        },
        {
          "line": 8835,
          "old_api": "PQfnumber",
          "new_api": "exit_nicely",
          "old_text": "PQfnumber(res, \"aggtranstype\")",
          "new_text": "exit_nicely()",
          "old_line_content": "\ti_aggtranstype = PQfnumber(res, \"aggtranstype\");",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 8839,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, 0, i_aggtransfn)",
          "new_text": "PQfnumber(res, \"aggfinalfn\")",
          "old_line_content": "\taggtransfn = PQgetvalue(res, 0, i_aggtransfn);",
          "new_line_content": "\ti_aggfinalfn = PQfnumber(res, \"aggfinalfn\");",
          "content_same": false
        },
        {
          "line": 8840,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, 0, i_aggfinalfn)",
          "new_text": "PQfnumber(res, \"aggsortop\")",
          "old_line_content": "\taggfinalfn = PQgetvalue(res, 0, i_aggfinalfn);",
          "new_line_content": "\ti_aggsortop = PQfnumber(res, \"aggsortop\");",
          "content_same": false
        },
        {
          "line": 8841,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, 0, i_aggsortop)",
          "new_text": "PQfnumber(res, \"aggtranstype\")",
          "old_line_content": "\taggsortop = PQgetvalue(res, 0, i_aggsortop);",
          "new_line_content": "\ti_aggtranstype = PQfnumber(res, \"aggtranstype\");",
          "content_same": false
        },
        {
          "line": 8842,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, 0, i_aggtranstype)",
          "new_text": "PQfnumber(res, \"agginitval\")",
          "old_line_content": "\taggtranstype = PQgetvalue(res, 0, i_aggtranstype);",
          "new_line_content": "\ti_agginitval = PQfnumber(res, \"agginitval\");",
          "content_same": false
        },
        {
          "line": 8843,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, 0, i_agginitval)",
          "new_text": "PQfnumber(res, \"convertok\")",
          "old_line_content": "\tagginitval = PQgetvalue(res, 0, i_agginitval);",
          "new_line_content": "\ti_convertok = PQfnumber(res, \"convertok\");",
          "content_same": false
        },
        {
          "line": 8846,
          "old_api": "format_aggregate_signature",
          "new_api": "PQgetvalue",
          "old_text": "format_aggregate_signature(agginfo, fout, true)",
          "new_text": "PQgetvalue(res, 0, i_aggfinalfn)",
          "old_line_content": "\taggsig = format_aggregate_signature(agginfo, fout, true);",
          "new_line_content": "\taggfinalfn = PQgetvalue(res, 0, i_aggfinalfn);",
          "content_same": false
        },
        {
          "line": 8847,
          "old_api": "format_aggregate_signature",
          "new_api": "PQgetvalue",
          "old_text": "format_aggregate_signature(agginfo, fout, false)",
          "new_text": "PQgetvalue(res, 0, i_aggsortop)",
          "old_line_content": "\taggsig_tag = format_aggregate_signature(agginfo, fout, false);",
          "new_line_content": "\taggsortop = PQgetvalue(res, 0, i_aggsortop);",
          "content_same": false
        },
        {
          "line": 8873,
          "old_api": "appendPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "appendPQExpBuffer(details, \"    SFUNC = %s,\\n\",\n\t\t\t\t\t\t  fmtId(aggtransfn))",
          "new_text": "fmtId(aggtransfn)",
          "old_line_content": "\t\tappendPQExpBuffer(details, \"    SFUNC = %s,\\n\",",
          "new_line_content": "\t\t\t\t\t\t  fmtId(aggtransfn),",
          "content_same": false
        },
        {
          "line": 8879,
          "old_api": "PQgetisnull",
          "new_api": "appendPQExpBuffer",
          "old_text": "PQgetisnull(res, 0, i_agginitval)",
          "new_text": "appendPQExpBuffer(details, \"    SFUNC = %s,\\n\",\n\t\t\t\t\t\t  fmtId(aggtransfn))",
          "old_line_content": "\tif (!PQgetisnull(res, 0, i_agginitval))",
          "new_line_content": "\t\tappendPQExpBuffer(details, \"    SFUNC = %s,\\n\",",
          "content_same": false
        },
        {
          "line": 8882,
          "old_api": "appendStringLiteralAH",
          "new_api": "fmtId",
          "old_text": "appendStringLiteralAH(details, agginitval, fout)",
          "new_text": "fmtId(aggtranstype)",
          "old_line_content": "\t\tappendStringLiteralAH(details, agginitval, fout);",
          "new_line_content": "\t\t\t\t\t\t  fmtId(aggtranstype));",
          "content_same": false
        },
        {
          "line": 8885,
          "old_api": "strcmp",
          "new_api": "PQgetisnull",
          "old_text": "strcmp(aggfinalfn, \"-\")",
          "new_text": "PQgetisnull(res, 0, i_agginitval)",
          "old_line_content": "\tif (strcmp(aggfinalfn, \"-\") != 0)",
          "new_line_content": "\tif (!PQgetisnull(res, 0, i_agginitval))",
          "content_same": false
        },
        {
          "line": 8891,
          "old_api": "convertOperatorReference",
          "new_api": "strcmp",
          "old_text": "convertOperatorReference(aggsortop)",
          "new_text": "strcmp(aggfinalfn, \"-\")",
          "old_line_content": "\taggsortop = convertOperatorReference(aggsortop);",
          "new_line_content": "\tif (strcmp(aggfinalfn, \"-\") != 0)",
          "content_same": false
        },
        {
          "line": 8908,
          "old_api": "ArchiveEntry",
          "new_api": "fmtId",
          "old_text": "ArchiveEntry(fout, agginfo->aggfn.dobj.catId, agginfo->aggfn.dobj.dumpId,\n\t\t\t\t aggsig_tag,\n\t\t\t\t agginfo->aggfn.dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t agginfo->aggfn.rolname,\n\t\t\t\t false, \"AGGREGATE\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t agginfo->aggfn.dobj.dependencies, agginfo->aggfn.dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": "fmtId(agginfo->aggfn.dobj.namespace->dobj.name)",
          "old_line_content": "\tArchiveEntry(fout, agginfo->aggfn.dobj.catId, agginfo->aggfn.dobj.dumpId,",
          "new_line_content": "\t\t\t\t\t  fmtId(agginfo->aggfn.dobj.namespace->dobj.name),",
          "content_same": false
        },
        {
          "line": 8936,
          "old_api": "dumpACL",
          "new_api": "free",
          "old_text": "dumpACL(fout, agginfo->aggfn.dobj.catId, agginfo->aggfn.dobj.dumpId,\n\t\t\t\"FUNCTION\",\n\t\t\taggsig, NULL, aggsig_tag,\n\t\t\tagginfo->aggfn.dobj.namespace->dobj.name,\n\t\t\tagginfo->aggfn.rolname, agginfo->aggfn.proacl)",
          "new_text": "free(aggsig)",
          "old_line_content": "\tdumpACL(fout, agginfo->aggfn.dobj.catId, agginfo->aggfn.dobj.dumpId,",
          "new_line_content": "\tfree(aggsig);",
          "content_same": false
        },
        {
          "line": 8942,
          "old_api": "free",
          "new_api": "dumpACL",
          "old_text": "free(aggsig)",
          "new_text": "dumpACL(fout, agginfo->aggfn.dobj.catId, agginfo->aggfn.dobj.dumpId,\n\t\t\t\"FUNCTION\",\n\t\t\taggsig, NULL, aggsig_tag,\n\t\t\tagginfo->aggfn.dobj.namespace->dobj.name,\n\t\t\tagginfo->aggfn.rolname, agginfo->aggfn.proacl)",
          "old_line_content": "\tfree(aggsig);",
          "new_line_content": "\tdumpACL(fout, agginfo->aggfn.dobj.catId, agginfo->aggfn.dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 8948,
          "old_api": "destroyPQExpBuffer",
          "new_api": "free",
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": "free(aggsig)",
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\tfree(aggsig);",
          "content_same": false
        },
        {
          "line": 8949,
          "old_api": "destroyPQExpBuffer",
          "new_api": "free",
          "old_text": "destroyPQExpBuffer(delq)",
          "new_text": "free(aggsig_tag)",
          "old_line_content": "\tdestroyPQExpBuffer(delq);",
          "new_line_content": "\tfree(aggsig_tag);",
          "content_same": false
        },
        {
          "line": 8973,
          "old_api": "appendPQExpBuffer",
          "new_api": "createPQExpBuffer",
          "old_text": "appendPQExpBuffer(q, \"CREATE TEXT SEARCH PARSER %s (\\n\",\n\t\t\t\t\t  fmtId(prsinfo->dobj.name))",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tappendPQExpBuffer(q, \"CREATE TEXT SEARCH PARSER %s (\\n\",",
          "new_line_content": "\tq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 8974,
          "old_api": "fmtId",
          "new_api": "createPQExpBuffer",
          "old_text": "fmtId(prsinfo->dobj.name)",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t  fmtId(prsinfo->dobj.name));",
          "new_line_content": "\tdelq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 8977,
          "old_api": "convertTSFunction",
          "new_api": "selectSourceSchema",
          "old_text": "convertTSFunction(prsinfo->prsstart)",
          "new_text": "selectSourceSchema(prsinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\t\t\t  convertTSFunction(prsinfo->prsstart));",
          "new_line_content": "\tselectSourceSchema(prsinfo->dobj.namespace->dobj.name);",
          "content_same": false
        },
        {
          "line": 8979,
          "old_api": "convertTSFunction",
          "new_api": "appendPQExpBuffer",
          "old_text": "convertTSFunction(prsinfo->prstoken)",
          "new_text": "appendPQExpBuffer(q, \"CREATE TEXT SEARCH PARSER %s (\\n\",\n\t\t\t\t\t  fmtId(prsinfo->dobj.name))",
          "old_line_content": "\t\t\t\t\t  convertTSFunction(prsinfo->prstoken));",
          "new_line_content": "\tappendPQExpBuffer(q, \"CREATE TEXT SEARCH PARSER %s (\\n\",",
          "content_same": false
        },
        {
          "line": 8980,
          "old_api": "appendPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "appendPQExpBuffer(q, \"    END = %s,\\n\",\n\t\t\t\t\t  convertTSFunction(prsinfo->prsend))",
          "new_text": "fmtId(prsinfo->dobj.name)",
          "old_line_content": "\tappendPQExpBuffer(q, \"    END = %s,\\n\",",
          "new_line_content": "\t\t\t\t\t  fmtId(prsinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 8983,
          "old_api": "appendPQExpBuffer",
          "new_api": "convertTSFunction",
          "old_text": "appendPQExpBuffer(q, \"    HEADLINE = %s,\\n\",\n\t\t\t\t\t\t  convertTSFunction(prsinfo->prsheadline))",
          "new_text": "convertTSFunction(prsinfo->prsstart)",
          "old_line_content": "\t\tappendPQExpBuffer(q, \"    HEADLINE = %s,\\n\",",
          "new_line_content": "\t\t\t\t\t  convertTSFunction(prsinfo->prsstart));",
          "content_same": false
        },
        {
          "line": 8984,
          "old_api": "convertTSFunction",
          "new_api": "appendPQExpBuffer",
          "old_text": "convertTSFunction(prsinfo->prsheadline)",
          "new_text": "appendPQExpBuffer(q, \"    GETTOKEN = %s,\\n\",\n\t\t\t\t\t  convertTSFunction(prsinfo->prstoken))",
          "old_line_content": "\t\t\t\t\t\t  convertTSFunction(prsinfo->prsheadline));",
          "new_line_content": "\tappendPQExpBuffer(q, \"    GETTOKEN = %s,\\n\",",
          "content_same": false
        },
        {
          "line": 8985,
          "old_api": "appendPQExpBuffer",
          "new_api": "convertTSFunction",
          "old_text": "appendPQExpBuffer(q, \"    LEXTYPES = %s );\\n\",\n\t\t\t\t\t  convertTSFunction(prsinfo->prslextype))",
          "new_text": "convertTSFunction(prsinfo->prstoken)",
          "old_line_content": "\tappendPQExpBuffer(q, \"    LEXTYPES = %s );\\n\",",
          "new_line_content": "\t\t\t\t\t  convertTSFunction(prsinfo->prstoken));",
          "content_same": false
        },
        {
          "line": 8986,
          "old_api": "convertTSFunction",
          "new_api": "appendPQExpBuffer",
          "old_text": "convertTSFunction(prsinfo->prslextype)",
          "new_text": "appendPQExpBuffer(q, \"    END = %s,\\n\",\n\t\t\t\t\t  convertTSFunction(prsinfo->prsend))",
          "old_line_content": "\t\t\t\t\t  convertTSFunction(prsinfo->prslextype));",
          "new_line_content": "\tappendPQExpBuffer(q, \"    END = %s,\\n\",",
          "content_same": false
        },
        {
          "line": 8992,
          "old_api": "fmtId",
          "new_api": "convertTSFunction",
          "old_text": "fmtId(prsinfo->dobj.namespace->dobj.name)",
          "new_text": "convertTSFunction(prsinfo->prslextype)",
          "old_line_content": "\t\t\t\t\t  fmtId(prsinfo->dobj.namespace->dobj.name));",
          "new_line_content": "\t\t\t\t\t  convertTSFunction(prsinfo->prslextype));",
          "content_same": false
        },
        {
          "line": 9014,
          "old_api": "destroyPQExpBuffer",
          "new_api": "appendPQExpBuffer",
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": "appendPQExpBuffer(q, \"TEXT SEARCH PARSER %s\",\n\t\t\t\t\t  fmtId(prsinfo->dobj.name))",
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\tappendPQExpBuffer(q, \"TEXT SEARCH PARSER %s\",",
          "content_same": false
        },
        {
          "line": 9015,
          "old_api": "destroyPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "destroyPQExpBuffer(delq)",
          "new_text": "fmtId(prsinfo->dobj.name)",
          "old_line_content": "\tdestroyPQExpBuffer(delq);",
          "new_line_content": "\t\t\t\t\t  fmtId(prsinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9043,
          "old_api": "appendPQExpBuffer",
          "new_api": "createPQExpBuffer",
          "old_text": "appendPQExpBuffer(query, \"SELECT nspname, tmplname \"\n\t\t\t\t\t  \"FROM pg_ts_template p, pg_namespace n \"\n\t\t\t\t\t  \"WHERE p.oid = '%u' AND n.oid = tmplnamespace\",\n\t\t\t\t\t  dictinfo->dicttemplate)",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tappendPQExpBuffer(query, \"SELECT nspname, tmplname \"",
          "new_line_content": "\tq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 9048,
          "old_api": "check_sql_result",
          "new_api": "selectSourceSchema",
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": "selectSourceSchema(\"pg_catalog\")",
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 9049,
          "old_api": "PQntuples",
          "new_api": "appendPQExpBuffer",
          "old_text": "PQntuples(res)",
          "new_text": "appendPQExpBuffer(query, \"SELECT nspname, tmplname \"\n\t\t\t\t\t  \"FROM pg_ts_template p, pg_namespace n \"\n\t\t\t\t\t  \"WHERE p.oid = '%u' AND n.oid = tmplnamespace\",\n\t\t\t\t\t  dictinfo->dicttemplate)",
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\tappendPQExpBuffer(query, \"SELECT nspname, tmplname \"",
          "content_same": false
        },
        {
          "line": 9054,
          "old_api": "exit_nicely",
          "new_api": "check_sql_result",
          "old_text": "exit_nicely()",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 9060,
          "old_api": "selectSourceSchema",
          "new_api": "exit_nicely",
          "old_text": "selectSourceSchema(dictinfo->dobj.namespace->dobj.name)",
          "new_text": "exit_nicely()",
          "old_line_content": "\tselectSourceSchema(dictinfo->dobj.namespace->dobj.name);",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 9062,
          "old_api": "appendPQExpBuffer",
          "new_api": "PQgetvalue",
          "old_text": "appendPQExpBuffer(q, \"CREATE TEXT SEARCH DICTIONARY %s (\\n\",\n\t\t\t\t\t  fmtId(dictinfo->dobj.name))",
          "new_text": "PQgetvalue(res, 0, 0)",
          "old_line_content": "\tappendPQExpBuffer(q, \"CREATE TEXT SEARCH DICTIONARY %s (\\n\",",
          "new_line_content": "\tnspname = PQgetvalue(res, 0, 0);",
          "content_same": false
        },
        {
          "line": 9063,
          "old_api": "fmtId",
          "new_api": "PQgetvalue",
          "old_text": "fmtId(dictinfo->dobj.name)",
          "new_text": "PQgetvalue(res, 0, 1)",
          "old_line_content": "\t\t\t\t\t  fmtId(dictinfo->dobj.name));",
          "new_line_content": "\ttmplname = PQgetvalue(res, 0, 1);",
          "content_same": false
        },
        {
          "line": 9066,
          "old_api": "strcmp",
          "new_api": "selectSourceSchema",
          "old_text": "strcmp(nspname, dictinfo->dobj.namespace->dobj.name)",
          "new_text": "selectSourceSchema(dictinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\tif (strcmp(nspname, dictinfo->dobj.namespace->dobj.name) != 0)",
          "new_line_content": "\tselectSourceSchema(dictinfo->dobj.namespace->dobj.name);",
          "content_same": false
        },
        {
          "line": 9068,
          "old_api": "fmtId",
          "new_api": "appendPQExpBuffer",
          "old_text": "fmtId(tmplname)",
          "new_text": "appendPQExpBuffer(q, \"CREATE TEXT SEARCH DICTIONARY %s (\\n\",\n\t\t\t\t\t  fmtId(dictinfo->dobj.name))",
          "old_line_content": "\tappendPQExpBuffer(q, \"%s\", fmtId(tmplname));",
          "new_line_content": "\tappendPQExpBuffer(q, \"CREATE TEXT SEARCH DICTIONARY %s (\\n\",",
          "content_same": false
        },
        {
          "line": 9074,
          "old_api": "appendPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "appendPQExpBuffer(q, \",\\n    %s\", dictinfo->dictinitoption)",
          "new_text": "fmtId(tmplname)",
          "old_line_content": "\t\tappendPQExpBuffer(q, \",\\n    %s\", dictinfo->dictinitoption);",
          "new_line_content": "\tappendPQExpBuffer(q, \"%s\", fmtId(tmplname));",
          "content_same": false
        },
        {
          "line": 9076,
          "old_api": "appendPQExpBuffer",
          "new_api": "PQclear",
          "old_text": "appendPQExpBuffer(q, \" );\\n\")",
          "new_text": "PQclear(res)",
          "old_line_content": "\tappendPQExpBuffer(q, \" );\\n\");",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 9082,
          "old_api": "fmtId",
          "new_api": "appendPQExpBuffer",
          "old_text": "fmtId(dictinfo->dobj.namespace->dobj.name)",
          "new_text": "appendPQExpBuffer(q, \" );\\n\")",
          "old_line_content": "\t\t\t\t\t  fmtId(dictinfo->dobj.namespace->dobj.name));",
          "new_line_content": "\tappendPQExpBuffer(q, \" );\\n\");",
          "content_same": false
        },
        {
          "line": 9104,
          "old_api": "destroyPQExpBuffer",
          "new_api": "appendPQExpBuffer",
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": "appendPQExpBuffer(q, \"TEXT SEARCH DICTIONARY %s\",\n\t\t\t\t\t  fmtId(dictinfo->dobj.name))",
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\tappendPQExpBuffer(q, \"TEXT SEARCH DICTIONARY %s\",",
          "content_same": false
        },
        {
          "line": 9105,
          "old_api": "destroyPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "destroyPQExpBuffer(delq)",
          "new_text": "fmtId(dictinfo->dobj.name)",
          "old_line_content": "\tdestroyPQExpBuffer(delq);",
          "new_line_content": "\t\t\t\t\t  fmtId(dictinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9106,
          "old_api": "destroyPQExpBuffer",
          "new_api": "dumpComment",
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": "dumpComment(fout, q->data,\n\t\t\t\tNULL, dictinfo->rolname,\n\t\t\t\tdictinfo->dobj.catId, 0, dictinfo->dobj.dumpId)",
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\tdumpComment(fout, q->data,",
          "content_same": false
        },
        {
          "line": 9129,
          "old_api": "appendPQExpBuffer",
          "new_api": "createPQExpBuffer",
          "old_text": "appendPQExpBuffer(q, \"CREATE TEXT SEARCH TEMPLATE %s (\\n\",\n\t\t\t\t\t  fmtId(tmplinfo->dobj.name))",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tappendPQExpBuffer(q, \"CREATE TEXT SEARCH TEMPLATE %s (\\n\",",
          "new_line_content": "\tq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 9130,
          "old_api": "fmtId",
          "new_api": "createPQExpBuffer",
          "old_text": "fmtId(tmplinfo->dobj.name)",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t  fmtId(tmplinfo->dobj.name));",
          "new_line_content": "\tdelq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 9133,
          "old_api": "appendPQExpBuffer",
          "new_api": "selectSourceSchema",
          "old_text": "appendPQExpBuffer(q, \"    INIT = %s,\\n\",\n\t\t\t\t\t\t  convertTSFunction(tmplinfo->tmplinit))",
          "new_text": "selectSourceSchema(tmplinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\tappendPQExpBuffer(q, \"    INIT = %s,\\n\",",
          "new_line_content": "\tselectSourceSchema(tmplinfo->dobj.namespace->dobj.name);",
          "content_same": false
        },
        {
          "line": 9136,
          "old_api": "convertTSFunction",
          "new_api": "fmtId",
          "old_text": "convertTSFunction(tmplinfo->tmpllexize)",
          "new_text": "fmtId(tmplinfo->dobj.name)",
          "old_line_content": "\t\t\t\t\t  convertTSFunction(tmplinfo->tmpllexize));",
          "new_line_content": "\t\t\t\t\t  fmtId(tmplinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9142,
          "old_api": "fmtId",
          "new_api": "convertTSFunction",
          "old_text": "fmtId(tmplinfo->dobj.namespace->dobj.name)",
          "new_text": "convertTSFunction(tmplinfo->tmpllexize)",
          "old_line_content": "\t\t\t\t\t  fmtId(tmplinfo->dobj.namespace->dobj.name));",
          "new_line_content": "\t\t\t\t\t  convertTSFunction(tmplinfo->tmpllexize));",
          "content_same": false
        },
        {
          "line": 9164,
          "old_api": "destroyPQExpBuffer",
          "new_api": "appendPQExpBuffer",
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": "appendPQExpBuffer(q, \"TEXT SEARCH TEMPLATE %s\",\n\t\t\t\t\t  fmtId(tmplinfo->dobj.name))",
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\tappendPQExpBuffer(q, \"TEXT SEARCH TEMPLATE %s\",",
          "content_same": false
        },
        {
          "line": 9165,
          "old_api": "destroyPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "destroyPQExpBuffer(delq)",
          "new_text": "fmtId(tmplinfo->dobj.name)",
          "old_line_content": "\tdestroyPQExpBuffer(delq);",
          "new_line_content": "\t\t\t\t\t  fmtId(tmplinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9196,
          "old_api": "appendPQExpBuffer",
          "new_api": "createPQExpBuffer",
          "old_text": "appendPQExpBuffer(query, \"SELECT nspname, prsname \"\n\t\t\t\t\t  \"FROM pg_ts_parser p, pg_namespace n \"\n\t\t\t\t\t  \"WHERE p.oid = '%u' AND n.oid = prsnamespace\",\n\t\t\t\t\t  cfginfo->cfgparser)",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tappendPQExpBuffer(query, \"SELECT nspname, prsname \"",
          "new_line_content": "\tq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 9201,
          "old_api": "check_sql_result",
          "new_api": "selectSourceSchema",
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": "selectSourceSchema(\"pg_catalog\")",
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 9202,
          "old_api": "PQntuples",
          "new_api": "appendPQExpBuffer",
          "old_text": "PQntuples(res)",
          "new_text": "appendPQExpBuffer(query, \"SELECT nspname, prsname \"\n\t\t\t\t\t  \"FROM pg_ts_parser p, pg_namespace n \"\n\t\t\t\t\t  \"WHERE p.oid = '%u' AND n.oid = prsnamespace\",\n\t\t\t\t\t  cfginfo->cfgparser)",
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\tappendPQExpBuffer(query, \"SELECT nspname, prsname \"",
          "content_same": false
        },
        {
          "line": 9207,
          "old_api": "exit_nicely",
          "new_api": "check_sql_result",
          "old_text": "exit_nicely()",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 9213,
          "old_api": "selectSourceSchema",
          "new_api": "exit_nicely",
          "old_text": "selectSourceSchema(cfginfo->dobj.namespace->dobj.name)",
          "new_text": "exit_nicely()",
          "old_line_content": "\tselectSourceSchema(cfginfo->dobj.namespace->dobj.name);",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 9215,
          "old_api": "appendPQExpBuffer",
          "new_api": "PQgetvalue",
          "old_text": "appendPQExpBuffer(q, \"CREATE TEXT SEARCH CONFIGURATION %s (\\n\",\n\t\t\t\t\t  fmtId(cfginfo->dobj.name))",
          "new_text": "PQgetvalue(res, 0, 0)",
          "old_line_content": "\tappendPQExpBuffer(q, \"CREATE TEXT SEARCH CONFIGURATION %s (\\n\",",
          "new_line_content": "\tnspname = PQgetvalue(res, 0, 0);",
          "content_same": false
        },
        {
          "line": 9216,
          "old_api": "fmtId",
          "new_api": "PQgetvalue",
          "old_text": "fmtId(cfginfo->dobj.name)",
          "new_text": "PQgetvalue(res, 0, 1)",
          "old_line_content": "\t\t\t\t\t  fmtId(cfginfo->dobj.name));",
          "new_line_content": "\tprsname = PQgetvalue(res, 0, 1);",
          "content_same": false
        },
        {
          "line": 9219,
          "old_api": "strcmp",
          "new_api": "selectSourceSchema",
          "old_text": "strcmp(nspname, cfginfo->dobj.namespace->dobj.name)",
          "new_text": "selectSourceSchema(cfginfo->dobj.namespace->dobj.name)",
          "old_line_content": "\tif (strcmp(nspname, cfginfo->dobj.namespace->dobj.name) != 0)",
          "new_line_content": "\tselectSourceSchema(cfginfo->dobj.namespace->dobj.name);",
          "content_same": false
        },
        {
          "line": 9221,
          "old_api": "fmtId",
          "new_api": "appendPQExpBuffer",
          "old_text": "fmtId(prsname)",
          "new_text": "appendPQExpBuffer(q, \"CREATE TEXT SEARCH CONFIGURATION %s (\\n\",\n\t\t\t\t\t  fmtId(cfginfo->dobj.name))",
          "old_line_content": "\tappendPQExpBuffer(q, \"%s );\\n\", fmtId(prsname));",
          "new_line_content": "\tappendPQExpBuffer(q, \"CREATE TEXT SEARCH CONFIGURATION %s (\\n\",",
          "content_same": false
        },
        {
          "line": 9225,
          "old_api": "resetPQExpBuffer",
          "new_api": "strcmp",
          "old_text": "resetPQExpBuffer(query)",
          "new_text": "strcmp(nspname, cfginfo->dobj.namespace->dobj.name)",
          "old_line_content": "\tresetPQExpBuffer(query);",
          "new_line_content": "\tif (strcmp(nspname, cfginfo->dobj.namespace->dobj.name) != 0)",
          "content_same": false
        },
        {
          "line": 9226,
          "old_api": "ts_token_type",
          "new_api": "fmtId",
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t  \"SELECT \\n\"\n\t\t\t\t\t  \"  ( SELECT alias FROM pg_catalog.ts_token_type('%u'::pg_catalog.oid) AS t \\n\"\n\t\t\t\t\t  \"    WHERE t.tokid = m.maptokentype ) AS tokenname, \\n\"\n\t\t\t\t\t  \"  m.mapdict::pg_catalog.regdictionary AS dictname \\n\"\n\t\t\t\t\t  \"FROM pg_catalog.pg_ts_config_map AS m \\n\"\n\t\t\t\t\t  \"WHERE m.mapcfg = '%u' \\n\"\n\t\t\t\t\t  \"ORDER BY m.mapcfg, m.maptokentype, m.mapseqno\",\n\t\t\t\t\t  cfginfo->cfgparser, cfginfo->dobj.catId.oid)",
          "new_text": "fmtId(nspname)",
          "old_line_content": "\tappendPQExpBuffer(query,",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"%s.\", fmtId(nspname));",
          "content_same": false
        },
        {
          "line": 9246,
          "old_api": "PQgetvalue",
          "new_api": "PQfnumber",
          "old_text": "PQgetvalue(res, i, i_dictname)",
          "new_text": "PQfnumber(res, \"tokenname\")",
          "old_line_content": "\t\tchar\t   *dictname = PQgetvalue(res, i, i_dictname);",
          "new_line_content": "\ti_tokenname = PQfnumber(res, \"tokenname\");",
          "content_same": false
        },
        {
          "line": 9255,
          "old_api": "fmtId",
          "new_api": "PQgetvalue",
          "old_text": "fmtId(cfginfo->dobj.name)",
          "new_text": "PQgetvalue(res, i - 1, i_tokenname)",
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(cfginfo->dobj.name));",
          "new_line_content": "\t\t\tstrcmp(tokenname, PQgetvalue(res, i - 1, i_tokenname)) != 0)",
          "content_same": false
        },
        {
          "line": 9261,
          "old_api": "appendPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "appendPQExpBuffer(q, \", %s\", dictname)",
          "new_text": "fmtId(cfginfo->dobj.name)",
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \", %s\", dictname);",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(cfginfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9267,
          "old_api": "PQclear",
          "new_api": "appendPQExpBuffer",
          "old_text": "PQclear(res)",
          "new_text": "appendPQExpBuffer(q, \", %s\", dictname)",
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \", %s\", dictname);",
          "content_same": false
        },
        {
          "line": 9273,
          "old_api": "fmtId",
          "new_api": "PQclear",
          "old_text": "fmtId(cfginfo->dobj.namespace->dobj.name)",
          "new_text": "PQclear(res)",
          "old_line_content": "\t\t\t\t\t  fmtId(cfginfo->dobj.namespace->dobj.name));",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 9295,
          "old_api": "destroyPQExpBuffer",
          "new_api": "appendPQExpBuffer",
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": "appendPQExpBuffer(q, \"TEXT SEARCH CONFIGURATION %s\",\n\t\t\t\t\t  fmtId(cfginfo->dobj.name))",
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\tappendPQExpBuffer(q, \"TEXT SEARCH CONFIGURATION %s\",",
          "content_same": false
        },
        {
          "line": 9296,
          "old_api": "destroyPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "destroyPQExpBuffer(delq)",
          "new_text": "fmtId(cfginfo->dobj.name)",
          "old_line_content": "\tdestroyPQExpBuffer(delq);",
          "new_line_content": "\t\t\t\t\t  fmtId(cfginfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9297,
          "old_api": "destroyPQExpBuffer",
          "new_api": "dumpComment",
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": "dumpComment(fout, q->data,\n\t\t\t\tNULL, cfginfo->rolname,\n\t\t\t\tcfginfo->dobj.catId, 0, cfginfo->dobj.dumpId)",
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\tdumpComment(fout, q->data,",
          "content_same": false
        },
        {
          "line": 9321,
          "old_api": "strcmp",
          "new_api": "createPQExpBuffer",
          "old_text": "strcmp(fdwinfo->fdwvalidator, \"-\")",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tif (fdwinfo->fdwvalidator && strcmp(fdwinfo->fdwvalidator, \"-\") != 0)",
          "new_line_content": "\tq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 9322,
          "old_api": "appendPQExpBuffer",
          "new_api": "createPQExpBuffer",
          "old_text": "appendPQExpBuffer(q, \" VALIDATOR %s\",\n\t\t\t\t\t\t  fdwinfo->fdwvalidator)",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\tappendPQExpBuffer(q, \" VALIDATOR %s\",",
          "new_line_content": "\tdelq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 9325,
          "old_api": "strlen",
          "new_api": "fmtId",
          "old_text": "strlen(fdwinfo->fdwoptions)",
          "new_text": "fmtId(fdwinfo->dobj.name)",
          "old_line_content": "\tif (fdwinfo->fdwoptions && strlen(fdwinfo->fdwoptions) > 0)",
          "new_line_content": "\t\t\t\t\t  fmtId(fdwinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9331,
          "old_api": "fmtId",
          "new_api": "strlen",
          "old_text": "fmtId(fdwinfo->dobj.name)",
          "new_text": "strlen(fdwinfo->fdwoptions)",
          "old_line_content": "\t\t\t\t\t  fmtId(fdwinfo->dobj.name));",
          "new_line_content": "\tif (fdwinfo->fdwoptions && strlen(fdwinfo->fdwoptions) > 0)",
          "content_same": false
        },
        {
          "line": 9350,
          "old_api": "free",
          "new_api": "fmtId",
          "old_text": "free(namecopy)",
          "new_text": "fmtId(fdwinfo->dobj.name)",
          "old_line_content": "\tfree(namecopy);",
          "new_line_content": "\tnamecopy = strdup(fmtId(fdwinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9386,
          "old_api": "PQntuples",
          "new_api": "appendPQExpBuffer",
          "old_text": "PQntuples(res)",
          "new_text": "appendPQExpBuffer(query, \"SELECT fdwname \"\n\t\t\t\t\t  \"FROM pg_foreign_data_wrapper w \"\n\t\t\t\t\t  \"WHERE w.oid = '%u'\",\n\t\t\t\t\t  srvinfo->srvfdw)",
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\tappendPQExpBuffer(query, \"SELECT fdwname \"",
          "content_same": false
        },
        {
          "line": 9391,
          "old_api": "exit_nicely",
          "new_api": "check_sql_result",
          "old_text": "exit_nicely()",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 9395,
          "old_api": "fmtId",
          "new_api": "write_msg",
          "old_text": "fmtId(srvinfo->dobj.name)",
          "new_text": "write_msg(NULL, \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t  ntups, query->data)",
          "old_line_content": "\tappendPQExpBuffer(q, \"CREATE SERVER %s\", fmtId(srvinfo->dobj.name));",
          "new_line_content": "\t\twrite_msg(NULL, \"query returned %d rows instead of one: %s\\n\",",
          "content_same": false
        },
        {
          "line": 9397,
          "old_api": "appendPQExpBuffer",
          "new_api": "exit_nicely",
          "old_text": "appendPQExpBuffer(q, \" TYPE '%s'\", srvinfo->srvtype)",
          "new_text": "exit_nicely()",
          "old_line_content": "\t\tappendPQExpBuffer(q, \" TYPE '%s'\", srvinfo->srvtype);",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 9399,
          "old_api": "appendPQExpBuffer",
          "new_api": "PQgetvalue",
          "old_text": "appendPQExpBuffer(q, \" VERSION '%s'\", srvinfo->srvversion)",
          "new_text": "PQgetvalue(res, 0, 0)",
          "old_line_content": "\t\tappendPQExpBuffer(q, \" VERSION '%s'\", srvinfo->srvversion);",
          "new_line_content": "\tfdwname = PQgetvalue(res, 0, 0);",
          "content_same": false
        },
        {
          "line": 9401,
          "old_api": "appendPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "appendPQExpBuffer(q, \" FOREIGN DATA WRAPPER \")",
          "new_text": "fmtId(srvinfo->dobj.name)",
          "old_line_content": "\tappendPQExpBuffer(q, \" FOREIGN DATA WRAPPER \");",
          "new_line_content": "\tappendPQExpBuffer(q, \"CREATE SERVER %s\", fmtId(srvinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9402,
          "old_api": "fmtId",
          "new_api": "strlen",
          "old_text": "fmtId(fdwname)",
          "new_text": "strlen(srvinfo->srvtype)",
          "old_line_content": "\tappendPQExpBuffer(q, \"%s\", fmtId(fdwname));",
          "new_line_content": "\tif (srvinfo->srvtype && strlen(srvinfo->srvtype) > 0)",
          "content_same": false
        },
        {
          "line": 9410,
          "old_api": "fmtId",
          "new_api": "strlen",
          "old_text": "fmtId(srvinfo->dobj.name)",
          "new_text": "strlen(srvinfo->srvoptions)",
          "old_line_content": "\t\t\t\t\t  fmtId(srvinfo->dobj.name));",
          "new_line_content": "\tif (srvinfo->srvoptions && strlen(srvinfo->srvoptions) > 0)",
          "content_same": false
        },
        {
          "line": 9429,
          "old_api": "free",
          "new_api": "fmtId",
          "old_text": "free(namecopy)",
          "new_text": "fmtId(srvinfo->dobj.name)",
          "old_line_content": "\tfree(namecopy);",
          "new_line_content": "\tnamecopy = strdup(fmtId(srvinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9439,
          "old_api": "destroyPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": "fmtId(srvinfo->dobj.name)",
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\tappendPQExpBuffer(q, \"SERVER %s\", fmtId(srvinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9440,
          "old_api": "destroyPQExpBuffer",
          "new_api": "dumpUserMappings",
          "old_text": "destroyPQExpBuffer(delq)",
          "new_text": "dumpUserMappings(fout, q->data,\n\t\t\t\t\t srvinfo->dobj.name, NULL,\n\t\t\t\t\t srvinfo->rolname,\n\t\t\t\t     srvinfo->dobj.catId, srvinfo->dobj.dumpId)",
          "old_line_content": "\tdestroyPQExpBuffer(delq);",
          "new_line_content": "\tdumpUserMappings(fout, q->data,",
          "content_same": false
        },
        {
          "line": 9498,
          "old_api": "strlen",
          "new_api": "PQgetvalue",
          "old_text": "strlen(umoptions)",
          "new_text": "PQgetvalue(res, i, i_umoptions)",
          "old_line_content": "\t\tif (umoptions && strlen(umoptions) > 0)",
          "new_line_content": "\t\tumoptions = PQgetvalue(res, i, i_umoptions);",
          "content_same": false
        },
        {
          "line": 9501,
          "old_api": "appendPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "appendPQExpBuffer(q, \";\\n\")",
          "new_text": "fmtId(umuser)",
          "old_line_content": "\t\tappendPQExpBuffer(q, \";\\n\");",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"CREATE USER MAPPING FOR %s\", fmtId(umuser));",
          "content_same": false
        },
        {
          "line": 9504,
          "old_api": "fmtId",
          "new_api": "strlen",
          "old_text": "fmtId(servername)",
          "new_text": "strlen(umoptions)",
          "old_line_content": "\t\tappendPQExpBuffer(delq, \"DROP USER MAPPING FOR %s SERVER %s;\\n\", fmtId(umuser), fmtId(servername));",
          "new_line_content": "\t\tif (umoptions && strlen(umoptions) > 0)",
          "content_same": false
        },
        {
          "line": 9507,
          "old_api": "fmtId",
          "new_api": "appendPQExpBuffer",
          "old_text": "fmtId(umuser)",
          "new_text": "appendPQExpBuffer(q, \";\\n\")",
          "old_line_content": "\t\tappendPQExpBuffer(tag, \"USER MAPPING %s %s\", fmtId(umuser), target);",
          "new_line_content": "\t\tappendPQExpBuffer(q, \";\\n\");",
          "content_same": false
        },
        {
          "line": 9509,
          "old_api": "createDumpId",
          "new_api": "resetPQExpBuffer",
          "old_text": "createDumpId()",
          "new_text": "resetPQExpBuffer(delq)",
          "old_line_content": "\t\tArchiveEntry(fout, nilCatalogId, createDumpId(),",
          "new_line_content": "\t\tresetPQExpBuffer(delq);",
          "content_same": false
        },
        {
          "line": 9560,
          "old_api": "exit_nicely",
          "new_api": "createPQExpBuffer",
          "old_text": "exit_nicely()",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "\tsql = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 9564,
          "old_api": "createDumpId",
          "new_api": "write_msg",
          "old_text": "createDumpId()",
          "new_text": "write_msg(NULL, \"could not parse ACL list (%s) for object \\\"%s\\\" (%s)\\n\",\n\t\t\t\t  acls, name, type)",
          "old_line_content": "\t\tArchiveEntry(fout, nilCatalogId, createDumpId(),",
          "new_line_content": "\t\twrite_msg(NULL, \"could not parse ACL list (%s) for object \\\"%s\\\" (%s)\\n\",",
          "content_same": false
        },
        {
          "line": 9594,
          "old_api": "dumpACL",
          "new_api": "dumpSequence",
          "old_text": "dumpACL(fout, tbinfo->dobj.catId, tbinfo->dobj.dumpId,\n\t\t\t\t(tbinfo->relkind == RELKIND_SEQUENCE) ? \"SEQUENCE\" : \"TABLE\",\n\t\t\t\tnamecopy, NULL, tbinfo->dobj.name,\n\t\t\t\ttbinfo->dobj.namespace->dobj.name, tbinfo->rolname,\n\t\t\t\ttbinfo->relacl)",
          "new_text": "dumpSequence(fout, tbinfo)",
          "old_line_content": "\t\tdumpACL(fout, tbinfo->dobj.catId, tbinfo->dobj.dumpId,",
          "new_line_content": "\t\t\tdumpSequence(fout, tbinfo);",
          "content_same": false
        },
        {
          "line": 9617,
          "old_api": "check_sql_result",
          "new_api": "appendPQExpBuffer",
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"SELECT attname, attacl FROM pg_catalog.pg_attribute \"\n\t\t\t\t\t\t\t  \"WHERE attrelid = '%u' AND NOT attisdropped AND attacl IS NOT NULL \"\n\t\t\t\t\t\t\t  \"ORDER BY attnum\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 9622,
          "old_api": "PQgetvalue",
          "new_api": "PQexec",
          "old_text": "PQgetvalue(res, i, 1)",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t\t\t\tchar   *attacl = PQgetvalue(res, i, 1);",
          "new_line_content": "\t\t\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 9627,
          "old_api": "strlen",
          "new_api": "PQgetvalue",
          "old_text": "strlen(attname)",
          "new_text": "PQgetvalue(res, i, 0)",
          "old_line_content": "\t\t\t\tacltag = malloc(strlen(tbinfo->dobj.name) + strlen(attname) + 2);",
          "new_line_content": "\t\t\t\tchar   *attname = PQgetvalue(res, i, 0);",
          "content_same": false
        },
        {
          "line": 9628,
          "old_api": "sprintf",
          "new_api": "PQgetvalue",
          "old_text": "sprintf(acltag, \"%s.%s\", tbinfo->dobj.name, attname)",
          "new_text": "PQgetvalue(res, i, 1)",
          "old_line_content": "\t\t\t\tsprintf(acltag, \"%s.%s\", tbinfo->dobj.name, attname);",
          "new_line_content": "\t\t\t\tchar   *attacl = PQgetvalue(res, i, 1);",
          "content_same": false
        },
        {
          "line": 9634,
          "old_api": "free",
          "new_api": "sprintf",
          "old_text": "free(attnamecopy)",
          "new_text": "sprintf(acltag, \"%s.%s\", tbinfo->dobj.name, attname)",
          "old_line_content": "\t\t\t\tfree(attnamecopy);",
          "new_line_content": "\t\t\t\tsprintf(acltag, \"%s.%s\", tbinfo->dobj.name, attname);",
          "content_same": false
        },
        {
          "line": 9684,
          "old_api": "appendPQExpBuffer",
          "new_api": "pg_get_viewdef",
          "old_text": "appendPQExpBuffer(query, \"SELECT definition AS viewdef \"\n\t\t\t\t\t\t\t  \"FROM pg_views WHERE viewname = \")",
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"SELECT pg_catalog.pg_get_viewdef('%u'::pg_catalog.oid) AS viewdef\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\tappendPQExpBuffer(query, \"SELECT definition AS viewdef \"",
          "new_line_content": "\t\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 9690,
          "old_api": "PQexec",
          "new_api": "appendPQExpBuffer",
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": "appendPQExpBuffer(query, \"SELECT definition AS viewdef \"\n\t\t\t\t\t\t\t  \"FROM pg_views WHERE viewname = \")",
          "old_line_content": "\t\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\tappendPQExpBuffer(query, \"SELECT definition AS viewdef \"",
          "content_same": false
        },
        {
          "line": 9693,
          "old_api": "PQntuples",
          "new_api": "appendPQExpBuffer",
          "old_text": "PQntuples(res)",
          "new_text": "appendPQExpBuffer(query, \";\")",
          "old_line_content": "\t\tif (PQntuples(res) != 1)",
          "new_line_content": "\t\t\tappendPQExpBuffer(query, \";\");",
          "content_same": false
        },
        {
          "line": 9696,
          "old_api": "write_msg",
          "new_api": "PQexec",
          "old_text": "write_msg(NULL, \"query to obtain definition of view \\\"%s\\\" returned no data\\n\",\n\t\t\t\t\t\t  tbinfo->dobj.name)",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t\t\t\twrite_msg(NULL, \"query to obtain definition of view \\\"%s\\\" returned no data\\n\",",
          "new_line_content": "\t\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 9699,
          "old_api": "write_msg",
          "new_api": "PQntuples",
          "old_text": "write_msg(NULL, \"query to obtain definition of view \\\"%s\\\" returned more than one definition\\n\",\n\t\t\t\t\t\t  tbinfo->dobj.name)",
          "new_text": "PQntuples(res)",
          "old_line_content": "\t\t\t\twrite_msg(NULL, \"query to obtain definition of view \\\"%s\\\" returned more than one definition\\n\",",
          "new_line_content": "\t\tif (PQntuples(res) != 1)",
          "content_same": false
        },
        {
          "line": 9701,
          "old_api": "exit_nicely",
          "new_api": "PQntuples",
          "old_text": "exit_nicely()",
          "new_text": "PQntuples(res)",
          "old_line_content": "\t\t\texit_nicely();",
          "new_line_content": "\t\t\tif (PQntuples(res) < 1)",
          "content_same": false
        },
        {
          "line": 9710,
          "old_api": "exit_nicely",
          "new_api": "PQgetvalue",
          "old_text": "exit_nicely()",
          "new_text": "PQgetvalue(res, 0, 0)",
          "old_line_content": "\t\t\texit_nicely();",
          "new_line_content": "\t\tviewdef = PQgetvalue(res, 0, 0);",
          "content_same": false
        },
        {
          "line": 9723,
          "old_api": "fmtId",
          "new_api": "appendPQExpBuffer",
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": "appendPQExpBuffer(delq, \"DROP VIEW %s.\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name))",
          "old_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name), viewdef);",
          "new_line_content": "\t\tappendPQExpBuffer(delq, \"DROP VIEW %s.\",",
          "content_same": false
        },
        {
          "line": 9725,
          "old_api": "PQclear",
          "new_api": "appendPQExpBuffer",
          "old_text": "PQclear(res)",
          "new_text": "appendPQExpBuffer(delq, \"%s;\\n\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\tPQclear(res);",
          "new_line_content": "\t\tappendPQExpBuffer(delq, \"%s;\\n\",",
          "content_same": false
        },
        {
          "line": 9743,
          "old_api": "fmtId",
          "new_api": "appendPQExpBuffer",
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": "appendPQExpBuffer(delq, \"DROP TABLE %s.\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name))",
          "old_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\tappendPQExpBuffer(delq, \"DROP TABLE %s.\",",
          "content_same": false
        },
        {
          "line": 9814,
          "old_api": "appendPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "appendPQExpBuffer(q, \"\\n)\")",
          "new_text": "fmtId(constr->dobj.name)",
          "old_line_content": "\t\tappendPQExpBuffer(q, \"\\n)\");",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(constr->dobj.name));",
          "content_same": false
        },
        {
          "line": 9834,
          "old_api": "strlen",
          "new_api": "appendPQExpBuffer",
          "old_text": "strlen(tbinfo->reloptions)",
          "new_text": "appendPQExpBuffer(q, \"%s\",\n\t\t\t\t\t\t\t\t  fmtId(parentRel->dobj.name))",
          "old_line_content": "\t\tif ((tbinfo->reloptions && strlen(tbinfo->reloptions) > 0) ||",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(q, \"%s\",",
          "content_same": false
        },
        {
          "line": 9835,
          "old_api": "strlen",
          "new_api": "fmtId",
          "old_text": "strlen(tbinfo->toast_reloptions)",
          "new_text": "fmtId(parentRel->dobj.name)",
          "old_line_content": "\t\t\t(tbinfo->toast_reloptions && strlen(tbinfo->toast_reloptions) > 0))",
          "new_line_content": "\t\t\t\t\t\t\t\t  fmtId(parentRel->dobj.name));",
          "content_same": false
        },
        {
          "line": 9845,
          "old_api": "strlen",
          "new_api": "appendPQExpBuffer",
          "old_text": "strlen(tbinfo->toast_reloptions)",
          "new_text": "appendPQExpBuffer(q, \"\\nWITH (\")",
          "old_line_content": "\t\t\tif (tbinfo->toast_reloptions && strlen(tbinfo->toast_reloptions) > 0)",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \"\\nWITH (\");",
          "content_same": false
        },
        {
          "line": 10025,
          "old_api": "fmtId",
          "new_api": "createPQExpBuffer",
          "old_text": "fmtId(tbinfo->attnames[adnum - 1])",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t  fmtId(tbinfo->attnames[adnum - 1]),",
          "new_line_content": "\tq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 10031,
          "old_api": "appendPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "appendPQExpBuffer(delq, \"ALTER TABLE %s.\",\n\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name))",
          "new_text": "fmtId(tbinfo->attnames[adnum - 1])",
          "old_line_content": "\tappendPQExpBuffer(delq, \"ALTER TABLE %s.\",",
          "new_line_content": "\t\t\t\t\t  fmtId(tbinfo->attnames[adnum - 1]),",
          "content_same": false
        },
        {
          "line": 10038,
          "old_api": "ArchiveEntry",
          "new_api": "fmtId",
          "old_text": "ArchiveEntry(fout, adinfo->dobj.catId, adinfo->dobj.dumpId,\n\t\t\t\t tbinfo->attnames[adnum - 1],\n\t\t\t\t tbinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t tbinfo->rolname,\n\t\t\t\t false, \"DEFAULT\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t adinfo->dobj.dependencies, adinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": "fmtId(tbinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\tArchiveEntry(fout, adinfo->dobj.catId, adinfo->dobj.dumpId,",
          "new_line_content": "\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 10118,
          "old_api": "fmtId",
          "new_api": "appendPQExpBuffer",
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": "appendPQExpBuffer(q, \"%s;\\n\", indxinfo->indexdef)",
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"%s;\\n\", indxinfo->indexdef);",
          "content_same": false
        },
        {
          "line": 10152,
          "old_api": "destroyPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": "fmtId(indxinfo->dobj.name)",
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\t\t\t\t\t  fmtId(indxinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10153,
          "old_api": "destroyPQExpBuffer",
          "new_api": "dumpComment",
          "old_text": "destroyPQExpBuffer(delq)",
          "new_text": "dumpComment(fout, q->data,\n\t\t\t\ttbinfo->dobj.namespace->dobj.name,\n\t\t\t\ttbinfo->rolname,\n\t\t\t\tindxinfo->dobj.catId, 0, indxinfo->dobj.dumpId)",
          "old_line_content": "\tdestroyPQExpBuffer(delq);",
          "new_line_content": "\tdumpComment(fout, q->data,",
          "content_same": false
        },
        {
          "line": 10186,
          "old_api": "exit_nicely",
          "new_api": "findObjectByDumpId",
          "old_text": "exit_nicely()",
          "new_text": "findObjectByDumpId(coninfo->conindex)",
          "old_line_content": "\t\t\texit_nicely();",
          "new_line_content": "\t\tindxinfo = (IndxInfo *) findObjectByDumpId(coninfo->conindex);",
          "content_same": false
        },
        {
          "line": 10190,
          "old_api": "fmtId",
          "new_api": "write_msg",
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": "write_msg(NULL, \"missing index for constraint \\\"%s\\\"\\n\",\n\t\t\t\t\t  coninfo->dobj.name)",
          "old_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\t\twrite_msg(NULL, \"missing index for constraint \\\"%s\\\"\\n\",",
          "content_same": false
        },
        {
          "line": 10192,
          "old_api": "fmtId",
          "new_api": "exit_nicely",
          "old_text": "fmtId(coninfo->dobj.name)",
          "new_text": "exit_nicely()",
          "old_line_content": "\t\t\t\t\t\t  fmtId(coninfo->dobj.name),",
          "new_line_content": "\t\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 10212,
          "old_api": "appendPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "appendPQExpBuffer(q, \" WITH (%s)\", indxinfo->options)",
          "new_text": "fmtId(attname)",
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \" WITH (%s)\", indxinfo->options);",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(attname));",
          "content_same": false
        },
        {
          "line": 10220,
          "old_api": "fmtId",
          "new_api": "appendPQExpBuffer",
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": "appendPQExpBuffer(q, \";\\n\")",
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\tappendPQExpBuffer(q, \";\\n\");",
          "content_same": false
        },
        {
          "line": 10236,
          "old_api": "ArchiveEntry",
          "new_api": "fmtId",
          "old_text": "ArchiveEntry(fout, coninfo->dobj.catId, coninfo->dobj.dumpId,\n\t\t\t\t\t coninfo->dobj.name,\n\t\t\t\t\t tbinfo->dobj.namespace->dobj.name,\n\t\t\t\t\t indxinfo->tablespace,\n\t\t\t\t\t tbinfo->rolname, false,\n\t\t\t\t\t \"CONSTRAINT\", SECTION_POST_DATA,\n\t\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t\t coninfo->dobj.dependencies, coninfo->dobj.nDeps,\n\t\t\t\t\t NULL, NULL)",
          "new_text": "fmtId(tbinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\tArchiveEntry(fout, coninfo->dobj.catId, coninfo->dobj.dumpId,",
          "new_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 10269,
          "old_api": "ArchiveEntry",
          "new_api": "fmtId",
          "old_text": "ArchiveEntry(fout, coninfo->dobj.catId, coninfo->dobj.dumpId,\n\t\t\t\t\t coninfo->dobj.name,\n\t\t\t\t\t tbinfo->dobj.namespace->dobj.name,\n\t\t\t\t\t NULL,\n\t\t\t\t\t tbinfo->rolname, false,\n\t\t\t\t\t \"FK CONSTRAINT\", SECTION_POST_DATA,\n\t\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t\t coninfo->dobj.dependencies, coninfo->dobj.nDeps,\n\t\t\t\t\t NULL, NULL)",
          "new_text": "fmtId(tbinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\tArchiveEntry(fout, coninfo->dobj.catId, coninfo->dobj.dumpId,",
          "new_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 10304,
          "old_api": "ArchiveEntry",
          "new_api": "fmtId",
          "old_text": "ArchiveEntry(fout, coninfo->dobj.catId, coninfo->dobj.dumpId,\n\t\t\t\t\t\t coninfo->dobj.name,\n\t\t\t\t\t\t tbinfo->dobj.namespace->dobj.name,\n\t\t\t\t\t\t NULL,\n\t\t\t\t\t\t tbinfo->rolname, false,\n\t\t\t\t\t\t \"CHECK CONSTRAINT\", SECTION_POST_DATA,\n\t\t\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t\t\t coninfo->dobj.dependencies, coninfo->dobj.nDeps,\n\t\t\t\t\t\t NULL, NULL)",
          "new_text": "fmtId(tbinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\tArchiveEntry(fout, coninfo->dobj.catId, coninfo->dobj.dumpId,",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 10340,
          "old_api": "ArchiveEntry",
          "new_api": "fmtId",
          "old_text": "ArchiveEntry(fout, coninfo->dobj.catId, coninfo->dobj.dumpId,\n\t\t\t\t\t\t coninfo->dobj.name,\n\t\t\t\t\t\t tinfo->dobj.namespace->dobj.name,\n\t\t\t\t\t\t NULL,\n\t\t\t\t\t\t tinfo->rolname, false,\n\t\t\t\t\t\t \"CHECK CONSTRAINT\", SECTION_POST_DATA,\n\t\t\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t\t\t coninfo->dobj.dependencies, coninfo->dobj.nDeps,\n\t\t\t\t\t\t NULL, NULL)",
          "new_text": "fmtId(tinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\tArchiveEntry(fout, coninfo->dobj.catId, coninfo->dobj.dumpId,",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(tinfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 10359,
          "old_api": "dumpTableConstraintComment",
          "new_api": "write_msg",
          "old_text": "dumpTableConstraintComment(fout, coninfo)",
          "new_text": "write_msg(NULL, \"unrecognized constraint type: %c\\n\", coninfo->contype)",
          "old_line_content": "\t\tdumpTableConstraintComment(fout, coninfo);",
          "new_line_content": "\t\twrite_msg(NULL, \"unrecognized constraint type: %c\\n\", coninfo->contype);",
          "content_same": false
        },
        {
          "line": 10382,
          "old_api": "dumpComment",
          "new_api": "createPQExpBuffer",
          "old_text": "dumpComment(fout, q->data,\n\t\t\t\ttbinfo->dobj.namespace->dobj.name,\n\t\t\t\ttbinfo->rolname,\n\t\t\t\tconinfo->dobj.catId, 0,\n\t\t\t coninfo->separate ? coninfo->dobj.dumpId : tbinfo->dobj.dumpId)",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tdumpComment(fout, q->data,",
          "new_line_content": "\tPQExpBuffer q = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 10388,
          "old_api": "destroyPQExpBuffer",
          "new_api": "dumpComment",
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": "dumpComment(fout, q->data,\n\t\t\t\ttbinfo->dobj.namespace->dobj.name,\n\t\t\t\ttbinfo->rolname,\n\t\t\t\tconinfo->dobj.catId, 0,\n\t\t\t coninfo->separate ? coninfo->dobj.dumpId : tbinfo->dobj.dumpId)",
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\tdumpComment(fout, q->data,",
          "content_same": false
        },
        {
          "line": 10410,
          "old_api": "PQexec",
          "new_api": "createPQExpBuffer",
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 10413,
          "old_api": "PQntuples",
          "new_api": "appendPQExpBuffer",
          "old_text": "PQntuples(res)",
          "new_text": "appendPQExpBuffer(query, \"SELECT datlastsysoid from pg_database where datname = \")",
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\tappendPQExpBuffer(query, \"SELECT datlastsysoid from pg_database where datname = \");",
          "content_same": false
        },
        {
          "line": 10416,
          "old_api": "write_msg",
          "new_api": "PQexec",
          "old_text": "write_msg(NULL, \"missing pg_database entry for this database\\n\")",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t\twrite_msg(NULL, \"missing pg_database entry for this database\\n\");",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 10417,
          "old_api": "exit_nicely",
          "new_api": "check_sql_result",
          "old_text": "exit_nicely()",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 10422,
          "old_api": "exit_nicely",
          "new_api": "write_msg",
          "old_text": "exit_nicely()",
          "new_text": "write_msg(NULL, \"missing pg_database entry for this database\\n\")",
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "\t\twrite_msg(NULL, \"missing pg_database entry for this database\\n\");",
          "content_same": false
        },
        {
          "line": 10453,
          "old_api": "write_msg",
          "new_api": "check_sql_result",
          "old_text": "write_msg(NULL, \"could not find entry for pg_indexes in pg_class\\n\")",
          "new_text": "check_sql_result(res, g_conn,\n\t\t\t\t\t \"SELECT oid FROM pg_class WHERE relname = 'pg_indexes'\",\n\t\t\t\t\t PGRES_TUPLES_OK)",
          "old_line_content": "\t\twrite_msg(NULL, \"could not find entry for pg_indexes in pg_class\\n\");",
          "new_line_content": "\tcheck_sql_result(res, g_conn,",
          "content_same": false
        },
        {
          "line": 10459,
          "old_api": "exit_nicely",
          "new_api": "write_msg",
          "old_text": "exit_nicely()",
          "new_text": "write_msg(NULL, \"could not find entry for pg_indexes in pg_class\\n\")",
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "\t\twrite_msg(NULL, \"could not find entry for pg_indexes in pg_class\\n\");",
          "content_same": false
        },
        {
          "line": 10486,
          "old_api": "snprintf",
          "new_api": "createPQExpBuffer",
          "old_text": "snprintf(bufm, sizeof(bufm), INT64_FORMAT, SEQ_MINVALUE)",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tsnprintf(bufm, sizeof(bufm), INT64_FORMAT, SEQ_MINVALUE);",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 10487,
          "old_api": "snprintf",
          "new_api": "createPQExpBuffer",
          "old_text": "snprintf(bufx, sizeof(bufx), INT64_FORMAT, SEQ_MAXVALUE)",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tsnprintf(bufx, sizeof(bufx), INT64_FORMAT, SEQ_MAXVALUE);",
          "new_line_content": "\tPQExpBuffer delqry = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 10527,
          "old_api": "PQntuples",
          "new_api": "fmtId",
          "old_text": "PQntuples(res)",
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\tif (PQntuples(res) != 1)",
          "new_line_content": "\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10531,
          "old_api": "PQntuples",
          "new_api": "check_sql_result",
          "old_text": "PQntuples(res)",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\t\t\t\t\t\t\t PQntuples(res)),",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 10533,
          "old_api": "exit_nicely",
          "new_api": "PQntuples",
          "old_text": "exit_nicely()",
          "new_text": "PQntuples(res)",
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "\tif (PQntuples(res) != 1)",
          "content_same": false
        },
        {
          "line": 10538,
          "old_api": "PQgetvalue",
          "new_api": "PQntuples",
          "old_text": "PQgetvalue(res, 0, 0)",
          "new_text": "PQntuples(res)",
          "old_line_content": "\tif (strcmp(PQgetvalue(res, 0, 0), tbinfo->dobj.name) != 0)",
          "new_line_content": "\t\t\t\t  tbinfo->dobj.name, PQntuples(res));",
          "content_same": false
        },
        {
          "line": 10546,
          "old_api": "PQgetvalue",
          "new_api": "write_msg",
          "old_text": "PQgetvalue(res, 0, 1)",
          "new_text": "write_msg(NULL, \"query to get data of sequence \\\"%s\\\" returned name \\\"%s\\\"\\n\",\n\t\t\t\t  tbinfo->dobj.name, PQgetvalue(res, 0, 0))",
          "old_line_content": "\tstartv = PQgetvalue(res, 0, 1);",
          "new_line_content": "\t\twrite_msg(NULL, \"query to get data of sequence \\\"%s\\\" returned name \\\"%s\\\"\\n\",",
          "content_same": false
        },
        {
          "line": 10548,
          "old_api": "PQgetvalue",
          "new_api": "exit_nicely",
          "old_text": "PQgetvalue(res, 0, 3)",
          "new_text": "exit_nicely()",
          "old_line_content": "\tincby = PQgetvalue(res, 0, 3);",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 10555,
          "old_api": "PQgetvalue",
          "new_api": "PQgetisnull",
          "old_text": "PQgetvalue(res, 0, 8)",
          "new_text": "PQgetisnull(res, 0, 4)",
          "old_line_content": "\tcalled = (strcmp(PQgetvalue(res, 0, 8), \"t\") == 0);",
          "new_line_content": "\tif (!PQgetisnull(res, 0, 4))",
          "content_same": false
        },
        {
          "line": 10575,
          "old_api": "appendPQExpBuffer",
          "new_api": "resetPQExpBuffer",
          "old_text": "appendPQExpBuffer(delqry, \"DROP SEQUENCE %s.\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name))",
          "new_text": "resetPQExpBuffer(delqry)",
          "old_line_content": "\t\tappendPQExpBuffer(delqry, \"DROP SEQUENCE %s.\",",
          "new_line_content": "\t\tresetPQExpBuffer(delqry);",
          "content_same": false
        },
        {
          "line": 10583,
          "old_api": "fmtId",
          "new_api": "appendPQExpBuffer",
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": "appendPQExpBuffer(delqry, \"%s;\\n\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\tappendPQExpBuffer(delqry, \"%s;\\n\",",
          "content_same": false
        },
        {
          "line": 10586,
          "old_api": "appendPQExpBuffer",
          "new_api": "resetPQExpBuffer",
          "old_text": "appendPQExpBuffer(query, \"    START WITH %s\\n\", startv)",
          "new_text": "resetPQExpBuffer(query)",
          "old_line_content": "\t\t\tappendPQExpBuffer(query, \"    START WITH %s\\n\", startv);",
          "new_line_content": "\t\tresetPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 10616,
          "old_api": "ArchiveEntry",
          "new_api": "appendPQExpBuffer",
          "old_text": "ArchiveEntry(fout, tbinfo->dobj.catId, tbinfo->dobj.dumpId,\n\t\t\t\t\t tbinfo->dobj.name,\n\t\t\t\t\t tbinfo->dobj.namespace->dobj.name,\n\t\t\t\t\t NULL,\n\t\t\t\t\t tbinfo->rolname,\n\t\t\t\t\t false, \"SEQUENCE\", SECTION_PRE_DATA,\n\t\t\t\t\t query->data, delqry->data, NULL,\n\t\t\t\t\t tbinfo->dobj.dependencies, tbinfo->dobj.nDeps,\n\t\t\t\t\t NULL, NULL)",
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"    CACHE %s%s\",\n\t\t\t\t\t\t  cache, (cycled ? \"\\n    CYCLE\" : \"\"))",
          "old_line_content": "\t\tArchiveEntry(fout, tbinfo->dobj.catId, tbinfo->dobj.dumpId,",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 10644,
          "old_api": "resetPQExpBuffer",
          "new_api": "OidIsValid",
          "old_text": "resetPQExpBuffer(query)",
          "new_text": "OidIsValid(tbinfo->owning_tab)",
          "old_line_content": "\t\t\t\tresetPQExpBuffer(query);",
          "new_line_content": "\t\tif (OidIsValid(tbinfo->owning_tab))",
          "content_same": false
        },
        {
          "line": 10646,
          "old_api": "fmtId",
          "new_api": "findTableByOid",
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": "findTableByOid(tbinfo->owning_tab)",
          "old_line_content": "\t\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\t\tTableInfo  *owning_tab = findTableByOid(tbinfo->owning_tab);",
          "content_same": false
        },
        {
          "line": 10650,
          "old_api": "fmtId",
          "new_api": "resetPQExpBuffer",
          "old_text": "fmtId(owning_tab->attnames[tbinfo->owning_col - 1])",
          "new_text": "resetPQExpBuffer(query)",
          "old_line_content": "\t\t\t\t\t\tfmtId(owning_tab->attnames[tbinfo->owning_col - 1]));",
          "new_line_content": "\t\t\t\tresetPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 10652,
          "old_api": "createDumpId",
          "new_api": "fmtId",
          "old_text": "createDumpId()",
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t\t\t\tArchiveEntry(fout, nilCatalogId, createDumpId(),",
          "new_line_content": "\t\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10680,
          "old_api": "createDumpId",
          "new_api": "resetPQExpBuffer",
          "old_text": "createDumpId()",
          "new_text": "resetPQExpBuffer(query)",
          "old_line_content": "\t\tArchiveEntry(fout, nilCatalogId, createDumpId(),",
          "new_line_content": "\t\tresetPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 10715,
          "old_api": "appendPQExpBuffer",
          "new_api": "createPQExpBuffer",
          "old_text": "appendPQExpBuffer(delqry, \"DROP TRIGGER %s \",\n\t\t\t\t\t  fmtId(tginfo->dobj.name))",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tappendPQExpBuffer(delqry, \"DROP TRIGGER %s \",",
          "new_line_content": "\tquery = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 10716,
          "old_api": "fmtId",
          "new_api": "createPQExpBuffer",
          "old_text": "fmtId(tginfo->dobj.name)",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t  fmtId(tginfo->dobj.name));",
          "new_line_content": "\tdelqry = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 10724,
          "old_api": "appendPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "appendPQExpBuffer(query, \"CREATE CONSTRAINT TRIGGER \")",
          "new_text": "fmtId(tbinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\tappendPQExpBuffer(query, \"CREATE CONSTRAINT TRIGGER \");",
          "new_line_content": "\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 10725,
          "old_api": "fmtId",
          "new_api": "appendPQExpBuffer",
          "old_text": "fmtId(tginfo->tgconstrname)",
          "new_text": "appendPQExpBuffer(delqry, \"%s;\\n\",\n\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\tappendPQExpBufferStr(query, fmtId(tginfo->tgconstrname));",
          "new_line_content": "\tappendPQExpBuffer(delqry, \"%s;\\n\",",
          "content_same": false
        },
        {
          "line": 10730,
          "old_api": "fmtId",
          "new_api": "appendPQExpBuffer",
          "old_text": "fmtId(tginfo->dobj.name)",
          "new_text": "appendPQExpBuffer(query, \"CREATE CONSTRAINT TRIGGER \")",
          "old_line_content": "\t\tappendPQExpBufferStr(query, fmtId(tginfo->dobj.name));",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"CREATE CONSTRAINT TRIGGER \");",
          "content_same": false
        },
        {
          "line": 10736,
          "old_api": "TRIGGER_FOR_BEFORE",
          "new_api": "fmtId",
          "old_text": "TRIGGER_FOR_BEFORE(tginfo->tgtype)",
          "new_text": "fmtId(tginfo->dobj.name)",
          "old_line_content": "\tif (TRIGGER_FOR_BEFORE(tginfo->tgtype))",
          "new_line_content": "\t\tappendPQExpBufferStr(query, fmtId(tginfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10742,
          "old_api": "appendPQExpBuffer",
          "new_api": "TRIGGER_FOR_BEFORE",
          "old_text": "appendPQExpBuffer(query, \" INSERT\")",
          "new_text": "TRIGGER_FOR_BEFORE(tginfo->tgtype)",
          "old_line_content": "\t\tappendPQExpBuffer(query, \" INSERT\");",
          "new_line_content": "\tif (TRIGGER_FOR_BEFORE(tginfo->tgtype))",
          "content_same": false
        },
        {
          "line": 10745,
          "old_api": "TRIGGER_FOR_DELETE",
          "new_api": "appendPQExpBuffer",
          "old_text": "TRIGGER_FOR_DELETE(tginfo->tgtype)",
          "new_text": "appendPQExpBuffer(query, \"AFTER\")",
          "old_line_content": "\tif (TRIGGER_FOR_DELETE(tginfo->tgtype))",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"AFTER\");",
          "content_same": false
        },
        {
          "line": 10786,
          "old_api": "appendPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "appendPQExpBuffer(query, \"DEFERRED\\n\")",
          "new_text": "fmtId(tginfo->tgconstrrelname)",
          "old_line_content": "\t\t\tappendPQExpBuffer(query, \"DEFERRED\\n\");",
          "new_line_content": "\t\t\t\t\t\t\t\t  fmtId(tginfo->tgconstrrelname));",
          "content_same": false
        },
        {
          "line": 10893,
          "old_api": "dumpComment",
          "new_api": "resetPQExpBuffer",
          "old_text": "dumpComment(fout, query->data,\n\t\t\t\ttbinfo->dobj.namespace->dobj.name, tbinfo->rolname,\n\t\t\t\ttginfo->dobj.catId, 0, tginfo->dobj.dumpId)",
          "new_text": "resetPQExpBuffer(query)",
          "old_line_content": "\tdumpComment(fout, query->data,",
          "new_line_content": "\tresetPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 10897,
          "old_api": "destroyPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10936,
          "old_api": "pg_get_ruledef",
          "new_api": "createPQExpBuffer",
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT pg_catalog.pg_get_ruledef('%u'::pg_catalog.oid) AS definition\",\n\t\t\t\t\t\t  rinfo->dobj.catId.oid)",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "\tquery = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 10949,
          "old_api": "check_sql_result",
          "new_api": "appendPQExpBuffer",
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT pg_get_ruledef('%s') AS definition\",\n\t\t\t\t\t\t  rinfo->dobj.name)",
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 10955,
          "old_api": "exit_nicely",
          "new_api": "check_sql_result",
          "old_text": "exit_nicely()",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 10973,
          "old_api": "appendPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "appendPQExpBuffer(cmd, \"ENABLE ALWAYS RULE %s;\\n\",\n\t\t\t\t\t\t\t\t  fmtId(rinfo->dobj.name))",
          "new_text": "fmtId(tbinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\t\tappendPQExpBuffer(cmd, \"ENABLE ALWAYS RULE %s;\\n\",",
          "new_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 10974,
          "old_api": "fmtId",
          "new_api": "appendPQExpBuffer",
          "old_text": "fmtId(rinfo->dobj.name)",
          "new_text": "appendPQExpBuffer(cmd, \"%s \",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\t\t\t\t\t\t\t  fmtId(rinfo->dobj.name));",
          "new_line_content": "\t\tappendPQExpBuffer(cmd, \"%s \",",
          "content_same": false
        },
        {
          "line": 10997,
          "old_api": "ArchiveEntry",
          "new_api": "fmtId",
          "old_text": "ArchiveEntry(fout, rinfo->dobj.catId, rinfo->dobj.dumpId,\n\t\t\t\t rinfo->dobj.name,\n\t\t\t\t tbinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t tbinfo->rolname, false,\n\t\t\t\t \"RULE\", SECTION_POST_DATA,\n\t\t\t\t cmd->data, delcmd->data, NULL,\n\t\t\t\t rinfo->dobj.dependencies, rinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": "fmtId(rinfo->dobj.name)",
          "old_line_content": "\tArchiveEntry(fout, rinfo->dobj.catId, rinfo->dobj.dumpId,",
          "new_line_content": "\t\t\t\t\t  fmtId(rinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 11018,
          "old_api": "PQclear",
          "new_api": "fmtId",
          "old_text": "PQclear(res)",
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 11061,
          "old_api": "PQexec",
          "new_api": "appendPQExpBuffer",
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": "appendPQExpBuffer(query, \"SELECT \"\n\t\t\t\t\t  \"classid, objid, refclassid, refobjid, deptype \"\n\t\t\t\t\t  \"FROM pg_depend \"\n\t\t\t\t\t  \"WHERE deptype != 'p' \"\n\t\t\t\t\t  \"ORDER BY 1,2\")",
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\tappendPQExpBuffer(query, \"SELECT \"",
          "content_same": false
        },
        {
          "line": 11067,
          "old_api": "PQfnumber",
          "new_api": "PQexec",
          "old_text": "PQfnumber(res, \"objid\")",
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\ti_objid = PQfnumber(res, \"objid\");",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 11068,
          "old_api": "PQfnumber",
          "new_api": "check_sql_result",
          "old_text": "PQfnumber(res, \"refclassid\")",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\ti_refclassid = PQfnumber(res, \"refclassid\");",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 11070,
          "old_api": "PQfnumber",
          "new_api": "PQntuples",
          "old_text": "PQfnumber(res, \"deptype\")",
          "new_text": "PQntuples(res)",
          "old_line_content": "\ti_deptype = PQfnumber(res, \"deptype\");",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 11094,
          "old_api": "findObjectByCatalogId",
          "new_api": "PQgetvalue",
          "old_text": "findObjectByCatalogId(objId)",
          "new_text": "PQgetvalue(res, i, i_refobjid)",
          "old_line_content": "\t\t\tdobj = findObjectByCatalogId(objId);",
          "new_line_content": "\t\trefobjId.oid = atooid(PQgetvalue(res, i, i_refobjid));",
          "content_same": false
        },
        {
          "line": 11109,
          "old_api": "findObjectByCatalogId",
          "new_api": "fprintf",
          "old_text": "findObjectByCatalogId(refobjId)",
          "new_text": "fprintf(stderr, \"no referencing object %u %u\\n\",\n\t\t\t\t\tobjId.tableoid, objId.oid)",
          "old_line_content": "\t\trefdobj = findObjectByCatalogId(refobjId);",
          "new_line_content": "\t\t\tfprintf(stderr, \"no referencing object %u %u\\n\",",
          "content_same": false
        },
        {
          "line": 11136,
          "old_api": "PQclear",
          "new_api": "addObjectDependency",
          "old_text": "PQclear(res)",
          "new_text": "addObjectDependency(refdobj, dobj->dumpId)",
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\t\taddObjectDependency(refdobj, dobj->dumpId);",
          "content_same": false
        },
        {
          "line": 11176,
          "old_api": "do_sql_command",
          "new_api": "createPQExpBuffer",
          "old_text": "do_sql_command(g_conn, query->data)",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tdo_sql_command(g_conn, query->data);",
          "new_line_content": "\tquery = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 11178,
          "old_api": "destroyPQExpBuffer",
          "new_api": "fmtId",
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": "fmtId(schemaName)",
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\t\t\t  fmtId(schemaName));",
          "content_same": false
        },
        {
          "line": 11180,
          "old_api": "free",
          "new_api": "appendPQExpBuffer",
          "old_text": "free(curSchemaName)",
          "new_text": "appendPQExpBuffer(query, \", pg_catalog\")",
          "old_line_content": "\t\tfree(curSchemaName);",
          "new_line_content": "\t\tappendPQExpBuffer(query, \", pg_catalog\");",
          "content_same": false
        },
        {
          "line": 11214,
          "old_api": "format_type",
          "new_api": "strdup",
          "old_text": "appendPQExpBuffer(query, \"SELECT pg_catalog.format_type('%u'::pg_catalog.oid, NULL)\",\n\t\t\t\t\t\t  oid)",
          "new_text": "strdup(\"NONE\")",
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT pg_catalog.format_type('%u'::pg_catalog.oid, NULL)\",",
          "new_line_content": "\t\t\treturn strdup(\"NONE\");",
          "content_same": false
        },
        {
          "line": 11230,
          "old_api": "PQexec",
          "new_api": "appendPQExpBuffer",
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": "appendPQExpBuffer(query, \"SELECT typname \"\n\t\t\t\t\t\t  \"FROM pg_type \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::oid\",\n\t\t\t\t\t\t  oid)",
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT typname \"",
          "content_same": false
        },
        {
          "line": 11237,
          "old_api": "write_msg",
          "new_api": "check_sql_result",
          "old_text": "write_msg(NULL, \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t  ntups, query->data)",
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\twrite_msg(NULL, \"query returned %d rows instead of one: %s\\n\",",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 11245,
          "old_api": "PQgetvalue",
          "new_api": "exit_nicely",
          "old_text": "PQgetvalue(res, 0, 0)",
          "new_text": "exit_nicely()",
          "old_line_content": "\t\tresult = strdup(PQgetvalue(res, 0, 0));",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 11283,
          "old_api": "appendPQExpBuffer",
          "new_api": "strcmp",
          "old_text": "appendPQExpBuffer(buf, \"(%d)\",\n\t\t\t\t\t\t\t  typmod - VARHDRSZ)",
          "new_text": "strcmp(typname, \"bpchar\")",
          "old_line_content": "\t\t\tappendPQExpBuffer(buf, \"(%d)\",",
          "new_line_content": "\tif (!strcmp(typname, \"bpchar\"))",
          "content_same": false
        },
        {
          "line": 11323,
          "old_api": "strdup",
          "new_api": "fmtId",
          "old_text": "strdup(buf->data)",
          "new_text": "fmtId(typname)",
          "old_line_content": "\tresult = strdup(buf->data);",
          "new_line_content": "\t\tappendPQExpBuffer(buf, \"%s\", fmtId(typname));",
          "content_same": false
        },
        {
          "line": 11349,
          "old_api": "fmtId",
          "new_api": "createPQExpBuffer",
          "old_text": "fmtId(schema)",
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t\t  fmtId(schema));",
          "new_line_content": "\t\tid_return = createPQExpBuffer();",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 8199,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 8207,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_amopstrategy)",
          "old_line_content": "",
          "new_line_content": "\t\tamopstrategy = PQgetvalue(res, i, i_amopstrategy);",
          "content_same": false
        },
        {
          "line": 8209,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_amopopr)",
          "old_line_content": "\t\t\t\t\t\t  amopstrategy, amopopr);",
          "new_line_content": "\t\tamopopr = PQgetvalue(res, i, i_amopopr);",
          "content_same": false
        },
        {
          "line": 8212,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" ,\\n    \")",
          "old_line_content": "",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \" ,\\n    \");",
          "content_same": false
        },
        {
          "line": 8214,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"OPERATOR %s %s\",\n\t\t\t\t\t\t  amopstrategy, amopopr)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"OPERATOR %s %s\",",
          "content_same": false
        },
        {
          "line": 8217,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" RECHECK\")",
          "old_line_content": "",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \" RECHECK\");",
          "content_same": false
        },
        {
          "line": 8222,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 8227,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(query)",
          "old_line_content": "\t\t * pg_depend entries.",
          "new_line_content": "\tresetPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 8235,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT amprocnum, \"\n\t\t\t\t\t\t  \"amproc::pg_catalog.regprocedure \"\n\t\t\t\t\t\t\"FROM pg_catalog.pg_amproc ap, pg_catalog.pg_depend \"\n\t\t   \"WHERE refclassid = 'pg_catalog.pg_opclass'::pg_catalog.regclass \"\n\t\t\t\t\t\t  \"AND refobjid = '%u'::pg_catalog.oid \"\n\t\t\t\t \"AND classid = 'pg_catalog.pg_amproc'::pg_catalog.regclass \"\n\t\t\t\t\t\t  \"AND objid = ap.oid \"\n\t\t\t\t\t\t  \"ORDER BY amprocnum\",\n\t\t\t\t\t\t  opcinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"AND objid = ap.oid \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT amprocnum, \"",
          "content_same": false
        },
        {
          "line": 8247,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT amprocnum, \"\n\t\t\t\t\t\t  \"amproc::pg_catalog.regprocedure \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_amproc \"\n\t\t\t\t\t\t  \"WHERE amopclaid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t  \"ORDER BY amprocnum\",\n\t\t\t\t\t\t  opcinfo->dobj.catId.oid)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT amprocnum, \"",
          "content_same": false
        },
        {
          "line": 8256,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 8258,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "\t{",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 8261,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"amproc\")",
          "old_line_content": "",
          "new_line_content": "\ti_amproc = PQfnumber(res, \"amproc\");",
          "content_same": false
        },
        {
          "line": 8266,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_amproc)",
          "old_line_content": "\t\t\t\t\t\t  amprocnum, amproc);",
          "new_line_content": "\t\tamproc = PQgetvalue(res, i, i_amproc);",
          "content_same": false
        },
        {
          "line": 8269,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" ,\\n    \")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \" ,\\n    \");",
          "content_same": false
        },
        {
          "line": 8277,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "\t\t\t\t opcinfo->dobj.namespace->dobj.name,",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 8279,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \";\\n\")",
          "old_line_content": "\t\t\t\t opcinfo->rolname,",
          "new_line_content": "\tappendPQExpBuffer(q, \";\\n\");",
          "content_same": false
        },
        {
          "line": 8281,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, opcinfo->dobj.catId, opcinfo->dobj.dumpId,\n\t\t\t\t opcinfo->dobj.name,\n\t\t\t\t opcinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t opcinfo->rolname,\n\t\t\t\t false, \"OPERATOR CLASS\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t opcinfo->dobj.dependencies, opcinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "new_line_content": "\tArchiveEntry(fout, opcinfo->dobj.catId, opcinfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 8292,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(q)",
          "old_line_content": "\t\t\t\tNULL, opcinfo->rolname,",
          "new_line_content": "\tresetPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 8293,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"OPERATOR CLASS %s\",\n\t\t\t\t\t  fmtId(opcinfo->dobj.name))",
          "old_line_content": "\t\t\t\topcinfo->dobj.catId, 0, opcinfo->dobj.dumpId);",
          "new_line_content": "\tappendPQExpBuffer(q, \"OPERATOR CLASS %s\",",
          "content_same": false
        },
        {
          "line": 8294,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(opcinfo->dobj.name)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t  fmtId(opcinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 8301,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(amname)",
          "old_line_content": "/*",
          "new_line_content": "\tfree(amname);",
          "content_same": false
        },
        {
          "line": 8302,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * dumpOpfamily",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 8303,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": " *\t  write out a single operator family definition",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 8304,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delq)",
          "old_line_content": " */",
          "new_line_content": "\tdestroyPQExpBuffer(delq);",
          "content_same": false
        },
        {
          "line": 8353,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "",
          "new_line_content": "\tquery = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 8354,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t/*",
          "new_line_content": "\tq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 8355,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t * Fetch only those opfamily members that are tied directly to the",
          "new_line_content": "\tdelq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 8358,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(opfinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\tif (g_fout->remoteVersion >= 80400)",
          "new_line_content": "\tselectSourceSchema(opfinfo->dobj.namespace->dobj.name);",
          "content_same": false
        },
        {
          "line": 8371,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT amopstrategy, false AS amopreqcheck, \"\n\t\t\t\t\t  \"amopopr::pg_catalog.regoperator \"\n\t\t\t\t\t  \"FROM pg_catalog.pg_amop ao, pg_catalog.pg_depend \"\n\t\t  \"WHERE refclassid = 'pg_catalog.pg_opfamily'::pg_catalog.regclass \"\n\t\t\t\t\t  \"AND refobjid = '%u'::pg_catalog.oid \"\n\t\t\t\t   \"AND classid = 'pg_catalog.pg_amop'::pg_catalog.regclass \"\n\t\t\t\t\t  \"AND objid = ao.oid \"\n\t\t\t\t\t  \"ORDER BY amopstrategy\",\n\t\t\t\t\t  opfinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t  \"AND objid = ao.oid \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT amopstrategy, false AS amopreqcheck, \"",
          "content_same": false
        },
        {
          "line": 8383,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT amopstrategy, amopreqcheck, \"\n\t\t\t\t\t  \"amopopr::pg_catalog.regoperator \"\n\t\t\t\t\t  \"FROM pg_catalog.pg_amop ao, pg_catalog.pg_depend \"\n\t\t  \"WHERE refclassid = 'pg_catalog.pg_opfamily'::pg_catalog.regclass \"\n\t\t\t\t\t  \"AND refobjid = '%u'::pg_catalog.oid \"\n\t\t\t\t   \"AND classid = 'pg_catalog.pg_amop'::pg_catalog.regclass \"\n\t\t\t\t\t  \"AND objid = ao.oid \"\n\t\t\t\t\t  \"ORDER BY amopstrategy\",\n\t\t\t\t\t  opfinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t  \"AND objid = ao.oid \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT amopstrategy, amopreqcheck, \"",
          "content_same": false
        },
        {
          "line": 8394,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t\t\t\t\t  \"amproc::pg_catalog.regprocedure, \"",
          "new_line_content": "\tres_ops = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 8395,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res_ops, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\t\t\t\t  \"amproclefttype::pg_catalog.regtype, \"",
          "new_line_content": "\tcheck_sql_result(res_ops, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 8397,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(query)",
          "old_line_content": "\t\t\t\t\t  \"FROM pg_catalog.pg_amproc ap, pg_catalog.pg_depend \"",
          "new_line_content": "\tresetPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 8399,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT amprocnum, \"\n\t\t\t\t\t  \"amproc::pg_catalog.regprocedure, \"\n\t\t\t\t\t  \"amproclefttype::pg_catalog.regtype, \"\n\t\t\t\t\t  \"amprocrighttype::pg_catalog.regtype \"\n\t\t\t\t\t  \"FROM pg_catalog.pg_amproc ap, pg_catalog.pg_depend \"\n\t\t  \"WHERE refclassid = 'pg_catalog.pg_opfamily'::pg_catalog.regclass \"\n\t\t\t\t\t  \"AND refobjid = '%u'::pg_catalog.oid \"\n\t\t\t\t \"AND classid = 'pg_catalog.pg_amproc'::pg_catalog.regclass \"\n\t\t\t\t\t  \"AND objid = ap.oid \"\n\t\t\t\t\t  \"ORDER BY amprocnum\",\n\t\t\t\t\t  opfinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t  \"AND refobjid = '%u'::pg_catalog.oid \"",
          "new_line_content": "\tappendPQExpBuffer(query, \"SELECT amprocnum, \"",
          "content_same": false
        },
        {
          "line": 8412,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res_procs, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "",
          "new_line_content": "\tcheck_sql_result(res_procs, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 8414,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res_procs)",
          "old_line_content": "\t\t\t\t\t\t  \"FROM pg_catalog.pg_opclass c, pg_catalog.pg_opfamily f, pg_catalog.pg_depend \"",
          "new_line_content": "\tif (PQntuples(res_ops) == 0 && PQntuples(res_procs) == 0)",
          "content_same": false
        },
        {
          "line": 8417,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(query)",
          "old_line_content": "\t\t\t\t\t\t  \"AND refobjid = f.oid \"",
          "new_line_content": "\t\tresetPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 8419,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT 1 \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_opclass c, pg_catalog.pg_opfamily f, pg_catalog.pg_depend \"\n\t\t\t\t\t\t  \"WHERE f.oid = '%u'::pg_catalog.oid \"\n\t\t\t\"AND refclassid = 'pg_catalog.pg_opfamily'::pg_catalog.regclass \"\n\t\t\t\t\t\t  \"AND refobjid = f.oid \"\n\t\t\t\t\"AND classid = 'pg_catalog.pg_opclass'::pg_catalog.regclass \"\n\t\t\t\t\t\t  \"AND objid = c.oid \"\n\t\t\t\t\t\t  \"AND (opcname != opfname OR opcnamespace != opfnamespace OR opcowner != opfowner) \"\n\t\t\t\t\t\t  \"LIMIT 1\",\n\t\t\t\t\t\t  opfinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"AND objid = c.oid \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT 1 \"",
          "content_same": false
        },
        {
          "line": 8436,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "\t\t\treturn;",
          "new_line_content": "\t\t\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 8437,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res_ops)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tPQclear(res_ops);",
          "content_same": false
        },
        {
          "line": 8438,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res_procs)",
          "old_line_content": "",
          "new_line_content": "\t\t\tPQclear(res_procs);",
          "content_same": false
        },
        {
          "line": 8440,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 8441,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delq)",
          "old_line_content": "",
          "new_line_content": "\t\t\tdestroyPQExpBuffer(delq);",
          "content_same": false
        },
        {
          "line": 8449,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(query)",
          "old_line_content": "\t\t\t\t\t  opfinfo->dobj.catId.oid);",
          "new_line_content": "\tresetPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 8457,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t{",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 8461,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "\t}",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 8464,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t  ntups, query->data)",
          "old_line_content": "",
          "new_line_content": "\t\twrite_msg(NULL, \"query returned %d rows instead of one: %s\\n\",",
          "content_same": false
        },
        {
          "line": 8469,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"amname\")",
          "old_line_content": "\t * DROP must be fully qualified in case same name appears in pg_catalog",
          "new_line_content": "\ti_amname = PQfnumber(res, \"amname\");",
          "content_same": false
        },
        {
          "line": 8477,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"DROP OPERATOR FAMILY %s\",\n\t\t\t\t\t  fmtId(opfinfo->dobj.namespace->dobj.name))",
          "old_line_content": "",
          "new_line_content": "\tappendPQExpBuffer(delq, \"DROP OPERATOR FAMILY %s\",",
          "content_same": false
        },
        {
          "line": 8478,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(opfinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t/* Build the fixed portion of the CREATE command */",
          "new_line_content": "\t\t\t\t\t  fmtId(opfinfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 8485,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"CREATE OPERATOR FAMILY %s\",\n\t\t\t\t\t  fmtId(opfinfo->dobj.name))",
          "old_line_content": "",
          "new_line_content": "\tappendPQExpBuffer(q, \"CREATE OPERATOR FAMILY %s\",",
          "content_same": false
        },
        {
          "line": 8486,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(opfinfo->dobj.name)",
          "old_line_content": "\t/* Do we need an ALTER to add loose members? */",
          "new_line_content": "\t\t\t\t\t  fmtId(opfinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 8488,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(amname)",
          "old_line_content": "\t{",
          "new_line_content": "\t\t\t\t\t  fmtId(amname));",
          "content_same": false
        },
        {
          "line": 8493,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res_procs)",
          "old_line_content": "",
          "new_line_content": "\tif (PQntuples(res_ops) > 0 || PQntuples(res_procs) > 0)",
          "content_same": false
        },
        {
          "line": 8495,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"ALTER OPERATOR FAMILY %s\",\n\t\t\t\t\t\t  fmtId(opfinfo->dobj.name))",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"ALTER OPERATOR FAMILY %s\",",
          "content_same": false
        },
        {
          "line": 8496,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(opfinfo->dobj.name)",
          "old_line_content": "\t\t/*",
          "new_line_content": "\t\t\t\t\t\t  fmtId(opfinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 8497,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" USING %s ADD\\n    \",\n\t\t\t\t\t\t  fmtId(amname))",
          "old_line_content": "\t\t * Now fetch and print the OPERATOR entries (pg_amop rows).",
          "new_line_content": "\t\tappendPQExpBuffer(q, \" USING %s ADD\\n    \",",
          "content_same": false
        },
        {
          "line": 8498,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(amname)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\t\t\t\t\t  fmtId(amname));",
          "content_same": false
        },
        {
          "line": 8505,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res_ops)",
          "old_line_content": "\t\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\t\tntups = PQntuples(res_ops);",
          "content_same": false
        },
        {
          "line": 8513,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res_ops, i, i_amopstrategy)",
          "old_line_content": "",
          "new_line_content": "\t\t\tamopstrategy = PQgetvalue(res_ops, i, i_amopstrategy);",
          "content_same": false
        },
        {
          "line": 8515,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res_ops, i, i_amopopr)",
          "old_line_content": "\t\t\t\t\t\t\t  amopstrategy, amopopr);",
          "new_line_content": "\t\t\tamopopr = PQgetvalue(res_ops, i, i_amopopr);",
          "content_same": false
        },
        {
          "line": 8518,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" ,\\n    \")",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(q, \" ,\\n    \");",
          "content_same": false
        },
        {
          "line": 8520,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"OPERATOR %s %s\",\n\t\t\t\t\t\t\t  amopstrategy, amopopr)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \"OPERATOR %s %s\",",
          "content_same": false
        },
        {
          "line": 8522,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(amopreqcheck, \"t\")",
          "old_line_content": "\t\t/*",
          "new_line_content": "\t\t\tif (strcmp(amopreqcheck, \"t\") == 0)",
          "content_same": false
        },
        {
          "line": 8523,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" RECHECK\")",
          "old_line_content": "\t\t * Now fetch and print the FUNCTION entries (pg_amproc rows).",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(q, \" RECHECK\");",
          "content_same": false
        },
        {
          "line": 8531,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res_procs)",
          "old_line_content": "",
          "new_line_content": "\t\tntups = PQntuples(res_procs);",
          "content_same": false
        },
        {
          "line": 8533,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res_procs, \"amprocnum\")",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\ti_amprocnum = PQfnumber(res_procs, \"amprocnum\");",
          "content_same": false
        },
        {
          "line": 8541,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res_procs, i, i_amproc)",
          "old_line_content": "",
          "new_line_content": "\t\t\tamproc = PQgetvalue(res_procs, i, i_amproc);",
          "content_same": false
        },
        {
          "line": 8543,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res_procs, i, i_amprocrighttype)",
          "old_line_content": "\t\t\t\t\t\t\t  amprocnum, amproclefttype, amprocrighttype,",
          "new_line_content": "\t\t\tamprocrighttype = PQgetvalue(res_procs, i, i_amprocrighttype);",
          "content_same": false
        },
        {
          "line": 8546,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" ,\\n    \")",
          "old_line_content": "\t\t\tneedComma = true;",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(q, \" ,\\n    \");",
          "content_same": false
        },
        {
          "line": 8548,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"FUNCTION %s (%s, %s) %s\",\n\t\t\t\t\t\t\t  amprocnum, amproclefttype, amprocrighttype,\n\t\t\t\t\t\t\t  amproc)",
          "old_line_content": "",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \"FUNCTION %s (%s, %s) %s\",",
          "content_same": false
        },
        {
          "line": 8555,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \";\\n\")",
          "old_line_content": "\t\t\t\t NULL,",
          "new_line_content": "\t\tappendPQExpBuffer(q, \";\\n\");",
          "content_same": false
        },
        {
          "line": 8558,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, opfinfo->dobj.catId, opfinfo->dobj.dumpId,\n\t\t\t\t opfinfo->dobj.name,\n\t\t\t\t opfinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t opfinfo->rolname,\n\t\t\t\t false, \"OPERATOR FAMILY\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t opfinfo->dobj.dependencies, opfinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "new_line_content": "\tArchiveEntry(fout, opfinfo->dobj.catId, opfinfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 8569,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(q)",
          "old_line_content": "\t\t\t\tNULL, opfinfo->rolname,",
          "new_line_content": "\tresetPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 8570,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"OPERATOR FAMILY %s\",\n\t\t\t\t\t  fmtId(opfinfo->dobj.name))",
          "old_line_content": "\t\t\t\topfinfo->dobj.catId, 0, opfinfo->dobj.dumpId);",
          "new_line_content": "\tappendPQExpBuffer(q, \"OPERATOR FAMILY %s\",",
          "content_same": false
        },
        {
          "line": 8571,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(opfinfo->dobj.name)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t  fmtId(opfinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 8578,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(amname)",
          "old_line_content": "}",
          "new_line_content": "\tfree(amname);",
          "content_same": false
        },
        {
          "line": 8579,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res_ops)",
          "old_line_content": "",
          "new_line_content": "\tPQclear(res_ops);",
          "content_same": false
        },
        {
          "line": 8580,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res_procs)",
          "old_line_content": "/*",
          "new_line_content": "\tPQclear(res_procs);",
          "content_same": false
        },
        {
          "line": 8581,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * dumpConversion",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 8582,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": " *\t  write out a single conversion definition",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 8583,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delq)",
          "old_line_content": " */",
          "new_line_content": "\tdestroyPQExpBuffer(delq);",
          "content_same": false
        },
        {
          "line": 8615,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "",
          "new_line_content": "\tq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 8616,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t/* Get conversion-specific details */",
          "new_line_content": "\tdelq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 8620,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(convinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\t\t\t  \"conproc, condefault \"",
          "new_line_content": "\tselectSourceSchema(convinfo->dobj.namespace->dobj.name);",
          "content_same": false
        },
        {
          "line": 8623,
          "old_api": null,
          "new_api": "pg_encoding_to_char",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT conname, \"\n\t\t \"pg_catalog.pg_encoding_to_char(conforencoding) AS conforencoding, \"\n\t\t   \"pg_catalog.pg_encoding_to_char(contoencoding) AS contoencoding, \"\n\t\t\t\t\t  \"conproc, condefault \"\n\t\t\t\t\t  \"FROM pg_catalog.pg_conversion c \"\n\t\t\t\t\t  \"WHERE c.oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t  convinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t  convinfo->dobj.catId.oid);",
          "new_line_content": "\tappendPQExpBuffer(query, \"SELECT conname, \"",
          "content_same": false
        },
        {
          "line": 8631,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t{",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 8635,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "\t}",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 8649,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, i_conname)",
          "old_line_content": "\t/*",
          "new_line_content": "\tconname = PQgetvalue(res, 0, i_conname);",
          "content_same": false
        },
        {
          "line": 8650,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, i_conforencoding)",
          "old_line_content": "\t * DROP must be fully qualified in case same name appears in pg_catalog",
          "new_line_content": "\tconforencoding = PQgetvalue(res, 0, i_conforencoding);",
          "content_same": false
        },
        {
          "line": 8651,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, i_contoencoding)",
          "old_line_content": "\t */",
          "new_line_content": "\tcontoencoding = PQgetvalue(res, 0, i_contoencoding);",
          "content_same": false
        },
        {
          "line": 8658,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"DROP CONVERSION %s\",\n\t\t\t\t\t  fmtId(convinfo->dobj.namespace->dobj.name))",
          "old_line_content": "\t\t\t\t\t  (condefault) ? \"DEFAULT \" : \"\",",
          "new_line_content": "\tappendPQExpBuffer(delq, \"DROP CONVERSION %s\",",
          "content_same": false
        },
        {
          "line": 8663,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"CREATE %sCONVERSION %s FOR \",\n\t\t\t\t\t  (condefault) ? \"DEFAULT \" : \"\",\n\t\t\t\t\t  fmtId(convinfo->dobj.name))",
          "old_line_content": "\t/* regproc is automatically quoted in 7.3 and above */",
          "new_line_content": "\tappendPQExpBuffer(q, \"CREATE %sCONVERSION %s FOR \",",
          "content_same": false
        },
        {
          "line": 8665,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(convinfo->dobj.name)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t  fmtId(convinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 8667,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" TO \")",
          "old_line_content": "\t\t\t\t convinfo->dobj.name,",
          "new_line_content": "\tappendPQExpBuffer(q, \" TO \");",
          "content_same": false
        },
        {
          "line": 8668,
          "old_api": null,
          "new_api": "appendStringLiteralAH",
          "old_text": null,
          "new_text": "appendStringLiteralAH(q, contoencoding, fout)",
          "old_line_content": "\t\t\t\t convinfo->dobj.namespace->dobj.name,",
          "new_line_content": "\tappendStringLiteralAH(q, contoencoding, fout);",
          "content_same": false
        },
        {
          "line": 8670,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" FROM %s;\\n\", conproc)",
          "old_line_content": "\t\t\t\t convinfo->rolname,",
          "new_line_content": "\tappendPQExpBuffer(q, \" FROM %s;\\n\", conproc);",
          "content_same": false
        },
        {
          "line": 8672,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, convinfo->dobj.catId, convinfo->dobj.dumpId,\n\t\t\t\t convinfo->dobj.name,\n\t\t\t\t convinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t convinfo->rolname,\n\t\t\t\t false, \"CONVERSION\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t convinfo->dobj.dependencies, convinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "new_line_content": "\tArchiveEntry(fout, convinfo->dobj.catId, convinfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 8684,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(convinfo->dobj.name)",
          "old_line_content": "",
          "new_line_content": "\tappendPQExpBuffer(q, \"CONVERSION %s\", fmtId(convinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 8689,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "}",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 8691,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": "/*",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 8692,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": " * format_aggregate_signature: generate aggregate name and argument list",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 8693,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delq)",
          "old_line_content": " *",
          "new_line_content": "\tdestroyPQExpBuffer(delq);",
          "content_same": false
        },
        {
          "line": 8694,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(details)",
          "old_line_content": " * The argument type names are qualified if needed.  The aggregate name",
          "new_line_content": "\tdestroyPQExpBuffer(details);",
          "content_same": false
        },
        {
          "line": 8709,
          "old_api": null,
          "new_api": "initPQExpBuffer",
          "old_text": null,
          "new_text": "initPQExpBuffer(&buf)",
          "old_line_content": "",
          "new_line_content": "\tinitPQExpBuffer(&buf);",
          "content_same": false
        },
        {
          "line": 8712,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(agginfo->aggfn.dobj.name)",
          "old_line_content": "\telse",
          "new_line_content": "\t\t\t\t\t\t  fmtId(agginfo->aggfn.dobj.name));",
          "content_same": false
        },
        {
          "line": 8717,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(&buf, \"(*)\")",
          "old_line_content": "\t\t\tchar\t   *typname;",
          "new_line_content": "\t\tappendPQExpBuffer(&buf, \"(*)\");",
          "content_same": false
        },
        {
          "line": 8720,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(&buf, \"(\")",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(&buf, \"(\");",
          "content_same": false
        },
        {
          "line": 8725,
          "old_api": null,
          "new_api": "getFormattedTypeName",
          "old_text": null,
          "new_text": "getFormattedTypeName(agginfo->aggfn.argtypes[j], zeroAsOpaque)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\ttypname = getFormattedTypeName(agginfo->aggfn.argtypes[j], zeroAsOpaque);",
          "content_same": false
        },
        {
          "line": 8727,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(&buf, \"%s%s\",\n\t\t\t\t\t\t\t  (j > 0) ? \", \" : \"\",\n\t\t\t\t\t\t\t  typname)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tappendPQExpBuffer(&buf, \"%s%s\",",
          "content_same": false
        },
        {
          "line": 8730,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(typname)",
          "old_line_content": "",
          "new_line_content": "\t\t\tfree(typname);",
          "content_same": false
        },
        {
          "line": 8732,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(&buf, \")\")",
          "old_line_content": " * dumpAgg",
          "new_line_content": "\t\tappendPQExpBuffer(&buf, \")\");",
          "content_same": false
        },
        {
          "line": 8770,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "",
          "new_line_content": "\tq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 8771,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t/* Get aggregate-specific details */",
          "new_line_content": "\tdelq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 8772,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tif (g_fout->remoteVersion >= 80100)",
          "new_line_content": "\tdetails = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 8775,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(agginfo->aggfn.dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\t\t\t\t  \"aggfinalfn, aggtranstype::pg_catalog.regtype, \"",
          "new_line_content": "\tselectSourceSchema(agginfo->aggfn.dobj.namespace->dobj.name);",
          "content_same": false
        },
        {
          "line": 8780,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT aggtransfn, \"\n\t\t\t\t\t\t  \"aggfinalfn, aggtranstype::pg_catalog.regtype, \"\n\t\t\t\t\t\t  \"aggsortop::pg_catalog.regoperator, \"\n\t\t\t\t\t\t  \"agginitval, \"\n\t\t\t\t\t\t  \"'t'::boolean AS convertok \"\n\t\t\t\t\t  \"FROM pg_catalog.pg_aggregate a, pg_catalog.pg_proc p \"\n\t\t\t\t\t\t  \"WHERE a.aggfnoid = p.oid \"\n\t\t\t\t\t\t  \"AND p.oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  agginfo->aggfn.dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"WHERE a.aggfnoid = p.oid \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT aggtransfn, \"",
          "content_same": false
        },
        {
          "line": 8792,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT aggtransfn, \"\n\t\t\t\t\t\t  \"aggfinalfn, aggtranstype::pg_catalog.regtype, \"\n\t\t\t\t\t\t  \"0 AS aggsortop, \"\n\t\t\t\t\t\t  \"agginitval, \"\n\t\t\t\t\t\t  \"'t'::boolean AS convertok \"\n\t\t\t\t\t  \"FROM pg_catalog.pg_aggregate a, pg_catalog.pg_proc p \"\n\t\t\t\t\t\t  \"WHERE a.aggfnoid = p.oid \"\n\t\t\t\t\t\t  \"AND p.oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  agginfo->aggfn.dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"WHERE a.aggfnoid = p.oid \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT aggtransfn, \"",
          "content_same": false
        },
        {
          "line": 8804,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT aggtransfn, aggfinalfn, \"\n\t\t\t\t\t\t  \"format_type(aggtranstype, NULL) AS aggtranstype, \"\n\t\t\t\t\t\t  \"0 AS aggsortop, \"\n\t\t\t\t\t\t  \"agginitval, \"\n\t\t\t\t\t\t  \"'t'::boolean AS convertok \"\n\t\t\t\t\t\t  \"FROM pg_aggregate \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::oid\",\n\t\t\t\t\t\t  agginfo->aggfn.dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"WHERE oid = '%u'::oid\",",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT aggtransfn, aggfinalfn, \"",
          "content_same": false
        },
        {
          "line": 8815,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT aggtransfn1 AS aggtransfn, \"\n\t\t\t\t\t\t  \"aggfinalfn, \"\n\t\t\t\t\t\t  \"(SELECT typname FROM pg_type WHERE oid = aggtranstype1) AS aggtranstype, \"\n\t\t\t\t\t\t  \"0 AS aggsortop, \"\n\t\t\t\t\t\t  \"agginitval1 AS agginitval, \"\n\t\t\t\t\t\t  \"(aggtransfn2 = 0 and aggtranstype2 = 0 and agginitval2 is null) AS convertok \"\n\t\t\t\t\t\t  \"FROM pg_aggregate \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::oid\",\n\t\t\t\t\t\t  agginfo->aggfn.dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"FROM pg_aggregate \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT aggtransfn1 AS aggtransfn, \"",
          "content_same": false
        },
        {
          "line": 8826,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t{",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 8830,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "\t}",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 8838,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"aggtransfn\")",
          "old_line_content": "",
          "new_line_content": "\ti_aggtransfn = PQfnumber(res, \"aggtransfn\");",
          "content_same": false
        },
        {
          "line": 8845,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, i_aggtransfn)",
          "old_line_content": "",
          "new_line_content": "\taggtransfn = PQgetvalue(res, 0, i_aggtransfn);",
          "content_same": false
        },
        {
          "line": 8848,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, i_aggtranstype)",
          "old_line_content": "",
          "new_line_content": "\taggtranstype = PQgetvalue(res, 0, i_aggtranstype);",
          "content_same": false
        },
        {
          "line": 8849,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, i_agginitval)",
          "old_line_content": "\tif (!convertok)",
          "new_line_content": "\tagginitval = PQgetvalue(res, 0, i_agginitval);",
          "content_same": false
        },
        {
          "line": 8850,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, i_convertok)",
          "old_line_content": "\t{",
          "new_line_content": "\tconvertok = (PQgetvalue(res, 0, i_convertok)[0] == 't');",
          "content_same": false
        },
        {
          "line": 8852,
          "old_api": null,
          "new_api": "format_aggregate_signature",
          "old_text": null,
          "new_text": "format_aggregate_signature(agginfo, fout, true)",
          "old_line_content": "\t\t\t\t  aggsig);",
          "new_line_content": "\taggsig = format_aggregate_signature(agginfo, fout, true);",
          "content_same": false
        },
        {
          "line": 8853,
          "old_api": null,
          "new_api": "format_aggregate_signature",
          "old_text": null,
          "new_text": "format_aggregate_signature(agginfo, fout, false)",
          "old_line_content": "\t\treturn;",
          "new_line_content": "\taggsig_tag = format_aggregate_signature(agginfo, fout, false);",
          "content_same": false
        },
        {
          "line": 8857,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"WARNING: aggregate function %s could not be dumped correctly for this database version; ignored\\n\",\n\t\t\t\t  aggsig)",
          "old_line_content": "\t{",
          "new_line_content": "\t\twrite_msg(NULL, \"WARNING: aggregate function %s could not be dumped correctly for this database version; ignored\\n\",",
          "content_same": false
        },
        {
          "line": 8865,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(details, \"    SFUNC = %s,\\n    STYPE = %s\",\n\t\t\t\t\t\t  aggtransfn,\n\t\t\t\t\t\t  aggtranstype)",
          "old_line_content": "\t\t/* format_type quotes, regproc does not */",
          "new_line_content": "\t\tappendPQExpBuffer(details, \"    SFUNC = %s,\\n    STYPE = %s\",",
          "content_same": false
        },
        {
          "line": 8872,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(details, \"    SFUNC = %s,\\n    STYPE = %s\",\n\t\t\t\t\t\t  fmtId(aggtransfn),\n\t\t\t\t\t\t  aggtranstype)",
          "old_line_content": "\t\t/* need quotes all around */",
          "new_line_content": "\t\tappendPQExpBuffer(details, \"    SFUNC = %s,\\n    STYPE = %s\",",
          "content_same": false
        },
        {
          "line": 8880,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(aggtransfn)",
          "old_line_content": "\t{",
          "new_line_content": "\t\t\t\t\t\t  fmtId(aggtransfn));",
          "content_same": false
        },
        {
          "line": 8888,
          "old_api": null,
          "new_api": "appendStringLiteralAH",
          "old_text": null,
          "new_text": "appendStringLiteralAH(details, agginitval, fout)",
          "old_line_content": "\t\t\t\t\t\t  aggfinalfn);",
          "new_line_content": "\t\tappendStringLiteralAH(details, agginitval, fout);",
          "content_same": false
        },
        {
          "line": 8893,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(details, \",\\n    FINALFUNC = %s\",\n\t\t\t\t\t\t  aggfinalfn)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tappendPQExpBuffer(details, \",\\n    FINALFUNC = %s\",",
          "content_same": false
        },
        {
          "line": 8897,
          "old_api": null,
          "new_api": "convertOperatorReference",
          "old_text": null,
          "new_text": "convertOperatorReference(aggsortop)",
          "old_line_content": "",
          "new_line_content": "\taggsortop = convertOperatorReference(aggsortop);",
          "content_same": false
        },
        {
          "line": 8900,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(details, \",\\n    SORTOP = %s\",\n\t\t\t\t\t\t  aggsortop)",
          "old_line_content": "\t */",
          "new_line_content": "\t\tappendPQExpBuffer(details, \",\\n    SORTOP = %s\",",
          "content_same": false
        },
        {
          "line": 8907,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"DROP AGGREGATE %s.%s;\\n\",\n\t\t\t\t\t  fmtId(agginfo->aggfn.dobj.namespace->dobj.name),\n\t\t\t\t\t  aggsig)",
          "old_line_content": "",
          "new_line_content": "\tappendPQExpBuffer(delq, \"DROP AGGREGATE %s.%s;\\n\",",
          "content_same": false
        },
        {
          "line": 8911,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"CREATE AGGREGATE %s (\\n%s\\n);\\n\",\n\t\t\t\t\t  aggsig, details->data)",
          "old_line_content": "\t\t\t\t NULL,",
          "new_line_content": "\tappendPQExpBuffer(q, \"CREATE AGGREGATE %s (\\n%s\\n);\\n\",",
          "content_same": false
        },
        {
          "line": 8914,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, agginfo->aggfn.dobj.catId, agginfo->aggfn.dobj.dumpId,\n\t\t\t\t aggsig_tag,\n\t\t\t\t agginfo->aggfn.dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t agginfo->aggfn.rolname,\n\t\t\t\t false, \"AGGREGATE\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t agginfo->aggfn.dobj.dependencies, agginfo->aggfn.dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "new_line_content": "\tArchiveEntry(fout, agginfo->aggfn.dobj.catId, agginfo->aggfn.dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 8925,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(q)",
          "old_line_content": "\t/*",
          "new_line_content": "\tresetPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 8926,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"AGGREGATE %s\", aggsig)",
          "old_line_content": "\t * Since there is no GRANT ON AGGREGATE syntax, we have to make the ACL",
          "new_line_content": "\tappendPQExpBuffer(q, \"AGGREGATE %s\", aggsig);",
          "content_same": false
        },
        {
          "line": 8927,
          "old_api": null,
          "new_api": "dumpComment",
          "old_text": null,
          "new_text": "dumpComment(fout, q->data,\n\t\t\tagginfo->aggfn.dobj.namespace->dobj.name, agginfo->aggfn.rolname,\n\t\t\t\tagginfo->aggfn.dobj.catId, 0, agginfo->aggfn.dobj.dumpId)",
          "old_line_content": "\t * command look like a function's GRANT; in particular this affects the",
          "new_line_content": "\tdumpComment(fout, q->data,",
          "content_same": false
        },
        {
          "line": 8937,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(aggsig_tag)",
          "old_line_content": "\t\t\t\"FUNCTION\",",
          "new_line_content": "\tfree(aggsig_tag);",
          "content_same": false
        },
        {
          "line": 8939,
          "old_api": null,
          "new_api": "format_function_signature",
          "old_text": null,
          "new_text": "format_function_signature(&agginfo->aggfn, true)",
          "old_line_content": "\t\t\tagginfo->aggfn.dobj.namespace->dobj.name,",
          "new_line_content": "\taggsig = format_function_signature(&agginfo->aggfn, true);",
          "content_same": false
        },
        {
          "line": 8940,
          "old_api": null,
          "new_api": "format_function_signature",
          "old_text": null,
          "new_text": "format_function_signature(&agginfo->aggfn, false)",
          "old_line_content": "\t\t\tagginfo->aggfn.rolname, agginfo->aggfn.proacl);",
          "new_line_content": "\taggsig_tag = format_function_signature(&agginfo->aggfn, false);",
          "content_same": false
        },
        {
          "line": 8951,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "}",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 8953,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": "/*",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 8954,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": " * dumpTSParser",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 8955,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delq)",
          "old_line_content": " *\t  write out a single text search parser",
          "new_line_content": "\tdestroyPQExpBuffer(delq);",
          "content_same": false
        },
        {
          "line": 8956,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(details)",
          "old_line_content": " */",
          "new_line_content": "\tdestroyPQExpBuffer(details);",
          "content_same": false
        },
        {
          "line": 8982,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"    START = %s,\\n\",\n\t\t\t\t\t  convertTSFunction(prsinfo->prsstart))",
          "old_line_content": "\tif (prsinfo->prsheadline != InvalidOid)",
          "new_line_content": "\tappendPQExpBuffer(q, \"    START = %s,\\n\",",
          "content_same": false
        },
        {
          "line": 8987,
          "old_api": null,
          "new_api": "convertTSFunction",
          "old_text": null,
          "new_text": "convertTSFunction(prsinfo->prsend)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t  convertTSFunction(prsinfo->prsend));",
          "content_same": false
        },
        {
          "line": 8989,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"    HEADLINE = %s,\\n\",\n\t\t\t\t\t\t  convertTSFunction(prsinfo->prsheadline))",
          "old_line_content": "\t * DROP must be fully qualified in case same name appears in pg_catalog",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"    HEADLINE = %s,\\n\",",
          "content_same": false
        },
        {
          "line": 8990,
          "old_api": null,
          "new_api": "convertTSFunction",
          "old_text": null,
          "new_text": "convertTSFunction(prsinfo->prsheadline)",
          "old_line_content": "\t */",
          "new_line_content": "\t\t\t\t\t\t  convertTSFunction(prsinfo->prsheadline));",
          "content_same": false
        },
        {
          "line": 8997,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"DROP TEXT SEARCH PARSER %s\",\n\t\t\t\t\t  fmtId(prsinfo->dobj.namespace->dobj.name))",
          "old_line_content": "\t\t\t\t prsinfo->dobj.name,",
          "new_line_content": "\tappendPQExpBuffer(delq, \"DROP TEXT SEARCH PARSER %s\",",
          "content_same": false
        },
        {
          "line": 8998,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(prsinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\t\t prsinfo->dobj.namespace->dobj.name,",
          "new_line_content": "\t\t\t\t\t  fmtId(prsinfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 8999,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \".%s;\\n\",\n\t\t\t\t\t  fmtId(prsinfo->dobj.name))",
          "old_line_content": "\t\t\t\t NULL,",
          "new_line_content": "\tappendPQExpBuffer(delq, \".%s;\\n\",",
          "content_same": false
        },
        {
          "line": 9000,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(prsinfo->dobj.name)",
          "old_line_content": "\t\t\t\t \"\",",
          "new_line_content": "\t\t\t\t\t  fmtId(prsinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9002,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, prsinfo->dobj.catId, prsinfo->dobj.dumpId,\n\t\t\t\t prsinfo->dobj.name,\n\t\t\t\t prsinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t \"\",\n\t\t\t\t false, \"TEXT SEARCH PARSER\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t prsinfo->dobj.dependencies, prsinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "new_line_content": "\tArchiveEntry(fout, prsinfo->dobj.catId, prsinfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 9013,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(q)",
          "old_line_content": "",
          "new_line_content": "\tresetPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 9016,
          "old_api": null,
          "new_api": "dumpComment",
          "old_text": null,
          "new_text": "dumpComment(fout, q->data,\n\t\t\t\tNULL, \"\",\n\t\t\t\tprsinfo->dobj.catId, 0, prsinfo->dobj.dumpId)",
          "old_line_content": "}",
          "new_line_content": "\tdumpComment(fout, q->data,",
          "content_same": false
        },
        {
          "line": 9020,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": " *\t  write out a single text search dictionary",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 9021,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delq)",
          "old_line_content": " */",
          "new_line_content": "\tdestroyPQExpBuffer(delq);",
          "content_same": false
        },
        {
          "line": 9044,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t  \"FROM pg_ts_template p, pg_namespace n \"",
          "new_line_content": "\tdelq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 9045,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t  \"WHERE p.oid = '%u' AND n.oid = tmplnamespace\",",
          "new_line_content": "\tquery = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 9053,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t\t\t\t  ntups, query->data);",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 9055,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "\t}",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 9058,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t  ntups, query->data)",
          "old_line_content": "",
          "new_line_content": "\t\twrite_msg(NULL, \"query returned %d rows instead of one: %s\\n\",",
          "content_same": false
        },
        {
          "line": 9069,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(dictinfo->dobj.name)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t  fmtId(dictinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9071,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"    TEMPLATE = \")",
          "old_line_content": "",
          "new_line_content": "\tappendPQExpBuffer(q, \"    TEMPLATE = \");",
          "content_same": false
        },
        {
          "line": 9072,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(nspname, dictinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t/* the dictinitoption can be dumped straight into the command */",
          "new_line_content": "\tif (strcmp(nspname, dictinfo->dobj.namespace->dobj.name) != 0)",
          "content_same": false
        },
        {
          "line": 9073,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(nspname)",
          "old_line_content": "\tif (dictinfo->dictinitoption)",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"%s.\", fmtId(nspname));",
          "content_same": false
        },
        {
          "line": 9080,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \",\\n    %s\", dictinfo->dictinitoption)",
          "old_line_content": "\t */",
          "new_line_content": "\t\tappendPQExpBuffer(q, \",\\n    %s\", dictinfo->dictinitoption);",
          "content_same": false
        },
        {
          "line": 9087,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"DROP TEXT SEARCH DICTIONARY %s\",\n\t\t\t\t\t  fmtId(dictinfo->dobj.namespace->dobj.name))",
          "old_line_content": "\t\t\t\t dictinfo->dobj.name,",
          "new_line_content": "\tappendPQExpBuffer(delq, \"DROP TEXT SEARCH DICTIONARY %s\",",
          "content_same": false
        },
        {
          "line": 9088,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(dictinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\t\t dictinfo->dobj.namespace->dobj.name,",
          "new_line_content": "\t\t\t\t\t  fmtId(dictinfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 9089,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \".%s;\\n\",\n\t\t\t\t\t  fmtId(dictinfo->dobj.name))",
          "old_line_content": "\t\t\t\t NULL,",
          "new_line_content": "\tappendPQExpBuffer(delq, \".%s;\\n\",",
          "content_same": false
        },
        {
          "line": 9090,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(dictinfo->dobj.name)",
          "old_line_content": "\t\t\t\t dictinfo->rolname,",
          "new_line_content": "\t\t\t\t\t  fmtId(dictinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9092,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, dictinfo->dobj.catId, dictinfo->dobj.dumpId,\n\t\t\t\t dictinfo->dobj.name,\n\t\t\t\t dictinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t dictinfo->rolname,\n\t\t\t\t false, \"TEXT SEARCH DICTIONARY\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t dictinfo->dobj.dependencies, dictinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "new_line_content": "\tArchiveEntry(fout, dictinfo->dobj.catId, dictinfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 9103,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(q)",
          "old_line_content": "",
          "new_line_content": "\tresetPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 9110,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": " * dumpTSTemplate",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 9111,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delq)",
          "old_line_content": " *\t  write out a single text search template",
          "new_line_content": "\tdestroyPQExpBuffer(delq);",
          "content_same": false
        },
        {
          "line": 9112,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " */",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 9139,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"    INIT = %s,\\n\",\n\t\t\t\t\t\t  convertTSFunction(tmplinfo->tmplinit))",
          "old_line_content": "\t * DROP must be fully qualified in case same name appears in pg_catalog",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"    INIT = %s,\\n\",",
          "content_same": false
        },
        {
          "line": 9140,
          "old_api": null,
          "new_api": "convertTSFunction",
          "old_text": null,
          "new_text": "convertTSFunction(tmplinfo->tmplinit)",
          "old_line_content": "\t */",
          "new_line_content": "\t\t\t\t\t\t  convertTSFunction(tmplinfo->tmplinit));",
          "content_same": false
        },
        {
          "line": 9147,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"DROP TEXT SEARCH TEMPLATE %s\",\n\t\t\t\t\t  fmtId(tmplinfo->dobj.namespace->dobj.name))",
          "old_line_content": "\t\t\t\t tmplinfo->dobj.name,",
          "new_line_content": "\tappendPQExpBuffer(delq, \"DROP TEXT SEARCH TEMPLATE %s\",",
          "content_same": false
        },
        {
          "line": 9148,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tmplinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\t\t tmplinfo->dobj.namespace->dobj.name,",
          "new_line_content": "\t\t\t\t\t  fmtId(tmplinfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 9149,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \".%s;\\n\",\n\t\t\t\t\t  fmtId(tmplinfo->dobj.name))",
          "old_line_content": "\t\t\t\t NULL,",
          "new_line_content": "\tappendPQExpBuffer(delq, \".%s;\\n\",",
          "content_same": false
        },
        {
          "line": 9150,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tmplinfo->dobj.name)",
          "old_line_content": "\t\t\t\t \"\",",
          "new_line_content": "\t\t\t\t\t  fmtId(tmplinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9152,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, tmplinfo->dobj.catId, tmplinfo->dobj.dumpId,\n\t\t\t\t tmplinfo->dobj.name,\n\t\t\t\t tmplinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t \"\",\n\t\t\t\t false, \"TEXT SEARCH TEMPLATE\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t tmplinfo->dobj.dependencies, tmplinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "new_line_content": "\tArchiveEntry(fout, tmplinfo->dobj.catId, tmplinfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 9163,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(q)",
          "old_line_content": "",
          "new_line_content": "\tresetPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 9166,
          "old_api": null,
          "new_api": "dumpComment",
          "old_text": null,
          "new_text": "dumpComment(fout, q->data,\n\t\t\t\tNULL, \"\",\n\t\t\t\ttmplinfo->dobj.catId, 0, tmplinfo->dobj.dumpId)",
          "old_line_content": "}",
          "new_line_content": "\tdumpComment(fout, q->data,",
          "content_same": false
        },
        {
          "line": 9170,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": " *\t  write out a single text search configuration",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 9171,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delq)",
          "old_line_content": " */",
          "new_line_content": "\tdestroyPQExpBuffer(delq);",
          "content_same": false
        },
        {
          "line": 9197,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t  \"FROM pg_ts_parser p, pg_namespace n \"",
          "new_line_content": "\tdelq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 9198,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t  \"WHERE p.oid = '%u' AND n.oid = prsnamespace\",",
          "new_line_content": "\tquery = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 9206,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t\t\t\t  ntups, query->data);",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 9208,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "\t}",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 9211,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t  ntups, query->data)",
          "old_line_content": "",
          "new_line_content": "\t\twrite_msg(NULL, \"query returned %d rows instead of one: %s\\n\",",
          "content_same": false
        },
        {
          "line": 9222,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(cfginfo->dobj.name)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t  fmtId(cfginfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9224,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"    PARSER = \")",
          "old_line_content": "",
          "new_line_content": "\tappendPQExpBuffer(q, \"    PARSER = \");",
          "content_same": false
        },
        {
          "line": 9227,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(prsname)",
          "old_line_content": "\t\t\t\t\t  \"SELECT \\n\"",
          "new_line_content": "\tappendPQExpBuffer(q, \"%s );\\n\", fmtId(prsname));",
          "content_same": false
        },
        {
          "line": 9229,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "\t\t\t\t\t  \"    WHERE t.tokid = m.maptokentype ) AS tokenname, \\n\"",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 9231,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(query)",
          "old_line_content": "\t\t\t\t\t  \"FROM pg_catalog.pg_ts_config_map AS m \\n\"",
          "new_line_content": "\tresetPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 9232,
          "old_api": null,
          "new_api": "ts_token_type",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t  \"SELECT \\n\"\n\t\t\t\t\t  \"  ( SELECT alias FROM pg_catalog.ts_token_type('%u'::pg_catalog.oid) AS t \\n\"\n\t\t\t\t\t  \"    WHERE t.tokid = m.maptokentype ) AS tokenname, \\n\"\n\t\t\t\t\t  \"  m.mapdict::pg_catalog.regdictionary AS dictname \\n\"\n\t\t\t\t\t  \"FROM pg_catalog.pg_ts_config_map AS m \\n\"\n\t\t\t\t\t  \"WHERE m.mapcfg = '%u' \\n\"\n\t\t\t\t\t  \"ORDER BY m.mapcfg, m.maptokentype, m.mapseqno\",\n\t\t\t\t\t  cfginfo->cfgparser, cfginfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t  \"WHERE m.mapcfg = '%u' \\n\"",
          "new_line_content": "\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 9242,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 9243,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 9244,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "\t{",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 9247,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"dictname\")",
          "old_line_content": "",
          "new_line_content": "\ti_dictname = PQfnumber(res, \"dictname\");",
          "content_same": false
        },
        {
          "line": 9251,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_tokenname)",
          "old_line_content": "\t\t\t/* starting a new token type, so start a new command */",
          "new_line_content": "\t\tchar\t   *tokenname = PQgetvalue(res, i, i_tokenname);",
          "content_same": false
        },
        {
          "line": 9252,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_dictname)",
          "old_line_content": "\t\t\tif (i > 0)",
          "new_line_content": "\t\tchar\t   *dictname = PQgetvalue(res, i, i_dictname);",
          "content_same": false
        },
        {
          "line": 9259,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \";\\n\")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(q, \";\\n\");",
          "content_same": false
        },
        {
          "line": 9260,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"\\nALTER TEXT SEARCH CONFIGURATION %s\\n\",\n\t\t\t\t\t\t\t  fmtId(cfginfo->dobj.name))",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \"\\nALTER TEXT SEARCH CONFIGURATION %s\\n\",",
          "content_same": false
        },
        {
          "line": 9263,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"    ADD MAPPING FOR %s WITH %s\",\n\t\t\t\t\t\t\t  fmtId(tokenname), dictname)",
          "old_line_content": "",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \"    ADD MAPPING FOR %s WITH %s\",",
          "content_same": false
        },
        {
          "line": 9264,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tokenname)",
          "old_line_content": "\tif (ntups > 0)",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(tokenname), dictname);",
          "content_same": false
        },
        {
          "line": 9271,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \";\\n\")",
          "old_line_content": "\t */",
          "new_line_content": "\t\tappendPQExpBuffer(q, \";\\n\");",
          "content_same": false
        },
        {
          "line": 9278,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"DROP TEXT SEARCH CONFIGURATION %s\",\n\t\t\t\t\t  fmtId(cfginfo->dobj.namespace->dobj.name))",
          "old_line_content": "\t\t\t\t cfginfo->dobj.name,",
          "new_line_content": "\tappendPQExpBuffer(delq, \"DROP TEXT SEARCH CONFIGURATION %s\",",
          "content_same": false
        },
        {
          "line": 9279,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(cfginfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\t\t cfginfo->dobj.namespace->dobj.name,",
          "new_line_content": "\t\t\t\t\t  fmtId(cfginfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 9280,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \".%s;\\n\",\n\t\t\t\t\t  fmtId(cfginfo->dobj.name))",
          "old_line_content": "\t\t\t\t NULL,",
          "new_line_content": "\tappendPQExpBuffer(delq, \".%s;\\n\",",
          "content_same": false
        },
        {
          "line": 9281,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(cfginfo->dobj.name)",
          "old_line_content": "\t\t\t\t cfginfo->rolname,",
          "new_line_content": "\t\t\t\t\t  fmtId(cfginfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9283,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, cfginfo->dobj.catId, cfginfo->dobj.dumpId,\n\t\t\t\t cfginfo->dobj.name,\n\t\t\t\t cfginfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t cfginfo->rolname,\n\t\t\t\t false, \"TEXT SEARCH CONFIGURATION\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t cfginfo->dobj.dependencies, cfginfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "new_line_content": "\tArchiveEntry(fout, cfginfo->dobj.catId, cfginfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 9294,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(q)",
          "old_line_content": "",
          "new_line_content": "\tresetPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 9301,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": " * dumpForeignDataWrapper",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 9302,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delq)",
          "old_line_content": " *\t  write out a single foreign-data wrapper definition",
          "new_line_content": "\tdestroyPQExpBuffer(delq);",
          "content_same": false
        },
        {
          "line": 9303,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " */",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 9324,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"CREATE FOREIGN DATA WRAPPER %s\",\n\t\t\t\t\t  fmtId(fdwinfo->dobj.name))",
          "old_line_content": "",
          "new_line_content": "\tappendPQExpBuffer(q, \"CREATE FOREIGN DATA WRAPPER %s\",",
          "content_same": false
        },
        {
          "line": 9327,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(fdwinfo->fdwvalidator, \"-\")",
          "old_line_content": "",
          "new_line_content": "\tif (fdwinfo->fdwvalidator && strcmp(fdwinfo->fdwvalidator, \"-\") != 0)",
          "content_same": false
        },
        {
          "line": 9332,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" OPTIONS (%s)\", fdwinfo->fdwoptions)",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(q, \" OPTIONS (%s)\", fdwinfo->fdwoptions);",
          "content_same": false
        },
        {
          "line": 9334,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \";\\n\")",
          "old_line_content": "\t\t\t\t fdwinfo->dobj.name,",
          "new_line_content": "\tappendPQExpBuffer(q, \";\\n\");",
          "content_same": false
        },
        {
          "line": 9336,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"DROP FOREIGN DATA WRAPPER %s;\\n\",\n\t\t\t\t\t  fmtId(fdwinfo->dobj.name))",
          "old_line_content": "\t\t\t\t NULL,",
          "new_line_content": "\tappendPQExpBuffer(delq, \"DROP FOREIGN DATA WRAPPER %s;\\n\",",
          "content_same": false
        },
        {
          "line": 9337,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(fdwinfo->dobj.name)",
          "old_line_content": "\t\t\t\t fdwinfo->rolname,",
          "new_line_content": "\t\t\t\t\t  fmtId(fdwinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9339,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, fdwinfo->dobj.catId, fdwinfo->dobj.dumpId,\n\t\t\t\t fdwinfo->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t NULL,\n\t\t\t\t fdwinfo->rolname,\n\t\t\t\t false, \"FOREIGN DATA WRAPPER\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t fdwinfo->dobj.dependencies, fdwinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "new_line_content": "\tArchiveEntry(fout, fdwinfo->dobj.catId, fdwinfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 9351,
          "old_api": null,
          "new_api": "dumpACL",
          "old_text": null,
          "new_text": "dumpACL(fout, fdwinfo->dobj.catId, fdwinfo->dobj.dumpId,\n\t\t\t\"FOREIGN DATA WRAPPER\",\n\t\t\tnamecopy, NULL, fdwinfo->dobj.name,\n\t\t\tNULL, fdwinfo->rolname,\n\t\t\tfdwinfo->fdwacl)",
          "old_line_content": "",
          "new_line_content": "\tdumpACL(fout, fdwinfo->dobj.catId, fdwinfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 9356,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(namecopy)",
          "old_line_content": "/*",
          "new_line_content": "\tfree(namecopy);",
          "content_same": false
        },
        {
          "line": 9358,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": " *\t  write out a foreign server definition",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 9359,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delq)",
          "old_line_content": " */",
          "new_line_content": "\tdestroyPQExpBuffer(delq);",
          "content_same": false
        },
        {
          "line": 9381,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t  \"FROM pg_foreign_data_wrapper w \"",
          "new_line_content": "\tq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 9382,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t  \"WHERE w.oid = '%u'\",",
          "new_line_content": "\tdelq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 9383,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t  srvinfo->srvfdw);",
          "new_line_content": "\tquery = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 9390,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t\t\t\t  ntups, query->data);",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 9392,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "\t}",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 9403,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" TYPE '%s'\", srvinfo->srvtype)",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(q, \" TYPE '%s'\", srvinfo->srvtype);",
          "content_same": false
        },
        {
          "line": 9408,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(fdwname)",
          "old_line_content": "",
          "new_line_content": "\tappendPQExpBuffer(q, \"%s\", fmtId(fdwname));",
          "content_same": false
        },
        {
          "line": 9411,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" OPTIONS (%s)\", srvinfo->srvoptions)",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(q, \" OPTIONS (%s)\", srvinfo->srvoptions);",
          "content_same": false
        },
        {
          "line": 9413,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \";\\n\")",
          "old_line_content": "\t\t\t\t srvinfo->dobj.name,",
          "new_line_content": "\tappendPQExpBuffer(q, \";\\n\");",
          "content_same": false
        },
        {
          "line": 9415,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"DROP SERVER %s;\\n\",\n\t\t\t\t\t  fmtId(srvinfo->dobj.name))",
          "old_line_content": "\t\t\t\t NULL,",
          "new_line_content": "\tappendPQExpBuffer(delq, \"DROP SERVER %s;\\n\",",
          "content_same": false
        },
        {
          "line": 9416,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(srvinfo->dobj.name)",
          "old_line_content": "\t\t\t\t srvinfo->rolname,",
          "new_line_content": "\t\t\t\t\t  fmtId(srvinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9418,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, srvinfo->dobj.catId, srvinfo->dobj.dumpId,\n\t\t\t\t srvinfo->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t NULL,\n\t\t\t\t srvinfo->rolname,\n\t\t\t\t false, \"SERVER\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t srvinfo->dobj.dependencies, srvinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "new_line_content": "\tArchiveEntry(fout, srvinfo->dobj.catId, srvinfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 9430,
          "old_api": null,
          "new_api": "dumpACL",
          "old_text": null,
          "new_text": "dumpACL(fout, srvinfo->dobj.catId, srvinfo->dobj.dumpId,\n\t\t\t\"SERVER\",\n\t\t\tnamecopy, NULL, srvinfo->dobj.name,\n\t\t\tNULL, srvinfo->rolname,\n\t\t\tsrvinfo->srvacl)",
          "old_line_content": "",
          "new_line_content": "\tdumpACL(fout, srvinfo->dobj.catId, srvinfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 9435,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(namecopy)",
          "old_line_content": "\t\t\t\t\t srvinfo->dobj.name, NULL,",
          "new_line_content": "\tfree(namecopy);",
          "content_same": false
        },
        {
          "line": 9438,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(q)",
          "old_line_content": "",
          "new_line_content": "\tresetPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 9445,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": " *",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 9446,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delq)",
          "old_line_content": " * This routine is used to dump any user mappings associated with the",
          "new_line_content": "\tdestroyPQExpBuffer(delq);",
          "content_same": false
        },
        {
          "line": 9472,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t  \"SELECT (%s umuser) AS umuser, \"",
          "new_line_content": "\tq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 9473,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t  \"array_to_string(ARRAY(SELECT option_name || ' ' || quote_literal(option_value) FROM pg_options_to_table(umoptions)), ', ') AS umoptions\\n\"",
          "new_line_content": "\ttag = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 9474,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t  \"FROM pg_user_mapping \"",
          "new_line_content": "\tdelq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 9475,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t  \"WHERE umserver=%u\",",
          "new_line_content": "\tquery = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 9477,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t  \"SELECT (%s umuser) AS umuser, \"\n\t\t\t\t\t  \"array_to_string(ARRAY(SELECT option_name || ' ' || quote_literal(option_value) FROM pg_options_to_table(umoptions)), ', ') AS umoptions\\n\"\n\t\t\t\t\t  \"FROM pg_user_mapping \"\n\t\t\t\t\t  \"WHERE umserver=%u\",\n\t\t\t\t\t  username_subquery,\n\t\t\t\t\t  catalogId.oid)",
          "old_line_content": "\t\t\t\t\t  catalogId.oid);",
          "new_line_content": "\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 9485,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 9486,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 9488,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "\t\tchar\t   *umuser;",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 9489,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"umuser\")",
          "old_line_content": "\t\tchar       *umoptions;",
          "new_line_content": "\ti_umuser = PQfnumber(res, \"umuser\");",
          "content_same": false
        },
        {
          "line": 9490,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"umoptions\")",
          "old_line_content": "",
          "new_line_content": "\ti_umoptions = PQfnumber(res, \"umoptions\");",
          "content_same": false
        },
        {
          "line": 9497,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_umuser)",
          "old_line_content": "",
          "new_line_content": "\t\tumuser = PQgetvalue(res, i, i_umuser);",
          "content_same": false
        },
        {
          "line": 9500,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(q)",
          "old_line_content": "",
          "new_line_content": "\t\tresetPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 9502,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(servername)",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(q, \" SERVER %s\", fmtId(servername));",
          "content_same": false
        },
        {
          "line": 9505,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" OPTIONS (%s)\", umoptions)",
          "old_line_content": "",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \" OPTIONS (%s)\", umoptions);",
          "content_same": false
        },
        {
          "line": 9510,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(servername)",
          "old_line_content": "\t\t\t\t\t tag->data,",
          "new_line_content": "\t\tappendPQExpBuffer(delq, \"DROP USER MAPPING FOR %s SERVER %s;\\n\", fmtId(umuser), fmtId(servername));",
          "content_same": false
        },
        {
          "line": 9512,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(tag)",
          "old_line_content": "\t\t\t\t\t NULL,",
          "new_line_content": "\t\tresetPQExpBuffer(tag);",
          "content_same": false
        },
        {
          "line": 9513,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(umuser)",
          "old_line_content": "\t\t\t\t\t owner, false,",
          "new_line_content": "\t\tappendPQExpBuffer(tag, \"USER MAPPING %s %s\", fmtId(umuser), target);",
          "content_same": false
        },
        {
          "line": 9515,
          "old_api": null,
          "new_api": "createDumpId",
          "old_text": null,
          "new_text": "createDumpId()",
          "old_line_content": "\t\t\t\t\t q->data, delq->data, NULL,",
          "new_line_content": "\t\tArchiveEntry(fout, nilCatalogId, createDumpId(),",
          "content_same": false
        },
        {
          "line": 9526,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 9528,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * Write out grant/revoke information",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 9529,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delq)",
          "old_line_content": " *",
          "new_line_content": "\tdestroyPQExpBuffer(delq);",
          "content_same": false
        },
        {
          "line": 9530,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": " * 'objCatId' is the catalog ID of the underlying object.",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 9562,
          "old_api": null,
          "new_api": "buildACLCommands",
          "old_text": null,
          "new_text": "buildACLCommands(name, subname, type, acls, owner, fout->remoteVersion, sql)",
          "old_line_content": "",
          "new_line_content": "\tif (!buildACLCommands(name, subname, type, acls, owner, fout->remoteVersion, sql))",
          "content_same": false
        },
        {
          "line": 9566,
          "old_api": null,
          "new_api": "exit_nicely",
          "old_text": null,
          "new_text": "exit_nicely()",
          "old_line_content": "\t\t\t\t\t NULL,",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 9570,
          "old_api": null,
          "new_api": "createDumpId",
          "old_text": null,
          "new_text": "createDumpId()",
          "old_line_content": "\t\t\t\t\t &(objDumpId), 1,",
          "new_line_content": "\t\tArchiveEntry(fout, nilCatalogId, createDumpId(),",
          "content_same": false
        },
        {
          "line": 9579,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(sql)",
          "old_line_content": " */",
          "new_line_content": "\tdestroyPQExpBuffer(sql);",
          "content_same": false
        },
        {
          "line": 9596,
          "old_api": null,
          "new_api": "dumpTableSchema",
          "old_text": null,
          "new_text": "dumpTableSchema(fout, tbinfo)",
          "old_line_content": "\t\t\t\tnamecopy, NULL, tbinfo->dobj.name,",
          "new_line_content": "\t\t\tdumpTableSchema(fout, tbinfo);",
          "content_same": false
        },
        {
          "line": 9599,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "",
          "new_line_content": "\t\tnamecopy = strdup(fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9600,
          "old_api": null,
          "new_api": "dumpACL",
          "old_text": null,
          "new_text": "dumpACL(fout, tbinfo->dobj.catId, tbinfo->dobj.dumpId,\n\t\t\t\t(tbinfo->relkind == RELKIND_SEQUENCE) ? \"SEQUENCE\" : \"TABLE\",\n\t\t\t\tnamecopy, NULL, tbinfo->dobj.name,\n\t\t\t\ttbinfo->dobj.namespace->dobj.name, tbinfo->rolname,\n\t\t\t\ttbinfo->relacl)",
          "old_line_content": "\t\t/*",
          "new_line_content": "\t\tdumpACL(fout, tbinfo->dobj.catId, tbinfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 9613,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t\t\t  \"WHERE attrelid = '%u' AND NOT attisdropped AND attacl IS NOT NULL \"",
          "new_line_content": "\t\t\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 9623,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\t\t\tchar   *attnamecopy;",
          "new_line_content": "\t\t\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 9625,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "",
          "new_line_content": "\t\t\tfor (i = 0; i < PQntuples(res); i++)",
          "content_same": false
        },
        {
          "line": 9632,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(attname)",
          "old_line_content": "\t\t\t\t\t\ttbinfo->dobj.namespace->dobj.name, tbinfo->rolname,",
          "new_line_content": "\t\t\t\tattnamecopy = strdup(fmtId(attname));",
          "content_same": false
        },
        {
          "line": 9633,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(attname)",
          "old_line_content": "\t\t\t\t\t\tattacl);",
          "new_line_content": "\t\t\t\tacltag = malloc(strlen(tbinfo->dobj.name) + strlen(attname) + 2);",
          "content_same": false
        },
        {
          "line": 9636,
          "old_api": null,
          "new_api": "dumpACL",
          "old_text": null,
          "new_text": "dumpACL(fout, tbinfo->dobj.catId, tbinfo->dobj.dumpId, \"TABLE\",\n\t\t\t\t\t\tnamecopy, attnamecopy, acltag,\n\t\t\t\t\t\ttbinfo->dobj.namespace->dobj.name, tbinfo->rolname,\n\t\t\t\t\t\tattacl)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tdumpACL(fout, tbinfo->dobj.catId, tbinfo->dobj.dumpId, \"TABLE\",",
          "content_same": false
        },
        {
          "line": 9640,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(attnamecopy)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tfree(attnamecopy);",
          "content_same": false
        },
        {
          "line": 9643,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "}",
          "new_line_content": "\t\t\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 9644,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": "",
          "new_line_content": "\t\t\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 9647,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(namecopy)",
          "old_line_content": " *\t  write the declaration (not data) of one user-defined table or view",
          "new_line_content": "\t\tfree(namecopy);",
          "content_same": false
        },
        {
          "line": 9658,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tint\t\t\tactual_atts;\t/* number of attrs in this CREATE statment */",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 9659,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tchar\t   *reltypename;",
          "new_line_content": "\tPQExpBuffer q = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 9660,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tchar\t   *storage;",
          "new_line_content": "\tPQExpBuffer delq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 9671,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(tbinfo->dobj.namespace->dobj.name)",
          "old_line_content": "",
          "new_line_content": "\tselectSourceSchema(tbinfo->dobj.namespace->dobj.name);",
          "content_same": false
        },
        {
          "line": 9692,
          "old_api": null,
          "new_api": "appendStringLiteralAH",
          "old_text": null,
          "new_text": "appendStringLiteralAH(query, tbinfo->dobj.name, fout)",
          "old_line_content": "",
          "new_line_content": "\t\t\tappendStringLiteralAH(query, tbinfo->dobj.name, fout);",
          "content_same": false
        },
        {
          "line": 9697,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\t\t\t\t\t  tbinfo->dobj.name);",
          "new_line_content": "\t\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 9702,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"query to obtain definition of view \\\"%s\\\" returned no data\\n\",\n\t\t\t\t\t\t  tbinfo->dobj.name)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\twrite_msg(NULL, \"query to obtain definition of view \\\"%s\\\" returned no data\\n\",",
          "content_same": false
        },
        {
          "line": 9705,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"query to obtain definition of view \\\"%s\\\" returned more than one definition\\n\",\n\t\t\t\t\t\t  tbinfo->dobj.name)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\twrite_msg(NULL, \"query to obtain definition of view \\\"%s\\\" returned more than one definition\\n\",",
          "content_same": false
        },
        {
          "line": 9707,
          "old_api": null,
          "new_api": "exit_nicely",
          "old_text": null,
          "new_text": "exit_nicely()",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 9712,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(viewdef)",
          "old_line_content": "",
          "new_line_content": "\t\tif (strlen(viewdef) == 0)",
          "content_same": false
        },
        {
          "line": 9714,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"definition of view \\\"%s\\\" appears to be empty (length zero)\\n\",\n\t\t\t\t\t  tbinfo->dobj.name)",
          "old_line_content": "\t\t * DROP must be fully qualified in case same name appears in",
          "new_line_content": "\t\t\twrite_msg(NULL, \"definition of view \\\"%s\\\" appears to be empty (length zero)\\n\",",
          "content_same": false
        },
        {
          "line": 9716,
          "old_api": null,
          "new_api": "exit_nicely",
          "old_text": null,
          "new_text": "exit_nicely()",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 9724,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.namespace->dobj.name)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 9726,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9728,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"CREATE VIEW %s AS\\n    %s\\n\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.name), viewdef)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"CREATE VIEW %s AS\\n    %s\\n\",",
          "content_same": false
        },
        {
          "line": 9729,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t\treltypename = \"TABLE\";",
          "new_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name), viewdef);",
          "content_same": false
        },
        {
          "line": 9731,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "\t\tparents = tbinfo->parents;",
          "new_line_content": "\t\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 9744,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\tactual_atts = 0;",
          "new_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 9745,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"%s;\\n\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\tfor (j = 0; j < tbinfo->numatts; j++)",
          "new_line_content": "\t\tappendPQExpBuffer(delq, \"%s;\\n\",",
          "content_same": false
        },
        {
          "line": 9746,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9748,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"CREATE TABLE %s (\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\t\tif (!tbinfo->inhAttrs[j] &&",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"CREATE TABLE %s (\",",
          "content_same": false
        },
        {
          "line": 9749,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t\t\t\t(!tbinfo->attisdropped[j] || binary_upgrade))",
          "new_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9759,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \",\")",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \",\");",
          "content_same": false
        },
        {
          "line": 9760,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"\\n    \")",
          "old_line_content": "\t\t\t\t/* Attribute type */",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(q, \"\\n    \");",
          "content_same": false
        },
        {
          "line": 9764,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->attnames[j])",
          "old_line_content": "\t\t\t\t\t\t\t\t\t  tbinfo->atttypnames[j]);",
          "new_line_content": "\t\t\t\t\t\t\t\t  fmtId(tbinfo->attnames[j]));",
          "content_same": false
        },
        {
          "line": 9775,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"%s\",\n\t\t\t\t\t\t\t\t\t  myFormatType(tbinfo->atttypnames[j],\n\t\t\t\t\t\t\t\t\t\t\t\t   tbinfo->atttypmod[j]))",
          "old_line_content": "\t\t\t\t * Default value --- suppress if inherited or to be printed",
          "new_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \"%s\",",
          "content_same": false
        },
        {
          "line": 9776,
          "old_api": null,
          "new_api": "myFormatType",
          "old_text": null,
          "new_text": "myFormatType(tbinfo->atttypnames[j],\n\t\t\t\t\t\t\t\t\t\t\t\t   tbinfo->atttypmod[j])",
          "old_line_content": "\t\t\t\t * separately.",
          "new_line_content": "\t\t\t\t\t\t\t\t\t  myFormatType(tbinfo->atttypnames[j],",
          "content_same": false
        },
        {
          "line": 9787,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" DEFAULT %s\",\n\t\t\t\t\t\t\t\t\t  tbinfo->attrdefs[j]->adef_expr)",
          "old_line_content": "\t\t\t\tif (tbinfo->notnull[j] && !tbinfo->inhNotNull[j])",
          "new_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \" DEFAULT %s\",",
          "content_same": false
        },
        {
          "line": 9794,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" NOT NULL\")",
          "old_line_content": "\t\t/*",
          "new_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \" NOT NULL\");",
          "content_same": false
        },
        {
          "line": 9811,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \",\\n    \")",
          "old_line_content": "\t\t\tactual_atts++;",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(q, \",\\n    \");",
          "content_same": false
        },
        {
          "line": 9813,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"CONSTRAINT %s \",\n\t\t\t\t\t\t\t  fmtId(constr->dobj.name))",
          "old_line_content": "",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \"CONSTRAINT %s \",",
          "content_same": false
        },
        {
          "line": 9815,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"%s\", constr->condef)",
          "old_line_content": "",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \"%s\", constr->condef);",
          "content_same": false
        },
        {
          "line": 9820,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"\\n)\")",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"\\n)\");",
          "content_same": false
        },
        {
          "line": 9830,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \", \")",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \", \");",
          "content_same": false
        },
        {
          "line": 9832,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"%s.\",\n\t\t\t\t\t\t\t\tfmtId(parentRel->dobj.namespace->dobj.name))",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \"%s.\",",
          "content_same": false
        },
        {
          "line": 9833,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(parentRel->dobj.namespace->dobj.name)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\t\t\tfmtId(parentRel->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 9837,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \")\")",
          "old_line_content": "\t\t\tbool\taddcomma = false;",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \")\");",
          "content_same": false
        },
        {
          "line": 9841,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(tbinfo->toast_reloptions)",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\t\t(tbinfo->toast_reloptions && strlen(tbinfo->toast_reloptions) > 0))",
          "content_same": false
        },
        {
          "line": 9846,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(tbinfo->reloptions)",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\t\tif (tbinfo->reloptions && strlen(tbinfo->reloptions) > 0)",
          "content_same": false
        },
        {
          "line": 9849,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"%s\", tbinfo->reloptions)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(q, \"%s\", tbinfo->reloptions);",
          "content_same": false
        },
        {
          "line": 9851,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(tbinfo->toast_reloptions)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tif (tbinfo->toast_reloptions && strlen(tbinfo->toast_reloptions) > 0)",
          "content_same": false
        },
        {
          "line": 9856,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \")\")",
          "old_line_content": "\t\t * For binary-compatible heap files, we create dropped columns",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \")\");",
          "content_same": false
        },
        {
          "line": 9859,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \";\\n\")",
          "old_line_content": "\t\tif (binary_upgrade)",
          "new_line_content": "\t\tappendPQExpBuffer(q, \";\\n\");",
          "content_same": false
        },
        {
          "line": 9871,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"ALTER TABLE ONLY %s \",\n\t\t\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\t\t\t\t *\tALTER TABLE DROP COLUMN clears pg_attribute.atttypid,",
          "new_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \"ALTER TABLE ONLY %s \",",
          "content_same": false
        },
        {
          "line": 9872,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t\t\t\t\t *\tso we have to set pg_attribute.attlen and",
          "new_line_content": "\t\t\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9873,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"DROP COLUMN %s;\\n\",\n\t\t\t\t\t\t\t\t\t  fmtId(tbinfo->attnames[j]))",
          "old_line_content": "\t\t\t\t\t *\tpg_attribute.attalign values because that is what",
          "new_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \"DROP COLUMN %s;\\n\",",
          "content_same": false
        },
        {
          "line": 9874,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->attnames[j])",
          "old_line_content": "\t\t\t\t\t *\tis used to skip over dropped columns in the heap tuples.",
          "new_line_content": "\t\t\t\t\t\t\t\t\t  fmtId(tbinfo->attnames[j]));",
          "content_same": false
        },
        {
          "line": 9886,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"\\n-- For binary upgrade, recreate dropped column's length and alignment.\\n\")",
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t \"\t(\\n\"",
          "new_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \"\\n-- For binary upgrade, recreate dropped column's length and alignment.\\n\");",
          "content_same": false
        },
        {
          "line": 9887,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"UPDATE pg_attribute\\n\"\n\t\t\t\t\t\t\t\t\t\t \"SET attlen = %d, \"\n\t\t\t\t\t\t\t\t\t\t \"attalign = '%c'\\n\"\n\t\t\t\t\t\t\t\t\t\t \"WHERE\tattname = '%s'\\n\"\n\t\t\t\t\t\t\t\t\t\t \"\tAND attrelid = \\n\"\n\t\t\t\t\t\t\t\t\t\t \"\t(\\n\"\n\t\t\t\t\t\t\t\t\t\t \"\t\tSELECT oid\\n\"\n\t\t\t\t\t\t\t\t\t\t \"\t\tFROM pg_class\\n\"\n\t\t\t\t\t\t\t\t\t\t \"\t\tWHERE\trelnamespace = \"\n\t\t\t\t\t\t\t\t\t\t \"(SELECT oid FROM pg_namespace \"\n\t\t\t\t\t\t\t\t\t\t \"WHERE nspname = CURRENT_SCHEMA)\\n\"\n\t\t\t\t\t\t\t\t\t\t \"\t\t\tAND relname = '%s'\\n\"\n\t\t\t\t\t\t\t\t\t\t \"\t);\\n\",\n\t\t\t\t\t\t\t\t\t\t tbinfo->attlen[j],\n\t\t\t\t\t\t\t\t\t\t tbinfo->attalign[j],\n\t\t\t\t\t\t\t\t\t\t tbinfo->attnames[j],\n\t\t\t\t\t\t\t\t\t\t tbinfo->dobj.name)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t \"\t\tSELECT oid\\n\"",
          "new_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \"UPDATE pg_attribute\\n\"",
          "content_same": false
        },
        {
          "line": 9906,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"\\n-- For binary upgrade, set relfrozenxid.\\n\")",
          "old_line_content": "\t\t\t\t\t\t\t\t \"WHERE nspname = CURRENT_SCHEMA);\\n\",",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \"\\n-- For binary upgrade, set relfrozenxid.\\n\");",
          "content_same": false
        },
        {
          "line": 9907,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"UPDATE pg_class\\n\"\n\t\t\t\t\t\t\t\t \"SET relfrozenxid = '%u'\\n\"\n\t\t\t\t\t\t\t\t \"WHERE\trelname = '%s'\\n\"\n\t\t\t\t\t\t\t\t \"\tAND relnamespace = \"\n\t\t\t\t\t\t\t\t \"(SELECT oid FROM pg_namespace \"\n\t\t\t\t\t\t\t\t \"WHERE nspname = CURRENT_SCHEMA);\\n\",\n\t\t\t\t\t\t\t\t tbinfo->frozenxid,\n\t\t\t\t\t\t\t\t tbinfo->dobj.name)",
          "old_line_content": "\t\t\t\t\t\t\t\t tbinfo->frozenxid,",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \"UPDATE pg_class\\n\"",
          "content_same": false
        },
        {
          "line": 9928,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"ALTER TABLE ONLY %s \",\n\t\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(q, \"ALTER TABLE ONLY %s \",",
          "content_same": false
        },
        {
          "line": 9929,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9930,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"ALTER COLUMN %s \",\n\t\t\t\t\t\t\t\t  fmtId(tbinfo->attnames[j]))",
          "old_line_content": "\t\t\t/*",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(q, \"ALTER COLUMN %s \",",
          "content_same": false
        },
        {
          "line": 9931,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->attnames[j])",
          "old_line_content": "\t\t\t * Dump per-column storage information.  The statement is only",
          "new_line_content": "\t\t\t\t\t\t\t\t  fmtId(tbinfo->attnames[j]));",
          "content_same": false
        },
        {
          "line": 9932,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"SET STATISTICS %d;\\n\",\n\t\t\t\t\t\t\t\t  tbinfo->attstattarget[j])",
          "old_line_content": "\t\t\t * dumped if the storage has been changed from the type's default.",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(q, \"SET STATISTICS %d;\\n\",",
          "content_same": false
        },
        {
          "line": 9965,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"ALTER TABLE ONLY %s \",\n\t\t\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \"ALTER TABLE ONLY %s \",",
          "content_same": false
        },
        {
          "line": 9966,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 9967,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"ALTER COLUMN %s \",\n\t\t\t\t\t\t\t\t\t  fmtId(tbinfo->attnames[j]))",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \"ALTER COLUMN %s \",",
          "content_same": false
        },
        {
          "line": 9968,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->attnames[j])",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\t\t\t\t\t\t  fmtId(tbinfo->attnames[j]));",
          "content_same": false
        },
        {
          "line": 9969,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"SET STORAGE %s;\\n\",\n\t\t\t\t\t\t\t\t\t  storage)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \"SET STORAGE %s;\\n\",",
          "content_same": false
        },
        {
          "line": 9976,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, tbinfo->dobj.catId, tbinfo->dobj.dumpId,\n\t\t\t\t tbinfo->dobj.name,\n\t\t\t\t tbinfo->dobj.namespace->dobj.name,\n\t\t\t(tbinfo->relkind == RELKIND_VIEW) ? NULL : tbinfo->reltablespace,\n\t\t\t\t tbinfo->rolname,\n\t\t\t   (strcmp(reltypename, \"TABLE\") == 0) ? tbinfo->hasoids : false,\n\t\t\t\t reltypename, SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t tbinfo->dobj.dependencies, tbinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t reltypename, SECTION_PRE_DATA,",
          "new_line_content": "\tArchiveEntry(fout, tbinfo->dobj.catId, tbinfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 9981,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(reltypename, \"TABLE\")",
          "old_line_content": "\t/* Dump Table Comments */",
          "new_line_content": "\t\t\t   (strcmp(reltypename, \"TABLE\") == 0) ? tbinfo->hasoids : false,",
          "content_same": false
        },
        {
          "line": 9988,
          "old_api": null,
          "new_api": "dumpTableComment",
          "old_text": null,
          "new_text": "dumpTableComment(fout, tbinfo, reltypename)",
          "old_line_content": "",
          "new_line_content": "\tdumpTableComment(fout, tbinfo, reltypename);",
          "content_same": false
        },
        {
          "line": 9998,
          "old_api": null,
          "new_api": "dumpTableConstraintComment",
          "old_text": null,
          "new_text": "dumpTableConstraintComment(fout, constr)",
          "old_line_content": "}",
          "new_line_content": "\t\tdumpTableConstraintComment(fout, constr);",
          "content_same": false
        },
        {
          "line": 10001,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * dumpAttrDef --- dump an attribute's default-value declaration",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 10002,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": " */",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 10003,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delq)",
          "old_line_content": "static void",
          "new_line_content": "\tdestroyPQExpBuffer(delq);",
          "content_same": false
        },
        {
          "line": 10026,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t  adinfo->adef_expr);",
          "new_line_content": "\tdelq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 10028,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"ALTER TABLE %s \",\n\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t/*",
          "new_line_content": "\tappendPQExpBuffer(q, \"ALTER TABLE %s \",",
          "content_same": false
        },
        {
          "line": 10029,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t * DROP must be fully qualified in case same name appears in pg_catalog",
          "new_line_content": "\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10030,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"ALTER COLUMN %s SET DEFAULT %s;\\n\",\n\t\t\t\t\t  fmtId(tbinfo->attnames[adnum - 1]),\n\t\t\t\t\t  adinfo->adef_expr)",
          "old_line_content": "\t */",
          "new_line_content": "\tappendPQExpBuffer(q, \"ALTER COLUMN %s SET DEFAULT %s;\\n\",",
          "content_same": false
        },
        {
          "line": 10037,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"ALTER TABLE %s.\",\n\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name))",
          "old_line_content": "",
          "new_line_content": "\tappendPQExpBuffer(delq, \"ALTER TABLE %s.\",",
          "content_same": false
        },
        {
          "line": 10039,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"%s \",\n\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\t\t\t tbinfo->attnames[adnum - 1],",
          "new_line_content": "\tappendPQExpBuffer(delq, \"%s \",",
          "content_same": false
        },
        {
          "line": 10040,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t\t\t\t tbinfo->dobj.namespace->dobj.name,",
          "new_line_content": "\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10041,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"ALTER COLUMN %s DROP DEFAULT;\\n\",\n\t\t\t\t\t  fmtId(tbinfo->attnames[adnum - 1]))",
          "old_line_content": "\t\t\t\t NULL,",
          "new_line_content": "\tappendPQExpBuffer(delq, \"ALTER COLUMN %s DROP DEFAULT;\\n\",",
          "content_same": false
        },
        {
          "line": 10042,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->attnames[adnum - 1])",
          "old_line_content": "\t\t\t\t tbinfo->rolname,",
          "new_line_content": "\t\t\t\t\t  fmtId(tbinfo->attnames[adnum - 1]));",
          "content_same": false
        },
        {
          "line": 10044,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, adinfo->dobj.catId, adinfo->dobj.dumpId,\n\t\t\t\t tbinfo->attnames[adnum - 1],\n\t\t\t\t tbinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t tbinfo->rolname,\n\t\t\t\t false, \"DEFAULT\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t adinfo->dobj.dependencies, adinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "new_line_content": "\tArchiveEntry(fout, adinfo->dobj.catId, adinfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 10054,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": " *",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 10055,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delq)",
          "old_line_content": " * The array tblInfo->attnames[] only provides names of user attributes;",
          "new_line_content": "\tdestroyPQExpBuffer(delq);",
          "content_same": false
        },
        {
          "line": 10087,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"invalid column number %d for table \\\"%s\\\"\\n\",\n\t\t\t  attrnum, tblInfo->dobj.name)",
          "old_line_content": "/*",
          "new_line_content": "\twrite_msg(NULL, \"invalid column number %d for table \\\"%s\\\"\\n\",",
          "content_same": false
        },
        {
          "line": 10089,
          "old_api": null,
          "new_api": "exit_nicely",
          "old_text": null,
          "new_text": "exit_nicely()",
          "old_line_content": " *\t  write out to fout a user-defined index",
          "new_line_content": "\texit_nicely();",
          "content_same": false
        },
        {
          "line": 10107,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t * will have ensured the constraint is emitted first.)",
          "new_line_content": "\tq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 10108,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t */",
          "new_line_content": "\tdelq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 10123,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"\\nALTER TABLE %s CLUSTER\",\n\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\t/*",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \"\\nALTER TABLE %s CLUSTER\",",
          "content_same": false
        },
        {
          "line": 10124,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t\t * DROP must be fully qualified in case same name appears in",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10125,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" ON %s;\\n\",\n\t\t\t\t\t\t\t  fmtId(indxinfo->dobj.name))",
          "old_line_content": "\t\t * pg_catalog",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \" ON %s;\\n\",",
          "content_same": false
        },
        {
          "line": 10126,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(indxinfo->dobj.name)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(indxinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10133,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"DROP INDEX %s.\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name))",
          "old_line_content": "\t\t\t\t\t indxinfo->dobj.name,",
          "new_line_content": "\t\tappendPQExpBuffer(delq, \"DROP INDEX %s.\",",
          "content_same": false
        },
        {
          "line": 10134,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\t\t\t tbinfo->dobj.namespace->dobj.name,",
          "new_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 10135,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"%s;\\n\",\n\t\t\t\t\t\t  fmtId(indxinfo->dobj.name))",
          "old_line_content": "\t\t\t\t\t indxinfo->tablespace,",
          "new_line_content": "\t\tappendPQExpBuffer(delq, \"%s;\\n\",",
          "content_same": false
        },
        {
          "line": 10136,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(indxinfo->dobj.name)",
          "old_line_content": "\t\t\t\t\t tbinfo->rolname, false,",
          "new_line_content": "\t\t\t\t\t\t  fmtId(indxinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10138,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, indxinfo->dobj.catId, indxinfo->dobj.dumpId,\n\t\t\t\t\t indxinfo->dobj.name,\n\t\t\t\t\t tbinfo->dobj.namespace->dobj.name,\n\t\t\t\t\t indxinfo->tablespace,\n\t\t\t\t\t tbinfo->rolname, false,\n\t\t\t\t\t \"INDEX\", SECTION_POST_DATA,\n\t\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t\t indxinfo->dobj.dependencies, indxinfo->dobj.nDeps,\n\t\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t\t q->data, delq->data, NULL,",
          "new_line_content": "\t\tArchiveEntry(fout, indxinfo->dobj.catId, indxinfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 10150,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(q)",
          "old_line_content": "\t\t\t\tindxinfo->dobj.catId, 0, indxinfo->dobj.dumpId);",
          "new_line_content": "\tresetPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 10151,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"INDEX %s\",\n\t\t\t\t\t  fmtId(indxinfo->dobj.name))",
          "old_line_content": "",
          "new_line_content": "\tappendPQExpBuffer(q, \"INDEX %s\",",
          "content_same": false
        },
        {
          "line": 10158,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": " *\t  write out to fout a user-defined constraint",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 10159,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delq)",
          "old_line_content": " */",
          "new_line_content": "\tdestroyPQExpBuffer(delq);",
          "content_same": false
        },
        {
          "line": 10177,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\tIndxInfo   *indxinfo;",
          "new_line_content": "\tq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 10178,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\tint\t\t\tk;",
          "new_line_content": "\tdelq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 10195,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"ALTER TABLE ONLY %s\\n\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\tfor (k = 0; k < indxinfo->indnkeys; k++)",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"ALTER TABLE ONLY %s\\n\",",
          "content_same": false
        },
        {
          "line": 10196,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10197,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"    ADD CONSTRAINT %s %s (\",\n\t\t\t\t\t\t  fmtId(coninfo->dobj.name),\n\t\t\t\t\t\t  coninfo->contype == 'p' ? \"PRIMARY KEY\" : \"UNIQUE\")",
          "old_line_content": "\t\t\tint\t\t\tindkey = (int) indxinfo->indkeys[k];",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"    ADD CONSTRAINT %s %s (\",",
          "content_same": false
        },
        {
          "line": 10198,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(coninfo->dobj.name)",
          "old_line_content": "\t\t\tconst char *attname;",
          "new_line_content": "\t\t\t\t\t\t  fmtId(coninfo->dobj.name),",
          "content_same": false
        },
        {
          "line": 10208,
          "old_api": null,
          "new_api": "getAttrName",
          "old_text": null,
          "new_text": "getAttrName(indkey, tbinfo)",
          "old_line_content": "",
          "new_line_content": "\t\t\tattname = getAttrName(indkey, tbinfo);",
          "content_same": false
        },
        {
          "line": 10210,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"%s%s\",\n\t\t\t\t\t\t\t  (k == 0) ? \"\" : \", \",\n\t\t\t\t\t\t\t  fmtId(attname))",
          "old_line_content": "",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \"%s%s\",",
          "content_same": false
        },
        {
          "line": 2021,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, blobQry)",
          "old_line_content": "\tdo",
          "new_line_content": "\tres = PQexec(g_conn, blobQry);",
          "content_same": false
        },
        {
          "line": 2022,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res, g_conn, blobQry, PGRES_COMMAND_OK)",
          "old_line_content": "\t{",
          "new_line_content": "\tcheck_sql_result(res, g_conn, blobQry, PGRES_COMMAND_OK);",
          "content_same": false
        },
        {
          "line": 10215,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \")\")",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(q, \")\");",
          "content_same": false
        },
        {
          "line": 10217,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(indxinfo->options)",
          "old_line_content": "\t\tif (indxinfo->indisclustered)",
          "new_line_content": "\t\tif (indxinfo->options && strlen(indxinfo->options) > 0)",
          "content_same": false
        },
        {
          "line": 10218,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" WITH (%s)\", indxinfo->options)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \" WITH (%s)\", indxinfo->options);",
          "content_same": false
        },
        {
          "line": 2029,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "\t\t/* Process the tuples, if any */",
          "new_line_content": "\t\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 2032,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, blobFetchQry)",
          "old_line_content": "\t\t\tOid\t\t\tblobOid;",
          "new_line_content": "\t\tres = PQexec(g_conn, blobFetchQry);",
          "content_same": false
        },
        {
          "line": 2033,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res, g_conn, blobFetchQry, PGRES_TUPLES_OK)",
          "old_line_content": "\t\t\tchar\t   *comment;",
          "new_line_content": "\t\tcheck_sql_result(res, g_conn, blobFetchQry, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 10225,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"\\nALTER TABLE %s CLUSTER\",\n\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\t/*",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \"\\nALTER TABLE %s CLUSTER\",",
          "content_same": false
        },
        {
          "line": 10226,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t\t * DROP must be fully qualified in case same name appears in",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10227,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" ON %s;\\n\",\n\t\t\t\t\t\t\t  fmtId(indxinfo->dobj.name))",
          "old_line_content": "\t\t * pg_catalog",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \" ON %s;\\n\",",
          "content_same": false
        },
        {
          "line": 10228,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(indxinfo->dobj.name)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(indxinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10235,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"ALTER TABLE ONLY %s.\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name))",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(delq, \"ALTER TABLE ONLY %s.\",",
          "content_same": false
        },
        {
          "line": 10237,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"%s \",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\t\t\t\t coninfo->dobj.name,",
          "new_line_content": "\t\tappendPQExpBuffer(delq, \"%s \",",
          "content_same": false
        },
        {
          "line": 10238,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t\t\t\t\t tbinfo->dobj.namespace->dobj.name,",
          "new_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 2046,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, 1)",
          "old_line_content": "",
          "new_line_content": "\t\t\tcomment = PQgetvalue(res, i, 1);",
          "content_same": false
        },
        {
          "line": 2048,
          "old_api": null,
          "new_api": "printfPQExpBuffer",
          "old_text": null,
          "new_text": "printfPQExpBuffer(commentcmd, \"COMMENT ON LARGE OBJECT %u IS \",\n\t\t\t\t\t\t\t  blobOid)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tprintfPQExpBuffer(commentcmd, \"COMMENT ON LARGE OBJECT %u IS \",",
          "content_same": false
        },
        {
          "line": 10240,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(coninfo->dobj.name)",
          "old_line_content": "\t\t\t\t\t tbinfo->rolname, false,",
          "new_line_content": "\t\t\t\t\t\t  fmtId(coninfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 2050,
          "old_api": null,
          "new_api": "appendStringLiteralAH",
          "old_text": null,
          "new_text": "appendStringLiteralAH(commentcmd, comment, AH)",
          "old_line_content": "",
          "new_line_content": "\t\t\tappendStringLiteralAH(commentcmd, comment, AH);",
          "content_same": false
        },
        {
          "line": 10242,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, coninfo->dobj.catId, coninfo->dobj.dumpId,\n\t\t\t\t\t coninfo->dobj.name,\n\t\t\t\t\t tbinfo->dobj.namespace->dobj.name,\n\t\t\t\t\t indxinfo->tablespace,\n\t\t\t\t\t tbinfo->rolname, false,\n\t\t\t\t\t \"CONSTRAINT\", SECTION_POST_DATA,\n\t\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t\t coninfo->dobj.dependencies, coninfo->dobj.nDeps,\n\t\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t\t q->data, delq->data, NULL,",
          "new_line_content": "\t\tArchiveEntry(fout, coninfo->dobj.catId, coninfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 10239,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"DROP CONSTRAINT %s;\\n\",\n\t\t\t\t\t\t  fmtId(coninfo->dobj.name))",
          "old_line_content": "\t\t\t\t\t indxinfo->tablespace,",
          "new_line_content": "\t\tappendPQExpBuffer(delq, \"DROP CONSTRAINT %s;\\n\",",
          "content_same": false
        },
        {
          "line": 2057,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "\treturn 1;",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 2059,
          "old_api": null,
          "new_api": "archputs",
          "old_text": null,
          "new_text": "archputs(\"\\n\", AH)",
          "old_line_content": "",
          "new_line_content": "\tarchputs(\"\\n\", AH);",
          "content_same": false
        },
        {
          "line": 2061,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(commentcmd)",
          "old_line_content": " * getNamespaces:",
          "new_line_content": "\tdestroyPQExpBuffer(commentcmd);",
          "content_same": false
        },
        {
          "line": 10258,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"ALTER TABLE ONLY %s\\n\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\t/*",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"ALTER TABLE ONLY %s\\n\",",
          "content_same": false
        },
        {
          "line": 10259,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t\t * DROP must be fully qualified in case same name appears in",
          "new_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10260,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"    ADD CONSTRAINT %s %s;\\n\",\n\t\t\t\t\t\t  fmtId(coninfo->dobj.name),\n\t\t\t\t\t\t  coninfo->condef)",
          "old_line_content": "\t\t * pg_catalog",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"    ADD CONSTRAINT %s %s;\\n\",",
          "content_same": false
        },
        {
          "line": 10261,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(coninfo->dobj.name)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\t\t\t\t\t  fmtId(coninfo->dobj.name),",
          "content_same": false
        },
        {
          "line": 10268,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"ALTER TABLE ONLY %s.\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name))",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(delq, \"ALTER TABLE ONLY %s.\",",
          "content_same": false
        },
        {
          "line": 10270,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"%s \",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\t\t\t\t coninfo->dobj.name,",
          "new_line_content": "\t\tappendPQExpBuffer(delq, \"%s \",",
          "content_same": false
        },
        {
          "line": 10271,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t\t\t\t\t tbinfo->dobj.namespace->dobj.name,",
          "new_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10272,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"DROP CONSTRAINT %s;\\n\",\n\t\t\t\t\t\t  fmtId(coninfo->dobj.name))",
          "old_line_content": "\t\t\t\t\t NULL,",
          "new_line_content": "\t\tappendPQExpBuffer(delq, \"DROP CONSTRAINT %s;\\n\",",
          "content_same": false
        },
        {
          "line": 10273,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(coninfo->dobj.name)",
          "old_line_content": "\t\t\t\t\t tbinfo->rolname, false,",
          "new_line_content": "\t\t\t\t\t\t  fmtId(coninfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10275,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, coninfo->dobj.catId, coninfo->dobj.dumpId,\n\t\t\t\t\t coninfo->dobj.name,\n\t\t\t\t\t tbinfo->dobj.namespace->dobj.name,\n\t\t\t\t\t NULL,\n\t\t\t\t\t tbinfo->rolname, false,\n\t\t\t\t\t \"FK CONSTRAINT\", SECTION_POST_DATA,\n\t\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t\t coninfo->dobj.dependencies, coninfo->dobj.nDeps,\n\t\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t\t q->data, delq->data, NULL,",
          "new_line_content": "\t\tArchiveEntry(fout, coninfo->dobj.catId, coninfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 2098,
          "old_api": null,
          "new_api": "AssignDumpId",
          "old_text": null,
          "new_text": "AssignDumpId(&nsinfo[0].dobj)",
          "old_line_content": "",
          "new_line_content": "\t\tAssignDumpId(&nsinfo[0].dobj);",
          "content_same": false
        },
        {
          "line": 2099,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(\"public\")",
          "old_line_content": "\t\tnsinfo[1].dobj.objType = DO_NAMESPACE;",
          "new_line_content": "\t\tnsinfo[0].dobj.name = strdup(\"public\");",
          "content_same": false
        },
        {
          "line": 2100,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(\"\")",
          "old_line_content": "\t\tnsinfo[1].dobj.catId.tableoid = 0;",
          "new_line_content": "\t\tnsinfo[0].rolname = strdup(\"\");",
          "content_same": false
        },
        {
          "line": 2101,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(\"\")",
          "old_line_content": "\t\tnsinfo[1].dobj.catId.oid = 1;",
          "new_line_content": "\t\tnsinfo[0].nspacl = strdup(\"\");",
          "content_same": false
        },
        {
          "line": 10293,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"ALTER TABLE %s\\n\",\n\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\t\t/*",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \"ALTER TABLE %s\\n\",",
          "content_same": false
        },
        {
          "line": 10294,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t\t\t * DROP must be fully qualified in case same name appears in",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10295,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"    ADD CONSTRAINT %s %s;\\n\",\n\t\t\t\t\t\t\t  fmtId(coninfo->dobj.name),\n\t\t\t\t\t\t\t  coninfo->condef)",
          "old_line_content": "\t\t\t * pg_catalog",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \"    ADD CONSTRAINT %s %s;\\n\",",
          "content_same": false
        },
        {
          "line": 10296,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(coninfo->dobj.name)",
          "old_line_content": "\t\t\t */",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(coninfo->dobj.name),",
          "content_same": false
        },
        {
          "line": 2108,
          "old_api": null,
          "new_api": "AssignDumpId",
          "old_text": null,
          "new_text": "AssignDumpId(&nsinfo[1].dobj)",
          "old_line_content": "",
          "new_line_content": "\t\tAssignDumpId(&nsinfo[1].dobj);",
          "content_same": false
        },
        {
          "line": 2109,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(\"pg_catalog\")",
          "old_line_content": "\t\tg_namespaces = nsinfo;",
          "new_line_content": "\t\tnsinfo[1].dobj.name = strdup(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 2110,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(\"\")",
          "old_line_content": "\t\tg_numNamespaces = *numNamespaces = 2;",
          "new_line_content": "\t\tnsinfo[1].rolname = strdup(\"\");",
          "content_same": false
        },
        {
          "line": 2111,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(\"\")",
          "old_line_content": "",
          "new_line_content": "\t\tnsinfo[1].nspacl = strdup(\"\");",
          "content_same": false
        },
        {
          "line": 10303,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"ALTER TABLE %s.\",\n\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name))",
          "old_line_content": "",
          "new_line_content": "\t\t\tappendPQExpBuffer(delq, \"ALTER TABLE %s.\",",
          "content_same": false
        },
        {
          "line": 2113,
          "old_api": null,
          "new_api": "selectDumpableNamespace",
          "old_text": null,
          "new_text": "selectDumpableNamespace(&nsinfo[1])",
          "old_line_content": "\t}",
          "new_line_content": "\t\tselectDumpableNamespace(&nsinfo[1]);",
          "content_same": false
        },
        {
          "line": 10305,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"%s \",\n\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\t\t\t\t\t coninfo->dobj.name,",
          "new_line_content": "\t\t\tappendPQExpBuffer(delq, \"%s \",",
          "content_same": false
        },
        {
          "line": 10306,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t\t\t\t\t\t tbinfo->dobj.namespace->dobj.name,",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10307,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"DROP CONSTRAINT %s;\\n\",\n\t\t\t\t\t\t\t  fmtId(coninfo->dobj.name))",
          "old_line_content": "\t\t\t\t\t\t NULL,",
          "new_line_content": "\t\t\tappendPQExpBuffer(delq, \"DROP CONSTRAINT %s;\\n\",",
          "content_same": false
        },
        {
          "line": 10308,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(coninfo->dobj.name)",
          "old_line_content": "\t\t\t\t\t\t tbinfo->rolname, false,",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(coninfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10310,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, coninfo->dobj.catId, coninfo->dobj.dumpId,\n\t\t\t\t\t\t coninfo->dobj.name,\n\t\t\t\t\t\t tbinfo->dobj.namespace->dobj.name,\n\t\t\t\t\t\t NULL,\n\t\t\t\t\t\t tbinfo->rolname, false,\n\t\t\t\t\t\t \"CHECK CONSTRAINT\", SECTION_POST_DATA,\n\t\t\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t\t\t coninfo->dobj.dependencies, coninfo->dobj.nDeps,\n\t\t\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t\t\t q->data, delq->data, NULL,",
          "new_line_content": "\t\t\tArchiveEntry(fout, coninfo->dobj.catId, coninfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 2121,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t * we fetch all namespaces including system ones, so that every object we",
          "new_line_content": "\tquery = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 2135,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 10329,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"ALTER DOMAIN %s\\n\",\n\t\t\t\t\t\t\t  fmtId(tinfo->dobj.name))",
          "old_line_content": "\t\t\t/*",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \"ALTER DOMAIN %s\\n\",",
          "content_same": false
        },
        {
          "line": 10330,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tinfo->dobj.name)",
          "old_line_content": "\t\t\t * DROP must be fully qualified in case same name appears in",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(tinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10331,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"    ADD CONSTRAINT %s %s;\\n\",\n\t\t\t\t\t\t\t  fmtId(coninfo->dobj.name),\n\t\t\t\t\t\t\t  coninfo->condef)",
          "old_line_content": "\t\t\t * pg_catalog",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \"    ADD CONSTRAINT %s %s;\\n\",",
          "content_same": false
        },
        {
          "line": 10332,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(coninfo->dobj.name)",
          "old_line_content": "\t\t\t */",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(coninfo->dobj.name),",
          "content_same": false
        },
        {
          "line": 2142,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"tableoid\")",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "content_same": false
        },
        {
          "line": 2143,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"oid\")",
          "old_line_content": "\t{",
          "new_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "content_same": false
        },
        {
          "line": 2144,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"nspname\")",
          "old_line_content": "\t\tnsinfo[i].dobj.objType = DO_NAMESPACE;",
          "new_line_content": "\ti_nspname = PQfnumber(res, \"nspname\");",
          "content_same": false
        },
        {
          "line": 10339,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"ALTER DOMAIN %s.\",\n\t\t\t\t\t\t\t  fmtId(tinfo->dobj.namespace->dobj.name))",
          "old_line_content": "",
          "new_line_content": "\t\t\tappendPQExpBuffer(delq, \"ALTER DOMAIN %s.\",",
          "content_same": false
        },
        {
          "line": 10341,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"%s \",\n\t\t\t\t\t\t\t  fmtId(tinfo->dobj.name))",
          "old_line_content": "\t\t\t\t\t\t coninfo->dobj.name,",
          "new_line_content": "\t\t\tappendPQExpBuffer(delq, \"%s \",",
          "content_same": false
        },
        {
          "line": 10342,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tinfo->dobj.name)",
          "old_line_content": "\t\t\t\t\t\t tinfo->dobj.namespace->dobj.name,",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(tinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 2151,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_tableoid)",
          "old_line_content": "",
          "new_line_content": "\t\tnsinfo[i].dobj.catId.tableoid = atooid(PQgetvalue(res, i, i_tableoid));",
          "content_same": false
        },
        {
          "line": 2152,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_oid)",
          "old_line_content": "\t\t/* Decide whether to dump this namespace */",
          "new_line_content": "\t\tnsinfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "content_same": false
        },
        {
          "line": 10343,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"DROP CONSTRAINT %s;\\n\",\n\t\t\t\t\t\t\t  fmtId(coninfo->dobj.name))",
          "old_line_content": "\t\t\t\t\t\t NULL,",
          "new_line_content": "\t\t\tappendPQExpBuffer(delq, \"DROP CONSTRAINT %s;\\n\",",
          "content_same": false
        },
        {
          "line": 2154,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_nspname)",
          "old_line_content": "",
          "new_line_content": "\t\tnsinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_nspname));",
          "content_same": false
        },
        {
          "line": 10346,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, coninfo->dobj.catId, coninfo->dobj.dumpId,\n\t\t\t\t\t\t coninfo->dobj.name,\n\t\t\t\t\t\t tinfo->dobj.namespace->dobj.name,\n\t\t\t\t\t\t NULL,\n\t\t\t\t\t\t tinfo->rolname, false,\n\t\t\t\t\t\t \"CHECK CONSTRAINT\", SECTION_POST_DATA,\n\t\t\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t\t\t coninfo->dobj.dependencies, coninfo->dobj.nDeps,\n\t\t\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t\t\t q->data, delq->data, NULL,",
          "new_line_content": "\t\t\tArchiveEntry(fout, coninfo->dobj.catId, coninfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 10344,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(coninfo->dobj.name)",
          "old_line_content": "\t\t\t\t\t\t tinfo->rolname, false,",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(coninfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 2159,
          "old_api": null,
          "new_api": "selectDumpableNamespace",
          "old_text": null,
          "new_text": "selectDumpableNamespace(&nsinfo[i])",
          "old_line_content": "",
          "new_line_content": "\t\tselectDumpableNamespace(&nsinfo[i]);",
          "content_same": false
        },
        {
          "line": 2162,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"WARNING: owner of schema \\\"%s\\\" appears to be invalid\\n\",\n\t\t\t\t\t  nsinfo[i].dobj.name)",
          "old_line_content": "",
          "new_line_content": "\t\t\twrite_msg(NULL, \"WARNING: owner of schema \\\"%s\\\" appears to be invalid\\n\",",
          "content_same": false
        },
        {
          "line": 2166,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "\treturn nsinfo;",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 2167,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": "}",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 10360,
          "old_api": null,
          "new_api": "exit_nicely",
          "old_text": null,
          "new_text": "exit_nicely()",
          "old_line_content": "",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 10365,
          "old_api": null,
          "new_api": "dumpTableConstraintComment",
          "old_text": null,
          "new_text": "dumpTableConstraintComment(fout, coninfo)",
          "old_line_content": "/*",
          "new_line_content": "\t\tdumpTableConstraintComment(fout, coninfo);",
          "content_same": false
        },
        {
          "line": 10367,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": " *",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 10368,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delq)",
          "old_line_content": " * This is split out because we need the function in two different places",
          "new_line_content": "\tdestroyPQExpBuffer(delq);",
          "content_same": false
        },
        {
          "line": 10384,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"CONSTRAINT %s \",\n\t\t\t\t\t  fmtId(coninfo->dobj.name))",
          "old_line_content": "\t\t\t\ttbinfo->rolname,",
          "new_line_content": "\tappendPQExpBuffer(q, \"CONSTRAINT %s \",",
          "content_same": false
        },
        {
          "line": 10385,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(coninfo->dobj.name)",
          "old_line_content": "\t\t\t\tconinfo->dobj.catId, 0,",
          "new_line_content": "\t\t\t\t\t  fmtId(coninfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10386,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"ON %s\",\n\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\t\t coninfo->separate ? coninfo->dobj.dumpId : tbinfo->dobj.dumpId);",
          "new_line_content": "\tappendPQExpBuffer(q, \"ON %s\",",
          "content_same": false
        },
        {
          "line": 10387,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 2197,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"schema with OID %u does not exist\\n\", nsoid)",
          "old_line_content": "\t\tif (objoid > g_last_builtin_oid)",
          "new_line_content": "\t\twrite_msg(NULL, \"schema with OID %u does not exist\\n\", nsoid);",
          "content_same": false
        },
        {
          "line": 2198,
          "old_api": null,
          "new_api": "exit_nicely",
          "old_text": null,
          "new_text": "exit_nicely()",
          "old_line_content": "\t\t\ti = 0;\t\t\t\t/* user object */",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 10394,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": " *",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 10412,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(query)",
          "old_line_content": "",
          "new_line_content": "\tresetPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 10414,
          "old_api": null,
          "new_api": "appendStringLiteralAH",
          "old_text": null,
          "new_text": "appendStringLiteralAH(query, dbname, g_fout)",
          "old_line_content": "\tif (ntups < 1)",
          "new_line_content": "\tappendStringLiteralAH(query, dbname, g_fout);",
          "content_same": false
        },
        {
          "line": 10419,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "\tif (ntups > 1)",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 2229,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tint\t\t\ti_typnamespace;",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 10423,
          "old_api": null,
          "new_api": "exit_nicely",
          "old_text": null,
          "new_text": "exit_nicely()",
          "old_line_content": "\t}",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 10427,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"found more than one pg_database entry for this database\\n\")",
          "old_line_content": "\treturn last_oid;",
          "new_line_content": "\t\twrite_msg(NULL, \"found more than one pg_database entry for this database\\n\");",
          "content_same": false
        },
        {
          "line": 10428,
          "old_api": null,
          "new_api": "exit_nicely",
          "old_text": null,
          "new_text": "exit_nicely()",
          "old_line_content": "}",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 10430,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"datlastsysoid\")",
          "old_line_content": "/*",
          "new_line_content": "\tlast_oid = atooid(PQgetvalue(res, 0, PQfnumber(res, \"datlastsysoid\")));",
          "content_same": false
        },
        {
          "line": 10431,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": " * findLastBuiltInOid -",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 10432,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * find the last built in oid",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 10451,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn,\n\t\t\t\t \"SELECT oid FROM pg_class WHERE relname = 'pg_indexes'\")",
          "old_line_content": "\tif (ntups < 1)",
          "new_line_content": "\tres = PQexec(g_conn,",
          "content_same": false
        },
        {
          "line": 2263,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(\"pg_catalog\")",
          "old_line_content": "\t\t\t\t\t\t  \"(%s typowner) AS rolname, \"",
          "new_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 10456,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "\tif (ntups > 1)",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 2267,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, typname, \"\n\t\t\t\t\t\t  \"typnamespace, \"\n\t\t\t\t\t\t  \"(%s typowner) AS rolname, \"\n\t\t\t\t\t\t  \"typinput::oid AS typinput, \"\n\t\t\t\t\t\t  \"typoutput::oid AS typoutput, typelem, typrelid, \"\n\t\t\t\t\t\t  \"CASE WHEN typrelid = 0 THEN ' '::\\\"char\\\" \"\n\t\t\t\t\t\t  \"ELSE (SELECT relkind FROM pg_class WHERE oid = typrelid) END AS typrelkind, \"\n\t\t\t\t\t\t  \"typtype, typisdefined, \"\n\t\t\t\t\t\t  \"typname[0] = '_' AND typelem != 0 AND \"\n\t\t\t\t\t\t  \"(SELECT typarray FROM pg_type te WHERE oid = pg_type.typelem) = oid AS isarray \"\n\t\t\t\t\t\t  \"FROM pg_type\",\n\t\t\t\t\t\t  username_subquery)",
          "old_line_content": "\t\t\t\t\t\t  \"ELSE (SELECT relkind FROM pg_class WHERE oid = typrelid) END AS typrelkind, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, typname, \"",
          "content_same": false
        },
        {
          "line": 10460,
          "old_api": null,
          "new_api": "exit_nicely",
          "old_text": null,
          "new_text": "exit_nicely()",
          "old_line_content": "\t}",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 10464,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"found more than one entry for pg_indexes in pg_class\\n\")",
          "old_line_content": "}",
          "new_line_content": "\t\twrite_msg(NULL, \"found more than one entry for pg_indexes in pg_class\\n\");",
          "content_same": false
        },
        {
          "line": 10465,
          "old_api": null,
          "new_api": "exit_nicely",
          "old_text": null,
          "new_text": "exit_nicely()",
          "old_line_content": "",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 10467,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"oid\")",
          "old_line_content": "dumpSequence(Archive *fout, TableInfo *tbinfo)",
          "new_line_content": "\tlast_oid = atooid(PQgetvalue(res, 0, PQfnumber(res, \"oid\")));",
          "content_same": false
        },
        {
          "line": 10468,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "{",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 2282,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, typname, \"\n\t\t\t\t\t\t  \"typnamespace, \"\n\t\t\t\t\t\t  \"(%s typowner) AS rolname, \"\n\t\t\t\t\t\t  \"typinput::oid AS typinput, \"\n\t\t\t\t\t\t  \"typoutput::oid AS typoutput, typelem, typrelid, \"\n\t\t\t\t\t\t  \"CASE WHEN typrelid = 0 THEN ' '::\\\"char\\\" \"\n\t\t\t\t\t\t  \"ELSE (SELECT relkind FROM pg_class WHERE oid = typrelid) END AS typrelkind, \"\n\t\t\t\t\t\t  \"typtype, typisdefined, \"\n\t\t\t\t\t\t  \"typname[0] = '_' AND typelem != 0 AS isarray \"\n\t\t\t\t\t\t  \"FROM pg_type\",\n\t\t\t\t\t\t  username_subquery)",
          "old_line_content": "\t\t\t\t\t\t  \"ELSE (SELECT relkind FROM pg_class WHERE oid = typrelid) END AS typrelkind, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, typname, \"",
          "content_same": false
        },
        {
          "line": 2296,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, typname, \"\n\t\t\t\t\t\t  \"0::oid AS typnamespace, \"\n\t\t\t\t\t\t  \"(%s typowner) AS rolname, \"\n\t\t\t\t\t\t  \"typinput::oid AS typinput, \"\n\t\t\t\t\t\t  \"typoutput::oid AS typoutput, typelem, typrelid, \"\n\t\t\t\t\t\t  \"CASE WHEN typrelid = 0 THEN ' '::\\\"char\\\" \"\n\t\t\t\t\t\t  \"ELSE (SELECT relkind FROM pg_class WHERE oid = typrelid) END AS typrelkind, \"\n\t\t\t\t\t\t  \"typtype, typisdefined, \"\n\t\t\t\t\t\t  \"typname[0] = '_' AND typelem != 0 AS isarray \"\n\t\t\t\t\t\t  \"FROM pg_type\",\n\t\t\t\t\t\t  username_subquery)",
          "old_line_content": "\t\t\t\t\t\t  \"ELSE (SELECT relkind FROM pg_class WHERE oid = typrelid) END AS typrelkind, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, typname, \"",
          "content_same": false
        },
        {
          "line": 10490,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(tbinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t{",
          "new_line_content": "\tselectSourceSchema(tbinfo->dobj.namespace->dobj.name);",
          "content_same": false
        },
        {
          "line": 10492,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(bufm, sizeof(bufm), INT64_FORMAT, SEQ_MINVALUE)",
          "old_line_content": "\t\t\t\t  \"SELECT sequence_name, \"",
          "new_line_content": "\tsnprintf(bufm, sizeof(bufm), INT64_FORMAT, SEQ_MINVALUE);",
          "content_same": false
        },
        {
          "line": 10493,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(bufx, sizeof(bufx), INT64_FORMAT, SEQ_MAXVALUE)",
          "old_line_content": "\t\t\t\t  \"start_value, last_value, increment_by, \"",
          "new_line_content": "\tsnprintf(bufx, sizeof(bufx), INT64_FORMAT, SEQ_MAXVALUE);",
          "content_same": false
        },
        {
          "line": 10497,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t  \"SELECT sequence_name, \"\n\t\t\t\t  \"start_value, last_value, increment_by, \"\n\t\t\t\t  \"CASE WHEN increment_by > 0 AND max_value = %s THEN NULL \"\n\t\t\t\t  \"     WHEN increment_by < 0 AND max_value = -1 THEN NULL \"\n\t\t\t\t  \"     ELSE max_value \"\n\t\t\t\t  \"END AS max_value, \"\n\t\t\t\t  \"CASE WHEN increment_by > 0 AND min_value = 1 THEN NULL \"\n\t\t\t\t  \"     WHEN increment_by < 0 AND min_value = %s THEN NULL \"\n\t\t\t\t  \"     ELSE min_value \"\n\t\t\t\t  \"END AS min_value, \"\n\t\t\t\t  \"cache_value, is_cycled, is_called from %s\",\n\t\t\t\t  bufx, bufm,\n\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\t\t\t  \"END AS max_value, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 2310,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT \"\n\t\t \"(SELECT oid FROM pg_class WHERE relname = 'pg_type') AS tableoid, \"\n\t\t\t\t\t\t  \"oid, typname, \"\n\t\t\t\t\t\t  \"0::oid AS typnamespace, \"\n\t\t\t\t\t\t  \"(%s typowner) AS rolname, \"\n\t\t\t\t\t\t  \"typinput::oid AS typinput, \"\n\t\t\t\t\t\t  \"typoutput::oid AS typoutput, typelem, typrelid, \"\n\t\t\t\t\t\t  \"CASE WHEN typrelid = 0 THEN ' '::\\\"char\\\" \"\n\t\t\t\t\t\t  \"ELSE (SELECT relkind FROM pg_class WHERE oid = typrelid) END AS typrelkind, \"\n\t\t\t\t\t\t  \"typtype, typisdefined, \"\n\t\t\t\t\t\t  \"typname[0] = '_' AND typelem != 0 AS isarray \"\n\t\t\t\t\t\t  \"FROM pg_type\",\n\t\t\t\t\t\t  username_subquery)",
          "old_line_content": "\t\t\t\t\t\t  \"typoutput::oid AS typoutput, typelem, typrelid, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT \"",
          "content_same": false
        },
        {
          "line": 10510,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t\t\t\t  \"0 AS start_value, last_value, increment_by, \"",
          "new_line_content": "\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10514,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t  \"SELECT sequence_name, \"\n\t\t\t\t  \"0 AS start_value, last_value, increment_by, \"\n\t\t\t\t  \"CASE WHEN increment_by > 0 AND max_value = %s THEN NULL \"\n\t\t\t\t  \"     WHEN increment_by < 0 AND max_value = -1 THEN NULL \"\n\t\t\t\t  \"     ELSE max_value \"\n\t\t\t\t  \"END AS max_value, \"\n\t\t\t\t  \"CASE WHEN increment_by > 0 AND min_value = 1 THEN NULL \"\n\t\t\t\t  \"     WHEN increment_by < 0 AND min_value = %s THEN NULL \"\n\t\t\t\t  \"     ELSE min_value \"\n\t\t\t\t  \"END AS min_value, \"\n\t\t\t\t  \"cache_value, is_cycled, is_called from %s\",\n\t\t\t\t  bufx, bufm,\n\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\t\t\t  \"END AS max_value, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 2325,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 10530,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t\t\t\t\t\t\t\t \"query to get data of sequence \\\"%s\\\" returned %d rows (expected 1)\\n\",",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 2339,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"typelem\")",
          "old_line_content": "",
          "new_line_content": "\ti_typelem = PQfnumber(res, \"typelem\");",
          "content_same": false
        },
        {
          "line": 2340,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"typrelid\")",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\ti_typrelid = PQfnumber(res, \"typrelid\");",
          "content_same": false
        },
        {
          "line": 2341,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"typrelkind\")",
          "old_line_content": "\t{",
          "new_line_content": "\ti_typrelkind = PQfnumber(res, \"typrelkind\");",
          "content_same": false
        },
        {
          "line": 2342,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"typtype\")",
          "old_line_content": "\t\ttinfo[i].dobj.objType = DO_TYPE;",
          "new_line_content": "\ti_typtype = PQfnumber(res, \"typtype\");",
          "content_same": false
        },
        {
          "line": 10535,
          "old_api": null,
          "new_api": "ngettext",
          "old_text": null,
          "new_text": "ngettext(\"query to get data of sequence \\\"%s\\\" returned %d row (expected 1)\\n\",\n\t\t\t\t\t\t\t\t \"query to get data of sequence \\\"%s\\\" returned %d rows (expected 1)\\n\",\n\t\t\t\t\t\t\t\t PQntuples(res))",
          "old_line_content": "",
          "new_line_content": "\t\twrite_msg(NULL, ngettext(\"query to get data of sequence \\\"%s\\\" returned %d row (expected 1)\\n\",",
          "content_same": false
        },
        {
          "line": 10537,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "#ifdef NOT_USED",
          "new_line_content": "\t\t\t\t\t\t\t\t PQntuples(res)),",
          "content_same": false
        },
        {
          "line": 10539,
          "old_api": null,
          "new_api": "exit_nicely",
          "old_text": null,
          "new_text": "exit_nicely()",
          "old_line_content": "\t{",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 10544,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, 0)",
          "old_line_content": "#endif",
          "new_line_content": "\tif (strcmp(PQgetvalue(res, 0, 0), tbinfo->dobj.name) != 0)",
          "content_same": false
        },
        {
          "line": 2355,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_rolname)",
          "old_line_content": "",
          "new_line_content": "\t\ttinfo[i].rolname = strdup(PQgetvalue(res, i, i_rolname));",
          "content_same": false
        },
        {
          "line": 2357,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_typrelid)",
          "old_line_content": "\t\t\ttinfo[i].isDefined = true;",
          "new_line_content": "\t\ttinfo[i].typrelid = atooid(PQgetvalue(res, i, i_typrelid));",
          "content_same": false
        },
        {
          "line": 2358,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_typrelkind)",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\ttinfo[i].typrelkind = *PQgetvalue(res, i, i_typrelkind);",
          "content_same": false
        },
        {
          "line": 2359,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_typtype)",
          "old_line_content": "\t\t\ttinfo[i].isDefined = false;",
          "new_line_content": "\t\ttinfo[i].typtype = *PQgetvalue(res, i, i_typtype);",
          "content_same": false
        },
        {
          "line": 2362,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_typisdefined)",
          "old_line_content": "\t\t\ttinfo[i].isArray = true;",
          "new_line_content": "\t\tif (strcmp(PQgetvalue(res, i, i_typisdefined), \"t\") == 0)",
          "content_same": false
        },
        {
          "line": 10556,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, 4)",
          "old_line_content": "",
          "new_line_content": "\t\tmaxv = PQgetvalue(res, 0, 4);",
          "content_same": false
        },
        {
          "line": 10557,
          "old_api": null,
          "new_api": "PQgetisnull",
          "old_text": null,
          "new_text": "PQgetisnull(res, 0, 5)",
          "old_line_content": "\t/*",
          "new_line_content": "\tif (!PQgetisnull(res, 0, 5))",
          "content_same": false
        },
        {
          "line": 10558,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, 5)",
          "old_line_content": "\t * The logic we use for restoring sequences is as follows:",
          "new_line_content": "\t\tminv = PQgetvalue(res, 0, 5);",
          "content_same": false
        },
        {
          "line": 10559,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, 6)",
          "old_line_content": "\t *",
          "new_line_content": "\tcache = PQgetvalue(res, 0, 6);",
          "content_same": false
        },
        {
          "line": 10560,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, 7)",
          "old_line_content": "\t * Add a CREATE SEQUENCE statement as part of a \"schema\" dump (use",
          "new_line_content": "\tcycled = (strcmp(PQgetvalue(res, 0, 7), \"t\") == 0);",
          "content_same": false
        },
        {
          "line": 10561,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, 8)",
          "old_line_content": "\t * last_val for start if called is false, else use min_val for start_val).",
          "new_line_content": "\tcalled = (strcmp(PQgetvalue(res, 0, 8), \"t\") == 0);",
          "content_same": false
        },
        {
          "line": 2373,
          "old_api": null,
          "new_api": "selectDumpableType",
          "old_text": null,
          "new_text": "selectDumpableType(&tinfo[i])",
          "old_line_content": "\t\ttinfo[i].domChecks = NULL;",
          "new_line_content": "\t\tselectDumpableType(&tinfo[i]);",
          "content_same": false
        },
        {
          "line": 2381,
          "old_api": null,
          "new_api": "getDomainConstraints",
          "old_text": null,
          "new_text": "getDomainConstraints(&(tinfo[i]))",
          "old_line_content": "\t\t *",
          "new_line_content": "\t\t\tgetDomainConstraints(&(tinfo[i]));",
          "content_same": false
        },
        {
          "line": 10582,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\t\t\t\t  \"CREATE SEQUENCE %s\\n\",",
          "new_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 10584,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 2394,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(sizeof(ShellTypeInfo))",
          "old_line_content": "\t\t\tstinfo->baseType = &(tinfo[i]);",
          "new_line_content": "\t\t\tstinfo = (ShellTypeInfo *) malloc(sizeof(ShellTypeInfo));",
          "content_same": false
        },
        {
          "line": 10587,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"CREATE SEQUENCE %s\\n\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 2397,
          "old_api": null,
          "new_api": "AssignDumpId",
          "old_text": null,
          "new_text": "AssignDumpId(&stinfo->dobj)",
          "old_line_content": "\t\t\t/*",
          "new_line_content": "\t\t\tAssignDumpId(&stinfo->dobj);",
          "content_same": false
        },
        {
          "line": 2398,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(tinfo[i].dobj.name)",
          "old_line_content": "\t\t\t * Initially mark the shell type as not to be dumped.  We'll only",
          "new_line_content": "\t\t\tstinfo->dobj.name = strdup(tinfo[i].dobj.name);",
          "content_same": false
        },
        {
          "line": 10589,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t\t\t/*",
          "new_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10592,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"    START WITH %s\\n\", startv)",
          "old_line_content": "\t\t\t * so we can use last_val.  Otherwise punt and let it default.",
          "new_line_content": "\t\t\tappendPQExpBuffer(query, \"    START WITH %s\\n\", startv);",
          "content_same": false
        },
        {
          "line": 10604,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"    INCREMENT BY %s\\n\", incby)",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"    INCREMENT BY %s\\n\", incby);",
          "content_same": false
        },
        {
          "line": 10607,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"    MAXVALUE %s\\n\", maxv)",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\t\tappendPQExpBuffer(query, \"    MAXVALUE %s\\n\", maxv);",
          "content_same": false
        },
        {
          "line": 10609,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"    NO MAXVALUE\\n\")",
          "old_line_content": "",
          "new_line_content": "\t\t\tappendPQExpBuffer(query, \"    NO MAXVALUE\\n\");",
          "content_same": false
        },
        {
          "line": 10612,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"    MINVALUE %s\\n\", minv)",
          "old_line_content": "\t\t\t\t\t\t  cache, (cycled ? \"\\n    CYCLE\" : \"\"));",
          "new_line_content": "\t\t\tappendPQExpBuffer(query, \"    MINVALUE %s\\n\", minv);",
          "content_same": false
        },
        {
          "line": 2422,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_typinput)",
          "old_line_content": "\t\t\t\t\t/* base type depends on function */",
          "new_line_content": "\t\t\t\ttypinput = atooid(PQgetvalue(res, i, i_typinput));",
          "content_same": false
        },
        {
          "line": 2425,
          "old_api": null,
          "new_api": "findFuncByOid",
          "old_text": null,
          "new_text": "findFuncByOid(typinput)",
          "old_line_content": "\t\t\t\t\t/* function depends on shell type */",
          "new_line_content": "\t\t\t\tfuncInfo = findFuncByOid(typinput);",
          "content_same": false
        },
        {
          "line": 10620,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \";\\n\")",
          "old_line_content": "\t\t\t\t\t tbinfo->rolname,",
          "new_line_content": "\t\tappendPQExpBuffer(query, \";\\n\");",
          "content_same": false
        },
        {
          "line": 2429,
          "old_api": null,
          "new_api": "addObjectDependency",
          "old_text": null,
          "new_text": "addObjectDependency(&tinfo[i].dobj,\n\t\t\t\t\t\t\t\t\t\tfuncInfo->dobj.dumpId)",
          "old_line_content": "\t\t\t\t\tstinfo->dobj.dump = true;",
          "new_line_content": "\t\t\t\t\taddObjectDependency(&tinfo[i].dobj,",
          "content_same": false
        },
        {
          "line": 10622,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, tbinfo->dobj.catId, tbinfo->dobj.dumpId,\n\t\t\t\t\t tbinfo->dobj.name,\n\t\t\t\t\t tbinfo->dobj.namespace->dobj.name,\n\t\t\t\t\t NULL,\n\t\t\t\t\t tbinfo->rolname,\n\t\t\t\t\t false, \"SEQUENCE\", SECTION_PRE_DATA,\n\t\t\t\t\t query->data, delqry->data, NULL,\n\t\t\t\t\t tbinfo->dobj.dependencies, tbinfo->dobj.nDeps,\n\t\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t\t query->data, delqry->data, NULL,",
          "new_line_content": "\t\tArchiveEntry(fout, tbinfo->dobj.catId, tbinfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 2438,
          "old_api": null,
          "new_api": "findFuncByOid",
          "old_text": null,
          "new_text": "findFuncByOid(typoutput)",
          "old_line_content": "\t\t\t\t\t/* function depends on shell type */",
          "new_line_content": "\t\t\t\tfuncInfo = findFuncByOid(typoutput);",
          "content_same": false
        },
        {
          "line": 2442,
          "old_api": null,
          "new_api": "addObjectDependency",
          "old_text": null,
          "new_text": "addObjectDependency(&tinfo[i].dobj,\n\t\t\t\t\t\t\t\t\t\tfuncInfo->dobj.dumpId)",
          "old_line_content": "\t\t\t\t\tstinfo->dobj.dump = true;",
          "new_line_content": "\t\t\t\t\taddObjectDependency(&tinfo[i].dobj,",
          "content_same": false
        },
        {
          "line": 2445,
          "old_api": null,
          "new_api": "addObjectDependency",
          "old_text": null,
          "new_text": "addObjectDependency(&funcInfo->dobj,\n\t\t\t\t\t\t\t\t\t\tstinfo->dobj.dumpId)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\t\taddObjectDependency(&funcInfo->dobj,",
          "content_same": false
        },
        {
          "line": 2453,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(tinfo[i].rolname)",
          "old_line_content": "",
          "new_line_content": "\t\tif (strlen(tinfo[i].rolname) == 0 && tinfo[i].isDefined)",
          "content_same": false
        },
        {
          "line": 10651,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"ALTER SEQUENCE %s\",\n\t\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(query, \"ALTER SEQUENCE %s\",",
          "content_same": false
        },
        {
          "line": 2460,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 10653,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \" OWNED BY %s\",\n\t\t\t\t\t\t\t\t  fmtId(owning_tab->dobj.name))",
          "old_line_content": "\t\t\t\t\t\t\t tbinfo->dobj.name,",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(query, \" OWNED BY %s\",",
          "content_same": false
        },
        {
          "line": 2462,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * getOperators:",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 10654,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(owning_tab->dobj.name)",
          "old_line_content": "\t\t\t\t\t\t\t tbinfo->dobj.namespace->dobj.name,",
          "new_line_content": "\t\t\t\t\t\t\t\t  fmtId(owning_tab->dobj.name));",
          "content_same": false
        },
        {
          "line": 10655,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \".%s;\\n\",\n\t\t\t\t\t\tfmtId(owning_tab->attnames[tbinfo->owning_col - 1]))",
          "old_line_content": "\t\t\t\t\t\t\t NULL,",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(query, \".%s;\\n\",",
          "content_same": false
        },
        {
          "line": 10656,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(owning_tab->attnames[tbinfo->owning_col - 1])",
          "old_line_content": "\t\t\t\t\t\t\t tbinfo->rolname,",
          "new_line_content": "\t\t\t\t\t\tfmtId(owning_tab->attnames[tbinfo->owning_col - 1]));",
          "content_same": false
        },
        {
          "line": 10658,
          "old_api": null,
          "new_api": "createDumpId",
          "old_text": null,
          "new_text": "createDumpId()",
          "old_line_content": "\t\t\t\t\t\t\t query->data, \"\", NULL,",
          "new_line_content": "\t\t\t\tArchiveEntry(fout, nilCatalogId, createDumpId(),",
          "content_same": false
        },
        {
          "line": 10671,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(query)",
          "old_line_content": "",
          "new_line_content": "\t\tresetPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 2480,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tint\t\t\ti_rolname;",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 10672,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\tif (!schemaOnly)",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SEQUENCE %s\", fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10673,
          "old_api": null,
          "new_api": "dumpComment",
          "old_text": null,
          "new_text": "dumpComment(fout, query->data,\n\t\t\t\t\ttbinfo->dobj.namespace->dobj.name, tbinfo->rolname,\n\t\t\t\t\ttbinfo->dobj.catId, 0, tbinfo->dobj.dumpId)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tdumpComment(fout, query->data,",
          "content_same": false
        },
        {
          "line": 10681,
          "old_api": null,
          "new_api": "setval",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT pg_catalog.setval(\")",
          "old_line_content": "\t\t\t\t\t tbinfo->dobj.name,",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT pg_catalog.setval(\");",
          "content_same": false
        },
        {
          "line": 10682,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t\t\t\t\t tbinfo->dobj.namespace->dobj.name,",
          "new_line_content": "\t\tappendStringLiteralAH(query, fmtId(tbinfo->dobj.name), fout);",
          "content_same": false
        },
        {
          "line": 10683,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \", %s, %s);\\n\",\n\t\t\t\t\t\t  last, (called ? \"true\" : \"false\"))",
          "old_line_content": "\t\t\t\t\t NULL,",
          "new_line_content": "\t\tappendPQExpBuffer(query, \", %s, %s);\\n\",",
          "content_same": false
        },
        {
          "line": 10686,
          "old_api": null,
          "new_api": "createDumpId",
          "old_text": null,
          "new_text": "createDumpId()",
          "old_line_content": "\t\t\t\t\t query->data, \"\", NULL,",
          "new_line_content": "\t\tArchiveEntry(fout, nilCatalogId, createDumpId(),",
          "content_same": false
        },
        {
          "line": 2495,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(\"pg_catalog\")",
          "old_line_content": "\t\t\t\t\t\t  \"(%s oprowner) AS rolname, \"",
          "new_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 2499,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, oprname, \"\n\t\t\t\t\t\t  \"oprnamespace, \"\n\t\t\t\t\t\t  \"(%s oprowner) AS rolname, \"\n\t\t\t\t\t\t  \"oprcode::oid AS oprcode \"\n\t\t\t\t\t\t  \"FROM pg_operator\",\n\t\t\t\t\t\t  username_subquery)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, oprname, \"",
          "content_same": false
        },
        {
          "line": 10697,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "static void",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 10699,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": "{",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 2508,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, oprname, \"\n\t\t\t\t\t\t  \"0::oid AS oprnamespace, \"\n\t\t\t\t\t\t  \"(%s oprowner) AS rolname, \"\n\t\t\t\t\t\t  \"oprcode::oid AS oprcode \"\n\t\t\t\t\t\t  \"FROM pg_operator\",\n\t\t\t\t\t\t  username_subquery)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, oprname, \"",
          "content_same": false
        },
        {
          "line": 10700,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delqry)",
          "old_line_content": "\tTableInfo  *tbinfo = tginfo->tgtable;",
          "new_line_content": "\tdestroyPQExpBuffer(delqry);",
          "content_same": false
        },
        {
          "line": 2517,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT \"\n\t\t\t\t\t\t  \"(SELECT oid FROM pg_class WHERE relname = 'pg_operator') AS tableoid, \"\n\t\t\t\t\t\t  \"oid, oprname, \"\n\t\t\t\t\t\t  \"0::oid AS oprnamespace, \"\n\t\t\t\t\t\t  \"(%s oprowner) AS rolname, \"\n\t\t\t\t\t\t  \"oprcode::oid AS oprcode \"\n\t\t\t\t\t\t  \"FROM pg_operator\",\n\t\t\t\t\t\t  username_subquery)",
          "old_line_content": "\t\t\t\t\t\t  \"FROM pg_operator\",",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT \"",
          "content_same": false
        },
        {
          "line": 2528,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 10721,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delqry, \"DROP TRIGGER %s \",\n\t\t\t\t\t  fmtId(tginfo->dobj.name))",
          "old_line_content": "",
          "new_line_content": "\tappendPQExpBuffer(delqry, \"DROP TRIGGER %s \",",
          "content_same": false
        },
        {
          "line": 10722,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tginfo->dobj.name)",
          "old_line_content": "\tif (tginfo->tgisconstraint)",
          "new_line_content": "\t\t\t\t\t  fmtId(tginfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10723,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delqry, \"ON %s.\",\n\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name))",
          "old_line_content": "\t{",
          "new_line_content": "\tappendPQExpBuffer(delqry, \"ON %s.\",",
          "content_same": false
        },
        {
          "line": 10726,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 2535,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"tableoid\")",
          "old_line_content": "",
          "new_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "content_same": false
        },
        {
          "line": 2536,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"oid\")",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "content_same": false
        },
        {
          "line": 2537,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"oprname\")",
          "old_line_content": "\t{",
          "new_line_content": "\ti_oprname = PQfnumber(res, \"oprname\");",
          "content_same": false
        },
        {
          "line": 2538,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"oprnamespace\")",
          "old_line_content": "\t\toprinfo[i].dobj.objType = DO_OPERATOR;",
          "new_line_content": "\ti_oprnamespace = PQfnumber(res, \"oprnamespace\");",
          "content_same": false
        },
        {
          "line": 10731,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tginfo->tgconstrname)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tappendPQExpBufferStr(query, fmtId(tginfo->tgconstrname));",
          "content_same": false
        },
        {
          "line": 10735,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"CREATE TRIGGER \")",
          "old_line_content": "\tfindx = 0;",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"CREATE TRIGGER \");",
          "content_same": false
        },
        {
          "line": 10738,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"\\n    \")",
          "old_line_content": "\telse",
          "new_line_content": "\tappendPQExpBuffer(query, \"\\n    \");",
          "content_same": false
        },
        {
          "line": 2547,
          "old_api": null,
          "new_api": "AssignDumpId",
          "old_text": null,
          "new_text": "AssignDumpId(&oprinfo[i].dobj)",
          "old_line_content": "",
          "new_line_content": "\t\tAssignDumpId(&oprinfo[i].dobj);",
          "content_same": false
        },
        {
          "line": 2548,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_oprname)",
          "old_line_content": "\t\t/* Decide whether we want to dump it */",
          "new_line_content": "\t\toprinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_oprname));",
          "content_same": false
        },
        {
          "line": 10743,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"BEFORE\")",
          "old_line_content": "\t\tfindx++;",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"BEFORE\");",
          "content_same": false
        },
        {
          "line": 10746,
          "old_api": null,
          "new_api": "TRIGGER_FOR_INSERT",
          "old_text": null,
          "new_text": "TRIGGER_FOR_INSERT(tginfo->tgtype)",
          "old_line_content": "\t{",
          "new_line_content": "\tif (TRIGGER_FOR_INSERT(tginfo->tgtype))",
          "content_same": false
        },
        {
          "line": 2555,
          "old_api": null,
          "new_api": "selectDumpableObject",
          "old_text": null,
          "new_text": "selectDumpableObject(&(oprinfo[i].dobj))",
          "old_line_content": "",
          "new_line_content": "\t\tselectDumpableObject(&(oprinfo[i].dobj));",
          "content_same": false
        },
        {
          "line": 2557,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(oprinfo[i].rolname)",
          "old_line_content": "",
          "new_line_content": "\t\tif (strlen(oprinfo[i].rolname) == 0)",
          "content_same": false
        },
        {
          "line": 10751,
          "old_api": null,
          "new_api": "TRIGGER_FOR_DELETE",
          "old_text": null,
          "new_text": "TRIGGER_FOR_DELETE(tginfo->tgtype)",
          "old_line_content": "\t\tfindx++;",
          "new_line_content": "\tif (TRIGGER_FOR_DELETE(tginfo->tgtype))",
          "content_same": false
        },
        {
          "line": 2562,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 10754,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \" OR DELETE\")",
          "old_line_content": "\t{",
          "new_line_content": "\t\t\tappendPQExpBuffer(query, \" OR DELETE\");",
          "content_same": false
        },
        {
          "line": 2564,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * getConversions:",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 10759,
          "old_api": null,
          "new_api": "TRIGGER_FOR_UPDATE",
          "old_text": null,
          "new_text": "TRIGGER_FOR_UPDATE(tginfo->tgtype)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (TRIGGER_FOR_UPDATE(tginfo->tgtype))",
          "content_same": false
        },
        {
          "line": 10762,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \" OR UPDATE\")",
          "old_line_content": "\t\tif (findx > 0)",
          "new_line_content": "\t\t\tappendPQExpBuffer(query, \" OR UPDATE\");",
          "content_same": false
        },
        {
          "line": 10764,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \" UPDATE\")",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\t\tappendPQExpBuffer(query, \" UPDATE\");",
          "content_same": false
        },
        {
          "line": 10766,
          "old_api": null,
          "new_api": "TRIGGER_FOR_TRUNCATE",
          "old_text": null,
          "new_text": "TRIGGER_FOR_TRUNCATE(tginfo->tgtype)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (TRIGGER_FOR_TRUNCATE(tginfo->tgtype))",
          "content_same": false
        },
        {
          "line": 10769,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \" OR TRUNCATE\")",
          "old_line_content": "",
          "new_line_content": "\t\t\tappendPQExpBuffer(query, \" OR TRUNCATE\");",
          "content_same": false
        },
        {
          "line": 10771,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \" TRUNCATE\")",
          "old_line_content": "\t{",
          "new_line_content": "\t\t\tappendPQExpBuffer(query, \" TRUNCATE\");",
          "content_same": false
        },
        {
          "line": 10773,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \" ON %s\\n\",\n\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\t{",
          "new_line_content": "\tappendPQExpBuffer(query, \" ON %s\\n\",",
          "content_same": false
        },
        {
          "line": 2582,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tint\t\t\ti_rolname;",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 10774,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t\t\t/* If we are using regclass, name is already quoted */",
          "new_line_content": "\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10778,
          "old_api": null,
          "new_api": "OidIsValid",
          "old_text": null,
          "new_text": "OidIsValid(tginfo->tgconstrrelid)",
          "old_line_content": "\t\t\telse",
          "new_line_content": "\t\tif (OidIsValid(tginfo->tgconstrrelid))",
          "content_same": false
        },
        {
          "line": 10782,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"    FROM %s\\n    \",\n\t\t\t\t\t\t\t\t  tginfo->tgconstrrelname)",
          "old_line_content": "\t\tif (!tginfo->tgdeferrable)",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(query, \"    FROM %s\\n    \",",
          "content_same": false
        },
        {
          "line": 10785,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"    FROM %s\\n    \",\n\t\t\t\t\t\t\t\t  fmtId(tginfo->tgconstrrelname))",
          "old_line_content": "\t\tif (tginfo->tginitdeferred)",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(query, \"    FROM %s\\n    \",",
          "content_same": false
        },
        {
          "line": 10789,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"NOT \")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tappendPQExpBuffer(query, \"NOT \");",
          "content_same": false
        },
        {
          "line": 10790,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"DEFERRABLE INITIALLY \")",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"DEFERRABLE INITIALLY \");",
          "content_same": false
        },
        {
          "line": 2603,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(\"pg_catalog\")",
          "old_line_content": "\t\t\t\t\t  username_subquery);",
          "new_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 10797,
          "old_api": null,
          "new_api": "TRIGGER_FOR_ROW",
          "old_text": null,
          "new_text": "TRIGGER_FOR_ROW(tginfo->tgtype)",
          "old_line_content": "\tif (g_fout->remoteVersion >= 70300)",
          "new_line_content": "\tif (TRIGGER_FOR_ROW(tginfo->tgtype))",
          "content_same": false
        },
        {
          "line": 10800,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"    FOR EACH STATEMENT\\n    \")",
          "old_line_content": "\telse",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"    FOR EACH STATEMENT\\n    \");",
          "content_same": false
        },
        {
          "line": 2612,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 10804,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"EXECUTE PROCEDURE %s(\",\n\t\t\t\t\t\t  tginfo->tgfname)",
          "old_line_content": "\tp = tginfo->tgargs;",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"EXECUTE PROCEDURE %s(\",",
          "content_same": false
        },
        {
          "line": 10807,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"EXECUTE PROCEDURE %s(\",\n\t\t\t\t\t\t  fmtId(tginfo->tgfname))",
          "old_line_content": "\t\tconst char *s = p;",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"EXECUTE PROCEDURE %s(\",",
          "content_same": false
        },
        {
          "line": 10808,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tginfo->tgfname)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\t  fmtId(tginfo->tgfname));",
          "content_same": false
        },
        {
          "line": 2619,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"tableoid\")",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "content_same": false
        },
        {
          "line": 2620,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"oid\")",
          "old_line_content": "\t{",
          "new_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "content_same": false
        },
        {
          "line": 2621,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"conname\")",
          "old_line_content": "\t\tconvinfo[i].dobj.objType = DO_CONVERSION;",
          "new_line_content": "\ti_conname = PQfnumber(res, \"conname\");",
          "content_same": false
        },
        {
          "line": 10818,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(p, '\\\\')",
          "old_line_content": "\t\t\t\t\t\t  tbinfo->dobj.name);",
          "new_line_content": "\t\t\tp = strchr(p, '\\\\');",
          "content_same": false
        },
        {
          "line": 2629,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_oid)",
          "old_line_content": "",
          "new_line_content": "\t\tconvinfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "content_same": false
        },
        {
          "line": 2630,
          "old_api": null,
          "new_api": "AssignDumpId",
          "old_text": null,
          "new_text": "AssignDumpId(&convinfo[i].dobj)",
          "old_line_content": "\t\t/* Decide whether we want to dump it */",
          "new_line_content": "\t\tAssignDumpId(&convinfo[i].dobj);",
          "content_same": false
        },
        {
          "line": 10821,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"invalid argument string (%s) for trigger \\\"%s\\\" on table \\\"%s\\\"\\n\",\n\t\t\t\t\t\t  tginfo->tgargs,\n\t\t\t\t\t\t  tginfo->dobj.name,\n\t\t\t\t\t\t  tbinfo->dobj.name)",
          "old_line_content": "\t\t\tp++;",
          "new_line_content": "\t\t\t\twrite_msg(NULL, \"invalid argument string (%s) for trigger \\\"%s\\\" on table \\\"%s\\\"\\n\",",
          "content_same": false
        },
        {
          "line": 2632,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_connamespace)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tconvinfo[i].dobj.namespace = findNamespace(atooid(PQgetvalue(res, i, i_connamespace)),",
          "content_same": false
        },
        {
          "line": 10825,
          "old_api": null,
          "new_api": "exit_nicely",
          "old_text": null,
          "new_text": "exit_nicely()",
          "old_line_content": "\t\t\t\tcontinue;",
          "new_line_content": "\t\t\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 2637,
          "old_api": null,
          "new_api": "selectDumpableObject",
          "old_text": null,
          "new_text": "selectDumpableObject(&(convinfo[i].dobj))",
          "old_line_content": "",
          "new_line_content": "\t\tselectDumpableObject(&(convinfo[i].dobj));",
          "content_same": false
        },
        {
          "line": 2640,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 2642,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * getOpclasses:",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 10838,
          "old_api": null,
          "new_api": "appendPQExpBufferChar",
          "old_text": null,
          "new_text": "appendPQExpBufferChar(query, '\\'')",
          "old_line_content": "\t\t\t/*",
          "new_line_content": "\t\tappendPQExpBufferChar(query, '\\'');",
          "content_same": false
        },
        {
          "line": 10842,
          "old_api": null,
          "new_api": "appendPQExpBufferChar",
          "old_text": null,
          "new_text": "appendPQExpBufferChar(query, '\\'')",
          "old_line_content": "\t\t\tif (fout->std_strings && *s == '\\\\' && s[1] == '\\\\')",
          "new_line_content": "\t\t\t\tappendPQExpBufferChar(query, '\\'');",
          "content_same": false
        },
        {
          "line": 10850,
          "old_api": null,
          "new_api": "appendPQExpBufferChar",
          "old_text": null,
          "new_text": "appendPQExpBufferChar(query, *s++)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tappendPQExpBufferChar(query, *s++);",
          "content_same": false
        },
        {
          "line": 2660,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tint\t\t\ti_rolname;",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 10852,
          "old_api": null,
          "new_api": "appendPQExpBufferChar",
          "old_text": null,
          "new_text": "appendPQExpBufferChar(query, '\\'')",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBufferChar(query, '\\'');",
          "content_same": false
        },
        {
          "line": 10853,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  (findx < tginfo->tgnargs - 1) ? \", \" : \"\")",
          "old_line_content": "\tif (tginfo->tgenabled != 't' && tginfo->tgenabled != 'O')",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 10857,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \");\\n\")",
          "old_line_content": "\t\tswitch (tginfo->tgenabled)",
          "new_line_content": "\tappendPQExpBuffer(query, \");\\n\");",
          "content_same": false
        },
        {
          "line": 10862,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 2674,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(\"pg_catalog\")",
          "old_line_content": "\t\t\t\t\t\t  \"(%s opcowner) AS rolname \"",
          "new_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 2678,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, opcname, \"\n\t\t\t\t\t\t  \"opcnamespace, \"\n\t\t\t\t\t\t  \"(%s opcowner) AS rolname \"\n\t\t\t\t\t\t  \"FROM pg_opclass\",\n\t\t\t\t\t\t  username_subquery)",
          "old_line_content": "\telse if (g_fout->remoteVersion >= 70100)",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, opcname, \"",
          "content_same": false
        },
        {
          "line": 10876,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"ENABLE\")",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(query, \"ENABLE\");",
          "content_same": false
        },
        {
          "line": 2686,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, opcname, \"\n\t\t\t\t\t\t  \"0::oid AS opcnamespace, \"\n\t\t\t\t\t\t  \"''::name AS rolname \"\n\t\t\t\t\t\t  \"FROM pg_opclass\")",
          "old_line_content": "\t{",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, opcname, \"",
          "content_same": false
        },
        {
          "line": 10879,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \" TRIGGER %s;\\n\",\n\t\t\t\t\t\t  fmtId(tginfo->dobj.name))",
          "old_line_content": "\t\t\t\t tbinfo->dobj.namespace->dobj.name,",
          "new_line_content": "\t\tappendPQExpBuffer(query, \" TRIGGER %s;\\n\",",
          "content_same": false
        },
        {
          "line": 10880,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tginfo->dobj.name)",
          "old_line_content": "\t\t\t\t NULL,",
          "new_line_content": "\t\t\t\t\t\t  fmtId(tginfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10883,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, tginfo->dobj.catId, tginfo->dobj.dumpId,\n\t\t\t\t tginfo->dobj.name,\n\t\t\t\t tbinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t tbinfo->rolname, false,\n\t\t\t\t \"TRIGGER\", SECTION_POST_DATA,\n\t\t\t\t query->data, delqry->data, NULL,\n\t\t\t\t tginfo->dobj.dependencies, tginfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t query->data, delqry->data, NULL,",
          "new_line_content": "\tArchiveEntry(fout, tginfo->dobj.catId, tginfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 2693,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT \"\n\t\t\t\t\t\t  \"(SELECT oid FROM pg_class WHERE relname = 'pg_opclass') AS tableoid, \"\n\t\t\t\t\t\t  \"oid, opcname, \"\n\t\t\t\t\t\t  \"0::oid AS opcnamespace, \"\n\t\t\t\t\t\t  \"''::name AS rolname \"\n\t\t\t\t\t\t  \"FROM pg_opclass\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT \"",
          "content_same": false
        },
        {
          "line": 2702,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 10894,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"TRIGGER %s \",\n\t\t\t\t\t  fmtId(tginfo->dobj.name))",
          "old_line_content": "\t\t\t\ttbinfo->dobj.namespace->dobj.name, tbinfo->rolname,",
          "new_line_content": "\tappendPQExpBuffer(query, \"TRIGGER %s \",",
          "content_same": false
        },
        {
          "line": 10895,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tginfo->dobj.name)",
          "old_line_content": "\t\t\t\ttginfo->dobj.catId, 0, tginfo->dobj.dumpId);",
          "new_line_content": "\t\t\t\t\t  fmtId(tginfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10896,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"ON %s\",\n\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "",
          "new_line_content": "\tappendPQExpBuffer(query, \"ON %s\",",
          "content_same": false
        },
        {
          "line": 10899,
          "old_api": null,
          "new_api": "dumpComment",
          "old_text": null,
          "new_text": "dumpComment(fout, query->data,\n\t\t\t\ttbinfo->dobj.namespace->dobj.name, tbinfo->rolname,\n\t\t\t\ttginfo->dobj.catId, 0, tginfo->dobj.dumpId)",
          "old_line_content": "}",
          "new_line_content": "\tdumpComment(fout, query->data,",
          "content_same": false
        },
        {
          "line": 2709,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"tableoid\")",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "content_same": false
        },
        {
          "line": 2710,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"oid\")",
          "old_line_content": "\t{",
          "new_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "content_same": false
        },
        {
          "line": 2711,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"opcname\")",
          "old_line_content": "\t\topcinfo[i].dobj.objType = DO_OPCLASS;",
          "new_line_content": "\ti_opcname = PQfnumber(res, \"opcname\");",
          "content_same": false
        },
        {
          "line": 10903,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " *\t\tDump a rule",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 10904,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delqry)",
          "old_line_content": " */",
          "new_line_content": "\tdestroyPQExpBuffer(delqry);",
          "content_same": false
        },
        {
          "line": 2719,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_oid)",
          "old_line_content": "",
          "new_line_content": "\t\topcinfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "content_same": false
        },
        {
          "line": 2720,
          "old_api": null,
          "new_api": "AssignDumpId",
          "old_text": null,
          "new_text": "AssignDumpId(&opcinfo[i].dobj)",
          "old_line_content": "\t\t/* Decide whether we want to dump it */",
          "new_line_content": "\t\tAssignDumpId(&opcinfo[i].dobj);",
          "content_same": false
        },
        {
          "line": 2722,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_opcnamespace)",
          "old_line_content": "",
          "new_line_content": "\t\topcinfo[i].dobj.namespace = findNamespace(atooid(PQgetvalue(res, i, i_opcnamespace)),",
          "content_same": false
        },
        {
          "line": 2724,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_rolname)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\topcinfo[i].rolname = strdup(PQgetvalue(res, i, i_rolname));",
          "content_same": false
        },
        {
          "line": 2727,
          "old_api": null,
          "new_api": "selectDumpableObject",
          "old_text": null,
          "new_text": "selectDumpableObject(&(opcinfo[i].dobj))",
          "old_line_content": "\t\t\t\t\t\t  opcinfo[i].dobj.name);",
          "new_line_content": "\t\tselectDumpableObject(&(opcinfo[i].dobj));",
          "content_same": false
        },
        {
          "line": 2732,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"WARNING: owner of operator class \\\"%s\\\" appears to be invalid\\n\",\n\t\t\t\t\t\t  opcinfo[i].dobj.name)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\twrite_msg(NULL, \"WARNING: owner of operator class \\\"%s\\\" appears to be invalid\\n\",",
          "content_same": false
        },
        {
          "line": 2737,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 2739,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * getOpfamilies:",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 10934,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(tbinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\tif (g_fout->remoteVersion >= 70300)",
          "new_line_content": "\tselectSourceSchema(tbinfo->dobj.namespace->dobj.name);",
          "content_same": false
        },
        {
          "line": 10937,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t\t  \"SELECT pg_catalog.pg_get_ruledef('%u'::pg_catalog.oid) AS definition\",",
          "new_line_content": "\tcmd = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 10938,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t\t  rinfo->dobj.catId.oid);",
          "new_line_content": "\tdelcmd = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 10942,
          "old_api": null,
          "new_api": "pg_get_ruledef",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT pg_catalog.pg_get_ruledef('%u'::pg_catalog.oid) AS definition\",\n\t\t\t\t\t\t  rinfo->dobj.catId.oid)",
          "old_line_content": "\t\t/* Rule name was unique before 7.3 ... */",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 10954,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t\t\t\t  rinfo->dobj.name, tbinfo->dobj.name);",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 10957,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "",
          "new_line_content": "\tif (PQntuples(res) != 1)",
          "content_same": false
        },
        {
          "line": 10959,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"query to get rule \\\"%s\\\" for table \\\"%s\\\" failed: wrong number of rows returned\\n\",\n\t\t\t\t  rinfo->dobj.name, tbinfo->dobj.name)",
          "old_line_content": "",
          "new_line_content": "\t\twrite_msg(NULL, \"query to get rule \\\"%s\\\" for table \\\"%s\\\" failed: wrong number of rows returned\\n\",",
          "content_same": false
        },
        {
          "line": 10961,
          "old_api": null,
          "new_api": "exit_nicely",
          "old_text": null,
          "new_text": "exit_nicely()",
          "old_line_content": "\t * Add the command to alter the rules replication firing semantics if it",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 2772,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "",
          "new_line_content": "\tquery = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 10964,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, 0)",
          "old_line_content": "\tif (rinfo->ev_enabled != 'O')",
          "new_line_content": "\tprintfPQExpBuffer(cmd, \"%s\\n\", PQgetvalue(res, 0, 0));",
          "content_same": false
        },
        {
          "line": 2780,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(\"pg_catalog\")",
          "old_line_content": "\t\t\t\t\t  username_subquery);",
          "new_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 10972,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(cmd, \"ALTER TABLE %s.\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name))",
          "old_line_content": "\t\t\tcase 'A':",
          "new_line_content": "\t\tappendPQExpBuffer(cmd, \"ALTER TABLE %s.\",",
          "content_same": false
        },
        {
          "line": 10975,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10979,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(cmd, \"ENABLE ALWAYS RULE %s;\\n\",\n\t\t\t\t\t\t\t\t  fmtId(rinfo->dobj.name))",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(cmd, \"ENABLE ALWAYS RULE %s;\\n\",",
          "content_same": false
        },
        {
          "line": 10980,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(rinfo->dobj.name)",
          "old_line_content": "\t\t\tcase 'D':",
          "new_line_content": "\t\t\t\t\t\t\t\t  fmtId(rinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 2789,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 10983,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(cmd, \"ENABLE REPLICA RULE %s;\\n\",\n\t\t\t\t\t\t\t\t  fmtId(rinfo->dobj.name))",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(cmd, \"ENABLE REPLICA RULE %s;\\n\",",
          "content_same": false
        },
        {
          "line": 10984,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(rinfo->dobj.name)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\t\t\t\t\t  fmtId(rinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10987,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(cmd, \"DISABLE RULE %s;\\n\",\n\t\t\t\t\t\t\t\t  fmtId(rinfo->dobj.name))",
          "old_line_content": "\t/*",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(cmd, \"DISABLE RULE %s;\\n\",",
          "content_same": false
        },
        {
          "line": 2796,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"tableoid\")",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "content_same": false
        },
        {
          "line": 2797,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"oid\")",
          "old_line_content": "\t{",
          "new_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "content_same": false
        },
        {
          "line": 2798,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"opfname\")",
          "old_line_content": "\t\topfinfo[i].dobj.objType = DO_OPFAMILY;",
          "new_line_content": "\ti_opfname = PQfnumber(res, \"opfname\");",
          "content_same": false
        },
        {
          "line": 10988,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(rinfo->dobj.name)",
          "old_line_content": "\t * DROP must be fully qualified in case same name appears in pg_catalog",
          "new_line_content": "\t\t\t\t\t\t\t\t  fmtId(rinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 10996,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delcmd, \"DROP RULE %s \",\n\t\t\t\t\t  fmtId(rinfo->dobj.name))",
          "old_line_content": "",
          "new_line_content": "\tappendPQExpBuffer(delcmd, \"DROP RULE %s \",",
          "content_same": false
        },
        {
          "line": 2806,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_oid)",
          "old_line_content": "",
          "new_line_content": "\t\topfinfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "content_same": false
        },
        {
          "line": 2807,
          "old_api": null,
          "new_api": "AssignDumpId",
          "old_text": null,
          "new_text": "AssignDumpId(&opfinfo[i].dobj)",
          "old_line_content": "\t\t/* Decide whether we want to dump it */",
          "new_line_content": "\t\tAssignDumpId(&opfinfo[i].dobj);",
          "content_same": false
        },
        {
          "line": 11000,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delcmd, \"%s;\\n\",\n\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "\t\t\t\t NULL,",
          "new_line_content": "\tappendPQExpBuffer(delcmd, \"%s;\\n\",",
          "content_same": false
        },
        {
          "line": 2809,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_opfnamespace)",
          "old_line_content": "",
          "new_line_content": "\t\topfinfo[i].dobj.namespace = findNamespace(atooid(PQgetvalue(res, i, i_opfnamespace)),",
          "content_same": false
        },
        {
          "line": 10998,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delcmd, \"ON %s.\",\n\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name))",
          "old_line_content": "\t\t\t\t rinfo->dobj.name,",
          "new_line_content": "\tappendPQExpBuffer(delcmd, \"ON %s.\",",
          "content_same": false
        },
        {
          "line": 2811,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_rolname)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\topfinfo[i].rolname = strdup(PQgetvalue(res, i, i_rolname));",
          "content_same": false
        },
        {
          "line": 10999,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\t\t tbinfo->dobj.namespace->dobj.name,",
          "new_line_content": "\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 11001,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "\t\t\t\t tbinfo->rolname, false,",
          "new_line_content": "\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 2814,
          "old_api": null,
          "new_api": "selectDumpableObject",
          "old_text": null,
          "new_text": "selectDumpableObject(&(opfinfo[i].dobj))",
          "old_line_content": "\t\t\t\t\t\t  opfinfo[i].dobj.name);",
          "new_line_content": "\t\tselectDumpableObject(&(opfinfo[i].dobj));",
          "content_same": false
        },
        {
          "line": 11003,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, rinfo->dobj.catId, rinfo->dobj.dumpId,\n\t\t\t\t rinfo->dobj.name,\n\t\t\t\t tbinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t tbinfo->rolname, false,\n\t\t\t\t \"RULE\", SECTION_POST_DATA,\n\t\t\t\t cmd->data, delcmd->data, NULL,\n\t\t\t\t rinfo->dobj.dependencies, rinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t cmd->data, delcmd->data, NULL,",
          "new_line_content": "\tArchiveEntry(fout, rinfo->dobj.catId, rinfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 2819,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"WARNING: owner of operator family \\\"%s\\\" appears to be invalid\\n\",\n\t\t\t\t\t\t  opfinfo[i].dobj.name)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\twrite_msg(NULL, \"WARNING: owner of operator family \\\"%s\\\" appears to be invalid\\n\",",
          "content_same": false
        },
        {
          "line": 11014,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(query)",
          "old_line_content": "\t\t\t\ttbinfo->dobj.namespace->dobj.name,",
          "new_line_content": "\tresetPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 11015,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"RULE %s\",\n\t\t\t\t\t  fmtId(rinfo->dobj.name))",
          "old_line_content": "\t\t\t\ttbinfo->rolname,",
          "new_line_content": "\tappendPQExpBuffer(query, \"RULE %s\",",
          "content_same": false
        },
        {
          "line": 2824,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 11016,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(rinfo->dobj.name)",
          "old_line_content": "\t\t\t\trinfo->dobj.catId, 0, rinfo->dobj.dumpId);",
          "new_line_content": "\t\t\t\t\t  fmtId(rinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 2826,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * getAggregates:",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 11017,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \" ON %s\",\n\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "old_line_content": "",
          "new_line_content": "\tappendPQExpBuffer(query, \" ON %s\",",
          "content_same": false
        },
        {
          "line": 11019,
          "old_api": null,
          "new_api": "dumpComment",
          "old_text": null,
          "new_text": "dumpComment(fout, query->data,\n\t\t\t\ttbinfo->dobj.namespace->dobj.name,\n\t\t\t\ttbinfo->rolname,\n\t\t\t\trinfo->dobj.catId, 0, rinfo->dobj.dumpId)",
          "old_line_content": "",
          "new_line_content": "\tdumpComment(fout, query->data,",
          "content_same": false
        },
        {
          "line": 11024,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 11026,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * getDependencies --- obtain available dependency data",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 11027,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(cmd)",
          "old_line_content": " */",
          "new_line_content": "\tdestroyPQExpBuffer(cmd);",
          "content_same": false
        },
        {
          "line": 11028,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delcmd)",
          "old_line_content": "static void",
          "new_line_content": "\tdestroyPQExpBuffer(delcmd);",
          "content_same": false
        },
        {
          "line": 2844,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tint\t\t\ti_pronargs;",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 2862,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, proname AS aggname, \"\n\t\t\t\t\t\t  \"pronamespace AS aggnamespace, \"\n\t\t\t\t\t\t  \"pronargs, proargtypes, \"\n\t\t\t\t\t\t  \"(%s proowner) AS rolname, \"\n\t\t\t\t\t\t  \"proacl AS aggacl \"\n\t\t\t\t\t\t  \"FROM pg_proc \"\n\t\t\t\t\t\t  \"WHERE proisagg \"\n\t\t\t\t\t\t  \"AND pronamespace != \"\n\t\t\t   \"(SELECT oid FROM pg_namespace WHERE nspname = 'pg_catalog')\",\n\t\t\t\t\t\t  username_subquery)",
          "old_line_content": "\t\t\t\t\t\t  \"WHERE proisagg \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, proname AS aggname, \"",
          "content_same": false
        },
        {
          "line": 11054,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"reading dependency data\\n\")",
          "old_line_content": "",
          "new_line_content": "\t\twrite_msg(NULL, \"reading dependency data\\n\");",
          "content_same": false
        },
        {
          "line": 11057,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(\"pg_catalog\")",
          "old_line_content": "\t\t\t\t\t  \"FROM pg_depend \"",
          "new_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 11059,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t  \"ORDER BY 1,2\");",
          "new_line_content": "\tquery = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 2875,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, proname AS aggname, \"\n\t\t\t\t\t\t  \"pronamespace AS aggnamespace, \"\n\t\t\t\t\t\t  \"CASE WHEN proargtypes[0] = 'pg_catalog.\\\"any\\\"'::pg_catalog.regtype THEN 0 ELSE 1 END AS pronargs, \"\n\t\t\t\t\t\t  \"proargtypes, \"\n\t\t\t\t\t\t  \"(%s proowner) AS rolname, \"\n\t\t\t\t\t\t  \"proacl AS aggacl \"\n\t\t\t\t\t\t  \"FROM pg_proc \"\n\t\t\t\t\t\t  \"WHERE proisagg \"\n\t\t\t\t\t\t  \"AND pronamespace != \"\n\t\t\t   \"(SELECT oid FROM pg_namespace WHERE nspname = 'pg_catalog')\",\n\t\t\t\t\t\t  username_subquery)",
          "old_line_content": "\t\t\t\t\t\t  \"FROM pg_proc \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, proname AS aggname, \"",
          "content_same": false
        },
        {
          "line": 11072,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"classid\")",
          "old_line_content": "\t/*",
          "new_line_content": "\ti_classid = PQfnumber(res, \"classid\");",
          "content_same": false
        },
        {
          "line": 11073,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"objid\")",
          "old_line_content": "\t * Since we ordered the SELECT by referencing ID, we can expect that",
          "new_line_content": "\ti_objid = PQfnumber(res, \"objid\");",
          "content_same": false
        },
        {
          "line": 11074,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"refclassid\")",
          "old_line_content": "\t * multiple entries for the same object will appear together; this saves",
          "new_line_content": "\ti_refclassid = PQfnumber(res, \"refclassid\");",
          "content_same": false
        },
        {
          "line": 11075,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"refobjid\")",
          "old_line_content": "\t * on searches.",
          "new_line_content": "\ti_refobjid = PQfnumber(res, \"refobjid\");",
          "content_same": false
        },
        {
          "line": 11076,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"deptype\")",
          "old_line_content": "\t */",
          "new_line_content": "\ti_deptype = PQfnumber(res, \"deptype\");",
          "content_same": false
        },
        {
          "line": 2889,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, aggname, \"\n\t\t\t\t\t\t  \"0::oid AS aggnamespace, \"\n\t\t\t\t  \"CASE WHEN aggbasetype = 0 THEN 0 ELSE 1 END AS pronargs, \"\n\t\t\t\t\t\t  \"aggbasetype AS proargtypes, \"\n\t\t\t\t\t\t  \"(%s aggowner) AS rolname, \"\n\t\t\t\t\t\t  \"'{=X}' AS aggacl \"\n\t\t\t\t\t\t  \"FROM pg_aggregate \"\n\t\t\t\t\t\t  \"where oid > '%u'::oid\",\n\t\t\t\t\t\t  username_subquery,\n\t\t\t\t\t\t  g_last_builtin_oid)",
          "old_line_content": "\t\t\t\t\t\t  \"FROM pg_aggregate \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, aggname, \"",
          "content_same": false
        },
        {
          "line": 11091,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_classid)",
          "old_line_content": "\t\tif (dobj == NULL ||",
          "new_line_content": "\t\tobjId.tableoid = atooid(PQgetvalue(res, i, i_classid));",
          "content_same": false
        },
        {
          "line": 11092,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_objid)",
          "old_line_content": "\t\t\tdobj->catId.tableoid != objId.tableoid ||",
          "new_line_content": "\t\tobjId.oid = atooid(PQgetvalue(res, i, i_objid));",
          "content_same": false
        },
        {
          "line": 11093,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_refclassid)",
          "old_line_content": "\t\t\tdobj->catId.oid != objId.oid)",
          "new_line_content": "\t\trefobjId.tableoid = atooid(PQgetvalue(res, i, i_refclassid));",
          "content_same": false
        },
        {
          "line": 2902,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT \"\n\t\t\t\t\t\t  \"(SELECT oid FROM pg_class WHERE relname = 'pg_aggregate') AS tableoid, \"\n\t\t\t\t\t\t  \"oid, aggname, \"\n\t\t\t\t\t\t  \"0::oid AS aggnamespace, \"\n\t\t\t\t  \"CASE WHEN aggbasetype = 0 THEN 0 ELSE 1 END AS pronargs, \"\n\t\t\t\t\t\t  \"aggbasetype AS proargtypes, \"\n\t\t\t\t\t\t  \"(%s aggowner) AS rolname, \"\n\t\t\t\t\t\t  \"'{=X}' AS aggacl \"\n\t\t\t\t\t\t  \"FROM pg_aggregate \"\n\t\t\t\t\t\t  \"where oid > '%u'::oid\",\n\t\t\t\t\t\t  username_subquery,\n\t\t\t\t\t\t  g_last_builtin_oid)",
          "old_line_content": "\t\t\t\t\t\t  \"(%s aggowner) AS rolname, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT \"",
          "content_same": false
        },
        {
          "line": 11095,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_deptype)",
          "old_line_content": "",
          "new_line_content": "\t\tdeptype = *(PQgetvalue(res, i, i_deptype));",
          "content_same": false
        },
        {
          "line": 11100,
          "old_api": null,
          "new_api": "findObjectByCatalogId",
          "old_text": null,
          "new_text": "findObjectByCatalogId(objId)",
          "old_line_content": "\t\tif (dobj == NULL)",
          "new_line_content": "\t\t\tdobj = findObjectByCatalogId(objId);",
          "content_same": false
        },
        {
          "line": 2917,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 11115,
          "old_api": null,
          "new_api": "findObjectByCatalogId",
          "old_text": null,
          "new_text": "findObjectByCatalogId(refobjId)",
          "old_line_content": "\t\t\t\t\trefobjId.tableoid, refobjId.oid);",
          "new_line_content": "\t\trefdobj = findObjectByCatalogId(refobjId);",
          "content_same": false
        },
        {
          "line": 2926,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"aggname\")",
          "old_line_content": "",
          "new_line_content": "\ti_aggname = PQfnumber(res, \"aggname\");",
          "content_same": false
        },
        {
          "line": 2927,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"aggnamespace\")",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\ti_aggnamespace = PQfnumber(res, \"aggnamespace\");",
          "content_same": false
        },
        {
          "line": 2928,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"pronargs\")",
          "old_line_content": "\t{",
          "new_line_content": "\ti_pronargs = PQfnumber(res, \"pronargs\");",
          "content_same": false
        },
        {
          "line": 2929,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"proargtypes\")",
          "old_line_content": "\t\tagginfo[i].aggfn.dobj.objType = DO_AGG;",
          "new_line_content": "\ti_proargtypes = PQfnumber(res, \"proargtypes\");",
          "content_same": false
        },
        {
          "line": 11120,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"no referenced object %u %u\\n\",\n\t\t\t\t\trefobjId.tableoid, refobjId.oid)",
          "old_line_content": "\t\t/*",
          "new_line_content": "\t\t\tfprintf(stderr, \"no referenced object %u %u\\n\",",
          "content_same": false
        },
        {
          "line": 2939,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_aggname)",
          "old_line_content": "\t\t\t\t\t  agginfo[i].aggfn.dobj.name);",
          "new_line_content": "\t\tagginfo[i].aggfn.dobj.name = strdup(PQgetvalue(res, i, i_aggname));",
          "content_same": false
        },
        {
          "line": 2940,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_aggnamespace)",
          "old_line_content": "\t\tagginfo[i].aggfn.lang = InvalidOid;\t\t/* not currently interesting */",
          "new_line_content": "\t\tagginfo[i].aggfn.dobj.namespace = findNamespace(atooid(PQgetvalue(res, i, i_aggnamespace)),",
          "content_same": false
        },
        {
          "line": 2944,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"WARNING: owner of aggregate function \\\"%s\\\" appears to be invalid\\n\",\n\t\t\t\t\t  agginfo[i].aggfn.dobj.name)",
          "old_line_content": "\t\tif (agginfo[i].aggfn.nargs == 0)",
          "new_line_content": "\t\t\twrite_msg(NULL, \"WARNING: owner of aggregate function \\\"%s\\\" appears to be invalid\\n\",",
          "content_same": false
        },
        {
          "line": 11139,
          "old_api": null,
          "new_api": "addObjectDependency",
          "old_text": null,
          "new_text": "addObjectDependency(dobj, refdobj->dumpId)",
          "old_line_content": "}",
          "new_line_content": "\t\t\taddObjectDependency(dobj, refdobj->dumpId);",
          "content_same": false
        },
        {
          "line": 2949,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_pronargs)",
          "old_line_content": "\t\t\tif (g_fout->remoteVersion >= 70300)",
          "new_line_content": "\t\tagginfo[i].aggfn.nargs = atoi(PQgetvalue(res, i, i_pronargs));",
          "content_same": false
        },
        {
          "line": 11142,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "/*",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 11144,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * in the source database.",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 2954,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(agginfo[i].aggfn.nargs * sizeof(Oid))",
          "old_line_content": "\t\t\t\t/* it's just aggbasetype */",
          "new_line_content": "\t\t\tagginfo[i].aggfn.argtypes = (Oid *) malloc(agginfo[i].aggfn.nargs * sizeof(Oid));",
          "content_same": false
        },
        {
          "line": 2956,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_proargtypes)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tparseOidArray(PQgetvalue(res, i, i_proargtypes),",
          "content_same": false
        },
        {
          "line": 2961,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_proargtypes)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tagginfo[i].aggfn.argtypes[0] = atooid(PQgetvalue(res, i, i_proargtypes));",
          "content_same": false
        },
        {
          "line": 2965,
          "old_api": null,
          "new_api": "selectDumpableObject",
          "old_text": null,
          "new_text": "selectDumpableObject(&(agginfo[i].aggfn.dobj))",
          "old_line_content": "",
          "new_line_content": "\t\tselectDumpableObject(&(agginfo[i].aggfn.dobj));",
          "content_same": false
        },
        {
          "line": 2968,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 2970,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * getFuncs:",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 11177,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SET search_path = %s\",\n\t\t\t\t\t  fmtId(schemaName))",
          "old_line_content": "",
          "new_line_content": "\tappendPQExpBuffer(query, \"SET search_path = %s\",",
          "content_same": false
        },
        {
          "line": 11179,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(schemaName, \"pg_catalog\")",
          "old_line_content": "\tif (curSchemaName)",
          "new_line_content": "\tif (strcmp(schemaName, \"pg_catalog\") != 0)",
          "content_same": false
        },
        {
          "line": 2988,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tint\t\t\ti_rolname;",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 11182,
          "old_api": null,
          "new_api": "do_sql_command",
          "old_text": null,
          "new_text": "do_sql_command(g_conn, query->data)",
          "old_line_content": "}",
          "new_line_content": "\tdo_sql_command(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 11184,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": "/*",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 11186,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(curSchemaName)",
          "old_line_content": " * given type name.",
          "new_line_content": "\t\tfree(curSchemaName);",
          "content_same": false
        },
        {
          "line": 11187,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(schemaName)",
          "old_line_content": " *",
          "new_line_content": "\tcurSchemaName = strdup(schemaName);",
          "content_same": false
        },
        {
          "line": 3008,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT tableoid, oid, proname, prolang, \"\n\t\t\t\t\t\t  \"pronargs, proargtypes, prorettype, proacl, \"\n\t\t\t\t\t\t  \"pronamespace, \"\n\t\t\t\t\t\t  \"(%s proowner) AS rolname \"\n\t\t\t\t\t\t  \"FROM pg_proc \"\n\t\t\t\t\t\t  \"WHERE NOT proisagg \"\n\t\t\t\t\t\t  \"AND pronamespace != \"\n\t\t\t\t\t\t  \"(SELECT oid FROM pg_namespace \"\n\t\t\t\t\t\t  \"WHERE nspname = 'pg_catalog')\",\n\t\t\t\t\t\t  username_subquery)",
          "old_line_content": "\t\t\t\t\t\t  \"WHERE NOT proisagg \"",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 11210,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(\"'any'\")",
          "old_line_content": "",
          "new_line_content": "\t\t\treturn strdup(\"'any'\");",
          "content_same": false
        },
        {
          "line": 11212,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(\"*\")",
          "old_line_content": "\tif (g_fout->remoteVersion >= 70300)",
          "new_line_content": "\t\t\treturn strdup(\"*\");",
          "content_same": false
        },
        {
          "line": 3022,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT tableoid, oid, proname, prolang, \"\n\t\t\t\t\t\t  \"pronargs, proargtypes, prorettype, \"\n\t\t\t\t\t\t  \"'{=X}' AS proacl, \"\n\t\t\t\t\t\t  \"0::oid AS pronamespace, \"\n\t\t\t\t\t\t  \"(%s proowner) AS rolname \"\n\t\t\t\t\t\t  \"FROM pg_proc \"\n\t\t\t\t\t\t  \"WHERE pg_proc.oid > '%u'::oid\",\n\t\t\t\t\t\t  username_subquery,\n\t\t\t\t\t\t  g_last_builtin_oid)",
          "old_line_content": "\t\t\t\t\t\t  \"FROM pg_proc \"",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 11217,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\telse if (g_fout->remoteVersion >= 70100)",
          "new_line_content": "\tquery = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 11220,
          "old_api": null,
          "new_api": "format_type",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT pg_catalog.format_type('%u'::pg_catalog.oid, NULL)\",\n\t\t\t\t\t\t  oid)",
          "old_line_content": "\t\t\t\t\t\t  oid);",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT pg_catalog.format_type('%u'::pg_catalog.oid, NULL)\",",
          "content_same": false
        },
        {
          "line": 11225,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT format_type('%u'::oid, NULL)\",\n\t\t\t\t\t\t  oid)",
          "old_line_content": "\t\t\t\t\t\t  \"FROM pg_type \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT format_type('%u'::oid, NULL)\",",
          "content_same": false
        },
        {
          "line": 3035,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT \"\n\t\t\t\t\t\t  \"(SELECT oid FROM pg_class \"\n\t\t\t\t\t\t  \" WHERE relname = 'pg_proc') AS tableoid, \"\n\t\t\t\t\t\t  \"oid, proname, prolang, \"\n\t\t\t\t\t\t  \"pronargs, proargtypes, prorettype, \"\n\t\t\t\t\t\t  \"'{=X}' AS proacl, \"\n\t\t\t\t\t\t  \"0::oid AS pronamespace, \"\n\t\t\t\t\t\t  \"(%s proowner) AS rolname \"\n\t\t\t\t\t\t  \"FROM pg_proc \"\n\t\t\t\t\t\t  \"where pg_proc.oid > '%u'::oid\",\n\t\t\t\t\t\t  username_subquery,\n\t\t\t\t\t\t  g_last_builtin_oid)",
          "old_line_content": "\t\t\t\t\t\t  \"'{=X}' AS proacl, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 11236,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t{",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 11240,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "\t}",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 3050,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 11243,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t  ntups, query->data)",
          "old_line_content": "\t{",
          "new_line_content": "\t\twrite_msg(NULL, \"query returned %d rows instead of one: %s\\n\",",
          "content_same": false
        },
        {
          "line": 11251,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, 0)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tresult = strdup(PQgetvalue(res, 0, 0));",
          "content_same": false
        },
        {
          "line": 3063,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"rolname\")",
          "old_line_content": "",
          "new_line_content": "\ti_rolname = PQfnumber(res, \"rolname\");",
          "content_same": false
        },
        {
          "line": 3064,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"prolang\")",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\ti_prolang = PQfnumber(res, \"prolang\");",
          "content_same": false
        },
        {
          "line": 3065,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"pronargs\")",
          "old_line_content": "\t{",
          "new_line_content": "\ti_pronargs = PQfnumber(res, \"pronargs\");",
          "content_same": false
        },
        {
          "line": 3066,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"proargtypes\")",
          "old_line_content": "\t\tfinfo[i].dobj.objType = DO_FUNC;",
          "new_line_content": "\ti_proargtypes = PQfnumber(res, \"proargtypes\");",
          "content_same": false
        },
        {
          "line": 11256,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, 0)",
          "old_line_content": "\treturn result;",
          "new_line_content": "\t\tresult = strdup(fmtId(PQgetvalue(res, 0, 0)));",
          "content_same": false
        },
        {
          "line": 11259,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "/*",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 11260,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * myFormatType --- local implementation of format_type for use with 7.0.",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 3073,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_tableoid)",
          "old_line_content": "\t\t\t\t\t\t  finfo[i].dobj.catId.oid);",
          "new_line_content": "\t\tfinfo[i].dobj.catId.tableoid = atooid(PQgetvalue(res, i, i_tableoid));",
          "content_same": false
        },
        {
          "line": 3080,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_rolname)",
          "old_line_content": "\t\t\tfinfo[i].argtypes = NULL;",
          "new_line_content": "\t\tfinfo[i].rolname = strdup(PQgetvalue(res, i, i_rolname));",
          "content_same": false
        },
        {
          "line": 3081,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_prolang)",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\tfinfo[i].lang = atooid(PQgetvalue(res, i, i_prolang));",
          "content_same": false
        },
        {
          "line": 3082,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_prorettype)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\tfinfo[i].prorettype = atooid(PQgetvalue(res, i, i_prorettype));",
          "content_same": false
        },
        {
          "line": 11273,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\ttypname++;",
          "new_line_content": "\tPQExpBuffer buf = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 3090,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_proargtypes)",
          "old_line_content": "",
          "new_line_content": "\t\t\tparseOidArray(PQgetvalue(res, i, i_proargtypes),",
          "content_same": false
        },
        {
          "line": 3095,
          "old_api": null,
          "new_api": "selectDumpableObject",
          "old_text": null,
          "new_text": "selectDumpableObject(&(finfo[i].dobj))",
          "old_line_content": "\t}",
          "new_line_content": "\t\tselectDumpableObject(&(finfo[i].dobj));",
          "content_same": false
        },
        {
          "line": 11287,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(buf, \"character\")",
          "old_line_content": "\t{",
          "new_line_content": "\t\tappendPQExpBuffer(buf, \"character\");",
          "content_same": false
        },
        {
          "line": 11289,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(buf, \"(%d)\",\n\t\t\t\t\t\t\t  typmod - VARHDRSZ)",
          "old_line_content": "\t\tif (typmod != -1)",
          "new_line_content": "\t\t\tappendPQExpBuffer(buf, \"(%d)\",",
          "content_same": false
        },
        {
          "line": 3098,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL,\n\t\t\t\t \"WARNING: owner of function \\\"%s\\\" appears to be invalid\\n\",\n\t\t\t\t\t  finfo[i].dobj.name)",
          "old_line_content": "",
          "new_line_content": "\t\t\twrite_msg(NULL,",
          "content_same": false
        },
        {
          "line": 11292,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(typname, \"varchar\")",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (!strcmp(typname, \"varchar\"))",
          "content_same": false
        },
        {
          "line": 11294,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(buf, \"character varying\")",
          "old_line_content": "\t{",
          "new_line_content": "\t\tappendPQExpBuffer(buf, \"character varying\");",
          "content_same": false
        },
        {
          "line": 3103,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 11296,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(buf, \"(%d)\",\n\t\t\t\t\t\t\t  typmod - VARHDRSZ)",
          "old_line_content": "\t\tif (typmod != -1)",
          "new_line_content": "\t\t\tappendPQExpBuffer(buf, \"(%d)\",",
          "content_same": false
        },
        {
          "line": 3105,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * getTables",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 11299,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(typname, \"numeric\")",
          "old_line_content": "\t\t\tint\t\t\tprecision;",
          "new_line_content": "\telse if (!strcmp(typname, \"numeric\"))",
          "content_same": false
        },
        {
          "line": 11301,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(buf, \"numeric\")",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(buf, \"numeric\");",
          "content_same": false
        },
        {
          "line": 11311,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(buf, \"(%d,%d)\",\n\t\t\t\t\t\t\t  precision, scale)",
          "old_line_content": "\t * char is an internal single-byte data type; Let's make sure we force it",
          "new_line_content": "\t\t\tappendPQExpBuffer(buf, \"(%d,%d)\",",
          "content_same": false
        },
        {
          "line": 3123,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tint\t\t\ti_relkind;",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 11320,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(typname, \"char\")",
          "old_line_content": "\tif (isarray)",
          "new_line_content": "\telse if (strcmp(typname, \"char\") == 0)",
          "content_same": false
        },
        {
          "line": 11327,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(buf, \"[]\")",
          "old_line_content": "}",
          "new_line_content": "\t\tappendPQExpBuffer(buf, \"[]\");",
          "content_same": false
        },
        {
          "line": 11329,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(buf->data)",
          "old_line_content": "/*",
          "new_line_content": "\tresult = strdup(buf->data);",
          "content_same": false
        },
        {
          "line": 11330,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(buf)",
          "old_line_content": " * fmtQualifiedId - convert a qualified name to the proper format for",
          "new_line_content": "\tdestroyPQExpBuffer(buf);",
          "content_same": false
        },
        {
          "line": 3145,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(\"pg_catalog\")",
          "old_line_content": "\t * defined to inherit from a system catalog (pretty weird, but...)",
          "new_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 11347,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(id_return)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tresetPQExpBuffer(id_return);",
          "content_same": false
        },
        {
          "line": 11354,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(id_return, \"%s.\",\n\t\t\t\t\t\t  fmtId(schema))",
          "old_line_content": "\treturn id_return->data;",
          "new_line_content": "\t\tappendPQExpBuffer(id_return, \"%s.\",",
          "content_same": false
        },
        {
          "line": 11355,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(schema)",
          "old_line_content": "}",
          "new_line_content": "\t\t\t\t\t\t  fmtId(schema));",
          "content_same": false
        },
        {
          "line": 11357,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(id_return, \"%s\",\n\t\t\t\t\t  fmtId(id))",
          "old_line_content": "/*",
          "new_line_content": "\tappendPQExpBuffer(id_return, \"%s\",",
          "content_same": false
        },
        {
          "line": 11358,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(id)",
          "old_line_content": " * Return a column list clause for the given relation.",
          "new_line_content": "\t\t\t\t\t  fmtId(id));",
          "content_same": false
        },
        {
          "line": 3173,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT c.tableoid, c.oid, c.relname, \"\n\t\t\t\t\t\t  \"c.relacl, c.relkind, c.relnamespace, \"\n\t\t\t\t\t\t  \"(%s c.relowner) AS rolname, \"\n\t\t\t\t\t\t  \"c.relchecks, c.relhastriggers, \"\n\t\t\t\t\t\t  \"c.relhasindex, c.relhasrules, c.relhasoids, \"\n\t\t\t\t\t\t  \"c.relfrozenxid, \"\n\t\t\t\t\t\t  \"d.refobjid AS owning_tab, \"\n\t\t\t\t\t\t  \"d.refobjsubid AS owning_col, \"\n\t\t\t\t\t\t  \"(SELECT spcname FROM pg_tablespace t WHERE t.oid = c.reltablespace) AS reltablespace, \"\n\t\t\t\t\t\t  \"array_to_string(c.reloptions, ', ') AS reloptions, \"\n\t\t\t\t\t\t  \"array_to_string(array(SELECT 'toast.' || x FROM unnest(tc.reloptions) x), ', ') AS toast_reloptions \"\n\t\t\t\t\t\t  \"FROM pg_class c \"\n\t\t\t\t\t\t  \"LEFT JOIN pg_depend d ON \"\n\t\t\t\t\t\t  \"(c.relkind = '%c' AND \"\n\t\t\t\t\t\t  \"d.classid = c.tableoid AND d.objid = c.oid AND \"\n\t\t\t\t\t\t  \"d.objsubid = 0 AND \"\n\t\t\t\t\t\t  \"d.refclassid = c.tableoid AND d.deptype = 'a') \"\n\t\t\t\t\t\t  \"LEFT JOIN pg_class tc ON (c.reltoastrelid = tc.oid) \"\n\t\t\t\t\t\t  \"WHERE c.relkind in ('%c', '%c', '%c', '%c') \"\n\t\t\t\t\t\t  \"ORDER BY c.oid\",\n\t\t\t\t\t\t  username_subquery,\n\t\t\t\t\t\t  RELKIND_SEQUENCE,\n\t\t\t\t\t\t  RELKIND_RELATION, RELKIND_SEQUENCE,\n\t\t\t\t\t\t  RELKIND_VIEW, RELKIND_COMPOSITE_TYPE)",
          "old_line_content": "\t\t\t\t\t\t  \"c.relfrozenxid, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 11380,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(q)",
          "old_line_content": "\tfor (i = 0; i < numatts; i++)",
          "new_line_content": "\t\tresetPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 11382,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\tif (attisdropped[i])",
          "new_line_content": "\t\tq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 11384,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"(\")",
          "old_line_content": "\t\tif (needComma)",
          "new_line_content": "\tappendPQExpBuffer(q, \"(\");",
          "content_same": false
        },
        {
          "line": 11391,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \", \")",
          "old_line_content": "\t\treturn \"\";\t\t\t\t/* no undropped columns */",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \", \");",
          "content_same": false
        },
        {
          "line": 11392,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(attnames[i])",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"%s\", fmtId(attnames[i]));",
          "content_same": false
        },
        {
          "line": 3205,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT c.tableoid, c.oid, relname, \"\n\t\t\t\t\t\t  \"relacl, relkind, relnamespace, \"\n\t\t\t\t\t\t  \"(%s relowner) AS rolname, \"\n\t\t\t\t\t\t  \"relchecks, (reltriggers <> 0) AS relhastriggers, \"\n\t\t\t\t\t\t  \"relhasindex, relhasrules, relhasoids, \"\n\t\t\t\t\t\t  \"relfrozenxid, \"\n\t\t\t\t\t\t  \"d.refobjid AS owning_tab, \"\n\t\t\t\t\t\t  \"d.refobjsubid AS owning_col, \"\n\t\t\t\t\t\t  \"(SELECT spcname FROM pg_tablespace t WHERE t.oid = c.reltablespace) AS reltablespace, \"\n\t\t\t\t\t\t  \"array_to_string(c.reloptions, ', ') AS reloptions, \"\n\t\t\t\t\t\t  \"NULL AS toast_reloptions \"\n\t\t\t\t\t\t  \"FROM pg_class c \"\n\t\t\t\t\t\t  \"LEFT JOIN pg_depend d ON \"\n\t\t\t\t\t\t  \"(c.relkind = '%c' AND \"\n\t\t\t\t\t\t  \"d.classid = c.tableoid AND d.objid = c.oid AND \"\n\t\t\t\t\t\t  \"d.objsubid = 0 AND \"\n\t\t\t\t\t\t  \"d.refclassid = c.tableoid AND d.deptype = 'a') \"\n\t\t\t\t\t\t  \"WHERE relkind in ('%c', '%c', '%c', '%c') \"\n\t\t\t\t\t\t  \"ORDER BY c.oid\",\n\t\t\t\t\t\t  username_subquery,\n\t\t\t\t\t\t  RELKIND_SEQUENCE,\n\t\t\t\t\t\t  RELKIND_RELATION, RELKIND_SEQUENCE,\n\t\t\t\t\t\t  RELKIND_VIEW, RELKIND_COMPOSITE_TYPE)",
          "old_line_content": "\t\t\t\t\t\t  \"relfrozenxid, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 11399,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \")\")",
          "old_line_content": " * COMMAND_OK status.",
          "new_line_content": "\tappendPQExpBuffer(q, \")\");",
          "content_same": false
        },
        {
          "line": 11412,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(conn, query)",
          "old_line_content": " * Convenience subroutine to verify a SQL command succeeded,",
          "new_line_content": "\tres = PQexec(conn, query);",
          "content_same": false
        },
        {
          "line": 11413,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res, conn, query, PGRES_COMMAND_OK)",
          "old_line_content": " * and exit with a useful error message if not.",
          "new_line_content": "\tcheck_sql_result(res, conn, query, PGRES_COMMAND_OK);",
          "content_same": false
        },
        {
          "line": 11414,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": " */",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 11427,
          "old_api": null,
          "new_api": "PQresultStatus",
          "old_text": null,
          "new_text": "PQresultStatus(res)",
          "old_line_content": "\telse",
          "new_line_content": "\tif (res && PQresultStatus(res) == expected)",
          "content_same": false
        },
        {
          "line": 3236,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT c.tableoid, c.oid, relname, \"\n\t\t\t\t\t\t  \"relacl, relkind, relnamespace, \"\n\t\t\t\t\t\t  \"(%s relowner) AS rolname, \"\n\t\t\t\t\t\t  \"relchecks, (reltriggers <> 0) AS relhastriggers, \"\n\t\t\t\t\t\t  \"relhasindex, relhasrules, relhasoids, \"\n\t\t\t\t\t\t  \"0 AS relfrozenxid, \"\n\t\t\t\t\t\t  \"d.refobjid AS owning_tab, \"\n\t\t\t\t\t\t  \"d.refobjsubid AS owning_col, \"\n\t\t\t\t\t\t  \"(SELECT spcname FROM pg_tablespace t WHERE t.oid = c.reltablespace) AS reltablespace, \"\n\t\t\t\t\t\t  \"NULL AS reloptions, \"\n\t\t\t\t\t\t  \"NULL AS toast_reloptions \"\n\t\t\t\t\t\t  \"FROM pg_class c \"\n\t\t\t\t\t\t  \"LEFT JOIN pg_depend d ON \"\n\t\t\t\t\t\t  \"(c.relkind = '%c' AND \"\n\t\t\t\t\t\t  \"d.classid = c.tableoid AND d.objid = c.oid AND \"\n\t\t\t\t\t\t  \"d.objsubid = 0 AND \"\n\t\t\t\t\t\t  \"d.refclassid = c.tableoid AND d.deptype = 'i') \"\n\t\t\t\t\t\t  \"WHERE relkind in ('%c', '%c', '%c', '%c') \"\n\t\t\t\t\t\t  \"ORDER BY c.oid\",\n\t\t\t\t\t\t  username_subquery,\n\t\t\t\t\t\t  RELKIND_SEQUENCE,\n\t\t\t\t\t\t  RELKIND_RELATION, RELKIND_SEQUENCE,\n\t\t\t\t\t\t  RELKIND_VIEW, RELKIND_COMPOSITE_TYPE)",
          "old_line_content": "\t\t\t\t\t\t  \"0 AS relfrozenxid, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 11432,
          "old_api": null,
          "new_api": "PQresultErrorMessage",
          "old_text": null,
          "new_text": "PQresultErrorMessage(res)",
          "old_line_content": "}",
          "new_line_content": "\t\terr = PQresultErrorMessage(res);",
          "content_same": false
        },
        {
          "line": 11434,
          "old_api": null,
          "new_api": "PQerrorMessage",
          "old_text": null,
          "new_text": "PQerrorMessage(conn)",
          "old_line_content": "",
          "new_line_content": "\t\terr = PQerrorMessage(conn);",
          "content_same": false
        },
        {
          "line": 11435,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"Error message from server: %s\", err)",
          "old_line_content": "",
          "new_line_content": "\twrite_msg(NULL, \"Error message from server: %s\", err);",
          "content_same": false
        },
        {
          "line": 11436,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"The command was: %s\\n\", query)",
          "old_line_content": "",
          "new_line_content": "\twrite_msg(NULL, \"The command was: %s\\n\", query);",
          "content_same": false
        },
        {
          "line": 11437,
          "old_api": null,
          "new_api": "exit_nicely",
          "old_text": null,
          "new_text": "exit_nicely()",
          "old_line_content": "",
          "new_line_content": "\texit_nicely();",
          "content_same": false
        },
        {
          "line": 3267,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT c.tableoid, c.oid, relname, \"\n\t\t\t\t\t\t  \"relacl, relkind, relnamespace, \"\n\t\t\t\t\t\t  \"(%s relowner) AS rolname, \"\n\t\t\t\t\t\t  \"relchecks, (reltriggers <> 0) AS relhastriggers, \"\n\t\t\t\t\t\t  \"relhasindex, relhasrules, relhasoids, \"\n\t\t\t\t\t\t  \"0 AS relfrozenxid, \"\n\t\t\t\t\t\t  \"d.refobjid AS owning_tab, \"\n\t\t\t\t\t\t  \"d.refobjsubid AS owning_col, \"\n\t\t\t\t\t\t  \"NULL AS reltablespace, \"\n\t\t\t\t\t\t  \"NULL AS reloptions, \"\n\t\t\t\t\t\t  \"NULL AS toast_reloptions \"\n\t\t\t\t\t\t  \"FROM pg_class c \"\n\t\t\t\t\t\t  \"LEFT JOIN pg_depend d ON \"\n\t\t\t\t\t\t  \"(c.relkind = '%c' AND \"\n\t\t\t\t\t\t  \"d.classid = c.tableoid AND d.objid = c.oid AND \"\n\t\t\t\t\t\t  \"d.objsubid = 0 AND \"\n\t\t\t\t\t\t  \"d.refclassid = c.tableoid AND d.deptype = 'i') \"\n\t\t\t\t\t\t  \"WHERE relkind IN ('%c', '%c', '%c', '%c') \"\n\t\t\t\t\t\t  \"ORDER BY c.oid\",\n\t\t\t\t\t\t  username_subquery,\n\t\t\t\t\t\t  RELKIND_SEQUENCE,\n\t\t\t\t\t\t  RELKIND_RELATION, RELKIND_SEQUENCE,\n\t\t\t\t\t\t  RELKIND_VIEW, RELKIND_COMPOSITE_TYPE)",
          "old_line_content": "\t\t\t\t\t\t  \"0 AS relfrozenxid, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 3294,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT tableoid, oid, relname, relacl, relkind, \"\n\t\t\t\t\t\t  \"0::oid AS relnamespace, \"\n\t\t\t\t\t\t  \"(%s relowner) AS rolname, \"\n\t\t\t\t\t\t  \"relchecks, (reltriggers <> 0) AS relhastriggers, \"\n\t\t\t\t\t\t  \"relhasindex, relhasrules, relhasoids, \"\n\t\t\t\t\t\t  \"0 AS relfrozenxid, \"\n\t\t\t\t\t\t  \"NULL::oid AS owning_tab, \"\n\t\t\t\t\t\t  \"NULL::int4 AS owning_col, \"\n\t\t\t\t\t\t  \"NULL AS reltablespace, \"\n\t\t\t\t\t\t  \"NULL AS reloptions, \"\n\t\t\t\t\t\t  \"NULL AS toast_reloptions \"\n\t\t\t\t\t\t  \"FROM pg_class \"\n\t\t\t\t\t\t  \"WHERE relkind IN ('%c', '%c', '%c') \"\n\t\t\t\t\t\t  \"ORDER BY oid\",\n\t\t\t\t\t\t  username_subquery,\n\t\t\t\t\t\t  RELKIND_RELATION, RELKIND_SEQUENCE, RELKIND_VIEW)",
          "old_line_content": "\t\t\t\t\t\t  \"0 AS relfrozenxid, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 3315,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT tableoid, oid, relname, relacl, relkind, \"\n\t\t\t\t\t\t  \"0::oid AS relnamespace, \"\n\t\t\t\t\t\t  \"(%s relowner) AS rolname, \"\n\t\t\t\t\t\t  \"relchecks, (reltriggers <> 0) AS relhastriggers, \"\n\t\t\t\t\t\t  \"relhasindex, relhasrules, \"\n\t\t\t\t\t\t  \"'t'::bool AS relhasoids, \"\n\t\t\t\t\t\t  \"0 AS relfrozenxid, \"\n\t\t\t\t\t\t  \"NULL::oid AS owning_tab, \"\n\t\t\t\t\t\t  \"NULL::int4 AS owning_col, \"\n\t\t\t\t\t\t  \"NULL AS reltablespace, \"\n\t\t\t\t\t\t  \"NULL AS reloptions, \"\n\t\t\t\t\t\t  \"NULL AS toast_reloptions \"\n\t\t\t\t\t\t  \"FROM pg_class \"\n\t\t\t\t\t\t  \"WHERE relkind IN ('%c', '%c', '%c') \"\n\t\t\t\t\t\t  \"ORDER BY oid\",\n\t\t\t\t\t\t  username_subquery,\n\t\t\t\t\t\t  RELKIND_RELATION, RELKIND_SEQUENCE, RELKIND_VIEW)",
          "old_line_content": "\t\t\t\t\t\t  \"'t'::bool AS relhasoids, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 3340,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT \"\n\t\t\"(SELECT oid FROM pg_class WHERE relname = 'pg_class') AS tableoid, \"\n\t\t\t\t\t\t  \"oid, relname, relacl, \"\n\t\t\t\t\t\t  \"CASE WHEN relhasrules and relkind = 'r' \"\n\t\t\t\t\t  \"  and EXISTS(SELECT rulename FROM pg_rewrite r WHERE \"\n\t\t\t\t\t  \"             r.ev_class = c.oid AND r.ev_type = '1') \"\n\t\t\t\t\t\t  \"THEN '%c'::\\\"char\\\" \"\n\t\t\t\t\t\t  \"ELSE relkind END AS relkind,\"\n\t\t\t\t\t\t  \"0::oid AS relnamespace, \"\n\t\t\t\t\t\t  \"(%s relowner) AS rolname, \"\n\t\t\t\t\t\t  \"relchecks, (reltriggers <> 0) AS relhastriggers, \"\n\t\t\t\t\t\t  \"relhasindex, relhasrules, \"\n\t\t\t\t\t\t  \"'t'::bool AS relhasoids, \"\n\t\t\t\t\t\t  \"0 as relfrozenxid, \"\n\t\t\t\t\t\t  \"NULL::oid AS owning_tab, \"\n\t\t\t\t\t\t  \"NULL::int4 AS owning_col, \"\n\t\t\t\t\t\t  \"NULL AS reltablespace, \"\n\t\t\t\t\t\t  \"NULL AS reloptions, \"\n\t\t\t\t\t\t  \"NULL AS toast_reloptions \"\n\t\t\t\t\t\t  \"FROM pg_class c \"\n\t\t\t\t\t\t  \"WHERE relkind IN ('%c', '%c') \"\n\t\t\t\t\t\t  \"ORDER BY oid\",\n\t\t\t\t\t\t  RELKIND_VIEW,\n\t\t\t\t\t\t  username_subquery,\n\t\t\t\t\t\t  RELKIND_RELATION, RELKIND_SEQUENCE)",
          "old_line_content": "\t\t\t\t\t  \"             r.ev_class = c.oid AND r.ev_type = '1') \"",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 3368,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 3369,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t/*",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 3371,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "\t * before anything else, to minimize the window wherein a table could",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 3398,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"relfrozenxid\")",
          "old_line_content": "",
          "new_line_content": "\ti_relfrozenxid = PQfnumber(res, \"relfrozenxid\");",
          "content_same": false
        },
        {
          "line": 3399,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"owning_tab\")",
          "old_line_content": "\tif (lockWaitTimeout && g_fout->remoteVersion >= 70300)",
          "new_line_content": "\ti_owning_tab = PQfnumber(res, \"owning_tab\");",
          "content_same": false
        },
        {
          "line": 3400,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"owning_col\")",
          "old_line_content": "\t{",
          "new_line_content": "\ti_owning_col = PQfnumber(res, \"owning_col\");",
          "content_same": false
        },
        {
          "line": 3401,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"reltablespace\")",
          "old_line_content": "\t\t/*",
          "new_line_content": "\ti_reltablespace = PQfnumber(res, \"reltablespace\");",
          "content_same": false
        },
        {
          "line": 3402,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"reloptions\")",
          "old_line_content": "\t\t * Arrange to fail instead of waiting forever for a table lock.",
          "new_line_content": "\ti_reloptions = PQfnumber(res, \"reloptions\");",
          "content_same": false
        },
        {
          "line": 3403,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"toast_reloptions\")",
          "old_line_content": "\t\t *",
          "new_line_content": "\ti_toastreloptions = PQfnumber(res, \"toast_reloptions\");",
          "content_same": false
        },
        {
          "line": 3414,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(query)",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\t\tresetPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 3415,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SET statement_timeout = \")",
          "old_line_content": "\t{",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SET statement_timeout = \");",
          "content_same": false
        },
        {
          "line": 3416,
          "old_api": null,
          "new_api": "appendStringLiteralConn",
          "old_text": null,
          "new_text": "appendStringLiteralConn(query, lockWaitTimeout, g_conn)",
          "old_line_content": "\t\ttblinfo[i].dobj.objType = DO_TABLE;",
          "new_line_content": "\t\tappendStringLiteralConn(query, lockWaitTimeout, g_conn);",
          "content_same": false
        },
        {
          "line": 3433,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_relhasrules)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\ttblinfo[i].hasrules = (strcmp(PQgetvalue(res, i, i_relhasrules), \"t\") == 0);",
          "content_same": false
        },
        {
          "line": 3434,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_relhastriggers)",
          "old_line_content": "\t\t\ttblinfo[i].owning_tab = InvalidOid;",
          "new_line_content": "\t\ttblinfo[i].hastriggers = (strcmp(PQgetvalue(res, i, i_relhastriggers), \"t\") == 0);",
          "content_same": false
        },
        {
          "line": 3435,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_relhasoids)",
          "old_line_content": "\t\t\ttblinfo[i].owning_col = 0;",
          "new_line_content": "\t\ttblinfo[i].hasoids = (strcmp(PQgetvalue(res, i, i_relhasoids), \"t\") == 0);",
          "content_same": false
        },
        {
          "line": 3436,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_relfrozenxid)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\ttblinfo[i].frozenxid = atooid(PQgetvalue(res, i, i_relfrozenxid));",
          "content_same": false
        },
        {
          "line": 3437,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_relchecks)",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\ttblinfo[i].ncheck = atoi(PQgetvalue(res, i, i_relchecks));",
          "content_same": false
        },
        {
          "line": 3438,
          "old_api": null,
          "new_api": "PQgetisnull",
          "old_text": null,
          "new_text": "PQgetisnull(res, i, i_owning_tab)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\tif (PQgetisnull(res, i, i_owning_tab))",
          "content_same": false
        },
        {
          "line": 3445,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_owning_tab)",
          "old_line_content": "",
          "new_line_content": "\t\t\ttblinfo[i].owning_tab = atooid(PQgetvalue(res, i, i_owning_tab));",
          "content_same": false
        },
        {
          "line": 3446,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_owning_col)",
          "old_line_content": "\t\t/* other fields were zeroed above */",
          "new_line_content": "\t\t\ttblinfo[i].owning_col = atoi(PQgetvalue(res, i, i_owning_col));",
          "content_same": false
        },
        {
          "line": 3448,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_reltablespace)",
          "old_line_content": "\t\t/*",
          "new_line_content": "\t\ttblinfo[i].reltablespace = strdup(PQgetvalue(res, i, i_reltablespace));",
          "content_same": false
        },
        {
          "line": 3449,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_reloptions)",
          "old_line_content": "\t\t * Decide whether we want to dump this table.",
          "new_line_content": "\t\ttblinfo[i].reloptions = strdup(PQgetvalue(res, i, i_reloptions));",
          "content_same": false
        },
        {
          "line": 3450,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_toastreloptions)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\ttblinfo[i].toast_reloptions = strdup(PQgetvalue(res, i, i_toastreloptions));",
          "content_same": false
        },
        {
          "line": 3460,
          "old_api": null,
          "new_api": "selectDumpableTable",
          "old_text": null,
          "new_text": "selectDumpableTable(&tblinfo[i])",
          "old_line_content": "\t\t *",
          "new_line_content": "\t\t\tselectDumpableTable(&tblinfo[i]);",
          "content_same": false
        },
        {
          "line": 3476,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(query)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tresetPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 3477,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"LOCK TABLE %s IN ACCESS SHARE MODE\",\n\t\t\t\t\t\t fmtQualifiedId(tblinfo[i].dobj.namespace->dobj.name,\n\t\t\t\t\t\t\t\t\t\ttblinfo[i].dobj.name))",
          "old_line_content": "",
          "new_line_content": "\t\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 3481,
          "old_api": null,
          "new_api": "do_sql_command",
          "old_text": null,
          "new_text": "do_sql_command(g_conn, query->data)",
          "old_line_content": "\t\t\t\t\t  tblinfo[i].dobj.name);",
          "new_line_content": "\t\t\tdo_sql_command(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 3485,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(tblinfo[i].rolname)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tif (strlen(tblinfo[i].rolname) == 0)",
          "content_same": false
        },
        {
          "line": 3492,
          "old_api": null,
          "new_api": "do_sql_command",
          "old_text": null,
          "new_text": "do_sql_command(g_conn, \"SET statement_timeout = 0\")",
          "old_line_content": "\t * Force sequences that are \"owned\" by table columns to be dumped whenever",
          "new_line_content": "\t\tdo_sql_command(g_conn, \"SET statement_timeout = 0\");",
          "content_same": false
        },
        {
          "line": 3495,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 3506,
          "old_api": null,
          "new_api": "OidIsValid",
          "old_text": null,
          "new_text": "OidIsValid(seqinfo->owning_tab)",
          "old_line_content": "\t\tfor (j = 0; j < ntups; j++)",
          "new_line_content": "\t\tif (!OidIsValid(seqinfo->owning_tab))",
          "content_same": false
        },
        {
          "line": 3526,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * getInherits",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 3544,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t/* Make sure we are in proper schema */",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 3555,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT inhrelid, inhparent FROM pg_inherits\")",
          "old_line_content": "",
          "new_line_content": "\tappendPQExpBuffer(query, \"SELECT inhrelid, inhparent FROM pg_inherits\");",
          "content_same": false
        },
        {
          "line": 3557,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 3564,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(ntups * sizeof(InhInfo))",
          "old_line_content": "\t{",
          "new_line_content": "\tinhinfo = (InhInfo *) malloc(ntups * sizeof(InhInfo));",
          "content_same": false
        },
        {
          "line": 3567,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"inhparent\")",
          "old_line_content": "\t}",
          "new_line_content": "\ti_inhparent = PQfnumber(res, \"inhparent\");",
          "content_same": false
        },
        {
          "line": 3572,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_inhparent)",
          "old_line_content": "",
          "new_line_content": "\t\tinhinfo[i].inhparent = atooid(PQgetvalue(res, i, i_inhparent));",
          "content_same": false
        },
        {
          "line": 3575,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 3577,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * getIndexes",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 3594,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\ti_indexname,",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 3626,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"reading indexes for table \\\"%s\\\"\\n\",\n\t\t\t\t\t  tbinfo->dobj.name)",
          "old_line_content": "\t\t/*",
          "new_line_content": "\t\t\twrite_msg(NULL, \"reading indexes for table \\\"%s\\\"\\n\",",
          "content_same": false
        },
        {
          "line": 3630,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(tbinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t * assume an index won't have more than one internal dependency.",
          "new_line_content": "\t\tselectSourceSchema(tbinfo->dobj.namespace->dobj.name);",
          "content_same": false
        },
        {
          "line": 3638,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(query)",
          "old_line_content": "\t\t\t\t\t \"pg_catalog.pg_get_indexdef(i.indexrelid) AS indexdef, \"",
          "new_line_content": "\t\tresetPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 3641,
          "old_api": null,
          "new_api": "pg_get_indexdef",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"SELECT t.tableoid, t.oid, \"\n\t\t\t\t\t\t\t  \"t.relname AS indexname, \"\n\t\t\t\t\t \"pg_catalog.pg_get_indexdef(i.indexrelid) AS indexdef, \"\n\t\t\t\t\t\t\t  \"t.relnatts AS indnkeys, \"\n\t\t\t\t\t\t\t  \"i.indkey, i.indisclustered, \"\n\t\t\t\t\t\t\t  \"c.contype, c.conname, \"\n\t\t\t\t\t\t\t  \"c.tableoid AS contableoid, \"\n\t\t\t\t\t\t\t  \"c.oid AS conoid, \"\n\t\t\t\t\t\t\t  \"(SELECT spcname FROM pg_catalog.pg_tablespace s WHERE s.oid = t.reltablespace) AS tablespace, \"\n\t\t\t\t\t\t\t\"array_to_string(t.reloptions, ', ') AS options \"\n\t\t\t\t\t\t\t  \"FROM pg_catalog.pg_index i \"\n\t\t\t\t\t  \"JOIN pg_catalog.pg_class t ON (t.oid = i.indexrelid) \"\n\t\t\t\t\t\t\t  \"LEFT JOIN pg_catalog.pg_depend d \"\n\t\t\t\t\t\t\t  \"ON (d.classid = t.tableoid \"\n\t\t\t\t\t\t\t  \"AND d.objid = t.oid \"\n\t\t\t\t\t\t\t  \"AND d.deptype = 'i') \"\n\t\t\t\t\t\t\t  \"LEFT JOIN pg_catalog.pg_constraint c \"\n\t\t\t\t\t\t\t  \"ON (d.refclassid = c.tableoid \"\n\t\t\t\t\t\t\t  \"AND d.refobjid = c.oid) \"\n\t\t\t\t\t\t\t  \"WHERE i.indrelid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t\t  \"ORDER BY indexname\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t\t  \"c.contype, c.conname, \"",
          "new_line_content": "\t\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 3667,
          "old_api": null,
          "new_api": "pg_get_indexdef",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"SELECT t.tableoid, t.oid, \"\n\t\t\t\t\t\t\t  \"t.relname AS indexname, \"\n\t\t\t\t\t \"pg_catalog.pg_get_indexdef(i.indexrelid) AS indexdef, \"\n\t\t\t\t\t\t\t  \"t.relnatts AS indnkeys, \"\n\t\t\t\t\t\t\t  \"i.indkey, i.indisclustered, \"\n\t\t\t\t\t\t\t  \"c.contype, c.conname, \"\n\t\t\t\t\t\t\t  \"c.tableoid AS contableoid, \"\n\t\t\t\t\t\t\t  \"c.oid AS conoid, \"\n\t\t\t\t\t\t\t  \"(SELECT spcname FROM pg_catalog.pg_tablespace s WHERE s.oid = t.reltablespace) AS tablespace, \"\n\t\t\t\t\t\t\t  \"null AS options \"\n\t\t\t\t\t\t\t  \"FROM pg_catalog.pg_index i \"\n\t\t\t\t\t  \"JOIN pg_catalog.pg_class t ON (t.oid = i.indexrelid) \"\n\t\t\t\t\t\t\t  \"LEFT JOIN pg_catalog.pg_depend d \"\n\t\t\t\t\t\t\t  \"ON (d.classid = t.tableoid \"\n\t\t\t\t\t\t\t  \"AND d.objid = t.oid \"\n\t\t\t\t\t\t\t  \"AND d.deptype = 'i') \"\n\t\t\t\t\t\t\t  \"LEFT JOIN pg_catalog.pg_constraint c \"\n\t\t\t\t\t\t\t  \"ON (d.refclassid = c.tableoid \"\n\t\t\t\t\t\t\t  \"AND d.refobjid = c.oid) \"\n\t\t\t\t\t\t\t  \"WHERE i.indrelid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t\t  \"ORDER BY indexname\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t\t  \"c.contype, c.conname, \"",
          "new_line_content": "\t\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 3693,
          "old_api": null,
          "new_api": "pg_get_indexdef",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"SELECT t.tableoid, t.oid, \"\n\t\t\t\t\t\t\t  \"t.relname AS indexname, \"\n\t\t\t\t\t \"pg_catalog.pg_get_indexdef(i.indexrelid) AS indexdef, \"\n\t\t\t\t\t\t\t  \"t.relnatts AS indnkeys, \"\n\t\t\t\t\t\t\t  \"i.indkey, i.indisclustered, \"\n\t\t\t\t\t\t\t  \"c.contype, c.conname, \"\n\t\t\t\t\t\t\t  \"c.tableoid AS contableoid, \"\n\t\t\t\t\t\t\t  \"c.oid AS conoid, \"\n\t\t\t\t\t\t\t  \"NULL AS tablespace, \"\n\t\t\t\t\t\t\t  \"null AS options \"\n\t\t\t\t\t\t\t  \"FROM pg_catalog.pg_index i \"\n\t\t\t\t\t  \"JOIN pg_catalog.pg_class t ON (t.oid = i.indexrelid) \"\n\t\t\t\t\t\t\t  \"LEFT JOIN pg_catalog.pg_depend d \"\n\t\t\t\t\t\t\t  \"ON (d.classid = t.tableoid \"\n\t\t\t\t\t\t\t  \"AND d.objid = t.oid \"\n\t\t\t\t\t\t\t  \"AND d.deptype = 'i') \"\n\t\t\t\t\t\t\t  \"LEFT JOIN pg_catalog.pg_constraint c \"\n\t\t\t\t\t\t\t  \"ON (d.refclassid = c.tableoid \"\n\t\t\t\t\t\t\t  \"AND d.refobjid = c.oid) \"\n\t\t\t\t\t\t\t  \"WHERE i.indrelid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t\t  \"ORDER BY indexname\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t\t  \"c.contype, c.conname, \"",
          "new_line_content": "\t\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 3719,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"SELECT t.tableoid, t.oid, \"\n\t\t\t\t\t\t\t  \"t.relname AS indexname, \"\n\t\t\t\t\t\t\t  \"pg_get_indexdef(i.indexrelid) AS indexdef, \"\n\t\t\t\t\t\t\t  \"t.relnatts AS indnkeys, \"\n\t\t\t\t\t\t\t  \"i.indkey, false AS indisclustered, \"\n\t\t\t\t\t\t\t  \"CASE WHEN i.indisprimary THEN 'p'::char \"\n\t\t\t\t\t\t\t  \"ELSE '0'::char END AS contype, \"\n\t\t\t\t\t\t\t  \"t.relname AS conname, \"\n\t\t\t\t\t\t\t  \"0::oid AS contableoid, \"\n\t\t\t\t\t\t\t  \"t.oid AS conoid, \"\n\t\t\t\t\t\t\t  \"NULL AS tablespace, \"\n\t\t\t\t\t\t\t  \"null AS options \"\n\t\t\t\t\t\t\t  \"FROM pg_index i, pg_class t \"\n\t\t\t\t\t\t\t  \"WHERE t.oid = i.indexrelid \"\n\t\t\t\t\t\t\t  \"AND i.indrelid = '%u'::oid \"\n\t\t\t\t\t\t\t  \"ORDER BY indexname\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t\t  \"CASE WHEN i.indisprimary THEN 'p'::char \"",
          "new_line_content": "\t\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 3740,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"SELECT \"\n\t\t\t\t\t\t\t  \"(SELECT oid FROM pg_class WHERE relname = 'pg_class') AS tableoid, \"\n\t\t\t\t\t\t\t  \"t.oid, \"\n\t\t\t\t\t\t\t  \"t.relname AS indexname, \"\n\t\t\t\t\t\t\t  \"pg_get_indexdef(i.indexrelid) AS indexdef, \"\n\t\t\t\t\t\t\t  \"t.relnatts AS indnkeys, \"\n\t\t\t\t\t\t\t  \"i.indkey, false AS indisclustered, \"\n\t\t\t\t\t\t\t  \"CASE WHEN i.indisprimary THEN 'p'::char \"\n\t\t\t\t\t\t\t  \"ELSE '0'::char END AS contype, \"\n\t\t\t\t\t\t\t  \"t.relname AS conname, \"\n\t\t\t\t\t\t\t  \"0::oid AS contableoid, \"\n\t\t\t\t\t\t\t  \"t.oid AS conoid, \"\n\t\t\t\t\t\t\t  \"NULL AS tablespace, \"\n\t\t\t\t\t\t\t  \"null AS options \"\n\t\t\t\t\t\t\t  \"FROM pg_index i, pg_class t \"\n\t\t\t\t\t\t\t  \"WHERE t.oid = i.indexrelid \"\n\t\t\t\t\t\t\t  \"AND i.indrelid = '%u'::oid \"\n\t\t\t\t\t\t\t  \"ORDER BY indexname\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t\t  \"t.relnatts AS indnkeys, \"",
          "new_line_content": "\t\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 3774,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"contype\")",
          "old_line_content": "",
          "new_line_content": "\t\ti_contype = PQfnumber(res, \"contype\");",
          "content_same": false
        },
        {
          "line": 3777,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"conoid\")",
          "old_line_content": "",
          "new_line_content": "\t\ti_conoid = PQfnumber(res, \"conoid\");",
          "content_same": false
        },
        {
          "line": 3778,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"tablespace\")",
          "old_line_content": "\t\tfor (j = 0; j < ntups; j++)",
          "new_line_content": "\t\ti_tablespace = PQfnumber(res, \"tablespace\");",
          "content_same": false
        },
        {
          "line": 3779,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"options\")",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\ti_options = PQfnumber(res, \"options\");",
          "content_same": false
        },
        {
          "line": 3781,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(ntups * sizeof(IndxInfo))",
          "old_line_content": "",
          "new_line_content": "\t\tindxinfo = (IndxInfo *) malloc(ntups * sizeof(IndxInfo));",
          "content_same": false
        },
        {
          "line": 3782,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(ntups * sizeof(ConstraintInfo))",
          "old_line_content": "\t\t\tindxinfo[j].dobj.objType = DO_INDEX;",
          "new_line_content": "\t\tconstrinfo = (ConstraintInfo *) malloc(ntups * sizeof(ConstraintInfo));",
          "content_same": false
        },
        {
          "line": 3795,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_indexdef)",
          "old_line_content": "\t\t\t * In pre-7.4 releases, indkeys may contain more entries than",
          "new_line_content": "\t\t\tindxinfo[j].indexdef = strdup(PQgetvalue(res, j, i_indexdef));",
          "content_same": false
        },
        {
          "line": 3796,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_indnkeys)",
          "old_line_content": "\t\t\t * indnkeys says (since indnkeys will be 1 for a functional",
          "new_line_content": "\t\t\tindxinfo[j].indnkeys = atoi(PQgetvalue(res, j, i_indnkeys));",
          "content_same": false
        },
        {
          "line": 3797,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_tablespace)",
          "old_line_content": "\t\t\t * index).\tWe don't actually care about this case since we don't",
          "new_line_content": "\t\t\tindxinfo[j].tablespace = strdup(PQgetvalue(res, j, i_tablespace));",
          "content_same": false
        },
        {
          "line": 3798,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_options)",
          "old_line_content": "\t\t\t * examine indkeys except for indexes associated with PRIMARY and",
          "new_line_content": "\t\t\tindxinfo[j].options = strdup(PQgetvalue(res, j, i_options));",
          "content_same": false
        },
        {
          "line": 3809,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(INDEX_MAX_KEYS * sizeof(Oid))",
          "old_line_content": "\t\t\tif (contype == 'p' || contype == 'u')",
          "new_line_content": "\t\t\tindxinfo[j].indkeys = (Oid *) malloc(INDEX_MAX_KEYS * sizeof(Oid));",
          "content_same": false
        },
        {
          "line": 3810,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_indkey)",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\t\tparseOidArray(PQgetvalue(res, j, i_indkey),",
          "content_same": false
        },
        {
          "line": 3812,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_indisclustered)",
          "old_line_content": "\t\t\t\t * If we found a constraint matching the index, create an",
          "new_line_content": "\t\t\tindxinfo[j].indisclustered = (PQgetvalue(res, j, i_indisclustered)[0] == 't');",
          "content_same": false
        },
        {
          "line": 3813,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_contype)",
          "old_line_content": "\t\t\t\t * entry for it.",
          "new_line_content": "\t\t\tcontype = *(PQgetvalue(res, j, i_contype));",
          "content_same": false
        },
        {
          "line": 3825,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_contableoid)",
          "old_line_content": "\t\t\t\tconstrinfo[j].condomain = NULL;",
          "new_line_content": "\t\t\t\tconstrinfo[j].dobj.catId.tableoid = atooid(PQgetvalue(res, j, i_contableoid));",
          "content_same": false
        },
        {
          "line": 3826,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_conoid)",
          "old_line_content": "\t\t\t\tconstrinfo[j].contype = contype;",
          "new_line_content": "\t\t\t\tconstrinfo[j].dobj.catId.oid = atooid(PQgetvalue(res, j, i_conoid));",
          "content_same": false
        },
        {
          "line": 3827,
          "old_api": null,
          "new_api": "AssignDumpId",
          "old_text": null,
          "new_text": "AssignDumpId(&constrinfo[j].dobj)",
          "old_line_content": "\t\t\t\tconstrinfo[j].condef = NULL;",
          "new_line_content": "\t\t\t\tAssignDumpId(&constrinfo[j].dobj);",
          "content_same": false
        },
        {
          "line": 3828,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_conname)",
          "old_line_content": "\t\t\t\tconstrinfo[j].confrelid = InvalidOid;",
          "new_line_content": "\t\t\t\tconstrinfo[j].dobj.name = strdup(PQgetvalue(res, j, i_conname));",
          "content_same": false
        },
        {
          "line": 3842,
          "old_api": null,
          "new_api": "addObjectDependency",
          "old_text": null,
          "new_text": "addObjectDependency(&constrinfo[j].dobj,\n\t\t\t\t\t\t\t\t\ttbinfo->dobj.dumpId)",
          "old_line_content": "\t\t\t\tindxinfo[j].indexconstraint = 0;",
          "new_line_content": "\t\t\t\taddObjectDependency(&constrinfo[j].dobj,",
          "content_same": false
        },
        {
          "line": 3852,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "/*",
          "new_line_content": "\t\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 3855,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * Get info about constraints on dumpable tables.",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 3886,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\tif (!tbinfo->hastriggers || !tbinfo->dobj.dump)",
          "new_line_content": "\tquery = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 3896,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"reading foreign key constraints for table \\\"%s\\\"\\n\",\n\t\t\t\t\t  tbinfo->dobj.name)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\t\twrite_msg(NULL, \"reading foreign key constraints for table \\\"%s\\\"\\n\",",
          "content_same": false
        },
        {
          "line": 3903,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(tbinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\t\t\t\t  \"FROM pg_catalog.pg_constraint \"",
          "new_line_content": "\t\tselectSourceSchema(tbinfo->dobj.namespace->dobj.name);",
          "content_same": false
        },
        {
          "line": 3905,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(query)",
          "old_line_content": "\t\t\t\t\t\t  \"AND contype = 'f'\",",
          "new_line_content": "\t\tresetPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 3906,
          "old_api": null,
          "new_api": "pg_get_constraintdef",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT tableoid, oid, conname, confrelid, \"\n\t\t\t\t\t\t  \"pg_catalog.pg_get_constraintdef(oid) AS condef \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_constraint \"\n\t\t\t\t\t\t  \"WHERE conrelid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t  \"AND contype = 'f'\",\n\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  tbinfo->dobj.catId.oid);",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 3919,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"oid\")",
          "old_line_content": "",
          "new_line_content": "\t\ti_conoid = PQfnumber(res, \"oid\");",
          "content_same": false
        },
        {
          "line": 3920,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"conname\")",
          "old_line_content": "\t\tfor (j = 0; j < ntups; j++)",
          "new_line_content": "\t\ti_conname = PQfnumber(res, \"conname\");",
          "content_same": false
        },
        {
          "line": 3921,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"confrelid\")",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\ti_confrelid = PQfnumber(res, \"confrelid\");",
          "content_same": false
        },
        {
          "line": 3922,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"condef\")",
          "old_line_content": "\t\t\tconstrinfo[j].dobj.objType = DO_FK_CONSTRAINT;",
          "new_line_content": "\t\ti_condef = PQfnumber(res, \"condef\");",
          "content_same": false
        },
        {
          "line": 3929,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_contableoid)",
          "old_line_content": "\t\t\tconstrinfo[j].condomain = NULL;",
          "new_line_content": "\t\t\tconstrinfo[j].dobj.catId.tableoid = atooid(PQgetvalue(res, j, i_contableoid));",
          "content_same": false
        },
        {
          "line": 3930,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_conoid)",
          "old_line_content": "\t\t\tconstrinfo[j].contype = 'f';",
          "new_line_content": "\t\t\tconstrinfo[j].dobj.catId.oid = atooid(PQgetvalue(res, j, i_conoid));",
          "content_same": false
        },
        {
          "line": 3937,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_condef)",
          "old_line_content": "",
          "new_line_content": "\t\t\tconstrinfo[j].condef = strdup(PQgetvalue(res, j, i_condef));",
          "content_same": false
        },
        {
          "line": 3944,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "/*",
          "new_line_content": "\t\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 3947,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * Get info about constraints on a domain.",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 3976,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(tinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\t\t\t\t  \"pg_catalog.pg_get_constraintdef(oid) AS consrc \"",
          "new_line_content": "\tselectSourceSchema(tinfo->dobj.namespace->dobj.name);",
          "content_same": false
        },
        {
          "line": 3978,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t\t  \"WHERE contypid = '%u'::pg_catalog.oid \"",
          "new_line_content": "\tquery = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 3981,
          "old_api": null,
          "new_api": "pg_get_constraintdef",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, conname, \"\n\t\t\t\t\t\t  \"pg_catalog.pg_get_constraintdef(oid) AS consrc \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_constraint \"\n\t\t\t\t\t\t  \"WHERE contypid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t  \"ORDER BY conname\",\n\t\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "old_line_content": "\telse",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, conname, \"",
          "content_same": false
        },
        {
          "line": 3988,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, conname, \"\n\t\t\t\t\t\t  \"'CHECK (' || consrc || ')' AS consrc \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_constraint \"\n\t\t\t\t\t\t  \"WHERE contypid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t  \"ORDER BY conname\",\n\t\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, conname, \"",
          "content_same": false
        },
        {
          "line": 3998,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 4000,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"tableoid\")",
          "old_line_content": "",
          "new_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "content_same": false
        },
        {
          "line": 4001,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"oid\")",
          "old_line_content": "\ttinfo->nDomChecks = ntups;",
          "new_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "content_same": false
        },
        {
          "line": 4002,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"conname\")",
          "old_line_content": "\ttinfo->domChecks = constrinfo;",
          "new_line_content": "\ti_conname = PQfnumber(res, \"conname\");",
          "content_same": false
        },
        {
          "line": 4003,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"consrc\")",
          "old_line_content": "",
          "new_line_content": "\ti_consrc = PQfnumber(res, \"consrc\");",
          "content_same": false
        },
        {
          "line": 4005,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(ntups * sizeof(ConstraintInfo))",
          "old_line_content": "\t{",
          "new_line_content": "\tconstrinfo = (ConstraintInfo *) malloc(ntups * sizeof(ConstraintInfo));",
          "content_same": false
        },
        {
          "line": 4013,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_tableoid)",
          "old_line_content": "\t\tconstrinfo[i].condomain = tinfo;",
          "new_line_content": "\t\tconstrinfo[i].dobj.catId.tableoid = atooid(PQgetvalue(res, i, i_tableoid));",
          "content_same": false
        },
        {
          "line": 4014,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_oid)",
          "old_line_content": "\t\tconstrinfo[i].contype = 'c';",
          "new_line_content": "\t\tconstrinfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "content_same": false
        },
        {
          "line": 4016,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_conname)",
          "old_line_content": "\t\tconstrinfo[i].confrelid = InvalidOid;",
          "new_line_content": "\t\tconstrinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_conname));",
          "content_same": false
        },
        {
          "line": 4021,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_consrc)",
          "old_line_content": "\t\t/*",
          "new_line_content": "\t\tconstrinfo[i].condef = strdup(PQgetvalue(res, i, i_consrc));",
          "content_same": false
        },
        {
          "line": 4035,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": " * getRules",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 4037,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " *",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 4052,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tint\t\t\ti_ev_type;",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 4063,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(\"pg_catalog\")",
          "old_line_content": "\t\t\t\t\t\t  \"ev_class AS ruletable, ev_type, is_instead, \"",
          "new_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 4067,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT \"\n\t\t\t\t\t\t  \"tableoid, oid, rulename, \"\n\t\t\t\t\t\t  \"ev_class AS ruletable, ev_type, is_instead, \"\n\t\t\t\t\t\t  \"ev_enabled \"\n\t\t\t\t\t\t  \"FROM pg_rewrite \"\n\t\t\t\t\t\t  \"ORDER BY oid\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT \"",
          "content_same": false
        },
        {
          "line": 4076,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT \"\n\t\t\t\t\t\t  \"tableoid, oid, rulename, \"\n\t\t\t\t\t\t  \"ev_class AS ruletable, ev_type, is_instead, \"\n\t\t\t\t\t\t  \"'O'::char AS ev_enabled \"\n\t\t\t\t\t\t  \"FROM pg_rewrite \"\n\t\t\t\t\t\t  \"ORDER BY oid\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT \"",
          "content_same": false
        },
        {
          "line": 4085,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT \"\n\t\t\t\t\t\t  \"(SELECT oid FROM pg_class WHERE relname = 'pg_rewrite') AS tableoid, \"\n\t\t\t\t\t\t  \"oid, rulename, \"\n\t\t\t\t\t\t  \"ev_class AS ruletable, ev_type, is_instead, \"\n\t\t\t\t\t\t  \"'O'::char AS ev_enabled \"\n\t\t\t\t\t\t  \"FROM pg_rewrite \"\n\t\t\t\t\t\t  \"ORDER BY oid\")",
          "old_line_content": "\t\t\t\t\t\t  \"ORDER BY oid\");",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT \"",
          "content_same": false
        },
        {
          "line": 4094,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 4104,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"oid\")",
          "old_line_content": "",
          "new_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "content_same": false
        },
        {
          "line": 4105,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"rulename\")",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\ti_rulename = PQfnumber(res, \"rulename\");",
          "content_same": false
        },
        {
          "line": 4106,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"ruletable\")",
          "old_line_content": "\t{",
          "new_line_content": "\ti_ruletable = PQfnumber(res, \"ruletable\");",
          "content_same": false
        },
        {
          "line": 4107,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"ev_type\")",
          "old_line_content": "\t\tOid\t\t\truletableoid;",
          "new_line_content": "\ti_ev_type = PQfnumber(res, \"ev_type\");",
          "content_same": false
        },
        {
          "line": 4108,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"is_instead\")",
          "old_line_content": "",
          "new_line_content": "\ti_is_instead = PQfnumber(res, \"is_instead\");",
          "content_same": false
        },
        {
          "line": 4109,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"ev_enabled\")",
          "old_line_content": "\t\truleinfo[i].dobj.objType = DO_RULE;",
          "new_line_content": "\ti_ev_enabled = PQfnumber(res, \"ev_enabled\");",
          "content_same": false
        },
        {
          "line": 4116,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_tableoid)",
          "old_line_content": "\t\tif (ruleinfo[i].ruletable == NULL)",
          "new_line_content": "\t\truleinfo[i].dobj.catId.tableoid = atooid(PQgetvalue(res, i, i_tableoid));",
          "content_same": false
        },
        {
          "line": 4117,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_oid)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\truleinfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "content_same": false
        },
        {
          "line": 4119,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_rulename)",
          "old_line_content": "\t\t\t\t\t  ruletableoid,",
          "new_line_content": "\t\truleinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_rulename));",
          "content_same": false
        },
        {
          "line": 4120,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_ruletable)",
          "old_line_content": "\t\t\t\t\t  ruleinfo[i].dobj.catId.oid);",
          "new_line_content": "\t\truletableoid = atooid(PQgetvalue(res, i, i_ruletable));",
          "content_same": false
        },
        {
          "line": 4124,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"failed sanity check, parent table OID %u of pg_rewrite entry OID %u not found\\n\",\n\t\t\t\t\t  ruletableoid,\n\t\t\t\t\t  ruleinfo[i].dobj.catId.oid)",
          "old_line_content": "\t\truleinfo[i].dobj.dump = ruleinfo[i].ruletable->dobj.dump;",
          "new_line_content": "\t\t\twrite_msg(NULL, \"failed sanity check, parent table OID %u of pg_rewrite entry OID %u not found\\n\",",
          "content_same": false
        },
        {
          "line": 4131,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_ev_type)",
          "old_line_content": "\t\t\t * If the table is a view, force its ON SELECT rule to be sorted",
          "new_line_content": "\t\truleinfo[i].ev_type = *(PQgetvalue(res, i, i_ev_type));",
          "content_same": false
        },
        {
          "line": 4132,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_is_instead)",
          "old_line_content": "\t\t\t * before the view itself --- this ensures that any dependencies",
          "new_line_content": "\t\truleinfo[i].is_instead = *(PQgetvalue(res, i, i_is_instead)) == 't';",
          "content_same": false
        },
        {
          "line": 4133,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_ev_enabled)",
          "old_line_content": "\t\t\t * for the rule affect the table's positioning. Other rules are",
          "new_line_content": "\t\truleinfo[i].ev_enabled = *(PQgetvalue(res, i, i_ev_enabled));",
          "content_same": false
        },
        {
          "line": 4145,
          "old_api": null,
          "new_api": "addObjectDependency",
          "old_text": null,
          "new_text": "addObjectDependency(&ruleinfo[i].ruletable->dobj,\n\t\t\t\t\t\t\t\t\truleinfo[i].dobj.dumpId)",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\t\t\taddObjectDependency(&ruleinfo[i].ruletable->dobj,",
          "content_same": false
        },
        {
          "line": 4152,
          "old_api": null,
          "new_api": "addObjectDependency",
          "old_text": null,
          "new_text": "addObjectDependency(&ruleinfo[i].dobj,\n\t\t\t\t\t\t\t\t\truleinfo[i].ruletable->dobj.dumpId)",
          "old_line_content": "\t\t\truleinfo[i].separate = true;",
          "new_line_content": "\t\t\t\taddObjectDependency(&ruleinfo[i].dobj,",
          "content_same": false
        },
        {
          "line": 4161,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 4163,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * getTriggers",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 4180,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\ti_tgfname,",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 4213,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(tbinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\t * We ignore triggers that are tied to a foreign-key constraint",
          "new_line_content": "\t\tselectSourceSchema(tbinfo->dobj.namespace->dobj.name);",
          "content_same": false
        },
        {
          "line": 4221,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"SELECT tgname, \"\n\t\t\t\t\t\t\t  \"tgfoid::pg_catalog.regproc AS tgfname, \"\n\t\t\t\t\t\t\t  \"tgtype, tgnargs, tgargs, tgenabled, \"\n\t\t\t\t\t\t\t  \"tgisconstraint, tgconstrname, tgdeferrable, \"\n\t\t\t\t\t\t\t  \"tgconstrrelid, tginitdeferred, tableoid, oid, \"\n\t\t\t\t\t \"tgconstrrelid::pg_catalog.regclass AS tgconstrrelname \"\n\t\t\t\t\t\t\t  \"FROM pg_catalog.pg_trigger t \"\n\t\t\t\t\t\t\t  \"WHERE tgrelid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t\t  \"AND tgconstraint = 0\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t \"tgconstrrelid::pg_catalog.regclass AS tgconstrrelname \"",
          "new_line_content": "\t\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 4240,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"SELECT tgname, \"\n\t\t\t\t\t\t\t  \"tgfoid::pg_catalog.regproc AS tgfname, \"\n\t\t\t\t\t\t\t  \"tgtype, tgnargs, tgargs, tgenabled, \"\n\t\t\t\t\t\t\t  \"tgisconstraint, tgconstrname, tgdeferrable, \"\n\t\t\t\t\t\t\t  \"tgconstrrelid, tginitdeferred, tableoid, oid, \"\n\t\t\t\t\t \"tgconstrrelid::pg_catalog.regclass AS tgconstrrelname \"\n\t\t\t\t\t\t\t  \"FROM pg_catalog.pg_trigger t \"\n\t\t\t\t\t\t\t  \"WHERE tgrelid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t\t  \"AND (NOT tgisconstraint \"\n\t\t\t\t\t\t\t  \" OR NOT EXISTS\"\n\t\t\t\t\t\t\t  \"  (SELECT 1 FROM pg_catalog.pg_depend d \"\n\t\t\t\t\t\t\t  \"   JOIN pg_catalog.pg_constraint c ON (d.refclassid = c.tableoid AND d.refobjid = c.oid) \"\n\t\t\t\t\t\t\t  \"   WHERE d.classid = t.tableoid AND d.objid = t.oid AND d.deptype = 'i' AND c.contype = 'f'))\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t \"tgconstrrelid::pg_catalog.regclass AS tgconstrrelname \"",
          "new_line_content": "\t\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 4258,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"SELECT tgname, tgfoid::regproc AS tgfname, \"\n\t\t\t\t\t\t\t  \"tgtype, tgnargs, tgargs, tgenabled, \"\n\t\t\t\t\t\t\t  \"tgisconstraint, tgconstrname, tgdeferrable, \"\n\t\t\t\t\t\t\t  \"tgconstrrelid, tginitdeferred, tableoid, oid, \"\n\t\t\t\t  \"(SELECT relname FROM pg_class WHERE oid = tgconstrrelid) \"\n\t\t\t\t\t\t\t  \"\t\tAS tgconstrrelname \"\n\t\t\t\t\t\t\t  \"FROM pg_trigger \"\n\t\t\t\t\t\t\t  \"WHERE tgrelid = '%u'::oid\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t\t  \"\t\tAS tgconstrrelname \"",
          "new_line_content": "\t\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 4271,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"SELECT tgname, tgfoid::regproc AS tgfname, \"\n\t\t\t\t\t\t\t  \"tgtype, tgnargs, tgargs, tgenabled, \"\n\t\t\t\t\t\t\t  \"tgisconstraint, tgconstrname, tgdeferrable, \"\n\t\t\t\t\t\t\t  \"tgconstrrelid, tginitdeferred, \"\n\t\t\t\t\t\t\t  \"(SELECT oid FROM pg_class WHERE relname = 'pg_trigger') AS tableoid, \"\n\t\t\t\t\t\t\t  \"oid, \"\n\t\t\t\t  \"(SELECT relname FROM pg_class WHERE oid = tgconstrrelid) \"\n\t\t\t\t\t\t\t  \"\t\tAS tgconstrrelname \"\n\t\t\t\t\t\t\t  \"FROM pg_trigger \"\n\t\t\t\t\t\t\t  \"WHERE tgrelid = '%u'::oid\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t\t  \"oid, \"",
          "new_line_content": "\t\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 4297,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"tgconstrname\")",
          "old_line_content": "",
          "new_line_content": "\t\ti_tgconstrname = PQfnumber(res, \"tgconstrname\");",
          "content_same": false
        },
        {
          "line": 4299,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"tgconstrrelname\")",
          "old_line_content": "",
          "new_line_content": "\t\ti_tgconstrrelname = PQfnumber(res, \"tgconstrrelname\");",
          "content_same": false
        },
        {
          "line": 4300,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"tgenabled\")",
          "old_line_content": "\t\tfor (j = 0; j < ntups; j++)",
          "new_line_content": "\t\ti_tgenabled = PQfnumber(res, \"tgenabled\");",
          "content_same": false
        },
        {
          "line": 4301,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"tgdeferrable\")",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\ti_tgdeferrable = PQfnumber(res, \"tgdeferrable\");",
          "content_same": false
        },
        {
          "line": 4302,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"tginitdeferred\")",
          "old_line_content": "\t\t\ttginfo[j].dobj.objType = DO_TRIGGER;",
          "new_line_content": "\t\ti_tginitdeferred = PQfnumber(res, \"tginitdeferred\");",
          "content_same": false
        },
        {
          "line": 4317,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_tgnargs)",
          "old_line_content": "",
          "new_line_content": "\t\t\ttginfo[j].tgnargs = atoi(PQgetvalue(res, j, i_tgnargs));",
          "content_same": false
        },
        {
          "line": 4318,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_tgargs)",
          "old_line_content": "\t\t\tif (tginfo[j].tgisconstraint)",
          "new_line_content": "\t\t\ttginfo[j].tgargs = strdup(PQgetvalue(res, j, i_tgargs));",
          "content_same": false
        },
        {
          "line": 4319,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_tgisconstraint)",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\t\ttginfo[j].tgisconstraint = *(PQgetvalue(res, j, i_tgisconstraint)) == 't';",
          "content_same": false
        },
        {
          "line": 4327,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_tgconstrrelid)",
          "old_line_content": "\t\t\t\t\t\t\t\t  tginfo[j].dobj.name, tbinfo->dobj.name,",
          "new_line_content": "\t\t\t\ttginfo[j].tgconstrrelid = atooid(PQgetvalue(res, j, i_tgconstrrelid));",
          "content_same": false
        },
        {
          "line": 4328,
          "old_api": null,
          "new_api": "OidIsValid",
          "old_text": null,
          "new_text": "OidIsValid(tginfo[j].tgconstrrelid)",
          "old_line_content": "\t\t\t\t\t\t\t\t  tginfo[j].tgconstrrelid);",
          "new_line_content": "\t\t\t\tif (OidIsValid(tginfo[j].tgconstrrelid))",
          "content_same": false
        },
        {
          "line": 4330,
          "old_api": null,
          "new_api": "PQgetisnull",
          "old_text": null,
          "new_text": "PQgetisnull(res, j, i_tgconstrrelname)",
          "old_line_content": "\t\t\t\t\t}",
          "new_line_content": "\t\t\t\t\tif (PQgetisnull(res, j, i_tgconstrrelname))",
          "content_same": false
        },
        {
          "line": 4332,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"query produced null referenced table name for foreign key trigger \\\"%s\\\" on table \\\"%s\\\" (OID of table: %u)\\n\",\n\t\t\t\t\t\t\t\t  tginfo[j].dobj.name, tbinfo->dobj.name,\n\t\t\t\t\t\t\t\t  tginfo[j].tgconstrrelid)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\t\t\twrite_msg(NULL, \"query produced null referenced table name for foreign key trigger \\\"%s\\\" on table \\\"%s\\\" (OID of table: %u)\\n\",",
          "content_same": false
        },
        {
          "line": 4335,
          "old_api": null,
          "new_api": "exit_nicely",
          "old_text": null,
          "new_text": "exit_nicely()",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 4337,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_tgconstrrelname)",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\t\t\t\ttginfo[j].tgconstrrelname = strdup(PQgetvalue(res, j, i_tgconstrrelname));",
          "content_same": false
        },
        {
          "line": 4350,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "/*",
          "new_line_content": "\t\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 4353,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " *",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 4371,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tint\t\t\ti_lanplcallfoid;",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 4383,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(\"pg_catalog\")",
          "old_line_content": "\t\t\t\t\t\t  \"lanname, lanpltrusted, lanplcallfoid, \"",
          "new_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 4388,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, \"\n\t\t\t\t\t\t  \"lanname, lanpltrusted, lanplcallfoid, \"\n\t\t\t\t\t\t  \"lanvalidator,  lanacl, \"\n\t\t\t\t\t\t  \"(%s lanowner) AS lanowner \"\n\t\t\t\t\t\t  \"FROM pg_language \"\n\t\t\t\t\t\t  \"WHERE lanispl \"\n\t\t\t\t\t\t  \"ORDER BY oid\",\n\t\t\t\t\t\t  username_subquery)",
          "old_line_content": "\t\t\t\t\t\t  \"ORDER BY oid\",",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, \"",
          "content_same": false
        },
        {
          "line": 4400,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, *, \"\n\t\t\t\t\t\t  \"(%s '10') AS lanowner \"\n\t\t\t\t\t\t  \"FROM pg_language \"\n\t\t\t\t\t\t  \"WHERE lanispl \"\n\t\t\t\t\t\t  \"ORDER BY oid\",\n\t\t\t\t\t\t  username_subquery)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, *, \"",
          "content_same": false
        },
        {
          "line": 4410,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, *, \"\n\t\t\t\t\t\t  \"(%s '1') AS lanowner \"\n\t\t\t\t\t\t  \"FROM pg_language \"\n\t\t\t\t\t\t  \"WHERE lanispl \"\n\t\t\t\t\t\t  \"ORDER BY oid\",\n\t\t\t\t\t\t  username_subquery)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, *, \"",
          "content_same": false
        },
        {
          "line": 4426,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT \"\n\t\t\t\t\t\t  \"(SELECT oid FROM pg_class WHERE relname = 'pg_language') AS tableoid, \"\n\t\t\t\t\t\t  \"oid, * FROM pg_language \"\n\t\t\t\t\t\t  \"WHERE lanispl \"\n\t\t\t\t\t\t  \"ORDER BY oid\")",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT \"",
          "content_same": false
        },
        {
          "line": 4433,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 4445,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"lanpltrusted\")",
          "old_line_content": "",
          "new_line_content": "\ti_lanpltrusted = PQfnumber(res, \"lanpltrusted\");",
          "content_same": false
        },
        {
          "line": 4446,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"lanplcallfoid\")",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\ti_lanplcallfoid = PQfnumber(res, \"lanplcallfoid\");",
          "content_same": false
        },
        {
          "line": 4448,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"lanvalidator\")",
          "old_line_content": "\t\tplanginfo[i].dobj.objType = DO_PROCLANG;",
          "new_line_content": "\ti_lanvalidator = PQfnumber(res, \"lanvalidator\");",
          "content_same": false
        },
        {
          "line": 4456,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_oid)",
          "old_line_content": "\t\tif (i_lanvalidator >= 0)",
          "new_line_content": "\t\tplanginfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "content_same": false
        },
        {
          "line": 4459,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_lanname)",
          "old_line_content": "\t\t\tplanginfo[i].lanvalidator = InvalidOid;",
          "new_line_content": "\t\tplanginfo[i].dobj.name = strdup(PQgetvalue(res, i, i_lanname));",
          "content_same": false
        },
        {
          "line": 4460,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_lanpltrusted)",
          "old_line_content": "\t\tif (i_lanacl >= 0)",
          "new_line_content": "\t\tplanginfo[i].lanpltrusted = *(PQgetvalue(res, i, i_lanpltrusted)) == 't';",
          "content_same": false
        },
        {
          "line": 4469,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(\"{=U}\")",
          "old_line_content": "\t\tif (g_fout->remoteVersion < 70300)",
          "new_line_content": "\t\t\tplanginfo[i].lanacl = strdup(\"{=U}\");",
          "content_same": false
        },
        {
          "line": 4471,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_lanowner)",
          "old_line_content": "\t\t\t/*",
          "new_line_content": "\t\t\tplanginfo[i].lanowner = strdup(PQgetvalue(res, i, i_lanowner));",
          "content_same": false
        },
        {
          "line": 4473,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(\"\")",
          "old_line_content": "\t\t\t * dumped first.  (In 7.3 and later the regular dependency",
          "new_line_content": "\t\t\tplanginfo[i].lanowner = strdup(\"\");",
          "content_same": false
        },
        {
          "line": 4482,
          "old_api": null,
          "new_api": "findFuncByOid",
          "old_text": null,
          "new_text": "findFuncByOid(planginfo[i].lanplcallfoid)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tFuncInfo   *funcInfo = findFuncByOid(planginfo[i].lanplcallfoid);",
          "content_same": false
        },
        {
          "line": 4485,
          "old_api": null,
          "new_api": "addObjectDependency",
          "old_text": null,
          "new_text": "addObjectDependency(&planginfo[i].dobj,\n\t\t\t\t\t\t\t\t\tfuncInfo->dobj.dumpId)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\taddObjectDependency(&planginfo[i].dobj,",
          "content_same": false
        },
        {
          "line": 4490,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 4492,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * getCasts",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 4509,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tint\t\t\ti_castfunc;",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 4520,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(\"pg_catalog\")",
          "old_line_content": "\t\t\t\t\t\t  \"castmethod \"",
          "new_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 4524,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, \"\n\t\t\t\t\t\t  \"castsource, casttarget, castfunc, castcontext, \"\n\t\t\t\t\t\t  \"castmethod \"\n\t\t\t\t\t\t  \"FROM pg_cast ORDER BY 3,4\")",
          "old_line_content": "\t{",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, \"",
          "content_same": false
        },
        {
          "line": 4531,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, \"\n\t\t\t\t\t\t  \"castsource, casttarget, castfunc, castcontext, \"\n\t\t\t\t\t\t  \"CASE WHEN castfunc = 0 THEN 'b' ELSE 'f' END AS castmethod \"\n\t\t\t\t\t\t  \"FROM pg_cast ORDER BY 3,4\")",
          "old_line_content": "\t{",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, \"",
          "content_same": false
        },
        {
          "line": 4538,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT 0 AS tableoid, p.oid, \"\n\t\t\t\t\t\t  \"t1.oid AS castsource, t2.oid AS casttarget, \"\n\t\t\t\t\t\t  \"p.oid AS castfunc, 'e' AS castcontext, \"\n\t\t\t\t\t\t  \"'f' AS castmethod \"\n\t\t\t\t\t\t  \"FROM pg_type t1, pg_type t2, pg_proc p \"\n\t\t\t\t\t\t  \"WHERE p.pronargs = 1 AND \"\n\t\t\t\t\t\t  \"p.proargtypes[0] = t1.oid AND \"\n\t\t\t\t\t\t  \"p.prorettype = t2.oid AND p.proname = t2.typname \"\n\t\t\t\t\t\t  \"ORDER BY 3,4\")",
          "old_line_content": "\t\t\t\t\t\t  \"p.proargtypes[0] = t1.oid AND \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT 0 AS tableoid, p.oid, \"",
          "content_same": false
        },
        {
          "line": 4549,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 4559,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"oid\")",
          "old_line_content": "",
          "new_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "content_same": false
        },
        {
          "line": 4560,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"castsource\")",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\ti_castsource = PQfnumber(res, \"castsource\");",
          "content_same": false
        },
        {
          "line": 4561,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"casttarget\")",
          "old_line_content": "\t{",
          "new_line_content": "\ti_casttarget = PQfnumber(res, \"casttarget\");",
          "content_same": false
        },
        {
          "line": 4562,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"castfunc\")",
          "old_line_content": "\t\tPQExpBufferData namebuf;",
          "new_line_content": "\ti_castfunc = PQfnumber(res, \"castfunc\");",
          "content_same": false
        },
        {
          "line": 4563,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"castcontext\")",
          "old_line_content": "\t\tTypeInfo   *sTypeInfo;",
          "new_line_content": "\ti_castcontext = PQfnumber(res, \"castcontext\");",
          "content_same": false
        },
        {
          "line": 4564,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"castmethod\")",
          "old_line_content": "\t\tTypeInfo   *tTypeInfo;",
          "new_line_content": "\ti_castmethod = PQfnumber(res, \"castmethod\");",
          "content_same": false
        },
        {
          "line": 4575,
          "old_api": null,
          "new_api": "AssignDumpId",
          "old_text": null,
          "new_text": "AssignDumpId(&castinfo[i].dobj)",
          "old_line_content": "",
          "new_line_content": "\t\tAssignDumpId(&castinfo[i].dobj);",
          "content_same": false
        },
        {
          "line": 4576,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_castsource)",
          "old_line_content": "\t\t/*",
          "new_line_content": "\t\tcastinfo[i].castsource = atooid(PQgetvalue(res, i, i_castsource));",
          "content_same": false
        },
        {
          "line": 4577,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_casttarget)",
          "old_line_content": "\t\t * Try to name cast as concatenation of typnames.  This is only used",
          "new_line_content": "\t\tcastinfo[i].casttarget = atooid(PQgetvalue(res, i, i_casttarget));",
          "content_same": false
        },
        {
          "line": 4578,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_castfunc)",
          "old_line_content": "\t\t * for purposes of sorting.  If we fail to find either type, the name",
          "new_line_content": "\t\tcastinfo[i].castfunc = atooid(PQgetvalue(res, i, i_castfunc));",
          "content_same": false
        },
        {
          "line": 4579,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_castcontext)",
          "old_line_content": "\t\t * will be an empty string.",
          "new_line_content": "\t\tcastinfo[i].castcontext = *(PQgetvalue(res, i, i_castcontext));",
          "content_same": false
        },
        {
          "line": 4580,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_castmethod)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\tcastinfo[i].castmethod = *(PQgetvalue(res, i, i_castmethod));",
          "content_same": false
        },
        {
          "line": 4587,
          "old_api": null,
          "new_api": "initPQExpBuffer",
          "old_text": null,
          "new_text": "initPQExpBuffer(&namebuf)",
          "old_line_content": "\t\tcastinfo[i].dobj.name = namebuf.data;",
          "new_line_content": "\t\tinitPQExpBuffer(&namebuf);",
          "content_same": false
        },
        {
          "line": 4588,
          "old_api": null,
          "new_api": "findTypeByOid",
          "old_text": null,
          "new_text": "findTypeByOid(castinfo[i].castsource)",
          "old_line_content": "",
          "new_line_content": "\t\tsTypeInfo = findTypeByOid(castinfo[i].castsource);",
          "content_same": false
        },
        {
          "line": 4591,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(&namebuf, \"%s %s\",\n\t\t\t\t\t\t\t  sTypeInfo->dobj.name, tTypeInfo->dobj.name)",
          "old_line_content": "\t\t\t/*",
          "new_line_content": "\t\t\tappendPQExpBuffer(&namebuf, \"%s %s\",",
          "content_same": false
        },
        {
          "line": 4595,
          "old_api": null,
          "new_api": "OidIsValid",
          "old_text": null,
          "new_text": "OidIsValid(castinfo[i].castfunc)",
          "old_line_content": "\t\t\t */",
          "new_line_content": "\t\tif (OidIsValid(castinfo[i].castfunc))",
          "content_same": false
        },
        {
          "line": 4604,
          "old_api": null,
          "new_api": "findFuncByOid",
          "old_text": null,
          "new_text": "findFuncByOid(castinfo[i].castfunc)",
          "old_line_content": "",
          "new_line_content": "\t\t\tfuncInfo = findFuncByOid(castinfo[i].castfunc);",
          "content_same": false
        },
        {
          "line": 4606,
          "old_api": null,
          "new_api": "addObjectDependency",
          "old_text": null,
          "new_text": "addObjectDependency(&castinfo[i].dobj,\n\t\t\t\t\t\t\t\t\tfuncInfo->dobj.dumpId)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\taddObjectDependency(&castinfo[i].dobj,",
          "content_same": false
        },
        {
          "line": 4611,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 4613,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * getTableAttrs -",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 4636,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tint\t\t\ti_attstorage;",
          "new_line_content": "\tPQExpBuffer q = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 4670,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(tbinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t * we will use the attnum to index into the attnames array later.  We",
          "new_line_content": "\t\tselectSourceSchema(tbinfo->dobj.namespace->dobj.name);",
          "content_same": false
        },
        {
          "line": 4682,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"finding the columns and types of table \\\"%s\\\"\\n\",\n\t\t\t\t\t  tbinfo->dobj.name)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\twrite_msg(NULL, \"finding the columns and types of table \\\"%s\\\"\\n\",",
          "content_same": false
        },
        {
          "line": 4685,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(q)",
          "old_line_content": "\t\t\t\t\t\t\t\t \"a.attstattarget, a.attstorage, t.typstorage, \"",
          "new_line_content": "\t\tresetPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 4690,
          "old_api": null,
          "new_api": "format_type",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"SELECT a.attnum, a.attname, a.atttypmod, \"\n\t\t\t\t\t\t\t\t \"a.attstattarget, a.attstorage, t.typstorage, \"\n\t\t\t\t  \t\t\t\t \"a.attnotnull, a.atthasdef, a.attisdropped, \"\n\t\t\t\t  \t\t\t\t \"a.attlen, a.attalign, a.attislocal, \"\n\t\t\t\t   \"pg_catalog.format_type(t.oid,a.atttypmod) AS atttypname \"\n\t\t\t \"FROM pg_catalog.pg_attribute a LEFT JOIN pg_catalog.pg_type t \"\n\t\t\t\t\t\t\t  \"ON a.atttypid = t.oid \"\n\t\t\t\t\t\t\t  \"WHERE a.attrelid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t\t  \"AND a.attnum > 0::pg_catalog.int2 \"\n\t\t\t\t\t\t\t  \"ORDER BY a.attrelid, a.attnum\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t\t  \"ON a.atttypid = t.oid \"",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \"SELECT a.attnum, a.attname, a.atttypmod, \"",
          "content_same": false
        },
        {
          "line": 4709,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"SELECT a.attnum, a.attname, \"\n\t\t\t\t\t\t\t  \"a.atttypmod, -1 AS attstattarget, a.attstorage, \"\n\t\t\t\t\t\t\t  \"t.typstorage, a.attnotnull, a.atthasdef, \"\n\t\t\t\t\t\t\t  \"false AS attisdropped, 0 AS attlen, \"\n\t\t\t\t\t\t\t  \"' ' AS attalign, false AS attislocal, \"\n\t\t\t\t\t\t\t  \"format_type(t.oid,a.atttypmod) AS atttypname \"\n\t\t\t\t\t\t\t  \"FROM pg_attribute a LEFT JOIN pg_type t \"\n\t\t\t\t\t\t\t  \"ON a.atttypid = t.oid \"\n\t\t\t\t\t\t\t  \"WHERE a.attrelid = '%u'::oid \"\n\t\t\t\t\t\t\t  \"AND a.attnum > 0::int2 \"\n\t\t\t\t\t\t\t  \"ORDER BY a.attrelid, a.attnum\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t\t  \"FROM pg_attribute a LEFT JOIN pg_type t \"",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \"SELECT a.attnum, a.attname, \"",
          "content_same": false
        },
        {
          "line": 4725,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"SELECT attnum, attname, atttypmod, \"\n\t\t\t\t\t\t\t  \"-1 AS attstattarget, attstorage, \"\n\t\t\t\t\t\t\t  \"attstorage AS typstorage, \"\n\t\t\t\t\t\t\t  \"attnotnull, atthasdef, false AS attisdropped, \"\n\t\t\t\t\t\t\t  \"0 AS attlen, ' ' AS attalign, \"\n \t\t\t\t\t\t\t  \"false AS attislocal, \"\n\t\t\t\t\t\t\t  \"(SELECT typname FROM pg_type WHERE oid = atttypid) AS atttypname \"\n\t\t\t\t\t\t\t  \"FROM pg_attribute a \"\n\t\t\t\t\t\t\t  \"WHERE attrelid = '%u'::oid \"\n\t\t\t\t\t\t\t  \"AND attnum > 0::int2 \"\n\t\t\t\t\t\t\t  \"ORDER BY attrelid, attnum\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t\t  \"(SELECT typname FROM pg_type WHERE oid = atttypid) AS atttypname \"",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \"SELECT attnum, attname, atttypmod, \"",
          "content_same": false
        },
        {
          "line": 4751,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"attnotnull\")",
          "old_line_content": "",
          "new_line_content": "\t\ti_attnotnull = PQfnumber(res, \"attnotnull\");",
          "content_same": false
        },
        {
          "line": 4752,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"atthasdef\")",
          "old_line_content": "\t\ttbinfo->numatts = ntups;",
          "new_line_content": "\t\ti_atthasdef = PQfnumber(res, \"atthasdef\");",
          "content_same": false
        },
        {
          "line": 4768,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(ntups * sizeof(bool))",
          "old_line_content": "\t\thasdefaults = false;",
          "new_line_content": "\t\ttbinfo->attislocal = (bool *) malloc(ntups * sizeof(bool));",
          "content_same": false
        },
        {
          "line": 4769,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(ntups * sizeof(bool))",
          "old_line_content": "",
          "new_line_content": "\t\ttbinfo->notnull = (bool *) malloc(ntups * sizeof(bool));",
          "content_same": false
        },
        {
          "line": 4770,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(ntups * sizeof(AttrDefInfo *))",
          "old_line_content": "\t\tfor (j = 0; j < ntups; j++)",
          "new_line_content": "\t\ttbinfo->attrdefs = (AttrDefInfo **) malloc(ntups * sizeof(AttrDefInfo *));",
          "content_same": false
        },
        {
          "line": 4771,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(ntups * sizeof(bool))",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\ttbinfo->inhAttrs = (bool *) malloc(ntups * sizeof(bool));",
          "content_same": false
        },
        {
          "line": 4773,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(ntups * sizeof(bool))",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\ttbinfo->inhNotNull = (bool *) malloc(ntups * sizeof(bool));",
          "content_same": false
        },
        {
          "line": 4789,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_typstorage)",
          "old_line_content": "\t\t\ttbinfo->attrdefs[j] = NULL; /* fix below */",
          "new_line_content": "\t\t\ttbinfo->typstorage[j] = *(PQgetvalue(res, j, i_typstorage));",
          "content_same": false
        },
        {
          "line": 4791,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_attlen)",
          "old_line_content": "\t\t\t\thasdefaults = true;",
          "new_line_content": "\t\t\ttbinfo->attlen[j] = atoi(PQgetvalue(res, j, i_attlen));",
          "content_same": false
        },
        {
          "line": 4792,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_attalign)",
          "old_line_content": "\t\t\t/* these flags will be set in flagInhAttrs() */",
          "new_line_content": "\t\t\ttbinfo->attalign[j] = *(PQgetvalue(res, j, i_attalign));",
          "content_same": false
        },
        {
          "line": 4793,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_attislocal)",
          "old_line_content": "\t\t\ttbinfo->inhAttrs[j] = false;",
          "new_line_content": "\t\t\ttbinfo->attislocal[j] = (PQgetvalue(res, j, i_attislocal)[0] == 't');",
          "content_same": false
        },
        {
          "line": 4794,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_attnotnull)",
          "old_line_content": "\t\t\ttbinfo->inhAttrDef[j] = false;",
          "new_line_content": "\t\t\ttbinfo->notnull[j] = (PQgetvalue(res, j, i_attnotnull)[0] == 't');",
          "content_same": false
        },
        {
          "line": 4796,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, i_atthasdef)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tif (PQgetvalue(res, j, i_atthasdef)[0] == 't')",
          "content_same": false
        },
        {
          "line": 4804,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "\t\t *\tcolumn.",
          "new_line_content": "\t\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 4817,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(\"TEXT\")",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\t\t\t\ttbinfo->atttypnames[j] = strdup(\"TEXT\");",
          "content_same": false
        },
        {
          "line": 4833,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(q)",
          "old_line_content": "\t\t\t\t\t\t\t\t  \"WHERE adrelid = '%u'::pg_catalog.oid\",",
          "new_line_content": "\t\t\tresetPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 4836,
          "old_api": null,
          "new_api": "pg_get_expr",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"SELECT tableoid, oid, adnum, \"\n\t\t\t\t\t\t   \"pg_catalog.pg_get_expr(adbin, adrelid) AS adsrc \"\n\t\t\t\t\t\t\t\t  \"FROM pg_catalog.pg_attrdef \"\n\t\t\t\t\t\t\t\t  \"WHERE adrelid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\telse if (g_fout->remoteVersion >= 70200)",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(q, \"SELECT tableoid, oid, adnum, \"",
          "content_same": false
        },
        {
          "line": 4845,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"SELECT tableoid, 0 AS oid, adnum, \"\n\t\t\t\t\t\t\t\t  \"pg_get_expr(adbin, adrelid) AS adsrc \"\n\t\t\t\t\t\t\t\t  \"FROM pg_attrdef \"\n\t\t\t\t\t\t\t\t  \"WHERE adrelid = '%u'::oid\",\n\t\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\telse if (g_fout->remoteVersion >= 70100)",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(q, \"SELECT tableoid, 0 AS oid, adnum, \"",
          "content_same": false
        },
        {
          "line": 4854,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"SELECT tableoid, oid, adnum, adsrc \"\n\t\t\t\t\t\t\t\t  \"FROM pg_attrdef \"\n\t\t\t\t\t\t\t\t  \"WHERE adrelid = '%u'::oid\",\n\t\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(q, \"SELECT tableoid, oid, adnum, adsrc \"",
          "content_same": false
        },
        {
          "line": 4862,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"SELECT \"\n\t\t\t\t\t\t\t\t  \"(SELECT oid FROM pg_class WHERE relname = 'pg_attrdef') AS tableoid, \"\n\t\t\t\t\t\t\t\t  \"oid, adnum, adsrc \"\n\t\t\t\t\t\t\t\t  \"FROM pg_attrdef \"\n\t\t\t\t\t\t\t\t  \"WHERE adrelid = '%u'::oid\",\n\t\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(q, \"SELECT \"",
          "content_same": false
        },
        {
          "line": 4869,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, q->data)",
          "old_line_content": "\t\t\tfor (j = 0; j < numDefaults; j++)",
          "new_line_content": "\t\t\tres = PQexec(g_conn, q->data);",
          "content_same": false
        },
        {
          "line": 4870,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res, g_conn, q->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\t\tcheck_sql_result(res, g_conn, q->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 4872,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "",
          "new_line_content": "\t\t\tnumDefaults = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 4873,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(numDefaults * sizeof(AttrDefInfo))",
          "old_line_content": "\t\t\t\tattrdefs[j].dobj.objType = DO_ATTRDEF;",
          "new_line_content": "\t\t\tattrdefs = (AttrDefInfo *) malloc(numDefaults * sizeof(AttrDefInfo));",
          "content_same": false
        },
        {
          "line": 4880,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, 0)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tattrdefs[j].dobj.catId.tableoid = atooid(PQgetvalue(res, j, 0));",
          "content_same": false
        },
        {
          "line": 4882,
          "old_api": null,
          "new_api": "AssignDumpId",
          "old_text": null,
          "new_text": "AssignDumpId(&attrdefs[j].dobj)",
          "old_line_content": "\t\t\t\tattrdefs[j].dobj.namespace = tbinfo->dobj.namespace;",
          "new_line_content": "\t\t\t\tAssignDumpId(&attrdefs[j].dobj);",
          "content_same": false
        },
        {
          "line": 4884,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, 2)",
          "old_line_content": "\t\t\t\tattrdefs[j].dobj.dump = tbinfo->dobj.dump;",
          "new_line_content": "\t\t\t\tattrdefs[j].adnum = adnum = atoi(PQgetvalue(res, j, 2));",
          "content_same": false
        },
        {
          "line": 4885,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, 3)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tattrdefs[j].adef_expr = strdup(PQgetvalue(res, j, 3));",
          "content_same": false
        },
        {
          "line": 4887,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(tbinfo->dobj.name)",
          "old_line_content": "\t\t\t\t * Defaults on a VIEW must always be dumped as separate ALTER",
          "new_line_content": "\t\t\t\tattrdefs[j].dobj.name = strdup(tbinfo->dobj.name);",
          "content_same": false
        },
        {
          "line": 4917,
          "old_api": null,
          "new_api": "exit_nicely",
          "old_text": null,
          "new_text": "exit_nicely()",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 4921,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "\t\tif (tbinfo->ncheck > 0)",
          "new_line_content": "\t\t\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 4936,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(q)",
          "old_line_content": "\t\t\t\t\t\t\t\t  \"FROM pg_catalog.pg_constraint \"",
          "new_line_content": "\t\t\tresetPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 4939,
          "old_api": null,
          "new_api": "pg_get_constraintdef",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"SELECT tableoid, oid, conname, \"\n\t\t\t\t\t\t\t\"pg_catalog.pg_get_constraintdef(oid) AS consrc, \"\n\t\t\t\t\t\t\t\t  \"conislocal \"\n\t\t\t\t\t\t\t\t  \"FROM pg_catalog.pg_constraint \"\n\t\t\t\t\t\t\t\t  \"WHERE conrelid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t\t\t  \"   AND contype = 'c' \"\n\t\t\t\t\t\t\t\t  \"ORDER BY conname\",\n\t\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t\t\t  \"ORDER BY conname\",",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(q, \"SELECT tableoid, oid, conname, \"",
          "content_same": false
        },
        {
          "line": 4950,
          "old_api": null,
          "new_api": "pg_get_constraintdef",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"SELECT tableoid, oid, conname, \"\n\t\t\t\t\t\t\t\"pg_catalog.pg_get_constraintdef(oid) AS consrc, \"\n\t\t\t\t\t\t\t\t  \"true AS conislocal \"\n\t\t\t\t\t\t\t\t  \"FROM pg_catalog.pg_constraint \"\n\t\t\t\t\t\t\t\t  \"WHERE conrelid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t\t\t  \"   AND contype = 'c' \"\n\t\t\t\t\t\t\t\t  \"ORDER BY conname\",\n\t\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t\t\t  \"ORDER BY conname\",",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(q, \"SELECT tableoid, oid, conname, \"",
          "content_same": false
        },
        {
          "line": 4962,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"SELECT tableoid, oid, conname, \"\n\t\t\t\t\t\t\t\t  \"'CHECK (' || consrc || ')' AS consrc, \"\n\t\t\t\t\t\t\t\t  \"true AS conislocal \"\n\t\t\t\t\t\t\t\t  \"FROM pg_catalog.pg_constraint \"\n\t\t\t\t\t\t\t\t  \"WHERE conrelid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t\t\t  \"   AND contype = 'c' \"\n\t\t\t\t\t\t\t\t  \"ORDER BY conname\",\n\t\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t\t\t  \"ORDER BY conname\",",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(q, \"SELECT tableoid, oid, conname, \"",
          "content_same": false
        },
        {
          "line": 4974,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"SELECT tableoid, 0 AS oid, \"\n\t\t\t\t\t\t\t\t  \"rcname AS conname, \"\n\t\t\t\t\t\t\t\t  \"'CHECK (' || rcsrc || ')' AS consrc, \"\n\t\t\t\t\t\t\t\t  \"true AS conislocal \"\n\t\t\t\t\t\t\t\t  \"FROM pg_relcheck \"\n\t\t\t\t\t\t\t\t  \"WHERE rcrelid = '%u'::oid \"\n\t\t\t\t\t\t\t\t  \"ORDER BY rcname\",\n\t\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t\t\t  \"ORDER BY rcname\",",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(q, \"SELECT tableoid, 0 AS oid, \"",
          "content_same": false
        },
        {
          "line": 4985,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"SELECT tableoid, oid, \"\n\t\t\t\t\t\t\t\t  \"rcname AS conname, \"\n\t\t\t\t\t\t\t\t  \"'CHECK (' || rcsrc || ')' AS consrc, \"\n\t\t\t\t\t\t\t\t  \"true AS conislocal \"\n\t\t\t\t\t\t\t\t  \"FROM pg_relcheck \"\n\t\t\t\t\t\t\t\t  \"WHERE rcrelid = '%u'::oid \"\n\t\t\t\t\t\t\t\t  \"ORDER BY rcname\",\n\t\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t\t\t  \"ORDER BY rcname\",",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(q, \"SELECT tableoid, oid, \"",
          "content_same": false
        },
        {
          "line": 4997,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"SELECT \"\n\t\t\t\t\t\t\t\t  \"(SELECT oid FROM pg_class WHERE relname = 'pg_relcheck') AS tableoid, \"\n\t\t\t\t\t\t\t\t  \"oid, rcname AS conname, \"\n\t\t\t\t\t\t\t\t  \"'CHECK (' || rcsrc || ')' AS consrc, \"\n\t\t\t\t\t\t\t\t  \"true AS conislocal \"\n\t\t\t\t\t\t\t\t  \"FROM pg_relcheck \"\n\t\t\t\t\t\t\t\t  \"WHERE rcrelid = '%u'::oid \"\n\t\t\t\t\t\t\t\t  \"ORDER BY rcname\",\n\t\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t\t\t  \"WHERE rcrelid = '%u'::oid \"",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(q, \"SELECT \"",
          "content_same": false
        },
        {
          "line": 5008,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res, g_conn, q->data, PGRES_TUPLES_OK)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t \"expected %d check constraints on table \\\"%s\\\" but found %d\\n\",",
          "new_line_content": "\t\t\tcheck_sql_result(res, g_conn, q->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 5010,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "\t\t\t\t\t\t  tbinfo->ncheck, tbinfo->dobj.name, numConstrs);",
          "new_line_content": "\t\t\tnumConstrs = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 5013,
          "old_api": null,
          "new_api": "ngettext",
          "old_text": null,
          "new_text": "ngettext(\"expected %d check constraint on table \\\"%s\\\" but found %d\\n\",\n\t\t\t\t\t\t\t\t\t\t \"expected %d check constraints on table \\\"%s\\\" but found %d\\n\",\n\t\t\t\t\t\t\t\t\t\t tbinfo->ncheck)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\twrite_msg(NULL, ngettext(\"expected %d check constraint on table \\\"%s\\\" but found %d\\n\",",
          "content_same": false
        },
        {
          "line": 5017,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"(The system catalogs might be corrupted.)\\n\")",
          "old_line_content": "",
          "new_line_content": "\t\t\t\twrite_msg(NULL, \"(The system catalogs might be corrupted.)\\n\");",
          "content_same": false
        },
        {
          "line": 5018,
          "old_api": null,
          "new_api": "exit_nicely",
          "old_text": null,
          "new_text": "exit_nicely()",
          "old_line_content": "\t\t\tfor (j = 0; j < numConstrs; j++)",
          "new_line_content": "\t\t\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 5027,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, 0)",
          "old_line_content": "\t\t\t\tconstrs[j].condomain = NULL;",
          "new_line_content": "\t\t\t\tconstrs[j].dobj.catId.tableoid = atooid(PQgetvalue(res, j, 0));",
          "content_same": false
        },
        {
          "line": 5028,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, 1)",
          "old_line_content": "\t\t\t\tconstrs[j].contype = 'c';",
          "new_line_content": "\t\t\t\tconstrs[j].dobj.catId.oid = atooid(PQgetvalue(res, j, 1));",
          "content_same": false
        },
        {
          "line": 5030,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, 2)",
          "old_line_content": "\t\t\t\tconstrs[j].confrelid = InvalidOid;",
          "new_line_content": "\t\t\t\tconstrs[j].dobj.name = strdup(PQgetvalue(res, j, 2));",
          "content_same": false
        },
        {
          "line": 5035,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, 3)",
          "old_line_content": "\t\t\t\tconstrs[j].dobj.dump = tbinfo->dobj.dump;",
          "new_line_content": "\t\t\t\tconstrs[j].condef = strdup(PQgetvalue(res, j, 3));",
          "content_same": false
        },
        {
          "line": 5038,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, j, 4)",
          "old_line_content": "\t\t\t\t * Mark the constraint as needing to appear before the table",
          "new_line_content": "\t\t\t\tconstrs[j].conislocal = (PQgetvalue(res, j, 4)[0] == 't');",
          "content_same": false
        },
        {
          "line": 5049,
          "old_api": null,
          "new_api": "addObjectDependency",
          "old_text": null,
          "new_text": "addObjectDependency(&tbinfo->dobj,\n\t\t\t\t\t\t\t\t\tconstrs[j].dobj.dumpId)",
          "old_line_content": "\t\t\t\t * constraint must be split out from the table definition.",
          "new_line_content": "\t\t\t\taddObjectDependency(&tbinfo->dobj,",
          "content_same": false
        },
        {
          "line": 5058,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "",
          "new_line_content": "\t\t\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 5062,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": " *\t  read all text search parsers in the system catalogs and return them",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 5079,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tint\t\t\ti_prsstart;",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 5104,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(\"pg_catalog\")",
          "old_line_content": "",
          "new_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 5112,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 5122,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"prsnamespace\")",
          "old_line_content": "",
          "new_line_content": "\ti_prsnamespace = PQfnumber(res, \"prsnamespace\");",
          "content_same": false
        },
        {
          "line": 5123,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"prsstart\")",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\ti_prsstart = PQfnumber(res, \"prsstart\");",
          "content_same": false
        },
        {
          "line": 5124,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"prstoken\")",
          "old_line_content": "\t{",
          "new_line_content": "\ti_prstoken = PQfnumber(res, \"prstoken\");",
          "content_same": false
        },
        {
          "line": 5125,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"prsend\")",
          "old_line_content": "\t\tprsinfo[i].dobj.objType = DO_TSPARSER;",
          "new_line_content": "\ti_prsend = PQfnumber(res, \"prsend\");",
          "content_same": false
        },
        {
          "line": 5138,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_prsstart)",
          "old_line_content": "\t\t/* Decide whether we want to dump it */",
          "new_line_content": "\t\tprsinfo[i].prsstart = atooid(PQgetvalue(res, i, i_prsstart));",
          "content_same": false
        },
        {
          "line": 5140,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_prsend)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tprsinfo[i].prsend = atooid(PQgetvalue(res, i, i_prsend));",
          "content_same": false
        },
        {
          "line": 5141,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_prsheadline)",
          "old_line_content": "",
          "new_line_content": "\t\tprsinfo[i].prsheadline = atooid(PQgetvalue(res, i, i_prsheadline));",
          "content_same": false
        },
        {
          "line": 5145,
          "old_api": null,
          "new_api": "selectDumpableObject",
          "old_text": null,
          "new_text": "selectDumpableObject(&(prsinfo[i].dobj))",
          "old_line_content": "",
          "new_line_content": "\t\tselectDumpableObject(&(prsinfo[i].dobj));",
          "content_same": false
        },
        {
          "line": 5148,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 5150,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * getTSDictionaries:",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 5168,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tint\t\t\ti_rolname;",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 5186,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(\"pg_catalog\")",
          "old_line_content": "\t\t\t\t\t  username_subquery);",
          "new_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 5195,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 5203,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"oid\")",
          "old_line_content": "",
          "new_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "content_same": false
        },
        {
          "line": 5204,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"dictname\")",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\ti_dictname = PQfnumber(res, \"dictname\");",
          "content_same": false
        },
        {
          "line": 5205,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"dictnamespace\")",
          "old_line_content": "\t{",
          "new_line_content": "\ti_dictnamespace = PQfnumber(res, \"dictnamespace\");",
          "content_same": false
        },
        {
          "line": 5206,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"rolname\")",
          "old_line_content": "\t\tdictinfo[i].dobj.objType = DO_TSDICT;",
          "new_line_content": "\ti_rolname = PQfnumber(res, \"rolname\");",
          "content_same": false
        },
        {
          "line": 5216,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_dictname)",
          "old_line_content": "\t\t\tdictinfo[i].dictinitoption = NULL;",
          "new_line_content": "\t\tdictinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_dictname));",
          "content_same": false
        },
        {
          "line": 5217,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_dictnamespace)",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\tdictinfo[i].dobj.namespace = findNamespace(atooid(PQgetvalue(res, i, i_dictnamespace)),",
          "content_same": false
        },
        {
          "line": 5219,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_rolname)",
          "old_line_content": "",
          "new_line_content": "\t\tdictinfo[i].rolname = strdup(PQgetvalue(res, i, i_rolname));",
          "content_same": false
        },
        {
          "line": 5220,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_dicttemplate)",
          "old_line_content": "\t\t/* Decide whether we want to dump it */",
          "new_line_content": "\t\tdictinfo[i].dicttemplate = atooid(PQgetvalue(res, i, i_dicttemplate));",
          "content_same": false
        },
        {
          "line": 5227,
          "old_api": null,
          "new_api": "selectDumpableObject",
          "old_text": null,
          "new_text": "selectDumpableObject(&(dictinfo[i].dobj))",
          "old_line_content": "",
          "new_line_content": "\t\tselectDumpableObject(&(dictinfo[i].dobj));",
          "content_same": false
        },
        {
          "line": 5230,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 5232,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * getTSTemplates:",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 5250,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tint\t\t\ti_tmplinit;",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 5269,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, tmplname, \"\n\t\t\t\t\t  \"tmplnamespace, tmplinit::oid, tmpllexize::oid \"\n\t\t\t\t\t  \"FROM pg_ts_template\")",
          "old_line_content": "",
          "new_line_content": "\tappendPQExpBuffer(query, \"SELECT tableoid, oid, tmplname, \"",
          "content_same": false
        },
        {
          "line": 5274,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 5281,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"tableoid\")",
          "old_line_content": "",
          "new_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "content_same": false
        },
        {
          "line": 5282,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"oid\")",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "content_same": false
        },
        {
          "line": 5283,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"tmplname\")",
          "old_line_content": "\t{",
          "new_line_content": "\ti_tmplname = PQfnumber(res, \"tmplname\");",
          "content_same": false
        },
        {
          "line": 5284,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"tmplnamespace\")",
          "old_line_content": "\t\ttmplinfo[i].dobj.objType = DO_TSTEMPLATE;",
          "new_line_content": "\ti_tmplnamespace = PQfnumber(res, \"tmplnamespace\");",
          "content_same": false
        },
        {
          "line": 5293,
          "old_api": null,
          "new_api": "AssignDumpId",
          "old_text": null,
          "new_text": "AssignDumpId(&tmplinfo[i].dobj)",
          "old_line_content": "",
          "new_line_content": "\t\tAssignDumpId(&tmplinfo[i].dobj);",
          "content_same": false
        },
        {
          "line": 5294,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_tmplname)",
          "old_line_content": "\t\t/* Decide whether we want to dump it */",
          "new_line_content": "\t\ttmplinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_tmplname));",
          "content_same": false
        },
        {
          "line": 5297,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_tmplinit)",
          "old_line_content": "",
          "new_line_content": "\t\ttmplinfo[i].tmplinit = atooid(PQgetvalue(res, i, i_tmplinit));",
          "content_same": false
        },
        {
          "line": 5301,
          "old_api": null,
          "new_api": "selectDumpableObject",
          "old_text": null,
          "new_text": "selectDumpableObject(&(tmplinfo[i].dobj))",
          "old_line_content": "",
          "new_line_content": "\t\tselectDumpableObject(&(tmplinfo[i].dobj));",
          "content_same": false
        },
        {
          "line": 5304,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 5306,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * getTSConfigurations:",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 5324,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tint\t\t\ti_rolname;",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 5341,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(\"pg_catalog\")",
          "old_line_content": "",
          "new_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 5349,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 5356,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"tableoid\")",
          "old_line_content": "",
          "new_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "content_same": false
        },
        {
          "line": 5357,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"oid\")",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "content_same": false
        },
        {
          "line": 5358,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"cfgname\")",
          "old_line_content": "\t{",
          "new_line_content": "\ti_cfgname = PQfnumber(res, \"cfgname\");",
          "content_same": false
        },
        {
          "line": 5359,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"cfgnamespace\")",
          "old_line_content": "\t\tcfginfo[i].dobj.objType = DO_TSCONFIG;",
          "new_line_content": "\ti_cfgnamespace = PQfnumber(res, \"cfgnamespace\");",
          "content_same": false
        },
        {
          "line": 5368,
          "old_api": null,
          "new_api": "AssignDumpId",
          "old_text": null,
          "new_text": "AssignDumpId(&cfginfo[i].dobj)",
          "old_line_content": "",
          "new_line_content": "\t\tAssignDumpId(&cfginfo[i].dobj);",
          "content_same": false
        },
        {
          "line": 5369,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_cfgname)",
          "old_line_content": "\t\t/* Decide whether we want to dump it */",
          "new_line_content": "\t\tcfginfo[i].dobj.name = strdup(PQgetvalue(res, i, i_cfgname));",
          "content_same": false
        },
        {
          "line": 5372,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_rolname)",
          "old_line_content": "",
          "new_line_content": "\t\tcfginfo[i].rolname = strdup(PQgetvalue(res, i, i_rolname));",
          "content_same": false
        },
        {
          "line": 5376,
          "old_api": null,
          "new_api": "selectDumpableObject",
          "old_text": null,
          "new_text": "selectDumpableObject(&(cfginfo[i].dobj))",
          "old_line_content": "",
          "new_line_content": "\t\tselectDumpableObject(&(cfginfo[i].dobj));",
          "content_same": false
        },
        {
          "line": 5379,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 5381,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * getForeignDataWrappers:",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 5399,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tint\t\t\ti_fdwacl;",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 5416,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(\"pg_catalog\")",
          "old_line_content": "\t\t\t\t\t  \"\t\tFROM pg_options_to_table(fdwoptions)), ', ') AS fdwoptions \"",
          "new_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 5418,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT oid, fdwname, \"\n\t\t\t\t\t  \"(%s fdwowner) AS rolname, fdwvalidator::pg_catalog.regproc, fdwacl,\"\n\t\t\t\t\t  \"array_to_string(ARRAY(\"\n\t\t\t\t\t  \"\t\tSELECT option_name || ' ' || quote_literal(option_value) \"\n\t\t\t\t\t  \"\t\tFROM pg_options_to_table(fdwoptions)), ', ') AS fdwoptions \"\n\t\t\t\t\t  \"FROM pg_foreign_data_wrapper\",\n\t\t\t\t\t  username_subquery)",
          "old_line_content": "\t\t\t\t\t  username_subquery);",
          "new_line_content": "\tappendPQExpBuffer(query, \"SELECT oid, fdwname, \"",
          "content_same": false
        },
        {
          "line": 5427,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 5434,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"oid\")",
          "old_line_content": "",
          "new_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "content_same": false
        },
        {
          "line": 5435,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"fdwname\")",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\ti_fdwname = PQfnumber(res, \"fdwname\");",
          "content_same": false
        },
        {
          "line": 5436,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"rolname\")",
          "old_line_content": "\t{",
          "new_line_content": "\ti_rolname = PQfnumber(res, \"rolname\");",
          "content_same": false
        },
        {
          "line": 5437,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"fdwvalidator\")",
          "old_line_content": "\t\tfdwinfo[i].dobj.objType = DO_FDW;",
          "new_line_content": "\ti_fdwvalidator = PQfnumber(res, \"fdwvalidator\");",
          "content_same": false
        },
        {
          "line": 5446,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_fdwname)",
          "old_line_content": "",
          "new_line_content": "\t\tfdwinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_fdwname));",
          "content_same": false
        },
        {
          "line": 5448,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_rolname)",
          "old_line_content": "\t\t/* Decide whether we want to dump it */",
          "new_line_content": "\t\tfdwinfo[i].rolname = strdup(PQgetvalue(res, i, i_rolname));",
          "content_same": false
        },
        {
          "line": 5450,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_fdwoptions)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tfdwinfo[i].fdwoptions = strdup(PQgetvalue(res, i, i_fdwoptions));",
          "content_same": false
        },
        {
          "line": 5451,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_fdwacl)",
          "old_line_content": "",
          "new_line_content": "\t\tfdwinfo[i].fdwacl = strdup(PQgetvalue(res, i, i_fdwacl));",
          "content_same": false
        },
        {
          "line": 5455,
          "old_api": null,
          "new_api": "selectDumpableObject",
          "old_text": null,
          "new_text": "selectDumpableObject(&(fdwinfo[i].dobj))",
          "old_line_content": "",
          "new_line_content": "\t\tselectDumpableObject(&(fdwinfo[i].dobj));",
          "content_same": false
        },
        {
          "line": 5458,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 5460,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * getForeignServers:",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 5478,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tint\t\t\ti_srvtype;",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 5497,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(\"pg_catalog\")",
          "old_line_content": "\t\t\t\t\t  \"\t\tSELECT option_name || ' ' || quote_literal(option_value) \"",
          "new_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "content_same": false
        },
        {
          "line": 5499,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT oid, srvname, \"\n\t\t\t\t\t  \"(%s srvowner) AS rolname, \"\n\t\t\t\t\t  \"srvfdw, srvtype, srvversion, srvacl,\"\n\t\t\t\t\t  \"array_to_string(ARRAY(\"\n\t\t\t\t\t  \"\t\tSELECT option_name || ' ' || quote_literal(option_value) \"\n\t\t\t\t\t  \"\t\tFROM pg_options_to_table(srvoptions)), ', ') AS srvoptions \"\n\t\t\t\t\t  \"FROM pg_foreign_server\",\n\t\t\t\t\t  username_subquery)",
          "old_line_content": "\t\t\t\t\t  \"FROM pg_foreign_server\",",
          "new_line_content": "\tappendPQExpBuffer(query, \"SELECT oid, srvname, \"",
          "content_same": false
        },
        {
          "line": 5509,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "old_line_content": "",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 5518,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"rolname\")",
          "old_line_content": "",
          "new_line_content": "\ti_rolname = PQfnumber(res, \"rolname\");",
          "content_same": false
        },
        {
          "line": 5519,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"srvfdw\")",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\ti_srvfdw = PQfnumber(res, \"srvfdw\");",
          "content_same": false
        },
        {
          "line": 5520,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"srvtype\")",
          "old_line_content": "\t{",
          "new_line_content": "\ti_srvtype = PQfnumber(res, \"srvtype\");",
          "content_same": false
        },
        {
          "line": 5521,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"srvversion\")",
          "old_line_content": "\t\tsrvinfo[i].dobj.objType = DO_FOREIGN_SERVER;",
          "new_line_content": "\ti_srvversion = PQfnumber(res, \"srvversion\");",
          "content_same": false
        },
        {
          "line": 5532,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_rolname)",
          "old_line_content": "",
          "new_line_content": "\t\tsrvinfo[i].rolname = strdup(PQgetvalue(res, i, i_rolname));",
          "content_same": false
        },
        {
          "line": 5533,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_srvfdw)",
          "old_line_content": "\t\t/* Decide whether we want to dump it */",
          "new_line_content": "\t\tsrvinfo[i].srvfdw = atooid(PQgetvalue(res, i, i_srvfdw));",
          "content_same": false
        },
        {
          "line": 5535,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_srvversion)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tsrvinfo[i].srvversion = strdup(PQgetvalue(res, i, i_srvversion));",
          "content_same": false
        },
        {
          "line": 5536,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_srvoptions)",
          "old_line_content": "",
          "new_line_content": "\t\tsrvinfo[i].srvoptions = strdup(PQgetvalue(res, i, i_srvoptions));",
          "content_same": false
        },
        {
          "line": 5540,
          "old_api": null,
          "new_api": "selectDumpableObject",
          "old_text": null,
          "new_text": "selectDumpableObject(&(srvinfo[i].dobj))",
          "old_line_content": "",
          "new_line_content": "\t\tselectDumpableObject(&(srvinfo[i].dobj));",
          "content_same": false
        },
        {
          "line": 5543,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 5545,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " * dumpComment --",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 5581,
          "old_api": null,
          "new_api": "findComments",
          "old_text": null,
          "new_text": "findComments(fout, catalogId.tableoid, catalogId.oid,\n\t\t\t\t\t\t\t &comments)",
          "old_line_content": "\t\tif (comments->objsubid == subid)",
          "new_line_content": "\tncomments = findComments(fout, catalogId.tableoid, catalogId.oid,",
          "content_same": false
        },
        {
          "line": 5596,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t/*",
          "new_line_content": "\t\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 5598,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"COMMENT ON %s IS \", target)",
          "old_line_content": "\t\t * in the same section as their parent, whether that is",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"COMMENT ON %s IS \", target);",
          "content_same": false
        },
        {
          "line": 5599,
          "old_api": null,
          "new_api": "appendStringLiteralAH",
          "old_text": null,
          "new_text": "appendStringLiteralAH(query, comments->descr, fout)",
          "old_line_content": "\t\t * pre-data or post-data.",
          "new_line_content": "\t\tappendStringLiteralAH(query, comments->descr, fout);",
          "content_same": false
        },
        {
          "line": 5600,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \";\\n\")",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\tappendPQExpBuffer(query, \";\\n\");",
          "content_same": false
        },
        {
          "line": 5607,
          "old_api": null,
          "new_api": "createDumpId",
          "old_text": null,
          "new_text": "createDumpId()",
          "old_line_content": "",
          "new_line_content": "\t\tArchiveEntry(fout, nilCatalogId, createDumpId(),",
          "content_same": false
        },
        {
          "line": 5614,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " *",
          "new_line_content": "\t\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 5638,
          "old_api": null,
          "new_api": "findComments",
          "old_text": null,
          "new_text": "findComments(fout,\n\t\t\t\t\t\t\t tbinfo->dobj.catId.tableoid,\n\t\t\t\t\t\t\t tbinfo->dobj.catId.oid,\n\t\t\t\t\t\t\t &comments)",
          "old_line_content": "\tif (ncomments <= 0)",
          "new_line_content": "\tncomments = findComments(fout,",
          "content_same": false
        },
        {
          "line": 5647,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\tint\t\t\tobjsubid = comments->objsubid;",
          "new_line_content": "\tquery = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 5648,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "",
          "new_line_content": "\ttarget = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 5659,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->dobj.name)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 5661,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(query)",
          "old_line_content": "\t\t\t\t\t\t target->data,",
          "new_line_content": "\t\t\tresetPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 5662,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"COMMENT ON %s IS \", target->data)",
          "old_line_content": "\t\t\t\t\t\t tbinfo->dobj.namespace->dobj.name,",
          "new_line_content": "\t\t\tappendPQExpBuffer(query, \"COMMENT ON %s IS \", target->data);",
          "content_same": false
        },
        {
          "line": 5663,
          "old_api": null,
          "new_api": "appendStringLiteralAH",
          "old_text": null,
          "new_text": "appendStringLiteralAH(query, descr, fout)",
          "old_line_content": "\t\t\t\t\t\t NULL, tbinfo->rolname,",
          "new_line_content": "\t\t\tappendStringLiteralAH(query, descr, fout);",
          "content_same": false
        },
        {
          "line": 5664,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \";\\n\")",
          "old_line_content": "\t\t\t\t\t\t false, \"COMMENT\", SECTION_NONE,",
          "new_line_content": "\t\t\tappendPQExpBuffer(query, \";\\n\");",
          "content_same": false
        },
        {
          "line": 5666,
          "old_api": null,
          "new_api": "createDumpId",
          "old_text": null,
          "new_text": "createDumpId()",
          "old_line_content": "\t\t\t\t\t\t &(tbinfo->dobj.dumpId), 1,",
          "new_line_content": "\t\t\tArchiveEntry(fout, nilCatalogId, createDumpId(),",
          "content_same": false
        },
        {
          "line": 5681,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tbinfo->attnames[objsubid - 1])",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(tbinfo->attnames[objsubid - 1]));",
          "content_same": false
        },
        {
          "line": 5683,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(query)",
          "old_line_content": "\t\t\t\t\t\t target->data,",
          "new_line_content": "\t\t\tresetPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 5684,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"COMMENT ON %s IS \", target->data)",
          "old_line_content": "\t\t\t\t\t\t tbinfo->dobj.namespace->dobj.name,",
          "new_line_content": "\t\t\tappendPQExpBuffer(query, \"COMMENT ON %s IS \", target->data);",
          "content_same": false
        },
        {
          "line": 5685,
          "old_api": null,
          "new_api": "appendStringLiteralAH",
          "old_text": null,
          "new_text": "appendStringLiteralAH(query, descr, fout)",
          "old_line_content": "\t\t\t\t\t\t NULL, tbinfo->rolname,",
          "new_line_content": "\t\t\tappendStringLiteralAH(query, descr, fout);",
          "content_same": false
        },
        {
          "line": 5686,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \";\\n\")",
          "old_line_content": "\t\t\t\t\t\t false, \"COMMENT\", SECTION_NONE,",
          "new_line_content": "\t\t\tappendPQExpBuffer(query, \";\\n\");",
          "content_same": false
        },
        {
          "line": 5688,
          "old_api": null,
          "new_api": "createDumpId",
          "old_text": null,
          "new_text": "createDumpId()",
          "old_line_content": "\t\t\t\t\t\t &(tbinfo->dobj.dumpId), 1,",
          "new_line_content": "\t\t\tArchiveEntry(fout, nilCatalogId, createDumpId(),",
          "content_same": false
        },
        {
          "line": 5702,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " *",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 5703,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(target)",
          "old_line_content": " * Find the comment(s), if any, associated with the given object.  All the",
          "new_line_content": "\tdestroyPQExpBuffer(target);",
          "content_same": false
        },
        {
          "line": 5728,
          "old_api": null,
          "new_api": "collectComments",
          "old_text": null,
          "new_text": "collectComments(fout, &comments)",
          "old_line_content": "\t */",
          "new_line_content": "\t\tncomments = collectComments(fout, &comments);",
          "content_same": false
        },
        {
          "line": 5823,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t\t\t\t\t\t  \"ORDER BY classoid, objoid, objsubid\");",
          "new_line_content": "\tquery = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 5833,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT description, classoid, objoid, objsubid \"\n\t\t\t\t\t\t  \"FROM pg_description \"\n\t\t\t\t\t\t  \"ORDER BY classoid, objoid, objsubid\")",
          "old_line_content": "\t\t/* Note: this will fail to find attribute comments in pre-7.2... */",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT description, classoid, objoid, objsubid \"",
          "content_same": false
        },
        {
          "line": 5850,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"description\")",
          "old_line_content": "",
          "new_line_content": "\ti_description = PQfnumber(res, \"description\");",
          "content_same": false
        },
        {
          "line": 5852,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"objoid\")",
          "old_line_content": "",
          "new_line_content": "\ti_objoid = PQfnumber(res, \"objoid\");",
          "content_same": false
        },
        {
          "line": 5853,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"objsubid\")",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\ti_objsubid = PQfnumber(res, \"objsubid\");",
          "content_same": false
        },
        {
          "line": 5861,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_description)",
          "old_line_content": "\t/* Do NOT free the PGresult since we are keeping pointers into it */",
          "new_line_content": "\t\tcomments[i].descr = PQgetvalue(res, i, i_description);",
          "content_same": false
        },
        {
          "line": 5863,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_objoid)",
          "old_line_content": "",
          "new_line_content": "\t\tcomments[i].objoid = atooid(PQgetvalue(res, i, i_objoid));",
          "content_same": false
        },
        {
          "line": 5864,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_objsubid)",
          "old_line_content": "\t*items = comments;",
          "new_line_content": "\t\tcomments[i].objsubid = atoi(PQgetvalue(res, i, i_objsubid));",
          "content_same": false
        },
        {
          "line": 5868,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": "/*",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 5937,
          "old_api": null,
          "new_api": "dumpCast",
          "old_text": null,
          "new_text": "dumpCast(fout, (CastInfo *) dobj)",
          "old_line_content": "\t\t\t/* table rowtypes and array types are never dumped separately */",
          "new_line_content": "\t\t\tdumpCast(fout, (CastInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5961,
          "old_api": null,
          "new_api": "dumpForeignServer",
          "old_text": null,
          "new_text": "dumpForeignServer(fout, (ForeignServerInfo *) dobj)",
          "old_line_content": "\t\t\t\t\t\t \"\", \"\", NULL,",
          "new_line_content": "\t\t\tdumpForeignServer(fout, (ForeignServerInfo *) dobj);",
          "content_same": false
        },
        {
          "line": 5964,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, dobj->catId, dobj->dumpId,\n\t\t\t\t\t\t dobj->name, NULL, NULL, \"\",\n\t\t\t\t\t\t false, \"BLOBS\", SECTION_DATA,\n\t\t\t\t\t\t \"\", \"\", NULL,\n\t\t\t\t\t\t dobj->dependencies, dobj->nDeps,\n\t\t\t\t\t\t dumpBlobs, NULL)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tArchiveEntry(fout, dobj->catId, dobj->dumpId,",
          "content_same": false
        },
        {
          "line": 5972,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, dobj->catId, dobj->dumpId,\n\t\t\t\t\t\t dobj->name, NULL, NULL, \"\",\n\t\t\t\t\t\t false, \"BLOB COMMENTS\", SECTION_DATA,\n\t\t\t\t\t\t \"\", \"\", NULL,\n\t\t\t\t\t\t dobj->dependencies, dobj->nDeps,\n\t\t\t\t\t\t dumpBlobComments, NULL)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tArchiveEntry(fout, dobj->catId, dobj->dumpId,",
          "content_same": false
        },
        {
          "line": 6001,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "",
          "new_line_content": "\tq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 6006,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"DROP SCHEMA %s;\\n\", qnspname)",
          "old_line_content": "\t\t\t\t NULL, NULL,",
          "new_line_content": "\tappendPQExpBuffer(delq, \"DROP SCHEMA %s;\\n\", qnspname);",
          "content_same": false
        },
        {
          "line": 6008,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"CREATE SCHEMA %s;\\n\", qnspname)",
          "old_line_content": "\t\t\t\t false, \"SCHEMA\", SECTION_PRE_DATA,",
          "new_line_content": "\tappendPQExpBuffer(q, \"CREATE SCHEMA %s;\\n\", qnspname);",
          "content_same": false
        },
        {
          "line": 6010,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, nspinfo->dobj.catId, nspinfo->dobj.dumpId,\n\t\t\t\t nspinfo->dobj.name,\n\t\t\t\t NULL, NULL,\n\t\t\t\t nspinfo->rolname,\n\t\t\t\t false, \"SCHEMA\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t nspinfo->dobj.dependencies, nspinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t nspinfo->dobj.dependencies, nspinfo->dobj.nDeps,",
          "new_line_content": "\tArchiveEntry(fout, nspinfo->dobj.catId, nspinfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 6021,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"SCHEMA %s\", qnspname)",
          "old_line_content": "\t\t\tqnspname, NULL, nspinfo->dobj.name, NULL,",
          "new_line_content": "\tappendPQExpBuffer(q, \"SCHEMA %s\", qnspname);",
          "content_same": false
        },
        {
          "line": 6022,
          "old_api": null,
          "new_api": "dumpComment",
          "old_text": null,
          "new_text": "dumpComment(fout, q->data,\n\t\t\t\tNULL, nspinfo->rolname,\n\t\t\t\tnspinfo->dobj.catId, 0, nspinfo->dobj.dumpId)",
          "old_line_content": "\t\t\tnspinfo->rolname, nspinfo->nspacl);",
          "new_line_content": "\tdumpComment(fout, q->data,",
          "content_same": false
        },
        {
          "line": 6030,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(qnspname)",
          "old_line_content": "/*",
          "new_line_content": "\tfree(qnspname);",
          "content_same": false
        },
        {
          "line": 6032,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": " *\t  writes out to fout the queries to recreate a user-defined type",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 6033,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delq)",
          "old_line_content": " */",
          "new_line_content": "\tdestroyPQExpBuffer(delq);",
          "content_same": false
        },
        {
          "line": 6051,
          "old_api": null,
          "new_api": "dumpDomain",
          "old_text": null,
          "new_text": "dumpDomain(fout, tinfo)",
          "old_line_content": "",
          "new_line_content": "\t\tdumpDomain(fout, tinfo);",
          "content_same": false
        },
        {
          "line": 6053,
          "old_api": null,
          "new_api": "dumpCompositeType",
          "old_text": null,
          "new_text": "dumpCompositeType(fout, tinfo)",
          "old_line_content": " * dumpEnumType",
          "new_line_content": "\t\tdumpCompositeType(fout, tinfo);",
          "content_same": false
        },
        {
          "line": 6055,
          "old_api": null,
          "new_api": "dumpEnumType",
          "old_text": null,
          "new_text": "dumpEnumType(fout, tinfo)",
          "old_line_content": " */",
          "new_line_content": "\t\tdumpEnumType(fout, tinfo);",
          "content_same": false
        },
        {
          "line": 6065,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tchar\t   *label;",
          "new_line_content": "\tPQExpBuffer q = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 6066,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "",
          "new_line_content": "\tPQExpBuffer delq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 6067,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t/* Set proper schema search path so regproc references list correctly */",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 6074,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(tinfo->dobj.namespace->dobj.name)",
          "old_line_content": "",
          "new_line_content": "\tselectSourceSchema(tinfo->dobj.namespace->dobj.name);",
          "content_same": false
        },
        {
          "line": 6081,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t{",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 6084,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "\t}",
          "new_line_content": "\tnum = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 6088,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"no label definitions found for enum ID %u\\n\", tinfo->dobj.catId.oid)",
          "old_line_content": "\t * CASCADE shouldn't be required here as for normal types since the I/O",
          "new_line_content": "\t\twrite_msg(NULL, \"no label definitions found for enum ID %u\\n\", tinfo->dobj.catId.oid);",
          "content_same": false
        },
        {
          "line": 6089,
          "old_api": null,
          "new_api": "exit_nicely",
          "old_text": null,
          "new_text": "exit_nicely()",
          "old_line_content": "\t * functions are generic and do not get dropped.",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 6097,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"DROP TYPE %s.\",\n\t\t\t\t\t  fmtId(tinfo->dobj.namespace->dobj.name))",
          "old_line_content": "\tfor (i = 0; i < num; i++)",
          "new_line_content": "\tappendPQExpBuffer(delq, \"DROP TYPE %s.\",",
          "content_same": false
        },
        {
          "line": 6098,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t{",
          "new_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 6100,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tinfo->dobj.name)",
          "old_line_content": "\t\tif (i > 0)",
          "new_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 6108,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"    \")",
          "old_line_content": "\t\t\t\t tinfo->dobj.name,",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"    \");",
          "content_same": false
        },
        {
          "line": 6109,
          "old_api": null,
          "new_api": "appendStringLiteralAH",
          "old_text": null,
          "new_text": "appendStringLiteralAH(q, label, fout)",
          "old_line_content": "\t\t\t\t tinfo->dobj.namespace->dobj.name,",
          "new_line_content": "\t\tappendStringLiteralAH(q, label, fout);",
          "content_same": false
        },
        {
          "line": 6111,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"\\n);\\n\")",
          "old_line_content": "\t\t\t\t tinfo->rolname, false,",
          "new_line_content": "\tappendPQExpBuffer(q, \"\\n);\\n\");",
          "content_same": false
        },
        {
          "line": 6113,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, tinfo->dobj.catId, tinfo->dobj.dumpId,\n\t\t\t\t tinfo->dobj.name,\n\t\t\t\t tinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t tinfo->rolname, false,\n\t\t\t\t \"TYPE\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t tinfo->dobj.dependencies, tinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "new_line_content": "\tArchiveEntry(fout, tinfo->dobj.catId, tinfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 6124,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(q)",
          "old_line_content": "",
          "new_line_content": "\tresetPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 6131,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "/*",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 6132,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": " * dumpBaseType",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 6133,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delq)",
          "old_line_content": " *\t  writes out to fout the queries to recreate a user-defined base type",
          "new_line_content": "\tdestroyPQExpBuffer(delq);",
          "content_same": false
        },
        {
          "line": 6134,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " */",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 6144,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tchar\t   *typinput;",
          "new_line_content": "\tPQExpBuffer q = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 6145,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tchar\t   *typoutput;",
          "new_line_content": "\tPQExpBuffer delq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 6146,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tchar\t   *typreceive;",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 6174,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(tinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\t\t\t\t  \"typinput, typoutput, typreceive, typsend, \"",
          "new_line_content": "\tselectSourceSchema(tinfo->dobj.namespace->dobj.name);",
          "content_same": false
        },
        {
          "line": 6179,
          "old_api": null,
          "new_api": "pg_get_expr",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT typlen, \"\n\t\t\t\t\t\t  \"typinput, typoutput, typreceive, typsend, \"\n\t\t\t\t\t\t  \"typmodin, typmodout, typanalyze, \"\n\t\t\t\t\t\t  \"typinput::pg_catalog.oid AS typinputoid, \"\n\t\t\t\t\t\t  \"typoutput::pg_catalog.oid AS typoutputoid, \"\n\t\t\t\t\t\t  \"typreceive::pg_catalog.oid AS typreceiveoid, \"\n\t\t\t\t\t\t  \"typsend::pg_catalog.oid AS typsendoid, \"\n\t\t\t\t\t\t  \"typmodin::pg_catalog.oid AS typmodinoid, \"\n\t\t\t\t\t\t  \"typmodout::pg_catalog.oid AS typmodoutoid, \"\n\t\t\t\t\t\t  \"typanalyze::pg_catalog.oid AS typanalyzeoid, \"\n\t\t\t\t\t\t  \"typcategory, typispreferred, \"\n\t\t\t\t\t\t  \"typdelim, typbyval, typalign, typstorage, \"\n\t\t\t\t\t\t  \"pg_catalog.pg_get_expr(typdefaultbin, 'pg_catalog.pg_type'::pg_catalog.regclass) AS typdefaultbin, typdefault \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_type \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"typsend::pg_catalog.oid AS typsendoid, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT typlen, \"",
          "content_same": false
        },
        {
          "line": 6198,
          "old_api": null,
          "new_api": "pg_get_expr",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT typlen, \"\n\t\t\t\t\t\t  \"typinput, typoutput, typreceive, typsend, \"\n\t\t\t\t\t\t  \"typmodin, typmodout, typanalyze, \"\n\t\t\t\t\t\t  \"typinput::pg_catalog.oid AS typinputoid, \"\n\t\t\t\t\t\t  \"typoutput::pg_catalog.oid AS typoutputoid, \"\n\t\t\t\t\t\t  \"typreceive::pg_catalog.oid AS typreceiveoid, \"\n\t\t\t\t\t\t  \"typsend::pg_catalog.oid AS typsendoid, \"\n\t\t\t\t\t\t  \"typmodin::pg_catalog.oid AS typmodinoid, \"\n\t\t\t\t\t\t  \"typmodout::pg_catalog.oid AS typmodoutoid, \"\n\t\t\t\t\t\t  \"typanalyze::pg_catalog.oid AS typanalyzeoid, \"\n\t\t\t\t\t\t  \"'U' AS typcategory, false AS typispreferred, \"\n\t\t\t\t\t\t  \"typdelim, typbyval, typalign, typstorage, \"\n\t\t\t\t\t\t  \"pg_catalog.pg_get_expr(typdefaultbin, 'pg_catalog.pg_type'::pg_catalog.regclass) AS typdefaultbin, typdefault \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_type \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"typsend::pg_catalog.oid AS typsendoid, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT typlen, \"",
          "content_same": false
        },
        {
          "line": 6217,
          "old_api": null,
          "new_api": "pg_get_expr",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT typlen, \"\n\t\t\t\t\t\t  \"typinput, typoutput, typreceive, typsend, \"\n\t\t\t\t\t\t  \"'-' AS typmodin, '-' AS typmodout, \"\n\t\t\t\t\t\t  \"typanalyze, \"\n\t\t\t\t\t\t  \"typinput::pg_catalog.oid AS typinputoid, \"\n\t\t\t\t\t\t  \"typoutput::pg_catalog.oid AS typoutputoid, \"\n\t\t\t\t\t\t  \"typreceive::pg_catalog.oid AS typreceiveoid, \"\n\t\t\t\t\t\t  \"typsend::pg_catalog.oid AS typsendoid, \"\n\t\t\t\t\t\t  \"0 AS typmodinoid, 0 AS typmodoutoid, \"\n\t\t\t\t\t\t  \"typanalyze::pg_catalog.oid AS typanalyzeoid, \"\n\t\t\t\t\t\t  \"'U' AS typcategory, false AS typispreferred, \"\n\t\t\t\t\t\t  \"typdelim, typbyval, typalign, typstorage, \"\n\t\t\t\t\t\t  \"pg_catalog.pg_get_expr(typdefaultbin, 'pg_catalog.pg_type'::pg_catalog.regclass) AS typdefaultbin, typdefault \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_type \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"typreceive::pg_catalog.oid AS typreceiveoid, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT typlen, \"",
          "content_same": false
        },
        {
          "line": 6236,
          "old_api": null,
          "new_api": "pg_get_expr",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT typlen, \"\n\t\t\t\t\t\t  \"typinput, typoutput, typreceive, typsend, \"\n\t\t\t\t\t\t  \"'-' AS typmodin, '-' AS typmodout, \"\n\t\t\t\t\t\t  \"'-' AS typanalyze, \"\n\t\t\t\t\t\t  \"typinput::pg_catalog.oid AS typinputoid, \"\n\t\t\t\t\t\t  \"typoutput::pg_catalog.oid AS typoutputoid, \"\n\t\t\t\t\t\t  \"typreceive::pg_catalog.oid AS typreceiveoid, \"\n\t\t\t\t\t\t  \"typsend::pg_catalog.oid AS typsendoid, \"\n\t\t\t\t\t\t  \"0 AS typmodinoid, 0 AS typmodoutoid, \"\n\t\t\t\t\t\t  \"0 AS typanalyzeoid, \"\n\t\t\t\t\t\t  \"'U' AS typcategory, false AS typispreferred, \"\n\t\t\t\t\t\t  \"typdelim, typbyval, typalign, typstorage, \"\n\t\t\t\t\t\t  \"pg_catalog.pg_get_expr(typdefaultbin, 'pg_catalog.pg_type'::pg_catalog.regclass) AS typdefaultbin, typdefault \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_type \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"typreceive::pg_catalog.oid AS typreceiveoid, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT typlen, \"",
          "content_same": false
        },
        {
          "line": 6255,
          "old_api": null,
          "new_api": "pg_get_expr",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT typlen, \"\n\t\t\t\t\t\t  \"typinput, typoutput, \"\n\t\t\t\t\t\t  \"'-' AS typreceive, '-' AS typsend, \"\n\t\t\t\t\t\t  \"'-' AS typmodin, '-' AS typmodout, \"\n\t\t\t\t\t\t  \"'-' AS typanalyze, \"\n\t\t\t\t\t\t  \"typinput::pg_catalog.oid AS typinputoid, \"\n\t\t\t\t\t\t  \"typoutput::pg_catalog.oid AS typoutputoid, \"\n\t\t\t\t\t\t  \"0 AS typreceiveoid, 0 AS typsendoid, \"\n\t\t\t\t\t\t  \"0 AS typmodinoid, 0 AS typmodoutoid, \"\n\t\t\t\t\t\t  \"0 AS typanalyzeoid, \"\n\t\t\t\t\t\t  \"'U' AS typcategory, false AS typispreferred, \"\n\t\t\t\t\t\t  \"typdelim, typbyval, typalign, typstorage, \"\n\t\t\t\t\t\t  \"pg_catalog.pg_get_expr(typdefaultbin, 'pg_catalog.pg_type'::pg_catalog.regclass) AS typdefaultbin, typdefault \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_type \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"typoutput::pg_catalog.oid AS typoutputoid, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT typlen, \"",
          "content_same": false
        },
        {
          "line": 6278,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT typlen, \"\n\t\t\t\t\t\t  \"typinput, typoutput, \"\n\t\t\t\t\t\t  \"'-' AS typreceive, '-' AS typsend, \"\n\t\t\t\t\t\t  \"'-' AS typmodin, '-' AS typmodout, \"\n\t\t\t\t\t\t  \"'-' AS typanalyze, \"\n\t\t\t\t\t\t  \"typinput::oid AS typinputoid, \"\n\t\t\t\t\t\t  \"typoutput::oid AS typoutputoid, \"\n\t\t\t\t\t\t  \"0 AS typreceiveoid, 0 AS typsendoid, \"\n\t\t\t\t\t\t  \"0 AS typmodinoid, 0 AS typmodoutoid, \"\n\t\t\t\t\t\t  \"0 AS typanalyzeoid, \"\n\t\t\t\t\t\t  \"'U' AS typcategory, false AS typispreferred, \"\n\t\t\t\t\t\t  \"typdelim, typbyval, typalign, typstorage, \"\n\t\t\t\t\t\t  \"NULL AS typdefaultbin, typdefault \"\n\t\t\t\t\t\t  \"FROM pg_type \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::oid\",\n\t\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"typoutput::oid AS typoutputoid, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT typlen, \"",
          "content_same": false
        },
        {
          "line": 6301,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT typlen, \"\n\t\t\t\t\t\t  \"typinput, typoutput, \"\n\t\t\t\t\t\t  \"'-' AS typreceive, '-' AS typsend, \"\n\t\t\t\t\t\t  \"'-' AS typmodin, '-' AS typmodout, \"\n\t\t\t\t\t\t  \"'-' AS typanalyze, \"\n\t\t\t\t\t\t  \"typinput::oid AS typinputoid, \"\n\t\t\t\t\t\t  \"typoutput::oid AS typoutputoid, \"\n\t\t\t\t\t\t  \"0 AS typreceiveoid, 0 AS typsendoid, \"\n\t\t\t\t\t\t  \"0 AS typmodinoid, 0 AS typmodoutoid, \"\n\t\t\t\t\t\t  \"0 AS typanalyzeoid, \"\n\t\t\t\t\t\t  \"'U' AS typcategory, false AS typispreferred, \"\n\t\t\t\t\t\t  \"typdelim, typbyval, typalign, typstorage, \"\n\t\t\t\t\t\t  \"NULL AS typdefaultbin, NULL AS typdefault \"\n\t\t\t\t\t\t  \"FROM pg_type \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::oid\",\n\t\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"typoutput::oid AS typoutputoid, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT typlen, \"",
          "content_same": false
        },
        {
          "line": 6320,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT typlen, \"\n\t\t\t\t\t\t  \"typinput, typoutput, \"\n\t\t\t\t\t\t  \"'-' AS typreceive, '-' AS typsend, \"\n\t\t\t\t\t\t  \"'-' AS typmodin, '-' AS typmodout, \"\n\t\t\t\t\t\t  \"'-' AS typanalyze, \"\n\t\t\t\t\t\t  \"typinput::oid AS typinputoid, \"\n\t\t\t\t\t\t  \"typoutput::oid AS typoutputoid, \"\n\t\t\t\t\t\t  \"0 AS typreceiveoid, 0 AS typsendoid, \"\n\t\t\t\t\t\t  \"0 AS typmodinoid, 0 AS typmodoutoid, \"\n\t\t\t\t\t\t  \"0 AS typanalyzeoid, \"\n\t\t\t\t\t\t  \"'U' AS typcategory, false AS typispreferred, \"\n\t\t\t\t\t\t  \"typdelim, typbyval, typalign, \"\n\t\t\t\t\t\t  \"'p'::char AS typstorage, \"\n\t\t\t\t\t\t  \"NULL AS typdefaultbin, NULL AS typdefault \"\n\t\t\t\t\t\t  \"FROM pg_type \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::oid\",\n\t\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"typoutput::oid AS typoutputoid, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT typlen, \"",
          "content_same": false
        },
        {
          "line": 6339,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t{",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 6343,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "\t\t\t\t  ntups, query->data);",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 6346,
          "old_api": null,
          "new_api": "ngettext",
          "old_text": null,
          "new_text": "ngettext(\"query returned %d row instead of one: %s\\n\",\n\t\t\t\t\t\t\t\t \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t\t\t\t\t ntups)",
          "old_line_content": "",
          "new_line_content": "\t\twrite_msg(NULL, ngettext(\"query returned %d row instead of one: %s\\n\",",
          "content_same": false
        },
        {
          "line": 6371,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"typbyval\")",
          "old_line_content": "\t{",
          "new_line_content": "\ttypbyval = PQgetvalue(res, 0, PQfnumber(res, \"typbyval\"));",
          "content_same": false
        },
        {
          "line": 6373,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"typstorage\")",
          "old_line_content": "\t\ttypdefault_is_literal = true;\t/* it needs quotes */",
          "new_line_content": "\ttypstorage = PQgetvalue(res, 0, PQfnumber(res, \"typstorage\"));",
          "content_same": false
        },
        {
          "line": 6374,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"typdefaultbin\")",
          "old_line_content": "\t}",
          "new_line_content": "\tif (!PQgetisnull(res, 0, PQfnumber(res, \"typdefaultbin\")))",
          "content_same": false
        },
        {
          "line": 6375,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"typdefaultbin\")",
          "old_line_content": "\telse",
          "new_line_content": "\t\ttypdefault = PQgetvalue(res, 0, PQfnumber(res, \"typdefaultbin\"));",
          "content_same": false
        },
        {
          "line": 6376,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"typdefault\")",
          "old_line_content": "\t\ttypdefault = NULL;",
          "new_line_content": "\telse if (!PQgetisnull(res, 0, PQfnumber(res, \"typdefault\")))",
          "content_same": false
        },
        {
          "line": 6378,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"typdefault\")",
          "old_line_content": "\t/*",
          "new_line_content": "\t\ttypdefault = PQgetvalue(res, 0, PQfnumber(res, \"typdefault\"));",
          "content_same": false
        },
        {
          "line": 6390,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"DROP TYPE %s.\",\n\t\t\t\t\t  fmtId(tinfo->dobj.namespace->dobj.name))",
          "old_line_content": "\t\t\t\t\t  \"CREATE TYPE %s (\\n\"",
          "new_line_content": "\tappendPQExpBuffer(delq, \"DROP TYPE %s.\",",
          "content_same": false
        },
        {
          "line": 6391,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\t\t\t  \"    INTERNALLENGTH = %s\",",
          "new_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 6395,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q,\n\t\t\t\t\t  \"CREATE TYPE %s (\\n\"\n\t\t\t\t\t  \"    INTERNALLENGTH = %s\",\n\t\t\t\t\t  fmtId(tinfo->dobj.name),\n\t\t\t\t\t  (strcmp(typlen, \"-1\") == 0) ? \"variable\" : typlen)",
          "old_line_content": "\tif (fout->remoteVersion >= 70300)",
          "new_line_content": "\tappendPQExpBuffer(q,",
          "content_same": false
        },
        {
          "line": 6410,
          "old_api": null,
          "new_api": "OidIsValid",
          "old_text": null,
          "new_text": "OidIsValid(typmodinoid)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tif (OidIsValid(typmodinoid))",
          "content_same": false
        },
        {
          "line": 6411,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \",\\n    TYPMOD_IN = %s\", typmodin)",
          "old_line_content": "\telse",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \",\\n    TYPMOD_IN = %s\", typmodin);",
          "content_same": false
        },
        {
          "line": 6412,
          "old_api": null,
          "new_api": "OidIsValid",
          "old_text": null,
          "new_text": "OidIsValid(typmodoutoid)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tif (OidIsValid(typmodoutoid))",
          "content_same": false
        },
        {
          "line": 6413,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \",\\n    TYPMOD_OUT = %s\", typmodout)",
          "old_line_content": "\t\t/* regproc delivers an unquoted name before 7.3 */",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \",\\n    TYPMOD_OUT = %s\", typmodout);",
          "content_same": false
        },
        {
          "line": 6414,
          "old_api": null,
          "new_api": "OidIsValid",
          "old_text": null,
          "new_text": "OidIsValid(typanalyzeoid)",
          "old_line_content": "\t\t/* cannot combine these because fmtId uses static result area */",
          "new_line_content": "\t\tif (OidIsValid(typanalyzeoid))",
          "content_same": false
        },
        {
          "line": 6421,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(typinput)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tappendPQExpBuffer(q, \",\\n    INPUT = %s\", fmtId(typinput));",
          "content_same": false
        },
        {
          "line": 6428,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \",\\n    DEFAULT = \")",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(q, \",\\n    DEFAULT = \");",
          "content_same": false
        },
        {
          "line": 6430,
          "old_api": null,
          "new_api": "appendStringLiteralAH",
          "old_text": null,
          "new_text": "appendStringLiteralAH(q, typdefault, fout)",
          "old_line_content": "\t{",
          "new_line_content": "\t\t\tappendStringLiteralAH(q, typdefault, fout);",
          "content_same": false
        },
        {
          "line": 6432,
          "old_api": null,
          "new_api": "appendPQExpBufferStr",
          "old_text": null,
          "new_text": "appendPQExpBufferStr(q, typdefault)",
          "old_line_content": "",
          "new_line_content": "\t\t\tappendPQExpBufferStr(q, typdefault);",
          "content_same": false
        },
        {
          "line": 6441,
          "old_api": null,
          "new_api": "getFormattedTypeName",
          "old_text": null,
          "new_text": "getFormattedTypeName(tinfo->typelem, zeroAsOpaque)",
          "old_line_content": "\t{",
          "new_line_content": "\t\telemType = getFormattedTypeName(tinfo->typelem, zeroAsOpaque);",
          "content_same": false
        },
        {
          "line": 6448,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \",\\n    CATEGORY = \")",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(q, \",\\n    CATEGORY = \");",
          "content_same": false
        },
        {
          "line": 6453,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \",\\n    PREFERRED = true\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\tappendPQExpBuffer(q, \",\\n    PREFERRED = true\");",
          "content_same": false
        },
        {
          "line": 6463,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(typalign, \"s\")",
          "old_line_content": "",
          "new_line_content": "\telse if (strcmp(typalign, \"s\") == 0)",
          "content_same": false
        },
        {
          "line": 6472,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(typstorage, \"e\")",
          "old_line_content": "",
          "new_line_content": "\telse if (strcmp(typstorage, \"e\") == 0)",
          "content_same": false
        },
        {
          "line": 6475,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \",\\n    STORAGE = extended\")",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(q, \",\\n    STORAGE = extended\");",
          "content_same": false
        },
        {
          "line": 6477,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \",\\n    STORAGE = main\")",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(q, \",\\n    STORAGE = main\");",
          "content_same": false
        },
        {
          "line": 6479,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(typbyval, \"t\")",
          "old_line_content": "\t\t\t\t tinfo->dobj.name,",
          "new_line_content": "\tif (strcmp(typbyval, \"t\") == 0)",
          "content_same": false
        },
        {
          "line": 6480,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \",\\n    PASSEDBYVALUE\")",
          "old_line_content": "\t\t\t\t tinfo->dobj.namespace->dobj.name,",
          "new_line_content": "\t\tappendPQExpBuffer(q, \",\\n    PASSEDBYVALUE\");",
          "content_same": false
        },
        {
          "line": 6482,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"\\n);\\n\")",
          "old_line_content": "\t\t\t\t tinfo->rolname, false,",
          "new_line_content": "\tappendPQExpBuffer(q, \"\\n);\\n\");",
          "content_same": false
        },
        {
          "line": 6484,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, tinfo->dobj.catId, tinfo->dobj.dumpId,\n\t\t\t\t tinfo->dobj.name,\n\t\t\t\t tinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t tinfo->rolname, false,\n\t\t\t\t \"TYPE\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t tinfo->dobj.dependencies, tinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "new_line_content": "\tArchiveEntry(fout, tinfo->dobj.catId, tinfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 6495,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(q)",
          "old_line_content": "",
          "new_line_content": "\tresetPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 6502,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "/*",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 6503,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": " * dumpDomain",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 6504,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delq)",
          "old_line_content": " *\t  writes out to fout the queries to recreate a user-defined domain",
          "new_line_content": "\tdestroyPQExpBuffer(delq);",
          "content_same": false
        },
        {
          "line": 6505,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " */",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 6515,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tchar\t   *typnotnull;",
          "new_line_content": "\tPQExpBuffer q = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 6516,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tchar\t   *typdefn;",
          "new_line_content": "\tPQExpBuffer delq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 6517,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tchar\t   *typdefault;",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 6527,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(tinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\t\t\t  \"pg_catalog.pg_get_expr(typdefaultbin, 'pg_catalog.pg_type'::pg_catalog.regclass) AS typdefaultbin, typdefault \"",
          "new_line_content": "\tselectSourceSchema(tinfo->dobj.namespace->dobj.name);",
          "content_same": false
        },
        {
          "line": 6531,
          "old_api": null,
          "new_api": "format_type",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT typnotnull, \"\n\t\t\t\t\"pg_catalog.format_type(typbasetype, typtypmod) AS typdefn, \"\n\t\t\t\t\t  \"pg_catalog.pg_get_expr(typdefaultbin, 'pg_catalog.pg_type'::pg_catalog.regclass) AS typdefaultbin, typdefault \"\n\t\t\t\t\t  \"FROM pg_catalog.pg_type \"\n\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "old_line_content": "",
          "new_line_content": "\tappendPQExpBuffer(query, \"SELECT typnotnull, \"",
          "content_same": false
        },
        {
          "line": 6538,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t{",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 6542,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "\t\t\t\t  ntups, query->data);",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 6545,
          "old_api": null,
          "new_api": "ngettext",
          "old_text": null,
          "new_text": "ngettext(\"query returned %d row instead of one: %s\\n\",\n\t\t\t\t\t\t\t\t \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t\t\t\t\t ntups)",
          "old_line_content": "",
          "new_line_content": "\t\twrite_msg(NULL, ngettext(\"query returned %d row instead of one: %s\\n\",",
          "content_same": false
        },
        {
          "line": 6553,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"typdefn\")",
          "old_line_content": "\t\ttypdefault_is_literal = true;\t/* it needs quotes */",
          "new_line_content": "\ttypdefn = PQgetvalue(res, 0, PQfnumber(res, \"typdefn\"));",
          "content_same": false
        },
        {
          "line": 6554,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"typdefaultbin\")",
          "old_line_content": "\t}",
          "new_line_content": "\tif (!PQgetisnull(res, 0, PQfnumber(res, \"typdefaultbin\")))",
          "content_same": false
        },
        {
          "line": 6555,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"typdefaultbin\")",
          "old_line_content": "\telse",
          "new_line_content": "\t\ttypdefault = PQgetvalue(res, 0, PQfnumber(res, \"typdefaultbin\"));",
          "content_same": false
        },
        {
          "line": 6556,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"typdefault\")",
          "old_line_content": "\t\ttypdefault = NULL;",
          "new_line_content": "\telse if (!PQgetisnull(res, 0, PQfnumber(res, \"typdefault\")))",
          "content_same": false
        },
        {
          "line": 6566,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tinfo->dobj.name)",
          "old_line_content": "\tif (typdefault != NULL)",
          "new_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.name),",
          "content_same": false
        },
        {
          "line": 6574,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" DEFAULT \")",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(q, \" DEFAULT \");",
          "content_same": false
        },
        {
          "line": 6576,
          "old_api": null,
          "new_api": "appendStringLiteralAH",
          "old_text": null,
          "new_text": "appendStringLiteralAH(q, typdefault, fout)",
          "old_line_content": "",
          "new_line_content": "\t\t\tappendStringLiteralAH(q, typdefault, fout);",
          "content_same": false
        },
        {
          "line": 6578,
          "old_api": null,
          "new_api": "appendPQExpBufferStr",
          "old_text": null,
          "new_text": "appendPQExpBufferStr(q, typdefault)",
          "old_line_content": "\t * Add any CHECK constraints for the domain",
          "new_line_content": "\t\t\tappendPQExpBufferStr(q, typdefault);",
          "content_same": false
        },
        {
          "line": 6581,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "\t{",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 6591,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"\\n\\tCONSTRAINT %s %s\",\n\t\t\t\t\t\t\t  fmtId(domcheck->dobj.name), domcheck->condef)",
          "old_line_content": "\t/*",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \"\\n\\tCONSTRAINT %s %s\",",
          "content_same": false
        },
        {
          "line": 6592,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(domcheck->dobj.name)",
          "old_line_content": "\t * DROP must be fully qualified in case same name appears in pg_catalog",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(domcheck->dobj.name), domcheck->condef);",
          "content_same": false
        },
        {
          "line": 6600,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"DROP DOMAIN %s.\",\n\t\t\t\t\t  fmtId(tinfo->dobj.namespace->dobj.name))",
          "old_line_content": "\t\t\t\t tinfo->dobj.name,",
          "new_line_content": "\tappendPQExpBuffer(delq, \"DROP DOMAIN %s.\",",
          "content_same": false
        },
        {
          "line": 6601,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\t\t tinfo->dobj.namespace->dobj.name,",
          "new_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 6602,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"%s;\\n\",\n\t\t\t\t\t  fmtId(tinfo->dobj.name))",
          "old_line_content": "\t\t\t\t NULL,",
          "new_line_content": "\tappendPQExpBuffer(delq, \"%s;\\n\",",
          "content_same": false
        },
        {
          "line": 6603,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tinfo->dobj.name)",
          "old_line_content": "\t\t\t\t tinfo->rolname, false,",
          "new_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 6605,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, tinfo->dobj.catId, tinfo->dobj.dumpId,\n\t\t\t\t tinfo->dobj.name,\n\t\t\t\t tinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t tinfo->rolname, false,\n\t\t\t\t \"DOMAIN\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t tinfo->dobj.dependencies, tinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "new_line_content": "\tArchiveEntry(fout, tinfo->dobj.catId, tinfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 6616,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(q)",
          "old_line_content": "",
          "new_line_content": "\tresetPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 6623,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": " * dumpCompositeType",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 6624,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delq)",
          "old_line_content": " *\t  writes out to fout the queries to recreate a user-defined stand-alone",
          "new_line_content": "\tdestroyPQExpBuffer(delq);",
          "content_same": false
        },
        {
          "line": 6625,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " *\t  composite type",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 6636,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tint\t\t\ti_atttypdefn;",
          "new_line_content": "\tPQExpBuffer q = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 6637,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tint\t\t\ti;",
          "new_line_content": "\tPQExpBuffer delq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 6638,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "",
          "new_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 6646,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(tinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\t \"pg_catalog.format_type(a.atttypid, a.atttypmod) AS atttypdefn \"",
          "new_line_content": "\tselectSourceSchema(tinfo->dobj.namespace->dobj.name);",
          "content_same": false
        },
        {
          "line": 6651,
          "old_api": null,
          "new_api": "format_type",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT a.attname, \"\n\t\t\t \"pg_catalog.format_type(a.atttypid, a.atttypmod) AS atttypdefn \"\n\t\t\t\t\t  \"FROM pg_catalog.pg_type t, pg_catalog.pg_attribute a \"\n\t\t\t\t\t  \"WHERE t.oid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t  \"AND a.attrelid = t.typrelid \"\n\t\t\t\t\t  \"AND NOT a.attisdropped \"\n\t\t\t\t\t  \"ORDER BY a.attnum \",\n\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t  \"ORDER BY a.attnum \",",
          "new_line_content": "\tappendPQExpBuffer(query, \"SELECT a.attname, \"",
          "content_same": false
        },
        {
          "line": 6660,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t{",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 6664,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 6667,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"query returned no rows: %s\\n\", query->data)",
          "old_line_content": "",
          "new_line_content": "\t\twrite_msg(NULL, \"query returned no rows: %s\\n\", query->data);",
          "content_same": false
        },
        {
          "line": 6671,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"attname\")",
          "old_line_content": "\tfor (i = 0; i < ntups; i++)",
          "new_line_content": "\ti_attname = PQfnumber(res, \"attname\");",
          "content_same": false
        },
        {
          "line": 6672,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"atttypdefn\")",
          "old_line_content": "\t{",
          "new_line_content": "\ti_atttypdefn = PQfnumber(res, \"atttypdefn\");",
          "content_same": false
        },
        {
          "line": 6674,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"CREATE TYPE %s AS (\",\n\t\t\t\t\t  fmtId(tinfo->dobj.name))",
          "old_line_content": "\t\tchar\t   *atttypdefn;",
          "new_line_content": "\tappendPQExpBuffer(q, \"CREATE TYPE %s AS (\",",
          "content_same": false
        },
        {
          "line": 6675,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tinfo->dobj.name)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 6682,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, i, i_attname)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tattname = PQgetvalue(res, i, i_attname);",
          "content_same": false
        },
        {
          "line": 6685,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(attname)",
          "old_line_content": "\t/*",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"\\n\\t%s %s\", fmtId(attname), atttypdefn);",
          "content_same": false
        },
        {
          "line": 6687,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \",\")",
          "old_line_content": "\t */",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \",\");",
          "content_same": false
        },
        {
          "line": 6694,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"DROP TYPE %s.\",\n\t\t\t\t\t  fmtId(tinfo->dobj.namespace->dobj.name))",
          "old_line_content": "\t\t\t\t tinfo->dobj.name,",
          "new_line_content": "\tappendPQExpBuffer(delq, \"DROP TYPE %s.\",",
          "content_same": false
        },
        {
          "line": 6695,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\t\t tinfo->dobj.namespace->dobj.name,",
          "new_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 6696,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"%s;\\n\",\n\t\t\t\t\t  fmtId(tinfo->dobj.name))",
          "old_line_content": "\t\t\t\t NULL,",
          "new_line_content": "\tappendPQExpBuffer(delq, \"%s;\\n\",",
          "content_same": false
        },
        {
          "line": 6697,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(tinfo->dobj.name)",
          "old_line_content": "\t\t\t\t tinfo->rolname, false,",
          "new_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 6699,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, tinfo->dobj.catId, tinfo->dobj.dumpId,\n\t\t\t\t tinfo->dobj.name,\n\t\t\t\t tinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t tinfo->rolname, false,\n\t\t\t\t \"TYPE\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t tinfo->dobj.dependencies, tinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "new_line_content": "\tArchiveEntry(fout, tinfo->dobj.catId, tinfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 6711,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(q)",
          "old_line_content": "",
          "new_line_content": "\tresetPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 6718,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "/*",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 6719,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": " * dumpShellType",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 6720,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delq)",
          "old_line_content": " *\t  writes out to fout the queries to create a shell type",
          "new_line_content": "\tdestroyPQExpBuffer(delq);",
          "content_same": false
        },
        {
          "line": 6721,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": " *",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 6739,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t * whether an entry needs an ALTER OWNER command.  We don't want to alter",
          "new_line_content": "\tq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 6750,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"CREATE TYPE %s;\\n\",\n\t\t\t\t\t  fmtId(stinfo->dobj.name))",
          "old_line_content": "\t\t\t\t NULL,",
          "new_line_content": "\tappendPQExpBuffer(q, \"CREATE TYPE %s;\\n\",",
          "content_same": false
        },
        {
          "line": 6751,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(stinfo->dobj.name)",
          "old_line_content": "\t\t\t\t stinfo->baseType->rolname, false,",
          "new_line_content": "\t\t\t\t\t  fmtId(stinfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 6753,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, stinfo->dobj.catId, stinfo->dobj.dumpId,\n\t\t\t\t stinfo->dobj.name,\n\t\t\t\t stinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t stinfo->baseType->rolname, false,\n\t\t\t\t \"SHELL TYPE\", SECTION_PRE_DATA,\n\t\t\t\t q->data, \"\", NULL,\n\t\t\t\t stinfo->dobj.dependencies, stinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t q->data, \"\", NULL,",
          "new_line_content": "\tArchiveEntry(fout, stinfo->dobj.catId, stinfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 6763,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": " * the normal schema-based selection mechanism.  We choose to dump them",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 6820,
          "old_api": null,
          "new_api": "OidIsValid",
          "old_text": null,
          "new_text": "OidIsValid(plang->lanvalidator)",
          "old_line_content": "",
          "new_line_content": "\tif (OidIsValid(plang->lanvalidator))",
          "content_same": false
        },
        {
          "line": 6822,
          "old_api": null,
          "new_api": "findFuncByOid",
          "old_text": null,
          "new_text": "findFuncByOid(plang->lanvalidator)",
          "old_line_content": "\t * If the functions are dumpable then emit a traditional CREATE LANGUAGE",
          "new_line_content": "\t\tvalidatorInfo = findFuncByOid(plang->lanvalidator);",
          "content_same": false
        },
        {
          "line": 6838,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t * If dumping a HANDLER clause, treat the language as being in the handler",
          "new_line_content": "\tdefqry = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 6839,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t * function's schema; this avoids cluttering the HANDLER clause. Otherwise",
          "new_line_content": "\tdelqry = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 6841,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(plang->dobj.name)",
          "old_line_content": "\t */",
          "new_line_content": "\tqlanname = strdup(fmtId(plang->dobj.name));",
          "content_same": false
        },
        {
          "line": 6853,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delqry, \"DROP PROCEDURAL LANGUAGE %s;\\n\",\n\t\t\t\t\t  qlanname)",
          "old_line_content": "\tif (useParams)",
          "new_line_content": "\tappendPQExpBuffer(delqry, \"DROP PROCEDURAL LANGUAGE %s;\\n\",",
          "content_same": false
        },
        {
          "line": 6861,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(defqry, \" HANDLER %s\",\n\t\t\t\t\t\t  fmtId(funcInfo->dobj.name))",
          "old_line_content": "\t\t\tif (validatorInfo->dobj.namespace != funcInfo->dobj.namespace)",
          "new_line_content": "\t\tappendPQExpBuffer(defqry, \" HANDLER %s\",",
          "content_same": false
        },
        {
          "line": 6869,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(validatorInfo->dobj.namespace->dobj.name)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\t\tfmtId(validatorInfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 6871,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(validatorInfo->dobj.name)",
          "old_line_content": "\t\t\t\t plang->dobj.name,",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(validatorInfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 6874,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(defqry, \";\\n\")",
          "old_line_content": "\t\t\t\t defqry->data, delqry->data, NULL,",
          "new_line_content": "\tappendPQExpBuffer(defqry, \";\\n\");",
          "content_same": false
        },
        {
          "line": 6876,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, plang->dobj.catId, plang->dobj.dumpId,\n\t\t\t\t plang->dobj.name,\n\t\t\t\t lanschema, NULL, plang->lanowner,\n\t\t\t\t false, \"PROCEDURAL LANGUAGE\", SECTION_PRE_DATA,\n\t\t\t\t defqry->data, delqry->data, NULL,\n\t\t\t\t plang->dobj.dependencies, plang->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t NULL, NULL);",
          "new_line_content": "\tArchiveEntry(fout, plang->dobj.catId, plang->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 6885,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(defqry)",
          "old_line_content": "\tif (plang->lanpltrusted)",
          "new_line_content": "\tresetPQExpBuffer(defqry);",
          "content_same": false
        },
        {
          "line": 6887,
          "old_api": null,
          "new_api": "dumpComment",
          "old_text": null,
          "new_text": "dumpComment(fout, defqry->data,\n\t\t\t\tNULL, \"\",\n\t\t\t\tplang->dobj.catId, 0, plang->dobj.dumpId)",
          "old_line_content": "\t\t\t\tqlanname, NULL, plang->dobj.name,",
          "new_line_content": "\tdumpComment(fout, defqry->data,",
          "content_same": false
        },
        {
          "line": 6892,
          "old_api": null,
          "new_api": "dumpACL",
          "old_text": null,
          "new_text": "dumpACL(fout, plang->dobj.catId, plang->dobj.dumpId, \"LANGUAGE\",\n\t\t\t\tqlanname, NULL, plang->dobj.name,\n\t\t\t\tlanschema,\n\t\t\t\tplang->lanowner, plang->lanacl)",
          "old_line_content": "",
          "new_line_content": "\t\tdumpACL(fout, plang->dobj.catId, plang->dobj.dumpId, \"LANGUAGE\",",
          "content_same": false
        },
        {
          "line": 6897,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(qlanname)",
          "old_line_content": "/*",
          "new_line_content": "\tfree(qlanname);",
          "content_same": false
        },
        {
          "line": 6899,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(defqry)",
          "old_line_content": " *",
          "new_line_content": "\tdestroyPQExpBuffer(defqry);",
          "content_same": false
        },
        {
          "line": 6900,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delqry)",
          "old_line_content": " * This is used when we can rely on pg_get_function_arguments to format",
          "new_line_content": "\tdestroyPQExpBuffer(delqry);",
          "content_same": false
        },
        {
          "line": 6913,
          "old_api": null,
          "new_api": "initPQExpBuffer",
          "old_text": null,
          "new_text": "initPQExpBuffer(&fn)",
          "old_line_content": " * format_function_arguments_old: generate function name and argument list",
          "new_line_content": "\tinitPQExpBuffer(&fn);",
          "content_same": false
        },
        {
          "line": 6914,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(finfo->dobj.name)",
          "old_line_content": " *",
          "new_line_content": "\tappendPQExpBuffer(&fn, \"%s(%s)\", fmtId(finfo->dobj.name), funcargs);",
          "content_same": false
        },
        {
          "line": 6938,
          "old_api": null,
          "new_api": "initPQExpBuffer",
          "old_text": null,
          "new_text": "initPQExpBuffer(&fn)",
          "old_line_content": "\t\tconst char *argmode;",
          "new_line_content": "\tinitPQExpBuffer(&fn);",
          "content_same": false
        },
        {
          "line": 6939,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(finfo->dobj.name)",
          "old_line_content": "\t\tconst char *argname;",
          "new_line_content": "\tappendPQExpBuffer(&fn, \"%s(\", fmtId(finfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 6947,
          "old_api": null,
          "new_api": "atooid",
          "old_text": null,
          "new_text": "atooid(allargtypes[j])",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\ttypid = allargtypes ? atooid(allargtypes[j]) : finfo->argtypes[j];",
          "content_same": false
        },
        {
          "line": 6948,
          "old_api": null,
          "new_api": "getFormattedTypeName",
          "old_text": null,
          "new_text": "getFormattedTypeName(typid, zeroAsOpaque)",
          "old_line_content": "\t\t\t\tcase PROARGMODE_IN:",
          "new_line_content": "\t\ttypname = getFormattedTypeName(typid, zeroAsOpaque);",
          "content_same": false
        },
        {
          "line": 6964,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"WARNING: bogus value in proargmodes array\\n\")",
          "old_line_content": "\t\t\targmode = \"\";",
          "new_line_content": "\t\t\t\t\twrite_msg(NULL, \"WARNING: bogus value in proargmodes array\\n\");",
          "content_same": false
        },
        {
          "line": 6979,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(argname)",
          "old_line_content": "\treturn fn.data;",
          "new_line_content": "\t\t\t\t\t\t  argname ? fmtId(argname) : \"\",",
          "content_same": false
        },
        {
          "line": 6982,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(typname)",
          "old_line_content": "/*",
          "new_line_content": "\t\tfree(typname);",
          "content_same": false
        },
        {
          "line": 6984,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(&fn, \")\")",
          "old_line_content": " *",
          "new_line_content": "\tappendPQExpBuffer(&fn, \")\");",
          "content_same": false
        },
        {
          "line": 7004,
          "old_api": null,
          "new_api": "initPQExpBuffer",
          "old_text": null,
          "new_text": "initPQExpBuffer(&fn)",
          "old_line_content": "\t{",
          "new_line_content": "\tinitPQExpBuffer(&fn);",
          "content_same": false
        },
        {
          "line": 7006,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(finfo->dobj.name)",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(&fn, \"%s(\", fmtId(finfo->dobj.name));",
          "content_same": false
        },
        {
          "line": 7008,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(&fn, \"%s(\", finfo->dobj.name)",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(&fn, \"%s(\", finfo->dobj.name);",
          "content_same": false
        },
        {
          "line": 7013,
          "old_api": null,
          "new_api": "getFormattedTypeName",
          "old_text": null,
          "new_text": "getFormattedTypeName(finfo->argtypes[j], zeroAsOpaque)",
          "old_line_content": "\t}",
          "new_line_content": "\t\ttypname = getFormattedTypeName(finfo->argtypes[j], zeroAsOpaque);",
          "content_same": false
        },
        {
          "line": 7015,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(&fn, \"%s%s\",\n\t\t\t\t\t\t  (j > 0) ? \", \" : \"\",\n\t\t\t\t\t\t  typname)",
          "old_line_content": "\treturn fn.data;",
          "new_line_content": "\t\tappendPQExpBuffer(&fn, \"%s%s\",",
          "content_same": false
        },
        {
          "line": 7018,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(typname)",
          "old_line_content": "",
          "new_line_content": "\t\tfree(typname);",
          "content_same": false
        },
        {
          "line": 7020,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(&fn, \")\")",
          "old_line_content": " * dumpFunc:",
          "new_line_content": "\tappendPQExpBuffer(&fn, \")\");",
          "content_same": false
        },
        {
          "line": 7072,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "",
          "new_line_content": "\tq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 7073,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t/* Fetch function-specific details */",
          "new_line_content": "\tdelqry = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 7074,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tif (g_fout->remoteVersion >= 80400)",
          "new_line_content": "\tasPart = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 7077,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(finfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t * In 8.4 and up we rely on pg_get_function_arguments and",
          "new_line_content": "\tselectSourceSchema(finfo->dobj.namespace->dobj.name);",
          "content_same": false
        },
        {
          "line": 7086,
          "old_api": null,
          "new_api": "pg_get_function_arguments",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT proretset, prosrc, probin, \"\n\t\t\t\t\t\t  \"pg_catalog.pg_get_function_arguments(oid) AS funcargs, \"\n\t\t\t\t\t\t  \"pg_catalog.pg_get_function_identity_arguments(oid) AS funciargs, \"\n\t\t\t\t\t\t  \"pg_catalog.pg_get_function_result(oid) AS funcresult, \"\n\t\t\t\t\t\t  \"proiswindow, provolatile, proisstrict, prosecdef, \"\n\t\t\t\t\t\t  \"proconfig, procost, prorows, \"\n\t\t\t\t\t\t  \"(SELECT lanname FROM pg_catalog.pg_language WHERE oid = prolang) AS lanname \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_proc \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  finfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"proconfig, procost, prorows, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 7100,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT proretset, prosrc, probin, \"\n\t\t\t\t\t\t  \"proallargtypes, proargmodes, proargnames, \"\n\t\t\t\t\t\t  \"false AS proiswindow, \"\n\t\t\t\t\t\t  \"provolatile, proisstrict, prosecdef, \"\n\t\t\t\t\t\t  \"proconfig, procost, prorows, \"\n\t\t\t\t\t\t  \"(SELECT lanname FROM pg_catalog.pg_language WHERE oid = prolang) AS lanname \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_proc \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  finfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"(SELECT lanname FROM pg_catalog.pg_language WHERE oid = prolang) AS lanname \"",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 7113,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT proretset, prosrc, probin, \"\n\t\t\t\t\t\t  \"proallargtypes, proargmodes, proargnames, \"\n\t\t\t\t\t\t  \"false AS proiswindow, \"\n\t\t\t\t\t\t  \"provolatile, proisstrict, prosecdef, \"\n\t\t\t\t\t\t  \"null AS proconfig, 0 AS procost, 0 AS prorows, \"\n\t\t\t\t\t\t  \"(SELECT lanname FROM pg_catalog.pg_language WHERE oid = prolang) AS lanname \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_proc \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  finfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"(SELECT lanname FROM pg_catalog.pg_language WHERE oid = prolang) AS lanname \"",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 7126,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT proretset, prosrc, probin, \"\n\t\t\t\t\t\t  \"null AS proallargtypes, \"\n\t\t\t\t\t\t  \"null AS proargmodes, \"\n\t\t\t\t\t\t  \"proargnames, \"\n\t\t\t\t\t\t  \"false AS proiswindow, \"\n\t\t\t\t\t\t  \"provolatile, proisstrict, prosecdef, \"\n\t\t\t\t\t\t  \"null AS proconfig, 0 AS procost, 0 AS prorows, \"\n\t\t\t\t\t\t  \"(SELECT lanname FROM pg_catalog.pg_language WHERE oid = prolang) AS lanname \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_proc \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  finfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"provolatile, proisstrict, prosecdef, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 7141,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT proretset, prosrc, probin, \"\n\t\t\t\t\t\t  \"null AS proallargtypes, \"\n\t\t\t\t\t\t  \"null AS proargmodes, \"\n\t\t\t\t\t\t  \"null AS proargnames, \"\n\t\t\t\t\t\t  \"false AS proiswindow, \"\n\t\t\t\t\t\t  \"provolatile, proisstrict, prosecdef, \"\n\t\t\t\t\t\t  \"null AS proconfig, 0 AS procost, 0 AS prorows, \"\n\t\t\t\t\t\t  \"(SELECT lanname FROM pg_catalog.pg_language WHERE oid = prolang) AS lanname \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_proc \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  finfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"provolatile, proisstrict, prosecdef, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 7156,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT proretset, prosrc, probin, \"\n\t\t\t\t\t\t  \"null AS proallargtypes, \"\n\t\t\t\t\t\t  \"null AS proargmodes, \"\n\t\t\t\t\t\t  \"null AS proargnames, \"\n\t\t\t\t\t\t  \"false AS proiswindow, \"\n\t\t\t \"case when proiscachable then 'i' else 'v' end AS provolatile, \"\n\t\t\t\t\t\t  \"proisstrict, \"\n\t\t\t\t\t\t  \"false AS prosecdef, \"\n\t\t\t\t\t\t  \"null AS proconfig, 0 AS procost, 0 AS prorows, \"\n\t\t  \"(SELECT lanname FROM pg_language WHERE oid = prolang) AS lanname \"\n\t\t\t\t\t\t  \"FROM pg_proc \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::oid\",\n\t\t\t\t\t\t  finfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t \"case when proiscachable then 'i' else 'v' end AS provolatile, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 7173,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT proretset, prosrc, probin, \"\n\t\t\t\t\t\t  \"null AS proallargtypes, \"\n\t\t\t\t\t\t  \"null AS proargmodes, \"\n\t\t\t\t\t\t  \"null AS proargnames, \"\n\t\t\t\t\t\t  \"false AS proiswindow, \"\n\t\t\t \"CASE WHEN proiscachable THEN 'i' ELSE 'v' END AS provolatile, \"\n\t\t\t\t\t\t  \"false AS proisstrict, \"\n\t\t\t\t\t\t  \"false AS prosecdef, \"\n\t\t\t\t\t\t  \"NULL AS proconfig, 0 AS procost, 0 AS prorows, \"\n\t\t  \"(SELECT lanname FROM pg_language WHERE oid = prolang) AS lanname \"\n\t\t\t\t\t\t  \"FROM pg_proc \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::oid\",\n\t\t\t\t\t\t  finfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t \"CASE WHEN proiscachable THEN 'i' ELSE 'v' END AS provolatile, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query,",
          "content_same": false
        },
        {
          "line": 7189,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t{",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 7193,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "\t\t\t\t  ntups, query->data);",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 7196,
          "old_api": null,
          "new_api": "ngettext",
          "old_text": null,
          "new_text": "ngettext(\"query returned %d row instead of one: %s\\n\",\n\t\t\t\t\t\t\t\t \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t\t\t\t\t ntups)",
          "old_line_content": "",
          "new_line_content": "\t\twrite_msg(NULL, ngettext(\"query returned %d row instead of one: %s\\n\",",
          "content_same": false
        },
        {
          "line": 7200,
          "old_api": null,
          "new_api": "exit_nicely",
          "old_text": null,
          "new_text": "exit_nicely()",
          "old_line_content": "\tif (g_fout->remoteVersion >= 80400)",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 7205,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"probin\")",
          "old_line_content": "\t\tproallargtypes = proargmodes = proargnames = NULL;",
          "new_line_content": "\tprobin = PQgetvalue(res, 0, PQfnumber(res, \"probin\"));",
          "content_same": false
        },
        {
          "line": 7208,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"funcargs\")",
          "old_line_content": "\t{",
          "new_line_content": "\t\tfuncargs = PQgetvalue(res, 0, PQfnumber(res, \"funcargs\"));",
          "content_same": false
        },
        {
          "line": 7222,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"proisstrict\")",
          "old_line_content": "",
          "new_line_content": "\tproisstrict = PQgetvalue(res, 0, PQfnumber(res, \"proisstrict\"));",
          "content_same": false
        },
        {
          "line": 7223,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"prosecdef\")",
          "old_line_content": "\t/*",
          "new_line_content": "\tprosecdef = PQgetvalue(res, 0, PQfnumber(res, \"prosecdef\"));",
          "content_same": false
        },
        {
          "line": 7224,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"proconfig\")",
          "old_line_content": "\t * See backend/commands/functioncmds.c for details of how the 'AS' clause",
          "new_line_content": "\tproconfig = PQgetvalue(res, 0, PQfnumber(res, \"proconfig\"));",
          "content_same": false
        },
        {
          "line": 7225,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"procost\")",
          "old_line_content": "\t * is used.  In 8.4 and up, an unused probin is NULL (here \"\"); previous",
          "new_line_content": "\tprocost = PQgetvalue(res, 0, PQfnumber(res, \"procost\"));",
          "content_same": false
        },
        {
          "line": 7226,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"prorows\")",
          "old_line_content": "\t * versions would set it to \"-\".  There are no known cases in which prosrc",
          "new_line_content": "\tprorows = PQgetvalue(res, 0, PQfnumber(res, \"prorows\"));",
          "content_same": false
        },
        {
          "line": 7227,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"lanname\")",
          "old_line_content": "\t * is unused, so the tests below for \"-\" are probably useless.",
          "new_line_content": "\tlanname = PQgetvalue(res, 0, PQfnumber(res, \"lanname\"));",
          "content_same": false
        },
        {
          "line": 7237,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(asPart, \"AS \")",
          "old_line_content": "\t\t\t/*",
          "new_line_content": "\t\tappendPQExpBuffer(asPart, \"AS \");",
          "content_same": false
        },
        {
          "line": 7238,
          "old_api": null,
          "new_api": "appendStringLiteralAH",
          "old_text": null,
          "new_text": "appendStringLiteralAH(asPart, probin, fout)",
          "old_line_content": "\t\t\t * where we have bin, use dollar quoting if allowed and src",
          "new_line_content": "\t\tappendStringLiteralAH(asPart, probin, fout);",
          "content_same": false
        },
        {
          "line": 7239,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(prosrc, \"-\")",
          "old_line_content": "\t\t\t * contains quote or backslash; else use regular quoting.",
          "new_line_content": "\t\tif (strcmp(prosrc, \"-\") != 0)",
          "content_same": false
        },
        {
          "line": 7241,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(asPart, \", \")",
          "old_line_content": "\t\t\tif (disable_dollar_quoting ||",
          "new_line_content": "\t\t\tappendPQExpBuffer(asPart, \", \");",
          "content_same": false
        },
        {
          "line": 7248,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(prosrc, '\\\\')",
          "old_line_content": "\telse",
          "new_line_content": "\t\t\t  (strchr(prosrc, '\\'') == NULL && strchr(prosrc, '\\\\') == NULL))",
          "content_same": false
        },
        {
          "line": 7249,
          "old_api": null,
          "new_api": "appendStringLiteralAH",
          "old_text": null,
          "new_text": "appendStringLiteralAH(asPart, prosrc, fout)",
          "old_line_content": "\t{",
          "new_line_content": "\t\t\t\tappendStringLiteralAH(asPart, prosrc, fout);",
          "content_same": false
        },
        {
          "line": 7251,
          "old_api": null,
          "new_api": "appendStringLiteralDQ",
          "old_text": null,
          "new_text": "appendStringLiteralDQ(asPart, prosrc, NULL)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\t\tappendStringLiteralDQ(asPart, prosrc, NULL);",
          "content_same": false
        },
        {
          "line": 7256,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(prosrc, \"-\")",
          "old_line_content": "\t\t\telse",
          "new_line_content": "\t\tif (strcmp(prosrc, \"-\") != 0)",
          "content_same": false
        },
        {
          "line": 7258,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(asPart, \"AS \")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tappendPQExpBuffer(asPart, \"AS \");",
          "content_same": false
        },
        {
          "line": 7261,
          "old_api": null,
          "new_api": "appendStringLiteralAH",
          "old_text": null,
          "new_text": "appendStringLiteralAH(asPart, prosrc, fout)",
          "old_line_content": "\tnallargs = finfo->nargs;\t/* unless we learn different from allargs */",
          "new_line_content": "\t\t\t\tappendStringLiteralAH(asPart, prosrc, fout);",
          "content_same": false
        },
        {
          "line": 7263,
          "old_api": null,
          "new_api": "appendStringLiteralDQ",
          "old_text": null,
          "new_text": "appendStringLiteralDQ(asPart, prosrc, NULL)",
          "old_line_content": "\tif (proallargtypes && *proallargtypes)",
          "new_line_content": "\t\t\t\tappendStringLiteralDQ(asPart, prosrc, NULL);",
          "content_same": false
        },
        {
          "line": 7273,
          "old_api": null,
          "new_api": "parsePGArray",
          "old_text": null,
          "new_text": "parsePGArray(proallargtypes, &allargtypes, &nitems)",
          "old_line_content": "\t\t\tallargtypes = NULL;",
          "new_line_content": "\t\tif (!parsePGArray(proallargtypes, &allargtypes, &nitems) ||",
          "content_same": false
        },
        {
          "line": 7276,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"WARNING: could not parse proallargtypes array\\n\")",
          "old_line_content": "\t\t\tnallargs = nitems;",
          "new_line_content": "\t\t\twrite_msg(NULL, \"WARNING: could not parse proallargtypes array\\n\");",
          "content_same": false
        },
        {
          "line": 7278,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(allargtypes)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tfree(allargtypes);",
          "content_same": false
        },
        {
          "line": 7289,
          "old_api": null,
          "new_api": "parsePGArray",
          "old_text": null,
          "new_text": "parsePGArray(proargmodes, &argmodes, &nitems)",
          "old_line_content": "\t\t\targmodes = NULL;",
          "new_line_content": "\t\tif (!parsePGArray(proargmodes, &argmodes, &nitems) ||",
          "content_same": false
        },
        {
          "line": 7292,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"WARNING: could not parse proargmodes array\\n\")",
          "old_line_content": "",
          "new_line_content": "\t\t\twrite_msg(NULL, \"WARNING: could not parse proargmodes array\\n\");",
          "content_same": false
        },
        {
          "line": 7294,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(argmodes)",
          "old_line_content": "\t{",
          "new_line_content": "\t\t\t\tfree(argmodes);",
          "content_same": false
        },
        {
          "line": 7303,
          "old_api": null,
          "new_api": "parsePGArray",
          "old_text": null,
          "new_text": "parsePGArray(proargnames, &argnames, &nitems)",
          "old_line_content": "\t\t\targnames = NULL;",
          "new_line_content": "\t\tif (!parsePGArray(proargnames, &argnames, &nitems) ||",
          "content_same": false
        },
        {
          "line": 7306,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"WARNING: could not parse proargnames array\\n\")",
          "old_line_content": "",
          "new_line_content": "\t\t\twrite_msg(NULL, \"WARNING: could not parse proargnames array\\n\");",
          "content_same": false
        },
        {
          "line": 7308,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(argnames)",
          "old_line_content": "\t{",
          "new_line_content": "\t\t\t\tfree(argnames);",
          "content_same": false
        },
        {
          "line": 7315,
          "old_api": null,
          "new_api": "parsePGArray",
          "old_text": null,
          "new_text": "parsePGArray(proconfig, &configitems, &nconfigitems)",
          "old_line_content": "\t\t\tnconfigitems = 0;",
          "new_line_content": "\t\tif (!parsePGArray(proconfig, &configitems, &nconfigitems))",
          "content_same": false
        },
        {
          "line": 7317,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"WARNING: could not parse proconfig array\\n\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\twrite_msg(NULL, \"WARNING: could not parse proconfig array\\n\");",
          "content_same": false
        },
        {
          "line": 7319,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(configitems)",
          "old_line_content": "\tif (funcargs)",
          "new_line_content": "\t\t\t\tfree(configitems);",
          "content_same": false
        },
        {
          "line": 7329,
          "old_api": null,
          "new_api": "format_function_arguments",
          "old_text": null,
          "new_text": "format_function_arguments(finfo, funciargs)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t\t\targmodes, argnames);",
          "new_line_content": "\t\tfuncsig = format_function_arguments(finfo, funciargs);",
          "content_same": false
        },
        {
          "line": 7334,
          "old_api": null,
          "new_api": "format_function_arguments_old",
          "old_text": null,
          "new_text": "format_function_arguments_old(finfo, nallargs, allargtypes,\n\t\t\t\t\t\t\t\t\t\t\t\targmodes, argnames)",
          "old_line_content": "",
          "new_line_content": "\t\tfuncsig = format_function_arguments_old(finfo, nallargs, allargtypes,",
          "content_same": false
        },
        {
          "line": 7345,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(finfo->dobj.namespace->dobj.name)",
          "old_line_content": "\telse",
          "new_line_content": "\t\t\t\t\t  fmtId(finfo->dobj.namespace->dobj.name),",
          "content_same": false
        },
        {
          "line": 7350,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"RETURNS %s\", funcresult)",
          "old_line_content": "\t\t\t\t\t\t  rettypename);",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"RETURNS %s\", funcresult);",
          "content_same": false
        },
        {
          "line": 7353,
          "old_api": null,
          "new_api": "getFormattedTypeName",
          "old_text": null,
          "new_text": "getFormattedTypeName(finfo->prorettype, zeroAsOpaque)",
          "old_line_content": "",
          "new_line_content": "\t\trettypename = getFormattedTypeName(finfo->prorettype, zeroAsOpaque);",
          "content_same": false
        },
        {
          "line": 7360,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(lanname)",
          "old_line_content": "\t{",
          "new_line_content": "\tappendPQExpBuffer(q, \"\\n    LANGUAGE %s\", fmtId(lanname));",
          "content_same": false
        },
        {
          "line": 7363,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" WINDOW\")",
          "old_line_content": "\t\telse if (provolatile[0] == PROVOLATILE_STABLE)",
          "new_line_content": "\t\tappendPQExpBuffer(q, \" WINDOW\");",
          "content_same": false
        },
        {
          "line": 7368,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" IMMUTABLE\")",
          "old_line_content": "\t\t\t\t\t  finfo->dobj.name);",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \" IMMUTABLE\");",
          "content_same": false
        },
        {
          "line": 7370,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" STABLE\")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \" STABLE\");",
          "content_same": false
        },
        {
          "line": 7373,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"unrecognized provolatile value for function \\\"%s\\\"\\n\",\n\t\t\t\t\t  finfo->dobj.name)",
          "old_line_content": "\tif (proisstrict[0] == 't')",
          "new_line_content": "\t\t\twrite_msg(NULL, \"unrecognized provolatile value for function \\\"%s\\\"\\n\",",
          "content_same": false
        },
        {
          "line": 7375,
          "old_api": null,
          "new_api": "exit_nicely",
          "old_text": null,
          "new_text": "exit_nicely()",
          "old_line_content": "",
          "new_line_content": "\t\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 7380,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" STRICT\")",
          "old_line_content": "\t * COST and ROWS are emitted only if present and not default, so as not to",
          "new_line_content": "\t\tappendPQExpBuffer(q, \" STRICT\");",
          "content_same": false
        },
        {
          "line": 7383,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" SECURITY DEFINER\")",
          "old_line_content": "\t */",
          "new_line_content": "\t\tappendPQExpBuffer(q, \" SECURITY DEFINER\");",
          "content_same": false
        },
        {
          "line": 7392,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(lanname, \"c\")",
          "old_line_content": "\t\telse",
          "new_line_content": "\t\tif (strcmp(lanname, \"internal\") == 0 || strcmp(lanname, \"c\") == 0)",
          "content_same": false
        },
        {
          "line": 7402,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" COST %s\", procost)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tappendPQExpBuffer(q, \" COST %s\", procost);",
          "content_same": false
        },
        {
          "line": 7406,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(prorows, \"1000\")",
          "old_line_content": "\t\tchar\t   *configitem = configitems[i];",
          "new_line_content": "\t\tstrcmp(prorows, \"0\") != 0 && strcmp(prorows, \"1000\") != 0)",
          "content_same": false
        },
        {
          "line": 7407,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" ROWS %s\", prorows)",
          "old_line_content": "\t\tchar\t   *pos;",
          "new_line_content": "\t\tappendPQExpBuffer(q, \" ROWS %s\", prorows);",
          "content_same": false
        },
        {
          "line": 7415,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(configitem, '=')",
          "old_line_content": "\t\t/*",
          "new_line_content": "\t\tpos = strchr(configitem, '=');",
          "content_same": false
        },
        {
          "line": 7425,
          "old_api": null,
          "new_api": "pg_strcasecmp",
          "old_text": null,
          "new_text": "pg_strcasecmp(configitem, \"DateStyle\")",
          "old_line_content": "",
          "new_line_content": "\t\tif (pg_strcasecmp(configitem, \"DateStyle\") == 0",
          "content_same": false
        },
        {
          "line": 7427,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"%s\", pos)",
          "old_line_content": "",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \"%s\", pos);",
          "content_same": false
        },
        {
          "line": 7429,
          "old_api": null,
          "new_api": "appendStringLiteralAH",
          "old_text": null,
          "new_text": "appendStringLiteralAH(q, pos, fout)",
          "old_line_content": "\t\t\t\t funcsig_tag,",
          "new_line_content": "\t\t\tappendStringLiteralAH(q, pos, fout);",
          "content_same": false
        },
        {
          "line": 7432,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"\\n    %s;\\n\", asPart->data)",
          "old_line_content": "\t\t\t\t finfo->rolname, false,",
          "new_line_content": "\tappendPQExpBuffer(q, \"\\n    %s;\\n\", asPart->data);",
          "content_same": false
        },
        {
          "line": 7434,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, finfo->dobj.catId, finfo->dobj.dumpId,\n\t\t\t\t funcsig_tag,\n\t\t\t\t finfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t finfo->rolname, false,\n\t\t\t\t \"FUNCTION\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delqry->data, NULL,\n\t\t\t\t finfo->dobj.dependencies, finfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t q->data, delqry->data, NULL,",
          "new_line_content": "\tArchiveEntry(fout, finfo->dobj.catId, finfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 7446,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"FUNCTION %s\", funcsig)",
          "old_line_content": "\t\t\tfuncsig, NULL, funcsig_tag,",
          "new_line_content": "\tappendPQExpBuffer(q, \"FUNCTION %s\", funcsig);",
          "content_same": false
        },
        {
          "line": 7447,
          "old_api": null,
          "new_api": "dumpComment",
          "old_text": null,
          "new_text": "dumpComment(fout, q->data,\n\t\t\t\tfinfo->dobj.namespace->dobj.name, finfo->rolname,\n\t\t\t\tfinfo->dobj.catId, 0, finfo->dobj.dumpId)",
          "old_line_content": "\t\t\tfinfo->dobj.namespace->dobj.name,",
          "new_line_content": "\tdumpComment(fout, q->data,",
          "content_same": false
        },
        {
          "line": 7451,
          "old_api": null,
          "new_api": "dumpACL",
          "old_text": null,
          "new_text": "dumpACL(fout, finfo->dobj.catId, finfo->dobj.dumpId, \"FUNCTION\",\n\t\t\tfuncsig, NULL, funcsig_tag,\n\t\t\tfinfo->dobj.namespace->dobj.name,\n\t\t\tfinfo->rolname, finfo->proacl)",
          "old_line_content": "",
          "new_line_content": "\tdumpACL(fout, finfo->dobj.catId, finfo->dobj.dumpId, \"FUNCTION\",",
          "content_same": false
        },
        {
          "line": 7458,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": "\tif (allargtypes)",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 7460,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delqry)",
          "old_line_content": "\tif (argmodes)",
          "new_line_content": "\tdestroyPQExpBuffer(delqry);",
          "content_same": false
        },
        {
          "line": 7462,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(funcsig)",
          "old_line_content": "\tif (argnames)",
          "new_line_content": "\tfree(funcsig);",
          "content_same": false
        },
        {
          "line": 7467,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(argmodes)",
          "old_line_content": "",
          "new_line_content": "\t\tfree(argmodes);",
          "content_same": false
        },
        {
          "line": 7469,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(argnames)",
          "old_line_content": "/*",
          "new_line_content": "\t\tfree(argnames);",
          "content_same": false
        },
        {
          "line": 7471,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(configitems)",
          "old_line_content": " */",
          "new_line_content": "\t\tfree(configitems);",
          "content_same": false
        },
        {
          "line": 7491,
          "old_api": null,
          "new_api": "OidIsValid",
          "old_text": null,
          "new_text": "OidIsValid(cast->castfunc)",
          "old_line_content": "",
          "new_line_content": "\tif (OidIsValid(cast->castfunc))",
          "content_same": false
        },
        {
          "line": 7493,
          "old_api": null,
          "new_api": "findFuncByOid",
          "old_text": null,
          "new_text": "findFuncByOid(cast->castfunc)",
          "old_line_content": "\t * As per discussion we dump casts if one or more of the underlying",
          "new_line_content": "\t\tfuncInfo = findFuncByOid(cast->castfunc);",
          "content_same": false
        },
        {
          "line": 7504,
          "old_api": null,
          "new_api": "findTypeByOid",
          "old_text": null,
          "new_text": "findTypeByOid(cast->castsource)",
          "old_line_content": "\t/*",
          "new_line_content": "\tsourceInfo = findTypeByOid(cast->castsource);",
          "content_same": false
        },
        {
          "line": 7505,
          "old_api": null,
          "new_api": "findTypeByOid",
          "old_text": null,
          "new_text": "findTypeByOid(cast->casttarget)",
          "old_line_content": "\t * Skip this cast if all objects are from pg_",
          "new_line_content": "\ttargetInfo = findTypeByOid(cast->casttarget);",
          "content_same": false
        },
        {
          "line": 7514,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(funcInfo->dobj.namespace->dobj.name, \"pg_\", 3)",
          "old_line_content": "\t * Skip cast if function isn't from pg_ and is not to be dumped.",
          "new_line_content": "\t\t strncmp(funcInfo->dobj.namespace->dobj.name, \"pg_\", 3) == 0) &&",
          "content_same": false
        },
        {
          "line": 7515,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(sourceInfo->dobj.namespace->dobj.name, \"pg_\", 3)",
          "old_line_content": "\t */",
          "new_line_content": "\t\tstrncmp(sourceInfo->dobj.namespace->dobj.name, \"pg_\", 3) == 0 &&",
          "content_same": false
        },
        {
          "line": 7516,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(targetInfo->dobj.namespace->dobj.name, \"pg_\", 3)",
          "old_line_content": "\tif (funcInfo &&",
          "new_line_content": "\t\tstrncmp(targetInfo->dobj.namespace->dobj.name, \"pg_\", 3) == 0)",
          "content_same": false
        },
        {
          "line": 7523,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(funcInfo->dobj.namespace->dobj.name, \"pg_\", 3)",
          "old_line_content": "\t */",
          "new_line_content": "\t\tstrncmp(funcInfo->dobj.namespace->dobj.name, \"pg_\", 3) != 0 &&",
          "content_same": false
        },
        {
          "line": 7530,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(sourceInfo->dobj.namespace->dobj.name, \"pg_\", 3)",
          "old_line_content": "\t */",
          "new_line_content": "\tif (strncmp(sourceInfo->dobj.namespace->dobj.name, \"pg_\", 3) != 0 &&",
          "content_same": false
        },
        {
          "line": 7537,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp(targetInfo->dobj.namespace->dobj.name, \"pg_\", 3)",
          "old_line_content": "",
          "new_line_content": "\tif (strncmp(targetInfo->dobj.namespace->dobj.name, \"pg_\", 3) != 0 &&",
          "content_same": false
        },
        {
          "line": 7545,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "",
          "new_line_content": "\tdelqry = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 7549,
          "old_api": null,
          "new_api": "getFormattedTypeName",
          "old_text": null,
          "new_text": "getFormattedTypeName(cast->castsource, zeroAsNone)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t  getFormattedTypeName(cast->castsource, zeroAsNone),",
          "content_same": false
        },
        {
          "line": 7550,
          "old_api": null,
          "new_api": "getFormattedTypeName",
          "old_text": null,
          "new_text": "getFormattedTypeName(cast->casttarget, zeroAsNone)",
          "old_line_content": "\tswitch(cast->castmethod)",
          "new_line_content": "\t\t\t\t\t  getFormattedTypeName(cast->casttarget, zeroAsNone));",
          "content_same": false
        },
        {
          "line": 7552,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(defqry, \"CREATE CAST (%s AS %s) \",\n\t\t\t\t\t  getFormattedTypeName(cast->castsource, zeroAsNone),\n\t\t\t\t\t  getFormattedTypeName(cast->casttarget, zeroAsNone))",
          "old_line_content": "\t\tcase COERCION_METHOD_BINARY:",
          "new_line_content": "\tappendPQExpBuffer(defqry, \"CREATE CAST (%s AS %s) \",",
          "content_same": false
        },
        {
          "line": 7554,
          "old_api": null,
          "new_api": "getFormattedTypeName",
          "old_text": null,
          "new_text": "getFormattedTypeName(cast->casttarget, zeroAsNone)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\t  getFormattedTypeName(cast->casttarget, zeroAsNone));",
          "content_same": false
        },
        {
          "line": 7559,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(defqry, \"WITHOUT FUNCTION\")",
          "old_line_content": "\t\t\t/*",
          "new_line_content": "\t\t\tappendPQExpBuffer(defqry, \"WITHOUT FUNCTION\");",
          "content_same": false
        },
        {
          "line": 7562,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(defqry, \"WITH INOUT\")",
          "old_line_content": "\t\t\t */",
          "new_line_content": "\t\t\tappendPQExpBuffer(defqry, \"WITH INOUT\");",
          "content_same": false
        },
        {
          "line": 7570,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(funcInfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\t\t\t\t  fmtId(funcInfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 7571,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(defqry, \"%s\",\n\t\t\t\t\t\t\t  format_function_signature(funcInfo, true))",
          "old_line_content": "",
          "new_line_content": "\t\t\tappendPQExpBuffer(defqry, \"%s\",",
          "content_same": false
        },
        {
          "line": 7572,
          "old_api": null,
          "new_api": "format_function_signature",
          "old_text": null,
          "new_text": "format_function_signature(funcInfo, true)",
          "old_line_content": "\tif (cast->castcontext == 'a')",
          "new_line_content": "\t\t\t\t\t\t\t  format_function_signature(funcInfo, true));",
          "content_same": false
        },
        {
          "line": 7581,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(defqry, \" AS IMPLICIT\")",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(defqry, \" AS IMPLICIT\");",
          "content_same": false
        },
        {
          "line": 7584,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(castsig, \"CAST (%s AS %s)\",\n\t\t\t\t\t  getFormattedTypeName(cast->castsource, zeroAsNone),\n\t\t\t\t\t  getFormattedTypeName(cast->casttarget, zeroAsNone))",
          "old_line_content": "\t\t\t\t \"pg_catalog\", NULL, \"\",",
          "new_line_content": "\tappendPQExpBuffer(castsig, \"CAST (%s AS %s)\",",
          "content_same": false
        },
        {
          "line": 7585,
          "old_api": null,
          "new_api": "getFormattedTypeName",
          "old_text": null,
          "new_text": "getFormattedTypeName(cast->castsource, zeroAsNone)",
          "old_line_content": "\t\t\t\t false, \"CAST\", SECTION_PRE_DATA,",
          "new_line_content": "\t\t\t\t\t  getFormattedTypeName(cast->castsource, zeroAsNone),",
          "content_same": false
        },
        {
          "line": 7586,
          "old_api": null,
          "new_api": "getFormattedTypeName",
          "old_text": null,
          "new_text": "getFormattedTypeName(cast->casttarget, zeroAsNone)",
          "old_line_content": "\t\t\t\t defqry->data, delqry->data, NULL,",
          "new_line_content": "\t\t\t\t\t  getFormattedTypeName(cast->casttarget, zeroAsNone));",
          "content_same": false
        },
        {
          "line": 7588,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, cast->dobj.catId, cast->dobj.dumpId,\n\t\t\t\t castsig->data,\n\t\t\t\t \"pg_catalog\", NULL, \"\",\n\t\t\t\t false, \"CAST\", SECTION_PRE_DATA,\n\t\t\t\t defqry->data, delqry->data, NULL,\n\t\t\t\t cast->dobj.dependencies, cast->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t NULL, NULL);",
          "new_line_content": "\tArchiveEntry(fout, cast->dobj.catId, cast->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 7597,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(defqry)",
          "old_line_content": "\t\t\t\tcast->dobj.catId, 0, cast->dobj.dumpId);",
          "new_line_content": "\tresetPQExpBuffer(defqry);",
          "content_same": false
        },
        {
          "line": 7598,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(defqry, \"CAST (%s AS %s)\",\n\t\t\t\t\t  getFormattedTypeName(cast->castsource, zeroAsNone),\n\t\t\t\t\t  getFormattedTypeName(cast->casttarget, zeroAsNone))",
          "old_line_content": "",
          "new_line_content": "\tappendPQExpBuffer(defqry, \"CAST (%s AS %s)\",",
          "content_same": false
        },
        {
          "line": 7605,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(defqry)",
          "old_line_content": " * dumpOpr",
          "new_line_content": "\tdestroyPQExpBuffer(defqry);",
          "content_same": false
        },
        {
          "line": 7606,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delqry)",
          "old_line_content": " *\t  write out a single operator definition",
          "new_line_content": "\tdestroyPQExpBuffer(delqry);",
          "content_same": false
        },
        {
          "line": 7607,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(castsig)",
          "old_line_content": " */",
          "new_line_content": "\tdestroyPQExpBuffer(castsig);",
          "content_same": false
        },
        {
          "line": 7657,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t/* Make sure we are in proper schema so regoperator works correctly */",
          "new_line_content": "\tquery = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 7659,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "",
          "new_line_content": "\tdelq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 7660,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tif (g_fout->remoteVersion >= 80300)",
          "new_line_content": "\toprid = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 7661,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t{",
          "new_line_content": "\tdetails = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 7664,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(oprinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\t\t\t\t  \"oprleft::pg_catalog.regtype, \"",
          "new_line_content": "\tselectSourceSchema(oprinfo->dobj.namespace->dobj.name);",
          "content_same": false
        },
        {
          "line": 7668,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT oprkind, \"\n\t\t\t\t\t\t  \"oprcode::pg_catalog.regprocedure, \"\n\t\t\t\t\t\t  \"oprleft::pg_catalog.regtype, \"\n\t\t\t\t\t\t  \"oprright::pg_catalog.regtype, \"\n\t\t\t\t\t\t  \"oprcom::pg_catalog.regoperator, \"\n\t\t\t\t\t\t  \"oprnegate::pg_catalog.regoperator, \"\n\t\t\t\t\t\t  \"oprrest::pg_catalog.regprocedure, \"\n\t\t\t\t\t\t  \"oprjoin::pg_catalog.regprocedure, \"\n\t\t\t\t\t\t  \"oprcanmerge, oprcanhash \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_operator \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  oprinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"oprrest::pg_catalog.regprocedure, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT oprkind, \"",
          "content_same": false
        },
        {
          "line": 7683,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT oprkind, \"\n\t\t\t\t\t\t  \"oprcode::pg_catalog.regprocedure, \"\n\t\t\t\t\t\t  \"oprleft::pg_catalog.regtype, \"\n\t\t\t\t\t\t  \"oprright::pg_catalog.regtype, \"\n\t\t\t\t\t\t  \"oprcom::pg_catalog.regoperator, \"\n\t\t\t\t\t\t  \"oprnegate::pg_catalog.regoperator, \"\n\t\t\t\t\t\t  \"oprrest::pg_catalog.regprocedure, \"\n\t\t\t\t\t\t  \"oprjoin::pg_catalog.regprocedure, \"\n\t\t\t\t\t\t  \"(oprlsortop != 0) AS oprcanmerge, \"\n\t\t\t\t\t\t  \"oprcanhash \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_operator \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  oprinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"oprrest::pg_catalog.regprocedure, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT oprkind, \"",
          "content_same": false
        },
        {
          "line": 7699,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT oprkind, oprcode, \"\n\t\t\t\t\t\t  \"CASE WHEN oprleft = 0 THEN '-' \"\n\t\t\t\t\t\t  \"ELSE format_type(oprleft, NULL) END AS oprleft, \"\n\t\t\t\t\t\t  \"CASE WHEN oprright = 0 THEN '-' \"\n\t\t\t\t\t\t  \"ELSE format_type(oprright, NULL) END AS oprright, \"\n\t\t\t\t\t\t  \"oprcom, oprnegate, oprrest, oprjoin, \"\n\t\t\t\t\t\t  \"(oprlsortop != 0) AS oprcanmerge, \"\n\t\t\t\t\t\t  \"oprcanhash \"\n\t\t\t\t\t\t  \"FROM pg_operator \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::oid\",\n\t\t\t\t\t\t  oprinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"(oprlsortop != 0) AS oprcanmerge, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT oprkind, oprcode, \"",
          "content_same": false
        },
        {
          "line": 7713,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT oprkind, oprcode, \"\n\t\t\t\t\t\t  \"CASE WHEN oprleft = 0 THEN '-'::name \"\n\t\t\t\t\t\t  \"ELSE (SELECT typname FROM pg_type WHERE oid = oprleft) END AS oprleft, \"\n\t\t\t\t\t\t  \"CASE WHEN oprright = 0 THEN '-'::name \"\n\t\t\t\t\t\t  \"ELSE (SELECT typname FROM pg_type WHERE oid = oprright) END AS oprright, \"\n\t\t\t\t\t\t  \"oprcom, oprnegate, oprrest, oprjoin, \"\n\t\t\t\t\t\t  \"(oprlsortop != 0) AS oprcanmerge, \"\n\t\t\t\t\t\t  \"oprcanhash \"\n\t\t\t\t\t\t  \"FROM pg_operator \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::oid\",\n\t\t\t\t\t\t  oprinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"(oprlsortop != 0) AS oprcanmerge, \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT oprkind, oprcode, \"",
          "content_same": false
        },
        {
          "line": 7726,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t{",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 7730,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "\t}",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 7742,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"oprcom\")",
          "old_line_content": "",
          "new_line_content": "\ti_oprcom = PQfnumber(res, \"oprcom\");",
          "content_same": false
        },
        {
          "line": 7753,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, i_oprcom)",
          "old_line_content": "",
          "new_line_content": "\toprcom = PQgetvalue(res, 0, i_oprcom);",
          "content_same": false
        },
        {
          "line": 7756,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, i_oprjoin)",
          "old_line_content": "",
          "new_line_content": "\toprjoin = PQgetvalue(res, 0, i_oprjoin);",
          "content_same": false
        },
        {
          "line": 7758,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, i_oprcanhash)",
          "old_line_content": "\t\t\t\t\t  oprinfo->dobj.name);",
          "new_line_content": "\toprcanhash = PQgetvalue(res, 0, i_oprcanhash);",
          "content_same": false
        },
        {
          "line": 7760,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(details, \"    PROCEDURE = %s\",\n\t\t\t\t\t  convertRegProcReference(oprcode))",
          "old_line_content": "\t/*",
          "new_line_content": "\tappendPQExpBuffer(details, \"    PROCEDURE = %s\",",
          "content_same": false
        },
        {
          "line": 7761,
          "old_api": null,
          "new_api": "convertRegProcReference",
          "old_text": null,
          "new_text": "convertRegProcReference(oprcode)",
          "old_line_content": "\t * right unary means there's a left arg and left unary means there's a",
          "new_line_content": "\t\t\t\t\t  convertRegProcReference(oprcode));",
          "content_same": false
        },
        {
          "line": 7763,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(oprid, \"%s (\",\n\t\t\t\t\t  oprinfo->dobj.name)",
          "old_line_content": "\t */",
          "new_line_content": "\tappendPQExpBuffer(oprid, \"%s (\",",
          "content_same": false
        },
        {
          "line": 7776,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(oprleft)",
          "old_line_content": "",
          "new_line_content": "\t\t\tname = fmtId(oprleft);",
          "content_same": false
        },
        {
          "line": 7781,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(oprid, \"NONE\")",
          "old_line_content": "\t\t\tname = oprright;",
          "new_line_content": "\t\tappendPQExpBuffer(oprid, \"NONE\");",
          "content_same": false
        },
        {
          "line": 7789,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(oprright)",
          "old_line_content": "",
          "new_line_content": "\t\t\tname = fmtId(oprright);",
          "content_same": false
        },
        {
          "line": 7791,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(oprid, \", %s)\", name)",
          "old_line_content": "\tif (name)",
          "new_line_content": "\t\tappendPQExpBuffer(oprid, \", %s)\", name);",
          "content_same": false
        },
        {
          "line": 7800,
          "old_api": null,
          "new_api": "convertOperatorReference",
          "old_text": null,
          "new_text": "convertOperatorReference(oprnegate)",
          "old_line_content": "",
          "new_line_content": "\tname = convertOperatorReference(oprnegate);",
          "content_same": false
        },
        {
          "line": 7805,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(details, \",\\n    MERGES\")",
          "old_line_content": "\tif (name)",
          "new_line_content": "\t\tappendPQExpBuffer(details, \",\\n    MERGES\");",
          "content_same": false
        },
        {
          "line": 7807,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(oprcanhash, \"t\")",
          "old_line_content": "",
          "new_line_content": "\tif (strcmp(oprcanhash, \"t\") == 0)",
          "content_same": false
        },
        {
          "line": 7812,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(details, \",\\n    RESTRICT = %s\", name)",
          "old_line_content": "\t/*",
          "new_line_content": "\t\tappendPQExpBuffer(details, \",\\n    RESTRICT = %s\", name);",
          "content_same": false
        },
        {
          "line": 7814,
          "old_api": null,
          "new_api": "convertRegProcReference",
          "old_text": null,
          "new_text": "convertRegProcReference(oprjoin)",
          "old_line_content": "\t */",
          "new_line_content": "\tname = convertRegProcReference(oprjoin);",
          "content_same": false
        },
        {
          "line": 7821,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"DROP OPERATOR %s.%s;\\n\",\n\t\t\t\t\t  fmtId(oprinfo->dobj.namespace->dobj.name),\n\t\t\t\t\t  oprid->data)",
          "old_line_content": "",
          "new_line_content": "\tappendPQExpBuffer(delq, \"DROP OPERATOR %s.%s;\\n\",",
          "content_same": false
        },
        {
          "line": 7825,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"CREATE OPERATOR %s (\\n%s\\n);\\n\",\n\t\t\t\t\t  oprinfo->dobj.name, details->data)",
          "old_line_content": "\t\t\t\t NULL,",
          "new_line_content": "\tappendPQExpBuffer(q, \"CREATE OPERATOR %s (\\n%s\\n);\\n\",",
          "content_same": false
        },
        {
          "line": 7828,
          "old_api": null,
          "new_api": "ArchiveEntry",
          "old_text": null,
          "new_text": "ArchiveEntry(fout, oprinfo->dobj.catId, oprinfo->dobj.dumpId,\n\t\t\t\t oprinfo->dobj.name,\n\t\t\t\t oprinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t oprinfo->rolname,\n\t\t\t\t false, \"OPERATOR\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t oprinfo->dobj.dependencies, oprinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "old_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "new_line_content": "\tArchiveEntry(fout, oprinfo->dobj.catId, oprinfo->dobj.dumpId,",
          "content_same": false
        },
        {
          "line": 7840,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"OPERATOR %s\", oprid->data)",
          "old_line_content": "",
          "new_line_content": "\tappendPQExpBuffer(q, \"OPERATOR %s\", oprid->data);",
          "content_same": false
        },
        {
          "line": 7847,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(query)",
          "old_line_content": "",
          "new_line_content": "\tdestroyPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 7848,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(q)",
          "old_line_content": "/*",
          "new_line_content": "\tdestroyPQExpBuffer(q);",
          "content_same": false
        },
        {
          "line": 7849,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(delq)",
          "old_line_content": " * Convert a function reference obtained from pg_operator",
          "new_line_content": "\tdestroyPQExpBuffer(delq);",
          "content_same": false
        },
        {
          "line": 7850,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(oprid)",
          "old_line_content": " *",
          "new_line_content": "\tdestroyPQExpBuffer(oprid);",
          "content_same": false
        },
        {
          "line": 7851,
          "old_api": null,
          "new_api": "destroyPQExpBuffer",
          "old_text": null,
          "new_text": "destroyPQExpBuffer(details)",
          "old_line_content": " * Returns what to print, or NULL if function references is InvalidOid",
          "new_line_content": "\tdestroyPQExpBuffer(details);",
          "content_same": false
        },
        {
          "line": 7866,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(proc, \"-\")",
          "old_line_content": "\t\tchar\t   *paren;",
          "new_line_content": "\tif (strcmp(proc, \"-\") == 0)",
          "content_same": false
        },
        {
          "line": 7875,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(proc)",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\tname = strdup(proc);",
          "content_same": false
        },
        {
          "line": 7892,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(proc)",
          "old_line_content": " * Returns what to print, or NULL to print nothing",
          "new_line_content": "\treturn fmtId(proc);",
          "content_same": false
        },
        {
          "line": 7911,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(opr, \"0\")",
          "old_line_content": "\t\tchar\t   *oname;",
          "new_line_content": "\tif (strcmp(opr, \"0\") == 0)",
          "content_same": false
        },
        {
          "line": 7922,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(opr)",
          "old_line_content": "\t\t\tif (*ptr == '\"')",
          "new_line_content": "\t\tname = strdup(opr);",
          "content_same": false
        },
        {
          "line": 7942,
          "old_api": null,
          "new_api": "sprintf",
          "old_text": null,
          "new_text": "sprintf(oname, \"OPERATOR(%s)\", name)",
          "old_line_content": "\tif (oprInfo == NULL)",
          "new_line_content": "\t\tsprintf(oname, \"OPERATOR(%s)\", name);",
          "content_same": false
        },
        {
          "line": 7943,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(name)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tfree(name);",
          "content_same": false
        },
        {
          "line": 7947,
          "old_api": null,
          "new_api": "atooid",
          "old_text": null,
          "new_text": "atooid(opr)",
          "old_line_content": "\t}",
          "new_line_content": "\toprInfo = findOprByOid(atooid(opr));",
          "content_same": false
        },
        {
          "line": 7950,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"WARNING: could not find operator with OID %s\\n\",\n\t\t\t\t  opr)",
          "old_line_content": "",
          "new_line_content": "\t\twrite_msg(NULL, \"WARNING: could not find operator with OID %s\\n\",",
          "content_same": false
        },
        {
          "line": 7973,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(query, sizeof(query),\n\t\t\t \"SELECT '%u'::pg_catalog.regproc\", funcOid)",
          "old_line_content": "\tif (ntups != 1)",
          "new_line_content": "\tsnprintf(query, sizeof(query),",
          "content_same": false
        },
        {
          "line": 7976,
          "old_api": null,
          "new_api": "check_sql_result",
          "old_text": null,
          "new_text": "check_sql_result(res, g_conn, query, PGRES_TUPLES_OK)",
          "old_line_content": "\t\t\t\t  ntups, query);",
          "new_line_content": "\tcheck_sql_result(res, g_conn, query, PGRES_TUPLES_OK);",
          "content_same": false
        },
        {
          "line": 7978,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "\t}",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 7981,
          "old_api": null,
          "new_api": "write_msg",
          "old_text": null,
          "new_text": "write_msg(NULL, \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t  ntups, query)",
          "old_line_content": "",
          "new_line_content": "\t\twrite_msg(NULL, \"query returned %d rows instead of one: %s\\n\",",
          "content_same": false
        },
        {
          "line": 7983,
          "old_api": null,
          "new_api": "exit_nicely",
          "old_text": null,
          "new_text": "exit_nicely()",
          "old_line_content": "",
          "new_line_content": "\t\texit_nicely();",
          "content_same": false
        },
        {
          "line": 7986,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, 0)",
          "old_line_content": "",
          "new_line_content": "\tresult = strdup(PQgetvalue(res, 0, 0));",
          "content_same": false
        },
        {
          "line": 7988,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "/*",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 8043,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "",
          "new_line_content": "\tquery = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 8044,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\t/* Get additional fields from the pg_opclass row */",
          "new_line_content": "\tq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 8045,
          "old_api": null,
          "new_api": "createPQExpBuffer",
          "old_text": null,
          "new_text": "createPQExpBuffer()",
          "old_line_content": "\tif (g_fout->remoteVersion >= 80300)",
          "new_line_content": "\tdelq = createPQExpBuffer();",
          "content_same": false
        },
        {
          "line": 8048,
          "old_api": null,
          "new_api": "selectSourceSchema",
          "old_text": null,
          "new_text": "selectSourceSchema(opcinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t\t\t\t\t\t  \"opckeytype::pg_catalog.regtype, \"",
          "new_line_content": "\tselectSourceSchema(opcinfo->dobj.namespace->dobj.name);",
          "content_same": false
        },
        {
          "line": 8053,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT opcintype::pg_catalog.regtype, \"\n\t\t\t\t\t\t  \"opckeytype::pg_catalog.regtype, \"\n\t\t\t\t\t\t  \"opcdefault, \"\n\t\t\t\t\t\t  \"opfname AS opcfamily, \"\n\t\t\t\t\t\t  \"nspname AS opcfamilynsp, \"\n\t\t\t\t\t\t  \"(SELECT amname FROM pg_catalog.pg_am WHERE oid = opcmethod) AS amname \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_opclass c \"\n\t\t\t\t   \"LEFT JOIN pg_catalog.pg_opfamily f ON f.oid = opcfamily \"\n\t\t\t   \"LEFT JOIN pg_catalog.pg_namespace n ON n.oid = opfnamespace \"\n\t\t\t\t\t\t  \"WHERE c.oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  opcinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"FROM pg_catalog.pg_opclass c \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT opcintype::pg_catalog.regtype, \"",
          "content_same": false
        },
        {
          "line": 8067,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT opcintype::pg_catalog.regtype, \"\n\t\t\t\t\t\t  \"opckeytype::pg_catalog.regtype, \"\n\t\t\t\t\t\t  \"opcdefault, \"\n\t\t\t\t\t\t  \"NULL AS opcfamily, \"\n\t\t\t\t\t\t  \"NULL AS opcfamilynsp, \"\n\t\t\"(SELECT amname FROM pg_catalog.pg_am WHERE oid = opcamid) AS amname \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_opclass \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  opcinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"FROM pg_catalog.pg_opclass \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT opcintype::pg_catalog.regtype, \"",
          "content_same": false
        },
        {
          "line": 8078,
          "old_api": null,
          "new_api": "PQexec",
          "old_text": null,
          "new_text": "PQexec(g_conn, query->data)",
          "old_line_content": "\t{",
          "new_line_content": "\tres = PQexec(g_conn, query->data);",
          "content_same": false
        },
        {
          "line": 8082,
          "old_api": null,
          "new_api": "PQntuples",
          "old_text": null,
          "new_text": "PQntuples(res)",
          "old_line_content": "\t}",
          "new_line_content": "\tntups = PQntuples(res);",
          "content_same": false
        },
        {
          "line": 8090,
          "old_api": null,
          "new_api": "PQfnumber",
          "old_text": null,
          "new_text": "PQfnumber(res, \"opcintype\")",
          "old_line_content": "",
          "new_line_content": "\ti_opcintype = PQfnumber(res, \"opcintype\");",
          "content_same": false
        },
        {
          "line": 8098,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, i_opckeytype)",
          "old_line_content": "",
          "new_line_content": "\topckeytype = PQgetvalue(res, 0, i_opckeytype);",
          "content_same": false
        },
        {
          "line": 8099,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, i_opcdefault)",
          "old_line_content": "\t/*",
          "new_line_content": "\topcdefault = PQgetvalue(res, 0, i_opcdefault);",
          "content_same": false
        },
        {
          "line": 8100,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, i_opcfamily)",
          "old_line_content": "\t * DROP must be fully qualified in case same name appears in pg_catalog",
          "new_line_content": "\topcfamily = PQgetvalue(res, 0, i_opcfamily);",
          "content_same": false
        },
        {
          "line": 8101,
          "old_api": null,
          "new_api": "PQgetvalue",
          "old_text": null,
          "new_text": "PQgetvalue(res, 0, i_opcfamilynsp)",
          "old_line_content": "\t */",
          "new_line_content": "\topcfamilynsp = PQgetvalue(res, 0, i_opcfamilynsp);",
          "content_same": false
        },
        {
          "line": 8108,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(delq, \"DROP OPERATOR CLASS %s\",\n\t\t\t\t\t  fmtId(opcinfo->dobj.namespace->dobj.name))",
          "old_line_content": "",
          "new_line_content": "\tappendPQExpBuffer(delq, \"DROP OPERATOR CLASS %s\",",
          "content_same": false
        },
        {
          "line": 8109,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(opcinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t/* Build the fixed portion of the CREATE command */",
          "new_line_content": "\t\t\t\t\t  fmtId(opcinfo->dobj.namespace->dobj.name));",
          "content_same": false
        },
        {
          "line": 8120,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"FOR TYPE %s USING %s\",\n\t\t\t\t\t  opcintype,\n\t\t\t\t\t  fmtId(amname))",
          "old_line_content": "\t{",
          "new_line_content": "\tappendPQExpBuffer(q, \"FOR TYPE %s USING %s\",",
          "content_same": false
        },
        {
          "line": 8125,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(opcfamilynsp, opcinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t strcmp(opcfamilynsp, opcinfo->dobj.namespace->dobj.name) != 0))",
          "content_same": false
        },
        {
          "line": 8127,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \" FAMILY \")",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(q, \" FAMILY \");",
          "content_same": false
        },
        {
          "line": 8128,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(opcfamilynsp, opcinfo->dobj.namespace->dobj.name)",
          "old_line_content": "\tneedComma = false;",
          "new_line_content": "\t\tif (strcmp(opcfamilynsp, opcinfo->dobj.namespace->dobj.name) != 0)",
          "content_same": false
        },
        {
          "line": 8129,
          "old_api": null,
          "new_api": "fmtId",
          "old_text": null,
          "new_text": "fmtId(opcfamilynsp)",
          "old_line_content": "",
          "new_line_content": "\t\t\tappendPQExpBuffer(q, \"%s.\", fmtId(opcfamilynsp));",
          "content_same": false
        },
        {
          "line": 8136,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(opckeytype, \"-\")",
          "old_line_content": "",
          "new_line_content": "\tif (strcmp(opckeytype, \"-\") != 0)",
          "content_same": false
        },
        {
          "line": 8138,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(q, \"STORAGE %s\",\n\t\t\t\t\t\t  opckeytype)",
          "old_line_content": "",
          "new_line_content": "\t\tappendPQExpBuffer(q, \"STORAGE %s\",",
          "content_same": false
        },
        {
          "line": 8143,
          "old_api": null,
          "new_api": "PQclear",
          "old_text": null,
          "new_text": "PQclear(res)",
          "old_line_content": "",
          "new_line_content": "\tPQclear(res);",
          "content_same": false
        },
        {
          "line": 8148,
          "old_api": null,
          "new_api": "resetPQExpBuffer",
          "old_text": null,
          "new_text": "resetPQExpBuffer(query)",
          "old_line_content": "\t\t * pg_depend entries.",
          "new_line_content": "\tresetPQExpBuffer(query);",
          "content_same": false
        },
        {
          "line": 8160,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT amopstrategy, false AS amopreqcheck, \"\n\t\t\t\t\t\t  \"amopopr::pg_catalog.regoperator \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_amop ao, pg_catalog.pg_depend \"\n\t\t   \"WHERE refclassid = 'pg_catalog.pg_opclass'::pg_catalog.regclass \"\n\t\t\t\t\t\t  \"AND refobjid = '%u'::pg_catalog.oid \"\n\t\t\t\t   \"AND classid = 'pg_catalog.pg_amop'::pg_catalog.regclass \"\n\t\t\t\t\t\t  \"AND objid = ao.oid \"\n\t\t\t\t\t\t  \"ORDER BY amopstrategy\",\n\t\t\t\t\t\t  opcinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"AND objid = ao.oid \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT amopstrategy, false AS amopreqcheck, \"",
          "content_same": false
        },
        {
          "line": 8176,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT amopstrategy, amopreqcheck, \"\n\t\t\t\t\t\t  \"amopopr::pg_catalog.regoperator \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_amop ao, pg_catalog.pg_depend \"\n\t\t   \"WHERE refclassid = 'pg_catalog.pg_opclass'::pg_catalog.regclass \"\n\t\t\t\t\t\t  \"AND refobjid = '%u'::pg_catalog.oid \"\n\t\t\t\t   \"AND classid = 'pg_catalog.pg_amop'::pg_catalog.regclass \"\n\t\t\t\t\t\t  \"AND objid = ao.oid \"\n\t\t\t\t\t\t  \"ORDER BY amopstrategy\",\n\t\t\t\t\t\t  opcinfo->dobj.catId.oid)",
          "old_line_content": "\t\t\t\t\t\t  \"AND objid = ao.oid \"",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT amopstrategy, amopreqcheck, \"",
          "content_same": false
        },
        {
          "line": 8188,
          "old_api": null,
          "new_api": "appendPQExpBuffer",
          "old_text": null,
          "new_text": "appendPQExpBuffer(query, \"SELECT amopstrategy, amopreqcheck, \"\n\t\t\t\t\t\t  \"amopopr::pg_catalog.regoperator \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_amop \"\n\t\t\t\t\t\t  \"WHERE amopclaid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t  \"ORDER BY amopstrategy\",\n\t\t\t\t\t\t  opcinfo->dobj.catId.oid)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tappendPQExpBuffer(query, \"SELECT amopstrategy, amopreqcheck, \"",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 8193,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t\t  opcinfo->dobj.catId.oid);",
          "content_same": false
        },
        {
          "line": 8195,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"amopstrategy\")",
          "new_text": null,
          "old_line_content": "\ti_amopstrategy = PQfnumber(res, \"amopstrategy\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8206,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \" ,\\n    \")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \" ,\\n    \");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 8210,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(amopreqcheck, \"t\")",
          "new_text": null,
          "old_line_content": "\t\tif (strcmp(amopreqcheck, \"t\") == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8211,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \" RECHECK\")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \" RECHECK\");",
          "new_line_content": "\t\tif (needComma)",
          "content_same": false
        },
        {
          "line": 8221,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(query);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8229,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT amprocnum, \"\n\t\t\t\t\t\t  \"amproc::pg_catalog.regprocedure \"\n\t\t\t\t\t\t\"FROM pg_catalog.pg_amproc ap, pg_catalog.pg_depend \"\n\t\t   \"WHERE refclassid = 'pg_catalog.pg_opclass'::pg_catalog.regclass \"\n\t\t\t\t\t\t  \"AND refobjid = '%u'::pg_catalog.oid \"\n\t\t\t\t \"AND classid = 'pg_catalog.pg_amproc'::pg_catalog.regclass \"\n\t\t\t\t\t\t  \"AND objid = ap.oid \"\n\t\t\t\t\t\t  \"ORDER BY amprocnum\",\n\t\t\t\t\t\t  opcinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT amprocnum, \"",
          "new_line_content": "\tif (g_fout->remoteVersion >= 80300)",
          "content_same": false
        },
        {
          "line": 8241,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT amprocnum, \"\n\t\t\t\t\t\t  \"amproc::pg_catalog.regprocedure \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_amproc \"\n\t\t\t\t\t\t  \"WHERE amopclaid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t  \"ORDER BY amprocnum\",\n\t\t\t\t\t\t  opcinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT amprocnum, \"",
          "new_line_content": "\t\t\t\t\t\t  \"AND objid = ap.oid \"",
          "content_same": false
        },
        {
          "line": 8249,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_catalog.pg_amproc \"",
          "content_same": false
        },
        {
          "line": 8250,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t  \"WHERE amopclaid = '%u'::pg_catalog.oid \"",
          "content_same": false
        },
        {
          "line": 8252,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t\t  opcinfo->dobj.catId.oid);",
          "content_same": false
        },
        {
          "line": 8254,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"amprocnum\")",
          "new_text": null,
          "old_line_content": "\ti_amprocnum = PQfnumber(res, \"amprocnum\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8259,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_amprocnum)",
          "new_text": null,
          "old_line_content": "\t\tamprocnum = PQgetvalue(res, i, i_amprocnum);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8263,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \" ,\\n    \")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \" ,\\n    \");",
          "new_line_content": "\tfor (i = 0; i < ntups; i++)",
          "content_same": false
        },
        {
          "line": 8273,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \";\\n\")",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \";\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8275,
          "old_api": "ArchiveEntry",
          "new_api": null,
          "old_text": "ArchiveEntry(fout, opcinfo->dobj.catId, opcinfo->dobj.dumpId,\n\t\t\t\t opcinfo->dobj.name,\n\t\t\t\t opcinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t opcinfo->rolname,\n\t\t\t\t false, \"OPERATOR CLASS\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t opcinfo->dobj.dependencies, opcinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": null,
          "old_line_content": "\tArchiveEntry(fout, opcinfo->dobj.catId, opcinfo->dobj.dumpId,",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 8286,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(q);",
          "new_line_content": "\t\t\t\t false, \"OPERATOR CLASS\", SECTION_PRE_DATA,",
          "content_same": false
        },
        {
          "line": 8287,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"OPERATOR CLASS %s\",\n\t\t\t\t\t  fmtId(opcinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"OPERATOR CLASS %s\",",
          "new_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "content_same": false
        },
        {
          "line": 8288,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(opcinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(opcinfo->dobj.name));",
          "new_line_content": "\t\t\t\t opcinfo->dobj.dependencies, opcinfo->dobj.nDeps,",
          "content_same": false
        },
        {
          "line": 8289,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \" USING %s\",\n\t\t\t\t\t  fmtId(amname))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \" USING %s\",",
          "new_line_content": "\t\t\t\t NULL, NULL);",
          "content_same": false
        },
        {
          "line": 8290,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(amname)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(amname));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8291,
          "old_api": "dumpComment",
          "new_api": null,
          "old_text": "dumpComment(fout, q->data,\n\t\t\t\tNULL, opcinfo->rolname,\n\t\t\t\topcinfo->dobj.catId, 0, opcinfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\tdumpComment(fout, q->data,",
          "new_line_content": "\t/* Dump Operator Class Comments */",
          "content_same": false
        },
        {
          "line": 8298,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(delq)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(delq);",
          "new_line_content": "\t\t\t\tNULL, opcinfo->rolname,",
          "content_same": false
        },
        {
          "line": 8347,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tquery = createPQExpBuffer();",
          "new_line_content": "\t * owner.  Otherwise it's sufficient to let it be created during creation",
          "content_same": false
        },
        {
          "line": 8348,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tq = createPQExpBuffer();",
          "new_line_content": "\t * of the contained opclass, and not dumping it improves portability of",
          "content_same": false
        },
        {
          "line": 8349,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdelq = createPQExpBuffer();",
          "new_line_content": "\t * the dump.  Since we have to fetch the loose operators/funcs anyway, do",
          "content_same": false
        },
        {
          "line": 8352,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(opfinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(opfinfo->dobj.namespace->dobj.name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8365,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT amopstrategy, false AS amopreqcheck, \"\n\t\t\t\t\t  \"amopopr::pg_catalog.regoperator \"\n\t\t\t\t\t  \"FROM pg_catalog.pg_amop ao, pg_catalog.pg_depend \"\n\t\t  \"WHERE refclassid = 'pg_catalog.pg_opfamily'::pg_catalog.regclass \"\n\t\t\t\t\t  \"AND refobjid = '%u'::pg_catalog.oid \"\n\t\t\t\t   \"AND classid = 'pg_catalog.pg_amop'::pg_catalog.regclass \"\n\t\t\t\t\t  \"AND objid = ao.oid \"\n\t\t\t\t\t  \"ORDER BY amopstrategy\",\n\t\t\t\t\t  opfinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT amopstrategy, false AS amopreqcheck, \"",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 8377,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT amopstrategy, amopreqcheck, \"\n\t\t\t\t\t  \"amopopr::pg_catalog.regoperator \"\n\t\t\t\t\t  \"FROM pg_catalog.pg_amop ao, pg_catalog.pg_depend \"\n\t\t  \"WHERE refclassid = 'pg_catalog.pg_opfamily'::pg_catalog.regclass \"\n\t\t\t\t\t  \"AND refobjid = '%u'::pg_catalog.oid \"\n\t\t\t\t   \"AND classid = 'pg_catalog.pg_amop'::pg_catalog.regclass \"\n\t\t\t\t\t  \"AND objid = ao.oid \"\n\t\t\t\t\t  \"ORDER BY amopstrategy\",\n\t\t\t\t\t  opfinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT amopstrategy, amopreqcheck, \"",
          "new_line_content": "\t\t\t\t\t  \"AND objid = ao.oid \"",
          "content_same": false
        },
        {
          "line": 8388,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres_ops = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t   \"AND classid = 'pg_catalog.pg_amop'::pg_catalog.regclass \"",
          "content_same": false
        },
        {
          "line": 8389,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res_ops, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res_ops, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t  \"AND objid = ao.oid \"",
          "content_same": false
        },
        {
          "line": 8391,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(query);",
          "new_line_content": "\t\t\t\t\t  opfinfo->dobj.catId.oid);",
          "content_same": false
        },
        {
          "line": 8393,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT amprocnum, \"\n\t\t\t\t\t  \"amproc::pg_catalog.regprocedure, \"\n\t\t\t\t\t  \"amproclefttype::pg_catalog.regtype, \"\n\t\t\t\t\t  \"amprocrighttype::pg_catalog.regtype \"\n\t\t\t\t\t  \"FROM pg_catalog.pg_amproc ap, pg_catalog.pg_depend \"\n\t\t  \"WHERE refclassid = 'pg_catalog.pg_opfamily'::pg_catalog.regclass \"\n\t\t\t\t\t  \"AND refobjid = '%u'::pg_catalog.oid \"\n\t\t\t\t \"AND classid = 'pg_catalog.pg_amproc'::pg_catalog.regclass \"\n\t\t\t\t\t  \"AND objid = ap.oid \"\n\t\t\t\t\t  \"ORDER BY amprocnum\",\n\t\t\t\t\t  opfinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \"SELECT amprocnum, \"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8405,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres_procs = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\t  \"AND refobjid = '%u'::pg_catalog.oid \"",
          "content_same": false
        },
        {
          "line": 8406,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res_procs, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res_procs, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t \"AND classid = 'pg_catalog.pg_amproc'::pg_catalog.regclass \"",
          "content_same": false
        },
        {
          "line": 8408,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res_procs)",
          "new_text": null,
          "old_line_content": "\tif (PQntuples(res_ops) == 0 && PQntuples(res_procs) == 0)",
          "new_line_content": "\t\t\t\t\t  \"ORDER BY amprocnum\",",
          "content_same": false
        },
        {
          "line": 8413,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT 1 \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_opclass c, pg_catalog.pg_opfamily f, pg_catalog.pg_depend \"\n\t\t\t\t\t\t  \"WHERE f.oid = '%u'::pg_catalog.oid \"\n\t\t\t\"AND refclassid = 'pg_catalog.pg_opfamily'::pg_catalog.regclass \"\n\t\t\t\t\t\t  \"AND refobjid = f.oid \"\n\t\t\t\t\"AND classid = 'pg_catalog.pg_opclass'::pg_catalog.regclass \"\n\t\t\t\t\t\t  \"AND objid = c.oid \"\n\t\t\t\t\t\t  \"AND (opcname != opfname OR opcnamespace != opfnamespace OR opcowner != opfowner) \"\n\t\t\t\t\t\t  \"LIMIT 1\",\n\t\t\t\t\t\t  opfinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT 1 \"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8424,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\t\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\"AND classid = 'pg_catalog.pg_opclass'::pg_catalog.regclass \"",
          "content_same": false
        },
        {
          "line": 8425,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\t\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t  \"AND objid = c.oid \"",
          "content_same": false
        },
        {
          "line": 8427,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\t\tif (PQntuples(res) == 0)",
          "new_line_content": "\t\t\t\t\t\t  \"LIMIT 1\",",
          "content_same": false
        },
        {
          "line": 8432,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res_procs)",
          "new_text": null,
          "old_line_content": "\t\t\tPQclear(res_procs);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8434,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\t\t\tdestroyPQExpBuffer(q);",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 8435,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(delq)",
          "new_text": null,
          "old_line_content": "\t\t\tdestroyPQExpBuffer(delq);",
          "new_line_content": "\t\t\t/* no need to dump it, so bail out */",
          "content_same": false
        },
        {
          "line": 8443,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(query);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 8452,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t \"(SELECT amname FROM pg_catalog.pg_am WHERE oid = opfmethod) AS amname \"",
          "content_same": false
        },
        {
          "line": 8455,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t  opfinfo->dobj.catId.oid);",
          "content_same": false
        },
        {
          "line": 8460,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "\t/* Expecting a single result only */",
          "content_same": false
        },
        {
          "line": 8463,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"amname\")",
          "new_text": null,
          "old_line_content": "\ti_amname = PQfnumber(res, \"amname\");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 8471,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"DROP OPERATOR FAMILY %s\",\n\t\t\t\t\t  fmtId(opfinfo->dobj.namespace->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \"DROP OPERATOR FAMILY %s\",",
          "new_line_content": "\t/* amname will still be needed after we PQclear res */",
          "content_same": false
        },
        {
          "line": 8473,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \".%s\",\n\t\t\t\t\t  fmtId(opfinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \".%s\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8474,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(opfinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(opfinfo->dobj.name));",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 8475,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \" USING %s;\\n\",\n\t\t\t\t\t  fmtId(amname))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \" USING %s;\\n\",",
          "new_line_content": "\t * DROP must be fully qualified in case same name appears in pg_catalog",
          "content_same": false
        },
        {
          "line": 8476,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(amname)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(amname));",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 8484,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t/* Build the fixed portion of the CREATE command */",
          "content_same": false
        },
        {
          "line": 8489,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"ALTER OPERATOR FAMILY %s\",\n\t\t\t\t\t\t  fmtId(opfinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \"ALTER OPERATOR FAMILY %s\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8491,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \" USING %s ADD\\n    \",\n\t\t\t\t\t\t  fmtId(amname))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \" USING %s ADD\\n    \",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8492,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(amname)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(amname));",
          "new_line_content": "\t/* Do we need an ALTER to add loose members? */",
          "content_same": false
        },
        {
          "line": 8499,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res_ops)",
          "new_text": null,
          "old_line_content": "\t\tntups = PQntuples(res_ops);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8501,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res_ops, \"amopstrategy\")",
          "new_text": null,
          "old_line_content": "\t\ti_amopstrategy = PQfnumber(res_ops, \"amopstrategy\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8502,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res_ops, \"amopreqcheck\")",
          "new_text": null,
          "old_line_content": "\t\ti_amopreqcheck = PQfnumber(res_ops, \"amopreqcheck\");",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 8503,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res_ops, \"amopopr\")",
          "new_text": null,
          "old_line_content": "\t\ti_amopopr = PQfnumber(res_ops, \"amopopr\");",
          "new_line_content": "\t\t * Now fetch and print the OPERATOR entries (pg_amop rows).",
          "content_same": false
        },
        {
          "line": 8512,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \" ,\\n    \")",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \" ,\\n    \");",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 8516,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(amopreqcheck, \"t\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (strcmp(amopreqcheck, \"t\") == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8517,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \" RECHECK\")",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \" RECHECK\");",
          "new_line_content": "\t\t\tif (needComma)",
          "content_same": false
        },
        {
          "line": 8525,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res_procs)",
          "new_text": null,
          "old_line_content": "\t\tntups = PQntuples(res_procs);",
          "new_line_content": "\t\t\tneedComma = true;",
          "content_same": false
        },
        {
          "line": 8527,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res_procs, \"amprocnum\")",
          "new_text": null,
          "old_line_content": "\t\ti_amprocnum = PQfnumber(res_procs, \"amprocnum\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8528,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res_procs, \"amproc\")",
          "new_text": null,
          "old_line_content": "\t\ti_amproc = PQfnumber(res_procs, \"amproc\");",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 8529,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res_procs, \"amproclefttype\")",
          "new_text": null,
          "old_line_content": "\t\ti_amproclefttype = PQfnumber(res_procs, \"amproclefttype\");",
          "new_line_content": "\t\t * Now fetch and print the FUNCTION entries (pg_amproc rows).",
          "content_same": false
        },
        {
          "line": 8530,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res_procs, \"amprocrighttype\")",
          "new_text": null,
          "old_line_content": "\t\ti_amprocrighttype = PQfnumber(res_procs, \"amprocrighttype\");",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 8537,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res_procs, i, i_amprocrighttype)",
          "new_text": null,
          "old_line_content": "\t\t\tamprocrighttype = PQgetvalue(res_procs, i, i_amprocrighttype);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8549,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \";\\n\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \";\\n\");",
          "new_line_content": "\t\t\t\t\t\t\t  amprocnum, amproclefttype, amprocrighttype,",
          "content_same": false
        },
        {
          "line": 8552,
          "old_api": "ArchiveEntry",
          "new_api": null,
          "old_text": "ArchiveEntry(fout, opfinfo->dobj.catId, opfinfo->dobj.dumpId,\n\t\t\t\t opfinfo->dobj.name,\n\t\t\t\t opfinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t opfinfo->rolname,\n\t\t\t\t false, \"OPERATOR FAMILY\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t opfinfo->dobj.dependencies, opfinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": null,
          "old_line_content": "\tArchiveEntry(fout, opfinfo->dobj.catId, opfinfo->dobj.dumpId,",
          "new_line_content": "\t\t\tneedComma = true;",
          "content_same": false
        },
        {
          "line": 8563,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(q);",
          "new_line_content": "\t\t\t\t false, \"OPERATOR FAMILY\", SECTION_PRE_DATA,",
          "content_same": false
        },
        {
          "line": 8564,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"OPERATOR FAMILY %s\",\n\t\t\t\t\t  fmtId(opfinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"OPERATOR FAMILY %s\",",
          "new_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "content_same": false
        },
        {
          "line": 8565,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(opfinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(opfinfo->dobj.name));",
          "new_line_content": "\t\t\t\t opfinfo->dobj.dependencies, opfinfo->dobj.nDeps,",
          "content_same": false
        },
        {
          "line": 8566,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \" USING %s\",\n\t\t\t\t\t  fmtId(amname))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \" USING %s\",",
          "new_line_content": "\t\t\t\t NULL, NULL);",
          "content_same": false
        },
        {
          "line": 8567,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(amname)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(amname));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8568,
          "old_api": "dumpComment",
          "new_api": null,
          "old_text": "dumpComment(fout, q->data,\n\t\t\t\tNULL, opfinfo->rolname,\n\t\t\t\topfinfo->dobj.catId, 0, opfinfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\tdumpComment(fout, q->data,",
          "new_line_content": "\t/* Dump Operator Family Comments */",
          "content_same": false
        },
        {
          "line": 8575,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\t\tNULL, opfinfo->rolname,",
          "content_same": false
        },
        {
          "line": 8576,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\t\t\t\topfinfo->dobj.catId, 0, opfinfo->dobj.dumpId);",
          "content_same": false
        },
        {
          "line": 8577,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(delq)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(delq);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8608,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tquery = createPQExpBuffer();",
          "new_line_content": "\tbool\t\tcondefault;",
          "content_same": false
        },
        {
          "line": 8609,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tq = createPQExpBuffer();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8610,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdelq = createPQExpBuffer();",
          "new_line_content": "\t/* Skip if not to be dumped */",
          "content_same": false
        },
        {
          "line": 8611,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdetails = createPQExpBuffer();",
          "new_line_content": "\tif (!convinfo->dobj.dump || dataOnly)",
          "content_same": false
        },
        {
          "line": 8625,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t   \"pg_catalog.pg_encoding_to_char(contoencoding) AS contoencoding, \"",
          "content_same": false
        },
        {
          "line": 8626,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t  \"conproc, condefault \"",
          "content_same": false
        },
        {
          "line": 8629,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t  convinfo->dobj.catId.oid);",
          "content_same": false
        },
        {
          "line": 8634,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "\t/* Expecting a single result only */",
          "content_same": false
        },
        {
          "line": 8637,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"conname\")",
          "new_text": null,
          "old_line_content": "\ti_conname = PQfnumber(res, \"conname\");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 8639,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"contoencoding\")",
          "new_text": null,
          "old_line_content": "\ti_contoencoding = PQfnumber(res, \"contoencoding\");",
          "new_line_content": "\t\t\t\t  ntups, query->data);",
          "content_same": false
        },
        {
          "line": 8641,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"condefault\")",
          "new_text": null,
          "old_line_content": "\ti_condefault = PQfnumber(res, \"condefault\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 8654,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \".%s;\\n\",\n\t\t\t\t\t  fmtId(convinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \".%s;\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8655,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(convinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(convinfo->dobj.name));",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 8657,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"CREATE %sCONVERSION %s FOR \",\n\t\t\t\t\t  (condefault) ? \"DEFAULT \" : \"\",\n\t\t\t\t\t  fmtId(convinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"CREATE %sCONVERSION %s FOR \",",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 8662,
          "old_api": "appendStringLiteralAH",
          "new_api": null,
          "old_text": "appendStringLiteralAH(q, contoencoding, fout)",
          "new_text": null,
          "old_line_content": "\tappendStringLiteralAH(q, contoencoding, fout);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8664,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \" FROM %s;\\n\", conproc)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \" FROM %s;\\n\", conproc);",
          "new_line_content": "\t\t\t\t\t  (condefault) ? \"DEFAULT \" : \"\",",
          "content_same": false
        },
        {
          "line": 8677,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(q);",
          "new_line_content": "\t\t\t\t false, \"CONVERSION\", SECTION_PRE_DATA,",
          "content_same": false
        },
        {
          "line": 8678,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(convinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"CONVERSION %s\", fmtId(convinfo->dobj.name));",
          "new_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "content_same": false
        },
        {
          "line": 8679,
          "old_api": "dumpComment",
          "new_api": null,
          "old_text": "dumpComment(fout, q->data,\n\t\t\t\tconvinfo->dobj.namespace->dobj.name, convinfo->rolname,\n\t\t\t\tconvinfo->dobj.catId, 0, convinfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\tdumpComment(fout, q->data,",
          "new_line_content": "\t\t\t\t convinfo->dobj.dependencies, convinfo->dobj.nDeps,",
          "content_same": false
        },
        {
          "line": 8686,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\t\t\t\tconvinfo->dobj.namespace->dobj.name, convinfo->rolname,",
          "content_same": false
        },
        {
          "line": 8687,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(delq)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(delq);",
          "new_line_content": "\t\t\t\tconvinfo->dobj.catId, 0, convinfo->dobj.dumpId);",
          "content_same": false
        },
        {
          "line": 8688,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(details)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(details);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8703,
          "old_api": "initPQExpBuffer",
          "new_api": null,
          "old_text": "initPQExpBuffer(&buf)",
          "new_text": null,
          "old_line_content": "\tinitPQExpBuffer(&buf);",
          "new_line_content": "static char *",
          "content_same": false
        },
        {
          "line": 8705,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(&buf, \"%s\",\n\t\t\t\t\t\t  fmtId(agginfo->aggfn.dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(&buf, \"%s\",",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 8706,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(agginfo->aggfn.dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(agginfo->aggfn.dobj.name));",
          "new_line_content": "\tPQExpBufferData buf;",
          "content_same": false
        },
        {
          "line": 8708,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(&buf, \"%s\", agginfo->aggfn.dobj.name)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(&buf, \"%s\", agginfo->aggfn.dobj.name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8719,
          "old_api": "getFormattedTypeName",
          "new_api": null,
          "old_text": "getFormattedTypeName(agginfo->aggfn.argtypes[j], zeroAsOpaque)",
          "new_text": null,
          "old_line_content": "\t\t\ttypname = getFormattedTypeName(agginfo->aggfn.argtypes[j], zeroAsOpaque);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 8721,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(&buf, \"%s%s\",\n\t\t\t\t\t\t\t  (j > 0) ? \", \" : \"\",\n\t\t\t\t\t\t\t  typname)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(&buf, \"%s%s\",",
          "new_line_content": "\t\tfor (j = 0; j < agginfo->aggfn.nargs; j++)",
          "content_same": false
        },
        {
          "line": 8724,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(typname)",
          "new_text": null,
          "old_line_content": "\t\t\tfree(typname);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8726,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(&buf, \")\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(&buf, \")\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8763,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tquery = createPQExpBuffer();",
          "new_line_content": "\tbool\t\tconvertok;",
          "content_same": false
        },
        {
          "line": 8764,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tq = createPQExpBuffer();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8765,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdelq = createPQExpBuffer();",
          "new_line_content": "\t/* Skip if not to be dumped */",
          "content_same": false
        },
        {
          "line": 8766,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdetails = createPQExpBuffer();",
          "new_line_content": "\tif (!agginfo->aggfn.dobj.dump || dataOnly)",
          "content_same": false
        },
        {
          "line": 8774,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT aggtransfn, \"\n\t\t\t\t\t\t  \"aggfinalfn, aggtranstype::pg_catalog.regtype, \"\n\t\t\t\t\t\t  \"aggsortop::pg_catalog.regoperator, \"\n\t\t\t\t\t\t  \"agginitval, \"\n\t\t\t\t\t\t  \"'t'::boolean AS convertok \"\n\t\t\t\t\t  \"FROM pg_catalog.pg_aggregate a, pg_catalog.pg_proc p \"\n\t\t\t\t\t\t  \"WHERE a.aggfnoid = p.oid \"\n\t\t\t\t\t\t  \"AND p.oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  agginfo->aggfn.dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT aggtransfn, \"",
          "new_line_content": "\t/* Make sure we are in proper schema */",
          "content_same": false
        },
        {
          "line": 8786,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT aggtransfn, \"\n\t\t\t\t\t\t  \"aggfinalfn, aggtranstype::pg_catalog.regtype, \"\n\t\t\t\t\t\t  \"0 AS aggsortop, \"\n\t\t\t\t\t\t  \"agginitval, \"\n\t\t\t\t\t\t  \"'t'::boolean AS convertok \"\n\t\t\t\t\t  \"FROM pg_catalog.pg_aggregate a, pg_catalog.pg_proc p \"\n\t\t\t\t\t\t  \"WHERE a.aggfnoid = p.oid \"\n\t\t\t\t\t\t  \"AND p.oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  agginfo->aggfn.dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT aggtransfn, \"",
          "new_line_content": "\t\t\t\t\t\t  \"WHERE a.aggfnoid = p.oid \"",
          "content_same": false
        },
        {
          "line": 8798,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT aggtransfn, aggfinalfn, \"\n\t\t\t\t\t\t  \"format_type(aggtranstype, NULL) AS aggtranstype, \"\n\t\t\t\t\t\t  \"0 AS aggsortop, \"\n\t\t\t\t\t\t  \"agginitval, \"\n\t\t\t\t\t\t  \"'t'::boolean AS convertok \"\n\t\t\t\t\t\t  \"FROM pg_aggregate \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::oid\",\n\t\t\t\t\t\t  agginfo->aggfn.dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT aggtransfn, aggfinalfn, \"",
          "new_line_content": "\t\t\t\t\t\t  \"WHERE a.aggfnoid = p.oid \"",
          "content_same": false
        },
        {
          "line": 8809,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT aggtransfn1 AS aggtransfn, \"\n\t\t\t\t\t\t  \"aggfinalfn, \"\n\t\t\t\t\t\t  \"(SELECT typname FROM pg_type WHERE oid = aggtranstype1) AS aggtranstype, \"\n\t\t\t\t\t\t  \"0 AS aggsortop, \"\n\t\t\t\t\t\t  \"agginitval1 AS agginitval, \"\n\t\t\t\t\t\t  \"(aggtransfn2 = 0 and aggtranstype2 = 0 and agginitval2 is null) AS convertok \"\n\t\t\t\t\t\t  \"FROM pg_aggregate \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::oid\",\n\t\t\t\t\t\t  agginfo->aggfn.dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT aggtransfn1 AS aggtransfn, \"",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_aggregate \"",
          "content_same": false
        },
        {
          "line": 8820,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\t\t  \"(aggtransfn2 = 0 and aggtranstype2 = 0 and agginitval2 is null) AS convertok \"",
          "content_same": false
        },
        {
          "line": 8821,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_aggregate \"",
          "content_same": false
        },
        {
          "line": 8824,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 8829,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "\t/* Expecting a single result only */",
          "content_same": false
        },
        {
          "line": 8832,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"aggtransfn\")",
          "new_text": null,
          "old_line_content": "\ti_aggtransfn = PQfnumber(res, \"aggtransfn\");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 8834,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"aggsortop\")",
          "new_text": null,
          "old_line_content": "\ti_aggsortop = PQfnumber(res, \"aggsortop\");",
          "new_line_content": "\t\t\t\t  ntups, query->data);",
          "content_same": false
        },
        {
          "line": 8836,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"agginitval\")",
          "new_text": null,
          "old_line_content": "\ti_agginitval = PQfnumber(res, \"agginitval\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 8837,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"convertok\")",
          "new_text": null,
          "old_line_content": "\ti_convertok = PQfnumber(res, \"convertok\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8844,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, 0, i_convertok)",
          "new_text": null,
          "old_line_content": "\tconvertok = (PQgetvalue(res, 0, i_convertok)[0] == 't');",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8851,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"WARNING: aggregate function %s could not be dumped correctly for this database version; ignored\\n\",\n\t\t\t\t  aggsig)",
          "new_text": null,
          "old_line_content": "\t\twrite_msg(NULL, \"WARNING: aggregate function %s could not be dumped correctly for this database version; ignored\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8859,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(details, \"    SFUNC = %s,\\n    STYPE = %s\",\n\t\t\t\t\t\t  aggtransfn,\n\t\t\t\t\t\t  aggtranstype)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(details, \"    SFUNC = %s,\\n    STYPE = %s\",",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 8866,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(details, \"    SFUNC = %s,\\n    STYPE = %s\",\n\t\t\t\t\t\t  fmtId(aggtransfn),\n\t\t\t\t\t\t  aggtranstype)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(details, \"    SFUNC = %s,\\n    STYPE = %s\",",
          "new_line_content": "\t\t\t\t\t\t  aggtransfn,",
          "content_same": false
        },
        {
          "line": 8867,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(aggtransfn)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(aggtransfn),",
          "new_line_content": "\t\t\t\t\t\t  aggtranstype);",
          "content_same": false
        },
        {
          "line": 8874,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(aggtransfn)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(aggtransfn));",
          "new_line_content": "\t\t\t\t\t\t  aggtranstype);",
          "content_same": false
        },
        {
          "line": 8875,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(details, \"    STYPE = %s\",\n\t\t\t\t\t\t  fmtId(aggtranstype))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(details, \"    STYPE = %s\",",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 8876,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(aggtranstype)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(aggtranstype));",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 8894,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(details, \",\\n    SORTOP = %s\",\n\t\t\t\t\t\t  aggsortop)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(details, \",\\n    SORTOP = %s\",",
          "new_line_content": "\t\t\t\t\t\t  aggfinalfn);",
          "content_same": false
        },
        {
          "line": 8901,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"DROP AGGREGATE %s.%s;\\n\",\n\t\t\t\t\t  fmtId(agginfo->aggfn.dobj.namespace->dobj.name),\n\t\t\t\t\t  aggsig)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \"DROP AGGREGATE %s.%s;\\n\",",
          "new_line_content": "\t\t\t\t\t\t  aggsortop);",
          "content_same": false
        },
        {
          "line": 8902,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(agginfo->aggfn.dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(agginfo->aggfn.dobj.namespace->dobj.name),",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 8905,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"CREATE AGGREGATE %s (\\n%s\\n);\\n\",\n\t\t\t\t\t  aggsig, details->data)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"CREATE AGGREGATE %s (\\n%s\\n);\\n\",",
          "new_line_content": "\t * DROP must be fully qualified in case same name appears in pg_catalog",
          "content_same": false
        },
        {
          "line": 8919,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(q);",
          "new_line_content": "\t\t\t\t false, \"AGGREGATE\", SECTION_PRE_DATA,",
          "content_same": false
        },
        {
          "line": 8920,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"AGGREGATE %s\", aggsig)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"AGGREGATE %s\", aggsig);",
          "new_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "content_same": false
        },
        {
          "line": 8921,
          "old_api": "dumpComment",
          "new_api": null,
          "old_text": "dumpComment(fout, q->data,\n\t\t\tagginfo->aggfn.dobj.namespace->dobj.name, agginfo->aggfn.rolname,\n\t\t\t\tagginfo->aggfn.dobj.catId, 0, agginfo->aggfn.dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\tdumpComment(fout, q->data,",
          "new_line_content": "\t\t\t\t agginfo->aggfn.dobj.dependencies, agginfo->aggfn.dobj.nDeps,",
          "content_same": false
        },
        {
          "line": 8930,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(aggsig)",
          "new_text": null,
          "old_line_content": "\tfree(aggsig);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8931,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(aggsig_tag)",
          "new_text": null,
          "old_line_content": "\tfree(aggsig_tag);",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 8933,
          "old_api": "format_function_signature",
          "new_api": null,
          "old_text": "format_function_signature(&agginfo->aggfn, true)",
          "new_text": null,
          "old_line_content": "\taggsig = format_function_signature(&agginfo->aggfn, true);",
          "new_line_content": "\t * command look like a function's GRANT; in particular this affects the",
          "content_same": false
        },
        {
          "line": 8934,
          "old_api": "format_function_signature",
          "new_api": null,
          "old_text": "format_function_signature(&agginfo->aggfn, false)",
          "new_text": null,
          "old_line_content": "\taggsig_tag = format_function_signature(&agginfo->aggfn, false);",
          "new_line_content": "\t * syntax for zero-argument aggregates.",
          "content_same": false
        },
        {
          "line": 8943,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(aggsig_tag)",
          "new_text": null,
          "old_line_content": "\tfree(aggsig_tag);",
          "new_line_content": "\t\t\t\"FUNCTION\",",
          "content_same": false
        },
        {
          "line": 8945,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\t\tagginfo->aggfn.dobj.namespace->dobj.name,",
          "content_same": false
        },
        {
          "line": 8947,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8950,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(details)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(details);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8967,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tq = createPQExpBuffer();",
          "new_line_content": "\tPQExpBuffer delq;",
          "content_same": false
        },
        {
          "line": 8968,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdelq = createPQExpBuffer();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8971,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(prsinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(prsinfo->dobj.namespace->dobj.name);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 8976,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"    START = %s,\\n\",\n\t\t\t\t\t  convertTSFunction(prsinfo->prsstart))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"    START = %s,\\n\",",
          "new_line_content": "\t/* Make sure we are in proper schema */",
          "content_same": false
        },
        {
          "line": 8978,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"    GETTOKEN = %s,\\n\",\n\t\t\t\t\t  convertTSFunction(prsinfo->prstoken))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"    GETTOKEN = %s,\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8981,
          "old_api": "convertTSFunction",
          "new_api": null,
          "old_text": "convertTSFunction(prsinfo->prsend)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  convertTSFunction(prsinfo->prsend));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8993,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \".%s;\\n\",\n\t\t\t\t\t  fmtId(prsinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \".%s;\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8994,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(prsinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(prsinfo->dobj.name));",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 8996,
          "old_api": "ArchiveEntry",
          "new_api": null,
          "old_text": "ArchiveEntry(fout, prsinfo->dobj.catId, prsinfo->dobj.dumpId,\n\t\t\t\t prsinfo->dobj.name,\n\t\t\t\t prsinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t \"\",\n\t\t\t\t false, \"TEXT SEARCH PARSER\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t prsinfo->dobj.dependencies, prsinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": null,
          "old_line_content": "\tArchiveEntry(fout, prsinfo->dobj.catId, prsinfo->dobj.dumpId,",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 9007,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(q);",
          "new_line_content": "\t\t\t\t false, \"TEXT SEARCH PARSER\", SECTION_PRE_DATA,",
          "content_same": false
        },
        {
          "line": 9008,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"TEXT SEARCH PARSER %s\",\n\t\t\t\t\t  fmtId(prsinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"TEXT SEARCH PARSER %s\",",
          "new_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "content_same": false
        },
        {
          "line": 9009,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(prsinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(prsinfo->dobj.name));",
          "new_line_content": "\t\t\t\t prsinfo->dobj.dependencies, prsinfo->dobj.nDeps,",
          "content_same": false
        },
        {
          "line": 9010,
          "old_api": "dumpComment",
          "new_api": null,
          "old_text": "dumpComment(fout, q->data,\n\t\t\t\tNULL, \"\",\n\t\t\t\tprsinfo->dobj.catId, 0, prsinfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\tdumpComment(fout, q->data,",
          "new_line_content": "\t\t\t\t NULL, NULL);",
          "content_same": false
        },
        {
          "line": 9037,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tq = createPQExpBuffer();",
          "new_line_content": "\tchar\t   *tmplname;",
          "content_same": false
        },
        {
          "line": 9038,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdelq = createPQExpBuffer();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9039,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tquery = createPQExpBuffer();",
          "new_line_content": "\t/* Skip if not to be dumped */",
          "content_same": false
        },
        {
          "line": 9042,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(\"pg_catalog\")",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9047,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t/* Fetch name and namespace of the dictionary's template */",
          "content_same": false
        },
        {
          "line": 9052,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t  ntups, query->data)",
          "new_text": null,
          "old_line_content": "\t\twrite_msg(NULL, \"query returned %d rows instead of one: %s\\n\",",
          "new_line_content": "\t\t\t\t\t  dictinfo->dicttemplate);",
          "content_same": false
        },
        {
          "line": 9056,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, 0, 0)",
          "new_text": null,
          "old_line_content": "\tnspname = PQgetvalue(res, 0, 0);",
          "new_line_content": "\tif (ntups != 1)",
          "content_same": false
        },
        {
          "line": 9057,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, 0, 1)",
          "new_text": null,
          "old_line_content": "\ttmplname = PQgetvalue(res, 0, 1);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 9065,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"    TEMPLATE = \")",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"    TEMPLATE = \");",
          "new_line_content": "\t/* Make sure we are in proper schema */",
          "content_same": false
        },
        {
          "line": 9067,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(nspname)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \"%s.\", fmtId(nspname));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9070,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9081,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"DROP TEXT SEARCH DICTIONARY %s\",\n\t\t\t\t\t  fmtId(dictinfo->dobj.namespace->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \"DROP TEXT SEARCH DICTIONARY %s\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9083,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \".%s;\\n\",\n\t\t\t\t\t  fmtId(dictinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \".%s;\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9084,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(dictinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(dictinfo->dobj.name));",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 9086,
          "old_api": "ArchiveEntry",
          "new_api": null,
          "old_text": "ArchiveEntry(fout, dictinfo->dobj.catId, dictinfo->dobj.dumpId,\n\t\t\t\t dictinfo->dobj.name,\n\t\t\t\t dictinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t dictinfo->rolname,\n\t\t\t\t false, \"TEXT SEARCH DICTIONARY\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t dictinfo->dobj.dependencies, dictinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": null,
          "old_line_content": "\tArchiveEntry(fout, dictinfo->dobj.catId, dictinfo->dobj.dumpId,",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 9097,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(q);",
          "new_line_content": "\t\t\t\t false, \"TEXT SEARCH DICTIONARY\", SECTION_PRE_DATA,",
          "content_same": false
        },
        {
          "line": 9098,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"TEXT SEARCH DICTIONARY %s\",\n\t\t\t\t\t  fmtId(dictinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"TEXT SEARCH DICTIONARY %s\",",
          "new_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "content_same": false
        },
        {
          "line": 9099,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(dictinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(dictinfo->dobj.name));",
          "new_line_content": "\t\t\t\t dictinfo->dobj.dependencies, dictinfo->dobj.nDeps,",
          "content_same": false
        },
        {
          "line": 9100,
          "old_api": "dumpComment",
          "new_api": null,
          "old_text": "dumpComment(fout, q->data,\n\t\t\t\tNULL, dictinfo->rolname,\n\t\t\t\tdictinfo->dobj.catId, 0, dictinfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\tdumpComment(fout, q->data,",
          "new_line_content": "\t\t\t\t NULL, NULL);",
          "content_same": false
        },
        {
          "line": 9123,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tq = createPQExpBuffer();",
          "new_line_content": "\tPQExpBuffer delq;",
          "content_same": false
        },
        {
          "line": 9124,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdelq = createPQExpBuffer();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9127,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(tmplinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(tmplinfo->dobj.namespace->dobj.name);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 9134,
          "old_api": "convertTSFunction",
          "new_api": null,
          "old_text": "convertTSFunction(tmplinfo->tmplinit)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  convertTSFunction(tmplinfo->tmplinit));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9143,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \".%s;\\n\",\n\t\t\t\t\t  fmtId(tmplinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \".%s;\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9144,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tmplinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tmplinfo->dobj.name));",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 9146,
          "old_api": "ArchiveEntry",
          "new_api": null,
          "old_text": "ArchiveEntry(fout, tmplinfo->dobj.catId, tmplinfo->dobj.dumpId,\n\t\t\t\t tmplinfo->dobj.name,\n\t\t\t\t tmplinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t \"\",\n\t\t\t\t false, \"TEXT SEARCH TEMPLATE\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t tmplinfo->dobj.dependencies, tmplinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": null,
          "old_line_content": "\tArchiveEntry(fout, tmplinfo->dobj.catId, tmplinfo->dobj.dumpId,",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 9157,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(q);",
          "new_line_content": "\t\t\t\t false, \"TEXT SEARCH TEMPLATE\", SECTION_PRE_DATA,",
          "content_same": false
        },
        {
          "line": 9158,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"TEXT SEARCH TEMPLATE %s\",\n\t\t\t\t\t  fmtId(tmplinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"TEXT SEARCH TEMPLATE %s\",",
          "new_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "content_same": false
        },
        {
          "line": 9159,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tmplinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tmplinfo->dobj.name));",
          "new_line_content": "\t\t\t\t tmplinfo->dobj.dependencies, tmplinfo->dobj.nDeps,",
          "content_same": false
        },
        {
          "line": 9160,
          "old_api": "dumpComment",
          "new_api": null,
          "old_text": "dumpComment(fout, q->data,\n\t\t\t\tNULL, \"\",\n\t\t\t\ttmplinfo->dobj.catId, 0, tmplinfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\tdumpComment(fout, q->data,",
          "new_line_content": "\t\t\t\t NULL, NULL);",
          "content_same": false
        },
        {
          "line": 9190,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tq = createPQExpBuffer();",
          "new_line_content": "\tint\t\t\ti_dictname;",
          "content_same": false
        },
        {
          "line": 9191,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdelq = createPQExpBuffer();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9192,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tquery = createPQExpBuffer();",
          "new_line_content": "\t/* Skip if not to be dumped */",
          "content_same": false
        },
        {
          "line": 9195,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(\"pg_catalog\")",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9200,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t/* Fetch name and namespace of the config's parser */",
          "content_same": false
        },
        {
          "line": 9205,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t  ntups, query->data)",
          "new_text": null,
          "old_line_content": "\t\twrite_msg(NULL, \"query returned %d rows instead of one: %s\\n\",",
          "new_line_content": "\t\t\t\t\t  cfginfo->cfgparser);",
          "content_same": false
        },
        {
          "line": 9209,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, 0, 0)",
          "new_text": null,
          "old_line_content": "\tnspname = PQgetvalue(res, 0, 0);",
          "new_line_content": "\tif (ntups != 1)",
          "content_same": false
        },
        {
          "line": 9210,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, 0, 1)",
          "new_text": null,
          "old_line_content": "\tprsname = PQgetvalue(res, 0, 1);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 9218,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"    PARSER = \")",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"    PARSER = \");",
          "new_line_content": "\t/* Make sure we are in proper schema */",
          "content_same": false
        },
        {
          "line": 9220,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(nspname)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \"%s.\", fmtId(nspname));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9223,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9236,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\t  \"  m.mapdict::pg_catalog.regdictionary AS dictname \\n\"",
          "content_same": false
        },
        {
          "line": 9237,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t  \"FROM pg_catalog.pg_ts_config_map AS m \\n\"",
          "content_same": false
        },
        {
          "line": 9238,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t  \"WHERE m.mapcfg = '%u' \\n\"",
          "content_same": false
        },
        {
          "line": 9240,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"tokenname\")",
          "new_text": null,
          "old_line_content": "\ti_tokenname = PQfnumber(res, \"tokenname\");",
          "new_line_content": "\t\t\t\t\t  cfginfo->cfgparser, cfginfo->dobj.catId.oid);",
          "content_same": false
        },
        {
          "line": 9241,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"dictname\")",
          "new_text": null,
          "old_line_content": "\ti_dictname = PQfnumber(res, \"dictname\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9245,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_tokenname)",
          "new_text": null,
          "old_line_content": "\t\tchar\t   *tokenname = PQgetvalue(res, i, i_tokenname);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9249,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i - 1, i_tokenname)",
          "new_text": null,
          "old_line_content": "\t\t\tstrcmp(tokenname, PQgetvalue(res, i - 1, i_tokenname)) != 0)",
          "new_line_content": "\tfor (i = 0; i < ntups; i++)",
          "content_same": false
        },
        {
          "line": 9253,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \";\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \";\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9254,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"\\nALTER TEXT SEARCH CONFIGURATION %s\\n\",\n\t\t\t\t\t\t\t  fmtId(cfginfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \"\\nALTER TEXT SEARCH CONFIGURATION %s\\n\",",
          "new_line_content": "\t\tif (i == 0 ||",
          "content_same": false
        },
        {
          "line": 9257,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"    ADD MAPPING FOR %s WITH %s\",\n\t\t\t\t\t\t\t  fmtId(tokenname), dictname)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \"    ADD MAPPING FOR %s WITH %s\",",
          "new_line_content": "\t\t\t/* starting a new token type, so start a new command */",
          "content_same": false
        },
        {
          "line": 9258,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tokenname)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(tokenname), dictname);",
          "new_line_content": "\t\t\tif (i > 0)",
          "content_same": false
        },
        {
          "line": 9265,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \";\\n\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \";\\n\");",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 9272,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"DROP TEXT SEARCH CONFIGURATION %s\",\n\t\t\t\t\t  fmtId(cfginfo->dobj.namespace->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \"DROP TEXT SEARCH CONFIGURATION %s\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9274,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \".%s;\\n\",\n\t\t\t\t\t  fmtId(cfginfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \".%s;\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9275,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(cfginfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(cfginfo->dobj.name));",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 9277,
          "old_api": "ArchiveEntry",
          "new_api": null,
          "old_text": "ArchiveEntry(fout, cfginfo->dobj.catId, cfginfo->dobj.dumpId,\n\t\t\t\t cfginfo->dobj.name,\n\t\t\t\t cfginfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t cfginfo->rolname,\n\t\t\t\t false, \"TEXT SEARCH CONFIGURATION\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t cfginfo->dobj.dependencies, cfginfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": null,
          "old_line_content": "\tArchiveEntry(fout, cfginfo->dobj.catId, cfginfo->dobj.dumpId,",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 9288,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(q);",
          "new_line_content": "\t\t\t\t false, \"TEXT SEARCH CONFIGURATION\", SECTION_PRE_DATA,",
          "content_same": false
        },
        {
          "line": 9289,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"TEXT SEARCH CONFIGURATION %s\",\n\t\t\t\t\t  fmtId(cfginfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"TEXT SEARCH CONFIGURATION %s\",",
          "new_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "content_same": false
        },
        {
          "line": 9290,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(cfginfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(cfginfo->dobj.name));",
          "new_line_content": "\t\t\t\t cfginfo->dobj.dependencies, cfginfo->dobj.nDeps,",
          "content_same": false
        },
        {
          "line": 9291,
          "old_api": "dumpComment",
          "new_api": null,
          "old_text": "dumpComment(fout, q->data,\n\t\t\t\tNULL, cfginfo->rolname,\n\t\t\t\tcfginfo->dobj.catId, 0, cfginfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\tdumpComment(fout, q->data,",
          "new_line_content": "\t\t\t\t NULL, NULL);",
          "content_same": false
        },
        {
          "line": 9315,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tq = createPQExpBuffer();",
          "new_line_content": "\tchar\t   *namecopy;",
          "content_same": false
        },
        {
          "line": 9316,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdelq = createPQExpBuffer();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9318,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"CREATE FOREIGN DATA WRAPPER %s\",\n\t\t\t\t\t  fmtId(fdwinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"CREATE FOREIGN DATA WRAPPER %s\",",
          "new_line_content": "\tif (!fdwinfo->dobj.dump || dataOnly)",
          "content_same": false
        },
        {
          "line": 9319,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(fdwinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(fdwinfo->dobj.name));",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 9326,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \" OPTIONS (%s)\", fdwinfo->fdwoptions)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \" OPTIONS (%s)\", fdwinfo->fdwoptions);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9330,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"DROP FOREIGN DATA WRAPPER %s;\\n\",\n\t\t\t\t\t  fmtId(fdwinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \"DROP FOREIGN DATA WRAPPER %s;\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9333,
          "old_api": "ArchiveEntry",
          "new_api": null,
          "old_text": "ArchiveEntry(fout, fdwinfo->dobj.catId, fdwinfo->dobj.dumpId,\n\t\t\t\t fdwinfo->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t NULL,\n\t\t\t\t fdwinfo->rolname,\n\t\t\t\t false, \"FOREIGN DATA WRAPPER\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t fdwinfo->dobj.dependencies, fdwinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": null,
          "old_line_content": "\tArchiveEntry(fout, fdwinfo->dobj.catId, fdwinfo->dobj.dumpId,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9344,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(fdwinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\tnamecopy = strdup(fmtId(fdwinfo->dobj.name));",
          "new_line_content": "\t\t\t\t false, \"FOREIGN DATA WRAPPER\", SECTION_PRE_DATA,",
          "content_same": false
        },
        {
          "line": 9345,
          "old_api": "dumpACL",
          "new_api": null,
          "old_text": "dumpACL(fout, fdwinfo->dobj.catId, fdwinfo->dobj.dumpId,\n\t\t\t\"FOREIGN DATA WRAPPER\",\n\t\t\tnamecopy, NULL, fdwinfo->dobj.name,\n\t\t\tNULL, fdwinfo->rolname,\n\t\t\tfdwinfo->fdwacl)",
          "new_text": null,
          "old_line_content": "\tdumpACL(fout, fdwinfo->dobj.catId, fdwinfo->dobj.dumpId,",
          "new_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "content_same": false
        },
        {
          "line": 9352,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\t\t\t\"FOREIGN DATA WRAPPER\",",
          "content_same": false
        },
        {
          "line": 9353,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(delq)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(delq);",
          "new_line_content": "\t\t\tnamecopy, NULL, fdwinfo->dobj.name,",
          "content_same": false
        },
        {
          "line": 9375,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tq = createPQExpBuffer();",
          "new_line_content": "\tchar\t   *fdwname;",
          "content_same": false
        },
        {
          "line": 9376,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdelq = createPQExpBuffer();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9377,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tquery = createPQExpBuffer();",
          "new_line_content": "\t/* Skip if not to be dumped */",
          "content_same": false
        },
        {
          "line": 9380,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT fdwname \"\n\t\t\t\t\t  \"FROM pg_foreign_data_wrapper w \"\n\t\t\t\t\t  \"WHERE w.oid = '%u'\",\n\t\t\t\t\t  srvinfo->srvfdw)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \"SELECT fdwname \"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9384,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9385,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t/* look up the foreign-data wrapper */",
          "content_same": false
        },
        {
          "line": 9389,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"query returned %d rows instead of one: %s\\n\",\n\t\t\t\t  ntups, query->data)",
          "new_text": null,
          "old_line_content": "\t\twrite_msg(NULL, \"query returned %d rows instead of one: %s\\n\",",
          "new_line_content": "\t\t\t\t\t  srvinfo->srvfdw);",
          "content_same": false
        },
        {
          "line": 9393,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, 0, 0)",
          "new_text": null,
          "old_line_content": "\tfdwname = PQgetvalue(res, 0, 0);",
          "new_line_content": "\tif (ntups != 1)",
          "content_same": false
        },
        {
          "line": 9396,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(srvinfo->srvtype)",
          "new_text": null,
          "old_line_content": "\tif (srvinfo->srvtype && strlen(srvinfo->srvtype) > 0)",
          "new_line_content": "\t\t\t\t  ntups, query->data);",
          "content_same": false
        },
        {
          "line": 9398,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(srvinfo->srvversion)",
          "new_text": null,
          "old_line_content": "\tif (srvinfo->srvversion && strlen(srvinfo->srvversion) > 0)",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 9409,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"DROP SERVER %s;\\n\",\n\t\t\t\t\t  fmtId(srvinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \"DROP SERVER %s;\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9412,
          "old_api": "ArchiveEntry",
          "new_api": null,
          "old_text": "ArchiveEntry(fout, srvinfo->dobj.catId, srvinfo->dobj.dumpId,\n\t\t\t\t srvinfo->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t NULL,\n\t\t\t\t srvinfo->rolname,\n\t\t\t\t false, \"SERVER\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t srvinfo->dobj.dependencies, srvinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": null,
          "old_line_content": "\tArchiveEntry(fout, srvinfo->dobj.catId, srvinfo->dobj.dumpId,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9423,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(srvinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\tnamecopy = strdup(fmtId(srvinfo->dobj.name));",
          "new_line_content": "\t\t\t\t false, \"SERVER\", SECTION_PRE_DATA,",
          "content_same": false
        },
        {
          "line": 9424,
          "old_api": "dumpACL",
          "new_api": null,
          "old_text": "dumpACL(fout, srvinfo->dobj.catId, srvinfo->dobj.dumpId,\n\t\t\t\"SERVER\",\n\t\t\tnamecopy, NULL, srvinfo->dobj.name,\n\t\t\tNULL, srvinfo->rolname,\n\t\t\tsrvinfo->srvacl)",
          "new_text": null,
          "old_line_content": "\tdumpACL(fout, srvinfo->dobj.catId, srvinfo->dobj.dumpId,",
          "new_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "content_same": false
        },
        {
          "line": 9432,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(q);",
          "new_line_content": "\t\t\tnamecopy, NULL, srvinfo->dobj.name,",
          "content_same": false
        },
        {
          "line": 9433,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(srvinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"SERVER %s\", fmtId(srvinfo->dobj.name));",
          "new_line_content": "\t\t\tNULL, srvinfo->rolname,",
          "content_same": false
        },
        {
          "line": 9434,
          "old_api": "dumpUserMappings",
          "new_api": null,
          "old_text": "dumpUserMappings(fout, q->data,\n\t\t\t\t\t srvinfo->dobj.name, NULL,\n\t\t\t\t\t srvinfo->rolname,\n\t\t\t\t     srvinfo->dobj.catId, srvinfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\tdumpUserMappings(fout, q->data,",
          "new_line_content": "\t\t\tsrvinfo->srvacl);",
          "content_same": false
        },
        {
          "line": 9466,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tq = createPQExpBuffer();",
          "new_line_content": "\tPGresult   *res;",
          "content_same": false
        },
        {
          "line": 9467,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\ttag = createPQExpBuffer();",
          "new_line_content": "\tint\t\t\tntups;",
          "content_same": false
        },
        {
          "line": 9468,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdelq = createPQExpBuffer();",
          "new_line_content": "\tint\t\t\ti_umuser;",
          "content_same": false
        },
        {
          "line": 9469,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tquery = createPQExpBuffer();",
          "new_line_content": "\tint\t\t\ti_umoptions;",
          "content_same": false
        },
        {
          "line": 9471,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t  \"SELECT (%s umuser) AS umuser, \"\n\t\t\t\t\t  \"array_to_string(ARRAY(SELECT option_name || ' ' || quote_literal(option_value) FROM pg_options_to_table(umoptions)), ', ') AS umoptions\\n\"\n\t\t\t\t\t  \"FROM pg_user_mapping \"\n\t\t\t\t\t  \"WHERE umserver=%u\",\n\t\t\t\t\t  username_subquery,\n\t\t\t\t\t  catalogId.oid)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9479,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\t  \"array_to_string(ARRAY(SELECT option_name || ' ' || quote_literal(option_value) FROM pg_options_to_table(umoptions)), ', ') AS umoptions\\n\"",
          "content_same": false
        },
        {
          "line": 9480,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t  \"FROM pg_user_mapping \"",
          "content_same": false
        },
        {
          "line": 9482,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t  username_subquery,",
          "content_same": false
        },
        {
          "line": 9483,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"umuser\")",
          "new_text": null,
          "old_line_content": "\ti_umuser = PQfnumber(res, \"umuser\");",
          "new_line_content": "\t\t\t\t\t  catalogId.oid);",
          "content_same": false
        },
        {
          "line": 9484,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"umoptions\")",
          "new_text": null,
          "old_line_content": "\ti_umoptions = PQfnumber(res, \"umoptions\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9491,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_umuser)",
          "new_text": null,
          "old_line_content": "\t\tumuser = PQgetvalue(res, i, i_umuser);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9492,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_umoptions)",
          "new_text": null,
          "old_line_content": "\t\tumoptions = PQgetvalue(res, i, i_umoptions);",
          "new_line_content": "\tfor (i = 0; i < ntups; i++)",
          "content_same": false
        },
        {
          "line": 9494,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\t\tresetPQExpBuffer(q);",
          "new_line_content": "\t\tchar\t   *umuser;",
          "content_same": false
        },
        {
          "line": 9495,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(umuser)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \"CREATE USER MAPPING FOR %s\", fmtId(umuser));",
          "new_line_content": "\t\tchar       *umoptions;",
          "content_same": false
        },
        {
          "line": 9496,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(servername)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \" SERVER %s\", fmtId(servername));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9499,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \" OPTIONS (%s)\", umoptions)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \" OPTIONS (%s)\", umoptions);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9503,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(delq)",
          "new_text": null,
          "old_line_content": "\t\tresetPQExpBuffer(delq);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9506,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(tag)",
          "new_text": null,
          "old_line_content": "\t\tresetPQExpBuffer(tag);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9520,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\t\t\t\t \"USER MAPPING\", SECTION_PRE_DATA,",
          "content_same": false
        },
        {
          "line": 9522,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\t\t\t &dumpId, 1,",
          "content_same": false
        },
        {
          "line": 9523,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(delq)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(delq);",
          "new_line_content": "\t\t\t\t\t NULL, NULL);",
          "content_same": false
        },
        {
          "line": 9524,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 9554,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tsql = createPQExpBuffer();",
          "new_line_content": "\tPQExpBuffer sql;",
          "content_same": false
        },
        {
          "line": 9556,
          "old_api": "buildACLCommands",
          "new_api": null,
          "old_text": "buildACLCommands(name, subname, type, acls, owner, fout->remoteVersion, sql)",
          "new_text": null,
          "old_line_content": "\tif (!buildACLCommands(name, subname, type, acls, owner, fout->remoteVersion, sql))",
          "new_line_content": "\t/* Do nothing if ACL dump is not enabled */",
          "content_same": false
        },
        {
          "line": 9558,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"could not parse ACL list (%s) for object \\\"%s\\\" (%s)\\n\",\n\t\t\t\t  acls, name, type)",
          "new_text": null,
          "old_line_content": "\t\twrite_msg(NULL, \"could not parse ACL list (%s) for object \\\"%s\\\" (%s)\\n\",",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 9573,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(sql)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(sql);",
          "new_line_content": "\t\t\t\t\t owner ? owner : \"\",",
          "content_same": false
        },
        {
          "line": 9588,
          "old_api": "dumpSequence",
          "new_api": null,
          "old_text": "dumpSequence(fout, tbinfo)",
          "new_text": null,
          "old_line_content": "\t\t\tdumpSequence(fout, tbinfo);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 9590,
          "old_api": "dumpTableSchema",
          "new_api": null,
          "old_text": "dumpTableSchema(fout, tbinfo)",
          "new_text": null,
          "old_line_content": "\t\t\tdumpTableSchema(fout, tbinfo);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 9593,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\tnamecopy = strdup(fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\tif (tbinfo->relkind == RELKIND_SEQUENCE)",
          "content_same": false
        },
        {
          "line": 9607,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\t\t\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": "\t\t * Handle column ACLs, if any.  Note: we pull these with a separate",
          "content_same": false
        },
        {
          "line": 9611,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"SELECT attname, attacl FROM pg_catalog.pg_attribute \"\n\t\t\t\t\t\t\t  \"WHERE attrelid = '%u' AND NOT attisdropped AND attacl IS NOT NULL \"\n\t\t\t\t\t\t\t  \"ORDER BY attnum\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\tif (g_fout->remoteVersion >= 80400)",
          "content_same": false
        },
        {
          "line": 9616,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\t\t\tres = PQexec(g_conn, query->data);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9619,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\t\t\tfor (i = 0; i < PQntuples(res); i++)",
          "new_line_content": "\t\t\t\t\t\t\t  \"WHERE attrelid = '%u' AND NOT attisdropped AND attacl IS NOT NULL \"",
          "content_same": false
        },
        {
          "line": 9621,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, 0)",
          "new_text": null,
          "old_line_content": "\t\t\t\tchar   *attname = PQgetvalue(res, i, 0);",
          "new_line_content": "\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid);",
          "content_same": false
        },
        {
          "line": 9626,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(attname)",
          "new_text": null,
          "old_line_content": "\t\t\t\tattnamecopy = strdup(fmtId(attname));",
          "new_line_content": "\t\t\t{",
          "content_same": false
        },
        {
          "line": 9630,
          "old_api": "dumpACL",
          "new_api": null,
          "old_text": "dumpACL(fout, tbinfo->dobj.catId, tbinfo->dobj.dumpId, \"TABLE\",\n\t\t\t\t\t\tnamecopy, attnamecopy, acltag,\n\t\t\t\t\t\ttbinfo->dobj.namespace->dobj.name, tbinfo->rolname,\n\t\t\t\t\t\tattacl)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdumpACL(fout, tbinfo->dobj.catId, tbinfo->dobj.dumpId, \"TABLE\",",
          "new_line_content": "\t\t\t\tchar   *acltag;",
          "content_same": false
        },
        {
          "line": 9635,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(acltag)",
          "new_text": null,
          "old_line_content": "\t\t\t\tfree(acltag);",
          "new_line_content": "\t\t\t\t/* Column's GRANT type is always TABLE */",
          "content_same": false
        },
        {
          "line": 9637,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\t\t\tPQclear(res);",
          "new_line_content": "\t\t\t\t\t\tnamecopy, attnamecopy, acltag,",
          "content_same": false
        },
        {
          "line": 9638,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\t\t\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\t\t\t\ttbinfo->dobj.namespace->dobj.name, tbinfo->rolname,",
          "content_same": false
        },
        {
          "line": 9652,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": " * dumpTableSchema",
          "content_same": false
        },
        {
          "line": 9653,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer q = createPQExpBuffer();",
          "new_line_content": " *\t  write the declaration (not data) of one user-defined table or view",
          "content_same": false
        },
        {
          "line": 9654,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer delq = createPQExpBuffer();",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 9665,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(tbinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(tbinfo->dobj.namespace->dobj.name);",
          "new_line_content": "\tchar\t   *reltypename;",
          "content_same": false
        },
        {
          "line": 9678,
          "old_api": "pg_get_viewdef",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"SELECT pg_catalog.pg_get_viewdef('%u'::pg_catalog.oid) AS viewdef\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\treltypename = \"VIEW\";",
          "content_same": false
        },
        {
          "line": 9686,
          "old_api": "appendStringLiteralAH",
          "new_api": null,
          "old_text": "appendStringLiteralAH(query, tbinfo->dobj.name, fout)",
          "new_text": null,
          "old_line_content": "\t\t\tappendStringLiteralAH(query, tbinfo->dobj.name, fout);",
          "new_line_content": "\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid);",
          "content_same": false
        },
        {
          "line": 9687,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \";\")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(query, \";\");",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 9691,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\t\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t\t  \"FROM pg_views WHERE viewname = \");",
          "content_same": false
        },
        {
          "line": 9695,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\t\t\tif (PQntuples(res) < 1)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9704,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, 0, 0)",
          "new_text": null,
          "old_line_content": "\t\tviewdef = PQgetvalue(res, 0, 0);",
          "new_line_content": "\t\t\telse",
          "content_same": false
        },
        {
          "line": 9706,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(viewdef)",
          "new_text": null,
          "old_line_content": "\t\tif (strlen(viewdef) == 0)",
          "new_line_content": "\t\t\t\t\t\t  tbinfo->dobj.name);",
          "content_same": false
        },
        {
          "line": 9708,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"definition of view \\\"%s\\\" appears to be empty (length zero)\\n\",\n\t\t\t\t\t  tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\twrite_msg(NULL, \"definition of view \\\"%s\\\" appears to be empty (length zero)\\n\",",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 9717,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"DROP VIEW %s.\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(delq, \"DROP VIEW %s.\",",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 9718,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9719,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"%s;\\n\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(delq, \"%s;\\n\",",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 9720,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\t * DROP must be fully qualified in case same name appears in",
          "content_same": false
        },
        {
          "line": 9722,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"CREATE VIEW %s AS\\n    %s\\n\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.name), viewdef)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \"CREATE VIEW %s AS\\n    %s\\n\",",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 9737,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"DROP TABLE %s.\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(delq, \"DROP TABLE %s.\",",
          "new_line_content": "\t\tparents = tbinfo->parents;",
          "content_same": false
        },
        {
          "line": 9738,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9739,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"%s;\\n\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(delq, \"%s;\\n\",",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 9740,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\t * DROP must be fully qualified in case same name appears in",
          "content_same": false
        },
        {
          "line": 9742,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"CREATE TABLE %s (\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \"CREATE TABLE %s (\",",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 9753,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \",\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \",\");",
          "new_line_content": "\t\t\t/* Is this one of the table's own attrs, and not dropped ? */",
          "content_same": false
        },
        {
          "line": 9754,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"\\n    \")",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \"\\n    \");",
          "new_line_content": "\t\t\tif (!tbinfo->inhAttrs[j] &&",
          "content_same": false
        },
        {
          "line": 9757,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"%s \",\n\t\t\t\t\t\t\t\t  fmtId(tbinfo->attnames[j]))",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \"%s \",",
          "new_line_content": "\t\t\t\t/* Format properly if not first attr */",
          "content_same": false
        },
        {
          "line": 9758,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->attnames[j])",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t  fmtId(tbinfo->attnames[j]));",
          "new_line_content": "\t\t\t\tif (actual_atts > 0)",
          "content_same": false
        },
        {
          "line": 9770,
          "old_api": "myFormatType",
          "new_api": null,
          "old_text": "myFormatType(tbinfo->atttypnames[j],\n\t\t\t\t\t\t\t\t\t\t\t\t   tbinfo->atttypmod[j])",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t\t  myFormatType(tbinfo->atttypnames[j],",
          "new_line_content": "\t\t\t\t\t\t\t\t\t  tbinfo->atttypnames[j]);",
          "content_same": false
        },
        {
          "line": 9781,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \" DEFAULT %s\",\n\t\t\t\t\t\t\t\t\t  tbinfo->attrdefs[j]->adef_expr)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \" DEFAULT %s\",",
          "new_line_content": "\t\t\t\t * Default value --- suppress if inherited or to be printed",
          "content_same": false
        },
        {
          "line": 9788,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \" NOT NULL\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \" NOT NULL\");",
          "new_line_content": "\t\t\t\t\t\t\t\t\t  tbinfo->attrdefs[j]->adef_expr);",
          "content_same": false
        },
        {
          "line": 9805,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \",\\n    \")",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \",\\n    \");",
          "new_line_content": "\t\t\tConstraintInfo *constr = &(tbinfo->checkexprs[j]);",
          "content_same": false
        },
        {
          "line": 9807,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"CONSTRAINT %s \",\n\t\t\t\t\t\t\t  fmtId(constr->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \"CONSTRAINT %s \",",
          "new_line_content": "\t\t\tif (constr->separate || !constr->conislocal)",
          "content_same": false
        },
        {
          "line": 9808,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(constr->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(constr->dobj.name));",
          "new_line_content": "\t\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 9809,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"%s\", constr->condef)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \"%s\", constr->condef);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9818,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"\\nINHERITS (\")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \"\\nINHERITS (\");",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 9826,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"%s.\",\n\t\t\t\t\t\t\t\tfmtId(parentRel->dobj.namespace->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \"%s.\",",
          "new_line_content": "\t\t\t{",
          "content_same": false
        },
        {
          "line": 9827,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(parentRel->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\tfmtId(parentRel->dobj.namespace->dobj.name));",
          "new_line_content": "\t\t\t\tTableInfo  *parentRel = parents[k];",
          "content_same": false
        },
        {
          "line": 9828,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"%s\",\n\t\t\t\t\t\t\t\t  fmtId(parentRel->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \"%s\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9829,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(parentRel->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t  fmtId(parentRel->dobj.name));",
          "new_line_content": "\t\t\t\tif (k > 0)",
          "content_same": false
        },
        {
          "line": 9831,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \")\")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \")\");",
          "new_line_content": "\t\t\t\tif (parentRel->dobj.namespace != tbinfo->dobj.namespace)",
          "content_same": false
        },
        {
          "line": 9839,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"\\nWITH (\")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \"\\nWITH (\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9843,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"%s\", tbinfo->reloptions)",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \"%s\", tbinfo->reloptions);",
          "new_line_content": "\t\t\tbool\taddcomma = false;",
          "content_same": false
        },
        {
          "line": 9847,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"%s%s\", addcomma ? \", \" : \"\",\n\t\t\t\t\t\t\t\t  tbinfo->toast_reloptions)",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \"%s%s\", addcomma ? \", \" : \"\",",
          "new_line_content": "\t\t\t{",
          "content_same": false
        },
        {
          "line": 9850,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \")\")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \")\");",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 9865,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"ALTER TABLE ONLY %s \",\n\t\t\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \"ALTER TABLE ONLY %s \",",
          "new_line_content": "\t\tif (binary_upgrade)",
          "content_same": false
        },
        {
          "line": 9866,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 9867,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"DROP COLUMN %s;\\n\",\n\t\t\t\t\t\t\t\t\t  fmtId(tbinfo->attnames[j]))",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \"DROP COLUMN %s;\\n\",",
          "new_line_content": "\t\t\tfor (j = 0; j < tbinfo->numatts; j++)",
          "content_same": false
        },
        {
          "line": 9868,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->attnames[j])",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t\t  fmtId(tbinfo->attnames[j]));",
          "new_line_content": "\t\t\t{",
          "content_same": false
        },
        {
          "line": 9880,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"\\n-- For binary upgrade, recreate dropped column's length and alignment.\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \"\\n-- For binary upgrade, recreate dropped column's length and alignment.\\n\");",
          "new_line_content": "\t\t\t\t\t *\tis used to skip over dropped columns in the heap tuples.",
          "content_same": false
        },
        {
          "line": 9881,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"UPDATE pg_attribute\\n\"\n\t\t\t\t\t\t\t\t\t\t \"SET attlen = %d, \"\n\t\t\t\t\t\t\t\t\t\t \"attalign = '%c'\\n\"\n\t\t\t\t\t\t\t\t\t\t \"WHERE\tattname = '%s'\\n\"\n\t\t\t\t\t\t\t\t\t\t \"\tAND attrelid = \\n\"\n\t\t\t\t\t\t\t\t\t\t \"\t(\\n\"\n\t\t\t\t\t\t\t\t\t\t \"\t\tSELECT oid\\n\"\n\t\t\t\t\t\t\t\t\t\t \"\t\tFROM pg_class\\n\"\n\t\t\t\t\t\t\t\t\t\t \"\t\tWHERE\trelnamespace = \"\n\t\t\t\t\t\t\t\t\t\t \"(SELECT oid FROM pg_namespace \"\n\t\t\t\t\t\t\t\t\t\t \"WHERE nspname = CURRENT_SCHEMA)\\n\"\n\t\t\t\t\t\t\t\t\t\t \"\t\t\tAND relname = '%s'\\n\"\n\t\t\t\t\t\t\t\t\t\t \"\t);\\n\",\n\t\t\t\t\t\t\t\t\t\t tbinfo->attlen[j],\n\t\t\t\t\t\t\t\t\t\t tbinfo->attalign[j],\n\t\t\t\t\t\t\t\t\t\t tbinfo->attnames[j],\n\t\t\t\t\t\t\t\t\t\t tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \"UPDATE pg_attribute\\n\"",
          "new_line_content": "\t\t\t\t\t *\tWe have atttypmod, but it seems impossible to know the",
          "content_same": false
        },
        {
          "line": 9900,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"\\n-- For binary upgrade, set relfrozenxid.\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \"\\n-- For binary upgrade, set relfrozenxid.\\n\");",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t tbinfo->attlen[j],",
          "content_same": false
        },
        {
          "line": 9901,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"UPDATE pg_class\\n\"\n\t\t\t\t\t\t\t\t \"SET relfrozenxid = '%u'\\n\"\n\t\t\t\t\t\t\t\t \"WHERE\trelname = '%s'\\n\"\n\t\t\t\t\t\t\t\t \"\tAND relnamespace = \"\n\t\t\t\t\t\t\t\t \"(SELECT oid FROM pg_namespace \"\n\t\t\t\t\t\t\t\t \"WHERE nspname = CURRENT_SCHEMA);\\n\",\n\t\t\t\t\t\t\t\t tbinfo->frozenxid,\n\t\t\t\t\t\t\t\t tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \"UPDATE pg_class\\n\"",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t tbinfo->attalign[j],",
          "content_same": false
        },
        {
          "line": 9922,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"ALTER TABLE ONLY %s \",\n\t\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \"ALTER TABLE ONLY %s \",",
          "new_line_content": "\t\t\t * TABLE statement if the attstattarget entry for this column is",
          "content_same": false
        },
        {
          "line": 9923,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\t\t * non-negative (i.e. it's not the default value)",
          "content_same": false
        },
        {
          "line": 9924,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"ALTER COLUMN %s \",\n\t\t\t\t\t\t\t\t  fmtId(tbinfo->attnames[j]))",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \"ALTER COLUMN %s \",",
          "new_line_content": "\t\t\t */",
          "content_same": false
        },
        {
          "line": 9925,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->attnames[j])",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t  fmtId(tbinfo->attnames[j]));",
          "new_line_content": "\t\t\tif (tbinfo->attstattarget[j] >= 0 &&",
          "content_same": false
        },
        {
          "line": 9926,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"SET STATISTICS %d;\\n\",\n\t\t\t\t\t\t\t\t  tbinfo->attstattarget[j])",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \"SET STATISTICS %d;\\n\",",
          "new_line_content": "\t\t\t\t!tbinfo->attisdropped[j])",
          "content_same": false
        },
        {
          "line": 9959,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"ALTER TABLE ONLY %s \",\n\t\t\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \"ALTER TABLE ONLY %s \",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9960,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\t\t\t/*",
          "content_same": false
        },
        {
          "line": 9961,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"ALTER COLUMN %s \",\n\t\t\t\t\t\t\t\t\t  fmtId(tbinfo->attnames[j]))",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \"ALTER COLUMN %s \",",
          "new_line_content": "\t\t\t\t * Only dump the statement if it's a storage type we recognize",
          "content_same": false
        },
        {
          "line": 9962,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->attnames[j])",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t\t  fmtId(tbinfo->attnames[j]));",
          "new_line_content": "\t\t\t\t */",
          "content_same": false
        },
        {
          "line": 9963,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"SET STORAGE %s;\\n\",\n\t\t\t\t\t\t\t\t\t  storage)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tappendPQExpBuffer(q, \"SET STORAGE %s;\\n\",",
          "new_line_content": "\t\t\t\tif (storage != NULL)",
          "content_same": false
        },
        {
          "line": 9970,
          "old_api": "ArchiveEntry",
          "new_api": null,
          "old_text": "ArchiveEntry(fout, tbinfo->dobj.catId, tbinfo->dobj.dumpId,\n\t\t\t\t tbinfo->dobj.name,\n\t\t\t\t tbinfo->dobj.namespace->dobj.name,\n\t\t\t(tbinfo->relkind == RELKIND_VIEW) ? NULL : tbinfo->reltablespace,\n\t\t\t\t tbinfo->rolname,\n\t\t\t   (strcmp(reltypename, \"TABLE\") == 0) ? tbinfo->hasoids : false,\n\t\t\t\t reltypename, SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t tbinfo->dobj.dependencies, tbinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": null,
          "old_line_content": "\tArchiveEntry(fout, tbinfo->dobj.catId, tbinfo->dobj.dumpId,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t  storage);",
          "content_same": false
        },
        {
          "line": 9975,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(reltypename, \"TABLE\")",
          "new_text": null,
          "old_line_content": "\t\t\t   (strcmp(reltypename, \"TABLE\") == 0) ? tbinfo->hasoids : false,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 9982,
          "old_api": "dumpTableComment",
          "new_api": null,
          "old_text": "dumpTableComment(fout, tbinfo, reltypename)",
          "new_text": null,
          "old_line_content": "\tdumpTableComment(fout, tbinfo, reltypename);",
          "new_line_content": "\t\t\t\t reltypename, SECTION_PRE_DATA,",
          "content_same": false
        },
        {
          "line": 9992,
          "old_api": "dumpTableConstraintComment",
          "new_api": null,
          "old_text": "dumpTableConstraintComment(fout, constr)",
          "new_text": null,
          "old_line_content": "\t\tdumpTableConstraintComment(fout, constr);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 9995,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\tif (constr->separate || !constr->conislocal)",
          "content_same": false
        },
        {
          "line": 9996,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 9997,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(delq)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(delq);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10019,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tq = createPQExpBuffer();",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 10020,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdelq = createPQExpBuffer();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10022,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"ALTER TABLE %s \",\n\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"ALTER TABLE %s \",",
          "new_line_content": "\tif (tbinfo->inhAttrDef[adnum - 1])",
          "content_same": false
        },
        {
          "line": 10023,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 10024,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"ALTER COLUMN %s SET DEFAULT %s;\\n\",\n\t\t\t\t\t  fmtId(tbinfo->attnames[adnum - 1]),\n\t\t\t\t\t  adinfo->adef_expr)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"ALTER COLUMN %s SET DEFAULT %s;\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10032,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name));",
          "new_line_content": "\t\t\t\t\t  adinfo->adef_expr);",
          "content_same": false
        },
        {
          "line": 10033,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"%s \",\n\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \"%s \",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10034,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 10035,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"ALTER COLUMN %s DROP DEFAULT;\\n\",\n\t\t\t\t\t  fmtId(tbinfo->attnames[adnum - 1]))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \"ALTER COLUMN %s DROP DEFAULT;\\n\",",
          "new_line_content": "\t * DROP must be fully qualified in case same name appears in pg_catalog",
          "content_same": false
        },
        {
          "line": 10036,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->attnames[adnum - 1])",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tbinfo->attnames[adnum - 1]));",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 10048,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\t\t\t\t tbinfo->rolname,",
          "content_same": false
        },
        {
          "line": 10049,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(delq)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(delq);",
          "new_line_content": "\t\t\t\t false, \"DEFAULT\", SECTION_PRE_DATA,",
          "content_same": false
        },
        {
          "line": 10081,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"invalid column number %d for table \\\"%s\\\"\\n\",\n\t\t\t  attrnum, tblInfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\twrite_msg(NULL, \"invalid column number %d for table \\\"%s\\\"\\n\",",
          "new_line_content": "\t\t\treturn \"xmax\";",
          "content_same": false
        },
        {
          "line": 10083,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\texit_nicely();",
          "new_line_content": "\t\t\treturn \"cmax\";",
          "content_same": false
        },
        {
          "line": 10101,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tq = createPQExpBuffer();",
          "new_line_content": "\tPQExpBuffer q;",
          "content_same": false
        },
        {
          "line": 10102,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdelq = createPQExpBuffer();",
          "new_line_content": "\tPQExpBuffer delq;",
          "content_same": false
        },
        {
          "line": 10112,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"%s;\\n\", indxinfo->indexdef)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \"%s;\\n\", indxinfo->indexdef);",
          "new_line_content": "\t * do dump any comment for it.\t(This is safe because dependency ordering",
          "content_same": false
        },
        {
          "line": 10117,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"\\nALTER TABLE %s CLUSTER\",\n\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \"\\nALTER TABLE %s CLUSTER\",",
          "new_line_content": "\t\t/* Plain secondary index */",
          "content_same": false
        },
        {
          "line": 10119,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \" ON %s;\\n\",\n\t\t\t\t\t\t\t  fmtId(indxinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \" ON %s;\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10120,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(indxinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(indxinfo->dobj.name));",
          "new_line_content": "\t\t/* If the index is clustered, we need to record that. */",
          "content_same": false
        },
        {
          "line": 10127,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"DROP INDEX %s.\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(delq, \"DROP INDEX %s.\",",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 10128,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10129,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"%s;\\n\",\n\t\t\t\t\t\t  fmtId(indxinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(delq, \"%s;\\n\",",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 10130,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(indxinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(indxinfo->dobj.name));",
          "new_line_content": "\t\t * DROP must be fully qualified in case same name appears in",
          "content_same": false
        },
        {
          "line": 10132,
          "old_api": "ArchiveEntry",
          "new_api": null,
          "old_text": "ArchiveEntry(fout, indxinfo->dobj.catId, indxinfo->dobj.dumpId,\n\t\t\t\t\t indxinfo->dobj.name,\n\t\t\t\t\t tbinfo->dobj.namespace->dobj.name,\n\t\t\t\t\t indxinfo->tablespace,\n\t\t\t\t\t tbinfo->rolname, false,\n\t\t\t\t\t \"INDEX\", SECTION_POST_DATA,\n\t\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t\t indxinfo->dobj.dependencies, indxinfo->dobj.nDeps,\n\t\t\t\t\t NULL, NULL)",
          "new_text": null,
          "old_line_content": "\t\tArchiveEntry(fout, indxinfo->dobj.catId, indxinfo->dobj.dumpId,",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 10144,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(q);",
          "new_line_content": "\t\t\t\t\t q->data, delq->data, NULL,",
          "content_same": false
        },
        {
          "line": 10145,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"INDEX %s\",\n\t\t\t\t\t  fmtId(indxinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"INDEX %s\",",
          "new_line_content": "\t\t\t\t\t indxinfo->dobj.dependencies, indxinfo->dobj.nDeps,",
          "content_same": false
        },
        {
          "line": 10146,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(indxinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(indxinfo->dobj.name));",
          "new_line_content": "\t\t\t\t\t NULL, NULL);",
          "content_same": false
        },
        {
          "line": 10147,
          "old_api": "dumpComment",
          "new_api": null,
          "old_text": "dumpComment(fout, q->data,\n\t\t\t\ttbinfo->dobj.namespace->dobj.name,\n\t\t\t\ttbinfo->rolname,\n\t\t\t\tindxinfo->dobj.catId, 0, indxinfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\tdumpComment(fout, q->data,",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 10171,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tq = createPQExpBuffer();",
          "new_line_content": "\tPQExpBuffer delq;",
          "content_same": false
        },
        {
          "line": 10172,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdelq = createPQExpBuffer();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10180,
          "old_api": "findObjectByDumpId",
          "new_api": null,
          "old_text": "findObjectByDumpId(coninfo->conindex)",
          "new_text": null,
          "old_line_content": "\t\tindxinfo = (IndxInfo *) findObjectByDumpId(coninfo->conindex);",
          "new_line_content": "\tif (coninfo->contype == 'p' || coninfo->contype == 'u')",
          "content_same": false
        },
        {
          "line": 10184,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"missing index for constraint \\\"%s\\\"\\n\",\n\t\t\t\t\t  coninfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\twrite_msg(NULL, \"missing index for constraint \\\"%s\\\"\\n\",",
          "new_line_content": "\t\tint\t\t\tk;",
          "content_same": false
        },
        {
          "line": 10189,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"ALTER TABLE ONLY %s\\n\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \"ALTER TABLE ONLY %s\\n\",",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 10191,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"    ADD CONSTRAINT %s %s (\",\n\t\t\t\t\t\t  fmtId(coninfo->dobj.name),\n\t\t\t\t\t\t  coninfo->contype == 'p' ? \"PRIMARY KEY\" : \"UNIQUE\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \"    ADD CONSTRAINT %s %s (\",",
          "new_line_content": "\t\t\t\t\t  coninfo->dobj.name);",
          "content_same": false
        },
        {
          "line": 10202,
          "old_api": "getAttrName",
          "new_api": null,
          "old_text": "getAttrName(indkey, tbinfo)",
          "new_text": null,
          "old_line_content": "\t\t\tattname = getAttrName(indkey, tbinfo);",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 10204,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"%s%s\",\n\t\t\t\t\t\t\t  (k == 0) ? \"\" : \", \",\n\t\t\t\t\t\t\t  fmtId(attname))",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \"%s%s\",",
          "new_line_content": "\t\t\tconst char *attname;",
          "content_same": false
        },
        {
          "line": 10206,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(attname)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(attname));",
          "new_line_content": "\t\t\tif (indkey == InvalidAttrNumber)",
          "content_same": false
        },
        {
          "line": 2015,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, blobQry)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, blobQry);",
          "new_line_content": "\t\t\t\t  \"\t\tSELECT description \"",
          "content_same": false
        },
        {
          "line": 2016,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, blobQry, PGRES_COMMAND_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, blobQry, PGRES_COMMAND_OK);",
          "new_line_content": "\t\t\t\t  \"\t\tFROM pg_description pd \"",
          "content_same": false
        },
        {
          "line": 10209,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \")\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \")\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10211,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(indxinfo->options)",
          "new_text": null,
          "old_line_content": "\t\tif (indxinfo->options && strlen(indxinfo->options) > 0)",
          "new_line_content": "\t\t\t\t\t\t\t  (k == 0) ? \"\" : \", \",",
          "content_same": false
        },
        {
          "line": 10214,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \";\\n\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \";\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2023,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\t\tPQclear(res);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2026,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, blobFetchQry)",
          "new_text": null,
          "old_line_content": "\t\tres = PQexec(g_conn, blobFetchQry);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2027,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, blobFetchQry, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\t\tcheck_sql_result(res, g_conn, blobFetchQry, PGRES_TUPLES_OK);",
          "new_line_content": "\tdo",
          "content_same": false
        },
        {
          "line": 10219,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"\\nALTER TABLE %s CLUSTER\",\n\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \"\\nALTER TABLE %s CLUSTER\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10221,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \" ON %s;\\n\",\n\t\t\t\t\t\t\t  fmtId(indxinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \" ON %s;\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2030,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\t\tfor (i = 0; i < PQntuples(res); i++)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10222,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(indxinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(indxinfo->dobj.name));",
          "new_line_content": "\t\t/* If the index is clustered, we need to record that. */",
          "content_same": false
        },
        {
          "line": 10229,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"ALTER TABLE ONLY %s.\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(delq, \"ALTER TABLE ONLY %s.\",",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 10230,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10231,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"%s \",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(delq, \"%s \",",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 10232,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\t * DROP must be fully qualified in case same name appears in",
          "content_same": false
        },
        {
          "line": 2039,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, 0)",
          "new_text": null,
          "old_line_content": "\t\t\tblobOid = atooid(PQgetvalue(res, i, 0));",
          "new_line_content": "\t\t\tchar\t   *comment;",
          "content_same": false
        },
        {
          "line": 2040,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, 1)",
          "new_text": null,
          "old_line_content": "\t\t\tcomment = PQgetvalue(res, i, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10233,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"DROP CONSTRAINT %s;\\n\",\n\t\t\t\t\t\t  fmtId(coninfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(delq, \"DROP CONSTRAINT %s;\\n\",",
          "new_line_content": "\t\t * pg_catalog",
          "content_same": false
        },
        {
          "line": 10234,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(coninfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(coninfo->dobj.name));",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 2044,
          "old_api": "appendStringLiteralAH",
          "new_api": null,
          "old_text": "appendStringLiteralAH(commentcmd, comment, AH)",
          "new_text": null,
          "old_line_content": "\t\t\tappendStringLiteralAH(commentcmd, comment, AH);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2047,
          "old_api": "archputs",
          "new_api": null,
          "old_text": "archputs(commentcmd->data, AH)",
          "new_text": null,
          "old_line_content": "\t\t\tarchputs(commentcmd->data, AH);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2049,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\t} while (PQntuples(res) > 0);",
          "new_line_content": "\t\t\t\t\t\t\t  blobOid);",
          "content_same": false
        },
        {
          "line": 10252,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"ALTER TABLE ONLY %s\\n\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \"ALTER TABLE ONLY %s\\n\",",
          "new_line_content": "\telse if (coninfo->contype == 'f')",
          "content_same": false
        },
        {
          "line": 10253,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 10254,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"    ADD CONSTRAINT %s %s;\\n\",\n\t\t\t\t\t\t  fmtId(coninfo->dobj.name),\n\t\t\t\t\t\t  coninfo->condef)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \"    ADD CONSTRAINT %s %s;\\n\",",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 10255,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(coninfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(coninfo->dobj.name),",
          "new_line_content": "\t\t * XXX Potentially wrap in a 'SET CONSTRAINTS OFF' block so that the",
          "content_same": false
        },
        {
          "line": 10262,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"ALTER TABLE ONLY %s.\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(delq, \"ALTER TABLE ONLY %s.\",",
          "new_line_content": "\t\t\t\t\t\t  coninfo->condef);",
          "content_same": false
        },
        {
          "line": 10263,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10264,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"%s \",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(delq, \"%s \",",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 10265,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\t * DROP must be fully qualified in case same name appears in",
          "content_same": false
        },
        {
          "line": 10266,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"DROP CONSTRAINT %s;\\n\",\n\t\t\t\t\t\t  fmtId(coninfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(delq, \"DROP CONSTRAINT %s;\\n\",",
          "new_line_content": "\t\t * pg_catalog",
          "content_same": false
        },
        {
          "line": 10267,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(coninfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(coninfo->dobj.name));",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 2087,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(2 * sizeof(NamespaceInfo))",
          "new_text": null,
          "old_line_content": "\t\tnsinfo = (NamespaceInfo *) malloc(2 * sizeof(NamespaceInfo));",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 2092,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&nsinfo[0].dobj)",
          "new_text": null,
          "old_line_content": "\t\tAssignDumpId(&nsinfo[0].dobj);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 2094,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup(\"\")",
          "new_text": null,
          "old_line_content": "\t\tnsinfo[0].rolname = strdup(\"\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2095,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup(\"\")",
          "new_text": null,
          "old_line_content": "\t\tnsinfo[0].nspacl = strdup(\"\");",
          "new_line_content": "\t\tnsinfo[0].dobj.objType = DO_NAMESPACE;",
          "content_same": false
        },
        {
          "line": 10287,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"ALTER TABLE %s\\n\",\n\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \"ALTER TABLE %s\\n\",",
          "new_line_content": "\t\t/* CHECK constraint on a table */",
          "content_same": false
        },
        {
          "line": 2097,
          "old_api": "selectDumpableNamespace",
          "new_api": null,
          "old_text": "selectDumpableNamespace(&nsinfo[0])",
          "new_text": null,
          "old_line_content": "\t\tselectDumpableNamespace(&nsinfo[0]);",
          "new_line_content": "\t\tnsinfo[0].dobj.catId.oid = 0;",
          "content_same": false
        },
        {
          "line": 10288,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10289,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"    ADD CONSTRAINT %s %s;\\n\",\n\t\t\t\t\t\t\t  fmtId(coninfo->dobj.name),\n\t\t\t\t\t\t\t  coninfo->condef)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \"    ADD CONSTRAINT %s %s;\\n\",",
          "new_line_content": "\t\t/* Ignore if not to be dumped separately */",
          "content_same": false
        },
        {
          "line": 10290,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(coninfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(coninfo->dobj.name),",
          "new_line_content": "\t\tif (coninfo->separate)",
          "content_same": false
        },
        {
          "line": 2102,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&nsinfo[1].dobj)",
          "new_text": null,
          "old_line_content": "\t\tAssignDumpId(&nsinfo[1].dobj);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2104,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup(\"\")",
          "new_text": null,
          "old_line_content": "\t\tnsinfo[1].rolname = strdup(\"\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2105,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup(\"\")",
          "new_text": null,
          "old_line_content": "\t\tnsinfo[1].nspacl = strdup(\"\");",
          "new_line_content": "\t\tnsinfo[1].dobj.objType = DO_NAMESPACE;",
          "content_same": false
        },
        {
          "line": 10297,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"ALTER TABLE %s.\",\n\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(delq, \"ALTER TABLE %s.\",",
          "new_line_content": "\t\t\t\t\t\t\t  coninfo->condef);",
          "content_same": false
        },
        {
          "line": 2107,
          "old_api": "selectDumpableNamespace",
          "new_api": null,
          "old_text": "selectDumpableNamespace(&nsinfo[1])",
          "new_text": null,
          "old_line_content": "\t\tselectDumpableNamespace(&nsinfo[1]);",
          "new_line_content": "\t\tnsinfo[1].dobj.catId.oid = 1;",
          "content_same": false
        },
        {
          "line": 10298,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10299,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"%s \",\n\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(delq, \"%s \",",
          "new_line_content": "\t\t\t/*",
          "content_same": false
        },
        {
          "line": 10300,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\t\t * DROP must be fully qualified in case same name appears in",
          "content_same": false
        },
        {
          "line": 10301,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"DROP CONSTRAINT %s;\\n\",\n\t\t\t\t\t\t\t  fmtId(coninfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(delq, \"DROP CONSTRAINT %s;\\n\",",
          "new_line_content": "\t\t\t * pg_catalog",
          "content_same": false
        },
        {
          "line": 10302,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(coninfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(coninfo->dobj.name));",
          "new_line_content": "\t\t\t */",
          "content_same": false
        },
        {
          "line": 2115,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tquery = createPQExpBuffer();",
          "new_line_content": "\t\tg_namespaces = nsinfo;",
          "content_same": false
        },
        {
          "line": 2118,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(\"pg_catalog\")",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "new_line_content": "\t\treturn nsinfo;",
          "content_same": false
        },
        {
          "line": 2129,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 10323,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"ALTER DOMAIN %s\\n\",\n\t\t\t\t\t\t\t  fmtId(tinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \"ALTER DOMAIN %s\\n\",",
          "new_line_content": "\t\t/* CHECK constraint on a domain */",
          "content_same": false
        },
        {
          "line": 2132,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t  \"nspacl FROM pg_namespace\",",
          "content_same": false
        },
        {
          "line": 10324,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(tinfo->dobj.name));",
          "new_line_content": "\t\tTypeInfo   *tinfo = coninfo->condomain;",
          "content_same": false
        },
        {
          "line": 2134,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(ntups * sizeof(NamespaceInfo))",
          "new_text": null,
          "old_line_content": "\tnsinfo = (NamespaceInfo *) malloc(ntups * sizeof(NamespaceInfo));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10325,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"    ADD CONSTRAINT %s %s;\\n\",\n\t\t\t\t\t\t\t  fmtId(coninfo->dobj.name),\n\t\t\t\t\t\t\t  coninfo->condef)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \"    ADD CONSTRAINT %s %s;\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10326,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(coninfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(coninfo->dobj.name),",
          "new_line_content": "\t\t/* Ignore if not to be dumped separately */",
          "content_same": false
        },
        {
          "line": 2137,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"oid\")",
          "new_text": null,
          "old_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2139,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"rolname\")",
          "new_text": null,
          "old_line_content": "\ti_rolname = PQfnumber(res, \"rolname\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10333,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"ALTER DOMAIN %s.\",\n\t\t\t\t\t\t\t  fmtId(tinfo->dobj.namespace->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(delq, \"ALTER DOMAIN %s.\",",
          "new_line_content": "\t\t\t\t\t\t\t  coninfo->condef);",
          "content_same": false
        },
        {
          "line": 10334,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(tinfo->dobj.namespace->dobj.name));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10335,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"%s \",\n\t\t\t\t\t\t\t  fmtId(tinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(delq, \"%s \",",
          "new_line_content": "\t\t\t/*",
          "content_same": false
        },
        {
          "line": 10336,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(tinfo->dobj.name));",
          "new_line_content": "\t\t\t * DROP must be fully qualified in case same name appears in",
          "content_same": false
        },
        {
          "line": 10337,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"DROP CONSTRAINT %s;\\n\",\n\t\t\t\t\t\t\t  fmtId(coninfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(delq, \"DROP CONSTRAINT %s;\\n\",",
          "new_line_content": "\t\t\t * pg_catalog",
          "content_same": false
        },
        {
          "line": 10338,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(coninfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(coninfo->dobj.name));",
          "new_line_content": "\t\t\t */",
          "content_same": false
        },
        {
          "line": 2147,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&nsinfo[i].dobj)",
          "new_text": null,
          "old_line_content": "\t\tAssignDumpId(&nsinfo[i].dobj);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2148,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_nspname)",
          "new_text": null,
          "old_line_content": "\t\tnsinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_nspname));",
          "new_line_content": "\tfor (i = 0; i < ntups; i++)",
          "content_same": false
        },
        {
          "line": 2149,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_rolname)",
          "new_text": null,
          "old_line_content": "\t\tnsinfo[i].rolname = strdup(PQgetvalue(res, i, i_rolname));",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 2150,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_nspacl)",
          "new_text": null,
          "old_line_content": "\t\tnsinfo[i].nspacl = strdup(PQgetvalue(res, i, i_nspacl));",
          "new_line_content": "\t\tnsinfo[i].dobj.objType = DO_NAMESPACE;",
          "content_same": false
        },
        {
          "line": 2160,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10353,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"unrecognized constraint type: %c\\n\", coninfo->contype)",
          "new_text": null,
          "old_line_content": "\t\twrite_msg(NULL, \"unrecognized constraint type: %c\\n\", coninfo->contype);",
          "new_line_content": "\t\t\t\t\t\t coninfo->dobj.dependencies, coninfo->dobj.nDeps,",
          "content_same": false
        },
        {
          "line": 10354,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "\t\t\t\t\t\t NULL, NULL);",
          "content_same": false
        },
        {
          "line": 10361,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 10362,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(delq)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(delq);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10376,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer q = createPQExpBuffer();",
          "new_line_content": " * or as a separate ALTER command.",
          "content_same": false
        },
        {
          "line": 10378,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"CONSTRAINT %s \",\n\t\t\t\t\t  fmtId(coninfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"CONSTRAINT %s \",",
          "new_line_content": "static void",
          "content_same": false
        },
        {
          "line": 10379,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(coninfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(coninfo->dobj.name));",
          "new_line_content": "dumpTableConstraintComment(Archive *fout, ConstraintInfo *coninfo)",
          "content_same": false
        },
        {
          "line": 10380,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"ON %s\",\n\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"ON %s\",",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 10381,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\tTableInfo  *tbinfo = coninfo->contable;",
          "content_same": false
        },
        {
          "line": 2191,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"schema with OID %u does not exist\\n\", nsoid)",
          "new_text": null,
          "old_line_content": "\t\twrite_msg(NULL, \"schema with OID %u does not exist\\n\", nsoid);",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 2192,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "\t\t\tNamespaceInfo *nsinfo = &g_namespaces[i];",
          "content_same": false
        },
        {
          "line": 10404,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": "static Oid",
          "content_same": false
        },
        {
          "line": 10406,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(query);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 10407,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT datlastsysoid from pg_database where datname = \")",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \"SELECT datlastsysoid from pg_database where datname = \");",
          "new_line_content": "\tPGresult   *res;",
          "content_same": false
        },
        {
          "line": 10408,
          "old_api": "appendStringLiteralAH",
          "new_api": null,
          "old_text": "appendStringLiteralAH(query, dbname, g_fout)",
          "new_text": null,
          "old_line_content": "\tappendStringLiteralAH(query, dbname, g_fout);",
          "new_line_content": "\tint\t\t\tntups;",
          "content_same": false
        },
        {
          "line": 10411,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2223,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": "TypeInfo *",
          "content_same": false
        },
        {
          "line": 10421,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"found more than one pg_database entry for this database\\n\")",
          "new_text": null,
          "old_line_content": "\t\twrite_msg(NULL, \"found more than one pg_database entry for this database\\n\");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 10424,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"datlastsysoid\")",
          "new_text": null,
          "old_line_content": "\tlast_oid = atooid(PQgetvalue(res, 0, PQfnumber(res, \"datlastsysoid\")));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 10425,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\tif (ntups > 1)",
          "content_same": false
        },
        {
          "line": 10426,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 10445,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn,\n\t\t\t\t \"SELECT oid FROM pg_class WHERE relname = 'pg_indexes'\")",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn,",
          "new_line_content": "findLastBuiltinOid_V70(void)",
          "content_same": false
        },
        {
          "line": 10447,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn,\n\t\t\t\t\t \"SELECT oid FROM pg_class WHERE relname = 'pg_indexes'\",\n\t\t\t\t\t PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn,",
          "new_line_content": "\tPGresult   *res;",
          "content_same": false
        },
        {
          "line": 2257,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(\"pg_catalog\")",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "new_line_content": "\t * still check for name beginning with '_', though, so as to avoid the",
          "content_same": false
        },
        {
          "line": 10450,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2261,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, typname, \"\n\t\t\t\t\t\t  \"typnamespace, \"\n\t\t\t\t\t\t  \"(%s typowner) AS rolname, \"\n\t\t\t\t\t\t  \"typinput::oid AS typinput, \"\n\t\t\t\t\t\t  \"typoutput::oid AS typoutput, typelem, typrelid, \"\n\t\t\t\t\t\t  \"CASE WHEN typrelid = 0 THEN ' '::\\\"char\\\" \"\n\t\t\t\t\t\t  \"ELSE (SELECT relkind FROM pg_class WHERE oid = typrelid) END AS typrelkind, \"\n\t\t\t\t\t\t  \"typtype, typisdefined, \"\n\t\t\t\t\t\t  \"typname[0] = '_' AND typelem != 0 AND \"\n\t\t\t\t\t\t  \"(SELECT typarray FROM pg_type te WHERE oid = pg_type.typelem) = oid AS isarray \"\n\t\t\t\t\t\t  \"FROM pg_type\",\n\t\t\t\t\t\t  username_subquery)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, typname, \"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10454,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "\t\t\t\t\t \"SELECT oid FROM pg_class WHERE relname = 'pg_indexes'\",",
          "content_same": false
        },
        {
          "line": 10458,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"found more than one entry for pg_indexes in pg_class\\n\")",
          "new_text": null,
          "old_line_content": "\t\twrite_msg(NULL, \"found more than one entry for pg_indexes in pg_class\\n\");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 10461,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"oid\")",
          "new_text": null,
          "old_line_content": "\tlast_oid = atooid(PQgetvalue(res, 0, PQfnumber(res, \"oid\")));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 10462,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\tif (ntups > 1)",
          "content_same": false
        },
        {
          "line": 2276,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, typname, \"\n\t\t\t\t\t\t  \"typnamespace, \"\n\t\t\t\t\t\t  \"(%s typowner) AS rolname, \"\n\t\t\t\t\t\t  \"typinput::oid AS typinput, \"\n\t\t\t\t\t\t  \"typoutput::oid AS typoutput, typelem, typrelid, \"\n\t\t\t\t\t\t  \"CASE WHEN typrelid = 0 THEN ' '::\\\"char\\\" \"\n\t\t\t\t\t\t  \"ELSE (SELECT relkind FROM pg_class WHERE oid = typrelid) END AS typrelkind, \"\n\t\t\t\t\t\t  \"typtype, typisdefined, \"\n\t\t\t\t\t\t  \"typname[0] = '_' AND typelem != 0 AS isarray \"\n\t\t\t\t\t\t  \"FROM pg_type\",\n\t\t\t\t\t\t  username_subquery)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, typname, \"",
          "new_line_content": "\t\t\t\t\t\t  \"(SELECT typarray FROM pg_type te WHERE oid = pg_type.typelem) = oid AS isarray \"",
          "content_same": false
        },
        {
          "line": 10480,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": "\t\t\t   *minv = NULL,",
          "content_same": false
        },
        {
          "line": 10481,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer delqry = createPQExpBuffer();",
          "new_line_content": "\t\t\t   *cache;",
          "content_same": false
        },
        {
          "line": 2290,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, typname, \"\n\t\t\t\t\t\t  \"0::oid AS typnamespace, \"\n\t\t\t\t\t\t  \"(%s typowner) AS rolname, \"\n\t\t\t\t\t\t  \"typinput::oid AS typinput, \"\n\t\t\t\t\t\t  \"typoutput::oid AS typoutput, typelem, typrelid, \"\n\t\t\t\t\t\t  \"CASE WHEN typrelid = 0 THEN ' '::\\\"char\\\" \"\n\t\t\t\t\t\t  \"ELSE (SELECT relkind FROM pg_class WHERE oid = typrelid) END AS typrelkind, \"\n\t\t\t\t\t\t  \"typtype, typisdefined, \"\n\t\t\t\t\t\t  \"typname[0] = '_' AND typelem != 0 AS isarray \"\n\t\t\t\t\t\t  \"FROM pg_type\",\n\t\t\t\t\t\t  username_subquery)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, typname, \"",
          "new_line_content": "\t\t\t\t\t\t  \"typname[0] = '_' AND typelem != 0 AS isarray \"",
          "content_same": false
        },
        {
          "line": 10484,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(tbinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(tbinfo->dobj.namespace->dobj.name);",
          "new_line_content": "\tbool\t\tcycled,",
          "content_same": false
        },
        {
          "line": 10491,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t  \"SELECT sequence_name, \"\n\t\t\t\t  \"start_value, last_value, increment_by, \"\n\t\t\t\t  \"CASE WHEN increment_by > 0 AND max_value = %s THEN NULL \"\n\t\t\t\t  \"     WHEN increment_by < 0 AND max_value = -1 THEN NULL \"\n\t\t\t\t  \"     ELSE max_value \"\n\t\t\t\t  \"END AS max_value, \"\n\t\t\t\t  \"CASE WHEN increment_by > 0 AND min_value = 1 THEN NULL \"\n\t\t\t\t  \"     WHEN increment_by < 0 AND min_value = %s THEN NULL \"\n\t\t\t\t  \"     ELSE min_value \"\n\t\t\t\t  \"END AS min_value, \"\n\t\t\t\t  \"cache_value, is_cycled, is_called from %s\",\n\t\t\t\t  bufx, bufm,\n\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2304,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT \"\n\t\t \"(SELECT oid FROM pg_class WHERE relname = 'pg_type') AS tableoid, \"\n\t\t\t\t\t\t  \"oid, typname, \"\n\t\t\t\t\t\t  \"0::oid AS typnamespace, \"\n\t\t\t\t\t\t  \"(%s typowner) AS rolname, \"\n\t\t\t\t\t\t  \"typinput::oid AS typinput, \"\n\t\t\t\t\t\t  \"typoutput::oid AS typoutput, typelem, typrelid, \"\n\t\t\t\t\t\t  \"CASE WHEN typrelid = 0 THEN ' '::\\\"char\\\" \"\n\t\t\t\t\t\t  \"ELSE (SELECT relkind FROM pg_class WHERE oid = typrelid) END AS typrelkind, \"\n\t\t\t\t\t\t  \"typtype, typisdefined, \"\n\t\t\t\t\t\t  \"typname[0] = '_' AND typelem != 0 AS isarray \"\n\t\t\t\t\t\t  \"FROM pg_type\",\n\t\t\t\t\t\t  username_subquery)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT \"",
          "new_line_content": "\t\t\t\t\t\t  \"typname[0] = '_' AND typelem != 0 AS isarray \"",
          "content_same": false
        },
        {
          "line": 10504,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\t\t\t  \"CASE WHEN increment_by > 0 AND min_value = 1 THEN NULL \"",
          "content_same": false
        },
        {
          "line": 10508,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t  \"SELECT sequence_name, \"\n\t\t\t\t  \"0 AS start_value, last_value, increment_by, \"\n\t\t\t\t  \"CASE WHEN increment_by > 0 AND max_value = %s THEN NULL \"\n\t\t\t\t  \"     WHEN increment_by < 0 AND max_value = -1 THEN NULL \"\n\t\t\t\t  \"     ELSE max_value \"\n\t\t\t\t  \"END AS max_value, \"\n\t\t\t\t  \"CASE WHEN increment_by > 0 AND min_value = 1 THEN NULL \"\n\t\t\t\t  \"     WHEN increment_by < 0 AND min_value = %s THEN NULL \"\n\t\t\t\t  \"     ELSE min_value \"\n\t\t\t\t  \"END AS min_value, \"\n\t\t\t\t  \"cache_value, is_cycled, is_called from %s\",\n\t\t\t\t  bufx, bufm,\n\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\t\t\t  \"cache_value, is_cycled, is_called from %s\",",
          "content_same": false
        },
        {
          "line": 2319,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\t\t  \"typtype, typisdefined, \"",
          "content_same": false
        },
        {
          "line": 2320,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t  \"typname[0] = '_' AND typelem != 0 AS isarray \"",
          "content_same": false
        },
        {
          "line": 2322,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t\t  username_subquery);",
          "content_same": false
        },
        {
          "line": 2324,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(ntups * sizeof(TypeInfo))",
          "new_text": null,
          "old_line_content": "\ttinfo = (TypeInfo *) malloc(ntups * sizeof(TypeInfo));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2327,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"oid\")",
          "new_text": null,
          "old_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2329,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"typnamespace\")",
          "new_text": null,
          "old_line_content": "\ti_typnamespace = PQfnumber(res, \"typnamespace\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10521,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\t\t\t  \"CASE WHEN increment_by > 0 AND min_value = 1 THEN NULL \"",
          "content_same": false
        },
        {
          "line": 2331,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"typinput\")",
          "new_text": null,
          "old_line_content": "\ti_typinput = PQfnumber(res, \"typinput\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10524,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t  \"END AS min_value, \"",
          "content_same": false
        },
        {
          "line": 10525,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t  \"cache_value, is_cycled, is_called from %s\",",
          "content_same": false
        },
        {
          "line": 10529,
          "old_api": "ngettext",
          "new_api": null,
          "old_text": "ngettext(\"query to get data of sequence \\\"%s\\\" returned %d row (expected 1)\\n\",\n\t\t\t\t\t\t\t\t \"query to get data of sequence \\\"%s\\\" returned %d rows (expected 1)\\n\",\n\t\t\t\t\t\t\t\t PQntuples(res))",
          "new_text": null,
          "old_line_content": "\t\twrite_msg(NULL, ngettext(\"query to get data of sequence \\\"%s\\\" returned %d row (expected 1)\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10532,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\t\t\t\t  tbinfo->dobj.name, PQntuples(res));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2345,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&tinfo[i].dobj)",
          "new_text": null,
          "old_line_content": "\t\tAssignDumpId(&tinfo[i].dobj);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2346,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_typname)",
          "new_text": null,
          "old_line_content": "\t\ttinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_typname));",
          "new_line_content": "\tfor (i = 0; i < ntups; i++)",
          "content_same": false
        },
        {
          "line": 2347,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_typnamespace)",
          "new_text": null,
          "old_line_content": "\t\ttinfo[i].dobj.namespace = findNamespace(atooid(PQgetvalue(res, i, i_typnamespace)),",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 10540,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"query to get data of sequence \\\"%s\\\" returned name \\\"%s\\\"\\n\",\n\t\t\t\t  tbinfo->dobj.name, PQgetvalue(res, 0, 0))",
          "new_text": null,
          "old_line_content": "\t\twrite_msg(NULL, \"query to get data of sequence \\\"%s\\\" returned name \\\"%s\\\"\\n\",",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 10541,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, 0, 0)",
          "new_text": null,
          "old_line_content": "\t\t\t\t  tbinfo->dobj.name, PQgetvalue(res, 0, 0));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10542,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "\t/* Disable this check: it fails if sequence has been renamed */",
          "content_same": false
        },
        {
          "line": 10549,
          "old_api": "PQgetisnull",
          "new_api": null,
          "old_text": "PQgetisnull(res, 0, 4)",
          "new_text": null,
          "old_line_content": "\tif (!PQgetisnull(res, 0, 4))",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 10550,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, 0, 4)",
          "new_text": null,
          "old_line_content": "\t\tmaxv = PQgetvalue(res, 0, 4);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 10551,
          "old_api": "PQgetisnull",
          "new_api": null,
          "old_text": "PQgetisnull(res, 0, 5)",
          "new_text": null,
          "old_line_content": "\tif (!PQgetisnull(res, 0, 5))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2361,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_isarray)",
          "new_text": null,
          "old_line_content": "\t\tif (strcmp(PQgetvalue(res, i, i_isarray), \"t\") == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2375,
          "old_api": "getDomainConstraints",
          "new_api": null,
          "old_text": "getDomainConstraints(&(tinfo[i]))",
          "new_text": null,
          "old_line_content": "\t\t\tgetDomainConstraints(&(tinfo[i]));",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 10569,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(delqry)",
          "new_text": null,
          "old_line_content": "\t\tresetPQExpBuffer(delqry);",
          "new_line_content": "\t * BY command for it.",
          "content_same": false
        },
        {
          "line": 10576,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10577,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delqry, \"%s;\\n\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(delqry, \"%s;\\n\",",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 10578,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\t * DROP must be fully qualified in case same name appears in",
          "content_same": false
        },
        {
          "line": 2388,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(sizeof(ShellTypeInfo))",
          "new_text": null,
          "old_line_content": "\t\t\tstinfo = (ShellTypeInfo *) malloc(sizeof(ShellTypeInfo));",
          "new_line_content": "\t\t * Note: the shell type doesn't have a catId.  You might think it",
          "content_same": false
        },
        {
          "line": 10580,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\t\tresetPQExpBuffer(query);",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 2391,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&stinfo->dobj)",
          "new_text": null,
          "old_line_content": "\t\t\tAssignDumpId(&stinfo->dobj);",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 2392,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup(tinfo[i].dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\tstinfo->dobj.name = strdup(tinfo[i].dobj.name);",
          "new_line_content": "\t\tif (tinfo[i].dobj.dump && tinfo[i].typtype == TYPTYPE_BASE)",
          "content_same": false
        },
        {
          "line": 10595,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"    START WITH %s\\n\", last)",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(query, \"    START WITH %s\\n\", last);",
          "new_line_content": "\t\t\t/*",
          "content_same": false
        },
        {
          "line": 10598,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"    INCREMENT BY %s\\n\", incby)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"    INCREMENT BY %s\\n\", incby);",
          "new_line_content": "\t\t\t * so we can use last_val.  Otherwise punt and let it default.",
          "content_same": false
        },
        {
          "line": 10603,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"    NO MAXVALUE\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(query, \"    NO MAXVALUE\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10606,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"    MINVALUE %s\\n\", minv)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(query, \"    MINVALUE %s\\n\", minv);",
          "new_line_content": "\t\tif (maxv)",
          "content_same": false
        },
        {
          "line": 2416,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_typinput)",
          "new_text": null,
          "old_line_content": "\t\t\t\ttypinput = atooid(PQgetvalue(res, i, i_typinput));",
          "new_line_content": "\t\t\tif (g_fout->remoteVersion < 70300)",
          "content_same": false
        },
        {
          "line": 2417,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_typoutput)",
          "new_text": null,
          "old_line_content": "\t\t\t\ttypoutput = atooid(PQgetvalue(res, i, i_typoutput));",
          "new_line_content": "\t\t\t{",
          "content_same": false
        },
        {
          "line": 10608,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"    NO MINVALUE\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(query, \"    NO MINVALUE\\n\");",
          "new_line_content": "\t\telse",
          "content_same": false
        },
        {
          "line": 2419,
          "old_api": "findFuncByOid",
          "new_api": null,
          "old_text": "findFuncByOid(typinput)",
          "new_text": null,
          "old_line_content": "\t\t\t\tfuncInfo = findFuncByOid(typinput);",
          "new_line_content": "\t\t\t\tOid\t\t\ttypoutput;",
          "content_same": false
        },
        {
          "line": 10610,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"    CACHE %s%s\",\n\t\t\t\t\t\t  cache, (cycled ? \"\\n    CYCLE\" : \"\"))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2426,
          "old_api": "addObjectDependency",
          "new_api": null,
          "old_text": "addObjectDependency(&funcInfo->dobj,\n\t\t\t\t\t\t\t\t\t\tstinfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\taddObjectDependency(&funcInfo->dobj,",
          "new_line_content": "\t\t\t\tif (funcInfo && funcInfo->dobj.dump)",
          "content_same": false
        },
        {
          "line": 2436,
          "old_api": "addObjectDependency",
          "new_api": null,
          "old_text": "addObjectDependency(&tinfo[i].dobj,\n\t\t\t\t\t\t\t\t\t\tfuncInfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\taddObjectDependency(&tinfo[i].dobj,",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 2439,
          "old_api": "addObjectDependency",
          "new_api": null,
          "old_text": "addObjectDependency(&funcInfo->dobj,\n\t\t\t\t\t\t\t\t\t\tstinfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\taddObjectDependency(&funcInfo->dobj,",
          "new_line_content": "\t\t\t\tif (funcInfo && funcInfo->dobj.dump)",
          "content_same": false
        },
        {
          "line": 10638,
          "old_api": "OidIsValid",
          "new_api": null,
          "old_text": "OidIsValid(tbinfo->owning_tab)",
          "new_text": null,
          "old_line_content": "\t\tif (OidIsValid(tbinfo->owning_tab))",
          "new_line_content": "\t\t * the TOC entry because it will fail if we haven't reassigned the",
          "content_same": false
        },
        {
          "line": 2447,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(tinfo[i].rolname)",
          "new_text": null,
          "old_line_content": "\t\tif (strlen(tinfo[i].rolname) == 0 && tinfo[i].isDefined)",
          "new_line_content": "\t\t\t\t\t/* mark shell type as to be dumped */",
          "content_same": false
        },
        {
          "line": 2448,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"WARNING: owner of data type \\\"%s\\\" appears to be invalid\\n\",\n\t\t\t\t\t  tinfo[i].dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\twrite_msg(NULL, \"WARNING: owner of data type \\\"%s\\\" appears to be invalid\\n\",",
          "new_line_content": "\t\t\t\t\tstinfo->dobj.dump = true;",
          "content_same": false
        },
        {
          "line": 10640,
          "old_api": "findTableByOid",
          "new_api": null,
          "old_text": "findTableByOid(tbinfo->owning_tab)",
          "new_text": null,
          "old_line_content": "\t\t\tTableInfo  *owning_tab = findTableByOid(tbinfo->owning_tab);",
          "new_line_content": "\t\t *",
          "content_same": false
        },
        {
          "line": 10645,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"ALTER SEQUENCE %s\",\n\t\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(query, \"ALTER SEQUENCE %s\",",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 10647,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \" OWNED BY %s\",\n\t\t\t\t\t\t\t\t  fmtId(owning_tab->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(query, \" OWNED BY %s\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2456,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 10648,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(owning_tab->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t  fmtId(owning_tab->dobj.name));",
          "new_line_content": "\t\t\tif (owning_tab && owning_tab->dobj.dump)",
          "content_same": false
        },
        {
          "line": 10649,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \".%s;\\n\",\n\t\t\t\t\t\tfmtId(owning_tab->attnames[tbinfo->owning_col - 1]))",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(query, \".%s;\\n\",",
          "new_line_content": "\t\t\t{",
          "content_same": false
        },
        {
          "line": 10665,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\t\tresetPQExpBuffer(query);",
          "new_line_content": "\t\t\t\t\t\t\t &(tbinfo->dobj.dumpId), 1,",
          "content_same": false
        },
        {
          "line": 2474,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": "OprInfo *",
          "content_same": false
        },
        {
          "line": 10666,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SEQUENCE %s\", fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\t\t\t\t\t\t NULL, NULL);",
          "content_same": false
        },
        {
          "line": 10667,
          "old_api": "dumpComment",
          "new_api": null,
          "old_text": "dumpComment(fout, query->data,\n\t\t\t\t\ttbinfo->dobj.namespace->dobj.name, tbinfo->rolname,\n\t\t\t\t\ttbinfo->dobj.catId, 0, tbinfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\t\tdumpComment(fout, query->data,",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 10674,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\t\tresetPQExpBuffer(query);",
          "new_line_content": "\t\t\t\t\ttbinfo->dobj.namespace->dobj.name, tbinfo->rolname,",
          "content_same": false
        },
        {
          "line": 10675,
          "old_api": "setval",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT pg_catalog.setval(\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT pg_catalog.setval(\");",
          "new_line_content": "\t\t\t\t\ttbinfo->dobj.catId, 0, tbinfo->dobj.dumpId);",
          "content_same": false
        },
        {
          "line": 10676,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\tappendStringLiteralAH(query, fmtId(tbinfo->dobj.name), fout);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 10677,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \", %s, %s);\\n\",\n\t\t\t\t\t\t  last, (called ? \"true\" : \"false\"))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \", %s, %s);\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2489,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(\"pg_catalog\")",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 2493,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, oprname, \"\n\t\t\t\t\t\t  \"oprnamespace, \"\n\t\t\t\t\t\t  \"(%s oprowner) AS rolname, \"\n\t\t\t\t\t\t  \"oprcode::oid AS oprcode \"\n\t\t\t\t\t\t  \"FROM pg_operator\",\n\t\t\t\t\t\t  username_subquery)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, oprname, \"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10691,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\t\t\t\t false, \"SEQUENCE SET\", SECTION_PRE_DATA,",
          "content_same": false
        },
        {
          "line": 10693,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\t\t\t &(tbinfo->dobj.dumpId), 1,",
          "content_same": false
        },
        {
          "line": 2502,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, oprname, \"\n\t\t\t\t\t\t  \"0::oid AS oprnamespace, \"\n\t\t\t\t\t\t  \"(%s oprowner) AS rolname, \"\n\t\t\t\t\t\t  \"oprcode::oid AS oprcode \"\n\t\t\t\t\t\t  \"FROM pg_operator\",\n\t\t\t\t\t\t  username_subquery)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, oprname, \"",
          "new_line_content": "\t\t\t\t\t\t  \"oprcode::oid AS oprcode \"",
          "content_same": false
        },
        {
          "line": 10694,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(delqry)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(delqry);",
          "new_line_content": "\t\t\t\t\t NULL, NULL);",
          "content_same": false
        },
        {
          "line": 2511,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT \"\n\t\t\t\t\t\t  \"(SELECT oid FROM pg_class WHERE relname = 'pg_operator') AS tableoid, \"\n\t\t\t\t\t\t  \"oid, oprname, \"\n\t\t\t\t\t\t  \"0::oid AS oprnamespace, \"\n\t\t\t\t\t\t  \"(%s oprowner) AS rolname, \"\n\t\t\t\t\t\t  \"oprcode::oid AS oprcode \"\n\t\t\t\t\t\t  \"FROM pg_operator\",\n\t\t\t\t\t\t  username_subquery)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT \"",
          "new_line_content": "\t\t\t\t\t\t  \"oprcode::oid AS oprcode \"",
          "content_same": false
        },
        {
          "line": 10709,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tquery = createPQExpBuffer();",
          "new_line_content": "\tconst char *p;",
          "content_same": false
        },
        {
          "line": 10710,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdelqry = createPQExpBuffer();",
          "new_line_content": "\tint\t\t\tfindx;",
          "content_same": false
        },
        {
          "line": 2521,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\t\t  \"(%s oprowner) AS rolname, \"",
          "content_same": false
        },
        {
          "line": 2522,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t  \"oprcode::oid AS oprcode \"",
          "content_same": false
        },
        {
          "line": 2524,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t\t  username_subquery);",
          "content_same": false
        },
        {
          "line": 10717,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delqry, \"ON %s.\",\n\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delqry, \"ON %s.\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10718,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name));",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 10719,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delqry, \"%s;\\n\",\n\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delqry, \"%s;\\n\",",
          "new_line_content": "\t * DROP must be fully qualified in case same name appears in pg_catalog",
          "content_same": false
        },
        {
          "line": 10720,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2529,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"tableoid\")",
          "new_text": null,
          "old_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2531,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"oprname\")",
          "new_text": null,
          "old_line_content": "\ti_oprname = PQfnumber(res, \"oprname\");",
          "new_line_content": "\t*numOprs = ntups;",
          "content_same": false
        },
        {
          "line": 2532,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"oprnamespace\")",
          "new_text": null,
          "old_line_content": "\ti_oprnamespace = PQfnumber(res, \"oprnamespace\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2534,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"oprcode\")",
          "new_text": null,
          "old_line_content": "\ti_oprcode = PQfnumber(res, \"oprcode\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10729,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"CREATE TRIGGER \")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"CREATE TRIGGER \");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 10732,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"\\n    \")",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \"\\n    \");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2541,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&oprinfo[i].dobj)",
          "new_text": null,
          "old_line_content": "\t\tAssignDumpId(&oprinfo[i].dobj);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2542,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_oprname)",
          "new_text": null,
          "old_line_content": "\t\toprinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_oprname));",
          "new_line_content": "\tfor (i = 0; i < ntups; i++)",
          "content_same": false
        },
        {
          "line": 2543,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_oprnamespace)",
          "new_text": null,
          "old_line_content": "\t\toprinfo[i].dobj.namespace = findNamespace(atooid(PQgetvalue(res, i, i_oprnamespace)),",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 10737,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"BEFORE\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"BEFORE\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 10739,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"AFTER\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"AFTER\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10740,
          "old_api": "TRIGGER_FOR_INSERT",
          "new_api": null,
          "old_text": "TRIGGER_FOR_INSERT(tginfo->tgtype)",
          "new_text": null,
          "old_line_content": "\tif (TRIGGER_FOR_INSERT(tginfo->tgtype))",
          "new_line_content": "\t/* Trigger type */",
          "content_same": false
        },
        {
          "line": 2556,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10750,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \" DELETE\")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(query, \" DELETE\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 10753,
          "old_api": "TRIGGER_FOR_UPDATE",
          "new_api": null,
          "old_text": "TRIGGER_FOR_UPDATE(tginfo->tgtype)",
          "new_text": null,
          "old_line_content": "\tif (TRIGGER_FOR_UPDATE(tginfo->tgtype))",
          "new_line_content": "\t\tif (findx > 0)",
          "content_same": false
        },
        {
          "line": 10758,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \" UPDATE\")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(query, \" UPDATE\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 10760,
          "old_api": "TRIGGER_FOR_TRUNCATE",
          "new_api": null,
          "old_text": "TRIGGER_FOR_TRUNCATE(tginfo->tgtype)",
          "new_text": null,
          "old_line_content": "\tif (TRIGGER_FOR_TRUNCATE(tginfo->tgtype))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 10763,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \" OR TRUNCATE\")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(query, \" OR TRUNCATE\");",
          "new_line_content": "\t\telse",
          "content_same": false
        },
        {
          "line": 10765,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \" TRUNCATE\")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(query, \" TRUNCATE\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 10767,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \" ON %s\\n\",\n\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \" ON %s\\n\",",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 2576,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": "ConvInfo *",
          "content_same": false
        },
        {
          "line": 10768,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\tif (findx > 0)",
          "content_same": false
        },
        {
          "line": 10772,
          "old_api": "OidIsValid",
          "new_api": null,
          "old_text": "OidIsValid(tginfo->tgconstrrelid)",
          "new_text": null,
          "old_line_content": "\t\tif (OidIsValid(tginfo->tgconstrrelid))",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 10776,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"    FROM %s\\n    \",\n\t\t\t\t\t\t\t\t  tginfo->tgconstrrelname)",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(query, \"    FROM %s\\n    \",",
          "new_line_content": "\tif (tginfo->tgisconstraint)",
          "content_same": false
        },
        {
          "line": 10779,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"    FROM %s\\n    \",\n\t\t\t\t\t\t\t\t  fmtId(tginfo->tgconstrrelname))",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(query, \"    FROM %s\\n    \",",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 10780,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tginfo->tgconstrrelname)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t  fmtId(tginfo->tgconstrrelname));",
          "new_line_content": "\t\t\t/* If we are using regclass, name is already quoted */",
          "content_same": false
        },
        {
          "line": 10783,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"NOT \")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(query, \"NOT \");",
          "new_line_content": "\t\t\t\t\t\t\t\t  tginfo->tgconstrrelname);",
          "content_same": false
        },
        {
          "line": 10784,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"DEFERRABLE INITIALLY \")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"DEFERRABLE INITIALLY \");",
          "new_line_content": "\t\t\telse",
          "content_same": false
        },
        {
          "line": 10788,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"IMMEDIATE\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(query, \"IMMEDIATE\\n\");",
          "new_line_content": "\t\tif (!tginfo->tgdeferrable)",
          "content_same": false
        },
        {
          "line": 2597,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(\"pg_catalog\")",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 2599,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, conname, \"\n\t\t\t\t\t  \"connamespace, \"\n\t\t\t\t\t  \"(%s conowner) AS rolname \"\n\t\t\t\t\t  \"FROM pg_conversion\",\n\t\t\t\t\t  username_subquery)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \"SELECT tableoid, oid, conname, \"",
          "new_line_content": "\t * system-defined conversions at dump-out time.",
          "content_same": false
        },
        {
          "line": 10791,
          "old_api": "TRIGGER_FOR_ROW",
          "new_api": null,
          "old_text": "TRIGGER_FOR_ROW(tginfo->tgtype)",
          "new_text": null,
          "old_line_content": "\tif (TRIGGER_FOR_ROW(tginfo->tgtype))",
          "new_line_content": "\t\tif (tginfo->tginitdeferred)",
          "content_same": false
        },
        {
          "line": 2606,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t  \"connamespace, \"",
          "content_same": false
        },
        {
          "line": 2608,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t  \"FROM pg_conversion\",",
          "content_same": false
        },
        {
          "line": 10801,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"EXECUTE PROCEDURE %s(\",\n\t\t\t\t\t\t  fmtId(tginfo->tgfname))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"EXECUTE PROCEDURE %s(\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10802,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tginfo->tgfname)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(tginfo->tgfname));",
          "new_line_content": "\t/* In 7.3, result of regproc is already quoted */",
          "content_same": false
        },
        {
          "line": 2613,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"tableoid\")",
          "new_text": null,
          "old_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2615,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"conname\")",
          "new_text": null,
          "old_line_content": "\ti_conname = PQfnumber(res, \"conname\");",
          "new_line_content": "\t*numConversions = ntups;",
          "content_same": false
        },
        {
          "line": 2616,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"connamespace\")",
          "new_text": null,
          "old_line_content": "\ti_connamespace = PQfnumber(res, \"connamespace\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10812,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(p, '\\\\')",
          "new_text": null,
          "old_line_content": "\t\t\tp = strchr(p, '\\\\');",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 10815,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"invalid argument string (%s) for trigger \\\"%s\\\" on table \\\"%s\\\"\\n\",\n\t\t\t\t\t\t  tginfo->tgargs,\n\t\t\t\t\t\t  tginfo->dobj.name,\n\t\t\t\t\t\t  tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\twrite_msg(NULL, \"invalid argument string (%s) for trigger \\\"%s\\\" on table \\\"%s\\\"\\n\",",
          "new_line_content": "\t\t/* Set 'p' to end of arg string. marked by '\\000' */",
          "content_same": false
        },
        {
          "line": 2624,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&convinfo[i].dobj)",
          "new_text": null,
          "old_line_content": "\t\tAssignDumpId(&convinfo[i].dobj);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2625,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_conname)",
          "new_text": null,
          "old_line_content": "\t\tconvinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_conname));",
          "new_line_content": "\tfor (i = 0; i < ntups; i++)",
          "content_same": false
        },
        {
          "line": 2626,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_connamespace)",
          "new_text": null,
          "old_line_content": "\t\tconvinfo[i].dobj.namespace = findNamespace(atooid(PQgetvalue(res, i, i_connamespace)),",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 10819,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\t\t\t\texit_nicely();",
          "new_line_content": "\t\t\tif (p == NULL)",
          "content_same": false
        },
        {
          "line": 2636,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t/* Decide whether we want to dump it */",
          "content_same": false
        },
        {
          "line": 10832,
          "old_api": "appendPQExpBufferChar",
          "new_api": null,
          "old_text": "appendPQExpBufferChar(query, '\\'')",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBufferChar(query, '\\'');",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 10836,
          "old_api": "appendPQExpBufferChar",
          "new_api": null,
          "old_text": "appendPQExpBufferChar(query, '\\'')",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBufferChar(query, '\\'');",
          "new_line_content": "\t\tp--;",
          "content_same": false
        },
        {
          "line": 10844,
          "old_api": "appendPQExpBufferChar",
          "new_api": null,
          "old_text": "appendPQExpBufferChar(query, *s++)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBufferChar(query, *s++);",
          "new_line_content": "\t\t\t/*",
          "content_same": false
        },
        {
          "line": 2654,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": "OpclassInfo *",
          "content_same": false
        },
        {
          "line": 10846,
          "old_api": "appendPQExpBufferChar",
          "new_api": null,
          "old_text": "appendPQExpBufferChar(query, '\\'')",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBufferChar(query, '\\'');",
          "new_line_content": "\t\t\t * doubling for standard_conforming_strings.",
          "content_same": false
        },
        {
          "line": 10847,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  (findx < tginfo->tgnargs - 1) ? \", \" : \"\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\t\t */",
          "content_same": false
        },
        {
          "line": 10851,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \");\\n\")",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \");\\n\");",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 10855,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"\\nALTER TABLE %s \",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"\\nALTER TABLE %s \",",
          "new_line_content": "\t\tp = p + 4;",
          "content_same": false
        },
        {
          "line": 10856,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2668,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(\"pg_catalog\")",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 2672,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, opcname, \"\n\t\t\t\t\t\t  \"opcnamespace, \"\n\t\t\t\t\t\t  \"(%s opcowner) AS rolname \"\n\t\t\t\t\t\t  \"FROM pg_opclass\",\n\t\t\t\t\t\t  username_subquery)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, opcname, \"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10864,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"ENABLE ALWAYS\")",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(query, \"ENABLE ALWAYS\");",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 2680,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, opcname, \"\n\t\t\t\t\t\t  \"0::oid AS opcnamespace, \"\n\t\t\t\t\t\t  \"''::name AS rolname \"\n\t\t\t\t\t\t  \"FROM pg_opclass\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, opcname, \"",
          "new_line_content": "\t\t\t\t\t\t  \"(%s opcowner) AS rolname \"",
          "content_same": false
        },
        {
          "line": 10874,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tginfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(tginfo->dobj.name));",
          "new_line_content": "\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 10877,
          "old_api": "ArchiveEntry",
          "new_api": null,
          "old_text": "ArchiveEntry(fout, tginfo->dobj.catId, tginfo->dobj.dumpId,\n\t\t\t\t tginfo->dobj.name,\n\t\t\t\t tbinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t tbinfo->rolname, false,\n\t\t\t\t \"TRIGGER\", SECTION_POST_DATA,\n\t\t\t\t query->data, delqry->data, NULL,\n\t\t\t\t tginfo->dobj.dependencies, tginfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": null,
          "old_line_content": "\tArchiveEntry(fout, tginfo->dobj.catId, tginfo->dobj.dumpId,",
          "new_line_content": "\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 2687,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT \"\n\t\t\t\t\t\t  \"(SELECT oid FROM pg_class WHERE relname = 'pg_opclass') AS tableoid, \"\n\t\t\t\t\t\t  \"oid, opcname, \"\n\t\t\t\t\t\t  \"0::oid AS opcnamespace, \"\n\t\t\t\t\t\t  \"''::name AS rolname \"\n\t\t\t\t\t\t  \"FROM pg_opclass\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT \"",
          "new_line_content": "\t\t\t\t\t\t  \"0::oid AS opcnamespace, \"",
          "content_same": false
        },
        {
          "line": 2695,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\t\t  \"oid, opcname, \"",
          "content_same": false
        },
        {
          "line": 2696,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t  \"0::oid AS opcnamespace, \"",
          "content_same": false
        },
        {
          "line": 10887,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(query);",
          "new_line_content": "\t\t\t\t tbinfo->rolname, false,",
          "content_same": false
        },
        {
          "line": 2698,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_opclass\");",
          "content_same": false
        },
        {
          "line": 10888,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"TRIGGER %s \",\n\t\t\t\t\t  fmtId(tginfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \"TRIGGER %s \",",
          "new_line_content": "\t\t\t\t \"TRIGGER\", SECTION_POST_DATA,",
          "content_same": false
        },
        {
          "line": 10889,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tginfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tginfo->dobj.name));",
          "new_line_content": "\t\t\t\t query->data, delqry->data, NULL,",
          "content_same": false
        },
        {
          "line": 10890,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"ON %s\",\n\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \"ON %s\",",
          "new_line_content": "\t\t\t\t tginfo->dobj.dependencies, tginfo->dobj.nDeps,",
          "content_same": false
        },
        {
          "line": 10891,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\t\t\t NULL, NULL);",
          "content_same": false
        },
        {
          "line": 2703,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"tableoid\")",
          "new_text": null,
          "old_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2705,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"opcname\")",
          "new_text": null,
          "old_line_content": "\ti_opcname = PQfnumber(res, \"opcname\");",
          "new_line_content": "\t*numOpclasses = ntups;",
          "content_same": false
        },
        {
          "line": 2706,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"opcnamespace\")",
          "new_text": null,
          "old_line_content": "\ti_opcnamespace = PQfnumber(res, \"opcnamespace\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10898,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(delqry)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(delqry);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2714,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&opcinfo[i].dobj)",
          "new_text": null,
          "old_line_content": "\t\tAssignDumpId(&opcinfo[i].dobj);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2715,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_opcname)",
          "new_text": null,
          "old_line_content": "\t\topcinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_opcname));",
          "new_line_content": "\tfor (i = 0; i < ntups; i++)",
          "content_same": false
        },
        {
          "line": 2716,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_opcnamespace)",
          "new_text": null,
          "old_line_content": "\t\topcinfo[i].dobj.namespace = findNamespace(atooid(PQgetvalue(res, i, i_opcnamespace)),",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 2725,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(opcinfo[i].rolname)",
          "new_text": null,
          "old_line_content": "\t\t\tif (strlen(opcinfo[i].rolname) == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2726,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"WARNING: owner of operator class \\\"%s\\\" appears to be invalid\\n\",\n\t\t\t\t\t\t  opcinfo[i].dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\twrite_msg(NULL, \"WARNING: owner of operator class \\\"%s\\\" appears to be invalid\\n\",",
          "new_line_content": "\t\t/* Decide whether we want to dump it */",
          "content_same": false
        },
        {
          "line": 2733,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\t\t\t\t  opcinfo[i].dobj.name);",
          "content_same": false
        },
        {
          "line": 10928,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(tbinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(tbinfo->dobj.namespace->dobj.name);",
          "new_line_content": "\tif (!rinfo->separate)",
          "content_same": false
        },
        {
          "line": 10930,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tquery = createPQExpBuffer();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10931,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tcmd = createPQExpBuffer();",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 10932,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdelcmd = createPQExpBuffer();",
          "new_line_content": "\t * Make sure we are in proper schema.",
          "content_same": false
        },
        {
          "line": 10943,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT pg_get_ruledef('%s') AS definition\",\n\t\t\t\t\t\t  rinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\t\t\t\t\t  \"SELECT pg_catalog.pg_get_ruledef('%u'::pg_catalog.oid) AS definition\",",
          "content_same": false
        },
        {
          "line": 10948,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t/* Rule name was unique before 7.3 ... */",
          "content_same": false
        },
        {
          "line": 10951,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tif (PQntuples(res) != 1)",
          "new_line_content": "\t\t\t\t\t\t  rinfo->dobj.name);",
          "content_same": false
        },
        {
          "line": 10953,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"query to get rule \\\"%s\\\" for table \\\"%s\\\" failed: wrong number of rows returned\\n\",\n\t\t\t\t  rinfo->dobj.name, tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\twrite_msg(NULL, \"query to get rule \\\"%s\\\" for table \\\"%s\\\" failed: wrong number of rows returned\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2766,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tquery = createPQExpBuffer();",
          "new_line_content": "\tif (g_fout->remoteVersion < 80300)",
          "content_same": false
        },
        {
          "line": 10958,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, 0, 0)",
          "new_text": null,
          "old_line_content": "\tprintfPQExpBuffer(cmd, \"%s\\n\", PQgetvalue(res, 0, 0));",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 2774,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(\"pg_catalog\")",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 10966,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(cmd, \"ALTER TABLE %s.\",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(cmd, \"ALTER TABLE %s.\",",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 2776,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, opfname, \"\n\t\t\t\t\t  \"opfnamespace, \"\n\t\t\t\t\t  \"(%s opfowner) AS rolname \"\n\t\t\t\t\t  \"FROM pg_opfamily\",\n\t\t\t\t\t  username_subquery)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \"SELECT tableoid, oid, opfname, \"",
          "new_line_content": "\t * system-defined opfamilies at dump-out time.",
          "content_same": false
        },
        {
          "line": 10967,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name));",
          "new_line_content": "\t * Add the command to alter the rules replication firing semantics if it",
          "content_same": false
        },
        {
          "line": 10968,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(cmd, \"%s \",\n\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(cmd, \"%s \",",
          "new_line_content": "\t * differs from the default.",
          "content_same": false
        },
        {
          "line": 10969,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2783,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t  \"opfnamespace, \"",
          "content_same": false
        },
        {
          "line": 2785,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t  \"FROM pg_opfamily\",",
          "content_same": false
        },
        {
          "line": 10977,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(cmd, \"ENABLE REPLICA RULE %s;\\n\",\n\t\t\t\t\t\t\t\t  fmtId(rinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(cmd, \"ENABLE REPLICA RULE %s;\\n\",",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 10978,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(rinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t  fmtId(rinfo->dobj.name));",
          "new_line_content": "\t\t\tcase 'A':",
          "content_same": false
        },
        {
          "line": 10981,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(cmd, \"DISABLE RULE %s;\\n\",\n\t\t\t\t\t\t\t\t  fmtId(rinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(cmd, \"DISABLE RULE %s;\\n\",",
          "new_line_content": "\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 2790,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"tableoid\")",
          "new_text": null,
          "old_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10982,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(rinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t  fmtId(rinfo->dobj.name));",
          "new_line_content": "\t\t\tcase 'R':",
          "content_same": false
        },
        {
          "line": 2792,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"opfname\")",
          "new_text": null,
          "old_line_content": "\ti_opfname = PQfnumber(res, \"opfname\");",
          "new_line_content": "\t*numOpfamilies = ntups;",
          "content_same": false
        },
        {
          "line": 2793,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"opfnamespace\")",
          "new_text": null,
          "old_line_content": "\ti_opfnamespace = PQfnumber(res, \"opfnamespace\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 10990,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delcmd, \"DROP RULE %s \",\n\t\t\t\t\t  fmtId(rinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delcmd, \"DROP RULE %s \",",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 10991,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(rinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(rinfo->dobj.name));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 10992,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delcmd, \"ON %s.\",\n\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delcmd, \"ON %s.\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2801,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&opfinfo[i].dobj)",
          "new_text": null,
          "old_line_content": "\t\tAssignDumpId(&opfinfo[i].dobj);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2802,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_opfname)",
          "new_text": null,
          "old_line_content": "\t\topfinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_opfname));",
          "new_line_content": "\tfor (i = 0; i < ntups; i++)",
          "content_same": false
        },
        {
          "line": 2803,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_opfnamespace)",
          "new_text": null,
          "old_line_content": "\t\topfinfo[i].dobj.namespace = findNamespace(atooid(PQgetvalue(res, i, i_opfnamespace)),",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 10993,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tbinfo->dobj.namespace->dobj.name));",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 10994,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delcmd, \"%s;\\n\",\n\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delcmd, \"%s;\\n\",",
          "new_line_content": "\t * DROP must be fully qualified in case same name appears in pg_catalog",
          "content_same": false
        },
        {
          "line": 10995,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2812,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(opfinfo[i].rolname)",
          "new_text": null,
          "old_line_content": "\t\t\tif (strlen(opfinfo[i].rolname) == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2813,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"WARNING: owner of operator family \\\"%s\\\" appears to be invalid\\n\",\n\t\t\t\t\t\t  opfinfo[i].dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\twrite_msg(NULL, \"WARNING: owner of operator family \\\"%s\\\" appears to be invalid\\n\",",
          "new_line_content": "\t\t/* Decide whether we want to dump it */",
          "content_same": false
        },
        {
          "line": 11008,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(query);",
          "new_line_content": "\t\t\t\t \"RULE\", SECTION_POST_DATA,",
          "content_same": false
        },
        {
          "line": 11009,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"RULE %s\",\n\t\t\t\t\t  fmtId(rinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \"RULE %s\",",
          "new_line_content": "\t\t\t\t cmd->data, delcmd->data, NULL,",
          "content_same": false
        },
        {
          "line": 11010,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(rinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(rinfo->dobj.name));",
          "new_line_content": "\t\t\t\t rinfo->dobj.dependencies, rinfo->dobj.nDeps,",
          "content_same": false
        },
        {
          "line": 11011,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \" ON %s\",\n\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \" ON %s\",",
          "new_line_content": "\t\t\t\t NULL, NULL);",
          "content_same": false
        },
        {
          "line": 2820,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\t\t\t\t  opfinfo[i].dobj.name);",
          "content_same": false
        },
        {
          "line": 11012,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11013,
          "old_api": "dumpComment",
          "new_api": null,
          "old_text": "dumpComment(fout, query->data,\n\t\t\t\ttbinfo->dobj.namespace->dobj.name,\n\t\t\t\ttbinfo->rolname,\n\t\t\t\trinfo->dobj.catId, 0, rinfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\tdumpComment(fout, query->data,",
          "new_line_content": "\t/* Dump rule comments */",
          "content_same": false
        },
        {
          "line": 11020,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\t\ttbinfo->dobj.namespace->dobj.name,",
          "content_same": false
        },
        {
          "line": 11021,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(cmd)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(cmd);",
          "new_line_content": "\t\t\t\ttbinfo->rolname,",
          "content_same": false
        },
        {
          "line": 11022,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(delcmd)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(delcmd);",
          "new_line_content": "\t\t\t\trinfo->dobj.catId, 0, rinfo->dobj.dumpId);",
          "content_same": false
        },
        {
          "line": 2838,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": "AggInfo *",
          "content_same": false
        },
        {
          "line": 2850,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(\"pg_catalog\")",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "new_line_content": "\tint\t\t\ti_pronargs;",
          "content_same": false
        },
        {
          "line": 11048,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"reading dependency data\\n\")",
          "new_text": null,
          "old_line_content": "\t\twrite_msg(NULL, \"reading dependency data\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11051,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(\"pg_catalog\")",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 11053,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tquery = createPQExpBuffer();",
          "new_line_content": "\tif (g_verbose)",
          "content_same": false
        },
        {
          "line": 11055,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT \"\n\t\t\t\t\t  \"classid, objid, refclassid, refobjid, deptype \"\n\t\t\t\t\t  \"FROM pg_depend \"\n\t\t\t\t\t  \"WHERE deptype != 'p' \"\n\t\t\t\t\t  \"ORDER BY 1,2\")",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \"SELECT \"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2869,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, proname AS aggname, \"\n\t\t\t\t\t\t  \"pronamespace AS aggnamespace, \"\n\t\t\t\t\t\t  \"CASE WHEN proargtypes[0] = 'pg_catalog.\\\"any\\\"'::pg_catalog.regtype THEN 0 ELSE 1 END AS pronargs, \"\n\t\t\t\t\t\t  \"proargtypes, \"\n\t\t\t\t\t\t  \"(%s proowner) AS rolname, \"\n\t\t\t\t\t\t  \"proacl AS aggacl \"\n\t\t\t\t\t\t  \"FROM pg_proc \"\n\t\t\t\t\t\t  \"WHERE proisagg \"\n\t\t\t\t\t\t  \"AND pronamespace != \"\n\t\t\t   \"(SELECT oid FROM pg_namespace WHERE nspname = 'pg_catalog')\",\n\t\t\t\t\t\t  username_subquery)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, proname AS aggname, \"",
          "new_line_content": "\t\t\t\t\t\t  \"AND pronamespace != \"",
          "content_same": false
        },
        {
          "line": 11062,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t  \"classid, objid, refclassid, refobjid, deptype \"",
          "content_same": false
        },
        {
          "line": 11064,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t  \"WHERE deptype != 'p' \"",
          "content_same": false
        },
        {
          "line": 11066,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"classid\")",
          "new_text": null,
          "old_line_content": "\ti_classid = PQfnumber(res, \"classid\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11069,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"refobjid\")",
          "new_text": null,
          "old_line_content": "\ti_refobjid = PQfnumber(res, \"refobjid\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2883,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, aggname, \"\n\t\t\t\t\t\t  \"0::oid AS aggnamespace, \"\n\t\t\t\t  \"CASE WHEN aggbasetype = 0 THEN 0 ELSE 1 END AS pronargs, \"\n\t\t\t\t\t\t  \"aggbasetype AS proargtypes, \"\n\t\t\t\t\t\t  \"(%s aggowner) AS rolname, \"\n\t\t\t\t\t\t  \"'{=X}' AS aggacl \"\n\t\t\t\t\t\t  \"FROM pg_aggregate \"\n\t\t\t\t\t\t  \"where oid > '%u'::oid\",\n\t\t\t\t\t\t  username_subquery,\n\t\t\t\t\t\t  g_last_builtin_oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, aggname, \"",
          "new_line_content": "\t\t\t\t\t\t  \"AND pronamespace != \"",
          "content_same": false
        },
        {
          "line": 11085,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_classid)",
          "new_text": null,
          "old_line_content": "\t\tobjId.tableoid = atooid(PQgetvalue(res, i, i_classid));",
          "new_line_content": "\tfor (i = 0; i < ntups; i++)",
          "content_same": false
        },
        {
          "line": 11086,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_objid)",
          "new_text": null,
          "old_line_content": "\t\tobjId.oid = atooid(PQgetvalue(res, i, i_objid));",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 11087,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_refclassid)",
          "new_text": null,
          "old_line_content": "\t\trefobjId.tableoid = atooid(PQgetvalue(res, i, i_refclassid));",
          "new_line_content": "\t\tCatalogId\tobjId;",
          "content_same": false
        },
        {
          "line": 2896,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT \"\n\t\t\t\t\t\t  \"(SELECT oid FROM pg_class WHERE relname = 'pg_aggregate') AS tableoid, \"\n\t\t\t\t\t\t  \"oid, aggname, \"\n\t\t\t\t\t\t  \"0::oid AS aggnamespace, \"\n\t\t\t\t  \"CASE WHEN aggbasetype = 0 THEN 0 ELSE 1 END AS pronargs, \"\n\t\t\t\t\t\t  \"aggbasetype AS proargtypes, \"\n\t\t\t\t\t\t  \"(%s aggowner) AS rolname, \"\n\t\t\t\t\t\t  \"'{=X}' AS aggacl \"\n\t\t\t\t\t\t  \"FROM pg_aggregate \"\n\t\t\t\t\t\t  \"where oid > '%u'::oid\",\n\t\t\t\t\t\t  username_subquery,\n\t\t\t\t\t\t  g_last_builtin_oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT \"",
          "new_line_content": "\t\t\t\t\t\t  \"where oid > '%u'::oid\",",
          "content_same": false
        },
        {
          "line": 11088,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_refobjid)",
          "new_text": null,
          "old_line_content": "\t\trefobjId.oid = atooid(PQgetvalue(res, i, i_refobjid));",
          "new_line_content": "\t\tCatalogId\trefobjId;",
          "content_same": false
        },
        {
          "line": 11089,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_deptype)",
          "new_text": null,
          "old_line_content": "\t\tdeptype = *(PQgetvalue(res, i, i_deptype));",
          "new_line_content": "\t\tchar\t\tdeptype;",
          "content_same": false
        },
        {
          "line": 2910,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_aggregate \"",
          "content_same": false
        },
        {
          "line": 2911,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t  \"where oid > '%u'::oid\",",
          "content_same": false
        },
        {
          "line": 11103,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"no referencing object %u %u\\n\",\n\t\t\t\t\tobjId.tableoid, objId.oid)",
          "new_text": null,
          "old_line_content": "\t\t\tfprintf(stderr, \"no referencing object %u %u\\n\",",
          "new_line_content": "\t\t * Failure to find objects mentioned in pg_depend is not unexpected,",
          "content_same": false
        },
        {
          "line": 2913,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t\t  g_last_builtin_oid);",
          "content_same": false
        },
        {
          "line": 2918,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"tableoid\")",
          "new_text": null,
          "old_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2920,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"aggname\")",
          "new_text": null,
          "old_line_content": "\ti_aggname = PQfnumber(res, \"aggname\");",
          "new_line_content": "\t*numAggs = ntups;",
          "content_same": false
        },
        {
          "line": 2921,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"aggnamespace\")",
          "new_text": null,
          "old_line_content": "\ti_aggnamespace = PQfnumber(res, \"aggnamespace\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11114,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(stderr, \"no referenced object %u %u\\n\",\n\t\t\t\t\trefobjId.tableoid, refobjId.oid)",
          "new_text": null,
          "old_line_content": "\t\t\tfprintf(stderr, \"no referenced object %u %u\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2923,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"proargtypes\")",
          "new_text": null,
          "old_line_content": "\ti_proargtypes = PQfnumber(res, \"proargtypes\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2932,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&agginfo[i].aggfn.dobj)",
          "new_text": null,
          "old_line_content": "\t\tAssignDumpId(&agginfo[i].aggfn.dobj);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2933,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_aggname)",
          "new_text": null,
          "old_line_content": "\t\tagginfo[i].aggfn.dobj.name = strdup(PQgetvalue(res, i, i_aggname));",
          "new_line_content": "\tfor (i = 0; i < ntups; i++)",
          "content_same": false
        },
        {
          "line": 2934,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_aggnamespace)",
          "new_text": null,
          "old_line_content": "\t\tagginfo[i].aggfn.dobj.namespace = findNamespace(atooid(PQgetvalue(res, i, i_aggnamespace)),",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 11130,
          "old_api": "addObjectDependency",
          "new_api": null,
          "old_text": "addObjectDependency(refdobj, dobj->dumpId)",
          "new_text": null,
          "old_line_content": "\t\t\taddObjectDependency(refdobj, dobj->dumpId);",
          "new_line_content": "\t\t * it doesn't produce the dependency ordering we need. So in that one",
          "content_same": false
        },
        {
          "line": 11133,
          "old_api": "addObjectDependency",
          "new_api": null,
          "old_text": "addObjectDependency(dobj, refdobj->dumpId)",
          "new_text": null,
          "old_line_content": "\t\t\taddObjectDependency(dobj, refdobj->dumpId);",
          "new_line_content": "\t\tif (deptype == 'i' &&",
          "content_same": false
        },
        {
          "line": 11138,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\t/* normal case */",
          "content_same": false
        },
        {
          "line": 2950,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_proargtypes)",
          "new_text": null,
          "old_line_content": "\t\t\t\tparseOidArray(PQgetvalue(res, i, i_proargtypes),",
          "new_line_content": "\t\tif (agginfo[i].aggfn.nargs == 0)",
          "content_same": false
        },
        {
          "line": 2955,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_proargtypes)",
          "new_text": null,
          "old_line_content": "\t\t\t\tagginfo[i].aggfn.argtypes[0] = atooid(PQgetvalue(res, i, i_proargtypes));",
          "new_line_content": "\t\t\tif (g_fout->remoteVersion >= 70300)",
          "content_same": false
        },
        {
          "line": 2959,
          "old_api": "selectDumpableObject",
          "new_api": null,
          "old_text": "selectDumpableObject(&(agginfo[i].aggfn.dobj))",
          "new_text": null,
          "old_line_content": "\t\tselectDumpableObject(&(agginfo[i].aggfn.dobj));",
          "new_line_content": "\t\t\telse",
          "content_same": false
        },
        {
          "line": 2962,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 2964,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t/* Decide whether we want to dump it */",
          "content_same": false
        },
        {
          "line": 11167,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(curSchemaName, schemaName)",
          "new_text": null,
          "old_line_content": "\tif (curSchemaName && strcmp(curSchemaName, schemaName) == 0)",
          "new_line_content": "\tif (g_fout->remoteVersion < 70300)",
          "content_same": false
        },
        {
          "line": 11170,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tquery = createPQExpBuffer();",
          "new_line_content": "\tif (schemaName == NULL || *schemaName == '\\0')",
          "content_same": false
        },
        {
          "line": 11171,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SET search_path = %s\",\n\t\t\t\t\t  fmtId(schemaName))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \"SET search_path = %s\",",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 11172,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(schemaName)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(schemaName));",
          "new_line_content": "\t/* Optimize away repeated selection of same schema */",
          "content_same": false
        },
        {
          "line": 2982,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": "FuncInfo *",
          "content_same": false
        },
        {
          "line": 11174,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \", pg_catalog\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \", pg_catalog\");",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 11181,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup(schemaName)",
          "new_text": null,
          "old_line_content": "\tcurSchemaName = strdup(schemaName);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2996,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(\"pg_catalog\")",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "new_line_content": "\tint\t\t\ti_pronargs;",
          "content_same": false
        },
        {
          "line": 11202,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup(g_opaque_type)",
          "new_text": null,
          "old_line_content": "\t\t\treturn strdup(g_opaque_type);",
          "new_line_content": "\tPGresult   *res;",
          "content_same": false
        },
        {
          "line": 11204,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup(\"'any'\")",
          "new_text": null,
          "old_line_content": "\t\t\treturn strdup(\"'any'\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11206,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup(\"*\")",
          "new_text": null,
          "old_line_content": "\t\t\treturn strdup(\"*\");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 3016,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT tableoid, oid, proname, prolang, \"\n\t\t\t\t\t\t  \"pronargs, proargtypes, prorettype, \"\n\t\t\t\t\t\t  \"'{=X}' AS proacl, \"\n\t\t\t\t\t\t  \"0::oid AS pronamespace, \"\n\t\t\t\t\t\t  \"(%s proowner) AS rolname \"\n\t\t\t\t\t\t  \"FROM pg_proc \"\n\t\t\t\t\t\t  \"WHERE pg_proc.oid > '%u'::oid\",\n\t\t\t\t\t\t  username_subquery,\n\t\t\t\t\t\t  g_last_builtin_oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\t\t\t\t\t  \"(SELECT oid FROM pg_namespace \"",
          "content_same": false
        },
        {
          "line": 11211,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tquery = createPQExpBuffer();",
          "new_line_content": "\t\telse if ((opts & zeroAsStar) != 0)",
          "content_same": false
        },
        {
          "line": 11219,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT format_type('%u'::oid, NULL)\",\n\t\t\t\t\t\t  oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT format_type('%u'::oid, NULL)\",",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 3029,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT \"\n\t\t\t\t\t\t  \"(SELECT oid FROM pg_class \"\n\t\t\t\t\t\t  \" WHERE relname = 'pg_proc') AS tableoid, \"\n\t\t\t\t\t\t  \"oid, proname, prolang, \"\n\t\t\t\t\t\t  \"pronargs, proargtypes, prorettype, \"\n\t\t\t\t\t\t  \"'{=X}' AS proacl, \"\n\t\t\t\t\t\t  \"0::oid AS pronamespace, \"\n\t\t\t\t\t\t  \"(%s proowner) AS rolname \"\n\t\t\t\t\t\t  \"FROM pg_proc \"\n\t\t\t\t\t\t  \"where pg_proc.oid > '%u'::oid\",\n\t\t\t\t\t\t  username_subquery,\n\t\t\t\t\t\t  g_last_builtin_oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\t\t\t\t\t  \"WHERE pg_proc.oid > '%u'::oid\",",
          "content_same": false
        },
        {
          "line": 11224,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT typname \"\n\t\t\t\t\t\t  \"FROM pg_type \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::oid\",\n\t\t\t\t\t\t  oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT typname \"",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 11231,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_type \"",
          "content_same": false
        },
        {
          "line": 11234,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3044,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_proc \"",
          "content_same": false
        },
        {
          "line": 3045,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t  \"where pg_proc.oid > '%u'::oid\",",
          "content_same": false
        },
        {
          "line": 3047,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t\t  g_last_builtin_oid);",
          "content_same": false
        },
        {
          "line": 11239,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "\t/* Expecting a single result only */",
          "content_same": false
        },
        {
          "line": 3054,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"oid\")",
          "new_text": null,
          "old_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3055,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"proname\")",
          "new_text": null,
          "old_line_content": "\ti_proname = PQfnumber(res, \"proname\");",
          "new_line_content": "\t*numFuncs = ntups;",
          "content_same": false
        },
        {
          "line": 3056,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"pronamespace\")",
          "new_text": null,
          "old_line_content": "\ti_pronamespace = PQfnumber(res, \"pronamespace\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3058,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"prolang\")",
          "new_text": null,
          "old_line_content": "\ti_prolang = PQfnumber(res, \"prolang\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11250,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, 0, 0)",
          "new_text": null,
          "old_line_content": "\t\tresult = strdup(fmtId(PQgetvalue(res, 0, 0)));",
          "new_line_content": "\t\t/* already quoted */",
          "content_same": false
        },
        {
          "line": 11253,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 11254,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 3069,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&finfo[i].dobj)",
          "new_text": null,
          "old_line_content": "\t\tAssignDumpId(&finfo[i].dobj);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3070,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_proname)",
          "new_text": null,
          "old_line_content": "\t\tfinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_proname));",
          "new_line_content": "\tfor (i = 0; i < ntups; i++)",
          "content_same": false
        },
        {
          "line": 3072,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_pronamespace)",
          "new_text": null,
          "old_line_content": "\t\t\tfindNamespace(atooid(PQgetvalue(res, i, i_pronamespace)),",
          "new_line_content": "\t\tfinfo[i].dobj.objType = DO_FUNC;",
          "content_same": false
        },
        {
          "line": 11267,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer buf = createPQExpBuffer();",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 3077,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_proacl)",
          "new_text": null,
          "old_line_content": "\t\tfinfo[i].proacl = strdup(PQgetvalue(res, i, i_proacl));",
          "new_line_content": "\t\tfinfo[i].dobj.namespace =",
          "content_same": false
        },
        {
          "line": 11277,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(typname, \"bpchar\")",
          "new_text": null,
          "old_line_content": "\tif (!strcmp(typname, \"bpchar\"))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 11281,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(buf, \"character\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(buf, \"character\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3091,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(finfo[i].rolname)",
          "new_text": null,
          "old_line_content": "\t\tif (strlen(finfo[i].rolname) == 0)",
          "new_line_content": "\t\t\t\t\t\t  finfo[i].argtypes, finfo[i].nargs);",
          "content_same": false
        },
        {
          "line": 3092,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL,\n\t\t\t\t \"WARNING: owner of function \\\"%s\\\" appears to be invalid\\n\",\n\t\t\t\t\t  finfo[i].dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\twrite_msg(NULL,",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 11286,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(typname, \"varchar\")",
          "new_text": null,
          "old_line_content": "\telse if (!strcmp(typname, \"varchar\"))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11288,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(buf, \"character varying\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(buf, \"character varying\");",
          "new_line_content": "\t\tif (len > 1)",
          "content_same": false
        },
        {
          "line": 11290,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(buf, \"(%d)\",\n\t\t\t\t\t\t\t  typmod - VARHDRSZ)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(buf, \"(%d)\",",
          "new_line_content": "\t\t\t\t\t\t\t  typmod - VARHDRSZ);",
          "content_same": false
        },
        {
          "line": 3099,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\t\t \"WARNING: owner of function \\\"%s\\\" appears to be invalid\\n\",",
          "content_same": false
        },
        {
          "line": 11293,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(typname, \"numeric\")",
          "new_text": null,
          "old_line_content": "\telse if (!strcmp(typname, \"numeric\"))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 11295,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(buf, \"numeric\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(buf, \"numeric\");",
          "new_line_content": "\t\tif (typmod != -1)",
          "content_same": false
        },
        {
          "line": 11305,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(buf, \"(%d,%d)\",\n\t\t\t\t\t\t\t  precision, scale)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(buf, \"(%d,%d)\",",
          "new_line_content": "\t\t\tint\t\t\tprecision;",
          "content_same": false
        },
        {
          "line": 3117,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": "TableInfo *",
          "content_same": false
        },
        {
          "line": 11314,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(typname, \"char\")",
          "new_text": null,
          "old_line_content": "\telse if (strcmp(typname, \"char\") == 0)",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 11315,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(buf, \"\\\"char\\\"\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(buf, \"\\\"char\\\"\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11317,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(typname)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(buf, \"%s\", fmtId(typname));",
          "new_line_content": "\t * char is an internal single-byte data type; Let's make sure we force it",
          "content_same": false
        },
        {
          "line": 11324,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(buf)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3139,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(\"pg_catalog\")",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "new_line_content": "\tint\t\t\ti_owning_col;",
          "content_same": false
        },
        {
          "line": 11341,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(id_return)",
          "new_text": null,
          "old_line_content": "\t\tresetPQExpBuffer(id_return);",
          "new_line_content": "static const char *",
          "content_same": false
        },
        {
          "line": 11343,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\t\tid_return = createPQExpBuffer();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 11348,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(id_return, \"%s.\",\n\t\t\t\t\t\t  fmtId(schema))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(id_return, \"%s.\",",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 11351,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(id_return, \"%s\",\n\t\t\t\t\t  fmtId(id))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(id_return, \"%s\",",
          "new_line_content": "\t/* Suppress schema name if fetching from pre-7.3 DB */",
          "content_same": false
        },
        {
          "line": 11352,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(id)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(id));",
          "new_line_content": "\tif (g_fout->remoteVersion >= 70300 && schema && *schema)",
          "content_same": false
        },
        {
          "line": 3167,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT c.tableoid, c.oid, c.relname, \"\n\t\t\t\t\t\t  \"c.relacl, c.relkind, c.relnamespace, \"\n\t\t\t\t\t\t  \"(%s c.relowner) AS rolname, \"\n\t\t\t\t\t\t  \"c.relchecks, c.relhastriggers, \"\n\t\t\t\t\t\t  \"c.relhasindex, c.relhasrules, c.relhasoids, \"\n\t\t\t\t\t\t  \"c.relfrozenxid, \"\n\t\t\t\t\t\t  \"d.refobjid AS owning_tab, \"\n\t\t\t\t\t\t  \"d.refobjsubid AS owning_col, \"\n\t\t\t\t\t\t  \"(SELECT spcname FROM pg_tablespace t WHERE t.oid = c.reltablespace) AS reltablespace, \"\n\t\t\t\t\t\t  \"array_to_string(c.reloptions, ', ') AS reloptions, \"\n\t\t\t\t\t\t  \"array_to_string(array(SELECT 'toast.' || x FROM unnest(tc.reloptions) x), ', ') AS toast_reloptions \"\n\t\t\t\t\t\t  \"FROM pg_class c \"\n\t\t\t\t\t\t  \"LEFT JOIN pg_depend d ON \"\n\t\t\t\t\t\t  \"(c.relkind = '%c' AND \"\n\t\t\t\t\t\t  \"d.classid = c.tableoid AND d.objid = c.oid AND \"\n\t\t\t\t\t\t  \"d.objsubid = 0 AND \"\n\t\t\t\t\t\t  \"d.refclassid = c.tableoid AND d.deptype = 'a') \"\n\t\t\t\t\t\t  \"LEFT JOIN pg_class tc ON (c.reltoastrelid = tc.oid) \"\n\t\t\t\t\t\t  \"WHERE c.relkind in ('%c', '%c', '%c', '%c') \"\n\t\t\t\t\t\t  \"ORDER BY c.oid\",\n\t\t\t\t\t\t  username_subquery,\n\t\t\t\t\t\t  RELKIND_SEQUENCE,\n\t\t\t\t\t\t  RELKIND_RELATION, RELKIND_SEQUENCE,\n\t\t\t\t\t\t  RELKIND_VIEW, RELKIND_COMPOSITE_TYPE)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "\tif (g_fout->remoteVersion >= 80400)",
          "content_same": false
        },
        {
          "line": 11374,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\t\tresetPQExpBuffer(q);",
          "new_line_content": "\tchar\t  **attnames = ti->attnames;",
          "content_same": false
        },
        {
          "line": 11376,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\t\tq = createPQExpBuffer();",
          "new_line_content": "\tbool\t\tneedComma;",
          "content_same": false
        },
        {
          "line": 11378,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"(\")",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"(\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11385,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \", \")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \", \");",
          "new_line_content": "\tneedComma = false;",
          "content_same": false
        },
        {
          "line": 11386,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(attnames[i])",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \"%s\", fmtId(attnames[i]));",
          "new_line_content": "\tfor (i = 0; i < numatts; i++)",
          "content_same": false
        },
        {
          "line": 3199,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT c.tableoid, c.oid, relname, \"\n\t\t\t\t\t\t  \"relacl, relkind, relnamespace, \"\n\t\t\t\t\t\t  \"(%s relowner) AS rolname, \"\n\t\t\t\t\t\t  \"relchecks, (reltriggers <> 0) AS relhastriggers, \"\n\t\t\t\t\t\t  \"relhasindex, relhasrules, relhasoids, \"\n\t\t\t\t\t\t  \"relfrozenxid, \"\n\t\t\t\t\t\t  \"d.refobjid AS owning_tab, \"\n\t\t\t\t\t\t  \"d.refobjsubid AS owning_col, \"\n\t\t\t\t\t\t  \"(SELECT spcname FROM pg_tablespace t WHERE t.oid = c.reltablespace) AS reltablespace, \"\n\t\t\t\t\t\t  \"array_to_string(c.reloptions, ', ') AS reloptions, \"\n\t\t\t\t\t\t  \"NULL AS toast_reloptions \"\n\t\t\t\t\t\t  \"FROM pg_class c \"\n\t\t\t\t\t\t  \"LEFT JOIN pg_depend d ON \"\n\t\t\t\t\t\t  \"(c.relkind = '%c' AND \"\n\t\t\t\t\t\t  \"d.classid = c.tableoid AND d.objid = c.oid AND \"\n\t\t\t\t\t\t  \"d.objsubid = 0 AND \"\n\t\t\t\t\t\t  \"d.refclassid = c.tableoid AND d.deptype = 'a') \"\n\t\t\t\t\t\t  \"WHERE relkind in ('%c', '%c', '%c', '%c') \"\n\t\t\t\t\t\t  \"ORDER BY c.oid\",\n\t\t\t\t\t\t  username_subquery,\n\t\t\t\t\t\t  RELKIND_SEQUENCE,\n\t\t\t\t\t\t  RELKIND_RELATION, RELKIND_SEQUENCE,\n\t\t\t\t\t\t  RELKIND_VIEW, RELKIND_COMPOSITE_TYPE)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "\telse if (g_fout->remoteVersion >= 80200)",
          "content_same": false
        },
        {
          "line": 11393,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \")\")",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \")\");",
          "new_line_content": "\t\tneedComma = true;",
          "content_same": false
        },
        {
          "line": 11406,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(conn, query)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(conn, query);",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 11407,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, conn, query, PGRES_COMMAND_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, conn, query, PGRES_COMMAND_OK);",
          "new_line_content": "static void",
          "content_same": false
        },
        {
          "line": 11408,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "do_sql_command(PGconn *conn, const char *query)",
          "content_same": false
        },
        {
          "line": 11421,
          "old_api": "PQresultStatus",
          "new_api": null,
          "old_text": "PQresultStatus(res)",
          "new_text": null,
          "old_line_content": "\tif (res && PQresultStatus(res) == expected)",
          "new_line_content": "static void",
          "content_same": false
        },
        {
          "line": 3230,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT c.tableoid, c.oid, relname, \"\n\t\t\t\t\t\t  \"relacl, relkind, relnamespace, \"\n\t\t\t\t\t\t  \"(%s relowner) AS rolname, \"\n\t\t\t\t\t\t  \"relchecks, (reltriggers <> 0) AS relhastriggers, \"\n\t\t\t\t\t\t  \"relhasindex, relhasrules, relhasoids, \"\n\t\t\t\t\t\t  \"0 AS relfrozenxid, \"\n\t\t\t\t\t\t  \"d.refobjid AS owning_tab, \"\n\t\t\t\t\t\t  \"d.refobjsubid AS owning_col, \"\n\t\t\t\t\t\t  \"(SELECT spcname FROM pg_tablespace t WHERE t.oid = c.reltablespace) AS reltablespace, \"\n\t\t\t\t\t\t  \"NULL AS reloptions, \"\n\t\t\t\t\t\t  \"NULL AS toast_reloptions \"\n\t\t\t\t\t\t  \"FROM pg_class c \"\n\t\t\t\t\t\t  \"LEFT JOIN pg_depend d ON \"\n\t\t\t\t\t\t  \"(c.relkind = '%c' AND \"\n\t\t\t\t\t\t  \"d.classid = c.tableoid AND d.objid = c.oid AND \"\n\t\t\t\t\t\t  \"d.objsubid = 0 AND \"\n\t\t\t\t\t\t  \"d.refclassid = c.tableoid AND d.deptype = 'i') \"\n\t\t\t\t\t\t  \"WHERE relkind in ('%c', '%c', '%c', '%c') \"\n\t\t\t\t\t\t  \"ORDER BY c.oid\",\n\t\t\t\t\t\t  username_subquery,\n\t\t\t\t\t\t  RELKIND_SEQUENCE,\n\t\t\t\t\t\t  RELKIND_RELATION, RELKIND_SEQUENCE,\n\t\t\t\t\t\t  RELKIND_VIEW, RELKIND_COMPOSITE_TYPE)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "\telse if (g_fout->remoteVersion >= 80000)",
          "content_same": false
        },
        {
          "line": 11424,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"SQL command failed\\n\")",
          "new_text": null,
          "old_line_content": "\twrite_msg(NULL, \"SQL command failed\\n\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 11426,
          "old_api": "PQresultErrorMessage",
          "new_api": null,
          "old_text": "PQresultErrorMessage(res)",
          "new_text": null,
          "old_line_content": "\t\terr = PQresultErrorMessage(res);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11428,
          "old_api": "PQerrorMessage",
          "new_api": null,
          "old_text": "PQerrorMessage(conn)",
          "new_text": null,
          "old_line_content": "\t\terr = PQerrorMessage(conn);",
          "new_line_content": "\t\treturn;\t\t\t\t\t/* A-OK */",
          "content_same": false
        },
        {
          "line": 11429,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"Error message from server: %s\", err)",
          "new_text": null,
          "old_line_content": "\twrite_msg(NULL, \"Error message from server: %s\", err);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 11431,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\texit_nicely();",
          "new_line_content": "\tif (res)",
          "content_same": false
        },
        {
          "line": 3261,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT c.tableoid, c.oid, relname, \"\n\t\t\t\t\t\t  \"relacl, relkind, relnamespace, \"\n\t\t\t\t\t\t  \"(%s relowner) AS rolname, \"\n\t\t\t\t\t\t  \"relchecks, (reltriggers <> 0) AS relhastriggers, \"\n\t\t\t\t\t\t  \"relhasindex, relhasrules, relhasoids, \"\n\t\t\t\t\t\t  \"0 AS relfrozenxid, \"\n\t\t\t\t\t\t  \"d.refobjid AS owning_tab, \"\n\t\t\t\t\t\t  \"d.refobjsubid AS owning_col, \"\n\t\t\t\t\t\t  \"NULL AS reltablespace, \"\n\t\t\t\t\t\t  \"NULL AS reloptions, \"\n\t\t\t\t\t\t  \"NULL AS toast_reloptions \"\n\t\t\t\t\t\t  \"FROM pg_class c \"\n\t\t\t\t\t\t  \"LEFT JOIN pg_depend d ON \"\n\t\t\t\t\t\t  \"(c.relkind = '%c' AND \"\n\t\t\t\t\t\t  \"d.classid = c.tableoid AND d.objid = c.oid AND \"\n\t\t\t\t\t\t  \"d.objsubid = 0 AND \"\n\t\t\t\t\t\t  \"d.refclassid = c.tableoid AND d.deptype = 'i') \"\n\t\t\t\t\t\t  \"WHERE relkind IN ('%c', '%c', '%c', '%c') \"\n\t\t\t\t\t\t  \"ORDER BY c.oid\",\n\t\t\t\t\t\t  username_subquery,\n\t\t\t\t\t\t  RELKIND_SEQUENCE,\n\t\t\t\t\t\t  RELKIND_RELATION, RELKIND_SEQUENCE,\n\t\t\t\t\t\t  RELKIND_VIEW, RELKIND_COMPOSITE_TYPE)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "\telse if (g_fout->remoteVersion >= 70300)",
          "content_same": false
        },
        {
          "line": 3288,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT tableoid, oid, relname, relacl, relkind, \"\n\t\t\t\t\t\t  \"0::oid AS relnamespace, \"\n\t\t\t\t\t\t  \"(%s relowner) AS rolname, \"\n\t\t\t\t\t\t  \"relchecks, (reltriggers <> 0) AS relhastriggers, \"\n\t\t\t\t\t\t  \"relhasindex, relhasrules, relhasoids, \"\n\t\t\t\t\t\t  \"0 AS relfrozenxid, \"\n\t\t\t\t\t\t  \"NULL::oid AS owning_tab, \"\n\t\t\t\t\t\t  \"NULL::int4 AS owning_col, \"\n\t\t\t\t\t\t  \"NULL AS reltablespace, \"\n\t\t\t\t\t\t  \"NULL AS reloptions, \"\n\t\t\t\t\t\t  \"NULL AS toast_reloptions \"\n\t\t\t\t\t\t  \"FROM pg_class \"\n\t\t\t\t\t\t  \"WHERE relkind IN ('%c', '%c', '%c') \"\n\t\t\t\t\t\t  \"ORDER BY oid\",\n\t\t\t\t\t\t  username_subquery,\n\t\t\t\t\t\t  RELKIND_RELATION, RELKIND_SEQUENCE, RELKIND_VIEW)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\t\t\t\t\t  RELKIND_SEQUENCE,",
          "content_same": false
        },
        {
          "line": 3309,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT tableoid, oid, relname, relacl, relkind, \"\n\t\t\t\t\t\t  \"0::oid AS relnamespace, \"\n\t\t\t\t\t\t  \"(%s relowner) AS rolname, \"\n\t\t\t\t\t\t  \"relchecks, (reltriggers <> 0) AS relhastriggers, \"\n\t\t\t\t\t\t  \"relhasindex, relhasrules, \"\n\t\t\t\t\t\t  \"'t'::bool AS relhasoids, \"\n\t\t\t\t\t\t  \"0 AS relfrozenxid, \"\n\t\t\t\t\t\t  \"NULL::oid AS owning_tab, \"\n\t\t\t\t\t\t  \"NULL::int4 AS owning_col, \"\n\t\t\t\t\t\t  \"NULL AS reltablespace, \"\n\t\t\t\t\t\t  \"NULL AS reloptions, \"\n\t\t\t\t\t\t  \"NULL AS toast_reloptions \"\n\t\t\t\t\t\t  \"FROM pg_class \"\n\t\t\t\t\t\t  \"WHERE relkind IN ('%c', '%c', '%c') \"\n\t\t\t\t\t\t  \"ORDER BY oid\",\n\t\t\t\t\t\t  username_subquery,\n\t\t\t\t\t\t  RELKIND_RELATION, RELKIND_SEQUENCE, RELKIND_VIEW)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\t\t\t\t\t  username_subquery,",
          "content_same": false
        },
        {
          "line": 3334,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT \"\n\t\t\"(SELECT oid FROM pg_class WHERE relname = 'pg_class') AS tableoid, \"\n\t\t\t\t\t\t  \"oid, relname, relacl, \"\n\t\t\t\t\t\t  \"CASE WHEN relhasrules and relkind = 'r' \"\n\t\t\t\t\t  \"  and EXISTS(SELECT rulename FROM pg_rewrite r WHERE \"\n\t\t\t\t\t  \"             r.ev_class = c.oid AND r.ev_type = '1') \"\n\t\t\t\t\t\t  \"THEN '%c'::\\\"char\\\" \"\n\t\t\t\t\t\t  \"ELSE relkind END AS relkind,\"\n\t\t\t\t\t\t  \"0::oid AS relnamespace, \"\n\t\t\t\t\t\t  \"(%s relowner) AS rolname, \"\n\t\t\t\t\t\t  \"relchecks, (reltriggers <> 0) AS relhastriggers, \"\n\t\t\t\t\t\t  \"relhasindex, relhasrules, \"\n\t\t\t\t\t\t  \"'t'::bool AS relhasoids, \"\n\t\t\t\t\t\t  \"0 as relfrozenxid, \"\n\t\t\t\t\t\t  \"NULL::oid AS owning_tab, \"\n\t\t\t\t\t\t  \"NULL::int4 AS owning_col, \"\n\t\t\t\t\t\t  \"NULL AS reltablespace, \"\n\t\t\t\t\t\t  \"NULL AS reloptions, \"\n\t\t\t\t\t\t  \"NULL AS toast_reloptions \"\n\t\t\t\t\t\t  \"FROM pg_class c \"\n\t\t\t\t\t\t  \"WHERE relkind IN ('%c', '%c') \"\n\t\t\t\t\t\t  \"ORDER BY oid\",\n\t\t\t\t\t\t  RELKIND_VIEW,\n\t\t\t\t\t\t  username_subquery,\n\t\t\t\t\t\t  RELKIND_RELATION, RELKIND_SEQUENCE)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 3362,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\t\t  \"ORDER BY oid\",",
          "content_same": false
        },
        {
          "line": 3363,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t  RELKIND_VIEW,",
          "content_same": false
        },
        {
          "line": 3365,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t\t  RELKIND_RELATION, RELKIND_SEQUENCE);",
          "content_same": false
        },
        {
          "line": 3378,
          "old_api": "calloc",
          "new_api": null,
          "old_text": "calloc(ntups, sizeof(TableInfo))",
          "new_text": null,
          "old_line_content": "\ttblinfo = (TableInfo *) calloc(ntups, sizeof(TableInfo));",
          "new_line_content": "\t * disappear under us.",
          "content_same": false
        },
        {
          "line": 3380,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"tableoid\")",
          "new_text": null,
          "old_line_content": "\ti_reltableoid = PQfnumber(res, \"tableoid\");",
          "new_line_content": "\t * Note that we have to save info about all tables here, even when dumping",
          "content_same": false
        },
        {
          "line": 3381,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"oid\")",
          "new_text": null,
          "old_line_content": "\ti_reloid = PQfnumber(res, \"oid\");",
          "new_line_content": "\t * only one, because we don't yet know which tables might be inheritance",
          "content_same": false
        },
        {
          "line": 3382,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"relname\")",
          "new_text": null,
          "old_line_content": "\ti_relname = PQfnumber(res, \"relname\");",
          "new_line_content": "\t * ancestors of the target table.",
          "content_same": false
        },
        {
          "line": 3383,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"relnamespace\")",
          "new_text": null,
          "old_line_content": "\ti_relnamespace = PQfnumber(res, \"relnamespace\");",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 3385,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"relkind\")",
          "new_text": null,
          "old_line_content": "\ti_relkind = PQfnumber(res, \"relkind\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3408,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\t\tresetPQExpBuffer(query);",
          "new_line_content": "\t\t * Arrange to fail instead of waiting forever for a table lock.",
          "content_same": false
        },
        {
          "line": 3409,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SET statement_timeout = \")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SET statement_timeout = \");",
          "new_line_content": "\t\t *",
          "content_same": false
        },
        {
          "line": 3410,
          "old_api": "appendStringLiteralConn",
          "new_api": null,
          "old_text": "appendStringLiteralConn(query, lockWaitTimeout, g_conn)",
          "new_text": null,
          "old_line_content": "\t\tappendStringLiteralConn(query, lockWaitTimeout, g_conn);",
          "new_line_content": "\t\t * NB: this coding assumes that the only queries issued within",
          "content_same": false
        },
        {
          "line": 3411,
          "old_api": "do_sql_command",
          "new_api": null,
          "old_text": "do_sql_command(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\t\tdo_sql_command(g_conn, query->data);",
          "new_line_content": "\t\t * the following loop are LOCK TABLEs; else the timeout may be",
          "content_same": false
        },
        {
          "line": 3418,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_reloid)",
          "new_text": null,
          "old_line_content": "\t\ttblinfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_reloid));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3419,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&tblinfo[i].dobj)",
          "new_text": null,
          "old_line_content": "\t\tAssignDumpId(&tblinfo[i].dobj);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3420,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_relname)",
          "new_text": null,
          "old_line_content": "\t\ttblinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_relname));",
          "new_line_content": "\tfor (i = 0; i < ntups; i++)",
          "content_same": false
        },
        {
          "line": 3421,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_relnamespace)",
          "new_text": null,
          "old_line_content": "\t\ttblinfo[i].dobj.namespace = findNamespace(atooid(PQgetvalue(res, i, i_relnamespace)),",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 3428,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_relhastriggers)",
          "new_text": null,
          "old_line_content": "\t\ttblinfo[i].hastriggers = (strcmp(PQgetvalue(res, i, i_relhastriggers), \"t\") == 0);",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t  tblinfo[i].dobj.catId.oid);",
          "content_same": false
        },
        {
          "line": 3439,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_owning_tab)",
          "new_text": null,
          "old_line_content": "\t\t\ttblinfo[i].owning_tab = atooid(PQgetvalue(res, i, i_owning_tab));",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 3440,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_owning_col)",
          "new_text": null,
          "old_line_content": "\t\t\ttblinfo[i].owning_col = atoi(PQgetvalue(res, i, i_owning_col));",
          "new_line_content": "\t\t\ttblinfo[i].owning_tab = InvalidOid;",
          "content_same": false
        },
        {
          "line": 3442,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_reltablespace)",
          "new_text": null,
          "old_line_content": "\t\ttblinfo[i].reltablespace = strdup(PQgetvalue(res, i, i_reltablespace));",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 3443,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_reloptions)",
          "new_text": null,
          "old_line_content": "\t\ttblinfo[i].reloptions = strdup(PQgetvalue(res, i, i_reloptions));",
          "new_line_content": "\t\telse",
          "content_same": false
        },
        {
          "line": 3444,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_toastreloptions)",
          "new_text": null,
          "old_line_content": "\t\ttblinfo[i].toast_reloptions = strdup(PQgetvalue(res, i, i_toastreloptions));",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 3454,
          "old_api": "selectDumpableTable",
          "new_api": null,
          "old_text": "selectDumpableTable(&tblinfo[i])",
          "new_text": null,
          "old_line_content": "\t\t\tselectDumpableTable(&tblinfo[i]);",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 3470,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\t\t\tresetPQExpBuffer(query);",
          "new_line_content": "\t\t *",
          "content_same": false
        },
        {
          "line": 3471,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"LOCK TABLE %s IN ACCESS SHARE MODE\",\n\t\t\t\t\t\t fmtQualifiedId(tblinfo[i].dobj.namespace->dobj.name,\n\t\t\t\t\t\t\t\t\t\ttblinfo[i].dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\t * NOTE: it'd be kinda nice to lock views and sequences too, not only",
          "content_same": false
        },
        {
          "line": 3473,
          "old_api": "fmtQualifiedId",
          "new_api": null,
          "old_text": "fmtQualifiedId(tblinfo[i].dobj.namespace->dobj.name,\n\t\t\t\t\t\t\t\t\t\ttblinfo[i].dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t fmtQualifiedId(tblinfo[i].dobj.namespace->dobj.name,",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 3475,
          "old_api": "do_sql_command",
          "new_api": null,
          "old_text": "do_sql_command(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\t\t\tdo_sql_command(g_conn, query->data);",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 3480,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"WARNING: owner of table \\\"%s\\\" appears to be invalid\\n\",\n\t\t\t\t\t  tblinfo[i].dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\twrite_msg(NULL, \"WARNING: owner of table \\\"%s\\\" appears to be invalid\\n\",",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\ttblinfo[i].dobj.name));",
          "content_same": false
        },
        {
          "line": 3489,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3500,
          "old_api": "OidIsValid",
          "new_api": null,
          "old_text": "OidIsValid(seqinfo->owning_tab)",
          "new_text": null,
          "old_line_content": "\t\tif (!OidIsValid(seqinfo->owning_tab))",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 3520,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 3538,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": "InhInfo *",
          "content_same": false
        },
        {
          "line": 3545,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(\"pg_catalog\")",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "new_line_content": "\tInhInfo    *inhinfo;",
          "content_same": false
        },
        {
          "line": 3549,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT inhrelid, inhparent FROM pg_inherits\")",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \"SELECT inhrelid, inhparent FROM pg_inherits\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3552,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3554,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3561,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"inhparent\")",
          "new_text": null,
          "old_line_content": "\ti_inhparent = PQfnumber(res, \"inhparent\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3565,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_inhrelid)",
          "new_text": null,
          "old_line_content": "\t\tinhinfo[i].inhrelid = atooid(PQgetvalue(res, i, i_inhrelid));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3569,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\tfor (i = 0; i < ntups; i++)",
          "content_same": false
        },
        {
          "line": 3588,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 3620,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"reading indexes for table \\\"%s\\\"\\n\",\n\t\t\t\t\t  tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\twrite_msg(NULL, \"reading indexes for table \\\"%s\\\"\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3624,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(tbinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\tselectSourceSchema(tbinfo->dobj.namespace->dobj.name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3632,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\t\tresetPQExpBuffer(query);",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 3635,
          "old_api": "pg_get_indexdef",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"SELECT t.tableoid, t.oid, \"\n\t\t\t\t\t\t\t  \"t.relname AS indexname, \"\n\t\t\t\t\t \"pg_catalog.pg_get_indexdef(i.indexrelid) AS indexdef, \"\n\t\t\t\t\t\t\t  \"t.relnatts AS indnkeys, \"\n\t\t\t\t\t\t\t  \"i.indkey, i.indisclustered, \"\n\t\t\t\t\t\t\t  \"c.contype, c.conname, \"\n\t\t\t\t\t\t\t  \"c.tableoid AS contableoid, \"\n\t\t\t\t\t\t\t  \"c.oid AS conoid, \"\n\t\t\t\t\t\t\t  \"(SELECT spcname FROM pg_catalog.pg_tablespace s WHERE s.oid = t.reltablespace) AS tablespace, \"\n\t\t\t\t\t\t\t\"array_to_string(t.reloptions, ', ') AS options \"\n\t\t\t\t\t\t\t  \"FROM pg_catalog.pg_index i \"\n\t\t\t\t\t  \"JOIN pg_catalog.pg_class t ON (t.oid = i.indexrelid) \"\n\t\t\t\t\t\t\t  \"LEFT JOIN pg_catalog.pg_depend d \"\n\t\t\t\t\t\t\t  \"ON (d.classid = t.tableoid \"\n\t\t\t\t\t\t\t  \"AND d.objid = t.oid \"\n\t\t\t\t\t\t\t  \"AND d.deptype = 'i') \"\n\t\t\t\t\t\t\t  \"LEFT JOIN pg_catalog.pg_constraint c \"\n\t\t\t\t\t\t\t  \"ON (d.refclassid = c.tableoid \"\n\t\t\t\t\t\t\t  \"AND d.refobjid = c.oid) \"\n\t\t\t\t\t\t\t  \"WHERE i.indrelid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t\t  \"ORDER BY indexname\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\t * find one, create a CONSTRAINT entry linked to the INDEX entry.  We",
          "content_same": false
        },
        {
          "line": 3661,
          "old_api": "pg_get_indexdef",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"SELECT t.tableoid, t.oid, \"\n\t\t\t\t\t\t\t  \"t.relname AS indexname, \"\n\t\t\t\t\t \"pg_catalog.pg_get_indexdef(i.indexrelid) AS indexdef, \"\n\t\t\t\t\t\t\t  \"t.relnatts AS indnkeys, \"\n\t\t\t\t\t\t\t  \"i.indkey, i.indisclustered, \"\n\t\t\t\t\t\t\t  \"c.contype, c.conname, \"\n\t\t\t\t\t\t\t  \"c.tableoid AS contableoid, \"\n\t\t\t\t\t\t\t  \"c.oid AS conoid, \"\n\t\t\t\t\t\t\t  \"(SELECT spcname FROM pg_catalog.pg_tablespace s WHERE s.oid = t.reltablespace) AS tablespace, \"\n\t\t\t\t\t\t\t  \"null AS options \"\n\t\t\t\t\t\t\t  \"FROM pg_catalog.pg_index i \"\n\t\t\t\t\t  \"JOIN pg_catalog.pg_class t ON (t.oid = i.indexrelid) \"\n\t\t\t\t\t\t\t  \"LEFT JOIN pg_catalog.pg_depend d \"\n\t\t\t\t\t\t\t  \"ON (d.classid = t.tableoid \"\n\t\t\t\t\t\t\t  \"AND d.objid = t.oid \"\n\t\t\t\t\t\t\t  \"AND d.deptype = 'i') \"\n\t\t\t\t\t\t\t  \"LEFT JOIN pg_catalog.pg_constraint c \"\n\t\t\t\t\t\t\t  \"ON (d.refclassid = c.tableoid \"\n\t\t\t\t\t\t\t  \"AND d.refobjid = c.oid) \"\n\t\t\t\t\t\t\t  \"WHERE i.indrelid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t\t  \"ORDER BY indexname\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\t\t\t\t\t\t  \"WHERE i.indrelid = '%u'::pg_catalog.oid \"",
          "content_same": false
        },
        {
          "line": 3687,
          "old_api": "pg_get_indexdef",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"SELECT t.tableoid, t.oid, \"\n\t\t\t\t\t\t\t  \"t.relname AS indexname, \"\n\t\t\t\t\t \"pg_catalog.pg_get_indexdef(i.indexrelid) AS indexdef, \"\n\t\t\t\t\t\t\t  \"t.relnatts AS indnkeys, \"\n\t\t\t\t\t\t\t  \"i.indkey, i.indisclustered, \"\n\t\t\t\t\t\t\t  \"c.contype, c.conname, \"\n\t\t\t\t\t\t\t  \"c.tableoid AS contableoid, \"\n\t\t\t\t\t\t\t  \"c.oid AS conoid, \"\n\t\t\t\t\t\t\t  \"NULL AS tablespace, \"\n\t\t\t\t\t\t\t  \"null AS options \"\n\t\t\t\t\t\t\t  \"FROM pg_catalog.pg_index i \"\n\t\t\t\t\t  \"JOIN pg_catalog.pg_class t ON (t.oid = i.indexrelid) \"\n\t\t\t\t\t\t\t  \"LEFT JOIN pg_catalog.pg_depend d \"\n\t\t\t\t\t\t\t  \"ON (d.classid = t.tableoid \"\n\t\t\t\t\t\t\t  \"AND d.objid = t.oid \"\n\t\t\t\t\t\t\t  \"AND d.deptype = 'i') \"\n\t\t\t\t\t\t\t  \"LEFT JOIN pg_catalog.pg_constraint c \"\n\t\t\t\t\t\t\t  \"ON (d.refclassid = c.tableoid \"\n\t\t\t\t\t\t\t  \"AND d.refobjid = c.oid) \"\n\t\t\t\t\t\t\t  \"WHERE i.indrelid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t\t  \"ORDER BY indexname\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\t\t\t\t\t\t  \"WHERE i.indrelid = '%u'::pg_catalog.oid \"",
          "content_same": false
        },
        {
          "line": 3713,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"SELECT t.tableoid, t.oid, \"\n\t\t\t\t\t\t\t  \"t.relname AS indexname, \"\n\t\t\t\t\t\t\t  \"pg_get_indexdef(i.indexrelid) AS indexdef, \"\n\t\t\t\t\t\t\t  \"t.relnatts AS indnkeys, \"\n\t\t\t\t\t\t\t  \"i.indkey, false AS indisclustered, \"\n\t\t\t\t\t\t\t  \"CASE WHEN i.indisprimary THEN 'p'::char \"\n\t\t\t\t\t\t\t  \"ELSE '0'::char END AS contype, \"\n\t\t\t\t\t\t\t  \"t.relname AS conname, \"\n\t\t\t\t\t\t\t  \"0::oid AS contableoid, \"\n\t\t\t\t\t\t\t  \"t.oid AS conoid, \"\n\t\t\t\t\t\t\t  \"NULL AS tablespace, \"\n\t\t\t\t\t\t\t  \"null AS options \"\n\t\t\t\t\t\t\t  \"FROM pg_index i, pg_class t \"\n\t\t\t\t\t\t\t  \"WHERE t.oid = i.indexrelid \"\n\t\t\t\t\t\t\t  \"AND i.indrelid = '%u'::oid \"\n\t\t\t\t\t\t\t  \"ORDER BY indexname\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\t\t\t\t\t\t  \"WHERE i.indrelid = '%u'::pg_catalog.oid \"",
          "content_same": false
        },
        {
          "line": 3734,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"SELECT \"\n\t\t\t\t\t\t\t  \"(SELECT oid FROM pg_class WHERE relname = 'pg_class') AS tableoid, \"\n\t\t\t\t\t\t\t  \"t.oid, \"\n\t\t\t\t\t\t\t  \"t.relname AS indexname, \"\n\t\t\t\t\t\t\t  \"pg_get_indexdef(i.indexrelid) AS indexdef, \"\n\t\t\t\t\t\t\t  \"t.relnatts AS indnkeys, \"\n\t\t\t\t\t\t\t  \"i.indkey, false AS indisclustered, \"\n\t\t\t\t\t\t\t  \"CASE WHEN i.indisprimary THEN 'p'::char \"\n\t\t\t\t\t\t\t  \"ELSE '0'::char END AS contype, \"\n\t\t\t\t\t\t\t  \"t.relname AS conname, \"\n\t\t\t\t\t\t\t  \"0::oid AS contableoid, \"\n\t\t\t\t\t\t\t  \"t.oid AS conoid, \"\n\t\t\t\t\t\t\t  \"NULL AS tablespace, \"\n\t\t\t\t\t\t\t  \"null AS options \"\n\t\t\t\t\t\t\t  \"FROM pg_index i, pg_class t \"\n\t\t\t\t\t\t\t  \"WHERE t.oid = i.indexrelid \"\n\t\t\t\t\t\t\t  \"AND i.indrelid = '%u'::oid \"\n\t\t\t\t\t\t\t  \"ORDER BY indexname\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\t\t\t\t\t\t  \"AND i.indrelid = '%u'::oid \"",
          "content_same": false
        },
        {
          "line": 3756,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\t\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\t\t\t  \"WHERE t.oid = i.indexrelid \"",
          "content_same": false
        },
        {
          "line": 3757,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\t\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t\t  \"AND i.indrelid = '%u'::oid \"",
          "content_same": false
        },
        {
          "line": 3759,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\t\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid);",
          "content_same": false
        },
        {
          "line": 3761,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"tableoid\")",
          "new_text": null,
          "old_line_content": "\t\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3764,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"indexdef\")",
          "new_text": null,
          "old_line_content": "\t\ti_indexdef = PQfnumber(res, \"indexdef\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3766,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"indkey\")",
          "new_text": null,
          "old_line_content": "\t\ti_indkey = PQfnumber(res, \"indkey\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3783,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, i_tableoid)",
          "new_text": null,
          "old_line_content": "\t\t\tindxinfo[j].dobj.catId.tableoid = atooid(PQgetvalue(res, j, i_tableoid));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3784,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, i_oid)",
          "new_text": null,
          "old_line_content": "\t\t\tindxinfo[j].dobj.catId.oid = atooid(PQgetvalue(res, j, i_oid));",
          "new_line_content": "\t\tfor (j = 0; j < ntups; j++)",
          "content_same": false
        },
        {
          "line": 3785,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&indxinfo[j].dobj)",
          "new_text": null,
          "old_line_content": "\t\t\tAssignDumpId(&indxinfo[j].dobj);",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 3786,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, i_indexname)",
          "new_text": null,
          "old_line_content": "\t\t\tindxinfo[j].dobj.name = strdup(PQgetvalue(res, j, i_indexname));",
          "new_line_content": "\t\t\tchar\t\tcontype;",
          "content_same": false
        },
        {
          "line": 3803,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(INDEX_MAX_KEYS * sizeof(Oid))",
          "new_text": null,
          "old_line_content": "\t\t\tindxinfo[j].indkeys = (Oid *) malloc(INDEX_MAX_KEYS * sizeof(Oid));",
          "new_line_content": "\t\t\t * index).\tWe don't actually care about this case since we don't",
          "content_same": false
        },
        {
          "line": 3804,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, i_indkey)",
          "new_text": null,
          "old_line_content": "\t\t\tparseOidArray(PQgetvalue(res, j, i_indkey),",
          "new_line_content": "\t\t\t * examine indkeys except for indexes associated with PRIMARY and",
          "content_same": false
        },
        {
          "line": 3806,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, i_indisclustered)",
          "new_text": null,
          "old_line_content": "\t\t\tindxinfo[j].indisclustered = (PQgetvalue(res, j, i_indisclustered)[0] == 't');",
          "new_line_content": "\t\t\t * have to allocate enough space to keep parseOidArray from",
          "content_same": false
        },
        {
          "line": 3807,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, i_contype)",
          "new_text": null,
          "old_line_content": "\t\t\tcontype = *(PQgetvalue(res, j, i_contype));",
          "new_line_content": "\t\t\t * complaining.",
          "content_same": false
        },
        {
          "line": 3819,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, i_contableoid)",
          "new_text": null,
          "old_line_content": "\t\t\t\tconstrinfo[j].dobj.catId.tableoid = atooid(PQgetvalue(res, j, i_contableoid));",
          "new_line_content": "\t\t\t\t * entry for it.",
          "content_same": false
        },
        {
          "line": 3820,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, i_conoid)",
          "new_text": null,
          "old_line_content": "\t\t\t\tconstrinfo[j].dobj.catId.oid = atooid(PQgetvalue(res, j, i_conoid));",
          "new_line_content": "\t\t\t\t *",
          "content_same": false
        },
        {
          "line": 3821,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&constrinfo[j].dobj)",
          "new_text": null,
          "old_line_content": "\t\t\t\tAssignDumpId(&constrinfo[j].dobj);",
          "new_line_content": "\t\t\t\t * In a pre-7.3 database, we take this path iff the index was",
          "content_same": false
        },
        {
          "line": 3822,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, i_conname)",
          "new_text": null,
          "old_line_content": "\t\t\t\tconstrinfo[j].dobj.name = strdup(PQgetvalue(res, j, i_conname));",
          "new_line_content": "\t\t\t\t * marked indisprimary.",
          "content_same": false
        },
        {
          "line": 3836,
          "old_api": "addObjectDependency",
          "new_api": null,
          "old_text": "addObjectDependency(&constrinfo[j].dobj,\n\t\t\t\t\t\t\t\t\ttbinfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\t\t\t\taddObjectDependency(&constrinfo[j].dobj,",
          "new_line_content": "\t\t\t\tconstrinfo[j].conislocal = true;",
          "content_same": false
        },
        {
          "line": 3846,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\t\tPQclear(res);",
          "new_line_content": "\t\t\t{",
          "content_same": false
        },
        {
          "line": 3849,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 3880,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tquery = createPQExpBuffer();",
          "new_line_content": "\tint\t\t\tntups;",
          "content_same": false
        },
        {
          "line": 3890,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"reading foreign key constraints for table \\\"%s\\\"\\n\",\n\t\t\t\t\t  tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\twrite_msg(NULL, \"reading foreign key constraints for table \\\"%s\\\"\\n\",",
          "new_line_content": "\t\tTableInfo  *tbinfo = &tblinfo[i];",
          "content_same": false
        },
        {
          "line": 3897,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(tbinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\tselectSourceSchema(tbinfo->dobj.namespace->dobj.name);",
          "new_line_content": "\t\t\t\t\t  tbinfo->dobj.name);",
          "content_same": false
        },
        {
          "line": 3899,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\t\tresetPQExpBuffer(query);",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 3900,
          "old_api": "pg_get_constraintdef",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT tableoid, oid, conname, confrelid, \"\n\t\t\t\t\t\t  \"pg_catalog.pg_get_constraintdef(oid) AS condef \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_constraint \"\n\t\t\t\t\t\t  \"WHERE conrelid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t  \"AND contype = 'f'\",\n\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\t * select table schema to ensure constraint expr is qualified if",
          "content_same": false
        },
        {
          "line": 3907,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\t\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\t\t  \"SELECT tableoid, oid, conname, confrelid, \"",
          "content_same": false
        },
        {
          "line": 3908,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\t\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t  \"pg_catalog.pg_get_constraintdef(oid) AS condef \"",
          "content_same": false
        },
        {
          "line": 3910,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\t\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t\t  \"WHERE conrelid = '%u'::pg_catalog.oid \"",
          "content_same": false
        },
        {
          "line": 3912,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"tableoid\")",
          "new_text": null,
          "old_line_content": "\t\ti_contableoid = PQfnumber(res, \"tableoid\");",
          "new_line_content": "\t\t\t\t\t\t  tbinfo->dobj.catId.oid);",
          "content_same": false
        },
        {
          "line": 3915,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"confrelid\")",
          "new_text": null,
          "old_line_content": "\t\ti_confrelid = PQfnumber(res, \"confrelid\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3923,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, i_contableoid)",
          "new_text": null,
          "old_line_content": "\t\t\tconstrinfo[j].dobj.catId.tableoid = atooid(PQgetvalue(res, j, i_contableoid));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3925,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&constrinfo[j].dobj)",
          "new_text": null,
          "old_line_content": "\t\t\tAssignDumpId(&constrinfo[j].dobj);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3926,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, i_conname)",
          "new_text": null,
          "old_line_content": "\t\t\tconstrinfo[j].dobj.name = strdup(PQgetvalue(res, j, i_conname));",
          "new_line_content": "\t\tfor (j = 0; j < ntups; j++)",
          "content_same": false
        },
        {
          "line": 3941,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\tconstrinfo[j].separate = true;",
          "content_same": false
        },
        {
          "line": 3970,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(tinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(tinfo->dobj.namespace->dobj.name);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 3972,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tquery = createPQExpBuffer();",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 3975,
          "old_api": "pg_get_constraintdef",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, conname, \"\n\t\t\t\t\t\t  \"pg_catalog.pg_get_constraintdef(oid) AS consrc \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_constraint \"\n\t\t\t\t\t\t  \"WHERE contypid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t  \"ORDER BY conname\",\n\t\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, conname, \"",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 3982,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, conname, \"\n\t\t\t\t\t\t  \"'CHECK (' || consrc || ')' AS consrc \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_constraint \"\n\t\t\t\t\t\t  \"WHERE contypid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t  \"ORDER BY conname\",\n\t\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, conname, \"",
          "new_line_content": "\t\t\t\t\t\t  \"pg_catalog.pg_get_constraintdef(oid) AS consrc \"",
          "content_same": false
        },
        {
          "line": 3989,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\t\t  \"'CHECK (' || consrc || ')' AS consrc \"",
          "content_same": false
        },
        {
          "line": 3990,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_catalog.pg_constraint \"",
          "content_same": false
        },
        {
          "line": 3992,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t\t  \"ORDER BY conname\",",
          "content_same": false
        },
        {
          "line": 3994,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"tableoid\")",
          "new_text": null,
          "old_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3997,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"consrc\")",
          "new_text": null,
          "old_line_content": "\ti_consrc = PQfnumber(res, \"consrc\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3999,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(ntups * sizeof(ConstraintInfo))",
          "new_text": null,
          "old_line_content": "\tconstrinfo = (ConstraintInfo *) malloc(ntups * sizeof(ConstraintInfo));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4007,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_tableoid)",
          "new_text": null,
          "old_line_content": "\t\tconstrinfo[i].dobj.catId.tableoid = atooid(PQgetvalue(res, i, i_tableoid));",
          "new_line_content": "\ttinfo->nDomChecks = ntups;",
          "content_same": false
        },
        {
          "line": 4008,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_oid)",
          "new_text": null,
          "old_line_content": "\t\tconstrinfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "new_line_content": "\ttinfo->domChecks = constrinfo;",
          "content_same": false
        },
        {
          "line": 4009,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&constrinfo[i].dobj)",
          "new_text": null,
          "old_line_content": "\t\tAssignDumpId(&constrinfo[i].dobj);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4010,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_conname)",
          "new_text": null,
          "old_line_content": "\t\tconstrinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_conname));",
          "new_line_content": "\tfor (i = 0; i < ntups; i++)",
          "content_same": false
        },
        {
          "line": 4025,
          "old_api": "addObjectDependency",
          "new_api": null,
          "old_text": "addObjectDependency(&tinfo->dobj,\n\t\t\t\t\t\t\tconstrinfo[i].dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\t\taddObjectDependency(&tinfo->dobj,",
          "new_line_content": "\t\tconstrinfo[i].separate = false;",
          "content_same": false
        },
        {
          "line": 4029,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\t * output till any constraint dependencies are OK.",
          "content_same": false
        },
        {
          "line": 4046,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": "RuleInfo *",
          "content_same": false
        },
        {
          "line": 4057,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(\"pg_catalog\")",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "new_line_content": "\tint\t\t\ti_ruletable;",
          "content_same": false
        },
        {
          "line": 4061,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT \"\n\t\t\t\t\t\t  \"tableoid, oid, rulename, \"\n\t\t\t\t\t\t  \"ev_class AS ruletable, ev_type, is_instead, \"\n\t\t\t\t\t\t  \"ev_enabled \"\n\t\t\t\t\t\t  \"FROM pg_rewrite \"\n\t\t\t\t\t\t  \"ORDER BY oid\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT \"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4070,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT \"\n\t\t\t\t\t\t  \"tableoid, oid, rulename, \"\n\t\t\t\t\t\t  \"ev_class AS ruletable, ev_type, is_instead, \"\n\t\t\t\t\t\t  \"'O'::char AS ev_enabled \"\n\t\t\t\t\t\t  \"FROM pg_rewrite \"\n\t\t\t\t\t\t  \"ORDER BY oid\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT \"",
          "new_line_content": "\t\t\t\t\t\t  \"ev_enabled \"",
          "content_same": false
        },
        {
          "line": 4079,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT \"\n\t\t\t\t\t\t  \"(SELECT oid FROM pg_class WHERE relname = 'pg_rewrite') AS tableoid, \"\n\t\t\t\t\t\t  \"oid, rulename, \"\n\t\t\t\t\t\t  \"ev_class AS ruletable, ev_type, is_instead, \"\n\t\t\t\t\t\t  \"'O'::char AS ev_enabled \"\n\t\t\t\t\t\t  \"FROM pg_rewrite \"\n\t\t\t\t\t\t  \"ORDER BY oid\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT \"",
          "new_line_content": "\t\t\t\t\t\t  \"'O'::char AS ev_enabled \"",
          "content_same": false
        },
        {
          "line": 4088,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\t\t  \"ev_class AS ruletable, ev_type, is_instead, \"",
          "content_same": false
        },
        {
          "line": 4089,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t  \"'O'::char AS ev_enabled \"",
          "content_same": false
        },
        {
          "line": 4091,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t\t  \"ORDER BY oid\");",
          "content_same": false
        },
        {
          "line": 4098,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"oid\")",
          "new_text": null,
          "old_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4099,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"rulename\")",
          "new_text": null,
          "old_line_content": "\ti_rulename = PQfnumber(res, \"rulename\");",
          "new_line_content": "\t*numRules = ntups;",
          "content_same": false
        },
        {
          "line": 4100,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"ruletable\")",
          "new_text": null,
          "old_line_content": "\ti_ruletable = PQfnumber(res, \"ruletable\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4102,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"is_instead\")",
          "new_text": null,
          "old_line_content": "\ti_is_instead = PQfnumber(res, \"is_instead\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4110,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_tableoid)",
          "new_text": null,
          "old_line_content": "\t\truleinfo[i].dobj.catId.tableoid = atooid(PQgetvalue(res, i, i_tableoid));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4111,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_oid)",
          "new_text": null,
          "old_line_content": "\t\truleinfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "new_line_content": "\tfor (i = 0; i < ntups; i++)",
          "content_same": false
        },
        {
          "line": 4112,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&ruleinfo[i].dobj)",
          "new_text": null,
          "old_line_content": "\t\tAssignDumpId(&ruleinfo[i].dobj);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 4113,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_rulename)",
          "new_text": null,
          "old_line_content": "\t\truleinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_rulename));",
          "new_line_content": "\t\tOid\t\t\truletableoid;",
          "content_same": false
        },
        {
          "line": 4114,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_ruletable)",
          "new_text": null,
          "old_line_content": "\t\truletableoid = atooid(PQgetvalue(res, i, i_ruletable));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4115,
          "old_api": "findTableByOid",
          "new_api": null,
          "old_text": "findTableByOid(ruletableoid)",
          "new_text": null,
          "old_line_content": "\t\truleinfo[i].ruletable = findTableByOid(ruletableoid);",
          "new_line_content": "\t\truleinfo[i].dobj.objType = DO_RULE;",
          "content_same": false
        },
        {
          "line": 4125,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_ev_type)",
          "new_text": null,
          "old_line_content": "\t\truleinfo[i].ev_type = *(PQgetvalue(res, i, i_ev_type));",
          "new_line_content": "\t\t\t\t\t  ruletableoid,",
          "content_same": false
        },
        {
          "line": 4126,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_is_instead)",
          "new_text": null,
          "old_line_content": "\t\truleinfo[i].is_instead = *(PQgetvalue(res, i, i_is_instead)) == 't';",
          "new_line_content": "\t\t\t\t\t  ruleinfo[i].dobj.catId.oid);",
          "content_same": false
        },
        {
          "line": 4139,
          "old_api": "addObjectDependency",
          "new_api": null,
          "old_text": "addObjectDependency(&ruleinfo[i].ruletable->dobj,\n\t\t\t\t\t\t\t\t\truleinfo[i].dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\t\t\t\taddObjectDependency(&ruleinfo[i].ruletable->dobj,",
          "new_line_content": "\t\t\t * for the rule affect the table's positioning. Other rules are",
          "content_same": false
        },
        {
          "line": 4146,
          "old_api": "addObjectDependency",
          "new_api": null,
          "old_text": "addObjectDependency(&ruleinfo[i].dobj,\n\t\t\t\t\t\t\t\t\truleinfo[i].ruletable->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\t\t\t\taddObjectDependency(&ruleinfo[i].dobj,",
          "new_line_content": "\t\t\t\t\t\t\t\t\truleinfo[i].dobj.dumpId);",
          "content_same": false
        },
        {
          "line": 4155,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 4157,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\telse",
          "content_same": false
        },
        {
          "line": 4174,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 4201,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"reading triggers for table \\\"%s\\\"\\n\",\n\t\t\t\t\t  tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\twrite_msg(NULL, \"reading triggers for table \\\"%s\\\"\\n\",",
          "new_line_content": "\t\tTableInfo  *tbinfo = &tblinfo[i];",
          "content_same": false
        },
        {
          "line": 4209,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\t\tresetPQExpBuffer(query);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4234,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"SELECT tgname, \"\n\t\t\t\t\t\t\t  \"tgfoid::pg_catalog.regproc AS tgfname, \"\n\t\t\t\t\t\t\t  \"tgtype, tgnargs, tgargs, tgenabled, \"\n\t\t\t\t\t\t\t  \"tgisconstraint, tgconstrname, tgdeferrable, \"\n\t\t\t\t\t\t\t  \"tgconstrrelid, tginitdeferred, tableoid, oid, \"\n\t\t\t\t\t \"tgconstrrelid::pg_catalog.regclass AS tgconstrrelname \"\n\t\t\t\t\t\t\t  \"FROM pg_catalog.pg_trigger t \"\n\t\t\t\t\t\t\t  \"WHERE tgrelid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t\t  \"AND (NOT tgisconstraint \"\n\t\t\t\t\t\t\t  \" OR NOT EXISTS\"\n\t\t\t\t\t\t\t  \"  (SELECT 1 FROM pg_catalog.pg_depend d \"\n\t\t\t\t\t\t\t  \"   JOIN pg_catalog.pg_constraint c ON (d.refclassid = c.tableoid AND d.refobjid = c.oid) \"\n\t\t\t\t\t\t\t  \"   WHERE d.classid = t.tableoid AND d.objid = t.oid AND d.deptype = 'i' AND c.contype = 'f'))\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 4252,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"SELECT tgname, tgfoid::regproc AS tgfname, \"\n\t\t\t\t\t\t\t  \"tgtype, tgnargs, tgargs, tgenabled, \"\n\t\t\t\t\t\t\t  \"tgisconstraint, tgconstrname, tgdeferrable, \"\n\t\t\t\t\t\t\t  \"tgconstrrelid, tginitdeferred, tableoid, oid, \"\n\t\t\t\t  \"(SELECT relname FROM pg_class WHERE oid = tgconstrrelid) \"\n\t\t\t\t\t\t\t  \"\t\tAS tgconstrrelname \"\n\t\t\t\t\t\t\t  \"FROM pg_trigger \"\n\t\t\t\t\t\t\t  \"WHERE tgrelid = '%u'::oid\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\t\t\t\t\t\t  \"   JOIN pg_catalog.pg_constraint c ON (d.refclassid = c.tableoid AND d.refobjid = c.oid) \"",
          "content_same": false
        },
        {
          "line": 4265,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t\t  \"SELECT tgname, tgfoid::regproc AS tgfname, \"\n\t\t\t\t\t\t\t  \"tgtype, tgnargs, tgargs, tgenabled, \"\n\t\t\t\t\t\t\t  \"tgisconstraint, tgconstrname, tgdeferrable, \"\n\t\t\t\t\t\t\t  \"tgconstrrelid, tginitdeferred, \"\n\t\t\t\t\t\t\t  \"(SELECT oid FROM pg_class WHERE relname = 'pg_trigger') AS tableoid, \"\n\t\t\t\t\t\t\t  \"oid, \"\n\t\t\t\t  \"(SELECT relname FROM pg_class WHERE oid = tgconstrrelid) \"\n\t\t\t\t\t\t\t  \"\t\tAS tgconstrrelname \"\n\t\t\t\t\t\t\t  \"FROM pg_trigger \"\n\t\t\t\t\t\t\t  \"WHERE tgrelid = '%u'::oid\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\t\t\t\t\t\t  \"FROM pg_trigger \"",
          "content_same": false
        },
        {
          "line": 4278,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\t\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t  \"(SELECT relname FROM pg_class WHERE oid = tgconstrrelid) \"",
          "content_same": false
        },
        {
          "line": 4279,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\t\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t\t  \"\t\tAS tgconstrrelname \"",
          "content_same": false
        },
        {
          "line": 4281,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\t\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t\t\t  \"WHERE tgrelid = '%u'::oid\",",
          "content_same": false
        },
        {
          "line": 4283,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"tableoid\")",
          "new_text": null,
          "old_line_content": "\t\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 4286,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"tgfname\")",
          "new_text": null,
          "old_line_content": "\t\ti_tgfname = PQfnumber(res, \"tgfname\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4288,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"tgnargs\")",
          "new_text": null,
          "old_line_content": "\t\ti_tgnargs = PQfnumber(res, \"tgnargs\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4303,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, i_tableoid)",
          "new_text": null,
          "old_line_content": "\t\t\ttginfo[j].dobj.catId.tableoid = atooid(PQgetvalue(res, j, i_tableoid));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4305,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&tginfo[j].dobj)",
          "new_text": null,
          "old_line_content": "\t\t\tAssignDumpId(&tginfo[j].dobj);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4306,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, i_tgname)",
          "new_text": null,
          "old_line_content": "\t\t\ttginfo[j].dobj.name = strdup(PQgetvalue(res, j, i_tgname));",
          "new_line_content": "\t\tfor (j = 0; j < ntups; j++)",
          "content_same": false
        },
        {
          "line": 4313,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, i_tgisconstraint)",
          "new_text": null,
          "old_line_content": "\t\t\ttginfo[j].tgisconstraint = *(PQgetvalue(res, j, i_tgisconstraint)) == 't';",
          "new_line_content": "\t\t\ttginfo[j].dobj.namespace = tbinfo->dobj.namespace;",
          "content_same": false
        },
        {
          "line": 4314,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, i_tgenabled)",
          "new_text": null,
          "old_line_content": "\t\t\ttginfo[j].tgenabled = *(PQgetvalue(res, j, i_tgenabled));",
          "new_line_content": "\t\t\ttginfo[j].tgtable = tbinfo;",
          "content_same": false
        },
        {
          "line": 4324,
          "old_api": "PQgetisnull",
          "new_api": null,
          "old_text": "PQgetisnull(res, j, i_tgconstrrelname)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tif (PQgetisnull(res, j, i_tgconstrrelname))",
          "new_line_content": "\t\t\tif (tginfo[j].tgisconstraint)",
          "content_same": false
        },
        {
          "line": 4329,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\texit_nicely();",
          "new_line_content": "\t\t\t\t{",
          "content_same": false
        },
        {
          "line": 4331,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, i_tgconstrrelname)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\ttginfo[j].tgconstrrelname = strdup(PQgetvalue(res, j, i_tgconstrrelname));",
          "new_line_content": "\t\t\t\t\t{",
          "content_same": false
        },
        {
          "line": 4344,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\t\tPQclear(res);",
          "new_line_content": "\t\t\t\ttginfo[j].tgconstrname = NULL;",
          "content_same": false
        },
        {
          "line": 4347,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 4365,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": "ProcLangInfo *",
          "content_same": false
        },
        {
          "line": 4377,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(\"pg_catalog\")",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "new_line_content": "\tint\t\t\ti_lanplcallfoid;",
          "content_same": false
        },
        {
          "line": 4382,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, \"\n\t\t\t\t\t\t  \"lanname, lanpltrusted, lanplcallfoid, \"\n\t\t\t\t\t\t  \"lanvalidator,  lanacl, \"\n\t\t\t\t\t\t  \"(%s lanowner) AS lanowner \"\n\t\t\t\t\t\t  \"FROM pg_language \"\n\t\t\t\t\t\t  \"WHERE lanispl \"\n\t\t\t\t\t\t  \"ORDER BY oid\",\n\t\t\t\t\t\t  username_subquery)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, \"",
          "new_line_content": "\t/* Make sure we are in proper schema */",
          "content_same": false
        },
        {
          "line": 4394,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, *, \"\n\t\t\t\t\t\t  \"(%s '10') AS lanowner \"\n\t\t\t\t\t\t  \"FROM pg_language \"\n\t\t\t\t\t\t  \"WHERE lanispl \"\n\t\t\t\t\t\t  \"ORDER BY oid\",\n\t\t\t\t\t\t  username_subquery)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, *, \"",
          "new_line_content": "\t\t\t\t\t\t  \"ORDER BY oid\",",
          "content_same": false
        },
        {
          "line": 4404,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, *, \"\n\t\t\t\t\t\t  \"(%s '1') AS lanowner \"\n\t\t\t\t\t\t  \"FROM pg_language \"\n\t\t\t\t\t\t  \"WHERE lanispl \"\n\t\t\t\t\t\t  \"ORDER BY oid\",\n\t\t\t\t\t\t  username_subquery)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, *, \"",
          "new_line_content": "\t\t\t\t\t\t  \"ORDER BY oid\",",
          "content_same": false
        },
        {
          "line": 4414,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, * FROM pg_language \"\n\t\t\t\t\t\t  \"WHERE lanispl \"\n\t\t\t\t\t\t  \"ORDER BY oid\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, * FROM pg_language \"",
          "new_line_content": "\t\t\t\t\t\t  \"ORDER BY oid\",",
          "content_same": false
        },
        {
          "line": 4427,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\t\t  \"(SELECT oid FROM pg_class WHERE relname = 'pg_language') AS tableoid, \"",
          "content_same": false
        },
        {
          "line": 4428,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t  \"oid, * FROM pg_language \"",
          "content_same": false
        },
        {
          "line": 4430,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t\t  \"ORDER BY oid\");",
          "content_same": false
        },
        {
          "line": 4437,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"oid\")",
          "new_text": null,
          "old_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4438,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"lanname\")",
          "new_text": null,
          "old_line_content": "\ti_lanname = PQfnumber(res, \"lanname\");",
          "new_line_content": "\t*numProcLangs = ntups;",
          "content_same": false
        },
        {
          "line": 4439,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"lanpltrusted\")",
          "new_text": null,
          "old_line_content": "\ti_lanpltrusted = PQfnumber(res, \"lanpltrusted\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4451,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&planginfo[i].dobj)",
          "new_text": null,
          "old_line_content": "\t\tAssignDumpId(&planginfo[i].dobj);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4453,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_lanname)",
          "new_text": null,
          "old_line_content": "\t\tplanginfo[i].dobj.name = strdup(PQgetvalue(res, i, i_lanname));",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 4454,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_lanpltrusted)",
          "new_text": null,
          "old_line_content": "\t\tplanginfo[i].lanpltrusted = *(PQgetvalue(res, i, i_lanpltrusted)) == 't';",
          "new_line_content": "\t\tplanginfo[i].dobj.objType = DO_PROCLANG;",
          "content_same": false
        },
        {
          "line": 4465,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_lanowner)",
          "new_text": null,
          "old_line_content": "\t\t\tplanginfo[i].lanowner = strdup(PQgetvalue(res, i, i_lanowner));",
          "new_line_content": "\t\t\tplanginfo[i].lanvalidator = InvalidOid;",
          "content_same": false
        },
        {
          "line": 4476,
          "old_api": "findFuncByOid",
          "new_api": null,
          "old_text": "findFuncByOid(planginfo[i].lanplcallfoid)",
          "new_text": null,
          "old_line_content": "\t\t\tFuncInfo   *funcInfo = findFuncByOid(planginfo[i].lanplcallfoid);",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 4479,
          "old_api": "addObjectDependency",
          "new_api": null,
          "old_text": "addObjectDependency(&planginfo[i].dobj,\n\t\t\t\t\t\t\t\t\tfuncInfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\t\t\t\taddObjectDependency(&planginfo[i].dobj,",
          "new_line_content": "\t\t\t * dumped first.  (In 7.3 and later the regular dependency",
          "content_same": false
        },
        {
          "line": 4484,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\t\tif (funcInfo)",
          "content_same": false
        },
        {
          "line": 4486,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\t\t\t\t\t\t\tfuncInfo->dobj.dumpId);",
          "content_same": false
        },
        {
          "line": 4503,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": "CastInfo *",
          "content_same": false
        },
        {
          "line": 4514,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(\"pg_catalog\")",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "new_line_content": "\tint\t\t\ti_casttarget;",
          "content_same": false
        },
        {
          "line": 4518,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, \"\n\t\t\t\t\t\t  \"castsource, casttarget, castfunc, castcontext, \"\n\t\t\t\t\t\t  \"castmethod \"\n\t\t\t\t\t\t  \"FROM pg_cast ORDER BY 3,4\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, \"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4525,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, \"\n\t\t\t\t\t\t  \"castsource, casttarget, castfunc, castcontext, \"\n\t\t\t\t\t\t  \"CASE WHEN castfunc = 0 THEN 'b' ELSE 'f' END AS castmethod \"\n\t\t\t\t\t\t  \"FROM pg_cast ORDER BY 3,4\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT tableoid, oid, \"",
          "new_line_content": "\t\t\t\t\t\t  \"castsource, casttarget, castfunc, castcontext, \"",
          "content_same": false
        },
        {
          "line": 4532,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT 0 AS tableoid, p.oid, \"\n\t\t\t\t\t\t  \"t1.oid AS castsource, t2.oid AS casttarget, \"\n\t\t\t\t\t\t  \"p.oid AS castfunc, 'e' AS castcontext, \"\n\t\t\t\t\t\t  \"'f' AS castmethod \"\n\t\t\t\t\t\t  \"FROM pg_type t1, pg_type t2, pg_proc p \"\n\t\t\t\t\t\t  \"WHERE p.pronargs = 1 AND \"\n\t\t\t\t\t\t  \"p.proargtypes[0] = t1.oid AND \"\n\t\t\t\t\t\t  \"p.prorettype = t2.oid AND p.proname = t2.typname \"\n\t\t\t\t\t\t  \"ORDER BY 3,4\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT 0 AS tableoid, p.oid, \"",
          "new_line_content": "\t\t\t\t\t\t  \"castsource, casttarget, castfunc, castcontext, \"",
          "content_same": false
        },
        {
          "line": 4543,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\t\t  \"WHERE p.pronargs = 1 AND \"",
          "content_same": false
        },
        {
          "line": 4544,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t  \"p.proargtypes[0] = t1.oid AND \"",
          "content_same": false
        },
        {
          "line": 4546,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t\t  \"ORDER BY 3,4\");",
          "content_same": false
        },
        {
          "line": 4553,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"oid\")",
          "new_text": null,
          "old_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4554,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"castsource\")",
          "new_text": null,
          "old_line_content": "\ti_castsource = PQfnumber(res, \"castsource\");",
          "new_line_content": "\t*numCasts = ntups;",
          "content_same": false
        },
        {
          "line": 4555,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"casttarget\")",
          "new_text": null,
          "old_line_content": "\ti_casttarget = PQfnumber(res, \"casttarget\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4557,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"castcontext\")",
          "new_text": null,
          "old_line_content": "\ti_castcontext = PQfnumber(res, \"castcontext\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4567,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_tableoid)",
          "new_text": null,
          "old_line_content": "\t\tcastinfo[i].dobj.catId.tableoid = atooid(PQgetvalue(res, i, i_tableoid));",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 4568,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_oid)",
          "new_text": null,
          "old_line_content": "\t\tcastinfo[i].dobj.catId.oid = atooid(PQgetvalue(res, i, i_oid));",
          "new_line_content": "\t\tPQExpBufferData namebuf;",
          "content_same": false
        },
        {
          "line": 4569,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&castinfo[i].dobj)",
          "new_text": null,
          "old_line_content": "\t\tAssignDumpId(&castinfo[i].dobj);",
          "new_line_content": "\t\tTypeInfo   *sTypeInfo;",
          "content_same": false
        },
        {
          "line": 4570,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_castsource)",
          "new_text": null,
          "old_line_content": "\t\tcastinfo[i].castsource = atooid(PQgetvalue(res, i, i_castsource));",
          "new_line_content": "\t\tTypeInfo   *tTypeInfo;",
          "content_same": false
        },
        {
          "line": 4571,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_casttarget)",
          "new_text": null,
          "old_line_content": "\t\tcastinfo[i].casttarget = atooid(PQgetvalue(res, i, i_casttarget));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4572,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_castfunc)",
          "new_text": null,
          "old_line_content": "\t\tcastinfo[i].castfunc = atooid(PQgetvalue(res, i, i_castfunc));",
          "new_line_content": "\t\tcastinfo[i].dobj.objType = DO_CAST;",
          "content_same": false
        },
        {
          "line": 4581,
          "old_api": "initPQExpBuffer",
          "new_api": null,
          "old_text": "initPQExpBuffer(&namebuf)",
          "new_text": null,
          "old_line_content": "\t\tinitPQExpBuffer(&namebuf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4582,
          "old_api": "findTypeByOid",
          "new_api": null,
          "old_text": "findTypeByOid(castinfo[i].castsource)",
          "new_text": null,
          "old_line_content": "\t\tsTypeInfo = findTypeByOid(castinfo[i].castsource);",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 4583,
          "old_api": "findTypeByOid",
          "new_api": null,
          "old_text": "findTypeByOid(castinfo[i].casttarget)",
          "new_text": null,
          "old_line_content": "\t\ttTypeInfo = findTypeByOid(castinfo[i].casttarget);",
          "new_line_content": "\t\t * Try to name cast as concatenation of typnames.  This is only used",
          "content_same": false
        },
        {
          "line": 4585,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(&namebuf, \"%s %s\",\n\t\t\t\t\t\t\t  sTypeInfo->dobj.name, tTypeInfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(&namebuf, \"%s %s\",",
          "new_line_content": "\t\t * will be an empty string.",
          "content_same": false
        },
        {
          "line": 4598,
          "old_api": "findFuncByOid",
          "new_api": null,
          "old_text": "findFuncByOid(castinfo[i].castfunc)",
          "new_text": null,
          "old_line_content": "\t\t\tfuncInfo = findFuncByOid(castinfo[i].castfunc);",
          "new_line_content": "\t\t\t * We need to make a dependency to ensure the function will be",
          "content_same": false
        },
        {
          "line": 4600,
          "old_api": "addObjectDependency",
          "new_api": null,
          "old_text": "addObjectDependency(&castinfo[i].dobj,\n\t\t\t\t\t\t\t\t\tfuncInfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\t\t\t\taddObjectDependency(&castinfo[i].dobj,",
          "new_line_content": "\t\t\t * mechanism will handle this for us.)",
          "content_same": false
        },
        {
          "line": 4605,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\t\tif (funcInfo)",
          "content_same": false
        },
        {
          "line": 4607,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\t\t\t\t\t\t\tfuncInfo->dobj.dumpId);",
          "content_same": false
        },
        {
          "line": 4630,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer q = createPQExpBuffer();",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 4664,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(tbinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\tselectSourceSchema(tbinfo->dobj.namespace->dobj.name);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 4676,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"finding the columns and types of table \\\"%s\\\"\\n\",\n\t\t\t\t\t  tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\twrite_msg(NULL, \"finding the columns and types of table \\\"%s\\\"\\n\",",
          "new_line_content": "\t\t * we will use the attnum to index into the attnames array later.  We",
          "content_same": false
        },
        {
          "line": 4679,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\t\tresetPQExpBuffer(q);",
          "new_line_content": "\t\t * the output of an indexscan on pg_attribute_relid_attnum_index.",
          "content_same": false
        },
        {
          "line": 4684,
          "old_api": "format_type",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"SELECT a.attnum, a.attname, a.atttypmod, \"\n\t\t\t\t\t\t\t\t \"a.attstattarget, a.attstorage, t.typstorage, \"\n\t\t\t\t  \t\t\t\t \"a.attnotnull, a.atthasdef, a.attisdropped, \"\n\t\t\t\t  \t\t\t\t \"a.attlen, a.attalign, a.attislocal, \"\n\t\t\t\t   \"pg_catalog.format_type(t.oid,a.atttypmod) AS atttypname \"\n\t\t\t \"FROM pg_catalog.pg_attribute a LEFT JOIN pg_catalog.pg_type t \"\n\t\t\t\t\t\t\t  \"ON a.atttypid = t.oid \"\n\t\t\t\t\t\t\t  \"WHERE a.attrelid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t\t  \"AND a.attnum > 0::pg_catalog.int2 \"\n\t\t\t\t\t\t\t  \"ORDER BY a.attrelid, a.attnum\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \"SELECT a.attnum, a.attname, a.atttypmod, \"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4703,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"SELECT a.attnum, a.attname, \"\n\t\t\t\t\t\t\t  \"a.atttypmod, -1 AS attstattarget, a.attstorage, \"\n\t\t\t\t\t\t\t  \"t.typstorage, a.attnotnull, a.atthasdef, \"\n\t\t\t\t\t\t\t  \"false AS attisdropped, 0 AS attlen, \"\n\t\t\t\t\t\t\t  \"' ' AS attalign, false AS attislocal, \"\n\t\t\t\t\t\t\t  \"format_type(t.oid,a.atttypmod) AS atttypname \"\n\t\t\t\t\t\t\t  \"FROM pg_attribute a LEFT JOIN pg_type t \"\n\t\t\t\t\t\t\t  \"ON a.atttypid = t.oid \"\n\t\t\t\t\t\t\t  \"WHERE a.attrelid = '%u'::oid \"\n\t\t\t\t\t\t\t  \"AND a.attnum > 0::int2 \"\n\t\t\t\t\t\t\t  \"ORDER BY a.attrelid, a.attnum\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \"SELECT a.attnum, a.attname, \"",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 4719,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"SELECT attnum, attname, atttypmod, \"\n\t\t\t\t\t\t\t  \"-1 AS attstattarget, attstorage, \"\n\t\t\t\t\t\t\t  \"attstorage AS typstorage, \"\n\t\t\t\t\t\t\t  \"attnotnull, atthasdef, false AS attisdropped, \"\n\t\t\t\t\t\t\t  \"0 AS attlen, ' ' AS attalign, \"\n \t\t\t\t\t\t\t  \"false AS attislocal, \"\n\t\t\t\t\t\t\t  \"(SELECT typname FROM pg_type WHERE oid = atttypid) AS atttypname \"\n\t\t\t\t\t\t\t  \"FROM pg_attribute a \"\n\t\t\t\t\t\t\t  \"WHERE attrelid = '%u'::oid \"\n\t\t\t\t\t\t\t  \"AND attnum > 0::int2 \"\n\t\t\t\t\t\t\t  \"ORDER BY attrelid, attnum\",\n\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \"SELECT attnum, attname, atttypmod, \"",
          "new_line_content": "\t\t\t\t\t\t\t  \"ORDER BY a.attrelid, a.attnum\",",
          "content_same": false
        },
        {
          "line": 4733,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, q->data)",
          "new_text": null,
          "old_line_content": "\t\tres = PQexec(g_conn, q->data);",
          "new_line_content": "\t\t\t\t\t\t\t  \"WHERE attrelid = '%u'::oid \"",
          "content_same": false
        },
        {
          "line": 4734,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, q->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\t\tcheck_sql_result(res, g_conn, q->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t\t  \"AND attnum > 0::int2 \"",
          "content_same": false
        },
        {
          "line": 4736,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\t\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid);",
          "content_same": false
        },
        {
          "line": 4738,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"attnum\")",
          "new_text": null,
          "old_line_content": "\t\ti_attnum = PQfnumber(res, \"attnum\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4741,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"atttypmod\")",
          "new_text": null,
          "old_line_content": "\t\ti_atttypmod = PQfnumber(res, \"atttypmod\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4743,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"attstorage\")",
          "new_text": null,
          "old_line_content": "\t\ti_attstorage = PQfnumber(res, \"attstorage\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4757,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(ntups * sizeof(char))",
          "new_text": null,
          "old_line_content": "\t\ttbinfo->attstorage = (char *) malloc(ntups * sizeof(char));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4758,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(ntups * sizeof(char))",
          "new_text": null,
          "old_line_content": "\t\ttbinfo->typstorage = (char *) malloc(ntups * sizeof(char));",
          "new_line_content": "\t\ttbinfo->numatts = ntups;",
          "content_same": false
        },
        {
          "line": 4774,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"invalid column numbering in table \\\"%s\\\"\\n\",\n\t\t\t\t\t\t  tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\twrite_msg(NULL, \"invalid column numbering in table \\\"%s\\\"\\n\",",
          "new_line_content": "\t\thasdefaults = false;",
          "content_same": false
        },
        {
          "line": 4776,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\t\t\t\texit_nicely();",
          "new_line_content": "\t\tfor (j = 0; j < ntups; j++)",
          "content_same": false
        },
        {
          "line": 4779,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, i_atttypname)",
          "new_text": null,
          "old_line_content": "\t\t\ttbinfo->atttypnames[j] = strdup(PQgetvalue(res, j, i_atttypname));",
          "new_line_content": "\t\t\t{",
          "content_same": false
        },
        {
          "line": 4781,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, i_attstattarget)",
          "new_text": null,
          "old_line_content": "\t\t\ttbinfo->attstattarget[j] = atoi(PQgetvalue(res, j, i_attstattarget));",
          "new_line_content": "\t\t\t\t\t\t  tbinfo->dobj.name);",
          "content_same": false
        },
        {
          "line": 4783,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, i_typstorage)",
          "new_text": null,
          "old_line_content": "\t\t\ttbinfo->typstorage[j] = *(PQgetvalue(res, j, i_typstorage));",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 4798,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\t\tPQclear(res);",
          "new_line_content": "\t\t\t/* these flags will be set in flagInhAttrs() */",
          "content_same": false
        },
        {
          "line": 4811,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup(\"TEXT\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\ttbinfo->atttypnames[j] = strdup(\"TEXT\");",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 4824,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"finding default expressions of table \\\"%s\\\"\\n\",\n\t\t\t\t\t\t  tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\twrite_msg(NULL, \"finding default expressions of table \\\"%s\\\"\\n\",",
          "new_line_content": "\t\tif (hasdefaults)",
          "content_same": false
        },
        {
          "line": 4827,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\t\t\tresetPQExpBuffer(q);",
          "new_line_content": "\t\t\tint\t\t\tnumDefaults;",
          "content_same": false
        },
        {
          "line": 4839,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"SELECT tableoid, 0 AS oid, adnum, \"\n\t\t\t\t\t\t\t\t  \"pg_get_expr(adbin, adrelid) AS adsrc \"\n\t\t\t\t\t\t\t\t  \"FROM pg_attrdef \"\n\t\t\t\t\t\t\t\t  \"WHERE adrelid = '%u'::oid\",\n\t\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \"SELECT tableoid, 0 AS oid, adnum, \"",
          "new_line_content": "\t\t\t\t\t\t\t\t  \"WHERE adrelid = '%u'::pg_catalog.oid\",",
          "content_same": false
        },
        {
          "line": 4848,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"SELECT tableoid, oid, adnum, adsrc \"\n\t\t\t\t\t\t\t\t  \"FROM pg_attrdef \"\n\t\t\t\t\t\t\t\t  \"WHERE adrelid = '%u'::oid\",\n\t\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \"SELECT tableoid, oid, adnum, adsrc \"",
          "new_line_content": "\t\t\t\t\t\t\t\t  \"WHERE adrelid = '%u'::oid\",",
          "content_same": false
        },
        {
          "line": 4856,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"SELECT \"\n\t\t\t\t\t\t\t\t  \"(SELECT oid FROM pg_class WHERE relname = 'pg_attrdef') AS tableoid, \"\n\t\t\t\t\t\t\t\t  \"oid, adnum, adsrc \"\n\t\t\t\t\t\t\t\t  \"FROM pg_attrdef \"\n\t\t\t\t\t\t\t\t  \"WHERE adrelid = '%u'::oid\",\n\t\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \"SELECT \"",
          "new_line_content": "\t\t\t\t\t\t\t\t  \"WHERE adrelid = '%u'::oid\",",
          "content_same": false
        },
        {
          "line": 4863,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, q->data)",
          "new_text": null,
          "old_line_content": "\t\t\tres = PQexec(g_conn, q->data);",
          "new_line_content": "\t\t\t\t\t\t\t\t  \"(SELECT oid FROM pg_class WHERE relname = 'pg_attrdef') AS tableoid, \"",
          "content_same": false
        },
        {
          "line": 4864,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, q->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\t\t\tcheck_sql_result(res, g_conn, q->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t\t\t  \"oid, adnum, adsrc \"",
          "content_same": false
        },
        {
          "line": 4866,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\t\t\tnumDefaults = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t\t\t\t  \"WHERE adrelid = '%u'::oid\",",
          "content_same": false
        },
        {
          "line": 4867,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(numDefaults * sizeof(AttrDefInfo))",
          "new_text": null,
          "old_line_content": "\t\t\tattrdefs = (AttrDefInfo *) malloc(numDefaults * sizeof(AttrDefInfo));",
          "new_line_content": "\t\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid);",
          "content_same": false
        },
        {
          "line": 4874,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, 0)",
          "new_text": null,
          "old_line_content": "\t\t\t\tattrdefs[j].dobj.catId.tableoid = atooid(PQgetvalue(res, j, 0));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4875,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, 1)",
          "new_text": null,
          "old_line_content": "\t\t\t\tattrdefs[j].dobj.catId.oid = atooid(PQgetvalue(res, j, 1));",
          "new_line_content": "\t\t\tfor (j = 0; j < numDefaults; j++)",
          "content_same": false
        },
        {
          "line": 4876,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&attrdefs[j].dobj)",
          "new_text": null,
          "old_line_content": "\t\t\t\tAssignDumpId(&attrdefs[j].dobj);",
          "new_line_content": "\t\t\t{",
          "content_same": false
        },
        {
          "line": 4878,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, 2)",
          "new_text": null,
          "old_line_content": "\t\t\t\tattrdefs[j].adnum = adnum = atoi(PQgetvalue(res, j, 2));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4879,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, 3)",
          "new_text": null,
          "old_line_content": "\t\t\t\tattrdefs[j].adef_expr = strdup(PQgetvalue(res, j, 3));",
          "new_line_content": "\t\t\t\tattrdefs[j].dobj.objType = DO_ATTRDEF;",
          "content_same": false
        },
        {
          "line": 4897,
          "old_api": "addObjectDependency",
          "new_api": null,
          "old_text": "addObjectDependency(&attrdefs[j].dobj,\n\t\t\t\t\t\t\t\t\t\ttbinfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\taddObjectDependency(&attrdefs[j].dobj,",
          "new_line_content": "\t\t\t\t * CREATE.",
          "content_same": false
        },
        {
          "line": 4911,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\texit_nicely();",
          "new_line_content": "\t\t\t\t}",
          "content_same": false
        },
        {
          "line": 4927,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"finding check constraints for table \\\"%s\\\"\\n\",\n\t\t\t\t\t\t  tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\twrite_msg(NULL, \"finding check constraints for table \\\"%s\\\"\\n\",",
          "new_line_content": "\t\tif (tbinfo->ncheck > 0)",
          "content_same": false
        },
        {
          "line": 4930,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\t\t\tresetPQExpBuffer(q);",
          "new_line_content": "\t\t\tint\t\t\tnumConstrs;",
          "content_same": false
        },
        {
          "line": 4944,
          "old_api": "pg_get_constraintdef",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"SELECT tableoid, oid, conname, \"\n\t\t\t\t\t\t\t\"pg_catalog.pg_get_constraintdef(oid) AS consrc, \"\n\t\t\t\t\t\t\t\t  \"true AS conislocal \"\n\t\t\t\t\t\t\t\t  \"FROM pg_catalog.pg_constraint \"\n\t\t\t\t\t\t\t\t  \"WHERE conrelid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t\t\t  \"   AND contype = 'c' \"\n\t\t\t\t\t\t\t\t  \"ORDER BY conname\",\n\t\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \"SELECT tableoid, oid, conname, \"",
          "new_line_content": "\t\t\t\t\t\t\t\t  \"   AND contype = 'c' \"",
          "content_same": false
        },
        {
          "line": 4956,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"SELECT tableoid, oid, conname, \"\n\t\t\t\t\t\t\t\t  \"'CHECK (' || consrc || ')' AS consrc, \"\n\t\t\t\t\t\t\t\t  \"true AS conislocal \"\n\t\t\t\t\t\t\t\t  \"FROM pg_catalog.pg_constraint \"\n\t\t\t\t\t\t\t\t  \"WHERE conrelid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t\t\t  \"   AND contype = 'c' \"\n\t\t\t\t\t\t\t\t  \"ORDER BY conname\",\n\t\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \"SELECT tableoid, oid, conname, \"",
          "new_line_content": "\t\t\t\t\t\t\t\t  \"ORDER BY conname\",",
          "content_same": false
        },
        {
          "line": 4968,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"SELECT tableoid, 0 AS oid, \"\n\t\t\t\t\t\t\t\t  \"rcname AS conname, \"\n\t\t\t\t\t\t\t\t  \"'CHECK (' || rcsrc || ')' AS consrc, \"\n\t\t\t\t\t\t\t\t  \"true AS conislocal \"\n\t\t\t\t\t\t\t\t  \"FROM pg_relcheck \"\n\t\t\t\t\t\t\t\t  \"WHERE rcrelid = '%u'::oid \"\n\t\t\t\t\t\t\t\t  \"ORDER BY rcname\",\n\t\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \"SELECT tableoid, 0 AS oid, \"",
          "new_line_content": "\t\t\t\t\t\t\t\t  \"ORDER BY conname\",",
          "content_same": false
        },
        {
          "line": 4979,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"SELECT tableoid, oid, \"\n\t\t\t\t\t\t\t\t  \"rcname AS conname, \"\n\t\t\t\t\t\t\t\t  \"'CHECK (' || rcsrc || ')' AS consrc, \"\n\t\t\t\t\t\t\t\t  \"true AS conislocal \"\n\t\t\t\t\t\t\t\t  \"FROM pg_relcheck \"\n\t\t\t\t\t\t\t\t  \"WHERE rcrelid = '%u'::oid \"\n\t\t\t\t\t\t\t\t  \"ORDER BY rcname\",\n\t\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \"SELECT tableoid, oid, \"",
          "new_line_content": "\t\t\t\t\t\t\t\t  \"WHERE rcrelid = '%u'::oid \"",
          "content_same": false
        },
        {
          "line": 4991,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"SELECT \"\n\t\t\t\t\t\t\t\t  \"(SELECT oid FROM pg_class WHERE relname = 'pg_relcheck') AS tableoid, \"\n\t\t\t\t\t\t\t\t  \"oid, rcname AS conname, \"\n\t\t\t\t\t\t\t\t  \"'CHECK (' || rcsrc || ')' AS consrc, \"\n\t\t\t\t\t\t\t\t  \"true AS conislocal \"\n\t\t\t\t\t\t\t\t  \"FROM pg_relcheck \"\n\t\t\t\t\t\t\t\t  \"WHERE rcrelid = '%u'::oid \"\n\t\t\t\t\t\t\t\t  \"ORDER BY rcname\",\n\t\t\t\t\t\t\t\t  tbinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendPQExpBuffer(q, \"SELECT \"",
          "new_line_content": "\t\t\t\t\t\t\t\t  \"ORDER BY rcname\",",
          "content_same": false
        },
        {
          "line": 5001,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, q->data)",
          "new_text": null,
          "old_line_content": "\t\t\tres = PQexec(g_conn, q->data);",
          "new_line_content": "\t\t\t\t\t\t\t\t  \"true AS conislocal \"",
          "content_same": false
        },
        {
          "line": 5002,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, q->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\t\t\tcheck_sql_result(res, g_conn, q->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t\t\t  \"FROM pg_relcheck \"",
          "content_same": false
        },
        {
          "line": 5004,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\t\t\tnumConstrs = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t\t\t\t  \"ORDER BY rcname\",",
          "content_same": false
        },
        {
          "line": 5011,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"(The system catalogs might be corrupted.)\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\t\twrite_msg(NULL, \"(The system catalogs might be corrupted.)\\n\");",
          "new_line_content": "\t\t\tif (numConstrs != tbinfo->ncheck)",
          "content_same": false
        },
        {
          "line": 5012,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\t\t\t\texit_nicely();",
          "new_line_content": "\t\t\t{",
          "content_same": false
        },
        {
          "line": 5015,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc(numConstrs * sizeof(ConstraintInfo))",
          "new_text": null,
          "old_line_content": "\t\t\tconstrs = (ConstraintInfo *) malloc(numConstrs * sizeof(ConstraintInfo));",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t tbinfo->ncheck),",
          "content_same": false
        },
        {
          "line": 5022,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, 1)",
          "new_text": null,
          "old_line_content": "\t\t\t\tconstrs[j].dobj.catId.oid = atooid(PQgetvalue(res, j, 1));",
          "new_line_content": "\t\t\ttbinfo->checkexprs = constrs;",
          "content_same": false
        },
        {
          "line": 5023,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&constrs[j].dobj)",
          "new_text": null,
          "old_line_content": "\t\t\t\tAssignDumpId(&constrs[j].dobj);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5024,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, 2)",
          "new_text": null,
          "old_line_content": "\t\t\t\tconstrs[j].dobj.name = strdup(PQgetvalue(res, j, 2));",
          "new_line_content": "\t\t\tfor (j = 0; j < numConstrs; j++)",
          "content_same": false
        },
        {
          "line": 5032,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, j, 4)",
          "new_text": null,
          "old_line_content": "\t\t\t\tconstrs[j].conislocal = (PQgetvalue(res, j, 4)[0] == 't');",
          "new_line_content": "\t\t\t\tconstrs[j].contable = tbinfo;",
          "content_same": false
        },
        {
          "line": 5043,
          "old_api": "addObjectDependency",
          "new_api": null,
          "old_text": "addObjectDependency(&tbinfo->dobj,\n\t\t\t\t\t\t\t\t\tconstrs[j].dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\t\t\t\taddObjectDependency(&tbinfo->dobj,",
          "new_line_content": "\t\t\t\t/*",
          "content_same": false
        },
        {
          "line": 5052,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\t\t\tPQclear(res);",
          "new_line_content": "\t\t\t\t/*",
          "content_same": false
        },
        {
          "line": 5056,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\t\t\t\t */",
          "content_same": false
        },
        {
          "line": 5073,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": "TSParserInfo *",
          "content_same": false
        },
        {
          "line": 5098,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(\"pg_catalog\")",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 5100,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, prsname, prsnamespace, \"\n\t\t\t\t\t  \"prsstart::oid, prstoken::oid, \"\n\t\t\t\t\t  \"prsend::oid, prsheadline::oid, prslextype::oid \"\n\t\t\t\t\t  \"FROM pg_ts_parser\")",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \"SELECT tableoid, oid, prsname, prsnamespace, \"",
          "new_line_content": "\t * system-defined objects at dump-out time.",
          "content_same": false
        },
        {
          "line": 5105,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5108,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t  \"prsend::oid, prsheadline::oid, prslextype::oid \"",
          "content_same": false
        },
        {
          "line": 5113,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"tableoid\")",
          "new_text": null,
          "old_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5115,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"prsname\")",
          "new_text": null,
          "old_line_content": "\ti_prsname = PQfnumber(res, \"prsname\");",
          "new_line_content": "\t*numTSParsers = ntups;",
          "content_same": false
        },
        {
          "line": 5116,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"prsnamespace\")",
          "new_text": null,
          "old_line_content": "\ti_prsnamespace = PQfnumber(res, \"prsnamespace\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5118,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"prstoken\")",
          "new_text": null,
          "old_line_content": "\ti_prstoken = PQfnumber(res, \"prstoken\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5128,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&prsinfo[i].dobj)",
          "new_text": null,
          "old_line_content": "\t\tAssignDumpId(&prsinfo[i].dobj);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5129,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_prsname)",
          "new_text": null,
          "old_line_content": "\t\tprsinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_prsname));",
          "new_line_content": "\tfor (i = 0; i < ntups; i++)",
          "content_same": false
        },
        {
          "line": 5130,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_prsnamespace)",
          "new_text": null,
          "old_line_content": "\t\tprsinfo[i].dobj.namespace = findNamespace(atooid(PQgetvalue(res, i, i_prsnamespace)),",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5144,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t/* Decide whether we want to dump it */",
          "content_same": false
        },
        {
          "line": 5162,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": "TSDictInfo *",
          "content_same": false
        },
        {
          "line": 5180,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(\"pg_catalog\")",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5182,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, dictname, \"\n\t\t\t\t\t  \"dictnamespace, (%s dictowner) AS rolname, \"\n\t\t\t\t\t  \"dicttemplate, dictinitoption \"\n\t\t\t\t\t  \"FROM pg_ts_dict\",\n\t\t\t\t\t  username_subquery)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \"SELECT tableoid, oid, dictname, \"",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 5189,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t  \"dictnamespace, (%s dictowner) AS rolname, \"",
          "content_same": false
        },
        {
          "line": 5191,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t  \"FROM pg_ts_dict\",",
          "content_same": false
        },
        {
          "line": 5196,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"tableoid\")",
          "new_text": null,
          "old_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5198,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"dictname\")",
          "new_text": null,
          "old_line_content": "\ti_dictname = PQfnumber(res, \"dictname\");",
          "new_line_content": "\t*numTSDicts = ntups;",
          "content_same": false
        },
        {
          "line": 5199,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"dictnamespace\")",
          "new_text": null,
          "old_line_content": "\ti_dictnamespace = PQfnumber(res, \"dictnamespace\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5201,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"dictinitoption\")",
          "new_text": null,
          "old_line_content": "\ti_dictinitoption = PQfnumber(res, \"dictinitoption\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5209,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&dictinfo[i].dobj)",
          "new_text": null,
          "old_line_content": "\t\tAssignDumpId(&dictinfo[i].dobj);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5210,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_dictname)",
          "new_text": null,
          "old_line_content": "\t\tdictinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_dictname));",
          "new_line_content": "\tfor (i = 0; i < ntups; i++)",
          "content_same": false
        },
        {
          "line": 5211,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_dictnamespace)",
          "new_text": null,
          "old_line_content": "\t\tdictinfo[i].dobj.namespace = findNamespace(atooid(PQgetvalue(res, i, i_dictnamespace)),",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5218,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_dictinitoption)",
          "new_text": null,
          "old_line_content": "\t\t\tdictinfo[i].dictinitoption = strdup(PQgetvalue(res, i, i_dictinitoption));",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t dictinfo[i].dobj.catId.oid);",
          "content_same": false
        },
        {
          "line": 5226,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t/* Decide whether we want to dump it */",
          "content_same": false
        },
        {
          "line": 5244,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": "TSTemplateInfo *",
          "content_same": false
        },
        {
          "line": 5261,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(\"pg_catalog\")",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5263,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, tmplname, \"\n\t\t\t\t\t  \"tmplnamespace, tmplinit::oid, tmpllexize::oid \"\n\t\t\t\t\t  \"FROM pg_ts_template\")",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \"SELECT tableoid, oid, tmplname, \"",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 5268,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5270,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t  \"tmplnamespace, tmplinit::oid, tmpllexize::oid \"",
          "content_same": false
        },
        {
          "line": 5275,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"tableoid\")",
          "new_text": null,
          "old_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5277,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"tmplname\")",
          "new_text": null,
          "old_line_content": "\ti_tmplname = PQfnumber(res, \"tmplname\");",
          "new_line_content": "\t*numTSTemplates = ntups;",
          "content_same": false
        },
        {
          "line": 5278,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"tmplnamespace\")",
          "new_text": null,
          "old_line_content": "\ti_tmplnamespace = PQfnumber(res, \"tmplnamespace\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5280,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"tmpllexize\")",
          "new_text": null,
          "old_line_content": "\ti_tmpllexize = PQfnumber(res, \"tmpllexize\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5287,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&tmplinfo[i].dobj)",
          "new_text": null,
          "old_line_content": "\t\tAssignDumpId(&tmplinfo[i].dobj);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5288,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_tmplname)",
          "new_text": null,
          "old_line_content": "\t\ttmplinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_tmplname));",
          "new_line_content": "\tfor (i = 0; i < ntups; i++)",
          "content_same": false
        },
        {
          "line": 5289,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_tmplnamespace)",
          "new_text": null,
          "old_line_content": "\t\ttmplinfo[i].dobj.namespace = findNamespace(atooid(PQgetvalue(res, i, i_tmplnamespace)),",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5300,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t/* Decide whether we want to dump it */",
          "content_same": false
        },
        {
          "line": 5318,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": "TSConfigInfo *",
          "content_same": false
        },
        {
          "line": 5335,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(\"pg_catalog\")",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5337,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT tableoid, oid, cfgname, \"\n\t\t\t\t\t  \"cfgnamespace, (%s cfgowner) AS rolname, cfgparser \"\n\t\t\t\t\t  \"FROM pg_ts_config\",\n\t\t\t\t\t  username_subquery)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \"SELECT tableoid, oid, cfgname, \"",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 5342,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5345,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t  \"FROM pg_ts_config\",",
          "content_same": false
        },
        {
          "line": 5350,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"tableoid\")",
          "new_text": null,
          "old_line_content": "\ti_tableoid = PQfnumber(res, \"tableoid\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5352,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"cfgname\")",
          "new_text": null,
          "old_line_content": "\ti_cfgname = PQfnumber(res, \"cfgname\");",
          "new_line_content": "\t*numTSConfigs = ntups;",
          "content_same": false
        },
        {
          "line": 5353,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"cfgnamespace\")",
          "new_text": null,
          "old_line_content": "\ti_cfgnamespace = PQfnumber(res, \"cfgnamespace\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5355,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"cfgparser\")",
          "new_text": null,
          "old_line_content": "\ti_cfgparser = PQfnumber(res, \"cfgparser\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5362,
          "old_api": "AssignDumpId",
          "new_api": null,
          "old_text": "AssignDumpId(&cfginfo[i].dobj)",
          "new_text": null,
          "old_line_content": "\t\tAssignDumpId(&cfginfo[i].dobj);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5363,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_cfgname)",
          "new_text": null,
          "old_line_content": "\t\tcfginfo[i].dobj.name = strdup(PQgetvalue(res, i, i_cfgname));",
          "new_line_content": "\tfor (i = 0; i < ntups; i++)",
          "content_same": false
        },
        {
          "line": 5364,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_cfgnamespace)",
          "new_text": null,
          "old_line_content": "\t\tcfginfo[i].dobj.namespace = findNamespace(atooid(PQgetvalue(res, i, i_cfgnamespace)),",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5375,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t/* Decide whether we want to dump it */",
          "content_same": false
        },
        {
          "line": 5393,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": "FdwInfo *",
          "content_same": false
        },
        {
          "line": 5410,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(\"pg_catalog\")",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5412,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT oid, fdwname, \"\n\t\t\t\t\t  \"(%s fdwowner) AS rolname, fdwvalidator::pg_catalog.regproc, fdwacl,\"\n\t\t\t\t\t  \"array_to_string(ARRAY(\"\n\t\t\t\t\t  \"\t\tSELECT option_name || ' ' || quote_literal(option_value) \"\n\t\t\t\t\t  \"\t\tFROM pg_options_to_table(fdwoptions)), ', ') AS fdwoptions \"\n\t\t\t\t\t  \"FROM pg_foreign_data_wrapper\",\n\t\t\t\t\t  username_subquery)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \"SELECT oid, fdwname, \"",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 5420,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\t  \"array_to_string(ARRAY(\"",
          "content_same": false
        },
        {
          "line": 5421,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t  \"\t\tSELECT option_name || ' ' || quote_literal(option_value) \"",
          "content_same": false
        },
        {
          "line": 5423,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t  \"FROM pg_foreign_data_wrapper\",",
          "content_same": false
        },
        {
          "line": 5428,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"oid\")",
          "new_text": null,
          "old_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5430,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"rolname\")",
          "new_text": null,
          "old_line_content": "\ti_rolname = PQfnumber(res, \"rolname\");",
          "new_line_content": "\t*numForeignDataWrappers = ntups;",
          "content_same": false
        },
        {
          "line": 5431,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"fdwvalidator\")",
          "new_text": null,
          "old_line_content": "\ti_fdwvalidator = PQfnumber(res, \"fdwvalidator\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5433,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"fdwoptions\")",
          "new_text": null,
          "old_line_content": "\ti_fdwoptions = PQfnumber(res, \"fdwoptions\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5440,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_fdwname)",
          "new_text": null,
          "old_line_content": "\t\tfdwinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_fdwname));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5442,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_rolname)",
          "new_text": null,
          "old_line_content": "\t\tfdwinfo[i].rolname = strdup(PQgetvalue(res, i, i_rolname));",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5443,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_fdwvalidator)",
          "new_text": null,
          "old_line_content": "\t\tfdwinfo[i].fdwvalidator = strdup(PQgetvalue(res, i, i_fdwvalidator));",
          "new_line_content": "\t\tfdwinfo[i].dobj.objType = DO_FDW;",
          "content_same": false
        },
        {
          "line": 5452,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5454,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t/* Decide whether we want to dump it */",
          "content_same": false
        },
        {
          "line": 5472,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": "ForeignServerInfo *",
          "content_same": false
        },
        {
          "line": 5491,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(\"pg_catalog\")",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5493,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT oid, srvname, \"\n\t\t\t\t\t  \"(%s srvowner) AS rolname, \"\n\t\t\t\t\t  \"srvfdw, srvtype, srvversion, srvacl,\"\n\t\t\t\t\t  \"array_to_string(ARRAY(\"\n\t\t\t\t\t  \"\t\tSELECT option_name || ' ' || quote_literal(option_value) \"\n\t\t\t\t\t  \"\t\tFROM pg_options_to_table(srvoptions)), ', ') AS srvoptions \"\n\t\t\t\t\t  \"FROM pg_foreign_server\",\n\t\t\t\t\t  username_subquery)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \"SELECT oid, srvname, \"",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 5502,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\t  \"array_to_string(ARRAY(\"",
          "content_same": false
        },
        {
          "line": 5503,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t  \"\t\tSELECT option_name || ' ' || quote_literal(option_value) \"",
          "content_same": false
        },
        {
          "line": 5505,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t  \"FROM pg_foreign_server\",",
          "content_same": false
        },
        {
          "line": 5510,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"oid\")",
          "new_text": null,
          "old_line_content": "\ti_oid = PQfnumber(res, \"oid\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5512,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"rolname\")",
          "new_text": null,
          "old_line_content": "\ti_rolname = PQfnumber(res, \"rolname\");",
          "new_line_content": "\t*numForeignServers = ntups;",
          "content_same": false
        },
        {
          "line": 5513,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"srvfdw\")",
          "new_text": null,
          "old_line_content": "\ti_srvfdw = PQfnumber(res, \"srvfdw\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5515,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"srvversion\")",
          "new_text": null,
          "old_line_content": "\ti_srvversion = PQfnumber(res, \"srvversion\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5524,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_srvname)",
          "new_text": null,
          "old_line_content": "\t\tsrvinfo[i].dobj.name = strdup(PQgetvalue(res, i, i_srvname));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5526,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_rolname)",
          "new_text": null,
          "old_line_content": "\t\tsrvinfo[i].rolname = strdup(PQgetvalue(res, i, i_rolname));",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5527,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_srvfdw)",
          "new_text": null,
          "old_line_content": "\t\tsrvinfo[i].srvfdw = atooid(PQgetvalue(res, i, i_srvfdw));",
          "new_line_content": "\t\tsrvinfo[i].dobj.objType = DO_FOREIGN_SERVER;",
          "content_same": false
        },
        {
          "line": 5531,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_srvacl)",
          "new_text": null,
          "old_line_content": "\t\tsrvinfo[i].srvacl = strdup(PQgetvalue(res, i, i_srvacl));",
          "new_line_content": "\t\tsrvinfo[i].dobj.namespace = NULL;",
          "content_same": false
        },
        {
          "line": 5539,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t/* Decide whether we want to dump it */",
          "content_same": false
        },
        {
          "line": 5575,
          "old_api": "findComments",
          "new_api": null,
          "old_text": "findComments(fout, catalogId.tableoid, catalogId.oid,\n\t\t\t\t\t\t\t &comments)",
          "new_text": null,
          "old_line_content": "\tncomments = findComments(fout, catalogId.tableoid, catalogId.oid,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5590,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\t\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": "\t\tncomments--;",
          "content_same": false
        },
        {
          "line": 5592,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"COMMENT ON %s IS \", target)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"COMMENT ON %s IS \", target);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5593,
          "old_api": "appendStringLiteralAH",
          "new_api": null,
          "old_text": "appendStringLiteralAH(query, comments->descr, fout)",
          "new_text": null,
          "old_line_content": "\t\tappendStringLiteralAH(query, comments->descr, fout);",
          "new_line_content": "\t/* If a comment exists, build COMMENT ON statement */",
          "content_same": false
        },
        {
          "line": 5594,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \";\\n\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \";\\n\");",
          "new_line_content": "\tif (ncomments > 0)",
          "content_same": false
        },
        {
          "line": 5601,
          "old_api": "createDumpId",
          "new_api": null,
          "old_text": "createDumpId()",
          "new_text": null,
          "old_line_content": "\t\tArchiveEntry(fout, nilCatalogId, createDumpId(),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5608,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\t\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\t\t\t target, namespace, NULL, owner,",
          "content_same": false
        },
        {
          "line": 5632,
          "old_api": "findComments",
          "new_api": null,
          "old_text": "findComments(fout,\n\t\t\t\t\t\t\t tbinfo->dobj.catId.tableoid,\n\t\t\t\t\t\t\t tbinfo->dobj.catId.oid,\n\t\t\t\t\t\t\t &comments)",
          "new_text": null,
          "old_line_content": "\tncomments = findComments(fout,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5641,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tquery = createPQExpBuffer();",
          "new_line_content": "\t\t\t\t\t\t\t &comments);",
          "content_same": false
        },
        {
          "line": 5642,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\ttarget = createPQExpBuffer();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5651,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(target)",
          "new_text": null,
          "old_line_content": "\t\t\tresetPQExpBuffer(target);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5652,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(target, \"%s %s\", reltypename,\n\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(target, \"%s %s\", reltypename,",
          "new_line_content": "\t\tconst char *descr = comments->descr;",
          "content_same": false
        },
        {
          "line": 5653,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\tint\t\t\tobjsubid = comments->objsubid;",
          "content_same": false
        },
        {
          "line": 5655,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\t\t\tresetPQExpBuffer(query);",
          "new_line_content": "\t\tif (objsubid == 0)",
          "content_same": false
        },
        {
          "line": 5656,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"COMMENT ON %s IS \", target->data)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(query, \"COMMENT ON %s IS \", target->data);",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 5660,
          "old_api": "createDumpId",
          "new_api": null,
          "old_text": "createDumpId()",
          "new_text": null,
          "old_line_content": "\t\t\tArchiveEntry(fout, nilCatalogId, createDumpId(),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5671,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(target)",
          "new_text": null,
          "old_line_content": "\t\t\tresetPQExpBuffer(target);",
          "new_line_content": "\t\t\t\t\t\t query->data, \"\", NULL,",
          "content_same": false
        },
        {
          "line": 5672,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(target, \"COLUMN %s.\",\n\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(target, \"COLUMN %s.\",",
          "new_line_content": "\t\t\t\t\t\t &(tbinfo->dobj.dumpId), 1,",
          "content_same": false
        },
        {
          "line": 5673,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(tbinfo->dobj.name));",
          "new_line_content": "\t\t\t\t\t\t NULL, NULL);",
          "content_same": false
        },
        {
          "line": 5674,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(target, \"%s\",\n\t\t\t\t\t\t\t  fmtId(tbinfo->attnames[objsubid - 1]))",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(target, \"%s\",",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 5675,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tbinfo->attnames[objsubid - 1])",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(tbinfo->attnames[objsubid - 1]));",
          "new_line_content": "\t\telse if (objsubid > 0 && objsubid <= tbinfo->numatts)",
          "content_same": false
        },
        {
          "line": 5682,
          "old_api": "createDumpId",
          "new_api": null,
          "old_text": "createDumpId()",
          "new_text": null,
          "old_line_content": "\t\t\tArchiveEntry(fout, nilCatalogId, createDumpId(),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5696,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 5697,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(target)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(target);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5722,
          "old_api": "collectComments",
          "new_api": null,
          "old_text": "collectComments(fout, &comments)",
          "new_text": null,
          "old_line_content": "\t\tncomments = collectComments(fout, &comments);",
          "new_line_content": "\tCommentItem *low;",
          "content_same": false
        },
        {
          "line": 5817,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tquery = createPQExpBuffer();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5821,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT description, classoid, objoid, objsubid \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_description \"\n\t\t\t\t\t\t  \"ORDER BY classoid, objoid, objsubid\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT description, classoid, objoid, objsubid \"",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 5834,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT description, 0 AS classoid, objoid, 0 AS objsubid \"\n\t\t\t\t\t\t  \"FROM pg_description \"\n\t\t\t\t\t\t  \"ORDER BY objoid\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT description, 0 AS classoid, objoid, 0 AS objsubid \"",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_description \"",
          "content_same": false
        },
        {
          "line": 5839,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t/* Note: this will fail to find attribute comments in pre-7.2... */",
          "content_same": false
        },
        {
          "line": 5844,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"description\")",
          "new_text": null,
          "old_line_content": "\ti_description = PQfnumber(res, \"description\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5847,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"objsubid\")",
          "new_text": null,
          "old_line_content": "\ti_objsubid = PQfnumber(res, \"objsubid\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5849,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5856,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_classoid)",
          "new_text": null,
          "old_line_content": "\t\tcomments[i].classoid = atooid(PQgetvalue(res, i, i_classoid));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5858,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_objsubid)",
          "new_text": null,
          "old_line_content": "\t\tcomments[i].objsubid = atoi(PQgetvalue(res, i, i_objsubid));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5880,
          "old_api": "dumpNamespace",
          "new_api": null,
          "old_text": "dumpNamespace(fout, (NamespaceInfo *) dobj)",
          "new_text": null,
          "old_line_content": "\t\t\tdumpNamespace(fout, (NamespaceInfo *) dobj);",
          "new_line_content": "static void",
          "content_same": false
        },
        {
          "line": 5883,
          "old_api": "dumpType",
          "new_api": null,
          "old_text": "dumpType(fout, (TypeInfo *) dobj)",
          "new_text": null,
          "old_line_content": "\t\t\tdumpType(fout, (TypeInfo *) dobj);",
          "new_line_content": "\tswitch (dobj->objType)",
          "content_same": false
        },
        {
          "line": 5943,
          "old_api": "dumpTSDictionary",
          "new_api": null,
          "old_text": "dumpTSDictionary(fout, (TSDictInfo *) dobj)",
          "new_text": null,
          "old_line_content": "\t\t\tdumpTSDictionary(fout, (TSDictInfo *) dobj);",
          "new_line_content": "\t\t\t/* table rowtypes and array types are never dumped separately */",
          "content_same": false
        },
        {
          "line": 5966,
          "old_api": "ArchiveEntry",
          "new_api": null,
          "old_text": "ArchiveEntry(fout, dobj->catId, dobj->dumpId,\n\t\t\t\t\t\t dobj->name, NULL, NULL, \"\",\n\t\t\t\t\t\t false, \"BLOB COMMENTS\", SECTION_DATA,\n\t\t\t\t\t\t \"\", \"\", NULL,\n\t\t\t\t\t\t dobj->dependencies, dobj->nDeps,\n\t\t\t\t\t\t dumpBlobComments, NULL)",
          "new_text": null,
          "old_line_content": "\t\t\tArchiveEntry(fout, dobj->catId, dobj->dumpId,",
          "new_line_content": "\t\t\t\t\t\t false, \"BLOBS\", SECTION_DATA,",
          "content_same": false
        },
        {
          "line": 5992,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(nspinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\tif (strlen(nspinfo->dobj.name) == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5995,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tq = createPQExpBuffer();",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 5996,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdelq = createPQExpBuffer();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6000,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"DROP SCHEMA %s;\\n\", qnspname)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \"DROP SCHEMA %s;\\n\", qnspname);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6014,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(q);",
          "new_line_content": "\t\t\t\t false, \"SCHEMA\", SECTION_PRE_DATA,",
          "content_same": false
        },
        {
          "line": 6015,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"SCHEMA %s\", qnspname)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"SCHEMA %s\", qnspname);",
          "new_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "content_same": false
        },
        {
          "line": 6016,
          "old_api": "dumpComment",
          "new_api": null,
          "old_text": "dumpComment(fout, q->data,\n\t\t\t\tNULL, nspinfo->rolname,\n\t\t\t\tnspinfo->dobj.catId, 0, nspinfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\tdumpComment(fout, q->data,",
          "new_line_content": "\t\t\t\t nspinfo->dobj.dependencies, nspinfo->dobj.nDeps,",
          "content_same": false
        },
        {
          "line": 6024,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(qnspname)",
          "new_text": null,
          "old_line_content": "\tfree(qnspname);",
          "new_line_content": "\t\t\t\tnspinfo->dobj.catId, 0, nspinfo->dobj.dumpId);",
          "content_same": false
        },
        {
          "line": 6027,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(delq)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(delq);",
          "new_line_content": "\t\t\tqnspname, NULL, nspinfo->dobj.name, NULL,",
          "content_same": false
        },
        {
          "line": 6043,
          "old_api": "dumpBaseType",
          "new_api": null,
          "old_text": "dumpBaseType(fout, tinfo)",
          "new_text": null,
          "old_line_content": "\t\tdumpBaseType(fout, tinfo);",
          "new_line_content": "\t/* Skip if not to be dumped */",
          "content_same": false
        },
        {
          "line": 6045,
          "old_api": "dumpDomain",
          "new_api": null,
          "old_text": "dumpDomain(fout, tinfo)",
          "new_text": null,
          "old_line_content": "\t\tdumpDomain(fout, tinfo);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 6047,
          "old_api": "dumpCompositeType",
          "new_api": null,
          "old_text": "dumpCompositeType(fout, tinfo)",
          "new_text": null,
          "old_line_content": "\t\tdumpCompositeType(fout, tinfo);",
          "new_line_content": "\t/* Dump out in proper style */",
          "content_same": false
        },
        {
          "line": 6059,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer q = createPQExpBuffer();",
          "new_line_content": " * dumpEnumType",
          "content_same": false
        },
        {
          "line": 6060,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer delq = createPQExpBuffer();",
          "new_line_content": " *\t  writes out to fout the queries to recreate a user-defined enum type",
          "content_same": false
        },
        {
          "line": 6061,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 6068,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(tinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(tinfo->dobj.namespace->dobj.name);",
          "new_line_content": "\tPGresult   *res;",
          "content_same": false
        },
        {
          "line": 6070,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT enumlabel FROM pg_catalog.pg_enum \"\n\t\t\t\t\t  \"WHERE enumtypid = '%u'\"\n\t\t\t\t\t  \"ORDER BY oid\",\n\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \"SELECT enumlabel FROM pg_catalog.pg_enum \"",
          "new_line_content": "\t\t\t\ti;",
          "content_same": false
        },
        {
          "line": 6075,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6078,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tnum = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t  \"ORDER BY oid\",",
          "content_same": false
        },
        {
          "line": 6083,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6091,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"DROP TYPE %s.\",\n\t\t\t\t\t  fmtId(tinfo->dobj.namespace->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \"DROP TYPE %s.\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6092,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.namespace->dobj.name));",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 6093,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"%s;\\n\",\n\t\t\t\t\t  fmtId(tinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \"%s;\\n\",",
          "new_line_content": "\t * DROP must be fully qualified in case same name appears in pg_catalog.",
          "content_same": false
        },
        {
          "line": 6094,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.name));",
          "new_line_content": "\t * CASCADE shouldn't be required here as for normal types since the I/O",
          "content_same": false
        },
        {
          "line": 6095,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"CREATE TYPE %s AS ENUM (\\n\",\n\t\t\t\t\t  fmtId(tinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"CREATE TYPE %s AS ENUM (\\n\",",
          "new_line_content": "\t * functions are generic and do not get dropped.",
          "content_same": false
        },
        {
          "line": 6096,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.name));",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 6103,
          "old_api": "appendStringLiteralAH",
          "new_api": null,
          "old_text": "appendStringLiteralAH(q, label, fout)",
          "new_text": null,
          "old_line_content": "\t\tappendStringLiteralAH(q, label, fout);",
          "new_line_content": "\tfor (i = 0; i < num; i++)",
          "content_same": false
        },
        {
          "line": 6118,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(q);",
          "new_line_content": "\t\t\t\t \"TYPE\", SECTION_PRE_DATA,",
          "content_same": false
        },
        {
          "line": 6120,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"TYPE %s\", fmtId(tinfo->dobj.name));",
          "new_line_content": "\t\t\t\t tinfo->dobj.dependencies, tinfo->dobj.nDeps,",
          "content_same": false
        },
        {
          "line": 6121,
          "old_api": "dumpComment",
          "new_api": null,
          "old_text": "dumpComment(fout, q->data,\n\t\t\t\ttinfo->dobj.namespace->dobj.name, tinfo->rolname,\n\t\t\t\ttinfo->dobj.catId, 0, tinfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\tdumpComment(fout, q->data,",
          "new_line_content": "\t\t\t\t NULL, NULL);",
          "content_same": false
        },
        {
          "line": 6125,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6128,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\t\ttinfo->dobj.namespace->dobj.name, tinfo->rolname,",
          "content_same": false
        },
        {
          "line": 6138,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer q = createPQExpBuffer();",
          "new_line_content": " * dumpBaseType",
          "content_same": false
        },
        {
          "line": 6139,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer delq = createPQExpBuffer();",
          "new_line_content": " *\t  writes out to fout the queries to recreate a user-defined base type",
          "content_same": false
        },
        {
          "line": 6140,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 6168,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(tinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(tinfo->dobj.namespace->dobj.name);",
          "new_line_content": "\tchar\t   *typalign;",
          "content_same": false
        },
        {
          "line": 6173,
          "old_api": "pg_get_expr",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT typlen, \"\n\t\t\t\t\t\t  \"typinput, typoutput, typreceive, typsend, \"\n\t\t\t\t\t\t  \"typmodin, typmodout, typanalyze, \"\n\t\t\t\t\t\t  \"typinput::pg_catalog.oid AS typinputoid, \"\n\t\t\t\t\t\t  \"typoutput::pg_catalog.oid AS typoutputoid, \"\n\t\t\t\t\t\t  \"typreceive::pg_catalog.oid AS typreceiveoid, \"\n\t\t\t\t\t\t  \"typsend::pg_catalog.oid AS typsendoid, \"\n\t\t\t\t\t\t  \"typmodin::pg_catalog.oid AS typmodinoid, \"\n\t\t\t\t\t\t  \"typmodout::pg_catalog.oid AS typmodoutoid, \"\n\t\t\t\t\t\t  \"typanalyze::pg_catalog.oid AS typanalyzeoid, \"\n\t\t\t\t\t\t  \"typcategory, typispreferred, \"\n\t\t\t\t\t\t  \"typdelim, typbyval, typalign, typstorage, \"\n\t\t\t\t\t\t  \"pg_catalog.pg_get_expr(typdefaultbin, 'pg_catalog.pg_type'::pg_catalog.regclass) AS typdefaultbin, typdefault \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_type \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT typlen, \"",
          "new_line_content": "\t/* Set proper schema search path so regproc references list correctly */",
          "content_same": false
        },
        {
          "line": 6192,
          "old_api": "pg_get_expr",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT typlen, \"\n\t\t\t\t\t\t  \"typinput, typoutput, typreceive, typsend, \"\n\t\t\t\t\t\t  \"typmodin, typmodout, typanalyze, \"\n\t\t\t\t\t\t  \"typinput::pg_catalog.oid AS typinputoid, \"\n\t\t\t\t\t\t  \"typoutput::pg_catalog.oid AS typoutputoid, \"\n\t\t\t\t\t\t  \"typreceive::pg_catalog.oid AS typreceiveoid, \"\n\t\t\t\t\t\t  \"typsend::pg_catalog.oid AS typsendoid, \"\n\t\t\t\t\t\t  \"typmodin::pg_catalog.oid AS typmodinoid, \"\n\t\t\t\t\t\t  \"typmodout::pg_catalog.oid AS typmodoutoid, \"\n\t\t\t\t\t\t  \"typanalyze::pg_catalog.oid AS typanalyzeoid, \"\n\t\t\t\t\t\t  \"'U' AS typcategory, false AS typispreferred, \"\n\t\t\t\t\t\t  \"typdelim, typbyval, typalign, typstorage, \"\n\t\t\t\t\t\t  \"pg_catalog.pg_get_expr(typdefaultbin, 'pg_catalog.pg_type'::pg_catalog.regclass) AS typdefaultbin, typdefault \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_type \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT typlen, \"",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_catalog.pg_type \"",
          "content_same": false
        },
        {
          "line": 6211,
          "old_api": "pg_get_expr",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT typlen, \"\n\t\t\t\t\t\t  \"typinput, typoutput, typreceive, typsend, \"\n\t\t\t\t\t\t  \"'-' AS typmodin, '-' AS typmodout, \"\n\t\t\t\t\t\t  \"typanalyze, \"\n\t\t\t\t\t\t  \"typinput::pg_catalog.oid AS typinputoid, \"\n\t\t\t\t\t\t  \"typoutput::pg_catalog.oid AS typoutputoid, \"\n\t\t\t\t\t\t  \"typreceive::pg_catalog.oid AS typreceiveoid, \"\n\t\t\t\t\t\t  \"typsend::pg_catalog.oid AS typsendoid, \"\n\t\t\t\t\t\t  \"0 AS typmodinoid, 0 AS typmodoutoid, \"\n\t\t\t\t\t\t  \"typanalyze::pg_catalog.oid AS typanalyzeoid, \"\n\t\t\t\t\t\t  \"'U' AS typcategory, false AS typispreferred, \"\n\t\t\t\t\t\t  \"typdelim, typbyval, typalign, typstorage, \"\n\t\t\t\t\t\t  \"pg_catalog.pg_get_expr(typdefaultbin, 'pg_catalog.pg_type'::pg_catalog.regclass) AS typdefaultbin, typdefault \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_type \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT typlen, \"",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_catalog.pg_type \"",
          "content_same": false
        },
        {
          "line": 6230,
          "old_api": "pg_get_expr",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT typlen, \"\n\t\t\t\t\t\t  \"typinput, typoutput, typreceive, typsend, \"\n\t\t\t\t\t\t  \"'-' AS typmodin, '-' AS typmodout, \"\n\t\t\t\t\t\t  \"'-' AS typanalyze, \"\n\t\t\t\t\t\t  \"typinput::pg_catalog.oid AS typinputoid, \"\n\t\t\t\t\t\t  \"typoutput::pg_catalog.oid AS typoutputoid, \"\n\t\t\t\t\t\t  \"typreceive::pg_catalog.oid AS typreceiveoid, \"\n\t\t\t\t\t\t  \"typsend::pg_catalog.oid AS typsendoid, \"\n\t\t\t\t\t\t  \"0 AS typmodinoid, 0 AS typmodoutoid, \"\n\t\t\t\t\t\t  \"0 AS typanalyzeoid, \"\n\t\t\t\t\t\t  \"'U' AS typcategory, false AS typispreferred, \"\n\t\t\t\t\t\t  \"typdelim, typbyval, typalign, typstorage, \"\n\t\t\t\t\t\t  \"pg_catalog.pg_get_expr(typdefaultbin, 'pg_catalog.pg_type'::pg_catalog.regclass) AS typdefaultbin, typdefault \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_type \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT typlen, \"",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_catalog.pg_type \"",
          "content_same": false
        },
        {
          "line": 6249,
          "old_api": "pg_get_expr",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT typlen, \"\n\t\t\t\t\t\t  \"typinput, typoutput, \"\n\t\t\t\t\t\t  \"'-' AS typreceive, '-' AS typsend, \"\n\t\t\t\t\t\t  \"'-' AS typmodin, '-' AS typmodout, \"\n\t\t\t\t\t\t  \"'-' AS typanalyze, \"\n\t\t\t\t\t\t  \"typinput::pg_catalog.oid AS typinputoid, \"\n\t\t\t\t\t\t  \"typoutput::pg_catalog.oid AS typoutputoid, \"\n\t\t\t\t\t\t  \"0 AS typreceiveoid, 0 AS typsendoid, \"\n\t\t\t\t\t\t  \"0 AS typmodinoid, 0 AS typmodoutoid, \"\n\t\t\t\t\t\t  \"0 AS typanalyzeoid, \"\n\t\t\t\t\t\t  \"'U' AS typcategory, false AS typispreferred, \"\n\t\t\t\t\t\t  \"typdelim, typbyval, typalign, typstorage, \"\n\t\t\t\t\t\t  \"pg_catalog.pg_get_expr(typdefaultbin, 'pg_catalog.pg_type'::pg_catalog.regclass) AS typdefaultbin, typdefault \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_type \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT typlen, \"",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_catalog.pg_type \"",
          "content_same": false
        },
        {
          "line": 6272,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT typlen, \"\n\t\t\t\t\t\t  \"typinput, typoutput, \"\n\t\t\t\t\t\t  \"'-' AS typreceive, '-' AS typsend, \"\n\t\t\t\t\t\t  \"'-' AS typmodin, '-' AS typmodout, \"\n\t\t\t\t\t\t  \"'-' AS typanalyze, \"\n\t\t\t\t\t\t  \"typinput::oid AS typinputoid, \"\n\t\t\t\t\t\t  \"typoutput::oid AS typoutputoid, \"\n\t\t\t\t\t\t  \"0 AS typreceiveoid, 0 AS typsendoid, \"\n\t\t\t\t\t\t  \"0 AS typmodinoid, 0 AS typmodoutoid, \"\n\t\t\t\t\t\t  \"0 AS typanalyzeoid, \"\n\t\t\t\t\t\t  \"'U' AS typcategory, false AS typispreferred, \"\n\t\t\t\t\t\t  \"typdelim, typbyval, typalign, typstorage, \"\n\t\t\t\t\t\t  \"NULL AS typdefaultbin, typdefault \"\n\t\t\t\t\t\t  \"FROM pg_type \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::oid\",\n\t\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT typlen, \"",
          "new_line_content": "\telse if (fout->remoteVersion >= 70200)",
          "content_same": false
        },
        {
          "line": 6295,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT typlen, \"\n\t\t\t\t\t\t  \"typinput, typoutput, \"\n\t\t\t\t\t\t  \"'-' AS typreceive, '-' AS typsend, \"\n\t\t\t\t\t\t  \"'-' AS typmodin, '-' AS typmodout, \"\n\t\t\t\t\t\t  \"'-' AS typanalyze, \"\n\t\t\t\t\t\t  \"typinput::oid AS typinputoid, \"\n\t\t\t\t\t\t  \"typoutput::oid AS typoutputoid, \"\n\t\t\t\t\t\t  \"0 AS typreceiveoid, 0 AS typsendoid, \"\n\t\t\t\t\t\t  \"0 AS typmodinoid, 0 AS typmodoutoid, \"\n\t\t\t\t\t\t  \"0 AS typanalyzeoid, \"\n\t\t\t\t\t\t  \"'U' AS typcategory, false AS typispreferred, \"\n\t\t\t\t\t\t  \"typdelim, typbyval, typalign, typstorage, \"\n\t\t\t\t\t\t  \"NULL AS typdefaultbin, NULL AS typdefault \"\n\t\t\t\t\t\t  \"FROM pg_type \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::oid\",\n\t\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT typlen, \"",
          "new_line_content": "\telse if (fout->remoteVersion >= 70100)",
          "content_same": false
        },
        {
          "line": 6314,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT typlen, \"\n\t\t\t\t\t\t  \"typinput, typoutput, \"\n\t\t\t\t\t\t  \"'-' AS typreceive, '-' AS typsend, \"\n\t\t\t\t\t\t  \"'-' AS typmodin, '-' AS typmodout, \"\n\t\t\t\t\t\t  \"'-' AS typanalyze, \"\n\t\t\t\t\t\t  \"typinput::oid AS typinputoid, \"\n\t\t\t\t\t\t  \"typoutput::oid AS typoutputoid, \"\n\t\t\t\t\t\t  \"0 AS typreceiveoid, 0 AS typsendoid, \"\n\t\t\t\t\t\t  \"0 AS typmodinoid, 0 AS typmodoutoid, \"\n\t\t\t\t\t\t  \"0 AS typanalyzeoid, \"\n\t\t\t\t\t\t  \"'U' AS typcategory, false AS typispreferred, \"\n\t\t\t\t\t\t  \"typdelim, typbyval, typalign, \"\n\t\t\t\t\t\t  \"'p'::char AS typstorage, \"\n\t\t\t\t\t\t  \"NULL AS typdefaultbin, NULL AS typdefault \"\n\t\t\t\t\t\t  \"FROM pg_type \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::oid\",\n\t\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT typlen, \"",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_type \"",
          "content_same": false
        },
        {
          "line": 6333,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\t\t  \"NULL AS typdefaultbin, NULL AS typdefault \"",
          "content_same": false
        },
        {
          "line": 6334,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_type \"",
          "content_same": false
        },
        {
          "line": 6337,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 6344,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "\tif (ntups != 1)",
          "content_same": false
        },
        {
          "line": 6347,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"typlen\")",
          "new_text": null,
          "old_line_content": "\ttyplen = PQgetvalue(res, 0, PQfnumber(res, \"typlen\"));",
          "new_line_content": "\t\t\t\t\t\t\t\t \"query returned %d rows instead of one: %s\\n\",",
          "content_same": false
        },
        {
          "line": 6348,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"typinput\")",
          "new_text": null,
          "old_line_content": "\ttypinput = PQgetvalue(res, 0, PQfnumber(res, \"typinput\"));",
          "new_line_content": "\t\t\t\t\t\t\t\t ntups),",
          "content_same": false
        },
        {
          "line": 6349,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"typoutput\")",
          "new_text": null,
          "old_line_content": "\ttypoutput = PQgetvalue(res, 0, PQfnumber(res, \"typoutput\"));",
          "new_line_content": "\t\t\t\t  ntups, query->data);",
          "content_same": false
        },
        {
          "line": 6351,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"typsend\")",
          "new_text": null,
          "old_line_content": "\ttypsend = PQgetvalue(res, 0, PQfnumber(res, \"typsend\"));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 6352,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"typmodin\")",
          "new_text": null,
          "old_line_content": "\ttypmodin = PQgetvalue(res, 0, PQfnumber(res, \"typmodin\"));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6384,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"DROP TYPE %s.\",\n\t\t\t\t\t  fmtId(tinfo->dobj.namespace->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \"DROP TYPE %s.\",",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 6385,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.namespace->dobj.name));",
          "new_line_content": "\t * DROP must be fully qualified in case same name appears in pg_catalog.",
          "content_same": false
        },
        {
          "line": 6386,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"%s CASCADE;\\n\",\n\t\t\t\t\t  fmtId(tinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \"%s CASCADE;\\n\",",
          "new_line_content": "\t * The reason we include CASCADE is that the circular dependency between",
          "content_same": false
        },
        {
          "line": 6387,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.name));",
          "new_line_content": "\t * the type and its I/O functions makes it impossible to drop the type any",
          "content_same": false
        },
        {
          "line": 6389,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q,\n\t\t\t\t\t  \"CREATE TYPE %s (\\n\"\n\t\t\t\t\t  \"    INTERNALLENGTH = %s\",\n\t\t\t\t\t  fmtId(tinfo->dobj.name),\n\t\t\t\t\t  (strcmp(typlen, \"-1\") == 0) ? \"variable\" : typlen)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q,",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 6400,
          "old_api": "OidIsValid",
          "new_api": null,
          "old_text": "OidIsValid(typreceiveoid)",
          "new_text": null,
          "old_line_content": "\t\tif (OidIsValid(typreceiveoid))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6401,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \",\\n    RECEIVE = %s\", typreceive)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \",\\n    RECEIVE = %s\", typreceive);",
          "new_line_content": "\tif (fout->remoteVersion >= 70300)",
          "content_same": false
        },
        {
          "line": 6402,
          "old_api": "OidIsValid",
          "new_api": null,
          "old_text": "OidIsValid(typsendoid)",
          "new_text": null,
          "old_line_content": "\t\tif (OidIsValid(typsendoid))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 6403,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \",\\n    SEND = %s\", typsend)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \",\\n    SEND = %s\", typsend);",
          "new_line_content": "\t\t/* regproc result is correctly quoted as of 7.3 */",
          "content_same": false
        },
        {
          "line": 6416,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(typoutput)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \",\\n    OUTPUT = %s\", fmtId(typoutput));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 6424,
          "old_api": "appendStringLiteralAH",
          "new_api": null,
          "old_text": "appendStringLiteralAH(q, typdefault, fout)",
          "new_text": null,
          "old_line_content": "\t\t\tappendStringLiteralAH(q, typdefault, fout);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 6426,
          "old_api": "appendPQExpBufferStr",
          "new_api": null,
          "old_text": "appendPQExpBufferStr(q, typdefault)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBufferStr(q, typdefault);",
          "new_line_content": "\tif (typdefault != NULL)",
          "content_same": false
        },
        {
          "line": 6429,
          "old_api": "OidIsValid",
          "new_api": null,
          "old_text": "OidIsValid(tinfo->typelem)",
          "new_text": null,
          "old_line_content": "\tif (OidIsValid(tinfo->typelem))",
          "new_line_content": "\t\tif (typdefault_is_literal)",
          "content_same": false
        },
        {
          "line": 6434,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(tinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\tselectSourceSchema(tinfo->dobj.namespace->dobj.name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6436,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \",\\n    ELEMENT = %s\", elemType)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \",\\n    ELEMENT = %s\", elemType);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 6437,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(elemType)",
          "new_text": null,
          "old_line_content": "\t\tfree(elemType);",
          "new_line_content": "\t\tchar\t   *elemType;",
          "content_same": false
        },
        {
          "line": 6447,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \",\\n    PREFERRED = true\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \",\\n    PREFERRED = true\");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 6451,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \",\\n    DELIMITER = \")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \",\\n    DELIMITER = \");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6456,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \",\\n    ALIGNMENT = char\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \",\\n    ALIGNMENT = char\");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 6459,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(typalign, \"i\")",
          "new_text": null,
          "old_line_content": "\telse if (strcmp(typalign, \"i\") == 0)",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 6460,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \",\\n    ALIGNMENT = int4\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \",\\n    ALIGNMENT = int4\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6469,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \",\\n    STORAGE = extended\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \",\\n    STORAGE = extended\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6478,
          "old_api": "ArchiveEntry",
          "new_api": null,
          "old_text": "ArchiveEntry(fout, tinfo->dobj.catId, tinfo->dobj.dumpId,\n\t\t\t\t tinfo->dobj.name,\n\t\t\t\t tinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t tinfo->rolname, false,\n\t\t\t\t \"TYPE\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t tinfo->dobj.dependencies, tinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": null,
          "old_line_content": "\tArchiveEntry(fout, tinfo->dobj.catId, tinfo->dobj.dumpId,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6489,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(q);",
          "new_line_content": "\t\t\t\t \"TYPE\", SECTION_PRE_DATA,",
          "content_same": false
        },
        {
          "line": 6491,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"TYPE %s\", fmtId(tinfo->dobj.name));",
          "new_line_content": "\t\t\t\t tinfo->dobj.dependencies, tinfo->dobj.nDeps,",
          "content_same": false
        },
        {
          "line": 6492,
          "old_api": "dumpComment",
          "new_api": null,
          "old_text": "dumpComment(fout, q->data,\n\t\t\t\ttinfo->dobj.namespace->dobj.name, tinfo->rolname,\n\t\t\t\ttinfo->dobj.catId, 0, tinfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\tdumpComment(fout, q->data,",
          "new_line_content": "\t\t\t\t NULL, NULL);",
          "content_same": false
        },
        {
          "line": 6496,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6499,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\t\ttinfo->dobj.namespace->dobj.name, tinfo->rolname,",
          "content_same": false
        },
        {
          "line": 6509,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer q = createPQExpBuffer();",
          "new_line_content": " * dumpDomain",
          "content_same": false
        },
        {
          "line": 6510,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer delq = createPQExpBuffer();",
          "new_line_content": " *\t  writes out to fout the queries to recreate a user-defined domain",
          "content_same": false
        },
        {
          "line": 6511,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 6521,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(tinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(tinfo->dobj.namespace->dobj.name);",
          "new_line_content": "\tchar\t   *typnotnull;",
          "content_same": false
        },
        {
          "line": 6525,
          "old_api": "format_type",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT typnotnull, \"\n\t\t\t\t\"pg_catalog.format_type(typbasetype, typtypmod) AS typdefn, \"\n\t\t\t\t\t  \"pg_catalog.pg_get_expr(typdefaultbin, 'pg_catalog.pg_type'::pg_catalog.regclass) AS typdefaultbin, typdefault \"\n\t\t\t\t\t  \"FROM pg_catalog.pg_type \"\n\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \"SELECT typnotnull, \"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6532,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\"pg_catalog.format_type(typbasetype, typtypmod) AS typdefn, \"",
          "content_same": false
        },
        {
          "line": 6533,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t  \"pg_catalog.pg_get_expr(typdefaultbin, 'pg_catalog.pg_type'::pg_catalog.regclass) AS typdefaultbin, typdefault \"",
          "content_same": false
        },
        {
          "line": 6536,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t  tinfo->dobj.catId.oid);",
          "content_same": false
        },
        {
          "line": 6543,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "\tif (ntups != 1)",
          "content_same": false
        },
        {
          "line": 6546,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"typnotnull\")",
          "new_text": null,
          "old_line_content": "\ttypnotnull = PQgetvalue(res, 0, PQfnumber(res, \"typnotnull\"));",
          "new_line_content": "\t\t\t\t\t\t\t\t \"query returned %d rows instead of one: %s\\n\",",
          "content_same": false
        },
        {
          "line": 6547,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"typdefn\")",
          "new_text": null,
          "old_line_content": "\ttypdefn = PQgetvalue(res, 0, PQfnumber(res, \"typdefn\"));",
          "new_line_content": "\t\t\t\t\t\t\t\t ntups),",
          "content_same": false
        },
        {
          "line": 6548,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"typdefaultbin\")",
          "new_text": null,
          "old_line_content": "\tif (!PQgetisnull(res, 0, PQfnumber(res, \"typdefaultbin\")))",
          "new_line_content": "\t\t\t\t  ntups, query->data);",
          "content_same": false
        },
        {
          "line": 6550,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"typdefault\")",
          "new_text": null,
          "old_line_content": "\telse if (!PQgetisnull(res, 0, PQfnumber(res, \"typdefault\")))",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 6560,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.name),",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 6568,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \" DEFAULT \")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \" DEFAULT \");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6572,
          "old_api": "appendPQExpBufferStr",
          "new_api": null,
          "old_text": "appendPQExpBufferStr(q, typdefault)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBufferStr(q, typdefault);",
          "new_line_content": "\tif (typdefault != NULL)",
          "content_same": false
        },
        {
          "line": 6575,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\tif (typdefault_is_literal)",
          "content_same": false
        },
        {
          "line": 6585,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"\\n\\tCONSTRAINT %s %s\",\n\t\t\t\t\t\t\t  fmtId(domcheck->dobj.name), domcheck->condef)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \"\\n\\tCONSTRAINT %s %s\",",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 6586,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(domcheck->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(domcheck->dobj.name), domcheck->condef);",
          "new_line_content": "\tfor (i = 0; i < tinfo->nDomChecks; i++)",
          "content_same": false
        },
        {
          "line": 6589,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \";\\n\")",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \";\\n\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6594,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"DROP DOMAIN %s.\",\n\t\t\t\t\t  fmtId(tinfo->dobj.namespace->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \"DROP DOMAIN %s.\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6596,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"%s;\\n\",\n\t\t\t\t\t  fmtId(tinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \"%s;\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6597,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.name));",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 6599,
          "old_api": "ArchiveEntry",
          "new_api": null,
          "old_text": "ArchiveEntry(fout, tinfo->dobj.catId, tinfo->dobj.dumpId,\n\t\t\t\t tinfo->dobj.name,\n\t\t\t\t tinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t tinfo->rolname, false,\n\t\t\t\t \"DOMAIN\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t tinfo->dobj.dependencies, tinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": null,
          "old_line_content": "\tArchiveEntry(fout, tinfo->dobj.catId, tinfo->dobj.dumpId,",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 6610,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(q);",
          "new_line_content": "\t\t\t\t \"DOMAIN\", SECTION_PRE_DATA,",
          "content_same": false
        },
        {
          "line": 6612,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"DOMAIN %s\", fmtId(tinfo->dobj.name));",
          "new_line_content": "\t\t\t\t tinfo->dobj.dependencies, tinfo->dobj.nDeps,",
          "content_same": false
        },
        {
          "line": 6613,
          "old_api": "dumpComment",
          "new_api": null,
          "old_text": "dumpComment(fout, q->data,\n\t\t\t\ttinfo->dobj.namespace->dobj.name, tinfo->rolname,\n\t\t\t\ttinfo->dobj.catId, 0, tinfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\tdumpComment(fout, q->data,",
          "new_line_content": "\t\t\t\t NULL, NULL);",
          "content_same": false
        },
        {
          "line": 6617,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6630,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer q = createPQExpBuffer();",
          "new_line_content": " *\t  writes out to fout the queries to recreate a user-defined stand-alone",
          "content_same": false
        },
        {
          "line": 6631,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer delq = createPQExpBuffer();",
          "new_line_content": " *\t  composite type",
          "content_same": false
        },
        {
          "line": 6632,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tPQExpBuffer query = createPQExpBuffer();",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 6640,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(tinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(tinfo->dobj.namespace->dobj.name);",
          "new_line_content": "\tint\t\t\tntups;",
          "content_same": false
        },
        {
          "line": 6645,
          "old_api": "format_type",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT a.attname, \"\n\t\t\t \"pg_catalog.format_type(a.atttypid, a.atttypmod) AS atttypdefn \"\n\t\t\t\t\t  \"FROM pg_catalog.pg_type t, pg_catalog.pg_attribute a \"\n\t\t\t\t\t  \"WHERE t.oid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t  \"AND a.attrelid = t.typrelid \"\n\t\t\t\t\t  \"AND NOT a.attisdropped \"\n\t\t\t\t\t  \"ORDER BY a.attnum \",\n\t\t\t\t\t  tinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(query, \"SELECT a.attname, \"",
          "new_line_content": "\t/* Set proper schema search path so type references list correctly */",
          "content_same": false
        },
        {
          "line": 6654,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\t  \"WHERE t.oid = '%u'::pg_catalog.oid \"",
          "content_same": false
        },
        {
          "line": 6655,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t  \"AND a.attrelid = t.typrelid \"",
          "content_same": false
        },
        {
          "line": 6658,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t\t\t\t\t  tinfo->dobj.catId.oid);",
          "content_same": false
        },
        {
          "line": 6662,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6665,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"attname\")",
          "new_text": null,
          "old_line_content": "\ti_attname = PQfnumber(res, \"attname\");",
          "new_line_content": "\tif (ntups < 1)",
          "content_same": false
        },
        {
          "line": 6666,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"atttypdefn\")",
          "new_text": null,
          "old_line_content": "\ti_atttypdefn = PQfnumber(res, \"atttypdefn\");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 6669,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.name));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 6676,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_attname)",
          "new_text": null,
          "old_line_content": "\t\tattname = PQgetvalue(res, i, i_attname);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6677,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, i, i_atttypdefn)",
          "new_text": null,
          "old_line_content": "\t\tatttypdefn = PQgetvalue(res, i, i_atttypdefn);",
          "new_line_content": "\tfor (i = 0; i < ntups; i++)",
          "content_same": false
        },
        {
          "line": 6679,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(attname)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \"\\n\\t%s %s\", fmtId(attname), atttypdefn);",
          "new_line_content": "\t\tchar\t   *attname;",
          "content_same": false
        },
        {
          "line": 6681,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \",\")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \",\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6688,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"DROP TYPE %s.\",\n\t\t\t\t\t  fmtId(tinfo->dobj.namespace->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \"DROP TYPE %s.\",",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 6690,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"%s;\\n\",\n\t\t\t\t\t  fmtId(tinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \"%s;\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6691,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(tinfo->dobj.name));",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 6693,
          "old_api": "ArchiveEntry",
          "new_api": null,
          "old_text": "ArchiveEntry(fout, tinfo->dobj.catId, tinfo->dobj.dumpId,\n\t\t\t\t tinfo->dobj.name,\n\t\t\t\t tinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t tinfo->rolname, false,\n\t\t\t\t \"TYPE\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delq->data, NULL,\n\t\t\t\t tinfo->dobj.dependencies, tinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": null,
          "old_line_content": "\tArchiveEntry(fout, tinfo->dobj.catId, tinfo->dobj.dumpId,",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 6705,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(q);",
          "new_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "content_same": false
        },
        {
          "line": 6707,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(tinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"TYPE %s\", fmtId(tinfo->dobj.name));",
          "new_line_content": "\t\t\t\t NULL, NULL);",
          "content_same": false
        },
        {
          "line": 6708,
          "old_api": "dumpComment",
          "new_api": null,
          "old_text": "dumpComment(fout, q->data,\n\t\t\t\ttinfo->dobj.namespace->dobj.name, tinfo->rolname,\n\t\t\t\ttinfo->dobj.catId, 0, tinfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\tdumpComment(fout, q->data,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6712,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6715,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\t\ttinfo->dobj.namespace->dobj.name, tinfo->rolname,",
          "content_same": false
        },
        {
          "line": 6733,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tq = createPQExpBuffer();",
          "new_line_content": "\tPQExpBuffer q;",
          "content_same": false
        },
        {
          "line": 6744,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"CREATE TYPE %s;\\n\",\n\t\t\t\t\t  fmtId(stinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"CREATE TYPE %s;\\n\",",
          "new_line_content": "\t * _printTocEntry()'s use of the presence of a DROP command to decide",
          "content_same": false
        },
        {
          "line": 6745,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(stinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(stinfo->dobj.name));",
          "new_line_content": "\t * whether an entry needs an ALTER OWNER command.  We don't want to alter",
          "content_same": false
        },
        {
          "line": 6747,
          "old_api": "ArchiveEntry",
          "new_api": null,
          "old_text": "ArchiveEntry(fout, stinfo->dobj.catId, stinfo->dobj.dumpId,\n\t\t\t\t stinfo->dobj.name,\n\t\t\t\t stinfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t stinfo->baseType->rolname, false,\n\t\t\t\t \"SHELL TYPE\", SECTION_PRE_DATA,\n\t\t\t\t q->data, \"\", NULL,\n\t\t\t\t stinfo->dobj.dependencies, stinfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": null,
          "old_line_content": "\tArchiveEntry(fout, stinfo->dobj.catId, stinfo->dobj.dumpId,",
          "new_line_content": "\t * after it's filled in, otherwise the backend complains.",
          "content_same": false
        },
        {
          "line": 6757,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\t\t\t\t stinfo->baseType->rolname, false,",
          "content_same": false
        },
        {
          "line": 6810,
          "old_api": "findFuncByOid",
          "new_api": null,
          "old_text": "findFuncByOid(plang->lanplcallfoid)",
          "new_text": null,
          "old_line_content": "\tfuncInfo = findFuncByOid(plang->lanplcallfoid);",
          "new_line_content": "\t * find them --- if the functions are in the pg_catalog schema, as is",
          "content_same": false
        },
        {
          "line": 6814,
          "old_api": "OidIsValid",
          "new_api": null,
          "old_text": "OidIsValid(plang->lanvalidator)",
          "new_text": null,
          "old_line_content": "\tif (OidIsValid(plang->lanvalidator))",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 6827,
          "old_api": "OidIsValid",
          "new_api": null,
          "old_text": "OidIsValid(plang->lanvalidator)",
          "new_text": null,
          "old_line_content": "\t\t\t\t (validatorInfo != NULL || !OidIsValid(plang->lanvalidator)));",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 6829,
          "old_api": "shouldDumpProcLangs",
          "new_api": null,
          "old_text": "shouldDumpProcLangs()",
          "new_text": null,
          "old_line_content": "\tif (!useParams && !shouldDumpProcLangs())",
          "new_line_content": "\t * with parameters.  Otherwise, dump only if shouldDumpProcLangs() says to",
          "content_same": false
        },
        {
          "line": 6832,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdefqry = createPQExpBuffer();",
          "new_line_content": "\tuseParams = (funcInfo != NULL &&",
          "content_same": false
        },
        {
          "line": 6847,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delqry, \"DROP PROCEDURAL LANGUAGE %s;\\n\",\n\t\t\t\t\t  qlanname)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delqry, \"DROP PROCEDURAL LANGUAGE %s;\\n\",",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 6850,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(defqry, \"CREATE %sPROCEDURAL LANGUAGE %s\",\n\t\t\t\t\t  (useParams && plang->lanpltrusted) ? \"TRUSTED \" : \"\",\n\t\t\t\t\t  qlanname)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(defqry, \"CREATE %sPROCEDURAL LANGUAGE %s\",",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 6855,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(defqry, \" HANDLER %s\",\n\t\t\t\t\t\t  fmtId(funcInfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(defqry, \" HANDLER %s\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6857,
          "old_api": "OidIsValid",
          "new_api": null,
          "old_text": "OidIsValid(plang->lanvalidator)",
          "new_text": null,
          "old_line_content": "\t\tif (OidIsValid(plang->lanvalidator))",
          "new_line_content": "\t\t\t\t\t  (useParams && plang->lanpltrusted) ? \"TRUSTED \" : \"\",",
          "content_same": false
        },
        {
          "line": 6859,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(defqry, \" VALIDATOR \")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(defqry, \" VALIDATOR \");",
          "new_line_content": "\tif (useParams)",
          "content_same": false
        },
        {
          "line": 6864,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(defqry, \"%s\",\n\t\t\t\t\t\t\t  fmtId(validatorInfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(defqry, \"%s\",",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 6879,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(defqry)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(defqry);",
          "new_line_content": "\t\t\t\t false, \"PROCEDURAL LANGUAGE\", SECTION_PRE_DATA,",
          "content_same": false
        },
        {
          "line": 6880,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(defqry, \"LANGUAGE %s\", qlanname)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(defqry, \"LANGUAGE %s\", qlanname);",
          "new_line_content": "\t\t\t\t defqry->data, delqry->data, NULL,",
          "content_same": false
        },
        {
          "line": 6881,
          "old_api": "dumpComment",
          "new_api": null,
          "old_text": "dumpComment(fout, defqry->data,\n\t\t\t\tNULL, \"\",\n\t\t\t\tplang->dobj.catId, 0, plang->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\tdumpComment(fout, defqry->data,",
          "new_line_content": "\t\t\t\t plang->dobj.dependencies, plang->dobj.nDeps,",
          "content_same": false
        },
        {
          "line": 6891,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(qlanname)",
          "new_text": null,
          "old_line_content": "\tfree(qlanname);",
          "new_line_content": "\tif (plang->lanpltrusted)",
          "content_same": false
        },
        {
          "line": 6893,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(defqry)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(defqry);",
          "new_line_content": "\t\t\t\tqlanname, NULL, plang->dobj.name,",
          "content_same": false
        },
        {
          "line": 6894,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(delqry)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(delqry);",
          "new_line_content": "\t\t\t\tlanschema,",
          "content_same": false
        },
        {
          "line": 6907,
          "old_api": "initPQExpBuffer",
          "new_api": null,
          "old_text": "initPQExpBuffer(&fn)",
          "new_text": null,
          "old_line_content": "\tinitPQExpBuffer(&fn);",
          "new_line_content": " * the argument list.",
          "content_same": false
        },
        {
          "line": 6908,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(finfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(&fn, \"%s(%s)\", fmtId(finfo->dobj.name), funcargs);",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 6932,
          "old_api": "initPQExpBuffer",
          "new_api": null,
          "old_text": "initPQExpBuffer(&fn)",
          "new_text": null,
          "old_line_content": "\tinitPQExpBuffer(&fn);",
          "new_line_content": "\t\t\t\t\t\t\t  char **argmodes,",
          "content_same": false
        },
        {
          "line": 6933,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(finfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(&fn, \"%s(\", fmtId(finfo->dobj.name));",
          "new_line_content": "\t\t\t\t\t\t\t  char **argnames)",
          "content_same": false
        },
        {
          "line": 6941,
          "old_api": "atooid",
          "new_api": null,
          "old_text": "atooid(allargtypes[j])",
          "new_text": null,
          "old_line_content": "\t\ttypid = allargtypes ? atooid(allargtypes[j]) : finfo->argtypes[j];",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 6942,
          "old_api": "getFormattedTypeName",
          "new_api": null,
          "old_text": "getFormattedTypeName(typid, zeroAsOpaque)",
          "new_text": null,
          "old_line_content": "\t\ttypname = getFormattedTypeName(typid, zeroAsOpaque);",
          "new_line_content": "\t\tOid\t\t\ttypid;",
          "content_same": false
        },
        {
          "line": 6958,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"WARNING: bogus value in proargmodes array\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\twrite_msg(NULL, \"WARNING: bogus value in proargmodes array\\n\");",
          "new_line_content": "\t\t\t\t\targmode = \"OUT \";",
          "content_same": false
        },
        {
          "line": 6970,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(&fn, \"%s%s%s%s%s\",\n\t\t\t\t\t\t  (j > 0) ? \", \" : \"\",\n\t\t\t\t\t\t  argmode,\n\t\t\t\t\t\t  argname ? fmtId(argname) : \"\",\n\t\t\t\t\t\t  argname ? \" \" : \"\",\n\t\t\t\t\t\t  typname)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(&fn, \"%s%s%s%s%s\",",
          "new_line_content": "\t\t\targmode = \"\";",
          "content_same": false
        },
        {
          "line": 6973,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(argname)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t  argname ? fmtId(argname) : \"\",",
          "new_line_content": "\t\tif (argname && argname[0] == '\\0')",
          "content_same": false
        },
        {
          "line": 6978,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(&fn, \")\")",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(&fn, \")\");",
          "new_line_content": "\t\t\t\t\t\t  argmode,",
          "content_same": false
        },
        {
          "line": 6998,
          "old_api": "initPQExpBuffer",
          "new_api": null,
          "old_text": "initPQExpBuffer(&fn)",
          "new_text": null,
          "old_line_content": "\tinitPQExpBuffer(&fn);",
          "new_line_content": "static char *",
          "content_same": false
        },
        {
          "line": 7000,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(finfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(&fn, \"%s(\", fmtId(finfo->dobj.name));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 7002,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(&fn, \"%s(\", finfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(&fn, \"%s(\", finfo->dobj.name);",
          "new_line_content": "\tint\t\t\tj;",
          "content_same": false
        },
        {
          "line": 7007,
          "old_api": "getFormattedTypeName",
          "new_api": null,
          "old_text": "getFormattedTypeName(finfo->argtypes[j], zeroAsOpaque)",
          "new_text": null,
          "old_line_content": "\t\ttypname = getFormattedTypeName(finfo->argtypes[j], zeroAsOpaque);",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 7009,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(&fn, \"%s%s\",\n\t\t\t\t\t\t  (j > 0) ? \", \" : \"\",\n\t\t\t\t\t\t  typname)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(&fn, \"%s%s\",",
          "new_line_content": "\tfor (j = 0; j < finfo->nargs; j++)",
          "content_same": false
        },
        {
          "line": 7012,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(typname)",
          "new_text": null,
          "old_line_content": "\t\tfree(typname);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7014,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(&fn, \")\")",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(&fn, \")\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7065,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tquery = createPQExpBuffer();",
          "new_line_content": "\tint\t\t\ti;",
          "content_same": false
        },
        {
          "line": 7066,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tq = createPQExpBuffer();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7067,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdelqry = createPQExpBuffer();",
          "new_line_content": "\t/* Skip if not to be dumped */",
          "content_same": false
        },
        {
          "line": 7068,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tasPart = createPQExpBuffer();",
          "new_line_content": "\tif (!finfo->dobj.dump || dataOnly)",
          "content_same": false
        },
        {
          "line": 7080,
          "old_api": "pg_get_function_arguments",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT proretset, prosrc, probin, \"\n\t\t\t\t\t\t  \"pg_catalog.pg_get_function_arguments(oid) AS funcargs, \"\n\t\t\t\t\t\t  \"pg_catalog.pg_get_function_identity_arguments(oid) AS funciargs, \"\n\t\t\t\t\t\t  \"pg_catalog.pg_get_function_result(oid) AS funcresult, \"\n\t\t\t\t\t\t  \"proiswindow, provolatile, proisstrict, prosecdef, \"\n\t\t\t\t\t\t  \"proconfig, procost, prorows, \"\n\t\t\t\t\t\t  \"(SELECT lanname FROM pg_catalog.pg_language WHERE oid = prolang) AS lanname \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_proc \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  finfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "\tif (g_fout->remoteVersion >= 80400)",
          "content_same": false
        },
        {
          "line": 7094,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT proretset, prosrc, probin, \"\n\t\t\t\t\t\t  \"proallargtypes, proargmodes, proargnames, \"\n\t\t\t\t\t\t  \"false AS proiswindow, \"\n\t\t\t\t\t\t  \"provolatile, proisstrict, prosecdef, \"\n\t\t\t\t\t\t  \"proconfig, procost, prorows, \"\n\t\t\t\t\t\t  \"(SELECT lanname FROM pg_catalog.pg_language WHERE oid = prolang) AS lanname \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_proc \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  finfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_catalog.pg_proc \"",
          "content_same": false
        },
        {
          "line": 7107,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT proretset, prosrc, probin, \"\n\t\t\t\t\t\t  \"proallargtypes, proargmodes, proargnames, \"\n\t\t\t\t\t\t  \"false AS proiswindow, \"\n\t\t\t\t\t\t  \"provolatile, proisstrict, prosecdef, \"\n\t\t\t\t\t\t  \"null AS proconfig, 0 AS procost, 0 AS prorows, \"\n\t\t\t\t\t\t  \"(SELECT lanname FROM pg_catalog.pg_language WHERE oid = prolang) AS lanname \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_proc \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  finfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_catalog.pg_proc \"",
          "content_same": false
        },
        {
          "line": 7120,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT proretset, prosrc, probin, \"\n\t\t\t\t\t\t  \"null AS proallargtypes, \"\n\t\t\t\t\t\t  \"null AS proargmodes, \"\n\t\t\t\t\t\t  \"proargnames, \"\n\t\t\t\t\t\t  \"false AS proiswindow, \"\n\t\t\t\t\t\t  \"provolatile, proisstrict, prosecdef, \"\n\t\t\t\t\t\t  \"null AS proconfig, 0 AS procost, 0 AS prorows, \"\n\t\t\t\t\t\t  \"(SELECT lanname FROM pg_catalog.pg_language WHERE oid = prolang) AS lanname \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_proc \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  finfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_catalog.pg_proc \"",
          "content_same": false
        },
        {
          "line": 7135,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT proretset, prosrc, probin, \"\n\t\t\t\t\t\t  \"null AS proallargtypes, \"\n\t\t\t\t\t\t  \"null AS proargmodes, \"\n\t\t\t\t\t\t  \"null AS proargnames, \"\n\t\t\t\t\t\t  \"false AS proiswindow, \"\n\t\t\t\t\t\t  \"provolatile, proisstrict, prosecdef, \"\n\t\t\t\t\t\t  \"null AS proconfig, 0 AS procost, 0 AS prorows, \"\n\t\t\t\t\t\t  \"(SELECT lanname FROM pg_catalog.pg_language WHERE oid = prolang) AS lanname \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_proc \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  finfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_catalog.pg_proc \"",
          "content_same": false
        },
        {
          "line": 7150,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT proretset, prosrc, probin, \"\n\t\t\t\t\t\t  \"null AS proallargtypes, \"\n\t\t\t\t\t\t  \"null AS proargmodes, \"\n\t\t\t\t\t\t  \"null AS proargnames, \"\n\t\t\t\t\t\t  \"false AS proiswindow, \"\n\t\t\t \"case when proiscachable then 'i' else 'v' end AS provolatile, \"\n\t\t\t\t\t\t  \"proisstrict, \"\n\t\t\t\t\t\t  \"false AS prosecdef, \"\n\t\t\t\t\t\t  \"null AS proconfig, 0 AS procost, 0 AS prorows, \"\n\t\t  \"(SELECT lanname FROM pg_language WHERE oid = prolang) AS lanname \"\n\t\t\t\t\t\t  \"FROM pg_proc \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::oid\",\n\t\t\t\t\t\t  finfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_catalog.pg_proc \"",
          "content_same": false
        },
        {
          "line": 7167,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query,\n\t\t\t\t\t\t  \"SELECT proretset, prosrc, probin, \"\n\t\t\t\t\t\t  \"null AS proallargtypes, \"\n\t\t\t\t\t\t  \"null AS proargmodes, \"\n\t\t\t\t\t\t  \"null AS proargnames, \"\n\t\t\t\t\t\t  \"false AS proiswindow, \"\n\t\t\t \"CASE WHEN proiscachable THEN 'i' ELSE 'v' END AS provolatile, \"\n\t\t\t\t\t\t  \"false AS proisstrict, \"\n\t\t\t\t\t\t  \"false AS prosecdef, \"\n\t\t\t\t\t\t  \"NULL AS proconfig, 0 AS procost, 0 AS prorows, \"\n\t\t  \"(SELECT lanname FROM pg_language WHERE oid = prolang) AS lanname \"\n\t\t\t\t\t\t  \"FROM pg_proc \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::oid\",\n\t\t\t\t\t\t  finfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query,",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_proc \"",
          "content_same": false
        },
        {
          "line": 7183,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t  \"(SELECT lanname FROM pg_language WHERE oid = prolang) AS lanname \"",
          "content_same": false
        },
        {
          "line": 7184,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_proc \"",
          "content_same": false
        },
        {
          "line": 7187,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 7194,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "\tif (ntups != 1)",
          "content_same": false
        },
        {
          "line": 7197,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"proretset\")",
          "new_text": null,
          "old_line_content": "\tproretset = PQgetvalue(res, 0, PQfnumber(res, \"proretset\"));",
          "new_line_content": "\t\t\t\t\t\t\t\t \"query returned %d rows instead of one: %s\\n\",",
          "content_same": false
        },
        {
          "line": 7198,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"prosrc\")",
          "new_text": null,
          "old_line_content": "\tprosrc = PQgetvalue(res, 0, PQfnumber(res, \"prosrc\"));",
          "new_line_content": "\t\t\t\t\t\t\t\t ntups),",
          "content_same": false
        },
        {
          "line": 7199,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"probin\")",
          "new_text": null,
          "old_line_content": "\tprobin = PQgetvalue(res, 0, PQfnumber(res, \"probin\"));",
          "new_line_content": "\t\t\t\t  ntups, query->data);",
          "content_same": false
        },
        {
          "line": 7202,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"funcargs\")",
          "new_text": null,
          "old_line_content": "\t\tfuncargs = PQgetvalue(res, 0, PQfnumber(res, \"funcargs\"));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7211,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"proargnames\")",
          "new_text": null,
          "old_line_content": "\t\tproargnames = PQgetvalue(res, 0, PQfnumber(res, \"proargnames\"));",
          "new_line_content": "\t\tproallargtypes = proargmodes = proargnames = NULL;",
          "content_same": false
        },
        {
          "line": 7214,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"proiswindow\")",
          "new_text": null,
          "old_line_content": "\tproiswindow = PQgetvalue(res, 0, PQfnumber(res, \"proiswindow\"));",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 7218,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"proconfig\")",
          "new_text": null,
          "old_line_content": "\tproconfig = PQgetvalue(res, 0, PQfnumber(res, \"proconfig\"));",
          "new_line_content": "\t\tfuncargs = funciargs = funcresult = NULL;",
          "content_same": false
        },
        {
          "line": 7219,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"procost\")",
          "new_text": null,
          "old_line_content": "\tprocost = PQgetvalue(res, 0, PQfnumber(res, \"procost\"));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 7229,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(probin, \"-\")",
          "new_text": null,
          "old_line_content": "\tif (probin[0] != '\\0' && strcmp(probin, \"-\") != 0)",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 7231,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(asPart, \"AS \")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(asPart, \"AS \");",
          "new_line_content": "\t * is used.  In 8.4 and up, an unused probin is NULL (here \"\"); previous",
          "content_same": false
        },
        {
          "line": 7232,
          "old_api": "appendStringLiteralAH",
          "new_api": null,
          "old_text": "appendStringLiteralAH(asPart, probin, fout)",
          "new_text": null,
          "old_line_content": "\t\tappendStringLiteralAH(asPart, probin, fout);",
          "new_line_content": "\t * versions would set it to \"-\".  There are no known cases in which prosrc",
          "content_same": false
        },
        {
          "line": 7233,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(prosrc, \"-\")",
          "new_text": null,
          "old_line_content": "\t\tif (strcmp(prosrc, \"-\") != 0)",
          "new_line_content": "\t * is unused, so the tests below for \"-\" are probably useless.",
          "content_same": false
        },
        {
          "line": 7242,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(prosrc, '\\\\')",
          "new_text": null,
          "old_line_content": "\t\t\t  (strchr(prosrc, '\\'') == NULL && strchr(prosrc, '\\\\') == NULL))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7243,
          "old_api": "appendStringLiteralAH",
          "new_api": null,
          "old_text": "appendStringLiteralAH(asPart, prosrc, fout)",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendStringLiteralAH(asPart, prosrc, fout);",
          "new_line_content": "\t\t\t/*",
          "content_same": false
        },
        {
          "line": 7245,
          "old_api": "appendStringLiteralDQ",
          "new_api": null,
          "old_text": "appendStringLiteralDQ(asPart, prosrc, NULL)",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendStringLiteralDQ(asPart, prosrc, NULL);",
          "new_line_content": "\t\t\t * contains quote or backslash; else use regular quoting.",
          "content_same": false
        },
        {
          "line": 7250,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(prosrc, \"-\")",
          "new_text": null,
          "old_line_content": "\t\tif (strcmp(prosrc, \"-\") != 0)",
          "new_line_content": "\t\t\telse",
          "content_same": false
        },
        {
          "line": 7252,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(asPart, \"AS \")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(asPart, \"AS \");",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 7255,
          "old_api": "appendStringLiteralAH",
          "new_api": null,
          "old_text": "appendStringLiteralAH(asPart, prosrc, fout)",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendStringLiteralAH(asPart, prosrc, fout);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 7257,
          "old_api": "appendStringLiteralDQ",
          "new_api": null,
          "old_text": "appendStringLiteralDQ(asPart, prosrc, NULL)",
          "new_text": null,
          "old_line_content": "\t\t\t\tappendStringLiteralDQ(asPart, prosrc, NULL);",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 7267,
          "old_api": "parsePGArray",
          "new_api": null,
          "old_text": "parsePGArray(proallargtypes, &allargtypes, &nitems)",
          "new_text": null,
          "old_line_content": "\t\tif (!parsePGArray(proallargtypes, &allargtypes, &nitems) ||",
          "new_line_content": "\tnallargs = finfo->nargs;\t/* unless we learn different from allargs */",
          "content_same": false
        },
        {
          "line": 7270,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"WARNING: could not parse proallargtypes array\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\twrite_msg(NULL, \"WARNING: could not parse proallargtypes array\\n\");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 7272,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(allargtypes)",
          "new_text": null,
          "old_line_content": "\t\t\t\tfree(allargtypes);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7283,
          "old_api": "parsePGArray",
          "new_api": null,
          "old_text": "parsePGArray(proargmodes, &argmodes, &nitems)",
          "new_text": null,
          "old_line_content": "\t\tif (!parsePGArray(proargmodes, &argmodes, &nitems) ||",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 7286,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"WARNING: could not parse proargmodes array\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\twrite_msg(NULL, \"WARNING: could not parse proargmodes array\\n\");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 7288,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(argmodes)",
          "new_text": null,
          "old_line_content": "\t\t\t\tfree(argmodes);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7297,
          "old_api": "parsePGArray",
          "new_api": null,
          "old_text": "parsePGArray(proargnames, &argnames, &nitems)",
          "new_text": null,
          "old_line_content": "\t\tif (!parsePGArray(proargnames, &argnames, &nitems) ||",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 7300,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"WARNING: could not parse proargnames array\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\twrite_msg(NULL, \"WARNING: could not parse proargnames array\\n\");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 7302,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(argnames)",
          "new_text": null,
          "old_line_content": "\t\t\t\tfree(argnames);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7309,
          "old_api": "parsePGArray",
          "new_api": null,
          "old_text": "parsePGArray(proconfig, &configitems, &nconfigitems)",
          "new_text": null,
          "old_line_content": "\t\tif (!parsePGArray(proconfig, &configitems, &nconfigitems))",
          "new_line_content": "\t\t\targnames = NULL;",
          "content_same": false
        },
        {
          "line": 7311,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"WARNING: could not parse proconfig array\\n\")",
          "new_text": null,
          "old_line_content": "\t\t\twrite_msg(NULL, \"WARNING: could not parse proconfig array\\n\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 7313,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(configitems)",
          "new_text": null,
          "old_line_content": "\t\t\t\tfree(configitems);",
          "new_line_content": "\tif (proconfig && *proconfig)",
          "content_same": false
        },
        {
          "line": 7322,
          "old_api": "format_function_arguments",
          "new_api": null,
          "old_text": "format_function_arguments(finfo, funcargs)",
          "new_text": null,
          "old_line_content": "\t\tfuncfullsig = format_function_arguments(finfo, funcargs);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 7323,
          "old_api": "format_function_arguments",
          "new_api": null,
          "old_text": "format_function_arguments(finfo, funciargs)",
          "new_text": null,
          "old_line_content": "\t\tfuncsig = format_function_arguments(finfo, funciargs);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 7333,
          "old_api": "format_function_signature",
          "new_api": null,
          "old_text": "format_function_signature(finfo, false)",
          "new_text": null,
          "old_line_content": "\tfuncsig_tag = format_function_signature(finfo, false);",
          "new_line_content": "\t\t/* pre-8.4, do it ourselves */",
          "content_same": false
        },
        {
          "line": 7338,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delqry, \"DROP FUNCTION %s.%s;\\n\",\n\t\t\t\t\t  fmtId(finfo->dobj.namespace->dobj.name),\n\t\t\t\t\t  funcsig)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delqry, \"DROP FUNCTION %s.%s;\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7342,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"CREATE FUNCTION %s \", funcfullsig)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"CREATE FUNCTION %s \", funcfullsig);",
          "new_line_content": "\t * DROP must be fully qualified in case same name appears in pg_catalog",
          "content_same": false
        },
        {
          "line": 7347,
          "old_api": "getFormattedTypeName",
          "new_api": null,
          "old_text": "getFormattedTypeName(finfo->prorettype, zeroAsOpaque)",
          "new_text": null,
          "old_line_content": "\t\trettypename = getFormattedTypeName(finfo->prorettype, zeroAsOpaque);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7351,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(rettypename)",
          "new_text": null,
          "old_line_content": "\t\tfree(rettypename);",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 7362,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \" IMMUTABLE\")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \" IMMUTABLE\");",
          "new_line_content": "\tif (proiswindow[0] == 't')",
          "content_same": false
        },
        {
          "line": 7364,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \" STABLE\")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \" STABLE\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7367,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"unrecognized provolatile value for function \\\"%s\\\"\\n\",\n\t\t\t\t\t  finfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\twrite_msg(NULL, \"unrecognized provolatile value for function \\\"%s\\\"\\n\",",
          "new_line_content": "\t\tif (provolatile[0] == PROVOLATILE_IMMUTABLE)",
          "content_same": false
        },
        {
          "line": 7369,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\t\t\texit_nicely();",
          "new_line_content": "\t\telse if (provolatile[0] == PROVOLATILE_STABLE)",
          "content_same": false
        },
        {
          "line": 7374,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \" STRICT\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \" STRICT\");",
          "new_line_content": "\t\t\t\t\t  finfo->dobj.name);",
          "content_same": false
        },
        {
          "line": 7377,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \" SECURITY DEFINER\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \" SECURITY DEFINER\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 7384,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(procost, \"0\")",
          "new_text": null,
          "old_line_content": "\tif (strcmp(procost, \"0\") != 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7386,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(lanname, \"c\")",
          "new_text": null,
          "old_line_content": "\t\tif (strcmp(lanname, \"internal\") == 0 || strcmp(lanname, \"c\") == 0)",
          "new_line_content": "\t * COST and ROWS are emitted only if present and not default, so as not to",
          "content_same": false
        },
        {
          "line": 7389,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(procost, \"1\")",
          "new_text": null,
          "old_line_content": "\t\t\tif (strcmp(procost, \"1\") != 0)",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 7400,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(prorows, \"1000\")",
          "new_text": null,
          "old_line_content": "\t\tstrcmp(prorows, \"0\") != 0 && strcmp(prorows, \"1000\") != 0)",
          "new_line_content": "\t\t\t/* default cost is 100 */",
          "content_same": false
        },
        {
          "line": 7409,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(configitem, '=')",
          "new_text": null,
          "old_line_content": "\t\tpos = strchr(configitem, '=');",
          "new_line_content": "\tfor (i = 0; i < nconfigitems; i++)",
          "content_same": false
        },
        {
          "line": 7413,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(configitem)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \"\\n    SET %s TO \", fmtId(configitem));",
          "new_line_content": "\t\tchar\t   *pos;",
          "content_same": false
        },
        {
          "line": 7420,
          "old_api": "pg_strcasecmp",
          "new_api": null,
          "old_text": "pg_strcasecmp(configitem, \"search_path\")",
          "new_text": null,
          "old_line_content": "\t\t\t|| pg_strcasecmp(configitem, \"search_path\") == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7421,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"%s\", pos)",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(q, \"%s\", pos);",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 7423,
          "old_api": "appendStringLiteralAH",
          "new_api": null,
          "old_text": "appendStringLiteralAH(q, pos, fout)",
          "new_text": null,
          "old_line_content": "\t\t\tappendStringLiteralAH(q, pos, fout);",
          "new_line_content": "\t\t * quoted.",
          "content_same": false
        },
        {
          "line": 7428,
          "old_api": "ArchiveEntry",
          "new_api": null,
          "old_text": "ArchiveEntry(fout, finfo->dobj.catId, finfo->dobj.dumpId,\n\t\t\t\t funcsig_tag,\n\t\t\t\t finfo->dobj.namespace->dobj.name,\n\t\t\t\t NULL,\n\t\t\t\t finfo->rolname, false,\n\t\t\t\t \"FUNCTION\", SECTION_PRE_DATA,\n\t\t\t\t q->data, delqry->data, NULL,\n\t\t\t\t finfo->dobj.dependencies, finfo->dobj.nDeps,\n\t\t\t\t NULL, NULL)",
          "new_text": null,
          "old_line_content": "\tArchiveEntry(fout, finfo->dobj.catId, finfo->dobj.dumpId,",
          "new_line_content": "\t\telse",
          "content_same": false
        },
        {
          "line": 7439,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(q);",
          "new_line_content": "\t\t\t\t \"FUNCTION\", SECTION_PRE_DATA,",
          "content_same": false
        },
        {
          "line": 7440,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"FUNCTION %s\", funcsig)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"FUNCTION %s\", funcsig);",
          "new_line_content": "\t\t\t\t q->data, delqry->data, NULL,",
          "content_same": false
        },
        {
          "line": 7441,
          "old_api": "dumpComment",
          "new_api": null,
          "old_text": "dumpComment(fout, q->data,\n\t\t\t\tfinfo->dobj.namespace->dobj.name, finfo->rolname,\n\t\t\t\tfinfo->dobj.catId, 0, finfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\tdumpComment(fout, q->data,",
          "new_line_content": "\t\t\t\t finfo->dobj.dependencies, finfo->dobj.nDeps,",
          "content_same": false
        },
        {
          "line": 7450,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7452,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(query);",
          "new_line_content": "\t\t\tfuncsig, NULL, funcsig_tag,",
          "content_same": false
        },
        {
          "line": 7453,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\t\t\tfinfo->dobj.namespace->dobj.name,",
          "content_same": false
        },
        {
          "line": 7454,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(delqry)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(delqry);",
          "new_line_content": "\t\t\tfinfo->rolname, finfo->proacl);",
          "content_same": false
        },
        {
          "line": 7455,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(asPart)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(asPart);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7457,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(funcsig_tag)",
          "new_text": null,
          "old_line_content": "\tfree(funcsig_tag);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7485,
          "old_api": "OidIsValid",
          "new_api": null,
          "old_text": "OidIsValid(cast->castfunc)",
          "new_text": null,
          "old_line_content": "\tif (OidIsValid(cast->castfunc))",
          "new_line_content": "\tTypeInfo   *sourceInfo;",
          "content_same": false
        },
        {
          "line": 7487,
          "old_api": "findFuncByOid",
          "new_api": null,
          "old_text": "findFuncByOid(cast->castfunc)",
          "new_text": null,
          "old_line_content": "\t\tfuncInfo = findFuncByOid(cast->castfunc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7498,
          "old_api": "findTypeByOid",
          "new_api": null,
          "old_text": "findTypeByOid(cast->castsource)",
          "new_text": null,
          "old_line_content": "\tsourceInfo = findTypeByOid(cast->castsource);",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 7499,
          "old_api": "findTypeByOid",
          "new_api": null,
          "old_text": "findTypeByOid(cast->casttarget)",
          "new_text": null,
          "old_line_content": "\ttargetInfo = findTypeByOid(cast->casttarget);",
          "new_line_content": "\t * As per discussion we dump casts if one or more of the underlying",
          "content_same": false
        },
        {
          "line": 7508,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(funcInfo->dobj.namespace->dobj.name, \"pg_\", 3)",
          "new_text": null,
          "old_line_content": "\t\t strncmp(funcInfo->dobj.namespace->dobj.name, \"pg_\", 3) == 0) &&",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 7509,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(sourceInfo->dobj.namespace->dobj.name, \"pg_\", 3)",
          "new_text": null,
          "old_line_content": "\t\tstrncmp(sourceInfo->dobj.namespace->dobj.name, \"pg_\", 3) == 0 &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7510,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(targetInfo->dobj.namespace->dobj.name, \"pg_\", 3)",
          "new_text": null,
          "old_line_content": "\t\tstrncmp(targetInfo->dobj.namespace->dobj.name, \"pg_\", 3) == 0)",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 7517,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(funcInfo->dobj.namespace->dobj.name, \"pg_\", 3)",
          "new_text": null,
          "old_line_content": "\t\tstrncmp(funcInfo->dobj.namespace->dobj.name, \"pg_\", 3) != 0 &&",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 7524,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(sourceInfo->dobj.namespace->dobj.name, \"pg_\", 3)",
          "new_text": null,
          "old_line_content": "\tif (strncmp(sourceInfo->dobj.namespace->dobj.name, \"pg_\", 3) != 0 &&",
          "new_line_content": "\t\t!funcInfo->dobj.dump)",
          "content_same": false
        },
        {
          "line": 7531,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp(targetInfo->dobj.namespace->dobj.name, \"pg_\", 3)",
          "new_text": null,
          "old_line_content": "\tif (strncmp(targetInfo->dobj.namespace->dobj.name, \"pg_\", 3) != 0 &&",
          "new_line_content": "\t\t!sourceInfo->dobj.dump)",
          "content_same": false
        },
        {
          "line": 7536,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(\"pg_catalog\")",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(\"pg_catalog\");",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 7538,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdefqry = createPQExpBuffer();",
          "new_line_content": "\t\t!targetInfo->dobj.dump)",
          "content_same": false
        },
        {
          "line": 7539,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdelqry = createPQExpBuffer();",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 7540,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tcastsig = createPQExpBuffer();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7543,
          "old_api": "getFormattedTypeName",
          "new_api": null,
          "old_text": "getFormattedTypeName(cast->castsource, zeroAsNone)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  getFormattedTypeName(cast->castsource, zeroAsNone),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7547,
          "old_api": "getFormattedTypeName",
          "new_api": null,
          "old_text": "getFormattedTypeName(cast->castsource, zeroAsNone)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  getFormattedTypeName(cast->castsource, zeroAsNone),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7556,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(defqry, \"WITH INOUT\")",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(defqry, \"WITH INOUT\");",
          "new_line_content": "\tswitch(cast->castmethod)",
          "content_same": false
        },
        {
          "line": 7563,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(defqry, \"WITH FUNCTION %s.\",\n\t\t\t\t\t\t\t  fmtId(funcInfo->dobj.namespace->dobj.name))",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(defqry, \"WITH FUNCTION %s.\",",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 7564,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(funcInfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t  fmtId(funcInfo->dobj.namespace->dobj.name));",
          "new_line_content": "\t\tcase COERCION_METHOD_FUNCTION:",
          "content_same": false
        },
        {
          "line": 7565,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(defqry, \"%s\",\n\t\t\t\t\t\t\t  format_function_signature(funcInfo, true))",
          "new_text": null,
          "old_line_content": "\t\t\tappendPQExpBuffer(defqry, \"%s\",",
          "new_line_content": "\t\t\t/*",
          "content_same": false
        },
        {
          "line": 7566,
          "old_api": "format_function_signature",
          "new_api": null,
          "old_text": "format_function_signature(funcInfo, true)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t  format_function_signature(funcInfo, true));",
          "new_line_content": "\t\t\t * Always qualify the function name, in case it is not in",
          "content_same": false
        },
        {
          "line": 7573,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(defqry, \" AS ASSIGNMENT\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(defqry, \" AS ASSIGNMENT\");",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 7576,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(defqry, \";\\n\")",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(defqry, \";\\n\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 7578,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(castsig, \"CAST (%s AS %s)\",\n\t\t\t\t\t  getFormattedTypeName(cast->castsource, zeroAsNone),\n\t\t\t\t\t  getFormattedTypeName(cast->casttarget, zeroAsNone))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(castsig, \"CAST (%s AS %s)\",",
          "new_line_content": "\tif (cast->castcontext == 'a')",
          "content_same": false
        },
        {
          "line": 7580,
          "old_api": "getFormattedTypeName",
          "new_api": null,
          "old_text": "getFormattedTypeName(cast->casttarget, zeroAsNone)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  getFormattedTypeName(cast->casttarget, zeroAsNone));",
          "new_line_content": "\telse if (cast->castcontext == 'i')",
          "content_same": false
        },
        {
          "line": 7591,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(defqry)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(defqry);",
          "new_line_content": "\t\t\t\t false, \"CAST\", SECTION_PRE_DATA,",
          "content_same": false
        },
        {
          "line": 7592,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(defqry, \"CAST (%s AS %s)\",\n\t\t\t\t\t  getFormattedTypeName(cast->castsource, zeroAsNone),\n\t\t\t\t\t  getFormattedTypeName(cast->casttarget, zeroAsNone))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(defqry, \"CAST (%s AS %s)\",",
          "new_line_content": "\t\t\t\t defqry->data, delqry->data, NULL,",
          "content_same": false
        },
        {
          "line": 7593,
          "old_api": "getFormattedTypeName",
          "new_api": null,
          "old_text": "getFormattedTypeName(cast->castsource, zeroAsNone)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  getFormattedTypeName(cast->castsource, zeroAsNone),",
          "new_line_content": "\t\t\t\t cast->dobj.dependencies, cast->dobj.nDeps,",
          "content_same": false
        },
        {
          "line": 7594,
          "old_api": "getFormattedTypeName",
          "new_api": null,
          "old_text": "getFormattedTypeName(cast->casttarget, zeroAsNone)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  getFormattedTypeName(cast->casttarget, zeroAsNone));",
          "new_line_content": "\t\t\t\t NULL, NULL);",
          "content_same": false
        },
        {
          "line": 7595,
          "old_api": "dumpComment",
          "new_api": null,
          "old_text": "dumpComment(fout, defqry->data,\n\t\t\t\tNULL, \"\",\n\t\t\t\tcast->dobj.catId, 0, cast->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\tdumpComment(fout, defqry->data,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7648,
          "old_api": "OidIsValid",
          "new_api": null,
          "old_text": "OidIsValid(oprinfo->oprcode)",
          "new_text": null,
          "old_line_content": "\tif (!OidIsValid(oprinfo->oprcode))",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 7651,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tquery = createPQExpBuffer();",
          "new_line_content": "\t * some operators are invalid because they were the result of user",
          "content_same": false
        },
        {
          "line": 7652,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tq = createPQExpBuffer();",
          "new_line_content": "\t * defining operators before commutators exist",
          "content_same": false
        },
        {
          "line": 7653,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdelq = createPQExpBuffer();",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 7655,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdetails = createPQExpBuffer();",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 7662,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT oprkind, \"\n\t\t\t\t\t\t  \"oprcode::pg_catalog.regprocedure, \"\n\t\t\t\t\t\t  \"oprleft::pg_catalog.regtype, \"\n\t\t\t\t\t\t  \"oprright::pg_catalog.regtype, \"\n\t\t\t\t\t\t  \"oprcom::pg_catalog.regoperator, \"\n\t\t\t\t\t\t  \"oprnegate::pg_catalog.regoperator, \"\n\t\t\t\t\t\t  \"oprrest::pg_catalog.regprocedure, \"\n\t\t\t\t\t\t  \"oprjoin::pg_catalog.regprocedure, \"\n\t\t\t\t\t\t  \"oprcanmerge, oprcanhash \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_operator \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  oprinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT oprkind, \"",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7677,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT oprkind, \"\n\t\t\t\t\t\t  \"oprcode::pg_catalog.regprocedure, \"\n\t\t\t\t\t\t  \"oprleft::pg_catalog.regtype, \"\n\t\t\t\t\t\t  \"oprright::pg_catalog.regtype, \"\n\t\t\t\t\t\t  \"oprcom::pg_catalog.regoperator, \"\n\t\t\t\t\t\t  \"oprnegate::pg_catalog.regoperator, \"\n\t\t\t\t\t\t  \"oprrest::pg_catalog.regprocedure, \"\n\t\t\t\t\t\t  \"oprjoin::pg_catalog.regprocedure, \"\n\t\t\t\t\t\t  \"(oprlsortop != 0) AS oprcanmerge, \"\n\t\t\t\t\t\t  \"oprcanhash \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_operator \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  oprinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT oprkind, \"",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_catalog.pg_operator \"",
          "content_same": false
        },
        {
          "line": 7693,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT oprkind, oprcode, \"\n\t\t\t\t\t\t  \"CASE WHEN oprleft = 0 THEN '-' \"\n\t\t\t\t\t\t  \"ELSE format_type(oprleft, NULL) END AS oprleft, \"\n\t\t\t\t\t\t  \"CASE WHEN oprright = 0 THEN '-' \"\n\t\t\t\t\t\t  \"ELSE format_type(oprright, NULL) END AS oprright, \"\n\t\t\t\t\t\t  \"oprcom, oprnegate, oprrest, oprjoin, \"\n\t\t\t\t\t\t  \"(oprlsortop != 0) AS oprcanmerge, \"\n\t\t\t\t\t\t  \"oprcanhash \"\n\t\t\t\t\t\t  \"FROM pg_operator \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::oid\",\n\t\t\t\t\t\t  oprinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT oprkind, oprcode, \"",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_catalog.pg_operator \"",
          "content_same": false
        },
        {
          "line": 7707,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT oprkind, oprcode, \"\n\t\t\t\t\t\t  \"CASE WHEN oprleft = 0 THEN '-'::name \"\n\t\t\t\t\t\t  \"ELSE (SELECT typname FROM pg_type WHERE oid = oprleft) END AS oprleft, \"\n\t\t\t\t\t\t  \"CASE WHEN oprright = 0 THEN '-'::name \"\n\t\t\t\t\t\t  \"ELSE (SELECT typname FROM pg_type WHERE oid = oprright) END AS oprright, \"\n\t\t\t\t\t\t  \"oprcom, oprnegate, oprrest, oprjoin, \"\n\t\t\t\t\t\t  \"(oprlsortop != 0) AS oprcanmerge, \"\n\t\t\t\t\t\t  \"oprcanhash \"\n\t\t\t\t\t\t  \"FROM pg_operator \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::oid\",\n\t\t\t\t\t\t  oprinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT oprkind, oprcode, \"",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_operator \"",
          "content_same": false
        },
        {
          "line": 7720,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\t\t  \"oprcanhash \"",
          "content_same": false
        },
        {
          "line": 7721,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_operator \"",
          "content_same": false
        },
        {
          "line": 7724,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 7729,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "\t/* Expecting a single result only */",
          "content_same": false
        },
        {
          "line": 7732,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"oprkind\")",
          "new_text": null,
          "old_line_content": "\ti_oprkind = PQfnumber(res, \"oprkind\");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 7734,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"oprleft\")",
          "new_text": null,
          "old_line_content": "\ti_oprleft = PQfnumber(res, \"oprleft\");",
          "new_line_content": "\t\t\t\t  ntups, query->data);",
          "content_same": false
        },
        {
          "line": 7736,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"oprcom\")",
          "new_text": null,
          "old_line_content": "\ti_oprcom = PQfnumber(res, \"oprcom\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 7737,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"oprnegate\")",
          "new_text": null,
          "old_line_content": "\ti_oprnegate = PQfnumber(res, \"oprnegate\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7748,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, 0, i_oprnegate)",
          "new_text": null,
          "old_line_content": "\toprnegate = PQgetvalue(res, 0, i_oprnegate);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7764,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(oprkind, \"r\")",
          "new_text": null,
          "old_line_content": "\tif (strcmp(oprkind, \"r\") == 0 ||",
          "new_line_content": "\t\t\t\t\t  oprinfo->dobj.name);",
          "content_same": false
        },
        {
          "line": 7765,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(oprkind, \"b\")",
          "new_text": null,
          "old_line_content": "\t\tstrcmp(oprkind, \"b\") == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7772,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(oprid, \"%s\", name)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(oprid, \"%s\", name);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 7775,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(oprid, \"NONE\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(oprid, \"NONE\");",
          "new_line_content": "\t\telse",
          "content_same": false
        },
        {
          "line": 7785,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(oprid, \", %s)\", name)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(oprid, \", %s)\", name);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 7788,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(oprid, \", NONE)\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(oprid, \", NONE)\");",
          "new_line_content": "\t\telse",
          "content_same": false
        },
        {
          "line": 7792,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(details, \",\\n    COMMUTATOR = %s\", name)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(details, \",\\n    COMMUTATOR = %s\", name);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 7799,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(details, \",\\n    MERGES\")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(details, \",\\n    MERGES\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7801,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(oprcanhash, \"t\")",
          "new_text": null,
          "old_line_content": "\tif (strcmp(oprcanhash, \"t\") == 0)",
          "new_line_content": "\tif (name)",
          "content_same": false
        },
        {
          "line": 7806,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(details, \",\\n    RESTRICT = %s\", name)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(details, \",\\n    RESTRICT = %s\", name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7815,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"DROP OPERATOR %s.%s;\\n\",\n\t\t\t\t\t  fmtId(oprinfo->dobj.namespace->dobj.name),\n\t\t\t\t\t  oprid->data)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \"DROP OPERATOR %s.%s;\\n\",",
          "new_line_content": "\tif (name)",
          "content_same": false
        },
        {
          "line": 7819,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"CREATE OPERATOR %s (\\n%s\\n);\\n\",\n\t\t\t\t\t  oprinfo->dobj.name, details->data)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"CREATE OPERATOR %s (\\n%s\\n);\\n\",",
          "new_line_content": "\t * DROP must be fully qualified in case same name appears in pg_catalog",
          "content_same": false
        },
        {
          "line": 7833,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(q);",
          "new_line_content": "\t\t\t\t false, \"OPERATOR\", SECTION_PRE_DATA,",
          "content_same": false
        },
        {
          "line": 7834,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"OPERATOR %s\", oprid->data)",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"OPERATOR %s\", oprid->data);",
          "new_line_content": "\t\t\t\t q->data, delq->data, NULL,",
          "content_same": false
        },
        {
          "line": 7835,
          "old_api": "dumpComment",
          "new_api": null,
          "old_text": "dumpComment(fout, q->data,\n\t\t\t\toprinfo->dobj.namespace->dobj.name, oprinfo->rolname,\n\t\t\t\toprinfo->dobj.catId, 0, oprinfo->dobj.dumpId)",
          "new_text": null,
          "old_line_content": "\tdumpComment(fout, q->data,",
          "new_line_content": "\t\t\t\t oprinfo->dobj.dependencies, oprinfo->dobj.nDeps,",
          "content_same": false
        },
        {
          "line": 7842,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(q)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(q);",
          "new_line_content": "\t\t\t\toprinfo->dobj.namespace->dobj.name, oprinfo->rolname,",
          "content_same": false
        },
        {
          "line": 7843,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(delq)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(delq);",
          "new_line_content": "\t\t\t\toprinfo->dobj.catId, 0, oprinfo->dobj.dumpId);",
          "content_same": false
        },
        {
          "line": 7844,
          "old_api": "destroyPQExpBuffer",
          "new_api": null,
          "old_text": "destroyPQExpBuffer(oprid)",
          "new_text": null,
          "old_line_content": "\tdestroyPQExpBuffer(oprid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7860,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(proc, \"-\")",
          "new_text": null,
          "old_line_content": "\tif (strcmp(proc, \"-\") == 0)",
          "new_line_content": " * argument-types part.  In prior versions, the input is a REGPROC display.",
          "content_same": false
        },
        {
          "line": 7869,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup(proc)",
          "new_text": null,
          "old_line_content": "\t\tname = strdup(proc);",
          "new_line_content": "\tif (g_fout->remoteVersion >= 70300)",
          "content_same": false
        },
        {
          "line": 7886,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(proc)",
          "new_text": null,
          "old_line_content": "\treturn fmtId(proc);",
          "new_line_content": "\t\t\t\tinquote = !inquote;",
          "content_same": false
        },
        {
          "line": 7905,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(opr, \"0\")",
          "new_text": null,
          "old_line_content": "\tif (strcmp(opr, \"0\") == 0)",
          "new_line_content": "static const char *",
          "content_same": false
        },
        {
          "line": 7916,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup(opr)",
          "new_text": null,
          "old_line_content": "\t\tname = strdup(opr);",
          "new_line_content": "\t\tchar\t   *name;",
          "content_same": false
        },
        {
          "line": 7935,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(name)",
          "new_text": null,
          "old_line_content": "\t\toname = malloc(strlen(name) + 11);",
          "new_line_content": "\t\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 7936,
          "old_api": "sprintf",
          "new_api": null,
          "old_text": "sprintf(oname, \"OPERATOR(%s)\", name)",
          "new_text": null,
          "old_line_content": "\t\tsprintf(oname, \"OPERATOR(%s)\", name);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 7937,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(name)",
          "new_text": null,
          "old_line_content": "\t\tfree(name);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 7944,
          "old_api": "write_msg",
          "new_api": null,
          "old_text": "write_msg(NULL, \"WARNING: could not find operator with OID %s\\n\",\n\t\t\t\t  opr)",
          "new_text": null,
          "old_line_content": "\t\twrite_msg(NULL, \"WARNING: could not find operator with OID %s\\n\",",
          "new_line_content": "\t\treturn oname;",
          "content_same": false
        },
        {
          "line": 7967,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(query, sizeof(query),\n\t\t\t \"SELECT '%u'::pg_catalog.regproc\", funcOid)",
          "new_text": null,
          "old_line_content": "\tsnprintf(query, sizeof(query),",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 7969,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query);",
          "new_line_content": "\tchar\t\tquery[128];",
          "content_same": false
        },
        {
          "line": 7970,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query, PGRES_TUPLES_OK);",
          "new_line_content": "\tPGresult   *res;",
          "content_same": false
        },
        {
          "line": 7972,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7977,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 7980,
          "old_api": "PQgetvalue",
          "new_api": null,
          "old_text": "PQgetvalue(res, 0, 0)",
          "new_text": null,
          "old_line_content": "\tresult = strdup(PQgetvalue(res, 0, 0));",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 7982,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t\t\t\t  ntups, query);",
          "content_same": false
        },
        {
          "line": 8037,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tquery = createPQExpBuffer();",
          "new_line_content": "\t * pre-7.3 databases.  This could be done but it seems not worth the",
          "content_same": false
        },
        {
          "line": 8038,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tq = createPQExpBuffer();",
          "new_line_content": "\t * trouble.",
          "content_same": false
        },
        {
          "line": 8039,
          "old_api": "createPQExpBuffer",
          "new_api": null,
          "old_text": "createPQExpBuffer()",
          "new_text": null,
          "old_line_content": "\tdelq = createPQExpBuffer();",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 8042,
          "old_api": "selectSourceSchema",
          "new_api": null,
          "old_text": "selectSourceSchema(opcinfo->dobj.namespace->dobj.name)",
          "new_text": null,
          "old_line_content": "\tselectSourceSchema(opcinfo->dobj.namespace->dobj.name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8047,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT opcintype::pg_catalog.regtype, \"\n\t\t\t\t\t\t  \"opckeytype::pg_catalog.regtype, \"\n\t\t\t\t\t\t  \"opcdefault, \"\n\t\t\t\t\t\t  \"opfname AS opcfamily, \"\n\t\t\t\t\t\t  \"nspname AS opcfamilynsp, \"\n\t\t\t\t\t\t  \"(SELECT amname FROM pg_catalog.pg_am WHERE oid = opcmethod) AS amname \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_opclass c \"\n\t\t\t\t   \"LEFT JOIN pg_catalog.pg_opfamily f ON f.oid = opcfamily \"\n\t\t\t   \"LEFT JOIN pg_catalog.pg_namespace n ON n.oid = opfnamespace \"\n\t\t\t\t\t\t  \"WHERE c.oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  opcinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT opcintype::pg_catalog.regtype, \"",
          "new_line_content": "\t/* Make sure we are in proper schema so regoperator works correctly */",
          "content_same": false
        },
        {
          "line": 8061,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT opcintype::pg_catalog.regtype, \"\n\t\t\t\t\t\t  \"opckeytype::pg_catalog.regtype, \"\n\t\t\t\t\t\t  \"opcdefault, \"\n\t\t\t\t\t\t  \"NULL AS opcfamily, \"\n\t\t\t\t\t\t  \"NULL AS opcfamilynsp, \"\n\t\t\"(SELECT amname FROM pg_catalog.pg_am WHERE oid = opcamid) AS amname \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_opclass \"\n\t\t\t\t\t\t  \"WHERE oid = '%u'::pg_catalog.oid\",\n\t\t\t\t\t\t  opcinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT opcintype::pg_catalog.regtype, \"",
          "new_line_content": "\t\t\t   \"LEFT JOIN pg_catalog.pg_namespace n ON n.oid = opfnamespace \"",
          "content_same": false
        },
        {
          "line": 8072,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\"(SELECT amname FROM pg_catalog.pg_am WHERE oid = opcamid) AS amname \"",
          "content_same": false
        },
        {
          "line": 8073,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_catalog.pg_opclass \"",
          "content_same": false
        },
        {
          "line": 8076,
          "old_api": "PQntuples",
          "new_api": null,
          "old_text": "PQntuples(res)",
          "new_text": null,
          "old_line_content": "\tntups = PQntuples(res);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 8081,
          "old_api": "exit_nicely",
          "new_api": null,
          "old_text": "exit_nicely()",
          "new_text": null,
          "old_line_content": "\t\texit_nicely();",
          "new_line_content": "\t/* Expecting a single result only */",
          "content_same": false
        },
        {
          "line": 8084,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"opcintype\")",
          "new_text": null,
          "old_line_content": "\ti_opcintype = PQfnumber(res, \"opcintype\");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 8086,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"opcdefault\")",
          "new_text": null,
          "old_line_content": "\ti_opcdefault = PQfnumber(res, \"opcdefault\");",
          "new_line_content": "\t\t\t\t  ntups, query->data);",
          "content_same": false
        },
        {
          "line": 8088,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"opcfamilynsp\")",
          "new_text": null,
          "old_line_content": "\ti_opcfamilynsp = PQfnumber(res, \"opcfamilynsp\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 8089,
          "old_api": "PQfnumber",
          "new_api": null,
          "old_text": "PQfnumber(res, \"amname\")",
          "new_text": null,
          "old_line_content": "\ti_amname = PQfnumber(res, \"amname\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8102,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \"DROP OPERATOR CLASS %s\",\n\t\t\t\t\t  fmtId(opcinfo->dobj.namespace->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \"DROP OPERATOR CLASS %s\",",
          "new_line_content": "\t/* amname will still be needed after we PQclear res */",
          "content_same": false
        },
        {
          "line": 8104,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \".%s\",\n\t\t\t\t\t  fmtId(opcinfo->dobj.name))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \".%s\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8105,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(opcinfo->dobj.name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(opcinfo->dobj.name));",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 8106,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(delq, \" USING %s;\\n\",\n\t\t\t\t\t  fmtId(amname))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(delq, \" USING %s;\\n\",",
          "new_line_content": "\t * DROP must be fully qualified in case same name appears in pg_catalog",
          "content_same": false
        },
        {
          "line": 8107,
          "old_api": "fmtId",
          "new_api": null,
          "old_text": "fmtId(amname)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t  fmtId(amname));",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 8114,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \"FOR TYPE %s USING %s\",\n\t\t\t\t\t  opcintype,\n\t\t\t\t\t  fmtId(amname))",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \"FOR TYPE %s USING %s\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8121,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \" FAMILY \")",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(q, \" FAMILY \");",
          "new_line_content": "\t\t\t\t\t  opcintype,",
          "content_same": false
        },
        {
          "line": 8126,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(q, \" AS\\n    \")",
          "new_text": null,
          "old_line_content": "\tappendPQExpBuffer(q, \" AS\\n    \");",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 8137,
          "old_api": "PQclear",
          "new_api": null,
          "old_text": "PQclear(res)",
          "new_text": null,
          "old_line_content": "\tPQclear(res);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 8142,
          "old_api": "resetPQExpBuffer",
          "new_api": null,
          "old_text": "resetPQExpBuffer(query)",
          "new_text": null,
          "old_line_content": "\tresetPQExpBuffer(query);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 8154,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT amopstrategy, false AS amopreqcheck, \"\n\t\t\t\t\t\t  \"amopopr::pg_catalog.regoperator \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_amop ao, pg_catalog.pg_depend \"\n\t\t   \"WHERE refclassid = 'pg_catalog.pg_opclass'::pg_catalog.regclass \"\n\t\t\t\t\t\t  \"AND refobjid = '%u'::pg_catalog.oid \"\n\t\t\t\t   \"AND classid = 'pg_catalog.pg_amop'::pg_catalog.regclass \"\n\t\t\t\t\t\t  \"AND objid = ao.oid \"\n\t\t\t\t\t\t  \"ORDER BY amopstrategy\",\n\t\t\t\t\t\t  opcinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT amopstrategy, false AS amopreqcheck, \"",
          "new_line_content": "\t\t * pg_depend entries.",
          "content_same": false
        },
        {
          "line": 8170,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT amopstrategy, amopreqcheck, \"\n\t\t\t\t\t\t  \"amopopr::pg_catalog.regoperator \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_amop ao, pg_catalog.pg_depend \"\n\t\t   \"WHERE refclassid = 'pg_catalog.pg_opclass'::pg_catalog.regclass \"\n\t\t\t\t\t\t  \"AND refobjid = '%u'::pg_catalog.oid \"\n\t\t\t\t   \"AND classid = 'pg_catalog.pg_amop'::pg_catalog.regclass \"\n\t\t\t\t\t\t  \"AND objid = ao.oid \"\n\t\t\t\t\t\t  \"ORDER BY amopstrategy\",\n\t\t\t\t\t\t  opcinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT amopstrategy, amopreqcheck, \"",
          "new_line_content": "\telse if (g_fout->remoteVersion >= 80300)",
          "content_same": false
        },
        {
          "line": 8182,
          "old_api": "appendPQExpBuffer",
          "new_api": null,
          "old_text": "appendPQExpBuffer(query, \"SELECT amopstrategy, amopreqcheck, \"\n\t\t\t\t\t\t  \"amopopr::pg_catalog.regoperator \"\n\t\t\t\t\t\t  \"FROM pg_catalog.pg_amop \"\n\t\t\t\t\t\t  \"WHERE amopclaid = '%u'::pg_catalog.oid \"\n\t\t\t\t\t\t  \"ORDER BY amopstrategy\",\n\t\t\t\t\t\t  opcinfo->dobj.catId.oid)",
          "new_text": null,
          "old_line_content": "\t\tappendPQExpBuffer(query, \"SELECT amopstrategy, amopreqcheck, \"",
          "new_line_content": "\t\t\t\t\t\t  \"AND objid = ao.oid \"",
          "content_same": false
        },
        {
          "line": 8190,
          "old_api": "PQexec",
          "new_api": null,
          "old_text": "PQexec(g_conn, query->data)",
          "new_text": null,
          "old_line_content": "\tres = PQexec(g_conn, query->data);",
          "new_line_content": "\t\t\t\t\t\t  \"FROM pg_catalog.pg_amop \"",
          "content_same": false
        },
        {
          "line": 8191,
          "old_api": "check_sql_result",
          "new_api": null,
          "old_text": "check_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK)",
          "new_text": null,
          "old_line_content": "\tcheck_sql_result(res, g_conn, query->data, PGRES_TUPLES_OK);",
          "new_line_content": "\t\t\t\t\t\t  \"WHERE amopclaid = '%u'::pg_catalog.oid \"",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 625,
      "total_additions": 1561,
      "total_deletions": 1561,
      "total_api_changes": 3747
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 8,
        "api_related_lines": 3747,
        "non_api_lines": 8,
        "non_api_line_numbers": [
          1998,
          15,
          2000,
          2001,
          1999,
          2002,
          2003,
          2004
        ]
      }
    },
    "api_calls_before": 3215,
    "api_calls_after": 3215,
    "diff_info": {
      "added_lines": 8,
      "removed_lines": 2,
      "total_diff_lines": 29
    }
  }
}