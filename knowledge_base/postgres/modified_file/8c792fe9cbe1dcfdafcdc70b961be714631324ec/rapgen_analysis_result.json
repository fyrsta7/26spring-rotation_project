{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/8c792fe9cbe1dcfdafcdc70b961be714631324ec",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/8c792fe9cbe1dcfdafcdc70b961be714631324ec/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/8c792fe9cbe1dcfdafcdc70b961be714631324ec/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/8c792fe9cbe1dcfdafcdc70b961be714631324ec/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 162,
          "old_api": "MatchText",
          "new_api": "NameStr",
          "old_text": "MatchText(s, slen, p, plen)",
          "new_text": "NameStr(*str)",
          "old_line_content": "\t\tresult = (MatchText(s, slen, p, plen) == LIKE_TRUE);",
          "new_line_content": "\ts = NameStr(*str);",
          "content_same": false
        },
        {
          "line": 164,
          "old_api": "MBMatchText",
          "new_api": "VARDATA",
          "old_text": "MBMatchText(s, slen, p, plen)",
          "new_text": "VARDATA(pat)",
          "old_line_content": "\t\tresult = (MBMatchText(s, slen, p, plen) == LIKE_TRUE);",
          "new_line_content": "\tp = VARDATA(pat);",
          "content_same": false
        },
        {
          "line": 172,
          "old_api": "PG_GETARG_NAME",
          "new_api": "PG_RETURN_BOOL",
          "old_text": "PG_GETARG_NAME(0)",
          "new_text": "PG_RETURN_BOOL(result)",
          "old_line_content": "\tName\t\tstr = PG_GETARG_NAME(0);",
          "new_line_content": "\tPG_RETURN_BOOL(result);",
          "content_same": false
        },
        {
          "line": 186,
          "old_api": "MatchText",
          "new_api": "NameStr",
          "old_text": "MatchText(s, slen, p, plen)",
          "new_text": "NameStr(*str)",
          "old_line_content": "\t\tresult = (MatchText(s, slen, p, plen) != LIKE_TRUE);",
          "new_line_content": "\ts = NameStr(*str);",
          "content_same": false
        },
        {
          "line": 188,
          "old_api": "MBMatchText",
          "new_api": "VARDATA",
          "old_text": "MBMatchText(s, slen, p, plen)",
          "new_text": "VARDATA(pat)",
          "old_line_content": "\t\tresult = (MBMatchText(s, slen, p, plen) != LIKE_TRUE);",
          "new_line_content": "\tp = VARDATA(pat);",
          "content_same": false
        },
        {
          "line": 196,
          "old_api": "PG_GETARG_TEXT_P",
          "new_api": "PG_RETURN_BOOL",
          "old_text": "PG_GETARG_TEXT_P(0)",
          "new_text": "PG_RETURN_BOOL(result)",
          "old_line_content": "\ttext\t   *str = PG_GETARG_TEXT_P(0);",
          "new_line_content": "\tPG_RETURN_BOOL(result);",
          "content_same": false
        },
        {
          "line": 210,
          "old_api": "MatchText",
          "new_api": "VARDATA",
          "old_text": "MatchText(s, slen, p, plen)",
          "new_text": "VARDATA(str)",
          "old_line_content": "\t\tresult = (MatchText(s, slen, p, plen) == LIKE_TRUE);",
          "new_line_content": "\ts = VARDATA(str);",
          "content_same": false
        },
        {
          "line": 212,
          "old_api": "MBMatchText",
          "new_api": "VARDATA",
          "old_text": "MBMatchText(s, slen, p, plen)",
          "new_text": "VARDATA(pat)",
          "old_line_content": "\t\tresult = (MBMatchText(s, slen, p, plen) == LIKE_TRUE);",
          "new_line_content": "\tp = VARDATA(pat);",
          "content_same": false
        },
        {
          "line": 220,
          "old_api": "PG_GETARG_TEXT_P",
          "new_api": "PG_RETURN_BOOL",
          "old_text": "PG_GETARG_TEXT_P(0)",
          "new_text": "PG_RETURN_BOOL(result)",
          "old_line_content": "\ttext\t   *str = PG_GETARG_TEXT_P(0);",
          "new_line_content": "\tPG_RETURN_BOOL(result);",
          "content_same": false
        },
        {
          "line": 234,
          "old_api": "MatchText",
          "new_api": "VARDATA",
          "old_text": "MatchText(s, slen, p, plen)",
          "new_text": "VARDATA(str)",
          "old_line_content": "\t\tresult = (MatchText(s, slen, p, plen) != LIKE_TRUE);",
          "new_line_content": "\ts = VARDATA(str);",
          "content_same": false
        },
        {
          "line": 236,
          "old_api": "MBMatchText",
          "new_api": "VARDATA",
          "old_text": "MBMatchText(s, slen, p, plen)",
          "new_text": "VARDATA(pat)",
          "old_line_content": "\t\tresult = (MBMatchText(s, slen, p, plen) != LIKE_TRUE);",
          "new_line_content": "\tp = VARDATA(pat);",
          "content_same": false
        },
        {
          "line": 244,
          "old_api": "PG_GETARG_BYTEA_P",
          "new_api": "PG_RETURN_BOOL",
          "old_text": "PG_GETARG_BYTEA_P(0)",
          "new_text": "PG_RETURN_BOOL(result)",
          "old_line_content": "\tbytea\t   *str = PG_GETARG_BYTEA_P(0);",
          "new_line_content": "\tPG_RETURN_BOOL(result);",
          "content_same": false
        },
        {
          "line": 259,
          "old_api": "PG_RETURN_BOOL",
          "new_api": "VARSIZE",
          "old_text": "PG_RETURN_BOOL(result)",
          "new_text": "VARSIZE(str)",
          "old_line_content": "\tPG_RETURN_BOOL(result);",
          "new_line_content": "\tslen = (VARSIZE(str) - VARHDRSZ);",
          "content_same": false
        },
        {
          "line": 265,
          "old_api": "PG_GETARG_BYTEA_P",
          "new_api": "PG_RETURN_BOOL",
          "old_text": "PG_GETARG_BYTEA_P(0)",
          "new_text": "PG_RETURN_BOOL(result)",
          "old_line_content": "\tbytea\t   *str = PG_GETARG_BYTEA_P(0);",
          "new_line_content": "\tPG_RETURN_BOOL(result);",
          "content_same": false
        },
        {
          "line": 280,
          "old_api": "PG_RETURN_BOOL",
          "new_api": "VARSIZE",
          "old_text": "PG_RETURN_BOOL(result)",
          "new_text": "VARSIZE(str)",
          "old_line_content": "\tPG_RETURN_BOOL(result);",
          "new_line_content": "\tslen = (VARSIZE(str) - VARHDRSZ);",
          "content_same": false
        },
        {
          "line": 304,
          "old_api": "MatchTextIC",
          "new_api": "NameStr",
          "old_text": "MatchTextIC(s, slen, p, plen)",
          "new_text": "NameStr(*str)",
          "old_line_content": "\t\tresult = (MatchTextIC(s, slen, p, plen) == LIKE_TRUE);",
          "new_line_content": "\ts = NameStr(*str);",
          "content_same": false
        },
        {
          "line": 306,
          "old_api": "MBMatchTextIC",
          "new_api": "VARDATA",
          "old_text": "MBMatchTextIC(s, slen, p, plen)",
          "new_text": "VARDATA(pat)",
          "old_line_content": "\t\tresult = (MBMatchTextIC(s, slen, p, plen) == LIKE_TRUE);",
          "new_line_content": "\tp = VARDATA(pat);",
          "content_same": false
        },
        {
          "line": 314,
          "old_api": "PG_GETARG_NAME",
          "new_api": "PG_RETURN_BOOL",
          "old_text": "PG_GETARG_NAME(0)",
          "new_text": "PG_RETURN_BOOL(result)",
          "old_line_content": "\tName\t\tstr = PG_GETARG_NAME(0);",
          "new_line_content": "\tPG_RETURN_BOOL(result);",
          "content_same": false
        },
        {
          "line": 328,
          "old_api": "MatchTextIC",
          "new_api": "NameStr",
          "old_text": "MatchTextIC(s, slen, p, plen)",
          "new_text": "NameStr(*str)",
          "old_line_content": "\t\tresult = (MatchTextIC(s, slen, p, plen) != LIKE_TRUE);",
          "new_line_content": "\ts = NameStr(*str);",
          "content_same": false
        },
        {
          "line": 330,
          "old_api": "MBMatchTextIC",
          "new_api": "VARDATA",
          "old_text": "MBMatchTextIC(s, slen, p, plen)",
          "new_text": "VARDATA(pat)",
          "old_line_content": "\t\tresult = (MBMatchTextIC(s, slen, p, plen) != LIKE_TRUE);",
          "new_line_content": "\tp = VARDATA(pat);",
          "content_same": false
        },
        {
          "line": 338,
          "old_api": "PG_GETARG_TEXT_P",
          "new_api": "PG_RETURN_BOOL",
          "old_text": "PG_GETARG_TEXT_P(0)",
          "new_text": "PG_RETURN_BOOL(result)",
          "old_line_content": "\ttext\t   *str = PG_GETARG_TEXT_P(0);",
          "new_line_content": "\tPG_RETURN_BOOL(result);",
          "content_same": false
        },
        {
          "line": 352,
          "old_api": "MatchTextIC",
          "new_api": "VARDATA",
          "old_text": "MatchTextIC(s, slen, p, plen)",
          "new_text": "VARDATA(str)",
          "old_line_content": "\t\tresult = (MatchTextIC(s, slen, p, plen) == LIKE_TRUE);",
          "new_line_content": "\ts = VARDATA(str);",
          "content_same": false
        },
        {
          "line": 354,
          "old_api": "MBMatchTextIC",
          "new_api": "VARDATA",
          "old_text": "MBMatchTextIC(s, slen, p, plen)",
          "new_text": "VARDATA(pat)",
          "old_line_content": "\t\tresult = (MBMatchTextIC(s, slen, p, plen) == LIKE_TRUE);",
          "new_line_content": "\tp = VARDATA(pat);",
          "content_same": false
        },
        {
          "line": 362,
          "old_api": "PG_GETARG_TEXT_P",
          "new_api": "PG_RETURN_BOOL",
          "old_text": "PG_GETARG_TEXT_P(0)",
          "new_text": "PG_RETURN_BOOL(result)",
          "old_line_content": "\ttext\t   *str = PG_GETARG_TEXT_P(0);",
          "new_line_content": "\tPG_RETURN_BOOL(result);",
          "content_same": false
        },
        {
          "line": 376,
          "old_api": "MatchTextIC",
          "new_api": "VARDATA",
          "old_text": "MatchTextIC(s, slen, p, plen)",
          "new_text": "VARDATA(str)",
          "old_line_content": "\t\tresult = (MatchTextIC(s, slen, p, plen) != LIKE_TRUE);",
          "new_line_content": "\ts = VARDATA(str);",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": "MBMatchTextIC",
          "new_api": "VARDATA",
          "old_text": "MBMatchTextIC(s, slen, p, plen)",
          "new_text": "VARDATA(pat)",
          "old_line_content": "\t\tresult = (MBMatchTextIC(s, slen, p, plen) != LIKE_TRUE);",
          "new_line_content": "\tp = VARDATA(pat);",
          "content_same": false
        },
        {
          "line": 397,
          "old_api": "MB_do_like_escape",
          "new_api": "PG_GETARG_TEXT_P",
          "old_text": "MB_do_like_escape(pat, esc)",
          "new_text": "PG_GETARG_TEXT_P(1)",
          "old_line_content": "\t\tresult = MB_do_like_escape(pat, esc);",
          "new_line_content": "\ttext\t   *esc = PG_GETARG_TEXT_P(1);",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": "palloc",
          "new_api": "VARSIZE",
          "old_text": "palloc(plen * 2 + VARHDRSZ)",
          "new_text": "VARSIZE(esc)",
          "old_line_content": "\tresult = (text *) palloc(plen * 2 + VARHDRSZ);",
          "new_line_content": "\telen = (VARSIZE(esc) - VARHDRSZ);",
          "content_same": false
        },
        {
          "line": 497,
          "old_api": "VARATT_SIZEP",
          "new_api": "BYTEA_CopyAdvChar",
          "old_text": "VARATT_SIZEP(result)",
          "new_text": "BYTEA_CopyAdvChar(r, p, plen)",
          "old_line_content": "\tVARATT_SIZEP(result) = r - ((unsigned char *) result);",
          "new_line_content": "\t\t\t\tBYTEA_CopyAdvChar(r, p, plen);",
          "content_same": false
        },
        {
          "line": 549,
          "old_api": "BYTEA_NextChar",
          "new_api": "MatchBytea",
          "old_text": "BYTEA_NextChar(t, tlen)",
          "new_text": "MatchBytea(t, tlen, p, plen)",
          "old_line_content": "\t\t\t\tBYTEA_NextChar(t, tlen);",
          "new_line_content": "\t\t\t\t\tint\t\t\tmatched = MatchBytea(t, tlen, p, plen);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 523,
          "old_api": null,
          "new_api": "BYTEA_NextChar",
          "old_text": null,
          "new_text": "BYTEA_NextChar(p, plen)",
          "old_line_content": "\t\t\t/* %% is the same as % according to the SQL standard */",
          "new_line_content": "\t\t\tBYTEA_NextChar(p, plen);",
          "content_same": false
        },
        {
          "line": 524,
          "old_api": null,
          "new_api": "BYTEA_CHAREQ",
          "old_text": null,
          "new_text": "BYTEA_CHAREQ(t, p)",
          "old_line_content": "\t\t\t/* Advance past all %'s */",
          "new_line_content": "\t\t\tif ((plen <= 0) || !BYTEA_CHAREQ(t, p))",
          "content_same": false
        },
        {
          "line": 532,
          "old_api": null,
          "new_api": "BYTEA_NextChar",
          "old_text": null,
          "new_text": "BYTEA_NextChar(p, plen)",
          "old_line_content": "\t\t\t * Otherwise, scan for a text position at which we can match",
          "new_line_content": "\t\t\t\tBYTEA_NextChar(p, plen);",
          "content_same": false
        },
        {
          "line": 547,
          "old_api": null,
          "new_api": "BYTEA_CHAREQ",
          "old_text": null,
          "new_text": "BYTEA_CHAREQ(t, p)",
          "old_line_content": "\t\t\t\t}",
          "new_line_content": "\t\t\t\tif (BYTEA_CHAREQ(t, p) || (*p == '\\\\') || (*p == '_'))",
          "content_same": false
        },
        {
          "line": 555,
          "old_api": null,
          "new_api": "BYTEA_NextChar",
          "old_text": null,
          "new_text": "BYTEA_NextChar(t, tlen)",
          "old_line_content": "\t\t\t */",
          "new_line_content": "\t\t\t\tBYTEA_NextChar(t, tlen);",
          "content_same": false
        },
        {
          "line": 564,
          "old_api": null,
          "new_api": "BYTEA_CHAREQ",
          "old_text": null,
          "new_text": "BYTEA_CHAREQ(t, p)",
          "old_line_content": "\t\t\treturn LIKE_FALSE;",
          "new_line_content": "\t\telse if ((*p != '_') && !BYTEA_CHAREQ(t, p))",
          "content_same": false
        },
        {
          "line": 59,
          "old_api": null,
          "new_api": "pg_mblen",
          "old_text": null,
          "new_text": "pg_mblen(p1)",
          "old_line_content": "\t{",
          "new_line_content": "\tp1_len = pg_mblen(p1);",
          "content_same": false
        },
        {
          "line": 60,
          "old_api": null,
          "new_api": "pg_mblen",
          "old_text": null,
          "new_text": "pg_mblen(p2)",
          "old_line_content": "\t\tif (*p1++ != *p2++)",
          "new_line_content": "\tif (pg_mblen(p2) != p1_len)",
          "content_same": false
        },
        {
          "line": 573,
          "old_api": null,
          "new_api": "BYTEA_NextChar",
          "old_text": null,
          "new_text": "BYTEA_NextChar(t, tlen)",
          "old_line_content": "",
          "new_line_content": "\t\tBYTEA_NextChar(t, tlen);",
          "content_same": false
        },
        {
          "line": 574,
          "old_api": null,
          "new_api": "BYTEA_NextChar",
          "old_text": null,
          "new_text": "BYTEA_NextChar(p, plen)",
          "old_line_content": "\t/* End of input string.  Do we have matching pattern remaining? */",
          "new_line_content": "\t\tBYTEA_NextChar(p, plen);",
          "content_same": false
        },
        {
          "line": 583,
          "old_api": null,
          "new_api": "BYTEA_NextChar",
          "old_text": null,
          "new_text": "BYTEA_NextChar(p, plen)",
          "old_line_content": "\t * start matching this pattern.",
          "new_line_content": "\t\tBYTEA_NextChar(p, plen);",
          "content_same": false
        },
        {
          "line": 92,
          "old_api": null,
          "new_api": "tolower",
          "old_text": null,
          "new_text": "tolower(*p2)",
          "old_line_content": "\telse if (*p1 < CHARMAX || *p2 < CHARMAX)",
          "new_line_content": "\t\treturn (tolower(*p1) == tolower(*p2));",
          "content_same": false
        },
        {
          "line": 105,
          "old_api": null,
          "new_api": "pg_mblen",
          "old_text": null,
          "new_text": "pg_mblen(p1)",
          "old_line_content": "\treturn (c1[0] == c2[0]);",
          "new_line_content": "\tl = pg_mblen(p1);",
          "content_same": false
        },
        {
          "line": 106,
          "old_api": null,
          "new_api": "pg_mb2wchar_with_len",
          "old_text": null,
          "new_text": "pg_mb2wchar_with_len(p1, (pg_wchar *) c1, l)",
          "old_line_content": "}",
          "new_line_content": "\t(void) pg_mb2wchar_with_len(p1, (pg_wchar *) c1, l);",
          "content_same": false
        },
        {
          "line": 107,
          "old_api": null,
          "new_api": "tolower",
          "old_text": null,
          "new_text": "tolower(c1[0])",
          "old_line_content": "",
          "new_line_content": "\tc1[0] = tolower(c1[0]);",
          "content_same": false
        },
        {
          "line": 108,
          "old_api": null,
          "new_api": "pg_mblen",
          "old_text": null,
          "new_text": "pg_mblen(p2)",
          "old_line_content": "#define CHAREQ(p1, p2) wchareq(p1, p2)",
          "new_line_content": "\tl = pg_mblen(p2);",
          "content_same": false
        },
        {
          "line": 109,
          "old_api": null,
          "new_api": "pg_mb2wchar_with_len",
          "old_text": null,
          "new_text": "pg_mb2wchar_with_len(p2, (pg_wchar *) c2, l)",
          "old_line_content": "#define ICHAREQ(p1, p2) iwchareq(p1, p2)",
          "new_line_content": "\t(void) pg_mb2wchar_with_len(p2, (pg_wchar *) c2, l);",
          "content_same": false
        },
        {
          "line": 110,
          "old_api": null,
          "new_api": "tolower",
          "old_text": null,
          "new_text": "tolower(c2[0])",
          "old_line_content": "#define NextChar(p, plen) \\",
          "new_line_content": "\tc2[0] = tolower(c2[0]);",
          "content_same": false
        },
        {
          "line": 154,
          "old_api": null,
          "new_api": "PG_GETARG_NAME",
          "old_text": null,
          "new_text": "PG_GETARG_NAME(0)",
          "old_line_content": "\t\t\t\tplen;",
          "new_line_content": "\tName\t\tstr = PG_GETARG_NAME(0);",
          "content_same": false
        },
        {
          "line": 155,
          "old_api": null,
          "new_api": "PG_GETARG_TEXT_P",
          "old_text": null,
          "new_text": "PG_GETARG_TEXT_P(1)",
          "old_line_content": "",
          "new_line_content": "\ttext\t   *pat = PG_GETARG_TEXT_P(1);",
          "content_same": false
        },
        {
          "line": 163,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(s)",
          "old_line_content": "\telse",
          "new_line_content": "\tslen = strlen(s);",
          "content_same": false
        },
        {
          "line": 165,
          "old_api": null,
          "new_api": "VARSIZE",
          "old_text": null,
          "new_text": "VARSIZE(pat)",
          "old_line_content": "",
          "new_line_content": "\tplen = (VARSIZE(pat) - VARHDRSZ);",
          "content_same": false
        },
        {
          "line": 167,
          "old_api": null,
          "new_api": "pg_database_encoding_max_length",
          "old_text": null,
          "new_text": "pg_database_encoding_max_length()",
          "old_line_content": "}",
          "new_line_content": "\tif (pg_database_encoding_max_length() == 1)",
          "content_same": false
        },
        {
          "line": 168,
          "old_api": null,
          "new_api": "MatchText",
          "old_text": null,
          "new_text": "MatchText(s, slen, p, plen)",
          "old_line_content": "",
          "new_line_content": "\t\tresult = (MatchText(s, slen, p, plen) == LIKE_TRUE);",
          "content_same": false
        },
        {
          "line": 170,
          "old_api": null,
          "new_api": "MBMatchText",
          "old_text": null,
          "new_text": "MBMatchText(s, slen, p, plen)",
          "old_line_content": "namenlike(PG_FUNCTION_ARGS)",
          "new_line_content": "\t\tresult = (MBMatchText(s, slen, p, plen) == LIKE_TRUE);",
          "content_same": false
        },
        {
          "line": 178,
          "old_api": null,
          "new_api": "PG_GETARG_NAME",
          "old_text": null,
          "new_text": "PG_GETARG_NAME(0)",
          "old_line_content": "\t\t\t\tplen;",
          "new_line_content": "\tName\t\tstr = PG_GETARG_NAME(0);",
          "content_same": false
        },
        {
          "line": 179,
          "old_api": null,
          "new_api": "PG_GETARG_TEXT_P",
          "old_text": null,
          "new_text": "PG_GETARG_TEXT_P(1)",
          "old_line_content": "",
          "new_line_content": "\ttext\t   *pat = PG_GETARG_TEXT_P(1);",
          "content_same": false
        },
        {
          "line": 187,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(s)",
          "old_line_content": "\telse",
          "new_line_content": "\tslen = strlen(s);",
          "content_same": false
        },
        {
          "line": 189,
          "old_api": null,
          "new_api": "VARSIZE",
          "old_text": null,
          "new_text": "VARSIZE(pat)",
          "old_line_content": "",
          "new_line_content": "\tplen = (VARSIZE(pat) - VARHDRSZ);",
          "content_same": false
        },
        {
          "line": 191,
          "old_api": null,
          "new_api": "pg_database_encoding_max_length",
          "old_text": null,
          "new_text": "pg_database_encoding_max_length()",
          "old_line_content": "}",
          "new_line_content": "\tif (pg_database_encoding_max_length() == 1)",
          "content_same": false
        },
        {
          "line": 192,
          "old_api": null,
          "new_api": "MatchText",
          "old_text": null,
          "new_text": "MatchText(s, slen, p, plen)",
          "old_line_content": "",
          "new_line_content": "\t\tresult = (MatchText(s, slen, p, plen) != LIKE_TRUE);",
          "content_same": false
        },
        {
          "line": 194,
          "old_api": null,
          "new_api": "MBMatchText",
          "old_text": null,
          "new_text": "MBMatchText(s, slen, p, plen)",
          "old_line_content": "textlike(PG_FUNCTION_ARGS)",
          "new_line_content": "\t\tresult = (MBMatchText(s, slen, p, plen) != LIKE_TRUE);",
          "content_same": false
        },
        {
          "line": 202,
          "old_api": null,
          "new_api": "PG_GETARG_TEXT_P",
          "old_text": null,
          "new_text": "PG_GETARG_TEXT_P(0)",
          "old_line_content": "\t\t\t\tplen;",
          "new_line_content": "\ttext\t   *str = PG_GETARG_TEXT_P(0);",
          "content_same": false
        },
        {
          "line": 203,
          "old_api": null,
          "new_api": "PG_GETARG_TEXT_P",
          "old_text": null,
          "new_text": "PG_GETARG_TEXT_P(1)",
          "old_line_content": "",
          "new_line_content": "\ttext\t   *pat = PG_GETARG_TEXT_P(1);",
          "content_same": false
        },
        {
          "line": 211,
          "old_api": null,
          "new_api": "VARSIZE",
          "old_text": null,
          "new_text": "VARSIZE(str)",
          "old_line_content": "\telse",
          "new_line_content": "\tslen = (VARSIZE(str) - VARHDRSZ);",
          "content_same": false
        },
        {
          "line": 213,
          "old_api": null,
          "new_api": "VARSIZE",
          "old_text": null,
          "new_text": "VARSIZE(pat)",
          "old_line_content": "",
          "new_line_content": "\tplen = (VARSIZE(pat) - VARHDRSZ);",
          "content_same": false
        },
        {
          "line": 215,
          "old_api": null,
          "new_api": "pg_database_encoding_max_length",
          "old_text": null,
          "new_text": "pg_database_encoding_max_length()",
          "old_line_content": "}",
          "new_line_content": "\tif (pg_database_encoding_max_length() == 1)",
          "content_same": false
        },
        {
          "line": 216,
          "old_api": null,
          "new_api": "MatchText",
          "old_text": null,
          "new_text": "MatchText(s, slen, p, plen)",
          "old_line_content": "",
          "new_line_content": "\t\tresult = (MatchText(s, slen, p, plen) == LIKE_TRUE);",
          "content_same": false
        },
        {
          "line": 218,
          "old_api": null,
          "new_api": "MBMatchText",
          "old_text": null,
          "new_text": "MBMatchText(s, slen, p, plen)",
          "old_line_content": "textnlike(PG_FUNCTION_ARGS)",
          "new_line_content": "\t\tresult = (MBMatchText(s, slen, p, plen) == LIKE_TRUE);",
          "content_same": false
        },
        {
          "line": 226,
          "old_api": null,
          "new_api": "PG_GETARG_TEXT_P",
          "old_text": null,
          "new_text": "PG_GETARG_TEXT_P(0)",
          "old_line_content": "\t\t\t\tplen;",
          "new_line_content": "\ttext\t   *str = PG_GETARG_TEXT_P(0);",
          "content_same": false
        },
        {
          "line": 227,
          "old_api": null,
          "new_api": "PG_GETARG_TEXT_P",
          "old_text": null,
          "new_text": "PG_GETARG_TEXT_P(1)",
          "old_line_content": "",
          "new_line_content": "\ttext\t   *pat = PG_GETARG_TEXT_P(1);",
          "content_same": false
        },
        {
          "line": 235,
          "old_api": null,
          "new_api": "VARSIZE",
          "old_text": null,
          "new_text": "VARSIZE(str)",
          "old_line_content": "\telse",
          "new_line_content": "\tslen = (VARSIZE(str) - VARHDRSZ);",
          "content_same": false
        },
        {
          "line": 237,
          "old_api": null,
          "new_api": "VARSIZE",
          "old_text": null,
          "new_text": "VARSIZE(pat)",
          "old_line_content": "",
          "new_line_content": "\tplen = (VARSIZE(pat) - VARHDRSZ);",
          "content_same": false
        },
        {
          "line": 239,
          "old_api": null,
          "new_api": "pg_database_encoding_max_length",
          "old_text": null,
          "new_text": "pg_database_encoding_max_length()",
          "old_line_content": "}",
          "new_line_content": "\tif (pg_database_encoding_max_length() == 1)",
          "content_same": false
        },
        {
          "line": 240,
          "old_api": null,
          "new_api": "MatchText",
          "old_text": null,
          "new_text": "MatchText(s, slen, p, plen)",
          "old_line_content": "",
          "new_line_content": "\t\tresult = (MatchText(s, slen, p, plen) != LIKE_TRUE);",
          "content_same": false
        },
        {
          "line": 242,
          "old_api": null,
          "new_api": "MBMatchText",
          "old_text": null,
          "new_text": "MBMatchText(s, slen, p, plen)",
          "old_line_content": "bytealike(PG_FUNCTION_ARGS)",
          "new_line_content": "\t\tresult = (MBMatchText(s, slen, p, plen) != LIKE_TRUE);",
          "content_same": false
        },
        {
          "line": 250,
          "old_api": null,
          "new_api": "PG_GETARG_BYTEA_P",
          "old_text": null,
          "new_text": "PG_GETARG_BYTEA_P(0)",
          "old_line_content": "\t\t\t\tplen;",
          "new_line_content": "\tbytea\t   *str = PG_GETARG_BYTEA_P(0);",
          "content_same": false
        },
        {
          "line": 251,
          "old_api": null,
          "new_api": "PG_GETARG_BYTEA_P",
          "old_text": null,
          "new_text": "PG_GETARG_BYTEA_P(1)",
          "old_line_content": "",
          "new_line_content": "\tbytea\t   *pat = PG_GETARG_BYTEA_P(1);",
          "content_same": false
        },
        {
          "line": 258,
          "old_api": null,
          "new_api": "VARDATA",
          "old_text": null,
          "new_text": "VARDATA(str)",
          "old_line_content": "",
          "new_line_content": "\ts = VARDATA(str);",
          "content_same": false
        },
        {
          "line": 260,
          "old_api": null,
          "new_api": "VARDATA",
          "old_text": null,
          "new_text": "VARDATA(pat)",
          "old_line_content": "}",
          "new_line_content": "\tp = VARDATA(pat);",
          "content_same": false
        },
        {
          "line": 261,
          "old_api": null,
          "new_api": "VARSIZE",
          "old_text": null,
          "new_text": "VARSIZE(pat)",
          "old_line_content": "",
          "new_line_content": "\tplen = (VARSIZE(pat) - VARHDRSZ);",
          "content_same": false
        },
        {
          "line": 263,
          "old_api": null,
          "new_api": "MatchBytea",
          "old_text": null,
          "new_text": "MatchBytea(s, slen, p, plen)",
          "old_line_content": "byteanlike(PG_FUNCTION_ARGS)",
          "new_line_content": "\tresult = (MatchBytea(s, slen, p, plen) == LIKE_TRUE);",
          "content_same": false
        },
        {
          "line": 271,
          "old_api": null,
          "new_api": "PG_GETARG_BYTEA_P",
          "old_text": null,
          "new_text": "PG_GETARG_BYTEA_P(0)",
          "old_line_content": "\t\t\t\tplen;",
          "new_line_content": "\tbytea\t   *str = PG_GETARG_BYTEA_P(0);",
          "content_same": false
        },
        {
          "line": 272,
          "old_api": null,
          "new_api": "PG_GETARG_BYTEA_P",
          "old_text": null,
          "new_text": "PG_GETARG_BYTEA_P(1)",
          "old_line_content": "",
          "new_line_content": "\tbytea\t   *pat = PG_GETARG_BYTEA_P(1);",
          "content_same": false
        },
        {
          "line": 279,
          "old_api": null,
          "new_api": "VARDATA",
          "old_text": null,
          "new_text": "VARDATA(str)",
          "old_line_content": "",
          "new_line_content": "\ts = VARDATA(str);",
          "content_same": false
        },
        {
          "line": 281,
          "old_api": null,
          "new_api": "VARDATA",
          "old_text": null,
          "new_text": "VARDATA(pat)",
          "old_line_content": "}",
          "new_line_content": "\tp = VARDATA(pat);",
          "content_same": false
        },
        {
          "line": 282,
          "old_api": null,
          "new_api": "VARSIZE",
          "old_text": null,
          "new_text": "VARSIZE(pat)",
          "old_line_content": "",
          "new_line_content": "\tplen = (VARSIZE(pat) - VARHDRSZ);",
          "content_same": false
        },
        {
          "line": 284,
          "old_api": null,
          "new_api": "MatchBytea",
          "old_text": null,
          "new_text": "MatchBytea(s, slen, p, plen)",
          "old_line_content": " * Case-insensitive versions",
          "new_line_content": "\tresult = (MatchBytea(s, slen, p, plen) != LIKE_TRUE);",
          "content_same": false
        },
        {
          "line": 286,
          "old_api": null,
          "new_api": "PG_RETURN_BOOL",
          "old_text": null,
          "new_text": "PG_RETURN_BOOL(result)",
          "old_line_content": "",
          "new_line_content": "\tPG_RETURN_BOOL(result);",
          "content_same": false
        },
        {
          "line": 296,
          "old_api": null,
          "new_api": "PG_GETARG_NAME",
          "old_text": null,
          "new_text": "PG_GETARG_NAME(0)",
          "old_line_content": "\t\t\t\tplen;",
          "new_line_content": "\tName\t\tstr = PG_GETARG_NAME(0);",
          "content_same": false
        },
        {
          "line": 297,
          "old_api": null,
          "new_api": "PG_GETARG_TEXT_P",
          "old_text": null,
          "new_text": "PG_GETARG_TEXT_P(1)",
          "old_line_content": "",
          "new_line_content": "\ttext\t   *pat = PG_GETARG_TEXT_P(1);",
          "content_same": false
        },
        {
          "line": 305,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(s)",
          "old_line_content": "\telse",
          "new_line_content": "\tslen = strlen(s);",
          "content_same": false
        },
        {
          "line": 307,
          "old_api": null,
          "new_api": "VARSIZE",
          "old_text": null,
          "new_text": "VARSIZE(pat)",
          "old_line_content": "",
          "new_line_content": "\tplen = (VARSIZE(pat) - VARHDRSZ);",
          "content_same": false
        },
        {
          "line": 309,
          "old_api": null,
          "new_api": "pg_database_encoding_max_length",
          "old_text": null,
          "new_text": "pg_database_encoding_max_length()",
          "old_line_content": "}",
          "new_line_content": "\tif (pg_database_encoding_max_length() == 1)",
          "content_same": false
        },
        {
          "line": 310,
          "old_api": null,
          "new_api": "MatchTextIC",
          "old_text": null,
          "new_text": "MatchTextIC(s, slen, p, plen)",
          "old_line_content": "",
          "new_line_content": "\t\tresult = (MatchTextIC(s, slen, p, plen) == LIKE_TRUE);",
          "content_same": false
        },
        {
          "line": 312,
          "old_api": null,
          "new_api": "MBMatchTextIC",
          "old_text": null,
          "new_text": "MBMatchTextIC(s, slen, p, plen)",
          "old_line_content": "nameicnlike(PG_FUNCTION_ARGS)",
          "new_line_content": "\t\tresult = (MBMatchTextIC(s, slen, p, plen) == LIKE_TRUE);",
          "content_same": false
        },
        {
          "line": 320,
          "old_api": null,
          "new_api": "PG_GETARG_NAME",
          "old_text": null,
          "new_text": "PG_GETARG_NAME(0)",
          "old_line_content": "\t\t\t\tplen;",
          "new_line_content": "\tName\t\tstr = PG_GETARG_NAME(0);",
          "content_same": false
        },
        {
          "line": 321,
          "old_api": null,
          "new_api": "PG_GETARG_TEXT_P",
          "old_text": null,
          "new_text": "PG_GETARG_TEXT_P(1)",
          "old_line_content": "",
          "new_line_content": "\ttext\t   *pat = PG_GETARG_TEXT_P(1);",
          "content_same": false
        },
        {
          "line": 329,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(s)",
          "old_line_content": "\telse",
          "new_line_content": "\tslen = strlen(s);",
          "content_same": false
        },
        {
          "line": 331,
          "old_api": null,
          "new_api": "VARSIZE",
          "old_text": null,
          "new_text": "VARSIZE(pat)",
          "old_line_content": "",
          "new_line_content": "\tplen = (VARSIZE(pat) - VARHDRSZ);",
          "content_same": false
        },
        {
          "line": 333,
          "old_api": null,
          "new_api": "pg_database_encoding_max_length",
          "old_text": null,
          "new_text": "pg_database_encoding_max_length()",
          "old_line_content": "}",
          "new_line_content": "\tif (pg_database_encoding_max_length() == 1)",
          "content_same": false
        },
        {
          "line": 334,
          "old_api": null,
          "new_api": "MatchTextIC",
          "old_text": null,
          "new_text": "MatchTextIC(s, slen, p, plen)",
          "old_line_content": "",
          "new_line_content": "\t\tresult = (MatchTextIC(s, slen, p, plen) != LIKE_TRUE);",
          "content_same": false
        },
        {
          "line": 336,
          "old_api": null,
          "new_api": "MBMatchTextIC",
          "old_text": null,
          "new_text": "MBMatchTextIC(s, slen, p, plen)",
          "old_line_content": "texticlike(PG_FUNCTION_ARGS)",
          "new_line_content": "\t\tresult = (MBMatchTextIC(s, slen, p, plen) != LIKE_TRUE);",
          "content_same": false
        },
        {
          "line": 344,
          "old_api": null,
          "new_api": "PG_GETARG_TEXT_P",
          "old_text": null,
          "new_text": "PG_GETARG_TEXT_P(0)",
          "old_line_content": "\t\t\t\tplen;",
          "new_line_content": "\ttext\t   *str = PG_GETARG_TEXT_P(0);",
          "content_same": false
        },
        {
          "line": 345,
          "old_api": null,
          "new_api": "PG_GETARG_TEXT_P",
          "old_text": null,
          "new_text": "PG_GETARG_TEXT_P(1)",
          "old_line_content": "",
          "new_line_content": "\ttext\t   *pat = PG_GETARG_TEXT_P(1);",
          "content_same": false
        },
        {
          "line": 353,
          "old_api": null,
          "new_api": "VARSIZE",
          "old_text": null,
          "new_text": "VARSIZE(str)",
          "old_line_content": "\telse",
          "new_line_content": "\tslen = (VARSIZE(str) - VARHDRSZ);",
          "content_same": false
        },
        {
          "line": 355,
          "old_api": null,
          "new_api": "VARSIZE",
          "old_text": null,
          "new_text": "VARSIZE(pat)",
          "old_line_content": "",
          "new_line_content": "\tplen = (VARSIZE(pat) - VARHDRSZ);",
          "content_same": false
        },
        {
          "line": 357,
          "old_api": null,
          "new_api": "pg_database_encoding_max_length",
          "old_text": null,
          "new_text": "pg_database_encoding_max_length()",
          "old_line_content": "}",
          "new_line_content": "\tif (pg_database_encoding_max_length() == 1)",
          "content_same": false
        },
        {
          "line": 358,
          "old_api": null,
          "new_api": "MatchTextIC",
          "old_text": null,
          "new_text": "MatchTextIC(s, slen, p, plen)",
          "old_line_content": "",
          "new_line_content": "\t\tresult = (MatchTextIC(s, slen, p, plen) == LIKE_TRUE);",
          "content_same": false
        },
        {
          "line": 360,
          "old_api": null,
          "new_api": "MBMatchTextIC",
          "old_text": null,
          "new_text": "MBMatchTextIC(s, slen, p, plen)",
          "old_line_content": "texticnlike(PG_FUNCTION_ARGS)",
          "new_line_content": "\t\tresult = (MBMatchTextIC(s, slen, p, plen) == LIKE_TRUE);",
          "content_same": false
        },
        {
          "line": 368,
          "old_api": null,
          "new_api": "PG_GETARG_TEXT_P",
          "old_text": null,
          "new_text": "PG_GETARG_TEXT_P(0)",
          "old_line_content": "\t\t\t\tplen;",
          "new_line_content": "\ttext\t   *str = PG_GETARG_TEXT_P(0);",
          "content_same": false
        },
        {
          "line": 369,
          "old_api": null,
          "new_api": "PG_GETARG_TEXT_P",
          "old_text": null,
          "new_text": "PG_GETARG_TEXT_P(1)",
          "old_line_content": "",
          "new_line_content": "\ttext\t   *pat = PG_GETARG_TEXT_P(1);",
          "content_same": false
        },
        {
          "line": 377,
          "old_api": null,
          "new_api": "VARSIZE",
          "old_text": null,
          "new_text": "VARSIZE(str)",
          "old_line_content": "\telse",
          "new_line_content": "\tslen = (VARSIZE(str) - VARHDRSZ);",
          "content_same": false
        },
        {
          "line": 379,
          "old_api": null,
          "new_api": "VARSIZE",
          "old_text": null,
          "new_text": "VARSIZE(pat)",
          "old_line_content": "",
          "new_line_content": "\tplen = (VARSIZE(pat) - VARHDRSZ);",
          "content_same": false
        },
        {
          "line": 381,
          "old_api": null,
          "new_api": "pg_database_encoding_max_length",
          "old_text": null,
          "new_text": "pg_database_encoding_max_length()",
          "old_line_content": "}",
          "new_line_content": "\tif (pg_database_encoding_max_length() == 1)",
          "content_same": false
        },
        {
          "line": 382,
          "old_api": null,
          "new_api": "MatchTextIC",
          "old_text": null,
          "new_text": "MatchTextIC(s, slen, p, plen)",
          "old_line_content": "",
          "new_line_content": "\t\tresult = (MatchTextIC(s, slen, p, plen) != LIKE_TRUE);",
          "content_same": false
        },
        {
          "line": 384,
          "old_api": null,
          "new_api": "MBMatchTextIC",
          "old_text": null,
          "new_text": "MBMatchTextIC(s, slen, p, plen)",
          "old_line_content": " * like_escape() --- given a pattern and an ESCAPE string,",
          "new_line_content": "\t\tresult = (MBMatchTextIC(s, slen, p, plen) != LIKE_TRUE);",
          "content_same": false
        },
        {
          "line": 386,
          "old_api": null,
          "new_api": "PG_RETURN_BOOL",
          "old_text": null,
          "new_text": "PG_RETURN_BOOL(result)",
          "old_line_content": " */",
          "new_line_content": "\tPG_RETURN_BOOL(result);",
          "content_same": false
        },
        {
          "line": 396,
          "old_api": null,
          "new_api": "PG_GETARG_TEXT_P",
          "old_text": null,
          "new_text": "PG_GETARG_TEXT_P(0)",
          "old_line_content": "\telse",
          "new_line_content": "\ttext\t   *pat = PG_GETARG_TEXT_P(0);",
          "content_same": false
        },
        {
          "line": 400,
          "old_api": null,
          "new_api": "pg_database_encoding_max_length",
          "old_text": null,
          "new_text": "pg_database_encoding_max_length()",
          "old_line_content": "}",
          "new_line_content": "\tif (pg_database_encoding_max_length() == 1)",
          "content_same": false
        },
        {
          "line": 401,
          "old_api": null,
          "new_api": "do_like_escape",
          "old_text": null,
          "new_text": "do_like_escape(pat, esc)",
          "old_line_content": "",
          "new_line_content": "\t\tresult = do_like_escape(pat, esc);",
          "content_same": false
        },
        {
          "line": 403,
          "old_api": null,
          "new_api": "MB_do_like_escape",
          "old_text": null,
          "new_text": "MB_do_like_escape(pat, esc)",
          "old_line_content": " * like_escape_bytea() --- given a pattern and an ESCAPE string,",
          "new_line_content": "\t\tresult = MB_do_like_escape(pat, esc);",
          "content_same": false
        },
        {
          "line": 405,
          "old_api": null,
          "new_api": "PG_RETURN_TEXT_P",
          "old_text": null,
          "new_text": "PG_RETURN_TEXT_P(result)",
          "old_line_content": " */",
          "new_line_content": "\tPG_RETURN_TEXT_P(result);",
          "content_same": false
        },
        {
          "line": 415,
          "old_api": null,
          "new_api": "PG_GETARG_BYTEA_P",
          "old_text": null,
          "new_text": "PG_GETARG_BYTEA_P(0)",
          "old_line_content": "\tint\t\t\tplen,",
          "new_line_content": "\tbytea\t   *pat = PG_GETARG_BYTEA_P(0);",
          "content_same": false
        },
        {
          "line": 416,
          "old_api": null,
          "new_api": "PG_GETARG_BYTEA_P",
          "old_text": null,
          "new_text": "PG_GETARG_BYTEA_P(1)",
          "old_line_content": "\t\t\t\telen;",
          "new_line_content": "\tbytea\t   *esc = PG_GETARG_BYTEA_P(1);",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": null,
          "new_api": "VARDATA",
          "old_text": null,
          "new_text": "VARDATA(pat)",
          "old_line_content": "\t * Worst-case pattern growth is 2x --- unlikely, but it's hardly worth",
          "new_line_content": "\tp = VARDATA(pat);",
          "content_same": false
        },
        {
          "line": 426,
          "old_api": null,
          "new_api": "VARSIZE",
          "old_text": null,
          "new_text": "VARSIZE(pat)",
          "old_line_content": "\t * trying to calculate the size more accurately than that.",
          "new_line_content": "\tplen = (VARSIZE(pat) - VARHDRSZ);",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": null,
          "new_api": "VARDATA",
          "old_text": null,
          "new_text": "VARDATA(esc)",
          "old_line_content": "\t */",
          "new_line_content": "\te = VARDATA(esc);",
          "content_same": false
        },
        {
          "line": 434,
          "old_api": null,
          "new_api": "palloc",
          "old_text": null,
          "new_text": "palloc(plen * 2 + VARHDRSZ)",
          "old_line_content": "\t\t * No escape character is wanted.  Double any backslashes in the",
          "new_line_content": "\tresult = (text *) palloc(plen * 2 + VARHDRSZ);",
          "content_same": false
        },
        {
          "line": 435,
          "old_api": null,
          "new_api": "VARDATA",
          "old_text": null,
          "new_text": "VARDATA(result)",
          "old_line_content": "\t\t * pattern to make them act like ordinary characters.",
          "new_line_content": "\tr = VARDATA(result);",
          "content_same": false
        },
        {
          "line": 447,
          "old_api": null,
          "new_api": "BYTEA_CopyAdvChar",
          "old_text": null,
          "new_text": "BYTEA_CopyAdvChar(r, p, plen)",
          "old_line_content": "\t\t * The specified escape must be only a single character.",
          "new_line_content": "\t\t\tBYTEA_CopyAdvChar(r, p, plen);",
          "content_same": false
        },
        {
          "line": 455,
          "old_api": null,
          "new_api": "BYTEA_NextChar",
          "old_text": null,
          "new_text": "BYTEA_NextChar(e, elen)",
          "old_line_content": "",
          "new_line_content": "\t\tBYTEA_NextChar(e, elen);",
          "content_same": false
        },
        {
          "line": 457,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(ERROR,\n\t\t\t\t\t(errcode(ERRCODE_INVALID_ESCAPE_SEQUENCE),\n\t\t\t\t\t errmsg(\"invalid escape string\"),\n\t\t\t  errhint(\"Escape string must be empty or one character.\")))",
          "old_line_content": "",
          "new_line_content": "\t\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 458,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_INVALID_ESCAPE_SEQUENCE)",
          "old_line_content": "\t\t/*",
          "new_line_content": "\t\t\t\t\t(errcode(ERRCODE_INVALID_ESCAPE_SEQUENCE),",
          "content_same": false
        },
        {
          "line": 459,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"invalid escape string\")",
          "old_line_content": "\t\t * If specified escape is '\\', just copy the pattern as-is.",
          "new_line_content": "\t\t\t\t\t errmsg(\"invalid escape string\"),",
          "content_same": false
        },
        {
          "line": 460,
          "old_api": null,
          "new_api": "errhint",
          "old_text": null,
          "new_text": "errhint(\"Escape string must be empty or one character.\")",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\t\t  errhint(\"Escape string must be empty or one character.\")));",
          "content_same": false
        },
        {
          "line": 462,
          "old_api": null,
          "new_api": "VARDATA",
          "old_text": null,
          "new_text": "VARDATA(esc)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\te = VARDATA(esc);",
          "content_same": false
        },
        {
          "line": 469,
          "old_api": null,
          "new_api": "VARSIZE",
          "old_text": null,
          "new_text": "VARSIZE(pat)",
          "old_line_content": "\t\t * character to '\\', and double occurrences of '\\' --- unless they",
          "new_line_content": "\t\t\tmemcpy(result, pat, VARSIZE(pat));",
          "content_same": false
        },
        {
          "line": 470,
          "old_api": null,
          "new_api": "PG_RETURN_BYTEA_P",
          "old_text": null,
          "new_text": "PG_RETURN_BYTEA_P(result)",
          "old_line_content": "\t\t * immediately follow an escape character!",
          "new_line_content": "\t\t\tPG_RETURN_BYTEA_P(result);",
          "content_same": false
        },
        {
          "line": 481,
          "old_api": null,
          "new_api": "BYTEA_CHAREQ",
          "old_text": null,
          "new_text": "BYTEA_CHAREQ(p, e)",
          "old_line_content": "\t\t\telse if (*p == '\\\\')",
          "new_line_content": "\t\t\tif (BYTEA_CHAREQ(p, e) && !afterescape)",
          "content_same": false
        },
        {
          "line": 484,
          "old_api": null,
          "new_api": "BYTEA_NextChar",
          "old_text": null,
          "new_text": "BYTEA_NextChar(p, plen)",
          "old_line_content": "\t\t\t\tif (!afterescape)",
          "new_line_content": "\t\t\t\tBYTEA_NextChar(p, plen);",
          "content_same": false
        },
        {
          "line": 492,
          "old_api": null,
          "new_api": "BYTEA_NextChar",
          "old_text": null,
          "new_text": "BYTEA_NextChar(p, plen)",
          "old_line_content": "\t\t\t\tafterescape = false;",
          "new_line_content": "\t\t\t\tBYTEA_NextChar(p, plen);",
          "content_same": false
        },
        {
          "line": 503,
          "old_api": null,
          "new_api": "VARATT_SIZEP",
          "old_text": null,
          "new_text": "VARATT_SIZEP(result)",
          "old_line_content": " * Same as above, but specifically for bytea (binary) datatype",
          "new_line_content": "\tVARATT_SIZEP(result) = r - ((unsigned char *) result);",
          "content_same": false
        },
        {
          "line": 505,
          "old_api": null,
          "new_api": "PG_RETURN_BYTEA_P",
          "old_text": null,
          "new_text": "PG_RETURN_BYTEA_P(result)",
          "old_line_content": "static int",
          "new_line_content": "\tPG_RETURN_BYTEA_P(result);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 517,
          "old_api": "BYTEA_NextChar",
          "new_api": null,
          "old_text": "BYTEA_NextChar(p, plen)",
          "new_text": null,
          "old_line_content": "\t\t\tBYTEA_NextChar(p, plen);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 518,
          "old_api": "BYTEA_CHAREQ",
          "new_api": null,
          "old_text": "BYTEA_CHAREQ(t, p)",
          "new_text": null,
          "old_line_content": "\t\t\tif ((plen <= 0) || !BYTEA_CHAREQ(t, p))",
          "new_line_content": "\twhile ((tlen > 0) && (plen > 0))",
          "content_same": false
        },
        {
          "line": 526,
          "old_api": "BYTEA_NextChar",
          "new_api": null,
          "old_text": "BYTEA_NextChar(p, plen)",
          "new_text": null,
          "old_line_content": "\t\t\t\tBYTEA_NextChar(p, plen);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 541,
          "old_api": "BYTEA_CHAREQ",
          "new_api": null,
          "old_text": "BYTEA_CHAREQ(t, p)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (BYTEA_CHAREQ(t, p) || (*p == '\\\\') || (*p == '_'))",
          "new_line_content": "\t\t\twhile (tlen > 0)",
          "content_same": false
        },
        {
          "line": 543,
          "old_api": "MatchBytea",
          "new_api": null,
          "old_text": "MatchBytea(t, tlen, p, plen)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tint\t\t\tmatched = MatchBytea(t, tlen, p, plen);",
          "new_line_content": "\t\t\t\t/*",
          "content_same": false
        },
        {
          "line": 558,
          "old_api": "BYTEA_CHAREQ",
          "new_api": null,
          "old_text": "BYTEA_CHAREQ(t, p)",
          "new_text": null,
          "old_line_content": "\t\telse if ((*p != '_') && !BYTEA_CHAREQ(t, p))",
          "new_line_content": "\t\t\t/*",
          "content_same": false
        },
        {
          "line": 567,
          "old_api": "BYTEA_NextChar",
          "new_api": null,
          "old_text": "BYTEA_NextChar(t, tlen)",
          "new_text": null,
          "old_line_content": "\t\tBYTEA_NextChar(t, tlen);",
          "new_line_content": "\t\t\t * Not the single-character wildcard and no explicit match?",
          "content_same": false
        },
        {
          "line": 568,
          "old_api": "BYTEA_NextChar",
          "new_api": null,
          "old_text": "BYTEA_NextChar(p, plen)",
          "new_text": null,
          "old_line_content": "\t\tBYTEA_NextChar(p, plen);",
          "new_line_content": "\t\t\t * Then time to quit...",
          "content_same": false
        },
        {
          "line": 55,
          "old_api": "pg_mblen",
          "new_api": null,
          "old_text": "pg_mblen(p1)",
          "new_text": null,
          "old_line_content": "\tl = pg_mblen(p1);",
          "new_line_content": "\t/* Optimization:  quickly compare the first byte. */",
          "content_same": false
        },
        {
          "line": 56,
          "old_api": "pg_mblen",
          "new_api": null,
          "old_text": "pg_mblen(p2)",
          "new_text": null,
          "old_line_content": "\tif (pg_mblen(p2) != l)",
          "new_line_content": "\tif(*p1 != *p2)",
          "content_same": false
        },
        {
          "line": 577,
          "old_api": "BYTEA_NextChar",
          "new_api": null,
          "old_text": "BYTEA_NextChar(p, plen)",
          "new_text": null,
          "old_line_content": "\t\tBYTEA_NextChar(p, plen);",
          "new_line_content": "\tif (tlen > 0)",
          "content_same": false
        },
        {
          "line": 86,
          "old_api": "tolower",
          "new_api": null,
          "old_text": "tolower(*p2)",
          "new_text": null,
          "old_line_content": "\t\treturn (tolower(*p1) == tolower(*p2));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 99,
          "old_api": "pg_mblen",
          "new_api": null,
          "old_text": "pg_mblen(p1)",
          "new_text": null,
          "old_line_content": "\tl = pg_mblen(p1);",
          "new_line_content": "\t\treturn (0);",
          "content_same": false
        },
        {
          "line": 100,
          "old_api": "pg_mb2wchar_with_len",
          "new_api": null,
          "old_text": "pg_mb2wchar_with_len(p1, (pg_wchar *) c1, l)",
          "new_text": null,
          "old_line_content": "\t(void) pg_mb2wchar_with_len(p1, (pg_wchar *) c1, l);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 101,
          "old_api": "tolower",
          "new_api": null,
          "old_text": "tolower(c1[0])",
          "new_text": null,
          "old_line_content": "\tc1[0] = tolower(c1[0]);",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 102,
          "old_api": "pg_mblen",
          "new_api": null,
          "old_text": "pg_mblen(p2)",
          "new_text": null,
          "old_line_content": "\tl = pg_mblen(p2);",
          "new_line_content": "\t * ok, p1 and p2 are both > CHARMAX, then they must be multibyte",
          "content_same": false
        },
        {
          "line": 103,
          "old_api": "pg_mb2wchar_with_len",
          "new_api": null,
          "old_text": "pg_mb2wchar_with_len(p2, (pg_wchar *) c2, l)",
          "new_text": null,
          "old_line_content": "\t(void) pg_mb2wchar_with_len(p2, (pg_wchar *) c2, l);",
          "new_line_content": "\t * characters",
          "content_same": false
        },
        {
          "line": 104,
          "old_api": "tolower",
          "new_api": null,
          "old_text": "tolower(c2[0])",
          "new_text": null,
          "old_line_content": "\tc2[0] = tolower(c2[0]);",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 148,
          "old_api": "PG_GETARG_NAME",
          "new_api": null,
          "old_text": "PG_GETARG_NAME(0)",
          "new_text": null,
          "old_line_content": "\tName\t\tstr = PG_GETARG_NAME(0);",
          "new_line_content": " *\tinterface routines called by the function manager",
          "content_same": false
        },
        {
          "line": 149,
          "old_api": "PG_GETARG_TEXT_P",
          "new_api": null,
          "old_text": "PG_GETARG_TEXT_P(1)",
          "new_text": null,
          "old_line_content": "\ttext\t   *pat = PG_GETARG_TEXT_P(1);",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 156,
          "old_api": "NameStr",
          "new_api": null,
          "old_text": "NameStr(*str)",
          "new_text": null,
          "old_line_content": "\ts = NameStr(*str);",
          "new_line_content": "\tbool\t\tresult;",
          "content_same": false
        },
        {
          "line": 157,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(s)",
          "new_text": null,
          "old_line_content": "\tslen = strlen(s);",
          "new_line_content": "\tunsigned char *s,",
          "content_same": false
        },
        {
          "line": 158,
          "old_api": "VARDATA",
          "new_api": null,
          "old_text": "VARDATA(pat)",
          "new_text": null,
          "old_line_content": "\tp = VARDATA(pat);",
          "new_line_content": "\t\t\t   *p;",
          "content_same": false
        },
        {
          "line": 159,
          "old_api": "VARSIZE",
          "new_api": null,
          "old_text": "VARSIZE(pat)",
          "new_text": null,
          "old_line_content": "\tplen = (VARSIZE(pat) - VARHDRSZ);",
          "new_line_content": "\tint\t\t\tslen,",
          "content_same": false
        },
        {
          "line": 161,
          "old_api": "pg_database_encoding_max_length",
          "new_api": null,
          "old_text": "pg_database_encoding_max_length()",
          "new_text": null,
          "old_line_content": "\tif (pg_database_encoding_max_length() == 1)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 166,
          "old_api": "PG_RETURN_BOOL",
          "new_api": null,
          "old_text": "PG_RETURN_BOOL(result)",
          "new_text": null,
          "old_line_content": "\tPG_RETURN_BOOL(result);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 173,
          "old_api": "PG_GETARG_TEXT_P",
          "new_api": null,
          "old_text": "PG_GETARG_TEXT_P(1)",
          "new_text": null,
          "old_line_content": "\ttext\t   *pat = PG_GETARG_TEXT_P(1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 180,
          "old_api": "NameStr",
          "new_api": null,
          "old_text": "NameStr(*str)",
          "new_text": null,
          "old_line_content": "\ts = NameStr(*str);",
          "new_line_content": "\tbool\t\tresult;",
          "content_same": false
        },
        {
          "line": 181,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(s)",
          "new_text": null,
          "old_line_content": "\tslen = strlen(s);",
          "new_line_content": "\tunsigned char *s,",
          "content_same": false
        },
        {
          "line": 182,
          "old_api": "VARDATA",
          "new_api": null,
          "old_text": "VARDATA(pat)",
          "new_text": null,
          "old_line_content": "\tp = VARDATA(pat);",
          "new_line_content": "\t\t\t   *p;",
          "content_same": false
        },
        {
          "line": 183,
          "old_api": "VARSIZE",
          "new_api": null,
          "old_text": "VARSIZE(pat)",
          "new_text": null,
          "old_line_content": "\tplen = (VARSIZE(pat) - VARHDRSZ);",
          "new_line_content": "\tint\t\t\tslen,",
          "content_same": false
        },
        {
          "line": 185,
          "old_api": "pg_database_encoding_max_length",
          "new_api": null,
          "old_text": "pg_database_encoding_max_length()",
          "new_text": null,
          "old_line_content": "\tif (pg_database_encoding_max_length() == 1)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 190,
          "old_api": "PG_RETURN_BOOL",
          "new_api": null,
          "old_text": "PG_RETURN_BOOL(result)",
          "new_text": null,
          "old_line_content": "\tPG_RETURN_BOOL(result);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 197,
          "old_api": "PG_GETARG_TEXT_P",
          "new_api": null,
          "old_text": "PG_GETARG_TEXT_P(1)",
          "new_text": null,
          "old_line_content": "\ttext\t   *pat = PG_GETARG_TEXT_P(1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 204,
          "old_api": "VARDATA",
          "new_api": null,
          "old_text": "VARDATA(str)",
          "new_text": null,
          "old_line_content": "\ts = VARDATA(str);",
          "new_line_content": "\tbool\t\tresult;",
          "content_same": false
        },
        {
          "line": 205,
          "old_api": "VARSIZE",
          "new_api": null,
          "old_text": "VARSIZE(str)",
          "new_text": null,
          "old_line_content": "\tslen = (VARSIZE(str) - VARHDRSZ);",
          "new_line_content": "\tunsigned char *s,",
          "content_same": false
        },
        {
          "line": 206,
          "old_api": "VARDATA",
          "new_api": null,
          "old_text": "VARDATA(pat)",
          "new_text": null,
          "old_line_content": "\tp = VARDATA(pat);",
          "new_line_content": "\t\t\t   *p;",
          "content_same": false
        },
        {
          "line": 207,
          "old_api": "VARSIZE",
          "new_api": null,
          "old_text": "VARSIZE(pat)",
          "new_text": null,
          "old_line_content": "\tplen = (VARSIZE(pat) - VARHDRSZ);",
          "new_line_content": "\tint\t\t\tslen,",
          "content_same": false
        },
        {
          "line": 209,
          "old_api": "pg_database_encoding_max_length",
          "new_api": null,
          "old_text": "pg_database_encoding_max_length()",
          "new_text": null,
          "old_line_content": "\tif (pg_database_encoding_max_length() == 1)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 214,
          "old_api": "PG_RETURN_BOOL",
          "new_api": null,
          "old_text": "PG_RETURN_BOOL(result)",
          "new_text": null,
          "old_line_content": "\tPG_RETURN_BOOL(result);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 221,
          "old_api": "PG_GETARG_TEXT_P",
          "new_api": null,
          "old_text": "PG_GETARG_TEXT_P(1)",
          "new_text": null,
          "old_line_content": "\ttext\t   *pat = PG_GETARG_TEXT_P(1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 228,
          "old_api": "VARDATA",
          "new_api": null,
          "old_text": "VARDATA(str)",
          "new_text": null,
          "old_line_content": "\ts = VARDATA(str);",
          "new_line_content": "\tbool\t\tresult;",
          "content_same": false
        },
        {
          "line": 229,
          "old_api": "VARSIZE",
          "new_api": null,
          "old_text": "VARSIZE(str)",
          "new_text": null,
          "old_line_content": "\tslen = (VARSIZE(str) - VARHDRSZ);",
          "new_line_content": "\tunsigned char *s,",
          "content_same": false
        },
        {
          "line": 230,
          "old_api": "VARDATA",
          "new_api": null,
          "old_text": "VARDATA(pat)",
          "new_text": null,
          "old_line_content": "\tp = VARDATA(pat);",
          "new_line_content": "\t\t\t   *p;",
          "content_same": false
        },
        {
          "line": 231,
          "old_api": "VARSIZE",
          "new_api": null,
          "old_text": "VARSIZE(pat)",
          "new_text": null,
          "old_line_content": "\tplen = (VARSIZE(pat) - VARHDRSZ);",
          "new_line_content": "\tint\t\t\tslen,",
          "content_same": false
        },
        {
          "line": 233,
          "old_api": "pg_database_encoding_max_length",
          "new_api": null,
          "old_text": "pg_database_encoding_max_length()",
          "new_text": null,
          "old_line_content": "\tif (pg_database_encoding_max_length() == 1)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 238,
          "old_api": "PG_RETURN_BOOL",
          "new_api": null,
          "old_text": "PG_RETURN_BOOL(result)",
          "new_text": null,
          "old_line_content": "\tPG_RETURN_BOOL(result);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 245,
          "old_api": "PG_GETARG_BYTEA_P",
          "new_api": null,
          "old_text": "PG_GETARG_BYTEA_P(1)",
          "new_text": null,
          "old_line_content": "\tbytea\t   *pat = PG_GETARG_BYTEA_P(1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 252,
          "old_api": "VARDATA",
          "new_api": null,
          "old_text": "VARDATA(str)",
          "new_text": null,
          "old_line_content": "\ts = VARDATA(str);",
          "new_line_content": "\tbool\t\tresult;",
          "content_same": false
        },
        {
          "line": 253,
          "old_api": "VARSIZE",
          "new_api": null,
          "old_text": "VARSIZE(str)",
          "new_text": null,
          "old_line_content": "\tslen = (VARSIZE(str) - VARHDRSZ);",
          "new_line_content": "\tunsigned char *s,",
          "content_same": false
        },
        {
          "line": 254,
          "old_api": "VARDATA",
          "new_api": null,
          "old_text": "VARDATA(pat)",
          "new_text": null,
          "old_line_content": "\tp = VARDATA(pat);",
          "new_line_content": "\t\t\t   *p;",
          "content_same": false
        },
        {
          "line": 255,
          "old_api": "VARSIZE",
          "new_api": null,
          "old_text": "VARSIZE(pat)",
          "new_text": null,
          "old_line_content": "\tplen = (VARSIZE(pat) - VARHDRSZ);",
          "new_line_content": "\tint\t\t\tslen,",
          "content_same": false
        },
        {
          "line": 257,
          "old_api": "MatchBytea",
          "new_api": null,
          "old_text": "MatchBytea(s, slen, p, plen)",
          "new_text": null,
          "old_line_content": "\tresult = (MatchBytea(s, slen, p, plen) == LIKE_TRUE);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 266,
          "old_api": "PG_GETARG_BYTEA_P",
          "new_api": null,
          "old_text": "PG_GETARG_BYTEA_P(1)",
          "new_text": null,
          "old_line_content": "\tbytea\t   *pat = PG_GETARG_BYTEA_P(1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 273,
          "old_api": "VARDATA",
          "new_api": null,
          "old_text": "VARDATA(str)",
          "new_text": null,
          "old_line_content": "\ts = VARDATA(str);",
          "new_line_content": "\tbool\t\tresult;",
          "content_same": false
        },
        {
          "line": 274,
          "old_api": "VARSIZE",
          "new_api": null,
          "old_text": "VARSIZE(str)",
          "new_text": null,
          "old_line_content": "\tslen = (VARSIZE(str) - VARHDRSZ);",
          "new_line_content": "\tunsigned char *s,",
          "content_same": false
        },
        {
          "line": 275,
          "old_api": "VARDATA",
          "new_api": null,
          "old_text": "VARDATA(pat)",
          "new_text": null,
          "old_line_content": "\tp = VARDATA(pat);",
          "new_line_content": "\t\t\t   *p;",
          "content_same": false
        },
        {
          "line": 276,
          "old_api": "VARSIZE",
          "new_api": null,
          "old_text": "VARSIZE(pat)",
          "new_text": null,
          "old_line_content": "\tplen = (VARSIZE(pat) - VARHDRSZ);",
          "new_line_content": "\tint\t\t\tslen,",
          "content_same": false
        },
        {
          "line": 278,
          "old_api": "MatchBytea",
          "new_api": null,
          "old_text": "MatchBytea(s, slen, p, plen)",
          "new_text": null,
          "old_line_content": "\tresult = (MatchBytea(s, slen, p, plen) != LIKE_TRUE);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 290,
          "old_api": "PG_GETARG_NAME",
          "new_api": null,
          "old_text": "PG_GETARG_NAME(0)",
          "new_text": null,
          "old_line_content": "\tName\t\tstr = PG_GETARG_NAME(0);",
          "new_line_content": " * Case-insensitive versions",
          "content_same": false
        },
        {
          "line": 291,
          "old_api": "PG_GETARG_TEXT_P",
          "new_api": null,
          "old_text": "PG_GETARG_TEXT_P(1)",
          "new_text": null,
          "old_line_content": "\ttext\t   *pat = PG_GETARG_TEXT_P(1);",
          "new_line_content": " */",
          "content_same": false
        },
        {
          "line": 298,
          "old_api": "NameStr",
          "new_api": null,
          "old_text": "NameStr(*str)",
          "new_text": null,
          "old_line_content": "\ts = NameStr(*str);",
          "new_line_content": "\tbool\t\tresult;",
          "content_same": false
        },
        {
          "line": 299,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(s)",
          "new_text": null,
          "old_line_content": "\tslen = strlen(s);",
          "new_line_content": "\tunsigned char *s,",
          "content_same": false
        },
        {
          "line": 300,
          "old_api": "VARDATA",
          "new_api": null,
          "old_text": "VARDATA(pat)",
          "new_text": null,
          "old_line_content": "\tp = VARDATA(pat);",
          "new_line_content": "\t\t\t   *p;",
          "content_same": false
        },
        {
          "line": 301,
          "old_api": "VARSIZE",
          "new_api": null,
          "old_text": "VARSIZE(pat)",
          "new_text": null,
          "old_line_content": "\tplen = (VARSIZE(pat) - VARHDRSZ);",
          "new_line_content": "\tint\t\t\tslen,",
          "content_same": false
        },
        {
          "line": 303,
          "old_api": "pg_database_encoding_max_length",
          "new_api": null,
          "old_text": "pg_database_encoding_max_length()",
          "new_text": null,
          "old_line_content": "\tif (pg_database_encoding_max_length() == 1)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 308,
          "old_api": "PG_RETURN_BOOL",
          "new_api": null,
          "old_text": "PG_RETURN_BOOL(result)",
          "new_text": null,
          "old_line_content": "\tPG_RETURN_BOOL(result);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 315,
          "old_api": "PG_GETARG_TEXT_P",
          "new_api": null,
          "old_text": "PG_GETARG_TEXT_P(1)",
          "new_text": null,
          "old_line_content": "\ttext\t   *pat = PG_GETARG_TEXT_P(1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 322,
          "old_api": "NameStr",
          "new_api": null,
          "old_text": "NameStr(*str)",
          "new_text": null,
          "old_line_content": "\ts = NameStr(*str);",
          "new_line_content": "\tbool\t\tresult;",
          "content_same": false
        },
        {
          "line": 323,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(s)",
          "new_text": null,
          "old_line_content": "\tslen = strlen(s);",
          "new_line_content": "\tunsigned char *s,",
          "content_same": false
        },
        {
          "line": 324,
          "old_api": "VARDATA",
          "new_api": null,
          "old_text": "VARDATA(pat)",
          "new_text": null,
          "old_line_content": "\tp = VARDATA(pat);",
          "new_line_content": "\t\t\t   *p;",
          "content_same": false
        },
        {
          "line": 325,
          "old_api": "VARSIZE",
          "new_api": null,
          "old_text": "VARSIZE(pat)",
          "new_text": null,
          "old_line_content": "\tplen = (VARSIZE(pat) - VARHDRSZ);",
          "new_line_content": "\tint\t\t\tslen,",
          "content_same": false
        },
        {
          "line": 327,
          "old_api": "pg_database_encoding_max_length",
          "new_api": null,
          "old_text": "pg_database_encoding_max_length()",
          "new_text": null,
          "old_line_content": "\tif (pg_database_encoding_max_length() == 1)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 332,
          "old_api": "PG_RETURN_BOOL",
          "new_api": null,
          "old_text": "PG_RETURN_BOOL(result)",
          "new_text": null,
          "old_line_content": "\tPG_RETURN_BOOL(result);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 339,
          "old_api": "PG_GETARG_TEXT_P",
          "new_api": null,
          "old_text": "PG_GETARG_TEXT_P(1)",
          "new_text": null,
          "old_line_content": "\ttext\t   *pat = PG_GETARG_TEXT_P(1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 346,
          "old_api": "VARDATA",
          "new_api": null,
          "old_text": "VARDATA(str)",
          "new_text": null,
          "old_line_content": "\ts = VARDATA(str);",
          "new_line_content": "\tbool\t\tresult;",
          "content_same": false
        },
        {
          "line": 347,
          "old_api": "VARSIZE",
          "new_api": null,
          "old_text": "VARSIZE(str)",
          "new_text": null,
          "old_line_content": "\tslen = (VARSIZE(str) - VARHDRSZ);",
          "new_line_content": "\tunsigned char *s,",
          "content_same": false
        },
        {
          "line": 348,
          "old_api": "VARDATA",
          "new_api": null,
          "old_text": "VARDATA(pat)",
          "new_text": null,
          "old_line_content": "\tp = VARDATA(pat);",
          "new_line_content": "\t\t\t   *p;",
          "content_same": false
        },
        {
          "line": 349,
          "old_api": "VARSIZE",
          "new_api": null,
          "old_text": "VARSIZE(pat)",
          "new_text": null,
          "old_line_content": "\tplen = (VARSIZE(pat) - VARHDRSZ);",
          "new_line_content": "\tint\t\t\tslen,",
          "content_same": false
        },
        {
          "line": 351,
          "old_api": "pg_database_encoding_max_length",
          "new_api": null,
          "old_text": "pg_database_encoding_max_length()",
          "new_text": null,
          "old_line_content": "\tif (pg_database_encoding_max_length() == 1)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 356,
          "old_api": "PG_RETURN_BOOL",
          "new_api": null,
          "old_text": "PG_RETURN_BOOL(result)",
          "new_text": null,
          "old_line_content": "\tPG_RETURN_BOOL(result);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 363,
          "old_api": "PG_GETARG_TEXT_P",
          "new_api": null,
          "old_text": "PG_GETARG_TEXT_P(1)",
          "new_text": null,
          "old_line_content": "\ttext\t   *pat = PG_GETARG_TEXT_P(1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 370,
          "old_api": "VARDATA",
          "new_api": null,
          "old_text": "VARDATA(str)",
          "new_text": null,
          "old_line_content": "\ts = VARDATA(str);",
          "new_line_content": "\tbool\t\tresult;",
          "content_same": false
        },
        {
          "line": 371,
          "old_api": "VARSIZE",
          "new_api": null,
          "old_text": "VARSIZE(str)",
          "new_text": null,
          "old_line_content": "\tslen = (VARSIZE(str) - VARHDRSZ);",
          "new_line_content": "\tunsigned char *s,",
          "content_same": false
        },
        {
          "line": 372,
          "old_api": "VARDATA",
          "new_api": null,
          "old_text": "VARDATA(pat)",
          "new_text": null,
          "old_line_content": "\tp = VARDATA(pat);",
          "new_line_content": "\t\t\t   *p;",
          "content_same": false
        },
        {
          "line": 373,
          "old_api": "VARSIZE",
          "new_api": null,
          "old_text": "VARSIZE(pat)",
          "new_text": null,
          "old_line_content": "\tplen = (VARSIZE(pat) - VARHDRSZ);",
          "new_line_content": "\tint\t\t\tslen,",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": "pg_database_encoding_max_length",
          "new_api": null,
          "old_text": "pg_database_encoding_max_length()",
          "new_text": null,
          "old_line_content": "\tif (pg_database_encoding_max_length() == 1)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 380,
          "old_api": "PG_RETURN_BOOL",
          "new_api": null,
          "old_text": "PG_RETURN_BOOL(result)",
          "new_text": null,
          "old_line_content": "\tPG_RETURN_BOOL(result);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 390,
          "old_api": "PG_GETARG_TEXT_P",
          "new_api": null,
          "old_text": "PG_GETARG_TEXT_P(0)",
          "new_text": null,
          "old_line_content": "\ttext\t   *pat = PG_GETARG_TEXT_P(0);",
          "new_line_content": " * like_escape() --- given a pattern and an ESCAPE string,",
          "content_same": false
        },
        {
          "line": 391,
          "old_api": "PG_GETARG_TEXT_P",
          "new_api": null,
          "old_text": "PG_GETARG_TEXT_P(1)",
          "new_text": null,
          "old_line_content": "\ttext\t   *esc = PG_GETARG_TEXT_P(1);",
          "new_line_content": " * convert the pattern to use Postgres' standard backslash escape convention.",
          "content_same": false
        },
        {
          "line": 394,
          "old_api": "pg_database_encoding_max_length",
          "new_api": null,
          "old_text": "pg_database_encoding_max_length()",
          "new_text": null,
          "old_line_content": "\tif (pg_database_encoding_max_length() == 1)",
          "new_line_content": "like_escape(PG_FUNCTION_ARGS)",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": "do_like_escape",
          "new_api": null,
          "old_text": "do_like_escape(pat, esc)",
          "new_text": null,
          "old_line_content": "\t\tresult = do_like_escape(pat, esc);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 399,
          "old_api": "PG_RETURN_TEXT_P",
          "new_api": null,
          "old_text": "PG_RETURN_TEXT_P(result)",
          "new_text": null,
          "old_line_content": "\tPG_RETURN_TEXT_P(result);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 409,
          "old_api": "PG_GETARG_BYTEA_P",
          "new_api": null,
          "old_text": "PG_GETARG_BYTEA_P(0)",
          "new_text": null,
          "old_line_content": "\tbytea\t   *pat = PG_GETARG_BYTEA_P(0);",
          "new_line_content": " * like_escape_bytea() --- given a pattern and an ESCAPE string,",
          "content_same": false
        },
        {
          "line": 410,
          "old_api": "PG_GETARG_BYTEA_P",
          "new_api": null,
          "old_text": "PG_GETARG_BYTEA_P(1)",
          "new_text": null,
          "old_line_content": "\tbytea\t   *esc = PG_GETARG_BYTEA_P(1);",
          "new_line_content": " * convert the pattern to use Postgres' standard backslash escape convention.",
          "content_same": false
        },
        {
          "line": 419,
          "old_api": "VARDATA",
          "new_api": null,
          "old_text": "VARDATA(pat)",
          "new_text": null,
          "old_line_content": "\tp = VARDATA(pat);",
          "new_line_content": "\t\t\t   *e,",
          "content_same": false
        },
        {
          "line": 420,
          "old_api": "VARSIZE",
          "new_api": null,
          "old_text": "VARSIZE(pat)",
          "new_text": null,
          "old_line_content": "\tplen = (VARSIZE(pat) - VARHDRSZ);",
          "new_line_content": "\t\t\t   *r;",
          "content_same": false
        },
        {
          "line": 421,
          "old_api": "VARDATA",
          "new_api": null,
          "old_text": "VARDATA(esc)",
          "new_text": null,
          "old_line_content": "\te = VARDATA(esc);",
          "new_line_content": "\tint\t\t\tplen,",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": "VARSIZE",
          "new_api": null,
          "old_text": "VARSIZE(esc)",
          "new_text": null,
          "old_line_content": "\telen = (VARSIZE(esc) - VARHDRSZ);",
          "new_line_content": "\t\t\t\telen;",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": "VARDATA",
          "new_api": null,
          "old_text": "VARDATA(result)",
          "new_text": null,
          "old_line_content": "\tr = VARDATA(result);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 441,
          "old_api": "BYTEA_CopyAdvChar",
          "new_api": null,
          "old_text": "BYTEA_CopyAdvChar(r, p, plen)",
          "new_text": null,
          "old_line_content": "\t\t\tBYTEA_CopyAdvChar(r, p, plen);",
          "new_line_content": "\t\t * pattern to make them act like ordinary characters.",
          "content_same": false
        },
        {
          "line": 449,
          "old_api": "BYTEA_NextChar",
          "new_api": null,
          "old_text": "BYTEA_NextChar(e, elen)",
          "new_text": null,
          "old_line_content": "\t\tBYTEA_NextChar(e, elen);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 451,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t\t(errcode(ERRCODE_INVALID_ESCAPE_SEQUENCE),\n\t\t\t\t\t errmsg(\"invalid escape string\"),\n\t\t\t  errhint(\"Escape string must be empty or one character.\")))",
          "new_text": null,
          "old_line_content": "\t\t\tereport(ERROR,",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 452,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_INVALID_ESCAPE_SEQUENCE)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t(errcode(ERRCODE_INVALID_ESCAPE_SEQUENCE),",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 453,
          "old_api": "errmsg",
          "new_api": null,
          "old_text": "errmsg(\"invalid escape string\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t errmsg(\"invalid escape string\"),",
          "new_line_content": "\t\t * The specified escape must be only a single character.",
          "content_same": false
        },
        {
          "line": 454,
          "old_api": "errhint",
          "new_api": null,
          "old_text": "errhint(\"Escape string must be empty or one character.\")",
          "new_text": null,
          "old_line_content": "\t\t\t  errhint(\"Escape string must be empty or one character.\")));",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": "VARDATA",
          "new_api": null,
          "old_text": "VARDATA(esc)",
          "new_text": null,
          "old_line_content": "\t\te = VARDATA(esc);",
          "new_line_content": "\t\tif (elen != 0)",
          "content_same": false
        },
        {
          "line": 463,
          "old_api": "VARSIZE",
          "new_api": null,
          "old_text": "VARSIZE(pat)",
          "new_text": null,
          "old_line_content": "\t\t\tmemcpy(result, pat, VARSIZE(pat));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": "PG_RETURN_BYTEA_P",
          "new_api": null,
          "old_text": "PG_RETURN_BYTEA_P(result)",
          "new_text": null,
          "old_line_content": "\t\t\tPG_RETURN_BYTEA_P(result);",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 475,
          "old_api": "BYTEA_CHAREQ",
          "new_api": null,
          "old_text": "BYTEA_CHAREQ(p, e)",
          "new_text": null,
          "old_line_content": "\t\t\tif (BYTEA_CHAREQ(p, e) && !afterescape)",
          "new_line_content": "\t\t * character to '\\', and double occurrences of '\\' --- unless they",
          "content_same": false
        },
        {
          "line": 478,
          "old_api": "BYTEA_NextChar",
          "new_api": null,
          "old_text": "BYTEA_NextChar(p, plen)",
          "new_text": null,
          "old_line_content": "\t\t\t\tBYTEA_NextChar(p, plen);",
          "new_line_content": "\t\tafterescape = false;",
          "content_same": false
        },
        {
          "line": 486,
          "old_api": "BYTEA_NextChar",
          "new_api": null,
          "old_text": "BYTEA_NextChar(p, plen)",
          "new_text": null,
          "old_line_content": "\t\t\t\tBYTEA_NextChar(p, plen);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 491,
          "old_api": "BYTEA_CopyAdvChar",
          "new_api": null,
          "old_text": "BYTEA_CopyAdvChar(r, p, plen)",
          "new_text": null,
          "old_line_content": "\t\t\t\tBYTEA_CopyAdvChar(r, p, plen);",
          "new_line_content": "\t\t\t\t\t*r++ = '\\\\';",
          "content_same": false
        },
        {
          "line": 499,
          "old_api": "PG_RETURN_BYTEA_P",
          "new_api": null,
          "old_text": "PG_RETURN_BYTEA_P(result)",
          "new_text": null,
          "old_line_content": "\tPG_RETURN_BYTEA_P(result);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 30,
      "total_additions": 114,
      "total_deletions": 114,
      "total_api_changes": 258
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 11,
        "api_related_lines": 258,
        "non_api_lines": 7,
        "non_api_line_numbers": [
          64,
          14,
          53,
          58,
          61,
          62,
          63
        ]
      }
    },
    "api_calls_before": 146,
    "api_calls_after": 146,
    "diff_info": {
      "added_lines": 11,
      "removed_lines": 5,
      "total_diff_lines": 37
    }
  }
}