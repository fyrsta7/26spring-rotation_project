{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/34ca0905706422c191b3b0afef6e1c5f54399833",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/34ca0905706422c191b3b0afef6e1c5f54399833/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/34ca0905706422c191b3b0afef6e1c5f54399833/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/34ca0905706422c191b3b0afef6e1c5f54399833/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1717,
          "old_api": "Assert",
          "new_api": "MemSet",
          "old_text": "Assert(aggstrategy == AGG_HASHED)",
          "new_text": "MemSet(&dummy_aggcosts, 0, sizeof(AggClauseCosts))",
          "old_line_content": "\t\tAssert(aggstrategy == AGG_HASHED);",
          "new_line_content": "\t\tMemSet(&dummy_aggcosts, 0, sizeof(AggClauseCosts));",
          "content_same": false
        },
        {
          "line": 2229,
          "old_api": "Assert",
          "new_api": "linitial",
          "old_text": "Assert(ipathkeys)",
          "new_text": "linitial(opathkeys)",
          "old_line_content": "\t\tAssert(ipathkeys);",
          "new_line_content": "\t\topathkey = (PathKey *) linitial(opathkeys);",
          "content_same": false
        },
        {
          "line": 2283,
          "old_api": "rint",
          "new_api": "clamp_row_est",
          "old_text": "rint(inner_path_rows * innerstartsel)",
          "new_text": "clamp_row_est(outer_path_rows * outerendsel)",
          "old_line_content": "\tinner_skip_rows = rint(inner_path_rows * innerstartsel);",
          "new_line_content": "\touter_rows = clamp_row_est(outer_path_rows * outerendsel);",
          "content_same": false
        },
        {
          "line": 2867,
          "old_api": "estimate_hash_bucketsize",
          "new_api": "get_rightop",
          "old_text": "estimate_hash_bucketsize(root,\n\t\t\t\t\t\t\t\t\t\t   get_rightop(restrictinfo->clause),\n\t\t\t\t\t\t\t\t\t\t\t\t virtualbuckets)",
          "new_text": "get_rightop(restrictinfo->clause)",
          "old_line_content": "\t\t\t\t\t\testimate_hash_bucketsize(root,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t   get_rightop(restrictinfo->clause),",
          "content_same": false
        },
        {
          "line": 2883,
          "old_api": "estimate_hash_bucketsize",
          "new_api": "get_leftop",
          "old_text": "estimate_hash_bucketsize(root,\n\t\t\t\t\t\t\t\t\t\t\tget_leftop(restrictinfo->clause),\n\t\t\t\t\t\t\t\t\t\t\t\t virtualbuckets)",
          "new_text": "get_leftop(restrictinfo->clause)",
          "old_line_content": "\t\t\t\t\t\testimate_hash_bucketsize(root,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\tget_leftop(restrictinfo->clause),",
          "content_same": false
        },
        {
          "line": 3008,
          "old_api": "cost_qual_eval",
          "new_api": "make_ands_implicit",
          "old_text": "cost_qual_eval(&sp_cost,\n\t\t\t\t   make_ands_implicit((Expr *) subplan->testexpr),\n\t\t\t\t   root)",
          "new_text": "make_ands_implicit((Expr *) subplan->testexpr)",
          "old_line_content": "\tcost_qual_eval(&sp_cost,",
          "new_line_content": "\t\t\t\t   make_ands_implicit((Expr *) subplan->testexpr),",
          "content_same": false
        },
        {
          "line": 3338,
          "old_api": "set_sa_opfuncid",
          "new_api": "get_func_cost",
          "old_text": "set_sa_opfuncid(saop)",
          "new_text": "get_func_cost(saop->opfuncid)",
          "old_line_content": "\t\tset_sa_opfuncid(saop);",
          "new_line_content": "\t\tcontext->total.per_tuple += get_func_cost(saop->opfuncid) *",
          "content_same": false
        },
        {
          "line": 3339,
          "old_api": "get_func_cost",
          "new_api": "estimate_array_length",
          "old_text": "get_func_cost(saop->opfuncid)",
          "new_text": "estimate_array_length(arraynode)",
          "old_line_content": "\t\tcontext->total.per_tuple += get_func_cost(saop->opfuncid) *",
          "new_line_content": "\t\t\tcpu_operator_cost * estimate_array_length(arraynode) * 0.5;",
          "content_same": false
        },
        {
          "line": 3377,
          "old_api": "OidIsValid",
          "new_api": "get_func_cost",
          "old_text": "OidIsValid(acoerce->elemfuncid)",
          "new_text": "get_func_cost(acoerce->elemfuncid)",
          "old_line_content": "\t\tif (OidIsValid(acoerce->elemfuncid))",
          "new_line_content": "\t\t\tcontext->total.per_tuple += get_func_cost(acoerce->elemfuncid) *",
          "content_same": false
        },
        {
          "line": 3378,
          "old_api": "get_func_cost",
          "new_api": "estimate_array_length",
          "old_text": "get_func_cost(acoerce->elemfuncid)",
          "new_text": "estimate_array_length(arraynode)",
          "old_line_content": "\t\t\tcontext->total.per_tuple += get_func_cost(acoerce->elemfuncid) *",
          "new_line_content": "\t\t\t\tcpu_operator_cost * estimate_array_length(arraynode);",
          "content_same": false
        },
        {
          "line": 3679,
          "old_api": "list_member_ptr",
          "new_api": "is_redundant_derived_clause",
          "old_text": "list_member_ptr(indexclauses, rinfo)",
          "new_text": "is_redundant_derived_clause(rinfo, indexclauses)",
          "old_line_content": "\t\t\tif (!(list_member_ptr(indexclauses, rinfo) ||",
          "new_line_content": "\t\t\t\t  is_redundant_derived_clause(rinfo, indexclauses)))",
          "content_same": false
        },
        {
          "line": 4164,
          "old_api": "list_delete_cell",
          "new_api": "lappend",
          "old_text": "list_delete_cell(worklist, cell, prev)",
          "new_text": "lappend(removedlist, rinfo)",
          "old_line_content": "\t\t\t\tworklist = list_delete_cell(worklist, cell, prev);",
          "new_line_content": "\t\t\t\tremovedlist = lappend(removedlist, rinfo);",
          "content_same": false
        },
        {
          "line": 4264,
          "old_api": "find_base_rel",
          "new_api": "Max",
          "old_text": "find_base_rel(root, fkinfo->ref_relid)",
          "new_text": "Max(ref_rel->tuples, 1.0)",
          "old_line_content": "\t\t\tRelOptInfo *ref_rel = find_base_rel(root, fkinfo->ref_relid);",
          "new_line_content": "\t\t\tdouble\t\tref_tuples = Max(ref_rel->tuples, 1.0);",
          "content_same": false
        },
        {
          "line": 4294,
          "old_api": "Assert",
          "new_api": "planner_rt_fetch",
          "old_text": "Assert(rel->relid > 0)",
          "new_text": "planner_rt_fetch(rel->relid, root)",
          "old_line_content": "\tAssert(rel->relid > 0);",
          "new_line_content": "\trte = planner_rt_fetch(rel->relid, root);",
          "content_same": false
        },
        {
          "line": 4295,
          "old_api": "planner_rt_fetch",
          "new_api": "Assert",
          "old_text": "planner_rt_fetch(rel->relid, root)",
          "new_text": "Assert(rte->rtekind == RTE_SUBQUERY)",
          "old_line_content": "\trte = planner_rt_fetch(rel->relid, root);",
          "new_line_content": "\tAssert(rte->rtekind == RTE_SUBQUERY);",
          "content_same": false
        },
        {
          "line": 4375,
          "old_api": "Assert",
          "new_api": "planner_rt_fetch",
          "old_text": "Assert(rel->relid > 0)",
          "new_text": "planner_rt_fetch(rel->relid, root)",
          "old_line_content": "\tAssert(rel->relid > 0);",
          "new_line_content": "\trte = planner_rt_fetch(rel->relid, root);",
          "content_same": false
        },
        {
          "line": 4376,
          "old_api": "planner_rt_fetch",
          "new_api": "Assert",
          "old_text": "planner_rt_fetch(rel->relid, root)",
          "new_text": "Assert(rte->rtekind == RTE_FUNCTION)",
          "old_line_content": "\trte = planner_rt_fetch(rel->relid, root);",
          "new_line_content": "\tAssert(rte->rtekind == RTE_FUNCTION);",
          "content_same": false
        },
        {
          "line": 4386,
          "old_api": "lfirst",
          "new_api": "expression_returns_set_rows",
          "old_text": "lfirst(lc)",
          "new_text": "expression_returns_set_rows(rtfunc->funcexpr)",
          "old_line_content": "\t\tRangeTblFunction *rtfunc = (RangeTblFunction *) lfirst(lc);",
          "new_line_content": "\t\tdouble\t\tntup = expression_returns_set_rows(rtfunc->funcexpr);",
          "content_same": false
        },
        {
          "line": 4412,
          "old_api": "Assert",
          "new_api": "planner_rt_fetch",
          "old_text": "Assert(rel->relid > 0)",
          "new_text": "planner_rt_fetch(rel->relid, root)",
          "old_line_content": "\tAssert(rel->relid > 0);",
          "new_line_content": "\trte = planner_rt_fetch(rel->relid, root);",
          "content_same": false
        },
        {
          "line": 4413,
          "old_api": "planner_rt_fetch",
          "new_api": "Assert",
          "old_text": "planner_rt_fetch(rel->relid, root)",
          "new_text": "Assert(rte->rtekind == RTE_VALUES)",
          "old_line_content": "\trte = planner_rt_fetch(rel->relid, root);",
          "new_line_content": "\tAssert(rte->rtekind == RTE_VALUES);",
          "content_same": false
        },
        {
          "line": 4444,
          "old_api": "Assert",
          "new_api": "planner_rt_fetch",
          "old_text": "Assert(rel->relid > 0)",
          "new_text": "planner_rt_fetch(rel->relid, root)",
          "old_line_content": "\tAssert(rel->relid > 0);",
          "new_line_content": "\trte = planner_rt_fetch(rel->relid, root);",
          "content_same": false
        },
        {
          "line": 4445,
          "old_api": "planner_rt_fetch",
          "new_api": "Assert",
          "old_text": "planner_rt_fetch(rel->relid, root)",
          "new_text": "Assert(rte->rtekind == RTE_CTE)",
          "old_line_content": "\trte = planner_rt_fetch(rel->relid, root);",
          "new_line_content": "\tAssert(rte->rtekind == RTE_CTE);",
          "content_same": false
        },
        {
          "line": 4586,
          "old_api": "get_typavgwidth",
          "new_api": "Assert",
          "old_text": "get_typavgwidth(var->vartype, var->vartypmod)",
          "new_text": "Assert(item_width > 0)",
          "old_line_content": "\t\t\titem_width = get_typavgwidth(var->vartype, var->vartypmod);",
          "new_line_content": "\t\t\tAssert(item_width > 0);",
          "content_same": false
        },
        {
          "line": 4616,
          "old_api": "exprTypmod",
          "new_api": "Assert",
          "old_text": "exprTypmod(node)",
          "new_text": "Assert(item_width > 0)",
          "old_line_content": "\t\t\titem_width = get_typavgwidth(exprType(node), exprTypmod(node));",
          "new_line_content": "\t\t\tAssert(item_width > 0);",
          "content_same": false
        },
        {
          "line": 4718,
          "old_api": "get_typavgwidth",
          "new_api": "Assert",
          "old_text": "get_typavgwidth(var->vartype, var->vartypmod)",
          "new_text": "Assert(item_width > 0)",
          "old_line_content": "\t\t\titem_width = get_typavgwidth(var->vartype, var->vartypmod);",
          "new_line_content": "\t\t\tAssert(item_width > 0);",
          "content_same": false
        },
        {
          "line": 4730,
          "old_api": "exprTypmod",
          "new_api": "Assert",
          "old_text": "exprTypmod(node)",
          "new_text": "Assert(item_width > 0)",
          "old_line_content": "\t\t\titem_width = get_typavgwidth(exprType(node), exprTypmod(node));",
          "new_line_content": "\t\t\tAssert(item_width > 0);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 4097,
          "old_api": null,
          "new_api": "bms_is_member",
          "old_text": null,
          "new_text": "bms_is_member(fkinfo->con_relid, outer_relids)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\tif (bms_is_member(fkinfo->con_relid, outer_relids) &&",
          "content_same": false
        },
        {
          "line": 2561,
          "old_api": null,
          "new_api": "relation_byte_size",
          "old_text": null,
          "new_text": "relation_byte_size(inner_path_rows,\n\t\t\t\t\t\t\t\tinner_path->pathtarget->width)",
          "old_line_content": "\telse if (enable_material && innersortkeys != NIL &&",
          "new_line_content": "\t\t\t relation_byte_size(inner_path_rows,",
          "content_same": false
        },
        {
          "line": 4100,
          "old_api": null,
          "new_api": "bms_is_member",
          "old_text": null,
          "new_text": "bms_is_member(fkinfo->ref_relid, outer_relids)",
          "old_line_content": "\t\t\tref_is_outer = false;",
          "new_line_content": "\t\telse if (bms_is_member(fkinfo->ref_relid, outer_relids) &&",
          "content_same": false
        },
        {
          "line": 4615,
          "old_api": null,
          "new_api": "exprTypmod",
          "old_text": null,
          "new_text": "exprTypmod(node)",
          "old_line_content": "",
          "new_line_content": "\t\t\titem_width = get_typavgwidth(exprType(node), exprTypmod(node));",
          "content_same": false
        },
        {
          "line": 4619,
          "old_api": null,
          "new_api": "cost_qual_eval_node",
          "old_text": null,
          "new_text": "cost_qual_eval_node(&cost, node, root)",
          "old_line_content": "\t\t\t/* Not entirely clear if we need to account for cost, but do so */",
          "new_line_content": "\t\t\tcost_qual_eval_node(&cost, node, root);",
          "content_same": false
        },
        {
          "line": 2063,
          "old_api": null,
          "new_api": "has_indexed_join_quals",
          "old_text": null,
          "new_text": "has_indexed_join_quals(path)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\tif (has_indexed_join_quals(path))",
          "content_same": false
        },
        {
          "line": 3600,
          "old_api": null,
          "new_api": "Max",
          "old_text": null,
          "new_text": "Max(1.0, avgmatch)",
          "old_line_content": "\t\t/* Clamp to sane range */",
          "new_line_content": "\t\tavgmatch = Max(1.0, avgmatch);",
          "content_same": false
        },
        {
          "line": 4113,
          "old_api": null,
          "new_api": "list_copy",
          "old_text": null,
          "new_text": "list_copy(worklist)",
          "old_line_content": "\t\tif (worklist == *restrictlist)",
          "new_line_content": "\t\t\tworklist = list_copy(worklist);",
          "content_same": false
        },
        {
          "line": 4117,
          "old_api": null,
          "new_api": "list_head",
          "old_text": null,
          "new_text": "list_head(worklist)",
          "old_line_content": "\t\tprev = NULL;",
          "new_line_content": "\t\tfor (cell = list_head(worklist); cell; cell = next)",
          "content_same": false
        },
        {
          "line": 4119,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(cell)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\tRestrictInfo *rinfo = (RestrictInfo *) lfirst(cell);",
          "content_same": false
        },
        {
          "line": 4631,
          "old_api": null,
          "new_api": "MAXALIGN",
          "old_text": null,
          "new_text": "MAXALIGN(SizeofHeapTupleHeader)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tint32\t\twholerow_width = MAXALIGN(SizeofHeapTupleHeader);",
          "content_same": false
        },
        {
          "line": 4123,
          "old_api": null,
          "new_api": "lnext",
          "old_text": null,
          "new_text": "lnext(cell)",
          "old_line_content": "",
          "new_line_content": "\t\t\tnext = lnext(cell);",
          "content_same": false
        },
        {
          "line": 4636,
          "old_api": null,
          "new_api": "get_relation_data_width",
          "old_text": null,
          "new_text": "get_relation_data_width(reloid,\n\t\t\t\t\t\t\t\t\t\t   rel->attr_widths - rel->min_attr)",
          "old_line_content": "\t\t\t/* Real relation, so estimate true tuple width */",
          "new_line_content": "\t\t\twholerow_width += get_relation_data_width(reloid,",
          "content_same": false
        },
        {
          "line": 4657,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(tuple_width >= 0)",
          "old_line_content": "",
          "new_line_content": "\tAssert(tuple_width >= 0);",
          "content_same": false
        },
        {
          "line": 2045,
          "old_api": null,
          "new_api": "rint",
          "old_text": null,
          "new_text": "rint(outer_path_rows * semifactors->outer_match_frac)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\touter_matched_rows = rint(outer_path_rows * semifactors->outer_match_frac);",
          "content_same": false
        },
        {
          "line": 4154,
          "old_api": null,
          "new_api": "list_member_ptr",
          "old_text": null,
          "new_text": "list_member_ptr(fkinfo->rinfos[i], rinfo)",
          "old_line_content": "\t\t\t\t\t */",
          "new_line_content": "\t\t\t\t\tif (list_member_ptr(fkinfo->rinfos[i], rinfo))",
          "content_same": false
        },
        {
          "line": 3647,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(bmqual, IndexPath)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tif (IsA(bmqual, IndexPath))",
          "content_same": false
        },
        {
          "line": 2624,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(lc, rinfo->scansel_cache)",
          "old_line_content": "\t/* Do we have this result already? */",
          "new_line_content": "\tforeach(lc, rinfo->scansel_cache)",
          "content_same": false
        },
        {
          "line": 2626,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(lc)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tcache = (MergeScanSelCache *) lfirst(lc);",
          "content_same": false
        },
        {
          "line": 4163,
          "old_api": null,
          "new_api": "list_delete_cell",
          "old_text": null,
          "new_text": "list_delete_cell(worklist, cell, prev)",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\t\t\tworklist = list_delete_cell(worklist, cell, prev);",
          "content_same": false
        },
        {
          "line": 3142,
          "old_api": null,
          "new_api": "relation_byte_size",
          "old_text": null,
          "new_text": "relation_byte_size(path->rows,\n\t\t\t\t\t\t\t\t\t\t\t\t\tpath->pathtarget->width)",
          "old_line_content": "\t\t\t\tCost\t\trun_cost = cpu_tuple_cost * path->rows;",
          "new_line_content": "\t\t\t\tdouble\t\tnbytes = relation_byte_size(path->rows,",
          "content_same": false
        },
        {
          "line": 2635,
          "old_api": null,
          "new_api": "mergejoinscansel",
          "old_text": null,
          "new_text": "mergejoinscansel(root,\n\t\t\t\t\t (Node *) rinfo->clause,\n\t\t\t\t\t pathkey->pk_opfamily,\n\t\t\t\t\t pathkey->pk_strategy,\n\t\t\t\t\t pathkey->pk_nulls_first,\n\t\t\t\t\t &leftstartsel,\n\t\t\t\t\t &leftendsel,\n\t\t\t\t\t &rightstartsel,\n\t\t\t\t\t &rightendsel)",
          "old_line_content": "\t/* Nope, do the computation */",
          "new_line_content": "\tmergejoinscansel(root,",
          "content_same": false
        },
        {
          "line": 4683,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(lc, target->exprs)",
          "old_line_content": "",
          "new_line_content": "\tforeach(lc, target->exprs)",
          "content_same": false
        },
        {
          "line": 4685,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(lc)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tNode\t   *node = (Node *) lfirst(lc);",
          "content_same": false
        },
        {
          "line": 3149,
          "old_api": null,
          "new_api": "ceil",
          "old_text": null,
          "new_text": "ceil(nbytes / BLCKSZ)",
          "old_line_content": "\t\t\t\t\t/* It will spill, so account for re-read cost */",
          "new_line_content": "\t\t\t\t\tdouble\t\tnpages = ceil(nbytes / BLCKSZ);",
          "content_same": false
        },
        {
          "line": 4687,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, Var)",
          "old_line_content": "",
          "new_line_content": "\t\tif (IsA(node, Var))",
          "content_same": false
        },
        {
          "line": 1612,
          "old_api": null,
          "new_api": "LOG2",
          "old_text": null,
          "new_text": "LOG2(N)",
          "old_line_content": "\tN = (n_streams < 2) ? 2.0 : (double) n_streams;",
          "new_line_content": "\tlogN = LOG2(N);",
          "content_same": false
        },
        {
          "line": 2132,
          "old_api": null,
          "new_api": "cost_qual_eval",
          "old_text": null,
          "new_text": "cost_qual_eval(&restrict_qual_cost, path->joinrestrictinfo, root)",
          "old_line_content": "\t/* CPU costs */",
          "new_line_content": "\tcost_qual_eval(&restrict_qual_cost, path->joinrestrictinfo, root);",
          "content_same": false
        },
        {
          "line": 4693,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(var->varlevelsup == 0)",
          "old_line_content": "\t\t\t/* We should not see any upper-level Vars here */",
          "new_line_content": "\t\t\tAssert(var->varlevelsup == 0);",
          "content_same": false
        },
        {
          "line": 2646,
          "old_api": null,
          "new_api": "MemoryContextSwitchTo",
          "old_text": null,
          "new_text": "MemoryContextSwitchTo(root->planner_cxt)",
          "old_line_content": "\t/* Cache the result in suitably long-lived workspace */",
          "new_line_content": "\toldcontext = MemoryContextSwitchTo(root->planner_cxt);",
          "content_same": false
        },
        {
          "line": 3670,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(lc, innerpath->param_info->ppi_clauses)",
          "old_line_content": "\tfound_one = false;",
          "new_line_content": "\tforeach(lc, innerpath->param_info->ppi_clauses)",
          "content_same": false
        },
        {
          "line": 2648,
          "old_api": null,
          "new_api": "palloc",
          "old_text": null,
          "new_text": "palloc(sizeof(MergeScanSelCache))",
          "old_line_content": "",
          "new_line_content": "\tcache = (MergeScanSelCache *) palloc(sizeof(MergeScanSelCache));",
          "content_same": false
        },
        {
          "line": 3672,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(lc)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tRestrictInfo *rinfo = (RestrictInfo *) lfirst(lc);",
          "content_same": false
        },
        {
          "line": 3674,
          "old_api": null,
          "new_api": "join_clause_is_movable_into",
          "old_text": null,
          "new_text": "join_clause_is_movable_into(rinfo,\n\t\t\t\t\t\t\t\t\t\tinnerpath->parent->relids,\n\t\t\t\t\t\t\t\t\t\tjoinrelids)",
          "old_line_content": "",
          "new_line_content": "\t\tif (join_clause_is_movable_into(rinfo,",
          "content_same": false
        },
        {
          "line": 4189,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(removedlist)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\tif (list_length(removedlist) !=",
          "content_same": false
        },
        {
          "line": 3678,
          "old_api": null,
          "new_api": "list_member_ptr",
          "old_text": null,
          "new_text": "list_member_ptr(indexclauses, rinfo)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\tif (!(list_member_ptr(indexclauses, rinfo) ||",
          "content_same": false
        },
        {
          "line": 4192,
          "old_api": null,
          "new_api": "list_concat",
          "old_text": null,
          "new_text": "list_concat(worklist, removedlist)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\tworklist = list_concat(worklist, removedlist);",
          "content_same": false
        },
        {
          "line": 3169,
          "old_api": null,
          "new_api": "relation_byte_size",
          "old_text": null,
          "new_text": "relation_byte_size(path->rows,\n\t\t\t\t\t\t\t\t\t\t\t\t\tpath->pathtarget->width)",
          "old_line_content": "\t\t\t\tCost\t\trun_cost = cpu_operator_cost * path->rows;",
          "new_line_content": "\t\t\t\tdouble\t\tnbytes = relation_byte_size(path->rows,",
          "content_same": false
        },
        {
          "line": 2658,
          "old_api": null,
          "new_api": "lappend",
          "old_text": null,
          "new_text": "lappend(rinfo->scansel_cache, cache)",
          "old_line_content": "",
          "new_line_content": "\trinfo->scansel_cache = lappend(rinfo->scansel_cache, cache);",
          "content_same": false
        },
        {
          "line": 2660,
          "old_api": null,
          "new_api": "MemoryContextSwitchTo",
          "old_text": null,
          "new_text": "MemoryContextSwitchTo(oldcontext)",
          "old_line_content": "",
          "new_line_content": "\tMemoryContextSwitchTo(oldcontext);",
          "content_same": false
        },
        {
          "line": 3176,
          "old_api": null,
          "new_api": "ceil",
          "old_text": null,
          "new_text": "ceil(nbytes / BLCKSZ)",
          "old_line_content": "\t\t\t\t\t/* It will spill, so account for re-read cost */",
          "new_line_content": "\t\t\t\t\tdouble\t\tnpages = ceil(nbytes / BLCKSZ);",
          "content_same": false
        },
        {
          "line": 4717,
          "old_api": null,
          "new_api": "get_typavgwidth",
          "old_text": null,
          "new_text": "get_typavgwidth(var->vartype, var->vartypmod)",
          "old_line_content": "\t\t\t */",
          "new_line_content": "\t\t\titem_width = get_typavgwidth(var->vartype, var->vartypmod);",
          "content_same": false
        },
        {
          "line": 1654,
          "old_api": null,
          "new_api": "relation_byte_size",
          "old_text": null,
          "new_text": "relation_byte_size(tuples, width)",
          "old_line_content": "\tCost\t\trun_cost = input_total_cost - input_startup_cost;",
          "new_line_content": "\tdouble\t\tnbytes = relation_byte_size(tuples, width);",
          "content_same": false
        },
        {
          "line": 4729,
          "old_api": null,
          "new_api": "exprTypmod",
          "old_text": null,
          "new_text": "exprTypmod(node)",
          "old_line_content": "",
          "new_line_content": "\t\t\titem_width = get_typavgwidth(exprType(node), exprTypmod(node));",
          "content_same": false
        },
        {
          "line": 4734,
          "old_api": null,
          "new_api": "cost_qual_eval_node",
          "old_text": null,
          "new_text": "cost_qual_eval_node(&cost, node, root)",
          "old_line_content": "\t\t\t/* Account for cost, too */",
          "new_line_content": "\t\t\tcost_qual_eval_node(&cost, node, root);",
          "content_same": false
        },
        {
          "line": 4740,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(tuple_width >= 0)",
          "old_line_content": "",
          "new_line_content": "\tAssert(tuple_width >= 0);",
          "content_same": false
        },
        {
          "line": 4237,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(cell)",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\t\t\tRestrictInfo *rinfo = (RestrictInfo *) lfirst(cell);",
          "content_same": false
        },
        {
          "line": 2702,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(hashclauses)",
          "old_line_content": "\tdouble\t\tinner_path_rows = inner_path->rows;",
          "new_line_content": "\tint\t\t\tnum_hashclauses = list_length(hashclauses);",
          "content_same": false
        },
        {
          "line": 3215,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(l)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tNode\t   *qual = (Node *) lfirst(l);",
          "content_same": false
        },
        {
          "line": 4240,
          "old_api": null,
          "new_api": "clause_selectivity",
          "old_text": null,
          "new_text": "clause_selectivity(root, (Node *) rinfo,\n\t\t\t\t\t\t\t\t\t\t  0, jointype, sjinfo)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tcsel = clause_selectivity(root, (Node *) rinfo,",
          "content_same": false
        },
        {
          "line": 3217,
          "old_api": null,
          "new_api": "cost_qual_eval_walker",
          "old_text": null,
          "new_text": "cost_qual_eval_walker(qual, &context)",
          "old_line_content": "",
          "new_line_content": "\t\tcost_qual_eval_walker(qual, &context);",
          "content_same": false
        },
        {
          "line": 4242,
          "old_api": null,
          "new_api": "Min",
          "old_text": null,
          "new_text": "Min(thisfksel, csel)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t  0, jointype, sjinfo);",
          "new_line_content": "\t\t\t\tthisfksel = Min(thisfksel, csel);",
          "content_same": false
        },
        {
          "line": 4754,
          "old_api": null,
          "new_api": "MAXALIGN",
          "old_text": null,
          "new_text": "MAXALIGN(SizeofHeapTupleHeader)",
          "old_line_content": "{",
          "new_line_content": "\treturn tuples * (MAXALIGN(width) + MAXALIGN(SizeofHeapTupleHeader));",
          "content_same": false
        },
        {
          "line": 1681,
          "old_api": null,
          "new_api": "ceil",
          "old_text": null,
          "new_text": "ceil(nbytes / BLCKSZ)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tdouble\t\tnpages = ceil(nbytes / BLCKSZ);",
          "content_same": false
        },
        {
          "line": 2199,
          "old_api": null,
          "new_api": "isnan",
          "old_text": null,
          "new_text": "isnan(outer_path_rows)",
          "old_line_content": "\t/* Protect some assumptions below that rowcounts aren't zero or NaN */",
          "new_line_content": "\tif (outer_path_rows <= 0 || isnan(outer_path_rows))",
          "content_same": false
        },
        {
          "line": 2201,
          "old_api": null,
          "new_api": "isnan",
          "old_text": null,
          "new_text": "isnan(inner_path_rows)",
          "old_line_content": "\t\touter_path_rows = 1;",
          "new_line_content": "\tif (inner_path_rows <= 0 || isnan(inner_path_rows))",
          "content_same": false
        },
        {
          "line": 4765,
          "old_api": null,
          "new_api": "relation_byte_size",
          "old_text": null,
          "new_text": "relation_byte_size(tuples, width)",
          "old_line_content": "{",
          "new_line_content": "\treturn ceil(relation_byte_size(tuples, width) / BLCKSZ);",
          "content_same": false
        },
        {
          "line": 3742,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(l)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tNode\t   *qual = (Node *) lfirst(l);",
          "content_same": false
        },
        {
          "line": 3745,
          "old_api": null,
          "new_api": "clause_selectivity",
          "old_text": null,
          "new_text": "clause_selectivity(root, qual, 0, JOIN_INNER, &sjinfo)",
          "old_line_content": "\t\t/* Note that clause_selectivity will be able to cache its result */",
          "new_line_content": "\t\tselec *= clause_selectivity(root, qual, 0, JOIN_INNER, &sjinfo);",
          "content_same": false
        },
        {
          "line": 3236,
          "old_api": null,
          "new_api": "cost_qual_eval_walker",
          "old_text": null,
          "new_text": "cost_qual_eval_walker(qual, &context)",
          "old_line_content": "",
          "new_line_content": "\tcost_qual_eval_walker(qual, &context);",
          "content_same": false
        },
        {
          "line": 4263,
          "old_api": null,
          "new_api": "find_base_rel",
          "old_text": null,
          "new_text": "find_base_rel(root, fkinfo->ref_relid)",
          "old_line_content": "\t\t\t */",
          "new_line_content": "\t\t\tRelOptInfo *ref_rel = find_base_rel(root, fkinfo->ref_relid);",
          "content_same": false
        },
        {
          "line": 3751,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(tuples)",
          "old_line_content": "",
          "new_line_content": "\treturn clamp_row_est(tuples);",
          "content_same": false
        },
        {
          "line": 2217,
          "old_api": null,
          "new_api": "linitial",
          "old_text": null,
          "new_text": "linitial(mergeclauses)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tRestrictInfo *firstclause = (RestrictInfo *) linitial(mergeclauses);",
          "content_same": false
        },
        {
          "line": 2736,
          "old_api": null,
          "new_api": "ExecChooseHashTableSize",
          "old_text": null,
          "new_text": "ExecChooseHashTableSize(inner_path_rows,\n\t\t\t\t\t\t\tinner_path->pathtarget->width,\n\t\t\t\t\t\t\ttrue,\t\t/* useskew */\n\t\t\t\t\t\t\t&numbuckets,\n\t\t\t\t\t\t\t&numbatches,\n\t\t\t\t\t\t\t&num_skew_mcvs)",
          "old_line_content": "\t */",
          "new_line_content": "\tExecChooseHashTableSize(inner_path_rows,",
          "content_same": false
        },
        {
          "line": 2227,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(opathkeys)",
          "old_line_content": "\t\tipathkeys = innersortkeys ? innersortkeys : inner_path->pathkeys;",
          "new_line_content": "\t\tAssert(opathkeys);",
          "content_same": false
        },
        {
          "line": 1716,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(aggstrategy == AGG_HASHED)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tAssert(aggstrategy == AGG_HASHED);",
          "content_same": false
        },
        {
          "line": 3253,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, RestrictInfo)",
          "old_line_content": "\t */",
          "new_line_content": "\tif (IsA(node, RestrictInfo))",
          "content_same": false
        },
        {
          "line": 2236,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"left and right pathkeys do not match in mergejoin\")",
          "old_line_content": "\t\t\topathkey->pk_nulls_first != ipathkey->pk_nulls_first)",
          "new_line_content": "\t\t\telog(ERROR, \"left and right pathkeys do not match in mergejoin\");",
          "content_same": false
        },
        {
          "line": 3774,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(rel->relid > 0)",
          "old_line_content": "\t/* Should only be applied to base relations */",
          "new_line_content": "\tAssert(rel->relid > 0);",
          "content_same": false
        },
        {
          "line": 2239,
          "old_api": null,
          "new_api": "cached_scansel",
          "old_text": null,
          "new_text": "cached_scansel(root, firstclause, opathkey)",
          "old_line_content": "\t\t/* Get the selectivity with caching */",
          "new_line_content": "\t\tcache = cached_scansel(root, firstclause, opathkey);",
          "content_same": false
        },
        {
          "line": 2752,
          "old_api": null,
          "new_api": "page_size",
          "old_text": null,
          "new_text": "page_size(outer_path_rows,\n\t\t\t\t\t\t\t\t\t\t   outer_path->pathtarget->width)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tdouble\t\touterpages = page_size(outer_path_rows,",
          "content_same": false
        },
        {
          "line": 2241,
          "old_api": null,
          "new_api": "bms_is_subset",
          "old_text": null,
          "new_text": "bms_is_subset(firstclause->left_relids,\n\t\t\t\t\t\t  outer_path->parent->relids)",
          "old_line_content": "",
          "new_line_content": "\t\tif (bms_is_subset(firstclause->left_relids,",
          "content_same": false
        },
        {
          "line": 2754,
          "old_api": null,
          "new_api": "page_size",
          "old_text": null,
          "new_text": "page_size(inner_path_rows,\n\t\t\t\t\t\t\t\t\t\t   inner_path->pathtarget->width)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t   outer_path->pathtarget->width);",
          "new_line_content": "\t\tdouble\t\tinnerpages = page_size(inner_path_rows,",
          "content_same": false
        },
        {
          "line": 3777,
          "old_api": null,
          "new_api": "clauselist_selectivity",
          "old_text": null,
          "new_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t   rel->baserestrictinfo,\n\t\t\t\t\t\t\t   0,\n\t\t\t\t\t\t\t   JOIN_INNER,\n\t\t\t\t\t\t\t   NULL)",
          "old_line_content": "\tnrows = rel->tuples *",
          "new_line_content": "\t\tclauselist_selectivity(root,",
          "content_same": false
        },
        {
          "line": 4293,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(rel->relid > 0)",
          "old_line_content": "\t/* Should only be applied to base relations that are subqueries */",
          "new_line_content": "\tAssert(rel->relid > 0);",
          "content_same": false
        },
        {
          "line": 3270,
          "old_api": null,
          "new_api": "cost_qual_eval_walker",
          "old_text": null,
          "new_text": "cost_qual_eval_walker((Node *) rinfo->orclause, &locContext)",
          "old_line_content": "\t\t\tif (rinfo->orclause)",
          "new_line_content": "\t\t\t\tcost_qual_eval_walker((Node *) rinfo->orclause, &locContext);",
          "content_same": false
        },
        {
          "line": 3783,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(nrows)",
          "old_line_content": "",
          "new_line_content": "\trel->rows = clamp_row_est(nrows);",
          "content_same": false
        },
        {
          "line": 3272,
          "old_api": null,
          "new_api": "cost_qual_eval_walker",
          "old_text": null,
          "new_text": "cost_qual_eval_walker((Node *) rinfo->clause, &locContext)",
          "old_line_content": "\t\t\telse",
          "new_line_content": "\t\t\t\tcost_qual_eval_walker((Node *) rinfo->clause, &locContext);",
          "content_same": false
        },
        {
          "line": 3785,
          "old_api": null,
          "new_api": "cost_qual_eval",
          "old_text": null,
          "new_text": "cost_qual_eval(&rel->baserestrictcost, rel->baserestrictinfo, root)",
          "old_line_content": "",
          "new_line_content": "\tcost_qual_eval(&rel->baserestrictcost, rel->baserestrictinfo, root);",
          "content_same": false
        },
        {
          "line": 3787,
          "old_api": null,
          "new_api": "set_rel_width",
          "old_text": null,
          "new_text": "set_rel_width(root, rel)",
          "old_line_content": "",
          "new_line_content": "\tset_rel_width(root, rel);",
          "content_same": false
        },
        {
          "line": 4301,
          "old_api": null,
          "new_api": "fetch_upper_rel",
          "old_text": null,
          "new_text": "fetch_upper_rel(subroot, UPPERREL_FINAL, NULL)",
          "old_line_content": "\t */",
          "new_line_content": "\tsub_final_rel = fetch_upper_rel(subroot, UPPERREL_FINAL, NULL);",
          "content_same": false
        },
        {
          "line": 4310,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(lc, subroot->parse->targetList)",
          "old_line_content": "\t */",
          "new_line_content": "\tforeach(lc, subroot->parse->targetList)",
          "content_same": false
        },
        {
          "line": 4312,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(lc)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tTargetEntry *te = (TargetEntry *) lfirst(lc);",
          "content_same": false
        },
        {
          "line": 4316,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(te, TargetEntry)",
          "old_line_content": "",
          "new_line_content": "\t\tAssert(IsA(te, TargetEntry));",
          "content_same": false
        },
        {
          "line": 3811,
          "old_api": null,
          "new_api": "list_copy",
          "old_text": null,
          "new_text": "list_copy(param_clauses)",
          "old_line_content": "\t */",
          "new_line_content": "\tallclauses = list_concat(list_copy(param_clauses),",
          "content_same": false
        },
        {
          "line": 3814,
          "old_api": null,
          "new_api": "clauselist_selectivity",
          "old_text": null,
          "new_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t   allclauses,\n\t\t\t\t\t\t\t   rel->relid,\t\t/* do not use 0! */\n\t\t\t\t\t\t\t   JOIN_INNER,\n\t\t\t\t\t\t\t   NULL)",
          "old_line_content": "\tnrows = rel->tuples *",
          "new_line_content": "\t\tclauselist_selectivity(root,",
          "content_same": false
        },
        {
          "line": 2281,
          "old_api": null,
          "new_api": "rint",
          "old_text": null,
          "new_text": "rint(outer_path_rows * outerstartsel)",
          "old_line_content": "\t */",
          "new_line_content": "\touter_skip_rows = rint(outer_path_rows * outerstartsel);",
          "content_same": false
        },
        {
          "line": 3819,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(nrows)",
          "old_line_content": "\t\t\t\t\t\t\t   NULL);",
          "new_line_content": "\tnrows = clamp_row_est(nrows);",
          "content_same": false
        },
        {
          "line": 2286,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(outer_skip_rows <= outer_rows)",
          "old_line_content": "",
          "new_line_content": "\tAssert(outer_skip_rows <= outer_rows);",
          "content_same": false
        },
        {
          "line": 3314,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, FuncExpr)",
          "old_line_content": "\t */",
          "new_line_content": "\tif (IsA(node, FuncExpr))",
          "content_same": false
        },
        {
          "line": 3317,
          "old_api": null,
          "new_api": "get_func_cost",
          "old_text": null,
          "new_text": "get_func_cost(((FuncExpr *) node)->funcid)",
          "old_line_content": "\t\tcontext->total.per_tuple +=",
          "new_line_content": "\t\t\tget_func_cost(((FuncExpr *) node)->funcid) * cpu_operator_cost;",
          "content_same": false
        },
        {
          "line": 4343,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(texpr, Var)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\tif (IsA(texpr, Var) &&",
          "content_same": false
        },
        {
          "line": 3319,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, OpExpr)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, OpExpr) ||",
          "content_same": false
        },
        {
          "line": 4347,
          "old_api": null,
          "new_api": "find_base_rel",
          "old_text": null,
          "new_text": "find_base_rel(subroot, var->varno)",
          "old_line_content": "\t\t\tVar\t\t   *var = (Var *) texpr;",
          "new_line_content": "\t\t\tRelOptInfo *subrel = find_base_rel(subroot, var->varno);",
          "content_same": false
        },
        {
          "line": 2299,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(outerstartsel <= outerendsel)",
          "old_line_content": "",
          "new_line_content": "\tAssert(outerstartsel <= outerendsel);",
          "content_same": false
        },
        {
          "line": 3324,
          "old_api": null,
          "new_api": "set_opfuncid",
          "old_text": null,
          "new_text": "set_opfuncid((OpExpr *) node)",
          "old_line_content": "\t\t/* rely on struct equivalence to treat these all alike */",
          "new_line_content": "\t\tset_opfuncid((OpExpr *) node);",
          "content_same": false
        },
        {
          "line": 3326,
          "old_api": null,
          "new_api": "get_func_cost",
          "old_text": null,
          "new_text": "get_func_cost(((OpExpr *) node)->opfuncid)",
          "old_line_content": "\t\tcontext->total.per_tuple +=",
          "new_line_content": "\t\t\tget_func_cost(((OpExpr *) node)->opfuncid) * cpu_operator_cost;",
          "content_same": false
        },
        {
          "line": 3328,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, ScalarArrayOpExpr)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, ScalarArrayOpExpr))",
          "content_same": false
        },
        {
          "line": 2306,
          "old_api": null,
          "new_api": "cost_sort",
          "old_text": null,
          "new_text": "cost_sort(&sort_path,\n\t\t\t\t  root,\n\t\t\t\t  outersortkeys,\n\t\t\t\t  outer_path->total_cost,\n\t\t\t\t  outer_path_rows,\n\t\t\t\t  outer_path->pathtarget->width,\n\t\t\t\t  0.0,\n\t\t\t\t  work_mem,\n\t\t\t\t  -1.0)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tcost_sort(&sort_path,",
          "content_same": false
        },
        {
          "line": 4355,
          "old_api": null,
          "new_api": "set_baserel_size_estimates",
          "old_text": null,
          "new_text": "set_baserel_size_estimates(root, rel)",
          "old_line_content": "\t/* Now estimate number of output rows, etc */",
          "new_line_content": "\tset_baserel_size_estimates(root, rel);",
          "content_same": false
        },
        {
          "line": 3335,
          "old_api": null,
          "new_api": "lsecond",
          "old_text": null,
          "new_text": "lsecond(saop->args)",
          "old_line_content": "\t\tScalarArrayOpExpr *saop = (ScalarArrayOpExpr *) node;",
          "new_line_content": "\t\tNode\t   *arraynode = (Node *) lsecond(saop->args);",
          "content_same": false
        },
        {
          "line": 3337,
          "old_api": null,
          "new_api": "set_sa_opfuncid",
          "old_text": null,
          "new_text": "set_sa_opfuncid(saop)",
          "old_line_content": "",
          "new_line_content": "\t\tset_sa_opfuncid(saop);",
          "content_same": false
        },
        {
          "line": 3341,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, Aggref)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, Aggref) ||",
          "content_same": false
        },
        {
          "line": 3855,
          "old_api": null,
          "new_api": "calc_joinrel_size_estimate",
          "old_text": null,
          "new_text": "calc_joinrel_size_estimate(root,\n\t\t\t\t\t\t\t\t\t\t   outer_rel,\n\t\t\t\t\t\t\t\t\t\t   inner_rel,\n\t\t\t\t\t\t\t\t\t\t   outer_rel->rows,\n\t\t\t\t\t\t\t\t\t\t   inner_rel->rows,\n\t\t\t\t\t\t\t\t\t\t   sjinfo,\n\t\t\t\t\t\t\t\t\t\t   restrictlist)",
          "old_line_content": "{",
          "new_line_content": "\trel->rows = calc_joinrel_size_estimate(root,",
          "content_same": false
        },
        {
          "line": 2837,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(inner_path, UniquePath)",
          "old_line_content": "\t */",
          "new_line_content": "\tif (IsA(inner_path, UniquePath))",
          "content_same": false
        },
        {
          "line": 4374,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(rel->relid > 0)",
          "old_line_content": "\t/* Should only be applied to base relations that are functions */",
          "new_line_content": "\tAssert(rel->relid > 0);",
          "content_same": false
        },
        {
          "line": 1817,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(lc)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tWindowFunc *wfunc = (WindowFunc *) lfirst(lc);",
          "content_same": false
        },
        {
          "line": 3355,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, CoerceViaIO)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, CoerceViaIO))",
          "content_same": false
        },
        {
          "line": 2332,
          "old_api": null,
          "new_api": "cost_sort",
          "old_text": null,
          "new_text": "cost_sort(&sort_path,\n\t\t\t\t  root,\n\t\t\t\t  innersortkeys,\n\t\t\t\t  inner_path->total_cost,\n\t\t\t\t  inner_path_rows,\n\t\t\t\t  inner_path->pathtarget->width,\n\t\t\t\t  0.0,\n\t\t\t\t  work_mem,\n\t\t\t\t  -1.0)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tcost_sort(&sort_path,",
          "content_same": false
        },
        {
          "line": 2844,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(hcl)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\tRestrictInfo *restrictinfo = (RestrictInfo *) lfirst(hcl);",
          "content_same": false
        },
        {
          "line": 1821,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(wfunc, WindowFunc)",
          "old_line_content": "",
          "new_line_content": "\t\tAssert(IsA(wfunc, WindowFunc));",
          "content_same": false
        },
        {
          "line": 4383,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(lc, rte->functions)",
          "old_line_content": "\trel->tuples = 0;",
          "new_line_content": "\tforeach(lc, rte->functions)",
          "content_same": false
        },
        {
          "line": 2847,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(restrictinfo, RestrictInfo)",
          "old_line_content": "",
          "new_line_content": "\t\t\tAssert(IsA(restrictinfo, RestrictInfo));",
          "content_same": false
        },
        {
          "line": 4385,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(lc)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tRangeTblFunction *rtfunc = (RangeTblFunction *) lfirst(lc);",
          "content_same": false
        },
        {
          "line": 1823,
          "old_api": null,
          "new_api": "get_func_cost",
          "old_text": null,
          "new_text": "get_func_cost(wfunc->winfnoid)",
          "old_line_content": "",
          "new_line_content": "\t\twfunccost = get_func_cost(wfunc->winfnoid) * cpu_operator_cost;",
          "content_same": false
        },
        {
          "line": 3363,
          "old_api": null,
          "new_api": "getTypeInputInfo",
          "old_text": null,
          "new_text": "getTypeInputInfo(iocoerce->resulttype,\n\t\t\t\t\t\t &iofunc, &typioparam)",
          "old_line_content": "\t\t/* check the result type's input function */",
          "new_line_content": "\t\tgetTypeInputInfo(iocoerce->resulttype,",
          "content_same": false
        },
        {
          "line": 1826,
          "old_api": null,
          "new_api": "cost_qual_eval_node",
          "old_text": null,
          "new_text": "cost_qual_eval_node(&argcosts, (Node *) wfunc->args, root)",
          "old_line_content": "\t\t/* also add the input expressions' cost to per-input-row costs */",
          "new_line_content": "\t\tcost_qual_eval_node(&argcosts, (Node *) wfunc->args, root);",
          "content_same": false
        },
        {
          "line": 3365,
          "old_api": null,
          "new_api": "get_func_cost",
          "old_text": null,
          "new_text": "get_func_cost(iofunc)",
          "old_line_content": "\t\t\t\t\t\t &iofunc, &typioparam);",
          "new_line_content": "\t\tcontext->total.per_tuple += get_func_cost(iofunc) * cpu_operator_cost;",
          "content_same": false
        },
        {
          "line": 3367,
          "old_api": null,
          "new_api": "exprType",
          "old_text": null,
          "new_text": "exprType((Node *) iocoerce->arg)",
          "old_line_content": "\t\t/* check the input type's output function */",
          "new_line_content": "\t\tgetTypeOutputInfo(exprType((Node *) iocoerce->arg),",
          "content_same": false
        },
        {
          "line": 4393,
          "old_api": null,
          "new_api": "set_baserel_size_estimates",
          "old_text": null,
          "new_text": "set_baserel_size_estimates(root, rel)",
          "old_line_content": "\t/* Now estimate number of output rows, etc */",
          "new_line_content": "\tset_baserel_size_estimates(root, rel);",
          "content_same": false
        },
        {
          "line": 2857,
          "old_api": null,
          "new_api": "bms_is_subset",
          "old_text": null,
          "new_text": "bms_is_subset(restrictinfo->right_relids,\n\t\t\t\t\t\t\t  inner_path->parent->relids)",
          "old_line_content": "\t\t\t */",
          "new_line_content": "\t\t\tif (bms_is_subset(restrictinfo->right_relids,",
          "content_same": false
        },
        {
          "line": 3369,
          "old_api": null,
          "new_api": "get_func_cost",
          "old_text": null,
          "new_text": "get_func_cost(iofunc)",
          "old_line_content": "\t\t\t\t\t\t  &iofunc, &typisvarlena);",
          "new_line_content": "\t\tcontext->total.per_tuple += get_func_cost(iofunc) * cpu_operator_cost;",
          "content_same": false
        },
        {
          "line": 3371,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, ArrayCoerceExpr)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, ArrayCoerceExpr))",
          "content_same": false
        },
        {
          "line": 1834,
          "old_api": null,
          "new_api": "cost_qual_eval_node",
          "old_text": null,
          "new_text": "cost_qual_eval_node(&argcosts, (Node *) wfunc->aggfilter, root)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\tcost_qual_eval_node(&argcosts, (Node *) wfunc->aggfilter, root);",
          "content_same": false
        },
        {
          "line": 3376,
          "old_api": null,
          "new_api": "OidIsValid",
          "old_text": null,
          "new_text": "OidIsValid(acoerce->elemfuncid)",
          "old_line_content": "",
          "new_line_content": "\t\tif (OidIsValid(acoerce->elemfuncid))",
          "content_same": false
        },
        {
          "line": 2866,
          "old_api": null,
          "new_api": "estimate_hash_bucketsize",
          "old_text": null,
          "new_text": "estimate_hash_bucketsize(root,\n\t\t\t\t\t\t\t\t\t\t   get_rightop(restrictinfo->clause),\n\t\t\t\t\t\t\t\t\t\t\t\t virtualbuckets)",
          "old_line_content": "\t\t\t\t\tthisbucketsize =",
          "new_line_content": "\t\t\t\t\t\testimate_hash_bucketsize(root,",
          "content_same": false
        },
        {
          "line": 3380,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, RowCompareExpr)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, RowCompareExpr))",
          "content_same": false
        },
        {
          "line": 3897,
          "old_api": null,
          "new_api": "calc_joinrel_size_estimate",
          "old_text": null,
          "new_text": "calc_joinrel_size_estimate(root,\n\t\t\t\t\t\t\t\t\t   outer_path->parent,\n\t\t\t\t\t\t\t\t\t   inner_path->parent,\n\t\t\t\t\t\t\t\t\t   outer_path->rows,\n\t\t\t\t\t\t\t\t\t   inner_path->rows,\n\t\t\t\t\t\t\t\t\t   sjinfo,\n\t\t\t\t\t\t\t\t\t   restrict_clauses)",
          "old_line_content": "\t */",
          "new_line_content": "\tnrows = calc_joinrel_size_estimate(root,",
          "content_same": false
        },
        {
          "line": 2874,
          "old_api": null,
          "new_api": "bms_is_subset",
          "old_text": null,
          "new_text": "bms_is_subset(restrictinfo->left_relids,\n\t\t\t\t\t\t\t\t\t inner_path->parent->relids)",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\t\t\tAssert(bms_is_subset(restrictinfo->left_relids,",
          "content_same": false
        },
        {
          "line": 4411,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(rel->relid > 0)",
          "old_line_content": "\t/* Should only be applied to base relations that are values lists */",
          "new_line_content": "\tAssert(rel->relid > 0);",
          "content_same": false
        },
        {
          "line": 3386,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(lc, rcexpr->opnos)",
          "old_line_content": "",
          "new_line_content": "\t\tforeach(lc, rcexpr->opnos)",
          "content_same": false
        },
        {
          "line": 3388,
          "old_api": null,
          "new_api": "lfirst_oid",
          "old_text": null,
          "new_text": "lfirst_oid(lc)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\tOid\t\t\topid = lfirst_oid(lc);",
          "content_same": false
        },
        {
          "line": 3390,
          "old_api": null,
          "new_api": "get_opcode",
          "old_text": null,
          "new_text": "get_opcode(opid)",
          "old_line_content": "",
          "new_line_content": "\t\t\tcontext->total.per_tuple += get_func_cost(get_opcode(opid)) *",
          "content_same": false
        },
        {
          "line": 2882,
          "old_api": null,
          "new_api": "estimate_hash_bucketsize",
          "old_text": null,
          "new_text": "estimate_hash_bucketsize(root,\n\t\t\t\t\t\t\t\t\t\t\tget_leftop(restrictinfo->clause),\n\t\t\t\t\t\t\t\t\t\t\t\t virtualbuckets)",
          "old_line_content": "\t\t\t\t\tthisbucketsize =",
          "new_line_content": "\t\t\t\t\t\testimate_hash_bucketsize(root,",
          "content_same": false
        },
        {
          "line": 3394,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, CurrentOfExpr)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, CurrentOfExpr))",
          "content_same": false
        },
        {
          "line": 4421,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(rte->values_lists)",
          "old_line_content": "\t */",
          "new_line_content": "\trel->tuples = list_length(rte->values_lists);",
          "content_same": false
        },
        {
          "line": 3399,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, SubLink)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, SubLink))",
          "content_same": false
        },
        {
          "line": 4424,
          "old_api": null,
          "new_api": "set_baserel_size_estimates",
          "old_text": null,
          "new_text": "set_baserel_size_estimates(root, rel)",
          "old_line_content": "\t/* Now estimate number of output rows, etc */",
          "new_line_content": "\tset_baserel_size_estimates(root, rel);",
          "content_same": false
        },
        {
          "line": 3402,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"cannot handle unplanned sub-select\")",
          "old_line_content": "\t\t/* This routine should not be applied to un-planned expressions */",
          "new_line_content": "\t\telog(ERROR, \"cannot handle unplanned sub-select\");",
          "content_same": false
        },
        {
          "line": 3404,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, SubPlan)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, SubPlan))",
          "content_same": false
        },
        {
          "line": 2898,
          "old_api": null,
          "new_api": "cost_qual_eval",
          "old_text": null,
          "new_text": "cost_qual_eval(&hash_qual_cost, hashclauses, root)",
          "old_line_content": "\t */",
          "new_line_content": "\tcost_qual_eval(&hash_qual_cost, hashclauses, root);",
          "content_same": false
        },
        {
          "line": 4443,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(rel->relid > 0)",
          "old_line_content": "\t/* Should only be applied to base relations that are CTE references */",
          "new_line_content": "\tAssert(rel->relid > 0);",
          "content_same": false
        },
        {
          "line": 3423,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, AlternativeSubPlan)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, AlternativeSubPlan))",
          "content_same": false
        },
        {
          "line": 2921,
          "old_api": null,
          "new_api": "rint",
          "old_text": null,
          "new_text": "rint(outer_path_rows * semifactors->outer_match_frac)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\touter_matched_rows = rint(outer_path_rows * semifactors->outer_match_frac);",
          "content_same": false
        },
        {
          "line": 3433,
          "old_api": null,
          "new_api": "linitial",
          "old_text": null,
          "new_text": "linitial(asplan->subplans)",
          "old_line_content": "",
          "new_line_content": "\t\treturn cost_qual_eval_walker((Node *) linitial(asplan->subplans),",
          "content_same": false
        },
        {
          "line": 3436,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, PlaceHolderVar)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, PlaceHolderVar))",
          "content_same": false
        },
        {
          "line": 4462,
          "old_api": null,
          "new_api": "set_baserel_size_estimates",
          "old_text": null,
          "new_text": "set_baserel_size_estimates(root, rel)",
          "old_line_content": "\t/* Now estimate number of output rows, etc */",
          "new_line_content": "\tset_baserel_size_estimates(root, rel);",
          "content_same": false
        },
        {
          "line": 2926,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(inner_path_rows * innerbucketsize * inner_scan_frac)",
          "old_line_content": "\t\trun_cost += hash_qual_cost.per_tuple * outer_matched_rows *",
          "new_line_content": "\t\t\tclamp_row_est(inner_path_rows * innerbucketsize * inner_scan_frac) * 0.5;",
          "content_same": false
        },
        {
          "line": 3951,
          "old_api": null,
          "new_api": "get_foreign_key_join_selectivity",
          "old_text": null,
          "new_text": "get_foreign_key_join_selectivity(root,\n\t\t\t\t\t\t\t\t\t\t\t   outer_rel->relids,\n\t\t\t\t\t\t\t\t\t\t\t   inner_rel->relids,\n\t\t\t\t\t\t\t\t\t\t\t   sjinfo,\n\t\t\t\t\t\t\t\t\t\t\t   &restrictlist)",
          "old_line_content": "\t */",
          "new_line_content": "\tfkselec = get_foreign_key_join_selectivity(root,",
          "content_same": false
        },
        {
          "line": 2425,
          "old_api": null,
          "new_api": "isnan",
          "old_text": null,
          "new_text": "isnan(inner_path_rows)",
          "old_line_content": "\t/* Protect some assumptions below that rowcounts aren't zero or NaN */",
          "new_line_content": "\tif (inner_path_rows <= 0 || isnan(inner_path_rows))",
          "content_same": false
        },
        {
          "line": 3962,
          "old_api": null,
          "new_api": "IS_OUTER_JOIN",
          "old_text": null,
          "new_text": "IS_OUTER_JOIN(jointype)",
          "old_line_content": "\t */",
          "new_line_content": "\tif (IS_OUTER_JOIN(jointype))",
          "content_same": false
        },
        {
          "line": 3452,
          "old_api": null,
          "new_api": "expression_tree_walker",
          "old_text": null,
          "new_text": "expression_tree_walker(node, cost_qual_eval_walker,\n\t\t\t\t\t\t\t\t  (void *) context)",
          "old_line_content": "\t/* recurse into children */",
          "new_line_content": "\treturn expression_tree_walker(node, cost_qual_eval_walker,",
          "content_same": false
        },
        {
          "line": 2943,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(inner_path_rows / virtualbuckets)",
          "old_line_content": "\t\t\t(outer_path_rows - outer_matched_rows) *",
          "new_line_content": "\t\t\tclamp_row_est(inner_path_rows / virtualbuckets) * 0.05;",
          "content_same": false
        },
        {
          "line": 3971,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(l)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\tRestrictInfo *rinfo = (RestrictInfo *) lfirst(l);",
          "content_same": false
        },
        {
          "line": 4484,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(rel->relid > 0)",
          "old_line_content": "\t/* Should only be applied to base relations */",
          "new_line_content": "\tAssert(rel->relid > 0);",
          "content_same": false
        },
        {
          "line": 3973,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(rinfo, RestrictInfo)",
          "old_line_content": "",
          "new_line_content": "\t\t\tAssert(IsA(rinfo, RestrictInfo));",
          "content_same": false
        },
        {
          "line": 3975,
          "old_api": null,
          "new_api": "lappend",
          "old_text": null,
          "new_text": "lappend(pushedquals, rinfo)",
          "old_line_content": "\t\t\tif (rinfo->is_pushed_down)",
          "new_line_content": "\t\t\t\tpushedquals = lappend(pushedquals, rinfo);",
          "content_same": false
        },
        {
          "line": 4488,
          "old_api": null,
          "new_api": "cost_qual_eval",
          "old_text": null,
          "new_text": "cost_qual_eval(&rel->baserestrictcost, rel->baserestrictinfo, root)",
          "old_line_content": "",
          "new_line_content": "\tcost_qual_eval(&rel->baserestrictcost, rel->baserestrictinfo, root);",
          "content_same": false
        },
        {
          "line": 1929,
          "old_api": null,
          "new_api": "cost_rescan",
          "old_text": null,
          "new_text": "cost_rescan(root, inner_path,\n\t\t\t\t&inner_rescan_start_cost,\n\t\t\t\t&inner_rescan_total_cost)",
          "old_line_content": "\t/* estimate costs to rescan the inner relation */",
          "new_line_content": "\tcost_rescan(root, inner_path,",
          "content_same": false
        },
        {
          "line": 4490,
          "old_api": null,
          "new_api": "set_rel_width",
          "old_text": null,
          "new_text": "set_rel_width(root, rel)",
          "old_line_content": "",
          "new_line_content": "\tset_rel_width(root, rel);",
          "content_same": false
        },
        {
          "line": 3977,
          "old_api": null,
          "new_api": "lappend",
          "old_text": null,
          "new_text": "lappend(joinquals, rinfo)",
          "old_line_content": "\t\t\telse",
          "new_line_content": "\t\t\t\tjoinquals = lappend(joinquals, rinfo);",
          "content_same": false
        },
        {
          "line": 3981,
          "old_api": null,
          "new_api": "clauselist_selectivity",
          "old_text": null,
          "new_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\t\tjoinquals,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tjointype,\n\t\t\t\t\t\t\t\t\t\tsjinfo)",
          "old_line_content": "\t\t/* Get the separate selectivities */",
          "new_line_content": "\t\tjselec = clauselist_selectivity(root,",
          "content_same": false
        },
        {
          "line": 2446,
          "old_api": null,
          "new_api": "cost_qual_eval",
          "old_text": null,
          "new_text": "cost_qual_eval(&merge_qual_cost, mergeclauses, root)",
          "old_line_content": "\t */",
          "new_line_content": "\tcost_qual_eval(&merge_qual_cost, mergeclauses, root);",
          "content_same": false
        },
        {
          "line": 3986,
          "old_api": null,
          "new_api": "clauselist_selectivity",
          "old_text": null,
          "new_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\t\tpushedquals,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tjointype,\n\t\t\t\t\t\t\t\t\t\tsjinfo)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t\tsjinfo);",
          "new_line_content": "\t\tpselec = clauselist_selectivity(root,",
          "content_same": false
        },
        {
          "line": 3476,
          "old_api": null,
          "new_api": "cost_qual_eval",
          "old_text": null,
          "new_text": "cost_qual_eval(qpqual_cost, param_info->ppi_clauses, root)",
          "old_line_content": "\t\t/* Include costs of pushed-down clauses */",
          "new_line_content": "\t\tcost_qual_eval(qpqual_cost, param_info->ppi_clauses, root);",
          "content_same": false
        },
        {
          "line": 2965,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(inner_path_rows * innerbucketsize)",
          "old_line_content": "\t\trun_cost += hash_qual_cost.per_tuple * outer_path_rows *",
          "new_line_content": "\t\t\tclamp_row_est(inner_path_rows * innerbucketsize) * 0.5;",
          "content_same": false
        },
        {
          "line": 2455,
          "old_api": null,
          "new_api": "approx_tuple_count",
          "old_text": null,
          "new_text": "approx_tuple_count(root, &path->jpath, mergeclauses)",
          "old_line_content": "\t */",
          "new_line_content": "\tmergejointuples = approx_tuple_count(root, &path->jpath, mergeclauses);",
          "content_same": false
        },
        {
          "line": 3993,
          "old_api": null,
          "new_api": "list_free",
          "old_text": null,
          "new_text": "list_free(joinquals)",
          "old_line_content": "\t\t/* Avoid leaking a lot of ListCells */",
          "new_line_content": "\t\tlist_free(joinquals);",
          "content_same": false
        },
        {
          "line": 2972,
          "old_api": null,
          "new_api": "approx_tuple_count",
          "old_text": null,
          "new_text": "approx_tuple_count(root, &path->jpath, hashclauses)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\thashjointuples = approx_tuple_count(root, &path->jpath, hashclauses);",
          "content_same": false
        },
        {
          "line": 3998,
          "old_api": null,
          "new_api": "clauselist_selectivity",
          "old_text": null,
          "new_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\t\trestrictlist,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tjointype,\n\t\t\t\t\t\t\t\t\t\tsjinfo)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tjselec = clauselist_selectivity(root,",
          "content_same": false
        },
        {
          "line": 4518,
          "old_api": null,
          "new_api": "planner_rt_fetch",
          "old_text": null,
          "new_text": "planner_rt_fetch(rel->relid, root)",
          "old_line_content": "{",
          "new_line_content": "\tOid\t\t\treloid = planner_rt_fetch(rel->relid, root)->relid;",
          "content_same": false
        },
        {
          "line": 4527,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(lc, rel->reltarget->exprs)",
          "old_line_content": "",
          "new_line_content": "\tforeach(lc, rel->reltarget->exprs)",
          "content_same": false
        },
        {
          "line": 4529,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(lc)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tNode\t   *node = (Node *) lfirst(lc);",
          "content_same": false
        },
        {
          "line": 2483,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(outer_path, UniquePath)",
          "old_line_content": "\t */",
          "new_line_content": "\tif (IsA(outer_path, UniquePath))",
          "content_same": false
        },
        {
          "line": 4537,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, Var)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\tif (IsA(node, Var) &&",
          "content_same": false
        },
        {
          "line": 3007,
          "old_api": null,
          "new_api": "cost_qual_eval",
          "old_text": null,
          "new_text": "cost_qual_eval(&sp_cost,\n\t\t\t\t   make_ands_implicit((Expr *) subplan->testexpr),\n\t\t\t\t   root)",
          "old_line_content": "\t/* Figure any cost for evaluating the testexpr */",
          "new_line_content": "\tcost_qual_eval(&sp_cost,",
          "content_same": false
        },
        {
          "line": 4544,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(var->varattno >= rel->min_attr)",
          "old_line_content": "",
          "new_line_content": "\t\t\tAssert(var->varattno >= rel->min_attr);",
          "content_same": false
        },
        {
          "line": 3525,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(jointype == JOIN_SEMI || jointype == JOIN_ANTI)",
          "old_line_content": "\t/* Should only be called in these cases */",
          "new_line_content": "\tAssert(jointype == JOIN_SEMI || jointype == JOIN_ANTI);",
          "content_same": false
        },
        {
          "line": 4048,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"unrecognized join type: %d\", (int) jointype)",
          "old_line_content": "\t\t\t/* other values not expected here */",
          "new_line_content": "\t\t\telog(ERROR, \"unrecognized join type: %d\", (int) jointype);",
          "content_same": false
        },
        {
          "line": 3538,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(l)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\tRestrictInfo *rinfo = (RestrictInfo *) lfirst(l);",
          "content_same": false
        },
        {
          "line": 3540,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(rinfo, RestrictInfo)",
          "old_line_content": "",
          "new_line_content": "\t\t\tAssert(IsA(rinfo, RestrictInfo));",
          "content_same": false
        },
        {
          "line": 2005,
          "old_api": null,
          "new_api": "isnan",
          "old_text": null,
          "new_text": "isnan(outer_path_rows)",
          "old_line_content": "\t/* Protect some assumptions below that rowcounts aren't zero or NaN */",
          "new_line_content": "\tif (outer_path_rows <= 0 || isnan(outer_path_rows))",
          "content_same": false
        },
        {
          "line": 3542,
          "old_api": null,
          "new_api": "lappend",
          "old_text": null,
          "new_text": "lappend(joinquals, rinfo)",
          "old_line_content": "\t\t\tif (!rinfo->is_pushed_down)",
          "new_line_content": "\t\t\t\tjoinquals = lappend(joinquals, rinfo);",
          "content_same": false
        },
        {
          "line": 4053,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(nrows)",
          "old_line_content": "",
          "new_line_content": "\treturn clamp_row_est(nrows);",
          "content_same": false
        },
        {
          "line": 2007,
          "old_api": null,
          "new_api": "isnan",
          "old_text": null,
          "new_text": "isnan(inner_path_rows)",
          "old_line_content": "\t\touter_path_rows = 1;",
          "new_line_content": "\tif (inner_path_rows <= 0 || isnan(inner_path_rows))",
          "content_same": false
        },
        {
          "line": 4572,
          "old_api": null,
          "new_api": "get_attavgwidth",
          "old_text": null,
          "new_text": "get_attavgwidth(reloid, var->varattno)",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\t\t\titem_width = get_attavgwidth(reloid, var->varattno);",
          "content_same": false
        },
        {
          "line": 3551,
          "old_api": null,
          "new_api": "clauselist_selectivity",
          "old_text": null,
          "new_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\tjoinquals,\n\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\tjointype,\n\t\t\t\t\t\t\t\t\tsjinfo)",
          "old_line_content": "\t */",
          "new_line_content": "\tjselec = clauselist_selectivity(root,",
          "content_same": false
        },
        {
          "line": 3045,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(plan->plan_rows)",
          "old_line_content": "\t\t\t/* we only need to fetch 1 tuple; clamp to avoid zero divide */",
          "new_line_content": "\t\t\tsp_cost.per_tuple += plan_run_cost / clamp_row_est(plan->plan_rows);",
          "content_same": false
        },
        {
          "line": 4585,
          "old_api": null,
          "new_api": "get_typavgwidth",
          "old_text": null,
          "new_text": "get_typavgwidth(var->vartype, var->vartypmod)",
          "old_line_content": "\t\t\t */",
          "new_line_content": "\t\t\titem_width = get_typavgwidth(var->vartype, var->vartypmod);",
          "content_same": false
        },
        {
          "line": 4590,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, PlaceHolderVar)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\telse if (IsA(node, PlaceHolderVar))",
          "content_same": false
        },
        {
          "line": 2546,
          "old_api": null,
          "new_api": "ExecSupportsMarkRestore",
          "old_text": null,
          "new_text": "ExecSupportsMarkRestore(inner_path)",
          "old_line_content": "\telse if (innersortkeys == NIL &&",
          "new_line_content": "\t\t\t !ExecSupportsMarkRestore(inner_path))",
          "content_same": false
        },
        {
          "line": 4084,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(lc, root->fkey_list)",
          "old_line_content": "\t/* Consider each FK constraint that is known to match the query */",
          "new_line_content": "\tforeach(lc, root->fkey_list)",
          "content_same": false
        },
        {
          "line": 4597,
          "old_api": null,
          "new_api": "find_placeholder_info",
          "old_text": null,
          "new_text": "find_placeholder_info(root, phv, false)",
          "old_line_content": "\t\t\tPlaceHolderVar *phv = (PlaceHolderVar *) node;",
          "new_line_content": "\t\t\tPlaceHolderInfo *phinfo = find_placeholder_info(root, phv, false);",
          "content_same": false
        },
        {
          "line": 3574,
          "old_api": null,
          "new_api": "clauselist_selectivity",
          "old_text": null,
          "new_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\tjoinquals,\n\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\tJOIN_INNER,\n\t\t\t\t\t\t\t\t\t&norm_sjinfo)",
          "old_line_content": "",
          "new_line_content": "\tnselec = clauselist_selectivity(root,",
          "content_same": false
        },
        {
          "line": 4086,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(lc)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tForeignKeyOptInfo *fkinfo = (ForeignKeyOptInfo *) lfirst(lc);",
          "content_same": false
        },
        {
          "line": 4601,
          "old_api": null,
          "new_api": "cost_qual_eval_node",
          "old_text": null,
          "new_text": "cost_qual_eval_node(&cost, (Node *) phv->phexpr, root)",
          "old_line_content": "\t\t\ttuple_width += phinfo->ph_width;",
          "new_line_content": "\t\t\tcost_qual_eval_node(&cost, (Node *) phv->phexpr, root);",
          "content_same": false
        },
        {
          "line": 3069,
          "old_api": null,
          "new_api": "nodeTag",
          "old_text": null,
          "new_text": "nodeTag(plan)",
          "old_line_content": "\t\tif (subplan->parParam == NIL &&",
          "new_line_content": "\t\t\tExecMaterializesOutput(nodeTag(plan)))",
          "content_same": false
        },
        {
          "line": 3582,
          "old_api": null,
          "new_api": "list_free",
          "old_text": null,
          "new_text": "list_free(joinquals)",
          "old_line_content": "\tif (jointype == JOIN_ANTI)",
          "new_line_content": "\t\tlist_free(joinquals);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2562,
          "old_api": "relation_byte_size",
          "new_api": null,
          "old_text": "relation_byte_size(inner_path_rows,\n\t\t\t\t\t\t\t\tinner_path->pathtarget->width)",
          "new_text": null,
          "old_line_content": "\t\t\t relation_byte_size(inner_path_rows,",
          "new_line_content": "\t\t\t\t\t\t\t\tinner_path->pathtarget->width) >",
          "content_same": false
        },
        {
          "line": 4099,
          "old_api": "bms_is_member",
          "new_api": null,
          "old_text": "bms_is_member(fkinfo->ref_relid, inner_relids)",
          "new_text": null,
          "old_line_content": "\t\t\tbms_is_member(fkinfo->ref_relid, inner_relids))",
          "new_line_content": "\t\t\tref_is_outer = false;",
          "content_same": false
        },
        {
          "line": 4102,
          "old_api": "bms_is_member",
          "new_api": null,
          "old_text": "bms_is_member(fkinfo->con_relid, inner_relids)",
          "new_text": null,
          "old_line_content": "\t\t\t\t bms_is_member(fkinfo->con_relid, inner_relids))",
          "new_line_content": "\t\t\tref_is_outer = true;",
          "content_same": false
        },
        {
          "line": 4617,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(item_width > 0)",
          "new_text": null,
          "old_line_content": "\t\t\tAssert(item_width > 0);",
          "new_line_content": "\t\t\ttuple_width += item_width;",
          "content_same": false
        },
        {
          "line": 4620,
          "old_api": "cost_qual_eval_node",
          "new_api": null,
          "old_text": "cost_qual_eval_node(&cost, node, root)",
          "new_text": null,
          "old_line_content": "\t\t\tcost_qual_eval_node(&cost, node, root);",
          "new_line_content": "\t\t\trel->reltarget->cost.startup += cost.startup;",
          "content_same": false
        },
        {
          "line": 2064,
          "old_api": "has_indexed_join_quals",
          "new_api": null,
          "old_text": "has_indexed_join_quals(path)",
          "new_text": null,
          "old_line_content": "\t\tif (has_indexed_join_quals(path))",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 3601,
          "old_api": "Max",
          "new_api": null,
          "old_text": "Max(1.0, avgmatch)",
          "new_text": null,
          "old_line_content": "\t\tavgmatch = Max(1.0, avgmatch);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4114,
          "old_api": "list_copy",
          "new_api": null,
          "old_text": "list_copy(worklist)",
          "new_text": null,
          "old_line_content": "\t\t\tworklist = list_copy(worklist);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4118,
          "old_api": "list_head",
          "new_api": null,
          "old_text": "list_head(worklist)",
          "new_text": null,
          "old_line_content": "\t\tfor (cell = list_head(worklist); cell; cell = next)",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 4120,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(cell)",
          "new_text": null,
          "old_line_content": "\t\t\tRestrictInfo *rinfo = (RestrictInfo *) lfirst(cell);",
          "new_line_content": "\t\t\tbool\t\tremove_it = false;",
          "content_same": false
        },
        {
          "line": 4632,
          "old_api": "MAXALIGN",
          "new_api": null,
          "old_text": "MAXALIGN(SizeofHeapTupleHeader)",
          "new_text": null,
          "old_line_content": "\t\tint32\t\twholerow_width = MAXALIGN(SizeofHeapTupleHeader);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4124,
          "old_api": "lnext",
          "new_api": null,
          "old_text": "lnext(cell)",
          "new_text": null,
          "old_line_content": "\t\t\tnext = lnext(cell);",
          "new_line_content": "\t\t\t/* Drop this clause if it matches any column of the FK */",
          "content_same": false
        },
        {
          "line": 4637,
          "old_api": "get_relation_data_width",
          "new_api": null,
          "old_text": "get_relation_data_width(reloid,\n\t\t\t\t\t\t\t\t\t\t   rel->attr_widths - rel->min_attr)",
          "new_text": null,
          "old_line_content": "\t\t\twholerow_width += get_relation_data_width(reloid,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t   rel->attr_widths - rel->min_attr);",
          "content_same": false
        },
        {
          "line": 4658,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(tuple_width >= 0)",
          "new_text": null,
          "old_line_content": "\tAssert(tuple_width >= 0);",
          "new_line_content": "\trel->reltarget->width = tuple_width;",
          "content_same": false
        },
        {
          "line": 2046,
          "old_api": "rint",
          "new_api": null,
          "old_text": "rint(outer_path_rows * semifactors->outer_match_frac)",
          "new_text": null,
          "old_line_content": "\t\touter_matched_rows = rint(outer_path_rows * semifactors->outer_match_frac);",
          "new_line_content": "\t\tinner_scan_frac = 2.0 / (semifactors->match_count + 1.0);",
          "content_same": false
        },
        {
          "line": 4155,
          "old_api": "list_member_ptr",
          "new_api": null,
          "old_text": "list_member_ptr(fkinfo->rinfos[i], rinfo)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tif (list_member_ptr(fkinfo->rinfos[i], rinfo))",
          "new_line_content": "\t\t\t\t\t{",
          "content_same": false
        },
        {
          "line": 3648,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(bmqual, IndexPath)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (IsA(bmqual, IndexPath))",
          "new_line_content": "\t\t\t\t\tindexclauses = ((IndexPath *) bmqual)->indexclauses;",
          "content_same": false
        },
        {
          "line": 2625,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(lc, rinfo->scansel_cache)",
          "new_text": null,
          "old_line_content": "\tforeach(lc, rinfo->scansel_cache)",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 2627,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(lc)",
          "new_text": null,
          "old_line_content": "\t\tcache = (MergeScanSelCache *) lfirst(lc);",
          "new_line_content": "\t\tif (cache->opfamily == pathkey->pk_opfamily &&",
          "content_same": false
        },
        {
          "line": 4165,
          "old_api": "lappend",
          "new_api": null,
          "old_text": "lappend(removedlist, rinfo)",
          "new_text": null,
          "old_line_content": "\t\t\t\tremovedlist = lappend(removedlist, rinfo);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 3143,
          "old_api": "relation_byte_size",
          "new_api": null,
          "old_text": "relation_byte_size(path->rows,\n\t\t\t\t\t\t\t\t\t\t\t\t\tpath->pathtarget->width)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdouble\t\tnbytes = relation_byte_size(path->rows,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t\tpath->pathtarget->width);",
          "content_same": false
        },
        {
          "line": 2636,
          "old_api": "mergejoinscansel",
          "new_api": null,
          "old_text": "mergejoinscansel(root,\n\t\t\t\t\t (Node *) rinfo->clause,\n\t\t\t\t\t pathkey->pk_opfamily,\n\t\t\t\t\t pathkey->pk_strategy,\n\t\t\t\t\t pathkey->pk_nulls_first,\n\t\t\t\t\t &leftstartsel,\n\t\t\t\t\t &leftendsel,\n\t\t\t\t\t &rightstartsel,\n\t\t\t\t\t &rightendsel)",
          "new_text": null,
          "old_line_content": "\tmergejoinscansel(root,",
          "new_line_content": "\t\t\t\t\t (Node *) rinfo->clause,",
          "content_same": false
        },
        {
          "line": 4684,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(lc, target->exprs)",
          "new_text": null,
          "old_line_content": "\tforeach(lc, target->exprs)",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 4686,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(lc)",
          "new_text": null,
          "old_line_content": "\t\tNode\t   *node = (Node *) lfirst(lc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3150,
          "old_api": "ceil",
          "new_api": null,
          "old_text": "ceil(nbytes / BLCKSZ)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tdouble\t\tnpages = ceil(nbytes / BLCKSZ);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4688,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, Var)",
          "new_text": null,
          "old_line_content": "\t\tif (IsA(node, Var))",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 1613,
          "old_api": "LOG2",
          "new_api": null,
          "old_text": "LOG2(N)",
          "new_text": null,
          "old_line_content": "\tlogN = LOG2(N);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4087,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(lc)",
          "new_text": null,
          "old_line_content": "\t\tForeignKeyOptInfo *fkinfo = (ForeignKeyOptInfo *) lfirst(lc);",
          "new_line_content": "\t\tbool\t\tref_is_outer;",
          "content_same": false
        },
        {
          "line": 2133,
          "old_api": "cost_qual_eval",
          "new_api": null,
          "old_text": "cost_qual_eval(&restrict_qual_cost, path->joinrestrictinfo, root)",
          "new_text": null,
          "old_line_content": "\tcost_qual_eval(&restrict_qual_cost, path->joinrestrictinfo, root);",
          "new_line_content": "\tstartup_cost += restrict_qual_cost.startup;",
          "content_same": false
        },
        {
          "line": 4694,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(var->varlevelsup == 0)",
          "new_text": null,
          "old_line_content": "\t\t\tAssert(var->varlevelsup == 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2647,
          "old_api": "MemoryContextSwitchTo",
          "new_api": null,
          "old_text": "MemoryContextSwitchTo(root->planner_cxt)",
          "new_text": null,
          "old_line_content": "\toldcontext = MemoryContextSwitchTo(root->planner_cxt);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3671,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(lc, innerpath->param_info->ppi_clauses)",
          "new_text": null,
          "old_line_content": "\tforeach(lc, innerpath->param_info->ppi_clauses)",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 2649,
          "old_api": "palloc",
          "new_api": null,
          "old_text": "palloc(sizeof(MergeScanSelCache))",
          "new_text": null,
          "old_line_content": "\tcache = (MergeScanSelCache *) palloc(sizeof(MergeScanSelCache));",
          "new_line_content": "\tcache->opfamily = pathkey->pk_opfamily;",
          "content_same": false
        },
        {
          "line": 3673,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(lc)",
          "new_text": null,
          "old_line_content": "\t\tRestrictInfo *rinfo = (RestrictInfo *) lfirst(lc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3675,
          "old_api": "join_clause_is_movable_into",
          "new_api": null,
          "old_text": "join_clause_is_movable_into(rinfo,\n\t\t\t\t\t\t\t\t\t\tinnerpath->parent->relids,\n\t\t\t\t\t\t\t\t\t\tjoinrelids)",
          "new_text": null,
          "old_line_content": "\t\tif (join_clause_is_movable_into(rinfo,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\tinnerpath->parent->relids,",
          "content_same": false
        },
        {
          "line": 4190,
          "old_api": "list_length",
          "new_api": null,
          "old_text": "list_length(removedlist)",
          "new_text": null,
          "old_line_content": "\t\tif (list_length(removedlist) !=",
          "new_line_content": "\t\t\t(fkinfo->nmatched_ec + fkinfo->nmatched_ri))",
          "content_same": false
        },
        {
          "line": 3680,
          "old_api": "is_redundant_derived_clause",
          "new_api": null,
          "old_text": "is_redundant_derived_clause(rinfo, indexclauses)",
          "new_text": null,
          "old_line_content": "\t\t\t\t  is_redundant_derived_clause(rinfo, indexclauses)))",
          "new_line_content": "\t\t\t\treturn false;",
          "content_same": false
        },
        {
          "line": 4193,
          "old_api": "list_concat",
          "new_api": null,
          "old_text": "list_concat(worklist, removedlist)",
          "new_text": null,
          "old_line_content": "\t\t\tworklist = list_concat(worklist, removedlist);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 3170,
          "old_api": "relation_byte_size",
          "new_api": null,
          "old_text": "relation_byte_size(path->rows,\n\t\t\t\t\t\t\t\t\t\t\t\t\tpath->pathtarget->width)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdouble\t\tnbytes = relation_byte_size(path->rows,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t\tpath->pathtarget->width);",
          "content_same": false
        },
        {
          "line": 2659,
          "old_api": "lappend",
          "new_api": null,
          "old_text": "lappend(rinfo->scansel_cache, cache)",
          "new_text": null,
          "old_line_content": "\trinfo->scansel_cache = lappend(rinfo->scansel_cache, cache);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2661,
          "old_api": "MemoryContextSwitchTo",
          "new_api": null,
          "old_text": "MemoryContextSwitchTo(oldcontext)",
          "new_text": null,
          "old_line_content": "\tMemoryContextSwitchTo(oldcontext);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3177,
          "old_api": "ceil",
          "new_api": null,
          "old_text": "ceil(nbytes / BLCKSZ)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tdouble\t\tnpages = ceil(nbytes / BLCKSZ);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4719,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(item_width > 0)",
          "new_text": null,
          "old_line_content": "\t\t\tAssert(item_width > 0);",
          "new_line_content": "\t\t\ttuple_width += item_width;",
          "content_same": false
        },
        {
          "line": 1655,
          "old_api": "relation_byte_size",
          "new_api": null,
          "old_text": "relation_byte_size(tuples, width)",
          "new_text": null,
          "old_line_content": "\tdouble\t\tnbytes = relation_byte_size(tuples, width);",
          "new_line_content": "\tlong\t\twork_mem_bytes = work_mem * 1024L;",
          "content_same": false
        },
        {
          "line": 4731,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(item_width > 0)",
          "new_text": null,
          "old_line_content": "\t\t\tAssert(item_width > 0);",
          "new_line_content": "\t\t\ttuple_width += item_width;",
          "content_same": false
        },
        {
          "line": 4735,
          "old_api": "cost_qual_eval_node",
          "new_api": null,
          "old_text": "cost_qual_eval_node(&cost, node, root)",
          "new_text": null,
          "old_line_content": "\t\t\tcost_qual_eval_node(&cost, node, root);",
          "new_line_content": "\t\t\ttarget->cost.startup += cost.startup;",
          "content_same": false
        },
        {
          "line": 4741,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(tuple_width >= 0)",
          "new_text": null,
          "old_line_content": "\tAssert(tuple_width >= 0);",
          "new_line_content": "\ttarget->width = tuple_width;",
          "content_same": false
        },
        {
          "line": 4238,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(cell)",
          "new_text": null,
          "old_line_content": "\t\t\t\tRestrictInfo *rinfo = (RestrictInfo *) lfirst(cell);",
          "new_line_content": "\t\t\t\tSelectivity csel;",
          "content_same": false
        },
        {
          "line": 2703,
          "old_api": "list_length",
          "new_api": null,
          "old_text": "list_length(hashclauses)",
          "new_text": null,
          "old_line_content": "\tint\t\t\tnum_hashclauses = list_length(hashclauses);",
          "new_line_content": "\tint\t\t\tnumbuckets;",
          "content_same": false
        },
        {
          "line": 3216,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(l)",
          "new_text": null,
          "old_line_content": "\t\tNode\t   *qual = (Node *) lfirst(l);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4241,
          "old_api": "clause_selectivity",
          "new_api": null,
          "old_text": "clause_selectivity(root, (Node *) rinfo,\n\t\t\t\t\t\t\t\t\t\t  0, jointype, sjinfo)",
          "new_text": null,
          "old_line_content": "\t\t\t\tcsel = clause_selectivity(root, (Node *) rinfo,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t  0, jointype, sjinfo);",
          "content_same": false
        },
        {
          "line": 3218,
          "old_api": "cost_qual_eval_walker",
          "new_api": null,
          "old_text": "cost_qual_eval_walker(qual, &context)",
          "new_text": null,
          "old_line_content": "\t\tcost_qual_eval_walker(qual, &context);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4243,
          "old_api": "Min",
          "new_api": null,
          "old_text": "Min(thisfksel, csel)",
          "new_text": null,
          "old_line_content": "\t\t\t\tthisfksel = Min(thisfksel, csel);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 4755,
          "old_api": "MAXALIGN",
          "new_api": null,
          "old_text": "MAXALIGN(SizeofHeapTupleHeader)",
          "new_text": null,
          "old_line_content": "\treturn tuples * (MAXALIGN(width) + MAXALIGN(SizeofHeapTupleHeader));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1682,
          "old_api": "ceil",
          "new_api": null,
          "old_text": "ceil(nbytes / BLCKSZ)",
          "new_text": null,
          "old_line_content": "\t\tdouble\t\tnpages = ceil(nbytes / BLCKSZ);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2200,
          "old_api": "isnan",
          "new_api": null,
          "old_text": "isnan(outer_path_rows)",
          "new_text": null,
          "old_line_content": "\tif (outer_path_rows <= 0 || isnan(outer_path_rows))",
          "new_line_content": "\t\touter_path_rows = 1;",
          "content_same": false
        },
        {
          "line": 2202,
          "old_api": "isnan",
          "new_api": null,
          "old_text": "isnan(inner_path_rows)",
          "new_text": null,
          "old_line_content": "\tif (inner_path_rows <= 0 || isnan(inner_path_rows))",
          "new_line_content": "\t\tinner_path_rows = 1;",
          "content_same": false
        },
        {
          "line": 4766,
          "old_api": "relation_byte_size",
          "new_api": null,
          "old_text": "relation_byte_size(tuples, width)",
          "new_text": null,
          "old_line_content": "\treturn ceil(relation_byte_size(tuples, width) / BLCKSZ);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3743,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(l)",
          "new_text": null,
          "old_line_content": "\t\tNode\t   *qual = (Node *) lfirst(l);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3746,
          "old_api": "clause_selectivity",
          "new_api": null,
          "old_text": "clause_selectivity(root, qual, 0, JOIN_INNER, &sjinfo)",
          "new_text": null,
          "old_line_content": "\t\tselec *= clause_selectivity(root, qual, 0, JOIN_INNER, &sjinfo);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3237,
          "old_api": "cost_qual_eval_walker",
          "new_api": null,
          "old_text": "cost_qual_eval_walker(qual, &context)",
          "new_text": null,
          "old_line_content": "\tcost_qual_eval_walker(qual, &context);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3752,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(tuples)",
          "new_text": null,
          "old_line_content": "\treturn clamp_row_est(tuples);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4265,
          "old_api": "Max",
          "new_api": null,
          "old_text": "Max(ref_rel->tuples, 1.0)",
          "new_text": null,
          "old_line_content": "\t\t\tdouble\t\tref_tuples = Max(ref_rel->tuples, 1.0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2218,
          "old_api": "linitial",
          "new_api": null,
          "old_text": "linitial(mergeclauses)",
          "new_text": null,
          "old_line_content": "\t\tRestrictInfo *firstclause = (RestrictInfo *) linitial(mergeclauses);",
          "new_line_content": "\t\tList\t   *opathkeys;",
          "content_same": false
        },
        {
          "line": 2737,
          "old_api": "ExecChooseHashTableSize",
          "new_api": null,
          "old_text": "ExecChooseHashTableSize(inner_path_rows,\n\t\t\t\t\t\t\tinner_path->pathtarget->width,\n\t\t\t\t\t\t\ttrue,\t\t/* useskew */\n\t\t\t\t\t\t\t&numbuckets,\n\t\t\t\t\t\t\t&numbatches,\n\t\t\t\t\t\t\t&num_skew_mcvs)",
          "new_text": null,
          "old_line_content": "\tExecChooseHashTableSize(inner_path_rows,",
          "new_line_content": "\t\t\t\t\t\t\tinner_path->pathtarget->width,",
          "content_same": false
        },
        {
          "line": 3254,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, RestrictInfo)",
          "new_text": null,
          "old_line_content": "\tif (IsA(node, RestrictInfo))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 2231,
          "old_api": "linitial",
          "new_api": null,
          "old_text": "linitial(ipathkeys)",
          "new_text": null,
          "old_line_content": "\t\tipathkey = (PathKey *) linitial(ipathkeys);",
          "new_line_content": "\t\t/* debugging check */",
          "content_same": false
        },
        {
          "line": 1718,
          "old_api": "MemSet",
          "new_api": null,
          "old_text": "MemSet(&dummy_aggcosts, 0, sizeof(AggClauseCosts))",
          "new_text": null,
          "old_line_content": "\t\tMemSet(&dummy_aggcosts, 0, sizeof(AggClauseCosts));",
          "new_line_content": "\t\taggcosts = &dummy_aggcosts;",
          "content_same": false
        },
        {
          "line": 2237,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"left and right pathkeys do not match in mergejoin\")",
          "new_text": null,
          "old_line_content": "\t\t\telog(ERROR, \"left and right pathkeys do not match in mergejoin\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3775,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(rel->relid > 0)",
          "new_text": null,
          "old_line_content": "\tAssert(rel->relid > 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2240,
          "old_api": "cached_scansel",
          "new_api": null,
          "old_text": "cached_scansel(root, firstclause, opathkey)",
          "new_text": null,
          "old_line_content": "\t\tcache = cached_scansel(root, firstclause, opathkey);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2753,
          "old_api": "page_size",
          "new_api": null,
          "old_text": "page_size(outer_path_rows,\n\t\t\t\t\t\t\t\t\t\t   outer_path->pathtarget->width)",
          "new_text": null,
          "old_line_content": "\t\tdouble\t\touterpages = page_size(outer_path_rows,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t   outer_path->pathtarget->width);",
          "content_same": false
        },
        {
          "line": 2242,
          "old_api": "bms_is_subset",
          "new_api": null,
          "old_text": "bms_is_subset(firstclause->left_relids,\n\t\t\t\t\t\t  outer_path->parent->relids)",
          "new_text": null,
          "old_line_content": "\t\tif (bms_is_subset(firstclause->left_relids,",
          "new_line_content": "\t\t\t\t\t\t  outer_path->parent->relids))",
          "content_same": false
        },
        {
          "line": 2755,
          "old_api": "page_size",
          "new_api": null,
          "old_text": "page_size(inner_path_rows,\n\t\t\t\t\t\t\t\t\t\t   inner_path->pathtarget->width)",
          "new_text": null,
          "old_line_content": "\t\tdouble\t\tinnerpages = page_size(inner_path_rows,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t   inner_path->pathtarget->width);",
          "content_same": false
        },
        {
          "line": 3778,
          "old_api": "clauselist_selectivity",
          "new_api": null,
          "old_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t   rel->baserestrictinfo,\n\t\t\t\t\t\t\t   0,\n\t\t\t\t\t\t\t   JOIN_INNER,\n\t\t\t\t\t\t\t   NULL)",
          "new_text": null,
          "old_line_content": "\t\tclauselist_selectivity(root,",
          "new_line_content": "\t\t\t\t\t\t\t   rel->baserestrictinfo,",
          "content_same": false
        },
        {
          "line": 3271,
          "old_api": "cost_qual_eval_walker",
          "new_api": null,
          "old_text": "cost_qual_eval_walker((Node *) rinfo->orclause, &locContext)",
          "new_text": null,
          "old_line_content": "\t\t\t\tcost_qual_eval_walker((Node *) rinfo->orclause, &locContext);",
          "new_line_content": "\t\t\telse",
          "content_same": false
        },
        {
          "line": 4296,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(rte->rtekind == RTE_SUBQUERY)",
          "new_text": null,
          "old_line_content": "\tAssert(rte->rtekind == RTE_SUBQUERY);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3273,
          "old_api": "cost_qual_eval_walker",
          "new_api": null,
          "old_text": "cost_qual_eval_walker((Node *) rinfo->clause, &locContext)",
          "new_text": null,
          "old_line_content": "\t\t\t\tcost_qual_eval_walker((Node *) rinfo->clause, &locContext);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3784,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(nrows)",
          "new_text": null,
          "old_line_content": "\trel->rows = clamp_row_est(nrows);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3786,
          "old_api": "cost_qual_eval",
          "new_api": null,
          "old_text": "cost_qual_eval(&rel->baserestrictcost, rel->baserestrictinfo, root)",
          "new_text": null,
          "old_line_content": "\tcost_qual_eval(&rel->baserestrictcost, rel->baserestrictinfo, root);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3788,
          "old_api": "set_rel_width",
          "new_api": null,
          "old_text": "set_rel_width(root, rel)",
          "new_text": null,
          "old_line_content": "\tset_rel_width(root, rel);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4302,
          "old_api": "fetch_upper_rel",
          "new_api": null,
          "old_text": "fetch_upper_rel(subroot, UPPERREL_FINAL, NULL)",
          "new_text": null,
          "old_line_content": "\tsub_final_rel = fetch_upper_rel(subroot, UPPERREL_FINAL, NULL);",
          "new_line_content": "\trel->tuples = sub_final_rel->cheapest_total_path->rows;",
          "content_same": false
        },
        {
          "line": 4311,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(lc, subroot->parse->targetList)",
          "new_text": null,
          "old_line_content": "\tforeach(lc, subroot->parse->targetList)",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 4313,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(lc)",
          "new_text": null,
          "old_line_content": "\t\tTargetEntry *te = (TargetEntry *) lfirst(lc);",
          "new_line_content": "\t\tNode\t   *texpr = (Node *) te->expr;",
          "content_same": false
        },
        {
          "line": 4317,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(te, TargetEntry)",
          "new_text": null,
          "old_line_content": "\t\tAssert(IsA(te, TargetEntry));",
          "new_line_content": "\t\t/* junk columns aren't visible to upper query */",
          "content_same": false
        },
        {
          "line": 3812,
          "old_api": "list_copy",
          "new_api": null,
          "old_text": "list_copy(param_clauses)",
          "new_text": null,
          "old_line_content": "\tallclauses = list_concat(list_copy(param_clauses),",
          "new_line_content": "\t\t\t\t\t\t\t rel->baserestrictinfo);",
          "content_same": false
        },
        {
          "line": 3815,
          "old_api": "clauselist_selectivity",
          "new_api": null,
          "old_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t   allclauses,\n\t\t\t\t\t\t\t   rel->relid,\t\t/* do not use 0! */\n\t\t\t\t\t\t\t   JOIN_INNER,\n\t\t\t\t\t\t\t   NULL)",
          "new_text": null,
          "old_line_content": "\t\tclauselist_selectivity(root,",
          "new_line_content": "\t\t\t\t\t\t\t   allclauses,",
          "content_same": false
        },
        {
          "line": 3820,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(nrows)",
          "new_text": null,
          "old_line_content": "\tnrows = clamp_row_est(nrows);",
          "new_line_content": "\t/* For safety, make sure result is not more than the base estimate */",
          "content_same": false
        },
        {
          "line": 2285,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(inner_path_rows * innerendsel)",
          "new_text": null,
          "old_line_content": "\tinner_rows = clamp_row_est(inner_path_rows * innerendsel);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2288,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(inner_skip_rows <= inner_rows)",
          "new_text": null,
          "old_line_content": "\tAssert(inner_skip_rows <= inner_rows);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3315,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, FuncExpr)",
          "new_text": null,
          "old_line_content": "\tif (IsA(node, FuncExpr))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 3318,
          "old_api": "get_func_cost",
          "new_api": null,
          "old_text": "get_func_cost(((FuncExpr *) node)->funcid)",
          "new_text": null,
          "old_line_content": "\t\t\tget_func_cost(((FuncExpr *) node)->funcid) * cpu_operator_cost;",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4344,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(texpr, Var)",
          "new_text": null,
          "old_line_content": "\t\tif (IsA(texpr, Var) &&",
          "new_line_content": "\t\t\tsubroot->parse->setOperations == NULL)",
          "content_same": false
        },
        {
          "line": 3322,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, NullIfExpr)",
          "new_text": null,
          "old_line_content": "\t\t\t IsA(node, NullIfExpr))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 4348,
          "old_api": "find_base_rel",
          "new_api": null,
          "old_text": "find_base_rel(subroot, var->varno)",
          "new_text": null,
          "old_line_content": "\t\t\tRelOptInfo *subrel = find_base_rel(subroot, var->varno);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2301,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(innerstartsel <= innerendsel)",
          "new_text": null,
          "old_line_content": "\tAssert(innerstartsel <= innerendsel);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3325,
          "old_api": "set_opfuncid",
          "new_api": null,
          "old_text": "set_opfuncid((OpExpr *) node)",
          "new_text": null,
          "old_line_content": "\t\tset_opfuncid((OpExpr *) node);",
          "new_line_content": "\t\tcontext->total.per_tuple +=",
          "content_same": false
        },
        {
          "line": 3327,
          "old_api": "get_func_cost",
          "new_api": null,
          "old_text": "get_func_cost(((OpExpr *) node)->opfuncid)",
          "new_text": null,
          "old_line_content": "\t\t\tget_func_cost(((OpExpr *) node)->opfuncid) * cpu_operator_cost;",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3329,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, ScalarArrayOpExpr)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(node, ScalarArrayOpExpr))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 2307,
          "old_api": "cost_sort",
          "new_api": null,
          "old_text": "cost_sort(&sort_path,\n\t\t\t\t  root,\n\t\t\t\t  outersortkeys,\n\t\t\t\t  outer_path->total_cost,\n\t\t\t\t  outer_path_rows,\n\t\t\t\t  outer_path->pathtarget->width,\n\t\t\t\t  0.0,\n\t\t\t\t  work_mem,\n\t\t\t\t  -1.0)",
          "new_text": null,
          "old_line_content": "\t\tcost_sort(&sort_path,",
          "new_line_content": "\t\t\t\t  root,",
          "content_same": false
        },
        {
          "line": 4356,
          "old_api": "set_baserel_size_estimates",
          "new_api": null,
          "old_text": "set_baserel_size_estimates(root, rel)",
          "new_text": null,
          "old_line_content": "\tset_baserel_size_estimates(root, rel);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3336,
          "old_api": "lsecond",
          "new_api": null,
          "old_text": "lsecond(saop->args)",
          "new_text": null,
          "old_line_content": "\t\tNode\t   *arraynode = (Node *) lsecond(saop->args);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3340,
          "old_api": "estimate_array_length",
          "new_api": null,
          "old_text": "estimate_array_length(arraynode)",
          "new_text": null,
          "old_line_content": "\t\t\tcpu_operator_cost * estimate_array_length(arraynode) * 0.5;",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3343,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, WindowFunc)",
          "new_text": null,
          "old_line_content": "\t\t\t IsA(node, WindowFunc))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 3856,
          "old_api": "calc_joinrel_size_estimate",
          "new_api": null,
          "old_text": "calc_joinrel_size_estimate(root,\n\t\t\t\t\t\t\t\t\t\t   outer_rel,\n\t\t\t\t\t\t\t\t\t\t   inner_rel,\n\t\t\t\t\t\t\t\t\t\t   outer_rel->rows,\n\t\t\t\t\t\t\t\t\t\t   inner_rel->rows,\n\t\t\t\t\t\t\t\t\t\t   sjinfo,\n\t\t\t\t\t\t\t\t\t\t   restrictlist)",
          "new_text": null,
          "old_line_content": "\trel->rows = calc_joinrel_size_estimate(root,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t   outer_rel,",
          "content_same": false
        },
        {
          "line": 2838,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(inner_path, UniquePath)",
          "new_text": null,
          "old_line_content": "\tif (IsA(inner_path, UniquePath))",
          "new_line_content": "\t\tinnerbucketsize = 1.0 / virtualbuckets;",
          "content_same": false
        },
        {
          "line": 4377,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(rte->rtekind == RTE_FUNCTION)",
          "new_text": null,
          "old_line_content": "\tAssert(rte->rtekind == RTE_FUNCTION);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1818,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(lc)",
          "new_text": null,
          "old_line_content": "\t\tWindowFunc *wfunc = (WindowFunc *) lfirst(lc);",
          "new_line_content": "\t\tCost\t\twfunccost;",
          "content_same": false
        },
        {
          "line": 3356,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, CoerceViaIO)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(node, CoerceViaIO))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 2333,
          "old_api": "cost_sort",
          "new_api": null,
          "old_text": "cost_sort(&sort_path,\n\t\t\t\t  root,\n\t\t\t\t  innersortkeys,\n\t\t\t\t  inner_path->total_cost,\n\t\t\t\t  inner_path_rows,\n\t\t\t\t  inner_path->pathtarget->width,\n\t\t\t\t  0.0,\n\t\t\t\t  work_mem,\n\t\t\t\t  -1.0)",
          "new_text": null,
          "old_line_content": "\t\tcost_sort(&sort_path,",
          "new_line_content": "\t\t\t\t  root,",
          "content_same": false
        },
        {
          "line": 2845,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(hcl)",
          "new_text": null,
          "old_line_content": "\t\t\tRestrictInfo *restrictinfo = (RestrictInfo *) lfirst(hcl);",
          "new_line_content": "\t\t\tSelectivity thisbucketsize;",
          "content_same": false
        },
        {
          "line": 1822,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(wfunc, WindowFunc)",
          "new_text": null,
          "old_line_content": "\t\tAssert(IsA(wfunc, WindowFunc));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4384,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(lc, rte->functions)",
          "new_text": null,
          "old_line_content": "\tforeach(lc, rte->functions)",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 2848,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(restrictinfo, RestrictInfo)",
          "new_text": null,
          "old_line_content": "\t\t\tAssert(IsA(restrictinfo, RestrictInfo));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1824,
          "old_api": "get_func_cost",
          "new_api": null,
          "old_text": "get_func_cost(wfunc->winfnoid)",
          "new_text": null,
          "old_line_content": "\t\twfunccost = get_func_cost(wfunc->winfnoid) * cpu_operator_cost;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4387,
          "old_api": "expression_returns_set_rows",
          "new_api": null,
          "old_text": "expression_returns_set_rows(rtfunc->funcexpr)",
          "new_text": null,
          "old_line_content": "\t\tdouble\t\tntup = expression_returns_set_rows(rtfunc->funcexpr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3364,
          "old_api": "getTypeInputInfo",
          "new_api": null,
          "old_text": "getTypeInputInfo(iocoerce->resulttype,\n\t\t\t\t\t\t &iofunc, &typioparam)",
          "new_text": null,
          "old_line_content": "\t\tgetTypeInputInfo(iocoerce->resulttype,",
          "new_line_content": "\t\t\t\t\t\t &iofunc, &typioparam);",
          "content_same": false
        },
        {
          "line": 1827,
          "old_api": "cost_qual_eval_node",
          "new_api": null,
          "old_text": "cost_qual_eval_node(&argcosts, (Node *) wfunc->args, root)",
          "new_text": null,
          "old_line_content": "\t\tcost_qual_eval_node(&argcosts, (Node *) wfunc->args, root);",
          "new_line_content": "\t\tstartup_cost += argcosts.startup;",
          "content_same": false
        },
        {
          "line": 3366,
          "old_api": "get_func_cost",
          "new_api": null,
          "old_text": "get_func_cost(iofunc)",
          "new_text": null,
          "old_line_content": "\t\tcontext->total.per_tuple += get_func_cost(iofunc) * cpu_operator_cost;",
          "new_line_content": "\t\t/* check the input type's output function */",
          "content_same": false
        },
        {
          "line": 3368,
          "old_api": "exprType",
          "new_api": null,
          "old_text": "exprType((Node *) iocoerce->arg)",
          "new_text": null,
          "old_line_content": "\t\tgetTypeOutputInfo(exprType((Node *) iocoerce->arg),",
          "new_line_content": "\t\t\t\t\t\t  &iofunc, &typisvarlena);",
          "content_same": false
        },
        {
          "line": 4394,
          "old_api": "set_baserel_size_estimates",
          "new_api": null,
          "old_text": "set_baserel_size_estimates(root, rel)",
          "new_text": null,
          "old_line_content": "\tset_baserel_size_estimates(root, rel);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2858,
          "old_api": "bms_is_subset",
          "new_api": null,
          "old_text": "bms_is_subset(restrictinfo->right_relids,\n\t\t\t\t\t\t\t  inner_path->parent->relids)",
          "new_text": null,
          "old_line_content": "\t\t\tif (bms_is_subset(restrictinfo->right_relids,",
          "new_line_content": "\t\t\t\t\t\t\t  inner_path->parent->relids))",
          "content_same": false
        },
        {
          "line": 3370,
          "old_api": "get_func_cost",
          "new_api": null,
          "old_text": "get_func_cost(iofunc)",
          "new_text": null,
          "old_line_content": "\t\tcontext->total.per_tuple += get_func_cost(iofunc) * cpu_operator_cost;",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3372,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, ArrayCoerceExpr)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(node, ArrayCoerceExpr))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 1835,
          "old_api": "cost_qual_eval_node",
          "new_api": null,
          "old_text": "cost_qual_eval_node(&argcosts, (Node *) wfunc->aggfilter, root)",
          "new_text": null,
          "old_line_content": "\t\tcost_qual_eval_node(&argcosts, (Node *) wfunc->aggfilter, root);",
          "new_line_content": "\t\tstartup_cost += argcosts.startup;",
          "content_same": false
        },
        {
          "line": 3379,
          "old_api": "estimate_array_length",
          "new_api": null,
          "old_text": "estimate_array_length(arraynode)",
          "new_text": null,
          "old_line_content": "\t\t\t\tcpu_operator_cost * estimate_array_length(arraynode);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2868,
          "old_api": "get_rightop",
          "new_api": null,
          "old_text": "get_rightop(restrictinfo->clause)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t   get_rightop(restrictinfo->clause),",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t virtualbuckets);",
          "content_same": false
        },
        {
          "line": 3381,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, RowCompareExpr)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(node, RowCompareExpr))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 3898,
          "old_api": "calc_joinrel_size_estimate",
          "new_api": null,
          "old_text": "calc_joinrel_size_estimate(root,\n\t\t\t\t\t\t\t\t\t   outer_path->parent,\n\t\t\t\t\t\t\t\t\t   inner_path->parent,\n\t\t\t\t\t\t\t\t\t   outer_path->rows,\n\t\t\t\t\t\t\t\t\t   inner_path->rows,\n\t\t\t\t\t\t\t\t\t   sjinfo,\n\t\t\t\t\t\t\t\t\t   restrict_clauses)",
          "new_text": null,
          "old_line_content": "\tnrows = calc_joinrel_size_estimate(root,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t   outer_path->parent,",
          "content_same": false
        },
        {
          "line": 2875,
          "old_api": "bms_is_subset",
          "new_api": null,
          "old_text": "bms_is_subset(restrictinfo->left_relids,\n\t\t\t\t\t\t\t\t\t inner_path->parent->relids)",
          "new_text": null,
          "old_line_content": "\t\t\t\tAssert(bms_is_subset(restrictinfo->left_relids,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t inner_path->parent->relids));",
          "content_same": false
        },
        {
          "line": 3387,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(lc, rcexpr->opnos)",
          "new_text": null,
          "old_line_content": "\t\tforeach(lc, rcexpr->opnos)",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 3389,
          "old_api": "lfirst_oid",
          "new_api": null,
          "old_text": "lfirst_oid(lc)",
          "new_text": null,
          "old_line_content": "\t\t\tOid\t\t\topid = lfirst_oid(lc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4414,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(rte->rtekind == RTE_VALUES)",
          "new_text": null,
          "old_line_content": "\tAssert(rte->rtekind == RTE_VALUES);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3391,
          "old_api": "get_opcode",
          "new_api": null,
          "old_text": "get_opcode(opid)",
          "new_text": null,
          "old_line_content": "\t\t\tcontext->total.per_tuple += get_func_cost(get_opcode(opid)) *",
          "new_line_content": "\t\t\t\tcpu_operator_cost;",
          "content_same": false
        },
        {
          "line": 3395,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, CurrentOfExpr)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(node, CurrentOfExpr))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 2884,
          "old_api": "get_leftop",
          "new_api": null,
          "old_text": "get_leftop(restrictinfo->clause)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t\tget_leftop(restrictinfo->clause),",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t virtualbuckets);",
          "content_same": false
        },
        {
          "line": 4422,
          "old_api": "list_length",
          "new_api": null,
          "old_text": "list_length(rte->values_lists)",
          "new_text": null,
          "old_line_content": "\trel->tuples = list_length(rte->values_lists);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3400,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, SubLink)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(node, SubLink))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 4425,
          "old_api": "set_baserel_size_estimates",
          "new_api": null,
          "old_text": "set_baserel_size_estimates(root, rel)",
          "new_text": null,
          "old_line_content": "\tset_baserel_size_estimates(root, rel);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3403,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"cannot handle unplanned sub-select\")",
          "new_text": null,
          "old_line_content": "\t\telog(ERROR, \"cannot handle unplanned sub-select\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3405,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, SubPlan)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(node, SubPlan))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 2900,
          "old_api": "cost_qual_eval",
          "new_api": null,
          "old_text": "cost_qual_eval(&qp_qual_cost, path->jpath.joinrestrictinfo, root)",
          "new_text": null,
          "old_line_content": "\tcost_qual_eval(&qp_qual_cost, path->jpath.joinrestrictinfo, root);",
          "new_line_content": "\tqp_qual_cost.startup -= hash_qual_cost.startup;",
          "content_same": false
        },
        {
          "line": 4446,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(rte->rtekind == RTE_CTE)",
          "new_text": null,
          "old_line_content": "\tAssert(rte->rtekind == RTE_CTE);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3424,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, AlternativeSubPlan)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(node, AlternativeSubPlan))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 2922,
          "old_api": "rint",
          "new_api": null,
          "old_text": "rint(outer_path_rows * semifactors->outer_match_frac)",
          "new_text": null,
          "old_line_content": "\t\touter_matched_rows = rint(outer_path_rows * semifactors->outer_match_frac);",
          "new_line_content": "\t\tinner_scan_frac = 2.0 / (semifactors->match_count + 1.0);",
          "content_same": false
        },
        {
          "line": 3434,
          "old_api": "linitial",
          "new_api": null,
          "old_text": "linitial(asplan->subplans)",
          "new_text": null,
          "old_line_content": "\t\treturn cost_qual_eval_walker((Node *) linitial(asplan->subplans),",
          "new_line_content": "\t\t\t\t\t\t\t\t\t context);",
          "content_same": false
        },
        {
          "line": 3437,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, PlaceHolderVar)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(node, PlaceHolderVar))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 4463,
          "old_api": "set_baserel_size_estimates",
          "new_api": null,
          "old_text": "set_baserel_size_estimates(root, rel)",
          "new_text": null,
          "old_line_content": "\tset_baserel_size_estimates(root, rel);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2927,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(inner_path_rows * innerbucketsize * inner_scan_frac)",
          "new_text": null,
          "old_line_content": "\t\t\tclamp_row_est(inner_path_rows * innerbucketsize * inner_scan_frac) * 0.5;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3952,
          "old_api": "get_foreign_key_join_selectivity",
          "new_api": null,
          "old_text": "get_foreign_key_join_selectivity(root,\n\t\t\t\t\t\t\t\t\t\t\t   outer_rel->relids,\n\t\t\t\t\t\t\t\t\t\t\t   inner_rel->relids,\n\t\t\t\t\t\t\t\t\t\t\t   sjinfo,\n\t\t\t\t\t\t\t\t\t\t\t   &restrictlist)",
          "new_text": null,
          "old_line_content": "\tfkselec = get_foreign_key_join_selectivity(root,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t   outer_rel->relids,",
          "content_same": false
        },
        {
          "line": 2426,
          "old_api": "isnan",
          "new_api": null,
          "old_text": "isnan(inner_path_rows)",
          "new_text": null,
          "old_line_content": "\tif (inner_path_rows <= 0 || isnan(inner_path_rows))",
          "new_line_content": "\t\tinner_path_rows = 1;",
          "content_same": false
        },
        {
          "line": 3963,
          "old_api": "IS_OUTER_JOIN",
          "new_api": null,
          "old_text": "IS_OUTER_JOIN(jointype)",
          "new_text": null,
          "old_line_content": "\tif (IS_OUTER_JOIN(jointype))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 3453,
          "old_api": "expression_tree_walker",
          "new_api": null,
          "old_text": "expression_tree_walker(node, cost_qual_eval_walker,\n\t\t\t\t\t\t\t\t  (void *) context)",
          "new_text": null,
          "old_line_content": "\treturn expression_tree_walker(node, cost_qual_eval_walker,",
          "new_line_content": "\t\t\t\t\t\t\t\t  (void *) context);",
          "content_same": false
        },
        {
          "line": 2944,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(inner_path_rows / virtualbuckets)",
          "new_text": null,
          "old_line_content": "\t\t\tclamp_row_est(inner_path_rows / virtualbuckets) * 0.05;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3972,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(l)",
          "new_text": null,
          "old_line_content": "\t\t\tRestrictInfo *rinfo = (RestrictInfo *) lfirst(l);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4485,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(rel->relid > 0)",
          "new_text": null,
          "old_line_content": "\tAssert(rel->relid > 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3974,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(rinfo, RestrictInfo)",
          "new_text": null,
          "old_line_content": "\t\t\tAssert(IsA(rinfo, RestrictInfo));",
          "new_line_content": "\t\t\tif (rinfo->is_pushed_down)",
          "content_same": false
        },
        {
          "line": 3976,
          "old_api": "lappend",
          "new_api": null,
          "old_text": "lappend(pushedquals, rinfo)",
          "new_text": null,
          "old_line_content": "\t\t\t\tpushedquals = lappend(pushedquals, rinfo);",
          "new_line_content": "\t\t\telse",
          "content_same": false
        },
        {
          "line": 4489,
          "old_api": "cost_qual_eval",
          "new_api": null,
          "old_text": "cost_qual_eval(&rel->baserestrictcost, rel->baserestrictinfo, root)",
          "new_text": null,
          "old_line_content": "\tcost_qual_eval(&rel->baserestrictcost, rel->baserestrictinfo, root);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1930,
          "old_api": "cost_rescan",
          "new_api": null,
          "old_text": "cost_rescan(root, inner_path,\n\t\t\t\t&inner_rescan_start_cost,\n\t\t\t\t&inner_rescan_total_cost)",
          "new_text": null,
          "old_line_content": "\tcost_rescan(root, inner_path,",
          "new_line_content": "\t\t\t\t&inner_rescan_start_cost,",
          "content_same": false
        },
        {
          "line": 4491,
          "old_api": "set_rel_width",
          "new_api": null,
          "old_text": "set_rel_width(root, rel)",
          "new_text": null,
          "old_line_content": "\tset_rel_width(root, rel);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3978,
          "old_api": "lappend",
          "new_api": null,
          "old_text": "lappend(joinquals, rinfo)",
          "new_text": null,
          "old_line_content": "\t\t\t\tjoinquals = lappend(joinquals, rinfo);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 3982,
          "old_api": "clauselist_selectivity",
          "new_api": null,
          "old_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\t\tjoinquals,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tjointype,\n\t\t\t\t\t\t\t\t\t\tsjinfo)",
          "new_text": null,
          "old_line_content": "\t\tjselec = clauselist_selectivity(root,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\tjoinquals,",
          "content_same": false
        },
        {
          "line": 2448,
          "old_api": "cost_qual_eval",
          "new_api": null,
          "old_text": "cost_qual_eval(&qp_qual_cost, path->jpath.joinrestrictinfo, root)",
          "new_text": null,
          "old_line_content": "\tcost_qual_eval(&qp_qual_cost, path->jpath.joinrestrictinfo, root);",
          "new_line_content": "\tqp_qual_cost.startup -= merge_qual_cost.startup;",
          "content_same": false
        },
        {
          "line": 3987,
          "old_api": "clauselist_selectivity",
          "new_api": null,
          "old_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\t\tpushedquals,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tjointype,\n\t\t\t\t\t\t\t\t\t\tsjinfo)",
          "new_text": null,
          "old_line_content": "\t\tpselec = clauselist_selectivity(root,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\tpushedquals,",
          "content_same": false
        },
        {
          "line": 3477,
          "old_api": "cost_qual_eval",
          "new_api": null,
          "old_text": "cost_qual_eval(qpqual_cost, param_info->ppi_clauses, root)",
          "new_text": null,
          "old_line_content": "\t\tcost_qual_eval(qpqual_cost, param_info->ppi_clauses, root);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2966,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(inner_path_rows * innerbucketsize)",
          "new_text": null,
          "old_line_content": "\t\t\tclamp_row_est(inner_path_rows * innerbucketsize) * 0.5;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2456,
          "old_api": "approx_tuple_count",
          "new_api": null,
          "old_text": "approx_tuple_count(root, &path->jpath, mergeclauses)",
          "new_text": null,
          "old_line_content": "\tmergejointuples = approx_tuple_count(root, &path->jpath, mergeclauses);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3995,
          "old_api": "list_free",
          "new_api": null,
          "old_text": "list_free(pushedquals)",
          "new_text": null,
          "old_line_content": "\t\tlist_free(pushedquals);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2973,
          "old_api": "approx_tuple_count",
          "new_api": null,
          "old_text": "approx_tuple_count(root, &path->jpath, hashclauses)",
          "new_text": null,
          "old_line_content": "\t\thashjointuples = approx_tuple_count(root, &path->jpath, hashclauses);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3999,
          "old_api": "clauselist_selectivity",
          "new_api": null,
          "old_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\t\trestrictlist,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tjointype,\n\t\t\t\t\t\t\t\t\t\tsjinfo)",
          "new_text": null,
          "old_line_content": "\t\tjselec = clauselist_selectivity(root,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\trestrictlist,",
          "content_same": false
        },
        {
          "line": 4519,
          "old_api": "planner_rt_fetch",
          "new_api": null,
          "old_text": "planner_rt_fetch(rel->relid, root)",
          "new_text": null,
          "old_line_content": "\tOid\t\t\treloid = planner_rt_fetch(rel->relid, root)->relid;",
          "new_line_content": "\tint32\t\ttuple_width = 0;",
          "content_same": false
        },
        {
          "line": 4528,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(lc, rel->reltarget->exprs)",
          "new_text": null,
          "old_line_content": "\tforeach(lc, rel->reltarget->exprs)",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 4530,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(lc)",
          "new_text": null,
          "old_line_content": "\t\tNode\t   *node = (Node *) lfirst(lc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2484,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(outer_path, UniquePath)",
          "new_text": null,
          "old_line_content": "\tif (IsA(outer_path, UniquePath))",
          "new_line_content": "\t\trescannedtuples = 0;",
          "content_same": false
        },
        {
          "line": 4538,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, Var)",
          "new_text": null,
          "old_line_content": "\t\tif (IsA(node, Var) &&",
          "new_line_content": "\t\t\t((Var *) node)->varno == rel->relid)",
          "content_same": false
        },
        {
          "line": 3009,
          "old_api": "make_ands_implicit",
          "new_api": null,
          "old_text": "make_ands_implicit((Expr *) subplan->testexpr)",
          "new_text": null,
          "old_line_content": "\t\t\t\t   make_ands_implicit((Expr *) subplan->testexpr),",
          "new_line_content": "\t\t\t\t   root);",
          "content_same": false
        },
        {
          "line": 4546,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(var->varattno <= rel->max_attr)",
          "new_text": null,
          "old_line_content": "\t\t\tAssert(var->varattno <= rel->max_attr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3526,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(jointype == JOIN_SEMI || jointype == JOIN_ANTI)",
          "new_text": null,
          "old_line_content": "\tAssert(jointype == JOIN_SEMI || jointype == JOIN_ANTI);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4049,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"unrecognized join type: %d\", (int) jointype)",
          "new_text": null,
          "old_line_content": "\t\t\telog(ERROR, \"unrecognized join type: %d\", (int) jointype);",
          "new_line_content": "\t\t\tnrows = 0;\t\t\t/* keep compiler quiet */",
          "content_same": false
        },
        {
          "line": 3539,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(l)",
          "new_text": null,
          "old_line_content": "\t\t\tRestrictInfo *rinfo = (RestrictInfo *) lfirst(l);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3541,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(rinfo, RestrictInfo)",
          "new_text": null,
          "old_line_content": "\t\t\tAssert(IsA(rinfo, RestrictInfo));",
          "new_line_content": "\t\t\tif (!rinfo->is_pushed_down)",
          "content_same": false
        },
        {
          "line": 2006,
          "old_api": "isnan",
          "new_api": null,
          "old_text": "isnan(outer_path_rows)",
          "new_text": null,
          "old_line_content": "\tif (outer_path_rows <= 0 || isnan(outer_path_rows))",
          "new_line_content": "\t\touter_path_rows = 1;",
          "content_same": false
        },
        {
          "line": 3543,
          "old_api": "lappend",
          "new_api": null,
          "old_text": "lappend(joinquals, rinfo)",
          "new_text": null,
          "old_line_content": "\t\t\t\tjoinquals = lappend(joinquals, rinfo);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 4054,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(nrows)",
          "new_text": null,
          "old_line_content": "\treturn clamp_row_est(nrows);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2008,
          "old_api": "isnan",
          "new_api": null,
          "old_text": "isnan(inner_path_rows)",
          "new_text": null,
          "old_line_content": "\tif (inner_path_rows <= 0 || isnan(inner_path_rows))",
          "new_line_content": "\t\tinner_path_rows = 1;",
          "content_same": false
        },
        {
          "line": 4573,
          "old_api": "get_attavgwidth",
          "new_api": null,
          "old_text": "get_attavgwidth(reloid, var->varattno)",
          "new_text": null,
          "old_line_content": "\t\t\t\titem_width = get_attavgwidth(reloid, var->varattno);",
          "new_line_content": "\t\t\t\tif (item_width > 0)",
          "content_same": false
        },
        {
          "line": 3552,
          "old_api": "clauselist_selectivity",
          "new_api": null,
          "old_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\tjoinquals,\n\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\tjointype,\n\t\t\t\t\t\t\t\t\tsjinfo)",
          "new_text": null,
          "old_line_content": "\tjselec = clauselist_selectivity(root,",
          "new_line_content": "\t\t\t\t\t\t\t\t\tjoinquals,",
          "content_same": false
        },
        {
          "line": 3046,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(plan->plan_rows)",
          "new_text": null,
          "old_line_content": "\t\t\tsp_cost.per_tuple += plan_run_cost / clamp_row_est(plan->plan_rows);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 4587,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(item_width > 0)",
          "new_text": null,
          "old_line_content": "\t\t\tAssert(item_width > 0);",
          "new_line_content": "\t\t\trel->attr_widths[ndx] = item_width;",
          "content_same": false
        },
        {
          "line": 4591,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, PlaceHolderVar)",
          "new_text": null,
          "old_line_content": "\t\telse if (IsA(node, PlaceHolderVar))",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 2547,
          "old_api": "ExecSupportsMarkRestore",
          "new_api": null,
          "old_text": "ExecSupportsMarkRestore(inner_path)",
          "new_text": null,
          "old_line_content": "\t\t\t !ExecSupportsMarkRestore(inner_path))",
          "new_line_content": "\t\tpath->materialize_inner = true;",
          "content_same": false
        },
        {
          "line": 4085,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(lc, root->fkey_list)",
          "new_text": null,
          "old_line_content": "\tforeach(lc, root->fkey_list)",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 4598,
          "old_api": "find_placeholder_info",
          "new_api": null,
          "old_text": "find_placeholder_info(root, phv, false)",
          "new_text": null,
          "old_line_content": "\t\t\tPlaceHolderInfo *phinfo = find_placeholder_info(root, phv, false);",
          "new_line_content": "\t\t\tQualCost\tcost;",
          "content_same": false
        },
        {
          "line": 3575,
          "old_api": "clauselist_selectivity",
          "new_api": null,
          "old_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\tjoinquals,\n\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\tJOIN_INNER,\n\t\t\t\t\t\t\t\t\t&norm_sjinfo)",
          "new_text": null,
          "old_line_content": "\tnselec = clauselist_selectivity(root,",
          "new_line_content": "\t\t\t\t\t\t\t\t\tjoinquals,",
          "content_same": false
        },
        {
          "line": 4602,
          "old_api": "cost_qual_eval_node",
          "new_api": null,
          "old_text": "cost_qual_eval_node(&cost, (Node *) phv->phexpr, root)",
          "new_text": null,
          "old_line_content": "\t\t\tcost_qual_eval_node(&cost, (Node *) phv->phexpr, root);",
          "new_line_content": "\t\t\trel->reltarget->cost.startup += cost.startup;",
          "content_same": false
        },
        {
          "line": 3070,
          "old_api": "nodeTag",
          "new_api": null,
          "old_text": "nodeTag(plan)",
          "new_text": null,
          "old_line_content": "\t\t\tExecMaterializesOutput(nodeTag(plan)))",
          "new_line_content": "\t\t\tsp_cost.startup += plan->startup_cost;",
          "content_same": false
        },
        {
          "line": 3583,
          "old_api": "list_free",
          "new_api": null,
          "old_text": "list_free(joinquals)",
          "new_text": null,
          "old_line_content": "\t\tlist_free(joinquals);",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 26,
      "total_additions": 198,
      "total_deletions": 198,
      "total_api_changes": 422
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 4,
        "api_related_lines": 422,
        "non_api_lines": 4,
        "non_api_line_numbers": [
          1580,
          1581,
          1622,
          1621
        ]
      }
    },
    "api_calls_before": 378,
    "api_calls_after": 378,
    "diff_info": {
      "added_lines": 2,
      "removed_lines": 3,
      "total_diff_lines": 24
    }
  }
}