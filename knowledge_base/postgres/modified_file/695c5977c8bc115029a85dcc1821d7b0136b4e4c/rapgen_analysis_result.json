{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/695c5977c8bc115029a85dcc1821d7b0136b4e4c",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/695c5977c8bc115029a85dcc1821d7b0136b4e4c/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/695c5977c8bc115029a85dcc1821d7b0136b4e4c/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/695c5977c8bc115029a85dcc1821d7b0136b4e4c/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1224,
          "old_api": "xactGetCommittedInvalidationMessages",
          "new_api": "smgrGetPendingDeletes",
          "old_text": "xactGetCommittedInvalidationMessages(&invalMessages,\n\t\t\t\t\t\t\t\t\t\t\t\t\t &RelcacheInitFileInval)",
          "new_text": "smgrGetPendingDeletes(true, &rels)",
          "old_line_content": "\t\tnmsgs = xactGetCommittedInvalidationMessages(&invalMessages,",
          "new_line_content": "\tnrels = smgrGetPendingDeletes(true, &rels);",
          "content_same": false
        },
        {
          "line": 1244,
          "old_api": "Assert",
          "new_api": "elog",
          "old_text": "Assert(nchildren == 0)",
          "new_text": "elog(ERROR, \"cannot commit a transaction that deleted files but has no xid\")",
          "old_line_content": "\t\tAssert(nchildren == 0);",
          "new_line_content": "\t\t\telog(ERROR, \"cannot commit a transaction that deleted files but has no xid\");",
          "content_same": false
        },
        {
          "line": 1310,
          "old_api": "SetCurrentTransactionStopTimestamp",
          "new_api": "START_CRIT_SECTION",
          "old_text": "SetCurrentTransactionStopTimestamp()",
          "new_text": "START_CRIT_SECTION()",
          "old_line_content": "\t\tSetCurrentTransactionStopTimestamp();",
          "new_line_content": "\t\tSTART_CRIT_SECTION();",
          "content_same": false
        },
        {
          "line": 1565,
          "old_api": "repalloc",
          "new_api": "MemoryContextAlloc",
          "old_text": "repalloc(s->parent->childXids,\n\t\t\t\t\t\t\t\t\t new_maxChildXids * sizeof(TransactionId))",
          "new_text": "MemoryContextAlloc(TopTransactionContext,\n\t\t\t\t\t\t\t\t   new_maxChildXids * sizeof(TransactionId))",
          "old_line_content": "\t\t\tnew_childXids = repalloc(s->parent->childXids,",
          "new_line_content": "\t\t\t\tMemoryContextAlloc(TopTransactionContext,",
          "content_same": false
        },
        {
          "line": 1584,
          "old_api": "memcpy",
          "new_api": "XidFromFullTransactionId",
          "old_text": "memcpy(&s->parent->childXids[s->parent->nChildXids + 1],\n\t\t\t   s->childXids,\n\t\t\t   s->nChildXids * sizeof(TransactionId))",
          "new_text": "XidFromFullTransactionId(s->fullTransactionId)",
          "old_line_content": "\t\tmemcpy(&s->parent->childXids[s->parent->nChildXids + 1],",
          "new_line_content": "\ts->parent->childXids[s->parent->nChildXids] = XidFromFullTransactionId(s->fullTransactionId);",
          "content_same": false
        },
        {
          "line": 1655,
          "old_api": "START_CRIT_SECTION",
          "new_api": "xactGetCommittedChildren",
          "old_text": "START_CRIT_SECTION()",
          "new_text": "xactGetCommittedChildren(&children)",
          "old_line_content": "\tSTART_CRIT_SECTION();",
          "new_line_content": "\tnchildren = xactGetCommittedChildren(&children);",
          "content_same": false
        },
        {
          "line": 1662,
          "old_api": "SetCurrentTransactionStopTimestamp",
          "new_api": "GetCurrentTimestamp",
          "old_text": "SetCurrentTransactionStopTimestamp()",
          "new_text": "GetCurrentTimestamp()",
          "old_line_content": "\t\tSetCurrentTransactionStopTimestamp();",
          "new_line_content": "\t\txact_time = GetCurrentTimestamp();",
          "content_same": false
        },
        {
          "line": 1697,
          "old_api": "TransactionIdLatest",
          "new_api": "END_CRIT_SECTION",
          "old_text": "TransactionIdLatest(xid, nchildren, children)",
          "new_text": "END_CRIT_SECTION()",
          "old_line_content": "\tlatestXid = TransactionIdLatest(xid, nchildren, children);",
          "new_line_content": "\tEND_CRIT_SECTION();",
          "content_same": false
        },
        {
          "line": 1856,
          "old_api": "MemoryContextSwitchTo",
          "new_api": "Assert",
          "old_text": "MemoryContextSwitchTo(s->parent->curTransactionContext)",
          "new_text": "Assert(s->parent != NULL)",
          "old_line_content": "\tMemoryContextSwitchTo(s->parent->curTransactionContext);",
          "new_line_content": "\tAssert(s->parent != NULL);",
          "content_same": false
        },
        {
          "line": 1898,
          "old_api": "Assert",
          "new_api": "FullTransactionIdIsValid",
          "old_text": "Assert(s->state == TRANS_DEFAULT)",
          "new_text": "FullTransactionIdIsValid(XactTopFullTransactionId)",
          "old_line_content": "\tAssert(s->state == TRANS_DEFAULT);",
          "new_line_content": "\tAssert(!FullTransactionIdIsValid(XactTopFullTransactionId));",
          "content_same": false
        },
        {
          "line": 1932,
          "old_api": "Assert",
          "new_api": "GetUserIdAndSecContext",
          "old_text": "Assert(s->prevSecContext == 0)",
          "new_text": "GetUserIdAndSecContext(&s->prevUser, &s->prevSecContext)",
          "old_line_content": "\tAssert(s->prevSecContext == 0);",
          "new_line_content": "\tGetUserIdAndSecContext(&s->prevUser, &s->prevSecContext);",
          "content_same": false
        },
        {
          "line": 1996,
          "old_api": "TRACE_POSTGRESQL_TRANSACTION_START",
          "new_api": "Assert",
          "old_text": "TRACE_POSTGRESQL_TRANSACTION_START(vxid.localTransactionId)",
          "new_text": "Assert(MyProc->backendId == vxid.backendId)",
          "old_line_content": "\tTRACE_POSTGRESQL_TRANSACTION_START(vxid.localTransactionId);",
          "new_line_content": "\tAssert(MyProc->backendId == vxid.backendId);",
          "content_same": false
        },
        {
          "line": 2012,
          "old_api": "GetCurrentTimestamp",
          "new_api": "SPI_inside_nonatomic_context",
          "old_text": "GetCurrentTimestamp()",
          "new_text": "SPI_inside_nonatomic_context()",
          "old_line_content": "\t\t\txactStartTimestamp = GetCurrentTimestamp();",
          "new_line_content": "\t\tif (!SPI_inside_nonatomic_context())",
          "content_same": false
        },
        {
          "line": 2015,
          "old_api": "Assert",
          "new_api": "GetCurrentTimestamp",
          "old_text": "Assert(xactStartTimestamp != 0)",
          "new_text": "GetCurrentTimestamp()",
          "old_line_content": "\t\tAssert(xactStartTimestamp != 0);",
          "new_line_content": "\t\t\txactStartTimestamp = GetCurrentTimestamp();",
          "content_same": false
        },
        {
          "line": 2102,
          "old_api": "AfterTriggerEndXact",
          "new_api": "AtEOXact_Parallel",
          "old_text": "AfterTriggerEndXact(true)",
          "new_text": "AtEOXact_Parallel(true)",
          "old_line_content": "\tAfterTriggerEndXact(true);",
          "new_line_content": "\t\tAtEOXact_Parallel(true);",
          "content_same": false
        },
        {
          "line": 2111,
          "old_api": "AtEOXact_LargeObject",
          "new_api": "PreCommit_on_commit_actions",
          "old_text": "AtEOXact_LargeObject(true)",
          "new_text": "PreCommit_on_commit_actions()",
          "old_line_content": "\tAtEOXact_LargeObject(true);",
          "new_line_content": "\tPreCommit_on_commit_actions();",
          "content_same": false
        },
        {
          "line": 2131,
          "old_api": "HOLD_INTERRUPTS",
          "new_api": "PreCommit_Notify",
          "old_text": "HOLD_INTERRUPTS()",
          "new_text": "PreCommit_Notify()",
          "old_line_content": "\tHOLD_INTERRUPTS();",
          "new_line_content": "\tPreCommit_Notify();",
          "content_same": false
        },
        {
          "line": 2134,
          "old_api": "AtEOXact_RelationMap",
          "new_api": "HOLD_INTERRUPTS",
          "old_text": "AtEOXact_RelationMap(true, is_parallel_worker)",
          "new_text": "HOLD_INTERRUPTS()",
          "old_line_content": "\tAtEOXact_RelationMap(true, is_parallel_worker);",
          "new_line_content": "\tHOLD_INTERRUPTS();",
          "content_same": false
        },
        {
          "line": 2166,
          "old_api": "TRACE_POSTGRESQL_TRANSACTION_COMMIT",
          "new_api": "ParallelWorkerReportLastRecEnd",
          "old_text": "TRACE_POSTGRESQL_TRANSACTION_COMMIT(MyProc->lxid)",
          "new_text": "ParallelWorkerReportLastRecEnd(XactLastRecEnd)",
          "old_line_content": "\tTRACE_POSTGRESQL_TRANSACTION_COMMIT(MyProc->lxid);",
          "new_line_content": "\t\tParallelWorkerReportLastRecEnd(XactLastRecEnd);",
          "content_same": false
        },
        {
          "line": 2194,
          "old_api": "ResourceOwnerRelease",
          "new_api": "CallXactCallbacks",
          "old_text": "ResourceOwnerRelease(TopTransactionResourceOwner,\n\t\t\t\t\t\t RESOURCE_RELEASE_BEFORE_LOCKS,\n\t\t\t\t\t\t true, true)",
          "new_text": "CallXactCallbacks(is_parallel_worker ? XACT_EVENT_PARALLEL_COMMIT\n\t\t\t\t\t  : XACT_EVENT_COMMIT)",
          "old_line_content": "\tResourceOwnerRelease(TopTransactionResourceOwner,",
          "new_line_content": "\tCallXactCallbacks(is_parallel_worker ? XACT_EVENT_PARALLEL_COMMIT",
          "content_same": false
        },
        {
          "line": 2202,
          "old_api": "AtEOXact_RelationCache",
          "new_api": "AtEOXact_Buffers",
          "old_text": "AtEOXact_RelationCache(true)",
          "new_text": "AtEOXact_Buffers(true)",
          "old_line_content": "\tAtEOXact_RelationCache(true);",
          "new_line_content": "\tAtEOXact_Buffers(true);",
          "content_same": false
        },
        {
          "line": 2234,
          "old_api": "AtEOXact_GUC",
          "new_api": "smgrDoPendingDeletes",
          "old_text": "AtEOXact_GUC(true, 1)",
          "new_text": "smgrDoPendingDeletes(true)",
          "old_line_content": "\tAtEOXact_GUC(true, 1);",
          "new_line_content": "\tsmgrDoPendingDeletes(true);",
          "content_same": false
        },
        {
          "line": 2236,
          "old_api": "AtEOXact_Enum",
          "new_api": "AtCommit_Notify",
          "old_text": "AtEOXact_Enum()",
          "new_text": "AtCommit_Notify()",
          "old_line_content": "\tAtEOXact_Enum();",
          "new_line_content": "\tAtCommit_Notify();",
          "content_same": false
        },
        {
          "line": 2237,
          "old_api": "AtEOXact_on_commit_actions",
          "new_api": "AtEOXact_GUC",
          "old_text": "AtEOXact_on_commit_actions(true)",
          "new_text": "AtEOXact_GUC(true, 1)",
          "old_line_content": "\tAtEOXact_on_commit_actions(true);",
          "new_line_content": "\tAtEOXact_GUC(true, 1);",
          "content_same": false
        },
        {
          "line": 2238,
          "old_api": "AtEOXact_Namespace",
          "new_api": "AtEOXact_SPI",
          "old_text": "AtEOXact_Namespace(true, is_parallel_worker)",
          "new_text": "AtEOXact_SPI(true)",
          "old_line_content": "\tAtEOXact_Namespace(true, is_parallel_worker);",
          "new_line_content": "\tAtEOXact_SPI(true);",
          "content_same": false
        },
        {
          "line": 2239,
          "old_api": "AtEOXact_SMgr",
          "new_api": "AtEOXact_Enum",
          "old_text": "AtEOXact_SMgr()",
          "new_text": "AtEOXact_Enum()",
          "old_line_content": "\tAtEOXact_SMgr();",
          "new_line_content": "\tAtEOXact_Enum();",
          "content_same": false
        },
        {
          "line": 2240,
          "old_api": "AtEOXact_Files",
          "new_api": "AtEOXact_on_commit_actions",
          "old_text": "AtEOXact_Files(true)",
          "new_text": "AtEOXact_on_commit_actions(true)",
          "old_line_content": "\tAtEOXact_Files(true);",
          "new_line_content": "\tAtEOXact_on_commit_actions(true);",
          "content_same": false
        },
        {
          "line": 2241,
          "old_api": "AtEOXact_ComboCid",
          "new_api": "AtEOXact_Namespace",
          "old_text": "AtEOXact_ComboCid()",
          "new_text": "AtEOXact_Namespace(true, is_parallel_worker)",
          "old_line_content": "\tAtEOXact_ComboCid();",
          "new_line_content": "\tAtEOXact_Namespace(true, is_parallel_worker);",
          "content_same": false
        },
        {
          "line": 2242,
          "old_api": "AtEOXact_HashTables",
          "new_api": "AtEOXact_SMgr",
          "old_text": "AtEOXact_HashTables(true)",
          "new_text": "AtEOXact_SMgr()",
          "old_line_content": "\tAtEOXact_HashTables(true);",
          "new_line_content": "\tAtEOXact_SMgr();",
          "content_same": false
        },
        {
          "line": 2243,
          "old_api": "AtEOXact_PgStat",
          "new_api": "AtEOXact_Files",
          "old_text": "AtEOXact_PgStat(true, is_parallel_worker)",
          "new_text": "AtEOXact_Files(true)",
          "old_line_content": "\tAtEOXact_PgStat(true, is_parallel_worker);",
          "new_line_content": "\tAtEOXact_Files(true);",
          "content_same": false
        },
        {
          "line": 2244,
          "old_api": "AtEOXact_Snapshot",
          "new_api": "AtEOXact_ComboCid",
          "old_text": "AtEOXact_Snapshot(true, false)",
          "new_text": "AtEOXact_ComboCid()",
          "old_line_content": "\tAtEOXact_Snapshot(true, false);",
          "new_line_content": "\tAtEOXact_ComboCid();",
          "content_same": false
        },
        {
          "line": 2245,
          "old_api": "AtEOXact_ApplyLauncher",
          "new_api": "AtEOXact_HashTables",
          "old_text": "AtEOXact_ApplyLauncher(true)",
          "new_text": "AtEOXact_HashTables(true)",
          "old_line_content": "\tAtEOXact_ApplyLauncher(true);",
          "new_line_content": "\tAtEOXact_HashTables(true);",
          "content_same": false
        },
        {
          "line": 2246,
          "old_api": "pgstat_report_xact_timestamp",
          "new_api": "AtEOXact_PgStat",
          "old_text": "pgstat_report_xact_timestamp(0)",
          "new_text": "AtEOXact_PgStat(true, is_parallel_worker)",
          "old_line_content": "\tpgstat_report_xact_timestamp(0);",
          "new_line_content": "\tAtEOXact_PgStat(true, is_parallel_worker);",
          "content_same": false
        },
        {
          "line": 2249,
          "old_api": "ResourceOwnerDelete",
          "new_api": "pgstat_report_xact_timestamp",
          "old_text": "ResourceOwnerDelete(TopTransactionResourceOwner)",
          "new_text": "pgstat_report_xact_timestamp(0)",
          "old_line_content": "\tResourceOwnerDelete(TopTransactionResourceOwner);",
          "new_line_content": "\tpgstat_report_xact_timestamp(0);",
          "content_same": false
        },
        {
          "line": 2343,
          "old_api": "AtEOXact_LargeObject",
          "new_api": "PreCommit_on_commit_actions",
          "old_text": "AtEOXact_LargeObject(true)",
          "new_text": "PreCommit_on_commit_actions()",
          "old_line_content": "\tAtEOXact_LargeObject(true);",
          "new_line_content": "\tPreCommit_on_commit_actions();",
          "content_same": false
        },
        {
          "line": 2387,
          "old_api": "errmsg",
          "new_api": "XactHasExportedSnapshots",
          "old_text": "errmsg(\"cannot PREPARE a transaction that has exported snapshots\")",
          "new_text": "XactHasExportedSnapshots()",
          "old_line_content": "\t\t\t\t errmsg(\"cannot PREPARE a transaction that has exported snapshots\")));",
          "new_line_content": "\tif (XactHasExportedSnapshots())",
          "content_same": false
        },
        {
          "line": 2396,
          "old_api": "errmsg",
          "new_api": "XactManipulatesLogicalReplicationWorkers",
          "old_text": "errmsg(\"cannot PREPARE a transaction that has manipulated logical replication workers\")",
          "new_text": "XactManipulatesLogicalReplicationWorkers()",
          "old_line_content": "\t\t\t\t errmsg(\"cannot PREPARE a transaction that has manipulated logical replication workers\")));",
          "new_line_content": "\tif (XactManipulatesLogicalReplicationWorkers())",
          "content_same": false
        },
        {
          "line": 2399,
          "old_api": "HOLD_INTERRUPTS",
          "new_api": "errmsg",
          "old_text": "HOLD_INTERRUPTS()",
          "new_text": "errmsg(\"cannot PREPARE a transaction that has manipulated logical replication workers\")",
          "old_line_content": "\tHOLD_INTERRUPTS();",
          "new_line_content": "\t\t\t\t errmsg(\"cannot PREPARE a transaction that has manipulated logical replication workers\")));",
          "content_same": false
        },
        {
          "line": 2410,
          "old_api": "BufmgrCommit",
          "new_api": "GetCurrentTimestamp",
          "old_text": "BufmgrCommit()",
          "new_text": "GetCurrentTimestamp()",
          "old_line_content": "\tBufmgrCommit();",
          "new_line_content": "\tprepared_at = GetCurrentTimestamp();",
          "content_same": false
        },
        {
          "line": 2439,
          "old_api": "AtPrepare_Locks",
          "new_api": "StartPrepare",
          "old_text": "AtPrepare_Locks()",
          "new_text": "StartPrepare(gxact)",
          "old_line_content": "\tAtPrepare_Locks();",
          "new_line_content": "\tStartPrepare(gxact);",
          "content_same": false
        },
        {
          "line": 2441,
          "old_api": "AtPrepare_PgStat",
          "new_api": "AtPrepare_Notify",
          "old_text": "AtPrepare_PgStat()",
          "new_text": "AtPrepare_Notify()",
          "old_line_content": "\tAtPrepare_PgStat();",
          "new_line_content": "\tAtPrepare_Notify();",
          "content_same": false
        },
        {
          "line": 2442,
          "old_api": "AtPrepare_MultiXact",
          "new_api": "AtPrepare_Locks",
          "old_text": "AtPrepare_MultiXact()",
          "new_text": "AtPrepare_Locks()",
          "old_line_content": "\tAtPrepare_MultiXact();",
          "new_line_content": "\tAtPrepare_Locks();",
          "content_same": false
        },
        {
          "line": 2443,
          "old_api": "AtPrepare_RelationMap",
          "new_api": "AtPrepare_PredicateLocks",
          "old_text": "AtPrepare_RelationMap()",
          "new_text": "AtPrepare_PredicateLocks()",
          "old_line_content": "\tAtPrepare_RelationMap();",
          "new_line_content": "\tAtPrepare_PredicateLocks();",
          "content_same": false
        },
        {
          "line": 2488,
          "old_api": "AtEOXact_RelationCache",
          "new_api": "AtEOXact_Buffers",
          "old_text": "AtEOXact_RelationCache(true)",
          "new_text": "AtEOXact_Buffers(true)",
          "old_line_content": "\tAtEOXact_RelationCache(true);",
          "new_line_content": "\tAtEOXact_Buffers(true);",
          "content_same": false
        },
        {
          "line": 2501,
          "old_api": "PostPrepare_PredicateLocks",
          "new_api": "PostPrepare_MultiXact",
          "old_text": "PostPrepare_PredicateLocks(xid)",
          "new_text": "PostPrepare_MultiXact(xid)",
          "old_line_content": "\tPostPrepare_PredicateLocks(xid);",
          "new_line_content": "\tPostPrepare_MultiXact(xid);",
          "content_same": false
        },
        {
          "line": 2503,
          "old_api": "ResourceOwnerRelease",
          "new_api": "PostPrepare_Locks",
          "old_text": "ResourceOwnerRelease(TopTransactionResourceOwner,\n\t\t\t\t\t\t RESOURCE_RELEASE_LOCKS,\n\t\t\t\t\t\t true, true)",
          "new_text": "PostPrepare_Locks(xid)",
          "old_line_content": "\tResourceOwnerRelease(TopTransactionResourceOwner,",
          "new_line_content": "\tPostPrepare_Locks(xid);",
          "content_same": false
        },
        {
          "line": 2518,
          "old_api": "AtEOXact_GUC",
          "new_api": "PostPrepare_Twophase",
          "old_text": "AtEOXact_GUC(true, 1)",
          "new_text": "PostPrepare_Twophase()",
          "old_line_content": "\tAtEOXact_GUC(true, 1);",
          "new_line_content": "\tPostPrepare_Twophase();",
          "content_same": false
        },
        {
          "line": 2521,
          "old_api": "AtEOXact_on_commit_actions",
          "new_api": "AtEOXact_GUC",
          "old_text": "AtEOXact_on_commit_actions(true)",
          "new_text": "AtEOXact_GUC(true, 1)",
          "old_line_content": "\tAtEOXact_on_commit_actions(true);",
          "new_line_content": "\tAtEOXact_GUC(true, 1);",
          "content_same": false
        },
        {
          "line": 2522,
          "old_api": "AtEOXact_Namespace",
          "new_api": "AtEOXact_SPI",
          "old_text": "AtEOXact_Namespace(true, false)",
          "new_text": "AtEOXact_SPI(true)",
          "old_line_content": "\tAtEOXact_Namespace(true, false);",
          "new_line_content": "\tAtEOXact_SPI(true);",
          "content_same": false
        },
        {
          "line": 2523,
          "old_api": "AtEOXact_SMgr",
          "new_api": "AtEOXact_Enum",
          "old_text": "AtEOXact_SMgr()",
          "new_text": "AtEOXact_Enum()",
          "old_line_content": "\tAtEOXact_SMgr();",
          "new_line_content": "\tAtEOXact_Enum();",
          "content_same": false
        },
        {
          "line": 2524,
          "old_api": "AtEOXact_Files",
          "new_api": "AtEOXact_on_commit_actions",
          "old_text": "AtEOXact_Files(true)",
          "new_text": "AtEOXact_on_commit_actions(true)",
          "old_line_content": "\tAtEOXact_Files(true);",
          "new_line_content": "\tAtEOXact_on_commit_actions(true);",
          "content_same": false
        },
        {
          "line": 2525,
          "old_api": "AtEOXact_ComboCid",
          "new_api": "AtEOXact_Namespace",
          "old_text": "AtEOXact_ComboCid()",
          "new_text": "AtEOXact_Namespace(true, false)",
          "old_line_content": "\tAtEOXact_ComboCid();",
          "new_line_content": "\tAtEOXact_Namespace(true, false);",
          "content_same": false
        },
        {
          "line": 2526,
          "old_api": "AtEOXact_HashTables",
          "new_api": "AtEOXact_SMgr",
          "old_text": "AtEOXact_HashTables(true)",
          "new_text": "AtEOXact_SMgr()",
          "old_line_content": "\tAtEOXact_HashTables(true);",
          "new_line_content": "\tAtEOXact_SMgr();",
          "content_same": false
        },
        {
          "line": 2528,
          "old_api": "AtEOXact_Snapshot",
          "new_api": "AtEOXact_ComboCid",
          "old_text": "AtEOXact_Snapshot(true, true)",
          "new_text": "AtEOXact_ComboCid()",
          "old_line_content": "\tAtEOXact_Snapshot(true, true);",
          "new_line_content": "\tAtEOXact_ComboCid();",
          "content_same": false
        },
        {
          "line": 2529,
          "old_api": "pgstat_report_xact_timestamp",
          "new_api": "AtEOXact_HashTables",
          "old_text": "pgstat_report_xact_timestamp(0)",
          "new_text": "AtEOXact_HashTables(true)",
          "old_line_content": "\tpgstat_report_xact_timestamp(0);",
          "new_line_content": "\tAtEOXact_HashTables(true);",
          "content_same": false
        },
        {
          "line": 2532,
          "old_api": "ResourceOwnerDelete",
          "new_api": "pgstat_report_xact_timestamp",
          "old_text": "ResourceOwnerDelete(TopTransactionResourceOwner)",
          "new_text": "pgstat_report_xact_timestamp(0)",
          "old_line_content": "\tResourceOwnerDelete(TopTransactionResourceOwner);",
          "new_line_content": "\tpgstat_report_xact_timestamp(0);",
          "content_same": false
        },
        {
          "line": 2574,
          "old_api": "AtAbort_Memory",
          "new_api": "HOLD_INTERRUPTS",
          "old_text": "AtAbort_Memory()",
          "new_text": "HOLD_INTERRUPTS()",
          "old_line_content": "\tAtAbort_Memory();",
          "new_line_content": "\tHOLD_INTERRUPTS();",
          "content_same": false
        },
        {
          "line": 2586,
          "old_api": "pgstat_report_wait_end",
          "new_api": "LWLockReleaseAll",
          "old_text": "pgstat_report_wait_end()",
          "new_text": "LWLockReleaseAll()",
          "old_line_content": "\tpgstat_report_wait_end();",
          "new_line_content": "\tLWLockReleaseAll();",
          "content_same": false
        },
        {
          "line": 2590,
          "old_api": "AbortBufferIO",
          "new_api": "pgstat_progress_end_command",
          "old_text": "AbortBufferIO()",
          "new_text": "pgstat_progress_end_command()",
          "old_line_content": "\tAbortBufferIO();",
          "new_line_content": "\tpgstat_progress_end_command();",
          "content_same": false
        },
        {
          "line": 2594,
          "old_api": "XLogResetInsertion",
          "new_api": "UnlockBuffers",
          "old_text": "XLogResetInsertion()",
          "new_text": "UnlockBuffers()",
          "old_line_content": "\tXLogResetInsertion();",
          "new_line_content": "\tUnlockBuffers();",
          "content_same": false
        },
        {
          "line": 2597,
          "old_api": "ConditionVariableCancelSleep",
          "new_api": "XLogResetInsertion",
          "old_text": "ConditionVariableCancelSleep()",
          "new_text": "XLogResetInsertion()",
          "old_line_content": "\tConditionVariableCancelSleep();",
          "new_line_content": "\tXLogResetInsertion();",
          "content_same": false
        },
        {
          "line": 2649,
          "old_api": "IsInParallelMode",
          "new_api": "SetUserIdAndSecContext",
          "old_text": "IsInParallelMode()",
          "new_text": "SetUserIdAndSecContext(s->prevUser, s->prevSecContext)",
          "old_line_content": "\tif (IsInParallelMode())",
          "new_line_content": "\tSetUserIdAndSecContext(s->prevUser, s->prevSecContext);",
          "content_same": false
        },
        {
          "line": 2661,
          "old_api": "AtAbort_Notify",
          "new_api": "AfterTriggerEndXact",
          "old_text": "AtAbort_Notify()",
          "new_text": "AfterTriggerEndXact(false)",
          "old_line_content": "\tAtAbort_Notify();",
          "new_line_content": "\tAfterTriggerEndXact(false); /* 'false' means it's abort */",
          "content_same": false
        },
        {
          "line": 2662,
          "old_api": "AtEOXact_RelationMap",
          "new_api": "AtAbort_Portals",
          "old_text": "AtEOXact_RelationMap(false, is_parallel_worker)",
          "new_text": "AtAbort_Portals()",
          "old_line_content": "\tAtEOXact_RelationMap(false, is_parallel_worker);",
          "new_line_content": "\tAtAbort_Portals();",
          "content_same": false
        },
        {
          "line": 2663,
          "old_api": "AtAbort_Twophase",
          "new_api": "AtEOXact_LargeObject",
          "old_text": "AtAbort_Twophase()",
          "new_text": "AtEOXact_LargeObject(false)",
          "old_line_content": "\tAtAbort_Twophase();",
          "new_line_content": "\tAtEOXact_LargeObject(false);",
          "content_same": false
        },
        {
          "line": 2685,
          "old_api": "TRACE_POSTGRESQL_TRANSACTION_ABORT",
          "new_api": "XLogSetAsyncXactLSN",
          "old_text": "TRACE_POSTGRESQL_TRANSACTION_ABORT(MyProc->lxid)",
          "new_text": "XLogSetAsyncXactLSN(XactLastRecEnd)",
          "old_line_content": "\tTRACE_POSTGRESQL_TRANSACTION_ABORT(MyProc->lxid);",
          "new_line_content": "\t\tXLogSetAsyncXactLSN(XactLastRecEnd);",
          "content_same": false
        },
        {
          "line": 2709,
          "old_api": "AtEOXact_Buffers",
          "new_api": "ResourceOwnerRelease",
          "old_text": "AtEOXact_Buffers(false)",
          "new_text": "ResourceOwnerRelease(TopTransactionResourceOwner,\n\t\t\t\t\t\t\t RESOURCE_RELEASE_BEFORE_LOCKS,\n\t\t\t\t\t\t\t false, true)",
          "old_line_content": "\t\tAtEOXact_Buffers(false);",
          "new_line_content": "\t\tResourceOwnerRelease(TopTransactionResourceOwner,",
          "content_same": false
        },
        {
          "line": 2712,
          "old_api": "AtEOXact_MultiXact",
          "new_api": "AtEOXact_Buffers",
          "old_text": "AtEOXact_MultiXact()",
          "new_text": "AtEOXact_Buffers(false)",
          "old_line_content": "\t\tAtEOXact_MultiXact();",
          "new_line_content": "\t\tAtEOXact_Buffers(false);",
          "content_same": false
        },
        {
          "line": 2713,
          "old_api": "ResourceOwnerRelease",
          "new_api": "AtEOXact_RelationCache",
          "old_text": "ResourceOwnerRelease(TopTransactionResourceOwner,\n\t\t\t\t\t\t\t RESOURCE_RELEASE_LOCKS,\n\t\t\t\t\t\t\t false, true)",
          "new_text": "AtEOXact_RelationCache(false)",
          "old_line_content": "\t\tResourceOwnerRelease(TopTransactionResourceOwner,",
          "new_line_content": "\t\tAtEOXact_RelationCache(false);",
          "content_same": false
        },
        {
          "line": 2719,
          "old_api": "smgrDoPendingDeletes",
          "new_api": "ResourceOwnerRelease",
          "old_text": "smgrDoPendingDeletes(false)",
          "new_text": "ResourceOwnerRelease(TopTransactionResourceOwner,\n\t\t\t\t\t\t\t RESOURCE_RELEASE_AFTER_LOCKS,\n\t\t\t\t\t\t\t false, true)",
          "old_line_content": "\t\tsmgrDoPendingDeletes(false);",
          "new_line_content": "\t\tResourceOwnerRelease(TopTransactionResourceOwner,",
          "content_same": false
        },
        {
          "line": 2722,
          "old_api": "AtEOXact_SPI",
          "new_api": "smgrDoPendingDeletes",
          "old_text": "AtEOXact_SPI(false)",
          "new_text": "smgrDoPendingDeletes(false)",
          "old_line_content": "\t\tAtEOXact_SPI(false);",
          "new_line_content": "\t\tsmgrDoPendingDeletes(false);",
          "content_same": false
        },
        {
          "line": 2724,
          "old_api": "AtEOXact_on_commit_actions",
          "new_api": "AtEOXact_GUC",
          "old_text": "AtEOXact_on_commit_actions(false)",
          "new_text": "AtEOXact_GUC(false, 1)",
          "old_line_content": "\t\tAtEOXact_on_commit_actions(false);",
          "new_line_content": "\t\tAtEOXact_GUC(false, 1);",
          "content_same": false
        },
        {
          "line": 2725,
          "old_api": "AtEOXact_Namespace",
          "new_api": "AtEOXact_SPI",
          "old_text": "AtEOXact_Namespace(false, is_parallel_worker)",
          "new_text": "AtEOXact_SPI(false)",
          "old_line_content": "\t\tAtEOXact_Namespace(false, is_parallel_worker);",
          "new_line_content": "\t\tAtEOXact_SPI(false);",
          "content_same": false
        },
        {
          "line": 2726,
          "old_api": "AtEOXact_SMgr",
          "new_api": "AtEOXact_Enum",
          "old_text": "AtEOXact_SMgr()",
          "new_text": "AtEOXact_Enum()",
          "old_line_content": "\t\tAtEOXact_SMgr();",
          "new_line_content": "\t\tAtEOXact_Enum();",
          "content_same": false
        },
        {
          "line": 2727,
          "old_api": "AtEOXact_Files",
          "new_api": "AtEOXact_on_commit_actions",
          "old_text": "AtEOXact_Files(false)",
          "new_text": "AtEOXact_on_commit_actions(false)",
          "old_line_content": "\t\tAtEOXact_Files(false);",
          "new_line_content": "\t\tAtEOXact_on_commit_actions(false);",
          "content_same": false
        },
        {
          "line": 2728,
          "old_api": "AtEOXact_ComboCid",
          "new_api": "AtEOXact_Namespace",
          "old_text": "AtEOXact_ComboCid()",
          "new_text": "AtEOXact_Namespace(false, is_parallel_worker)",
          "old_line_content": "\t\tAtEOXact_ComboCid();",
          "new_line_content": "\t\tAtEOXact_Namespace(false, is_parallel_worker);",
          "content_same": false
        },
        {
          "line": 2729,
          "old_api": "AtEOXact_HashTables",
          "new_api": "AtEOXact_SMgr",
          "old_text": "AtEOXact_HashTables(false)",
          "new_text": "AtEOXact_SMgr()",
          "old_line_content": "\t\tAtEOXact_HashTables(false);",
          "new_line_content": "\t\tAtEOXact_SMgr();",
          "content_same": false
        },
        {
          "line": 2730,
          "old_api": "AtEOXact_PgStat",
          "new_api": "AtEOXact_Files",
          "old_text": "AtEOXact_PgStat(false, is_parallel_worker)",
          "new_text": "AtEOXact_Files(false)",
          "old_line_content": "\t\tAtEOXact_PgStat(false, is_parallel_worker);",
          "new_line_content": "\t\tAtEOXact_Files(false);",
          "content_same": false
        },
        {
          "line": 2731,
          "old_api": "AtEOXact_ApplyLauncher",
          "new_api": "AtEOXact_ComboCid",
          "old_text": "AtEOXact_ApplyLauncher(false)",
          "new_text": "AtEOXact_ComboCid()",
          "old_line_content": "\t\tAtEOXact_ApplyLauncher(false);",
          "new_line_content": "\t\tAtEOXact_ComboCid();",
          "content_same": false
        },
        {
          "line": 2732,
          "old_api": "pgstat_report_xact_timestamp",
          "new_api": "AtEOXact_HashTables",
          "old_text": "pgstat_report_xact_timestamp(0)",
          "new_text": "AtEOXact_HashTables(false)",
          "old_line_content": "\t\tpgstat_report_xact_timestamp(0);",
          "new_line_content": "\t\tAtEOXact_HashTables(false);",
          "content_same": false
        },
        {
          "line": 2958,
          "old_api": "RestoreTransactionCharacteristics",
          "new_api": "StartTransaction",
          "old_text": "RestoreTransactionCharacteristics()",
          "new_text": "StartTransaction()",
          "old_line_content": "\t\t\t\tRestoreTransactionCharacteristics();",
          "new_line_content": "\t\t\t\tStartTransaction();",
          "content_same": false
        },
        {
          "line": 2984,
          "old_api": "RestoreTransactionCharacteristics",
          "new_api": "StartTransaction",
          "old_text": "RestoreTransactionCharacteristics()",
          "new_text": "StartTransaction()",
          "old_line_content": "\t\t\t\tRestoreTransactionCharacteristics();",
          "new_line_content": "\t\t\t\tStartTransaction();",
          "content_same": false
        },
        {
          "line": 3002,
          "old_api": "RestoreTransactionCharacteristics",
          "new_api": "StartTransaction",
          "old_text": "RestoreTransactionCharacteristics()",
          "new_text": "StartTransaction()",
          "old_line_content": "\t\t\t\tRestoreTransactionCharacteristics();",
          "new_line_content": "\t\t\t\tStartTransaction();",
          "content_same": false
        },
        {
          "line": 3113,
          "old_api": "DefineSavepoint",
          "new_api": "AbortSubTransaction",
          "old_text": "DefineSavepoint(NULL)",
          "new_text": "AbortSubTransaction()",
          "old_line_content": "\t\t\t\tDefineSavepoint(NULL);",
          "new_line_content": "\t\t\t\tAbortSubTransaction();",
          "content_same": false
        },
        {
          "line": 3337,
          "old_api": "errmsg",
          "new_api": "ereport",
          "old_text": "errmsg(\"%s cannot run inside a transaction block\",\n\t\t\t\t\t\tstmtType)",
          "new_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_ACTIVE_SQL_TRANSACTION),\n\t\t/* translator: %s represents an SQL statement name */\n\t\t\t\t errmsg(\"%s cannot run inside a transaction block\",\n\t\t\t\t\t\tstmtType)))",
          "old_line_content": "\t\t\t\t errmsg(\"%s cannot run inside a transaction block\",",
          "new_line_content": "\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 3347,
          "old_api": "errmsg",
          "new_api": "ereport",
          "old_text": "errmsg(\"%s cannot run inside a subtransaction\",\n\t\t\t\t\t\tstmtType)",
          "new_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_ACTIVE_SQL_TRANSACTION),\n\t\t/* translator: %s represents an SQL statement name */\n\t\t\t\t errmsg(\"%s cannot run inside a subtransaction\",\n\t\t\t\t\t\tstmtType)))",
          "old_line_content": "\t\t\t\t errmsg(\"%s cannot run inside a subtransaction\",",
          "new_line_content": "\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 3357,
          "old_api": "errmsg",
          "new_api": "ereport",
          "old_text": "errmsg(\"%s cannot be executed from a function\", stmtType)",
          "new_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_ACTIVE_SQL_TRANSACTION),\n\t\t/* translator: %s represents an SQL statement name */\n\t\t\t\t errmsg(\"%s cannot be executed from a function\", stmtType)))",
          "old_line_content": "\t\t\t\t errmsg(\"%s cannot be executed from a function\", stmtType)));",
          "new_line_content": "\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 3426,
          "old_api": "errmsg",
          "new_api": "ereport",
          "old_text": "errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\tstmtType)",
          "new_text": "ereport(throwError ? ERROR : WARNING,\n\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),\n\t/* translator: %s represents an SQL statement name */\n\t\t\t errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\tstmtType)))",
          "old_line_content": "\t\t\t errmsg(\"%s can only be used in transaction blocks\",",
          "new_line_content": "\tereport(throwError ? ERROR : WARNING,",
          "content_same": false
        },
        {
          "line": 3451,
          "old_api": "IsSubTransaction",
          "new_api": "IsTransactionBlock",
          "old_text": "IsSubTransaction()",
          "new_text": "IsTransactionBlock()",
          "old_line_content": "\tif (IsSubTransaction())",
          "new_line_content": "\tif (IsTransactionBlock())",
          "content_same": false
        },
        {
          "line": 3733,
          "old_api": "errmsg",
          "new_api": "ereport",
          "old_text": "errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\t\"COMMIT AND CHAIN\")",
          "new_text": "ereport(ERROR,\n\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),\n\t\t\t\t\t\t /* translator: %s represents an SQL statement name */\n\t\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\t\"COMMIT AND CHAIN\")))",
          "old_line_content": "\t\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",",
          "new_line_content": "\t\t\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 3736,
          "old_api": "ereport",
          "new_api": "errmsg",
          "old_text": "ereport(WARNING,\n\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),\n\t\t\t\t\t\t errmsg(\"there is no transaction in progress\")))",
          "new_text": "errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\t\"COMMIT AND CHAIN\")",
          "old_line_content": "\t\t\t\tereport(WARNING,",
          "new_line_content": "\t\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",",
          "content_same": false
        },
        {
          "line": 3812,
          "old_api": "errmsg",
          "new_api": "ereport",
          "old_text": "errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\t\"COMMIT AND CHAIN\")",
          "new_text": "ereport(ERROR,\n\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),\n\t\t\t\t\t\t /* translator: %s represents an SQL statement name */\n\t\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\t\"COMMIT AND CHAIN\")))",
          "old_line_content": "\t\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",",
          "new_line_content": "\t\t\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 3815,
          "old_api": "ereport",
          "new_api": "errmsg",
          "old_text": "ereport(WARNING,\n\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),\n\t\t\t\t\t\t errmsg(\"there is no transaction in progress\")))",
          "new_text": "errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\t\"COMMIT AND CHAIN\")",
          "old_line_content": "\t\t\t\tereport(WARNING,",
          "new_line_content": "\t\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",",
          "content_same": false
        },
        {
          "line": 3935,
          "old_api": "errmsg",
          "new_api": "ereport",
          "old_text": "errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\t\"ROLLBACK AND CHAIN\")",
          "new_text": "ereport(ERROR,\n\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),\n\t\t\t\t\t\t /* translator: %s represents an SQL statement name */\n\t\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\t\"ROLLBACK AND CHAIN\")))",
          "old_line_content": "\t\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",",
          "new_line_content": "\t\t\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 3938,
          "old_api": "ereport",
          "new_api": "errmsg",
          "old_text": "ereport(WARNING,\n\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),\n\t\t\t\t\t\t errmsg(\"there is no transaction in progress\")))",
          "new_text": "errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\t\"ROLLBACK AND CHAIN\")",
          "old_line_content": "\t\t\t\tereport(WARNING,",
          "new_line_content": "\t\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",",
          "content_same": false
        },
        {
          "line": 4050,
          "old_api": "errmsg",
          "new_api": "IsInParallelMode",
          "old_text": "errmsg(\"cannot define savepoints during a parallel operation\")",
          "new_text": "IsInParallelMode()",
          "old_line_content": "\t\t\t\t errmsg(\"cannot define savepoints during a parallel operation\")));",
          "new_line_content": "\tif (IsInParallelMode())",
          "content_same": false
        },
        {
          "line": 4086,
          "old_api": "errmsg",
          "new_api": "ereport",
          "old_text": "errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\"SAVEPOINT\")",
          "new_text": "ereport(ERROR,\n\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),\n\t\t\t/* translator: %s represents an SQL statement name */\n\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\"SAVEPOINT\")))",
          "old_line_content": "\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",",
          "new_line_content": "\t\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 4137,
          "old_api": "errmsg",
          "new_api": "IsInParallelMode",
          "old_text": "errmsg(\"cannot release savepoints during a parallel operation\")",
          "new_text": "IsInParallelMode()",
          "old_line_content": "\t\t\t\t errmsg(\"cannot release savepoints during a parallel operation\")));",
          "new_line_content": "\tif (IsInParallelMode())",
          "content_same": false
        },
        {
          "line": 4155,
          "old_api": "errmsg",
          "new_api": "ereport",
          "old_text": "errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\"RELEASE SAVEPOINT\")",
          "new_text": "ereport(ERROR,\n\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),\n\t\t\t/* translator: %s represents an SQL statement name */\n\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\"RELEASE SAVEPOINT\")))",
          "old_line_content": "\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",",
          "new_line_content": "\t\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 4198,
          "old_api": "errmsg",
          "new_api": "PointerIsValid",
          "old_text": "errmsg(\"savepoint \\\"%s\\\" does not exist\", name)",
          "new_text": "PointerIsValid(target)",
          "old_line_content": "\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist\", name)));",
          "new_line_content": "\tif (!PointerIsValid(target))",
          "content_same": false
        },
        {
          "line": 4246,
          "old_api": "errmsg",
          "new_api": "IsInParallelMode",
          "old_text": "errmsg(\"cannot rollback to savepoints during a parallel operation\")",
          "new_text": "IsInParallelMode()",
          "old_line_content": "\t\t\t\t errmsg(\"cannot rollback to savepoints during a parallel operation\")));",
          "new_line_content": "\tif (IsInParallelMode())",
          "content_same": false
        },
        {
          "line": 4266,
          "old_api": "errmsg",
          "new_api": "ereport",
          "old_text": "errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\"ROLLBACK TO SAVEPOINT\")",
          "new_text": "ereport(ERROR,\n\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),\n\t\t\t/* translator: %s represents an SQL statement name */\n\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\"ROLLBACK TO SAVEPOINT\")))",
          "old_line_content": "\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",",
          "new_line_content": "\t\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 4307,
          "old_api": "errmsg",
          "new_api": "PointerIsValid",
          "old_text": "errmsg(\"savepoint \\\"%s\\\" does not exist\", name)",
          "new_text": "PointerIsValid(target)",
          "old_line_content": "\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist\", name)));",
          "new_line_content": "\tif (!PointerIsValid(target))",
          "content_same": false
        },
        {
          "line": 4333,
          "old_api": "PointerIsValid",
          "new_api": "elog",
          "old_text": "PointerIsValid(xact)",
          "new_text": "elog(FATAL, \"RollbackToSavepoint: unexpected state %s\",\n\t\t\t\t BlockStateAsString(xact->blockState))",
          "old_line_content": "\t\tAssert(PointerIsValid(xact));",
          "new_line_content": "\t\t\telog(FATAL, \"RollbackToSavepoint: unexpected state %s\",",
          "content_same": false
        },
        {
          "line": 4374,
          "old_api": "errmsg",
          "new_api": "IsInParallelMode",
          "old_text": "errmsg(\"cannot start subtransactions during a parallel operation\")",
          "new_text": "IsInParallelMode()",
          "old_line_content": "\t\t\t\t errmsg(\"cannot start subtransactions during a parallel operation\")));",
          "new_line_content": "\tif (IsInParallelMode())",
          "content_same": false
        },
        {
          "line": 4442,
          "old_api": "errmsg",
          "new_api": "IsInParallelMode",
          "old_text": "errmsg(\"cannot commit subtransactions during a parallel operation\")",
          "new_text": "IsInParallelMode()",
          "old_line_content": "\t\t\t\t errmsg(\"cannot commit subtransactions during a parallel operation\")));",
          "new_line_content": "\tif (IsInParallelMode())",
          "content_same": false
        },
        {
          "line": 4445,
          "old_api": "elog",
          "new_api": "errmsg",
          "old_text": "elog(ERROR, \"ReleaseCurrentSubTransaction: unexpected state %s\",\n\t\t\t BlockStateAsString(s->blockState))",
          "new_text": "errmsg(\"cannot commit subtransactions during a parallel operation\")",
          "old_line_content": "\t\telog(ERROR, \"ReleaseCurrentSubTransaction: unexpected state %s\",",
          "new_line_content": "\t\t\t\t errmsg(\"cannot commit subtransactions during a parallel operation\")));",
          "content_same": false
        },
        {
          "line": 4448,
          "old_api": "MemoryContextSwitchTo",
          "new_api": "elog",
          "old_text": "MemoryContextSwitchTo(CurTransactionContext)",
          "new_text": "elog(ERROR, \"ReleaseCurrentSubTransaction: unexpected state %s\",\n\t\t\t BlockStateAsString(s->blockState))",
          "old_line_content": "\tMemoryContextSwitchTo(CurTransactionContext);",
          "new_line_content": "\t\telog(ERROR, \"ReleaseCurrentSubTransaction: unexpected state %s\",",
          "content_same": false
        },
        {
          "line": 4449,
          "old_api": "CommitSubTransaction",
          "new_api": "BlockStateAsString",
          "old_text": "CommitSubTransaction()",
          "new_text": "BlockStateAsString(s->blockState)",
          "old_line_content": "\tCommitSubTransaction();",
          "new_line_content": "\t\t\t BlockStateAsString(s->blockState));",
          "content_same": false
        },
        {
          "line": 4451,
          "old_api": "Assert",
          "new_api": "MemoryContextSwitchTo",
          "old_text": "Assert(s->state == TRANS_INPROGRESS)",
          "new_text": "MemoryContextSwitchTo(CurTransactionContext)",
          "old_line_content": "\tAssert(s->state == TRANS_INPROGRESS);",
          "new_line_content": "\tMemoryContextSwitchTo(CurTransactionContext);",
          "content_same": false
        },
        {
          "line": 4512,
          "old_api": "CleanupSubTransaction",
          "new_api": "AbortSubTransaction",
          "old_text": "CleanupSubTransaction()",
          "new_text": "AbortSubTransaction()",
          "old_line_content": "\tCleanupSubTransaction();",
          "new_line_content": "\t\tAbortSubTransaction();",
          "content_same": false
        },
        {
          "line": 4515,
          "old_api": "AssertState",
          "new_api": "CleanupSubTransaction",
          "old_text": "AssertState(s->blockState == TBLOCK_SUBINPROGRESS ||\n\t\t\t\ts->blockState == TBLOCK_INPROGRESS ||\n\t\t\t\ts->blockState == TBLOCK_IMPLICIT_INPROGRESS ||\n\t\t\t\ts->blockState == TBLOCK_STARTED)",
          "new_text": "CleanupSubTransaction()",
          "old_line_content": "\tAssertState(s->blockState == TBLOCK_SUBINPROGRESS ||",
          "new_line_content": "\tCleanupSubTransaction();",
          "content_same": false
        },
        {
          "line": 4626,
          "old_api": "AtCleanup_Memory",
          "new_api": "Assert",
          "old_text": "AtCleanup_Memory()",
          "new_text": "Assert(s->parent == NULL)",
          "old_line_content": "\tAtCleanup_Memory();",
          "new_line_content": "\tAssert(s->parent == NULL);",
          "content_same": false
        },
        {
          "line": 4756,
          "old_api": "ShowTransactionState",
          "new_api": "CallSubXactCallbacks",
          "old_text": "ShowTransactionState(\"StartSubTransaction\")",
          "new_text": "CallSubXactCallbacks(SUBXACT_EVENT_START_SUB, s->subTransactionId,\n\t\t\t\t\t\t s->parent->subTransactionId)",
          "old_line_content": "\tShowTransactionState(\"StartSubTransaction\");",
          "new_line_content": "\tCallSubXactCallbacks(SUBXACT_EVENT_START_SUB, s->subTransactionId,",
          "content_same": false
        },
        {
          "line": 4773,
          "old_api": "elog",
          "new_api": "ShowTransactionState",
          "old_text": "elog(WARNING, \"CommitSubTransaction while in %s state\",\n\t\t\t TransStateAsString(s->state))",
          "new_text": "ShowTransactionState(\"CommitSubTransaction\")",
          "old_line_content": "\t\telog(WARNING, \"CommitSubTransaction while in %s state\",",
          "new_line_content": "\tShowTransactionState(\"CommitSubTransaction\");",
          "content_same": false
        },
        {
          "line": 4804,
          "old_api": "AtSubCommit_Portals",
          "new_api": "FullTransactionIdIsValid",
          "old_text": "AtSubCommit_Portals(s->subTransactionId,\n\t\t\t\t\t\ts->parent->subTransactionId,\n\t\t\t\t\t\ts->parent->curTransactionOwner)",
          "new_text": "FullTransactionIdIsValid(s->fullTransactionId)",
          "old_line_content": "\tAtSubCommit_Portals(s->subTransactionId,",
          "new_line_content": "\tif (FullTransactionIdIsValid(s->fullTransactionId))",
          "content_same": false
        },
        {
          "line": 4807,
          "old_api": "AtEOSubXact_LargeObject",
          "new_api": "AtSubCommit_Portals",
          "old_text": "AtEOSubXact_LargeObject(true, s->subTransactionId,\n\t\t\t\t\t\t\ts->parent->subTransactionId)",
          "new_text": "AtSubCommit_Portals(s->subTransactionId,\n\t\t\t\t\t\ts->parent->subTransactionId,\n\t\t\t\t\t\ts->parent->curTransactionOwner)",
          "old_line_content": "\tAtEOSubXact_LargeObject(true, s->subTransactionId,",
          "new_line_content": "\tAtSubCommit_Portals(s->subTransactionId,",
          "content_same": false
        },
        {
          "line": 4814,
          "old_api": "ResourceOwnerRelease",
          "new_api": "CallSubXactCallbacks",
          "old_text": "ResourceOwnerRelease(s->curTransactionOwner,\n\t\t\t\t\t\t RESOURCE_RELEASE_BEFORE_LOCKS,\n\t\t\t\t\t\t true, false)",
          "new_text": "CallSubXactCallbacks(SUBXACT_EVENT_COMMIT_SUB, s->subTransactionId,\n\t\t\t\t\t\t s->parent->subTransactionId)",
          "old_line_content": "\tResourceOwnerRelease(s->curTransactionOwner,",
          "new_line_content": "\tCallSubXactCallbacks(SUBXACT_EVENT_COMMIT_SUB, s->subTransactionId,",
          "content_same": false
        },
        {
          "line": 4817,
          "old_api": "AtEOSubXact_RelationCache",
          "new_api": "ResourceOwnerRelease",
          "old_text": "AtEOSubXact_RelationCache(true, s->subTransactionId,\n\t\t\t\t\t\t\t  s->parent->subTransactionId)",
          "new_text": "ResourceOwnerRelease(s->curTransactionOwner,\n\t\t\t\t\t\t RESOURCE_RELEASE_BEFORE_LOCKS,\n\t\t\t\t\t\t true, false)",
          "old_line_content": "\tAtEOSubXact_RelationCache(true, s->subTransactionId,",
          "new_line_content": "\tResourceOwnerRelease(s->curTransactionOwner,",
          "content_same": false
        },
        {
          "line": 4820,
          "old_api": "AtSubCommit_smgr",
          "new_api": "AtEOSubXact_RelationCache",
          "old_text": "AtSubCommit_smgr()",
          "new_text": "AtEOSubXact_RelationCache(true, s->subTransactionId,\n\t\t\t\t\t\t\t  s->parent->subTransactionId)",
          "old_line_content": "\tAtSubCommit_smgr();",
          "new_line_content": "\tAtEOSubXact_RelationCache(true, s->subTransactionId,",
          "content_same": false
        },
        {
          "line": 4843,
          "old_api": "AtEOSubXact_Namespace",
          "new_api": "AtEOSubXact_SPI",
          "old_text": "AtEOSubXact_Namespace(true, s->subTransactionId,\n\t\t\t\t\t\t  s->parent->subTransactionId)",
          "new_text": "AtEOSubXact_SPI(true, s->subTransactionId)",
          "old_line_content": "\tAtEOSubXact_Namespace(true, s->subTransactionId,",
          "new_line_content": "\tAtEOSubXact_SPI(true, s->subTransactionId);",
          "content_same": false
        },
        {
          "line": 4848,
          "old_api": "AtEOSubXact_PgStat",
          "new_api": "AtEOSubXact_Files",
          "old_text": "AtEOSubXact_PgStat(true, s->nestingLevel)",
          "new_text": "AtEOSubXact_Files(true, s->subTransactionId,\n\t\t\t\t\t  s->parent->subTransactionId)",
          "old_line_content": "\tAtEOSubXact_PgStat(true, s->nestingLevel);",
          "new_line_content": "\tAtEOSubXact_Files(true, s->subTransactionId,",
          "content_same": false
        },
        {
          "line": 4850,
          "old_api": "AtEOSubXact_ApplyLauncher",
          "new_api": "AtEOSubXact_HashTables",
          "old_text": "AtEOSubXact_ApplyLauncher(true, s->nestingLevel)",
          "new_text": "AtEOSubXact_HashTables(true, s->nestingLevel)",
          "old_line_content": "\tAtEOSubXact_ApplyLauncher(true, s->nestingLevel);",
          "new_line_content": "\tAtEOSubXact_HashTables(true, s->nestingLevel);",
          "content_same": false
        },
        {
          "line": 4864,
          "old_api": "AtSubCommit_Memory",
          "new_api": "ResourceOwnerDelete",
          "old_text": "AtSubCommit_Memory()",
          "new_text": "ResourceOwnerDelete(s->curTransactionOwner)",
          "old_line_content": "\tAtSubCommit_Memory();",
          "new_line_content": "\tResourceOwnerDelete(s->curTransactionOwner);",
          "content_same": false
        },
        {
          "line": 4883,
          "old_api": "AtSubAbort_Memory",
          "new_api": "HOLD_INTERRUPTS",
          "old_text": "AtSubAbort_Memory()",
          "new_text": "HOLD_INTERRUPTS()",
          "old_line_content": "\tAtSubAbort_Memory();",
          "new_line_content": "\tHOLD_INTERRUPTS();",
          "content_same": false
        },
        {
          "line": 4898,
          "old_api": "pgstat_progress_end_command",
          "new_api": "LWLockReleaseAll",
          "old_text": "pgstat_progress_end_command()",
          "new_text": "LWLockReleaseAll()",
          "old_line_content": "\tpgstat_progress_end_command();",
          "new_line_content": "\tLWLockReleaseAll();",
          "content_same": false
        },
        {
          "line": 4900,
          "old_api": "UnlockBuffers",
          "new_api": "pgstat_report_wait_end",
          "old_text": "UnlockBuffers()",
          "new_text": "pgstat_report_wait_end()",
          "old_line_content": "\tUnlockBuffers();",
          "new_line_content": "\tpgstat_report_wait_end();",
          "content_same": false
        },
        {
          "line": 4903,
          "old_api": "XLogResetInsertion",
          "new_api": "UnlockBuffers",
          "old_text": "XLogResetInsertion()",
          "new_text": "UnlockBuffers()",
          "old_line_content": "\tXLogResetInsertion();",
          "new_line_content": "\tUnlockBuffers();",
          "content_same": false
        },
        {
          "line": 4906,
          "old_api": "ConditionVariableCancelSleep",
          "new_api": "XLogResetInsertion",
          "old_text": "ConditionVariableCancelSleep()",
          "new_text": "XLogResetInsertion()",
          "old_line_content": "\tConditionVariableCancelSleep();",
          "new_line_content": "\tXLogResetInsertion();",
          "content_same": false
        },
        {
          "line": 4936,
          "old_api": "elog",
          "new_api": "ShowTransactionState",
          "old_text": "elog(WARNING, \"AbortSubTransaction while in %s state\",\n\t\t\t TransStateAsString(s->state))",
          "new_text": "ShowTransactionState(\"AbortSubTransaction\")",
          "old_line_content": "\t\telog(WARNING, \"AbortSubTransaction while in %s state\",",
          "new_line_content": "\tShowTransactionState(\"AbortSubTransaction\");",
          "content_same": false
        },
        {
          "line": 4948,
          "old_api": "IsInParallelMode",
          "new_api": "SetUserIdAndSecContext",
          "old_text": "IsInParallelMode()",
          "new_text": "SetUserIdAndSecContext(s->prevUser, s->prevSecContext)",
          "old_line_content": "\tif (IsInParallelMode())",
          "new_line_content": "\tSetUserIdAndSecContext(s->prevUser, s->prevSecContext);",
          "content_same": false
        },
        {
          "line": 4970,
          "old_api": "RecordTransactionAbort",
          "new_api": "AtSubAbort_Notify",
          "old_text": "RecordTransactionAbort(true)",
          "new_text": "AtSubAbort_Notify()",
          "old_line_content": "\t\t(void) RecordTransactionAbort(true);",
          "new_line_content": "\t\tAtSubAbort_Notify();",
          "content_same": false
        },
        {
          "line": 4973,
          "old_api": "FullTransactionIdIsValid",
          "new_api": "RecordTransactionAbort",
          "old_text": "FullTransactionIdIsValid(s->fullTransactionId)",
          "new_text": "RecordTransactionAbort(true)",
          "old_line_content": "\t\tif (FullTransactionIdIsValid(s->fullTransactionId))",
          "new_line_content": "\t\t(void) RecordTransactionAbort(true);",
          "content_same": false
        },
        {
          "line": 4976,
          "old_api": "CallSubXactCallbacks",
          "new_api": "FullTransactionIdIsValid",
          "old_text": "CallSubXactCallbacks(SUBXACT_EVENT_ABORT_SUB, s->subTransactionId,\n\t\t\t\t\t\t\t s->parent->subTransactionId)",
          "new_text": "FullTransactionIdIsValid(s->fullTransactionId)",
          "old_line_content": "\t\tCallSubXactCallbacks(SUBXACT_EVENT_ABORT_SUB, s->subTransactionId,",
          "new_line_content": "\t\tif (FullTransactionIdIsValid(s->fullTransactionId))",
          "content_same": false
        },
        {
          "line": 4979,
          "old_api": "ResourceOwnerRelease",
          "new_api": "CallSubXactCallbacks",
          "old_text": "ResourceOwnerRelease(s->curTransactionOwner,\n\t\t\t\t\t\t\t RESOURCE_RELEASE_BEFORE_LOCKS,\n\t\t\t\t\t\t\t false, false)",
          "new_text": "CallSubXactCallbacks(SUBXACT_EVENT_ABORT_SUB, s->subTransactionId,\n\t\t\t\t\t\t\t s->parent->subTransactionId)",
          "old_line_content": "\t\tResourceOwnerRelease(s->curTransactionOwner,",
          "new_line_content": "\t\tCallSubXactCallbacks(SUBXACT_EVENT_ABORT_SUB, s->subTransactionId,",
          "content_same": false
        },
        {
          "line": 4982,
          "old_api": "AtEOSubXact_RelationCache",
          "new_api": "ResourceOwnerRelease",
          "old_text": "AtEOSubXact_RelationCache(false, s->subTransactionId,\n\t\t\t\t\t\t\t\t  s->parent->subTransactionId)",
          "new_text": "ResourceOwnerRelease(s->curTransactionOwner,\n\t\t\t\t\t\t\t RESOURCE_RELEASE_BEFORE_LOCKS,\n\t\t\t\t\t\t\t false, false)",
          "old_line_content": "\t\tAtEOSubXact_RelationCache(false, s->subTransactionId,",
          "new_line_content": "\t\tResourceOwnerRelease(s->curTransactionOwner,",
          "content_same": false
        },
        {
          "line": 4985,
          "old_api": "ResourceOwnerRelease",
          "new_api": "AtEOSubXact_RelationCache",
          "old_text": "ResourceOwnerRelease(s->curTransactionOwner,\n\t\t\t\t\t\t\t RESOURCE_RELEASE_LOCKS,\n\t\t\t\t\t\t\t false, false)",
          "new_text": "AtEOSubXact_RelationCache(false, s->subTransactionId,\n\t\t\t\t\t\t\t\t  s->parent->subTransactionId)",
          "old_line_content": "\t\tResourceOwnerRelease(s->curTransactionOwner,",
          "new_line_content": "\t\tAtEOSubXact_RelationCache(false, s->subTransactionId,",
          "content_same": false
        },
        {
          "line": 4991,
          "old_api": "AtSubAbort_smgr",
          "new_api": "ResourceOwnerRelease",
          "old_text": "AtSubAbort_smgr()",
          "new_text": "ResourceOwnerRelease(s->curTransactionOwner,\n\t\t\t\t\t\t\t RESOURCE_RELEASE_AFTER_LOCKS,\n\t\t\t\t\t\t\t false, false)",
          "old_line_content": "\t\tAtSubAbort_smgr();",
          "new_line_content": "\t\tResourceOwnerRelease(s->curTransactionOwner,",
          "content_same": false
        },
        {
          "line": 4994,
          "old_api": "AtEOSubXact_SPI",
          "new_api": "AtSubAbort_smgr",
          "old_text": "AtEOSubXact_SPI(false, s->subTransactionId)",
          "new_text": "AtSubAbort_smgr()",
          "old_line_content": "\t\tAtEOSubXact_SPI(false, s->subTransactionId);",
          "new_line_content": "\t\tAtSubAbort_smgr();",
          "content_same": false
        },
        {
          "line": 4997,
          "old_api": "AtEOSubXact_Namespace",
          "new_api": "AtEOSubXact_SPI",
          "old_text": "AtEOSubXact_Namespace(false, s->subTransactionId,\n\t\t\t\t\t\t\t  s->parent->subTransactionId)",
          "new_text": "AtEOSubXact_SPI(false, s->subTransactionId)",
          "old_line_content": "\t\tAtEOSubXact_Namespace(false, s->subTransactionId,",
          "new_line_content": "\t\tAtEOSubXact_SPI(false, s->subTransactionId);",
          "content_same": false
        },
        {
          "line": 5002,
          "old_api": "AtEOSubXact_PgStat",
          "new_api": "AtEOSubXact_Files",
          "old_text": "AtEOSubXact_PgStat(false, s->nestingLevel)",
          "new_text": "AtEOSubXact_Files(false, s->subTransactionId,\n\t\t\t\t\t\t  s->parent->subTransactionId)",
          "old_line_content": "\t\tAtEOSubXact_PgStat(false, s->nestingLevel);",
          "new_line_content": "\t\tAtEOSubXact_Files(false, s->subTransactionId,",
          "content_same": false
        },
        {
          "line": 5004,
          "old_api": "AtEOSubXact_ApplyLauncher",
          "new_api": "AtEOSubXact_HashTables",
          "old_text": "AtEOSubXact_ApplyLauncher(false, s->nestingLevel)",
          "new_text": "AtEOSubXact_HashTables(false, s->nestingLevel)",
          "old_line_content": "\t\tAtEOSubXact_ApplyLauncher(false, s->nestingLevel);",
          "new_line_content": "\t\tAtEOSubXact_HashTables(false, s->nestingLevel);",
          "content_same": false
        },
        {
          "line": 5031,
          "old_api": "elog",
          "new_api": "ShowTransactionState",
          "old_text": "elog(WARNING, \"CleanupSubTransaction while in %s state\",\n\t\t\t TransStateAsString(s->state))",
          "new_text": "ShowTransactionState(\"CleanupSubTransaction\")",
          "old_line_content": "\t\telog(WARNING, \"CleanupSubTransaction while in %s state\",",
          "new_line_content": "\tShowTransactionState(\"CleanupSubTransaction\");",
          "content_same": false
        },
        {
          "line": 5034,
          "old_api": "AtSubCleanup_Portals",
          "new_api": "elog",
          "old_text": "AtSubCleanup_Portals(s->subTransactionId)",
          "new_text": "elog(WARNING, \"CleanupSubTransaction while in %s state\",\n\t\t\t TransStateAsString(s->state))",
          "old_line_content": "\tAtSubCleanup_Portals(s->subTransactionId);",
          "new_line_content": "\t\telog(WARNING, \"CleanupSubTransaction while in %s state\",",
          "content_same": false
        },
        {
          "line": 5042,
          "old_api": "AtSubCleanup_Memory",
          "new_api": "ResourceOwnerDelete",
          "old_text": "AtSubCleanup_Memory()",
          "new_text": "ResourceOwnerDelete(s->curTransactionOwner)",
          "old_line_content": "\tAtSubCleanup_Memory();",
          "new_line_content": "\t\tResourceOwnerDelete(s->curTransactionOwner);",
          "content_same": false
        },
        {
          "line": 5079,
          "old_api": "errmsg",
          "new_api": "pfree",
          "old_text": "errmsg(\"cannot have more than 2^32-1 subtransactions in a transaction\")",
          "new_text": "pfree(s)",
          "old_line_content": "\t\t\t\t errmsg(\"cannot have more than 2^32-1 subtransactions in a transaction\")));",
          "new_line_content": "\t\tpfree(s);",
          "content_same": false
        },
        {
          "line": 5125,
          "old_api": "elog",
          "new_api": "TransStateAsString",
          "old_text": "elog(FATAL, \"PopTransaction with no parent\")",
          "new_text": "TransStateAsString(s->state)",
          "old_line_content": "\t\telog(FATAL, \"PopTransaction with no parent\");",
          "new_line_content": "\t\t\t TransStateAsString(s->state));",
          "content_same": false
        },
        {
          "line": 5163,
          "old_api": "mul_size",
          "new_api": "add_size",
          "old_text": "mul_size(sizeof(TransactionId), nxids)",
          "new_text": "add_size(nxids, s->nChildXids)",
          "old_line_content": "\treturn add_size(size, mul_size(sizeof(TransactionId), nxids));",
          "new_line_content": "\t\tnxids = add_size(nxids, s->nChildXids);",
          "content_same": false
        },
        {
          "line": 5218,
          "old_api": "Assert",
          "new_api": "add_size",
          "old_text": "Assert(SerializedTransactionStateHeaderSize + nxids * sizeof(TransactionId)\n\t\t   <= maxsize)",
          "new_text": "add_size(nxids, 1)",
          "old_line_content": "\tAssert(SerializedTransactionStateHeaderSize + nxids * sizeof(TransactionId)",
          "new_line_content": "\t\t\tnxids = add_size(nxids, 1);",
          "content_same": false
        },
        {
          "line": 5225,
          "old_api": "FullTransactionIdIsValid",
          "new_api": "palloc",
          "old_text": "FullTransactionIdIsValid(s->fullTransactionId)",
          "new_text": "palloc(nxids * sizeof(TransactionId))",
          "old_line_content": "\t\tif (FullTransactionIdIsValid(s->fullTransactionId))",
          "new_line_content": "\tworkspace = palloc(nxids * sizeof(TransactionId));",
          "content_same": false
        },
        {
          "line": 5234,
          "old_api": "qsort",
          "new_api": "Assert",
          "old_text": "qsort(workspace, nxids, sizeof(TransactionId), xidComparator)",
          "new_text": "Assert(i == nxids)",
          "old_line_content": "\tqsort(workspace, nxids, sizeof(TransactionId), xidComparator);",
          "new_line_content": "\tAssert(i == nxids);",
          "content_same": false
        },
        {
          "line": 5316,
          "old_api": "ereport",
          "new_api": "ShowTransactionStateRec",
          "old_text": "ereport(DEBUG5,\n\t\t\t(errmsg_internal(\"%s(%d) name: %s; blockState: %s; state: %s, xid/subid/cid: %u/%u/%u%s%s\",\n\t\t\t\t\t\t\t str, s->nestingLevel,\n\t\t\t\t\t\t\t PointerIsValid(s->name) ? s->name : \"unnamed\",\n\t\t\t\t\t\t\t BlockStateAsString(s->blockState),\n\t\t\t\t\t\t\t TransStateAsString(s->state),\n\t\t\t\t\t\t\t (unsigned int) XidFromFullTransactionId(s->fullTransactionId),\n\t\t\t\t\t\t\t (unsigned int) s->subTransactionId,\n\t\t\t\t\t\t\t (unsigned int) currentCommandId,\n\t\t\t\t\t\t\t currentCommandIdUsed ? \" (used)\" : \"\",\n\t\t\t\t\t\t\t buf.data)))",
          "new_text": "ShowTransactionStateRec(str, s->parent)",
          "old_line_content": "\tereport(DEBUG5,",
          "new_line_content": "\t\tShowTransactionStateRec(str, s->parent);",
          "content_same": false
        },
        {
          "line": 5319,
          "old_api": "PointerIsValid",
          "new_api": "ereport",
          "old_text": "PointerIsValid(s->name)",
          "new_text": "ereport(DEBUG5,\n\t\t\t(errmsg_internal(\"%s(%d) name: %s; blockState: %s; state: %s, xid/subid/cid: %u/%u/%u%s%s\",\n\t\t\t\t\t\t\t str, s->nestingLevel,\n\t\t\t\t\t\t\t PointerIsValid(s->name) ? s->name : \"unnamed\",\n\t\t\t\t\t\t\t BlockStateAsString(s->blockState),\n\t\t\t\t\t\t\t TransStateAsString(s->state),\n\t\t\t\t\t\t\t (unsigned int) XidFromFullTransactionId(s->fullTransactionId),\n\t\t\t\t\t\t\t (unsigned int) s->subTransactionId,\n\t\t\t\t\t\t\t (unsigned int) currentCommandId,\n\t\t\t\t\t\t\t currentCommandIdUsed ? \" (used)\" : \"\",\n\t\t\t\t\t\t\t buf.data)))",
          "old_line_content": "\t\t\t\t\t\t\t PointerIsValid(s->name) ? s->name : \"unnamed\",",
          "new_line_content": "\tereport(DEBUG5,",
          "content_same": false
        },
        {
          "line": 5320,
          "old_api": "BlockStateAsString",
          "new_api": "errmsg_internal",
          "old_text": "BlockStateAsString(s->blockState)",
          "new_text": "errmsg_internal(\"%s(%d) name: %s; blockState: %s; state: %s, xid/subid/cid: %u/%u/%u%s%s\",\n\t\t\t\t\t\t\t str, s->nestingLevel,\n\t\t\t\t\t\t\t PointerIsValid(s->name) ? s->name : \"unnamed\",\n\t\t\t\t\t\t\t BlockStateAsString(s->blockState),\n\t\t\t\t\t\t\t TransStateAsString(s->state),\n\t\t\t\t\t\t\t (unsigned int) XidFromFullTransactionId(s->fullTransactionId),\n\t\t\t\t\t\t\t (unsigned int) s->subTransactionId,\n\t\t\t\t\t\t\t (unsigned int) currentCommandId,\n\t\t\t\t\t\t\t currentCommandIdUsed ? \" (used)\" : \"\",\n\t\t\t\t\t\t\t buf.data)",
          "old_line_content": "\t\t\t\t\t\t\t BlockStateAsString(s->blockState),",
          "new_line_content": "\t\t\t(errmsg_internal(\"%s(%d) name: %s; blockState: %s; state: %s, xid/subid/cid: %u/%u/%u%s%s\",",
          "content_same": false
        },
        {
          "line": 5322,
          "old_api": "XidFromFullTransactionId",
          "new_api": "PointerIsValid",
          "old_text": "XidFromFullTransactionId(s->fullTransactionId)",
          "new_text": "PointerIsValid(s->name)",
          "old_line_content": "\t\t\t\t\t\t\t (unsigned int) XidFromFullTransactionId(s->fullTransactionId),",
          "new_line_content": "\t\t\t\t\t\t\t PointerIsValid(s->name) ? s->name : \"unnamed\",",
          "content_same": false
        },
        {
          "line": 5586,
          "old_api": "XLogSetRecordFlags",
          "new_api": "XLogRegisterData",
          "old_text": "XLogSetRecordFlags(XLOG_INCLUDE_ORIGIN)",
          "new_text": "XLogRegisterData((char *) (&xl_origin), sizeof(xl_xact_origin))",
          "old_line_content": "\tXLogSetRecordFlags(XLOG_INCLUDE_ORIGIN);",
          "new_line_content": "\t\tXLogRegisterData((char *) (&xl_origin), sizeof(xl_xact_origin));",
          "content_same": false
        },
        {
          "line": 5714,
          "old_api": "XLogSetRecordFlags",
          "new_api": "XLogRegisterData",
          "old_text": "XLogSetRecordFlags(XLOG_INCLUDE_ORIGIN)",
          "new_text": "XLogRegisterData((char *) (&xl_origin), sizeof(xl_xact_origin))",
          "old_line_content": "\t\tXLogSetRecordFlags(XLOG_INCLUDE_ORIGIN);",
          "new_line_content": "\t\tXLogRegisterData((char *) (&xl_origin), sizeof(xl_xact_origin));",
          "content_same": false
        },
        {
          "line": 5716,
          "old_api": "XLogInsert",
          "new_api": "TransactionIdIsValid",
          "old_text": "XLogInsert(RM_XACT_ID, info)",
          "new_text": "TransactionIdIsValid(twophase_xid)",
          "old_line_content": "\treturn XLogInsert(RM_XACT_ID, info);",
          "new_line_content": "\tif (TransactionIdIsValid(twophase_xid))",
          "content_same": false
        },
        {
          "line": 5737,
          "old_api": "AdvanceNextFullTransactionIdPastXid",
          "new_api": "TransactionIdLatest",
          "old_text": "AdvanceNextFullTransactionIdPastXid(max_xid)",
          "new_text": "TransactionIdLatest(xid, parsed->nsubxacts, parsed->subxacts)",
          "old_line_content": "\tAdvanceNextFullTransactionIdPastXid(max_xid);",
          "new_line_content": "\tmax_xid = TransactionIdLatest(xid, parsed->nsubxacts, parsed->subxacts);",
          "content_same": false
        },
        {
          "line": 5836,
          "old_api": "DropRelationFiles",
          "new_api": "XLogFlush",
          "old_text": "DropRelationFiles(parsed->xnodes, parsed->nrels, true)",
          "new_text": "XLogFlush(lsn)",
          "old_line_content": "\t\tDropRelationFiles(parsed->xnodes, parsed->nrels, true);",
          "new_line_content": "\t\tXLogFlush(lsn);",
          "content_same": false
        },
        {
          "line": 5880,
          "old_api": "TransactionIdLatest",
          "new_api": "TransactionIdIsValid",
          "old_text": "TransactionIdLatest(xid,\n\t\t\t\t\t\t\t\t  parsed->nsubxacts,\n\t\t\t\t\t\t\t\t  parsed->subxacts)",
          "new_text": "TransactionIdIsValid(xid)",
          "old_line_content": "\tmax_xid = TransactionIdLatest(xid,",
          "new_line_content": "\tAssert(TransactionIdIsValid(xid));",
          "content_same": false
        },
        {
          "line": 5883,
          "old_api": "AdvanceNextFullTransactionIdPastXid",
          "new_api": "TransactionIdLatest",
          "old_text": "AdvanceNextFullTransactionIdPastXid(max_xid)",
          "new_text": "TransactionIdLatest(xid,\n\t\t\t\t\t\t\t\t  parsed->nsubxacts,\n\t\t\t\t\t\t\t\t  parsed->subxacts)",
          "old_line_content": "\tAdvanceNextFullTransactionIdPastXid(max_xid);",
          "new_line_content": "\tmax_xid = TransactionIdLatest(xid,",
          "content_same": false
        },
        {
          "line": 5904,
          "old_api": "TransactionIdAbortTree",
          "new_api": "RecordKnownAssignedTransactionIds",
          "old_text": "TransactionIdAbortTree(xid, parsed->nsubxacts, parsed->subxacts)",
          "new_text": "RecordKnownAssignedTransactionIds(max_xid)",
          "old_line_content": "\t\tTransactionIdAbortTree(xid, parsed->nsubxacts, parsed->subxacts);",
          "new_line_content": "\t\tRecordKnownAssignedTransactionIds(max_xid);",
          "content_same": false
        },
        {
          "line": 5933,
          "old_api": "XLogRecHasAnyBlockRefs",
          "new_api": "XLogRecGetInfo",
          "old_text": "XLogRecHasAnyBlockRefs(record)",
          "new_text": "XLogRecGetInfo(record)",
          "old_line_content": "\tAssert(!XLogRecHasAnyBlockRefs(record));",
          "new_line_content": "\tuint8\t\tinfo = XLogRecGetInfo(record) & XLOG_XACT_OPMASK;",
          "content_same": false
        },
        {
          "line": 5940,
          "old_api": "XLogRecGetInfo",
          "new_api": "XLogRecGetData",
          "old_text": "XLogRecGetInfo(record)",
          "new_text": "XLogRecGetData(record)",
          "old_line_content": "\t\tParseCommitRecord(XLogRecGetInfo(record), xlrec, &parsed);",
          "new_line_content": "\t\txl_xact_commit *xlrec = (xl_xact_commit *) XLogRecGetData(record);",
          "content_same": false
        },
        {
          "line": 5949,
          "old_api": "XLogRecGetInfo",
          "new_api": "XLogRecGetData",
          "old_text": "XLogRecGetInfo(record)",
          "new_text": "XLogRecGetData(record)",
          "old_line_content": "\t\tParseCommitRecord(XLogRecGetInfo(record), xlrec, &parsed);",
          "new_line_content": "\t\txl_xact_commit *xlrec = (xl_xact_commit *) XLogRecGetData(record);",
          "content_same": false
        },
        {
          "line": 5954,
          "old_api": "LWLockAcquire",
          "new_api": "XLogRecGetOrigin",
          "old_text": "LWLockAcquire(TwoPhaseStateLock, LW_EXCLUSIVE)",
          "new_text": "XLogRecGetOrigin(record)",
          "old_line_content": "\t\tLWLockAcquire(TwoPhaseStateLock, LW_EXCLUSIVE);",
          "new_line_content": "\t\t\t\t\t\t record->EndRecPtr, XLogRecGetOrigin(record));",
          "content_same": false
        },
        {
          "line": 5963,
          "old_api": "XLogRecGetInfo",
          "new_api": "XLogRecGetData",
          "old_text": "XLogRecGetInfo(record)",
          "new_text": "XLogRecGetData(record)",
          "old_line_content": "\t\tParseAbortRecord(XLogRecGetInfo(record), xlrec, &parsed);",
          "new_line_content": "\t\txl_xact_abort *xlrec = (xl_xact_abort *) XLogRecGetData(record);",
          "content_same": false
        },
        {
          "line": 5971,
          "old_api": "XLogRecGetInfo",
          "new_api": "XLogRecGetData",
          "old_text": "XLogRecGetInfo(record)",
          "new_text": "XLogRecGetData(record)",
          "old_line_content": "\t\tParseAbortRecord(XLogRecGetInfo(record), xlrec, &parsed);",
          "new_line_content": "\t\txl_xact_abort *xlrec = (xl_xact_abort *) XLogRecGetData(record);",
          "content_same": false
        },
        {
          "line": 5975,
          "old_api": "LWLockAcquire",
          "new_api": "xact_redo_abort",
          "old_text": "LWLockAcquire(TwoPhaseStateLock, LW_EXCLUSIVE)",
          "new_text": "xact_redo_abort(&parsed, parsed.twophase_xid)",
          "old_line_content": "\t\tLWLockAcquire(TwoPhaseStateLock, LW_EXCLUSIVE);",
          "new_line_content": "\t\txact_redo_abort(&parsed, parsed.twophase_xid);",
          "content_same": false
        },
        {
          "line": 5989,
          "old_api": "XLogRecGetOrigin",
          "new_api": "XLogRecGetData",
          "old_text": "XLogRecGetOrigin(record)",
          "new_text": "XLogRecGetData(record)",
          "old_line_content": "\t\t\t\t\t   XLogRecGetOrigin(record));",
          "new_line_content": "\t\tPrepareRedoAdd(XLogRecGetData(record),",
          "content_same": false
        },
        {
          "line": 5997,
          "old_api": "ProcArrayApplyXidAssignment",
          "new_api": "XLogRecGetData",
          "old_text": "ProcArrayApplyXidAssignment(xlrec->xtop,\n\t\t\t\t\t\t\t\t\t\txlrec->nsubxacts, xlrec->xsub)",
          "new_text": "XLogRecGetData(record)",
          "old_line_content": "\t\t\tProcArrayApplyXidAssignment(xlrec->xtop,",
          "new_line_content": "\t\txl_xact_assignment *xlrec = (xl_xact_assignment *) XLogRecGetData(record);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2056,
          "old_api": null,
          "new_api": "EnterParallelMode",
          "old_text": null,
          "new_text": "EnterParallelMode()",
          "old_line_content": "",
          "new_line_content": "\t\tEnterParallelMode();",
          "content_same": false
        },
        {
          "line": 2058,
          "old_api": null,
          "new_api": "ShowTransactionState",
          "old_text": null,
          "new_text": "ShowTransactionState(\"CommitTransaction\")",
          "old_line_content": "\t * check the current transaction state",
          "new_line_content": "\tShowTransactionState(\"CommitTransaction\");",
          "content_same": false
        },
        {
          "line": 4111,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(FATAL, \"DefineSavepoint: unexpected state %s\",\n\t\t\t\t BlockStateAsString(s->blockState))",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\telog(FATAL, \"DefineSavepoint: unexpected state %s\",",
          "content_same": false
        },
        {
          "line": 2064,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(WARNING, \"CommitTransaction while in %s state\",\n\t\t\t TransStateAsString(s->state))",
          "old_line_content": "",
          "new_line_content": "\t\telog(WARNING, \"CommitTransaction while in %s state\",",
          "content_same": false
        },
        {
          "line": 2065,
          "old_api": null,
          "new_api": "TransStateAsString",
          "old_text": null,
          "new_text": "TransStateAsString(s->state)",
          "old_line_content": "\t/*",
          "new_line_content": "\t\t\t TransStateAsString(s->state));",
          "content_same": false
        },
        {
          "line": 2066,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(s->parent == NULL)",
          "old_line_content": "\t * Do pre-commit processing that involves calling user-defined code, such",
          "new_line_content": "\tAssert(s->parent == NULL);",
          "content_same": false
        },
        {
          "line": 4112,
          "old_api": null,
          "new_api": "BlockStateAsString",
          "old_text": null,
          "new_text": "BlockStateAsString(s->blockState)",
          "old_line_content": "}",
          "new_line_content": "\t\t\t\t BlockStateAsString(s->blockState));",
          "content_same": false
        },
        {
          "line": 2079,
          "old_api": null,
          "new_api": "AfterTriggerFireDeferred",
          "old_text": null,
          "new_text": "AfterTriggerFireDeferred()",
          "old_line_content": "\t\t * Close open portals (converting holdable ones into static portals).",
          "new_line_content": "\t\tAfterTriggerFireDeferred();",
          "content_same": false
        },
        {
          "line": 2086,
          "old_api": null,
          "new_api": "PreCommit_Portals",
          "old_text": null,
          "new_text": "PreCommit_Portals(false)",
          "old_line_content": "",
          "new_line_content": "\t\tif (!PreCommit_Portals(false))",
          "content_same": false
        },
        {
          "line": 2090,
          "old_api": null,
          "new_api": "CallXactCallbacks",
          "old_text": null,
          "new_text": "CallXactCallbacks(is_parallel_worker ? XACT_EVENT_PARALLEL_PRE_COMMIT\n\t\t\t\t\t  : XACT_EVENT_PRE_COMMIT)",
          "old_line_content": "\t/*",
          "new_line_content": "\tCallXactCallbacks(is_parallel_worker ? XACT_EVENT_PARALLEL_PRE_COMMIT",
          "content_same": false
        },
        {
          "line": 4138,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),\n\t\t\t\t errmsg(\"cannot release savepoints during a parallel operation\")))",
          "old_line_content": "",
          "new_line_content": "\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 4139,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_INVALID_TRANSACTION_STATE)",
          "old_line_content": "\tswitch (s->blockState)",
          "new_line_content": "\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),",
          "content_same": false
        },
        {
          "line": 4140,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"cannot release savepoints during a parallel operation\")",
          "old_line_content": "\t{",
          "new_line_content": "\t\t\t\t errmsg(\"cannot release savepoints during a parallel operation\")));",
          "content_same": false
        },
        {
          "line": 4148,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(ERROR,\n\t\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),\n\t\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist\", name)))",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 2101,
          "old_api": null,
          "new_api": "IsInParallelMode",
          "old_text": null,
          "new_text": "IsInParallelMode()",
          "old_line_content": "\t/* Shut down the deferred-trigger manager */",
          "new_line_content": "\tif (IsInParallelMode())",
          "content_same": false
        },
        {
          "line": 4149,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_S_E_INVALID_SPECIFICATION)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),",
          "content_same": false
        },
        {
          "line": 4150,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"savepoint \\\"%s\\\" does not exist\", name)",
          "old_line_content": "\t\tcase TBLOCK_IMPLICIT_INPROGRESS:",
          "new_line_content": "\t\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist\", name)));",
          "content_same": false
        },
        {
          "line": 2105,
          "old_api": null,
          "new_api": "AfterTriggerEndXact",
          "old_text": null,
          "new_text": "AfterTriggerEndXact(true)",
          "old_line_content": "\t * Let ON COMMIT management do its thing (must happen after closing",
          "new_line_content": "\tAfterTriggerEndXact(true);",
          "content_same": false
        },
        {
          "line": 4156,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION)",
          "old_line_content": "\t\t\t\t\t\t\t\"RELEASE SAVEPOINT\")));",
          "new_line_content": "\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),",
          "content_same": false
        },
        {
          "line": 4158,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\"RELEASE SAVEPOINT\")",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",",
          "content_same": false
        },
        {
          "line": 2114,
          "old_api": null,
          "new_api": "AtEOXact_LargeObject",
          "old_text": null,
          "new_text": "AtEOXact_LargeObject(true)",
          "old_line_content": "\t * Mark serializable transaction as complete for predicate locking",
          "new_line_content": "\tAtEOXact_LargeObject(true);",
          "content_same": false
        },
        {
          "line": 2124,
          "old_api": null,
          "new_api": "PreCommit_CheckForSerializationFailure",
          "old_text": null,
          "new_text": "PreCommit_CheckForSerializationFailure()",
          "old_line_content": "\t * Insert notifications sent by NOTIFY commands into the queue.  This",
          "new_line_content": "\t\tPreCommit_CheckForSerializationFailure();",
          "content_same": false
        },
        {
          "line": 2137,
          "old_api": null,
          "new_api": "AtEOXact_RelationMap",
          "old_text": null,
          "new_text": "AtEOXact_RelationMap(true, is_parallel_worker)",
          "old_line_content": "\t * set the current transaction state information appropriately during",
          "new_line_content": "\tAtEOXact_RelationMap(true, is_parallel_worker);",
          "content_same": false
        },
        {
          "line": 4187,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(FATAL, \"ReleaseSavepoint: unexpected state %s\",\n\t\t\t\t BlockStateAsString(s->blockState))",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\telog(FATAL, \"ReleaseSavepoint: unexpected state %s\",",
          "content_same": false
        },
        {
          "line": 4188,
          "old_api": null,
          "new_api": "BlockStateAsString",
          "old_text": null,
          "new_text": "BlockStateAsString(s->blockState)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t BlockStateAsString(s->blockState));",
          "content_same": false
        },
        {
          "line": 4192,
          "old_api": null,
          "new_api": "PointerIsValid",
          "old_text": null,
          "new_text": "PointerIsValid(target)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\tfor (target = s; PointerIsValid(target); target = target->parent)",
          "content_same": false
        },
        {
          "line": 4194,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(target->name, name)",
          "old_line_content": "",
          "new_line_content": "\t\tif (PointerIsValid(target->name) && strcmp(target->name, name) == 0)",
          "content_same": false
        },
        {
          "line": 4199,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),\n\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist\", name)))",
          "old_line_content": "",
          "new_line_content": "\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 2152,
          "old_api": null,
          "new_api": "RecordTransactionCommit",
          "old_text": null,
          "new_text": "RecordTransactionCommit()",
          "old_line_content": "\t{",
          "new_line_content": "\t\tlatestXid = RecordTransactionCommit();",
          "content_same": false
        },
        {
          "line": 4200,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_S_E_INVALID_SPECIFICATION)",
          "old_line_content": "\t/* disallow crossing savepoint level boundaries */",
          "new_line_content": "\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),",
          "content_same": false
        },
        {
          "line": 4201,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"savepoint \\\"%s\\\" does not exist\", name)",
          "old_line_content": "\tif (target->savepointLevel != s->savepointLevel)",
          "new_line_content": "\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist\", name)));",
          "content_same": false
        },
        {
          "line": 4205,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),\n\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist within current savepoint level\", name)))",
          "old_line_content": "",
          "new_line_content": "\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 4206,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_S_E_INVALID_SPECIFICATION)",
          "old_line_content": "\t/*",
          "new_line_content": "\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),",
          "content_same": false
        },
        {
          "line": 4207,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"savepoint \\\"%s\\\" does not exist within current savepoint level\", name)",
          "old_line_content": "\t * Mark \"commit pending\" all subtransactions up to the target",
          "new_line_content": "\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist within current savepoint level\", name)));",
          "content_same": false
        },
        {
          "line": 4217,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(xact->blockState == TBLOCK_SUBINPROGRESS)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\tAssert(xact->blockState == TBLOCK_SUBINPROGRESS);",
          "content_same": false
        },
        {
          "line": 2169,
          "old_api": null,
          "new_api": "TRACE_POSTGRESQL_TRANSACTION_COMMIT",
          "old_text": null,
          "new_text": "TRACE_POSTGRESQL_TRANSACTION_COMMIT(MyProc->lxid)",
          "old_line_content": "\t * Let others know about no transaction in progress by me. Note that this",
          "new_line_content": "\tTRACE_POSTGRESQL_TRANSACTION_COMMIT(MyProc->lxid);",
          "content_same": false
        },
        {
          "line": 4222,
          "old_api": null,
          "new_api": "PointerIsValid",
          "old_text": null,
          "new_text": "PointerIsValid(xact)",
          "old_line_content": "",
          "new_line_content": "\t\tAssert(PointerIsValid(xact));",
          "content_same": false
        },
        {
          "line": 2176,
          "old_api": null,
          "new_api": "ProcArrayEndTransaction",
          "old_text": null,
          "new_text": "ProcArrayEndTransaction(MyProc, latestXid)",
          "old_line_content": "\t * This is all post-commit cleanup.  Note that if an error is raised here,",
          "new_line_content": "\tProcArrayEndTransaction(MyProc, latestXid);",
          "content_same": false
        },
        {
          "line": 2197,
          "old_api": null,
          "new_api": "ResourceOwnerRelease",
          "old_text": null,
          "new_text": "ResourceOwnerRelease(TopTransactionResourceOwner,\n\t\t\t\t\t\t RESOURCE_RELEASE_BEFORE_LOCKS,\n\t\t\t\t\t\t true, true)",
          "old_line_content": "",
          "new_line_content": "\tResourceOwnerRelease(TopTransactionResourceOwner,",
          "content_same": false
        },
        {
          "line": 4247,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),\n\t\t\t\t errmsg(\"cannot rollback to savepoints during a parallel operation\")))",
          "old_line_content": "",
          "new_line_content": "\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 4248,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_INVALID_TRANSACTION_STATE)",
          "old_line_content": "\tswitch (s->blockState)",
          "new_line_content": "\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),",
          "content_same": false
        },
        {
          "line": 4249,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"cannot rollback to savepoints during a parallel operation\")",
          "old_line_content": "\t{",
          "new_line_content": "\t\t\t\t errmsg(\"cannot rollback to savepoints during a parallel operation\")));",
          "content_same": false
        },
        {
          "line": 2205,
          "old_api": null,
          "new_api": "AtEOXact_RelationCache",
          "old_text": null,
          "new_text": "AtEOXact_RelationCache(true)",
          "old_line_content": "\t * Make catalog changes visible to all backends.  This has to happen after",
          "new_line_content": "\tAtEOXact_RelationCache(true);",
          "content_same": false
        },
        {
          "line": 4259,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(ERROR,\n\t\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),\n\t\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist\", name)))",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 4260,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_S_E_INVALID_SPECIFICATION)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),",
          "content_same": false
        },
        {
          "line": 4261,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"savepoint \\\"%s\\\" does not exist\", name)",
          "old_line_content": "\t\tcase TBLOCK_IMPLICIT_INPROGRESS:",
          "new_line_content": "\t\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist\", name)));",
          "content_same": false
        },
        {
          "line": 2214,
          "old_api": null,
          "new_api": "AtEOXact_Inval",
          "old_text": null,
          "new_text": "AtEOXact_Inval(true)",
          "old_line_content": "",
          "new_line_content": "\tAtEOXact_Inval(true);",
          "content_same": false
        },
        {
          "line": 2216,
          "old_api": null,
          "new_api": "AtEOXact_MultiXact",
          "old_text": null,
          "new_text": "AtEOXact_MultiXact()",
          "old_line_content": "\t\t\t\t\t\t RESOURCE_RELEASE_LOCKS,",
          "new_line_content": "\tAtEOXact_MultiXact();",
          "content_same": false
        },
        {
          "line": 4267,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION)",
          "old_line_content": "\t\t\t\t\t\t\t\"ROLLBACK TO SAVEPOINT\")));",
          "new_line_content": "\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),",
          "content_same": false
        },
        {
          "line": 2221,
          "old_api": null,
          "new_api": "ResourceOwnerRelease",
          "old_text": null,
          "new_text": "ResourceOwnerRelease(TopTransactionResourceOwner,\n\t\t\t\t\t\t RESOURCE_RELEASE_AFTER_LOCKS,\n\t\t\t\t\t\t true, true)",
          "old_line_content": "",
          "new_line_content": "\tResourceOwnerRelease(TopTransactionResourceOwner,",
          "content_same": false
        },
        {
          "line": 4269,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\"ROLLBACK TO SAVEPOINT\")",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",",
          "content_same": false
        },
        {
          "line": 2247,
          "old_api": null,
          "new_api": "AtEOXact_Snapshot",
          "old_text": null,
          "new_text": "AtEOXact_Snapshot(true, false)",
          "old_line_content": "",
          "new_line_content": "\tAtEOXact_Snapshot(true, false);",
          "content_same": false
        },
        {
          "line": 2248,
          "old_api": null,
          "new_api": "AtEOXact_ApplyLauncher",
          "old_text": null,
          "new_text": "AtEOXact_ApplyLauncher(true)",
          "old_line_content": "\tCurrentResourceOwner = NULL;",
          "new_line_content": "\tAtEOXact_ApplyLauncher(true);",
          "content_same": false
        },
        {
          "line": 4296,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(FATAL, \"RollbackToSavepoint: unexpected state %s\",\n\t\t\t\t BlockStateAsString(s->blockState))",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\telog(FATAL, \"RollbackToSavepoint: unexpected state %s\",",
          "content_same": false
        },
        {
          "line": 4297,
          "old_api": null,
          "new_api": "BlockStateAsString",
          "old_text": null,
          "new_text": "BlockStateAsString(s->blockState)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t BlockStateAsString(s->blockState));",
          "content_same": false
        },
        {
          "line": 2252,
          "old_api": null,
          "new_api": "ResourceOwnerDelete",
          "old_text": null,
          "new_text": "ResourceOwnerDelete(TopTransactionResourceOwner)",
          "old_line_content": "\tTopTransactionResourceOwner = NULL;",
          "new_line_content": "\tResourceOwnerDelete(TopTransactionResourceOwner);",
          "content_same": false
        },
        {
          "line": 4301,
          "old_api": null,
          "new_api": "PointerIsValid",
          "old_text": null,
          "new_text": "PointerIsValid(target)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\tfor (target = s; PointerIsValid(target); target = target->parent)",
          "content_same": false
        },
        {
          "line": 4303,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(target->name, name)",
          "old_line_content": "",
          "new_line_content": "\t\tif (PointerIsValid(target->name) && strcmp(target->name, name) == 0)",
          "content_same": false
        },
        {
          "line": 2257,
          "old_api": null,
          "new_api": "AtCommit_Memory",
          "old_text": null,
          "new_text": "AtCommit_Memory()",
          "old_line_content": "\ts->subTransactionId = InvalidSubTransactionId;",
          "new_line_content": "\tAtCommit_Memory();",
          "content_same": false
        },
        {
          "line": 4308,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),\n\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist\", name)))",
          "old_line_content": "",
          "new_line_content": "\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 4309,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_S_E_INVALID_SPECIFICATION)",
          "old_line_content": "\t/* disallow crossing savepoint level boundaries */",
          "new_line_content": "\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),",
          "content_same": false
        },
        {
          "line": 4310,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"savepoint \\\"%s\\\" does not exist\", name)",
          "old_line_content": "\tif (target->savepointLevel != s->savepointLevel)",
          "new_line_content": "\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist\", name)));",
          "content_same": false
        },
        {
          "line": 4314,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),\n\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist within current savepoint level\", name)))",
          "old_line_content": "",
          "new_line_content": "\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 4315,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_S_E_INVALID_SPECIFICATION)",
          "old_line_content": "\t/*",
          "new_line_content": "\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),",
          "content_same": false
        },
        {
          "line": 4316,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"savepoint \\\"%s\\\" does not exist within current savepoint level\", name)",
          "old_line_content": "\t * Mark \"abort pending\" all subtransactions up to the target",
          "new_line_content": "\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist within current savepoint level\", name)));",
          "content_same": false
        },
        {
          "line": 2276,
          "old_api": null,
          "new_api": "RESUME_INTERRUPTS",
          "old_text": null,
          "new_text": "RESUME_INTERRUPTS()",
          "old_line_content": "",
          "new_line_content": "\tRESUME_INTERRUPTS();",
          "content_same": false
        },
        {
          "line": 4334,
          "old_api": null,
          "new_api": "BlockStateAsString",
          "old_text": null,
          "new_text": "BlockStateAsString(xact->blockState)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\t BlockStateAsString(xact->blockState));",
          "content_same": false
        },
        {
          "line": 4336,
          "old_api": null,
          "new_api": "PointerIsValid",
          "old_text": null,
          "new_text": "PointerIsValid(xact)",
          "old_line_content": "\t/* And mark the target as \"restart pending\" */",
          "new_line_content": "\t\tAssert(PointerIsValid(xact));",
          "content_same": false
        },
        {
          "line": 2289,
          "old_api": null,
          "new_api": "GetCurrentTransactionId",
          "old_text": null,
          "new_text": "GetCurrentTransactionId()",
          "old_line_content": "",
          "new_line_content": "\tTransactionId xid = GetCurrentTransactionId();",
          "content_same": false
        },
        {
          "line": 2293,
          "old_api": null,
          "new_api": "IsInParallelMode",
          "old_text": null,
          "new_text": "IsInParallelMode()",
          "old_line_content": "",
          "new_line_content": "\tAssert(!IsInParallelMode());",
          "content_same": false
        },
        {
          "line": 2295,
          "old_api": null,
          "new_api": "ShowTransactionState",
          "old_text": null,
          "new_text": "ShowTransactionState(\"PrepareTransaction\")",
          "old_line_content": "\t * check the current transaction state",
          "new_line_content": "\tShowTransactionState(\"PrepareTransaction\");",
          "content_same": false
        },
        {
          "line": 4345,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(FATAL, \"RollbackToSavepoint: unexpected state %s\",\n\t\t\t BlockStateAsString(xact->blockState))",
          "old_line_content": "",
          "new_line_content": "\t\telog(FATAL, \"RollbackToSavepoint: unexpected state %s\",",
          "content_same": false
        },
        {
          "line": 4346,
          "old_api": null,
          "new_api": "BlockStateAsString",
          "old_text": null,
          "new_text": "BlockStateAsString(xact->blockState)",
          "old_line_content": "/*",
          "new_line_content": "\t\t\t BlockStateAsString(xact->blockState));",
          "content_same": false
        },
        {
          "line": 2301,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(WARNING, \"PrepareTransaction while in %s state\",\n\t\t\t TransStateAsString(s->state))",
          "old_line_content": "",
          "new_line_content": "\t\telog(WARNING, \"PrepareTransaction while in %s state\",",
          "content_same": false
        },
        {
          "line": 2302,
          "old_api": null,
          "new_api": "TransStateAsString",
          "old_text": null,
          "new_text": "TransStateAsString(s->state)",
          "old_line_content": "\t/*",
          "new_line_content": "\t\t\t TransStateAsString(s->state));",
          "content_same": false
        },
        {
          "line": 2303,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(s->parent == NULL)",
          "old_line_content": "\t * Do pre-commit processing that involves calling user-defined code, such",
          "new_line_content": "\tAssert(s->parent == NULL);",
          "content_same": false
        },
        {
          "line": 2316,
          "old_api": null,
          "new_api": "AfterTriggerFireDeferred",
          "old_text": null,
          "new_text": "AfterTriggerFireDeferred()",
          "old_line_content": "\t\t * Close open portals (converting holdable ones into static portals).",
          "new_line_content": "\t\tAfterTriggerFireDeferred();",
          "content_same": false
        },
        {
          "line": 2323,
          "old_api": null,
          "new_api": "PreCommit_Portals",
          "old_text": null,
          "new_text": "PreCommit_Portals(true)",
          "old_line_content": "",
          "new_line_content": "\t\tif (!PreCommit_Portals(true))",
          "content_same": false
        },
        {
          "line": 2327,
          "old_api": null,
          "new_api": "CallXactCallbacks",
          "old_text": null,
          "new_text": "CallXactCallbacks(XACT_EVENT_PRE_PREPARE)",
          "old_line_content": "\t * The remaining actions cannot call any user-defined code, so it's safe",
          "new_line_content": "\tCallXactCallbacks(XACT_EVENT_PRE_PREPARE);",
          "content_same": false
        },
        {
          "line": 4375,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),\n\t\t\t\t errmsg(\"cannot start subtransactions during a parallel operation\")))",
          "old_line_content": "",
          "new_line_content": "\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 4376,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_INVALID_TRANSACTION_STATE)",
          "old_line_content": "\tswitch (s->blockState)",
          "new_line_content": "\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),",
          "content_same": false
        },
        {
          "line": 4377,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"cannot start subtransactions during a parallel operation\")",
          "old_line_content": "\t{",
          "new_line_content": "\t\t\t\t errmsg(\"cannot start subtransactions during a parallel operation\")));",
          "content_same": false
        },
        {
          "line": 2337,
          "old_api": null,
          "new_api": "AfterTriggerEndXact",
          "old_text": null,
          "new_text": "AfterTriggerEndXact(true)",
          "old_line_content": "\t * Let ON COMMIT management do its thing (must happen after closing",
          "new_line_content": "\tAfterTriggerEndXact(true);",
          "content_same": false
        },
        {
          "line": 4388,
          "old_api": null,
          "new_api": "PushTransaction",
          "old_text": null,
          "new_text": "PushTransaction()",
          "old_line_content": "\t\t\t/*",
          "new_line_content": "\t\t\tPushTransaction();",
          "content_same": false
        },
        {
          "line": 2346,
          "old_api": null,
          "new_api": "AtEOXact_LargeObject",
          "old_text": null,
          "new_text": "AtEOXact_LargeObject(true)",
          "old_line_content": "\t * Mark serializable transaction as complete for predicate locking",
          "new_line_content": "\tAtEOXact_LargeObject(true);",
          "content_same": false
        },
        {
          "line": 4396,
          "old_api": null,
          "new_api": "MemoryContextStrdup",
          "old_text": null,
          "new_text": "MemoryContextStrdup(TopTransactionContext, name)",
          "old_line_content": "\t\t\t/* These cases are invalid. */",
          "new_line_content": "\t\t\t\ts->name = MemoryContextStrdup(TopTransactionContext, name);",
          "content_same": false
        },
        {
          "line": 2353,
          "old_api": null,
          "new_api": "PreCommit_CheckForSerializationFailure",
          "old_text": null,
          "new_text": "PreCommit_CheckForSerializationFailure()",
          "old_line_content": "",
          "new_line_content": "\tPreCommit_CheckForSerializationFailure();",
          "content_same": false
        },
        {
          "line": 4414,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(FATAL, \"BeginInternalSubTransaction: unexpected state %s\",\n\t\t\t\t BlockStateAsString(s->blockState))",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\telog(FATAL, \"BeginInternalSubTransaction: unexpected state %s\",",
          "content_same": false
        },
        {
          "line": 4415,
          "old_api": null,
          "new_api": "BlockStateAsString",
          "old_text": null,
          "new_text": "BlockStateAsString(s->blockState)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t BlockStateAsString(s->blockState));",
          "content_same": false
        },
        {
          "line": 4419,
          "old_api": null,
          "new_api": "CommitTransactionCommand",
          "old_text": null,
          "new_text": "CommitTransactionCommand()",
          "old_line_content": "",
          "new_line_content": "\tCommitTransactionCommand();",
          "content_same": false
        },
        {
          "line": 4420,
          "old_api": null,
          "new_api": "StartTransactionCommand",
          "old_text": null,
          "new_text": "StartTransactionCommand()",
          "old_line_content": "/*",
          "new_line_content": "\tStartTransactionCommand();",
          "content_same": false
        },
        {
          "line": 2378,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_FEATURE_NOT_SUPPORTED),\n\t\t\t\t errmsg(\"cannot PREPARE a transaction that has operated on temporary objects\")))",
          "old_line_content": "",
          "new_line_content": "\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 2379,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_FEATURE_NOT_SUPPORTED)",
          "old_line_content": "\t/*",
          "new_line_content": "\t\t\t\t(errcode(ERRCODE_FEATURE_NOT_SUPPORTED),",
          "content_same": false
        },
        {
          "line": 2380,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"cannot PREPARE a transaction that has operated on temporary objects\")",
          "old_line_content": "\t * Likewise, don't allow PREPARE after pg_export_snapshot.  This could be",
          "new_line_content": "\t\t\t\t errmsg(\"cannot PREPARE a transaction that has operated on temporary objects\")));",
          "content_same": false
        },
        {
          "line": 2388,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_FEATURE_NOT_SUPPORTED),\n\t\t\t\t errmsg(\"cannot PREPARE a transaction that has exported snapshots\")))",
          "old_line_content": "",
          "new_line_content": "\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 2389,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_FEATURE_NOT_SUPPORTED)",
          "old_line_content": "\t/*",
          "new_line_content": "\t\t\t\t(errcode(ERRCODE_FEATURE_NOT_SUPPORTED),",
          "content_same": false
        },
        {
          "line": 2390,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"cannot PREPARE a transaction that has exported snapshots\")",
          "old_line_content": "\t * Don't allow PREPARE but for transaction that has/might kill logical",
          "new_line_content": "\t\t\t\t errmsg(\"cannot PREPARE a transaction that has exported snapshots\")));",
          "content_same": false
        },
        {
          "line": 4443,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),\n\t\t\t\t errmsg(\"cannot commit subtransactions during a parallel operation\")))",
          "old_line_content": "",
          "new_line_content": "\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 4444,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_INVALID_TRANSACTION_STATE)",
          "old_line_content": "\tif (s->blockState != TBLOCK_SUBINPROGRESS)",
          "new_line_content": "\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),",
          "content_same": false
        },
        {
          "line": 2397,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_FEATURE_NOT_SUPPORTED),\n\t\t\t\t errmsg(\"cannot PREPARE a transaction that has manipulated logical replication workers\")))",
          "old_line_content": "",
          "new_line_content": "\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 2398,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_FEATURE_NOT_SUPPORTED)",
          "old_line_content": "\t/* Prevent cancel/die interrupt while cleaning up */",
          "new_line_content": "\t\t\t\t(errcode(ERRCODE_FEATURE_NOT_SUPPORTED),",
          "content_same": false
        },
        {
          "line": 2402,
          "old_api": null,
          "new_api": "HOLD_INTERRUPTS",
          "old_text": null,
          "new_text": "HOLD_INTERRUPTS()",
          "old_line_content": "\t * set the current transaction state information appropriately during",
          "new_line_content": "\tHOLD_INTERRUPTS();",
          "content_same": false
        },
        {
          "line": 4450,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(s->state == TRANS_INPROGRESS)",
          "old_line_content": "\ts = CurrentTransactionState;\t/* changed by pop */",
          "new_line_content": "\tAssert(s->state == TRANS_INPROGRESS);",
          "content_same": false
        },
        {
          "line": 4452,
          "old_api": null,
          "new_api": "CommitSubTransaction",
          "old_text": null,
          "new_text": "CommitSubTransaction()",
          "old_line_content": "}",
          "new_line_content": "\tCommitSubTransaction();",
          "content_same": false
        },
        {
          "line": 4454,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(s->state == TRANS_INPROGRESS)",
          "old_line_content": "/*",
          "new_line_content": "\tAssert(s->state == TRANS_INPROGRESS);",
          "content_same": false
        },
        {
          "line": 2413,
          "old_api": null,
          "new_api": "BufmgrCommit",
          "old_text": null,
          "new_text": "BufmgrCommit()",
          "old_line_content": "\t * Reserve the GID for this transaction. This could fail if the requested",
          "new_line_content": "\tBufmgrCommit();",
          "content_same": false
        },
        {
          "line": 2419,
          "old_api": null,
          "new_api": "MarkAsPreparing",
          "old_text": null,
          "new_text": "MarkAsPreparing(xid, prepareGID, prepared_at,\n\t\t\t\t\t\t\tGetUserId(), MyDatabaseId)",
          "old_line_content": "",
          "new_line_content": "\tgxact = MarkAsPreparing(xid, prepareGID, prepared_at,",
          "content_same": false
        },
        {
          "line": 2420,
          "old_api": null,
          "new_api": "GetUserId",
          "old_text": null,
          "new_text": "GetUserId()",
          "old_line_content": "\t/*",
          "new_line_content": "\t\t\t\t\t\t\tGetUserId(), MyDatabaseId);",
          "content_same": false
        },
        {
          "line": 2444,
          "old_api": null,
          "new_api": "AtPrepare_PgStat",
          "old_text": null,
          "new_text": "AtPrepare_PgStat()",
          "old_line_content": "",
          "new_line_content": "\tAtPrepare_PgStat();",
          "content_same": false
        },
        {
          "line": 2445,
          "old_api": null,
          "new_api": "AtPrepare_MultiXact",
          "old_text": null,
          "new_text": "AtPrepare_MultiXact()",
          "old_line_content": "\t/*",
          "new_line_content": "\tAtPrepare_MultiXact();",
          "content_same": false
        },
        {
          "line": 2446,
          "old_api": null,
          "new_api": "AtPrepare_RelationMap",
          "old_text": null,
          "new_text": "AtPrepare_RelationMap()",
          "old_line_content": "\t * Here is where we really truly prepare.",
          "new_line_content": "\tAtPrepare_RelationMap();",
          "content_same": false
        },
        {
          "line": 2455,
          "old_api": null,
          "new_api": "EndPrepare",
          "old_text": null,
          "new_text": "EndPrepare(gxact)",
          "old_line_content": "\t * Now we clean up backend-internal state and release internal resources.",
          "new_line_content": "\tEndPrepare(gxact);",
          "content_same": false
        },
        {
          "line": 4503,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(FATAL, \"RollbackAndReleaseCurrentSubTransaction: unexpected state %s\",\n\t\t\t\t BlockStateAsString(s->blockState))",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\telog(FATAL, \"RollbackAndReleaseCurrentSubTransaction: unexpected state %s\",",
          "content_same": false
        },
        {
          "line": 4504,
          "old_api": null,
          "new_api": "BlockStateAsString",
          "old_text": null,
          "new_text": "BlockStateAsString(s->blockState)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t BlockStateAsString(s->blockState));",
          "content_same": false
        },
        {
          "line": 2469,
          "old_api": null,
          "new_api": "ProcArrayClearTransaction",
          "old_text": null,
          "new_text": "ProcArrayClearTransaction(MyProc)",
          "old_line_content": "\t * In normal commit-processing, this is all non-critical post-transaction",
          "new_line_content": "\tProcArrayClearTransaction(MyProc);",
          "content_same": false
        },
        {
          "line": 4518,
          "old_api": null,
          "new_api": "AssertState",
          "old_text": null,
          "new_text": "AssertState(s->blockState == TBLOCK_SUBINPROGRESS ||\n\t\t\t\ts->blockState == TBLOCK_INPROGRESS ||\n\t\t\t\ts->blockState == TBLOCK_IMPLICIT_INPROGRESS ||\n\t\t\t\ts->blockState == TBLOCK_STARTED)",
          "old_line_content": "\t\t\t\ts->blockState == TBLOCK_STARTED);",
          "new_line_content": "\tAssertState(s->blockState == TBLOCK_SUBINPROGRESS ||",
          "content_same": false
        },
        {
          "line": 2481,
          "old_api": null,
          "new_api": "CallXactCallbacks",
          "old_text": null,
          "new_text": "CallXactCallbacks(XACT_EVENT_PREPARE)",
          "old_line_content": "\t\t\t\t\t\t RESOURCE_RELEASE_BEFORE_LOCKS,",
          "new_line_content": "\tCallXactCallbacks(XACT_EVENT_PREPARE);",
          "content_same": false
        },
        {
          "line": 2483,
          "old_api": null,
          "new_api": "ResourceOwnerRelease",
          "old_text": null,
          "new_text": "ResourceOwnerRelease(TopTransactionResourceOwner,\n\t\t\t\t\t\t RESOURCE_RELEASE_BEFORE_LOCKS,\n\t\t\t\t\t\t true, true)",
          "old_line_content": "",
          "new_line_content": "\tResourceOwnerRelease(TopTransactionResourceOwner,",
          "content_same": false
        },
        {
          "line": 4537,
          "old_api": null,
          "new_api": "AtAbort_Memory",
          "old_text": null,
          "new_text": "AtAbort_Memory()",
          "old_line_content": "\t * Get out of any transaction or nested transaction",
          "new_line_content": "\tAtAbort_Memory();",
          "content_same": false
        },
        {
          "line": 2491,
          "old_api": null,
          "new_api": "AtEOXact_RelationCache",
          "old_text": null,
          "new_text": "AtEOXact_RelationCache(true)",
          "old_line_content": "",
          "new_line_content": "\tAtEOXact_RelationCache(true);",
          "content_same": false
        },
        {
          "line": 2495,
          "old_api": null,
          "new_api": "PostPrepare_PgStat",
          "old_text": null,
          "new_text": "PostPrepare_PgStat()",
          "old_line_content": "",
          "new_line_content": "\tPostPrepare_PgStat();",
          "content_same": false
        },
        {
          "line": 2497,
          "old_api": null,
          "new_api": "PostPrepare_Inval",
          "old_text": null,
          "new_text": "PostPrepare_Inval()",
          "old_line_content": "",
          "new_line_content": "\tPostPrepare_Inval();",
          "content_same": false
        },
        {
          "line": 2499,
          "old_api": null,
          "new_api": "PostPrepare_smgr",
          "old_text": null,
          "new_text": "PostPrepare_smgr()",
          "old_line_content": "",
          "new_line_content": "\tPostPrepare_smgr();",
          "content_same": false
        },
        {
          "line": 2504,
          "old_api": null,
          "new_api": "PostPrepare_PredicateLocks",
          "old_text": null,
          "new_text": "PostPrepare_PredicateLocks(xid)",
          "old_line_content": "\t\t\t\t\t\t RESOURCE_RELEASE_LOCKS,",
          "new_line_content": "\tPostPrepare_PredicateLocks(xid);",
          "content_same": false
        },
        {
          "line": 2509,
          "old_api": null,
          "new_api": "ResourceOwnerRelease",
          "old_text": null,
          "new_text": "ResourceOwnerRelease(TopTransactionResourceOwner,\n\t\t\t\t\t\t RESOURCE_RELEASE_AFTER_LOCKS,\n\t\t\t\t\t\t true, true)",
          "old_line_content": "",
          "new_line_content": "\tResourceOwnerRelease(TopTransactionResourceOwner,",
          "content_same": false
        },
        {
          "line": 4562,
          "old_api": null,
          "new_api": "AbortTransaction",
          "old_text": null,
          "new_text": "AbortTransaction()",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\tAbortTransaction();",
          "content_same": false
        },
        {
          "line": 4563,
          "old_api": null,
          "new_api": "CleanupTransaction",
          "old_text": null,
          "new_text": "CleanupTransaction()",
          "old_line_content": "\t\t\tcase TBLOCK_STARTED:",
          "new_line_content": "\t\t\t\t\tCleanupTransaction();",
          "content_same": false
        },
        {
          "line": 2527,
          "old_api": null,
          "new_api": "AtEOXact_Files",
          "old_text": null,
          "new_text": "AtEOXact_Files(true)",
          "old_line_content": "\t/* don't call AtEOXact_PgStat here; we fixed pgstat state above */",
          "new_line_content": "\tAtEOXact_Files(true);",
          "content_same": false
        },
        {
          "line": 4575,
          "old_api": null,
          "new_api": "AbortTransaction",
          "old_text": null,
          "new_text": "AbortTransaction()",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\tAbortTransaction();",
          "content_same": false
        },
        {
          "line": 4576,
          "old_api": null,
          "new_api": "CleanupTransaction",
          "old_text": null,
          "new_text": "CleanupTransaction()",
          "old_line_content": "\t\t\tcase TBLOCK_ABORT:",
          "new_line_content": "\t\t\t\tCleanupTransaction();",
          "content_same": false
        },
        {
          "line": 2531,
          "old_api": null,
          "new_api": "AtEOXact_Snapshot",
          "old_text": null,
          "new_text": "AtEOXact_Snapshot(true, true)",
          "old_line_content": "\tCurrentResourceOwner = NULL;",
          "new_line_content": "\tAtEOXact_Snapshot(true, true);",
          "content_same": false
        },
        {
          "line": 2535,
          "old_api": null,
          "new_api": "ResourceOwnerDelete",
          "old_text": null,
          "new_text": "ResourceOwnerDelete(TopTransactionResourceOwner)",
          "old_line_content": "\tTopTransactionResourceOwner = NULL;",
          "new_line_content": "\tResourceOwnerDelete(TopTransactionResourceOwner);",
          "content_same": false
        },
        {
          "line": 2540,
          "old_api": null,
          "new_api": "AtCommit_Memory",
          "old_text": null,
          "new_text": "AtCommit_Memory()",
          "old_line_content": "\ts->subTransactionId = InvalidSubTransactionId;",
          "new_line_content": "\tAtCommit_Memory();",
          "content_same": false
        },
        {
          "line": 4588,
          "old_api": null,
          "new_api": "AtAbort_Portals",
          "old_text": null,
          "new_text": "AtAbort_Portals()",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\tAtAbort_Portals();",
          "content_same": false
        },
        {
          "line": 4589,
          "old_api": null,
          "new_api": "CleanupTransaction",
          "old_text": null,
          "new_text": "CleanupTransaction()",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tCleanupTransaction();",
          "content_same": false
        },
        {
          "line": 4602,
          "old_api": null,
          "new_api": "AbortSubTransaction",
          "old_text": null,
          "new_text": "AbortSubTransaction()",
          "old_line_content": "\t\t\t\tbreak;",
          "new_line_content": "\t\t\t\tAbortSubTransaction();",
          "content_same": false
        },
        {
          "line": 4603,
          "old_api": null,
          "new_api": "CleanupSubTransaction",
          "old_text": null,
          "new_text": "CleanupSubTransaction()",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tCleanupSubTransaction();",
          "content_same": false
        },
        {
          "line": 2559,
          "old_api": null,
          "new_api": "RESUME_INTERRUPTS",
          "old_text": null,
          "new_text": "RESUME_INTERRUPTS()",
          "old_line_content": "",
          "new_line_content": "\tRESUME_INTERRUPTS();",
          "content_same": false
        },
        {
          "line": 4614,
          "old_api": null,
          "new_api": "AtSubAbort_Portals",
          "old_text": null,
          "new_text": "AtSubAbort_Portals(s->subTransactionId,\n\t\t\t\t\t\t\t\t\t   s->parent->subTransactionId,\n\t\t\t\t\t\t\t\t\t   s->curTransactionOwner,\n\t\t\t\t\t\t\t\t\t   s->parent->curTransactionOwner)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t   s->parent->curTransactionOwner);",
          "new_line_content": "\t\t\t\t\tAtSubAbort_Portals(s->subTransactionId,",
          "content_same": false
        },
        {
          "line": 4619,
          "old_api": null,
          "new_api": "CleanupSubTransaction",
          "old_text": null,
          "new_text": "CleanupSubTransaction()",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\t\tCleanupSubTransaction();",
          "content_same": false
        },
        {
          "line": 2577,
          "old_api": null,
          "new_api": "AtAbort_Memory",
          "old_text": null,
          "new_text": "AtAbort_Memory()",
          "old_line_content": "\t/*",
          "new_line_content": "\tAtAbort_Memory();",
          "content_same": false
        },
        {
          "line": 2578,
          "old_api": null,
          "new_api": "AtAbort_ResourceOwner",
          "old_text": null,
          "new_text": "AtAbort_ResourceOwner()",
          "old_line_content": "\t * Release any LW locks we might be holding as quickly as possible.",
          "new_line_content": "\tAtAbort_ResourceOwner();",
          "content_same": false
        },
        {
          "line": 4629,
          "old_api": null,
          "new_api": "AtCleanup_Memory",
          "old_text": null,
          "new_text": "AtCleanup_Memory()",
          "old_line_content": "/*",
          "new_line_content": "\tAtCleanup_Memory();",
          "content_same": false
        },
        {
          "line": 2589,
          "old_api": null,
          "new_api": "pgstat_report_wait_end",
          "old_text": null,
          "new_text": "pgstat_report_wait_end()",
          "old_line_content": "\t/* Clean up buffer I/O and buffer context locks, too */",
          "new_line_content": "\tpgstat_report_wait_end();",
          "content_same": false
        },
        {
          "line": 2593,
          "old_api": null,
          "new_api": "AbortBufferIO",
          "old_text": null,
          "new_text": "AbortBufferIO()",
          "old_line_content": "\t/* Reset WAL record construction state */",
          "new_line_content": "\tAbortBufferIO();",
          "content_same": false
        },
        {
          "line": 2600,
          "old_api": null,
          "new_api": "ConditionVariableCancelSleep",
          "old_text": null,
          "new_text": "ConditionVariableCancelSleep()",
          "old_line_content": "\t * Also clean up any open wait for lock, since the lock manager will choke",
          "new_line_content": "\tConditionVariableCancelSleep();",
          "content_same": false
        },
        {
          "line": 2606,
          "old_api": null,
          "new_api": "LockErrorCleanup",
          "old_text": null,
          "new_text": "LockErrorCleanup()",
          "old_line_content": "\t * If any timeout events are still active, make sure the timeout interrupt",
          "new_line_content": "\tLockErrorCleanup();",
          "content_same": false
        },
        {
          "line": 2615,
          "old_api": null,
          "new_api": "reschedule_timeouts",
          "old_text": null,
          "new_text": "reschedule_timeouts()",
          "old_line_content": "\t * Re-enable signals, in case we got here by longjmp'ing out of a signal",
          "new_line_content": "\treschedule_timeouts();",
          "content_same": false
        },
        {
          "line": 2622,
          "old_api": null,
          "new_api": "PG_SETMASK",
          "old_text": null,
          "new_text": "PG_SETMASK(&UnBlockSig)",
          "old_line_content": "\t * check the current transaction state",
          "new_line_content": "\tPG_SETMASK(&UnBlockSig);",
          "content_same": false
        },
        {
          "line": 2629,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(WARNING, \"AbortTransaction while in %s state\",\n\t\t\t TransStateAsString(s->state))",
          "old_line_content": "",
          "new_line_content": "\t\telog(WARNING, \"AbortTransaction while in %s state\",",
          "content_same": false
        },
        {
          "line": 2630,
          "old_api": null,
          "new_api": "TransStateAsString",
          "old_text": null,
          "new_text": "TransStateAsString(s->state)",
          "old_line_content": "\t/*",
          "new_line_content": "\t\t\t TransStateAsString(s->state));",
          "content_same": false
        },
        {
          "line": 2631,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(s->parent == NULL)",
          "old_line_content": "\t * set the current transaction state information appropriately during the",
          "new_line_content": "\tAssert(s->parent == NULL);",
          "content_same": false
        },
        {
          "line": 2652,
          "old_api": null,
          "new_api": "IsInParallelMode",
          "old_text": null,
          "new_text": "IsInParallelMode()",
          "old_line_content": "\t\ts->parallelModeLevel = 0;",
          "new_line_content": "\tif (IsInParallelMode())",
          "content_same": false
        },
        {
          "line": 4700,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(FATAL, \"invalid transaction block state: %s\",\n\t\t BlockStateAsString(s->blockState))",
          "old_line_content": "}",
          "new_line_content": "\telog(FATAL, \"invalid transaction block state: %s\",",
          "content_same": false
        },
        {
          "line": 2654,
          "old_api": null,
          "new_api": "AtEOXact_Parallel",
          "old_text": null,
          "new_text": "AtEOXact_Parallel(false)",
          "old_line_content": "",
          "new_line_content": "\t\tAtEOXact_Parallel(false);",
          "content_same": false
        },
        {
          "line": 4701,
          "old_api": null,
          "new_api": "BlockStateAsString",
          "old_text": null,
          "new_text": "BlockStateAsString(s->blockState)",
          "old_line_content": "",
          "new_line_content": "\t\t BlockStateAsString(s->blockState));",
          "content_same": false
        },
        {
          "line": 2664,
          "old_api": null,
          "new_api": "AtAbort_Notify",
          "old_text": null,
          "new_text": "AtAbort_Notify()",
          "old_line_content": "",
          "new_line_content": "\tAtAbort_Notify();",
          "content_same": false
        },
        {
          "line": 2665,
          "old_api": null,
          "new_api": "AtEOXact_RelationMap",
          "old_text": null,
          "new_text": "AtEOXact_RelationMap(false, is_parallel_worker)",
          "old_line_content": "\t/*",
          "new_line_content": "\tAtEOXact_RelationMap(false, is_parallel_worker);",
          "content_same": false
        },
        {
          "line": 2666,
          "old_api": null,
          "new_api": "AtAbort_Twophase",
          "old_text": null,
          "new_text": "AtAbort_Twophase()",
          "old_line_content": "\t * Advertise the fact that we aborted in pg_xact (assuming that we got as",
          "new_line_content": "\tAtAbort_Twophase();",
          "content_same": false
        },
        {
          "line": 2675,
          "old_api": null,
          "new_api": "RecordTransactionAbort",
          "old_text": null,
          "new_text": "RecordTransactionAbort(false)",
          "old_line_content": "\t\tlatestXid = InvalidTransactionId;",
          "new_line_content": "\t\tlatestXid = RecordTransactionAbort(false);",
          "content_same": false
        },
        {
          "line": 2688,
          "old_api": null,
          "new_api": "TRACE_POSTGRESQL_TRANSACTION_ABORT",
          "old_text": null,
          "new_text": "TRACE_POSTGRESQL_TRANSACTION_ABORT(MyProc->lxid)",
          "old_line_content": "\t * Let others know about no transaction in progress by me. Note that this",
          "new_line_content": "\tTRACE_POSTGRESQL_TRANSACTION_ABORT(MyProc->lxid);",
          "content_same": false
        },
        {
          "line": 4737,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(WARNING, \"StartSubTransaction while in %s state\",\n\t\t\t TransStateAsString(s->state))",
          "old_line_content": "\ts->state = TRANS_START;",
          "new_line_content": "\t\telog(WARNING, \"StartSubTransaction while in %s state\",",
          "content_same": false
        },
        {
          "line": 4738,
          "old_api": null,
          "new_api": "TransStateAsString",
          "old_text": null,
          "new_text": "TransStateAsString(s->state)",
          "old_line_content": "",
          "new_line_content": "\t\t\t TransStateAsString(s->state));",
          "content_same": false
        },
        {
          "line": 2695,
          "old_api": null,
          "new_api": "ProcArrayEndTransaction",
          "old_text": null,
          "new_text": "ProcArrayEndTransaction(MyProc, latestXid)",
          "old_line_content": "\t * Post-abort cleanup.  See notes in CommitTransaction() concerning",
          "new_line_content": "\tProcArrayEndTransaction(MyProc, latestXid);",
          "content_same": false
        },
        {
          "line": 4747,
          "old_api": null,
          "new_api": "AtSubStart_Memory",
          "old_text": null,
          "new_text": "AtSubStart_Memory()",
          "old_line_content": "",
          "new_line_content": "\tAtSubStart_Memory();",
          "content_same": false
        },
        {
          "line": 4748,
          "old_api": null,
          "new_api": "AtSubStart_ResourceOwner",
          "old_text": null,
          "new_text": "AtSubStart_ResourceOwner()",
          "old_line_content": "\ts->state = TRANS_INPROGRESS;",
          "new_line_content": "\tAtSubStart_ResourceOwner();",
          "content_same": false
        },
        {
          "line": 4749,
          "old_api": null,
          "new_api": "AfterTriggerBeginSubXact",
          "old_text": null,
          "new_text": "AfterTriggerBeginSubXact()",
          "old_line_content": "",
          "new_line_content": "\tAfterTriggerBeginSubXact();",
          "content_same": false
        },
        {
          "line": 2705,
          "old_api": null,
          "new_api": "CallXactCallbacks",
          "old_text": null,
          "new_text": "CallXactCallbacks(XACT_EVENT_PARALLEL_ABORT)",
          "old_line_content": "",
          "new_line_content": "\t\t\tCallXactCallbacks(XACT_EVENT_PARALLEL_ABORT);",
          "content_same": false
        },
        {
          "line": 2707,
          "old_api": null,
          "new_api": "CallXactCallbacks",
          "old_text": null,
          "new_text": "CallXactCallbacks(XACT_EVENT_ABORT)",
          "old_line_content": "\t\t\t\t\t\t\t RESOURCE_RELEASE_BEFORE_LOCKS,",
          "new_line_content": "\t\t\tCallXactCallbacks(XACT_EVENT_ABORT);",
          "content_same": false
        },
        {
          "line": 4759,
          "old_api": null,
          "new_api": "ShowTransactionState",
          "old_text": null,
          "new_text": "ShowTransactionState(\"StartSubTransaction\")",
          "old_line_content": "/*",
          "new_line_content": "\tShowTransactionState(\"StartSubTransaction\");",
          "content_same": false
        },
        {
          "line": 2714,
          "old_api": null,
          "new_api": "AtEOXact_Inval",
          "old_text": null,
          "new_text": "AtEOXact_Inval(false)",
          "old_line_content": "\t\t\t\t\t\t\t RESOURCE_RELEASE_LOCKS,",
          "new_line_content": "\t\tAtEOXact_Inval(false);",
          "content_same": false
        },
        {
          "line": 2715,
          "old_api": null,
          "new_api": "AtEOXact_MultiXact",
          "old_text": null,
          "new_text": "AtEOXact_MultiXact()",
          "old_line_content": "\t\t\t\t\t\t\t false, true);",
          "new_line_content": "\t\tAtEOXact_MultiXact();",
          "content_same": false
        },
        {
          "line": 4776,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(WARNING, \"CommitSubTransaction while in %s state\",\n\t\t\t TransStateAsString(s->state))",
          "old_line_content": "\t/* Pre-commit processing goes here */",
          "new_line_content": "\t\telog(WARNING, \"CommitSubTransaction while in %s state\",",
          "content_same": false
        },
        {
          "line": 4777,
          "old_api": null,
          "new_api": "TransStateAsString",
          "old_text": null,
          "new_text": "TransStateAsString(s->state)",
          "old_line_content": "",
          "new_line_content": "\t\t\t TransStateAsString(s->state));",
          "content_same": false
        },
        {
          "line": 2733,
          "old_api": null,
          "new_api": "AtEOXact_PgStat",
          "old_text": null,
          "new_text": "AtEOXact_PgStat(false, is_parallel_worker)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tAtEOXact_PgStat(false, is_parallel_worker);",
          "content_same": false
        },
        {
          "line": 2734,
          "old_api": null,
          "new_api": "AtEOXact_ApplyLauncher",
          "old_text": null,
          "new_text": "AtEOXact_ApplyLauncher(false)",
          "old_line_content": "",
          "new_line_content": "\t\tAtEOXact_ApplyLauncher(false);",
          "content_same": false
        },
        {
          "line": 2735,
          "old_api": null,
          "new_api": "pgstat_report_xact_timestamp",
          "old_text": null,
          "new_text": "pgstat_report_xact_timestamp(0)",
          "old_line_content": "\t/*",
          "new_line_content": "\t\tpgstat_report_xact_timestamp(0);",
          "content_same": false
        },
        {
          "line": 4781,
          "old_api": null,
          "new_api": "CallSubXactCallbacks",
          "old_text": null,
          "new_text": "CallSubXactCallbacks(SUBXACT_EVENT_PRE_COMMIT_SUB, s->subTransactionId,\n\t\t\t\t\t\t s->parent->subTransactionId)",
          "old_line_content": "\t/* If in parallel mode, clean up workers and exit parallel mode. */",
          "new_line_content": "\tCallSubXactCallbacks(SUBXACT_EVENT_PRE_COMMIT_SUB, s->subTransactionId,",
          "content_same": false
        },
        {
          "line": 4785,
          "old_api": null,
          "new_api": "IsInParallelMode",
          "old_text": null,
          "new_text": "IsInParallelMode()",
          "old_line_content": "\t\ts->parallelModeLevel = 0;",
          "new_line_content": "\tif (IsInParallelMode())",
          "content_same": false
        },
        {
          "line": 4787,
          "old_api": null,
          "new_api": "AtEOSubXact_Parallel",
          "old_text": null,
          "new_text": "AtEOSubXact_Parallel(true, s->subTransactionId)",
          "old_line_content": "",
          "new_line_content": "\t\tAtEOSubXact_Parallel(true, s->subTransactionId);",
          "content_same": false
        },
        {
          "line": 2741,
          "old_api": null,
          "new_api": "RESUME_INTERRUPTS",
          "old_text": null,
          "new_text": "RESUME_INTERRUPTS()",
          "old_line_content": "/*",
          "new_line_content": "\tRESUME_INTERRUPTS();",
          "content_same": false
        },
        {
          "line": 4795,
          "old_api": null,
          "new_api": "CommandCounterIncrement",
          "old_text": null,
          "new_text": "CommandCounterIncrement()",
          "old_line_content": "\t * Prior to 8.4 we marked subcommit in clog at this point.  We now only",
          "new_line_content": "\tCommandCounterIncrement();",
          "content_same": false
        },
        {
          "line": 2756,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(FATAL, \"CleanupTransaction: unexpected state %s\",\n\t\t\t TransStateAsString(s->state))",
          "old_line_content": "\t/*",
          "new_line_content": "\t\telog(FATAL, \"CleanupTransaction: unexpected state %s\",",
          "content_same": false
        },
        {
          "line": 2757,
          "old_api": null,
          "new_api": "TransStateAsString",
          "old_text": null,
          "new_text": "TransStateAsString(s->state)",
          "old_line_content": "\t * do abort cleanup processing",
          "new_line_content": "\t\t\t TransStateAsString(s->state));",
          "content_same": false
        },
        {
          "line": 4805,
          "old_api": null,
          "new_api": "AtSubCommit_childXids",
          "old_text": null,
          "new_text": "AtSubCommit_childXids()",
          "old_line_content": "\t\t\t\t\t\ts->parent->subTransactionId,",
          "new_line_content": "\t\tAtSubCommit_childXids();",
          "content_same": false
        },
        {
          "line": 4806,
          "old_api": null,
          "new_api": "AfterTriggerEndSubXact",
          "old_text": null,
          "new_text": "AfterTriggerEndSubXact(true)",
          "old_line_content": "\t\t\t\t\t\ts->parent->curTransactionOwner);",
          "new_line_content": "\tAfterTriggerEndSubXact(true);",
          "content_same": false
        },
        {
          "line": 2762,
          "old_api": null,
          "new_api": "AtCleanup_Portals",
          "old_text": null,
          "new_text": "AtCleanup_Portals()",
          "old_line_content": "\tCurrentResourceOwner = NULL;\t/* and resource owner */",
          "new_line_content": "\tAtCleanup_Portals();\t\t/* now safe to release portal memory */",
          "content_same": false
        },
        {
          "line": 2763,
          "old_api": null,
          "new_api": "AtEOXact_Snapshot",
          "old_text": null,
          "new_text": "AtEOXact_Snapshot(false, true)",
          "old_line_content": "\tif (TopTransactionResourceOwner)",
          "new_line_content": "\tAtEOXact_Snapshot(false, true); /* and release the transaction's snapshots */",
          "content_same": false
        },
        {
          "line": 4810,
          "old_api": null,
          "new_api": "AtEOSubXact_LargeObject",
          "old_text": null,
          "new_text": "AtEOSubXact_LargeObject(true, s->subTransactionId,\n\t\t\t\t\t\t\ts->parent->subTransactionId)",
          "old_line_content": "",
          "new_line_content": "\tAtEOSubXact_LargeObject(true, s->subTransactionId,",
          "content_same": false
        },
        {
          "line": 4812,
          "old_api": null,
          "new_api": "AtSubCommit_Notify",
          "old_text": null,
          "new_text": "AtSubCommit_Notify()",
          "old_line_content": "\t\t\t\t\t\t s->parent->subTransactionId);",
          "new_line_content": "\tAtSubCommit_Notify();",
          "content_same": false
        },
        {
          "line": 2767,
          "old_api": null,
          "new_api": "ResourceOwnerDelete",
          "old_text": null,
          "new_text": "ResourceOwnerDelete(TopTransactionResourceOwner)",
          "old_line_content": "\tTopTransactionResourceOwner = NULL;",
          "new_line_content": "\t\tResourceOwnerDelete(TopTransactionResourceOwner);",
          "content_same": false
        },
        {
          "line": 2772,
          "old_api": null,
          "new_api": "AtCleanup_Memory",
          "old_text": null,
          "new_text": "AtCleanup_Memory()",
          "old_line_content": "\ts->subTransactionId = InvalidSubTransactionId;",
          "new_line_content": "\tAtCleanup_Memory();\t\t\t/* and transaction memory */",
          "content_same": false
        },
        {
          "line": 4822,
          "old_api": null,
          "new_api": "AtEOSubXact_Inval",
          "old_text": null,
          "new_text": "AtEOSubXact_Inval(true)",
          "old_line_content": "\t/*",
          "new_line_content": "\tAtEOSubXact_Inval(true);",
          "content_same": false
        },
        {
          "line": 4823,
          "old_api": null,
          "new_api": "AtSubCommit_smgr",
          "old_text": null,
          "new_text": "AtSubCommit_smgr()",
          "old_line_content": "\t * The only lock we actually release here is the subtransaction XID lock.",
          "new_line_content": "\tAtSubCommit_smgr();",
          "content_same": false
        },
        {
          "line": 4829,
          "old_api": null,
          "new_api": "FullTransactionIdIsValid",
          "old_text": null,
          "new_text": "FullTransactionIdIsValid(s->fullTransactionId)",
          "old_line_content": "\t/*",
          "new_line_content": "\tif (FullTransactionIdIsValid(s->fullTransactionId))",
          "content_same": false
        },
        {
          "line": 4830,
          "old_api": null,
          "new_api": "XidFromFullTransactionId",
          "old_text": null,
          "new_text": "XidFromFullTransactionId(s->fullTransactionId)",
          "old_line_content": "\t * Other locks should get transferred to their parent resource owner.",
          "new_line_content": "\t\tXactLockTableDelete(XidFromFullTransactionId(s->fullTransactionId));",
          "content_same": false
        },
        {
          "line": 4838,
          "old_api": null,
          "new_api": "ResourceOwnerRelease",
          "old_text": null,
          "new_text": "ResourceOwnerRelease(s->curTransactionOwner,\n\t\t\t\t\t\t RESOURCE_RELEASE_AFTER_LOCKS,\n\t\t\t\t\t\t true, false)",
          "old_line_content": "",
          "new_line_content": "\tResourceOwnerRelease(s->curTransactionOwner,",
          "content_same": false
        },
        {
          "line": 4842,
          "old_api": null,
          "new_api": "AtEOXact_GUC",
          "old_text": null,
          "new_text": "AtEOXact_GUC(true, s->gucNestLevel)",
          "old_line_content": "\t\t\t\t\t\t\t\t  s->parent->subTransactionId);",
          "new_line_content": "\tAtEOXact_GUC(true, s->gucNestLevel);",
          "content_same": false
        },
        {
          "line": 4844,
          "old_api": null,
          "new_api": "AtEOSubXact_on_commit_actions",
          "old_text": null,
          "new_text": "AtEOSubXact_on_commit_actions(true, s->subTransactionId,\n\t\t\t\t\t\t\t\t  s->parent->subTransactionId)",
          "old_line_content": "\t\t\t\t\t\t  s->parent->subTransactionId);",
          "new_line_content": "\tAtEOSubXact_on_commit_actions(true, s->subTransactionId,",
          "content_same": false
        },
        {
          "line": 4846,
          "old_api": null,
          "new_api": "AtEOSubXact_Namespace",
          "old_text": null,
          "new_text": "AtEOSubXact_Namespace(true, s->subTransactionId,\n\t\t\t\t\t\t  s->parent->subTransactionId)",
          "old_line_content": "\t\t\t\t\t  s->parent->subTransactionId);",
          "new_line_content": "\tAtEOSubXact_Namespace(true, s->subTransactionId,",
          "content_same": false
        },
        {
          "line": 4851,
          "old_api": null,
          "new_api": "AtEOSubXact_PgStat",
          "old_text": null,
          "new_text": "AtEOSubXact_PgStat(true, s->nestingLevel)",
          "old_line_content": "",
          "new_line_content": "\tAtEOSubXact_PgStat(true, s->nestingLevel);",
          "content_same": false
        },
        {
          "line": 4852,
          "old_api": null,
          "new_api": "AtSubCommit_Snapshot",
          "old_text": null,
          "new_text": "AtSubCommit_Snapshot(s->nestingLevel)",
          "old_line_content": "\t/*",
          "new_line_content": "\tAtSubCommit_Snapshot(s->nestingLevel);",
          "content_same": false
        },
        {
          "line": 4853,
          "old_api": null,
          "new_api": "AtEOSubXact_ApplyLauncher",
          "old_text": null,
          "new_text": "AtEOSubXact_ApplyLauncher(true, s->nestingLevel)",
          "old_line_content": "\t * We need to restore the upper transaction's read-only state, in case the",
          "new_line_content": "\tAtEOSubXact_ApplyLauncher(true, s->nestingLevel);",
          "content_same": false
        },
        {
          "line": 2808,
          "old_api": null,
          "new_api": "StartTransaction",
          "old_text": null,
          "new_text": "StartTransaction()",
          "old_line_content": "",
          "new_line_content": "\t\t\tStartTransaction();",
          "content_same": false
        },
        {
          "line": 4867,
          "old_api": null,
          "new_api": "AtSubCommit_Memory",
          "old_text": null,
          "new_text": "AtSubCommit_Memory()",
          "old_line_content": "",
          "new_line_content": "\tAtSubCommit_Memory();",
          "content_same": false
        },
        {
          "line": 4871,
          "old_api": null,
          "new_api": "PopTransaction",
          "old_text": null,
          "new_text": "PopTransaction()",
          "old_line_content": "/*",
          "new_line_content": "\tPopTransaction();",
          "content_same": false
        },
        {
          "line": 4886,
          "old_api": null,
          "new_api": "AtSubAbort_Memory",
          "old_text": null,
          "new_text": "AtSubAbort_Memory()",
          "old_line_content": "\t/*",
          "new_line_content": "\tAtSubAbort_Memory();",
          "content_same": false
        },
        {
          "line": 4887,
          "old_api": null,
          "new_api": "AtSubAbort_ResourceOwner",
          "old_text": null,
          "new_text": "AtSubAbort_ResourceOwner()",
          "old_line_content": "\t * Release any LW locks we might be holding as quickly as possible.",
          "new_line_content": "\tAtSubAbort_ResourceOwner();",
          "content_same": false
        },
        {
          "line": 2851,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"StartTransactionCommand: unexpected state %s\",\n\t\t\t\t BlockStateAsString(s->blockState))",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\telog(ERROR, \"StartTransactionCommand: unexpected state %s\",",
          "content_same": false
        },
        {
          "line": 2852,
          "old_api": null,
          "new_api": "BlockStateAsString",
          "old_text": null,
          "new_text": "BlockStateAsString(s->blockState)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t BlockStateAsString(s->blockState));",
          "content_same": false
        },
        {
          "line": 4901,
          "old_api": null,
          "new_api": "pgstat_progress_end_command",
          "old_text": null,
          "new_text": "pgstat_progress_end_command()",
          "old_line_content": "",
          "new_line_content": "\tpgstat_progress_end_command();",
          "content_same": false
        },
        {
          "line": 4902,
          "old_api": null,
          "new_api": "AbortBufferIO",
          "old_text": null,
          "new_text": "AbortBufferIO()",
          "old_line_content": "\t/* Reset WAL record construction state */",
          "new_line_content": "\tAbortBufferIO();",
          "content_same": false
        },
        {
          "line": 2860,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(CurTransactionContext != NULL)",
          "old_line_content": "",
          "new_line_content": "\tAssert(CurTransactionContext != NULL);",
          "content_same": false
        },
        {
          "line": 2861,
          "old_api": null,
          "new_api": "MemoryContextSwitchTo",
          "old_text": null,
          "new_text": "MemoryContextSwitchTo(CurTransactionContext)",
          "old_line_content": "",
          "new_line_content": "\tMemoryContextSwitchTo(CurTransactionContext);",
          "content_same": false
        },
        {
          "line": 4909,
          "old_api": null,
          "new_api": "ConditionVariableCancelSleep",
          "old_text": null,
          "new_text": "ConditionVariableCancelSleep()",
          "old_line_content": "\t * Also clean up any open wait for lock, since the lock manager will choke",
          "new_line_content": "\tConditionVariableCancelSleep();",
          "content_same": false
        },
        {
          "line": 4915,
          "old_api": null,
          "new_api": "LockErrorCleanup",
          "old_text": null,
          "new_text": "LockErrorCleanup()",
          "old_line_content": "\t * If any timeout events are still active, make sure the timeout interrupt",
          "new_line_content": "\tLockErrorCleanup();",
          "content_same": false
        },
        {
          "line": 4924,
          "old_api": null,
          "new_api": "reschedule_timeouts",
          "old_text": null,
          "new_text": "reschedule_timeouts()",
          "old_line_content": "\t * Re-enable signals, in case we got here by longjmp'ing out of a signal",
          "new_line_content": "\treschedule_timeouts();",
          "content_same": false
        },
        {
          "line": 4931,
          "old_api": null,
          "new_api": "PG_SETMASK",
          "old_text": null,
          "new_text": "PG_SETMASK(&UnBlockSig)",
          "old_line_content": "\t * check the current transaction state",
          "new_line_content": "\tPG_SETMASK(&UnBlockSig);",
          "content_same": false
        },
        {
          "line": 4939,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(WARNING, \"AbortSubTransaction while in %s state\",\n\t\t\t TransStateAsString(s->state))",
          "old_line_content": "\ts->state = TRANS_ABORT;",
          "new_line_content": "\t\telog(WARNING, \"AbortSubTransaction while in %s state\",",
          "content_same": false
        },
        {
          "line": 4940,
          "old_api": null,
          "new_api": "TransStateAsString",
          "old_text": null,
          "new_text": "TransStateAsString(s->state)",
          "old_line_content": "",
          "new_line_content": "\t\t\t TransStateAsString(s->state));",
          "content_same": false
        },
        {
          "line": 2903,
          "old_api": null,
          "new_api": "SaveTransactionCharacteristics",
          "old_text": null,
          "new_text": "SaveTransactionCharacteristics()",
          "old_line_content": "\t{",
          "new_line_content": "\t\tSaveTransactionCharacteristics();",
          "content_same": false
        },
        {
          "line": 4951,
          "old_api": null,
          "new_api": "IsInParallelMode",
          "old_text": null,
          "new_text": "IsInParallelMode()",
          "old_line_content": "\t\ts->parallelModeLevel = 0;",
          "new_line_content": "\tif (IsInParallelMode())",
          "content_same": false
        },
        {
          "line": 4953,
          "old_api": null,
          "new_api": "AtEOSubXact_Parallel",
          "old_text": null,
          "new_text": "AtEOSubXact_Parallel(false, s->subTransactionId)",
          "old_line_content": "",
          "new_line_content": "\t\tAtEOSubXact_Parallel(false, s->subTransactionId);",
          "content_same": false
        },
        {
          "line": 2915,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(FATAL, \"CommitTransactionCommand: unexpected state %s\",\n\t\t\t\t BlockStateAsString(s->blockState))",
          "old_line_content": "",
          "new_line_content": "\t\t\telog(FATAL, \"CommitTransactionCommand: unexpected state %s\",",
          "content_same": false
        },
        {
          "line": 2916,
          "old_api": null,
          "new_api": "BlockStateAsString",
          "old_text": null,
          "new_text": "BlockStateAsString(s->blockState)",
          "old_line_content": "\t\t\t/*",
          "new_line_content": "\t\t\t\t BlockStateAsString(s->blockState));",
          "content_same": false
        },
        {
          "line": 4963,
          "old_api": null,
          "new_api": "AfterTriggerEndSubXact",
          "old_text": null,
          "new_text": "AfterTriggerEndSubXact(false)",
          "old_line_content": "\t\t\t\t\t\t   s->curTransactionOwner,",
          "new_line_content": "\t\tAfterTriggerEndSubXact(false);",
          "content_same": false
        },
        {
          "line": 4964,
          "old_api": null,
          "new_api": "AtSubAbort_Portals",
          "old_text": null,
          "new_text": "AtSubAbort_Portals(s->subTransactionId,\n\t\t\t\t\t\t   s->parent->subTransactionId,\n\t\t\t\t\t\t   s->curTransactionOwner,\n\t\t\t\t\t\t   s->parent->curTransactionOwner)",
          "old_line_content": "\t\t\t\t\t\t   s->parent->curTransactionOwner);",
          "new_line_content": "\t\tAtSubAbort_Portals(s->subTransactionId,",
          "content_same": false
        },
        {
          "line": 4968,
          "old_api": null,
          "new_api": "AtEOSubXact_LargeObject",
          "old_text": null,
          "new_text": "AtEOSubXact_LargeObject(false, s->subTransactionId,\n\t\t\t\t\t\t\t\ts->parent->subTransactionId)",
          "old_line_content": "",
          "new_line_content": "\t\tAtEOSubXact_LargeObject(false, s->subTransactionId,",
          "content_same": false
        },
        {
          "line": 874,
          "old_api": null,
          "new_api": "GetTopTransactionIdIfAny",
          "old_text": null,
          "new_text": "GetTopTransactionIdIfAny()",
          "old_line_content": "\t/*",
          "new_line_content": "\tif (TransactionIdEquals(xid, GetTopTransactionIdIfAny()))",
          "content_same": false
        },
        {
          "line": 2924,
          "old_api": null,
          "new_api": "CommitTransaction",
          "old_text": null,
          "new_text": "CommitTransaction()",
          "old_line_content": "",
          "new_line_content": "\t\t\tCommitTransaction();",
          "content_same": false
        },
        {
          "line": 4977,
          "old_api": null,
          "new_api": "AtSubAbort_childXids",
          "old_text": null,
          "new_text": "AtSubAbort_childXids()",
          "old_line_content": "\t\t\t\t\t\t\t s->parent->subTransactionId);",
          "new_line_content": "\t\t\tAtSubAbort_childXids();",
          "content_same": false
        },
        {
          "line": 4987,
          "old_api": null,
          "new_api": "AtEOSubXact_Inval",
          "old_text": null,
          "new_text": "AtEOSubXact_Inval(false)",
          "old_line_content": "\t\t\t\t\t\t\t false, false);",
          "new_line_content": "\t\tAtEOSubXact_Inval(false);",
          "content_same": false
        },
        {
          "line": 2946,
          "old_api": null,
          "new_api": "CommandCounterIncrement",
          "old_text": null,
          "new_text": "CommandCounterIncrement()",
          "old_line_content": "\t\t\t/*",
          "new_line_content": "\t\t\tCommandCounterIncrement();",
          "content_same": false
        },
        {
          "line": 4996,
          "old_api": null,
          "new_api": "AtEOXact_GUC",
          "old_text": null,
          "new_text": "AtEOXact_GUC(false, s->gucNestLevel)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t  s->parent->subTransactionId);",
          "new_line_content": "\t\tAtEOXact_GUC(false, s->gucNestLevel);",
          "content_same": false
        },
        {
          "line": 4998,
          "old_api": null,
          "new_api": "AtEOSubXact_on_commit_actions",
          "old_text": null,
          "new_text": "AtEOSubXact_on_commit_actions(false, s->subTransactionId,\n\t\t\t\t\t\t\t\t\t  s->parent->subTransactionId)",
          "old_line_content": "\t\t\t\t\t\t\t  s->parent->subTransactionId);",
          "new_line_content": "\t\tAtEOSubXact_on_commit_actions(false, s->subTransactionId,",
          "content_same": false
        },
        {
          "line": 5000,
          "old_api": null,
          "new_api": "AtEOSubXact_Namespace",
          "old_text": null,
          "new_text": "AtEOSubXact_Namespace(false, s->subTransactionId,\n\t\t\t\t\t\t\t  s->parent->subTransactionId)",
          "old_line_content": "\t\t\t\t\t\t  s->parent->subTransactionId);",
          "new_line_content": "\t\tAtEOSubXact_Namespace(false, s->subTransactionId,",
          "content_same": false
        },
        {
          "line": 2954,
          "old_api": null,
          "new_api": "CommitTransaction",
          "old_text": null,
          "new_text": "CommitTransaction()",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\t\tCommitTransaction();",
          "content_same": false
        },
        {
          "line": 5005,
          "old_api": null,
          "new_api": "AtEOSubXact_PgStat",
          "old_text": null,
          "new_text": "AtEOSubXact_PgStat(false, s->nestingLevel)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tAtEOSubXact_PgStat(false, s->nestingLevel);",
          "content_same": false
        },
        {
          "line": 5006,
          "old_api": null,
          "new_api": "AtSubAbort_Snapshot",
          "old_text": null,
          "new_text": "AtSubAbort_Snapshot(s->nestingLevel)",
          "old_line_content": "",
          "new_line_content": "\t\tAtSubAbort_Snapshot(s->nestingLevel);",
          "content_same": false
        },
        {
          "line": 5007,
          "old_api": null,
          "new_api": "AtEOSubXact_ApplyLauncher",
          "old_text": null,
          "new_text": "AtEOSubXact_ApplyLauncher(false, s->nestingLevel)",
          "old_line_content": "\t/*",
          "new_line_content": "\t\tAtEOSubXact_ApplyLauncher(false, s->nestingLevel);",
          "content_same": false
        },
        {
          "line": 2961,
          "old_api": null,
          "new_api": "RestoreTransactionCharacteristics",
          "old_text": null,
          "new_text": "RestoreTransactionCharacteristics()",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tRestoreTransactionCharacteristics();",
          "content_same": false
        },
        {
          "line": 921,
          "old_api": null,
          "new_api": "FullTransactionIdIsValid",
          "old_text": null,
          "new_text": "FullTransactionIdIsValid(s->fullTransactionId)",
          "old_line_content": "\t\t\treturn true;",
          "new_line_content": "\t\tif (!FullTransactionIdIsValid(s->fullTransactionId))",
          "content_same": false
        },
        {
          "line": 5017,
          "old_api": null,
          "new_api": "RESUME_INTERRUPTS",
          "old_text": null,
          "new_text": "RESUME_INTERRUPTS()",
          "old_line_content": "/*",
          "new_line_content": "\tRESUME_INTERRUPTS();",
          "content_same": false
        },
        {
          "line": 923,
          "old_api": null,
          "new_api": "XidFromFullTransactionId",
          "old_text": null,
          "new_text": "XidFromFullTransactionId(s->fullTransactionId)",
          "old_line_content": "\t\tlow = 0;",
          "new_line_content": "\t\tif (TransactionIdEquals(xid, XidFromFullTransactionId(s->fullTransactionId)))",
          "content_same": false
        },
        {
          "line": 2980,
          "old_api": null,
          "new_api": "CleanupTransaction",
          "old_text": null,
          "new_text": "CleanupTransaction()",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\t\tCleanupTransaction();",
          "content_same": false
        },
        {
          "line": 935,
          "old_api": null,
          "new_api": "TransactionIdEquals",
          "old_text": null,
          "new_text": "TransactionIdEquals(probe, xid)",
          "old_line_content": "\t\t\t\tlow = middle + 1;",
          "new_line_content": "\t\t\tif (TransactionIdEquals(probe, xid))",
          "content_same": false
        },
        {
          "line": 937,
          "old_api": null,
          "new_api": "TransactionIdPrecedes",
          "old_text": null,
          "new_text": "TransactionIdPrecedes(probe, xid)",
          "old_line_content": "\t\t\t\thigh = middle - 1;",
          "new_line_content": "\t\t\telse if (TransactionIdPrecedes(probe, xid))",
          "content_same": false
        },
        {
          "line": 2987,
          "old_api": null,
          "new_api": "RestoreTransactionCharacteristics",
          "old_text": null,
          "new_text": "RestoreTransactionCharacteristics()",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tRestoreTransactionCharacteristics();",
          "content_same": false
        },
        {
          "line": 5035,
          "old_api": null,
          "new_api": "TransStateAsString",
          "old_text": null,
          "new_text": "TransStateAsString(s->state)",
          "old_line_content": "",
          "new_line_content": "\t\t\t TransStateAsString(s->state));",
          "content_same": false
        },
        {
          "line": 5037,
          "old_api": null,
          "new_api": "AtSubCleanup_Portals",
          "old_text": null,
          "new_text": "AtSubCleanup_Portals(s->subTransactionId)",
          "old_line_content": "\tCurTransactionResourceOwner = s->parent->curTransactionOwner;",
          "new_line_content": "\tAtSubCleanup_Portals(s->subTransactionId);",
          "content_same": false
        },
        {
          "line": 2997,
          "old_api": null,
          "new_api": "AbortTransaction",
          "old_text": null,
          "new_text": "AbortTransaction()",
          "old_line_content": "\t\t\tif (s->chain)",
          "new_line_content": "\t\t\tAbortTransaction();",
          "content_same": false
        },
        {
          "line": 2998,
          "old_api": null,
          "new_api": "CleanupTransaction",
          "old_text": null,
          "new_text": "CleanupTransaction()",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\t\tCleanupTransaction();",
          "content_same": false
        },
        {
          "line": 5045,
          "old_api": null,
          "new_api": "AtSubCleanup_Memory",
          "old_text": null,
          "new_text": "AtSubCleanup_Memory()",
          "old_line_content": "",
          "new_line_content": "\tAtSubCleanup_Memory();",
          "content_same": false
        },
        {
          "line": 5049,
          "old_api": null,
          "new_api": "PopTransaction",
          "old_text": null,
          "new_text": "PopTransaction()",
          "old_line_content": "/*",
          "new_line_content": "\tPopTransaction();",
          "content_same": false
        },
        {
          "line": 3005,
          "old_api": null,
          "new_api": "RestoreTransactionCharacteristics",
          "old_text": null,
          "new_text": "RestoreTransactionCharacteristics()",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tRestoreTransactionCharacteristics();",
          "content_same": false
        },
        {
          "line": 3014,
          "old_api": null,
          "new_api": "PrepareTransaction",
          "old_text": null,
          "new_text": "PrepareTransaction()",
          "old_line_content": "",
          "new_line_content": "\t\t\tPrepareTransaction();",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(s->parallelModeLevel >= 0)",
          "old_line_content": "}",
          "new_line_content": "\tAssert(s->parallelModeLevel >= 0);",
          "content_same": false
        },
        {
          "line": 5069,
          "old_api": null,
          "new_api": "MemoryContextAllocZero",
          "old_text": null,
          "new_text": "MemoryContextAllocZero(TopTransactionContext,\n\t\t\t\t\t\t\t   sizeof(TransactionStateData))",
          "old_line_content": "\t/*",
          "new_line_content": "\t\tMemoryContextAllocZero(TopTransactionContext,",
          "content_same": false
        },
        {
          "line": 3025,
          "old_api": null,
          "new_api": "StartSubTransaction",
          "old_text": null,
          "new_text": "StartSubTransaction()",
          "old_line_content": "",
          "new_line_content": "\t\t\tStartSubTransaction();",
          "content_same": false
        },
        {
          "line": 981,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(s->parallelModeLevel > 0)",
          "old_line_content": "\t--s->parallelModeLevel;",
          "new_line_content": "\tAssert(s->parallelModeLevel > 0);",
          "content_same": false
        },
        {
          "line": 982,
          "old_api": null,
          "new_api": "ParallelContextActive",
          "old_text": null,
          "new_text": "ParallelContextActive()",
          "old_line_content": "}",
          "new_line_content": "\tAssert(s->parallelModeLevel > 1 || !ParallelContextActive());",
          "content_same": false
        },
        {
          "line": 5080,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_PROGRAM_LIMIT_EXCEEDED),\n\t\t\t\t errmsg(\"cannot have more than 2^32-1 subtransactions in a transaction\")))",
          "old_line_content": "\t}",
          "new_line_content": "\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 5081,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_PROGRAM_LIMIT_EXCEEDED)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t(errcode(ERRCODE_PROGRAM_LIMIT_EXCEEDED),",
          "content_same": false
        },
        {
          "line": 5082,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"cannot have more than 2^32-1 subtransactions in a transaction\")",
          "old_line_content": "\t/*",
          "new_line_content": "\t\t\t\t errmsg(\"cannot have more than 2^32-1 subtransactions in a transaction\")));",
          "content_same": false
        },
        {
          "line": 3038,
          "old_api": null,
          "new_api": "CommitSubTransaction",
          "old_text": null,
          "new_text": "CommitSubTransaction()",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tCommitSubTransaction();",
          "content_same": false
        },
        {
          "line": 3042,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(s->blockState == TBLOCK_INPROGRESS ||\n\t\t\t\t   s->blockState == TBLOCK_SUBINPROGRESS)",
          "old_line_content": "",
          "new_line_content": "\t\t\tAssert(s->blockState == TBLOCK_INPROGRESS ||",
          "content_same": false
        },
        {
          "line": 5093,
          "old_api": null,
          "new_api": "NewGUCNestLevel",
          "old_text": null,
          "new_text": "NewGUCNestLevel()",
          "old_line_content": "\ts->blockState = TBLOCK_SUBBEGIN;",
          "new_line_content": "\ts->gucNestLevel = NewGUCNestLevel();",
          "content_same": false
        },
        {
          "line": 5097,
          "old_api": null,
          "new_api": "GetUserIdAndSecContext",
          "old_text": null,
          "new_text": "GetUserIdAndSecContext(&s->prevUser, &s->prevSecContext)",
          "old_line_content": "",
          "new_line_content": "\tGetUserIdAndSecContext(&s->prevUser, &s->prevSecContext);",
          "content_same": false
        },
        {
          "line": 3058,
          "old_api": null,
          "new_api": "CommitSubTransaction",
          "old_text": null,
          "new_text": "CommitSubTransaction()",
          "old_line_content": "\t\t\t/* If we had a COMMIT command, finish off the main xact too */",
          "new_line_content": "\t\t\t\tCommitSubTransaction();",
          "content_same": false
        },
        {
          "line": 3064,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(s->parent == NULL)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tAssert(s->parent == NULL);",
          "content_same": false
        },
        {
          "line": 3065,
          "old_api": null,
          "new_api": "CommitTransaction",
          "old_text": null,
          "new_text": "CommitTransaction()",
          "old_line_content": "\t\t\telse if (s->blockState == TBLOCK_PREPARE)",
          "new_line_content": "\t\t\t\tCommitTransaction();",
          "content_same": false
        },
        {
          "line": 1021,
          "old_api": null,
          "new_api": "IsParallelWorker",
          "old_text": null,
          "new_text": "IsParallelWorker()",
          "old_line_content": "\t\tcurrentCommandId += 1;",
          "new_line_content": "\t\tif (IsInParallelMode() || IsParallelWorker())",
          "content_same": false
        },
        {
          "line": 3070,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(s->parent == NULL)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tAssert(s->parent == NULL);",
          "content_same": false
        },
        {
          "line": 3071,
          "old_api": null,
          "new_api": "PrepareTransaction",
          "old_text": null,
          "new_text": "PrepareTransaction()",
          "old_line_content": "\t\t\telse",
          "new_line_content": "\t\t\t\tPrepareTransaction();",
          "content_same": false
        },
        {
          "line": 1022,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"cannot start commands during a parallel operation\")",
          "old_line_content": "\t\tif (currentCommandId == InvalidCommandId)",
          "new_line_content": "\t\t\telog(ERROR, \"cannot start commands during a parallel operation\");",
          "content_same": false
        },
        {
          "line": 3075,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"CommitTransactionCommand: unexpected state %s\",\n\t\t\t\t\t BlockStateAsString(s->blockState))",
          "old_line_content": "",
          "new_line_content": "\t\t\t\telog(ERROR, \"CommitTransactionCommand: unexpected state %s\",",
          "content_same": false
        },
        {
          "line": 1028,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(ERROR,\n\t\t\t\t\t(errcode(ERRCODE_PROGRAM_LIMIT_EXCEEDED),\n\t\t\t\t\t errmsg(\"cannot have more than 2^32-2 commands in a transaction\")))",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 1029,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_PROGRAM_LIMIT_EXCEEDED)",
          "old_line_content": "\t\tcurrentCommandIdUsed = false;",
          "new_line_content": "\t\t\t\t\t(errcode(ERRCODE_PROGRAM_LIMIT_EXCEEDED),",
          "content_same": false
        },
        {
          "line": 1030,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"cannot have more than 2^32-2 commands in a transaction\")",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t errmsg(\"cannot have more than 2^32-2 commands in a transaction\")));",
          "content_same": false
        },
        {
          "line": 3076,
          "old_api": null,
          "new_api": "BlockStateAsString",
          "old_text": null,
          "new_text": "BlockStateAsString(s->blockState)",
          "old_line_content": "\t\t\t/*",
          "new_line_content": "\t\t\t\t\t BlockStateAsString(s->blockState));",
          "content_same": false
        },
        {
          "line": 5124,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(WARNING, \"PopTransaction while in %s state\",\n\t\t\t TransStateAsString(s->state))",
          "old_line_content": "\tif (s->parent == NULL)",
          "new_line_content": "\t\telog(WARNING, \"PopTransaction while in %s state\",",
          "content_same": false
        },
        {
          "line": 5128,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(FATAL, \"PopTransaction with no parent\")",
          "old_line_content": "",
          "new_line_content": "\t\telog(FATAL, \"PopTransaction with no parent\");",
          "content_same": false
        },
        {
          "line": 1035,
          "old_api": null,
          "new_api": "SnapshotSetCommandId",
          "old_text": null,
          "new_text": "SnapshotSetCommandId(currentCommandId)",
          "old_line_content": "\t\t * Make any catalog changes done by the just-completed command visible",
          "new_line_content": "\t\tSnapshotSetCommandId(currentCommandId);",
          "content_same": false
        },
        {
          "line": 3085,
          "old_api": null,
          "new_api": "CleanupSubTransaction",
          "old_text": null,
          "new_text": "CleanupSubTransaction()",
          "old_line_content": "",
          "new_line_content": "\t\t\tCleanupSubTransaction();",
          "content_same": false
        },
        {
          "line": 3086,
          "old_api": null,
          "new_api": "CommitTransactionCommand",
          "old_text": null,
          "new_text": "CommitTransactionCommand()",
          "old_line_content": "\t\t\t/*",
          "new_line_content": "\t\t\tCommitTransactionCommand();",
          "content_same": false
        },
        {
          "line": 5134,
          "old_api": null,
          "new_api": "MemoryContextSwitchTo",
          "old_text": null,
          "new_text": "MemoryContextSwitchTo(CurTransactionContext)",
          "old_line_content": "\tCurTransactionResourceOwner = s->parent->curTransactionOwner;",
          "new_line_content": "\tMemoryContextSwitchTo(CurTransactionContext);",
          "content_same": false
        },
        {
          "line": 1043,
          "old_api": null,
          "new_api": "AtCCI_LocalCache",
          "old_text": null,
          "new_text": "AtCCI_LocalCache()",
          "old_line_content": "",
          "new_line_content": "\t\tAtCCI_LocalCache();",
          "content_same": false
        },
        {
          "line": 3093,
          "old_api": null,
          "new_api": "AbortSubTransaction",
          "old_text": null,
          "new_text": "AbortSubTransaction()",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tAbortSubTransaction();",
          "content_same": false
        },
        {
          "line": 3094,
          "old_api": null,
          "new_api": "CleanupSubTransaction",
          "old_text": null,
          "new_text": "CleanupSubTransaction()",
          "old_line_content": "",
          "new_line_content": "\t\t\tCleanupSubTransaction();",
          "content_same": false
        },
        {
          "line": 3095,
          "old_api": null,
          "new_api": "CommitTransactionCommand",
          "old_text": null,
          "new_text": "CommitTransactionCommand()",
          "old_line_content": "\t\t\t/*",
          "new_line_content": "\t\t\tCommitTransactionCommand();",
          "content_same": false
        },
        {
          "line": 5142,
          "old_api": null,
          "new_api": "pfree",
          "old_text": null,
          "new_text": "pfree(s->name)",
          "old_line_content": "",
          "new_line_content": "\t\tpfree(s->name);",
          "content_same": false
        },
        {
          "line": 5143,
          "old_api": null,
          "new_api": "pfree",
          "old_text": null,
          "new_text": "pfree(s)",
          "old_line_content": "/*",
          "new_line_content": "\tpfree(s);",
          "content_same": false
        },
        {
          "line": 5161,
          "old_api": null,
          "new_api": "FullTransactionIdIsValid",
          "old_text": null,
          "new_text": "FullTransactionIdIsValid(s->fullTransactionId)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tif (FullTransactionIdIsValid(s->fullTransactionId))",
          "content_same": false
        },
        {
          "line": 3114,
          "old_api": null,
          "new_api": "CleanupSubTransaction",
          "old_text": null,
          "new_text": "CleanupSubTransaction()",
          "old_line_content": "\t\t\t\ts = CurrentTransactionState;\t/* changed by push */",
          "new_line_content": "\t\t\t\tCleanupSubTransaction();",
          "content_same": false
        },
        {
          "line": 5162,
          "old_api": null,
          "new_api": "add_size",
          "old_text": null,
          "new_text": "add_size(nxids, 1)",
          "old_line_content": "",
          "new_line_content": "\t\t\tnxids = add_size(nxids, 1);",
          "content_same": false
        },
        {
          "line": 3116,
          "old_api": null,
          "new_api": "DefineSavepoint",
          "old_text": null,
          "new_text": "DefineSavepoint(NULL)",
          "old_line_content": "\t\t\t\ts->savepointLevel = savepointLevel;",
          "new_line_content": "\t\t\t\tDefineSavepoint(NULL);",
          "content_same": false
        },
        {
          "line": 5166,
          "old_api": null,
          "new_api": "mul_size",
          "old_text": null,
          "new_text": "mul_size(sizeof(TransactionId), nxids)",
          "old_line_content": "/*",
          "new_line_content": "\treturn add_size(size, mul_size(sizeof(TransactionId), nxids));",
          "content_same": false
        },
        {
          "line": 1071,
          "old_api": null,
          "new_api": "AcceptInvalidationMessages",
          "old_text": null,
          "new_text": "AcceptInvalidationMessages()",
          "old_line_content": "/*",
          "new_line_content": "\tAcceptInvalidationMessages();",
          "content_same": false
        },
        {
          "line": 3122,
          "old_api": null,
          "new_api": "AssertState",
          "old_text": null,
          "new_text": "AssertState(s->blockState == TBLOCK_SUBBEGIN)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tAssertState(s->blockState == TBLOCK_SUBBEGIN);",
          "content_same": false
        },
        {
          "line": 3123,
          "old_api": null,
          "new_api": "StartSubTransaction",
          "old_text": null,
          "new_text": "StartSubTransaction()",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\t\tStartSubTransaction();",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": null,
          "new_api": "AllocSetContextCreate",
          "old_text": null,
          "new_text": "AllocSetContextCreate(TopMemoryContext,\n\t\t\t\t\t\t\t\t  \"TransactionAbortContext\",\n\t\t\t\t\t\t\t\t  32 * 1024,\n\t\t\t\t\t\t\t\t  32 * 1024,\n\t\t\t\t\t\t\t\t  32 * 1024)",
          "old_line_content": "\t\t\t\t\t\t\t\t  32 * 1024,",
          "new_line_content": "\t\t\tAllocSetContextCreate(TopMemoryContext,",
          "content_same": false
        },
        {
          "line": 3142,
          "old_api": null,
          "new_api": "CleanupSubTransaction",
          "old_text": null,
          "new_text": "CleanupSubTransaction()",
          "old_line_content": "\t\t\t\ts = CurrentTransactionState;\t/* changed by push */",
          "new_line_content": "\t\t\t\tCleanupSubTransaction();",
          "content_same": false
        },
        {
          "line": 3144,
          "old_api": null,
          "new_api": "DefineSavepoint",
          "old_text": null,
          "new_text": "DefineSavepoint(NULL)",
          "old_line_content": "\t\t\t\ts->savepointLevel = savepointLevel;",
          "new_line_content": "\t\t\t\tDefineSavepoint(NULL);",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(TopTransactionContext == NULL)",
          "old_line_content": "\t * Create a toplevel context for the transaction.",
          "new_line_content": "\tAssert(TopTransactionContext == NULL);",
          "content_same": false
        },
        {
          "line": 3150,
          "old_api": null,
          "new_api": "AssertState",
          "old_text": null,
          "new_text": "AssertState(s->blockState == TBLOCK_SUBBEGIN)",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\tAssertState(s->blockState == TBLOCK_SUBBEGIN);",
          "content_same": false
        },
        {
          "line": 3151,
          "old_api": null,
          "new_api": "StartSubTransaction",
          "old_text": null,
          "new_text": "StartSubTransaction()",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\t\tStartSubTransaction();",
          "content_same": false
        },
        {
          "line": 1106,
          "old_api": null,
          "new_api": "AllocSetContextCreate",
          "old_text": null,
          "new_text": "AllocSetContextCreate(TopMemoryContext,\n\t\t\t\t\t\t\t  \"TopTransactionContext\",\n\t\t\t\t\t\t\t  ALLOCSET_DEFAULT_SIZES)",
          "old_line_content": "",
          "new_line_content": "\t\tAllocSetContextCreate(TopMemoryContext,",
          "content_same": false
        },
        {
          "line": 5206,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(&result->parallelCurrentXids[0], ParallelCurrentXids,\n\t\t\t   nParallelCurrentXids * sizeof(TransactionId))",
          "old_line_content": "\t}",
          "new_line_content": "\t\tmemcpy(&result->parallelCurrentXids[0], ParallelCurrentXids,",
          "content_same": false
        },
        {
          "line": 1118,
          "old_api": null,
          "new_api": "MemoryContextSwitchTo",
          "old_text": null,
          "new_text": "MemoryContextSwitchTo(CurTransactionContext)",
          "old_line_content": "/*",
          "new_line_content": "\tMemoryContextSwitchTo(CurTransactionContext);",
          "content_same": false
        },
        {
          "line": 5217,
          "old_api": null,
          "new_api": "FullTransactionIdIsValid",
          "old_text": null,
          "new_text": "FullTransactionIdIsValid(s->fullTransactionId)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tif (FullTransactionIdIsValid(s->fullTransactionId))",
          "content_same": false
        },
        {
          "line": 5219,
          "old_api": null,
          "new_api": "add_size",
          "old_text": null,
          "new_text": "add_size(nxids, s->nChildXids)",
          "old_line_content": "\t\t   <= maxsize);",
          "new_line_content": "\t\tnxids = add_size(nxids, s->nChildXids);",
          "content_same": false
        },
        {
          "line": 5221,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(SerializedTransactionStateHeaderSize + nxids * sizeof(TransactionId)\n\t\t   <= maxsize)",
          "old_line_content": "\t/* Copy them to our scratch space. */",
          "new_line_content": "\tAssert(SerializedTransactionStateHeaderSize + nxids * sizeof(TransactionId)",
          "content_same": false
        },
        {
          "line": 1132,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(TopTransactionResourceOwner == NULL)",
          "old_line_content": "\t * Create a toplevel resource owner for the transaction.",
          "new_line_content": "\tAssert(TopTransactionResourceOwner == NULL);",
          "content_same": false
        },
        {
          "line": 5228,
          "old_api": null,
          "new_api": "FullTransactionIdIsValid",
          "old_text": null,
          "new_text": "FullTransactionIdIsValid(s->fullTransactionId)",
          "old_line_content": "\t\t\t   s->nChildXids * sizeof(TransactionId));",
          "new_line_content": "\t\tif (FullTransactionIdIsValid(s->fullTransactionId))",
          "content_same": false
        },
        {
          "line": 5229,
          "old_api": null,
          "new_api": "XidFromFullTransactionId",
          "old_text": null,
          "new_text": "XidFromFullTransactionId(s->fullTransactionId)",
          "old_line_content": "\t\ti += s->nChildXids;",
          "new_line_content": "\t\t\tworkspace[i++] = XidFromFullTransactionId(s->fullTransactionId);",
          "content_same": false
        },
        {
          "line": 5230,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(&workspace[i], s->childXids,\n\t\t\t   s->nChildXids * sizeof(TransactionId))",
          "old_line_content": "\t}",
          "new_line_content": "\t\tmemcpy(&workspace[i], s->childXids,",
          "content_same": false
        },
        {
          "line": 3184,
          "old_api": null,
          "new_api": "AbortTransaction",
          "old_text": null,
          "new_text": "AbortTransaction()",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\t\tAbortTransaction();",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": null,
          "new_api": "ResourceOwnerCreate",
          "old_text": null,
          "new_text": "ResourceOwnerCreate(NULL, \"TopTransaction\")",
          "old_line_content": "\tCurTransactionResourceOwner = s->curTransactionOwner;",
          "new_line_content": "\ts->curTransactionOwner = ResourceOwnerCreate(NULL, \"TopTransaction\");",
          "content_same": false
        },
        {
          "line": 3185,
          "old_api": null,
          "new_api": "CleanupTransaction",
          "old_text": null,
          "new_text": "CleanupTransaction()",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tCleanupTransaction();",
          "content_same": false
        },
        {
          "line": 5237,
          "old_api": null,
          "new_api": "qsort",
          "old_text": null,
          "new_text": "qsort(workspace, nxids, sizeof(TransactionId), xidComparator)",
          "old_line_content": "\tresult->nParallelCurrentXids = nxids;",
          "new_line_content": "\tqsort(workspace, nxids, sizeof(TransactionId), xidComparator);",
          "content_same": false
        },
        {
          "line": 5241,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(&result->parallelCurrentXids[0], workspace,\n\t\t   nxids * sizeof(TransactionId))",
          "old_line_content": "",
          "new_line_content": "\tmemcpy(&result->parallelCurrentXids[0], workspace,",
          "content_same": false
        },
        {
          "line": 3196,
          "old_api": null,
          "new_api": "AbortTransaction",
          "old_text": null,
          "new_text": "AbortTransaction()",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tAbortTransaction();",
          "content_same": false
        },
        {
          "line": 3197,
          "old_api": null,
          "new_api": "CleanupTransaction",
          "old_text": null,
          "new_text": "CleanupTransaction()",
          "old_line_content": "",
          "new_line_content": "\t\t\tCleanupTransaction();",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(CurTransactionContext != NULL)",
          "old_line_content": "\t * Create a CurTransactionContext, which will be used to hold data that",
          "new_line_content": "\tAssert(CurTransactionContext != NULL);",
          "content_same": false
        },
        {
          "line": 5255,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(CurrentTransactionState->blockState == TBLOCK_DEFAULT)",
          "old_line_content": "\ttstate = (SerializedTransactionState *) tstatespace;",
          "new_line_content": "\tAssert(CurrentTransactionState->blockState == TBLOCK_DEFAULT);",
          "content_same": false
        },
        {
          "line": 5256,
          "old_api": null,
          "new_api": "StartTransaction",
          "old_text": null,
          "new_text": "StartTransaction()",
          "old_line_content": "\tXactIsoLevel = tstate->xactIsoLevel;",
          "new_line_content": "\tStartTransaction();",
          "content_same": false
        },
        {
          "line": 3209,
          "old_api": null,
          "new_api": "AbortTransaction",
          "old_text": null,
          "new_text": "AbortTransaction()",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tAbortTransaction();",
          "content_same": false
        },
        {
          "line": 3210,
          "old_api": null,
          "new_api": "CleanupTransaction",
          "old_text": null,
          "new_text": "CleanupTransaction()",
          "old_line_content": "",
          "new_line_content": "\t\t\tCleanupTransaction();",
          "content_same": false
        },
        {
          "line": 1164,
          "old_api": null,
          "new_api": "AllocSetContextCreate",
          "old_text": null,
          "new_text": "AllocSetContextCreate(CurTransactionContext,\n\t\t\t\t\t\t\t\t\t\t\t\t  \"CurTransactionContext\",\n\t\t\t\t\t\t\t\t\t\t\t\t  ALLOCSET_DEFAULT_SIZES)",
          "old_line_content": "\ts->curTransactionContext = CurTransactionContext;",
          "new_line_content": "\tCurTransactionContext = AllocSetContextCreate(CurTransactionContext,",
          "content_same": false
        },
        {
          "line": 1170,
          "old_api": null,
          "new_api": "MemoryContextSwitchTo",
          "old_text": null,
          "new_text": "MemoryContextSwitchTo(CurTransactionContext)",
          "old_line_content": "/*",
          "new_line_content": "\tMemoryContextSwitchTo(CurTransactionContext);",
          "content_same": false
        },
        {
          "line": 3221,
          "old_api": null,
          "new_api": "AbortTransaction",
          "old_text": null,
          "new_text": "AbortTransaction()",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tAbortTransaction();",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(s->parent != NULL)",
          "old_line_content": "\t * Create a resource owner for the subtransaction.  We make it a child of",
          "new_line_content": "\tAssert(s->parent != NULL);",
          "content_same": false
        },
        {
          "line": 5278,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(CurrentTransactionState->blockState == TBLOCK_PARALLEL_INPROGRESS)",
          "old_line_content": "}",
          "new_line_content": "\tAssert(CurrentTransactionState->blockState == TBLOCK_PARALLEL_INPROGRESS);",
          "content_same": false
        },
        {
          "line": 5279,
          "old_api": null,
          "new_api": "CommitTransaction",
          "old_text": null,
          "new_text": "CommitTransaction()",
          "old_line_content": "",
          "new_line_content": "\tCommitTransaction();",
          "content_same": false
        },
        {
          "line": 3232,
          "old_api": null,
          "new_api": "AbortTransaction",
          "old_text": null,
          "new_text": "AbortTransaction()",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tAbortTransaction();",
          "content_same": false
        },
        {
          "line": 3233,
          "old_api": null,
          "new_api": "CleanupTransaction",
          "old_text": null,
          "new_text": "CleanupTransaction()",
          "old_line_content": "",
          "new_line_content": "\t\t\tCleanupTransaction();",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": null,
          "new_api": "ResourceOwnerCreate",
          "old_text": null,
          "new_text": "ResourceOwnerCreate(s->parent->curTransactionOwner,\n\t\t\t\t\t\t\t\"SubTransaction\")",
          "old_line_content": "\tCurTransactionResourceOwner = s->curTransactionOwner;",
          "new_line_content": "\t\tResourceOwnerCreate(s->parent->curTransactionOwner,",
          "content_same": false
        },
        {
          "line": 5292,
          "old_api": null,
          "new_api": "ShowTransactionStateRec",
          "old_text": null,
          "new_text": "ShowTransactionStateRec(str, CurrentTransactionState)",
          "old_line_content": "/*",
          "new_line_content": "\t\tShowTransactionStateRec(str, CurrentTransactionState);",
          "content_same": false
        },
        {
          "line": 3252,
          "old_api": null,
          "new_api": "CleanupTransaction",
          "old_text": null,
          "new_text": "CleanupTransaction()",
          "old_line_content": "",
          "new_line_content": "\t\t\tCleanupTransaction();",
          "content_same": false
        },
        {
          "line": 5304,
          "old_api": null,
          "new_api": "initStringInfo",
          "old_text": null,
          "new_text": "initStringInfo(&buf)",
          "old_line_content": "\t{",
          "new_line_content": "\tinitStringInfo(&buf);",
          "content_same": false
        },
        {
          "line": 1211,
          "old_api": null,
          "new_api": "GetTopTransactionIdIfAny",
          "old_text": null,
          "new_text": "GetTopTransactionIdIfAny()",
          "old_line_content": "\tint\t\t\tnrels;",
          "new_line_content": "\tTransactionId xid = GetTopTransactionIdIfAny();",
          "content_same": false
        },
        {
          "line": 1212,
          "old_api": null,
          "new_api": "TransactionIdIsValid",
          "old_text": null,
          "new_text": "TransactionIdIsValid(xid)",
          "old_line_content": "\tRelFileNode *rels;",
          "new_line_content": "\tbool\t\tmarkXidCommitted = TransactionIdIsValid(xid);",
          "content_same": false
        },
        {
          "line": 3261,
          "old_api": null,
          "new_api": "AbortTransaction",
          "old_text": null,
          "new_text": "AbortTransaction()",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tAbortTransaction();",
          "content_same": false
        },
        {
          "line": 3262,
          "old_api": null,
          "new_api": "CleanupTransaction",
          "old_text": null,
          "new_text": "CleanupTransaction()",
          "old_line_content": "",
          "new_line_content": "\t\t\tCleanupTransaction();",
          "content_same": false
        },
        {
          "line": 5310,
          "old_api": null,
          "new_api": "appendStringInfo",
          "old_text": null,
          "new_text": "appendStringInfo(&buf, \", children: %u\", s->childXids[0])",
          "old_line_content": "\t}",
          "new_line_content": "\t\tappendStringInfo(&buf, \", children: %u\", s->childXids[0]);",
          "content_same": false
        },
        {
          "line": 5312,
          "old_api": null,
          "new_api": "appendStringInfo",
          "old_text": null,
          "new_text": "appendStringInfo(&buf, \" %u\", s->childXids[i])",
          "old_line_content": "\tif (s->parent)",
          "new_line_content": "\t\t\tappendStringInfo(&buf, \" %u\", s->childXids[i]);",
          "content_same": false
        },
        {
          "line": 3272,
          "old_api": null,
          "new_api": "AbortTransaction",
          "old_text": null,
          "new_text": "AbortTransaction()",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tAbortTransaction();",
          "content_same": false
        },
        {
          "line": 1225,
          "old_api": null,
          "new_api": "xactGetCommittedChildren",
          "old_text": null,
          "new_text": "xactGetCommittedChildren(&children)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t\t &RelcacheInitFileInval);",
          "new_line_content": "\tnchildren = xactGetCommittedChildren(&children);",
          "content_same": false
        },
        {
          "line": 1226,
          "old_api": null,
          "new_api": "XLogStandbyInfoActive",
          "old_text": null,
          "new_text": "XLogStandbyInfoActive()",
          "old_line_content": "\twrote_xlog = (XactLastRecEnd != 0);",
          "new_line_content": "\tif (XLogStandbyInfoActive())",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": null,
          "new_api": "xactGetCommittedInvalidationMessages",
          "old_text": null,
          "new_text": "xactGetCommittedInvalidationMessages(&invalMessages,\n\t\t\t\t\t\t\t\t\t\t\t\t\t &RelcacheInitFileInval)",
          "old_line_content": "",
          "new_line_content": "\t\tnmsgs = xactGetCommittedInvalidationMessages(&invalMessages,",
          "content_same": false
        },
        {
          "line": 3273,
          "old_api": null,
          "new_api": "CleanupTransaction",
          "old_text": null,
          "new_text": "CleanupTransaction()",
          "old_line_content": "",
          "new_line_content": "\t\t\tCleanupTransaction();",
          "content_same": false
        },
        {
          "line": 5323,
          "old_api": null,
          "new_api": "BlockStateAsString",
          "old_text": null,
          "new_text": "BlockStateAsString(s->blockState)",
          "old_line_content": "\t\t\t\t\t\t\t (unsigned int) s->subTransactionId,",
          "new_line_content": "\t\t\t\t\t\t\t BlockStateAsString(s->blockState),",
          "content_same": false
        },
        {
          "line": 5324,
          "old_api": null,
          "new_api": "TransStateAsString",
          "old_text": null,
          "new_text": "TransStateAsString(s->state)",
          "old_line_content": "\t\t\t\t\t\t\t (unsigned int) currentCommandId,",
          "new_line_content": "\t\t\t\t\t\t\t TransStateAsString(s->state),",
          "content_same": false
        },
        {
          "line": 5325,
          "old_api": null,
          "new_api": "XidFromFullTransactionId",
          "old_text": null,
          "new_text": "XidFromFullTransactionId(s->fullTransactionId)",
          "old_line_content": "\t\t\t\t\t\t\t currentCommandIdUsed ? \" (used)\" : \"\",",
          "new_line_content": "\t\t\t\t\t\t\t (unsigned int) XidFromFullTransactionId(s->fullTransactionId),",
          "content_same": false
        },
        {
          "line": 3283,
          "old_api": null,
          "new_api": "AbortSubTransaction",
          "old_text": null,
          "new_text": "AbortSubTransaction()",
          "old_line_content": "",
          "new_line_content": "\t\t\tAbortSubTransaction();",
          "content_same": false
        },
        {
          "line": 5331,
          "old_api": null,
          "new_api": "pfree",
          "old_text": null,
          "new_text": "pfree(buf.data)",
          "old_line_content": "/*",
          "new_line_content": "\tpfree(buf.data);",
          "content_same": false
        },
        {
          "line": 1247,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(nchildren == 0)",
          "old_line_content": "\t\t * Transactions without an assigned xid can contain invalidation",
          "new_line_content": "\t\tAssert(nchildren == 0);",
          "content_same": false
        },
        {
          "line": 3297,
          "old_api": null,
          "new_api": "AbortSubTransaction",
          "old_text": null,
          "new_text": "AbortSubTransaction()",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tAbortSubTransaction();",
          "content_same": false
        },
        {
          "line": 3298,
          "old_api": null,
          "new_api": "CleanupSubTransaction",
          "old_text": null,
          "new_text": "CleanupSubTransaction()",
          "old_line_content": "",
          "new_line_content": "\t\t\tCleanupSubTransaction();",
          "content_same": false
        },
        {
          "line": 3299,
          "old_api": null,
          "new_api": "AbortCurrentTransaction",
          "old_text": null,
          "new_text": "AbortCurrentTransaction()",
          "old_line_content": "\t\t\t/*",
          "new_line_content": "\t\t\tAbortCurrentTransaction();",
          "content_same": false
        },
        {
          "line": 3307,
          "old_api": null,
          "new_api": "CleanupSubTransaction",
          "old_text": null,
          "new_text": "CleanupSubTransaction()",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tCleanupSubTransaction();",
          "content_same": false
        },
        {
          "line": 3308,
          "old_api": null,
          "new_api": "AbortCurrentTransaction",
          "old_text": null,
          "new_text": "AbortCurrentTransaction()",
          "old_line_content": "}",
          "new_line_content": "\t\t\tAbortCurrentTransaction();",
          "content_same": false
        },
        {
          "line": 1262,
          "old_api": null,
          "new_api": "LogStandbyInvalidations",
          "old_text": null,
          "new_text": "LogStandbyInvalidations(nmsgs, invalMessages,\n\t\t\t\t\t\t\t\t\tRelcacheInitFileInval)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tLogStandbyInvalidations(nmsgs, invalMessages,",
          "content_same": false
        },
        {
          "line": 3336,
          "old_api": null,
          "new_api": "IsTransactionBlock",
          "old_text": null,
          "new_text": "IsTransactionBlock()",
          "old_line_content": "\t\t/* translator: %s represents an SQL statement name */",
          "new_line_content": "\tif (IsTransactionBlock())",
          "content_same": false
        },
        {
          "line": 3338,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_ACTIVE_SQL_TRANSACTION)",
          "old_line_content": "\t\t\t\t\t\tstmtType)));",
          "new_line_content": "\t\t\t\t(errcode(ERRCODE_ACTIVE_SQL_TRANSACTION),",
          "content_same": false
        },
        {
          "line": 1291,
          "old_api": null,
          "new_api": "BufmgrCommit",
          "old_text": null,
          "new_text": "BufmgrCommit()",
          "old_line_content": "\t\t * Mark ourselves as within our \"commit critical section\".  This",
          "new_line_content": "\t\tBufmgrCommit();",
          "content_same": false
        },
        {
          "line": 3340,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"%s cannot run inside a transaction block\",\n\t\t\t\t\t\tstmtType)",
          "old_line_content": "\t/*",
          "new_line_content": "\t\t\t\t errmsg(\"%s cannot run inside a transaction block\",",
          "content_same": false
        },
        {
          "line": 3346,
          "old_api": null,
          "new_api": "IsSubTransaction",
          "old_text": null,
          "new_text": "IsSubTransaction()",
          "old_line_content": "\t\t/* translator: %s represents an SQL statement name */",
          "new_line_content": "\tif (IsSubTransaction())",
          "content_same": false
        },
        {
          "line": 3348,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_ACTIVE_SQL_TRANSACTION)",
          "old_line_content": "\t\t\t\t\t\tstmtType)));",
          "new_line_content": "\t\t\t\t(errcode(ERRCODE_ACTIVE_SQL_TRANSACTION),",
          "content_same": false
        },
        {
          "line": 3350,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"%s cannot run inside a subtransaction\",\n\t\t\t\t\t\tstmtType)",
          "old_line_content": "\t/*",
          "new_line_content": "\t\t\t\t errmsg(\"%s cannot run inside a subtransaction\",",
          "content_same": false
        },
        {
          "line": 3358,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_ACTIVE_SQL_TRANSACTION)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t(errcode(ERRCODE_ACTIVE_SQL_TRANSACTION),",
          "content_same": false
        },
        {
          "line": 3360,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"%s cannot be executed from a function\", stmtType)",
          "old_line_content": "\tif (CurrentTransactionState->blockState != TBLOCK_DEFAULT &&",
          "new_line_content": "\t\t\t\t errmsg(\"%s cannot be executed from a function\", stmtType)));",
          "content_same": false
        },
        {
          "line": 1313,
          "old_api": null,
          "new_api": "SetCurrentTransactionStopTimestamp",
          "old_text": null,
          "new_text": "SetCurrentTransactionStopTimestamp()",
          "old_line_content": "\t\t\t\t\t\t\tnchildren, children, nrels, rels,",
          "new_line_content": "\t\tSetCurrentTransactionStopTimestamp();",
          "content_same": false
        },
        {
          "line": 1315,
          "old_api": null,
          "new_api": "XactLogCommitRecord",
          "old_text": null,
          "new_text": "XactLogCommitRecord(xactStopTimestamp,\n\t\t\t\t\t\t\tnchildren, children, nrels, rels,\n\t\t\t\t\t\t\tnmsgs, invalMessages,\n\t\t\t\t\t\t\tRelcacheInitFileInval, forceSyncCommit,\n\t\t\t\t\t\t\tMyXactFlags,\n\t\t\t\t\t\t\tInvalidTransactionId, NULL /* plain commit */ )",
          "old_line_content": "\t\t\t\t\t\t\tRelcacheInitFileInval, forceSyncCommit,",
          "new_line_content": "\t\tXactLogCommitRecord(xactStopTimestamp,",
          "content_same": false
        },
        {
          "line": 3365,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(FATAL, \"cannot prevent transaction chain\")",
          "old_line_content": "",
          "new_line_content": "\t\telog(FATAL, \"cannot prevent transaction chain\");",
          "content_same": false
        },
        {
          "line": 1324,
          "old_api": null,
          "new_api": "replorigin_session_advance",
          "old_text": null,
          "new_text": "replorigin_session_advance(replorigin_session_origin_lsn,\n\t\t\t\t\t\t\t\t\t   XactLastRecEnd)",
          "old_line_content": "\t\t/*",
          "new_line_content": "\t\t\treplorigin_session_advance(replorigin_session_origin_lsn,",
          "content_same": false
        },
        {
          "line": 1340,
          "old_api": null,
          "new_api": "TransactionTreeSetCommitTsData",
          "old_text": null,
          "new_text": "TransactionTreeSetCommitTsData(xid, nchildren, children,\n\t\t\t\t\t\t\t\t\t   replorigin_session_origin_timestamp,\n\t\t\t\t\t\t\t\t\t   replorigin_session_origin, false)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tTransactionTreeSetCommitTsData(xid, nchildren, children,",
          "content_same": false
        },
        {
          "line": 3393,
          "old_api": null,
          "new_api": "CheckTransactionBlock",
          "old_text": null,
          "new_text": "CheckTransactionBlock(isTopLevel, false, stmtType)",
          "old_line_content": "void",
          "new_line_content": "\tCheckTransactionBlock(isTopLevel, false, stmtType);",
          "content_same": false
        },
        {
          "line": 3399,
          "old_api": null,
          "new_api": "CheckTransactionBlock",
          "old_text": null,
          "new_text": "CheckTransactionBlock(isTopLevel, true, stmtType)",
          "old_line_content": "/*",
          "new_line_content": "\tCheckTransactionBlock(isTopLevel, true, stmtType);",
          "content_same": false
        },
        {
          "line": 3411,
          "old_api": null,
          "new_api": "IsTransactionBlock",
          "old_text": null,
          "new_text": "IsTransactionBlock()",
          "old_line_content": "\t/*",
          "new_line_content": "\tif (IsTransactionBlock())",
          "content_same": false
        },
        {
          "line": 5464,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(CritSectionCount > 0)",
          "old_line_content": "",
          "new_line_content": "\tAssert(CritSectionCount > 0);",
          "content_same": false
        },
        {
          "line": 3417,
          "old_api": null,
          "new_api": "IsSubTransaction",
          "old_text": null,
          "new_text": "IsSubTransaction()",
          "old_line_content": "\t/*",
          "new_line_content": "\tif (IsSubTransaction())",
          "content_same": false
        },
        {
          "line": 5469,
          "old_api": null,
          "new_api": "TransactionIdIsValid",
          "old_text": null,
          "new_text": "TransactionIdIsValid(twophase_xid)",
          "old_line_content": "\t\tinfo = XLOG_XACT_COMMIT_PREPARED;",
          "new_line_content": "\tif (!TransactionIdIsValid(twophase_xid))",
          "content_same": false
        },
        {
          "line": 1374,
          "old_api": null,
          "new_api": "XLogFlush",
          "old_text": null,
          "new_text": "XLogFlush(XactLastRecEnd)",
          "old_line_content": "\t\t * Now we may update the CLOG, if we wrote a COMMIT record above",
          "new_line_content": "\t\tXLogFlush(XactLastRecEnd);",
          "content_same": false
        },
        {
          "line": 3427,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION)",
          "old_line_content": "\t\t\t\t\tstmtType)));",
          "new_line_content": "\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),",
          "content_same": false
        },
        {
          "line": 1380,
          "old_api": null,
          "new_api": "TransactionIdCommitTree",
          "old_text": null,
          "new_text": "TransactionIdCommitTree(xid, nchildren, children)",
          "old_line_content": "\t{",
          "new_line_content": "\t\t\tTransactionIdCommitTree(xid, nchildren, children);",
          "content_same": false
        },
        {
          "line": 3429,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\tstmtType)",
          "old_line_content": "}",
          "new_line_content": "\t\t\t errmsg(\"%s can only be used in transaction blocks\",",
          "content_same": false
        },
        {
          "line": 1395,
          "old_api": null,
          "new_api": "XLogSetAsyncXactLSN",
          "old_text": null,
          "new_text": "XLogSetAsyncXactLSN(XactLastRecEnd)",
          "old_line_content": "\t\t * We must not immediately update the CLOG, since we didn't flush the",
          "new_line_content": "\t\tXLogSetAsyncXactLSN(XactLastRecEnd);",
          "content_same": false
        },
        {
          "line": 5496,
          "old_api": null,
          "new_api": "XLogLogicalInfoActive",
          "old_text": null,
          "new_text": "XLogLogicalInfoActive()",
          "old_line_content": "\t\txl_dbinfo.dbId = MyDatabaseId;",
          "new_line_content": "\tif (nmsgs > 0 || XLogLogicalInfoActive())",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": null,
          "new_api": "TransactionIdAsyncCommitTree",
          "old_text": null,
          "new_text": "TransactionIdAsyncCommitTree(xid, nchildren, children, XactLastRecEnd)",
          "old_line_content": "\t/*",
          "new_line_content": "\t\t\tTransactionIdAsyncCommitTree(xid, nchildren, children, XactLastRecEnd);",
          "content_same": false
        },
        {
          "line": 3454,
          "old_api": null,
          "new_api": "IsSubTransaction",
          "old_text": null,
          "new_text": "IsSubTransaction()",
          "old_line_content": "\tif (!isTopLevel)",
          "new_line_content": "\tif (IsSubTransaction())",
          "content_same": false
        },
        {
          "line": 1413,
          "old_api": null,
          "new_api": "END_CRIT_SECTION",
          "old_text": null,
          "new_text": "END_CRIT_SECTION()",
          "old_line_content": "\t/* Compute latestXid while we have the child XIDs handy */",
          "new_line_content": "\t\tEND_CRIT_SECTION();",
          "content_same": false
        },
        {
          "line": 1417,
          "old_api": null,
          "new_api": "TransactionIdLatest",
          "old_text": null,
          "new_text": "TransactionIdLatest(xid, nchildren, children)",
          "old_line_content": "\t * Wait for synchronous replication, if required. Similar to the decision",
          "new_line_content": "\tlatestXid = TransactionIdLatest(xid, nchildren, children);",
          "content_same": false
        },
        {
          "line": 5521,
          "old_api": null,
          "new_api": "TransactionIdIsValid",
          "old_text": null,
          "new_text": "TransactionIdIsValid(twophase_xid)",
          "old_line_content": "\t\txl_twophase.xid = twophase_xid;",
          "new_line_content": "\tif (TransactionIdIsValid(twophase_xid))",
          "content_same": false
        },
        {
          "line": 1429,
          "old_api": null,
          "new_api": "SyncRepWaitForLSN",
          "old_text": null,
          "new_text": "SyncRepWaitForLSN(XactLastRecEnd, true)",
          "old_line_content": "\tXactLastCommitEnd = XactLastRecEnd;",
          "new_line_content": "\t\tSyncRepWaitForLSN(XactLastRecEnd, true);",
          "content_same": false
        },
        {
          "line": 5525,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(twophase_gid != NULL)",
          "old_line_content": "\t\t\txl_xinfo.xinfo |= XACT_XINFO_HAS_GID;",
          "new_line_content": "\t\tAssert(twophase_gid != NULL);",
          "content_same": false
        },
        {
          "line": 5527,
          "old_api": null,
          "new_api": "XLogLogicalInfoActive",
          "old_text": null,
          "new_text": "XLogLogicalInfoActive()",
          "old_line_content": "",
          "new_line_content": "\t\tif (XLogLogicalInfoActive())",
          "content_same": false
        },
        {
          "line": 3485,
          "old_api": null,
          "new_api": "MemoryContextAlloc",
          "old_text": null,
          "new_text": "MemoryContextAlloc(TopMemoryContext, sizeof(XactCallbackItem))",
          "old_line_content": "\titem->next = Xact_callbacks;",
          "new_line_content": "\t\tMemoryContextAlloc(TopMemoryContext, sizeof(XactCallbackItem));",
          "content_same": false
        },
        {
          "line": 1439,
          "old_api": null,
          "new_api": "pfree",
          "old_text": null,
          "new_text": "pfree(rels)",
          "old_line_content": "}",
          "new_line_content": "\t\tpfree(rels);",
          "content_same": false
        },
        {
          "line": 5545,
          "old_api": null,
          "new_api": "XLogBeginInsert",
          "old_text": null,
          "new_text": "XLogBeginInsert()",
          "old_line_content": "",
          "new_line_content": "\tXLogBeginInsert();",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": null,
          "new_api": "AtCCI_RelationMap",
          "old_text": null,
          "new_text": "AtCCI_RelationMap()",
          "old_line_content": "\t * Make catalog changes visible to me for the next command.",
          "new_line_content": "\tAtCCI_RelationMap();",
          "content_same": false
        },
        {
          "line": 5553,
          "old_api": null,
          "new_api": "XLogRegisterData",
          "old_text": null,
          "new_text": "XLogRegisterData((char *) (&xl_dbinfo), sizeof(xl_dbinfo))",
          "old_line_content": "\t{",
          "new_line_content": "\t\tXLogRegisterData((char *) (&xl_dbinfo), sizeof(xl_dbinfo));",
          "content_same": false
        },
        {
          "line": 3507,
          "old_api": null,
          "new_api": "pfree",
          "old_text": null,
          "new_text": "pfree(item)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tpfree(item);",
          "content_same": false
        },
        {
          "line": 1461,
          "old_api": null,
          "new_api": "CommandEndInvalidationMessages",
          "old_text": null,
          "new_text": "CommandEndInvalidationMessages()",
          "old_line_content": "/*",
          "new_line_content": "\tCommandEndInvalidationMessages();",
          "content_same": false
        },
        {
          "line": 5557,
          "old_api": null,
          "new_api": "XLogRegisterData",
          "old_text": null,
          "new_text": "XLogRegisterData((char *) (&xl_subxacts),\n\t\t\t\t\t\t MinSizeOfXactSubxacts)",
          "old_line_content": "\t\t\t\t\t\t nsubxacts * sizeof(TransactionId));",
          "new_line_content": "\t\tXLogRegisterData((char *) (&xl_subxacts),",
          "content_same": false
        },
        {
          "line": 5559,
          "old_api": null,
          "new_api": "XLogRegisterData",
          "old_text": null,
          "new_text": "XLogRegisterData((char *) subxacts,\n\t\t\t\t\t\t nsubxacts * sizeof(TransactionId))",
          "old_line_content": "",
          "new_line_content": "\t\tXLogRegisterData((char *) subxacts,",
          "content_same": false
        },
        {
          "line": 5565,
          "old_api": null,
          "new_api": "XLogRegisterData",
          "old_text": null,
          "new_text": "XLogRegisterData((char *) (&xl_relfilenodes),\n\t\t\t\t\t\t MinSizeOfXactRelfilenodes)",
          "old_line_content": "\t\t\t\t\t\t nrels * sizeof(RelFileNode));",
          "new_line_content": "\t\tXLogRegisterData((char *) (&xl_relfilenodes),",
          "content_same": false
        },
        {
          "line": 3519,
          "old_api": null,
          "new_api": "callback",
          "old_text": null,
          "new_text": "item->callback(event, item->arg)",
          "old_line_content": "",
          "new_line_content": "\t\titem->callback(event, item->arg);",
          "content_same": false
        },
        {
          "line": 5567,
          "old_api": null,
          "new_api": "XLogRegisterData",
          "old_text": null,
          "new_text": "XLogRegisterData((char *) rels,\n\t\t\t\t\t\t nrels * sizeof(RelFileNode))",
          "old_line_content": "",
          "new_line_content": "\t\tXLogRegisterData((char *) rels,",
          "content_same": false
        },
        {
          "line": 1474,
          "old_api": null,
          "new_api": "MemoryContextSwitchTo",
          "old_text": null,
          "new_text": "MemoryContextSwitchTo(TopMemoryContext)",
          "old_line_content": "\t * Release all transaction-local memory.",
          "new_line_content": "\tMemoryContextSwitchTo(TopMemoryContext);",
          "content_same": false
        },
        {
          "line": 5573,
          "old_api": null,
          "new_api": "XLogRegisterData",
          "old_text": null,
          "new_text": "XLogRegisterData((char *) (&xl_invals), MinSizeOfXactInvals)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tXLogRegisterData((char *) (&xl_invals), MinSizeOfXactInvals);",
          "content_same": false
        },
        {
          "line": 5574,
          "old_api": null,
          "new_api": "XLogRegisterData",
          "old_text": null,
          "new_text": "XLogRegisterData((char *) msgs,\n\t\t\t\t\t\t nmsgs * sizeof(SharedInvalidationMessage))",
          "old_line_content": "",
          "new_line_content": "\t\tXLogRegisterData((char *) msgs,",
          "content_same": false
        },
        {
          "line": 1479,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(TopTransactionContext != NULL)",
          "old_line_content": "\tCurTransactionContext = NULL;",
          "new_line_content": "\tAssert(TopTransactionContext != NULL);",
          "content_same": false
        },
        {
          "line": 1480,
          "old_api": null,
          "new_api": "MemoryContextDelete",
          "old_text": null,
          "new_text": "MemoryContextDelete(TopTransactionContext)",
          "old_line_content": "\tCurrentTransactionState->curTransactionContext = NULL;",
          "new_line_content": "\tMemoryContextDelete(TopTransactionContext);",
          "content_same": false
        },
        {
          "line": 5580,
          "old_api": null,
          "new_api": "XLogRegisterData",
          "old_text": null,
          "new_text": "XLogRegisterData((char *) (&xl_twophase), sizeof(xl_xact_twophase))",
          "old_line_content": "\t}",
          "new_line_content": "\t\tXLogRegisterData((char *) (&xl_twophase), sizeof(xl_xact_twophase));",
          "content_same": false
        },
        {
          "line": 5582,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(twophase_gid)",
          "old_line_content": "\tif (xl_xinfo.xinfo & XACT_XINFO_HAS_ORIGIN)",
          "new_line_content": "\t\t\tXLogRegisterData(unconstify(char *, twophase_gid), strlen(twophase_gid) + 1);",
          "content_same": false
        },
        {
          "line": 3540,
          "old_api": null,
          "new_api": "MemoryContextAlloc",
          "old_text": null,
          "new_text": "MemoryContextAlloc(TopMemoryContext, sizeof(SubXactCallbackItem))",
          "old_line_content": "\titem->next = SubXact_callbacks;",
          "new_line_content": "\t\tMemoryContextAlloc(TopMemoryContext, sizeof(SubXactCallbackItem));",
          "content_same": false
        },
        {
          "line": 5589,
          "old_api": null,
          "new_api": "XLogSetRecordFlags",
          "old_text": null,
          "new_text": "XLogSetRecordFlags(XLOG_INCLUDE_ORIGIN)",
          "old_line_content": "}",
          "new_line_content": "\tXLogSetRecordFlags(XLOG_INCLUDE_ORIGIN);",
          "content_same": false
        },
        {
          "line": 5591,
          "old_api": null,
          "new_api": "XLogInsert",
          "old_text": null,
          "new_text": "XLogInsert(RM_XACT_ID, info)",
          "old_line_content": "/*",
          "new_line_content": "\treturn XLogInsert(RM_XACT_ID, info);",
          "content_same": false
        },
        {
          "line": 1499,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(s->parent != NULL)",
          "old_line_content": "\tCurTransactionContext = s->parent->curTransactionContext;",
          "new_line_content": "\tAssert(s->parent != NULL);",
          "content_same": false
        },
        {
          "line": 1503,
          "old_api": null,
          "new_api": "MemoryContextSwitchTo",
          "old_text": null,
          "new_text": "MemoryContextSwitchTo(CurTransactionContext)",
          "old_line_content": "\t * Ordinarily we cannot throw away the child's CurTransactionContext,",
          "new_line_content": "\tMemoryContextSwitchTo(CurTransactionContext);",
          "content_same": false
        },
        {
          "line": 1511,
          "old_api": null,
          "new_api": "MemoryContextIsEmpty",
          "old_text": null,
          "new_text": "MemoryContextIsEmpty(s->curTransactionContext)",
          "old_line_content": "\t\ts->curTransactionContext = NULL;",
          "new_line_content": "\tif (MemoryContextIsEmpty(s->curTransactionContext))",
          "content_same": false
        },
        {
          "line": 1513,
          "old_api": null,
          "new_api": "MemoryContextDelete",
          "old_text": null,
          "new_text": "MemoryContextDelete(s->curTransactionContext)",
          "old_line_content": "}",
          "new_line_content": "\t\tMemoryContextDelete(s->curTransactionContext);",
          "content_same": false
        },
        {
          "line": 3562,
          "old_api": null,
          "new_api": "pfree",
          "old_text": null,
          "new_text": "pfree(item)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tpfree(item);",
          "content_same": false
        },
        {
          "line": 5617,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(CritSectionCount > 0)",
          "old_line_content": "",
          "new_line_content": "\tAssert(CritSectionCount > 0);",
          "content_same": false
        },
        {
          "line": 5622,
          "old_api": null,
          "new_api": "TransactionIdIsValid",
          "old_text": null,
          "new_text": "TransactionIdIsValid(twophase_xid)",
          "old_line_content": "\t\tinfo = XLOG_XACT_ABORT_PREPARED;",
          "new_line_content": "\tif (!TransactionIdIsValid(twophase_xid))",
          "content_same": false
        },
        {
          "line": 3576,
          "old_api": null,
          "new_api": "callback",
          "old_text": null,
          "new_text": "item->callback(event, mySubid, parentSubid, item->arg)",
          "old_line_content": "",
          "new_line_content": "\t\titem->callback(event, mySubid, parentSubid, item->arg);",
          "content_same": false
        },
        {
          "line": 1529,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(s->parent != NULL)",
          "old_line_content": "\t * The parent childXids array will need to hold my XID and all my",
          "new_line_content": "\tAssert(s->parent != NULL);",
          "content_same": false
        },
        {
          "line": 1549,
          "old_api": null,
          "new_api": "Min",
          "old_text": null,
          "new_text": "Min(new_nChildXids * 2,\n\t\t\t\t\t\t\t   (int) (MaxAllocSize / sizeof(TransactionId)))",
          "old_line_content": "\t\tif (new_maxChildXids < new_nChildXids)",
          "new_line_content": "\t\tnew_maxChildXids = Min(new_nChildXids * 2,",
          "content_same": false
        },
        {
          "line": 5647,
          "old_api": null,
          "new_api": "TransactionIdIsValid",
          "old_text": null,
          "new_text": "TransactionIdIsValid(twophase_xid)",
          "old_line_content": "\t\txl_twophase.xid = twophase_xid;",
          "new_line_content": "\tif (TransactionIdIsValid(twophase_xid))",
          "content_same": false
        },
        {
          "line": 1553,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(ERROR,\n\t\t\t\t\t(errcode(ERRCODE_PROGRAM_LIMIT_EXCEEDED),\n\t\t\t\t\t errmsg(\"maximum number of committed subtransactions (%d) exceeded\",\n\t\t\t\t\t\t\t(int) (MaxAllocSize / sizeof(TransactionId)))))",
          "old_line_content": "\t\t\t\t\t\t\t(int) (MaxAllocSize / sizeof(TransactionId)))));",
          "new_line_content": "\t\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 1554,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_PROGRAM_LIMIT_EXCEEDED)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t(errcode(ERRCODE_PROGRAM_LIMIT_EXCEEDED),",
          "content_same": false
        },
        {
          "line": 1555,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"maximum number of committed subtransactions (%d) exceeded\",\n\t\t\t\t\t\t\t(int) (MaxAllocSize / sizeof(TransactionId)))",
          "old_line_content": "\t\t/*",
          "new_line_content": "\t\t\t\t\t errmsg(\"maximum number of committed subtransactions (%d) exceeded\",",
          "content_same": false
        },
        {
          "line": 5651,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(twophase_gid != NULL)",
          "old_line_content": "\t\t\txl_xinfo.xinfo |= XACT_XINFO_HAS_GID;",
          "new_line_content": "\t\tAssert(twophase_gid != NULL);",
          "content_same": false
        },
        {
          "line": 5653,
          "old_api": null,
          "new_api": "XLogLogicalInfoActive",
          "old_text": null,
          "new_text": "XLogLogicalInfoActive()",
          "old_line_content": "",
          "new_line_content": "\t\tif (XLogLogicalInfoActive())",
          "content_same": false
        },
        {
          "line": 5657,
          "old_api": null,
          "new_api": "XLogLogicalInfoActive",
          "old_text": null,
          "new_text": "XLogLogicalInfoActive()",
          "old_line_content": "\t\txl_dbinfo.dbId = MyDatabaseId;",
          "new_line_content": "\tif (TransactionIdIsValid(twophase_xid) && XLogLogicalInfoActive())",
          "content_same": false
        },
        {
          "line": 1568,
          "old_api": null,
          "new_api": "repalloc",
          "old_text": null,
          "new_text": "repalloc(s->parent->childXids,\n\t\t\t\t\t\t\t\t\t new_maxChildXids * sizeof(TransactionId))",
          "old_line_content": "\t\ts->parent->childXids = new_childXids;",
          "new_line_content": "\t\t\tnew_childXids = repalloc(s->parent->childXids,",
          "content_same": false
        },
        {
          "line": 5666,
          "old_api": null,
          "new_api": "TransactionIdIsValid",
          "old_text": null,
          "new_text": "TransactionIdIsValid(twophase_xid)",
          "old_line_content": "\t\txl_xinfo.xinfo |= XACT_XINFO_HAS_ORIGIN;",
          "new_line_content": "\t\tTransactionIdIsValid(twophase_xid) &&",
          "content_same": false
        },
        {
          "line": 5667,
          "old_api": null,
          "new_api": "XLogLogicalInfoActive",
          "old_text": null,
          "new_text": "XLogLogicalInfoActive()",
          "old_line_content": "",
          "new_line_content": "\t\tXLogLogicalInfoActive())",
          "content_same": false
        },
        {
          "line": 3620,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(WARNING,\n\t\t\t\t\t(errcode(ERRCODE_ACTIVE_SQL_TRANSACTION),\n\t\t\t\t\t errmsg(\"there is already a transaction in progress\")))",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tereport(WARNING,",
          "content_same": false
        },
        {
          "line": 3621,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_ACTIVE_SQL_TRANSACTION)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t(errcode(ERRCODE_ACTIVE_SQL_TRANSACTION),",
          "content_same": false
        },
        {
          "line": 3622,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"there is already a transaction in progress\")",
          "old_line_content": "\t\t\t/* These cases are invalid. */",
          "new_line_content": "\t\t\t\t\t errmsg(\"there is already a transaction in progress\")));",
          "content_same": false
        },
        {
          "line": 5680,
          "old_api": null,
          "new_api": "XLogBeginInsert",
          "old_text": null,
          "new_text": "XLogBeginInsert()",
          "old_line_content": "",
          "new_line_content": "\tXLogBeginInsert();",
          "content_same": false
        },
        {
          "line": 1587,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(&s->parent->childXids[s->parent->nChildXids + 1],\n\t\t\t   s->childXids,\n\t\t\t   s->nChildXids * sizeof(TransactionId))",
          "old_line_content": "",
          "new_line_content": "\t\tmemcpy(&s->parent->childXids[s->parent->nChildXids + 1],",
          "content_same": false
        },
        {
          "line": 3639,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(FATAL, \"BeginTransactionBlock: unexpected state %s\",\n\t\t\t\t BlockStateAsString(s->blockState))",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\telog(FATAL, \"BeginTransactionBlock: unexpected state %s\",",
          "content_same": false
        },
        {
          "line": 3640,
          "old_api": null,
          "new_api": "BlockStateAsString",
          "old_text": null,
          "new_text": "BlockStateAsString(s->blockState)",
          "old_line_content": "}",
          "new_line_content": "\t\t\t\t BlockStateAsString(s->blockState));",
          "content_same": false
        },
        {
          "line": 5688,
          "old_api": null,
          "new_api": "XLogRegisterData",
          "old_text": null,
          "new_text": "XLogRegisterData((char *) (&xl_dbinfo), sizeof(xl_dbinfo))",
          "old_line_content": "\t{",
          "new_line_content": "\t\tXLogRegisterData((char *) (&xl_dbinfo), sizeof(xl_dbinfo));",
          "content_same": false
        },
        {
          "line": 1595,
          "old_api": null,
          "new_api": "pfree",
          "old_text": null,
          "new_text": "pfree(s->childXids)",
          "old_line_content": "\ts->nChildXids = 0;",
          "new_line_content": "\t\tpfree(s->childXids);",
          "content_same": false
        },
        {
          "line": 5692,
          "old_api": null,
          "new_api": "XLogRegisterData",
          "old_text": null,
          "new_text": "XLogRegisterData((char *) (&xl_subxacts),\n\t\t\t\t\t\t MinSizeOfXactSubxacts)",
          "old_line_content": "\t\t\t\t\t\t nsubxacts * sizeof(TransactionId));",
          "new_line_content": "\t\tXLogRegisterData((char *) (&xl_subxacts),",
          "content_same": false
        },
        {
          "line": 5694,
          "old_api": null,
          "new_api": "XLogRegisterData",
          "old_text": null,
          "new_text": "XLogRegisterData((char *) subxacts,\n\t\t\t\t\t\t nsubxacts * sizeof(TransactionId))",
          "old_line_content": "",
          "new_line_content": "\t\tXLogRegisterData((char *) subxacts,",
          "content_same": false
        },
        {
          "line": 5700,
          "old_api": null,
          "new_api": "XLogRegisterData",
          "old_text": null,
          "new_text": "XLogRegisterData((char *) (&xl_relfilenodes),\n\t\t\t\t\t\t MinSizeOfXactRelfilenodes)",
          "old_line_content": "\t\t\t\t\t\t nrels * sizeof(RelFileNode));",
          "new_line_content": "\t\tXLogRegisterData((char *) (&xl_relfilenodes),",
          "content_same": false
        },
        {
          "line": 5702,
          "old_api": null,
          "new_api": "XLogRegisterData",
          "old_text": null,
          "new_text": "XLogRegisterData((char *) rels,\n\t\t\t\t\t\t nrels * sizeof(RelFileNode))",
          "old_line_content": "",
          "new_line_content": "\t\tXLogRegisterData((char *) rels,",
          "content_same": false
        },
        {
          "line": 5708,
          "old_api": null,
          "new_api": "XLogRegisterData",
          "old_text": null,
          "new_text": "XLogRegisterData((char *) (&xl_twophase), sizeof(xl_xact_twophase))",
          "old_line_content": "\t}",
          "new_line_content": "\t\tXLogRegisterData((char *) (&xl_twophase), sizeof(xl_xact_twophase));",
          "content_same": false
        },
        {
          "line": 5710,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(twophase_gid)",
          "old_line_content": "\tif (xl_xinfo.xinfo & XACT_XINFO_HAS_ORIGIN)",
          "new_line_content": "\t\t\tXLogRegisterData(unconstify(char *, twophase_gid), strlen(twophase_gid) + 1);",
          "content_same": false
        },
        {
          "line": 1616,
          "old_api": null,
          "new_api": "GetCurrentTransactionIdIfAny",
          "old_text": null,
          "new_text": "GetCurrentTransactionIdIfAny()",
          "old_line_content": "\tRelFileNode *rels;",
          "new_line_content": "\tTransactionId xid = GetCurrentTransactionIdIfAny();",
          "content_same": false
        },
        {
          "line": 3664,
          "old_api": null,
          "new_api": "EndTransactionBlock",
          "old_text": null,
          "new_text": "EndTransactionBlock(false)",
          "old_line_content": "\tif (result)",
          "new_line_content": "\tresult = EndTransactionBlock(false);",
          "content_same": false
        },
        {
          "line": 5717,
          "old_api": null,
          "new_api": "XLogSetRecordFlags",
          "old_text": null,
          "new_text": "XLogSetRecordFlags(XLOG_INCLUDE_ORIGIN)",
          "old_line_content": "}",
          "new_line_content": "\t\tXLogSetRecordFlags(XLOG_INCLUDE_ORIGIN);",
          "content_same": false
        },
        {
          "line": 5719,
          "old_api": null,
          "new_api": "XLogInsert",
          "old_text": null,
          "new_text": "XLogInsert(RM_XACT_ID, info)",
          "old_line_content": "/*",
          "new_line_content": "\treturn XLogInsert(RM_XACT_ID, info);",
          "content_same": false
        },
        {
          "line": 3677,
          "old_api": null,
          "new_api": "MemoryContextStrdup",
          "old_text": null,
          "new_text": "MemoryContextStrdup(TopTransactionContext, gid)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tprepareGID = MemoryContextStrdup(TopTransactionContext, gid);",
          "content_same": false
        },
        {
          "line": 1630,
          "old_api": null,
          "new_api": "TransactionIdIsValid",
          "old_text": null,
          "new_text": "TransactionIdIsValid(xid)",
          "old_line_content": "\t\tif (!isSubXact)",
          "new_line_content": "\tif (!TransactionIdIsValid(xid))",
          "content_same": false
        },
        {
          "line": 3687,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(s->blockState == TBLOCK_STARTED ||\n\t\t\t\t   s->blockState == TBLOCK_IMPLICIT_INPROGRESS)",
          "old_line_content": "\t\t\tresult = false;",
          "new_line_content": "\t\t\tAssert(s->blockState == TBLOCK_STARTED ||",
          "content_same": false
        },
        {
          "line": 5735,
          "old_api": null,
          "new_api": "TransactionIdIsValid",
          "old_text": null,
          "new_text": "TransactionIdIsValid(xid)",
          "old_line_content": "",
          "new_line_content": "\tAssert(TransactionIdIsValid(xid));",
          "content_same": false
        },
        {
          "line": 5740,
          "old_api": null,
          "new_api": "AdvanceNextFullTransactionIdPastXid",
          "old_text": null,
          "new_text": "AdvanceNextFullTransactionIdPastXid(max_xid)",
          "old_line_content": "\t\t   (origin_id == InvalidRepOriginId));",
          "new_line_content": "\tAdvanceNextFullTransactionIdPastXid(max_xid);",
          "content_same": false
        },
        {
          "line": 5742,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(((parsed->xinfo & XACT_XINFO_HAS_ORIGIN) == 0) ==\n\t\t   (origin_id == InvalidRepOriginId))",
          "old_line_content": "\tif (parsed->xinfo & XACT_XINFO_HAS_ORIGIN)",
          "new_line_content": "\tAssert(((parsed->xinfo & XACT_XINFO_HAS_ORIGIN) == 0) ==",
          "content_same": false
        },
        {
          "line": 1649,
          "old_api": null,
          "new_api": "TransactionIdDidCommit",
          "old_text": null,
          "new_text": "TransactionIdDidCommit(xid)",
          "old_line_content": "",
          "new_line_content": "\tif (TransactionIdDidCommit(xid))",
          "content_same": false
        },
        {
          "line": 1650,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(PANIC, \"cannot abort transaction %u, it was already committed\",\n\t\t\t xid)",
          "old_line_content": "\t/* Fetch the data we need for the abort record */",
          "new_line_content": "\t\telog(PANIC, \"cannot abort transaction %u, it was already committed\",",
          "content_same": false
        },
        {
          "line": 1654,
          "old_api": null,
          "new_api": "smgrGetPendingDeletes",
          "old_text": null,
          "new_text": "smgrGetPendingDeletes(false, &rels)",
          "old_line_content": "\t/* XXX do we really need a critical section here? */",
          "new_line_content": "\tnrels = smgrGetPendingDeletes(false, &rels);",
          "content_same": false
        },
        {
          "line": 5751,
          "old_api": null,
          "new_api": "TransactionTreeSetCommitTsData",
          "old_text": null,
          "new_text": "TransactionTreeSetCommitTsData(xid, parsed->nsubxacts, parsed->subxacts,\n\t\t\t\t\t\t\t\t   commit_time, origin_id, false)",
          "old_line_content": "\tif (standbyState == STANDBY_DISABLED)",
          "new_line_content": "\tTransactionTreeSetCommitTsData(xid, parsed->nsubxacts, parsed->subxacts,",
          "content_same": false
        },
        {
          "line": 1658,
          "old_api": null,
          "new_api": "START_CRIT_SECTION",
          "old_text": null,
          "new_text": "START_CRIT_SECTION()",
          "old_line_content": "\tif (isSubXact)",
          "new_line_content": "\tSTART_CRIT_SECTION();",
          "content_same": false
        },
        {
          "line": 5759,
          "old_api": null,
          "new_api": "TransactionIdCommitTree",
          "old_text": null,
          "new_text": "TransactionIdCommitTree(xid, parsed->nsubxacts, parsed->subxacts)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tTransactionIdCommitTree(xid, parsed->nsubxacts, parsed->subxacts);",
          "content_same": false
        },
        {
          "line": 1665,
          "old_api": null,
          "new_api": "SetCurrentTransactionStopTimestamp",
          "old_text": null,
          "new_text": "SetCurrentTransactionStopTimestamp()",
          "old_line_content": "",
          "new_line_content": "\t\tSetCurrentTransactionStopTimestamp();",
          "content_same": false
        },
        {
          "line": 1669,
          "old_api": null,
          "new_api": "XactLogAbortRecord",
          "old_text": null,
          "new_text": "XactLogAbortRecord(xact_time,\n\t\t\t\t\t   nchildren, children,\n\t\t\t\t\t   nrels, rels,\n\t\t\t\t\t   MyXactFlags, InvalidTransactionId,\n\t\t\t\t\t   NULL)",
          "old_line_content": "\t\t\t\t\t   MyXactFlags, InvalidTransactionId,",
          "new_line_content": "\tXactLogAbortRecord(xact_time,",
          "content_same": false
        },
        {
          "line": 5772,
          "old_api": null,
          "new_api": "RecordKnownAssignedTransactionIds",
          "old_text": null,
          "new_text": "RecordKnownAssignedTransactionIds(max_xid)",
          "old_line_content": "\t\t * Mark the transaction committed in pg_xact. We use async commit",
          "new_line_content": "\t\tRecordKnownAssignedTransactionIds(max_xid);",
          "content_same": false
        },
        {
          "line": 1685,
          "old_api": null,
          "new_api": "XLogSetAsyncXactLSN",
          "old_text": null,
          "new_text": "XLogSetAsyncXactLSN(XactLastRecEnd)",
          "old_line_content": "\t * Mark the transaction aborted in clog.  This is not absolutely necessary",
          "new_line_content": "\t\tXLogSetAsyncXactLSN(XactLastRecEnd);",
          "content_same": false
        },
        {
          "line": 3734,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION)",
          "old_line_content": "\t\t\t\t\t\t\t\t\"COMMIT AND CHAIN\")));",
          "new_line_content": "\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),",
          "content_same": false
        },
        {
          "line": 5783,
          "old_api": null,
          "new_api": "TransactionIdAsyncCommitTree",
          "old_text": null,
          "new_text": "TransactionIdAsyncCommitTree(\n\t\t\t\t\t\t\t\t\t xid, parsed->nsubxacts, parsed->subxacts, lsn)",
          "old_line_content": "\t\t/*",
          "new_line_content": "\t\tTransactionIdAsyncCommitTree(",
          "content_same": false
        },
        {
          "line": 3739,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(WARNING,\n\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),\n\t\t\t\t\t\t errmsg(\"there is no transaction in progress\")))",
          "old_line_content": "\t\t\ts->blockState = TBLOCK_END;",
          "new_line_content": "\t\t\t\tereport(WARNING,",
          "content_same": false
        },
        {
          "line": 3740,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION)",
          "old_line_content": "\t\t\tresult = true;",
          "new_line_content": "\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),",
          "content_same": false
        },
        {
          "line": 3741,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"there is no transaction in progress\")",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\t\t errmsg(\"there is no transaction in progress\")));",
          "content_same": false
        },
        {
          "line": 5789,
          "old_api": null,
          "new_api": "ExpireTreeKnownAssignedTransactionIds",
          "old_text": null,
          "new_text": "ExpireTreeKnownAssignedTransactionIds(\n\t\t\t\t\t\t\t\t\t\t\t  xid, parsed->nsubxacts, parsed->subxacts, max_xid)",
          "old_line_content": "\t\t/*",
          "new_line_content": "\t\tExpireTreeKnownAssignedTransactionIds(",
          "content_same": false
        },
        {
          "line": 1695,
          "old_api": null,
          "new_api": "TransactionIdAbortTree",
          "old_text": null,
          "new_text": "TransactionIdAbortTree(xid, nchildren, children)",
          "old_line_content": "",
          "new_line_content": "\tTransactionIdAbortTree(xid, nchildren, children);",
          "content_same": false
        },
        {
          "line": 1700,
          "old_api": null,
          "new_api": "TransactionIdLatest",
          "old_text": null,
          "new_text": "TransactionIdLatest(xid, nchildren, children)",
          "old_line_content": "\t * If we're aborting a subtransaction, we can immediately remove failed",
          "new_line_content": "\tlatestXid = TransactionIdLatest(xid, nchildren, children);",
          "content_same": false
        },
        {
          "line": 5797,
          "old_api": null,
          "new_api": "ProcessCommittedInvalidationMessages",
          "old_text": null,
          "new_text": "ProcessCommittedInvalidationMessages(\n\t\t\t\t\t\t\t\t\t\t\t parsed->msgs, parsed->nmsgs,\n\t\t\t\t\t\t\t\t\t\t\t XactCompletionRelcacheInitFileInval(parsed->xinfo),\n\t\t\t\t\t\t\t\t\t\t\t parsed->dbId, parsed->tsId)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t\t parsed->dbId, parsed->tsId);",
          "new_line_content": "\t\tProcessCommittedInvalidationMessages(",
          "content_same": false
        },
        {
          "line": 5799,
          "old_api": null,
          "new_api": "XactCompletionRelcacheInitFileInval",
          "old_text": null,
          "new_text": "XactCompletionRelcacheInitFileInval(parsed->xinfo)",
          "old_line_content": "\t\t/*",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t XactCompletionRelcacheInitFileInval(parsed->xinfo),",
          "content_same": false
        },
        {
          "line": 1709,
          "old_api": null,
          "new_api": "XidCacheRemoveRunningXids",
          "old_text": null,
          "new_text": "XidCacheRemoveRunningXids(xid, nchildren, children, latestXid)",
          "old_line_content": "\tif (!isSubXact)",
          "new_line_content": "\t\tXidCacheRemoveRunningXids(xid, nchildren, children, latestXid);",
          "content_same": false
        },
        {
          "line": 5808,
          "old_api": null,
          "new_api": "StandbyReleaseLockTree",
          "old_text": null,
          "new_text": "StandbyReleaseLockTree(xid, parsed->nsubxacts, parsed->subxacts)",
          "old_line_content": "\tif (parsed->xinfo & XACT_XINFO_HAS_ORIGIN)",
          "new_line_content": "\t\t\tStandbyReleaseLockTree(xid, parsed->nsubxacts, parsed->subxacts);",
          "content_same": false
        },
        {
          "line": 3764,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(FATAL, \"EndTransactionBlock: unexpected state %s\",\n\t\t\t\t\t\t BlockStateAsString(s->blockState))",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\telog(FATAL, \"EndTransactionBlock: unexpected state %s\",",
          "content_same": false
        },
        {
          "line": 1717,
          "old_api": null,
          "new_api": "pfree",
          "old_text": null,
          "new_text": "pfree(rels)",
          "old_line_content": "}",
          "new_line_content": "\t\tpfree(rels);",
          "content_same": false
        },
        {
          "line": 3765,
          "old_api": null,
          "new_api": "BlockStateAsString",
          "old_text": null,
          "new_text": "BlockStateAsString(s->blockState)",
          "old_line_content": "\t\t\tif (s->blockState == TBLOCK_INPROGRESS)",
          "new_line_content": "\t\t\t\t\t\t BlockStateAsString(s->blockState));",
          "content_same": false
        },
        {
          "line": 5814,
          "old_api": null,
          "new_api": "replorigin_advance",
          "old_text": null,
          "new_text": "replorigin_advance(origin_id, parsed->origin_lsn, lsn,\n\t\t\t\t\t\t   false /* backward */ , false /* WAL */ )",
          "old_line_content": "",
          "new_line_content": "\t\treplorigin_advance(origin_id, parsed->origin_lsn, lsn,",
          "content_same": false
        },
        {
          "line": 3771,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(FATAL, \"EndTransactionBlock: unexpected state %s\",\n\t\t\t\t\t BlockStateAsString(s->blockState))",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\t\telog(FATAL, \"EndTransactionBlock: unexpected state %s\",",
          "content_same": false
        },
        {
          "line": 3772,
          "old_api": null,
          "new_api": "BlockStateAsString",
          "old_text": null,
          "new_text": "BlockStateAsString(s->blockState)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t BlockStateAsString(s->blockState));",
          "content_same": false
        },
        {
          "line": 1737,
          "old_api": null,
          "new_api": "MemoryContextSwitchTo",
          "old_text": null,
          "new_text": "MemoryContextSwitchTo(TransactionAbortContext)",
          "old_line_content": "}",
          "new_line_content": "\t\tMemoryContextSwitchTo(TransactionAbortContext);",
          "content_same": false
        },
        {
          "line": 1739,
          "old_api": null,
          "new_api": "MemoryContextSwitchTo",
          "old_text": null,
          "new_text": "MemoryContextSwitchTo(TopMemoryContext)",
          "old_line_content": "/*",
          "new_line_content": "\t\tMemoryContextSwitchTo(TopMemoryContext);",
          "content_same": false
        },
        {
          "line": 3789,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(FATAL, \"EndTransactionBlock: unexpected state %s\",\n\t\t\t\t\t\t BlockStateAsString(s->blockState))",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\telog(FATAL, \"EndTransactionBlock: unexpected state %s\",",
          "content_same": false
        },
        {
          "line": 3790,
          "old_api": null,
          "new_api": "BlockStateAsString",
          "old_text": null,
          "new_text": "BlockStateAsString(s->blockState)",
          "old_line_content": "\t\t\tif (s->blockState == TBLOCK_INPROGRESS)",
          "new_line_content": "\t\t\t\t\t\t BlockStateAsString(s->blockState));",
          "content_same": false
        },
        {
          "line": 5839,
          "old_api": null,
          "new_api": "DropRelationFiles",
          "old_text": null,
          "new_text": "DropRelationFiles(parsed->xnodes, parsed->nrels, true)",
          "old_line_content": "\t/*",
          "new_line_content": "\t\tDropRelationFiles(parsed->xnodes, parsed->nrels, true);",
          "content_same": false
        },
        {
          "line": 1748,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(TransactionAbortContext != NULL)",
          "old_line_content": "}",
          "new_line_content": "\tAssert(TransactionAbortContext != NULL);",
          "content_same": false
        },
        {
          "line": 1750,
          "old_api": null,
          "new_api": "MemoryContextSwitchTo",
          "old_text": null,
          "new_text": "MemoryContextSwitchTo(TransactionAbortContext)",
          "old_line_content": "",
          "new_line_content": "\tMemoryContextSwitchTo(TransactionAbortContext);",
          "content_same": false
        },
        {
          "line": 3798,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(FATAL, \"EndTransactionBlock: unexpected state %s\",\n\t\t\t\t\t BlockStateAsString(s->blockState))",
          "old_line_content": "",
          "new_line_content": "\t\t\t\telog(FATAL, \"EndTransactionBlock: unexpected state %s\",",
          "content_same": false
        },
        {
          "line": 3799,
          "old_api": null,
          "new_api": "BlockStateAsString",
          "old_text": null,
          "new_text": "BlockStateAsString(s->blockState)",
          "old_line_content": "\t\t\t/*",
          "new_line_content": "\t\t\t\t\t BlockStateAsString(s->blockState));",
          "content_same": false
        },
        {
          "line": 5854,
          "old_api": null,
          "new_api": "XactCompletionForceSyncCommit",
          "old_text": null,
          "new_text": "XactCompletionForceSyncCommit(parsed->xinfo)",
          "old_line_content": "\t/*",
          "new_line_content": "\tif (XactCompletionForceSyncCommit(parsed->xinfo))",
          "content_same": false
        },
        {
          "line": 5855,
          "old_api": null,
          "new_api": "XLogFlush",
          "old_text": null,
          "new_text": "XLogFlush(lsn)",
          "old_line_content": "\t * If asked by the primary (because someone is waiting for a synchronous",
          "new_line_content": "\t\tXLogFlush(lsn);",
          "content_same": false
        },
        {
          "line": 3813,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION)",
          "old_line_content": "\t\t\t\t\t\t\t\t\"COMMIT AND CHAIN\")));",
          "new_line_content": "\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),",
          "content_same": false
        },
        {
          "line": 5862,
          "old_api": null,
          "new_api": "XactCompletionApplyFeedback",
          "old_text": null,
          "new_text": "XactCompletionApplyFeedback(parsed->xinfo)",
          "old_line_content": "",
          "new_line_content": "\tif (XactCompletionApplyFeedback(parsed->xinfo))",
          "content_same": false
        },
        {
          "line": 5863,
          "old_api": null,
          "new_api": "XLogRequestWalReceiverReply",
          "old_text": null,
          "new_text": "XLogRequestWalReceiverReply()",
          "old_line_content": "/*",
          "new_line_content": "\t\tXLogRequestWalReceiverReply();",
          "content_same": false
        },
        {
          "line": 3818,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(WARNING,\n\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),\n\t\t\t\t\t\t errmsg(\"there is no transaction in progress\")))",
          "old_line_content": "\t\t\tresult = true;",
          "new_line_content": "\t\t\t\tereport(WARNING,",
          "content_same": false
        },
        {
          "line": 3819,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),",
          "content_same": false
        },
        {
          "line": 3820,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"there is no transaction in progress\")",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\t errmsg(\"there is no transaction in progress\")));",
          "content_same": false
        },
        {
          "line": 3829,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(FATAL,\n\t\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),\n\t\t\t\t\t errmsg(\"cannot commit during a parallel operation\")))",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tereport(FATAL,",
          "content_same": false
        },
        {
          "line": 3830,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_INVALID_TRANSACTION_STATE)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),",
          "content_same": false
        },
        {
          "line": 3831,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"cannot commit during a parallel operation\")",
          "old_line_content": "\t\t\t/* These cases are invalid. */",
          "new_line_content": "\t\t\t\t\t errmsg(\"cannot commit during a parallel operation\")));",
          "content_same": false
        },
        {
          "line": 5886,
          "old_api": null,
          "new_api": "AdvanceNextFullTransactionIdPastXid",
          "old_text": null,
          "new_text": "AdvanceNextFullTransactionIdPastXid(max_xid)",
          "old_line_content": "\t{",
          "new_line_content": "\tAdvanceNextFullTransactionIdPastXid(max_xid);",
          "content_same": false
        },
        {
          "line": 1794,
          "old_api": null,
          "new_api": "pfree",
          "old_text": null,
          "new_text": "pfree(s->childXids)",
          "old_line_content": "\ts->maxChildXids = 0;",
          "new_line_content": "\t\tpfree(s->childXids);",
          "content_same": false
        },
        {
          "line": 5891,
          "old_api": null,
          "new_api": "TransactionIdAbortTree",
          "old_text": null,
          "new_text": "TransactionIdAbortTree(xid, parsed->nsubxacts, parsed->subxacts)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tTransactionIdAbortTree(xid, parsed->nsubxacts, parsed->subxacts);",
          "content_same": false
        },
        {
          "line": 3848,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(FATAL, \"EndTransactionBlock: unexpected state %s\",\n\t\t\t\t BlockStateAsString(s->blockState))",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\telog(FATAL, \"EndTransactionBlock: unexpected state %s\",",
          "content_same": false
        },
        {
          "line": 3849,
          "old_api": null,
          "new_api": "BlockStateAsString",
          "old_text": null,
          "new_text": "BlockStateAsString(s->blockState)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t BlockStateAsString(s->blockState));",
          "content_same": false
        },
        {
          "line": 3853,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(s->blockState == TBLOCK_STARTED ||\n\t\t   s->blockState == TBLOCK_END ||\n\t\t   s->blockState == TBLOCK_ABORT_END ||\n\t\t   s->blockState == TBLOCK_ABORT_PENDING)",
          "old_line_content": "\t\t   s->blockState == TBLOCK_ABORT_PENDING);",
          "new_line_content": "\tAssert(s->blockState == TBLOCK_STARTED ||",
          "content_same": false
        },
        {
          "line": 5907,
          "old_api": null,
          "new_api": "TransactionIdAbortTree",
          "old_text": null,
          "new_text": "TransactionIdAbortTree(xid, parsed->nsubxacts, parsed->subxacts)",
          "old_line_content": "\t\t * We must update the ProcArray after we have marked clog.",
          "new_line_content": "\t\tTransactionIdAbortTree(xid, parsed->nsubxacts, parsed->subxacts);",
          "content_same": false
        },
        {
          "line": 5912,
          "old_api": null,
          "new_api": "ExpireTreeKnownAssignedTransactionIds",
          "old_text": null,
          "new_text": "ExpireTreeKnownAssignedTransactionIds(\n\t\t\t\t\t\t\t\t\t\t\t  xid, parsed->nsubxacts, parsed->subxacts, max_xid)",
          "old_line_content": "\t\t/*",
          "new_line_content": "\t\tExpireTreeKnownAssignedTransactionIds(",
          "content_same": false
        },
        {
          "line": 1818,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(CurrentTransactionState->parent == NULL)",
          "old_line_content": "\t * Now that we're \"out\" of a transaction, have the system allocate things",
          "new_line_content": "\tAssert(CurrentTransactionState->parent == NULL);",
          "content_same": false
        },
        {
          "line": 1824,
          "old_api": null,
          "new_api": "MemoryContextSwitchTo",
          "old_text": null,
          "new_text": "MemoryContextSwitchTo(TopMemoryContext)",
          "old_line_content": "\t * Clear the special abort context for next time.",
          "new_line_content": "\tMemoryContextSwitchTo(TopMemoryContext);",
          "content_same": false
        },
        {
          "line": 5923,
          "old_api": null,
          "new_api": "StandbyReleaseLockTree",
          "old_text": null,
          "new_text": "StandbyReleaseLockTree(xid, parsed->nsubxacts, parsed->subxacts)",
          "old_line_content": "\t/* Make sure files supposed to be dropped are dropped */",
          "new_line_content": "\t\t\tStandbyReleaseLockTree(xid, parsed->nsubxacts, parsed->subxacts);",
          "content_same": false
        },
        {
          "line": 1830,
          "old_api": null,
          "new_api": "MemoryContextResetAndDeleteChildren",
          "old_text": null,
          "new_text": "MemoryContextResetAndDeleteChildren(TransactionAbortContext)",
          "old_line_content": "\t * Release all transaction-local memory.",
          "new_line_content": "\t\tMemoryContextResetAndDeleteChildren(TransactionAbortContext);",
          "content_same": false
        },
        {
          "line": 5927,
          "old_api": null,
          "new_api": "DropRelationFiles",
          "old_text": null,
          "new_text": "DropRelationFiles(parsed->xnodes, parsed->nrels, true)",
          "old_line_content": "void",
          "new_line_content": "\tDropRelationFiles(parsed->xnodes, parsed->nrels, true);",
          "content_same": false
        },
        {
          "line": 1836,
          "old_api": null,
          "new_api": "MemoryContextDelete",
          "old_text": null,
          "new_text": "MemoryContextDelete(TopTransactionContext)",
          "old_line_content": "\tCurrentTransactionState->curTransactionContext = NULL;",
          "new_line_content": "\t\tMemoryContextDelete(TopTransactionContext);",
          "content_same": false
        },
        {
          "line": 5936,
          "old_api": null,
          "new_api": "XLogRecHasAnyBlockRefs",
          "old_text": null,
          "new_text": "XLogRecHasAnyBlockRefs(record)",
          "old_line_content": "\t{",
          "new_line_content": "\tAssert(!XLogRecHasAnyBlockRefs(record));",
          "content_same": false
        },
        {
          "line": 5943,
          "old_api": null,
          "new_api": "XLogRecGetInfo",
          "old_text": null,
          "new_text": "XLogRecGetInfo(record)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tParseCommitRecord(XLogRecGetInfo(record), xlrec, &parsed);",
          "content_same": false
        },
        {
          "line": 5944,
          "old_api": null,
          "new_api": "XLogRecGetXid",
          "old_text": null,
          "new_text": "XLogRecGetXid(record)",
          "old_line_content": "\telse if (info == XLOG_XACT_COMMIT_PREPARED)",
          "new_line_content": "\t\txact_redo_commit(&parsed, XLogRecGetXid(record),",
          "content_same": false
        },
        {
          "line": 5945,
          "old_api": null,
          "new_api": "XLogRecGetOrigin",
          "old_text": null,
          "new_text": "XLogRecGetOrigin(record)",
          "old_line_content": "\t{",
          "new_line_content": "\t\t\t\t\t\t record->EndRecPtr, XLogRecGetOrigin(record));",
          "content_same": false
        },
        {
          "line": 5952,
          "old_api": null,
          "new_api": "XLogRecGetInfo",
          "old_text": null,
          "new_text": "XLogRecGetInfo(record)",
          "old_line_content": "",
          "new_line_content": "\t\tParseCommitRecord(XLogRecGetInfo(record), xlrec, &parsed);",
          "content_same": false
        },
        {
          "line": 5953,
          "old_api": null,
          "new_api": "xact_redo_commit",
          "old_text": null,
          "new_text": "xact_redo_commit(&parsed, parsed.twophase_xid,\n\t\t\t\t\t\t record->EndRecPtr, XLogRecGetOrigin(record))",
          "old_line_content": "\t\t/* Delete TwoPhaseState gxact entry and/or 2PC file. */",
          "new_line_content": "\t\txact_redo_commit(&parsed, parsed.twophase_xid,",
          "content_same": false
        },
        {
          "line": 1859,
          "old_api": null,
          "new_api": "MemoryContextSwitchTo",
          "old_text": null,
          "new_text": "MemoryContextSwitchTo(s->parent->curTransactionContext)",
          "old_line_content": "\t/*",
          "new_line_content": "\tMemoryContextSwitchTo(s->parent->curTransactionContext);",
          "content_same": false
        },
        {
          "line": 3908,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(FATAL, \"UserAbortTransactionBlock: unexpected state %s\",\n\t\t\t\t\t\t BlockStateAsString(s->blockState))",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\t\t\t\telog(FATAL, \"UserAbortTransactionBlock: unexpected state %s\",",
          "content_same": false
        },
        {
          "line": 3909,
          "old_api": null,
          "new_api": "BlockStateAsString",
          "old_text": null,
          "new_text": "BlockStateAsString(s->blockState)",
          "old_line_content": "\t\t\tif (s->blockState == TBLOCK_INPROGRESS)",
          "new_line_content": "\t\t\t\t\t\t BlockStateAsString(s->blockState));",
          "content_same": false
        },
        {
          "line": 5957,
          "old_api": null,
          "new_api": "LWLockAcquire",
          "old_text": null,
          "new_text": "LWLockAcquire(TwoPhaseStateLock, LW_EXCLUSIVE)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tLWLockAcquire(TwoPhaseStateLock, LW_EXCLUSIVE);",
          "content_same": false
        },
        {
          "line": 5958,
          "old_api": null,
          "new_api": "PrepareRedoRemove",
          "old_text": null,
          "new_text": "PrepareRedoRemove(parsed.twophase_xid, false)",
          "old_line_content": "\telse if (info == XLOG_XACT_ABORT)",
          "new_line_content": "\t\tPrepareRedoRemove(parsed.twophase_xid, false);",
          "content_same": false
        },
        {
          "line": 5959,
          "old_api": null,
          "new_api": "LWLockRelease",
          "old_text": null,
          "new_text": "LWLockRelease(TwoPhaseStateLock)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tLWLockRelease(TwoPhaseStateLock);",
          "content_same": false
        },
        {
          "line": 1866,
          "old_api": null,
          "new_api": "MemoryContextResetAndDeleteChildren",
          "old_text": null,
          "new_text": "MemoryContextResetAndDeleteChildren(TransactionAbortContext)",
          "old_line_content": "\t * Delete the subxact local memory contexts. Its CurTransactionContext can",
          "new_line_content": "\t\tMemoryContextResetAndDeleteChildren(TransactionAbortContext);",
          "content_same": false
        },
        {
          "line": 3917,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(FATAL, \"UserAbortTransactionBlock: unexpected state %s\",\n\t\t\t\t\t BlockStateAsString(s->blockState))",
          "old_line_content": "",
          "new_line_content": "\t\t\t\telog(FATAL, \"UserAbortTransactionBlock: unexpected state %s\",",
          "content_same": false
        },
        {
          "line": 3918,
          "old_api": null,
          "new_api": "BlockStateAsString",
          "old_text": null,
          "new_text": "BlockStateAsString(s->blockState)",
          "old_line_content": "\t\t\t/*",
          "new_line_content": "\t\t\t\t\t BlockStateAsString(s->blockState));",
          "content_same": false
        },
        {
          "line": 5966,
          "old_api": null,
          "new_api": "XLogRecGetInfo",
          "old_text": null,
          "new_text": "XLogRecGetInfo(record)",
          "old_line_content": "\telse if (info == XLOG_XACT_ABORT_PREPARED)",
          "new_line_content": "\t\tParseAbortRecord(XLogRecGetInfo(record), xlrec, &parsed);",
          "content_same": false
        },
        {
          "line": 5967,
          "old_api": null,
          "new_api": "XLogRecGetXid",
          "old_text": null,
          "new_text": "XLogRecGetXid(record)",
          "old_line_content": "\t{",
          "new_line_content": "\t\txact_redo_abort(&parsed, XLogRecGetXid(record));",
          "content_same": false
        },
        {
          "line": 1874,
          "old_api": null,
          "new_api": "MemoryContextDelete",
          "old_text": null,
          "new_text": "MemoryContextDelete(s->curTransactionContext)",
          "old_line_content": "",
          "new_line_content": "\t\tMemoryContextDelete(s->curTransactionContext);",
          "content_same": false
        },
        {
          "line": 5974,
          "old_api": null,
          "new_api": "XLogRecGetInfo",
          "old_text": null,
          "new_text": "XLogRecGetInfo(record)",
          "old_line_content": "\t\t/* Delete TwoPhaseState gxact entry and/or 2PC file. */",
          "new_line_content": "\t\tParseAbortRecord(XLogRecGetInfo(record), xlrec, &parsed);",
          "content_same": false
        },
        {
          "line": 5978,
          "old_api": null,
          "new_api": "LWLockAcquire",
          "old_text": null,
          "new_text": "LWLockAcquire(TwoPhaseStateLock, LW_EXCLUSIVE)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tLWLockAcquire(TwoPhaseStateLock, LW_EXCLUSIVE);",
          "content_same": false
        },
        {
          "line": 5979,
          "old_api": null,
          "new_api": "PrepareRedoRemove",
          "old_text": null,
          "new_text": "PrepareRedoRemove(parsed.twophase_xid, false)",
          "old_line_content": "\telse if (info == XLOG_XACT_PREPARE)",
          "new_line_content": "\t\tPrepareRedoRemove(parsed.twophase_xid, false);",
          "content_same": false
        },
        {
          "line": 5980,
          "old_api": null,
          "new_api": "LWLockRelease",
          "old_text": null,
          "new_text": "LWLockRelease(TwoPhaseStateLock)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tLWLockRelease(TwoPhaseStateLock);",
          "content_same": false
        },
        {
          "line": 3936,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION)",
          "old_line_content": "\t\t\t\t\t\t\t\t\"ROLLBACK AND CHAIN\")));",
          "new_line_content": "\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),",
          "content_same": false
        },
        {
          "line": 5988,
          "old_api": null,
          "new_api": "LWLockAcquire",
          "old_text": null,
          "new_text": "LWLockAcquire(TwoPhaseStateLock, LW_EXCLUSIVE)",
          "old_line_content": "\t\t\t\t\t   record->EndRecPtr,",
          "new_line_content": "\t\tLWLockAcquire(TwoPhaseStateLock, LW_EXCLUSIVE);",
          "content_same": false
        },
        {
          "line": 3941,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(WARNING,\n\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),\n\t\t\t\t\t\t errmsg(\"there is no transaction in progress\")))",
          "old_line_content": "\t\t\ts->blockState = TBLOCK_ABORT_PENDING;",
          "new_line_content": "\t\t\t\tereport(WARNING,",
          "content_same": false
        },
        {
          "line": 3942,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION)",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),",
          "content_same": false
        },
        {
          "line": 3943,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"there is no transaction in progress\")",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\t errmsg(\"there is no transaction in progress\")));",
          "content_same": false
        },
        {
          "line": 5992,
          "old_api": null,
          "new_api": "XLogRecGetOrigin",
          "old_text": null,
          "new_text": "XLogRecGetOrigin(record)",
          "old_line_content": "\telse if (info == XLOG_XACT_ASSIGNMENT)",
          "new_line_content": "\t\t\t\t\t   XLogRecGetOrigin(record));",
          "content_same": false
        },
        {
          "line": 5993,
          "old_api": null,
          "new_api": "LWLockRelease",
          "old_text": null,
          "new_text": "LWLockRelease(TwoPhaseStateLock)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tLWLockRelease(TwoPhaseStateLock);",
          "content_same": false
        },
        {
          "line": 1901,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(s->state == TRANS_DEFAULT)",
          "old_line_content": "\t * Set the current transaction state information appropriately during",
          "new_line_content": "\tAssert(s->state == TRANS_DEFAULT);",
          "content_same": false
        },
        {
          "line": 3952,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(FATAL,\n\t\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),\n\t\t\t\t\t errmsg(\"cannot abort during a parallel operation\")))",
          "old_line_content": "\t\t\tbreak;",
          "new_line_content": "\t\t\tereport(FATAL,",
          "content_same": false
        },
        {
          "line": 3953,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_INVALID_TRANSACTION_STATE)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),",
          "content_same": false
        },
        {
          "line": 3954,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"cannot abort during a parallel operation\")",
          "old_line_content": "\t\t\t/* These cases are invalid. */",
          "new_line_content": "\t\t\t\t\t errmsg(\"cannot abort during a parallel operation\")));",
          "content_same": false
        },
        {
          "line": 6000,
          "old_api": null,
          "new_api": "ProcArrayApplyXidAssignment",
          "old_text": null,
          "new_text": "ProcArrayApplyXidAssignment(xlrec->xtop,\n\t\t\t\t\t\t\t\t\t\txlrec->nsubxacts, xlrec->xsub)",
          "old_line_content": "\telse",
          "new_line_content": "\t\t\tProcArrayApplyXidAssignment(xlrec->xtop,",
          "content_same": false
        },
        {
          "line": 6004,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(PANIC, \"xact_redo: unknown op code %u\", info)",
          "old_line_content": "",
          "new_line_content": "\t\telog(PANIC, \"xact_redo: unknown op code %u\", info);",
          "content_same": false
        },
        {
          "line": 1915,
          "old_api": null,
          "new_api": "random",
          "old_text": null,
          "new_text": "random()",
          "old_line_content": "\t * initialize current transaction state fields",
          "new_line_content": "\t\t random() <= log_xact_sample_rate * MAX_RANDOM_VALUE);",
          "content_same": false
        },
        {
          "line": 3971,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(FATAL, \"UserAbortTransactionBlock: unexpected state %s\",\n\t\t\t\t BlockStateAsString(s->blockState))",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\telog(FATAL, \"UserAbortTransactionBlock: unexpected state %s\",",
          "content_same": false
        },
        {
          "line": 3972,
          "old_api": null,
          "new_api": "BlockStateAsString",
          "old_text": null,
          "new_text": "BlockStateAsString(s->blockState)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t BlockStateAsString(s->blockState));",
          "content_same": false
        },
        {
          "line": 3976,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(s->blockState == TBLOCK_ABORT_END ||\n\t\t   s->blockState == TBLOCK_ABORT_PENDING)",
          "old_line_content": "\ts->chain = chain;",
          "new_line_content": "\tAssert(s->blockState == TBLOCK_ABORT_END ||",
          "content_same": false
        },
        {
          "line": 1935,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(s->prevSecContext == 0)",
          "old_line_content": "\t * Make sure we've reset xact state variables",
          "new_line_content": "\tAssert(s->prevSecContext == 0);",
          "content_same": false
        },
        {
          "line": 1945,
          "old_api": null,
          "new_api": "RecoveryInProgress",
          "old_text": null,
          "new_text": "RecoveryInProgress()",
          "old_line_content": "\t\tXactReadOnly = true;",
          "new_line_content": "\tif (RecoveryInProgress())",
          "content_same": false
        },
        {
          "line": 1977,
          "old_api": null,
          "new_api": "AtStart_Memory",
          "old_text": null,
          "new_text": "AtStart_Memory()",
          "old_line_content": "\t/*",
          "new_line_content": "\tAtStart_Memory();",
          "content_same": false
        },
        {
          "line": 1978,
          "old_api": null,
          "new_api": "AtStart_ResourceOwner",
          "old_text": null,
          "new_text": "AtStart_ResourceOwner()",
          "old_line_content": "\t * Assign a new LocalTransactionId, and combine it with the backendId to",
          "new_line_content": "\tAtStart_ResourceOwner();",
          "content_same": false
        },
        {
          "line": 1985,
          "old_api": null,
          "new_api": "GetNextLocalTransactionId",
          "old_text": null,
          "new_text": "GetNextLocalTransactionId()",
          "old_line_content": "\t * Lock the virtual transaction id before we announce it in the proc array",
          "new_line_content": "\tvxid.localTransactionId = GetNextLocalTransactionId();",
          "content_same": false
        },
        {
          "line": 1990,
          "old_api": null,
          "new_api": "VirtualXactLockTableInsert",
          "old_text": null,
          "new_text": "VirtualXactLockTableInsert(vxid)",
          "old_line_content": "\t * Advertise it in the proc array.  We assume assignment of",
          "new_line_content": "\tVirtualXactLockTableInsert(vxid);",
          "content_same": false
        },
        {
          "line": 1999,
          "old_api": null,
          "new_api": "TRACE_POSTGRESQL_TRANSACTION_START",
          "old_text": null,
          "new_text": "TRACE_POSTGRESQL_TRANSACTION_START(vxid.localTransactionId)",
          "old_line_content": "\t * set transaction_timestamp() (a/k/a now()).  Normally, we want this to",
          "new_line_content": "\tTRACE_POSTGRESQL_TRANSACTION_START(vxid.localTransactionId);",
          "content_same": false
        },
        {
          "line": 4051,
          "old_api": null,
          "new_api": "ereport",
          "old_text": null,
          "new_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),\n\t\t\t\t errmsg(\"cannot define savepoints during a parallel operation\")))",
          "old_line_content": "",
          "new_line_content": "\t\tereport(ERROR,",
          "content_same": false
        },
        {
          "line": 4052,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_INVALID_TRANSACTION_STATE)",
          "old_line_content": "\tswitch (s->blockState)",
          "new_line_content": "\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),",
          "content_same": false
        },
        {
          "line": 4053,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"cannot define savepoints during a parallel operation\")",
          "old_line_content": "\t{",
          "new_line_content": "\t\t\t\t errmsg(\"cannot define savepoints during a parallel operation\")));",
          "content_same": false
        },
        {
          "line": 2010,
          "old_api": null,
          "new_api": "IsParallelWorker",
          "old_text": null,
          "new_text": "IsParallelWorker()",
          "old_line_content": "\t\t\txactStartTimestamp = stmtStartTimestamp;",
          "new_line_content": "\tif (!IsParallelWorker())",
          "content_same": false
        },
        {
          "line": 4060,
          "old_api": null,
          "new_api": "PushTransaction",
          "old_text": null,
          "new_text": "PushTransaction()",
          "old_line_content": "\t\t\t/*",
          "new_line_content": "\t\t\tPushTransaction();",
          "content_same": false
        },
        {
          "line": 2018,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(xactStartTimestamp != 0)",
          "old_line_content": "\txactStopTimestamp = 0;",
          "new_line_content": "\t\tAssert(xactStartTimestamp != 0);",
          "content_same": false
        },
        {
          "line": 2019,
          "old_api": null,
          "new_api": "pgstat_report_xact_timestamp",
          "old_text": null,
          "new_text": "pgstat_report_xact_timestamp(xactStartTimestamp)",
          "old_line_content": "",
          "new_line_content": "\tpgstat_report_xact_timestamp(xactStartTimestamp);",
          "content_same": false
        },
        {
          "line": 4068,
          "old_api": null,
          "new_api": "MemoryContextStrdup",
          "old_text": null,
          "new_text": "MemoryContextStrdup(TopTransactionContext, name)",
          "old_line_content": "\t\t\t/*",
          "new_line_content": "\t\t\t\ts->name = MemoryContextStrdup(TopTransactionContext, name);",
          "content_same": false
        },
        {
          "line": 2026,
          "old_api": null,
          "new_api": "AtStart_GUC",
          "old_text": null,
          "new_text": "AtStart_GUC()",
          "old_line_content": "",
          "new_line_content": "\tAtStart_GUC();",
          "content_same": false
        },
        {
          "line": 2027,
          "old_api": null,
          "new_api": "AtStart_Cache",
          "old_text": null,
          "new_text": "AtStart_Cache()",
          "old_line_content": "\t/*",
          "new_line_content": "\tAtStart_Cache();",
          "content_same": false
        },
        {
          "line": 2028,
          "old_api": null,
          "new_api": "AfterTriggerBeginXact",
          "old_text": null,
          "new_text": "AfterTriggerBeginXact()",
          "old_line_content": "\t * done with start processing, set current transaction state to \"in",
          "new_line_content": "\tAfterTriggerBeginXact();",
          "content_same": false
        },
        {
          "line": 2036,
          "old_api": null,
          "new_api": "ShowTransactionState",
          "old_text": null,
          "new_text": "ShowTransactionState(\"StartTransaction\")",
          "old_line_content": "",
          "new_line_content": "\tShowTransactionState(\"StartTransaction\");",
          "content_same": false
        },
        {
          "line": 4087,
          "old_api": null,
          "new_api": "errcode",
          "old_text": null,
          "new_text": "errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION)",
          "old_line_content": "\t\t\t\t\t\t\t\"SAVEPOINT\")));",
          "new_line_content": "\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),",
          "content_same": false
        },
        {
          "line": 4089,
          "old_api": null,
          "new_api": "errmsg",
          "old_text": null,
          "new_text": "errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\"SAVEPOINT\")",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2053,
          "old_api": "EnterParallelMode",
          "new_api": null,
          "old_text": "EnterParallelMode()",
          "new_text": null,
          "old_line_content": "\t\tEnterParallelMode();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2055,
          "old_api": "ShowTransactionState",
          "new_api": null,
          "old_text": "ShowTransactionState(\"CommitTransaction\")",
          "new_text": null,
          "old_line_content": "\tShowTransactionState(\"CommitTransaction\");",
          "new_line_content": "\tif (is_parallel_worker)",
          "content_same": false
        },
        {
          "line": 4108,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(FATAL, \"DefineSavepoint: unexpected state %s\",\n\t\t\t\t BlockStateAsString(s->blockState))",
          "new_text": null,
          "old_line_content": "\t\t\telog(FATAL, \"DefineSavepoint: unexpected state %s\",",
          "new_line_content": "\t\tcase TBLOCK_SUBRESTART:",
          "content_same": false
        },
        {
          "line": 2061,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(WARNING, \"CommitTransaction while in %s state\",\n\t\t\t TransStateAsString(s->state))",
          "new_text": null,
          "old_line_content": "\t\telog(WARNING, \"CommitTransaction while in %s state\",",
          "new_line_content": "\t * check the current transaction state",
          "content_same": false
        },
        {
          "line": 2062,
          "old_api": "TransStateAsString",
          "new_api": null,
          "old_text": "TransStateAsString(s->state)",
          "new_text": null,
          "old_line_content": "\t\t\t TransStateAsString(s->state));",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2063,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(s->parent == NULL)",
          "new_text": null,
          "old_line_content": "\tAssert(s->parent == NULL);",
          "new_line_content": "\tif (s->state != TRANS_INPROGRESS)",
          "content_same": false
        },
        {
          "line": 4109,
          "old_api": "BlockStateAsString",
          "new_api": null,
          "old_text": "BlockStateAsString(s->blockState)",
          "new_text": null,
          "old_line_content": "\t\t\t\t BlockStateAsString(s->blockState));",
          "new_line_content": "\t\tcase TBLOCK_SUBABORT_RESTART:",
          "content_same": false
        },
        {
          "line": 2076,
          "old_api": "AfterTriggerFireDeferred",
          "new_api": null,
          "old_text": "AfterTriggerFireDeferred()",
          "new_text": null,
          "old_line_content": "\t\tAfterTriggerFireDeferred();",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 2083,
          "old_api": "PreCommit_Portals",
          "new_api": null,
          "old_text": "PreCommit_Portals(false)",
          "new_text": null,
          "old_line_content": "\t\tif (!PreCommit_Portals(false))",
          "new_line_content": "\t\t * If there weren't any, we are done ... otherwise loop back to check",
          "content_same": false
        },
        {
          "line": 4134,
          "old_api": "IsInParallelMode",
          "new_api": null,
          "old_text": "IsInParallelMode()",
          "new_text": null,
          "old_line_content": "\tif (IsInParallelMode())",
          "new_line_content": "\t * is TBLOCK_PARALLEL_INPROGRESS, so we can treat that as an invalid case",
          "content_same": false
        },
        {
          "line": 2087,
          "old_api": "CallXactCallbacks",
          "new_api": null,
          "old_text": "CallXactCallbacks(is_parallel_worker ? XACT_EVENT_PARALLEL_PRE_COMMIT\n\t\t\t\t\t  : XACT_EVENT_PRE_COMMIT)",
          "new_text": null,
          "old_line_content": "\tCallXactCallbacks(is_parallel_worker ? XACT_EVENT_PARALLEL_PRE_COMMIT",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 4135,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),\n\t\t\t\t errmsg(\"cannot release savepoints during a parallel operation\")))",
          "new_text": null,
          "old_line_content": "\t\tereport(ERROR,",
          "new_line_content": "\t * below.)",
          "content_same": false
        },
        {
          "line": 4136,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_INVALID_TRANSACTION_STATE)",
          "new_text": null,
          "old_line_content": "\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 4145,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),\n\t\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist\", name)))",
          "new_text": null,
          "old_line_content": "\t\t\tereport(ERROR,",
          "new_line_content": "\t\t\t * We can't release a savepoint if there is no savepoint defined.",
          "content_same": false
        },
        {
          "line": 2098,
          "old_api": "IsInParallelMode",
          "new_api": null,
          "old_text": "IsInParallelMode()",
          "new_text": null,
          "old_line_content": "\tif (IsInParallelMode())",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2099,
          "old_api": "AtEOXact_Parallel",
          "new_api": null,
          "old_text": "AtEOXact_Parallel(true)",
          "new_text": null,
          "old_line_content": "\t\tAtEOXact_Parallel(true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4146,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_S_E_INVALID_SPECIFICATION)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),",
          "new_line_content": "\t\t\t */",
          "content_same": false
        },
        {
          "line": 4147,
          "old_api": "errmsg",
          "new_api": null,
          "old_text": "errmsg(\"savepoint \\\"%s\\\" does not exist\", name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist\", name)));",
          "new_line_content": "\t\tcase TBLOCK_INPROGRESS:",
          "content_same": false
        },
        {
          "line": 4152,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),\n\t\t\t/* translator: %s represents an SQL statement name */\n\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\"RELEASE SAVEPOINT\")))",
          "new_text": null,
          "old_line_content": "\t\t\tereport(ERROR,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4153,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),",
          "new_line_content": "\t\tcase TBLOCK_IMPLICIT_INPROGRESS:",
          "content_same": false
        },
        {
          "line": 2108,
          "old_api": "PreCommit_on_commit_actions",
          "new_api": null,
          "old_text": "PreCommit_on_commit_actions()",
          "new_text": null,
          "old_line_content": "\tPreCommit_on_commit_actions();",
          "new_line_content": "\t * Let ON COMMIT management do its thing (must happen after closing",
          "content_same": false
        },
        {
          "line": 2121,
          "old_api": "PreCommit_CheckForSerializationFailure",
          "new_api": null,
          "old_text": "PreCommit_CheckForSerializationFailure()",
          "new_text": null,
          "old_line_content": "\t\tPreCommit_CheckForSerializationFailure();",
          "new_line_content": "\t * the leader's transaction and its serializable state will live on.",
          "content_same": false
        },
        {
          "line": 2128,
          "old_api": "PreCommit_Notify",
          "new_api": null,
          "old_text": "PreCommit_Notify()",
          "new_text": null,
          "old_line_content": "\tPreCommit_Notify();",
          "new_line_content": "\t * should be late in the pre-commit sequence to minimize time spent",
          "content_same": false
        },
        {
          "line": 4184,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(FATAL, \"ReleaseSavepoint: unexpected state %s\",\n\t\t\t\t BlockStateAsString(s->blockState))",
          "new_text": null,
          "old_line_content": "\t\t\telog(FATAL, \"ReleaseSavepoint: unexpected state %s\",",
          "new_line_content": "\t\tcase TBLOCK_SUBRESTART:",
          "content_same": false
        },
        {
          "line": 4185,
          "old_api": "BlockStateAsString",
          "new_api": null,
          "old_text": "BlockStateAsString(s->blockState)",
          "new_text": null,
          "old_line_content": "\t\t\t\t BlockStateAsString(s->blockState));",
          "new_line_content": "\t\tcase TBLOCK_SUBABORT_RESTART:",
          "content_same": false
        },
        {
          "line": 4189,
          "old_api": "PointerIsValid",
          "new_api": null,
          "old_text": "PointerIsValid(target)",
          "new_text": null,
          "old_line_content": "\tfor (target = s; PointerIsValid(target); target = target->parent)",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 4191,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(target->name, name)",
          "new_text": null,
          "old_line_content": "\t\tif (PointerIsValid(target->name) && strcmp(target->name, name) == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4195,
          "old_api": "PointerIsValid",
          "new_api": null,
          "old_text": "PointerIsValid(target)",
          "new_text": null,
          "old_line_content": "\tif (!PointerIsValid(target))",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 4196,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),\n\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist\", name)))",
          "new_text": null,
          "old_line_content": "\t\tereport(ERROR,",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2149,
          "old_api": "RecordTransactionCommit",
          "new_api": null,
          "old_text": "RecordTransactionCommit()",
          "new_text": null,
          "old_line_content": "\t\tlatestXid = RecordTransactionCommit();",
          "new_line_content": "\t\t * We need to mark our XIDs as committed in pg_xact.  This is where we",
          "content_same": false
        },
        {
          "line": 4197,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_S_E_INVALID_SPECIFICATION)",
          "new_text": null,
          "old_line_content": "\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4202,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),\n\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist within current savepoint level\", name)))",
          "new_text": null,
          "old_line_content": "\t\tereport(ERROR,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4203,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_S_E_INVALID_SPECIFICATION)",
          "new_text": null,
          "old_line_content": "\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),",
          "new_line_content": "\t/* disallow crossing savepoint level boundaries */",
          "content_same": false
        },
        {
          "line": 4204,
          "old_api": "errmsg",
          "new_api": null,
          "old_text": "errmsg(\"savepoint \\\"%s\\\" does not exist within current savepoint level\", name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist within current savepoint level\", name)));",
          "new_line_content": "\tif (target->savepointLevel != s->savepointLevel)",
          "content_same": false
        },
        {
          "line": 2163,
          "old_api": "ParallelWorkerReportLastRecEnd",
          "new_api": null,
          "old_text": "ParallelWorkerReportLastRecEnd(XactLastRecEnd)",
          "new_text": null,
          "old_line_content": "\t\tParallelWorkerReportLastRecEnd(XactLastRecEnd);",
          "new_line_content": "\t\t * Make sure the master will know about any WAL we wrote before it",
          "content_same": false
        },
        {
          "line": 4214,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(xact->blockState == TBLOCK_SUBINPROGRESS)",
          "new_text": null,
          "old_line_content": "\t\tAssert(xact->blockState == TBLOCK_SUBINPROGRESS);",
          "new_line_content": "\txact = CurrentTransactionState;",
          "content_same": false
        },
        {
          "line": 4219,
          "old_api": "PointerIsValid",
          "new_api": null,
          "old_text": "PointerIsValid(xact)",
          "new_text": null,
          "old_line_content": "\t\tAssert(PointerIsValid(xact));",
          "new_line_content": "\t\tif (xact == target)",
          "content_same": false
        },
        {
          "line": 2173,
          "old_api": "ProcArrayEndTransaction",
          "new_api": null,
          "old_text": "ProcArrayEndTransaction(MyProc, latestXid)",
          "new_text": null,
          "old_line_content": "\tProcArrayEndTransaction(MyProc, latestXid);",
          "new_line_content": "\t * must be done _before_ releasing locks we hold and _after_",
          "content_same": false
        },
        {
          "line": 2191,
          "old_api": "CallXactCallbacks",
          "new_api": null,
          "old_text": "CallXactCallbacks(is_parallel_worker ? XACT_EVENT_PARALLEL_COMMIT\n\t\t\t\t\t  : XACT_EVENT_COMMIT)",
          "new_text": null,
          "old_line_content": "\tCallXactCallbacks(is_parallel_worker ? XACT_EVENT_PARALLEL_COMMIT",
          "new_line_content": "\t * state.",
          "content_same": false
        },
        {
          "line": 4243,
          "old_api": "IsInParallelMode",
          "new_api": null,
          "old_text": "IsInParallelMode()",
          "new_text": null,
          "old_line_content": "\tif (IsInParallelMode())",
          "new_line_content": "\t * is TBLOCK_PARALLEL_INPROGRESS, so we can treat that as an invalid case",
          "content_same": false
        },
        {
          "line": 4244,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),\n\t\t\t\t errmsg(\"cannot rollback to savepoints during a parallel operation\")))",
          "new_text": null,
          "old_line_content": "\t\tereport(ERROR,",
          "new_line_content": "\t * below.)",
          "content_same": false
        },
        {
          "line": 4245,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_INVALID_TRANSACTION_STATE)",
          "new_text": null,
          "old_line_content": "\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2199,
          "old_api": "AtEOXact_Buffers",
          "new_api": null,
          "old_text": "AtEOXact_Buffers(true)",
          "new_text": null,
          "old_line_content": "\tAtEOXact_Buffers(true);",
          "new_line_content": "\t\t\t\t\t\t true, true);",
          "content_same": false
        },
        {
          "line": 4256,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),\n\t\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist\", name)))",
          "new_text": null,
          "old_line_content": "\t\t\tereport(ERROR,",
          "new_line_content": "\t\t\t */",
          "content_same": false
        },
        {
          "line": 4257,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_S_E_INVALID_SPECIFICATION)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),",
          "new_line_content": "\t\tcase TBLOCK_INPROGRESS:",
          "content_same": false
        },
        {
          "line": 4258,
          "old_api": "errmsg",
          "new_api": null,
          "old_text": "errmsg(\"savepoint \\\"%s\\\" does not exist\", name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist\", name)));",
          "new_line_content": "\t\tcase TBLOCK_ABORT:",
          "content_same": false
        },
        {
          "line": 2211,
          "old_api": "AtEOXact_Inval",
          "new_api": null,
          "old_text": "AtEOXact_Inval(true)",
          "new_text": null,
          "old_line_content": "\tAtEOXact_Inval(true);",
          "new_line_content": "\t * waiting for lock on a relation we've modified, we want them to know",
          "content_same": false
        },
        {
          "line": 2213,
          "old_api": "AtEOXact_MultiXact",
          "new_api": null,
          "old_text": "AtEOXact_MultiXact()",
          "new_text": null,
          "old_line_content": "\tAtEOXact_MultiXact();",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2215,
          "old_api": "ResourceOwnerRelease",
          "new_api": null,
          "old_text": "ResourceOwnerRelease(TopTransactionResourceOwner,\n\t\t\t\t\t\t RESOURCE_RELEASE_LOCKS,\n\t\t\t\t\t\t true, true)",
          "new_text": null,
          "old_line_content": "\tResourceOwnerRelease(TopTransactionResourceOwner,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4263,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),\n\t\t\t/* translator: %s represents an SQL statement name */\n\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\"ROLLBACK TO SAVEPOINT\")))",
          "new_text": null,
          "old_line_content": "\t\t\tereport(ERROR,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4264,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),",
          "new_line_content": "\t\tcase TBLOCK_IMPLICIT_INPROGRESS:",
          "content_same": false
        },
        {
          "line": 2231,
          "old_api": "smgrDoPendingDeletes",
          "new_api": null,
          "old_text": "smgrDoPendingDeletes(true)",
          "new_text": null,
          "old_line_content": "\tsmgrDoPendingDeletes(true);",
          "new_line_content": "\t * Other backends will observe the attendant catalog changes and not",
          "content_same": false
        },
        {
          "line": 2233,
          "old_api": "AtCommit_Notify",
          "new_api": null,
          "old_text": "AtCommit_Notify()",
          "new_text": null,
          "old_line_content": "\tAtCommit_Notify();",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2235,
          "old_api": "AtEOXact_SPI",
          "new_api": null,
          "old_text": "AtEOXact_SPI(true)",
          "new_text": null,
          "old_line_content": "\tAtEOXact_SPI(true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4293,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(FATAL, \"RollbackToSavepoint: unexpected state %s\",\n\t\t\t\t BlockStateAsString(s->blockState))",
          "new_text": null,
          "old_line_content": "\t\t\telog(FATAL, \"RollbackToSavepoint: unexpected state %s\",",
          "new_line_content": "\t\tcase TBLOCK_SUBRESTART:",
          "content_same": false
        },
        {
          "line": 4294,
          "old_api": "BlockStateAsString",
          "new_api": null,
          "old_text": "BlockStateAsString(s->blockState)",
          "new_text": null,
          "old_line_content": "\t\t\t\t BlockStateAsString(s->blockState));",
          "new_line_content": "\t\tcase TBLOCK_SUBABORT_RESTART:",
          "content_same": false
        },
        {
          "line": 4298,
          "old_api": "PointerIsValid",
          "new_api": null,
          "old_text": "PointerIsValid(target)",
          "new_text": null,
          "old_line_content": "\tfor (target = s; PointerIsValid(target); target = target->parent)",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 4300,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(target->name, name)",
          "new_text": null,
          "old_line_content": "\t\tif (PointerIsValid(target->name) && strcmp(target->name, name) == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2254,
          "old_api": "AtCommit_Memory",
          "new_api": null,
          "old_text": "AtCommit_Memory()",
          "new_text": null,
          "old_line_content": "\tAtCommit_Memory();",
          "new_line_content": "\tCurTransactionResourceOwner = NULL;",
          "content_same": false
        },
        {
          "line": 4304,
          "old_api": "PointerIsValid",
          "new_api": null,
          "old_text": "PointerIsValid(target)",
          "new_text": null,
          "old_line_content": "\tif (!PointerIsValid(target))",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 4305,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),\n\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist\", name)))",
          "new_text": null,
          "old_line_content": "\t\tereport(ERROR,",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4306,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_S_E_INVALID_SPECIFICATION)",
          "new_text": null,
          "old_line_content": "\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4311,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),\n\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist within current savepoint level\", name)))",
          "new_text": null,
          "old_line_content": "\t\tereport(ERROR,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4312,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_S_E_INVALID_SPECIFICATION)",
          "new_text": null,
          "old_line_content": "\t\t\t\t(errcode(ERRCODE_S_E_INVALID_SPECIFICATION),",
          "new_line_content": "\t/* disallow crossing savepoint level boundaries */",
          "content_same": false
        },
        {
          "line": 4313,
          "old_api": "errmsg",
          "new_api": null,
          "old_text": "errmsg(\"savepoint \\\"%s\\\" does not exist within current savepoint level\", name)",
          "new_text": null,
          "old_line_content": "\t\t\t\t errmsg(\"savepoint \\\"%s\\\" does not exist within current savepoint level\", name)));",
          "new_line_content": "\tif (target->savepointLevel != s->savepointLevel)",
          "content_same": false
        },
        {
          "line": 2273,
          "old_api": "RESUME_INTERRUPTS",
          "new_api": null,
          "old_text": "RESUME_INTERRUPTS()",
          "new_text": null,
          "old_line_content": "\tRESUME_INTERRUPTS();",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 4330,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(FATAL, \"RollbackToSavepoint: unexpected state %s\",\n\t\t\t\t BlockStateAsString(xact->blockState))",
          "new_text": null,
          "old_line_content": "\t\t\telog(FATAL, \"RollbackToSavepoint: unexpected state %s\",",
          "new_line_content": "\t\telse if (xact->blockState == TBLOCK_SUBABORT)",
          "content_same": false
        },
        {
          "line": 4331,
          "old_api": "BlockStateAsString",
          "new_api": null,
          "old_text": "BlockStateAsString(xact->blockState)",
          "new_text": null,
          "old_line_content": "\t\t\t\t BlockStateAsString(xact->blockState));",
          "new_line_content": "\t\t\txact->blockState = TBLOCK_SUBABORT_END;",
          "content_same": false
        },
        {
          "line": 2286,
          "old_api": "GetCurrentTransactionId",
          "new_api": null,
          "old_text": "GetCurrentTransactionId()",
          "new_text": null,
          "old_line_content": "\tTransactionId xid = GetCurrentTransactionId();",
          "new_line_content": "PrepareTransaction(void)",
          "content_same": false
        },
        {
          "line": 2290,
          "old_api": "IsInParallelMode",
          "new_api": null,
          "old_text": "IsInParallelMode()",
          "new_text": null,
          "old_line_content": "\tAssert(!IsInParallelMode());",
          "new_line_content": "\tGlobalTransaction gxact;",
          "content_same": false
        },
        {
          "line": 2292,
          "old_api": "ShowTransactionState",
          "new_api": null,
          "old_text": "ShowTransactionState(\"PrepareTransaction\")",
          "new_text": null,
          "old_line_content": "\tShowTransactionState(\"PrepareTransaction\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4342,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(FATAL, \"RollbackToSavepoint: unexpected state %s\",\n\t\t\t BlockStateAsString(xact->blockState))",
          "new_text": null,
          "old_line_content": "\t\telog(FATAL, \"RollbackToSavepoint: unexpected state %s\",",
          "new_line_content": "\telse if (xact->blockState == TBLOCK_SUBABORT)",
          "content_same": false
        },
        {
          "line": 4343,
          "old_api": "BlockStateAsString",
          "new_api": null,
          "old_text": "BlockStateAsString(xact->blockState)",
          "new_text": null,
          "old_line_content": "\t\t\t BlockStateAsString(xact->blockState));",
          "new_line_content": "\t\txact->blockState = TBLOCK_SUBABORT_RESTART;",
          "content_same": false
        },
        {
          "line": 2298,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(WARNING, \"PrepareTransaction while in %s state\",\n\t\t\t TransStateAsString(s->state))",
          "new_text": null,
          "old_line_content": "\t\telog(WARNING, \"PrepareTransaction while in %s state\",",
          "new_line_content": "\t * check the current transaction state",
          "content_same": false
        },
        {
          "line": 2299,
          "old_api": "TransStateAsString",
          "new_api": null,
          "old_text": "TransStateAsString(s->state)",
          "new_text": null,
          "old_line_content": "\t\t\t TransStateAsString(s->state));",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2300,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(s->parent == NULL)",
          "new_text": null,
          "old_line_content": "\tAssert(s->parent == NULL);",
          "new_line_content": "\tif (s->state != TRANS_INPROGRESS)",
          "content_same": false
        },
        {
          "line": 2313,
          "old_api": "AfterTriggerFireDeferred",
          "new_api": null,
          "old_text": "AfterTriggerFireDeferred()",
          "new_text": null,
          "old_line_content": "\t\tAfterTriggerFireDeferred();",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 2320,
          "old_api": "PreCommit_Portals",
          "new_api": null,
          "old_text": "PreCommit_Portals(true)",
          "new_text": null,
          "old_line_content": "\t\tif (!PreCommit_Portals(true))",
          "new_line_content": "\t\t * If there weren't any, we are done ... otherwise loop back to check",
          "content_same": false
        },
        {
          "line": 4371,
          "old_api": "IsInParallelMode",
          "new_api": null,
          "old_text": "IsInParallelMode()",
          "new_text": null,
          "old_line_content": "\tif (IsInParallelMode())",
          "new_line_content": "\t * transaction state occurs. For now, however, we prohibit this case along",
          "content_same": false
        },
        {
          "line": 2324,
          "old_api": "CallXactCallbacks",
          "new_api": null,
          "old_text": "CallXactCallbacks(XACT_EVENT_PRE_PREPARE)",
          "new_text": null,
          "old_line_content": "\tCallXactCallbacks(XACT_EVENT_PRE_PREPARE);",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 4372,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),\n\t\t\t\t errmsg(\"cannot start subtransactions during a parallel operation\")))",
          "new_text": null,
          "old_line_content": "\t\tereport(ERROR,",
          "new_line_content": "\t * with all the others.",
          "content_same": false
        },
        {
          "line": 4373,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_INVALID_TRANSACTION_STATE)",
          "new_text": null,
          "old_line_content": "\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2334,
          "old_api": "AfterTriggerEndXact",
          "new_api": null,
          "old_text": "AfterTriggerEndXact(true)",
          "new_text": null,
          "old_line_content": "\tAfterTriggerEndXact(true);",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 4385,
          "old_api": "PushTransaction",
          "new_api": null,
          "old_text": "PushTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tPushTransaction();",
          "new_line_content": "\t\tcase TBLOCK_PREPARE:",
          "content_same": false
        },
        {
          "line": 2340,
          "old_api": "PreCommit_on_commit_actions",
          "new_api": null,
          "old_text": "PreCommit_on_commit_actions()",
          "new_text": null,
          "old_line_content": "\tPreCommit_on_commit_actions();",
          "new_line_content": "\t * Let ON COMMIT management do its thing (must happen after closing",
          "content_same": false
        },
        {
          "line": 4393,
          "old_api": "MemoryContextStrdup",
          "new_api": null,
          "old_text": "MemoryContextStrdup(TopTransactionContext, name)",
          "new_text": null,
          "old_line_content": "\t\t\t\ts->name = MemoryContextStrdup(TopTransactionContext, name);",
          "new_line_content": "\t\t\t * in TopTransactionContext.",
          "content_same": false
        },
        {
          "line": 2350,
          "old_api": "PreCommit_CheckForSerializationFailure",
          "new_api": null,
          "old_text": "PreCommit_CheckForSerializationFailure()",
          "new_text": null,
          "old_line_content": "\tPreCommit_CheckForSerializationFailure();",
          "new_line_content": "\t * purposes.  This should be done as late as we can put it and still allow",
          "content_same": false
        },
        {
          "line": 4411,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(FATAL, \"BeginInternalSubTransaction: unexpected state %s\",\n\t\t\t\t BlockStateAsString(s->blockState))",
          "new_text": null,
          "old_line_content": "\t\t\telog(FATAL, \"BeginInternalSubTransaction: unexpected state %s\",",
          "new_line_content": "\t\tcase TBLOCK_SUBABORT_PENDING:",
          "content_same": false
        },
        {
          "line": 4412,
          "old_api": "BlockStateAsString",
          "new_api": null,
          "old_text": "BlockStateAsString(s->blockState)",
          "new_text": null,
          "old_line_content": "\t\t\t\t BlockStateAsString(s->blockState));",
          "new_line_content": "\t\tcase TBLOCK_SUBRESTART:",
          "content_same": false
        },
        {
          "line": 4416,
          "old_api": "CommitTransactionCommand",
          "new_api": null,
          "old_text": "CommitTransactionCommand()",
          "new_text": null,
          "old_line_content": "\tCommitTransactionCommand();",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 4417,
          "old_api": "StartTransactionCommand",
          "new_api": null,
          "old_text": "StartTransactionCommand()",
          "new_text": null,
          "old_line_content": "\tStartTransactionCommand();",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2375,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_FEATURE_NOT_SUPPORTED),\n\t\t\t\t errmsg(\"cannot PREPARE a transaction that has operated on temporary objects\")))",
          "new_text": null,
          "old_line_content": "\t\tereport(ERROR,",
          "new_line_content": "\t * transaction.  That seems to require much more bookkeeping though.",
          "content_same": false
        },
        {
          "line": 2376,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_FEATURE_NOT_SUPPORTED)",
          "new_text": null,
          "old_line_content": "\t\t\t\t(errcode(ERRCODE_FEATURE_NOT_SUPPORTED),",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2377,
          "old_api": "errmsg",
          "new_api": null,
          "old_text": "errmsg(\"cannot PREPARE a transaction that has operated on temporary objects\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t errmsg(\"cannot PREPARE a transaction that has operated on temporary objects\")));",
          "new_line_content": "\tif ((MyXactFlags & XACT_FLAGS_ACCESSEDTEMPNAMESPACE))",
          "content_same": false
        },
        {
          "line": 2384,
          "old_api": "XactHasExportedSnapshots",
          "new_api": null,
          "old_text": "XactHasExportedSnapshots()",
          "new_text": null,
          "old_line_content": "\tif (XactHasExportedSnapshots())",
          "new_line_content": "\t * supported if we added cleanup logic to twophase.c, but for now it",
          "content_same": false
        },
        {
          "line": 2385,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_FEATURE_NOT_SUPPORTED),\n\t\t\t\t errmsg(\"cannot PREPARE a transaction that has exported snapshots\")))",
          "new_text": null,
          "old_line_content": "\t\tereport(ERROR,",
          "new_line_content": "\t * doesn't seem worth the trouble.",
          "content_same": false
        },
        {
          "line": 2386,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_FEATURE_NOT_SUPPORTED)",
          "new_text": null,
          "old_line_content": "\t\t\t\t(errcode(ERRCODE_FEATURE_NOT_SUPPORTED),",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 4439,
          "old_api": "IsInParallelMode",
          "new_api": null,
          "old_text": "IsInParallelMode()",
          "new_text": null,
          "old_line_content": "\tif (IsInParallelMode())",
          "new_line_content": "\t * typically have called BeginInternalSubTransaction() first, failing",
          "content_same": false
        },
        {
          "line": 4440,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),\n\t\t\t\t errmsg(\"cannot commit subtransactions during a parallel operation\")))",
          "new_text": null,
          "old_line_content": "\t\tereport(ERROR,",
          "new_line_content": "\t * there.",
          "content_same": false
        },
        {
          "line": 2393,
          "old_api": "XactManipulatesLogicalReplicationWorkers",
          "new_api": null,
          "old_text": "XactManipulatesLogicalReplicationWorkers()",
          "new_text": null,
          "old_line_content": "\tif (XactManipulatesLogicalReplicationWorkers())",
          "new_line_content": "\t * Don't allow PREPARE but for transaction that has/might kill logical",
          "content_same": false
        },
        {
          "line": 2394,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_FEATURE_NOT_SUPPORTED),\n\t\t\t\t errmsg(\"cannot PREPARE a transaction that has manipulated logical replication workers\")))",
          "new_text": null,
          "old_line_content": "\t\tereport(ERROR,",
          "new_line_content": "\t * replication workers.",
          "content_same": false
        },
        {
          "line": 2395,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_FEATURE_NOT_SUPPORTED)",
          "new_text": null,
          "old_line_content": "\t\t\t\t(errcode(ERRCODE_FEATURE_NOT_SUPPORTED),",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 4441,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_INVALID_TRANSACTION_STATE)",
          "new_text": null,
          "old_line_content": "\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 4446,
          "old_api": "BlockStateAsString",
          "new_api": null,
          "old_text": "BlockStateAsString(s->blockState)",
          "new_text": null,
          "old_line_content": "\t\t\t BlockStateAsString(s->blockState));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4447,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(s->state == TRANS_INPROGRESS)",
          "new_text": null,
          "old_line_content": "\tAssert(s->state == TRANS_INPROGRESS);",
          "new_line_content": "\tif (s->blockState != TBLOCK_SUBINPROGRESS)",
          "content_same": false
        },
        {
          "line": 2407,
          "old_api": "GetCurrentTimestamp",
          "new_api": null,
          "old_text": "GetCurrentTimestamp()",
          "new_text": null,
          "old_line_content": "\tprepared_at = GetCurrentTimestamp();",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2416,
          "old_api": "MarkAsPreparing",
          "new_api": null,
          "old_text": "MarkAsPreparing(xid, prepareGID, prepared_at,\n\t\t\t\t\t\t\tGetUserId(), MyDatabaseId)",
          "new_text": null,
          "old_line_content": "\tgxact = MarkAsPreparing(xid, prepareGID, prepared_at,",
          "new_line_content": "\t * Reserve the GID for this transaction. This could fail if the requested",
          "content_same": false
        },
        {
          "line": 2417,
          "old_api": "GetUserId",
          "new_api": null,
          "old_text": "GetUserId()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\tGetUserId(), MyDatabaseId);",
          "new_line_content": "\t * GID is invalid or already in use.",
          "content_same": false
        },
        {
          "line": 2436,
          "old_api": "StartPrepare",
          "new_api": null,
          "old_text": "StartPrepare(gxact)",
          "new_text": null,
          "old_line_content": "\tStartPrepare(gxact);",
          "new_line_content": "\t * PREPARED; in particular, pay attention to whether things should happen",
          "content_same": false
        },
        {
          "line": 2438,
          "old_api": "AtPrepare_Notify",
          "new_api": null,
          "old_text": "AtPrepare_Notify()",
          "new_text": null,
          "old_line_content": "\tAtPrepare_Notify();",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2440,
          "old_api": "AtPrepare_PredicateLocks",
          "new_api": null,
          "old_text": "AtPrepare_PredicateLocks()",
          "new_text": null,
          "old_line_content": "\tAtPrepare_PredicateLocks();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2452,
          "old_api": "EndPrepare",
          "new_api": null,
          "old_text": "EndPrepare(gxact)",
          "new_text": null,
          "old_line_content": "\tEndPrepare(gxact);",
          "new_line_content": "\t * updates, because the transaction manager might get confused if we lose",
          "content_same": false
        },
        {
          "line": 4500,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(FATAL, \"RollbackAndReleaseCurrentSubTransaction: unexpected state %s\",\n\t\t\t\t BlockStateAsString(s->blockState))",
          "new_text": null,
          "old_line_content": "\t\t\telog(FATAL, \"RollbackAndReleaseCurrentSubTransaction: unexpected state %s\",",
          "new_line_content": "\t\tcase TBLOCK_SUBRESTART:",
          "content_same": false
        },
        {
          "line": 4501,
          "old_api": "BlockStateAsString",
          "new_api": null,
          "old_text": "BlockStateAsString(s->blockState)",
          "new_text": null,
          "old_line_content": "\t\t\t\t BlockStateAsString(s->blockState));",
          "new_line_content": "\t\tcase TBLOCK_SUBABORT_RESTART:",
          "content_same": false
        },
        {
          "line": 4509,
          "old_api": "AbortSubTransaction",
          "new_api": null,
          "old_text": "AbortSubTransaction()",
          "new_text": null,
          "old_line_content": "\t\tAbortSubTransaction();",
          "new_line_content": "\t * Abort the current subtransaction, if needed.",
          "content_same": false
        },
        {
          "line": 2466,
          "old_api": "ProcArrayClearTransaction",
          "new_api": null,
          "old_text": "ProcArrayClearTransaction(MyProc)",
          "new_text": null,
          "old_line_content": "\tProcArrayClearTransaction(MyProc);",
          "new_line_content": "\t * done *after* the prepared transaction has been marked valid, else",
          "content_same": false
        },
        {
          "line": 2478,
          "old_api": "CallXactCallbacks",
          "new_api": null,
          "old_text": "CallXactCallbacks(XACT_EVENT_PREPARE)",
          "new_text": null,
          "old_line_content": "\tCallXactCallbacks(XACT_EVENT_PREPARE);",
          "new_line_content": "\t * that cure could be worse than the disease.",
          "content_same": false
        },
        {
          "line": 2480,
          "old_api": "ResourceOwnerRelease",
          "new_api": null,
          "old_text": "ResourceOwnerRelease(TopTransactionResourceOwner,\n\t\t\t\t\t\t RESOURCE_RELEASE_BEFORE_LOCKS,\n\t\t\t\t\t\t true, true)",
          "new_text": null,
          "old_line_content": "\tResourceOwnerRelease(TopTransactionResourceOwner,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2485,
          "old_api": "AtEOXact_Buffers",
          "new_api": null,
          "old_text": "AtEOXact_Buffers(true)",
          "new_text": null,
          "old_line_content": "\tAtEOXact_Buffers(true);",
          "new_line_content": "\t\t\t\t\t\t true, true);",
          "content_same": false
        },
        {
          "line": 4534,
          "old_api": "AtAbort_Memory",
          "new_api": null,
          "old_text": "AtAbort_Memory()",
          "new_text": null,
          "old_line_content": "\tAtAbort_Memory();",
          "new_line_content": "\tTransactionState s = CurrentTransactionState;",
          "content_same": false
        },
        {
          "line": 2492,
          "old_api": "PostPrepare_PgStat",
          "new_api": null,
          "old_text": "PostPrepare_PgStat()",
          "new_text": null,
          "old_line_content": "\tPostPrepare_PgStat();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2494,
          "old_api": "PostPrepare_Inval",
          "new_api": null,
          "old_text": "PostPrepare_Inval()",
          "new_text": null,
          "old_line_content": "\tPostPrepare_Inval();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2496,
          "old_api": "PostPrepare_smgr",
          "new_api": null,
          "old_text": "PostPrepare_smgr()",
          "new_text": null,
          "old_line_content": "\tPostPrepare_smgr();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2498,
          "old_api": "PostPrepare_MultiXact",
          "new_api": null,
          "old_text": "PostPrepare_MultiXact(xid)",
          "new_text": null,
          "old_line_content": "\tPostPrepare_MultiXact(xid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2500,
          "old_api": "PostPrepare_Locks",
          "new_api": null,
          "old_text": "PostPrepare_Locks(xid)",
          "new_text": null,
          "old_line_content": "\tPostPrepare_Locks(xid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4559,
          "old_api": "AbortTransaction",
          "new_api": null,
          "old_text": "AbortTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tAbortTransaction();",
          "new_line_content": "\t\t\t\t\t */",
          "content_same": false
        },
        {
          "line": 4560,
          "old_api": "CleanupTransaction",
          "new_api": null,
          "old_text": "CleanupTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tCleanupTransaction();",
          "new_line_content": "\t\t\t\t\tif (s->state == TRANS_START)",
          "content_same": false
        },
        {
          "line": 2515,
          "old_api": "PostPrepare_Twophase",
          "new_api": null,
          "old_text": "PostPrepare_Twophase()",
          "new_text": null,
          "old_line_content": "\tPostPrepare_Twophase();",
          "new_line_content": "\t * PostPrepare_Twophase(), the transaction is completely detached from our",
          "content_same": false
        },
        {
          "line": 2519,
          "old_api": "AtEOXact_SPI",
          "new_api": null,
          "old_text": "AtEOXact_SPI(true)",
          "new_text": null,
          "old_line_content": "\tAtEOXact_SPI(true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2520,
          "old_api": "AtEOXact_Enum",
          "new_api": null,
          "old_text": "AtEOXact_Enum()",
          "new_text": null,
          "old_line_content": "\tAtEOXact_Enum();",
          "new_line_content": "\t/* PREPARE acts the same as COMMIT as far as GUC is concerned */",
          "content_same": false
        },
        {
          "line": 4572,
          "old_api": "AbortTransaction",
          "new_api": null,
          "old_text": "AbortTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\t\tAbortTransaction();",
          "new_line_content": "\t\t\tcase TBLOCK_ABORT_PENDING:",
          "content_same": false
        },
        {
          "line": 4573,
          "old_api": "CleanupTransaction",
          "new_api": null,
          "old_text": "CleanupTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\t\tCleanupTransaction();",
          "new_line_content": "\t\t\tcase TBLOCK_PREPARE:",
          "content_same": false
        },
        {
          "line": 2537,
          "old_api": "AtCommit_Memory",
          "new_api": null,
          "old_text": "AtCommit_Memory()",
          "new_text": null,
          "old_line_content": "\tAtCommit_Memory();",
          "new_line_content": "\tCurTransactionResourceOwner = NULL;",
          "content_same": false
        },
        {
          "line": 4585,
          "old_api": "AtAbort_Portals",
          "new_api": null,
          "old_text": "AtAbort_Portals()",
          "new_text": null,
          "old_line_content": "\t\t\t\tAtAbort_Portals();",
          "new_line_content": "\t\t\t\t * there will be an active portal running that command, which",
          "content_same": false
        },
        {
          "line": 4586,
          "old_api": "CleanupTransaction",
          "new_api": null,
          "old_text": "CleanupTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\t\tCleanupTransaction();",
          "new_line_content": "\t\t\t\t * we need to shut down before doing CleanupTransaction.",
          "content_same": false
        },
        {
          "line": 4599,
          "old_api": "AbortSubTransaction",
          "new_api": null,
          "old_text": "AbortSubTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\t\tAbortSubTransaction();",
          "new_line_content": "\t\t\tcase TBLOCK_SUBCOMMIT:",
          "content_same": false
        },
        {
          "line": 4600,
          "old_api": "CleanupSubTransaction",
          "new_api": null,
          "old_text": "CleanupSubTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\t\tCleanupSubTransaction();",
          "new_line_content": "\t\t\tcase TBLOCK_SUBABORT_PENDING:",
          "content_same": false
        },
        {
          "line": 2556,
          "old_api": "RESUME_INTERRUPTS",
          "new_api": null,
          "old_text": "RESUME_INTERRUPTS()",
          "new_text": null,
          "old_line_content": "\tRESUME_INTERRUPTS();",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 4611,
          "old_api": "AtSubAbort_Portals",
          "new_api": null,
          "old_text": "AtSubAbort_Portals(s->subTransactionId,\n\t\t\t\t\t\t\t\t\t   s->parent->subTransactionId,\n\t\t\t\t\t\t\t\t\t   s->curTransactionOwner,\n\t\t\t\t\t\t\t\t\t   s->parent->curTransactionOwner)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tAtSubAbort_Portals(s->subTransactionId,",
          "new_line_content": "\t\t\t\tif (s->curTransactionOwner)",
          "content_same": false
        },
        {
          "line": 4616,
          "old_api": "CleanupSubTransaction",
          "new_api": null,
          "old_text": "CleanupSubTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\t\tCleanupSubTransaction();",
          "new_line_content": "\t\t\t\t\t\t\t\t\t   s->curTransactionOwner,",
          "content_same": false
        },
        {
          "line": 2571,
          "old_api": "HOLD_INTERRUPTS",
          "new_api": null,
          "old_text": "HOLD_INTERRUPTS()",
          "new_text": null,
          "old_line_content": "\tHOLD_INTERRUPTS();",
          "new_line_content": "\tbool\t\tis_parallel_worker;",
          "content_same": false
        },
        {
          "line": 2575,
          "old_api": "AtAbort_ResourceOwner",
          "new_api": null,
          "old_text": "AtAbort_ResourceOwner()",
          "new_text": null,
          "old_line_content": "\tAtAbort_ResourceOwner();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4623,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(s->parent == NULL)",
          "new_text": null,
          "old_line_content": "\tAssert(s->parent == NULL);",
          "new_line_content": "\t} while (s->blockState != TBLOCK_DEFAULT);",
          "content_same": false
        },
        {
          "line": 2583,
          "old_api": "LWLockReleaseAll",
          "new_api": null,
          "old_text": "LWLockReleaseAll()",
          "new_text": null,
          "old_line_content": "\tLWLockReleaseAll();",
          "new_line_content": "\t * Releasing LW locks is critical since we might try to grab them again",
          "content_same": false
        },
        {
          "line": 2587,
          "old_api": "pgstat_progress_end_command",
          "new_api": null,
          "old_text": "pgstat_progress_end_command()",
          "new_text": null,
          "old_line_content": "\tpgstat_progress_end_command();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2591,
          "old_api": "UnlockBuffers",
          "new_api": null,
          "old_text": "UnlockBuffers()",
          "new_text": null,
          "old_line_content": "\tUnlockBuffers();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2603,
          "old_api": "LockErrorCleanup",
          "new_api": null,
          "old_text": "LockErrorCleanup()",
          "new_text": null,
          "old_line_content": "\tLockErrorCleanup();",
          "new_line_content": "\t * Also clean up any open wait for lock, since the lock manager will choke",
          "content_same": false
        },
        {
          "line": 2612,
          "old_api": "reschedule_timeouts",
          "new_api": null,
          "old_text": "reschedule_timeouts()",
          "new_text": null,
          "old_line_content": "\treschedule_timeouts();",
          "new_line_content": "\t * We delay this till after LockErrorCleanup so that we don't uselessly",
          "content_same": false
        },
        {
          "line": 2619,
          "old_api": "PG_SETMASK",
          "new_api": null,
          "old_text": "PG_SETMASK(&UnBlockSig)",
          "new_text": null,
          "old_line_content": "\tPG_SETMASK(&UnBlockSig);",
          "new_line_content": "\t * handler.  We do this fairly early in the sequence so that the timeout",
          "content_same": false
        },
        {
          "line": 2626,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(WARNING, \"AbortTransaction while in %s state\",\n\t\t\t TransStateAsString(s->state))",
          "new_text": null,
          "old_line_content": "\t\telog(WARNING, \"AbortTransaction while in %s state\",",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2627,
          "old_api": "TransStateAsString",
          "new_api": null,
          "old_text": "TransStateAsString(s->state)",
          "new_text": null,
          "old_line_content": "\t\t\t TransStateAsString(s->state));",
          "new_line_content": "\tis_parallel_worker = (s->blockState == TBLOCK_PARALLEL_INPROGRESS);",
          "content_same": false
        },
        {
          "line": 2628,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(s->parent == NULL)",
          "new_text": null,
          "old_line_content": "\tAssert(s->parent == NULL);",
          "new_line_content": "\tif (s->state != TRANS_INPROGRESS && s->state != TRANS_PREPARE)",
          "content_same": false
        },
        {
          "line": 2646,
          "old_api": "SetUserIdAndSecContext",
          "new_api": null,
          "old_text": "SetUserIdAndSecContext(s->prevUser, s->prevSecContext)",
          "new_text": null,
          "old_line_content": "\tSetUserIdAndSecContext(s->prevUser, s->prevSecContext);",
          "new_line_content": "\t * settings here because those can only be changed via GUC, and GUC will",
          "content_same": false
        },
        {
          "line": 4697,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(FATAL, \"invalid transaction block state: %s\",\n\t\t BlockStateAsString(s->blockState))",
          "new_text": null,
          "old_line_content": "\telog(FATAL, \"invalid transaction block state: %s\",",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4698,
          "old_api": "BlockStateAsString",
          "new_api": null,
          "old_text": "BlockStateAsString(s->blockState)",
          "new_text": null,
          "old_line_content": "\t\t BlockStateAsString(s->blockState));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2651,
          "old_api": "AtEOXact_Parallel",
          "new_api": null,
          "old_text": "AtEOXact_Parallel(false)",
          "new_text": null,
          "old_line_content": "\t\tAtEOXact_Parallel(false);",
          "new_line_content": "\t/* If in parallel mode, clean up workers and exit parallel mode. */",
          "content_same": false
        },
        {
          "line": 2658,
          "old_api": "AfterTriggerEndXact",
          "new_api": null,
          "old_text": "AfterTriggerEndXact(false)",
          "new_text": null,
          "old_line_content": "\tAfterTriggerEndXact(false); /* 'false' means it's abort */",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 2659,
          "old_api": "AtAbort_Portals",
          "new_api": null,
          "old_text": "AtAbort_Portals()",
          "new_text": null,
          "old_line_content": "\tAtAbort_Portals();",
          "new_line_content": "\t * do abort processing",
          "content_same": false
        },
        {
          "line": 2660,
          "old_api": "AtEOXact_LargeObject",
          "new_api": null,
          "old_text": "AtEOXact_LargeObject(false)",
          "new_text": null,
          "old_line_content": "\tAtEOXact_LargeObject(false);",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2672,
          "old_api": "RecordTransactionAbort",
          "new_api": null,
          "old_text": "RecordTransactionAbort(false)",
          "new_text": null,
          "old_line_content": "\t\tlatestXid = RecordTransactionAbort(false);",
          "new_line_content": "\t * record.",
          "content_same": false
        },
        {
          "line": 2682,
          "old_api": "XLogSetAsyncXactLSN",
          "new_api": null,
          "old_text": "XLogSetAsyncXactLSN(XactLastRecEnd)",
          "new_text": null,
          "old_line_content": "\t\tXLogSetAsyncXactLSN(XactLastRecEnd);",
          "new_line_content": "\t\t * this case, we nudge WAL-writer ourselves in this case.  See related",
          "content_same": false
        },
        {
          "line": 4734,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(WARNING, \"StartSubTransaction while in %s state\",\n\t\t\t TransStateAsString(s->state))",
          "new_text": null,
          "old_line_content": "\t\telog(WARNING, \"StartSubTransaction while in %s state\",",
          "new_line_content": "\tTransactionState s = CurrentTransactionState;",
          "content_same": false
        },
        {
          "line": 4735,
          "old_api": "TransStateAsString",
          "new_api": null,
          "old_text": "TransStateAsString(s->state)",
          "new_text": null,
          "old_line_content": "\t\t\t TransStateAsString(s->state));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2692,
          "old_api": "ProcArrayEndTransaction",
          "new_api": null,
          "old_text": "ProcArrayEndTransaction(MyProc, latestXid)",
          "new_text": null,
          "old_line_content": "\tProcArrayEndTransaction(MyProc, latestXid);",
          "new_line_content": "\t * must be done _before_ releasing locks we hold and _after_",
          "content_same": false
        },
        {
          "line": 4744,
          "old_api": "AtSubStart_Memory",
          "new_api": null,
          "old_text": "AtSubStart_Memory()",
          "new_text": null,
          "old_line_content": "\tAtSubStart_Memory();",
          "new_line_content": "\t *",
          "content_same": false
        },
        {
          "line": 4745,
          "old_api": "AtSubStart_ResourceOwner",
          "new_api": null,
          "old_text": "AtSubStart_ResourceOwner()",
          "new_text": null,
          "old_line_content": "\tAtSubStart_ResourceOwner();",
          "new_line_content": "\t * must initialize resource-management stuff first",
          "content_same": false
        },
        {
          "line": 4746,
          "old_api": "AfterTriggerBeginSubXact",
          "new_api": null,
          "old_text": "AfterTriggerBeginSubXact()",
          "new_text": null,
          "old_line_content": "\tAfterTriggerBeginSubXact();",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2702,
          "old_api": "CallXactCallbacks",
          "new_api": null,
          "old_text": "CallXactCallbacks(XACT_EVENT_PARALLEL_ABORT)",
          "new_text": null,
          "old_line_content": "\t\t\tCallXactCallbacks(XACT_EVENT_PARALLEL_ABORT);",
          "new_line_content": "\tif (TopTransactionResourceOwner != NULL)",
          "content_same": false
        },
        {
          "line": 2704,
          "old_api": "CallXactCallbacks",
          "new_api": null,
          "old_text": "CallXactCallbacks(XACT_EVENT_ABORT)",
          "new_text": null,
          "old_line_content": "\t\t\tCallXactCallbacks(XACT_EVENT_ABORT);",
          "new_line_content": "\t\tif (is_parallel_worker)",
          "content_same": false
        },
        {
          "line": 4753,
          "old_api": "CallSubXactCallbacks",
          "new_api": null,
          "old_text": "CallSubXactCallbacks(SUBXACT_EVENT_START_SUB, s->subTransactionId,\n\t\t\t\t\t\t s->parent->subTransactionId)",
          "new_text": null,
          "old_line_content": "\tCallSubXactCallbacks(SUBXACT_EVENT_START_SUB, s->subTransactionId,",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 2706,
          "old_api": "ResourceOwnerRelease",
          "new_api": null,
          "old_text": "ResourceOwnerRelease(TopTransactionResourceOwner,\n\t\t\t\t\t\t\t RESOURCE_RELEASE_BEFORE_LOCKS,\n\t\t\t\t\t\t\t false, true)",
          "new_text": null,
          "old_line_content": "\t\tResourceOwnerRelease(TopTransactionResourceOwner,",
          "new_line_content": "\t\telse",
          "content_same": false
        },
        {
          "line": 2710,
          "old_api": "AtEOXact_RelationCache",
          "new_api": null,
          "old_text": "AtEOXact_RelationCache(false)",
          "new_text": null,
          "old_line_content": "\t\tAtEOXact_RelationCache(false);",
          "new_line_content": "\t\t\t\t\t\t\t RESOURCE_RELEASE_BEFORE_LOCKS,",
          "content_same": false
        },
        {
          "line": 2711,
          "old_api": "AtEOXact_Inval",
          "new_api": null,
          "old_text": "AtEOXact_Inval(false)",
          "new_text": null,
          "old_line_content": "\t\tAtEOXact_Inval(false);",
          "new_line_content": "\t\t\t\t\t\t\t false, true);",
          "content_same": false
        },
        {
          "line": 2721,
          "old_api": "AtEOXact_GUC",
          "new_api": null,
          "old_text": "AtEOXact_GUC(false, 1)",
          "new_text": null,
          "old_line_content": "\t\tAtEOXact_GUC(false, 1);",
          "new_line_content": "\t\t\t\t\t\t\t false, true);",
          "content_same": false
        },
        {
          "line": 4770,
          "old_api": "ShowTransactionState",
          "new_api": null,
          "old_text": "ShowTransactionState(\"CommitSubTransaction\")",
          "new_text": null,
          "old_line_content": "\tShowTransactionState(\"CommitSubTransaction\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2723,
          "old_api": "AtEOXact_Enum",
          "new_api": null,
          "old_text": "AtEOXact_Enum()",
          "new_text": null,
          "old_line_content": "\t\tAtEOXact_Enum();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4774,
          "old_api": "TransStateAsString",
          "new_api": null,
          "old_text": "TransStateAsString(s->state)",
          "new_text": null,
          "old_line_content": "\t\t\t TransStateAsString(s->state));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4778,
          "old_api": "CallSubXactCallbacks",
          "new_api": null,
          "old_text": "CallSubXactCallbacks(SUBXACT_EVENT_PRE_COMMIT_SUB, s->subTransactionId,\n\t\t\t\t\t\t s->parent->subTransactionId)",
          "new_text": null,
          "old_line_content": "\tCallSubXactCallbacks(SUBXACT_EVENT_PRE_COMMIT_SUB, s->subTransactionId,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4782,
          "old_api": "IsInParallelMode",
          "new_api": null,
          "old_text": "IsInParallelMode()",
          "new_text": null,
          "old_line_content": "\tif (IsInParallelMode())",
          "new_line_content": "\t\t\t\t\t\t s->parent->subTransactionId);",
          "content_same": false
        },
        {
          "line": 4784,
          "old_api": "AtEOSubXact_Parallel",
          "new_api": null,
          "old_text": "AtEOSubXact_Parallel(true, s->subTransactionId)",
          "new_text": null,
          "old_line_content": "\t\tAtEOSubXact_Parallel(true, s->subTransactionId);",
          "new_line_content": "\t/* If in parallel mode, clean up workers and exit parallel mode. */",
          "content_same": false
        },
        {
          "line": 2738,
          "old_api": "RESUME_INTERRUPTS",
          "new_api": null,
          "old_text": "RESUME_INTERRUPTS()",
          "new_text": null,
          "old_line_content": "\tRESUME_INTERRUPTS();",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 4792,
          "old_api": "CommandCounterIncrement",
          "new_api": null,
          "old_text": "CommandCounterIncrement()",
          "new_text": null,
          "old_line_content": "\tCommandCounterIncrement();",
          "new_line_content": "\ts->state = TRANS_COMMIT;",
          "content_same": false
        },
        {
          "line": 2753,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(FATAL, \"CleanupTransaction: unexpected state %s\",\n\t\t\t TransStateAsString(s->state))",
          "new_text": null,
          "old_line_content": "\t\telog(FATAL, \"CleanupTransaction: unexpected state %s\",",
          "new_line_content": "\t * State should still be TRANS_ABORT from AbortTransaction().",
          "content_same": false
        },
        {
          "line": 2754,
          "old_api": "TransStateAsString",
          "new_api": null,
          "old_text": "TransStateAsString(s->state)",
          "new_text": null,
          "old_line_content": "\t\t\t TransStateAsString(s->state));",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 4801,
          "old_api": "FullTransactionIdIsValid",
          "new_api": null,
          "old_text": "FullTransactionIdIsValid(s->fullTransactionId)",
          "new_text": null,
          "old_line_content": "\tif (FullTransactionIdIsValid(s->fullTransactionId))",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 4802,
          "old_api": "AtSubCommit_childXids",
          "new_api": null,
          "old_text": "AtSubCommit_childXids()",
          "new_text": null,
          "old_line_content": "\t\tAtSubCommit_childXids();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4803,
          "old_api": "AfterTriggerEndSubXact",
          "new_api": null,
          "old_text": "AfterTriggerEndSubXact(true)",
          "new_text": null,
          "old_line_content": "\tAfterTriggerEndSubXact(true);",
          "new_line_content": "\t/* Post-commit cleanup */",
          "content_same": false
        },
        {
          "line": 2759,
          "old_api": "AtCleanup_Portals",
          "new_api": null,
          "old_text": "AtCleanup_Portals()",
          "new_text": null,
          "old_line_content": "\tAtCleanup_Portals();\t\t/* now safe to release portal memory */",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 2760,
          "old_api": "AtEOXact_Snapshot",
          "new_api": null,
          "old_text": "AtEOXact_Snapshot(false, true)",
          "new_text": null,
          "old_line_content": "\tAtEOXact_Snapshot(false, true); /* and release the transaction's snapshots */",
          "new_line_content": "\t * do abort cleanup processing",
          "content_same": false
        },
        {
          "line": 4809,
          "old_api": "AtSubCommit_Notify",
          "new_api": null,
          "old_text": "AtSubCommit_Notify()",
          "new_text": null,
          "old_line_content": "\tAtSubCommit_Notify();",
          "new_line_content": "\t\t\t\t\t\ts->parent->curTransactionOwner);",
          "content_same": false
        },
        {
          "line": 4811,
          "old_api": "CallSubXactCallbacks",
          "new_api": null,
          "old_text": "CallSubXactCallbacks(SUBXACT_EVENT_COMMIT_SUB, s->subTransactionId,\n\t\t\t\t\t\t s->parent->subTransactionId)",
          "new_text": null,
          "old_line_content": "\tCallSubXactCallbacks(SUBXACT_EVENT_COMMIT_SUB, s->subTransactionId,",
          "new_line_content": "\t\t\t\t\t\t\ts->parent->subTransactionId);",
          "content_same": false
        },
        {
          "line": 2764,
          "old_api": "ResourceOwnerDelete",
          "new_api": null,
          "old_text": "ResourceOwnerDelete(TopTransactionResourceOwner)",
          "new_text": null,
          "old_line_content": "\t\tResourceOwnerDelete(TopTransactionResourceOwner);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2769,
          "old_api": "AtCleanup_Memory",
          "new_api": null,
          "old_text": "AtCleanup_Memory()",
          "new_text": null,
          "old_line_content": "\tAtCleanup_Memory();\t\t\t/* and transaction memory */",
          "new_line_content": "\tCurTransactionResourceOwner = NULL;",
          "content_same": false
        },
        {
          "line": 4819,
          "old_api": "AtEOSubXact_Inval",
          "new_api": null,
          "old_text": "AtEOSubXact_Inval(true)",
          "new_text": null,
          "old_line_content": "\tAtEOSubXact_Inval(true);",
          "new_line_content": "\t\t\t\t\t\t true, false);",
          "content_same": false
        },
        {
          "line": 4826,
          "old_api": "FullTransactionIdIsValid",
          "new_api": null,
          "old_text": "FullTransactionIdIsValid(s->fullTransactionId)",
          "new_text": null,
          "old_line_content": "\tif (FullTransactionIdIsValid(s->fullTransactionId))",
          "new_line_content": "\t * The only lock we actually release here is the subtransaction XID lock.",
          "content_same": false
        },
        {
          "line": 4827,
          "old_api": "XidFromFullTransactionId",
          "new_api": null,
          "old_text": "XidFromFullTransactionId(s->fullTransactionId)",
          "new_text": null,
          "old_line_content": "\t\tXactLockTableDelete(XidFromFullTransactionId(s->fullTransactionId));",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 4832,
          "old_api": "ResourceOwnerRelease",
          "new_api": null,
          "old_text": "ResourceOwnerRelease(s->curTransactionOwner,\n\t\t\t\t\t\t RESOURCE_RELEASE_LOCKS,\n\t\t\t\t\t\t true, false)",
          "new_text": null,
          "old_line_content": "\tResourceOwnerRelease(s->curTransactionOwner,",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 4839,
          "old_api": "AtEOXact_GUC",
          "new_api": null,
          "old_text": "AtEOXact_GUC(true, s->gucNestLevel)",
          "new_text": null,
          "old_line_content": "\tAtEOXact_GUC(true, s->gucNestLevel);",
          "new_line_content": "\t\t\t\t\t\t RESOURCE_RELEASE_AFTER_LOCKS,",
          "content_same": false
        },
        {
          "line": 4840,
          "old_api": "AtEOSubXact_SPI",
          "new_api": null,
          "old_text": "AtEOSubXact_SPI(true, s->subTransactionId)",
          "new_text": null,
          "old_line_content": "\tAtEOSubXact_SPI(true, s->subTransactionId);",
          "new_line_content": "\t\t\t\t\t\t true, false);",
          "content_same": false
        },
        {
          "line": 4841,
          "old_api": "AtEOSubXact_on_commit_actions",
          "new_api": null,
          "old_text": "AtEOSubXact_on_commit_actions(true, s->subTransactionId,\n\t\t\t\t\t\t\t\t  s->parent->subTransactionId)",
          "new_text": null,
          "old_line_content": "\tAtEOSubXact_on_commit_actions(true, s->subTransactionId,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4845,
          "old_api": "AtEOSubXact_Files",
          "new_api": null,
          "old_text": "AtEOSubXact_Files(true, s->subTransactionId,\n\t\t\t\t\t  s->parent->subTransactionId)",
          "new_text": null,
          "old_line_content": "\tAtEOSubXact_Files(true, s->subTransactionId,",
          "new_line_content": "\t\t\t\t\t\t\t\t  s->parent->subTransactionId);",
          "content_same": false
        },
        {
          "line": 4847,
          "old_api": "AtEOSubXact_HashTables",
          "new_api": null,
          "old_text": "AtEOSubXact_HashTables(true, s->nestingLevel)",
          "new_text": null,
          "old_line_content": "\tAtEOSubXact_HashTables(true, s->nestingLevel);",
          "new_line_content": "\t\t\t\t\t\t  s->parent->subTransactionId);",
          "content_same": false
        },
        {
          "line": 4849,
          "old_api": "AtSubCommit_Snapshot",
          "new_api": null,
          "old_text": "AtSubCommit_Snapshot(s->nestingLevel)",
          "new_text": null,
          "old_line_content": "\tAtSubCommit_Snapshot(s->nestingLevel);",
          "new_line_content": "\t\t\t\t\t  s->parent->subTransactionId);",
          "content_same": false
        },
        {
          "line": 2805,
          "old_api": "StartTransaction",
          "new_api": null,
          "old_text": "StartTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tStartTransaction();",
          "new_line_content": "\t\t\t * transaction.",
          "content_same": false
        },
        {
          "line": 4861,
          "old_api": "ResourceOwnerDelete",
          "new_api": null,
          "old_text": "ResourceOwnerDelete(s->curTransactionOwner)",
          "new_text": null,
          "old_line_content": "\tResourceOwnerDelete(s->curTransactionOwner);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4868,
          "old_api": "PopTransaction",
          "new_api": null,
          "old_text": "PopTransaction()",
          "new_text": null,
          "old_line_content": "\tPopTransaction();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4880,
          "old_api": "HOLD_INTERRUPTS",
          "new_api": null,
          "old_text": "HOLD_INTERRUPTS()",
          "new_text": null,
          "old_line_content": "\tHOLD_INTERRUPTS();",
          "new_line_content": "\tTransactionState s = CurrentTransactionState;",
          "content_same": false
        },
        {
          "line": 4884,
          "old_api": "AtSubAbort_ResourceOwner",
          "new_api": null,
          "old_text": "AtSubAbort_ResourceOwner()",
          "new_text": null,
          "old_line_content": "\tAtSubAbort_ResourceOwner();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4895,
          "old_api": "LWLockReleaseAll",
          "new_api": null,
          "old_text": "LWLockReleaseAll()",
          "new_text": null,
          "old_line_content": "\tLWLockReleaseAll();",
          "new_line_content": "\t * FIXME This may be incorrect --- Are there some locks we should keep?",
          "content_same": false
        },
        {
          "line": 2848,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"StartTransactionCommand: unexpected state %s\",\n\t\t\t\t BlockStateAsString(s->blockState))",
          "new_text": null,
          "old_line_content": "\t\t\telog(ERROR, \"StartTransactionCommand: unexpected state %s\",",
          "new_line_content": "\t\tcase TBLOCK_SUBRESTART:",
          "content_same": false
        },
        {
          "line": 2849,
          "old_api": "BlockStateAsString",
          "new_api": null,
          "old_text": "BlockStateAsString(s->blockState)",
          "new_text": null,
          "old_line_content": "\t\t\t\t BlockStateAsString(s->blockState));",
          "new_line_content": "\t\tcase TBLOCK_SUBABORT_RESTART:",
          "content_same": false
        },
        {
          "line": 4897,
          "old_api": "pgstat_report_wait_end",
          "new_api": null,
          "old_text": "pgstat_report_wait_end()",
          "new_text": null,
          "old_line_content": "\tpgstat_report_wait_end();",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 4899,
          "old_api": "AbortBufferIO",
          "new_api": null,
          "old_text": "AbortBufferIO()",
          "new_text": null,
          "old_line_content": "\tAbortBufferIO();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2857,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(CurTransactionContext != NULL)",
          "new_text": null,
          "old_line_content": "\tAssert(CurTransactionContext != NULL);",
          "new_line_content": "\t * We must switch to CurTransactionContext before returning. This is",
          "content_same": false
        },
        {
          "line": 2858,
          "old_api": "MemoryContextSwitchTo",
          "new_api": null,
          "old_text": "MemoryContextSwitchTo(CurTransactionContext)",
          "new_text": null,
          "old_line_content": "\tMemoryContextSwitchTo(CurTransactionContext);",
          "new_line_content": "\t * already done if we called StartTransaction, otherwise not.",
          "content_same": false
        },
        {
          "line": 4912,
          "old_api": "LockErrorCleanup",
          "new_api": null,
          "old_text": "LockErrorCleanup()",
          "new_text": null,
          "old_line_content": "\tLockErrorCleanup();",
          "new_line_content": "\t * Also clean up any open wait for lock, since the lock manager will choke",
          "content_same": false
        },
        {
          "line": 4921,
          "old_api": "reschedule_timeouts",
          "new_api": null,
          "old_text": "reschedule_timeouts()",
          "new_text": null,
          "old_line_content": "\treschedule_timeouts();",
          "new_line_content": "\t * We delay this till after LockErrorCleanup so that we don't uselessly",
          "content_same": false
        },
        {
          "line": 4928,
          "old_api": "PG_SETMASK",
          "new_api": null,
          "old_text": "PG_SETMASK(&UnBlockSig)",
          "new_text": null,
          "old_line_content": "\tPG_SETMASK(&UnBlockSig);",
          "new_line_content": "\t * handler.  We do this fairly early in the sequence so that the timeout",
          "content_same": false
        },
        {
          "line": 4933,
          "old_api": "ShowTransactionState",
          "new_api": null,
          "old_text": "ShowTransactionState(\"AbortSubTransaction\")",
          "new_text": null,
          "old_line_content": "\tShowTransactionState(\"AbortSubTransaction\");",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 4937,
          "old_api": "TransStateAsString",
          "new_api": null,
          "old_text": "TransStateAsString(s->state)",
          "new_text": null,
          "old_line_content": "\t\t\t TransStateAsString(s->state));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4945,
          "old_api": "SetUserIdAndSecContext",
          "new_api": null,
          "old_text": "SetUserIdAndSecContext(s->prevUser, s->prevSecContext)",
          "new_text": null,
          "old_line_content": "\tSetUserIdAndSecContext(s->prevUser, s->prevSecContext);",
          "new_line_content": "\t * Reset user ID which might have been changed transiently.  (See notes in",
          "content_same": false
        },
        {
          "line": 2900,
          "old_api": "SaveTransactionCharacteristics",
          "new_api": null,
          "old_text": "SaveTransactionCharacteristics()",
          "new_text": null,
          "old_line_content": "\t\tSaveTransactionCharacteristics();",
          "new_line_content": "\tTransactionState s = CurrentTransactionState;",
          "content_same": false
        },
        {
          "line": 4950,
          "old_api": "AtEOSubXact_Parallel",
          "new_api": null,
          "old_text": "AtEOSubXact_Parallel(false, s->subTransactionId)",
          "new_text": null,
          "old_line_content": "\t\tAtEOSubXact_Parallel(false, s->subTransactionId);",
          "new_line_content": "\t/* Exit from parallel mode, if necessary. */",
          "content_same": false
        },
        {
          "line": 2912,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(FATAL, \"CommitTransactionCommand: unexpected state %s\",\n\t\t\t\t BlockStateAsString(s->blockState))",
          "new_text": null,
          "old_line_content": "\t\t\telog(FATAL, \"CommitTransactionCommand: unexpected state %s\",",
          "new_line_content": "\t\t\t */",
          "content_same": false
        },
        {
          "line": 2913,
          "old_api": "BlockStateAsString",
          "new_api": null,
          "old_text": "BlockStateAsString(s->blockState)",
          "new_text": null,
          "old_line_content": "\t\t\t\t BlockStateAsString(s->blockState));",
          "new_line_content": "\t\tcase TBLOCK_DEFAULT:",
          "content_same": false
        },
        {
          "line": 4960,
          "old_api": "AfterTriggerEndSubXact",
          "new_api": null,
          "old_text": "AfterTriggerEndSubXact(false)",
          "new_text": null,
          "old_line_content": "\t\tAfterTriggerEndSubXact(false);",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 4961,
          "old_api": "AtSubAbort_Portals",
          "new_api": null,
          "old_text": "AtSubAbort_Portals(s->subTransactionId,\n\t\t\t\t\t\t   s->parent->subTransactionId,\n\t\t\t\t\t\t   s->curTransactionOwner,\n\t\t\t\t\t\t   s->parent->curTransactionOwner)",
          "new_text": null,
          "old_line_content": "\t\tAtSubAbort_Portals(s->subTransactionId,",
          "new_line_content": "\tif (s->curTransactionOwner)",
          "content_same": false
        },
        {
          "line": 4965,
          "old_api": "AtEOSubXact_LargeObject",
          "new_api": null,
          "old_text": "AtEOSubXact_LargeObject(false, s->subTransactionId,\n\t\t\t\t\t\t\t\ts->parent->subTransactionId)",
          "new_text": null,
          "old_line_content": "\t\tAtEOSubXact_LargeObject(false, s->subTransactionId,",
          "new_line_content": "\t\t\t\t\t\t   s->parent->subTransactionId,",
          "content_same": false
        },
        {
          "line": 4967,
          "old_api": "AtSubAbort_Notify",
          "new_api": null,
          "old_text": "AtSubAbort_Notify()",
          "new_text": null,
          "old_line_content": "\t\tAtSubAbort_Notify();",
          "new_line_content": "\t\t\t\t\t\t   s->parent->curTransactionOwner);",
          "content_same": false
        },
        {
          "line": 2921,
          "old_api": "CommitTransaction",
          "new_api": null,
          "old_text": "CommitTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tCommitTransaction();",
          "new_line_content": "\t\t\t * transaction commit, and return to the idle state.",
          "content_same": false
        },
        {
          "line": 4974,
          "old_api": "AtSubAbort_childXids",
          "new_api": null,
          "old_text": "AtSubAbort_childXids()",
          "new_text": null,
          "old_line_content": "\t\t\tAtSubAbort_childXids();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4984,
          "old_api": "AtEOSubXact_Inval",
          "new_api": null,
          "old_text": "AtEOSubXact_Inval(false)",
          "new_text": null,
          "old_line_content": "\t\tAtEOSubXact_Inval(false);",
          "new_line_content": "\t\t\t\t\t\t\t false, false);",
          "content_same": false
        },
        {
          "line": 2943,
          "old_api": "CommandCounterIncrement",
          "new_api": null,
          "old_text": "CommandCounterIncrement()",
          "new_text": null,
          "old_line_content": "\t\t\tCommandCounterIncrement();",
          "new_line_content": "\t\tcase TBLOCK_INPROGRESS:",
          "content_same": false
        },
        {
          "line": 4993,
          "old_api": "AtEOXact_GUC",
          "new_api": null,
          "old_text": "AtEOXact_GUC(false, s->gucNestLevel)",
          "new_text": null,
          "old_line_content": "\t\tAtEOXact_GUC(false, s->gucNestLevel);",
          "new_line_content": "\t\t\t\t\t\t\t false, false);",
          "content_same": false
        },
        {
          "line": 4995,
          "old_api": "AtEOSubXact_on_commit_actions",
          "new_api": null,
          "old_text": "AtEOSubXact_on_commit_actions(false, s->subTransactionId,\n\t\t\t\t\t\t\t\t\t  s->parent->subTransactionId)",
          "new_text": null,
          "old_line_content": "\t\tAtEOSubXact_on_commit_actions(false, s->subTransactionId,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2951,
          "old_api": "CommitTransaction",
          "new_api": null,
          "old_text": "CommitTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tCommitTransaction();",
          "new_line_content": "\t\t\t * idle state.",
          "content_same": false
        },
        {
          "line": 4999,
          "old_api": "AtEOSubXact_Files",
          "new_api": null,
          "old_text": "AtEOSubXact_Files(false, s->subTransactionId,\n\t\t\t\t\t\t  s->parent->subTransactionId)",
          "new_text": null,
          "old_line_content": "\t\tAtEOSubXact_Files(false, s->subTransactionId,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t  s->parent->subTransactionId);",
          "content_same": false
        },
        {
          "line": 5001,
          "old_api": "AtEOSubXact_HashTables",
          "new_api": null,
          "old_text": "AtEOSubXact_HashTables(false, s->nestingLevel)",
          "new_text": null,
          "old_line_content": "\t\tAtEOSubXact_HashTables(false, s->nestingLevel);",
          "new_line_content": "\t\t\t\t\t\t\t  s->parent->subTransactionId);",
          "content_same": false
        },
        {
          "line": 2955,
          "old_api": "StartTransaction",
          "new_api": null,
          "old_text": "StartTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\t\tStartTransaction();",
          "new_line_content": "\t\t\ts->blockState = TBLOCK_DEFAULT;",
          "content_same": false
        },
        {
          "line": 5003,
          "old_api": "AtSubAbort_Snapshot",
          "new_api": null,
          "old_text": "AtSubAbort_Snapshot(s->nestingLevel)",
          "new_text": null,
          "old_line_content": "\t\tAtSubAbort_Snapshot(s->nestingLevel);",
          "new_line_content": "\t\t\t\t\t\t  s->parent->subTransactionId);",
          "content_same": false
        },
        {
          "line": 918,
          "old_api": "FullTransactionIdIsValid",
          "new_api": null,
          "old_text": "FullTransactionIdIsValid(s->fullTransactionId)",
          "new_text": null,
          "old_line_content": "\t\tif (!FullTransactionIdIsValid(s->fullTransactionId))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5014,
          "old_api": "RESUME_INTERRUPTS",
          "new_api": null,
          "old_text": "RESUME_INTERRUPTS()",
          "new_text": null,
          "old_line_content": "\tRESUME_INTERRUPTS();",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 920,
          "old_api": "XidFromFullTransactionId",
          "new_api": null,
          "old_text": "XidFromFullTransactionId(s->fullTransactionId)",
          "new_text": null,
          "old_line_content": "\t\tif (TransactionIdEquals(xid, XidFromFullTransactionId(s->fullTransactionId)))",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 2977,
          "old_api": "CleanupTransaction",
          "new_api": null,
          "old_text": "CleanupTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tCleanupTransaction();",
          "new_line_content": "\t\t\t * already-aborted transaction and return to the idle state.",
          "content_same": false
        },
        {
          "line": 932,
          "old_api": "TransactionIdEquals",
          "new_api": null,
          "old_text": "TransactionIdEquals(probe, xid)",
          "new_text": null,
          "old_line_content": "\t\t\tif (TransactionIdEquals(probe, xid))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2981,
          "old_api": "StartTransaction",
          "new_api": null,
          "old_text": "StartTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\t\tStartTransaction();",
          "new_line_content": "\t\t\ts->blockState = TBLOCK_DEFAULT;",
          "content_same": false
        },
        {
          "line": 934,
          "old_api": "TransactionIdPrecedes",
          "new_api": null,
          "old_text": "TransactionIdPrecedes(probe, xid)",
          "new_text": null,
          "old_line_content": "\t\t\telse if (TransactionIdPrecedes(probe, xid))",
          "new_line_content": "\t\t\tprobe = s->childXids[middle];",
          "content_same": false
        },
        {
          "line": 5028,
          "old_api": "ShowTransactionState",
          "new_api": null,
          "old_text": "ShowTransactionState(\"CleanupSubTransaction\")",
          "new_text": null,
          "old_line_content": "\tShowTransactionState(\"CleanupSubTransaction\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 5032,
          "old_api": "TransStateAsString",
          "new_api": null,
          "old_text": "TransStateAsString(s->state)",
          "new_text": null,
          "old_line_content": "\t\t\t TransStateAsString(s->state));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5039,
          "old_api": "ResourceOwnerDelete",
          "new_api": null,
          "old_text": "ResourceOwnerDelete(s->curTransactionOwner)",
          "new_text": null,
          "old_line_content": "\t\tResourceOwnerDelete(s->curTransactionOwner);",
          "new_line_content": "\tCurrentResourceOwner = s->parent->curTransactionOwner;",
          "content_same": false
        },
        {
          "line": 2994,
          "old_api": "AbortTransaction",
          "new_api": null,
          "old_text": "AbortTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tAbortTransaction();",
          "new_line_content": "\t\t\t * and then clean up.",
          "content_same": false
        },
        {
          "line": 2995,
          "old_api": "CleanupTransaction",
          "new_api": null,
          "old_text": "CleanupTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tCleanupTransaction();",
          "new_line_content": "\t\t\t */",
          "content_same": false
        },
        {
          "line": 5046,
          "old_api": "PopTransaction",
          "new_api": null,
          "old_text": "PopTransaction()",
          "new_text": null,
          "old_line_content": "\tPopTransaction();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2999,
          "old_api": "StartTransaction",
          "new_api": null,
          "old_text": "StartTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\t\tStartTransaction();",
          "new_line_content": "\t\t\ts->blockState = TBLOCK_DEFAULT;",
          "content_same": false
        },
        {
          "line": 3011,
          "old_api": "PrepareTransaction",
          "new_api": null,
          "old_text": "PrepareTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tPrepareTransaction();",
          "new_line_content": "\t\t\t * return to the idle state.",
          "content_same": false
        },
        {
          "line": 965,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(s->parallelModeLevel >= 0)",
          "new_text": null,
          "old_line_content": "\tAssert(s->parallelModeLevel >= 0);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 5066,
          "old_api": "MemoryContextAllocZero",
          "new_api": null,
          "old_text": "MemoryContextAllocZero(TopTransactionContext,\n\t\t\t\t\t\t\t   sizeof(TransactionStateData))",
          "new_text": null,
          "old_line_content": "\t\tMemoryContextAllocZero(TopTransactionContext,",
          "new_line_content": "\t * We keep subtransaction state nodes in TopTransactionContext.",
          "content_same": false
        },
        {
          "line": 3022,
          "old_api": "StartSubTransaction",
          "new_api": null,
          "old_text": "StartSubTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tStartSubTransaction();",
          "new_line_content": "\t\t\t * state.)",
          "content_same": false
        },
        {
          "line": 978,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(s->parallelModeLevel > 0)",
          "new_text": null,
          "old_line_content": "\tAssert(s->parallelModeLevel > 0);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 979,
          "old_api": "ParallelContextActive",
          "new_api": null,
          "old_text": "ParallelContextActive()",
          "new_text": null,
          "old_line_content": "\tAssert(s->parallelModeLevel > 1 || !ParallelContextActive());",
          "new_line_content": "\tTransactionState s = CurrentTransactionState;",
          "content_same": false
        },
        {
          "line": 5076,
          "old_api": "pfree",
          "new_api": null,
          "old_text": "pfree(s)",
          "new_text": null,
          "old_line_content": "\t\tpfree(s);",
          "new_line_content": "\tif (currentSubTransactionId == InvalidSubTransactionId)",
          "content_same": false
        },
        {
          "line": 5077,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_PROGRAM_LIMIT_EXCEEDED),\n\t\t\t\t errmsg(\"cannot have more than 2^32-1 subtransactions in a transaction\")))",
          "new_text": null,
          "old_line_content": "\t\tereport(ERROR,",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5078,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_PROGRAM_LIMIT_EXCEEDED)",
          "new_text": null,
          "old_line_content": "\t\t\t\t(errcode(ERRCODE_PROGRAM_LIMIT_EXCEEDED),",
          "new_line_content": "\t\tcurrentSubTransactionId -= 1;",
          "content_same": false
        },
        {
          "line": 3035,
          "old_api": "CommitSubTransaction",
          "new_api": null,
          "old_text": "CommitSubTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\t\tCommitSubTransaction();",
          "new_line_content": "\t\tcase TBLOCK_SUBRELEASE:",
          "content_same": false
        },
        {
          "line": 3039,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(s->blockState == TBLOCK_INPROGRESS ||\n\t\t\t\t   s->blockState == TBLOCK_SUBINPROGRESS)",
          "new_text": null,
          "old_line_content": "\t\t\tAssert(s->blockState == TBLOCK_INPROGRESS ||",
          "new_line_content": "\t\t\t\ts = CurrentTransactionState;\t/* changed by pop */",
          "content_same": false
        },
        {
          "line": 5090,
          "old_api": "NewGUCNestLevel",
          "new_api": null,
          "old_text": "NewGUCNestLevel()",
          "new_text": null,
          "old_line_content": "\ts->gucNestLevel = NewGUCNestLevel();",
          "new_line_content": "\ts->subTransactionId = currentSubTransactionId;",
          "content_same": false
        },
        {
          "line": 5094,
          "old_api": "GetUserIdAndSecContext",
          "new_api": null,
          "old_text": "GetUserIdAndSecContext(&s->prevUser, &s->prevSecContext)",
          "new_text": null,
          "old_line_content": "\tGetUserIdAndSecContext(&s->prevUser, &s->prevSecContext);",
          "new_line_content": "\ts->savepointLevel = p->savepointLevel;",
          "content_same": false
        },
        {
          "line": 3055,
          "old_api": "CommitSubTransaction",
          "new_api": null,
          "old_text": "CommitSubTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\t\tCommitSubTransaction();",
          "new_line_content": "\t\tcase TBLOCK_SUBCOMMIT:",
          "content_same": false
        },
        {
          "line": 3061,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(s->parent == NULL)",
          "new_text": null,
          "old_line_content": "\t\t\t\tAssert(s->parent == NULL);",
          "new_line_content": "\t\t\t/* If we had a COMMIT command, finish off the main xact too */",
          "content_same": false
        },
        {
          "line": 3062,
          "old_api": "CommitTransaction",
          "new_api": null,
          "old_text": "CommitTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\t\tCommitTransaction();",
          "new_line_content": "\t\t\tif (s->blockState == TBLOCK_END)",
          "content_same": false
        },
        {
          "line": 1018,
          "old_api": "IsParallelWorker",
          "new_api": null,
          "old_text": "IsParallelWorker()",
          "new_text": null,
          "old_line_content": "\t\tif (IsInParallelMode() || IsParallelWorker())",
          "new_line_content": "\t\t * parallel operation, so we can't account for new commands after that",
          "content_same": false
        },
        {
          "line": 3067,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(s->parent == NULL)",
          "new_text": null,
          "old_line_content": "\t\t\t\tAssert(s->parent == NULL);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 3068,
          "old_api": "PrepareTransaction",
          "new_api": null,
          "old_text": "PrepareTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\t\tPrepareTransaction();",
          "new_line_content": "\t\t\telse if (s->blockState == TBLOCK_PREPARE)",
          "content_same": false
        },
        {
          "line": 1019,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"cannot start commands during a parallel operation\")",
          "new_text": null,
          "old_line_content": "\t\t\telog(ERROR, \"cannot start commands during a parallel operation\");",
          "new_line_content": "\t\t * point.",
          "content_same": false
        },
        {
          "line": 3072,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"CommitTransactionCommand: unexpected state %s\",\n\t\t\t\t\t BlockStateAsString(s->blockState))",
          "new_text": null,
          "old_line_content": "\t\t\t\telog(ERROR, \"CommitTransactionCommand: unexpected state %s\",",
          "new_line_content": "\t\t\t\ts->blockState = TBLOCK_DEFAULT;",
          "content_same": false
        },
        {
          "line": 1025,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t\t(errcode(ERRCODE_PROGRAM_LIMIT_EXCEEDED),\n\t\t\t\t\t errmsg(\"cannot have more than 2^32-2 commands in a transaction\")))",
          "new_text": null,
          "old_line_content": "\t\t\tereport(ERROR,",
          "new_line_content": "\t\tif (currentCommandId == InvalidCommandId)",
          "content_same": false
        },
        {
          "line": 1026,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_PROGRAM_LIMIT_EXCEEDED)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t(errcode(ERRCODE_PROGRAM_LIMIT_EXCEEDED),",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 1027,
          "old_api": "errmsg",
          "new_api": null,
          "old_text": "errmsg(\"cannot have more than 2^32-2 commands in a transaction\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t errmsg(\"cannot have more than 2^32-2 commands in a transaction\")));",
          "new_line_content": "\t\t\tcurrentCommandId -= 1;",
          "content_same": false
        },
        {
          "line": 3073,
          "old_api": "BlockStateAsString",
          "new_api": null,
          "old_text": "BlockStateAsString(s->blockState)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t BlockStateAsString(s->blockState));",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 5121,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(WARNING, \"PopTransaction while in %s state\",\n\t\t\t TransStateAsString(s->state))",
          "new_text": null,
          "old_line_content": "\t\telog(WARNING, \"PopTransaction while in %s state\",",
          "new_line_content": "\tTransactionState s = CurrentTransactionState;",
          "content_same": false
        },
        {
          "line": 5122,
          "old_api": "TransStateAsString",
          "new_api": null,
          "old_text": "TransStateAsString(s->state)",
          "new_text": null,
          "old_line_content": "\t\t\t TransStateAsString(s->state));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1032,
          "old_api": "SnapshotSetCommandId",
          "new_api": null,
          "old_text": "SnapshotSetCommandId(currentCommandId)",
          "new_text": null,
          "old_line_content": "\t\tSnapshotSetCommandId(currentCommandId);",
          "new_line_content": "\t\tcurrentCommandIdUsed = false;",
          "content_same": false
        },
        {
          "line": 3082,
          "old_api": "CleanupSubTransaction",
          "new_api": null,
          "old_text": "CleanupSubTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tCleanupSubTransaction();",
          "new_line_content": "\t\t\t * examine the parent (which could be in any of several states).",
          "content_same": false
        },
        {
          "line": 3083,
          "old_api": "CommitTransactionCommand",
          "new_api": null,
          "old_text": "CommitTransactionCommand()",
          "new_text": null,
          "old_line_content": "\t\t\tCommitTransactionCommand();",
          "new_line_content": "\t\t\t */",
          "content_same": false
        },
        {
          "line": 5131,
          "old_api": "MemoryContextSwitchTo",
          "new_api": null,
          "old_text": "MemoryContextSwitchTo(CurTransactionContext)",
          "new_text": null,
          "old_line_content": "\tMemoryContextSwitchTo(CurTransactionContext);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1040,
          "old_api": "AtCCI_LocalCache",
          "new_api": null,
          "old_text": "AtCCI_LocalCache()",
          "new_text": null,
          "old_line_content": "\t\tAtCCI_LocalCache();",
          "new_line_content": "\t\t * read-only command.  (But see hacks in inval.c to make real sure we",
          "content_same": false
        },
        {
          "line": 3090,
          "old_api": "AbortSubTransaction",
          "new_api": null,
          "old_text": "AbortSubTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tAbortSubTransaction();",
          "new_line_content": "\t\t\t * As above, but it's not dead yet, so abort first.",
          "content_same": false
        },
        {
          "line": 3091,
          "old_api": "CleanupSubTransaction",
          "new_api": null,
          "old_text": "CleanupSubTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tCleanupSubTransaction();",
          "new_line_content": "\t\t\t */",
          "content_same": false
        },
        {
          "line": 3092,
          "old_api": "CommitTransactionCommand",
          "new_api": null,
          "old_text": "CommitTransactionCommand()",
          "new_text": null,
          "old_line_content": "\t\t\tCommitTransactionCommand();",
          "new_line_content": "\t\tcase TBLOCK_SUBABORT_PENDING:",
          "content_same": false
        },
        {
          "line": 5139,
          "old_api": "pfree",
          "new_api": null,
          "old_text": "pfree(s->name)",
          "new_text": null,
          "old_line_content": "\t\tpfree(s->name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5140,
          "old_api": "pfree",
          "new_api": null,
          "old_text": "pfree(s)",
          "new_text": null,
          "old_line_content": "\tpfree(s);",
          "new_line_content": "\t/* Free the old child structure */",
          "content_same": false
        },
        {
          "line": 3110,
          "old_api": "AbortSubTransaction",
          "new_api": null,
          "old_text": "AbortSubTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\t\tAbortSubTransaction();",
          "new_line_content": "\t\t\t\ts->name = NULL;",
          "content_same": false
        },
        {
          "line": 3111,
          "old_api": "CleanupSubTransaction",
          "new_api": null,
          "old_text": "CleanupSubTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\t\tCleanupSubTransaction();",
          "new_line_content": "\t\t\t\tsavepointLevel = s->savepointLevel;",
          "content_same": false
        },
        {
          "line": 5158,
          "old_api": "FullTransactionIdIsValid",
          "new_api": null,
          "old_text": "FullTransactionIdIsValid(s->fullTransactionId)",
          "new_text": null,
          "old_line_content": "\t\tif (FullTransactionIdIsValid(s->fullTransactionId))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5159,
          "old_api": "add_size",
          "new_api": null,
          "old_text": "add_size(nxids, 1)",
          "new_text": null,
          "old_line_content": "\t\t\tnxids = add_size(nxids, 1);",
          "new_line_content": "\tfor (s = CurrentTransactionState; s != NULL; s = s->parent)",
          "content_same": false
        },
        {
          "line": 5160,
          "old_api": "add_size",
          "new_api": null,
          "old_text": "add_size(nxids, s->nChildXids)",
          "new_text": null,
          "old_line_content": "\t\tnxids = add_size(nxids, s->nChildXids);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": "AcceptInvalidationMessages",
          "new_api": null,
          "old_text": "AcceptInvalidationMessages()",
          "new_text": null,
          "old_line_content": "\tAcceptInvalidationMessages();",
          "new_line_content": "static void",
          "content_same": false
        },
        {
          "line": 3119,
          "old_api": "AssertState",
          "new_api": null,
          "old_text": "AssertState(s->blockState == TBLOCK_SUBBEGIN)",
          "new_text": null,
          "old_line_content": "\t\t\t\tAssertState(s->blockState == TBLOCK_SUBBEGIN);",
          "new_line_content": "\t\t\t\ts->savepointLevel = savepointLevel;",
          "content_same": false
        },
        {
          "line": 3120,
          "old_api": "StartSubTransaction",
          "new_api": null,
          "old_text": "StartSubTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\t\tStartSubTransaction();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": "AllocSetContextCreate",
          "new_api": null,
          "old_text": "AllocSetContextCreate(TopMemoryContext,\n\t\t\t\t\t\t\t\t  \"TransactionAbortContext\",\n\t\t\t\t\t\t\t\t  32 * 1024,\n\t\t\t\t\t\t\t\t  32 * 1024,\n\t\t\t\t\t\t\t\t  32 * 1024)",
          "new_text": null,
          "old_line_content": "\t\t\tAllocSetContextCreate(TopMemoryContext,",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 3139,
          "old_api": "CleanupSubTransaction",
          "new_api": null,
          "old_text": "CleanupSubTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\t\tCleanupSubTransaction();",
          "new_line_content": "\t\t\t\ts->name = NULL;",
          "content_same": false
        },
        {
          "line": 3141,
          "old_api": "DefineSavepoint",
          "new_api": null,
          "old_text": "DefineSavepoint(NULL)",
          "new_text": null,
          "old_line_content": "\t\t\t\tDefineSavepoint(NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(TopTransactionContext == NULL)",
          "new_text": null,
          "old_line_content": "\tAssert(TopTransactionContext == NULL);",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 3147,
          "old_api": "AssertState",
          "new_api": null,
          "old_text": "AssertState(s->blockState == TBLOCK_SUBBEGIN)",
          "new_text": null,
          "old_line_content": "\t\t\t\tAssertState(s->blockState == TBLOCK_SUBBEGIN);",
          "new_line_content": "\t\t\t\ts->savepointLevel = savepointLevel;",
          "content_same": false
        },
        {
          "line": 3148,
          "old_api": "StartSubTransaction",
          "new_api": null,
          "old_text": "StartSubTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\t\tStartSubTransaction();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": "AllocSetContextCreate",
          "new_api": null,
          "old_text": "AllocSetContextCreate(TopMemoryContext,\n\t\t\t\t\t\t\t  \"TopTransactionContext\",\n\t\t\t\t\t\t\t  ALLOCSET_DEFAULT_SIZES)",
          "new_text": null,
          "old_line_content": "\t\tAllocSetContextCreate(TopMemoryContext,",
          "new_line_content": "\t * Create a toplevel context for the transaction.",
          "content_same": false
        },
        {
          "line": 5203,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(&result->parallelCurrentXids[0], ParallelCurrentXids,\n\t\t\t   nParallelCurrentXids * sizeof(TransactionId))",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(&result->parallelCurrentXids[0], ParallelCurrentXids,",
          "new_line_content": "\tif (nParallelCurrentXids > 0)",
          "content_same": false
        },
        {
          "line": 1115,
          "old_api": "MemoryContextSwitchTo",
          "new_api": null,
          "old_text": "MemoryContextSwitchTo(CurTransactionContext)",
          "new_text": null,
          "old_line_content": "\tMemoryContextSwitchTo(CurTransactionContext);",
          "new_line_content": "\ts->curTransactionContext = CurTransactionContext;",
          "content_same": false
        },
        {
          "line": 5214,
          "old_api": "FullTransactionIdIsValid",
          "new_api": null,
          "old_text": "FullTransactionIdIsValid(s->fullTransactionId)",
          "new_text": null,
          "old_line_content": "\t\tif (FullTransactionIdIsValid(s->fullTransactionId))",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 5215,
          "old_api": "add_size",
          "new_api": null,
          "old_text": "add_size(nxids, 1)",
          "new_text": null,
          "old_line_content": "\t\t\tnxids = add_size(nxids, 1);",
          "new_line_content": "\tfor (s = CurrentTransactionState; s != NULL; s = s->parent)",
          "content_same": false
        },
        {
          "line": 5216,
          "old_api": "add_size",
          "new_api": null,
          "old_text": "add_size(nxids, s->nChildXids)",
          "new_text": null,
          "old_line_content": "\t\tnxids = add_size(nxids, s->nChildXids);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5222,
          "old_api": "palloc",
          "new_api": null,
          "old_text": "palloc(nxids * sizeof(TransactionId))",
          "new_text": null,
          "old_line_content": "\tworkspace = palloc(nxids * sizeof(TransactionId));",
          "new_line_content": "\t\t   <= maxsize);",
          "content_same": false
        },
        {
          "line": 1129,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(TopTransactionResourceOwner == NULL)",
          "new_text": null,
          "old_line_content": "\tAssert(TopTransactionResourceOwner == NULL);",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 5226,
          "old_api": "XidFromFullTransactionId",
          "new_api": null,
          "old_text": "XidFromFullTransactionId(s->fullTransactionId)",
          "new_text": null,
          "old_line_content": "\t\t\tworkspace[i++] = XidFromFullTransactionId(s->fullTransactionId);",
          "new_line_content": "\tfor (s = CurrentTransactionState; s != NULL; s = s->parent)",
          "content_same": false
        },
        {
          "line": 5227,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(&workspace[i], s->childXids,\n\t\t\t   s->nChildXids * sizeof(TransactionId))",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(&workspace[i], s->childXids,",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 3181,
          "old_api": "AbortTransaction",
          "new_api": null,
          "old_text": "AbortTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\t\tAbortTransaction();",
          "new_line_content": "\t\t\t\t */",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": "ResourceOwnerCreate",
          "new_api": null,
          "old_text": "ResourceOwnerCreate(NULL, \"TopTransaction\")",
          "new_text": null,
          "old_line_content": "\ts->curTransactionOwner = ResourceOwnerCreate(NULL, \"TopTransaction\");",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 3182,
          "old_api": "CleanupTransaction",
          "new_api": null,
          "old_text": "CleanupTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\t\tCleanupTransaction();",
          "new_line_content": "\t\t\t\tif (s->state == TRANS_START)",
          "content_same": false
        },
        {
          "line": 5231,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(i == nxids)",
          "new_text": null,
          "old_line_content": "\tAssert(i == nxids);",
          "new_line_content": "\t\t\t   s->nChildXids * sizeof(TransactionId));",
          "content_same": false
        },
        {
          "line": 5238,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(&result->parallelCurrentXids[0], workspace,\n\t\t   nxids * sizeof(TransactionId))",
          "new_text": null,
          "old_line_content": "\tmemcpy(&result->parallelCurrentXids[0], workspace,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3193,
          "old_api": "AbortTransaction",
          "new_api": null,
          "old_text": "AbortTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tAbortTransaction();",
          "new_line_content": "\t\t\t */",
          "content_same": false
        },
        {
          "line": 3194,
          "old_api": "CleanupTransaction",
          "new_api": null,
          "old_text": "CleanupTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tCleanupTransaction();",
          "new_line_content": "\t\tcase TBLOCK_STARTED:",
          "content_same": false
        },
        {
          "line": 1154,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(CurTransactionContext != NULL)",
          "new_text": null,
          "old_line_content": "\tAssert(CurTransactionContext != NULL);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 5252,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(CurrentTransactionState->blockState == TBLOCK_DEFAULT)",
          "new_text": null,
          "old_line_content": "\tAssert(CurrentTransactionState->blockState == TBLOCK_DEFAULT);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 5253,
          "old_api": "StartTransaction",
          "new_api": null,
          "old_text": "StartTransaction()",
          "new_text": null,
          "old_line_content": "\tStartTransaction();",
          "new_line_content": "\tSerializedTransactionState *tstate;",
          "content_same": false
        },
        {
          "line": 3206,
          "old_api": "AbortTransaction",
          "new_api": null,
          "old_text": "AbortTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tAbortTransaction();",
          "new_line_content": "\t\t\t * state.",
          "content_same": false
        },
        {
          "line": 3207,
          "old_api": "CleanupTransaction",
          "new_api": null,
          "old_text": "CleanupTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tCleanupTransaction();",
          "new_line_content": "\t\t\t */",
          "content_same": false
        },
        {
          "line": 1161,
          "old_api": "AllocSetContextCreate",
          "new_api": null,
          "old_text": "AllocSetContextCreate(CurTransactionContext,\n\t\t\t\t\t\t\t\t\t\t\t\t  \"CurTransactionContext\",\n\t\t\t\t\t\t\t\t\t\t\t\t  ALLOCSET_DEFAULT_SIZES)",
          "new_text": null,
          "old_line_content": "\tCurTransactionContext = AllocSetContextCreate(CurTransactionContext,",
          "new_line_content": "\t * survives subtransaction commit but disappears on subtransaction abort.",
          "content_same": false
        },
        {
          "line": 1167,
          "old_api": "MemoryContextSwitchTo",
          "new_api": null,
          "old_text": "MemoryContextSwitchTo(CurTransactionContext)",
          "new_text": null,
          "old_line_content": "\tMemoryContextSwitchTo(CurTransactionContext);",
          "new_line_content": "\ts->curTransactionContext = CurTransactionContext;",
          "content_same": false
        },
        {
          "line": 3218,
          "old_api": "AbortTransaction",
          "new_api": null,
          "old_text": "AbortTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tAbortTransaction();",
          "new_line_content": "\t\t\t */",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(s->parent != NULL)",
          "new_text": null,
          "old_line_content": "\tAssert(s->parent != NULL);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 5275,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(CurrentTransactionState->blockState == TBLOCK_PARALLEL_INPROGRESS)",
          "new_text": null,
          "old_line_content": "\tAssert(CurrentTransactionState->blockState == TBLOCK_PARALLEL_INPROGRESS);",
          "new_line_content": "void",
          "content_same": false
        },
        {
          "line": 5276,
          "old_api": "CommitTransaction",
          "new_api": null,
          "old_text": "CommitTransaction()",
          "new_text": null,
          "old_line_content": "\tCommitTransaction();",
          "new_line_content": "EndParallelWorkerTransaction(void)",
          "content_same": false
        },
        {
          "line": 3229,
          "old_api": "AbortTransaction",
          "new_api": null,
          "old_text": "AbortTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tAbortTransaction();",
          "new_line_content": "\t\t\t * the transaction).",
          "content_same": false
        },
        {
          "line": 3230,
          "old_api": "CleanupTransaction",
          "new_api": null,
          "old_text": "CleanupTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tCleanupTransaction();",
          "new_line_content": "\t\t\t */",
          "content_same": false
        },
        {
          "line": 1185,
          "old_api": "ResourceOwnerCreate",
          "new_api": null,
          "old_text": "ResourceOwnerCreate(s->parent->curTransactionOwner,\n\t\t\t\t\t\t\t\"SubTransaction\")",
          "new_text": null,
          "old_line_content": "\t\tResourceOwnerCreate(s->parent->curTransactionOwner,",
          "new_line_content": "\t * the immediate parent's resource owner.",
          "content_same": false
        },
        {
          "line": 5289,
          "old_api": "ShowTransactionStateRec",
          "new_api": null,
          "old_text": "ShowTransactionStateRec(str, CurrentTransactionState)",
          "new_text": null,
          "old_line_content": "\t\tShowTransactionStateRec(str, CurrentTransactionState);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3249,
          "old_api": "CleanupTransaction",
          "new_api": null,
          "old_text": "CleanupTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tCleanupTransaction();",
          "new_line_content": "\t\t\t * state.",
          "content_same": false
        },
        {
          "line": 5301,
          "old_api": "initStringInfo",
          "new_api": null,
          "old_text": "initStringInfo(&buf)",
          "new_text": null,
          "old_line_content": "\tinitStringInfo(&buf);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1208,
          "old_api": "GetTopTransactionIdIfAny",
          "new_api": null,
          "old_text": "GetTopTransactionIdIfAny()",
          "new_text": null,
          "old_line_content": "\tTransactionId xid = GetTopTransactionIdIfAny();",
          "new_line_content": "static TransactionId",
          "content_same": false
        },
        {
          "line": 1209,
          "old_api": "TransactionIdIsValid",
          "new_api": null,
          "old_text": "TransactionIdIsValid(xid)",
          "new_text": null,
          "old_line_content": "\tbool\t\tmarkXidCommitted = TransactionIdIsValid(xid);",
          "new_line_content": "RecordTransactionCommit(void)",
          "content_same": false
        },
        {
          "line": 3258,
          "old_api": "AbortTransaction",
          "new_api": null,
          "old_text": "AbortTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tAbortTransaction();",
          "new_line_content": "\t\t\t * Abort, cleanup, go to idle state.",
          "content_same": false
        },
        {
          "line": 3259,
          "old_api": "CleanupTransaction",
          "new_api": null,
          "old_text": "CleanupTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tCleanupTransaction();",
          "new_line_content": "\t\t\t */",
          "content_same": false
        },
        {
          "line": 5307,
          "old_api": "appendStringInfo",
          "new_api": null,
          "old_text": "appendStringInfo(&buf, \", children: %u\", s->childXids[0])",
          "new_text": null,
          "old_line_content": "\t\tappendStringInfo(&buf, \", children: %u\", s->childXids[0]);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5309,
          "old_api": "appendStringInfo",
          "new_api": null,
          "old_text": "appendStringInfo(&buf, \" %u\", s->childXids[i])",
          "new_text": null,
          "old_line_content": "\t\t\tappendStringInfo(&buf, \" %u\", s->childXids[i]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5313,
          "old_api": "ShowTransactionStateRec",
          "new_api": null,
          "old_text": "ShowTransactionStateRec(str, s->parent)",
          "new_text": null,
          "old_line_content": "\t\tShowTransactionStateRec(str, s->parent);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1221,
          "old_api": "smgrGetPendingDeletes",
          "new_api": null,
          "old_text": "smgrGetPendingDeletes(true, &rels)",
          "new_text": null,
          "old_line_content": "\tnrels = smgrGetPendingDeletes(true, &rels);",
          "new_line_content": "\tbool\t\twrote_xlog;",
          "content_same": false
        },
        {
          "line": 1222,
          "old_api": "xactGetCommittedChildren",
          "new_api": null,
          "old_text": "xactGetCommittedChildren(&children)",
          "new_text": null,
          "old_line_content": "\tnchildren = xactGetCommittedChildren(&children);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1223,
          "old_api": "XLogStandbyInfoActive",
          "new_api": null,
          "old_text": "XLogStandbyInfoActive()",
          "new_text": null,
          "old_line_content": "\tif (XLogStandbyInfoActive())",
          "new_line_content": "\t/* Get data needed for commit record */",
          "content_same": false
        },
        {
          "line": 3269,
          "old_api": "AbortTransaction",
          "new_api": null,
          "old_text": "AbortTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tAbortTransaction();",
          "new_line_content": "\t\t\t * the transaction).",
          "content_same": false
        },
        {
          "line": 3270,
          "old_api": "CleanupTransaction",
          "new_api": null,
          "old_text": "CleanupTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tCleanupTransaction();",
          "new_line_content": "\t\t\t */",
          "content_same": false
        },
        {
          "line": 5317,
          "old_api": "errmsg_internal",
          "new_api": null,
          "old_text": "errmsg_internal(\"%s(%d) name: %s; blockState: %s; state: %s, xid/subid/cid: %u/%u/%u%s%s\",\n\t\t\t\t\t\t\t str, s->nestingLevel,\n\t\t\t\t\t\t\t PointerIsValid(s->name) ? s->name : \"unnamed\",\n\t\t\t\t\t\t\t BlockStateAsString(s->blockState),\n\t\t\t\t\t\t\t TransStateAsString(s->state),\n\t\t\t\t\t\t\t (unsigned int) XidFromFullTransactionId(s->fullTransactionId),\n\t\t\t\t\t\t\t (unsigned int) s->subTransactionId,\n\t\t\t\t\t\t\t (unsigned int) currentCommandId,\n\t\t\t\t\t\t\t currentCommandIdUsed ? \" (used)\" : \"\",\n\t\t\t\t\t\t\t buf.data)",
          "new_text": null,
          "old_line_content": "\t\t\t(errmsg_internal(\"%s(%d) name: %s; blockState: %s; state: %s, xid/subid/cid: %u/%u/%u%s%s\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5321,
          "old_api": "TransStateAsString",
          "new_api": null,
          "old_text": "TransStateAsString(s->state)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t TransStateAsString(s->state),",
          "new_line_content": "\t\t\t\t\t\t\t str, s->nestingLevel,",
          "content_same": false
        },
        {
          "line": 3280,
          "old_api": "AbortSubTransaction",
          "new_api": null,
          "old_text": "AbortSubTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tAbortSubTransaction();",
          "new_line_content": "\t\t\t * we get ROLLBACK.",
          "content_same": false
        },
        {
          "line": 5328,
          "old_api": "pfree",
          "new_api": null,
          "old_text": "pfree(buf.data)",
          "new_text": null,
          "old_line_content": "\tpfree(buf.data);",
          "new_line_content": "\t\t\t\t\t\t\t currentCommandIdUsed ? \" (used)\" : \"\",",
          "content_same": false
        },
        {
          "line": 1241,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"cannot commit a transaction that deleted files but has no xid\")",
          "new_text": null,
          "old_line_content": "\t\t\telog(ERROR, \"cannot commit a transaction that deleted files but has no xid\");",
          "new_line_content": "\t\t * since it's a bit fragile.",
          "content_same": false
        },
        {
          "line": 3294,
          "old_api": "AbortSubTransaction",
          "new_api": null,
          "old_text": "AbortSubTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tAbortSubTransaction();",
          "new_line_content": "\t\tcase TBLOCK_SUBCOMMIT:",
          "content_same": false
        },
        {
          "line": 3295,
          "old_api": "CleanupSubTransaction",
          "new_api": null,
          "old_text": "CleanupSubTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tCleanupSubTransaction();",
          "new_line_content": "\t\tcase TBLOCK_SUBABORT_PENDING:",
          "content_same": false
        },
        {
          "line": 3296,
          "old_api": "AbortCurrentTransaction",
          "new_api": null,
          "old_text": "AbortCurrentTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tAbortCurrentTransaction();",
          "new_line_content": "\t\tcase TBLOCK_SUBRESTART:",
          "content_same": false
        },
        {
          "line": 3304,
          "old_api": "CleanupSubTransaction",
          "new_api": null,
          "old_text": "CleanupSubTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tCleanupSubTransaction();",
          "new_line_content": "\t\t\t */",
          "content_same": false
        },
        {
          "line": 3305,
          "old_api": "AbortCurrentTransaction",
          "new_api": null,
          "old_text": "AbortCurrentTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tAbortCurrentTransaction();",
          "new_line_content": "\t\tcase TBLOCK_SUBABORT_END:",
          "content_same": false
        },
        {
          "line": 1259,
          "old_api": "LogStandbyInvalidations",
          "new_api": null,
          "old_text": "LogStandbyInvalidations(nmsgs, invalMessages,\n\t\t\t\t\t\t\t\t\tRelcacheInitFileInval)",
          "new_text": null,
          "old_line_content": "\t\t\tLogStandbyInvalidations(nmsgs, invalMessages,",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 3333,
          "old_api": "IsTransactionBlock",
          "new_api": null,
          "old_text": "IsTransactionBlock()",
          "new_text": null,
          "old_line_content": "\tif (IsTransactionBlock())",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 3334,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_ACTIVE_SQL_TRANSACTION),\n\t\t/* translator: %s represents an SQL statement name */\n\t\t\t\t errmsg(\"%s cannot run inside a transaction block\",\n\t\t\t\t\t\tstmtType)))",
          "new_text": null,
          "old_line_content": "\t\tereport(ERROR,",
          "new_line_content": "\t * xact block already started?",
          "content_same": false
        },
        {
          "line": 3335,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_ACTIVE_SQL_TRANSACTION)",
          "new_text": null,
          "old_line_content": "\t\t\t\t(errcode(ERRCODE_ACTIVE_SQL_TRANSACTION),",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 1288,
          "old_api": "BufmgrCommit",
          "new_api": null,
          "old_text": "BufmgrCommit()",
          "new_text": null,
          "old_line_content": "\t\tBufmgrCommit();",
          "new_line_content": "\t\t * Begin commit critical section and insert the commit XLOG record.",
          "content_same": false
        },
        {
          "line": 3343,
          "old_api": "IsSubTransaction",
          "new_api": null,
          "old_text": "IsSubTransaction()",
          "new_text": null,
          "old_line_content": "\tif (IsSubTransaction())",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 3344,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_ACTIVE_SQL_TRANSACTION),\n\t\t/* translator: %s represents an SQL statement name */\n\t\t\t\t errmsg(\"%s cannot run inside a subtransaction\",\n\t\t\t\t\t\tstmtType)))",
          "new_text": null,
          "old_line_content": "\t\tereport(ERROR,",
          "new_line_content": "\t * subtransaction?",
          "content_same": false
        },
        {
          "line": 3345,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_ACTIVE_SQL_TRANSACTION)",
          "new_text": null,
          "old_line_content": "\t\t\t\t(errcode(ERRCODE_ACTIVE_SQL_TRANSACTION),",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 3354,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_ACTIVE_SQL_TRANSACTION),\n\t\t/* translator: %s represents an SQL statement name */\n\t\t\t\t errmsg(\"%s cannot be executed from a function\", stmtType)))",
          "new_text": null,
          "old_line_content": "\t\tereport(ERROR,",
          "new_line_content": "\t * inside a function call?",
          "content_same": false
        },
        {
          "line": 1307,
          "old_api": "START_CRIT_SECTION",
          "new_api": null,
          "old_text": "START_CRIT_SECTION()",
          "new_text": null,
          "old_line_content": "\t\tSTART_CRIT_SECTION();",
          "new_line_content": "\t\t * This makes checkpoint's determination of which xacts are delayChkpt",
          "content_same": false
        },
        {
          "line": 3355,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_ACTIVE_SQL_TRANSACTION)",
          "new_text": null,
          "old_line_content": "\t\t\t\t(errcode(ERRCODE_ACTIVE_SQL_TRANSACTION),",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 1312,
          "old_api": "XactLogCommitRecord",
          "new_api": null,
          "old_text": "XactLogCommitRecord(xactStopTimestamp,\n\t\t\t\t\t\t\tnchildren, children, nrels, rels,\n\t\t\t\t\t\t\tnmsgs, invalMessages,\n\t\t\t\t\t\t\tRelcacheInitFileInval, forceSyncCommit,\n\t\t\t\t\t\t\tMyXactFlags,\n\t\t\t\t\t\t\tInvalidTransactionId, NULL /* plain commit */ )",
          "new_text": null,
          "old_line_content": "\t\tXactLogCommitRecord(xactStopTimestamp,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3362,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(FATAL, \"cannot prevent transaction chain\")",
          "new_text": null,
          "old_line_content": "\t\telog(FATAL, \"cannot prevent transaction chain\");",
          "new_line_content": "\t/* If we got past IsTransactionBlock test, should be in default state */",
          "content_same": false
        },
        {
          "line": 1321,
          "old_api": "replorigin_session_advance",
          "new_api": null,
          "old_text": "replorigin_session_advance(replorigin_session_origin_lsn,\n\t\t\t\t\t\t\t\t\t   XactLastRecEnd)",
          "new_text": null,
          "old_line_content": "\t\t\treplorigin_session_advance(replorigin_session_origin_lsn,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1337,
          "old_api": "TransactionTreeSetCommitTsData",
          "new_api": null,
          "old_text": "TransactionTreeSetCommitTsData(xid, nchildren, children,\n\t\t\t\t\t\t\t\t\t   replorigin_session_origin_timestamp,\n\t\t\t\t\t\t\t\t\t   replorigin_session_origin, false)",
          "new_text": null,
          "old_line_content": "\t\tTransactionTreeSetCommitTsData(xid, nchildren, children,",
          "new_line_content": "\t\tif (!replorigin || replorigin_session_origin_timestamp == 0)",
          "content_same": false
        },
        {
          "line": 3390,
          "old_api": "CheckTransactionBlock",
          "new_api": null,
          "old_text": "CheckTransactionBlock(isTopLevel, false, stmtType)",
          "new_text": null,
          "old_line_content": "\tCheckTransactionBlock(isTopLevel, false, stmtType);",
          "new_line_content": "void",
          "content_same": false
        },
        {
          "line": 3396,
          "old_api": "CheckTransactionBlock",
          "new_api": null,
          "old_text": "CheckTransactionBlock(isTopLevel, true, stmtType)",
          "new_text": null,
          "old_line_content": "\tCheckTransactionBlock(isTopLevel, true, stmtType);",
          "new_line_content": "void",
          "content_same": false
        },
        {
          "line": 3408,
          "old_api": "IsTransactionBlock",
          "new_api": null,
          "old_text": "IsTransactionBlock()",
          "new_text": null,
          "old_line_content": "\tif (IsTransactionBlock())",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 5461,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(CritSectionCount > 0)",
          "new_text": null,
          "old_line_content": "\tAssert(CritSectionCount > 0);",
          "new_line_content": "\txl_xact_origin xl_origin;",
          "content_same": false
        },
        {
          "line": 3414,
          "old_api": "IsSubTransaction",
          "new_api": null,
          "old_text": "IsSubTransaction()",
          "new_text": null,
          "old_line_content": "\tif (IsSubTransaction())",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 5466,
          "old_api": "TransactionIdIsValid",
          "new_api": null,
          "old_text": "TransactionIdIsValid(twophase_xid)",
          "new_text": null,
          "old_line_content": "\tif (!TransactionIdIsValid(twophase_xid))",
          "new_line_content": "\txl_xinfo.xinfo = 0;",
          "content_same": false
        },
        {
          "line": 1371,
          "old_api": "XLogFlush",
          "new_api": null,
          "old_text": "XLogFlush(XactLastRecEnd)",
          "new_text": null,
          "old_line_content": "\t\tXLogFlush(XactLastRecEnd);",
          "new_line_content": "\t\t synchronous_commit > SYNCHRONOUS_COMMIT_OFF) ||",
          "content_same": false
        },
        {
          "line": 3423,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(throwError ? ERROR : WARNING,\n\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),\n\t/* translator: %s represents an SQL statement name */\n\t\t\t errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\tstmtType)))",
          "new_text": null,
          "old_line_content": "\tereport(throwError ? ERROR : WARNING,",
          "new_line_content": "\tif (!isTopLevel)",
          "content_same": false
        },
        {
          "line": 3424,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION)",
          "new_text": null,
          "old_line_content": "\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 1377,
          "old_api": "TransactionIdCommitTree",
          "new_api": null,
          "old_text": "TransactionIdCommitTree(xid, nchildren, children)",
          "new_text": null,
          "old_line_content": "\t\t\tTransactionIdCommitTree(xid, nchildren, children);",
          "new_line_content": "\t\t * Now we may update the CLOG, if we wrote a COMMIT record above",
          "content_same": false
        },
        {
          "line": 1392,
          "old_api": "XLogSetAsyncXactLSN",
          "new_api": null,
          "old_text": "XLogSetAsyncXactLSN(XactLastRecEnd)",
          "new_text": null,
          "old_line_content": "\t\tXLogSetAsyncXactLSN(XactLastRecEnd);",
          "new_line_content": "\t\t * Report the latest async commit LSN, so that the WAL writer knows to",
          "content_same": false
        },
        {
          "line": 5493,
          "old_api": "XLogLogicalInfoActive",
          "new_api": null,
          "old_text": "XLogLogicalInfoActive()",
          "new_text": null,
          "old_line_content": "\tif (nmsgs > 0 || XLogLogicalInfoActive())",
          "new_line_content": "\t * Relcache invalidations requires information about the current database",
          "content_same": false
        },
        {
          "line": 1400,
          "old_api": "TransactionIdAsyncCommitTree",
          "new_api": null,
          "old_text": "TransactionIdAsyncCommitTree(xid, nchildren, children, XactLastRecEnd)",
          "new_text": null,
          "old_line_content": "\t\t\tTransactionIdAsyncCommitTree(xid, nchildren, children, XactLastRecEnd);",
          "new_line_content": "\t\t * flushed before the CLOG may be updated.",
          "content_same": false
        },
        {
          "line": 3448,
          "old_api": "IsTransactionBlock",
          "new_api": null,
          "old_text": "IsTransactionBlock()",
          "new_text": null,
          "old_line_content": "\tif (IsTransactionBlock())",
          "new_line_content": "\t * Return true on same conditions that would make",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": "END_CRIT_SECTION",
          "new_api": null,
          "old_text": "END_CRIT_SECTION()",
          "new_text": null,
          "old_line_content": "\t\tEND_CRIT_SECTION();",
          "new_line_content": "\tif (markXidCommitted)",
          "content_same": false
        },
        {
          "line": 1414,
          "old_api": "TransactionIdLatest",
          "new_api": null,
          "old_text": "TransactionIdLatest(xid, nchildren, children)",
          "new_text": null,
          "old_line_content": "\tlatestXid = TransactionIdLatest(xid, nchildren, children);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 5518,
          "old_api": "TransactionIdIsValid",
          "new_api": null,
          "old_text": "TransactionIdIsValid(twophase_xid)",
          "new_text": null,
          "old_line_content": "\tif (TransactionIdIsValid(twophase_xid))",
          "new_line_content": "\t\txl_invals.nmsgs = nmsgs;",
          "content_same": false
        },
        {
          "line": 1426,
          "old_api": "SyncRepWaitForLSN",
          "new_api": null,
          "old_text": "SyncRepWaitForLSN(XactLastRecEnd, true)",
          "new_text": null,
          "old_line_content": "\t\tSyncRepWaitForLSN(XactLastRecEnd, true);",
          "new_line_content": "\t * in the procarray and continue to hold locks.",
          "content_same": false
        },
        {
          "line": 5522,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(twophase_gid != NULL)",
          "new_text": null,
          "old_line_content": "\t\tAssert(twophase_gid != NULL);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5524,
          "old_api": "XLogLogicalInfoActive",
          "new_api": null,
          "old_text": "XLogLogicalInfoActive()",
          "new_text": null,
          "old_line_content": "\t\tif (XLogLogicalInfoActive())",
          "new_line_content": "\t\txl_twophase.xid = twophase_xid;",
          "content_same": false
        },
        {
          "line": 3482,
          "old_api": "MemoryContextAlloc",
          "new_api": null,
          "old_text": "MemoryContextAlloc(TopMemoryContext, sizeof(XactCallbackItem))",
          "new_text": null,
          "old_line_content": "\t\tMemoryContextAlloc(TopMemoryContext, sizeof(XactCallbackItem));",
          "new_line_content": "\tXactCallbackItem *item;",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": "pfree",
          "new_api": null,
          "old_text": "pfree(rels)",
          "new_text": null,
          "old_line_content": "\t\tpfree(rels);",
          "new_line_content": "cleanup:",
          "content_same": false
        },
        {
          "line": 5542,
          "old_api": "XLogBeginInsert",
          "new_api": null,
          "old_text": "XLogBeginInsert()",
          "new_text": null,
          "old_line_content": "\tXLogBeginInsert();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5544,
          "old_api": "XLogRegisterData",
          "new_api": null,
          "old_text": "XLogRegisterData((char *) (&xlrec), sizeof(xl_xact_commit))",
          "new_text": null,
          "old_line_content": "\tXLogRegisterData((char *) (&xlrec), sizeof(xl_xact_commit));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1453,
          "old_api": "AtCCI_RelationMap",
          "new_api": null,
          "old_text": "AtCCI_RelationMap()",
          "new_text": null,
          "old_line_content": "\tAtCCI_RelationMap();",
          "new_line_content": "\t * processing local sinval messages, so that the map changes will get",
          "content_same": false
        },
        {
          "line": 3504,
          "old_api": "pfree",
          "new_api": null,
          "old_text": "pfree(item)",
          "new_text": null,
          "old_line_content": "\t\t\tpfree(item);",
          "new_line_content": "\t\t\t\tprev->next = item->next;",
          "content_same": false
        },
        {
          "line": 1458,
          "old_api": "CommandEndInvalidationMessages",
          "new_api": null,
          "old_text": "CommandEndInvalidationMessages()",
          "new_text": null,
          "old_line_content": "\tCommandEndInvalidationMessages();",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 5554,
          "old_api": "XLogRegisterData",
          "new_api": null,
          "old_text": "XLogRegisterData((char *) (&xl_subxacts),\n\t\t\t\t\t\t MinSizeOfXactSubxacts)",
          "new_text": null,
          "old_line_content": "\t\tXLogRegisterData((char *) (&xl_subxacts),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5556,
          "old_api": "XLogRegisterData",
          "new_api": null,
          "old_text": "XLogRegisterData((char *) subxacts,\n\t\t\t\t\t\t nsubxacts * sizeof(TransactionId))",
          "new_text": null,
          "old_line_content": "\t\tXLogRegisterData((char *) subxacts,",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5562,
          "old_api": "XLogRegisterData",
          "new_api": null,
          "old_text": "XLogRegisterData((char *) (&xl_relfilenodes),\n\t\t\t\t\t\t MinSizeOfXactRelfilenodes)",
          "new_text": null,
          "old_line_content": "\t\tXLogRegisterData((char *) (&xl_relfilenodes),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3516,
          "old_api": "callback",
          "new_api": null,
          "old_text": "item->callback(event, item->arg)",
          "new_text": null,
          "old_line_content": "\t\titem->callback(event, item->arg);",
          "new_line_content": "\tXactCallbackItem *item;",
          "content_same": false
        },
        {
          "line": 5564,
          "old_api": "XLogRegisterData",
          "new_api": null,
          "old_text": "XLogRegisterData((char *) rels,\n\t\t\t\t\t\t nrels * sizeof(RelFileNode))",
          "new_text": null,
          "old_line_content": "\t\tXLogRegisterData((char *) rels,",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 1471,
          "old_api": "MemoryContextSwitchTo",
          "new_api": null,
          "old_text": "MemoryContextSwitchTo(TopMemoryContext)",
          "new_text": null,
          "old_line_content": "\tMemoryContextSwitchTo(TopMemoryContext);",
          "new_line_content": "\t * Now that we're \"out\" of a transaction, have the system allocate things",
          "content_same": false
        },
        {
          "line": 5570,
          "old_api": "XLogRegisterData",
          "new_api": null,
          "old_text": "XLogRegisterData((char *) (&xl_invals), MinSizeOfXactInvals)",
          "new_text": null,
          "old_line_content": "\t\tXLogRegisterData((char *) (&xl_invals), MinSizeOfXactInvals);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5571,
          "old_api": "XLogRegisterData",
          "new_api": null,
          "old_text": "XLogRegisterData((char *) msgs,\n\t\t\t\t\t\t nmsgs * sizeof(SharedInvalidationMessage))",
          "new_text": null,
          "old_line_content": "\t\tXLogRegisterData((char *) msgs,",
          "new_line_content": "\tif (xl_xinfo.xinfo & XACT_XINFO_HAS_INVALS)",
          "content_same": false
        },
        {
          "line": 1476,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(TopTransactionContext != NULL)",
          "new_text": null,
          "old_line_content": "\tAssert(TopTransactionContext != NULL);",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 1477,
          "old_api": "MemoryContextDelete",
          "new_api": null,
          "old_text": "MemoryContextDelete(TopTransactionContext)",
          "new_text": null,
          "old_line_content": "\tMemoryContextDelete(TopTransactionContext);",
          "new_line_content": "\t * Release all transaction-local memory.",
          "content_same": false
        },
        {
          "line": 5577,
          "old_api": "XLogRegisterData",
          "new_api": null,
          "old_text": "XLogRegisterData((char *) (&xl_twophase), sizeof(xl_xact_twophase))",
          "new_text": null,
          "old_line_content": "\t\tXLogRegisterData((char *) (&xl_twophase), sizeof(xl_xact_twophase));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5579,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(twophase_gid)",
          "new_text": null,
          "old_line_content": "\t\t\tXLogRegisterData(unconstify(char *, twophase_gid), strlen(twophase_gid) + 1);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5583,
          "old_api": "XLogRegisterData",
          "new_api": null,
          "old_text": "XLogRegisterData((char *) (&xl_origin), sizeof(xl_xact_origin))",
          "new_text": null,
          "old_line_content": "\t\tXLogRegisterData((char *) (&xl_origin), sizeof(xl_xact_origin));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3537,
          "old_api": "MemoryContextAlloc",
          "new_api": null,
          "old_text": "MemoryContextAlloc(TopMemoryContext, sizeof(SubXactCallbackItem))",
          "new_text": null,
          "old_line_content": "\t\tMemoryContextAlloc(TopMemoryContext, sizeof(SubXactCallbackItem));",
          "new_line_content": "\tSubXactCallbackItem *item;",
          "content_same": false
        },
        {
          "line": 5588,
          "old_api": "XLogInsert",
          "new_api": null,
          "old_text": "XLogInsert(RM_XACT_ID, info)",
          "new_text": null,
          "old_line_content": "\treturn XLogInsert(RM_XACT_ID, info);",
          "new_line_content": "\t/* we allow filtering by xacts */",
          "content_same": false
        },
        {
          "line": 1496,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(s->parent != NULL)",
          "new_text": null,
          "old_line_content": "\tAssert(s->parent != NULL);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1500,
          "old_api": "MemoryContextSwitchTo",
          "new_api": null,
          "old_text": "MemoryContextSwitchTo(CurTransactionContext)",
          "new_text": null,
          "old_line_content": "\tMemoryContextSwitchTo(CurTransactionContext);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1508,
          "old_api": "MemoryContextIsEmpty",
          "new_api": null,
          "old_text": "MemoryContextIsEmpty(s->curTransactionContext)",
          "new_text": null,
          "old_line_content": "\tif (MemoryContextIsEmpty(s->curTransactionContext))",
          "new_line_content": "\t * there isn't actually anything in it, we can throw it away.  This avoids",
          "content_same": false
        },
        {
          "line": 1510,
          "old_api": "MemoryContextDelete",
          "new_api": null,
          "old_text": "MemoryContextDelete(s->curTransactionContext)",
          "new_text": null,
          "old_line_content": "\t\tMemoryContextDelete(s->curTransactionContext);",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 3559,
          "old_api": "pfree",
          "new_api": null,
          "old_text": "pfree(item)",
          "new_text": null,
          "old_line_content": "\t\t\tpfree(item);",
          "new_line_content": "\t\t\t\tprev->next = item->next;",
          "content_same": false
        },
        {
          "line": 5614,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(CritSectionCount > 0)",
          "new_text": null,
          "old_line_content": "\tAssert(CritSectionCount > 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5619,
          "old_api": "TransactionIdIsValid",
          "new_api": null,
          "old_text": "TransactionIdIsValid(twophase_xid)",
          "new_text": null,
          "old_line_content": "\tif (!TransactionIdIsValid(twophase_xid))",
          "new_line_content": "\txl_xinfo.xinfo = 0;",
          "content_same": false
        },
        {
          "line": 3573,
          "old_api": "callback",
          "new_api": null,
          "old_text": "item->callback(event, mySubid, parentSubid, item->arg)",
          "new_text": null,
          "old_line_content": "\t\titem->callback(event, mySubid, parentSubid, item->arg);",
          "new_line_content": "\tSubXactCallbackItem *item;",
          "content_same": false
        },
        {
          "line": 1526,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(s->parent != NULL)",
          "new_text": null,
          "old_line_content": "\tAssert(s->parent != NULL);",
          "new_line_content": "\tTransactionState s = CurrentTransactionState;",
          "content_same": false
        },
        {
          "line": 1546,
          "old_api": "Min",
          "new_api": null,
          "old_text": "Min(new_nChildXids * 2,\n\t\t\t\t\t\t\t   (int) (MaxAllocSize / sizeof(TransactionId)))",
          "new_text": null,
          "old_line_content": "\t\tnew_maxChildXids = Min(new_nChildXids * 2,",
          "new_line_content": "\t\t * is what ensures that we don't need to worry about integer overflow",
          "content_same": false
        },
        {
          "line": 5644,
          "old_api": "TransactionIdIsValid",
          "new_api": null,
          "old_text": "TransactionIdIsValid(twophase_xid)",
          "new_text": null,
          "old_line_content": "\tif (TransactionIdIsValid(twophase_xid))",
          "new_line_content": "\t\txl_relfilenodes.nrels = nrels;",
          "content_same": false
        },
        {
          "line": 1550,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t\t(errcode(ERRCODE_PROGRAM_LIMIT_EXCEEDED),\n\t\t\t\t\t errmsg(\"maximum number of committed subtransactions (%d) exceeded\",\n\t\t\t\t\t\t\t(int) (MaxAllocSize / sizeof(TransactionId)))))",
          "new_text": null,
          "old_line_content": "\t\t\tereport(ERROR,",
          "new_line_content": "\t\t\t\t\t\t\t   (int) (MaxAllocSize / sizeof(TransactionId)));",
          "content_same": false
        },
        {
          "line": 1551,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_PROGRAM_LIMIT_EXCEEDED)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t(errcode(ERRCODE_PROGRAM_LIMIT_EXCEEDED),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1552,
          "old_api": "errmsg",
          "new_api": null,
          "old_text": "errmsg(\"maximum number of committed subtransactions (%d) exceeded\",\n\t\t\t\t\t\t\t(int) (MaxAllocSize / sizeof(TransactionId)))",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t errmsg(\"maximum number of committed subtransactions (%d) exceeded\",",
          "new_line_content": "\t\tif (new_maxChildXids < new_nChildXids)",
          "content_same": false
        },
        {
          "line": 5648,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(twophase_gid != NULL)",
          "new_text": null,
          "old_line_content": "\t\tAssert(twophase_gid != NULL);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5650,
          "old_api": "XLogLogicalInfoActive",
          "new_api": null,
          "old_text": "XLogLogicalInfoActive()",
          "new_text": null,
          "old_line_content": "\t\tif (XLogLogicalInfoActive())",
          "new_line_content": "\t\txl_twophase.xid = twophase_xid;",
          "content_same": false
        },
        {
          "line": 5654,
          "old_api": "XLogLogicalInfoActive",
          "new_api": null,
          "old_text": "XLogLogicalInfoActive()",
          "new_text": null,
          "old_line_content": "\tif (TransactionIdIsValid(twophase_xid) && XLogLogicalInfoActive())",
          "new_line_content": "\t\t\txl_xinfo.xinfo |= XACT_XINFO_HAS_GID;",
          "content_same": false
        },
        {
          "line": 1562,
          "old_api": "MemoryContextAlloc",
          "new_api": null,
          "old_text": "MemoryContextAlloc(TopTransactionContext,\n\t\t\t\t\t\t\t\t   new_maxChildXids * sizeof(TransactionId))",
          "new_text": null,
          "old_line_content": "\t\t\t\tMemoryContextAlloc(TopTransactionContext,",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 5663,
          "old_api": "TransactionIdIsValid",
          "new_api": null,
          "old_text": "TransactionIdIsValid(twophase_xid)",
          "new_text": null,
          "old_line_content": "\t\tTransactionIdIsValid(twophase_xid) &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5664,
          "old_api": "XLogLogicalInfoActive",
          "new_api": null,
          "old_text": "XLogLogicalInfoActive()",
          "new_text": null,
          "old_line_content": "\t\tXLogLogicalInfoActive())",
          "new_line_content": "\t/* dump transaction origin information only for abort prepared */",
          "content_same": false
        },
        {
          "line": 3617,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(WARNING,\n\t\t\t\t\t(errcode(ERRCODE_ACTIVE_SQL_TRANSACTION),\n\t\t\t\t\t errmsg(\"there is already a transaction in progress\")))",
          "new_text": null,
          "old_line_content": "\t\t\tereport(WARNING,",
          "new_line_content": "\t\tcase TBLOCK_SUBINPROGRESS:",
          "content_same": false
        },
        {
          "line": 3618,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_ACTIVE_SQL_TRANSACTION)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t(errcode(ERRCODE_ACTIVE_SQL_TRANSACTION),",
          "new_line_content": "\t\tcase TBLOCK_ABORT:",
          "content_same": false
        },
        {
          "line": 3619,
          "old_api": "errmsg",
          "new_api": null,
          "old_text": "errmsg(\"there is already a transaction in progress\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t errmsg(\"there is already a transaction in progress\")));",
          "new_line_content": "\t\tcase TBLOCK_SUBABORT:",
          "content_same": false
        },
        {
          "line": 1581,
          "old_api": "XidFromFullTransactionId",
          "new_api": null,
          "old_text": "XidFromFullTransactionId(s->fullTransactionId)",
          "new_text": null,
          "old_line_content": "\ts->parent->childXids[s->parent->nChildXids] = XidFromFullTransactionId(s->fullTransactionId);",
          "new_line_content": "\t * all XIDs already in the array belong to subtransactions started and",
          "content_same": false
        },
        {
          "line": 5677,
          "old_api": "XLogBeginInsert",
          "new_api": null,
          "old_text": "XLogBeginInsert()",
          "new_text": null,
          "old_line_content": "\tXLogBeginInsert();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5679,
          "old_api": "XLogRegisterData",
          "new_api": null,
          "old_text": "XLogRegisterData((char *) (&xlrec), MinSizeOfXactAbort)",
          "new_text": null,
          "old_line_content": "\tXLogRegisterData((char *) (&xlrec), MinSizeOfXactAbort);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3636,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(FATAL, \"BeginTransactionBlock: unexpected state %s\",\n\t\t\t\t BlockStateAsString(s->blockState))",
          "new_text": null,
          "old_line_content": "\t\t\telog(FATAL, \"BeginTransactionBlock: unexpected state %s\",",
          "new_line_content": "\t\tcase TBLOCK_SUBRESTART:",
          "content_same": false
        },
        {
          "line": 3637,
          "old_api": "BlockStateAsString",
          "new_api": null,
          "old_text": "BlockStateAsString(s->blockState)",
          "new_text": null,
          "old_line_content": "\t\t\t\t BlockStateAsString(s->blockState));",
          "new_line_content": "\t\tcase TBLOCK_SUBABORT_RESTART:",
          "content_same": false
        },
        {
          "line": 1592,
          "old_api": "pfree",
          "new_api": null,
          "old_text": "pfree(s->childXids)",
          "new_text": null,
          "old_line_content": "\t\tpfree(s->childXids);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5689,
          "old_api": "XLogRegisterData",
          "new_api": null,
          "old_text": "XLogRegisterData((char *) (&xl_subxacts),\n\t\t\t\t\t\t MinSizeOfXactSubxacts)",
          "new_text": null,
          "old_line_content": "\t\tXLogRegisterData((char *) (&xl_subxacts),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5691,
          "old_api": "XLogRegisterData",
          "new_api": null,
          "old_text": "XLogRegisterData((char *) subxacts,\n\t\t\t\t\t\t nsubxacts * sizeof(TransactionId))",
          "new_text": null,
          "old_line_content": "\t\tXLogRegisterData((char *) subxacts,",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5697,
          "old_api": "XLogRegisterData",
          "new_api": null,
          "old_text": "XLogRegisterData((char *) (&xl_relfilenodes),\n\t\t\t\t\t\t MinSizeOfXactRelfilenodes)",
          "new_text": null,
          "old_line_content": "\t\tXLogRegisterData((char *) (&xl_relfilenodes),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5699,
          "old_api": "XLogRegisterData",
          "new_api": null,
          "old_text": "XLogRegisterData((char *) rels,\n\t\t\t\t\t\t nrels * sizeof(RelFileNode))",
          "new_text": null,
          "old_line_content": "\t\tXLogRegisterData((char *) rels,",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5705,
          "old_api": "XLogRegisterData",
          "new_api": null,
          "old_text": "XLogRegisterData((char *) (&xl_twophase), sizeof(xl_xact_twophase))",
          "new_text": null,
          "old_line_content": "\t\tXLogRegisterData((char *) (&xl_twophase), sizeof(xl_xact_twophase));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5707,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(twophase_gid)",
          "new_text": null,
          "old_line_content": "\t\t\tXLogRegisterData(unconstify(char *, twophase_gid), strlen(twophase_gid) + 1);",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 1613,
          "old_api": "GetCurrentTransactionIdIfAny",
          "new_api": null,
          "old_text": "GetCurrentTransactionIdIfAny()",
          "new_text": null,
          "old_line_content": "\tTransactionId xid = GetCurrentTransactionIdIfAny();",
          "new_line_content": "static TransactionId",
          "content_same": false
        },
        {
          "line": 3661,
          "old_api": "EndTransactionBlock",
          "new_api": null,
          "old_text": "EndTransactionBlock(false)",
          "new_text": null,
          "old_line_content": "\tresult = EndTransactionBlock(false);",
          "new_line_content": "\tbool\t\tresult;",
          "content_same": false
        },
        {
          "line": 5711,
          "old_api": "XLogRegisterData",
          "new_api": null,
          "old_text": "XLogRegisterData((char *) (&xl_origin), sizeof(xl_xact_origin))",
          "new_text": null,
          "old_line_content": "\t\tXLogRegisterData((char *) (&xl_origin), sizeof(xl_xact_origin));",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 5713,
          "old_api": "TransactionIdIsValid",
          "new_api": null,
          "old_text": "TransactionIdIsValid(twophase_xid)",
          "new_text": null,
          "old_line_content": "\tif (TransactionIdIsValid(twophase_xid))",
          "new_line_content": "\tif (xl_xinfo.xinfo & XACT_XINFO_HAS_ORIGIN)",
          "content_same": false
        },
        {
          "line": 3674,
          "old_api": "MemoryContextStrdup",
          "new_api": null,
          "old_text": "MemoryContextStrdup(TopTransactionContext, gid)",
          "new_text": null,
          "old_line_content": "\t\t\tprepareGID = MemoryContextStrdup(TopTransactionContext, gid);",
          "new_line_content": "\t\tif (s->blockState == TBLOCK_END)",
          "content_same": false
        },
        {
          "line": 1627,
          "old_api": "TransactionIdIsValid",
          "new_api": null,
          "old_text": "TransactionIdIsValid(xid)",
          "new_text": null,
          "old_line_content": "\tif (!TransactionIdIsValid(xid))",
          "new_line_content": "\t * rels to delete (note that this routine is not responsible for actually",
          "content_same": false
        },
        {
          "line": 3684,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(s->blockState == TBLOCK_STARTED ||\n\t\t\t\t   s->blockState == TBLOCK_IMPLICIT_INPROGRESS)",
          "new_text": null,
          "old_line_content": "\t\t\tAssert(s->blockState == TBLOCK_STARTED ||",
          "new_line_content": "\t\t\t * ignore case where we are not in a transaction;",
          "content_same": false
        },
        {
          "line": 5732,
          "old_api": "TransactionIdIsValid",
          "new_api": null,
          "old_text": "TransactionIdIsValid(xid)",
          "new_text": null,
          "old_line_content": "\tAssert(TransactionIdIsValid(xid));",
          "new_line_content": "\tTransactionId max_xid;",
          "content_same": false
        },
        {
          "line": 5734,
          "old_api": "TransactionIdLatest",
          "new_api": null,
          "old_text": "TransactionIdLatest(xid, parsed->nsubxacts, parsed->subxacts)",
          "new_text": null,
          "old_line_content": "\tmax_xid = TransactionIdLatest(xid, parsed->nsubxacts, parsed->subxacts);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5739,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(((parsed->xinfo & XACT_XINFO_HAS_ORIGIN) == 0) ==\n\t\t   (origin_id == InvalidRepOriginId))",
          "new_text": null,
          "old_line_content": "\tAssert(((parsed->xinfo & XACT_XINFO_HAS_ORIGIN) == 0) ==",
          "new_line_content": "\t/* Make sure nextFullXid is beyond any XID mentioned in the record. */",
          "content_same": false
        },
        {
          "line": 1646,
          "old_api": "TransactionIdDidCommit",
          "new_api": null,
          "old_text": "TransactionIdDidCommit(xid)",
          "new_text": null,
          "old_line_content": "\tif (TransactionIdDidCommit(xid))",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 1647,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(PANIC, \"cannot abort transaction %u, it was already committed\",\n\t\t\t xid)",
          "new_text": null,
          "old_line_content": "\t\telog(PANIC, \"cannot abort transaction %u, it was already committed\",",
          "new_line_content": "\t * Check that we haven't aborted halfway through RecordTransactionCommit.",
          "content_same": false
        },
        {
          "line": 1651,
          "old_api": "smgrGetPendingDeletes",
          "new_api": null,
          "old_text": "smgrGetPendingDeletes(false, &rels)",
          "new_text": null,
          "old_line_content": "\tnrels = smgrGetPendingDeletes(false, &rels);",
          "new_line_content": "\t\t\t xid);",
          "content_same": false
        },
        {
          "line": 1652,
          "old_api": "xactGetCommittedChildren",
          "new_api": null,
          "old_text": "xactGetCommittedChildren(&children)",
          "new_text": null,
          "old_line_content": "\tnchildren = xactGetCommittedChildren(&children);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5748,
          "old_api": "TransactionTreeSetCommitTsData",
          "new_api": null,
          "old_text": "TransactionTreeSetCommitTsData(xid, parsed->nsubxacts, parsed->subxacts,\n\t\t\t\t\t\t\t\t   commit_time, origin_id, false)",
          "new_text": null,
          "old_line_content": "\tTransactionTreeSetCommitTsData(xid, parsed->nsubxacts, parsed->subxacts,",
          "new_line_content": "\t\tcommit_time = parsed->xact_time;",
          "content_same": false
        },
        {
          "line": 1659,
          "old_api": "GetCurrentTimestamp",
          "new_api": null,
          "old_text": "GetCurrentTimestamp()",
          "new_text": null,
          "old_line_content": "\t\txact_time = GetCurrentTimestamp();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5756,
          "old_api": "TransactionIdCommitTree",
          "new_api": null,
          "old_text": "TransactionIdCommitTree(xid, parsed->nsubxacts, parsed->subxacts)",
          "new_text": null,
          "old_line_content": "\t\tTransactionIdCommitTree(xid, parsed->nsubxacts, parsed->subxacts);",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 1666,
          "old_api": "XactLogAbortRecord",
          "new_api": null,
          "old_text": "XactLogAbortRecord(xact_time,\n\t\t\t\t\t   nchildren, children,\n\t\t\t\t\t   nrels, rels,\n\t\t\t\t\t   MyXactFlags, InvalidTransactionId,\n\t\t\t\t\t   NULL)",
          "new_text": null,
          "old_line_content": "\tXactLogAbortRecord(xact_time,",
          "new_line_content": "\t\txact_time = xactStopTimestamp;",
          "content_same": false
        },
        {
          "line": 5769,
          "old_api": "RecordKnownAssignedTransactionIds",
          "new_api": null,
          "old_text": "RecordKnownAssignedTransactionIds(max_xid)",
          "new_text": null,
          "old_line_content": "\t\tRecordKnownAssignedTransactionIds(max_xid);",
          "new_line_content": "\t\t * call is irrelevant, which has happened three times in development",
          "content_same": false
        },
        {
          "line": 1682,
          "old_api": "XLogSetAsyncXactLSN",
          "new_api": null,
          "old_text": "XLogSetAsyncXactLSN(XactLastRecEnd)",
          "new_text": null,
          "old_line_content": "\t\tXLogSetAsyncXactLSN(XactLastRecEnd);",
          "new_line_content": "\t * problems occur at that point.",
          "content_same": false
        },
        {
          "line": 3730,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),\n\t\t\t\t\t\t /* translator: %s represents an SQL statement name */\n\t\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\t\"COMMIT AND CHAIN\")))",
          "new_text": null,
          "old_line_content": "\t\t\t\tereport(ERROR,",
          "new_line_content": "\t\t\t */",
          "content_same": false
        },
        {
          "line": 3731,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),",
          "new_line_content": "\t\tcase TBLOCK_IMPLICIT_INPROGRESS:",
          "content_same": false
        },
        {
          "line": 5780,
          "old_api": "TransactionIdAsyncCommitTree",
          "new_api": null,
          "old_text": "TransactionIdAsyncCommitTree(\n\t\t\t\t\t\t\t\t\t xid, parsed->nsubxacts, parsed->subxacts, lsn)",
          "new_text": null,
          "old_line_content": "\t\tTransactionIdAsyncCommitTree(",
          "new_line_content": "\t\t * bits set on changes made by transactions that haven't yet",
          "content_same": false
        },
        {
          "line": 3737,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),",
          "new_line_content": "\t\t\t\t\t\t\t\t\"COMMIT AND CHAIN\")));",
          "content_same": false
        },
        {
          "line": 3738,
          "old_api": "errmsg",
          "new_api": null,
          "old_text": "errmsg(\"there is no transaction in progress\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t errmsg(\"there is no transaction in progress\")));",
          "new_line_content": "\t\t\telse",
          "content_same": false
        },
        {
          "line": 5786,
          "old_api": "ExpireTreeKnownAssignedTransactionIds",
          "new_api": null,
          "old_text": "ExpireTreeKnownAssignedTransactionIds(\n\t\t\t\t\t\t\t\t\t\t\t  xid, parsed->nsubxacts, parsed->subxacts, max_xid)",
          "new_text": null,
          "old_line_content": "\t\tExpireTreeKnownAssignedTransactionIds(",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 1692,
          "old_api": "TransactionIdAbortTree",
          "new_api": null,
          "old_text": "TransactionIdAbortTree(xid, nchildren, children)",
          "new_text": null,
          "old_line_content": "\tTransactionIdAbortTree(xid, nchildren, children);",
          "new_line_content": "\t * having flushed the ABORT record to disk, because in event of a crash",
          "content_same": false
        },
        {
          "line": 1694,
          "old_api": "END_CRIT_SECTION",
          "new_api": null,
          "old_text": "END_CRIT_SECTION()",
          "new_text": null,
          "old_line_content": "\tEND_CRIT_SECTION();",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 5794,
          "old_api": "ProcessCommittedInvalidationMessages",
          "new_api": null,
          "old_text": "ProcessCommittedInvalidationMessages(\n\t\t\t\t\t\t\t\t\t\t\t parsed->msgs, parsed->nmsgs,\n\t\t\t\t\t\t\t\t\t\t\t XactCompletionRelcacheInitFileInval(parsed->xinfo),\n\t\t\t\t\t\t\t\t\t\t\t parsed->dbId, parsed->tsId)",
          "new_text": null,
          "old_line_content": "\t\tProcessCommittedInvalidationMessages(",
          "new_line_content": "\t\t * maintain the same order of invalidation then release locks as",
          "content_same": false
        },
        {
          "line": 5796,
          "old_api": "XactCompletionRelcacheInitFileInval",
          "new_api": null,
          "old_text": "XactCompletionRelcacheInitFileInval(parsed->xinfo)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t\t XactCompletionRelcacheInitFileInval(parsed->xinfo),",
          "new_line_content": "\t\t */",
          "content_same": false
        },
        {
          "line": 1706,
          "old_api": "XidCacheRemoveRunningXids",
          "new_api": null,
          "old_text": "XidCacheRemoveRunningXids(xid, nchildren, children, latestXid)",
          "new_text": null,
          "old_line_content": "\t\tXidCacheRemoveRunningXids(xid, nchildren, children, latestXid);",
          "new_line_content": "\t * main xacts, the equivalent happens just after this function returns.",
          "content_same": false
        },
        {
          "line": 5805,
          "old_api": "StandbyReleaseLockTree",
          "new_api": null,
          "old_text": "StandbyReleaseLockTree(xid, parsed->nsubxacts, parsed->subxacts)",
          "new_text": null,
          "old_line_content": "\t\t\tStandbyReleaseLockTree(xid, parsed->nsubxacts, parsed->subxacts);",
          "new_line_content": "\t\t * just going straight to lock release.",
          "content_same": false
        },
        {
          "line": 3761,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(FATAL, \"EndTransactionBlock: unexpected state %s\",\n\t\t\t\t\t\t BlockStateAsString(s->blockState))",
          "new_text": null,
          "old_line_content": "\t\t\t\t\telog(FATAL, \"EndTransactionBlock: unexpected state %s\",",
          "new_line_content": "\t\t\t\tif (s->blockState == TBLOCK_SUBINPROGRESS)",
          "content_same": false
        },
        {
          "line": 1714,
          "old_api": "pfree",
          "new_api": null,
          "old_text": "pfree(rels)",
          "new_text": null,
          "old_line_content": "\t\tpfree(rels);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3762,
          "old_api": "BlockStateAsString",
          "new_api": null,
          "old_text": "BlockStateAsString(s->blockState)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t BlockStateAsString(s->blockState));",
          "new_line_content": "\t\t\t\t\ts->blockState = TBLOCK_SUBCOMMIT;",
          "content_same": false
        },
        {
          "line": 5811,
          "old_api": "replorigin_advance",
          "new_api": null,
          "old_text": "replorigin_advance(origin_id, parsed->origin_lsn, lsn,\n\t\t\t\t\t\t   false /* backward */ , false /* WAL */ )",
          "new_text": null,
          "old_line_content": "\t\treplorigin_advance(origin_id, parsed->origin_lsn, lsn,",
          "new_line_content": "\tif (parsed->xinfo & XACT_XINFO_HAS_ORIGIN)",
          "content_same": false
        },
        {
          "line": 3768,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(FATAL, \"EndTransactionBlock: unexpected state %s\",\n\t\t\t\t\t BlockStateAsString(s->blockState))",
          "new_text": null,
          "old_line_content": "\t\t\t\telog(FATAL, \"EndTransactionBlock: unexpected state %s\",",
          "new_line_content": "\t\t\tif (s->blockState == TBLOCK_INPROGRESS)",
          "content_same": false
        },
        {
          "line": 3769,
          "old_api": "BlockStateAsString",
          "new_api": null,
          "old_text": "BlockStateAsString(s->blockState)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t BlockStateAsString(s->blockState));",
          "new_line_content": "\t\t\t\ts->blockState = TBLOCK_END;",
          "content_same": false
        },
        {
          "line": 1734,
          "old_api": "MemoryContextSwitchTo",
          "new_api": null,
          "old_text": "MemoryContextSwitchTo(TransactionAbortContext)",
          "new_text": null,
          "old_line_content": "\t\tMemoryContextSwitchTo(TransactionAbortContext);",
          "new_line_content": "\t * TransactionAbortContext yet; if so use TopMemoryContext.",
          "content_same": false
        },
        {
          "line": 1736,
          "old_api": "MemoryContextSwitchTo",
          "new_api": null,
          "old_text": "MemoryContextSwitchTo(TopMemoryContext)",
          "new_text": null,
          "old_line_content": "\t\tMemoryContextSwitchTo(TopMemoryContext);",
          "new_line_content": "\tif (TransactionAbortContext != NULL)",
          "content_same": false
        },
        {
          "line": 5833,
          "old_api": "XLogFlush",
          "new_api": null,
          "old_text": "XLogFlush(lsn)",
          "new_text": null,
          "old_line_content": "\t\tXLogFlush(lsn);",
          "new_line_content": "\t\t * after deletion, but that would leave a small window where the",
          "content_same": false
        },
        {
          "line": 3786,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(FATAL, \"EndTransactionBlock: unexpected state %s\",\n\t\t\t\t\t\t BlockStateAsString(s->blockState))",
          "new_text": null,
          "old_line_content": "\t\t\t\t\telog(FATAL, \"EndTransactionBlock: unexpected state %s\",",
          "new_line_content": "\t\t\t\telse if (s->blockState == TBLOCK_SUBABORT)",
          "content_same": false
        },
        {
          "line": 3787,
          "old_api": "BlockStateAsString",
          "new_api": null,
          "old_text": "BlockStateAsString(s->blockState)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t BlockStateAsString(s->blockState));",
          "new_line_content": "\t\t\t\t\ts->blockState = TBLOCK_SUBABORT_END;",
          "content_same": false
        },
        {
          "line": 1745,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(TransactionAbortContext != NULL)",
          "new_text": null,
          "old_line_content": "\tAssert(TransactionAbortContext != NULL);",
          "new_line_content": "static void",
          "content_same": false
        },
        {
          "line": 1747,
          "old_api": "MemoryContextSwitchTo",
          "new_api": null,
          "old_text": "MemoryContextSwitchTo(TransactionAbortContext)",
          "new_text": null,
          "old_line_content": "\tMemoryContextSwitchTo(TransactionAbortContext);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3795,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(FATAL, \"EndTransactionBlock: unexpected state %s\",\n\t\t\t\t\t BlockStateAsString(s->blockState))",
          "new_text": null,
          "old_line_content": "\t\t\t\telog(FATAL, \"EndTransactionBlock: unexpected state %s\",",
          "new_line_content": "\t\t\telse if (s->blockState == TBLOCK_ABORT)",
          "content_same": false
        },
        {
          "line": 3796,
          "old_api": "BlockStateAsString",
          "new_api": null,
          "old_text": "BlockStateAsString(s->blockState)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t BlockStateAsString(s->blockState));",
          "new_line_content": "\t\t\t\ts->blockState = TBLOCK_ABORT_END;",
          "content_same": false
        },
        {
          "line": 5851,
          "old_api": "XactCompletionForceSyncCommit",
          "new_api": null,
          "old_text": "XactCompletionForceSyncCommit(parsed->xinfo)",
          "new_text": null,
          "old_line_content": "\tif (XactCompletionForceSyncCommit(parsed->xinfo))",
          "new_line_content": "\t * minRecoveryPoint during recovery) helps to reduce that problem window,",
          "content_same": false
        },
        {
          "line": 5852,
          "old_api": "XLogFlush",
          "new_api": null,
          "old_text": "XLogFlush(lsn)",
          "new_text": null,
          "old_line_content": "\t\tXLogFlush(lsn);",
          "new_line_content": "\t * for any user that requested ForceSyncCommit().",
          "content_same": false
        },
        {
          "line": 3809,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),\n\t\t\t\t\t\t /* translator: %s represents an SQL statement name */\n\t\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\t\"COMMIT AND CHAIN\")))",
          "new_text": null,
          "old_line_content": "\t\t\t\tereport(ERROR,",
          "new_line_content": "\t\t\t */",
          "content_same": false
        },
        {
          "line": 3810,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),",
          "new_line_content": "\t\tcase TBLOCK_STARTED:",
          "content_same": false
        },
        {
          "line": 5859,
          "old_api": "XactCompletionApplyFeedback",
          "new_api": null,
          "old_text": "XactCompletionApplyFeedback(parsed->xinfo)",
          "new_text": null,
          "old_line_content": "\tif (XactCompletionApplyFeedback(parsed->xinfo))",
          "new_line_content": "\t * commit = remote_apply), we will need to ask walreceiver to send a reply",
          "content_same": false
        },
        {
          "line": 5860,
          "old_api": "XLogRequestWalReceiverReply",
          "new_api": null,
          "old_text": "XLogRequestWalReceiverReply()",
          "new_text": null,
          "old_line_content": "\t\tXLogRequestWalReceiverReply();",
          "new_line_content": "\t * immediately.",
          "content_same": false
        },
        {
          "line": 3816,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),",
          "new_line_content": "\t\t\t\t\t\t\t\t\"COMMIT AND CHAIN\")));",
          "content_same": false
        },
        {
          "line": 3817,
          "old_api": "errmsg",
          "new_api": null,
          "old_text": "errmsg(\"there is no transaction in progress\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t errmsg(\"there is no transaction in progress\")));",
          "new_line_content": "\t\t\telse",
          "content_same": false
        },
        {
          "line": 3826,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(FATAL,\n\t\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),\n\t\t\t\t\t errmsg(\"cannot commit during a parallel operation\")))",
          "new_text": null,
          "old_line_content": "\t\t\tereport(FATAL,",
          "new_line_content": "\t\t\t * worker.  We can't cope with that.",
          "content_same": false
        },
        {
          "line": 3827,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_INVALID_TRANSACTION_STATE)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),",
          "new_line_content": "\t\t\t */",
          "content_same": false
        },
        {
          "line": 3828,
          "old_api": "errmsg",
          "new_api": null,
          "old_text": "errmsg(\"cannot commit during a parallel operation\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t errmsg(\"cannot commit during a parallel operation\")));",
          "new_line_content": "\t\tcase TBLOCK_PARALLEL_INPROGRESS:",
          "content_same": false
        },
        {
          "line": 5877,
          "old_api": "TransactionIdIsValid",
          "new_api": null,
          "old_text": "TransactionIdIsValid(xid)",
          "new_text": null,
          "old_line_content": "\tAssert(TransactionIdIsValid(xid));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1791,
          "old_api": "pfree",
          "new_api": null,
          "old_text": "pfree(s->childXids)",
          "new_text": null,
          "old_line_content": "\t\tpfree(s->childXids);",
          "new_line_content": "\t * explicitly at abort to avoid leakage.",
          "content_same": false
        },
        {
          "line": 5888,
          "old_api": "TransactionIdAbortTree",
          "new_api": null,
          "old_text": "TransactionIdAbortTree(xid, parsed->nsubxacts, parsed->subxacts)",
          "new_text": null,
          "old_line_content": "\t\tTransactionIdAbortTree(xid, parsed->nsubxacts, parsed->subxacts);",
          "new_line_content": "\tif (standbyState == STANDBY_DISABLED)",
          "content_same": false
        },
        {
          "line": 3845,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(FATAL, \"EndTransactionBlock: unexpected state %s\",\n\t\t\t\t BlockStateAsString(s->blockState))",
          "new_text": null,
          "old_line_content": "\t\t\telog(FATAL, \"EndTransactionBlock: unexpected state %s\",",
          "new_line_content": "\t\tcase TBLOCK_SUBRESTART:",
          "content_same": false
        },
        {
          "line": 3846,
          "old_api": "BlockStateAsString",
          "new_api": null,
          "old_text": "BlockStateAsString(s->blockState)",
          "new_text": null,
          "old_line_content": "\t\t\t\t BlockStateAsString(s->blockState));",
          "new_line_content": "\t\tcase TBLOCK_SUBABORT_RESTART:",
          "content_same": false
        },
        {
          "line": 3850,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(s->blockState == TBLOCK_STARTED ||\n\t\t   s->blockState == TBLOCK_END ||\n\t\t   s->blockState == TBLOCK_ABORT_END ||\n\t\t   s->blockState == TBLOCK_ABORT_PENDING)",
          "new_text": null,
          "old_line_content": "\tAssert(s->blockState == TBLOCK_STARTED ||",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 5901,
          "old_api": "RecordKnownAssignedTransactionIds",
          "new_api": null,
          "old_text": "RecordKnownAssignedTransactionIds(max_xid)",
          "new_text": null,
          "old_line_content": "\t\tRecordKnownAssignedTransactionIds(max_xid);",
          "new_line_content": "\t\t * call is irrelevant, which has happened three times in development",
          "content_same": false
        },
        {
          "line": 5909,
          "old_api": "ExpireTreeKnownAssignedTransactionIds",
          "new_api": null,
          "old_text": "ExpireTreeKnownAssignedTransactionIds(\n\t\t\t\t\t\t\t\t\t\t\t  xid, parsed->nsubxacts, parsed->subxacts, max_xid)",
          "new_text": null,
          "old_line_content": "\t\tExpireTreeKnownAssignedTransactionIds(",
          "new_line_content": "\t\t/*",
          "content_same": false
        },
        {
          "line": 1815,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(CurrentTransactionState->parent == NULL)",
          "new_text": null,
          "old_line_content": "\tAssert(CurrentTransactionState->parent == NULL);",
          "new_line_content": "static void",
          "content_same": false
        },
        {
          "line": 1821,
          "old_api": "MemoryContextSwitchTo",
          "new_api": null,
          "old_text": "MemoryContextSwitchTo(TopMemoryContext)",
          "new_text": null,
          "old_line_content": "\tMemoryContextSwitchTo(TopMemoryContext);",
          "new_line_content": "\t * Now that we're \"out\" of a transaction, have the system allocate things",
          "content_same": false
        },
        {
          "line": 5920,
          "old_api": "StandbyReleaseLockTree",
          "new_api": null,
          "old_text": "StandbyReleaseLockTree(xid, parsed->nsubxacts, parsed->subxacts)",
          "new_text": null,
          "old_line_content": "\t\t\tStandbyReleaseLockTree(xid, parsed->nsubxacts, parsed->subxacts);",
          "new_line_content": "\t\t * Release locks, if any. There are no invalidations to send.",
          "content_same": false
        },
        {
          "line": 1827,
          "old_api": "MemoryContextResetAndDeleteChildren",
          "new_api": null,
          "old_text": "MemoryContextResetAndDeleteChildren(TransactionAbortContext)",
          "new_text": null,
          "old_line_content": "\t\tMemoryContextResetAndDeleteChildren(TransactionAbortContext);",
          "new_line_content": "\t * Clear the special abort context for next time.",
          "content_same": false
        },
        {
          "line": 5924,
          "old_api": "DropRelationFiles",
          "new_api": null,
          "old_text": "DropRelationFiles(parsed->xnodes, parsed->nrels, true)",
          "new_text": null,
          "old_line_content": "\tDropRelationFiles(parsed->xnodes, parsed->nrels, true);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1833,
          "old_api": "MemoryContextDelete",
          "new_api": null,
          "old_text": "MemoryContextDelete(TopTransactionContext)",
          "new_text": null,
          "old_line_content": "\t\tMemoryContextDelete(TopTransactionContext);",
          "new_line_content": "\t * Release all transaction-local memory.",
          "content_same": false
        },
        {
          "line": 5930,
          "old_api": "XLogRecGetInfo",
          "new_api": null,
          "old_text": "XLogRecGetInfo(record)",
          "new_text": null,
          "old_line_content": "\tuint8\t\tinfo = XLogRecGetInfo(record) & XLOG_XACT_OPMASK;",
          "new_line_content": "void",
          "content_same": false
        },
        {
          "line": 5937,
          "old_api": "XLogRecGetData",
          "new_api": null,
          "old_text": "XLogRecGetData(record)",
          "new_text": null,
          "old_line_content": "\t\txl_xact_commit *xlrec = (xl_xact_commit *) XLogRecGetData(record);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5941,
          "old_api": "XLogRecGetXid",
          "new_api": null,
          "old_text": "XLogRecGetXid(record)",
          "new_text": null,
          "old_line_content": "\t\txact_redo_commit(&parsed, XLogRecGetXid(record),",
          "new_line_content": "\t\txl_xact_parsed_commit parsed;",
          "content_same": false
        },
        {
          "line": 5942,
          "old_api": "XLogRecGetOrigin",
          "new_api": null,
          "old_text": "XLogRecGetOrigin(record)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t record->EndRecPtr, XLogRecGetOrigin(record));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5946,
          "old_api": "XLogRecGetData",
          "new_api": null,
          "old_text": "XLogRecGetData(record)",
          "new_text": null,
          "old_line_content": "\t\txl_xact_commit *xlrec = (xl_xact_commit *) XLogRecGetData(record);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1853,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(s->parent != NULL)",
          "new_text": null,
          "old_line_content": "\tAssert(s->parent != NULL);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 5950,
          "old_api": "xact_redo_commit",
          "new_api": null,
          "old_text": "xact_redo_commit(&parsed, parsed.twophase_xid,\n\t\t\t\t\t\t record->EndRecPtr, XLogRecGetOrigin(record))",
          "new_text": null,
          "old_line_content": "\t\txact_redo_commit(&parsed, parsed.twophase_xid,",
          "new_line_content": "\t\txl_xact_parsed_commit parsed;",
          "content_same": false
        },
        {
          "line": 5951,
          "old_api": "XLogRecGetOrigin",
          "new_api": null,
          "old_text": "XLogRecGetOrigin(record)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t record->EndRecPtr, XLogRecGetOrigin(record));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3905,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(FATAL, \"UserAbortTransactionBlock: unexpected state %s\",\n\t\t\t\t\t\t BlockStateAsString(s->blockState))",
          "new_text": null,
          "old_line_content": "\t\t\t\t\telog(FATAL, \"UserAbortTransactionBlock: unexpected state %s\",",
          "new_line_content": "\t\t\t\telse if (s->blockState == TBLOCK_SUBABORT)",
          "content_same": false
        },
        {
          "line": 3906,
          "old_api": "BlockStateAsString",
          "new_api": null,
          "old_text": "BlockStateAsString(s->blockState)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t BlockStateAsString(s->blockState));",
          "new_line_content": "\t\t\t\t\ts->blockState = TBLOCK_SUBABORT_END;",
          "content_same": false
        },
        {
          "line": 5955,
          "old_api": "PrepareRedoRemove",
          "new_api": null,
          "old_text": "PrepareRedoRemove(parsed.twophase_xid, false)",
          "new_text": null,
          "old_line_content": "\t\tPrepareRedoRemove(parsed.twophase_xid, false);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5956,
          "old_api": "LWLockRelease",
          "new_api": null,
          "old_text": "LWLockRelease(TwoPhaseStateLock)",
          "new_text": null,
          "old_line_content": "\t\tLWLockRelease(TwoPhaseStateLock);",
          "new_line_content": "\t\t/* Delete TwoPhaseState gxact entry and/or 2PC file. */",
          "content_same": false
        },
        {
          "line": 1863,
          "old_api": "MemoryContextResetAndDeleteChildren",
          "new_api": null,
          "old_text": "MemoryContextResetAndDeleteChildren(TransactionAbortContext)",
          "new_text": null,
          "old_line_content": "\t\tMemoryContextResetAndDeleteChildren(TransactionAbortContext);",
          "new_line_content": "\t * Clear the special abort context for next time.",
          "content_same": false
        },
        {
          "line": 5960,
          "old_api": "XLogRecGetData",
          "new_api": null,
          "old_text": "XLogRecGetData(record)",
          "new_text": null,
          "old_line_content": "\t\txl_xact_abort *xlrec = (xl_xact_abort *) XLogRecGetData(record);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3914,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(FATAL, \"UserAbortTransactionBlock: unexpected state %s\",\n\t\t\t\t\t BlockStateAsString(s->blockState))",
          "new_text": null,
          "old_line_content": "\t\t\t\telog(FATAL, \"UserAbortTransactionBlock: unexpected state %s\",",
          "new_line_content": "\t\t\telse if (s->blockState == TBLOCK_ABORT)",
          "content_same": false
        },
        {
          "line": 3915,
          "old_api": "BlockStateAsString",
          "new_api": null,
          "old_text": "BlockStateAsString(s->blockState)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t BlockStateAsString(s->blockState));",
          "new_line_content": "\t\t\t\ts->blockState = TBLOCK_ABORT_END;",
          "content_same": false
        },
        {
          "line": 5964,
          "old_api": "XLogRecGetXid",
          "new_api": null,
          "old_text": "XLogRecGetXid(record)",
          "new_text": null,
          "old_line_content": "\t\txact_redo_abort(&parsed, XLogRecGetXid(record));",
          "new_line_content": "\t\txl_xact_parsed_abort parsed;",
          "content_same": false
        },
        {
          "line": 1871,
          "old_api": "MemoryContextDelete",
          "new_api": null,
          "old_text": "MemoryContextDelete(s->curTransactionContext)",
          "new_text": null,
          "old_line_content": "\t\tMemoryContextDelete(s->curTransactionContext);",
          "new_line_content": "\t * of the subxact).",
          "content_same": false
        },
        {
          "line": 5968,
          "old_api": "XLogRecGetData",
          "new_api": null,
          "old_text": "XLogRecGetData(record)",
          "new_text": null,
          "old_line_content": "\t\txl_xact_abort *xlrec = (xl_xact_abort *) XLogRecGetData(record);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 5972,
          "old_api": "xact_redo_abort",
          "new_api": null,
          "old_text": "xact_redo_abort(&parsed, parsed.twophase_xid)",
          "new_text": null,
          "old_line_content": "\t\txact_redo_abort(&parsed, parsed.twophase_xid);",
          "new_line_content": "\t\txl_xact_parsed_abort parsed;",
          "content_same": false
        },
        {
          "line": 5976,
          "old_api": "PrepareRedoRemove",
          "new_api": null,
          "old_text": "PrepareRedoRemove(parsed.twophase_xid, false)",
          "new_text": null,
          "old_line_content": "\t\tPrepareRedoRemove(parsed.twophase_xid, false);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5977,
          "old_api": "LWLockRelease",
          "new_api": null,
          "old_text": "LWLockRelease(TwoPhaseStateLock)",
          "new_text": null,
          "old_line_content": "\t\tLWLockRelease(TwoPhaseStateLock);",
          "new_line_content": "\t\t/* Delete TwoPhaseState gxact entry and/or 2PC file. */",
          "content_same": false
        },
        {
          "line": 3932,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),\n\t\t\t\t\t\t /* translator: %s represents an SQL statement name */\n\t\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\t\"ROLLBACK AND CHAIN\")))",
          "new_text": null,
          "old_line_content": "\t\t\t\tereport(ERROR,",
          "new_line_content": "\t\tcase TBLOCK_STARTED:",
          "content_same": false
        },
        {
          "line": 3933,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),",
          "new_line_content": "\t\tcase TBLOCK_IMPLICIT_INPROGRESS:",
          "content_same": false
        },
        {
          "line": 5985,
          "old_api": "LWLockAcquire",
          "new_api": null,
          "old_text": "LWLockAcquire(TwoPhaseStateLock, LW_EXCLUSIVE)",
          "new_text": null,
          "old_line_content": "\t\tLWLockAcquire(TwoPhaseStateLock, LW_EXCLUSIVE);",
          "new_line_content": "\t\t * Store xid and start/end pointers of the WAL record in TwoPhaseState",
          "content_same": false
        },
        {
          "line": 5986,
          "old_api": "XLogRecGetData",
          "new_api": null,
          "old_text": "XLogRecGetData(record)",
          "new_text": null,
          "old_line_content": "\t\tPrepareRedoAdd(XLogRecGetData(record),",
          "new_line_content": "\t\t * gxact entry.",
          "content_same": false
        },
        {
          "line": 3939,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),",
          "new_line_content": "\t\t\t\t\t\t\t\t\"ROLLBACK AND CHAIN\")));",
          "content_same": false
        },
        {
          "line": 3940,
          "old_api": "errmsg",
          "new_api": null,
          "old_text": "errmsg(\"there is no transaction in progress\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t errmsg(\"there is no transaction in progress\")));",
          "new_line_content": "\t\t\telse",
          "content_same": false
        },
        {
          "line": 5990,
          "old_api": "LWLockRelease",
          "new_api": null,
          "old_text": "LWLockRelease(TwoPhaseStateLock)",
          "new_text": null,
          "old_line_content": "\t\tLWLockRelease(TwoPhaseStateLock);",
          "new_line_content": "\t\t\t\t\t   record->ReadRecPtr,",
          "content_same": false
        },
        {
          "line": 1895,
          "old_api": "FullTransactionIdIsValid",
          "new_api": null,
          "old_text": "FullTransactionIdIsValid(XactTopFullTransactionId)",
          "new_text": null,
          "old_line_content": "\tAssert(!FullTransactionIdIsValid(XactTopFullTransactionId));",
          "new_line_content": "\ts = &TopTransactionStateData;",
          "content_same": false
        },
        {
          "line": 5994,
          "old_api": "XLogRecGetData",
          "new_api": null,
          "old_text": "XLogRecGetData(record)",
          "new_text": null,
          "old_line_content": "\t\txl_xact_assignment *xlrec = (xl_xact_assignment *) XLogRecGetData(record);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 3949,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(FATAL,\n\t\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),\n\t\t\t\t\t errmsg(\"cannot abort during a parallel operation\")))",
          "new_text": null,
          "old_line_content": "\t\t\tereport(FATAL,",
          "new_line_content": "\t\t\t * worker.  We can't cope with that.",
          "content_same": false
        },
        {
          "line": 3950,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_INVALID_TRANSACTION_STATE)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),",
          "new_line_content": "\t\t\t */",
          "content_same": false
        },
        {
          "line": 3951,
          "old_api": "errmsg",
          "new_api": null,
          "old_text": "errmsg(\"cannot abort during a parallel operation\")",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t errmsg(\"cannot abort during a parallel operation\")));",
          "new_line_content": "\t\tcase TBLOCK_PARALLEL_INPROGRESS:",
          "content_same": false
        },
        {
          "line": 6001,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(PANIC, \"xact_redo: unknown op code %u\", info)",
          "new_text": null,
          "old_line_content": "\t\telog(PANIC, \"xact_redo: unknown op code %u\", info);",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\txlrec->nsubxacts, xlrec->xsub);",
          "content_same": false
        },
        {
          "line": 1912,
          "old_api": "random",
          "new_api": null,
          "old_text": "random()",
          "new_text": null,
          "old_line_content": "\t\t random() <= log_xact_sample_rate * MAX_RANDOM_VALUE);",
          "new_line_content": "\t/* Determine if statements are logged in this transaction */",
          "content_same": false
        },
        {
          "line": 3968,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(FATAL, \"UserAbortTransactionBlock: unexpected state %s\",\n\t\t\t\t BlockStateAsString(s->blockState))",
          "new_text": null,
          "old_line_content": "\t\t\telog(FATAL, \"UserAbortTransactionBlock: unexpected state %s\",",
          "new_line_content": "\t\tcase TBLOCK_SUBRESTART:",
          "content_same": false
        },
        {
          "line": 3969,
          "old_api": "BlockStateAsString",
          "new_api": null,
          "old_text": "BlockStateAsString(s->blockState)",
          "new_text": null,
          "old_line_content": "\t\t\t\t BlockStateAsString(s->blockState));",
          "new_line_content": "\t\tcase TBLOCK_SUBABORT_RESTART:",
          "content_same": false
        },
        {
          "line": 3973,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(s->blockState == TBLOCK_ABORT_END ||\n\t\t   s->blockState == TBLOCK_ABORT_PENDING)",
          "new_text": null,
          "old_line_content": "\tAssert(s->blockState == TBLOCK_ABORT_END ||",
          "new_line_content": "\t\t\tbreak;",
          "content_same": false
        },
        {
          "line": 1929,
          "old_api": "GetUserIdAndSecContext",
          "new_api": null,
          "old_text": "GetUserIdAndSecContext(&s->prevUser, &s->prevSecContext)",
          "new_text": null,
          "old_line_content": "\tGetUserIdAndSecContext(&s->prevUser, &s->prevSecContext);",
          "new_line_content": "\t * Once the current user ID and the security context flags are fetched,",
          "content_same": false
        },
        {
          "line": 1942,
          "old_api": "RecoveryInProgress",
          "new_api": null,
          "old_text": "RecoveryInProgress()",
          "new_text": null,
          "old_line_content": "\tif (RecoveryInProgress())",
          "new_line_content": "\t * from modifying data during recovery, but this gives the normal",
          "content_same": false
        },
        {
          "line": 1974,
          "old_api": "AtStart_Memory",
          "new_api": null,
          "old_text": "AtStart_Memory()",
          "new_text": null,
          "old_line_content": "\tAtStart_Memory();",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 1975,
          "old_api": "AtStart_ResourceOwner",
          "new_api": null,
          "old_text": "AtStart_ResourceOwner()",
          "new_text": null,
          "old_line_content": "\tAtStart_ResourceOwner();",
          "new_line_content": "\t * must initialize resource-management stuff first",
          "content_same": false
        },
        {
          "line": 1982,
          "old_api": "GetNextLocalTransactionId",
          "new_api": null,
          "old_text": "GetNextLocalTransactionId()",
          "new_text": null,
          "old_line_content": "\tvxid.localTransactionId = GetNextLocalTransactionId();",
          "new_line_content": "\t * form a virtual transaction id.",
          "content_same": false
        },
        {
          "line": 1987,
          "old_api": "VirtualXactLockTableInsert",
          "new_api": null,
          "old_text": "VirtualXactLockTableInsert(vxid)",
          "new_text": null,
          "old_line_content": "\tVirtualXactLockTableInsert(vxid);",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 1993,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(MyProc->backendId == vxid.backendId)",
          "new_text": null,
          "old_line_content": "\tAssert(MyProc->backendId == vxid.backendId);",
          "new_line_content": "\t * Advertise it in the proc array.  We assume assignment of",
          "content_same": false
        },
        {
          "line": 4047,
          "old_api": "IsInParallelMode",
          "new_api": null,
          "old_text": "IsInParallelMode()",
          "new_text": null,
          "old_line_content": "\tif (IsInParallelMode())",
          "new_line_content": "\t * is TBLOCK_PARALLEL_INPROGRESS, so we can treat that as an invalid case",
          "content_same": false
        },
        {
          "line": 4048,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),\n\t\t\t\t errmsg(\"cannot define savepoints during a parallel operation\")))",
          "new_text": null,
          "old_line_content": "\t\tereport(ERROR,",
          "new_line_content": "\t * below.)",
          "content_same": false
        },
        {
          "line": 4049,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_INVALID_TRANSACTION_STATE)",
          "new_text": null,
          "old_line_content": "\t\t\t\t(errcode(ERRCODE_INVALID_TRANSACTION_STATE),",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2007,
          "old_api": "IsParallelWorker",
          "new_api": null,
          "old_text": "IsParallelWorker()",
          "new_text": null,
          "old_line_content": "\tif (!IsParallelWorker())",
          "new_line_content": "\t * worker, the timestamp should already have been provided by a call to",
          "content_same": false
        },
        {
          "line": 2009,
          "old_api": "SPI_inside_nonatomic_context",
          "new_api": null,
          "old_text": "SPI_inside_nonatomic_context()",
          "new_text": null,
          "old_line_content": "\t\tif (!SPI_inside_nonatomic_context())",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 4057,
          "old_api": "PushTransaction",
          "new_api": null,
          "old_text": "PushTransaction()",
          "new_text": null,
          "old_line_content": "\t\t\tPushTransaction();",
          "new_line_content": "\t\tcase TBLOCK_INPROGRESS:",
          "content_same": false
        },
        {
          "line": 2016,
          "old_api": "pgstat_report_xact_timestamp",
          "new_api": null,
          "old_text": "pgstat_report_xact_timestamp(xactStartTimestamp)",
          "new_text": null,
          "old_line_content": "\tpgstat_report_xact_timestamp(xactStartTimestamp);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4065,
          "old_api": "MemoryContextStrdup",
          "new_api": null,
          "old_text": "MemoryContextStrdup(TopTransactionContext, name)",
          "new_text": null,
          "old_line_content": "\t\t\t\ts->name = MemoryContextStrdup(TopTransactionContext, name);",
          "new_line_content": "\t\t\t * in TopTransactionContext.",
          "content_same": false
        },
        {
          "line": 2023,
          "old_api": "AtStart_GUC",
          "new_api": null,
          "old_text": "AtStart_GUC()",
          "new_text": null,
          "old_line_content": "\tAtStart_GUC();",
          "new_line_content": "\t/*",
          "content_same": false
        },
        {
          "line": 2024,
          "old_api": "AtStart_Cache",
          "new_api": null,
          "old_text": "AtStart_Cache()",
          "new_text": null,
          "old_line_content": "\tAtStart_Cache();",
          "new_line_content": "\t * initialize other subsystems for new transaction",
          "content_same": false
        },
        {
          "line": 2025,
          "old_api": "AfterTriggerBeginXact",
          "new_api": null,
          "old_text": "AfterTriggerBeginXact()",
          "new_text": null,
          "old_line_content": "\tAfterTriggerBeginXact();",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 2033,
          "old_api": "ShowTransactionState",
          "new_api": null,
          "old_text": "ShowTransactionState(\"StartTransaction\")",
          "new_text": null,
          "old_line_content": "\tShowTransactionState(\"StartTransaction\");",
          "new_line_content": "\t */",
          "content_same": false
        },
        {
          "line": 4083,
          "old_api": "ereport",
          "new_api": null,
          "old_text": "ereport(ERROR,\n\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),\n\t\t\t/* translator: %s represents an SQL statement name */\n\t\t\t\t\t errmsg(\"%s can only be used in transaction blocks\",\n\t\t\t\t\t\t\t\"SAVEPOINT\")))",
          "new_text": null,
          "old_line_content": "\t\t\tereport(ERROR,",
          "new_line_content": "\t\t\t * perhaps could be improved.",
          "content_same": false
        },
        {
          "line": 4084,
          "old_api": "errcode",
          "new_api": null,
          "old_text": "errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t(errcode(ERRCODE_NO_ACTIVE_SQL_TRANSACTION),",
          "new_line_content": "\t\t\t */",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 172,
      "total_additions": 586,
      "total_deletions": 585,
      "total_api_changes": 1343
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 3,
        "api_related_lines": 1343,
        "non_api_lines": 2,
        "non_api_line_numbers": [
          875,
          876
        ]
      }
    },
    "api_calls_before": 849,
    "api_calls_after": 851,
    "diff_info": {
      "added_lines": 3,
      "removed_lines": 0,
      "total_diff_lines": 15
    }
  }
}