{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/f48b4f892f76ee2b34968013c8ea67b1dfd4fa26",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/f48b4f892f76ee2b34968013c8ea67b1dfd4fa26/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/f48b4f892f76ee2b34968013c8ea67b1dfd4fa26/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/postgres/modified_file/f48b4f892f76ee2b34968013c8ea67b1dfd4fa26/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": true,
    "api_changes": {
      "replacements": [
        {
          "line": 2638,
          "old_api": "Assert",
          "new_api": "MemSet",
          "old_text": "Assert(aggstrategy == AGG_HASHED)",
          "new_text": "MemSet(&dummy_aggcosts, 0, sizeof(AggClauseCosts))",
          "old_line_content": "\t\tAssert(aggstrategy == AGG_HASHED);",
          "new_line_content": "\t\tMemSet(&dummy_aggcosts, 0, sizeof(AggClauseCosts));",
          "content_same": false
        },
        {
          "line": 2754,
          "old_api": "ceil",
          "new_api": "Max",
          "old_text": "ceil(nbatches)",
          "new_text": "Max(num_partitions, 2)",
          "old_line_content": "\t\tnbatches = Max(ceil(nbatches), 1.0);",
          "new_line_content": "\t\tnum_partitions = Max(num_partitions, 2);",
          "content_same": false
        },
        {
          "line": 2800,
          "old_api": "clamp_row_est",
          "new_api": "clauselist_selectivity",
          "old_text": "clamp_row_est(output_tuples *\n\t\t\t\t\t\t\t\t\t  clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t quals,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t JOIN_INNER,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t NULL))",
          "new_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t quals,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t JOIN_INNER,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t NULL)",
          "old_line_content": "\t\toutput_tuples = clamp_row_est(output_tuples *",
          "new_line_content": "\t\t\t\t\t\t\t\t\t  clauselist_selectivity(root,",
          "content_same": false
        },
        {
          "line": 2927,
          "old_api": "clamp_row_est",
          "new_api": "clauselist_selectivity",
          "old_text": "clamp_row_est(output_tuples *\n\t\t\t\t\t\t\t\t\t  clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t quals,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t JOIN_INNER,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t NULL))",
          "new_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t quals,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t JOIN_INNER,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t NULL)",
          "old_line_content": "\t\toutput_tuples = clamp_row_est(output_tuples *",
          "new_line_content": "\t\t\t\t\t\t\t\t\t  clauselist_selectivity(root,",
          "content_same": false
        },
        {
          "line": 3298,
          "old_api": "Assert",
          "new_api": "linitial",
          "old_text": "Assert(ipathkeys)",
          "new_text": "linitial(opathkeys)",
          "old_line_content": "\t\tAssert(ipathkeys);",
          "new_line_content": "\t\topathkey = (PathKey *) linitial(opathkeys);",
          "content_same": false
        },
        {
          "line": 3352,
          "old_api": "rint",
          "new_api": "clamp_row_est",
          "old_text": "rint(inner_path_rows * innerstartsel)",
          "new_text": "clamp_row_est(outer_path_rows * outerendsel)",
          "old_line_content": "\tinner_skip_rows = rint(inner_path_rows * innerstartsel);",
          "new_line_content": "\touter_rows = clamp_row_est(outer_path_rows * outerendsel);",
          "content_same": false
        },
        {
          "line": 4008,
          "old_api": "estimate_hash_bucket_stats",
          "new_api": "get_rightop",
          "old_text": "estimate_hash_bucket_stats(root,\n\t\t\t\t\t\t\t\t\t\t\t   get_rightop(restrictinfo->clause),\n\t\t\t\t\t\t\t\t\t\t\t   virtualbuckets,\n\t\t\t\t\t\t\t\t\t\t\t   &restrictinfo->right_mcvfreq,\n\t\t\t\t\t\t\t\t\t\t\t   &restrictinfo->right_bucketsize)",
          "new_text": "get_rightop(restrictinfo->clause)",
          "old_line_content": "\t\t\t\t\testimate_hash_bucket_stats(root,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t   get_rightop(restrictinfo->clause),",
          "content_same": false
        },
        {
          "line": 4026,
          "old_api": "estimate_hash_bucket_stats",
          "new_api": "get_leftop",
          "old_text": "estimate_hash_bucket_stats(root,\n\t\t\t\t\t\t\t\t\t\t\t   get_leftop(restrictinfo->clause),\n\t\t\t\t\t\t\t\t\t\t\t   virtualbuckets,\n\t\t\t\t\t\t\t\t\t\t\t   &restrictinfo->left_mcvfreq,\n\t\t\t\t\t\t\t\t\t\t\t   &restrictinfo->left_bucketsize)",
          "new_text": "get_leftop(restrictinfo->clause)",
          "old_line_content": "\t\t\t\t\testimate_hash_bucket_stats(root,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t   get_leftop(restrictinfo->clause),",
          "content_same": false
        },
        {
          "line": 4051,
          "old_api": "clamp_row_est",
          "new_api": "get_hash_memory_limit",
          "old_text": "clamp_row_est(inner_path_rows * innermcvfreq)",
          "new_text": "get_hash_memory_limit()",
          "old_line_content": "\tif (relation_byte_size(clamp_row_est(inner_path_rows * innermcvfreq),",
          "new_line_content": "\t\t\t\t\t\t   inner_path->pathtarget->width) > get_hash_memory_limit())",
          "content_same": false
        },
        {
          "line": 4171,
          "old_api": "cost_qual_eval",
          "new_api": "make_ands_implicit",
          "old_text": "cost_qual_eval(&sp_cost,\n\t\t\t\t   make_ands_implicit((Expr *) subplan->testexpr),\n\t\t\t\t   root)",
          "new_text": "make_ands_implicit((Expr *) subplan->testexpr)",
          "old_line_content": "\tcost_qual_eval(&sp_cost,",
          "new_line_content": "\t\t\t\t   make_ands_implicit((Expr *) subplan->testexpr),",
          "content_same": false
        },
        {
          "line": 4493,
          "old_api": "set_opfuncid",
          "new_api": "add_function_cost",
          "old_text": "set_opfuncid((OpExpr *) node)",
          "new_text": "add_function_cost(context->root, ((OpExpr *) node)->opfuncid, node,\n\t\t\t\t\t\t  &context->total)",
          "old_line_content": "\t\tset_opfuncid((OpExpr *) node);",
          "new_line_content": "\t\tadd_function_cost(context->root, ((OpExpr *) node)->opfuncid, node,",
          "content_same": false
        },
        {
          "line": 4763,
          "old_api": "RINFO_IS_PUSHED_DOWN",
          "new_api": "lappend",
          "old_text": "RINFO_IS_PUSHED_DOWN(rinfo, joinrel->relids)",
          "new_text": "lappend(joinquals, rinfo)",
          "old_line_content": "\t\t\tif (!RINFO_IS_PUSHED_DOWN(rinfo, joinrel->relids))",
          "new_line_content": "\t\t\t\tjoinquals = lappend(joinquals, rinfo);",
          "content_same": false
        },
        {
          "line": 4806,
          "old_api": "IS_OUTER_JOIN",
          "new_api": "list_free",
          "old_text": "IS_OUTER_JOIN(jointype)",
          "new_text": "list_free(joinquals)",
          "old_line_content": "\tif (IS_OUTER_JOIN(jointype))",
          "new_line_content": "\t\tlist_free(joinquals);",
          "content_same": false
        },
        {
          "line": 5201,
          "old_api": "RINFO_IS_PUSHED_DOWN",
          "new_api": "lappend",
          "old_text": "RINFO_IS_PUSHED_DOWN(rinfo, joinrel->relids)",
          "new_text": "lappend(pushedquals, rinfo)",
          "old_line_content": "\t\t\tif (RINFO_IS_PUSHED_DOWN(rinfo, joinrel->relids))",
          "new_line_content": "\t\t\t\tpushedquals = lappend(pushedquals, rinfo);",
          "content_same": false
        },
        {
          "line": 5402,
          "old_api": "foreach_delete_current",
          "new_api": "lappend",
          "old_text": "foreach_delete_current(worklist, cell)",
          "new_text": "lappend(removedlist, rinfo)",
          "old_line_content": "\t\t\t\tworklist = foreach_delete_current(worklist, cell);",
          "new_line_content": "\t\t\t\tremovedlist = lappend(removedlist, rinfo);",
          "content_same": false
        },
        {
          "line": 5477,
          "old_api": "find_base_rel",
          "new_api": "Max",
          "old_text": "find_base_rel(root, fkinfo->ref_relid)",
          "new_text": "Max(ref_rel->tuples, 1.0)",
          "old_line_content": "\t\t\tRelOptInfo *ref_rel = find_base_rel(root, fkinfo->ref_relid);",
          "new_line_content": "\t\t\tdouble\t\tref_tuples = Max(ref_rel->tuples, 1.0);",
          "content_same": false
        },
        {
          "line": 5489,
          "old_api": "find_base_rel",
          "new_api": "Max",
          "old_text": "find_base_rel(root, fkinfo->ref_relid)",
          "new_text": "Max(ref_rel->tuples, 1.0)",
          "old_line_content": "\t\t\tRelOptInfo *ref_rel = find_base_rel(root, fkinfo->ref_relid);",
          "new_line_content": "\t\t\tdouble\t\tref_tuples = Max(ref_rel->tuples, 1.0);",
          "content_same": false
        },
        {
          "line": 5557,
          "old_api": "Assert",
          "new_api": "planner_rt_fetch",
          "old_text": "Assert(rel->relid > 0)",
          "new_text": "planner_rt_fetch(rel->relid, root)",
          "old_line_content": "\tAssert(rel->relid > 0);",
          "new_line_content": "\tAssert(planner_rt_fetch(rel->relid, root)->rtekind == RTE_SUBQUERY);",
          "content_same": false
        },
        {
          "line": 5636,
          "old_api": "Assert",
          "new_api": "planner_rt_fetch",
          "old_text": "Assert(rel->relid > 0)",
          "new_text": "planner_rt_fetch(rel->relid, root)",
          "old_line_content": "\tAssert(rel->relid > 0);",
          "new_line_content": "\trte = planner_rt_fetch(rel->relid, root);",
          "content_same": false
        },
        {
          "line": 5637,
          "old_api": "planner_rt_fetch",
          "new_api": "Assert",
          "old_text": "planner_rt_fetch(rel->relid, root)",
          "new_text": "Assert(rte->rtekind == RTE_FUNCTION)",
          "old_line_content": "\trte = planner_rt_fetch(rel->relid, root);",
          "new_line_content": "\tAssert(rte->rtekind == RTE_FUNCTION);",
          "content_same": false
        },
        {
          "line": 5647,
          "old_api": "lfirst",
          "new_api": "expression_returns_set_rows",
          "old_text": "lfirst(lc)",
          "new_text": "expression_returns_set_rows(root, rtfunc->funcexpr)",
          "old_line_content": "\t\tRangeTblFunction *rtfunc = (RangeTblFunction *) lfirst(lc);",
          "new_line_content": "\t\tdouble\t\tntup = expression_returns_set_rows(root, rtfunc->funcexpr);",
          "content_same": false
        },
        {
          "line": 5671,
          "old_api": "Assert",
          "new_api": "planner_rt_fetch",
          "old_text": "Assert(rel->relid > 0)",
          "new_text": "planner_rt_fetch(rel->relid, root)",
          "old_line_content": "\tAssert(rel->relid > 0);",
          "new_line_content": "\tAssert(planner_rt_fetch(rel->relid, root)->rtekind == RTE_TABLEFUNC);",
          "content_same": false
        },
        {
          "line": 5695,
          "old_api": "Assert",
          "new_api": "planner_rt_fetch",
          "old_text": "Assert(rel->relid > 0)",
          "new_text": "planner_rt_fetch(rel->relid, root)",
          "old_line_content": "\tAssert(rel->relid > 0);",
          "new_line_content": "\trte = planner_rt_fetch(rel->relid, root);",
          "content_same": false
        },
        {
          "line": 5696,
          "old_api": "planner_rt_fetch",
          "new_api": "Assert",
          "old_text": "planner_rt_fetch(rel->relid, root)",
          "new_text": "Assert(rte->rtekind == RTE_VALUES)",
          "old_line_content": "\trte = planner_rt_fetch(rel->relid, root);",
          "new_line_content": "\tAssert(rte->rtekind == RTE_VALUES);",
          "content_same": false
        },
        {
          "line": 5727,
          "old_api": "Assert",
          "new_api": "planner_rt_fetch",
          "old_text": "Assert(rel->relid > 0)",
          "new_text": "planner_rt_fetch(rel->relid, root)",
          "old_line_content": "\tAssert(rel->relid > 0);",
          "new_line_content": "\trte = planner_rt_fetch(rel->relid, root);",
          "content_same": false
        },
        {
          "line": 5728,
          "old_api": "planner_rt_fetch",
          "new_api": "Assert",
          "old_text": "planner_rt_fetch(rel->relid, root)",
          "new_text": "Assert(rte->rtekind == RTE_CTE)",
          "old_line_content": "\trte = planner_rt_fetch(rel->relid, root);",
          "new_line_content": "\tAssert(rte->rtekind == RTE_CTE);",
          "content_same": false
        },
        {
          "line": 5765,
          "old_api": "Assert",
          "new_api": "planner_rt_fetch",
          "old_text": "Assert(rel->relid > 0)",
          "new_text": "planner_rt_fetch(rel->relid, root)",
          "old_line_content": "\tAssert(rel->relid > 0);",
          "new_line_content": "\trte = planner_rt_fetch(rel->relid, root);",
          "content_same": false
        },
        {
          "line": 5766,
          "old_api": "planner_rt_fetch",
          "new_api": "Assert",
          "old_text": "planner_rt_fetch(rel->relid, root)",
          "new_text": "Assert(rte->rtekind == RTE_NAMEDTUPLESTORE)",
          "old_line_content": "\trte = planner_rt_fetch(rel->relid, root);",
          "new_line_content": "\tAssert(rte->rtekind == RTE_NAMEDTUPLESTORE);",
          "content_same": false
        },
        {
          "line": 5796,
          "old_api": "Assert",
          "new_api": "planner_rt_fetch",
          "old_text": "Assert(rel->relid > 0)",
          "new_text": "planner_rt_fetch(rel->relid, root)",
          "old_line_content": "\tAssert(rel->relid > 0);",
          "new_line_content": "\tAssert(planner_rt_fetch(rel->relid, root)->rtekind == RTE_RESULT);",
          "content_same": false
        },
        {
          "line": 5926,
          "old_api": "get_typavgwidth",
          "new_api": "Assert",
          "old_text": "get_typavgwidth(var->vartype, var->vartypmod)",
          "new_text": "Assert(item_width > 0)",
          "old_line_content": "\t\t\titem_width = get_typavgwidth(var->vartype, var->vartypmod);",
          "new_line_content": "\t\t\tAssert(item_width > 0);",
          "content_same": false
        },
        {
          "line": 5956,
          "old_api": "exprTypmod",
          "new_api": "Assert",
          "old_text": "exprTypmod(node)",
          "new_text": "Assert(item_width > 0)",
          "old_line_content": "\t\t\titem_width = get_typavgwidth(exprType(node), exprTypmod(node));",
          "new_line_content": "\t\t\tAssert(item_width > 0);",
          "content_same": false
        },
        {
          "line": 6085,
          "old_api": "get_typavgwidth",
          "new_api": "Assert",
          "old_text": "get_typavgwidth(var->vartype, var->vartypmod)",
          "new_text": "Assert(width > 0)",
          "old_line_content": "\t\twidth = get_typavgwidth(var->vartype, var->vartypmod);",
          "new_line_content": "\t\tAssert(width > 0);",
          "content_same": false
        },
        {
          "line": 6091,
          "old_api": "exprTypmod",
          "new_api": "Assert",
          "old_text": "exprTypmod(expr)",
          "new_text": "Assert(width > 0)",
          "old_line_content": "\twidth = get_typavgwidth(exprType(expr), exprTypmod(expr));",
          "new_line_content": "\tAssert(width > 0);",
          "content_same": false
        },
        {
          "line": 6195,
          "old_api": "Min",
          "new_api": "tbm_calculate_entries",
          "old_text": "Min(pages_fetched, baserel->pages)",
          "new_text": "tbm_calculate_entries(work_mem * 1024L)",
          "old_line_content": "\theap_pages = Min(pages_fetched, baserel->pages);",
          "new_line_content": "\tmaxentries = tbm_calculate_entries(work_mem * 1024L);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2562,
          "old_api": null,
          "new_api": "Max",
          "old_text": null,
          "new_text": "Max(ndistinct, est_cache_entries)",
          "old_line_content": "\t\t(ndistinct / calls);",
          "new_line_content": "\t\t(est_cache_entries / Max(ndistinct, est_cache_entries));",
          "content_same": false
        },
        {
          "line": 5635,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(rel->relid > 0)",
          "old_line_content": "\t/* Should only be applied to base relations that are functions */",
          "new_line_content": "\tAssert(rel->relid > 0);",
          "content_same": false
        },
        {
          "line": 2564,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(hit_ratio >= 0 && hit_ratio <= 1.0)",
          "old_line_content": "\t/* Ensure we don't go negative */",
          "new_line_content": "\tAssert(hit_ratio >= 0 && hit_ratio <= 1.0);",
          "content_same": false
        },
        {
          "line": 5124,
          "old_api": null,
          "new_api": "calc_joinrel_size_estimate",
          "old_text": null,
          "new_text": "calc_joinrel_size_estimate(root,\n\t\t\t\t\t\t\t\t\t   rel,\n\t\t\t\t\t\t\t\t\t   outer_path->parent,\n\t\t\t\t\t\t\t\t\t   inner_path->parent,\n\t\t\t\t\t\t\t\t\t   outer_path->rows,\n\t\t\t\t\t\t\t\t\t   inner_path->rows,\n\t\t\t\t\t\t\t\t\t   sjinfo,\n\t\t\t\t\t\t\t\t\t   restrict_clauses)",
          "old_line_content": "\t */",
          "new_line_content": "\tnrows = calc_joinrel_size_estimate(root,",
          "content_same": false
        },
        {
          "line": 4615,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, CurrentOfExpr)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, CurrentOfExpr))",
          "content_same": false
        },
        {
          "line": 4106,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(inner_path_rows / virtualbuckets)",
          "old_line_content": "\t\t\t(outer_path_rows - outer_matched_rows) *",
          "new_line_content": "\t\t\tclamp_row_est(inner_path_rows / virtualbuckets) * 0.05;",
          "content_same": false
        },
        {
          "line": 4620,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, SubLink)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, SubLink))",
          "content_same": false
        },
        {
          "line": 5644,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(lc, rte->functions)",
          "old_line_content": "\trel->tuples = 0;",
          "new_line_content": "\tforeach(lc, rte->functions)",
          "content_same": false
        },
        {
          "line": 5646,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(lc)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tRangeTblFunction *rtfunc = (RangeTblFunction *) lfirst(lc);",
          "content_same": false
        },
        {
          "line": 4623,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"cannot handle unplanned sub-select\")",
          "old_line_content": "\t\t/* This routine should not be applied to un-planned expressions */",
          "new_line_content": "\t\telog(ERROR, \"cannot handle unplanned sub-select\");",
          "content_same": false
        },
        {
          "line": 4625,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, SubPlan)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, SubPlan))",
          "content_same": false
        },
        {
          "line": 5654,
          "old_api": null,
          "new_api": "set_baserel_size_estimates",
          "old_text": null,
          "new_text": "set_baserel_size_estimates(root, rel)",
          "old_line_content": "\t/* Now estimate number of output rows, etc */",
          "new_line_content": "\tset_baserel_size_estimates(root, rel);",
          "content_same": false
        },
        {
          "line": 6170,
          "old_api": null,
          "new_api": "cost_bitmap_tree_node",
          "old_text": null,
          "new_text": "cost_bitmap_tree_node(bitmapqual, &indexTotalCost, &indexSelectivity)",
          "old_line_content": "\t */",
          "new_line_content": "\tcost_bitmap_tree_node(bitmapqual, &indexTotalCost, &indexSelectivity);",
          "content_same": false
        },
        {
          "line": 6175,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(indexSelectivity * baserel->tuples)",
          "old_line_content": "\t */",
          "new_line_content": "\ttuples_fetched = clamp_row_est(indexSelectivity * baserel->tuples);",
          "content_same": false
        },
        {
          "line": 4128,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(inner_path_rows * innerbucketsize)",
          "old_line_content": "\t\trun_cost += hash_qual_cost.per_tuple * outer_path_rows *",
          "new_line_content": "\t\t\tclamp_row_est(inner_path_rows * innerbucketsize) * 0.5;",
          "content_same": false
        },
        {
          "line": 3105,
          "old_api": null,
          "new_api": "rint",
          "old_text": null,
          "new_text": "rint(outer_path_rows * extra->semifactors.outer_match_frac)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\touter_matched_rows = rint(outer_path_rows * extra->semifactors.outer_match_frac);",
          "content_same": false
        },
        {
          "line": 4644,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, AlternativeSubPlan)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, AlternativeSubPlan))",
          "content_same": false
        },
        {
          "line": 5670,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(rel->relid > 0)",
          "old_line_content": "\t/* Should only be applied to base relations that are functions */",
          "new_line_content": "\tAssert(rel->relid > 0);",
          "content_same": false
        },
        {
          "line": 4135,
          "old_api": null,
          "new_api": "approx_tuple_count",
          "old_text": null,
          "new_text": "approx_tuple_count(root, &path->jpath, hashclauses)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\thashjointuples = approx_tuple_count(root, &path->jpath, hashclauses);",
          "content_same": false
        },
        {
          "line": 5676,
          "old_api": null,
          "new_api": "set_baserel_size_estimates",
          "old_text": null,
          "new_text": "set_baserel_size_estimates(root, rel)",
          "old_line_content": "\t/* Now estimate number of output rows, etc */",
          "new_line_content": "\tset_baserel_size_estimates(root, rel);",
          "content_same": false
        },
        {
          "line": 4654,
          "old_api": null,
          "new_api": "linitial",
          "old_text": null,
          "new_text": "linitial(asplan->subplans)",
          "old_line_content": "",
          "new_line_content": "\t\treturn cost_qual_eval_walker((Node *) linitial(asplan->subplans),",
          "content_same": false
        },
        {
          "line": 4657,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, PlaceHolderVar)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, PlaceHolderVar))",
          "content_same": false
        },
        {
          "line": 6194,
          "old_api": null,
          "new_api": "Min",
          "old_text": null,
          "new_text": "Min(pages_fetched, baserel->pages)",
          "old_line_content": "\t */",
          "new_line_content": "\theap_pages = Min(pages_fetched, baserel->pages);",
          "content_same": false
        },
        {
          "line": 3124,
          "old_api": null,
          "new_api": "has_indexed_join_quals",
          "old_text": null,
          "new_text": "has_indexed_join_quals(path)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\tif (has_indexed_join_quals(path))",
          "content_same": false
        },
        {
          "line": 5178,
          "old_api": null,
          "new_api": "get_foreign_key_join_selectivity",
          "old_text": null,
          "new_text": "get_foreign_key_join_selectivity(root,\n\t\t\t\t\t\t\t\t\t\t\t   outer_rel->relids,\n\t\t\t\t\t\t\t\t\t\t\t   inner_rel->relids,\n\t\t\t\t\t\t\t\t\t\t\t   sjinfo,\n\t\t\t\t\t\t\t\t\t\t\t   &restrictlist)",
          "old_line_content": "\t */",
          "new_line_content": "\tfkselec = get_foreign_key_join_selectivity(root,",
          "content_same": false
        },
        {
          "line": 6205,
          "old_api": null,
          "new_api": "index_pages_fetched",
          "old_text": null,
          "new_text": "index_pages_fetched(tuples_fetched * loop_count,\n\t\t\t\t\t\t\t\t\t\t\tbaserel->pages,\n\t\t\t\t\t\t\t\t\t\t\tget_indexpath_pages(bitmapqual),\n\t\t\t\t\t\t\t\t\t\t\troot)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\tpages_fetched = index_pages_fetched(tuples_fetched * loop_count,",
          "content_same": false
        },
        {
          "line": 5694,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(rel->relid > 0)",
          "old_line_content": "\t/* Should only be applied to base relations that are values lists */",
          "new_line_content": "\tAssert(rel->relid > 0);",
          "content_same": false
        },
        {
          "line": 6207,
          "old_api": null,
          "new_api": "get_indexpath_pages",
          "old_text": null,
          "new_text": "get_indexpath_pages(bitmapqual)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t\tbaserel->pages,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\tget_indexpath_pages(bitmapqual),",
          "content_same": false
        },
        {
          "line": 4673,
          "old_api": null,
          "new_api": "expression_tree_walker",
          "old_text": null,
          "new_text": "expression_tree_walker(node, cost_qual_eval_walker,\n\t\t\t\t\t\t\t\t  (void *) context)",
          "old_line_content": "\t/* recurse into children */",
          "new_line_content": "\treturn expression_tree_walker(node, cost_qual_eval_walker,",
          "content_same": false
        },
        {
          "line": 5189,
          "old_api": null,
          "new_api": "IS_OUTER_JOIN",
          "old_text": null,
          "new_text": "IS_OUTER_JOIN(jointype)",
          "old_line_content": "\t */",
          "new_line_content": "\tif (IS_OUTER_JOIN(jointype))",
          "content_same": false
        },
        {
          "line": 6215,
          "old_api": null,
          "new_api": "ceil",
          "old_text": null,
          "new_text": "ceil(pages_fetched)",
          "old_line_content": "\telse",
          "new_line_content": "\t\tpages_fetched = ceil(pages_fetched);",
          "content_same": false
        },
        {
          "line": 3067,
          "old_api": null,
          "new_api": "get_parallel_divisor",
          "old_text": null,
          "new_text": "get_parallel_divisor(&path->jpath.path)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tdouble\t\tparallel_divisor = get_parallel_divisor(&path->jpath.path);",
          "content_same": false
        },
        {
          "line": 5704,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(rte->values_lists)",
          "old_line_content": "\t */",
          "new_line_content": "\trel->tuples = list_length(rte->values_lists);",
          "content_same": false
        },
        {
          "line": 4170,
          "old_api": null,
          "new_api": "cost_qual_eval",
          "old_text": null,
          "new_text": "cost_qual_eval(&sp_cost,\n\t\t\t\t   make_ands_implicit((Expr *) subplan->testexpr),\n\t\t\t\t   root)",
          "old_line_content": "\t/* Figure any cost for evaluating the testexpr */",
          "new_line_content": "\tcost_qual_eval(&sp_cost,",
          "content_same": false
        },
        {
          "line": 3657,
          "old_api": null,
          "new_api": "ExecSupportsMarkRestore",
          "old_text": null,
          "new_text": "ExecSupportsMarkRestore(inner_path)",
          "old_line_content": "\telse if (innersortkeys == NIL &&",
          "new_line_content": "\t\t\t !ExecSupportsMarkRestore(inner_path))",
          "content_same": false
        },
        {
          "line": 5707,
          "old_api": null,
          "new_api": "set_baserel_size_estimates",
          "old_text": null,
          "new_text": "set_baserel_size_estimates(root, rel)",
          "old_line_content": "\t/* Now estimate number of output rows, etc */",
          "new_line_content": "\tset_baserel_size_estimates(root, rel);",
          "content_same": false
        },
        {
          "line": 2637,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(aggstrategy == AGG_HASHED)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tAssert(aggstrategy == AGG_HASHED);",
          "content_same": false
        },
        {
          "line": 5198,
          "old_api": null,
          "new_api": "lfirst_node",
          "old_text": null,
          "new_text": "lfirst_node(RestrictInfo, l)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\tRestrictInfo *rinfo = lfirst_node(RestrictInfo, l);",
          "content_same": false
        },
        {
          "line": 5200,
          "old_api": null,
          "new_api": "RINFO_IS_PUSHED_DOWN",
          "old_text": null,
          "new_text": "RINFO_IS_PUSHED_DOWN(rinfo, joinrel->relids)",
          "old_line_content": "",
          "new_line_content": "\t\t\tif (RINFO_IS_PUSHED_DOWN(rinfo, joinrel->relids))",
          "content_same": false
        },
        {
          "line": 5203,
          "old_api": null,
          "new_api": "lappend",
          "old_text": null,
          "new_text": "lappend(joinquals, rinfo)",
          "old_line_content": "\t\t\telse",
          "new_line_content": "\t\t\t\tjoinquals = lappend(joinquals, rinfo);",
          "content_same": false
        },
        {
          "line": 6229,
          "old_api": null,
          "new_api": "Max",
          "old_text": null,
          "new_text": "Max(0, heap_pages - maxentries / 2)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\tlossy_pages = Max(0, heap_pages - maxentries / 2);",
          "content_same": false
        },
        {
          "line": 5207,
          "old_api": null,
          "new_api": "clauselist_selectivity",
          "old_text": null,
          "new_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\t\tjoinquals,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tjointype,\n\t\t\t\t\t\t\t\t\t\tsjinfo)",
          "old_line_content": "\t\t/* Get the separate selectivities */",
          "new_line_content": "\t\tjselec = clauselist_selectivity(root,",
          "content_same": false
        },
        {
          "line": 3672,
          "old_api": null,
          "new_api": "relation_byte_size",
          "old_text": null,
          "new_text": "relation_byte_size(inner_path_rows,\n\t\t\t\t\t\t\t\tinner_path->pathtarget->width)",
          "old_line_content": "\telse if (enable_material && innersortkeys != NIL &&",
          "new_line_content": "\t\t\t relation_byte_size(inner_path_rows,",
          "content_same": false
        },
        {
          "line": 4697,
          "old_api": null,
          "new_api": "cost_qual_eval",
          "old_text": null,
          "new_text": "cost_qual_eval(qpqual_cost, param_info->ppi_clauses, root)",
          "old_line_content": "\t\t/* Include costs of pushed-down clauses */",
          "new_line_content": "\t\tcost_qual_eval(qpqual_cost, param_info->ppi_clauses, root);",
          "content_same": false
        },
        {
          "line": 5212,
          "old_api": null,
          "new_api": "clauselist_selectivity",
          "old_text": null,
          "new_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\t\tpushedquals,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tjointype,\n\t\t\t\t\t\t\t\t\t\tsjinfo)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t\tsjinfo);",
          "new_line_content": "\t\tpselec = clauselist_selectivity(root,",
          "content_same": false
        },
        {
          "line": 4089,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(inner_path_rows * innerbucketsize * inner_scan_frac)",
          "old_line_content": "\t\trun_cost += hash_qual_cost.per_tuple * outer_matched_rows *",
          "new_line_content": "\t\t\tclamp_row_est(inner_path_rows * innerbucketsize * inner_scan_frac) * 0.5;",
          "content_same": false
        },
        {
          "line": 5726,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(rel->relid > 0)",
          "old_line_content": "\t/* Should only be applied to base relations that are CTE references */",
          "new_line_content": "\tAssert(rel->relid > 0);",
          "content_same": false
        },
        {
          "line": 6241,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(indexSelectivity *\n\t\t\t\t\t\t\t  (exact_pages / heap_pages) * baserel->tuples +\n\t\t\t\t\t\t\t  (lossy_pages / heap_pages) * baserel->tuples)",
          "old_line_content": "\t\t\ttuples_fetched =",
          "new_line_content": "\t\t\t\tclamp_row_est(indexSelectivity *",
          "content_same": false
        },
        {
          "line": 5219,
          "old_api": null,
          "new_api": "list_free",
          "old_text": null,
          "new_text": "list_free(joinquals)",
          "old_line_content": "\t\t/* Avoid leaking a lot of ListCells */",
          "new_line_content": "\t\tlist_free(joinquals);",
          "content_same": false
        },
        {
          "line": 5224,
          "old_api": null,
          "new_api": "clauselist_selectivity",
          "old_text": null,
          "new_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\t\trestrictlist,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tjointype,\n\t\t\t\t\t\t\t\t\t\tsjinfo)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tjselec = clauselist_selectivity(root,",
          "content_same": false
        },
        {
          "line": 5737,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(recursive_worktable_factor * cte_rows)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\trel->tuples = clamp_row_est(recursive_worktable_factor * cte_rows);",
          "content_same": false
        },
        {
          "line": 3583,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(outer_path, UniquePath)",
          "old_line_content": "\t */",
          "new_line_content": "\tif (IsA(outer_path, UniquePath) || path->skip_mark_restore)",
          "content_same": false
        },
        {
          "line": 4208,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(plan->plan_rows)",
          "old_line_content": "\t\t\t/* we only need to fetch 1 tuple; clamp to avoid zero divide */",
          "new_line_content": "\t\t\tsp_cost.per_tuple += plan_run_cost / clamp_row_est(plan->plan_rows);",
          "content_same": false
        },
        {
          "line": 5746,
          "old_api": null,
          "new_api": "set_baserel_size_estimates",
          "old_text": null,
          "new_text": "set_baserel_size_estimates(root, rel)",
          "old_line_content": "\t/* Now estimate number of output rows, etc */",
          "new_line_content": "\tset_baserel_size_estimates(root, rel);",
          "content_same": false
        },
        {
          "line": 3201,
          "old_api": null,
          "new_api": "cost_qual_eval",
          "old_text": null,
          "new_text": "cost_qual_eval(&restrict_qual_cost, path->jpath.joinrestrictinfo, root)",
          "old_line_content": "\t/* CPU costs */",
          "new_line_content": "\tcost_qual_eval(&restrict_qual_cost, path->jpath.joinrestrictinfo, root);",
          "content_same": false
        },
        {
          "line": 5764,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(rel->relid > 0)",
          "old_line_content": "\t/* Should only be applied to base relations that are tuplestore references */",
          "new_line_content": "\tAssert(rel->relid > 0);",
          "content_same": false
        },
        {
          "line": 4232,
          "old_api": null,
          "new_api": "nodeTag",
          "old_text": null,
          "new_text": "nodeTag(plan)",
          "old_line_content": "\t\tif (subplan->parParam == NIL &&",
          "new_line_content": "\t\t\tExecMaterializesOutput(nodeTag(plan)))",
          "content_same": false
        },
        {
          "line": 4755,
          "old_api": null,
          "new_api": "IS_OUTER_JOIN",
          "old_text": null,
          "new_text": "IS_OUTER_JOIN(jointype)",
          "old_line_content": "\t */",
          "new_line_content": "\tif (IS_OUTER_JOIN(jointype))",
          "content_same": false
        },
        {
          "line": 5779,
          "old_api": null,
          "new_api": "set_baserel_size_estimates",
          "old_text": null,
          "new_text": "set_baserel_size_estimates(root, rel)",
          "old_line_content": "\t/* Now estimate number of output rows, etc */",
          "new_line_content": "\tset_baserel_size_estimates(root, rel);",
          "content_same": false
        },
        {
          "line": 3735,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(lc, rinfo->scansel_cache)",
          "old_line_content": "\t/* Do we have this result already? */",
          "new_line_content": "\tforeach(lc, rinfo->scansel_cache)",
          "content_same": false
        },
        {
          "line": 4760,
          "old_api": null,
          "new_api": "lfirst_node",
          "old_text": null,
          "new_text": "lfirst_node(RestrictInfo, l)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\tRestrictInfo *rinfo = lfirst_node(RestrictInfo, l);",
          "content_same": false
        },
        {
          "line": 3737,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(lc)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tcache = (MergeScanSelCache *) lfirst(lc);",
          "content_same": false
        },
        {
          "line": 4762,
          "old_api": null,
          "new_api": "RINFO_IS_PUSHED_DOWN",
          "old_text": null,
          "new_text": "RINFO_IS_PUSHED_DOWN(rinfo, joinrel->relids)",
          "old_line_content": "",
          "new_line_content": "\t\t\tif (!RINFO_IS_PUSHED_DOWN(rinfo, joinrel->relids))",
          "content_same": false
        },
        {
          "line": 5274,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"unrecognized join type: %d\", (int) jointype)",
          "old_line_content": "\t\t\t/* other values not expected here */",
          "new_line_content": "\t\t\telog(ERROR, \"unrecognized join type: %d\", (int) jointype);",
          "content_same": false
        },
        {
          "line": 5279,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(nrows)",
          "old_line_content": "",
          "new_line_content": "\treturn clamp_row_est(nrows);",
          "content_same": false
        },
        {
          "line": 3746,
          "old_api": null,
          "new_api": "mergejoinscansel",
          "old_text": null,
          "new_text": "mergejoinscansel(root,\n\t\t\t\t\t (Node *) rinfo->clause,\n\t\t\t\t\t pathkey->pk_opfamily,\n\t\t\t\t\t pathkey->pk_strategy,\n\t\t\t\t\t pathkey->pk_nulls_first,\n\t\t\t\t\t &leftstartsel,\n\t\t\t\t\t &leftendsel,\n\t\t\t\t\t &rightstartsel,\n\t\t\t\t\t &rightendsel)",
          "old_line_content": "\t/* Nope, do the computation */",
          "new_line_content": "\tmergejoinscansel(root,",
          "content_same": false
        },
        {
          "line": 5795,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(rel->relid > 0)",
          "old_line_content": "\t/* Should only be applied to RTE_RESULT base relations */",
          "new_line_content": "\tAssert(rel->relid > 0);",
          "content_same": false
        },
        {
          "line": 4772,
          "old_api": null,
          "new_api": "clauselist_selectivity",
          "old_text": null,
          "new_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\tjoinquals,\n\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t(jointype == JOIN_ANTI) ? JOIN_ANTI : JOIN_SEMI,\n\t\t\t\t\t\t\t\t\tsjinfo)",
          "old_line_content": "\t */",
          "new_line_content": "\tjselec = clauselist_selectivity(root,",
          "content_same": false
        },
        {
          "line": 5802,
          "old_api": null,
          "new_api": "set_baserel_size_estimates",
          "old_text": null,
          "new_text": "set_baserel_size_estimates(root, rel)",
          "old_line_content": "\t/* Now estimate number of output rows, etc */",
          "new_line_content": "\tset_baserel_size_estimates(root, rel);",
          "content_same": false
        },
        {
          "line": 3757,
          "old_api": null,
          "new_api": "MemoryContextSwitchTo",
          "old_text": null,
          "new_text": "MemoryContextSwitchTo(root->planner_cxt)",
          "old_line_content": "\t/* Cache the result in suitably long-lived workspace */",
          "new_line_content": "\toldcontext = MemoryContextSwitchTo(root->planner_cxt);",
          "content_same": false
        },
        {
          "line": 3759,
          "old_api": null,
          "new_api": "palloc",
          "old_text": null,
          "new_text": "palloc(sizeof(MergeScanSelCache))",
          "old_line_content": "",
          "new_line_content": "\tcache = (MergeScanSelCache *) palloc(sizeof(MergeScanSelCache));",
          "content_same": false
        },
        {
          "line": 2744,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(root->aggtransinfos)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\thashentrysize = hash_agg_entry_size(list_length(root->aggtransinfos),",
          "content_same": false
        },
        {
          "line": 3769,
          "old_api": null,
          "new_api": "lappend",
          "old_text": null,
          "new_text": "lappend(rinfo->scansel_cache, cache)",
          "old_line_content": "",
          "new_line_content": "\trinfo->scansel_cache = lappend(rinfo->scansel_cache, cache);",
          "content_same": false
        },
        {
          "line": 2747,
          "old_api": null,
          "new_api": "hash_agg_set_limits",
          "old_text": null,
          "new_text": "hash_agg_set_limits(hashentrysize, numGroups, 0, &mem_limit,\n\t\t\t\t\t\t\t&ngroups_limit, &num_partitions)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t\taggcosts->transitionSpace);",
          "new_line_content": "\t\thash_agg_set_limits(hashentrysize, numGroups, 0, &mem_limit,",
          "content_same": false
        },
        {
          "line": 3771,
          "old_api": null,
          "new_api": "MemoryContextSwitchTo",
          "old_text": null,
          "new_text": "MemoryContextSwitchTo(oldcontext)",
          "old_line_content": "",
          "new_line_content": "\tMemoryContextSwitchTo(oldcontext);",
          "content_same": false
        },
        {
          "line": 2750,
          "old_api": null,
          "new_api": "Max",
          "old_text": null,
          "new_text": "Max((numGroups * hashentrysize) / mem_limit,\n\t\t\t\t\t   numGroups / ngroups_limit)",
          "old_line_content": "",
          "new_line_content": "\t\tnbatches = Max((numGroups * hashentrysize) / mem_limit,",
          "content_same": false
        },
        {
          "line": 4798,
          "old_api": null,
          "new_api": "clauselist_selectivity",
          "old_text": null,
          "new_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\tjoinquals,\n\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\tJOIN_INNER,\n\t\t\t\t\t\t\t\t\t&norm_sjinfo)",
          "old_line_content": "",
          "new_line_content": "\tnselec = clauselist_selectivity(root,",
          "content_same": false
        },
        {
          "line": 5310,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(lc, root->fkey_list)",
          "old_line_content": "\t/* Consider each FK constraint that is known to match the query */",
          "new_line_content": "\tforeach(lc, root->fkey_list)",
          "content_same": false
        },
        {
          "line": 2753,
          "old_api": null,
          "new_api": "ceil",
          "old_text": null,
          "new_text": "ceil(nbatches)",
          "old_line_content": "",
          "new_line_content": "\t\tnbatches = Max(ceil(nbatches), 1.0);",
          "content_same": false
        },
        {
          "line": 5312,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(lc)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tForeignKeyOptInfo *fkinfo = (ForeignKeyOptInfo *) lfirst(lc);",
          "content_same": false
        },
        {
          "line": 5824,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(rel->relid > 0)",
          "old_line_content": "\t/* Should only be applied to base relations */",
          "new_line_content": "\tAssert(rel->relid > 0);",
          "content_same": false
        },
        {
          "line": 5828,
          "old_api": null,
          "new_api": "cost_qual_eval",
          "old_text": null,
          "new_text": "cost_qual_eval(&rel->baserestrictcost, rel->baserestrictinfo, root)",
          "old_line_content": "",
          "new_line_content": "\tcost_qual_eval(&rel->baserestrictcost, rel->baserestrictinfo, root);",
          "content_same": false
        },
        {
          "line": 4805,
          "old_api": null,
          "new_api": "IS_OUTER_JOIN",
          "old_text": null,
          "new_text": "IS_OUTER_JOIN(jointype)",
          "old_line_content": "\t/* Avoid leaking a lot of ListCells */",
          "new_line_content": "\tif (IS_OUTER_JOIN(jointype))",
          "content_same": false
        },
        {
          "line": 5830,
          "old_api": null,
          "new_api": "set_rel_width",
          "old_text": null,
          "new_text": "set_rel_width(root, rel)",
          "old_line_content": "",
          "new_line_content": "\tset_rel_width(root, rel);",
          "content_same": false
        },
        {
          "line": 2761,
          "old_api": null,
          "new_api": "log",
          "old_text": null,
          "new_text": "log(num_partitions)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\tdepth = ceil(log(nbatches) / log(num_partitions));",
          "content_same": false
        },
        {
          "line": 5321,
          "old_api": null,
          "new_api": "bms_is_member",
          "old_text": null,
          "new_text": "bms_is_member(fkinfo->con_relid, outer_relids)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\tif (bms_is_member(fkinfo->con_relid, outer_relids) &&",
          "content_same": false
        },
        {
          "line": 5324,
          "old_api": null,
          "new_api": "bms_is_member",
          "old_text": null,
          "new_text": "bms_is_member(fkinfo->ref_relid, outer_relids)",
          "old_line_content": "\t\t\tref_is_outer = false;",
          "new_line_content": "\t\telse if (bms_is_member(fkinfo->ref_relid, outer_relids) &&",
          "content_same": false
        },
        {
          "line": 2767,
          "old_api": null,
          "new_api": "relation_byte_size",
          "old_text": null,
          "new_text": "relation_byte_size(input_tuples, input_width)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\tpages = relation_byte_size(input_tuples, input_width) / BLCKSZ;",
          "content_same": false
        },
        {
          "line": 4305,
          "old_api": null,
          "new_api": "relation_byte_size",
          "old_text": null,
          "new_text": "relation_byte_size(path->rows,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath->pathtarget->width)",
          "old_line_content": "\t\t\t\tCost\t\trun_cost = cpu_tuple_cost * path->rows;",
          "new_line_content": "\t\t\t\tdouble\t\tnbytes = relation_byte_size(path->rows,",
          "content_same": false
        },
        {
          "line": 3286,
          "old_api": null,
          "new_api": "linitial",
          "old_text": null,
          "new_text": "linitial(mergeclauses)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tRestrictInfo *firstclause = (RestrictInfo *) linitial(mergeclauses);",
          "content_same": false
        },
        {
          "line": 4312,
          "old_api": null,
          "new_api": "ceil",
          "old_text": null,
          "new_text": "ceil(nbytes / BLCKSZ)",
          "old_line_content": "\t\t\t\t\t/* It will spill, so account for re-read cost */",
          "new_line_content": "\t\t\t\t\tdouble\t\tnpages = ceil(nbytes / BLCKSZ);",
          "content_same": false
        },
        {
          "line": 4824,
          "old_api": null,
          "new_api": "Max",
          "old_text": null,
          "new_text": "Max(1.0, avgmatch)",
          "old_line_content": "\t\t/* Clamp to sane range */",
          "new_line_content": "\t\tavgmatch = Max(1.0, avgmatch);",
          "content_same": false
        },
        {
          "line": 5343,
          "old_api": null,
          "new_api": "bms_membership",
          "old_text": null,
          "new_text": "bms_membership(inner_relids)",
          "old_line_content": "\t\tif ((jointype == JOIN_SEMI || jointype == JOIN_ANTI) &&",
          "new_line_content": "\t\t\t(ref_is_outer || bms_membership(inner_relids) != BMS_SINGLETON))",
          "content_same": false
        },
        {
          "line": 3296,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(opathkeys)",
          "old_line_content": "\t\tipathkeys = innersortkeys ? innersortkeys : inner_path->pathkeys;",
          "new_line_content": "\t\tAssert(opathkeys);",
          "content_same": false
        },
        {
          "line": 5858,
          "old_api": null,
          "new_api": "planner_rt_fetch",
          "old_text": null,
          "new_text": "planner_rt_fetch(rel->relid, root)",
          "old_line_content": "{",
          "new_line_content": "\tOid\t\t\treloid = planner_rt_fetch(rel->relid, root)->relid;",
          "content_same": false
        },
        {
          "line": 3815,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(hashclauses)",
          "old_line_content": "\tdouble\t\tinner_path_rows_total = inner_path_rows;",
          "new_line_content": "\tint\t\t\tnum_hashclauses = list_length(hashclauses);",
          "content_same": false
        },
        {
          "line": 3305,
          "old_api": null,
          "new_api": "elog",
          "old_text": null,
          "new_text": "elog(ERROR, \"left and right pathkeys do not match in mergejoin\")",
          "old_line_content": "\t\t\topathkey->pk_nulls_first != ipathkey->pk_nulls_first)",
          "new_line_content": "\t\t\telog(ERROR, \"left and right pathkeys do not match in mergejoin\");",
          "content_same": false
        },
        {
          "line": 5353,
          "old_api": null,
          "new_api": "list_copy",
          "old_text": null,
          "new_text": "list_copy(worklist)",
          "old_line_content": "\t\tif (worklist == *restrictlist)",
          "new_line_content": "\t\t\tworklist = list_copy(worklist);",
          "content_same": false
        },
        {
          "line": 2795,
          "old_api": null,
          "new_api": "cost_qual_eval",
          "old_text": null,
          "new_text": "cost_qual_eval(&qual_cost, quals, root)",
          "old_line_content": "",
          "new_line_content": "\t\tcost_qual_eval(&qual_cost, quals, root);",
          "content_same": false
        },
        {
          "line": 4332,
          "old_api": null,
          "new_api": "relation_byte_size",
          "old_text": null,
          "new_text": "relation_byte_size(path->rows,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath->pathtarget->width)",
          "old_line_content": "\t\t\t\tCost\t\trun_cost = cpu_operator_cost * path->rows;",
          "new_line_content": "\t\t\t\tdouble\t\tnbytes = relation_byte_size(path->rows,",
          "content_same": false
        },
        {
          "line": 3308,
          "old_api": null,
          "new_api": "cached_scansel",
          "old_text": null,
          "new_text": "cached_scansel(root, firstclause, opathkey)",
          "old_line_content": "\t\t/* Get the selectivity with caching */",
          "new_line_content": "\t\tcache = cached_scansel(root, firstclause, opathkey);",
          "content_same": false
        },
        {
          "line": 3310,
          "old_api": null,
          "new_api": "bms_is_subset",
          "old_text": null,
          "new_text": "bms_is_subset(firstclause->left_relids,\n\t\t\t\t\t\t  outer_path->parent->relids)",
          "old_line_content": "",
          "new_line_content": "\t\tif (bms_is_subset(firstclause->left_relids,",
          "content_same": false
        },
        {
          "line": 2799,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(output_tuples *\n\t\t\t\t\t\t\t\t\t  clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t quals,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t JOIN_INNER,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t NULL))",
          "old_line_content": "",
          "new_line_content": "\t\toutput_tuples = clamp_row_est(output_tuples *",
          "content_same": false
        },
        {
          "line": 5358,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(cell)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\tRestrictInfo *rinfo = (RestrictInfo *) lfirst(cell);",
          "content_same": false
        },
        {
          "line": 5867,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(lc, rel->reltarget->exprs)",
          "old_line_content": "",
          "new_line_content": "\tforeach(lc, rel->reltarget->exprs)",
          "content_same": false
        },
        {
          "line": 5869,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(lc)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tNode\t   *node = (Node *) lfirst(lc);",
          "content_same": false
        },
        {
          "line": 4339,
          "old_api": null,
          "new_api": "ceil",
          "old_text": null,
          "new_text": "ceil(nbytes / BLCKSZ)",
          "old_line_content": "\t\t\t\t\t/* It will spill, so account for re-read cost */",
          "new_line_content": "\t\t\t\t\tdouble\t\tnpages = ceil(nbytes / BLCKSZ);",
          "content_same": false
        },
        {
          "line": 5877,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, Var)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\tif (IsA(node, Var) &&",
          "content_same": false
        },
        {
          "line": 5884,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(var->varattno >= rel->min_attr)",
          "old_line_content": "",
          "new_line_content": "\t\t\tAssert(var->varattno >= rel->min_attr);",
          "content_same": false
        },
        {
          "line": 4349,
          "old_api": null,
          "new_api": "cost_memoize_rescan",
          "old_text": null,
          "new_text": "cost_memoize_rescan(root, (MemoizePath *) path,\n\t\t\t\t\t\t\t\trescan_startup_cost, rescan_total_cost)",
          "old_line_content": "\t\t\t/* All the hard work is done by cost_memoize_rescan */",
          "new_line_content": "\t\t\tcost_memoize_rescan(root, (MemoizePath *) path,",
          "content_same": false
        },
        {
          "line": 3847,
          "old_api": null,
          "new_api": "get_parallel_divisor",
          "old_text": null,
          "new_text": "get_parallel_divisor(inner_path)",
          "old_line_content": "\tif (parallel_hash)",
          "new_line_content": "\t\tinner_path_rows_total *= get_parallel_divisor(inner_path);",
          "content_same": false
        },
        {
          "line": 4872,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(bmqual, IndexPath)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\tif (IsA(bmqual, IndexPath))",
          "content_same": false
        },
        {
          "line": 5392,
          "old_api": null,
          "new_api": "list_member_ptr",
          "old_text": null,
          "new_text": "list_member_ptr(fkinfo->rinfos[i], rinfo)",
          "old_line_content": "\t\t\t\t\t */",
          "new_line_content": "\t\t\t\t\tif (list_member_ptr(fkinfo->rinfos[i], rinfo))",
          "content_same": false
        },
        {
          "line": 3859,
          "old_api": null,
          "new_api": "ExecChooseHashTableSize",
          "old_text": null,
          "new_text": "ExecChooseHashTableSize(inner_path_rows_total,\n\t\t\t\t\t\t\tinner_path->pathtarget->width,\n\t\t\t\t\t\t\ttrue,\t/* useskew */\n\t\t\t\t\t\t\tparallel_hash,\t/* try_combined_hash_mem */\n\t\t\t\t\t\t\touter_path->parallel_workers,\n\t\t\t\t\t\t\t&space_allowed,\n\t\t\t\t\t\t\t&numbuckets,\n\t\t\t\t\t\t\t&numbatches,\n\t\t\t\t\t\t\t&num_skew_mcvs)",
          "old_line_content": "\t */",
          "new_line_content": "\tExecChooseHashTableSize(inner_path_rows_total,",
          "content_same": false
        },
        {
          "line": 3350,
          "old_api": null,
          "new_api": "rint",
          "old_text": null,
          "new_text": "rint(outer_path_rows * outerstartsel)",
          "old_line_content": "\t */",
          "new_line_content": "\touter_skip_rows = rint(outer_path_rows * outerstartsel);",
          "content_same": false
        },
        {
          "line": 5912,
          "old_api": null,
          "new_api": "get_attavgwidth",
          "old_text": null,
          "new_text": "get_attavgwidth(reloid, var->varattno)",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\t\t\titem_width = get_attavgwidth(reloid, var->varattno);",
          "content_same": false
        },
        {
          "line": 5401,
          "old_api": null,
          "new_api": "foreach_delete_current",
          "old_text": null,
          "new_text": "foreach_delete_current(worklist, cell)",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\t\t\tworklist = foreach_delete_current(worklist, cell);",
          "content_same": false
        },
        {
          "line": 2843,
          "old_api": null,
          "new_api": "lfirst_node",
          "old_text": null,
          "new_text": "lfirst_node(WindowFunc, lc)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tWindowFunc *wfunc = lfirst_node(WindowFunc, lc);",
          "content_same": false
        },
        {
          "line": 3355,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(outer_skip_rows <= outer_rows)",
          "old_line_content": "",
          "new_line_content": "\tAssert(outer_skip_rows <= outer_rows);",
          "content_same": false
        },
        {
          "line": 4383,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(l)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tNode\t   *qual = (Node *) lfirst(l);",
          "content_same": false
        },
        {
          "line": 4895,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(lc, innerpath->param_info->ppi_clauses)",
          "old_line_content": "\tfound_one = false;",
          "new_line_content": "\tforeach(lc, innerpath->param_info->ppi_clauses)",
          "content_same": false
        },
        {
          "line": 4385,
          "old_api": null,
          "new_api": "cost_qual_eval_walker",
          "old_text": null,
          "new_text": "cost_qual_eval_walker(qual, &context)",
          "old_line_content": "",
          "new_line_content": "\t\tcost_qual_eval_walker(qual, &context);",
          "content_same": false
        },
        {
          "line": 2848,
          "old_api": null,
          "new_api": "add_function_cost",
          "old_text": null,
          "new_text": "add_function_cost(root, wfunc->winfnoid, (Node *) wfunc,\n\t\t\t\t\t\t  &argcosts)",
          "old_line_content": "\t\targcosts.startup = argcosts.per_tuple = 0;",
          "new_line_content": "\t\tadd_function_cost(root, wfunc->winfnoid, (Node *) wfunc,",
          "content_same": false
        },
        {
          "line": 4897,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(lc)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tRestrictInfo *rinfo = (RestrictInfo *) lfirst(lc);",
          "content_same": false
        },
        {
          "line": 4899,
          "old_api": null,
          "new_api": "join_clause_is_movable_into",
          "old_text": null,
          "new_text": "join_clause_is_movable_into(rinfo,\n\t\t\t\t\t\t\t\t\t\tinnerpath->parent->relids,\n\t\t\t\t\t\t\t\t\t\tjoinrelids)",
          "old_line_content": "",
          "new_line_content": "\t\tif (join_clause_is_movable_into(rinfo,",
          "content_same": false
        },
        {
          "line": 5925,
          "old_api": null,
          "new_api": "get_typavgwidth",
          "old_text": null,
          "new_text": "get_typavgwidth(var->vartype, var->vartypmod)",
          "old_line_content": "\t\t\t */",
          "new_line_content": "\t\t\titem_width = get_typavgwidth(var->vartype, var->vartypmod);",
          "content_same": false
        },
        {
          "line": 2854,
          "old_api": null,
          "new_api": "cost_qual_eval_node",
          "old_text": null,
          "new_text": "cost_qual_eval_node(&argcosts, (Node *) wfunc->args, root)",
          "old_line_content": "\t\t/* also add the input expressions' cost to per-input-row costs */",
          "new_line_content": "\t\tcost_qual_eval_node(&argcosts, (Node *) wfunc->args, root);",
          "content_same": false
        },
        {
          "line": 4903,
          "old_api": null,
          "new_api": "is_redundant_with_indexclauses",
          "old_text": null,
          "new_text": "is_redundant_with_indexclauses(rinfo, indexclauses)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\tif (!is_redundant_with_indexclauses(rinfo, indexclauses))",
          "content_same": false
        },
        {
          "line": 3368,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(outerstartsel <= outerendsel)",
          "old_line_content": "",
          "new_line_content": "\tAssert(outerstartsel <= outerendsel);",
          "content_same": false
        },
        {
          "line": 3878,
          "old_api": null,
          "new_api": "page_size",
          "old_text": null,
          "new_text": "page_size(outer_path_rows,\n\t\t\t\t\t\t\t\t\t\t   outer_path->pathtarget->width)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tdouble\t\touterpages = page_size(outer_path_rows,",
          "content_same": false
        },
        {
          "line": 3880,
          "old_api": null,
          "new_api": "page_size",
          "old_text": null,
          "new_text": "page_size(inner_path_rows,\n\t\t\t\t\t\t\t\t\t\t   inner_path->pathtarget->width)",
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t   outer_path->pathtarget->width);",
          "new_line_content": "\t\tdouble\t\tinnerpages = page_size(inner_path_rows,",
          "content_same": false
        },
        {
          "line": 5930,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, PlaceHolderVar)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\telse if (IsA(node, PlaceHolderVar))",
          "content_same": false
        },
        {
          "line": 2862,
          "old_api": null,
          "new_api": "cost_qual_eval_node",
          "old_text": null,
          "new_text": "cost_qual_eval_node(&argcosts, (Node *) wfunc->aggfilter, root)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\tcost_qual_eval_node(&argcosts, (Node *) wfunc->aggfilter, root);",
          "content_same": false
        },
        {
          "line": 3375,
          "old_api": null,
          "new_api": "cost_sort",
          "old_text": null,
          "new_text": "cost_sort(&sort_path,\n\t\t\t\t  root,\n\t\t\t\t  outersortkeys,\n\t\t\t\t  outer_path->total_cost,\n\t\t\t\t  outer_path_rows,\n\t\t\t\t  outer_path->pathtarget->width,\n\t\t\t\t  0.0,\n\t\t\t\t  work_mem,\n\t\t\t\t  -1.0)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tcost_sort(&sort_path,",
          "content_same": false
        },
        {
          "line": 5937,
          "old_api": null,
          "new_api": "find_placeholder_info",
          "old_text": null,
          "new_text": "find_placeholder_info(root, phv)",
          "old_line_content": "\t\t\tPlaceHolderVar *phv = (PlaceHolderVar *) node;",
          "new_line_content": "\t\t\tPlaceHolderInfo *phinfo = find_placeholder_info(root, phv);",
          "content_same": false
        },
        {
          "line": 4404,
          "old_api": null,
          "new_api": "cost_qual_eval_walker",
          "old_text": null,
          "new_text": "cost_qual_eval_walker(qual, &context)",
          "old_line_content": "",
          "new_line_content": "\tcost_qual_eval_walker(qual, &context);",
          "content_same": false
        },
        {
          "line": 5941,
          "old_api": null,
          "new_api": "cost_qual_eval_node",
          "old_text": null,
          "new_text": "cost_qual_eval_node(&cost, (Node *) phv->phexpr, root)",
          "old_line_content": "\t\t\ttuple_width += phinfo->ph_width;",
          "new_line_content": "\t\t\tcost_qual_eval_node(&cost, (Node *) phv->phexpr, root);",
          "content_same": false
        },
        {
          "line": 5433,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(removedlist)",
          "old_line_content": "\t\tif (removedlist == NIL ||",
          "new_line_content": "\t\t\tlist_length(removedlist) !=",
          "content_same": false
        },
        {
          "line": 5436,
          "old_api": null,
          "new_api": "list_concat",
          "old_text": null,
          "new_text": "list_concat(worklist, removedlist)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\tworklist = list_concat(worklist, removedlist);",
          "content_same": false
        },
        {
          "line": 5955,
          "old_api": null,
          "new_api": "exprTypmod",
          "old_text": null,
          "new_text": "exprTypmod(node)",
          "old_line_content": "",
          "new_line_content": "\t\t\titem_width = get_typavgwidth(exprType(node), exprTypmod(node));",
          "content_same": false
        },
        {
          "line": 4421,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, RestrictInfo)",
          "old_line_content": "\t */",
          "new_line_content": "\tif (IsA(node, RestrictInfo))",
          "content_same": false
        },
        {
          "line": 5959,
          "old_api": null,
          "new_api": "cost_qual_eval_node",
          "old_text": null,
          "new_text": "cost_qual_eval_node(&cost, node, root)",
          "old_line_content": "\t\t\t/* Not entirely clear if we need to account for cost, but do so */",
          "new_line_content": "\t\t\tcost_qual_eval_node(&cost, node, root);",
          "content_same": false
        },
        {
          "line": 3401,
          "old_api": null,
          "new_api": "cost_sort",
          "old_text": null,
          "new_text": "cost_sort(&sort_path,\n\t\t\t\t  root,\n\t\t\t\t  innersortkeys,\n\t\t\t\t  inner_path->total_cost,\n\t\t\t\t  inner_path_rows,\n\t\t\t\t  inner_path->pathtarget->width,\n\t\t\t\t  0.0,\n\t\t\t\t  work_mem,\n\t\t\t\t  -1.0)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tcost_sort(&sort_path,",
          "content_same": false
        },
        {
          "line": 5971,
          "old_api": null,
          "new_api": "MAXALIGN",
          "old_text": null,
          "new_text": "MAXALIGN(SizeofHeapTupleHeader)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tint32\t\twholerow_width = MAXALIGN(SizeofHeapTupleHeader);",
          "content_same": false
        },
        {
          "line": 4438,
          "old_api": null,
          "new_api": "cost_qual_eval_walker",
          "old_text": null,
          "new_text": "cost_qual_eval_walker((Node *) rinfo->orclause, &locContext)",
          "old_line_content": "\t\t\tif (rinfo->orclause)",
          "new_line_content": "\t\t\t\tcost_qual_eval_walker((Node *) rinfo->orclause, &locContext);",
          "content_same": false
        },
        {
          "line": 4440,
          "old_api": null,
          "new_api": "cost_qual_eval_walker",
          "old_text": null,
          "new_text": "cost_qual_eval_walker((Node *) rinfo->clause, &locContext)",
          "old_line_content": "\t\t\telse",
          "new_line_content": "\t\t\t\tcost_qual_eval_walker((Node *) rinfo->clause, &locContext);",
          "content_same": false
        },
        {
          "line": 5976,
          "old_api": null,
          "new_api": "get_relation_data_width",
          "old_text": null,
          "new_text": "get_relation_data_width(reloid,\n\t\t\t\t\t\t\t\t\t\t\t\t\t  rel->attr_widths - rel->min_attr)",
          "old_line_content": "\t\t\t/* Real relation, so estimate true tuple width */",
          "new_line_content": "\t\t\twholerow_width += get_relation_data_width(reloid,",
          "content_same": false
        },
        {
          "line": 5476,
          "old_api": null,
          "new_api": "find_base_rel",
          "old_text": null,
          "new_text": "find_base_rel(root, fkinfo->ref_relid)",
          "old_line_content": "\t\t\t */",
          "new_line_content": "\t\t\tRelOptInfo *ref_rel = find_base_rel(root, fkinfo->ref_relid);",
          "content_same": false
        },
        {
          "line": 3943,
          "old_api": null,
          "new_api": "get_parallel_divisor",
          "old_text": null,
          "new_text": "get_parallel_divisor(&path->jpath.path)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tdouble\t\tparallel_divisor = get_parallel_divisor(&path->jpath.path);",
          "content_same": false
        },
        {
          "line": 4969,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(l)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tNode\t   *qual = (Node *) lfirst(l);",
          "content_same": false
        },
        {
          "line": 2922,
          "old_api": null,
          "new_api": "cost_qual_eval",
          "old_text": null,
          "new_text": "cost_qual_eval(&qual_cost, quals, root)",
          "old_line_content": "",
          "new_line_content": "\t\tcost_qual_eval(&qual_cost, quals, root);",
          "content_same": false
        },
        {
          "line": 3946,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(path->jpath.path.rows / parallel_divisor)",
          "old_line_content": "\t\tpath->jpath.path.rows =",
          "new_line_content": "\t\t\tclamp_row_est(path->jpath.path.rows / parallel_divisor);",
          "content_same": false
        },
        {
          "line": 4972,
          "old_api": null,
          "new_api": "clause_selectivity",
          "old_text": null,
          "new_text": "clause_selectivity(root, qual, 0, JOIN_INNER, &sjinfo)",
          "old_line_content": "\t\t/* Note that clause_selectivity will be able to cache its result */",
          "new_line_content": "\t\tselec *= clause_selectivity(root, qual, 0, JOIN_INNER, &sjinfo);",
          "content_same": false
        },
        {
          "line": 5997,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(tuple_width >= 0)",
          "old_line_content": "",
          "new_line_content": "\tAssert(tuple_width >= 0);",
          "content_same": false
        },
        {
          "line": 2926,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(output_tuples *\n\t\t\t\t\t\t\t\t\t  clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t quals,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t JOIN_INNER,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t NULL))",
          "old_line_content": "",
          "new_line_content": "\t\toutput_tuples = clamp_row_est(output_tuples *",
          "content_same": false
        },
        {
          "line": 5488,
          "old_api": null,
          "new_api": "find_base_rel",
          "old_text": null,
          "new_text": "find_base_rel(root, fkinfo->ref_relid)",
          "old_line_content": "\t\t\t */",
          "new_line_content": "\t\t\tRelOptInfo *ref_rel = find_base_rel(root, fkinfo->ref_relid);",
          "content_same": false
        },
        {
          "line": 4978,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(tuples)",
          "old_line_content": "",
          "new_line_content": "\treturn clamp_row_est(tuples);",
          "content_same": false
        },
        {
          "line": 4482,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, FuncExpr)",
          "old_line_content": "\t */",
          "new_line_content": "\tif (IsA(node, FuncExpr))",
          "content_same": false
        },
        {
          "line": 4484,
          "old_api": null,
          "new_api": "add_function_cost",
          "old_text": null,
          "new_text": "add_function_cost(context->root, ((FuncExpr *) node)->funcid, node,\n\t\t\t\t\t\t  &context->total)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tadd_function_cost(context->root, ((FuncExpr *) node)->funcid, node,",
          "content_same": false
        },
        {
          "line": 4487,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, OpExpr)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, OpExpr) ||",
          "content_same": false
        },
        {
          "line": 6023,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(lc, target->exprs)",
          "old_line_content": "",
          "new_line_content": "\tforeach(lc, target->exprs)",
          "content_same": false
        },
        {
          "line": 5001,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(rel->relid > 0)",
          "old_line_content": "\t/* Should only be applied to base relations */",
          "new_line_content": "\tAssert(rel->relid > 0);",
          "content_same": false
        },
        {
          "line": 5513,
          "old_api": null,
          "new_api": "find_derived_clause_for_ec_member",
          "old_text": null,
          "new_text": "find_derived_clause_for_ec_member(ec,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tem)",
          "old_line_content": "\t\t\t\t\tEquivalenceMember *em = fkinfo->fk_eclass_member[i];",
          "new_line_content": "\t\t\t\t\tRestrictInfo *rinfo = find_derived_clause_for_ec_member(ec,",
          "content_same": false
        },
        {
          "line": 3976,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(inner_path, UniquePath)",
          "old_line_content": "\t */",
          "new_line_content": "\tif (IsA(inner_path, UniquePath))",
          "content_same": false
        },
        {
          "line": 4492,
          "old_api": null,
          "new_api": "set_opfuncid",
          "old_text": null,
          "new_text": "set_opfuncid((OpExpr *) node)",
          "old_line_content": "\t\t/* rely on struct equivalence to treat these all alike */",
          "new_line_content": "\t\tset_opfuncid((OpExpr *) node);",
          "content_same": false
        },
        {
          "line": 5004,
          "old_api": null,
          "new_api": "clauselist_selectivity",
          "old_text": null,
          "new_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t   rel->baserestrictinfo,\n\t\t\t\t\t\t\t   0,\n\t\t\t\t\t\t\t   JOIN_INNER,\n\t\t\t\t\t\t\t   NULL)",
          "old_line_content": "\tnrows = rel->tuples *",
          "new_line_content": "\t\tclauselist_selectivity(root,",
          "content_same": false
        },
        {
          "line": 6025,
          "old_api": null,
          "new_api": "lfirst",
          "old_text": null,
          "new_text": "lfirst(lc)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tNode\t   *node = (Node *) lfirst(lc);",
          "content_same": false
        },
        {
          "line": 6027,
          "old_api": null,
          "new_api": "get_expr_width",
          "old_text": null,
          "new_text": "get_expr_width(root, node)",
          "old_line_content": "",
          "new_line_content": "\t\ttuple_width += get_expr_width(root, node);",
          "content_same": false
        },
        {
          "line": 4496,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, ScalarArrayOpExpr)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, ScalarArrayOpExpr))",
          "content_same": false
        },
        {
          "line": 5520,
          "old_api": null,
          "new_api": "clause_selectivity",
          "old_text": null,
          "new_text": "clause_selectivity(root,\n\t\t\t\t\t\t\t\t\t\t\t\t(Node *) rinfo,\n\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\tjointype,\n\t\t\t\t\t\t\t\t\t\t\t\tsjinfo)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\t\ts0 = clause_selectivity(root,",
          "content_same": false
        },
        {
          "line": 5010,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(nrows)",
          "old_line_content": "",
          "new_line_content": "\trel->rows = clamp_row_est(nrows);",
          "content_same": false
        },
        {
          "line": 4499,
          "old_api": null,
          "new_api": "lsecond",
          "old_text": null,
          "new_text": "lsecond(saop->args)",
          "old_line_content": "\t\tScalarArrayOpExpr *saop = (ScalarArrayOpExpr *) node;",
          "new_line_content": "\t\tNode\t   *arraynode = (Node *) lsecond(saop->args);",
          "content_same": false
        },
        {
          "line": 5012,
          "old_api": null,
          "new_api": "cost_qual_eval",
          "old_text": null,
          "new_text": "cost_qual_eval(&rel->baserestrictcost, rel->baserestrictinfo, root)",
          "old_line_content": "",
          "new_line_content": "\tcost_qual_eval(&rel->baserestrictcost, rel->baserestrictinfo, root);",
          "content_same": false
        },
        {
          "line": 6030,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, Var)",
          "old_line_content": "\t\t/* For non-Vars, account for evaluation cost */",
          "new_line_content": "\t\tif (!IsA(node, Var))",
          "content_same": false
        },
        {
          "line": 4502,
          "old_api": null,
          "new_api": "estimate_array_length",
          "old_text": null,
          "new_text": "estimate_array_length(arraynode)",
          "old_line_content": "\t\tQualCost\thcosts;",
          "new_line_content": "\t\tint\t\t\testarraylen = estimate_array_length(arraynode);",
          "content_same": false
        },
        {
          "line": 5014,
          "old_api": null,
          "new_api": "set_rel_width",
          "old_text": null,
          "new_text": "set_rel_width(root, rel)",
          "old_line_content": "",
          "new_line_content": "\tset_rel_width(root, rel);",
          "content_same": false
        },
        {
          "line": 4504,
          "old_api": null,
          "new_api": "set_sa_opfuncid",
          "old_text": null,
          "new_text": "set_sa_opfuncid(saop)",
          "old_line_content": "",
          "new_line_content": "\t\tset_sa_opfuncid(saop);",
          "content_same": false
        },
        {
          "line": 6034,
          "old_api": null,
          "new_api": "cost_qual_eval_node",
          "old_text": null,
          "new_text": "cost_qual_eval_node(&cost, node, root)",
          "old_line_content": "",
          "new_line_content": "\t\t\tcost_qual_eval_node(&cost, node, root);",
          "content_same": false
        },
        {
          "line": 4506,
          "old_api": null,
          "new_api": "add_function_cost",
          "old_text": null,
          "new_text": "add_function_cost(context->root, saop->opfuncid, NULL,\n\t\t\t\t\t\t  &sacosts)",
          "old_line_content": "\t\tsacosts.startup = sacosts.per_tuple = 0;",
          "new_line_content": "\t\tadd_function_cost(context->root, saop->opfuncid, NULL,",
          "content_same": false
        },
        {
          "line": 3987,
          "old_api": null,
          "new_api": "lfirst_node",
          "old_text": null,
          "new_text": "lfirst_node(RestrictInfo, hcl)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\tRestrictInfo *restrictinfo = lfirst_node(RestrictInfo, hcl);",
          "content_same": false
        },
        {
          "line": 6040,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(tuple_width >= 0)",
          "old_line_content": "",
          "new_line_content": "\tAssert(tuple_width >= 0);",
          "content_same": false
        },
        {
          "line": 4509,
          "old_api": null,
          "new_api": "OidIsValid",
          "old_text": null,
          "new_text": "OidIsValid(saop->hashfuncid)",
          "old_line_content": "",
          "new_line_content": "\t\tif (OidIsValid(saop->hashfuncid))",
          "content_same": false
        },
        {
          "line": 5534,
          "old_api": null,
          "new_api": "CLAMP_PROBABILITY",
          "old_text": null,
          "new_text": "CLAMP_PROBABILITY(fkselec)",
          "old_line_content": "\t*restrictlist = worklist;",
          "new_line_content": "\tCLAMP_PROBABILITY(fkselec);",
          "content_same": false
        },
        {
          "line": 3999,
          "old_api": null,
          "new_api": "bms_is_subset",
          "old_text": null,
          "new_text": "bms_is_subset(restrictinfo->right_relids,\n\t\t\t\t\t\t\t  inner_path->parent->relids)",
          "old_line_content": "\t\t\t */",
          "new_line_content": "\t\t\tif (bms_is_subset(restrictinfo->right_relids,",
          "content_same": false
        },
        {
          "line": 4514,
          "old_api": null,
          "new_api": "add_function_cost",
          "old_text": null,
          "new_text": "add_function_cost(context->root, saop->hashfuncid, NULL, &hcosts)",
          "old_line_content": "",
          "new_line_content": "\t\t\tadd_function_cost(context->root, saop->hashfuncid, NULL, &hcosts);",
          "content_same": false
        },
        {
          "line": 2978,
          "old_api": null,
          "new_api": "cost_rescan",
          "old_text": null,
          "new_text": "cost_rescan(root, inner_path,\n\t\t\t\t&inner_rescan_start_cost,\n\t\t\t\t&inner_rescan_total_cost)",
          "old_line_content": "\t/* estimate costs to rescan the inner relation */",
          "new_line_content": "\tcost_rescan(root, inner_path,",
          "content_same": false
        },
        {
          "line": 4007,
          "old_api": null,
          "new_api": "estimate_hash_bucket_stats",
          "old_text": null,
          "new_text": "estimate_hash_bucket_stats(root,\n\t\t\t\t\t\t\t\t\t\t\t   get_rightop(restrictinfo->clause),\n\t\t\t\t\t\t\t\t\t\t\t   virtualbuckets,\n\t\t\t\t\t\t\t\t\t\t\t   &restrictinfo->right_mcvfreq,\n\t\t\t\t\t\t\t\t\t\t\t   &restrictinfo->right_bucketsize)",
          "old_line_content": "\t\t\t\t\t/* not cached yet */",
          "new_line_content": "\t\t\t\t\testimate_hash_bucket_stats(root,",
          "content_same": false
        },
        {
          "line": 6057,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(expr, Var)",
          "old_line_content": "",
          "new_line_content": "\tif (IsA(expr, Var))",
          "content_same": false
        },
        {
          "line": 5038,
          "old_api": null,
          "new_api": "list_concat_copy",
          "old_text": null,
          "new_text": "list_concat_copy(param_clauses, rel->baserestrictinfo)",
          "old_line_content": "\t */",
          "new_line_content": "\tallclauses = list_concat_copy(param_clauses, rel->baserestrictinfo);",
          "content_same": false
        },
        {
          "line": 6062,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(var->varlevelsup == 0)",
          "old_line_content": "\t\t/* We should not see any upper-level Vars here */",
          "new_line_content": "\t\tAssert(var->varlevelsup == 0);",
          "content_same": false
        },
        {
          "line": 5040,
          "old_api": null,
          "new_api": "clauselist_selectivity",
          "old_text": null,
          "new_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t   allclauses,\n\t\t\t\t\t\t\t   rel->relid,\t/* do not use 0! */\n\t\t\t\t\t\t\t   JOIN_INNER,\n\t\t\t\t\t\t\t   NULL)",
          "old_line_content": "\tnrows = rel->tuples *",
          "new_line_content": "\t\tclauselist_selectivity(root,",
          "content_same": false
        },
        {
          "line": 6065,
          "old_api": null,
          "new_api": "IS_SPECIAL_VARNO",
          "old_text": null,
          "new_text": "IS_SPECIAL_VARNO(var->varno)",
          "old_line_content": "\t\t/* Try to get data from RelOptInfo cache */",
          "new_line_content": "\t\tif (!IS_SPECIAL_VARNO(var->varno) &&",
          "content_same": false
        },
        {
          "line": 4018,
          "old_api": null,
          "new_api": "bms_is_subset",
          "old_text": null,
          "new_text": "bms_is_subset(restrictinfo->left_relids,\n\t\t\t\t\t\t\t\t\t inner_path->parent->relids)",
          "old_line_content": "\t\t\t{",
          "new_line_content": "\t\t\t\tAssert(bms_is_subset(restrictinfo->left_relids,",
          "content_same": false
        },
        {
          "line": 5556,
          "old_api": null,
          "new_api": "Assert",
          "old_text": null,
          "new_text": "Assert(rel->relid > 0)",
          "old_line_content": "\t/* Should only be applied to base relations that are subqueries */",
          "new_line_content": "\tAssert(rel->relid > 0);",
          "content_same": false
        },
        {
          "line": 5045,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(nrows)",
          "old_line_content": "\t\t\t\t\t\t\t   NULL);",
          "new_line_content": "\tnrows = clamp_row_est(nrows);",
          "content_same": false
        },
        {
          "line": 3513,
          "old_api": null,
          "new_api": "get_parallel_divisor",
          "old_text": null,
          "new_text": "get_parallel_divisor(&path->jpath.path)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tdouble\t\tparallel_divisor = get_parallel_divisor(&path->jpath.path);",
          "content_same": false
        },
        {
          "line": 4025,
          "old_api": null,
          "new_api": "estimate_hash_bucket_stats",
          "old_text": null,
          "new_text": "estimate_hash_bucket_stats(root,\n\t\t\t\t\t\t\t\t\t\t\t   get_leftop(restrictinfo->clause),\n\t\t\t\t\t\t\t\t\t\t\t   virtualbuckets,\n\t\t\t\t\t\t\t\t\t\t\t   &restrictinfo->left_mcvfreq,\n\t\t\t\t\t\t\t\t\t\t\t   &restrictinfo->left_bucketsize)",
          "old_line_content": "\t\t\t\t\t/* not cached yet */",
          "new_line_content": "\t\t\t\t\testimate_hash_bucket_stats(root,",
          "content_same": false
        },
        {
          "line": 5563,
          "old_api": null,
          "new_api": "fetch_upper_rel",
          "old_text": null,
          "new_text": "fetch_upper_rel(subroot, UPPERREL_FINAL, NULL)",
          "old_line_content": "\t */",
          "new_line_content": "\tsub_final_rel = fetch_upper_rel(subroot, UPPERREL_FINAL, NULL);",
          "content_same": false
        },
        {
          "line": 4540,
          "old_api": null,
          "new_api": "estimate_array_length",
          "old_text": null,
          "new_text": "estimate_array_length(arraynode)",
          "old_line_content": "\t\t\tcontext->total.per_tuple += sacosts.per_tuple *",
          "new_line_content": "\t\t\t\testimate_array_length(arraynode) * 0.5;",
          "content_same": false
        },
        {
          "line": 3516,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(path->jpath.path.rows / parallel_divisor)",
          "old_line_content": "\t\tpath->jpath.path.rows =",
          "new_line_content": "\t\t\tclamp_row_est(path->jpath.path.rows / parallel_divisor);",
          "content_same": false
        },
        {
          "line": 4543,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, Aggref)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, Aggref) ||",
          "content_same": false
        },
        {
          "line": 5572,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(lc, subroot->parse->targetList)",
          "old_line_content": "\t */",
          "new_line_content": "\tforeach(lc, subroot->parse->targetList)",
          "content_same": false
        },
        {
          "line": 6084,
          "old_api": null,
          "new_api": "get_typavgwidth",
          "old_text": null,
          "new_text": "get_typavgwidth(var->vartype, var->vartypmod)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\twidth = get_typavgwidth(var->vartype, var->vartypmod);",
          "content_same": false
        },
        {
          "line": 5574,
          "old_api": null,
          "new_api": "lfirst_node",
          "old_text": null,
          "new_text": "lfirst_node(TargetEntry, lc)",
          "old_line_content": "\t{",
          "new_line_content": "\t\tTargetEntry *te = lfirst_node(TargetEntry, lc);",
          "content_same": false
        },
        {
          "line": 6090,
          "old_api": null,
          "new_api": "exprTypmod",
          "old_text": null,
          "new_text": "exprTypmod(expr)",
          "old_line_content": "",
          "new_line_content": "\twidth = get_typavgwidth(exprType(expr), exprTypmod(expr));",
          "content_same": false
        },
        {
          "line": 3531,
          "old_api": null,
          "new_api": "cost_qual_eval",
          "old_text": null,
          "new_text": "cost_qual_eval(&merge_qual_cost, mergeclauses, root)",
          "old_line_content": "\t */",
          "new_line_content": "\tcost_qual_eval(&merge_qual_cost, mergeclauses, root);",
          "content_same": false
        },
        {
          "line": 4557,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, GroupingFunc)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, GroupingFunc))",
          "content_same": false
        },
        {
          "line": 4050,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(inner_path_rows * innermcvfreq)",
          "old_line_content": "\t */",
          "new_line_content": "\tif (relation_byte_size(clamp_row_est(inner_path_rows * innermcvfreq),",
          "content_same": false
        },
        {
          "line": 4563,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, CoerceViaIO)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, CoerceViaIO))",
          "content_same": false
        },
        {
          "line": 6103,
          "old_api": null,
          "new_api": "MAXALIGN",
          "old_text": null,
          "new_text": "MAXALIGN(SizeofHeapTupleHeader)",
          "old_line_content": "{",
          "new_line_content": "\treturn tuples * (MAXALIGN(width) + MAXALIGN(SizeofHeapTupleHeader));",
          "content_same": false
        },
        {
          "line": 5081,
          "old_api": null,
          "new_api": "calc_joinrel_size_estimate",
          "old_text": null,
          "new_text": "calc_joinrel_size_estimate(root,\n\t\t\t\t\t\t\t\t\t\t   rel,\n\t\t\t\t\t\t\t\t\t\t   outer_rel,\n\t\t\t\t\t\t\t\t\t\t   inner_rel,\n\t\t\t\t\t\t\t\t\t\t   outer_rel->rows,\n\t\t\t\t\t\t\t\t\t\t   inner_rel->rows,\n\t\t\t\t\t\t\t\t\t\t   sjinfo,\n\t\t\t\t\t\t\t\t\t\t   restrictlist)",
          "old_line_content": "{",
          "new_line_content": "\trel->rows = calc_joinrel_size_estimate(root,",
          "content_same": false
        },
        {
          "line": 3545,
          "old_api": null,
          "new_api": "list_length",
          "old_text": null,
          "new_text": "list_length(path->jpath.joinrestrictinfo)",
          "old_line_content": "\t\t extra->inner_unique) &&",
          "new_line_content": "\t\t(list_length(path->jpath.joinrestrictinfo) ==",
          "content_same": false
        },
        {
          "line": 4571,
          "old_api": null,
          "new_api": "getTypeInputInfo",
          "old_text": null,
          "new_text": "getTypeInputInfo(iocoerce->resulttype,\n\t\t\t\t\t\t &iofunc, &typioparam)",
          "old_line_content": "\t\t/* check the result type's input function */",
          "new_line_content": "\t\tgetTypeInputInfo(iocoerce->resulttype,",
          "content_same": false
        },
        {
          "line": 4058,
          "old_api": null,
          "new_api": "cost_qual_eval",
          "old_text": null,
          "new_text": "cost_qual_eval(&hash_qual_cost, hashclauses, root)",
          "old_line_content": "\t */",
          "new_line_content": "\tcost_qual_eval(&hash_qual_cost, hashclauses, root);",
          "content_same": false
        },
        {
          "line": 4573,
          "old_api": null,
          "new_api": "add_function_cost",
          "old_text": null,
          "new_text": "add_function_cost(context->root, iofunc, NULL,\n\t\t\t\t\t\t  &context->total)",
          "old_line_content": "\t\t\t\t\t\t &iofunc, &typioparam);",
          "new_line_content": "\t\tadd_function_cost(context->root, iofunc, NULL,",
          "content_same": false
        },
        {
          "line": 4576,
          "old_api": null,
          "new_api": "exprType",
          "old_text": null,
          "new_text": "exprType((Node *) iocoerce->arg)",
          "old_line_content": "\t\t/* check the input type's output function */",
          "new_line_content": "\t\tgetTypeOutputInfo(exprType((Node *) iocoerce->arg),",
          "content_same": false
        },
        {
          "line": 4578,
          "old_api": null,
          "new_api": "add_function_cost",
          "old_text": null,
          "new_text": "add_function_cost(context->root, iofunc, NULL,\n\t\t\t\t\t\t  &context->total)",
          "old_line_content": "\t\t\t\t\t\t  &iofunc, &typisvarlena);",
          "new_line_content": "\t\tadd_function_cost(context->root, iofunc, NULL,",
          "content_same": false
        },
        {
          "line": 3555,
          "old_api": null,
          "new_api": "approx_tuple_count",
          "old_text": null,
          "new_text": "approx_tuple_count(root, &path->jpath, mergeclauses)",
          "old_line_content": "\t */",
          "new_line_content": "\tmergejointuples = approx_tuple_count(root, &path->jpath, mergeclauses);",
          "content_same": false
        },
        {
          "line": 5604,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(texpr, Var)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\tif (IsA(texpr, Var) &&",
          "content_same": false
        },
        {
          "line": 4581,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, ArrayCoerceExpr)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, ArrayCoerceExpr))",
          "content_same": false
        },
        {
          "line": 6114,
          "old_api": null,
          "new_api": "relation_byte_size",
          "old_text": null,
          "new_text": "relation_byte_size(tuples, width)",
          "old_line_content": "{",
          "new_line_content": "\treturn ceil(relation_byte_size(tuples, width) / BLCKSZ);",
          "content_same": false
        },
        {
          "line": 5608,
          "old_api": null,
          "new_api": "find_base_rel",
          "old_text": null,
          "new_text": "find_base_rel(subroot, var->varno)",
          "old_line_content": "\t\t\tVar\t\t   *var = (Var *) texpr;",
          "new_line_content": "\t\t\tRelOptInfo *subrel = find_base_rel(subroot, var->varno);",
          "content_same": false
        },
        {
          "line": 4586,
          "old_api": null,
          "new_api": "cost_qual_eval_node",
          "old_text": null,
          "new_text": "cost_qual_eval_node(&perelemcost, (Node *) acoerce->elemexpr,\n\t\t\t\t\t\t\tcontext->root)",
          "old_line_content": "",
          "new_line_content": "\t\tcost_qual_eval_node(&perelemcost, (Node *) acoerce->elemexpr,",
          "content_same": false
        },
        {
          "line": 4591,
          "old_api": null,
          "new_api": "estimate_array_length",
          "old_text": null,
          "new_text": "estimate_array_length((Node *) acoerce->arg)",
          "old_line_content": "\t\t\tcontext->total.per_tuple += perelemcost.per_tuple *",
          "new_line_content": "\t\t\t\testimate_array_length((Node *) acoerce->arg);",
          "content_same": false
        },
        {
          "line": 5616,
          "old_api": null,
          "new_api": "set_baserel_size_estimates",
          "old_text": null,
          "new_text": "set_baserel_size_estimates(root, rel)",
          "old_line_content": "\t/* Now estimate number of output rows, etc */",
          "new_line_content": "\tset_baserel_size_estimates(root, rel);",
          "content_same": false
        },
        {
          "line": 4593,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, RowCompareExpr)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, RowCompareExpr))",
          "content_same": false
        },
        {
          "line": 4084,
          "old_api": null,
          "new_api": "rint",
          "old_text": null,
          "new_text": "rint(outer_path_rows * extra->semifactors.outer_match_frac)",
          "old_line_content": "\t\t */",
          "new_line_content": "\t\touter_matched_rows = rint(outer_path_rows * extra->semifactors.outer_match_frac);",
          "content_same": false
        },
        {
          "line": 4599,
          "old_api": null,
          "new_api": "foreach",
          "old_text": null,
          "new_text": "foreach(lc, rcexpr->opnos)",
          "old_line_content": "",
          "new_line_content": "\t\tforeach(lc, rcexpr->opnos)",
          "content_same": false
        },
        {
          "line": 4601,
          "old_api": null,
          "new_api": "lfirst_oid",
          "old_text": null,
          "new_text": "lfirst_oid(lc)",
          "old_line_content": "\t\t{",
          "new_line_content": "\t\t\tOid\t\t\topid = lfirst_oid(lc);",
          "content_same": false
        },
        {
          "line": 4603,
          "old_api": null,
          "new_api": "get_opcode",
          "old_text": null,
          "new_text": "get_opcode(opid)",
          "old_line_content": "",
          "new_line_content": "\t\t\tadd_function_cost(context->root, get_opcode(opid), NULL,",
          "content_same": false
        },
        {
          "line": 3070,
          "old_api": null,
          "new_api": "clamp_row_est",
          "old_text": null,
          "new_text": "clamp_row_est(path->jpath.path.rows / parallel_divisor)",
          "old_line_content": "\t\tpath->jpath.path.rows =",
          "new_line_content": "\t\t\tclamp_row_est(path->jpath.path.rows / parallel_divisor);",
          "content_same": false
        },
        {
          "line": 4607,
          "old_api": null,
          "new_api": "IsA",
          "old_text": null,
          "new_text": "IsA(node, MinMaxExpr)",
          "old_line_content": "\t}",
          "new_line_content": "\telse if (IsA(node, MinMaxExpr) ||",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 3584,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(outer_path, UniquePath)",
          "new_text": null,
          "old_line_content": "\tif (IsA(outer_path, UniquePath) || path->skip_mark_restore)",
          "new_line_content": "\t\trescannedtuples = 0;",
          "content_same": false
        },
        {
          "line": 2561,
          "old_api": "Min",
          "new_api": null,
          "old_text": "Min(est_cache_entries, ndistinct)",
          "new_text": null,
          "old_line_content": "\thit_ratio = 1.0 / ndistinct * Min(est_cache_entries, ndistinct) -",
          "new_line_content": "\thit_ratio = ((calls - ndistinct) / calls) *",
          "content_same": false
        },
        {
          "line": 4611,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, NextValueExpr)",
          "new_text": null,
          "old_line_content": "\t\t\t IsA(node, NextValueExpr))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 2565,
          "old_api": "Max",
          "new_api": null,
          "old_text": "Max(hit_ratio, 0.0)",
          "new_text": null,
          "old_line_content": "\thit_ratio = Max(hit_ratio, 0.0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5125,
          "old_api": "calc_joinrel_size_estimate",
          "new_api": null,
          "old_text": "calc_joinrel_size_estimate(root,\n\t\t\t\t\t\t\t\t\t   rel,\n\t\t\t\t\t\t\t\t\t   outer_path->parent,\n\t\t\t\t\t\t\t\t\t   inner_path->parent,\n\t\t\t\t\t\t\t\t\t   outer_path->rows,\n\t\t\t\t\t\t\t\t\t   inner_path->rows,\n\t\t\t\t\t\t\t\t\t   sjinfo,\n\t\t\t\t\t\t\t\t\t   restrict_clauses)",
          "new_text": null,
          "old_line_content": "\tnrows = calc_joinrel_size_estimate(root,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t   rel,",
          "content_same": false
        },
        {
          "line": 5638,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(rte->rtekind == RTE_FUNCTION)",
          "new_text": null,
          "old_line_content": "\tAssert(rte->rtekind == RTE_FUNCTION);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4616,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, CurrentOfExpr)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(node, CurrentOfExpr))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 4107,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(inner_path_rows / virtualbuckets)",
          "new_text": null,
          "old_line_content": "\t\t\tclamp_row_est(inner_path_rows / virtualbuckets) * 0.05;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4621,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, SubLink)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(node, SubLink))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5645,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(lc, rte->functions)",
          "new_text": null,
          "old_line_content": "\tforeach(lc, rte->functions)",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 4624,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"cannot handle unplanned sub-select\")",
          "new_text": null,
          "old_line_content": "\t\telog(ERROR, \"cannot handle unplanned sub-select\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 5648,
          "old_api": "expression_returns_set_rows",
          "new_api": null,
          "old_text": "expression_returns_set_rows(root, rtfunc->funcexpr)",
          "new_text": null,
          "old_line_content": "\t\tdouble\t\tntup = expression_returns_set_rows(root, rtfunc->funcexpr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4626,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, SubPlan)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(node, SubPlan))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5655,
          "old_api": "set_baserel_size_estimates",
          "new_api": null,
          "old_text": "set_baserel_size_estimates(root, rel)",
          "new_text": null,
          "old_line_content": "\tset_baserel_size_estimates(root, rel);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 6171,
          "old_api": "cost_bitmap_tree_node",
          "new_api": null,
          "old_text": "cost_bitmap_tree_node(bitmapqual, &indexTotalCost, &indexSelectivity)",
          "new_text": null,
          "old_line_content": "\tcost_bitmap_tree_node(bitmapqual, &indexTotalCost, &indexSelectivity);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6176,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(indexSelectivity * baserel->tuples)",
          "new_text": null,
          "old_line_content": "\ttuples_fetched = clamp_row_est(indexSelectivity * baserel->tuples);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4129,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(inner_path_rows * innerbucketsize)",
          "new_text": null,
          "old_line_content": "\t\t\tclamp_row_est(inner_path_rows * innerbucketsize) * 0.5;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3106,
          "old_api": "rint",
          "new_api": null,
          "old_text": "rint(outer_path_rows * extra->semifactors.outer_match_frac)",
          "new_text": null,
          "old_line_content": "\t\touter_matched_rows = rint(outer_path_rows * extra->semifactors.outer_match_frac);",
          "new_line_content": "\t\touter_unmatched_rows = outer_path_rows - outer_matched_rows;",
          "content_same": false
        },
        {
          "line": 4645,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, AlternativeSubPlan)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(node, AlternativeSubPlan))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 4136,
          "old_api": "approx_tuple_count",
          "new_api": null,
          "old_text": "approx_tuple_count(root, &path->jpath, hashclauses)",
          "new_text": null,
          "old_line_content": "\t\thashjointuples = approx_tuple_count(root, &path->jpath, hashclauses);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 5672,
          "old_api": "planner_rt_fetch",
          "new_api": null,
          "old_text": "planner_rt_fetch(rel->relid, root)",
          "new_text": null,
          "old_line_content": "\tAssert(planner_rt_fetch(rel->relid, root)->rtekind == RTE_TABLEFUNC);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5677,
          "old_api": "set_baserel_size_estimates",
          "new_api": null,
          "old_text": "set_baserel_size_estimates(root, rel)",
          "new_text": null,
          "old_line_content": "\tset_baserel_size_estimates(root, rel);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4655,
          "old_api": "linitial",
          "new_api": null,
          "old_text": "linitial(asplan->subplans)",
          "new_text": null,
          "old_line_content": "\t\treturn cost_qual_eval_walker((Node *) linitial(asplan->subplans),",
          "new_line_content": "\t\t\t\t\t\t\t\t\t context);",
          "content_same": false
        },
        {
          "line": 4658,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, PlaceHolderVar)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(node, PlaceHolderVar))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 6196,
          "old_api": "tbm_calculate_entries",
          "new_api": null,
          "old_text": "tbm_calculate_entries(work_mem * 1024L)",
          "new_text": null,
          "old_line_content": "\tmaxentries = tbm_calculate_entries(work_mem * 1024L);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3125,
          "old_api": "has_indexed_join_quals",
          "new_api": null,
          "old_text": "has_indexed_join_quals(path)",
          "new_text": null,
          "old_line_content": "\t\tif (has_indexed_join_quals(path))",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 5179,
          "old_api": "get_foreign_key_join_selectivity",
          "new_api": null,
          "old_text": "get_foreign_key_join_selectivity(root,\n\t\t\t\t\t\t\t\t\t\t\t   outer_rel->relids,\n\t\t\t\t\t\t\t\t\t\t\t   inner_rel->relids,\n\t\t\t\t\t\t\t\t\t\t\t   sjinfo,\n\t\t\t\t\t\t\t\t\t\t\t   &restrictlist)",
          "new_text": null,
          "old_line_content": "\tfkselec = get_foreign_key_join_selectivity(root,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t   outer_rel->relids,",
          "content_same": false
        },
        {
          "line": 6206,
          "old_api": "index_pages_fetched",
          "new_api": null,
          "old_text": "index_pages_fetched(tuples_fetched * loop_count,\n\t\t\t\t\t\t\t\t\t\t\tbaserel->pages,\n\t\t\t\t\t\t\t\t\t\t\tget_indexpath_pages(bitmapqual),\n\t\t\t\t\t\t\t\t\t\t\troot)",
          "new_text": null,
          "old_line_content": "\t\tpages_fetched = index_pages_fetched(tuples_fetched * loop_count,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\tbaserel->pages,",
          "content_same": false
        },
        {
          "line": 6208,
          "old_api": "get_indexpath_pages",
          "new_api": null,
          "old_text": "get_indexpath_pages(bitmapqual)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t\tget_indexpath_pages(bitmapqual),",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\troot);",
          "content_same": false
        },
        {
          "line": 5697,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(rte->rtekind == RTE_VALUES)",
          "new_text": null,
          "old_line_content": "\tAssert(rte->rtekind == RTE_VALUES);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4674,
          "old_api": "expression_tree_walker",
          "new_api": null,
          "old_text": "expression_tree_walker(node, cost_qual_eval_walker,\n\t\t\t\t\t\t\t\t  (void *) context)",
          "new_text": null,
          "old_line_content": "\treturn expression_tree_walker(node, cost_qual_eval_walker,",
          "new_line_content": "\t\t\t\t\t\t\t\t  (void *) context);",
          "content_same": false
        },
        {
          "line": 5190,
          "old_api": "IS_OUTER_JOIN",
          "new_api": null,
          "old_text": "IS_OUTER_JOIN(jointype)",
          "new_text": null,
          "old_line_content": "\tif (IS_OUTER_JOIN(jointype))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 6216,
          "old_api": "ceil",
          "new_api": null,
          "old_text": "ceil(pages_fetched)",
          "new_text": null,
          "old_line_content": "\t\tpages_fetched = ceil(pages_fetched);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5705,
          "old_api": "list_length",
          "new_api": null,
          "old_text": "list_length(rte->values_lists)",
          "new_text": null,
          "old_line_content": "\trel->tuples = list_length(rte->values_lists);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3658,
          "old_api": "ExecSupportsMarkRestore",
          "new_api": null,
          "old_text": "ExecSupportsMarkRestore(inner_path)",
          "new_text": null,
          "old_line_content": "\t\t\t !ExecSupportsMarkRestore(inner_path))",
          "new_line_content": "\t\tpath->materialize_inner = true;",
          "content_same": false
        },
        {
          "line": 4172,
          "old_api": "make_ands_implicit",
          "new_api": null,
          "old_text": "make_ands_implicit((Expr *) subplan->testexpr)",
          "new_text": null,
          "old_line_content": "\t\t\t\t   make_ands_implicit((Expr *) subplan->testexpr),",
          "new_line_content": "\t\t\t\t   root);",
          "content_same": false
        },
        {
          "line": 3068,
          "old_api": "get_parallel_divisor",
          "new_api": null,
          "old_text": "get_parallel_divisor(&path->jpath.path)",
          "new_text": null,
          "old_line_content": "\t\tdouble\t\tparallel_divisor = get_parallel_divisor(&path->jpath.path);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5708,
          "old_api": "set_baserel_size_estimates",
          "new_api": null,
          "old_text": "set_baserel_size_estimates(root, rel)",
          "new_text": null,
          "old_line_content": "\tset_baserel_size_estimates(root, rel);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2639,
          "old_api": "MemSet",
          "new_api": null,
          "old_text": "MemSet(&dummy_aggcosts, 0, sizeof(AggClauseCosts))",
          "new_text": null,
          "old_line_content": "\t\tMemSet(&dummy_aggcosts, 0, sizeof(AggClauseCosts));",
          "new_line_content": "\t\taggcosts = &dummy_aggcosts;",
          "content_same": false
        },
        {
          "line": 5199,
          "old_api": "lfirst_node",
          "new_api": null,
          "old_text": "lfirst_node(RestrictInfo, l)",
          "new_text": null,
          "old_line_content": "\t\t\tRestrictInfo *rinfo = lfirst_node(RestrictInfo, l);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5202,
          "old_api": "lappend",
          "new_api": null,
          "old_text": "lappend(pushedquals, rinfo)",
          "new_text": null,
          "old_line_content": "\t\t\t\tpushedquals = lappend(pushedquals, rinfo);",
          "new_line_content": "\t\t\telse",
          "content_same": false
        },
        {
          "line": 5204,
          "old_api": "lappend",
          "new_api": null,
          "old_text": "lappend(joinquals, rinfo)",
          "new_text": null,
          "old_line_content": "\t\t\t\tjoinquals = lappend(joinquals, rinfo);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 6230,
          "old_api": "Max",
          "new_api": null,
          "old_text": "Max(0, heap_pages - maxentries / 2)",
          "new_text": null,
          "old_line_content": "\t\tlossy_pages = Max(0, heap_pages - maxentries / 2);",
          "new_line_content": "\t\texact_pages = heap_pages - lossy_pages;",
          "content_same": false
        },
        {
          "line": 5208,
          "old_api": "clauselist_selectivity",
          "new_api": null,
          "old_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\t\tjoinquals,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tjointype,\n\t\t\t\t\t\t\t\t\t\tsjinfo)",
          "new_text": null,
          "old_line_content": "\t\tjselec = clauselist_selectivity(root,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\tjoinquals,",
          "content_same": false
        },
        {
          "line": 3673,
          "old_api": "relation_byte_size",
          "new_api": null,
          "old_text": "relation_byte_size(inner_path_rows,\n\t\t\t\t\t\t\t\tinner_path->pathtarget->width)",
          "new_text": null,
          "old_line_content": "\t\t\t relation_byte_size(inner_path_rows,",
          "new_line_content": "\t\t\t\t\t\t\t\tinner_path->pathtarget->width) >",
          "content_same": false
        },
        {
          "line": 4698,
          "old_api": "cost_qual_eval",
          "new_api": null,
          "old_text": "cost_qual_eval(qpqual_cost, param_info->ppi_clauses, root)",
          "new_text": null,
          "old_line_content": "\t\tcost_qual_eval(qpqual_cost, param_info->ppi_clauses, root);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5213,
          "old_api": "clauselist_selectivity",
          "new_api": null,
          "old_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\t\tpushedquals,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tjointype,\n\t\t\t\t\t\t\t\t\t\tsjinfo)",
          "new_text": null,
          "old_line_content": "\t\tpselec = clauselist_selectivity(root,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\tpushedquals,",
          "content_same": false
        },
        {
          "line": 5729,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(rte->rtekind == RTE_CTE)",
          "new_text": null,
          "old_line_content": "\tAssert(rte->rtekind == RTE_CTE);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6242,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(indexSelectivity *\n\t\t\t\t\t\t\t  (exact_pages / heap_pages) * baserel->tuples +\n\t\t\t\t\t\t\t  (lossy_pages / heap_pages) * baserel->tuples)",
          "new_text": null,
          "old_line_content": "\t\t\t\tclamp_row_est(indexSelectivity *",
          "new_line_content": "\t\t\t\t\t\t\t  (exact_pages / heap_pages) * baserel->tuples +",
          "content_same": false
        },
        {
          "line": 4090,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(inner_path_rows * innerbucketsize * inner_scan_frac)",
          "new_text": null,
          "old_line_content": "\t\t\tclamp_row_est(inner_path_rows * innerbucketsize * inner_scan_frac) * 0.5;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5221,
          "old_api": "list_free",
          "new_api": null,
          "old_text": "list_free(pushedquals)",
          "new_text": null,
          "old_line_content": "\t\tlist_free(pushedquals);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 5225,
          "old_api": "clauselist_selectivity",
          "new_api": null,
          "old_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\t\trestrictlist,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tjointype,\n\t\t\t\t\t\t\t\t\t\tsjinfo)",
          "new_text": null,
          "old_line_content": "\t\tjselec = clauselist_selectivity(root,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\trestrictlist,",
          "content_same": false
        },
        {
          "line": 5738,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(recursive_worktable_factor * cte_rows)",
          "new_text": null,
          "old_line_content": "\t\trel->tuples = clamp_row_est(recursive_worktable_factor * cte_rows);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4209,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(plan->plan_rows)",
          "new_text": null,
          "old_line_content": "\t\t\tsp_cost.per_tuple += plan_run_cost / clamp_row_est(plan->plan_rows);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 5747,
          "old_api": "set_baserel_size_estimates",
          "new_api": null,
          "old_text": "set_baserel_size_estimates(root, rel)",
          "new_text": null,
          "old_line_content": "\tset_baserel_size_estimates(root, rel);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3202,
          "old_api": "cost_qual_eval",
          "new_api": null,
          "old_text": "cost_qual_eval(&restrict_qual_cost, path->jpath.joinrestrictinfo, root)",
          "new_text": null,
          "old_line_content": "\tcost_qual_eval(&restrict_qual_cost, path->jpath.joinrestrictinfo, root);",
          "new_line_content": "\tstartup_cost += restrict_qual_cost.startup;",
          "content_same": false
        },
        {
          "line": 5767,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(rte->rtekind == RTE_NAMEDTUPLESTORE)",
          "new_text": null,
          "old_line_content": "\tAssert(rte->rtekind == RTE_NAMEDTUPLESTORE);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4233,
          "old_api": "nodeTag",
          "new_api": null,
          "old_text": "nodeTag(plan)",
          "new_text": null,
          "old_line_content": "\t\t\tExecMaterializesOutput(nodeTag(plan)))",
          "new_line_content": "\t\t\tsp_cost.startup += plan->startup_cost;",
          "content_same": false
        },
        {
          "line": 4756,
          "old_api": "IS_OUTER_JOIN",
          "new_api": null,
          "old_text": "IS_OUTER_JOIN(jointype)",
          "new_text": null,
          "old_line_content": "\tif (IS_OUTER_JOIN(jointype))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5780,
          "old_api": "set_baserel_size_estimates",
          "new_api": null,
          "old_text": "set_baserel_size_estimates(root, rel)",
          "new_text": null,
          "old_line_content": "\tset_baserel_size_estimates(root, rel);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3736,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(lc, rinfo->scansel_cache)",
          "new_text": null,
          "old_line_content": "\tforeach(lc, rinfo->scansel_cache)",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 4761,
          "old_api": "lfirst_node",
          "new_api": null,
          "old_text": "lfirst_node(RestrictInfo, l)",
          "new_text": null,
          "old_line_content": "\t\t\tRestrictInfo *rinfo = lfirst_node(RestrictInfo, l);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3738,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(lc)",
          "new_text": null,
          "old_line_content": "\t\tcache = (MergeScanSelCache *) lfirst(lc);",
          "new_line_content": "\t\tif (cache->opfamily == pathkey->pk_opfamily &&",
          "content_same": false
        },
        {
          "line": 5275,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"unrecognized join type: %d\", (int) jointype)",
          "new_text": null,
          "old_line_content": "\t\t\telog(ERROR, \"unrecognized join type: %d\", (int) jointype);",
          "new_line_content": "\t\t\tnrows = 0;\t\t\t/* keep compiler quiet */",
          "content_same": false
        },
        {
          "line": 4764,
          "old_api": "lappend",
          "new_api": null,
          "old_text": "lappend(joinquals, rinfo)",
          "new_text": null,
          "old_line_content": "\t\t\t\tjoinquals = lappend(joinquals, rinfo);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 5280,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(nrows)",
          "new_text": null,
          "old_line_content": "\treturn clamp_row_est(nrows);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3747,
          "old_api": "mergejoinscansel",
          "new_api": null,
          "old_text": "mergejoinscansel(root,\n\t\t\t\t\t (Node *) rinfo->clause,\n\t\t\t\t\t pathkey->pk_opfamily,\n\t\t\t\t\t pathkey->pk_strategy,\n\t\t\t\t\t pathkey->pk_nulls_first,\n\t\t\t\t\t &leftstartsel,\n\t\t\t\t\t &leftendsel,\n\t\t\t\t\t &rightstartsel,\n\t\t\t\t\t &rightendsel)",
          "new_text": null,
          "old_line_content": "\tmergejoinscansel(root,",
          "new_line_content": "\t\t\t\t\t (Node *) rinfo->clause,",
          "content_same": false
        },
        {
          "line": 4773,
          "old_api": "clauselist_selectivity",
          "new_api": null,
          "old_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\tjoinquals,\n\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t(jointype == JOIN_ANTI) ? JOIN_ANTI : JOIN_SEMI,\n\t\t\t\t\t\t\t\t\tsjinfo)",
          "new_text": null,
          "old_line_content": "\tjselec = clauselist_selectivity(root,",
          "new_line_content": "\t\t\t\t\t\t\t\t\tjoinquals,",
          "content_same": false
        },
        {
          "line": 5797,
          "old_api": "planner_rt_fetch",
          "new_api": null,
          "old_text": "planner_rt_fetch(rel->relid, root)",
          "new_text": null,
          "old_line_content": "\tAssert(planner_rt_fetch(rel->relid, root)->rtekind == RTE_RESULT);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5803,
          "old_api": "set_baserel_size_estimates",
          "new_api": null,
          "old_text": "set_baserel_size_estimates(root, rel)",
          "new_text": null,
          "old_line_content": "\tset_baserel_size_estimates(root, rel);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3758,
          "old_api": "MemoryContextSwitchTo",
          "new_api": null,
          "old_text": "MemoryContextSwitchTo(root->planner_cxt)",
          "new_text": null,
          "old_line_content": "\toldcontext = MemoryContextSwitchTo(root->planner_cxt);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3760,
          "old_api": "palloc",
          "new_api": null,
          "old_text": "palloc(sizeof(MergeScanSelCache))",
          "new_text": null,
          "old_line_content": "\tcache = (MergeScanSelCache *) palloc(sizeof(MergeScanSelCache));",
          "new_line_content": "\tcache->opfamily = pathkey->pk_opfamily;",
          "content_same": false
        },
        {
          "line": 2745,
          "old_api": "list_length",
          "new_api": null,
          "old_text": "list_length(root->aggtransinfos)",
          "new_text": null,
          "old_line_content": "\t\thashentrysize = hash_agg_entry_size(list_length(root->aggtransinfos),",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\tinput_width,",
          "content_same": false
        },
        {
          "line": 3770,
          "old_api": "lappend",
          "new_api": null,
          "old_text": "lappend(rinfo->scansel_cache, cache)",
          "new_text": null,
          "old_line_content": "\trinfo->scansel_cache = lappend(rinfo->scansel_cache, cache);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2748,
          "old_api": "hash_agg_set_limits",
          "new_api": null,
          "old_text": "hash_agg_set_limits(hashentrysize, numGroups, 0, &mem_limit,\n\t\t\t\t\t\t\t&ngroups_limit, &num_partitions)",
          "new_text": null,
          "old_line_content": "\t\thash_agg_set_limits(hashentrysize, numGroups, 0, &mem_limit,",
          "new_line_content": "\t\t\t\t\t\t\t&ngroups_limit, &num_partitions);",
          "content_same": false
        },
        {
          "line": 3772,
          "old_api": "MemoryContextSwitchTo",
          "new_api": null,
          "old_text": "MemoryContextSwitchTo(oldcontext)",
          "new_text": null,
          "old_line_content": "\tMemoryContextSwitchTo(oldcontext);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2751,
          "old_api": "Max",
          "new_api": null,
          "old_text": "Max((numGroups * hashentrysize) / mem_limit,\n\t\t\t\t\t   numGroups / ngroups_limit)",
          "new_text": null,
          "old_line_content": "\t\tnbatches = Max((numGroups * hashentrysize) / mem_limit,",
          "new_line_content": "\t\t\t\t\t   numGroups / ngroups_limit);",
          "content_same": false
        },
        {
          "line": 4799,
          "old_api": "clauselist_selectivity",
          "new_api": null,
          "old_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\tjoinquals,\n\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\tJOIN_INNER,\n\t\t\t\t\t\t\t\t\t&norm_sjinfo)",
          "new_text": null,
          "old_line_content": "\tnselec = clauselist_selectivity(root,",
          "new_line_content": "\t\t\t\t\t\t\t\t\tjoinquals,",
          "content_same": false
        },
        {
          "line": 5311,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(lc, root->fkey_list)",
          "new_text": null,
          "old_line_content": "\tforeach(lc, root->fkey_list)",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5313,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(lc)",
          "new_text": null,
          "old_line_content": "\t\tForeignKeyOptInfo *fkinfo = (ForeignKeyOptInfo *) lfirst(lc);",
          "new_line_content": "\t\tbool\t\tref_is_outer;",
          "content_same": false
        },
        {
          "line": 2755,
          "old_api": "Max",
          "new_api": null,
          "old_text": "Max(num_partitions, 2)",
          "new_text": null,
          "old_line_content": "\t\tnum_partitions = Max(num_partitions, 2);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5825,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(rel->relid > 0)",
          "new_text": null,
          "old_line_content": "\tAssert(rel->relid > 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5829,
          "old_api": "cost_qual_eval",
          "new_api": null,
          "old_text": "cost_qual_eval(&rel->baserestrictcost, rel->baserestrictinfo, root)",
          "new_text": null,
          "old_line_content": "\tcost_qual_eval(&rel->baserestrictcost, rel->baserestrictinfo, root);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4807,
          "old_api": "list_free",
          "new_api": null,
          "old_text": "list_free(joinquals)",
          "new_text": null,
          "old_line_content": "\t\tlist_free(joinquals);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5831,
          "old_api": "set_rel_width",
          "new_api": null,
          "old_text": "set_rel_width(root, rel)",
          "new_text": null,
          "old_line_content": "\tset_rel_width(root, rel);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2762,
          "old_api": "log",
          "new_api": null,
          "old_text": "log(num_partitions)",
          "new_text": null,
          "old_line_content": "\t\tdepth = ceil(log(nbatches) / log(num_partitions));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5323,
          "old_api": "bms_is_member",
          "new_api": null,
          "old_text": "bms_is_member(fkinfo->ref_relid, inner_relids)",
          "new_text": null,
          "old_line_content": "\t\t\tbms_is_member(fkinfo->ref_relid, inner_relids))",
          "new_line_content": "\t\t\tref_is_outer = false;",
          "content_same": false
        },
        {
          "line": 5326,
          "old_api": "bms_is_member",
          "new_api": null,
          "old_text": "bms_is_member(fkinfo->con_relid, inner_relids)",
          "new_text": null,
          "old_line_content": "\t\t\t\t bms_is_member(fkinfo->con_relid, inner_relids))",
          "new_line_content": "\t\t\tref_is_outer = true;",
          "content_same": false
        },
        {
          "line": 2768,
          "old_api": "relation_byte_size",
          "new_api": null,
          "old_text": "relation_byte_size(input_tuples, input_width)",
          "new_text": null,
          "old_line_content": "\t\tpages = relation_byte_size(input_tuples, input_width) / BLCKSZ;",
          "new_line_content": "\t\tpages_written = pages_read = pages * depth;",
          "content_same": false
        },
        {
          "line": 4306,
          "old_api": "relation_byte_size",
          "new_api": null,
          "old_text": "relation_byte_size(path->rows,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath->pathtarget->width)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdouble\t\tnbytes = relation_byte_size(path->rows,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath->pathtarget->width);",
          "content_same": false
        },
        {
          "line": 3287,
          "old_api": "linitial",
          "new_api": null,
          "old_text": "linitial(mergeclauses)",
          "new_text": null,
          "old_line_content": "\t\tRestrictInfo *firstclause = (RestrictInfo *) linitial(mergeclauses);",
          "new_line_content": "\t\tList\t   *opathkeys;",
          "content_same": false
        },
        {
          "line": 4313,
          "old_api": "ceil",
          "new_api": null,
          "old_text": "ceil(nbytes / BLCKSZ)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tdouble\t\tnpages = ceil(nbytes / BLCKSZ);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4825,
          "old_api": "Max",
          "new_api": null,
          "old_text": "Max(1.0, avgmatch)",
          "new_text": null,
          "old_line_content": "\t\tavgmatch = Max(1.0, avgmatch);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 5344,
          "old_api": "bms_membership",
          "new_api": null,
          "old_text": "bms_membership(inner_relids)",
          "new_text": null,
          "old_line_content": "\t\t\t(ref_is_outer || bms_membership(inner_relids) != BMS_SINGLETON))",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 5859,
          "old_api": "planner_rt_fetch",
          "new_api": null,
          "old_text": "planner_rt_fetch(rel->relid, root)",
          "new_text": null,
          "old_line_content": "\tOid\t\t\treloid = planner_rt_fetch(rel->relid, root)->relid;",
          "new_line_content": "\tint32\t\ttuple_width = 0;",
          "content_same": false
        },
        {
          "line": 3300,
          "old_api": "linitial",
          "new_api": null,
          "old_text": "linitial(ipathkeys)",
          "new_text": null,
          "old_line_content": "\t\tipathkey = (PathKey *) linitial(ipathkeys);",
          "new_line_content": "\t\t/* debugging check */",
          "content_same": false
        },
        {
          "line": 3816,
          "old_api": "list_length",
          "new_api": null,
          "old_text": "list_length(hashclauses)",
          "new_text": null,
          "old_line_content": "\tint\t\t\tnum_hashclauses = list_length(hashclauses);",
          "new_line_content": "\tint\t\t\tnumbuckets;",
          "content_same": false
        },
        {
          "line": 3306,
          "old_api": "elog",
          "new_api": null,
          "old_text": "elog(ERROR, \"left and right pathkeys do not match in mergejoin\")",
          "new_text": null,
          "old_line_content": "\t\t\telog(ERROR, \"left and right pathkeys do not match in mergejoin\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5354,
          "old_api": "list_copy",
          "new_api": null,
          "old_text": "list_copy(worklist)",
          "new_text": null,
          "old_line_content": "\t\t\tworklist = list_copy(worklist);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2796,
          "old_api": "cost_qual_eval",
          "new_api": null,
          "old_text": "cost_qual_eval(&qual_cost, quals, root)",
          "new_text": null,
          "old_line_content": "\t\tcost_qual_eval(&qual_cost, quals, root);",
          "new_line_content": "\t\tstartup_cost += qual_cost.startup;",
          "content_same": false
        },
        {
          "line": 4333,
          "old_api": "relation_byte_size",
          "new_api": null,
          "old_text": "relation_byte_size(path->rows,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath->pathtarget->width)",
          "new_text": null,
          "old_line_content": "\t\t\t\tdouble\t\tnbytes = relation_byte_size(path->rows,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath->pathtarget->width);",
          "content_same": false
        },
        {
          "line": 3309,
          "old_api": "cached_scansel",
          "new_api": null,
          "old_text": "cached_scansel(root, firstclause, opathkey)",
          "new_text": null,
          "old_line_content": "\t\tcache = cached_scansel(root, firstclause, opathkey);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3311,
          "old_api": "bms_is_subset",
          "new_api": null,
          "old_text": "bms_is_subset(firstclause->left_relids,\n\t\t\t\t\t\t  outer_path->parent->relids)",
          "new_text": null,
          "old_line_content": "\t\tif (bms_is_subset(firstclause->left_relids,",
          "new_line_content": "\t\t\t\t\t\t  outer_path->parent->relids))",
          "content_same": false
        },
        {
          "line": 5359,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(cell)",
          "new_text": null,
          "old_line_content": "\t\t\tRestrictInfo *rinfo = (RestrictInfo *) lfirst(cell);",
          "new_line_content": "\t\t\tbool\t\tremove_it = false;",
          "content_same": false
        },
        {
          "line": 2801,
          "old_api": "clauselist_selectivity",
          "new_api": null,
          "old_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t quals,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t JOIN_INNER,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t NULL)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t\t  clauselist_selectivity(root,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t quals,",
          "content_same": false
        },
        {
          "line": 5868,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(lc, rel->reltarget->exprs)",
          "new_text": null,
          "old_line_content": "\tforeach(lc, rel->reltarget->exprs)",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5870,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(lc)",
          "new_text": null,
          "old_line_content": "\t\tNode\t   *node = (Node *) lfirst(lc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4340,
          "old_api": "ceil",
          "new_api": null,
          "old_text": "ceil(nbytes / BLCKSZ)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tdouble\t\tnpages = ceil(nbytes / BLCKSZ);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5878,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, Var)",
          "new_text": null,
          "old_line_content": "\t\tif (IsA(node, Var) &&",
          "new_line_content": "\t\t\t((Var *) node)->varno == rel->relid)",
          "content_same": false
        },
        {
          "line": 4350,
          "old_api": "cost_memoize_rescan",
          "new_api": null,
          "old_text": "cost_memoize_rescan(root, (MemoizePath *) path,\n\t\t\t\t\t\t\t\trescan_startup_cost, rescan_total_cost)",
          "new_text": null,
          "old_line_content": "\t\t\tcost_memoize_rescan(root, (MemoizePath *) path,",
          "new_line_content": "\t\t\t\t\t\t\t\trescan_startup_cost, rescan_total_cost);",
          "content_same": false
        },
        {
          "line": 5886,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(var->varattno <= rel->max_attr)",
          "new_text": null,
          "old_line_content": "\t\t\tAssert(var->varattno <= rel->max_attr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3848,
          "old_api": "get_parallel_divisor",
          "new_api": null,
          "old_text": "get_parallel_divisor(inner_path)",
          "new_text": null,
          "old_line_content": "\t\tinner_path_rows_total *= get_parallel_divisor(inner_path);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4873,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(bmqual, IndexPath)",
          "new_text": null,
          "old_line_content": "\t\t\t\tif (IsA(bmqual, IndexPath))",
          "new_line_content": "\t\t\t\t\tindexclauses = ((IndexPath *) bmqual)->indexclauses;",
          "content_same": false
        },
        {
          "line": 5393,
          "old_api": "list_member_ptr",
          "new_api": null,
          "old_text": "list_member_ptr(fkinfo->rinfos[i], rinfo)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tif (list_member_ptr(fkinfo->rinfos[i], rinfo))",
          "new_line_content": "\t\t\t\t\t{",
          "content_same": false
        },
        {
          "line": 3860,
          "old_api": "ExecChooseHashTableSize",
          "new_api": null,
          "old_text": "ExecChooseHashTableSize(inner_path_rows_total,\n\t\t\t\t\t\t\tinner_path->pathtarget->width,\n\t\t\t\t\t\t\ttrue,\t/* useskew */\n\t\t\t\t\t\t\tparallel_hash,\t/* try_combined_hash_mem */\n\t\t\t\t\t\t\touter_path->parallel_workers,\n\t\t\t\t\t\t\t&space_allowed,\n\t\t\t\t\t\t\t&numbuckets,\n\t\t\t\t\t\t\t&numbatches,\n\t\t\t\t\t\t\t&num_skew_mcvs)",
          "new_text": null,
          "old_line_content": "\tExecChooseHashTableSize(inner_path_rows_total,",
          "new_line_content": "\t\t\t\t\t\t\tinner_path->pathtarget->width,",
          "content_same": false
        },
        {
          "line": 5913,
          "old_api": "get_attavgwidth",
          "new_api": null,
          "old_text": "get_attavgwidth(reloid, var->varattno)",
          "new_text": null,
          "old_line_content": "\t\t\t\titem_width = get_attavgwidth(reloid, var->varattno);",
          "new_line_content": "\t\t\t\tif (item_width > 0)",
          "content_same": false
        },
        {
          "line": 3354,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(inner_path_rows * innerendsel)",
          "new_text": null,
          "old_line_content": "\tinner_rows = clamp_row_est(inner_path_rows * innerendsel);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5403,
          "old_api": "lappend",
          "new_api": null,
          "old_text": "lappend(removedlist, rinfo)",
          "new_text": null,
          "old_line_content": "\t\t\t\tremovedlist = lappend(removedlist, rinfo);",
          "new_line_content": "\t\t\t}",
          "content_same": false
        },
        {
          "line": 2844,
          "old_api": "lfirst_node",
          "new_api": null,
          "old_text": "lfirst_node(WindowFunc, lc)",
          "new_text": null,
          "old_line_content": "\t\tWindowFunc *wfunc = lfirst_node(WindowFunc, lc);",
          "new_line_content": "\t\tCost\t\twfunccost;",
          "content_same": false
        },
        {
          "line": 3357,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(inner_skip_rows <= inner_rows)",
          "new_text": null,
          "old_line_content": "\tAssert(inner_skip_rows <= inner_rows);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4384,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(l)",
          "new_text": null,
          "old_line_content": "\t\tNode\t   *qual = (Node *) lfirst(l);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4896,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(lc, innerpath->param_info->ppi_clauses)",
          "new_text": null,
          "old_line_content": "\tforeach(lc, innerpath->param_info->ppi_clauses)",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 4386,
          "old_api": "cost_qual_eval_walker",
          "new_api": null,
          "old_text": "cost_qual_eval_walker(qual, &context)",
          "new_text": null,
          "old_line_content": "\t\tcost_qual_eval_walker(qual, &context);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 2849,
          "old_api": "add_function_cost",
          "new_api": null,
          "old_text": "add_function_cost(root, wfunc->winfnoid, (Node *) wfunc,\n\t\t\t\t\t\t  &argcosts)",
          "new_text": null,
          "old_line_content": "\t\tadd_function_cost(root, wfunc->winfnoid, (Node *) wfunc,",
          "new_line_content": "\t\t\t\t\t\t  &argcosts);",
          "content_same": false
        },
        {
          "line": 4898,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(lc)",
          "new_text": null,
          "old_line_content": "\t\tRestrictInfo *rinfo = (RestrictInfo *) lfirst(lc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4900,
          "old_api": "join_clause_is_movable_into",
          "new_api": null,
          "old_text": "join_clause_is_movable_into(rinfo,\n\t\t\t\t\t\t\t\t\t\tinnerpath->parent->relids,\n\t\t\t\t\t\t\t\t\t\tjoinrelids)",
          "new_text": null,
          "old_line_content": "\t\tif (join_clause_is_movable_into(rinfo,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\tinnerpath->parent->relids,",
          "content_same": false
        },
        {
          "line": 2855,
          "old_api": "cost_qual_eval_node",
          "new_api": null,
          "old_text": "cost_qual_eval_node(&argcosts, (Node *) wfunc->args, root)",
          "new_text": null,
          "old_line_content": "\t\tcost_qual_eval_node(&argcosts, (Node *) wfunc->args, root);",
          "new_line_content": "\t\tstartup_cost += argcosts.startup;",
          "content_same": false
        },
        {
          "line": 4904,
          "old_api": "is_redundant_with_indexclauses",
          "new_api": null,
          "old_text": "is_redundant_with_indexclauses(rinfo, indexclauses)",
          "new_text": null,
          "old_line_content": "\t\t\tif (!is_redundant_with_indexclauses(rinfo, indexclauses))",
          "new_line_content": "\t\t\t\treturn false;",
          "content_same": false
        },
        {
          "line": 3879,
          "old_api": "page_size",
          "new_api": null,
          "old_text": "page_size(outer_path_rows,\n\t\t\t\t\t\t\t\t\t\t   outer_path->pathtarget->width)",
          "new_text": null,
          "old_line_content": "\t\tdouble\t\touterpages = page_size(outer_path_rows,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t   outer_path->pathtarget->width);",
          "content_same": false
        },
        {
          "line": 3370,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(innerstartsel <= innerendsel)",
          "new_text": null,
          "old_line_content": "\tAssert(innerstartsel <= innerendsel);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5927,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(item_width > 0)",
          "new_text": null,
          "old_line_content": "\t\t\tAssert(item_width > 0);",
          "new_line_content": "\t\t\trel->attr_widths[ndx] = item_width;",
          "content_same": false
        },
        {
          "line": 3881,
          "old_api": "page_size",
          "new_api": null,
          "old_text": "page_size(inner_path_rows,\n\t\t\t\t\t\t\t\t\t\t   inner_path->pathtarget->width)",
          "new_text": null,
          "old_line_content": "\t\tdouble\t\tinnerpages = page_size(inner_path_rows,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t   inner_path->pathtarget->width);",
          "content_same": false
        },
        {
          "line": 5931,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, PlaceHolderVar)",
          "new_text": null,
          "old_line_content": "\t\telse if (IsA(node, PlaceHolderVar))",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 2863,
          "old_api": "cost_qual_eval_node",
          "new_api": null,
          "old_text": "cost_qual_eval_node(&argcosts, (Node *) wfunc->aggfilter, root)",
          "new_text": null,
          "old_line_content": "\t\tcost_qual_eval_node(&argcosts, (Node *) wfunc->aggfilter, root);",
          "new_line_content": "\t\tstartup_cost += argcosts.startup;",
          "content_same": false
        },
        {
          "line": 3376,
          "old_api": "cost_sort",
          "new_api": null,
          "old_text": "cost_sort(&sort_path,\n\t\t\t\t  root,\n\t\t\t\t  outersortkeys,\n\t\t\t\t  outer_path->total_cost,\n\t\t\t\t  outer_path_rows,\n\t\t\t\t  outer_path->pathtarget->width,\n\t\t\t\t  0.0,\n\t\t\t\t  work_mem,\n\t\t\t\t  -1.0)",
          "new_text": null,
          "old_line_content": "\t\tcost_sort(&sort_path,",
          "new_line_content": "\t\t\t\t  root,",
          "content_same": false
        },
        {
          "line": 5938,
          "old_api": "find_placeholder_info",
          "new_api": null,
          "old_text": "find_placeholder_info(root, phv)",
          "new_text": null,
          "old_line_content": "\t\t\tPlaceHolderInfo *phinfo = find_placeholder_info(root, phv);",
          "new_line_content": "\t\t\tQualCost\tcost;",
          "content_same": false
        },
        {
          "line": 4405,
          "old_api": "cost_qual_eval_walker",
          "new_api": null,
          "old_text": "cost_qual_eval_walker(qual, &context)",
          "new_text": null,
          "old_line_content": "\tcost_qual_eval_walker(qual, &context);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5942,
          "old_api": "cost_qual_eval_node",
          "new_api": null,
          "old_text": "cost_qual_eval_node(&cost, (Node *) phv->phexpr, root)",
          "new_text": null,
          "old_line_content": "\t\t\tcost_qual_eval_node(&cost, (Node *) phv->phexpr, root);",
          "new_line_content": "\t\t\trel->reltarget->cost.startup += cost.startup;",
          "content_same": false
        },
        {
          "line": 5434,
          "old_api": "list_length",
          "new_api": null,
          "old_text": "list_length(removedlist)",
          "new_text": null,
          "old_line_content": "\t\t\tlist_length(removedlist) !=",
          "new_line_content": "\t\t\t(fkinfo->nmatched_ec - fkinfo->nconst_ec + fkinfo->nmatched_ri))",
          "content_same": false
        },
        {
          "line": 5437,
          "old_api": "list_concat",
          "new_api": null,
          "old_text": "list_concat(worklist, removedlist)",
          "new_text": null,
          "old_line_content": "\t\t\tworklist = list_concat(worklist, removedlist);",
          "new_line_content": "\t\t\tcontinue;",
          "content_same": false
        },
        {
          "line": 5957,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(item_width > 0)",
          "new_text": null,
          "old_line_content": "\t\t\tAssert(item_width > 0);",
          "new_line_content": "\t\t\ttuple_width += item_width;",
          "content_same": false
        },
        {
          "line": 4422,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, RestrictInfo)",
          "new_text": null,
          "old_line_content": "\tif (IsA(node, RestrictInfo))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5960,
          "old_api": "cost_qual_eval_node",
          "new_api": null,
          "old_text": "cost_qual_eval_node(&cost, node, root)",
          "new_text": null,
          "old_line_content": "\t\t\tcost_qual_eval_node(&cost, node, root);",
          "new_line_content": "\t\t\trel->reltarget->cost.startup += cost.startup;",
          "content_same": false
        },
        {
          "line": 3402,
          "old_api": "cost_sort",
          "new_api": null,
          "old_text": "cost_sort(&sort_path,\n\t\t\t\t  root,\n\t\t\t\t  innersortkeys,\n\t\t\t\t  inner_path->total_cost,\n\t\t\t\t  inner_path_rows,\n\t\t\t\t  inner_path->pathtarget->width,\n\t\t\t\t  0.0,\n\t\t\t\t  work_mem,\n\t\t\t\t  -1.0)",
          "new_text": null,
          "old_line_content": "\t\tcost_sort(&sort_path,",
          "new_line_content": "\t\t\t\t  root,",
          "content_same": false
        },
        {
          "line": 5972,
          "old_api": "MAXALIGN",
          "new_api": null,
          "old_text": "MAXALIGN(SizeofHeapTupleHeader)",
          "new_text": null,
          "old_line_content": "\t\tint32\t\twholerow_width = MAXALIGN(SizeofHeapTupleHeader);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4439,
          "old_api": "cost_qual_eval_walker",
          "new_api": null,
          "old_text": "cost_qual_eval_walker((Node *) rinfo->orclause, &locContext)",
          "new_text": null,
          "old_line_content": "\t\t\t\tcost_qual_eval_walker((Node *) rinfo->orclause, &locContext);",
          "new_line_content": "\t\t\telse",
          "content_same": false
        },
        {
          "line": 4441,
          "old_api": "cost_qual_eval_walker",
          "new_api": null,
          "old_text": "cost_qual_eval_walker((Node *) rinfo->clause, &locContext)",
          "new_text": null,
          "old_line_content": "\t\t\t\tcost_qual_eval_walker((Node *) rinfo->clause, &locContext);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5977,
          "old_api": "get_relation_data_width",
          "new_api": null,
          "old_text": "get_relation_data_width(reloid,\n\t\t\t\t\t\t\t\t\t\t\t\t\t  rel->attr_widths - rel->min_attr)",
          "new_text": null,
          "old_line_content": "\t\t\twholerow_width += get_relation_data_width(reloid,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t\t  rel->attr_widths - rel->min_attr);",
          "content_same": false
        },
        {
          "line": 5478,
          "old_api": "Max",
          "new_api": null,
          "old_text": "Max(ref_rel->tuples, 1.0)",
          "new_text": null,
          "old_line_content": "\t\t\tdouble\t\tref_tuples = Max(ref_rel->tuples, 1.0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3944,
          "old_api": "get_parallel_divisor",
          "new_api": null,
          "old_text": "get_parallel_divisor(&path->jpath.path)",
          "new_text": null,
          "old_line_content": "\t\tdouble\t\tparallel_divisor = get_parallel_divisor(&path->jpath.path);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4970,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(l)",
          "new_text": null,
          "old_line_content": "\t\tNode\t   *qual = (Node *) lfirst(l);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2923,
          "old_api": "cost_qual_eval",
          "new_api": null,
          "old_text": "cost_qual_eval(&qual_cost, quals, root)",
          "new_text": null,
          "old_line_content": "\t\tcost_qual_eval(&qual_cost, quals, root);",
          "new_line_content": "\t\tstartup_cost += qual_cost.startup;",
          "content_same": false
        },
        {
          "line": 3947,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(path->jpath.path.rows / parallel_divisor)",
          "new_text": null,
          "old_line_content": "\t\t\tclamp_row_est(path->jpath.path.rows / parallel_divisor);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4973,
          "old_api": "clause_selectivity",
          "new_api": null,
          "old_text": "clause_selectivity(root, qual, 0, JOIN_INNER, &sjinfo)",
          "new_text": null,
          "old_line_content": "\t\tselec *= clause_selectivity(root, qual, 0, JOIN_INNER, &sjinfo);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 5998,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(tuple_width >= 0)",
          "new_text": null,
          "old_line_content": "\tAssert(tuple_width >= 0);",
          "new_line_content": "\trel->reltarget->width = tuple_width;",
          "content_same": false
        },
        {
          "line": 2928,
          "old_api": "clauselist_selectivity",
          "new_api": null,
          "old_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t quals,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t JOIN_INNER,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t NULL)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t\t  clauselist_selectivity(root,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t quals,",
          "content_same": false
        },
        {
          "line": 5490,
          "old_api": "Max",
          "new_api": null,
          "old_text": "Max(ref_rel->tuples, 1.0)",
          "new_text": null,
          "old_line_content": "\t\t\tdouble\t\tref_tuples = Max(ref_rel->tuples, 1.0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4979,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(tuples)",
          "new_text": null,
          "old_line_content": "\treturn clamp_row_est(tuples);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4483,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, FuncExpr)",
          "new_text": null,
          "old_line_content": "\tif (IsA(node, FuncExpr))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 4485,
          "old_api": "add_function_cost",
          "new_api": null,
          "old_text": "add_function_cost(context->root, ((FuncExpr *) node)->funcid, node,\n\t\t\t\t\t\t  &context->total)",
          "new_text": null,
          "old_line_content": "\t\tadd_function_cost(context->root, ((FuncExpr *) node)->funcid, node,",
          "new_line_content": "\t\t\t\t\t\t  &context->total);",
          "content_same": false
        },
        {
          "line": 6024,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(lc, target->exprs)",
          "new_text": null,
          "old_line_content": "\tforeach(lc, target->exprs)",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 3977,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(inner_path, UniquePath)",
          "new_text": null,
          "old_line_content": "\tif (IsA(inner_path, UniquePath))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 4490,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, NullIfExpr)",
          "new_text": null,
          "old_line_content": "\t\t\t IsA(node, NullIfExpr))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5002,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(rel->relid > 0)",
          "new_text": null,
          "old_line_content": "\tAssert(rel->relid > 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5514,
          "old_api": "find_derived_clause_for_ec_member",
          "new_api": null,
          "old_text": "find_derived_clause_for_ec_member(ec,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tem)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tRestrictInfo *rinfo = find_derived_clause_for_ec_member(ec,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tem);",
          "content_same": false
        },
        {
          "line": 5005,
          "old_api": "clauselist_selectivity",
          "new_api": null,
          "old_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t   rel->baserestrictinfo,\n\t\t\t\t\t\t\t   0,\n\t\t\t\t\t\t\t   JOIN_INNER,\n\t\t\t\t\t\t\t   NULL)",
          "new_text": null,
          "old_line_content": "\t\tclauselist_selectivity(root,",
          "new_line_content": "\t\t\t\t\t\t\t   rel->baserestrictinfo,",
          "content_same": false
        },
        {
          "line": 4494,
          "old_api": "add_function_cost",
          "new_api": null,
          "old_text": "add_function_cost(context->root, ((OpExpr *) node)->opfuncid, node,\n\t\t\t\t\t\t  &context->total)",
          "new_text": null,
          "old_line_content": "\t\tadd_function_cost(context->root, ((OpExpr *) node)->opfuncid, node,",
          "new_line_content": "\t\t\t\t\t\t  &context->total);",
          "content_same": false
        },
        {
          "line": 6026,
          "old_api": "lfirst",
          "new_api": null,
          "old_text": "lfirst(lc)",
          "new_text": null,
          "old_line_content": "\t\tNode\t   *node = (Node *) lfirst(lc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6028,
          "old_api": "get_expr_width",
          "new_api": null,
          "old_text": "get_expr_width(root, node)",
          "new_text": null,
          "old_line_content": "\t\ttuple_width += get_expr_width(root, node);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4497,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, ScalarArrayOpExpr)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(node, ScalarArrayOpExpr))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5521,
          "old_api": "clause_selectivity",
          "new_api": null,
          "old_text": "clause_selectivity(root,\n\t\t\t\t\t\t\t\t\t\t\t\t(Node *) rinfo,\n\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\tjointype,\n\t\t\t\t\t\t\t\t\t\t\t\tsjinfo)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\ts0 = clause_selectivity(root,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t\t(Node *) rinfo,",
          "content_same": false
        },
        {
          "line": 5011,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(nrows)",
          "new_text": null,
          "old_line_content": "\trel->rows = clamp_row_est(nrows);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4500,
          "old_api": "lsecond",
          "new_api": null,
          "old_text": "lsecond(saop->args)",
          "new_text": null,
          "old_line_content": "\t\tNode\t   *arraynode = (Node *) lsecond(saop->args);",
          "new_line_content": "\t\tQualCost\tsacosts;",
          "content_same": false
        },
        {
          "line": 5013,
          "old_api": "cost_qual_eval",
          "new_api": null,
          "old_text": "cost_qual_eval(&rel->baserestrictcost, rel->baserestrictinfo, root)",
          "new_text": null,
          "old_line_content": "\tcost_qual_eval(&rel->baserestrictcost, rel->baserestrictinfo, root);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 6031,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, Var)",
          "new_text": null,
          "old_line_content": "\t\tif (!IsA(node, Var))",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 4503,
          "old_api": "estimate_array_length",
          "new_api": null,
          "old_text": "estimate_array_length(arraynode)",
          "new_text": null,
          "old_line_content": "\t\tint\t\t\testarraylen = estimate_array_length(arraynode);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5015,
          "old_api": "set_rel_width",
          "new_api": null,
          "old_text": "set_rel_width(root, rel)",
          "new_text": null,
          "old_line_content": "\tset_rel_width(root, rel);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4505,
          "old_api": "set_sa_opfuncid",
          "new_api": null,
          "old_text": "set_sa_opfuncid(saop)",
          "new_text": null,
          "old_line_content": "\t\tset_sa_opfuncid(saop);",
          "new_line_content": "\t\tsacosts.startup = sacosts.per_tuple = 0;",
          "content_same": false
        },
        {
          "line": 6035,
          "old_api": "cost_qual_eval_node",
          "new_api": null,
          "old_text": "cost_qual_eval_node(&cost, node, root)",
          "new_text": null,
          "old_line_content": "\t\t\tcost_qual_eval_node(&cost, node, root);",
          "new_line_content": "\t\t\ttarget->cost.startup += cost.startup;",
          "content_same": false
        },
        {
          "line": 4507,
          "old_api": "add_function_cost",
          "new_api": null,
          "old_text": "add_function_cost(context->root, saop->opfuncid, NULL,\n\t\t\t\t\t\t  &sacosts)",
          "new_text": null,
          "old_line_content": "\t\tadd_function_cost(context->root, saop->opfuncid, NULL,",
          "new_line_content": "\t\t\t\t\t\t  &sacosts);",
          "content_same": false
        },
        {
          "line": 3988,
          "old_api": "lfirst_node",
          "new_api": null,
          "old_text": "lfirst_node(RestrictInfo, hcl)",
          "new_text": null,
          "old_line_content": "\t\t\tRestrictInfo *restrictinfo = lfirst_node(RestrictInfo, hcl);",
          "new_line_content": "\t\t\tSelectivity thisbucketsize;",
          "content_same": false
        },
        {
          "line": 6041,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(tuple_width >= 0)",
          "new_text": null,
          "old_line_content": "\tAssert(tuple_width >= 0);",
          "new_line_content": "\ttarget->width = tuple_width;",
          "content_same": false
        },
        {
          "line": 4510,
          "old_api": "OidIsValid",
          "new_api": null,
          "old_text": "OidIsValid(saop->hashfuncid)",
          "new_text": null,
          "old_line_content": "\t\tif (OidIsValid(saop->hashfuncid))",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 5535,
          "old_api": "CLAMP_PROBABILITY",
          "new_api": null,
          "old_text": "CLAMP_PROBABILITY(fkselec)",
          "new_text": null,
          "old_line_content": "\tCLAMP_PROBABILITY(fkselec);",
          "new_line_content": "\treturn fkselec;",
          "content_same": false
        },
        {
          "line": 4000,
          "old_api": "bms_is_subset",
          "new_api": null,
          "old_text": "bms_is_subset(restrictinfo->right_relids,\n\t\t\t\t\t\t\t  inner_path->parent->relids)",
          "new_text": null,
          "old_line_content": "\t\t\tif (bms_is_subset(restrictinfo->right_relids,",
          "new_line_content": "\t\t\t\t\t\t\t  inner_path->parent->relids))",
          "content_same": false
        },
        {
          "line": 4515,
          "old_api": "add_function_cost",
          "new_api": null,
          "old_text": "add_function_cost(context->root, saop->hashfuncid, NULL, &hcosts)",
          "new_text": null,
          "old_line_content": "\t\t\tadd_function_cost(context->root, saop->hashfuncid, NULL, &hcosts);",
          "new_line_content": "\t\t\tcontext->total.startup += sacosts.startup + hcosts.startup;",
          "content_same": false
        },
        {
          "line": 2979,
          "old_api": "cost_rescan",
          "new_api": null,
          "old_text": "cost_rescan(root, inner_path,\n\t\t\t\t&inner_rescan_start_cost,\n\t\t\t\t&inner_rescan_total_cost)",
          "new_text": null,
          "old_line_content": "\tcost_rescan(root, inner_path,",
          "new_line_content": "\t\t\t\t&inner_rescan_start_cost,",
          "content_same": false
        },
        {
          "line": 4009,
          "old_api": "get_rightop",
          "new_api": null,
          "old_text": "get_rightop(restrictinfo->clause)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t\t   get_rightop(restrictinfo->clause),",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t   virtualbuckets,",
          "content_same": false
        },
        {
          "line": 6058,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(expr, Var)",
          "new_text": null,
          "old_line_content": "\tif (IsA(expr, Var))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5039,
          "old_api": "list_concat_copy",
          "new_api": null,
          "old_text": "list_concat_copy(param_clauses, rel->baserestrictinfo)",
          "new_text": null,
          "old_line_content": "\tallclauses = list_concat_copy(param_clauses, rel->baserestrictinfo);",
          "new_line_content": "\tnrows = rel->tuples *",
          "content_same": false
        },
        {
          "line": 6063,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(var->varlevelsup == 0)",
          "new_text": null,
          "old_line_content": "\t\tAssert(var->varlevelsup == 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5041,
          "old_api": "clauselist_selectivity",
          "new_api": null,
          "old_text": "clauselist_selectivity(root,\n\t\t\t\t\t\t\t   allclauses,\n\t\t\t\t\t\t\t   rel->relid,\t/* do not use 0! */\n\t\t\t\t\t\t\t   JOIN_INNER,\n\t\t\t\t\t\t\t   NULL)",
          "new_text": null,
          "old_line_content": "\t\tclauselist_selectivity(root,",
          "new_line_content": "\t\t\t\t\t\t\t   allclauses,",
          "content_same": false
        },
        {
          "line": 6066,
          "old_api": "IS_SPECIAL_VARNO",
          "new_api": null,
          "old_text": "IS_SPECIAL_VARNO(var->varno)",
          "new_text": null,
          "old_line_content": "\t\tif (!IS_SPECIAL_VARNO(var->varno) &&",
          "new_line_content": "\t\t\tvar->varno < root->simple_rel_array_size)",
          "content_same": false
        },
        {
          "line": 4019,
          "old_api": "bms_is_subset",
          "new_api": null,
          "old_text": "bms_is_subset(restrictinfo->left_relids,\n\t\t\t\t\t\t\t\t\t inner_path->parent->relids)",
          "new_text": null,
          "old_line_content": "\t\t\t\tAssert(bms_is_subset(restrictinfo->left_relids,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t inner_path->parent->relids));",
          "content_same": false
        },
        {
          "line": 5046,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(nrows)",
          "new_text": null,
          "old_line_content": "\tnrows = clamp_row_est(nrows);",
          "new_line_content": "\t/* For safety, make sure result is not more than the base estimate */",
          "content_same": false
        },
        {
          "line": 5558,
          "old_api": "planner_rt_fetch",
          "new_api": null,
          "old_text": "planner_rt_fetch(rel->relid, root)",
          "new_text": null,
          "old_line_content": "\tAssert(planner_rt_fetch(rel->relid, root)->rtekind == RTE_SUBQUERY);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3514,
          "old_api": "get_parallel_divisor",
          "new_api": null,
          "old_text": "get_parallel_divisor(&path->jpath.path)",
          "new_text": null,
          "old_line_content": "\t\tdouble\t\tparallel_divisor = get_parallel_divisor(&path->jpath.path);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4027,
          "old_api": "get_leftop",
          "new_api": null,
          "old_text": "get_leftop(restrictinfo->clause)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t\t\t\t\t\t   get_leftop(restrictinfo->clause),",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t\t   virtualbuckets,",
          "content_same": false
        },
        {
          "line": 5564,
          "old_api": "fetch_upper_rel",
          "new_api": null,
          "old_text": "fetch_upper_rel(subroot, UPPERREL_FINAL, NULL)",
          "new_text": null,
          "old_line_content": "\tsub_final_rel = fetch_upper_rel(subroot, UPPERREL_FINAL, NULL);",
          "new_line_content": "\trel->tuples = sub_final_rel->cheapest_total_path->rows;",
          "content_same": false
        },
        {
          "line": 4541,
          "old_api": "estimate_array_length",
          "new_api": null,
          "old_text": "estimate_array_length(arraynode)",
          "new_text": null,
          "old_line_content": "\t\t\t\testimate_array_length(arraynode) * 0.5;",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 3517,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(path->jpath.path.rows / parallel_divisor)",
          "new_text": null,
          "old_line_content": "\t\t\tclamp_row_est(path->jpath.path.rows / parallel_divisor);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 4545,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, WindowFunc)",
          "new_text": null,
          "old_line_content": "\t\t\t IsA(node, WindowFunc))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 5573,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(lc, subroot->parse->targetList)",
          "new_text": null,
          "old_line_content": "\tforeach(lc, subroot->parse->targetList)",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 6086,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(width > 0)",
          "new_text": null,
          "old_line_content": "\t\tAssert(width > 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5575,
          "old_api": "lfirst_node",
          "new_api": null,
          "old_text": "lfirst_node(TargetEntry, lc)",
          "new_text": null,
          "old_line_content": "\t\tTargetEntry *te = lfirst_node(TargetEntry, lc);",
          "new_line_content": "\t\tNode\t   *texpr = (Node *) te->expr;",
          "content_same": false
        },
        {
          "line": 6092,
          "old_api": "Assert",
          "new_api": null,
          "old_text": "Assert(width > 0)",
          "new_text": null,
          "old_line_content": "\tAssert(width > 0);",
          "new_line_content": "\treturn width;",
          "content_same": false
        },
        {
          "line": 3533,
          "old_api": "cost_qual_eval",
          "new_api": null,
          "old_text": "cost_qual_eval(&qp_qual_cost, path->jpath.joinrestrictinfo, root)",
          "new_text": null,
          "old_line_content": "\tcost_qual_eval(&qp_qual_cost, path->jpath.joinrestrictinfo, root);",
          "new_line_content": "\tqp_qual_cost.startup -= merge_qual_cost.startup;",
          "content_same": false
        },
        {
          "line": 4558,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, GroupingFunc)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(node, GroupingFunc))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 4564,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, CoerceViaIO)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(node, CoerceViaIO))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 4052,
          "old_api": "get_hash_memory_limit",
          "new_api": null,
          "old_text": "get_hash_memory_limit()",
          "new_text": null,
          "old_line_content": "\t\t\t\t\t\t   inner_path->pathtarget->width) > get_hash_memory_limit())",
          "new_line_content": "\t\tstartup_cost += disable_cost;",
          "content_same": false
        },
        {
          "line": 6104,
          "old_api": "MAXALIGN",
          "new_api": null,
          "old_text": "MAXALIGN(SizeofHeapTupleHeader)",
          "new_text": null,
          "old_line_content": "\treturn tuples * (MAXALIGN(width) + MAXALIGN(SizeofHeapTupleHeader));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 5082,
          "old_api": "calc_joinrel_size_estimate",
          "new_api": null,
          "old_text": "calc_joinrel_size_estimate(root,\n\t\t\t\t\t\t\t\t\t\t   rel,\n\t\t\t\t\t\t\t\t\t\t   outer_rel,\n\t\t\t\t\t\t\t\t\t\t   inner_rel,\n\t\t\t\t\t\t\t\t\t\t   outer_rel->rows,\n\t\t\t\t\t\t\t\t\t\t   inner_rel->rows,\n\t\t\t\t\t\t\t\t\t\t   sjinfo,\n\t\t\t\t\t\t\t\t\t\t   restrictlist)",
          "new_text": null,
          "old_line_content": "\trel->rows = calc_joinrel_size_estimate(root,",
          "new_line_content": "\t\t\t\t\t\t\t\t\t\t   rel,",
          "content_same": false
        },
        {
          "line": 3547,
          "old_api": "list_length",
          "new_api": null,
          "old_text": "list_length(path->path_mergeclauses)",
          "new_text": null,
          "old_line_content": "\t\t list_length(path->path_mergeclauses)))",
          "new_line_content": "\t\tpath->skip_mark_restore = true;",
          "content_same": false
        },
        {
          "line": 4572,
          "old_api": "getTypeInputInfo",
          "new_api": null,
          "old_text": "getTypeInputInfo(iocoerce->resulttype,\n\t\t\t\t\t\t &iofunc, &typioparam)",
          "new_text": null,
          "old_line_content": "\t\tgetTypeInputInfo(iocoerce->resulttype,",
          "new_line_content": "\t\t\t\t\t\t &iofunc, &typioparam);",
          "content_same": false
        },
        {
          "line": 4060,
          "old_api": "cost_qual_eval",
          "new_api": null,
          "old_text": "cost_qual_eval(&qp_qual_cost, path->jpath.joinrestrictinfo, root)",
          "new_text": null,
          "old_line_content": "\tcost_qual_eval(&qp_qual_cost, path->jpath.joinrestrictinfo, root);",
          "new_line_content": "\tqp_qual_cost.startup -= hash_qual_cost.startup;",
          "content_same": false
        },
        {
          "line": 4574,
          "old_api": "add_function_cost",
          "new_api": null,
          "old_text": "add_function_cost(context->root, iofunc, NULL,\n\t\t\t\t\t\t  &context->total)",
          "new_text": null,
          "old_line_content": "\t\tadd_function_cost(context->root, iofunc, NULL,",
          "new_line_content": "\t\t\t\t\t\t  &context->total);",
          "content_same": false
        },
        {
          "line": 4577,
          "old_api": "exprType",
          "new_api": null,
          "old_text": "exprType((Node *) iocoerce->arg)",
          "new_text": null,
          "old_line_content": "\t\tgetTypeOutputInfo(exprType((Node *) iocoerce->arg),",
          "new_line_content": "\t\t\t\t\t\t  &iofunc, &typisvarlena);",
          "content_same": false
        },
        {
          "line": 4579,
          "old_api": "add_function_cost",
          "new_api": null,
          "old_text": "add_function_cost(context->root, iofunc, NULL,\n\t\t\t\t\t\t  &context->total)",
          "new_text": null,
          "old_line_content": "\t\tadd_function_cost(context->root, iofunc, NULL,",
          "new_line_content": "\t\t\t\t\t\t  &context->total);",
          "content_same": false
        },
        {
          "line": 3556,
          "old_api": "approx_tuple_count",
          "new_api": null,
          "old_text": "approx_tuple_count(root, &path->jpath, mergeclauses)",
          "new_text": null,
          "old_line_content": "\tmergejointuples = approx_tuple_count(root, &path->jpath, mergeclauses);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5605,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(texpr, Var)",
          "new_text": null,
          "old_line_content": "\t\tif (IsA(texpr, Var) &&",
          "new_line_content": "\t\t\tsubroot->parse->setOperations == NULL)",
          "content_same": false
        },
        {
          "line": 4582,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, ArrayCoerceExpr)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(node, ArrayCoerceExpr))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 6115,
          "old_api": "relation_byte_size",
          "new_api": null,
          "old_text": "relation_byte_size(tuples, width)",
          "new_text": null,
          "old_line_content": "\treturn ceil(relation_byte_size(tuples, width) / BLCKSZ);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 5609,
          "old_api": "find_base_rel",
          "new_api": null,
          "old_text": "find_base_rel(subroot, var->varno)",
          "new_text": null,
          "old_line_content": "\t\t\tRelOptInfo *subrel = find_base_rel(subroot, var->varno);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4587,
          "old_api": "cost_qual_eval_node",
          "new_api": null,
          "old_text": "cost_qual_eval_node(&perelemcost, (Node *) acoerce->elemexpr,\n\t\t\t\t\t\t\tcontext->root)",
          "new_text": null,
          "old_line_content": "\t\tcost_qual_eval_node(&perelemcost, (Node *) acoerce->elemexpr,",
          "new_line_content": "\t\t\t\t\t\t\tcontext->root);",
          "content_same": false
        },
        {
          "line": 4592,
          "old_api": "estimate_array_length",
          "new_api": null,
          "old_text": "estimate_array_length((Node *) acoerce->arg)",
          "new_text": null,
          "old_line_content": "\t\t\t\testimate_array_length((Node *) acoerce->arg);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 5617,
          "old_api": "set_baserel_size_estimates",
          "new_api": null,
          "old_text": "set_baserel_size_estimates(root, rel)",
          "new_text": null,
          "old_line_content": "\tset_baserel_size_estimates(root, rel);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4594,
          "old_api": "IsA",
          "new_api": null,
          "old_text": "IsA(node, RowCompareExpr)",
          "new_text": null,
          "old_line_content": "\telse if (IsA(node, RowCompareExpr))",
          "new_line_content": "\t{",
          "content_same": false
        },
        {
          "line": 4085,
          "old_api": "rint",
          "new_api": null,
          "old_text": "rint(outer_path_rows * extra->semifactors.outer_match_frac)",
          "new_text": null,
          "old_line_content": "\t\touter_matched_rows = rint(outer_path_rows * extra->semifactors.outer_match_frac);",
          "new_line_content": "\t\tinner_scan_frac = 2.0 / (extra->semifactors.match_count + 1.0);",
          "content_same": false
        },
        {
          "line": 4600,
          "old_api": "foreach",
          "new_api": null,
          "old_text": "foreach(lc, rcexpr->opnos)",
          "new_text": null,
          "old_line_content": "\t\tforeach(lc, rcexpr->opnos)",
          "new_line_content": "\t\t{",
          "content_same": false
        },
        {
          "line": 4602,
          "old_api": "lfirst_oid",
          "new_api": null,
          "old_text": "lfirst_oid(lc)",
          "new_text": null,
          "old_line_content": "\t\t\tOid\t\t\topid = lfirst_oid(lc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4604,
          "old_api": "get_opcode",
          "new_api": null,
          "old_text": "get_opcode(opid)",
          "new_text": null,
          "old_line_content": "\t\t\tadd_function_cost(context->root, get_opcode(opid), NULL,",
          "new_line_content": "\t\t\t\t\t\t\t  &context->total);",
          "content_same": false
        },
        {
          "line": 3071,
          "old_api": "clamp_row_est",
          "new_api": null,
          "old_text": "clamp_row_est(path->jpath.path.rows / parallel_divisor)",
          "new_text": null,
          "old_line_content": "\t\t\tclamp_row_est(path->jpath.path.rows / parallel_divisor);",
          "new_line_content": "\t}",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 34,
      "total_additions": 232,
      "total_deletions": 232,
      "total_api_changes": 498
    },
    "non_api_changes": {
      "has_non_api_changes": false,
      "evidence": {
        "total_diff_lines": 4,
        "api_related_lines": 498,
        "non_api_lines": 0,
        "non_api_line_numbers": []
      }
    },
    "api_calls_before": 493,
    "api_calls_after": 493,
    "diff_info": {
      "added_lines": 3,
      "removed_lines": 4,
      "total_diff_lines": 20
    }
  }
}