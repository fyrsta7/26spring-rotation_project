{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/TDengine/modified_file/4bac6c4fef1eb7ad9a3fffce9320bc368555f2f8",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/TDengine/modified_file/4bac6c4fef1eb7ad9a3fffce9320bc368555f2f8/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/TDengine/modified_file/4bac6c4fef1eb7ad9a3fffce9320bc368555f2f8/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/TDengine/modified_file/4bac6c4fef1eb7ad9a3fffce9320bc368555f2f8/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 2179,
          "old_api": "strcmp",
          "new_api": "TAOS_FAILED",
          "old_text": "strcmp(pCtx[j].pExpr->pExpr->_function.functionName, \"_select_value\")",
          "new_text": "TAOS_FAILED(code)",
          "old_line_content": "      } else if (strcmp(pCtx[j].pExpr->pExpr->_function.functionName, \"_select_value\") == 0) {",
          "new_line_content": "        if (TAOS_FAILED(code)) {",
          "content_same": false
        },
        {
          "line": 2184,
          "old_api": "taosArrayGet",
          "new_api": "strcmp",
          "old_text": "taosArrayGet(pBlock->pDataBlock, slotId)",
          "new_text": "strcmp(pCtx[j].pExpr->pExpr->_function.functionName, \"_select_value\")",
          "old_line_content": "          SColumnInfoData* pColInfoData = taosArrayGet(pBlock->pDataBlock, slotId);",
          "new_line_content": "      } else if (strcmp(pCtx[j].pExpr->pExpr->_function.functionName, \"_select_value\") == 0) {",
          "content_same": false
        },
        {
          "line": 2192,
          "old_api": "releaseBufPage",
          "new_api": "colDataAppend",
          "old_text": "releaseBufPage(pBuf, page)",
          "new_text": "colDataAppend(pColInfoData, pBlock->info.rows + k, in, pCtx[j].resultInfo->isNullRes)",
          "old_line_content": "    releaseBufPage(pBuf, page);",
          "new_line_content": "            colDataAppend(pColInfoData, pBlock->info.rows + k, in, pCtx[j].resultInfo->isNullRes);",
          "content_same": false
        },
        {
          "line": 2206,
          "old_api": "assert",
          "new_api": "blockDataUpdateTsWindow",
          "old_text": "assert(pGroupResInfo->currentGroup <= pGroupResInfo->totalGroup)",
          "new_text": "blockDataUpdateTsWindow(pBlock)",
          "old_line_content": "  assert(pGroupResInfo->currentGroup <= pGroupResInfo->totalGroup);",
          "new_line_content": "  blockDataUpdateTsWindow(pBlock);",
          "content_same": false
        },
        {
          "line": 2222,
          "old_api": "doCopyToSDataBlock",
          "new_api": "hasRemainDataInCurrentGroup",
          "old_text": "doCopyToSDataBlock(pTaskInfo, pBlock, pExprInfo, pBuf, pGroupResInfo, orderType, rowCellOffset, pCtx, numOfExprs)",
          "new_text": "hasRemainDataInCurrentGroup(pGroupResInfo)",
          "old_line_content": "  doCopyToSDataBlock(pTaskInfo, pBlock, pExprInfo, pBuf, pGroupResInfo, orderType, rowCellOffset, pCtx, numOfExprs);",
          "new_line_content": "  if (!hasRemainDataInCurrentGroup(pGroupResInfo)) {",
          "content_same": false
        },
        {
          "line": 2310,
          "old_api": "taosHashGet",
          "new_api": "taosArrayGet",
          "old_text": "taosHashGet(profResults, &operatorType, sizeof(operatorType))",
          "new_text": "taosArrayGet(opStack, j)",
          "old_line_content": "  SOperatorProfResult* result = taosHashGet(profResults, &operatorType, sizeof(operatorType));",
          "new_line_content": "    SOperatorStackItem* ancestor = taosArrayGet(opStack, j);",
          "content_same": false
        },
        {
          "line": 2339,
          "old_api": "taosArrayGetSize",
          "new_api": "taosArrayInit",
          "old_text": "taosArrayGetSize(pQInfo->summary.queryProfEvents)",
          "new_text": "taosArrayInit(32, sizeof(SOperatorStackItem))",
          "old_line_content": "  size_t    size = taosArrayGetSize(pQInfo->summary.queryProfEvents);",
          "new_line_content": "  SArray* opStack = taosArrayInit(32, sizeof(SOperatorStackItem));",
          "content_same": false
        },
        {
          "line": 2357,
          "old_api": "doOperatorExecProfOnce",
          "new_api": "assert",
          "old_text": "doOperatorExecProfOnce(item, event, opStack, profResults)",
          "new_text": "assert(item->operatorType == event->operatorType)",
          "old_line_content": "        doOperatorExecProfOnce(item, event, opStack, profResults);",
          "new_line_content": "      assert(item->operatorType == event->operatorType);",
          "content_same": false
        },
        {
          "line": 2362,
          "old_api": "taosArrayDestroy",
          "new_api": "doOperatorExecProfOnce",
          "old_text": "taosArrayDestroy(opStack)",
          "new_text": "doOperatorExecProfOnce(item, event, opStack, profResults)",
          "old_line_content": "  taosArrayDestroy(opStack);",
          "new_line_content": "        doOperatorExecProfOnce(item, event, opStack, profResults);",
          "content_same": false
        },
        {
          "line": 2659,
          "old_api": "memcpy",
          "new_api": "taosMemoryCalloc",
          "old_text": "memcpy(p->pDownstream, pDownstream, num * POINTER_BYTES)",
          "new_text": "taosMemoryCalloc(1, num * POINTER_BYTES)",
          "old_line_content": "  memcpy(p->pDownstream, pDownstream, num * POINTER_BYTES);",
          "new_line_content": "  p->pDownstream = taosMemoryCalloc(1, num * POINTER_BYTES);",
          "content_same": false
        },
        {
          "line": 2721,
          "old_api": "assert",
          "new_api": "tsem_post",
          "old_text": "assert(pMsgBody != NULL)",
          "new_text": "tsem_post(&pSourceDataInfo->pEx->ready)",
          "old_line_content": "  assert(pMsgBody != NULL);",
          "new_line_content": "  tsem_post(&pSourceDataInfo->pEx->ready);",
          "content_same": false
        },
        {
          "line": 2728,
          "old_api": "assert",
          "new_api": "taosMemoryFreeClear",
          "old_text": "assert(pMsg->ahandle != NULL)",
          "new_text": "taosMemoryFreeClear(pMsgBody)",
          "old_line_content": "  assert(pMsg->ahandle != NULL);",
          "new_line_content": "  taosMemoryFreeClear(pMsgBody);",
          "content_same": false
        },
        {
          "line": 2733,
          "old_api": "taosMemoryCalloc",
          "new_api": "assert",
          "old_text": "taosMemoryCalloc(1, pMsg->contLen)",
          "new_text": "assert(pMsg->ahandle != NULL)",
          "old_line_content": "    buf.pData = taosMemoryCalloc(1, pMsg->contLen);",
          "new_line_content": "  assert(pMsg->ahandle != NULL);",
          "content_same": false
        },
        {
          "line": 2738,
          "old_api": "memcpy",
          "new_api": "taosMemoryCalloc",
          "old_text": "memcpy(buf.pData, pMsg->pCont, pMsg->contLen)",
          "new_text": "taosMemoryCalloc(1, pMsg->contLen)",
          "old_line_content": "      memcpy(buf.pData, pMsg->pCont, pMsg->contLen);",
          "new_line_content": "    buf.pData = taosMemoryCalloc(1, pMsg->contLen);",
          "content_same": false
        },
        {
          "line": 2743,
          "old_api": "rpcFreeCont",
          "new_api": "memcpy",
          "old_text": "rpcFreeCont(pMsg->pCont)",
          "new_text": "memcpy(buf.pData, pMsg->pCont, pMsg->contLen)",
          "old_line_content": "  rpcFreeCont(pMsg->pCont);",
          "new_line_content": "      memcpy(buf.pData, pMsg->pCont, pMsg->contLen);",
          "content_same": false
        },
        {
          "line": 2748,
          "old_api": "taosArrayGetSize",
          "new_api": "rpcFreeCont",
          "old_text": "taosArrayGetSize(pExchangeInfo->pSources)",
          "new_text": "rpcFreeCont(pMsg->pCont)",
          "old_line_content": "  size_t totalSources = taosArrayGetSize(pExchangeInfo->pSources);",
          "new_line_content": "  rpcFreeCont(pMsg->pCont);",
          "content_same": false
        },
        {
          "line": 2762,
          "old_api": "htonl",
          "new_api": "taosArrayGet",
          "old_text": "htonl(pSource->addr.nodeId)",
          "new_text": "taosArrayGet(pExchangeInfo->pSourceDataInfo, sourceIndex)",
          "old_line_content": "  pMsg->header.vgId = htonl(pSource->addr.nodeId);",
          "new_line_content": "  SSourceDataInfo*       pDataInfo = taosArrayGet(pExchangeInfo->pSourceDataInfo, sourceIndex);",
          "content_same": false
        },
        {
          "line": 2764,
          "old_api": "htobe64",
          "new_api": "GET_TASKID",
          "old_text": "htobe64(pSource->taskId)",
          "new_text": "GET_TASKID(pTaskInfo)",
          "old_line_content": "  pMsg->taskId = htobe64(pSource->taskId);",
          "new_line_content": "  qDebug(\"%s build fetch msg and send to vgId:%d, ep:%s, taskId:0x%\" PRIx64 \", %d/%\" PRIzu, GET_TASKID(pTaskInfo),",
          "content_same": false
        },
        {
          "line": 2768,
          "old_api": "taosMemoryCalloc",
          "new_api": "htobe64",
          "old_text": "taosMemoryCalloc(1, sizeof(SMsgSendInfo))",
          "new_text": "htobe64(pSource->schedId)",
          "old_line_content": "  SMsgSendInfo* pMsgSendInfo = taosMemoryCalloc(1, sizeof(SMsgSendInfo));",
          "new_line_content": "  pMsg->sId = htobe64(pSource->schedId);",
          "content_same": false
        },
        {
          "line": 2770,
          "old_api": "taosMemoryFreeClear",
          "new_api": "htobe64",
          "old_text": "taosMemoryFreeClear(pMsg)",
          "new_text": "htobe64(pTaskInfo->id.queryId)",
          "old_line_content": "    taosMemoryFreeClear(pMsg);",
          "new_line_content": "  pMsg->queryId = htobe64(pTaskInfo->id.queryId);",
          "content_same": false
        },
        {
          "line": 2794,
          "old_api": "taosArrayGet",
          "new_api": "taosArrayGetSize",
          "old_text": "taosArrayGet(pColMatchInfo, j)",
          "new_text": "taosArrayGetSize(pCols)",
          "old_line_content": "    SColMatchInfo*   pmInfo = taosArrayGet(pColMatchInfo, j);",
          "new_line_content": "  size_t numOfSrcCols = taosArrayGetSize(pCols);",
          "content_same": false
        },
        {
          "line": 2836,
          "old_api": "memcpy",
          "new_api": "taosArrayGet",
          "old_text": "memcpy(pColInfoData->varmeta.offset, pStart, sizeof(int32_t) * numOfRows)",
          "new_text": "taosArrayGet(pRes->pDataBlock, i)",
          "old_line_content": "        memcpy(pColInfoData->varmeta.offset, pStart, sizeof(int32_t) * numOfRows);",
          "new_line_content": "      SColumnInfoData* pColInfoData = taosArrayGet(pRes->pDataBlock, i);",
          "content_same": false
        },
        {
          "line": 2848,
          "old_api": "memcpy",
          "new_api": "BitmapLen",
          "old_text": "memcpy(pColInfoData->pData, pStart, colLen[i])",
          "new_text": "BitmapLen(numOfRows)",
          "old_line_content": "        memcpy(pColInfoData->pData, pStart, colLen[i]);",
          "new_line_content": "        memcpy(pColInfoData->nullbitmap, pStart, BitmapLen(numOfRows));",
          "content_same": false
        },
        {
          "line": 2873,
          "old_api": "taosMemoryCalloc",
          "new_api": "htons",
          "old_text": "taosMemoryCalloc(1, sizeof(SSDataBlock))",
          "new_text": "htons(p->colId)",
          "old_line_content": "    SSDataBlock* pBlock = taosMemoryCalloc(1, sizeof(SSDataBlock));",
          "new_line_content": "      p->colId = htons(p->colId);",
          "content_same": false
        },
        {
          "line": 2874,
          "old_api": "taosArrayInit",
          "new_api": "htonl",
          "old_text": "taosArrayInit(numOfCols, sizeof(SColumnInfoData))",
          "new_text": "htonl(p->bytes)",
          "old_line_content": "    pBlock->pDataBlock = taosArrayInit(numOfCols, sizeof(SColumnInfoData));",
          "new_line_content": "      p->bytes = htonl(p->bytes);",
          "content_same": false
        },
        {
          "line": 2889,
          "old_api": "blockDataEnsureCapacity",
          "new_api": "IS_VAR_DATA_TYPE",
          "old_text": "blockDataEnsureCapacity(pBlock, numOfRows)",
          "new_text": "IS_VAR_DATA_TYPE(idata.info.type)",
          "old_line_content": "    blockDataEnsureCapacity(pBlock, numOfRows);",
          "new_line_content": "      if (IS_VAR_DATA_TYPE(idata.info.type)) {",
          "content_same": false
        },
        {
          "line": 2907,
          "old_api": "memcpy",
          "new_api": "taosArrayGet",
          "old_text": "memcpy(pColInfoData->varmeta.offset, pStart, sizeof(int32_t) * numOfRows)",
          "new_text": "taosArrayGet(pBlock->pDataBlock, i)",
          "old_line_content": "        memcpy(pColInfoData->varmeta.offset, pStart, sizeof(int32_t) * numOfRows);",
          "new_line_content": "      SColumnInfoData* pColInfoData = taosArrayGet(pBlock->pDataBlock, i);",
          "content_same": false
        },
        {
          "line": 2912,
          "old_api": "BitmapLen",
          "new_api": "memcpy",
          "old_text": "BitmapLen(numOfRows)",
          "new_text": "memcpy(pColInfoData->varmeta.offset, pStart, sizeof(int32_t) * numOfRows)",
          "old_line_content": "        memcpy(pColInfoData->nullbitmap, pStart, BitmapLen(numOfRows));",
          "new_line_content": "        memcpy(pColInfoData->varmeta.offset, pStart, sizeof(int32_t) * numOfRows);",
          "content_same": false
        },
        {
          "line": 2921,
          "old_api": "relocateColumnData",
          "new_api": "memcpy",
          "old_text": "relocateColumnData(pRes, pColList, pBlock->pDataBlock)",
          "new_text": "memcpy(pColInfoData->pData, pStart, colLen[i])",
          "old_line_content": "    relocateColumnData(pRes, pColList, pBlock->pDataBlock);",
          "new_line_content": "      memcpy(pColInfoData->pData, pStart, colLen[i]);",
          "content_same": false
        },
        {
          "line": 2928,
          "old_api": "blockDataUpdateTsWindow",
          "new_api": "taosMemoryFree",
          "old_text": "blockDataUpdateTsWindow(pRes)",
          "new_text": "taosMemoryFree(pBlock)",
          "old_line_content": "  blockDataUpdateTsWindow(pRes);",
          "new_line_content": "    taosMemoryFree(pBlock);",
          "content_same": false
        },
        {
          "line": 2952,
          "old_api": "qDebug",
          "new_api": "taosGetTimestampUs",
          "old_text": "qDebug(\"%s all %\" PRIzu \" sources are exhausted, total rows: %\" PRIu64 \" bytes:%\" PRIu64 \", elapsed:%.2f ms\",\n         GET_TASKID(pTaskInfo), totalSources, pLoadInfo->totalRows, pLoadInfo->totalSize,\n         pLoadInfo->totalElapsed / 1000.0)",
          "new_text": "taosGetTimestampUs()",
          "old_line_content": "  qDebug(\"%s all %\" PRIzu \" sources are exhausted, total rows: %\" PRIu64 \" bytes:%\" PRIu64 \", elapsed:%.2f ms\",",
          "new_line_content": "  int64_t              el = taosGetTimestampUs() - startTs;",
          "content_same": false
        },
        {
          "line": 2956,
          "old_api": "doSetOperatorCompleted",
          "new_api": "taosArrayGetSize",
          "old_text": "doSetOperatorCompleted(pOperator)",
          "new_text": "taosArrayGetSize(pExchangeInfo->pSources)",
          "old_line_content": "  doSetOperatorCompleted(pOperator);",
          "new_line_content": "  size_t totalSources = taosArrayGetSize(pExchangeInfo->pSources);",
          "content_same": false
        },
        {
          "line": 2969,
          "old_api": "taosArrayGet",
          "new_api": "taosArrayGetSize",
          "old_text": "taosArrayGet(pExchangeInfo->pSourceDataInfo, i)",
          "new_text": "taosArrayGetSize(pExchangeInfo->pSources)",
          "old_line_content": "      SSourceDataInfo* pDataInfo = taosArrayGet(pExchangeInfo->pSourceDataInfo, i);",
          "new_line_content": "  size_t  totalSources = taosArrayGetSize(pExchangeInfo->pSources);",
          "content_same": false
        },
        {
          "line": 2986,
          "old_api": "qDebug",
          "new_api": "taosArrayGet",
          "old_text": "qDebug(\"%s vgId:%d, taskID:0x%\" PRIx64 \" index:%d completed, rowsOfSource:%\" PRIu64 \", totalRows:%\" PRIu64\n               \" try next\",\n               GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, i + 1, pDataInfo->totalRows,\n               pExchangeInfo->loadInfo.totalRows)",
          "new_text": "taosArrayGet(pExchangeInfo->pSources, i)",
          "old_line_content": "        qDebug(\"%s vgId:%d, taskID:0x%\" PRIx64 \" index:%d completed, rowsOfSource:%\" PRIu64 \", totalRows:%\" PRIu64",
          "new_line_content": "      SDownstreamSourceNode* pSource = taosArrayGet(pExchangeInfo->pSources, i);",
          "content_same": false
        },
        {
          "line": 3049,
          "old_api": "doSendFetchDataRequest",
          "new_api": "taosArrayGetSize",
          "old_text": "doSendFetchDataRequest(pExchangeInfo, pTaskInfo, i)",
          "new_text": "taosArrayGetSize(pExchangeInfo->pSources)",
          "old_line_content": "    int32_t code = doSendFetchDataRequest(pExchangeInfo, pTaskInfo, i);",
          "new_line_content": "  size_t  totalSources = taosArrayGetSize(pExchangeInfo->pSources);",
          "content_same": false
        },
        {
          "line": 3061,
          "old_api": "concurrentlyLoadRemoteDataImpl",
          "new_api": "GET_TASKID",
          "old_text": "concurrentlyLoadRemoteDataImpl(pOperator, pExchangeInfo, pTaskInfo)",
          "new_text": "GET_TASKID(pTaskInfo)",
          "old_line_content": "  return concurrentlyLoadRemoteDataImpl(pOperator, pExchangeInfo, pTaskInfo);",
          "new_line_content": "  qDebug(\"%s send all fetch request to %\" PRIzu \" sources completed, elapsed:%\" PRId64, GET_TASKID(pTaskInfo),",
          "content_same": false
        },
        {
          "line": 3073,
          "old_api": "doSendFetchDataRequest",
          "new_api": "taosArrayGetSize",
          "old_text": "doSendFetchDataRequest(pExchangeInfo, pTaskInfo, i)",
          "new_text": "taosArrayGetSize(pExchangeInfo->pSources)",
          "old_line_content": "    int32_t code = doSendFetchDataRequest(pExchangeInfo, pTaskInfo, i);",
          "new_line_content": "  size_t  totalSources = taosArrayGetSize(pExchangeInfo->pSources);",
          "content_same": false
        },
        {
          "line": 3099,
          "old_api": "setAllSourcesCompleted",
          "new_api": "taosArrayGetSize",
          "old_text": "setAllSourcesCompleted(pOperator, startTs)",
          "new_text": "taosArrayGetSize(pExchangeInfo->pSources)",
          "old_line_content": "      return setAllSourcesCompleted(pOperator, startTs);",
          "new_line_content": "  size_t  totalSources = taosArrayGetSize(pExchangeInfo->pSources);",
          "content_same": false
        },
        {
          "line": 3110,
          "old_api": "tstrerror",
          "new_api": "taosArrayGet",
          "old_text": "tstrerror(pDataInfo->code)",
          "new_text": "taosArrayGet(pExchangeInfo->pSourceDataInfo, pExchangeInfo->current)",
          "old_line_content": "             pSource->taskId, tstrerror(pDataInfo->code));",
          "new_line_content": "    SSourceDataInfo*       pDataInfo = taosArrayGet(pExchangeInfo->pSourceDataInfo, pExchangeInfo->current);",
          "content_same": false
        },
        {
          "line": 3181,
          "old_api": "taosArrayGetSize",
          "new_api": "_openFn",
          "old_text": "taosArrayGetSize(pExchangeInfo->pSources)",
          "new_text": "pOperator->fpSet._openFn(pOperator)",
          "old_line_content": "  size_t               totalSources = taosArrayGetSize(pExchangeInfo->pSources);",
          "new_line_content": "  pTaskInfo->code = pOperator->fpSet._openFn(pOperator);",
          "content_same": false
        },
        {
          "line": 3186,
          "old_api": "GET_TASKID",
          "new_api": "taosArrayGetSize",
          "old_text": "GET_TASKID(pTaskInfo)",
          "new_text": "taosArrayGetSize(pExchangeInfo->pSources)",
          "old_line_content": "           GET_TASKID(pTaskInfo), totalSources, pLoadInfo->totalRows, pLoadInfo->totalSize,",
          "new_line_content": "  size_t               totalSources = taosArrayGetSize(pExchangeInfo->pSources);",
          "content_same": false
        },
        {
          "line": 3199,
          "old_api": "taosMemoryFreeClear",
          "new_api": "concurrentlyLoadRemoteData",
          "old_text": "taosMemoryFreeClear(pMsg)",
          "new_text": "concurrentlyLoadRemoteData(pOperator)",
          "old_line_content": "  taosMemoryFreeClear(pMsg);",
          "new_line_content": "    return concurrentlyLoadRemoteData(pOperator);",
          "content_same": false
        },
        {
          "line": 3236,
          "old_api": "taosMemoryFreeClear",
          "new_api": "taosMemoryCalloc",
          "old_text": "taosMemoryFreeClear(pOperator)",
          "new_text": "taosMemoryCalloc(1, sizeof(SExchangeInfo))",
          "old_line_content": "    taosMemoryFreeClear(pOperator);",
          "new_line_content": "  SExchangeInfo* pInfo = taosMemoryCalloc(1, sizeof(SExchangeInfo));",
          "content_same": false
        },
        {
          "line": 3241,
          "old_api": "LIST_LENGTH",
          "new_api": "taosMemoryFreeClear",
          "old_text": "LIST_LENGTH(pSources)",
          "new_text": "taosMemoryFreeClear(pOperator)",
          "old_line_content": "  size_t numOfSources = LIST_LENGTH(pSources);",
          "new_line_content": "    taosMemoryFreeClear(pOperator);",
          "content_same": false
        },
        {
          "line": 3305,
          "old_api": "taosArrayGetSize",
          "new_api": "blockDataDestroy",
          "old_text": "taosArrayGetSize(groupInfo)",
          "new_text": "blockDataDestroy(pInfo->binfo.pRes)",
          "old_line_content": "  size_t size = taosArrayGetSize(groupInfo);",
          "new_line_content": "  blockDataDestroy(pInfo->binfo.pRes);",
          "content_same": false
        },
        {
          "line": 3325,
          "old_api": "varDataLen",
          "new_api": "colDataGetData",
          "old_text": "varDataLen(pCell)",
          "new_text": "colDataGetData(pColInfo, rowIndex)",
          "old_line_content": "        if (memcmp(varDataVal(pCell), varDataVal(buf[i]), varDataLen(pCell)) != 0) {",
          "new_line_content": "    char* pCell = colDataGetData(pColInfo, rowIndex);",
          "content_same": false
        },
        {
          "line": 3330,
          "old_api": "memcmp",
          "new_api": "varDataLen",
          "old_text": "memcmp(pCell, buf[i], pColInfo->info.bytes)",
          "new_text": "varDataLen(pCell)",
          "old_line_content": "      if (memcmp(pCell, buf[i], pColInfo->info.bytes) != 0) {",
          "new_line_content": "        if (memcmp(varDataVal(pCell), varDataVal(buf[i]), varDataLen(pCell)) != 0) {",
          "content_same": false
        },
        {
          "line": 3403,
          "old_api": "doMergeResultImpl",
          "new_api": "ASSERT",
          "old_text": "doMergeResultImpl(pInfo, pCtx, numOfExpr, i)",
          "new_text": "ASSERT(i == 0)",
          "old_line_content": "        doMergeResultImpl(pInfo, pCtx, numOfExpr, i);",
          "new_line_content": "      ASSERT(i == 0);",
          "content_same": false
        },
        {
          "line": 3405,
          "old_api": "doFinalizeResultImpl",
          "new_api": "saveCurrentTuple",
          "old_text": "doFinalizeResultImpl(pCtx, numOfExpr)",
          "new_text": "saveCurrentTuple(pInfo->groupVal, pInfo->groupInfo, pBlock, i)",
          "old_line_content": "        doFinalizeResultImpl(pCtx, numOfExpr);",
          "new_line_content": "      pInfo->hasGroupVal = saveCurrentTuple(pInfo->groupVal, pInfo->groupInfo, pBlock, i);",
          "content_same": false
        },
        {
          "line": 3438,
          "old_api": "tsortNextTuple",
          "new_api": "blockDataEnsureCapacity",
          "old_text": "tsortNextTuple(pHandle)",
          "new_text": "blockDataEnsureCapacity(pDataBlock, pOperator->resultInfo.capacity)",
          "old_line_content": "      STupleHandle* pTupleHandle = tsortNextTuple(pHandle);",
          "new_line_content": "  blockDataEnsureCapacity(pDataBlock, pOperator->resultInfo.capacity);",
          "content_same": false
        },
        {
          "line": 3462,
          "old_api": "getNumOfResult",
          "new_api": "doMergeImpl",
          "old_text": "getNumOfResult(pInfo->binfo.pCtx, pOperator->numOfExprs, NULL)",
          "new_text": "doMergeImpl(pOperator, pOperator->numOfExprs, pDataBlock)",
          "old_line_content": "  int32_t numOfRows = getNumOfResult(pInfo->binfo.pCtx, pOperator->numOfExprs, NULL);",
          "new_line_content": "    doMergeImpl(pOperator, pOperator->numOfExprs, pDataBlock);",
          "content_same": false
        },
        {
          "line": 3492,
          "old_api": "tsortAddSource",
          "new_api": "tsortSetFetchRawDataFp",
          "old_text": "tsortAddSource(pInfo->pSortHandle, ps)",
          "new_text": "tsortSetFetchRawDataFp(pInfo->pSortHandle, loadNextDataBlock, NULL, NULL)",
          "old_line_content": "    tsortAddSource(pInfo->pSortHandle, ps);",
          "new_line_content": "  tsortSetFetchRawDataFp(pInfo->pSortHandle, loadNextDataBlock, NULL, NULL);",
          "content_same": false
        },
        {
          "line": 3495,
          "old_api": "tsortOpen",
          "new_api": "taosMemoryCalloc",
          "old_text": "tsortOpen(pInfo->pSortHandle)",
          "new_text": "taosMemoryCalloc(1, sizeof(SSortSource))",
          "old_line_content": "  int32_t code = tsortOpen(pInfo->pSortHandle);",
          "new_line_content": "    SSortSource* ps = taosMemoryCalloc(1, sizeof(SSortSource));",
          "content_same": false
        },
        {
          "line": 3497,
          "old_api": "longjmp",
          "new_api": "tsortAddSource",
          "old_text": "longjmp(pTaskInfo->env, terrno)",
          "new_text": "tsortAddSource(pInfo->pSortHandle, ps)",
          "old_line_content": "    longjmp(pTaskInfo->env, terrno);",
          "new_line_content": "    tsortAddSource(pInfo->pSortHandle, ps);",
          "content_same": false
        },
        {
          "line": 3506,
          "old_api": "taosArrayGetSize",
          "new_api": "doMerge",
          "old_text": "taosArrayGetSize(pGroupInfo)",
          "new_text": "doMerge(pOperator)",
          "old_line_content": "  if (pGroupInfo == NULL || taosArrayGetSize(pGroupInfo) == 0) {",
          "new_line_content": "  return doMerge(pOperator);",
          "content_same": false
        },
        {
          "line": 3511,
          "old_api": "taosArrayInit",
          "new_api": "taosArrayGetSize",
          "old_text": "taosArrayInit(3, sizeof(SColumn))",
          "new_text": "taosArrayGetSize(pGroupInfo)",
          "old_line_content": "  SArray* plist = taosArrayInit(3, sizeof(SColumn));",
          "new_line_content": "  if (pGroupInfo == NULL || taosArrayGetSize(pGroupInfo) == 0) {",
          "content_same": false
        },
        {
          "line": 3525,
          "old_api": "taosArrayPush",
          "new_api": "taosArrayGet",
          "old_text": "taosArrayPush(pInfo->groupInfo, &j)",
          "new_text": "taosArrayGet(pGroupInfo, i)",
          "old_line_content": "        taosArrayPush(pInfo->groupInfo, &j);",
          "new_line_content": "    SColumn* pCol = taosArrayGet(pGroupInfo, i);",
          "content_same": false
        },
        {
          "line": 3562,
          "old_api": "createSqlFunctionCtx",
          "new_api": "taosMemoryCalloc",
          "old_text": "createSqlFunctionCtx(pExprInfo, num, &pInfo->binfo.rowCellInfoOffset)",
          "new_text": "taosMemoryCalloc(1, sizeof(SOperatorInfo))",
          "old_line_content": "  pInfo->binfo.pCtx = createSqlFunctionCtx(pExprInfo, num, &pInfo->binfo.rowCellInfoOffset);",
          "new_line_content": "  SOperatorInfo*            pOperator = taosMemoryCalloc(1, sizeof(SOperatorInfo));",
          "content_same": false
        },
        {
          "line": 3575,
          "old_api": "setFunctionResultOutput",
          "new_api": "doInitAggInfoSup",
          "old_text": "setFunctionResultOutput(&pInfo->binfo, &pInfo->aggSup, MAIN_SCAN, num, pTaskInfo)",
          "new_text": "doInitAggInfoSup(&pInfo->aggSup, pInfo->binfo.pCtx, num, keyBufSize, pTaskInfo->id.str)",
          "old_line_content": "  setFunctionResultOutput(&pInfo->binfo, &pInfo->aggSup, MAIN_SCAN, num, pTaskInfo);",
          "new_line_content": "  int32_t code = doInitAggInfoSup(&pInfo->aggSup, pInfo->binfo.pCtx, num, keyBufSize, pTaskInfo->id.str);",
          "content_same": false
        },
        {
          "line": 3670,
          "old_api": "projectApplyFunctions",
          "new_api": "longjmp",
          "old_text": "projectApplyFunctions(pAggInfo->pScalarExprInfo, pBlock, pBlock, pAggInfo->pScalarCtx,\n                                   pAggInfo->numOfScalarExpr, NULL)",
          "new_text": "longjmp(pTaskInfo->env, code)",
          "old_line_content": "      code = projectApplyFunctions(pAggInfo->pScalarExprInfo, pBlock, pBlock, pAggInfo->pScalarCtx,",
          "new_line_content": "      longjmp(pTaskInfo->env, code);",
          "content_same": false
        },
        {
          "line": 3678,
          "old_api": "setExecutionContext",
          "new_api": "longjmp",
          "old_text": "setExecutionContext(pOperator->numOfExprs, pBlock->info.groupId, pTaskInfo, pAggInfo)",
          "new_text": "longjmp(pTaskInfo->env, code)",
          "old_line_content": "    setExecutionContext(pOperator->numOfExprs, pBlock->info.groupId, pTaskInfo, pAggInfo);",
          "new_line_content": "        longjmp(pTaskInfo->env, code);",
          "content_same": false
        },
        {
          "line": 3695,
          "old_api": "taosMemoryFree",
          "new_api": "encodeResultRow",
          "old_text": "taosMemoryFree(result)",
          "new_text": "pOperator->encodeResultRow(pOperator, pSup, pInfo, &result, &length)",
          "old_line_content": "        taosMemoryFree(result);",
          "new_line_content": "      pOperator->encodeResultRow(pOperator, pSup, pInfo, &result, &length);",
          "content_same": false
        },
        {
          "line": 3706,
          "old_api": "OPTR_SET_OPENED",
          "new_api": "closeAllResultRows",
          "old_text": "OPTR_SET_OPENED(pOperator)",
          "new_text": "closeAllResultRows(&pAggInfo->binfo.resultRowInfo)",
          "old_line_content": "  OPTR_SET_OPENED(pOperator);",
          "new_line_content": "  closeAllResultRows(&pAggInfo->binfo.resultRowInfo);",
          "content_same": false
        },
        {
          "line": 3724,
          "old_api": "blockDataEnsureCapacity",
          "new_api": "_openFn",
          "old_text": "blockDataEnsureCapacity(pInfo->pRes, pOperator->resultInfo.capacity)",
          "new_text": "pOperator->fpSet._openFn(pOperator)",
          "old_line_content": "  blockDataEnsureCapacity(pInfo->pRes, pOperator->resultInfo.capacity);",
          "new_line_content": "  pTaskInfo->code = pOperator->fpSet._openFn(pOperator);",
          "content_same": false
        },
        {
          "line": 3730,
          "old_api": "doSetOperatorCompleted",
          "new_api": "doBuildResultDatablock",
          "old_text": "doSetOperatorCompleted(pOperator)",
          "new_text": "doBuildResultDatablock(pOperator, pInfo, &pAggInfo->groupResInfo, pAggInfo->aggSup.pResultBuf)",
          "old_line_content": "  doSetOperatorCompleted(pOperator);",
          "new_line_content": "  doBuildResultDatablock(pOperator, pInfo, &pAggInfo->groupResInfo, pAggInfo->aggSup.pResultBuf);",
          "content_same": false
        },
        {
          "line": 3731,
          "old_api": "blockDataGetNumOfRows",
          "new_api": "hasRemainDataInCurrentGroup",
          "old_text": "blockDataGetNumOfRows(pInfo->pRes)",
          "new_text": "hasRemainDataInCurrentGroup(&pAggInfo->groupResInfo)",
          "old_line_content": "  return (blockDataGetNumOfRows(pInfo->pRes) != 0) ? pInfo->pRes : NULL;",
          "new_line_content": "  if (pInfo->pRes->info.rows == 0 || !hasRemainDataInCurrentGroup(&pAggInfo->groupResInfo)) {",
          "content_same": false
        },
        {
          "line": 3736,
          "old_api": "taosHashGetSize",
          "new_api": "blockDataGetNumOfRows",
          "old_text": "taosHashGetSize(pSup->pResultRowHashTable)",
          "new_text": "blockDataGetNumOfRows(pInfo->pRes)",
          "old_line_content": "  int32_t size = taosHashGetSize(pSup->pResultRowHashTable);",
          "new_line_content": "  return (blockDataGetNumOfRows(pInfo->pRes) != 0) ? pInfo->pRes : NULL;",
          "content_same": false
        },
        {
          "line": 3741,
          "old_api": "longjmp",
          "new_api": "taosHashGetSize",
          "old_text": "longjmp(pOperator->pTaskInfo->env, TSDB_CODE_OUT_OF_MEMORY)",
          "new_text": "taosHashGetSize(pSup->pResultRowHashTable)",
          "old_line_content": "    longjmp(pOperator->pTaskInfo->env, TSDB_CODE_OUT_OF_MEMORY);",
          "new_line_content": "  int32_t size = taosHashGetSize(pSup->pResultRowHashTable);",
          "content_same": false
        },
        {
          "line": 3753,
          "old_api": "taosHashIterate",
          "new_api": "getBufPage",
          "old_text": "taosHashIterate(pSup->pResultRowHashTable, NULL)",
          "new_text": "getBufPage(pSup->pResultBuf, pos->pageId)",
          "old_line_content": "  void* pIter = taosHashIterate(pSup->pResultRowHashTable, NULL);",
          "new_line_content": "  void*               pPage = getBufPage(pSup->pResultBuf, pos->pageId);",
          "content_same": false
        },
        {
          "line": 3755,
          "old_api": "taosHashGetKey",
          "new_api": "setBufPageDirty",
          "old_text": "taosHashGetKey(pIter, &keyLen)",
          "new_text": "setBufPageDirty(pPage, true)",
          "old_line_content": "    void*               key = taosHashGetKey(pIter, &keyLen);",
          "new_line_content": "  setBufPageDirty(pPage, true);",
          "content_same": false
        },
        {
          "line": 3758,
          "old_api": "getBufPage",
          "new_api": "taosHashIterate",
          "old_text": "getBufPage(pSup->pResultBuf, p1->pageId)",
          "new_text": "taosHashIterate(pSup->pResultRowHashTable, NULL)",
          "old_line_content": "    pPage = (SFilePage*)getBufPage(pSup->pResultBuf, p1->pageId);",
          "new_line_content": "  void* pIter = taosHashIterate(pSup->pResultRowHashTable, NULL);",
          "content_same": false
        },
        {
          "line": 3760,
          "old_api": "setBufPageDirty",
          "new_api": "taosHashGetKey",
          "old_text": "setBufPageDirty(pPage, true)",
          "new_text": "taosHashGetKey(pIter, &keyLen)",
          "old_line_content": "    setBufPageDirty(pPage, true);",
          "new_line_content": "    void*               key = taosHashGetKey(pIter, &keyLen);",
          "content_same": false
        },
        {
          "line": 3766,
          "old_api": "taosMemoryRealloc",
          "new_api": "releaseBufPage",
          "old_text": "taosMemoryRealloc(*result, realTotalSize)",
          "new_text": "releaseBufPage(pSup->pResultBuf, pPage)",
          "old_line_content": "      char* tmp = taosMemoryRealloc(*result, realTotalSize);",
          "new_line_content": "    releaseBufPage(pSup->pResultBuf, pPage);",
          "content_same": false
        },
        {
          "line": 3771,
          "old_api": "longjmp",
          "new_api": "taosMemoryRealloc",
          "old_text": "longjmp(pOperator->pTaskInfo->env, TSDB_CODE_OUT_OF_MEMORY)",
          "new_text": "taosMemoryRealloc(*result, realTotalSize)",
          "old_line_content": "        longjmp(pOperator->pTaskInfo->env, TSDB_CODE_OUT_OF_MEMORY);",
          "new_line_content": "      char* tmp = taosMemoryRealloc(*result, realTotalSize);",
          "content_same": false
        },
        {
          "line": 3819,
          "old_api": "taosHashPut",
          "new_api": "longjmp",
          "old_text": "taosHashPut(pSup->pResultRowHashTable, result + offset, keyLen, &pos, sizeof(SResultRowPosition))",
          "new_text": "longjmp(pOperator->pTaskInfo->env, TSDB_CODE_TSC_INVALID_INPUT)",
          "old_line_content": "    taosHashPut(pSup->pResultRowHashTable, result + offset, keyLen, &pos, sizeof(SResultRowPosition));",
          "new_line_content": "      longjmp(pOperator->pTaskInfo->env, TSDB_CODE_TSC_INVALID_INPUT);",
          "content_same": false
        },
        {
          "line": 3824,
          "old_api": "longjmp",
          "new_api": "taosHashPut",
          "old_text": "longjmp(pOperator->pTaskInfo->env, TSDB_CODE_TSC_INVALID_INPUT)",
          "new_text": "taosHashPut(pSup->pResultRowHashTable, result + offset, keyLen, &pos, sizeof(SResultRowPosition))",
          "old_line_content": "      longjmp(pOperator->pTaskInfo->env, TSDB_CODE_TSC_INVALID_INPUT);",
          "new_line_content": "    taosHashPut(pSup->pResultRowHashTable, result + offset, keyLen, &pos, sizeof(SResultRowPosition));",
          "content_same": false
        },
        {
          "line": 3829,
          "old_api": "memcpy",
          "new_api": "longjmp",
          "old_text": "memcpy(resultRow, result + offset, valueLen)",
          "new_text": "longjmp(pOperator->pTaskInfo->env, TSDB_CODE_TSC_INVALID_INPUT)",
          "old_line_content": "    memcpy(resultRow, result + offset, valueLen);",
          "new_line_content": "      longjmp(pOperator->pTaskInfo->env, TSDB_CODE_TSC_INVALID_INPUT);",
          "content_same": false
        },
        {
          "line": 3834,
          "old_api": "initResultRow",
          "new_api": "memcpy",
          "old_text": "initResultRow(resultRow)",
          "new_text": "memcpy(resultRow, result + offset, valueLen)",
          "old_line_content": "    initResultRow(resultRow);",
          "new_line_content": "    memcpy(resultRow, result + offset, valueLen);",
          "content_same": false
        },
        {
          "line": 3950,
          "old_api": "copyTsColoum",
          "new_api": "setInputDataBlock",
          "old_text": "copyTsColoum(pRes, pInfo->pCtx, pOperator->numOfExprs)",
          "new_text": "setInputDataBlock(pOperator, pInfo->pCtx, pBlock, TSDB_ORDER_ASC)",
          "old_line_content": "      copyTsColoum(pRes, pInfo->pCtx, pOperator->numOfExprs);",
          "new_line_content": "    setInputDataBlock(pOperator, pInfo->pCtx, pBlock, TSDB_ORDER_ASC);",
          "content_same": false
        },
        {
          "line": 3969,
          "old_api": "setTaskStatus",
          "new_api": "publishOperatorProfEvent",
          "old_text": "setTaskStatus(pOperator->pTaskInfo, TASK_COMPLETED)",
          "new_text": "publishOperatorProfEvent(downstream, QUERY_PROF_BEFORE_OPERATOR_EXEC)",
          "old_line_content": "      setTaskStatus(pOperator->pTaskInfo, TASK_COMPLETED);",
          "new_line_content": "    publishOperatorProfEvent(downstream, QUERY_PROF_BEFORE_OPERATOR_EXEC);",
          "content_same": false
        },
        {
          "line": 3984,
          "old_api": "getTableScanInfo",
          "new_api": "initCtxOutputBuffer",
          "old_text": "getTableScanInfo(pOperator->pDownstream[0], &order, &scanFlag)",
          "new_text": "initCtxOutputBuffer(pInfo->pCtx, pOperator->numOfExprs)",
          "old_line_content": "    int32_t code = getTableScanInfo(pOperator->pDownstream[0], &order, &scanFlag);",
          "new_line_content": "        initCtxOutputBuffer(pInfo->pCtx, pOperator->numOfExprs);",
          "content_same": false
        },
        {
          "line": 3989,
          "old_api": "projectApplyFunctions",
          "new_api": "getTableScanInfo",
          "old_text": "projectApplyFunctions(pOperator->pExpr, pInfo->pRes, pBlock, pInfo->pCtx, pOperator->numOfExprs, pProjectInfo->pPseudoColInfo)",
          "new_text": "getTableScanInfo(pOperator->pDownstream[0], &order, &scanFlag)",
          "old_line_content": "    code = projectApplyFunctions(pOperator->pExpr, pInfo->pRes, pBlock, pInfo->pCtx, pOperator->numOfExprs, pProjectInfo->pPseudoColInfo);",
          "new_line_content": "    int32_t code = getTableScanInfo(pOperator->pDownstream[0], &order, &scanFlag);",
          "content_same": false
        },
        {
          "line": 3991,
          "old_api": "longjmp",
          "new_api": "setInputDataBlock",
          "old_text": "longjmp(pTaskInfo->env, code)",
          "new_text": "setInputDataBlock(pOperator, pInfo->pCtx, pBlock, order, scanFlag, false)",
          "old_line_content": "      longjmp(pTaskInfo->env, code);",
          "new_line_content": "    setInputDataBlock(pOperator, pInfo->pCtx, pBlock, order, scanFlag, false);",
          "content_same": false
        },
        {
          "line": 3994,
          "old_api": "handleLimitOffset",
          "new_api": "projectApplyFunctions",
          "old_text": "handleLimitOffset(pOperator, pBlock)",
          "new_text": "projectApplyFunctions(pOperator->pExpr, pInfo->pRes, pBlock, pInfo->pCtx, pOperator->numOfExprs, pProjectInfo->pPseudoColInfo)",
          "old_line_content": "    int32_t status = handleLimitOffset(pOperator, pBlock);",
          "new_line_content": "    code = projectApplyFunctions(pOperator->pExpr, pInfo->pRes, pBlock, pInfo->pCtx, pOperator->numOfExprs, pProjectInfo->pPseudoColInfo);",
          "content_same": false
        },
        {
          "line": 4017,
          "old_api": "taosFillSetInputDataBlock",
          "new_api": "Q_STATUS_EQUAL",
          "old_text": "taosFillSetInputDataBlock(pInfo->pFillInfo, pInfo->existNewGroupBlock)",
          "new_text": "Q_STATUS_EQUAL(pTaskInfo->status, TASK_COMPLETED)",
          "old_line_content": "  taosFillSetInputDataBlock(pInfo->pFillInfo, pInfo->existNewGroupBlock);",
          "new_line_content": "  int64_t ekey = Q_STATUS_EQUAL(pTaskInfo->status, TASK_COMPLETED) ? pTaskInfo->window.ekey",
          "content_same": false
        },
        {
          "line": 4019,
          "old_api": "doFillTimeIntervalGapsInResults",
          "new_api": "getFillInfoStart",
          "old_text": "doFillTimeIntervalGapsInResults(pInfo->pFillInfo, pInfo->pRes, pResultInfo->capacity)",
          "new_text": "getFillInfoStart(pInfo->pFillInfo)",
          "old_line_content": "  doFillTimeIntervalGapsInResults(pInfo->pFillInfo, pInfo->pRes, pResultInfo->capacity);",
          "new_line_content": "  taosResetFillInfo(pInfo->pFillInfo, getFillInfoStart(pInfo->pFillInfo));",
          "content_same": false
        },
        {
          "line": 4067,
          "old_api": "assert",
          "new_api": "publishOperatorProfEvent",
          "old_text": "assert(pBlock != NULL)",
          "new_text": "publishOperatorProfEvent(pDownstream, QUERY_PROF_BEFORE_OPERATOR_EXEC)",
          "old_line_content": "      assert(pBlock != NULL);",
          "new_line_content": "    publishOperatorProfEvent(pDownstream, QUERY_PROF_BEFORE_OPERATOR_EXEC);",
          "content_same": false
        },
        {
          "line": 4092,
          "old_api": "blockDataEnsureCapacity",
          "new_api": "taosFillSetStartInfo",
          "old_text": "blockDataEnsureCapacity(pResBlock, pOperator->resultInfo.capacity)",
          "new_text": "taosFillSetStartInfo(pInfo->pFillInfo, pBlock->info.rows, pBlock->info.window.ekey)",
          "old_line_content": "    blockDataEnsureCapacity(pResBlock, pOperator->resultInfo.capacity);",
          "new_line_content": "        taosFillSetStartInfo(pInfo->pFillInfo, pBlock->info.rows, pBlock->info.window.ekey);",
          "content_same": false
        },
        {
          "line": 4093,
          "old_api": "doFillTimeIntervalGapsInResults",
          "new_api": "taosFillSetInputDataBlock",
          "old_text": "doFillTimeIntervalGapsInResults(pInfo->pFillInfo, pResBlock, pOperator->resultInfo.capacity)",
          "new_text": "taosFillSetInputDataBlock(pInfo->pFillInfo, pBlock)",
          "old_line_content": "    doFillTimeIntervalGapsInResults(pInfo->pFillInfo, pResBlock, pOperator->resultInfo.capacity);",
          "new_line_content": "        taosFillSetInputDataBlock(pInfo->pFillInfo, pBlock);",
          "content_same": false
        },
        {
          "line": 4108,
          "old_api": "assert",
          "new_api": "doHandleRemainBlockFromNewGroup",
          "old_text": "assert(pBlock != NULL)",
          "new_text": "doHandleRemainBlockFromNewGroup(pInfo, pResultInfo, newgroup, pTaskInfo)",
          "old_line_content": "      assert(pBlock != NULL);",
          "new_line_content": "      doHandleRemainBlockFromNewGroup(pInfo, pResultInfo, newgroup, pTaskInfo);",
          "content_same": false
        },
        {
          "line": 4142,
          "old_api": "destroyOperatorInfo",
          "new_api": "closeFn",
          "old_text": "destroyOperatorInfo(pOperator->pDownstream[i])",
          "new_text": "pOperator->fpSet.closeFn(pOperator->info, pOperator->numOfExprs)",
          "old_line_content": "      destroyOperatorInfo(pOperator->pDownstream[i]);",
          "new_line_content": "    pOperator->fpSet.closeFn(pOperator->info, pOperator->numOfExprs);",
          "content_same": false
        },
        {
          "line": 4160,
          "old_api": "taosMemoryFreeClear",
          "new_api": "taosMemoryFree",
          "old_text": "taosMemoryFreeClear(pOperator->pExpr)",
          "new_text": "taosMemoryFree(pExprInfo->base.pParam)",
          "old_line_content": "  taosMemoryFreeClear(pOperator->pExpr);",
          "new_line_content": "      taosMemoryFree(pExprInfo->base.pParam);",
          "content_same": false
        },
        {
          "line": 4161,
          "old_api": "taosMemoryFreeClear",
          "new_api": "taosMemoryFree",
          "old_text": "taosMemoryFreeClear(pOperator->info)",
          "new_text": "taosMemoryFree(pExprInfo->pExpr)",
          "old_line_content": "  taosMemoryFreeClear(pOperator->info);",
          "new_line_content": "      taosMemoryFree(pExprInfo->pExpr);",
          "content_same": false
        },
        {
          "line": 4167,
          "old_api": "taosGetDefaultHashFunction",
          "new_api": "taosMemoryFreeClear",
          "old_text": "taosGetDefaultHashFunction(TSDB_DATA_TYPE_BINARY)",
          "new_text": "taosMemoryFreeClear(pOperator)",
          "old_line_content": "  _hash_fn_t hashFn = taosGetDefaultHashFunction(TSDB_DATA_TYPE_BINARY);",
          "new_line_content": "  taosMemoryFreeClear(pOperator);",
          "content_same": false
        },
        {
          "line": 4204,
          "old_api": "createSqlFunctionCtx",
          "new_api": "destroyDiskbasedBuf",
          "old_text": "createSqlFunctionCtx(pExprInfo, numOfCols, &pBasicInfo->rowCellInfoOffset)",
          "new_text": "destroyDiskbasedBuf(pAggSup->pResultBuf)",
          "old_line_content": "  pBasicInfo->pCtx = createSqlFunctionCtx(pExprInfo, numOfCols, &pBasicInfo->rowCellInfoOffset);",
          "new_line_content": "  destroyDiskbasedBuf(pAggSup->pResultBuf);",
          "content_same": false
        },
        {
          "line": 4278,
          "old_api": "createSqlFunctionCtx",
          "new_api": "initResultRowInfo",
          "old_text": "createSqlFunctionCtx(pScalarExprInfo, numOfCols, &pInfo->rowCellInfoOffset)",
          "new_text": "initResultRowInfo(&pInfo->binfo.resultRowInfo, numOfGroup)",
          "old_line_content": "    pInfo->pScalarCtx = createSqlFunctionCtx(pScalarExprInfo, numOfCols, &pInfo->rowCellInfoOffset);",
          "new_line_content": "  initResultRowInfo(&pInfo->binfo.resultRowInfo, numOfGroup);",
          "content_same": false
        },
        {
          "line": 4313,
          "old_api": "cleanupResultRowInfo",
          "new_api": "assert",
          "old_text": "cleanupResultRowInfo(&pInfo->resultRowInfo)",
          "new_text": "assert(pInfo != NULL)",
          "old_line_content": "  cleanupResultRowInfo(&pInfo->resultRowInfo);",
          "new_line_content": "  assert(pInfo != NULL);",
          "content_same": false
        },
        {
          "line": 4319,
          "old_api": "doDestroyBasicInfo",
          "new_api": "blockDataDestroy",
          "old_text": "doDestroyBasicInfo(pInfo, numOfOutput)",
          "new_text": "blockDataDestroy(pInfo->pRes)",
          "old_line_content": "  doDestroyBasicInfo(pInfo, numOfOutput);",
          "new_line_content": "  pInfo->pRes = blockDataDestroy(pInfo->pRes);",
          "content_same": false
        },
        {
          "line": 4329,
          "old_api": "taosDestroyFillInfo",
          "new_api": "doDestroyBasicInfo",
          "old_text": "taosDestroyFillInfo(pInfo->pFillInfo)",
          "new_text": "doDestroyBasicInfo(&pInfo->binfo, numOfOutput)",
          "old_line_content": "  pInfo->pFillInfo = taosDestroyFillInfo(pInfo->pFillInfo);",
          "new_line_content": "  doDestroyBasicInfo(&pInfo->binfo, numOfOutput);",
          "content_same": false
        },
        {
          "line": 4352,
          "old_api": "tsem_destroy",
          "new_api": "taosArrayDestroy",
          "old_text": "tsem_destroy(&pExInfo->ready)",
          "new_text": "taosArrayDestroy(pExInfo->pSourceDataInfo)",
          "old_line_content": "  tsem_destroy(&pExInfo->ready);",
          "new_line_content": "  taosArrayDestroy(pExInfo->pSourceDataInfo);",
          "content_same": false
        },
        {
          "line": 4425,
          "old_api": "taosMemoryCalloc",
          "new_api": "getAlignQueryTimeWindow",
          "old_text": "taosMemoryCalloc(numOfCols, POINTER_BYTES)",
          "new_text": "getAlignQueryTimeWindow(pInterval, pInterval->precision, win.skey, &w)",
          "old_line_content": "  pInfo->p = taosMemoryCalloc(numOfCols, POINTER_BYTES);",
          "new_line_content": "  getAlignQueryTimeWindow(pInterval, pInterval->precision, win.skey, &w);",
          "content_same": false
        },
        {
          "line": 4492,
          "old_api": "taosMemoryFreeClear",
          "new_api": "appendDownstream",
          "old_text": "taosMemoryFreeClear(pInfo)",
          "new_text": "appendDownstream(pOperator, &downstream, 1)",
          "old_line_content": "  taosMemoryFreeClear(pInfo);",
          "new_line_content": "  code = appendDownstream(pOperator, &downstream, 1);",
          "content_same": false
        },
        {
          "line": 4540,
          "old_api": "nodesListGetNode",
          "new_api": "taosMemoryCalloc",
          "old_text": "nodesListGetNode(pNodeList, i)",
          "new_text": "taosMemoryCalloc(*numOfExprs, sizeof(SExprInfo))",
          "old_line_content": "      pTargetNode = (STargetNode*)nodesListGetNode(pNodeList, i);",
          "new_line_content": "  SExprInfo* pExprs = taosMemoryCalloc(*numOfExprs, sizeof(SExprInfo));",
          "content_same": false
        },
        {
          "line": 4547,
          "old_api": "taosMemoryCalloc",
          "new_api": "nodesListGetNode",
          "old_text": "taosMemoryCalloc(1, sizeof(tExprNode))",
          "new_text": "nodesListGetNode(pGroupKeys, i - numOfFuncs)",
          "old_line_content": "    pExp->pExpr = taosMemoryCalloc(1, sizeof(tExprNode));",
          "new_line_content": "      pTargetNode = (STargetNode*)nodesListGetNode(pGroupKeys, i - numOfFuncs);",
          "content_same": false
        },
        {
          "line": 4593,
          "old_api": "nodesMakeList",
          "new_api": "strncpy",
          "old_text": "nodesMakeList()",
          "new_text": "strncpy(pExp->pExpr->_function.functionName, pFuncNode->functionName,\n              tListLen(pExp->pExpr->_function.functionName))",
          "old_line_content": "        pFuncNode->pParameterList = nodesMakeList();",
          "new_line_content": "      strncpy(pExp->pExpr->_function.functionName, pFuncNode->functionName,",
          "content_same": false
        },
        {
          "line": 4594,
          "old_api": "LIST_LENGTH",
          "new_api": "tListLen",
          "old_text": "LIST_LENGTH(pFuncNode->pParameterList)",
          "new_text": "tListLen(pExp->pExpr->_function.functionName)",
          "old_line_content": "        ASSERT(LIST_LENGTH(pFuncNode->pParameterList) == 0);",
          "new_line_content": "              tListLen(pExp->pExpr->_function.functionName));",
          "content_same": false
        },
        {
          "line": 4599,
          "old_api": "nodesListAppend",
          "new_api": "LIST_LENGTH",
          "old_text": "nodesListAppend(pFuncNode->pParameterList, res)",
          "new_text": "LIST_LENGTH(pFuncNode->pParameterList)",
          "old_line_content": "          nodesListAppend(pFuncNode->pParameterList, res);",
          "new_line_content": "        ASSERT(LIST_LENGTH(pFuncNode->pParameterList) == 0);",
          "content_same": false
        },
        {
          "line": 4604,
          "old_api": "LIST_LENGTH",
          "new_api": "nodesListAppend",
          "old_text": "LIST_LENGTH(pFuncNode->pParameterList)",
          "new_text": "nodesListAppend(pFuncNode->pParameterList, res)",
          "old_line_content": "      int32_t numOfParam = LIST_LENGTH(pFuncNode->pParameterList);",
          "new_line_content": "          nodesListAppend(pFuncNode->pParameterList, res);",
          "content_same": false
        },
        {
          "line": 4615,
          "old_api": "createColumn",
          "new_api": "nodesListGetNode",
          "old_text": "createColumn(pcn->dataBlockId, pcn->slotId, pcn->colId, &pcn->node.resType)",
          "new_text": "nodesListGetNode(pFuncNode->pParameterList, j)",
          "old_line_content": "          pExp->base.pParam[j].pCol = createColumn(pcn->dataBlockId, pcn->slotId, pcn->colId, &pcn->node.resType);",
          "new_line_content": "        SNode* p1 = nodesListGetNode(pFuncNode->pParameterList, j);",
          "content_same": false
        },
        {
          "line": 4650,
          "old_api": "snprintf",
          "new_api": "taosGetTimestampMs",
          "old_text": "snprintf(p, 128, \"TID:0x%\" PRIx64 \" QID:0x%\" PRIx64, taskId, queryId)",
          "new_text": "taosGetTimestampMs()",
          "old_line_content": "  snprintf(p, 128, \"TID:0x%\" PRIx64 \" QID:0x%\" PRIx64, taskId, queryId);",
          "new_line_content": "  pTaskInfo->cost.created = taosGetTimestampMs();",
          "content_same": false
        },
        {
          "line": 4680,
          "old_api": "createTableScanOperatorInfo",
          "new_api": "doCreateDataReader",
          "old_text": "createTableScanOperatorInfo(pTableScanNode, pDataReader, pHandle, pTaskInfo)",
          "new_text": "doCreateDataReader(pTableScanNode, pHandle, pTableGroupInfo, (uint64_t)queryId, taskId)",
          "old_line_content": "      SOperatorInfo* pOperator = createTableScanOperatorInfo(pTableScanNode, pDataReader, pHandle, pTaskInfo);",
          "new_line_content": "      tsdbReaderT pDataReader = doCreateDataReader(pTableScanNode, pHandle, pTableGroupInfo, (uint64_t)queryId, taskId);",
          "content_same": false
        },
        {
          "line": 4705,
          "old_api": "qDebug",
          "new_api": "doCreateTableGroup",
          "old_text": "qDebug(\"pDataReader is     NULL\")",
          "new_text": "doCreateTableGroup(pHandle->meta, pScanPhyNode->tableType, pScanPhyNode->uid, pTableGroupInfo, \n            queryId, taskId)",
          "old_line_content": "        qDebug(\"pDataReader is     NULL\");",
          "new_line_content": "        doCreateTableGroup(pHandle->meta, pScanPhyNode->tableType, pScanPhyNode->uid, pTableGroupInfo, ",
          "content_same": false
        },
        {
          "line": 4717,
          "old_api": "extractColMatchInfo",
          "new_api": "createTableScanOperatorInfo",
          "old_text": "extractColMatchInfo(pScanPhyNode->pScanCols, pDescNode, &numOfCols, COL_MATCH_FROM_COL_ID)",
          "new_text": "createTableScanOperatorInfo(pTableScanNode, pDataReader, pHandle, pTaskInfo)",
          "old_line_content": "      SArray*        pCols = extractColMatchInfo(pScanPhyNode->pScanCols, pDescNode, &numOfCols, COL_MATCH_FROM_COL_ID);",
          "new_line_content": "      SOperatorInfo* pOperatorDumy = createTableScanOperatorInfo(pTableScanNode, pDataReader, pHandle, pTaskInfo);",
          "content_same": false
        },
        {
          "line": 4720,
          "old_api": "taosArrayDestroy",
          "new_api": "createResDataBlock",
          "old_text": "taosArrayDestroy(tableIdList)",
          "new_text": "createResDataBlock(pDescNode)",
          "old_line_content": "      taosArrayDestroy(tableIdList);",
          "new_line_content": "      SSDataBlock*        pResBlock = createResDataBlock(pDescNode);",
          "content_same": false
        },
        {
          "line": 4765,
          "old_api": "LIST_LENGTH",
          "new_api": "ASSERT",
          "old_text": "LIST_LENGTH(pPhyNode->pChildren)",
          "new_text": "ASSERT(0)",
          "old_line_content": "  size_t  size = LIST_LENGTH(pPhyNode->pChildren);",
          "new_line_content": "      ASSERT(0);",
          "content_same": false
        },
        {
          "line": 4770,
          "old_api": "createOperatorTree",
          "new_api": "LIST_LENGTH",
          "old_text": "createOperatorTree(pChildNode, pTaskInfo, pHandle, queryId, taskId, pTableGroupInfo)",
          "new_text": "LIST_LENGTH(pPhyNode->pChildren)",
          "old_line_content": "    ops[i] = createOperatorTree(pChildNode, pTaskInfo, pHandle, queryId, taskId, pTableGroupInfo);",
          "new_line_content": "  size_t  size = LIST_LENGTH(pPhyNode->pChildren);",
          "content_same": false
        },
        {
          "line": 4784,
          "old_api": "createProjectOperatorInfo",
          "new_api": "createExprInfo",
          "old_text": "createProjectOperatorInfo(ops[0], pExprInfo, num, pResBlock, &limit, &slimit, pTaskInfo)",
          "new_text": "createExprInfo(pProjPhyNode->pProjections, NULL, &num)",
          "old_line_content": "    pOptr = createProjectOperatorInfo(ops[0], pExprInfo, num, pResBlock, &limit, &slimit, pTaskInfo);",
          "new_line_content": "    SExprInfo*         pExprInfo = createExprInfo(pProjPhyNode->pProjections, NULL, &num);",
          "content_same": false
        },
        {
          "line": 4793,
          "old_api": "createExprInfo",
          "new_api": "createResDataBlock",
          "old_text": "createExprInfo(pAggNode->pExprs, NULL, &numOfScalarExpr)",
          "new_text": "createResDataBlock(pPhyNode->pOutputDataBlockDesc)",
          "old_line_content": "      pScalarExprInfo = createExprInfo(pAggNode->pExprs, NULL, &numOfScalarExpr);",
          "new_line_content": "    SSDataBlock*   pResBlock = createResDataBlock(pPhyNode->pOutputDataBlockDesc);",
          "content_same": false
        },
        {
          "line": 4798,
          "old_api": "createGroupOperatorInfo",
          "new_api": "createExprInfo",
          "old_text": "createGroupOperatorInfo(ops[0], pExprInfo, num, pResBlock, pColList, pAggNode->node.pConditions,\n                                      pScalarExprInfo, numOfScalarExpr, pTaskInfo, NULL)",
          "new_text": "createExprInfo(pAggNode->pExprs, NULL, &numOfScalarExpr)",
          "old_line_content": "      pOptr = createGroupOperatorInfo(ops[0], pExprInfo, num, pResBlock, pColList, pAggNode->node.pConditions,",
          "new_line_content": "      pScalarExprInfo = createExprInfo(pAggNode->pExprs, NULL, &numOfScalarExpr);",
          "content_same": false
        },
        {
          "line": 4838,
          "old_api": "createSortOperatorInfo",
          "new_api": "createExprInfo",
          "old_text": "createSortOperatorInfo(ops[0], pResBlock, info, pExprInfo, numOfCols, pColList, pTaskInfo)",
          "new_text": "createExprInfo(pSortPhyNode->pExprs, NULL, &numOfCols)",
          "old_line_content": "    pOptr = createSortOperatorInfo(ops[0], pResBlock, info, pExprInfo, numOfCols, pColList, pTaskInfo);",
          "new_line_content": "    SExprInfo* pExprInfo = createExprInfo(pSortPhyNode->pExprs, NULL, &numOfCols);",
          "content_same": false
        },
        {
          "line": 4850,
          "old_api": "createSessionAggOperatorInfo",
          "new_api": "createExprInfo",
          "old_text": "createSessionAggOperatorInfo(ops[0], pExprInfo, num, pResBlock, pSessionNode->gap, tsSlotId, &as, pTaskInfo)",
          "new_text": "createExprInfo(pSessionNode->window.pFuncs, NULL, &num)",
          "old_line_content": "        createSessionAggOperatorInfo(ops[0], pExprInfo, num, pResBlock, pSessionNode->gap, tsSlotId, &as, pTaskInfo);",
          "new_line_content": "    SExprInfo*   pExprInfo = createExprInfo(pSessionNode->window.pFuncs, NULL, &num);",
          "content_same": false
        },
        {
          "line": 4868,
          "old_api": "extractColumnFromColumnNode",
          "new_api": "createExprInfo",
          "old_text": "extractColumnFromColumnNode(pColNode)",
          "new_text": "createExprInfo(pStateNode->window.pFuncs, NULL, &num)",
          "old_line_content": "    SColumn col = extractColumnFromColumnNode(pColNode);",
          "new_line_content": "    SExprInfo*   pExprInfo = createExprInfo(pStateNode->window.pFuncs, NULL, &num);",
          "content_same": false
        },
        {
          "line": 4869,
          "old_api": "createStatewindowOperatorInfo",
          "new_api": "createResDataBlock",
          "old_text": "createStatewindowOperatorInfo(ops[0], pExprInfo, num, pResBlock, &as, tsSlotId, &col, pTaskInfo)",
          "new_text": "createResDataBlock(pPhyNode->pOutputDataBlockDesc)",
          "old_line_content": "    pOptr = createStatewindowOperatorInfo(ops[0], pExprInfo, num, pResBlock, &as, tsSlotId, &col, pTaskInfo);",
          "new_line_content": "    SSDataBlock* pResBlock = createResDataBlock(pPhyNode->pOutputDataBlockDesc);",
          "content_same": false
        },
        {
          "line": 4874,
          "old_api": "createExprInfo",
          "new_api": "createStatewindowOperatorInfo",
          "old_text": "createExprInfo(pJoinNode->pTargets, NULL, &num)",
          "new_text": "createStatewindowOperatorInfo(ops[0], pExprInfo, num, pResBlock, &as, tsSlotId, &col, pTaskInfo)",
          "old_line_content": "    SExprInfo* pExprInfo = createExprInfo(pJoinNode->pTargets, NULL, &num);",
          "new_line_content": "    pOptr = createStatewindowOperatorInfo(ops[0], pExprInfo, num, pResBlock, &as, tsSlotId, &col, pTaskInfo);",
          "content_same": false
        },
        {
          "line": 4959,
          "old_api": "extractColumnFromColumnNode",
          "new_api": "nodesListGetNode",
          "old_text": "extractColumnFromColumnNode(pColNode)",
          "new_text": "nodesListGetNode(pNodeList, i)",
          "old_line_content": "      SColumn c = extractColumnFromColumnNode(pColNode);",
          "new_line_content": "    STargetNode* pNode = (STargetNode*)nodesListGetNode(pNodeList, i);",
          "content_same": false
        },
        {
          "line": 5093,
          "old_api": "taosArrayGet",
          "new_api": "taosArrayGetSize",
          "old_text": "taosArrayGet(pa, i)",
          "new_text": "taosArrayGetSize(pTableGroupInfo->pGroupList)",
          "old_line_content": "      STableKeyInfo* pkeyInfo = taosArrayGet(pa, i);",
          "new_line_content": "    ASSERT(taosArrayGetSize(pTableGroupInfo->pGroupList) == 1);",
          "content_same": false
        },
        {
          "line": 5117,
          "old_api": "initQueryTableDataCond",
          "new_api": "qDebug",
          "old_text": "initQueryTableDataCond(&cond, pTableScanNode)",
          "new_text": "qDebug(\"no table qualified for query, TID:0x%\" PRIx64 \", QID:0x%\" PRIx64, taskId, queryId)",
          "old_line_content": "  code = initQueryTableDataCond(&cond, pTableScanNode);",
          "new_line_content": "    qDebug(\"no table qualified for query, TID:0x%\" PRIx64 \", QID:0x%\" PRIx64, taskId, queryId);",
          "content_same": false
        },
        {
          "line": 5122,
          "old_api": "tsdbQueryTables",
          "new_api": "initQueryTableDataCond",
          "old_text": "tsdbQueryTables(pHandle->vnode, &cond, pTableGroupInfo, queryId, taskId)",
          "new_text": "initQueryTableDataCond(&cond, pTableScanNode)",
          "old_line_content": "  return tsdbQueryTables(pHandle->vnode, &cond, pTableGroupInfo, queryId, taskId);",
          "new_line_content": "  code = initQueryTableDataCond(&cond, pTableScanNode);",
          "content_same": false
        },
        {
          "line": 5202,
          "old_api": "taosArrayGetSize",
          "new_api": "taosMemoryFree",
          "old_text": "taosArrayGetSize(pTableqinfoGroupInfo->pGroupList)",
          "new_text": "taosMemoryFree(pFilter)",
          "old_line_content": "    int32_t numOfGroups = (int32_t)taosArrayGetSize(pTableqinfoGroupInfo->pGroupList);",
          "new_line_content": "  taosMemoryFree(pFilter);",
          "content_same": false
        },
        {
          "line": 5209,
          "old_api": "destroyTableQueryInfoImpl",
          "new_api": "taosArrayGetP",
          "old_text": "destroyTableQueryInfoImpl(item)",
          "new_text": "taosArrayGetP(pTableqinfoGroupInfo->pGroupList, i)",
          "old_line_content": "        destroyTableQueryInfoImpl(item);",
          "new_line_content": "      SArray* p = taosArrayGetP(pTableqinfoGroupInfo->pGroupList, i);",
          "content_same": false
        },
        {
          "line": 5217,
          "old_api": "taosHashCleanup",
          "new_api": "taosArrayDestroy",
          "old_text": "taosHashCleanup(pTableqinfoGroupInfo->map)",
          "new_text": "taosArrayDestroy(p)",
          "old_line_content": "  taosHashCleanup(pTableqinfoGroupInfo->map);",
          "new_line_content": "      taosArrayDestroy(p);",
          "content_same": false
        },
        {
          "line": 5232,
          "old_api": "taosMemoryFreeClear",
          "new_api": "doDestroyTableQueryInfo",
          "old_text": "taosMemoryFreeClear(pTaskInfo->sql)",
          "new_text": "doDestroyTableQueryInfo(&pTaskInfo->tableqinfoGroupInfo)",
          "old_line_content": "  taosMemoryFreeClear(pTaskInfo->sql);",
          "new_line_content": "  doDestroyTableQueryInfo(&pTaskInfo->tableqinfoGroupInfo);",
          "content_same": false
        },
        {
          "line": 5233,
          "old_api": "taosMemoryFreeClear",
          "new_api": "destroyOperatorInfo",
          "old_text": "taosMemoryFreeClear(pTaskInfo->id.str)",
          "new_text": "destroyOperatorInfo(pTaskInfo->pRoot)",
          "old_line_content": "  taosMemoryFreeClear(pTaskInfo->id.str);",
          "new_line_content": "  destroyOperatorInfo(pTaskInfo->pRoot);",
          "content_same": false
        },
        {
          "line": 5239,
          "old_api": "setNull",
          "new_api": "taosMemoryFreeClear",
          "old_text": "setNull(output, type, bytes)",
          "new_text": "taosMemoryFreeClear(pTaskInfo)",
          "old_line_content": "    setNull(output, type, bytes);",
          "new_line_content": "  taosMemoryFreeClear(pTaskInfo);",
          "content_same": false
        },
        {
          "line": 5248,
          "old_api": "varDataVal",
          "new_api": "IS_VAR_DATA_TYPE",
          "old_text": "varDataVal(val)",
          "new_text": "IS_VAR_DATA_TYPE(type)",
          "old_line_content": "      memcpy(varDataVal(output), varDataVal(val), len);",
          "new_line_content": "  if (IS_VAR_DATA_TYPE(type)) {",
          "content_same": false
        },
        {
          "line": 5254,
          "old_api": "memcpy",
          "new_api": "varDataSetLen",
          "old_text": "memcpy(output, val, bytes)",
          "new_text": "varDataSetLen(output, len)",
          "old_line_content": "    memcpy(output, val, bytes);",
          "new_line_content": "      varDataSetLen(output, len);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 4097,
          "old_api": null,
          "new_api": "blockDataEnsureCapacity",
          "old_text": null,
          "new_text": "blockDataEnsureCapacity(pResBlock, pOperator->resultInfo.capacity)",
          "old_line_content": "      // 1. The result in current group not reach the threshold of output result, continue",
          "new_line_content": "    blockDataEnsureCapacity(pResBlock, pOperator->resultInfo.capacity);",
          "content_same": false
        },
        {
          "line": 4098,
          "old_api": null,
          "new_api": "doFillTimeIntervalGapsInResults",
          "old_text": null,
          "new_text": "doFillTimeIntervalGapsInResults(pInfo->pFillInfo, pResBlock, pOperator->resultInfo.capacity)",
          "old_line_content": "      // 2. If multiple group results existing in one SSDataBlock is not allowed, return immediately",
          "new_line_content": "    doFillTimeIntervalGapsInResults(pInfo->pFillInfo, pResBlock, pOperator->resultInfo.capacity);",
          "content_same": false
        },
        {
          "line": 4113,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(pBlock != NULL)",
          "old_line_content": "    } else {",
          "new_line_content": "      assert(pBlock != NULL);",
          "content_same": false
        },
        {
          "line": 4114,
          "old_api": null,
          "new_api": "doHandleRemainBlockForNewGroupImpl",
          "old_text": null,
          "new_text": "doHandleRemainBlockForNewGroupImpl(pInfo, pResultInfo, newgroup, pTaskInfo)",
          "old_line_content": "      return NULL;",
          "new_line_content": "      doHandleRemainBlockForNewGroupImpl(pInfo, pResultInfo, newgroup, pTaskInfo);",
          "content_same": false
        },
        {
          "line": 2069,
          "old_api": null,
          "new_api": "colDataIsNull_s",
          "old_text": null,
          "new_text": "colDataIsNull_s(pSrc, j)",
          "old_line_content": "        numOfRows += 1;",
          "new_line_content": "        if (colDataIsNull_s(pSrc, j)) {",
          "content_same": false
        },
        {
          "line": 2070,
          "old_api": null,
          "new_api": "colDataAppendNULL",
          "old_text": null,
          "new_text": "colDataAppendNULL(pDst, numOfRows)",
          "old_line_content": "      }",
          "new_line_content": "          colDataAppendNULL(pDst, numOfRows);",
          "content_same": false
        },
        {
          "line": 2072,
          "old_api": null,
          "new_api": "colDataGetData",
          "old_text": null,
          "new_text": "colDataGetData(pSrc, j)",
          "old_line_content": "      if (pBlock->info.rows == totalRows) {",
          "new_line_content": "          colDataAppend(pDst, numOfRows, colDataGetData(pSrc, j), false);",
          "content_same": false
        },
        {
          "line": 4127,
          "old_api": null,
          "new_api": "getExprFunctionId",
          "old_text": null,
          "new_text": "getExprFunctionId(&pQueryAttr->pExpr1[i])",
          "old_line_content": "",
          "new_line_content": "    int32_t functionId = getExprFunctionId(&pQueryAttr->pExpr1[i]);",
          "content_same": false
        },
        {
          "line": 2080,
          "old_api": null,
          "new_api": "ASSERT",
          "old_text": null,
          "new_text": "ASSERT(pBlock->info.rows == numOfRows)",
          "old_line_content": "  } else {",
          "new_line_content": "        ASSERT(pBlock->info.rows == numOfRows);",
          "content_same": false
        },
        {
          "line": 4147,
          "old_api": null,
          "new_api": "destroyOperatorInfo",
          "old_text": null,
          "new_text": "destroyOperatorInfo(pOperator->pDownstream[i])",
          "old_line_content": "  }",
          "new_line_content": "      destroyOperatorInfo(pOperator->pDownstream[i]);",
          "content_same": false
        },
        {
          "line": 2100,
          "old_api": null,
          "new_api": "doSetResultOutBufByKey",
          "old_text": null,
          "new_text": "doSetResultOutBufByKey(pAggInfo->aggSup.pResultBuf, pResultRowInfo, (char*)&groupId,\n                                                  sizeof(groupId), true, groupId, pTaskInfo, false, &pAggInfo->aggSup)",
          "old_line_content": "   * not assign result buffer yet, add new result buffer",
          "new_line_content": "  SResultRow* pResultRow = doSetResultOutBufByKey(pAggInfo->aggSup.pResultBuf, pResultRowInfo, (char*)&groupId,",
          "content_same": false
        },
        {
          "line": 2102,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(pResultRow != NULL)",
          "old_line_content": "   */",
          "new_line_content": "  assert(pResultRow != NULL);",
          "content_same": false
        },
        {
          "line": 4150,
          "old_api": null,
          "new_api": "taosMemoryFreeClear",
          "old_text": null,
          "new_text": "taosMemoryFreeClear(pOperator->pDownstream)",
          "old_line_content": "    for (int32_t i = 0; i < pOperator->numOfExprs; ++i) {",
          "new_line_content": "    taosMemoryFreeClear(pOperator->pDownstream);",
          "content_same": false
        },
        {
          "line": 4158,
          "old_api": null,
          "new_api": "taosMemoryFree",
          "old_text": null,
          "new_text": "taosMemoryFree(pExprInfo->base.pParam[0].pCol)",
          "old_line_content": "  }",
          "new_line_content": "        taosMemoryFree(pExprInfo->base.pParam[0].pCol);",
          "content_same": false
        },
        {
          "line": 2110,
          "old_api": null,
          "new_api": "addNewWindowResultBuf",
          "old_text": null,
          "new_text": "addNewWindowResultBuf(pResultRow, pAggInfo->aggSup.pResultBuf, groupId, pAggInfo->binfo.pRes->info.rowSize)",
          "old_line_content": "",
          "new_line_content": "        addNewWindowResultBuf(pResultRow, pAggInfo->aggSup.pResultBuf, groupId, pAggInfo->binfo.pRes->info.rowSize);",
          "content_same": false
        },
        {
          "line": 2116,
          "old_api": null,
          "new_api": "setResultRowInitCtx",
          "old_text": null,
          "new_text": "setResultRowInitCtx(pResultRow, pCtx, numOfOutput, rowCellInfoOffset)",
          "old_line_content": "    return;",
          "new_line_content": "  setResultRowInitCtx(pResultRow, pCtx, numOfOutput, rowCellInfoOffset);",
          "content_same": false
        },
        {
          "line": 4165,
          "old_api": null,
          "new_api": "taosMemoryFreeClear",
          "old_text": null,
          "new_text": "taosMemoryFreeClear(pOperator->pExpr)",
          "old_line_content": "int32_t doInitAggInfoSup(SAggSupporter* pAggSup, SqlFunctionCtx* pCtx, int32_t numOfOutput, size_t keyBufSize,",
          "new_line_content": "  taosMemoryFreeClear(pOperator->pExpr);",
          "content_same": false
        },
        {
          "line": 4166,
          "old_api": null,
          "new_api": "taosMemoryFreeClear",
          "old_text": null,
          "new_text": "taosMemoryFreeClear(pOperator->info)",
          "old_line_content": "                         const char* pKey) {",
          "new_line_content": "  taosMemoryFreeClear(pOperator->info);",
          "content_same": false
        },
        {
          "line": 2124,
          "old_api": null,
          "new_api": "doSetTableGroupOutputBuf",
          "old_text": null,
          "new_text": "doSetTableGroupOutputBuf(pAggInfo, numOfOutput, groupId, pTaskInfo)",
          "old_line_content": "",
          "new_line_content": "  doSetTableGroupOutputBuf(pAggInfo, numOfOutput, groupId, pTaskInfo);",
          "content_same": false
        },
        {
          "line": 4172,
          "old_api": null,
          "new_api": "taosGetDefaultHashFunction",
          "old_text": null,
          "new_text": "taosGetDefaultHashFunction(TSDB_DATA_TYPE_BINARY)",
          "old_line_content": "",
          "new_line_content": "  _hash_fn_t hashFn = taosGetDefaultHashFunction(TSDB_DATA_TYPE_BINARY);",
          "content_same": false
        },
        {
          "line": 4174,
          "old_api": null,
          "new_api": "getResultRowSize",
          "old_text": null,
          "new_text": "getResultRowSize(pCtx, numOfOutput)",
          "old_line_content": "    return TSDB_CODE_OUT_OF_MEMORY;",
          "new_line_content": "  pAggSup->resultRowSize = getResultRowSize(pCtx, numOfOutput);",
          "content_same": false
        },
        {
          "line": 4175,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(1, keyBufSize + POINTER_BYTES + sizeof(int64_t))",
          "old_line_content": "  }",
          "new_line_content": "  pAggSup->keyBuf = taosMemoryCalloc(1, keyBufSize + POINTER_BYTES + sizeof(int64_t));",
          "content_same": false
        },
        {
          "line": 4176,
          "old_api": null,
          "new_api": "taosHashInit",
          "old_text": null,
          "new_text": "taosHashInit(10, hashFn, true, HASH_NO_LOCK)",
          "old_line_content": "",
          "new_line_content": "  pAggSup->pResultRowHashTable = taosHashInit(10, hashFn, true, HASH_NO_LOCK);",
          "content_same": false
        },
        {
          "line": 2140,
          "old_api": null,
          "new_api": "getNumOfTotalRes",
          "old_text": null,
          "new_text": "getNumOfTotalRes(pGroupResInfo)",
          "old_line_content": "",
          "new_line_content": "  int32_t numOfRows = getNumOfTotalRes(pGroupResInfo);",
          "content_same": false
        },
        {
          "line": 4193,
          "old_api": null,
          "new_api": "createDiskbasedBuf",
          "old_text": null,
          "new_text": "createDiskbasedBuf(&pAggSup->pResultBuf, defaultPgsz, defaultBufsz, pKey, \"/tmp/\")",
          "old_line_content": "  return TSDB_CODE_SUCCESS;",
          "new_line_content": "  int32_t code = createDiskbasedBuf(&pAggSup->pResultBuf, defaultPgsz, defaultBufsz, pKey, \"/tmp/\");",
          "content_same": false
        },
        {
          "line": 2147,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(orderType == TSDB_ORDER_ASC || orderType == TSDB_ORDER_DESC)",
          "old_line_content": "    start = numOfRows - pGroupResInfo->index - 1;",
          "new_line_content": "  assert(orderType == TSDB_ORDER_ASC || orderType == TSDB_ORDER_DESC);",
          "content_same": false
        },
        {
          "line": 4202,
          "old_api": null,
          "new_api": "taosMemoryFreeClear",
          "old_text": null,
          "new_text": "taosMemoryFreeClear(pAggSup->keyBuf)",
          "old_line_content": "int32_t initAggInfo(SOptrBasicInfo* pBasicInfo, SAggSupporter* pAggSup, SExprInfo* pExprInfo, int32_t numOfCols,",
          "new_line_content": "  taosMemoryFreeClear(pAggSup->keyBuf);",
          "content_same": false
        },
        {
          "line": 4203,
          "old_api": null,
          "new_api": "taosHashCleanup",
          "old_text": null,
          "new_text": "taosHashCleanup(pAggSup->pResultRowHashTable)",
          "old_line_content": "                    SSDataBlock* pResultBlock, size_t keyBufSize, const char* pkey) {",
          "new_line_content": "  taosHashCleanup(pAggSup->pResultRowHashTable);",
          "content_same": false
        },
        {
          "line": 2156,
          "old_api": null,
          "new_api": "taosArrayGetP",
          "old_text": null,
          "new_text": "taosArrayGetP(pGroupResInfo->pRows, i)",
          "old_line_content": "      pGroupResInfo->index += 1;",
          "new_line_content": "    SResKeyPos* pPos = taosArrayGetP(pGroupResInfo->pRows, i);",
          "content_same": false
        },
        {
          "line": 2157,
          "old_api": null,
          "new_api": "getBufPage",
          "old_text": null,
          "new_text": "getBufPage(pBuf, pPos->pos.pageId)",
          "old_line_content": "      continue;",
          "new_line_content": "    SFilePage*  page = getBufPage(pBuf, pPos->pos.pageId);",
          "content_same": false
        },
        {
          "line": 4209,
          "old_api": null,
          "new_api": "createSqlFunctionCtx",
          "old_text": null,
          "new_text": "createSqlFunctionCtx(pExprInfo, numOfCols, &pBasicInfo->rowCellInfoOffset)",
          "old_line_content": "  for (int32_t i = 0; i < numOfCols; ++i) {",
          "new_line_content": "  pBasicInfo->pCtx = createSqlFunctionCtx(pExprInfo, numOfCols, &pBasicInfo->rowCellInfoOffset);",
          "content_same": false
        },
        {
          "line": 4212,
          "old_api": null,
          "new_api": "doInitAggInfoSup",
          "old_text": null,
          "new_text": "doInitAggInfoSup(pAggSup, pBasicInfo->pCtx, numOfCols, keyBufSize, pkey)",
          "old_line_content": "",
          "new_line_content": "  doInitAggInfoSup(pAggSup, pBasicInfo->pCtx, numOfCols, keyBufSize, pkey);",
          "content_same": false
        },
        {
          "line": 2176,
          "old_api": null,
          "new_api": "getResultCell",
          "old_text": null,
          "new_text": "getResultCell(pRow, j, rowCellOffset)",
          "old_line_content": "          taskInfo->code = code;",
          "new_line_content": "      pCtx[j].resultInfo = getResultCell(pRow, j, rowCellOffset);",
          "content_same": false
        },
        {
          "line": 2178,
          "old_api": null,
          "new_api": "finalize",
          "old_text": null,
          "new_text": "pCtx[j].fpSet.finalize(&pCtx[j], pBlock)",
          "old_line_content": "        }",
          "new_line_content": "        int32_t code = pCtx[j].fpSet.finalize(&pCtx[j], pBlock);",
          "content_same": false
        },
        {
          "line": 2180,
          "old_api": null,
          "new_api": "tstrerror",
          "old_text": null,
          "new_text": "tstrerror(code)",
          "old_line_content": "        // do nothing, todo refactor",
          "new_line_content": "          qError(\"%s build result data block error, code %s\", GET_TASKID(taskInfo), tstrerror(code));",
          "content_same": false
        },
        {
          "line": 2182,
          "old_api": null,
          "new_api": "longjmp",
          "old_text": null,
          "new_text": "longjmp(taskInfo->env, code)",
          "old_line_content": "        // expand the result into multiple rows. E.g., _wstartts, top(k, 20)",
          "new_line_content": "          longjmp(taskInfo->env, code);",
          "content_same": false
        },
        {
          "line": 4235,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(pTableGroupInfo->numOfTables, sizeof(STableQueryInfo))",
          "old_line_content": "  int32_t index = 0;",
          "new_line_content": "  STableQueryInfo* pTableQueryInfo = taosMemoryCalloc(pTableGroupInfo->numOfTables, sizeof(STableQueryInfo));",
          "content_same": false
        },
        {
          "line": 2189,
          "old_api": null,
          "new_api": "taosArrayGet",
          "old_text": null,
          "new_text": "taosArrayGet(pBlock->pDataBlock, slotId)",
          "old_line_content": "      }",
          "new_line_content": "          SColumnInfoData* pColInfoData = taosArrayGet(pBlock->pDataBlock, slotId);",
          "content_same": false
        },
        {
          "line": 2190,
          "old_api": null,
          "new_api": "GET_ROWCELL_INTERBUF",
          "old_text": null,
          "new_text": "GET_ROWCELL_INTERBUF(pCtx[j].resultInfo)",
          "old_line_content": "    }",
          "new_line_content": "          char* in = GET_ROWCELL_INTERBUF(pCtx[j].resultInfo);",
          "content_same": false
        },
        {
          "line": 4241,
          "old_api": null,
          "new_api": "taosArrayGetSize",
          "old_text": null,
          "new_text": "taosArrayGetSize(pTableGroupInfo->pGroupList)",
          "old_line_content": "      pTQueryInfo->lastKey = pk->lastKey;",
          "new_line_content": "  for (int32_t i = 0; i < taosArrayGetSize(pTableGroupInfo->pGroupList); ++i) {",
          "content_same": false
        },
        {
          "line": 4242,
          "old_api": null,
          "new_api": "taosArrayGetP",
          "old_text": null,
          "new_text": "taosArrayGetP(pTableGroupInfo->pGroupList, i)",
          "old_line_content": "    }",
          "new_line_content": "    SArray* pa = taosArrayGetP(pTableGroupInfo->pGroupList, i);",
          "content_same": false
        },
        {
          "line": 4243,
          "old_api": null,
          "new_api": "taosArrayGetSize",
          "old_text": null,
          "new_text": "taosArrayGetSize(pa)",
          "old_line_content": "  }",
          "new_line_content": "    for (int32_t j = 0; j < taosArrayGetSize(pa); ++j) {",
          "content_same": false
        },
        {
          "line": 4244,
          "old_api": null,
          "new_api": "taosArrayGet",
          "old_text": null,
          "new_text": "taosArrayGet(pa, j)",
          "old_line_content": "",
          "new_line_content": "      STableKeyInfo* pk = taosArrayGet(pa, j);",
          "content_same": false
        },
        {
          "line": 2197,
          "old_api": null,
          "new_api": "releaseBufPage",
          "old_text": null,
          "new_text": "releaseBufPage(pBuf, page)",
          "old_line_content": "    }",
          "new_line_content": "    releaseBufPage(pBuf, page);",
          "content_same": false
        },
        {
          "line": 4251,
          "old_api": null,
          "new_api": "createTableQueryInfo",
          "old_text": null,
          "new_text": "createTableQueryInfo(pTableQueryInfo, win)",
          "old_line_content": "                                           SSDataBlock* pResultBlock, SExprInfo* pScalarExprInfo,",
          "new_line_content": "  createTableQueryInfo(pTableQueryInfo, win);",
          "content_same": false
        },
        {
          "line": 2211,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(pGroupResInfo->currentGroup <= pGroupResInfo->totalGroup)",
          "old_line_content": "",
          "new_line_content": "  assert(pGroupResInfo->currentGroup <= pGroupResInfo->totalGroup);",
          "content_same": false
        },
        {
          "line": 4259,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(1, sizeof(SAggOperatorInfo))",
          "old_line_content": "",
          "new_line_content": "  SAggOperatorInfo* pInfo = taosMemoryCalloc(1, sizeof(SAggOperatorInfo));",
          "content_same": false
        },
        {
          "line": 4260,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(1, sizeof(SOperatorInfo))",
          "old_line_content": "  int32_t numOfRows = 10;",
          "new_line_content": "  SOperatorInfo*    pOperator = taosMemoryCalloc(1, sizeof(SOperatorInfo));",
          "content_same": false
        },
        {
          "line": 4268,
          "old_api": null,
          "new_api": "initResultSizeInfo",
          "old_text": null,
          "new_text": "initResultSizeInfo(pOperator, numOfRows)",
          "old_line_content": "    goto _error;",
          "new_line_content": "  initResultSizeInfo(pOperator, numOfRows);",
          "content_same": false
        },
        {
          "line": 2221,
          "old_api": null,
          "new_api": "blockDataCleanup",
          "old_text": null,
          "new_text": "blockDataCleanup(pBlock)",
          "old_line_content": "  int32_t orderType = TSDB_ORDER_ASC;",
          "new_line_content": "  blockDataCleanup(pBlock);",
          "content_same": false
        },
        {
          "line": 4270,
          "old_api": null,
          "new_api": "initAggInfo",
          "old_text": null,
          "new_text": "initAggInfo(&pInfo->binfo, &pInfo->aggSup, pExprInfo, numOfCols, pResultBlock, keyBufSize, pTaskInfo->id.str)",
          "old_line_content": "",
          "new_line_content": "      initAggInfo(&pInfo->binfo, &pInfo->aggSup, pExprInfo, numOfCols, pResultBlock, keyBufSize, pTaskInfo->id.str);",
          "content_same": false
        },
        {
          "line": 4271,
          "old_api": null,
          "new_api": "initTableQueryInfo",
          "old_text": null,
          "new_text": "initTableQueryInfo(pTableGroupInfo)",
          "old_line_content": "  int32_t numOfGroup = 10;  // todo replaced with true value",
          "new_line_content": "  pInfo->pTableQueryInfo = initTableQueryInfo(pTableGroupInfo);",
          "content_same": false
        },
        {
          "line": 2227,
          "old_api": null,
          "new_api": "doCopyToSDataBlock",
          "old_text": null,
          "new_text": "doCopyToSDataBlock(pTaskInfo, pBlock, pExprInfo, pBuf, pGroupResInfo, orderType, rowCellOffset, pCtx, numOfExprs)",
          "old_line_content": "",
          "new_line_content": "  doCopyToSDataBlock(pTaskInfo, pBlock, pExprInfo, pBuf, pGroupResInfo, orderType, rowCellOffset, pCtx, numOfExprs);",
          "content_same": false
        },
        {
          "line": 2230,
          "old_api": null,
          "new_api": "blockDataUpdateTsWindow",
          "old_text": null,
          "new_text": "blockDataUpdateTsWindow(pBlock)",
          "old_line_content": "  // update the number of result for each, only update the number of rows for the corresponding window result.",
          "new_line_content": "  blockDataUpdateTsWindow(pBlock);",
          "content_same": false
        },
        {
          "line": 4283,
          "old_api": null,
          "new_api": "createSqlFunctionCtx",
          "old_text": null,
          "new_text": "createSqlFunctionCtx(pScalarExprInfo, numOfCols, &pInfo->rowCellInfoOffset)",
          "old_line_content": "  pOperator->blocking = true;",
          "new_line_content": "    pInfo->pScalarCtx = createSqlFunctionCtx(pScalarExprInfo, numOfCols, &pInfo->rowCellInfoOffset);",
          "content_same": false
        },
        {
          "line": 4295,
          "old_api": null,
          "new_api": "createOperatorFpSet",
          "old_text": null,
          "new_text": "createOperatorFpSet(doOpenAggregateOptr, getAggregateResult, NULL, NULL, destroyAggOperatorInfo,\n                                         aggEncodeResultRow, aggDecodeResultRow, NULL)",
          "old_line_content": "    goto _error;",
          "new_line_content": "  pOperator->fpSet = createOperatorFpSet(doOpenAggregateOptr, getAggregateResult, NULL, NULL, destroyAggOperatorInfo,",
          "content_same": false
        },
        {
          "line": 2249,
          "old_api": null,
          "new_api": "getResultCell",
          "old_text": null,
          "new_text": "getResultCell(pResult, j, rowCellInfoOffset)",
          "old_line_content": "}",
          "new_line_content": "      SResultRowEntryInfo* pCell = getResultCell(pResult, j, rowCellInfoOffset);",
          "content_same": false
        },
        {
          "line": 2250,
          "old_api": null,
          "new_api": "TMAX",
          "old_text": null,
          "new_text": "TMAX(pResult->numOfRows, pCell->numOfRes)",
          "old_line_content": "",
          "new_line_content": "      pResult->numOfRows = (uint16_t)(TMAX(pResult->numOfRows, pCell->numOfRes));",
          "content_same": false
        },
        {
          "line": 4298,
          "old_api": null,
          "new_api": "appendDownstream",
          "old_text": null,
          "new_text": "appendDownstream(pOperator, &downstream, 1)",
          "old_line_content": "  return pOperator;",
          "new_line_content": "  code = appendDownstream(pOperator, &downstream, 1);",
          "content_same": false
        },
        {
          "line": 4305,
          "old_api": null,
          "new_api": "destroyAggOperatorInfo",
          "old_text": null,
          "new_text": "destroyAggOperatorInfo(pInfo, numOfCols)",
          "old_line_content": "}",
          "new_line_content": "  destroyAggOperatorInfo(pInfo, numOfCols);",
          "content_same": false
        },
        {
          "line": 2258,
          "old_api": null,
          "new_api": "*(tDataTypes[pColRes->info.type].compFunc))(pColRes->pData, colSize, numOfRows, data,\n                                                      colSize + COMP_OVERFLOW_BYTES, compressed, NULL, 0)",
          "old_text": null,
          "new_text": "*(tDataTypes[pColRes->info.type].compFunc))(pColRes->pData, colSize, numOfRows, data,\n                                                      colSize + COMP_OVERFLOW_BYTES, compressed, NULL, 0)",
          "old_line_content": "  //  for(int32_t i = 0; i < pFillInfo->numOfCols; ++i) {",
          "new_line_content": "  return (*(tDataTypes[pColRes->info.type].compFunc))(pColRes->pData, colSize, numOfRows, data,",
          "content_same": false
        },
        {
          "line": 4306,
          "old_api": null,
          "new_api": "taosMemoryFreeClear",
          "old_text": null,
          "new_text": "taosMemoryFreeClear(pInfo)",
          "old_line_content": "",
          "new_line_content": "  taosMemoryFreeClear(pInfo);",
          "content_same": false
        },
        {
          "line": 4307,
          "old_api": null,
          "new_api": "taosMemoryFreeClear",
          "old_text": null,
          "new_text": "taosMemoryFreeClear(pOperator)",
          "old_line_content": "void doDestroyBasicInfo(SOptrBasicInfo* pInfo, int32_t numOfOutput) {",
          "new_line_content": "  taosMemoryFreeClear(pOperator);",
          "content_same": false
        },
        {
          "line": 4315,
          "old_api": null,
          "new_api": "destroySqlFunctionCtx",
          "old_text": null,
          "new_text": "destroySqlFunctionCtx(pInfo->pCtx, numOfOutput)",
          "old_line_content": "}",
          "new_line_content": "  destroySqlFunctionCtx(pInfo->pCtx, numOfOutput);",
          "content_same": false
        },
        {
          "line": 2268,
          "old_api": null,
          "new_api": "taosFillResultDataBlock",
          "old_text": null,
          "new_text": "taosFillResultDataBlock(pFillInfo, pBlock, capacity - pBlock->info.rows)",
          "old_line_content": "",
          "new_line_content": "  int32_t numOfRows = (int32_t)taosFillResultDataBlock(pFillInfo, pBlock, capacity - pBlock->info.rows);",
          "content_same": false
        },
        {
          "line": 4316,
          "old_api": null,
          "new_api": "taosMemoryFreeClear",
          "old_text": null,
          "new_text": "taosMemoryFreeClear(pInfo->rowCellInfoOffset)",
          "old_line_content": "",
          "new_line_content": "  taosMemoryFreeClear(pInfo->rowCellInfoOffset);",
          "content_same": false
        },
        {
          "line": 4318,
          "old_api": null,
          "new_api": "cleanupResultRowInfo",
          "old_text": null,
          "new_text": "cleanupResultRowInfo(&pInfo->resultRowInfo)",
          "old_line_content": "  SOptrBasicInfo* pInfo = (SOptrBasicInfo*)param;",
          "new_line_content": "  cleanupResultRowInfo(&pInfo->resultRowInfo);",
          "content_same": false
        },
        {
          "line": 2278,
          "old_api": null,
          "new_api": "taosGetTimestampUs",
          "old_text": null,
          "new_text": "taosGetTimestampUs()",
          "old_line_content": "}",
          "new_line_content": "  event.eventTime = taosGetTimestampUs();",
          "content_same": false
        },
        {
          "line": 4334,
          "old_api": null,
          "new_api": "taosDestroyFillInfo",
          "old_text": null,
          "new_text": "taosDestroyFillInfo(pInfo->pFillInfo)",
          "old_line_content": "static void destroyProjectOperatorInfo(void* param, int32_t numOfOutput) {",
          "new_line_content": "  pInfo->pFillInfo = taosDestroyFillInfo(pInfo->pFillInfo);",
          "content_same": false
        },
        {
          "line": 4335,
          "old_api": null,
          "new_api": "blockDataDestroy",
          "old_text": null,
          "new_text": "blockDataDestroy(pInfo->pRes)",
          "old_line_content": "  if (NULL == param) {",
          "new_line_content": "  pInfo->pRes = blockDataDestroy(pInfo->pRes);",
          "content_same": false
        },
        {
          "line": 2288,
          "old_api": null,
          "new_api": "taosGetTimestampUs",
          "old_text": null,
          "new_text": "taosGetTimestampUs()",
          "old_line_content": "  }",
          "new_line_content": "  event.eventTime = taosGetTimestampUs();",
          "content_same": false
        },
        {
          "line": 4336,
          "old_api": null,
          "new_api": "taosMemoryFreeClear",
          "old_text": null,
          "new_text": "taosMemoryFreeClear(pInfo->p)",
          "old_line_content": "    return;",
          "new_line_content": "  taosMemoryFreeClear(pInfo->p);",
          "content_same": false
        },
        {
          "line": 2292,
          "old_api": null,
          "new_api": "taosArrayPush",
          "old_text": null,
          "new_text": "taosArrayPush(pTaskInfo->cost.queryProfEvents, &event)",
          "old_line_content": "  uint8_t operatorType;",
          "new_line_content": "    taosArrayPush(pTaskInfo->cost.queryProfEvents, &event);",
          "content_same": false
        },
        {
          "line": 4344,
          "old_api": null,
          "new_api": "doDestroyBasicInfo",
          "old_text": null,
          "new_text": "doDestroyBasicInfo(&pInfo->binfo, numOfOutput)",
          "old_line_content": "void destroyExchangeOperatorInfo(void* param, int32_t numOfOutput) {",
          "new_line_content": "  doDestroyBasicInfo(&pInfo->binfo, numOfOutput);",
          "content_same": false
        },
        {
          "line": 4345,
          "old_api": null,
          "new_api": "cleanupAggSup",
          "old_text": null,
          "new_text": "cleanupAggSup(&pInfo->aggSup)",
          "old_line_content": "  SExchangeInfo* pExInfo = (SExchangeInfo*)param;",
          "new_line_content": "  cleanupAggSup(&pInfo->aggSup);",
          "content_same": false
        },
        {
          "line": 4351,
          "old_api": null,
          "new_api": "taosArrayDestroy",
          "old_text": null,
          "new_text": "taosArrayDestroy(pExInfo->pSources)",
          "old_line_content": "",
          "new_line_content": "  taosArrayDestroy(pExInfo->pSources);",
          "content_same": false
        },
        {
          "line": 4354,
          "old_api": null,
          "new_api": "blockDataDestroy",
          "old_text": null,
          "new_text": "blockDataDestroy(pExInfo->pResult)",
          "old_line_content": "",
          "new_line_content": "    blockDataDestroy(pExInfo->pResult);",
          "content_same": false
        },
        {
          "line": 2309,
          "old_api": null,
          "new_api": "taosArrayGetSize",
          "old_text": null,
          "new_text": "taosArrayGetSize(opStack)",
          "old_line_content": "  uint8_t              operatorType = item->operatorType;",
          "new_line_content": "  for (int32_t j = 0; j < taosArrayGetSize(opStack); ++j) {",
          "content_same": false
        },
        {
          "line": 4357,
          "old_api": null,
          "new_api": "tsem_destroy",
          "old_text": null,
          "new_text": "tsem_destroy(&pExInfo->ready)",
          "old_line_content": "  for (int32_t i = 0; i < numOfCols; ++i) {",
          "new_line_content": "  tsem_destroy(&pExInfo->ready);",
          "content_same": false
        },
        {
          "line": 4361,
          "old_api": null,
          "new_api": "taosArrayInit",
          "old_text": null,
          "new_text": "taosArrayInit(4, sizeof(int32_t))",
          "old_line_content": "  }",
          "new_line_content": "  SArray* pList = taosArrayInit(4, sizeof(int32_t));",
          "content_same": false
        },
        {
          "line": 2315,
          "old_api": null,
          "new_api": "taosHashGet",
          "old_text": null,
          "new_text": "taosHashGet(profResults, &operatorType, sizeof(operatorType))",
          "old_line_content": "    SOperatorProfResult opResult;",
          "new_line_content": "  SOperatorProfResult* result = taosHashGet(profResults, &operatorType, sizeof(operatorType));",
          "content_same": false
        },
        {
          "line": 4363,
          "old_api": null,
          "new_api": "fmIsPseudoColumnFunc",
          "old_text": null,
          "new_text": "fmIsPseudoColumnFunc(pCtx[i].functionId)",
          "old_line_content": "  return pList;",
          "new_line_content": "    if (fmIsPseudoColumnFunc(pCtx[i].functionId)) {",
          "content_same": false
        },
        {
          "line": 4364,
          "old_api": null,
          "new_api": "taosArrayPush",
          "old_text": null,
          "new_text": "taosArrayPush(pList, &i)",
          "old_line_content": "}",
          "new_line_content": "      taosArrayPush(pList, &i);",
          "content_same": false
        },
        {
          "line": 2324,
          "old_api": null,
          "new_api": "taosHashPut",
          "old_text": null,
          "new_text": "taosHashPut(profResults, &(operatorType), sizeof(operatorType), &opResult, sizeof(opResult))",
          "old_line_content": "  //  if (pQInfo->summary.queryProfEvents == NULL) {",
          "new_line_content": "    taosHashPut(profResults, &(operatorType), sizeof(operatorType), &opResult, sizeof(opResult));",
          "content_same": false
        },
        {
          "line": 4374,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(1, sizeof(SProjectOperatorInfo))",
          "old_line_content": "",
          "new_line_content": "  SProjectOperatorInfo* pInfo = taosMemoryCalloc(1, sizeof(SProjectOperatorInfo));",
          "content_same": false
        },
        {
          "line": 4375,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(1, sizeof(SOperatorInfo))",
          "old_line_content": "  pInfo->limit      = *pLimit;",
          "new_line_content": "  SOperatorInfo*        pOperator = taosMemoryCalloc(1, sizeof(SOperatorInfo));",
          "content_same": false
        },
        {
          "line": 4391,
          "old_api": null,
          "new_api": "initResultSizeInfo",
          "old_text": null,
          "new_text": "initResultSizeInfo(pOperator, numOfRows)",
          "old_line_content": "  pOperator->name = \"ProjectOperator\";",
          "new_line_content": "  initResultSizeInfo(pOperator, numOfRows);",
          "content_same": false
        },
        {
          "line": 2344,
          "old_api": null,
          "new_api": "taosArrayGetSize",
          "old_text": null,
          "new_text": "taosArrayGetSize(pQInfo->summary.queryProfEvents)",
          "old_line_content": "    if (event->eventType == QUERY_PROF_BEFORE_OPERATOR_EXEC) {",
          "new_line_content": "  size_t    size = taosArrayGetSize(pQInfo->summary.queryProfEvents);",
          "content_same": false
        },
        {
          "line": 4392,
          "old_api": null,
          "new_api": "initAggInfo",
          "old_text": null,
          "new_text": "initAggInfo(&pInfo->binfo, &pInfo->aggSup, pExprInfo, numOfCols, pResBlock, keyBufSize, pTaskInfo->id.str)",
          "old_line_content": "  pOperator->operatorType = QUERY_NODE_PHYSICAL_PLAN_PROJECT;",
          "new_line_content": "  initAggInfo(&pInfo->binfo, &pInfo->aggSup, pExprInfo, numOfCols, pResBlock, keyBufSize, pTaskInfo->id.str);",
          "content_same": false
        },
        {
          "line": 4393,
          "old_api": null,
          "new_api": "setFunctionResultOutput",
          "old_text": null,
          "new_text": "setFunctionResultOutput(&pInfo->binfo, &pInfo->aggSup, MAIN_SCAN, numOfCols, pTaskInfo)",
          "old_line_content": "  pOperator->blocking = false;",
          "new_line_content": "  setFunctionResultOutput(&pInfo->binfo, &pInfo->aggSup, MAIN_SCAN, numOfCols, pTaskInfo);",
          "content_same": false
        },
        {
          "line": 4394,
          "old_api": null,
          "new_api": "setRowTsColumnOutputInfo",
          "old_text": null,
          "new_text": "setRowTsColumnOutputInfo(pInfo->binfo.pCtx, numOfCols)",
          "old_line_content": "  pOperator->status = OP_NOT_OPENED;",
          "new_line_content": "  pInfo->pPseudoColInfo = setRowTsColumnOutputInfo(pInfo->binfo.pCtx, numOfCols);",
          "content_same": false
        },
        {
          "line": 2348,
          "old_api": null,
          "new_api": "taosArrayGet",
          "old_text": null,
          "new_text": "taosArrayGet(pQInfo->summary.queryProfEvents, i)",
          "old_line_content": "      opItem.descendantsTime = 0;",
          "new_line_content": "    SQueryProfEvent* event = taosArrayGet(pQInfo->summary.queryProfEvents, i);",
          "content_same": false
        },
        {
          "line": 2354,
          "old_api": null,
          "new_api": "taosArrayPush",
          "old_text": null,
          "new_text": "taosArrayPush(opStack, &opItem)",
          "old_line_content": "    } else if (event->eventType == QUERY_PROF_QUERY_ABORT) {",
          "new_line_content": "      taosArrayPush(opStack, &opItem);",
          "content_same": false
        },
        {
          "line": 4404,
          "old_api": null,
          "new_api": "createOperatorFpSet",
          "old_text": null,
          "new_text": "createOperatorFpSet(operatorDummyOpenFn, doProjectOperation, NULL, NULL,\n                                         destroyProjectOperatorInfo, NULL, NULL, NULL)",
          "old_line_content": "  if (code != TSDB_CODE_SUCCESS) {",
          "new_line_content": "  pOperator->fpSet = createOperatorFpSet(operatorDummyOpenFn, doProjectOperation, NULL, NULL,",
          "content_same": false
        },
        {
          "line": 2358,
          "old_api": null,
          "new_api": "doOperatorExecProfOnce",
          "old_text": null,
          "new_text": "doOperatorExecProfOnce(item, event, opStack, profResults)",
          "old_line_content": "      }",
          "new_line_content": "      doOperatorExecProfOnce(item, event, opStack, profResults);",
          "content_same": false
        },
        {
          "line": 4408,
          "old_api": null,
          "new_api": "appendDownstream",
          "old_text": null,
          "new_text": "appendDownstream(pOperator, &downstream, 1)",
          "old_line_content": "  return pOperator;",
          "new_line_content": "  int32_t code = appendDownstream(pOperator, &downstream, 1);",
          "content_same": false
        },
        {
          "line": 2361,
          "old_api": null,
          "new_api": "taosArrayPop",
          "old_text": null,
          "new_text": "taosArrayPop(opStack)",
          "old_line_content": "#endif",
          "new_line_content": "      while ((item = taosArrayPop(opStack)) != NULL) {",
          "content_same": false
        },
        {
          "line": 2367,
          "old_api": null,
          "new_api": "taosArrayDestroy",
          "old_text": null,
          "new_text": "taosArrayDestroy(opStack)",
          "old_line_content": "",
          "new_line_content": "  taosArrayDestroy(opStack);",
          "content_same": false
        },
        {
          "line": 4422,
          "old_api": null,
          "new_api": "createFillColInfo",
          "old_text": null,
          "new_text": "createFillColInfo(pExpr, numOfCols, pValNode)",
          "old_line_content": "  int32_t order = TSDB_ORDER_ASC;",
          "new_line_content": "  SFillColInfo* pColInfo = createFillColInfo(pExpr, numOfCols, pValNode);",
          "content_same": false
        },
        {
          "line": 4428,
          "old_api": null,
          "new_api": "taosCreateFillInfo",
          "old_text": null,
          "new_text": "taosCreateFillInfo(order, w.skey, 0, capacity, numOfCols, pInterval, fillType, pColInfo, id)",
          "old_line_content": "  } else {",
          "new_line_content": "  pInfo->pFillInfo = taosCreateFillInfo(order, w.skey, 0, capacity, numOfCols, pInterval, fillType, pColInfo, id);",
          "content_same": false
        },
        {
          "line": 4430,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(numOfCols, POINTER_BYTES)",
          "old_line_content": "  }",
          "new_line_content": "  pInfo->p = taosMemoryCalloc(numOfCols, POINTER_BYTES);",
          "content_same": false
        },
        {
          "line": 2393,
          "old_api": null,
          "new_api": "qDebug",
          "old_text": null,
          "new_text": "qDebug(\"%s :cost summary: elapsed time:%\" PRId64 \" us, first merge:%\" PRId64\n           \" us, total blocks:%d, \"\n           \"load block statis:%d, load data block:%d, total rows:%\" PRId64 \", check rows:%\" PRId64,\n           GET_TASKID(pTaskInfo), pSummary->elapsedTime, pSummary->firstStageMergeTime, pRecorder->totalBlocks,\n           pRecorder->loadBlockStatis, pRecorder->loadBlocks, pRecorder->totalRows, pRecorder->totalCheckedRows)",
          "old_line_content": "  }",
          "new_line_content": "    qDebug(\"%s :cost summary: elapsed time:%\" PRId64 \" us, first merge:%\" PRId64",
          "content_same": false
        },
        {
          "line": 4442,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(1, sizeof(SFillOperatorInfo))",
          "old_line_content": "",
          "new_line_content": "  SFillOperatorInfo* pInfo = taosMemoryCalloc(1, sizeof(SFillOperatorInfo));",
          "content_same": false
        },
        {
          "line": 4443,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(1, sizeof(SOperatorInfo))",
          "old_line_content": "  int32_t type = TSDB_FILL_NONE;",
          "new_line_content": "  SOperatorInfo*     pOperator = taosMemoryCalloc(1, sizeof(SOperatorInfo));",
          "content_same": false
        },
        {
          "line": 2396,
          "old_api": null,
          "new_api": "GET_TASKID",
          "old_text": null,
          "new_text": "GET_TASKID(pTaskInfo)",
          "old_line_content": "  //      pSummary->numOfTimeWindows, pSummary->tableInfoSize/1024.0, pSummary->hashSize/1024.0);",
          "new_line_content": "           GET_TASKID(pTaskInfo), pSummary->elapsedTime, pSummary->firstStageMergeTime, pRecorder->totalBlocks,",
          "content_same": false
        },
        {
          "line": 2404,
          "old_api": null,
          "new_api": "taosHashIterate",
          "old_text": null,
          "new_text": "taosHashIterate(pSummary->operatorProfResults, NULL)",
          "old_line_content": "    }",
          "new_line_content": "    SOperatorProfResult* opRes = taosHashIterate(pSummary->operatorProfResults, NULL);",
          "content_same": false
        },
        {
          "line": 2408,
          "old_api": null,
          "new_api": "taosHashIterate",
          "old_text": null,
          "new_text": "taosHashIterate(pSummary->operatorProfResults, opRes)",
          "old_line_content": "// static void updateOffsetVal(STaskRuntimeEnv *pRuntimeEnv, SDataBlockInfo *pBlockInfo) {",
          "new_line_content": "      opRes = taosHashIterate(pSummary->operatorProfResults, opRes);",
          "content_same": false
        },
        {
          "line": 4473,
          "old_api": null,
          "new_api": "initResultSizeInfo",
          "old_text": null,
          "new_text": "initResultSizeInfo(pOperator, 4096)",
          "old_line_content": "    goto _error;",
          "new_line_content": "  initResultSizeInfo(pOperator, 4096);",
          "content_same": false
        },
        {
          "line": 4475,
          "old_api": null,
          "new_api": "initFillInfo",
          "old_text": null,
          "new_text": "initFillInfo(pInfo, pExpr, numOfCols, pValueNode, *pWindow, pResultInfo->capacity, pTaskInfo->id.str,\n                              pInterval, type)",
          "old_line_content": "",
          "new_line_content": "  int32_t code = initFillInfo(pInfo, pExpr, numOfCols, pValueNode, *pWindow, pResultInfo->capacity, pTaskInfo->id.str,",
          "content_same": false
        },
        {
          "line": 4490,
          "old_api": null,
          "new_api": "createOperatorFpSet",
          "old_text": null,
          "new_text": "createOperatorFpSet(operatorDummyOpenFn, doFill, NULL, NULL, destroySFillOperatorInfo, NULL, NULL, NULL)",
          "old_line_content": "_error:",
          "new_line_content": "      createOperatorFpSet(operatorDummyOpenFn, doFill, NULL, NULL, destroySFillOperatorInfo, NULL, NULL, NULL);",
          "content_same": false
        },
        {
          "line": 4496,
          "old_api": null,
          "new_api": "taosMemoryFreeClear",
          "old_text": null,
          "new_text": "taosMemoryFreeClear(pOperator)",
          "old_line_content": "static SResSchema createResSchema(int32_t type, int32_t bytes, int32_t slotId, int32_t scale, int32_t precision,",
          "new_line_content": "  taosMemoryFreeClear(pOperator);",
          "content_same": false
        },
        {
          "line": 4497,
          "old_api": null,
          "new_api": "taosMemoryFreeClear",
          "old_text": null,
          "new_text": "taosMemoryFreeClear(pInfo)",
          "old_line_content": "                                  const char* name) {",
          "new_line_content": "  taosMemoryFreeClear(pInfo);",
          "content_same": false
        },
        {
          "line": 4509,
          "old_api": null,
          "new_api": "tListLen",
          "old_text": null,
          "new_text": "tListLen(s.name)",
          "old_line_content": "static SColumn* createColumn(int32_t blockId, int32_t slotId, int32_t colId, SDataType* pType) {",
          "new_line_content": "  strncpy(s.name, name, tListLen(s.name));",
          "content_same": false
        },
        {
          "line": 4515,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(1, sizeof(SColumn))",
          "old_line_content": "",
          "new_line_content": "  SColumn* pCol = taosMemoryCalloc(1, sizeof(SColumn));",
          "content_same": false
        },
        {
          "line": 4533,
          "old_api": null,
          "new_api": "LIST_LENGTH",
          "old_text": null,
          "new_text": "LIST_LENGTH(pNodeList)",
          "old_line_content": "",
          "new_line_content": "  int32_t numOfFuncs = LIST_LENGTH(pNodeList);",
          "content_same": false
        },
        {
          "line": 4536,
          "old_api": null,
          "new_api": "LIST_LENGTH",
          "old_text": null,
          "new_text": "LIST_LENGTH(pGroupKeys)",
          "old_line_content": "",
          "new_line_content": "    numOfGroupKeys = LIST_LENGTH(pGroupKeys);",
          "content_same": false
        },
        {
          "line": 4545,
          "old_api": null,
          "new_api": "nodesListGetNode",
          "old_text": null,
          "new_text": "nodesListGetNode(pNodeList, i)",
          "old_line_content": "    SExprInfo* pExp = &pExprs[i];",
          "new_line_content": "      pTargetNode = (STargetNode*)nodesListGetNode(pNodeList, i);",
          "content_same": false
        },
        {
          "line": 4552,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(1, sizeof(tExprNode))",
          "old_line_content": "    // it is a project query, or group by column",
          "new_line_content": "    pExp->pExpr = taosMemoryCalloc(1, sizeof(tExprNode));",
          "content_same": false
        },
        {
          "line": 4556,
          "old_api": null,
          "new_api": "nodeType",
          "old_text": null,
          "new_text": "nodeType(pTargetNode->pExpr)",
          "old_line_content": "",
          "new_line_content": "    int32_t type = nodeType(pTargetNode->pExpr);",
          "content_same": false
        },
        {
          "line": 4562,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(1, sizeof(SFunctParam))",
          "old_line_content": "                                             pType->precision, pColNode->colName);",
          "new_line_content": "      pExp->base.pParam = taosMemoryCalloc(1, sizeof(SFunctParam));",
          "content_same": false
        },
        {
          "line": 4566,
          "old_api": null,
          "new_api": "createResSchema",
          "old_text": null,
          "new_text": "createResSchema(pType->type, pType->bytes, pTargetNode->slotId, pType->scale,\n                                             pType->precision, pColNode->colName)",
          "old_line_content": "      pExp->pExpr->nodeType = QUERY_NODE_VALUE;",
          "new_line_content": "      pExp->base.resSchema = createResSchema(pType->type, pType->bytes, pTargetNode->slotId, pType->scale,",
          "content_same": false
        },
        {
          "line": 4568,
          "old_api": null,
          "new_api": "createColumn",
          "old_text": null,
          "new_text": "createColumn(pColNode->dataBlockId, pColNode->slotId, pColNode->colId, pType)",
          "old_line_content": "",
          "new_line_content": "      pExp->base.pParam[0].pCol = createColumn(pColNode->dataBlockId, pColNode->slotId, pColNode->colId, pType);",
          "content_same": false
        },
        {
          "line": 4574,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(1, sizeof(SFunctParam))",
          "old_line_content": "                                             pType->precision, pValNode->node.aliasName);",
          "new_line_content": "      pExp->base.pParam = taosMemoryCalloc(1, sizeof(SFunctParam));",
          "content_same": false
        },
        {
          "line": 4578,
          "old_api": null,
          "new_api": "createResSchema",
          "old_text": null,
          "new_text": "createResSchema(pType->type, pType->bytes, pTargetNode->slotId, pType->scale,\n                                             pType->precision, pValNode->node.aliasName)",
          "old_line_content": "      pExp->pExpr->nodeType = QUERY_NODE_FUNCTION;",
          "new_line_content": "      pExp->base.resSchema = createResSchema(pType->type, pType->bytes, pTargetNode->slotId, pType->scale,",
          "content_same": false
        },
        {
          "line": 4581,
          "old_api": null,
          "new_api": "valueNodeToVariant",
          "old_text": null,
          "new_text": "valueNodeToVariant(pValNode, &pExp->base.pParam[0].param)",
          "old_line_content": "      SDataType* pType = &pFuncNode->node.resType;",
          "new_line_content": "      valueNodeToVariant(pValNode, &pExp->base.pParam[0].param);",
          "content_same": false
        },
        {
          "line": 4587,
          "old_api": null,
          "new_api": "createResSchema",
          "old_text": null,
          "new_text": "createResSchema(pType->type, pType->bytes, pTargetNode->slotId, pType->scale,\n                                             pType->precision, pFuncNode->node.aliasName)",
          "old_line_content": "",
          "new_line_content": "      pExp->base.resSchema = createResSchema(pType->type, pType->bytes, pTargetNode->slotId, pType->scale,",
          "content_same": false
        },
        {
          "line": 4597,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp(pExp->pExpr->_function.functionName, \"tbname\")",
          "old_line_content": "        } else {",
          "new_line_content": "      if (strcmp(pExp->pExpr->_function.functionName, \"tbname\") == 0) {",
          "content_same": false
        },
        {
          "line": 4598,
          "old_api": null,
          "new_api": "nodesMakeList",
          "old_text": null,
          "new_text": "nodesMakeList()",
          "old_line_content": "          res->node.resType = (SDataType) {.bytes = sizeof(int64_t), .type = TSDB_DATA_TYPE_BIGINT};",
          "new_line_content": "        pFuncNode->pParameterList = nodesMakeList();",
          "content_same": false
        },
        {
          "line": 4600,
          "old_api": null,
          "new_api": "nodesMakeNode",
          "old_text": null,
          "new_text": "nodesMakeNode(QUERY_NODE_VALUE)",
          "old_line_content": "        }",
          "new_line_content": "        SValueNode *res = (SValueNode *)nodesMakeNode(QUERY_NODE_VALUE);",
          "content_same": false
        },
        {
          "line": 4609,
          "old_api": null,
          "new_api": "LIST_LENGTH",
          "old_text": null,
          "new_text": "LIST_LENGTH(pFuncNode->pParameterList)",
          "old_line_content": "      for (int32_t j = 0; j < numOfParam; ++j) {",
          "new_line_content": "      int32_t numOfParam = LIST_LENGTH(pFuncNode->pParameterList);",
          "content_same": false
        },
        {
          "line": 4611,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(numOfParam, sizeof(SFunctParam))",
          "old_line_content": "        if (p1->type == QUERY_NODE_COLUMN) {",
          "new_line_content": "      pExp->base.pParam = taosMemoryCalloc(numOfParam, sizeof(SFunctParam));",
          "content_same": false
        },
        {
          "line": 4620,
          "old_api": null,
          "new_api": "createColumn",
          "old_text": null,
          "new_text": "createColumn(pcn->dataBlockId, pcn->slotId, pcn->colId, &pcn->node.resType)",
          "old_line_content": "        }",
          "new_line_content": "          pExp->base.pParam[j].pCol = createColumn(pcn->dataBlockId, pcn->slotId, pcn->colId, &pcn->node.resType);",
          "content_same": false
        },
        {
          "line": 4624,
          "old_api": null,
          "new_api": "valueNodeToVariant",
          "old_text": null,
          "new_text": "valueNodeToVariant(pvn, &pExp->base.pParam[j].param)",
          "old_line_content": "      SOperatorNode* pNode = (SOperatorNode*)pTargetNode->pExpr;",
          "new_line_content": "          valueNodeToVariant(pvn, &pExp->base.pParam[j].param);",
          "content_same": false
        },
        {
          "line": 4631,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(1, sizeof(SFunctParam))",
          "old_line_content": "                                             pType->precision, pNode->node.aliasName);",
          "new_line_content": "      pExp->base.pParam = taosMemoryCalloc(1, sizeof(SFunctParam));",
          "content_same": false
        },
        {
          "line": 4635,
          "old_api": null,
          "new_api": "createResSchema",
          "old_text": null,
          "new_text": "createResSchema(pType->type, pType->bytes, pTargetNode->slotId, pType->scale,\n                                             pType->precision, pNode->node.aliasName)",
          "old_line_content": "    }",
          "new_line_content": "      pExp->base.resSchema = createResSchema(pType->type, pType->bytes, pTargetNode->slotId, pType->scale,",
          "content_same": false
        },
        {
          "line": 4639,
          "old_api": null,
          "new_api": "ASSERT",
          "old_text": null,
          "new_text": "ASSERT(0)",
          "old_line_content": "}",
          "new_line_content": "      ASSERT(0);",
          "content_same": false
        },
        {
          "line": 4647,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(1, sizeof(SExecTaskInfo))",
          "old_line_content": "  pTaskInfo->execModel = model;",
          "new_line_content": "  SExecTaskInfo* pTaskInfo = taosMemoryCalloc(1, sizeof(SExecTaskInfo));",
          "content_same": false
        },
        {
          "line": 4648,
          "old_api": null,
          "new_api": "setTaskStatus",
          "old_text": null,
          "new_text": "setTaskStatus(pTaskInfo, TASK_NOT_COMPLETED)",
          "old_line_content": "",
          "new_line_content": "  setTaskStatus(pTaskInfo, TASK_NOT_COMPLETED);",
          "content_same": false
        },
        {
          "line": 4654,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(1, 128)",
          "old_line_content": "}",
          "new_line_content": "  char* p = taosMemoryCalloc(1, 128);",
          "content_same": false
        },
        {
          "line": 4655,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(p, 128, \"TID:0x%\" PRIx64 \" QID:0x%\" PRIx64, taskId, queryId)",
          "old_line_content": "",
          "new_line_content": "  snprintf(p, 128, \"TID:0x%\" PRIx64 \" QID:0x%\" PRIx64, taskId, queryId);",
          "content_same": false
        },
        {
          "line": 4674,
          "old_api": null,
          "new_api": "nodeType",
          "old_text": null,
          "new_text": "nodeType(pPhyNode)",
          "old_line_content": "",
          "new_line_content": "  int32_t type = nodeType(pPhyNode);",
          "content_same": false
        },
        {
          "line": 4676,
          "old_api": null,
          "new_api": "LIST_LENGTH",
          "old_text": null,
          "new_text": "LIST_LENGTH(pPhyNode->pChildren)",
          "old_line_content": "      if (pDataReader == NULL && terrno != 0) {",
          "new_line_content": "  if (pPhyNode->pChildren == NULL || LIST_LENGTH(pPhyNode->pChildren) == 0) {",
          "content_same": false
        },
        {
          "line": 4685,
          "old_api": null,
          "new_api": "createTableScanOperatorInfo",
          "old_text": null,
          "new_text": "createTableScanOperatorInfo(pTableScanNode, pDataReader, pHandle, pTaskInfo)",
          "old_line_content": "      return pOperator;",
          "new_line_content": "      SOperatorInfo* pOperator = createTableScanOperatorInfo(pTableScanNode, pDataReader, pHandle, pTaskInfo);",
          "content_same": false
        },
        {
          "line": 4693,
          "old_api": null,
          "new_api": "createResDataBlock",
          "old_text": null,
          "new_text": "createResDataBlock(pExchange->node.pOutputDataBlockDesc)",
          "old_line_content": "",
          "new_line_content": "      SSDataBlock*        pResBlock = createResDataBlock(pExchange->node.pOutputDataBlockDesc);",
          "content_same": false
        },
        {
          "line": 4694,
          "old_api": null,
          "new_api": "createExchangeOperatorInfo",
          "old_text": null,
          "new_text": "createExchangeOperatorInfo(pHandle->pMsgCb->clientRpc, pExchange->pSrcEndPoints, pResBlock, pTaskInfo)",
          "old_line_content": "      int32_t numOfCols = 0;",
          "new_line_content": "      return createExchangeOperatorInfo(pHandle->pMsgCb->clientRpc, pExchange->pSrcEndPoints, pResBlock, pTaskInfo);",
          "content_same": false
        },
        {
          "line": 4703,
          "old_api": null,
          "new_api": "doCreateDataReader",
          "old_text": null,
          "new_text": "doCreateDataReader(pTableScanNode, pHandle, pTableGroupInfo, (uint64_t)queryId, taskId)",
          "old_line_content": "",
          "new_line_content": "        pDataReader = doCreateDataReader(pTableScanNode, pHandle, pTableGroupInfo, (uint64_t)queryId, taskId);",
          "content_same": false
        },
        {
          "line": 2656,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(p->numOfDownstream == 0)",
          "old_line_content": "    return TSDB_CODE_OUT_OF_MEMORY;",
          "new_line_content": "    assert(p->numOfDownstream == 0);",
          "content_same": false
        },
        {
          "line": 4710,
          "old_api": null,
          "new_api": "qDebug",
          "old_text": null,
          "new_text": "qDebug(\"pDataReader is     NULL\")",
          "old_line_content": "",
          "new_line_content": "        qDebug(\"pDataReader is     NULL\");",
          "content_same": false
        },
        {
          "line": 2664,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(p->pDownstream, pDownstream, num * POINTER_BYTES)",
          "old_line_content": "static void doDestroyTableQueryInfo(STableGroupInfo* pTableqinfoGroupInfo);",
          "new_line_content": "  memcpy(p->pDownstream, pDownstream, num * POINTER_BYTES);",
          "content_same": false
        },
        {
          "line": 4713,
          "old_api": null,
          "new_api": "qDebug",
          "old_text": null,
          "new_text": "qDebug(\"pDataReader is not NULL\")",
          "old_line_content": "",
          "new_line_content": "        qDebug(\"pDataReader is not NULL\");",
          "content_same": false
        },
        {
          "line": 4719,
          "old_api": null,
          "new_api": "extractTableIdList",
          "old_text": null,
          "new_text": "extractTableIdList(pTableGroupInfo)",
          "old_line_content": "                                                              pScanPhyNode->node.pConditions, pOperatorDumy);",
          "new_line_content": "      SArray* tableIdList = extractTableIdList(pTableGroupInfo);",
          "content_same": false
        },
        {
          "line": 4722,
          "old_api": null,
          "new_api": "extractColMatchInfo",
          "old_text": null,
          "new_text": "extractColMatchInfo(pScanPhyNode->pScanCols, pDescNode, &numOfCols, COL_MATCH_FROM_COL_ID)",
          "old_line_content": "    } else if (QUERY_NODE_PHYSICAL_PLAN_SYSTABLE_SCAN == type) {",
          "new_line_content": "      SArray*        pCols = extractColMatchInfo(pScanPhyNode->pScanCols, pDescNode, &numOfCols, COL_MATCH_FROM_COL_ID);",
          "content_same": false
        },
        {
          "line": 4723,
          "old_api": null,
          "new_api": "createStreamScanOperatorInfo",
          "old_text": null,
          "new_text": "createStreamScanOperatorInfo(pHandle->reader, pDataReader, pResBlock, pCols, tableIdList, pTaskInfo,\n                                                              pScanPhyNode->node.pConditions, pOperatorDumy)",
          "old_line_content": "      SSystemTableScanPhysiNode* pSysScanPhyNode = (SSystemTableScanPhysiNode*)pPhyNode;",
          "new_line_content": "      SOperatorInfo* pOperator = createStreamScanOperatorInfo(pHandle->reader, pDataReader, pResBlock, pCols, tableIdList, pTaskInfo,",
          "content_same": false
        },
        {
          "line": 4725,
          "old_api": null,
          "new_api": "taosArrayDestroy",
          "old_text": null,
          "new_text": "taosArrayDestroy(tableIdList)",
          "old_line_content": "",
          "new_line_content": "      taosArrayDestroy(tableIdList);",
          "content_same": false
        },
        {
          "line": 2679,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(\n        (pTableQueryInfo->win.skey >= pTableQueryInfo->win.ekey) &&\n        (pTableQueryInfo->lastKey <= pTaskInfo->window.skey) &&\n        (pTableQueryInfo->win.skey <= pTaskInfo->window.skey && pTableQueryInfo->win.ekey >= pTaskInfo->window.ekey))",
          "old_line_content": "#endif",
          "new_line_content": "    assert(",
          "content_same": false
        },
        {
          "line": 4733,
          "old_api": null,
          "new_api": "createResDataBlock",
          "old_text": null,
          "new_text": "createResDataBlock(pDescNode)",
          "old_line_content": "          pHandle, pResBlock, &pScanNode->tableName, pScanNode->node.pConditions, pSysScanPhyNode->mgmtEpSet, colList,",
          "new_line_content": "      SSDataBlock* pResBlock = createResDataBlock(pDescNode);",
          "content_same": false
        },
        {
          "line": 4736,
          "old_api": null,
          "new_api": "extractColMatchInfo",
          "old_text": null,
          "new_text": "extractColMatchInfo(pScanNode->pScanCols, pDescNode, &numOfOutputCols, COL_MATCH_FROM_COL_ID)",
          "old_line_content": "    } else if (QUERY_NODE_PHYSICAL_PLAN_TAG_SCAN == type) {",
          "new_line_content": "      SArray* colList = extractColMatchInfo(pScanNode->pScanCols, pDescNode, &numOfOutputCols, COL_MATCH_FROM_COL_ID);",
          "content_same": false
        },
        {
          "line": 4737,
          "old_api": null,
          "new_api": "createSysTableScanOperatorInfo",
          "old_text": null,
          "new_text": "createSysTableScanOperatorInfo(\n          pHandle, pResBlock, &pScanNode->tableName, pScanNode->node.pConditions, pSysScanPhyNode->mgmtEpSet, colList,\n          pTaskInfo, pSysScanPhyNode->showRewrite, pSysScanPhyNode->accountId)",
          "old_line_content": "      STagScanPhysiNode* pScanPhyNode = (STagScanPhysiNode*)pPhyNode;",
          "new_line_content": "      SOperatorInfo* pOperator = createSysTableScanOperatorInfo(",
          "content_same": false
        },
        {
          "line": 4746,
          "old_api": null,
          "new_api": "createResDataBlock",
          "old_text": null,
          "new_text": "createResDataBlock(pDescNode)",
          "old_line_content": "        return NULL;",
          "new_line_content": "      SSDataBlock* pResBlock = createResDataBlock(pDescNode);",
          "content_same": false
        },
        {
          "line": 4748,
          "old_api": null,
          "new_api": "doCreateTableGroup",
          "old_text": null,
          "new_text": "doCreateTableGroup(pHandle->meta, pScanPhyNode->tableType, pScanPhyNode->uid, pTableGroupInfo,\n                                        queryId, taskId)",
          "old_line_content": "",
          "new_line_content": "      int32_t code = doCreateTableGroup(pHandle->meta, pScanPhyNode->tableType, pScanPhyNode->uid, pTableGroupInfo,",
          "content_same": false
        },
        {
          "line": 4755,
          "old_api": null,
          "new_api": "createExprInfo",
          "old_text": null,
          "new_text": "createExprInfo(pScanPhyNode->pScanPseudoCols, NULL, &num)",
          "old_line_content": "",
          "new_line_content": "      SExprInfo* pExprInfo = createExprInfo(pScanPhyNode->pScanPseudoCols, NULL, &num);",
          "content_same": false
        },
        {
          "line": 4759,
          "old_api": null,
          "new_api": "extractColMatchInfo",
          "old_text": null,
          "new_text": "extractColMatchInfo(pScanPhyNode->pScanPseudoCols, pDescNode, &numOfOutputCols, COL_MATCH_FROM_COL_ID)",
          "old_line_content": "    } else {",
          "new_line_content": "          extractColMatchInfo(pScanPhyNode->pScanPseudoCols, pDescNode, &numOfOutputCols, COL_MATCH_FROM_COL_ID);",
          "content_same": false
        },
        {
          "line": 2712,
          "old_api": null,
          "new_api": "htonl",
          "old_text": null,
          "new_text": "htonl(pRsp->numOfRows)",
          "old_line_content": "    pSourceDataInfo->code = code;",
          "new_line_content": "    pRsp->numOfRows = htonl(pRsp->numOfRows);",
          "content_same": false
        },
        {
          "line": 2713,
          "old_api": null,
          "new_api": "htonl",
          "old_text": null,
          "new_text": "htonl(pRsp->compLen)",
          "old_line_content": "  }",
          "new_line_content": "    pRsp->compLen = htonl(pRsp->compLen);",
          "content_same": false
        },
        {
          "line": 2714,
          "old_api": null,
          "new_api": "htonl",
          "old_text": null,
          "new_text": "htonl(pRsp->numOfCols)",
          "old_line_content": "",
          "new_line_content": "    pRsp->numOfCols = htonl(pRsp->numOfCols);",
          "content_same": false
        },
        {
          "line": 2715,
          "old_api": null,
          "new_api": "htobe64",
          "old_text": null,
          "new_text": "htobe64(pRsp->useconds)",
          "old_line_content": "  pSourceDataInfo->status = EX_SOURCE_DATA_READY;",
          "new_line_content": "    pRsp->useconds = htobe64(pRsp->useconds);",
          "content_same": false
        },
        {
          "line": 4762,
          "old_api": null,
          "new_api": "createTagScanOperatorInfo",
          "old_text": null,
          "new_text": "createTagScanOperatorInfo(pHandle, pExprInfo, num, pResBlock, colList, pTableGroupInfo, pTaskInfo)",
          "old_line_content": "  }",
          "new_line_content": "          createTagScanOperatorInfo(pHandle, pExprInfo, num, pResBlock, colList, pTableGroupInfo, pTaskInfo);",
          "content_same": false
        },
        {
          "line": 4772,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(size, POINTER_BYTES)",
          "old_line_content": "      return NULL;",
          "new_line_content": "  SOperatorInfo** ops = taosMemoryCalloc(size, POINTER_BYTES);",
          "content_same": false
        },
        {
          "line": 2726,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(pMsgBody != NULL)",
          "old_line_content": "void qProcessFetchRsp(void* parent, SRpcMsg* pMsg, SEpSet* pEpSet) {",
          "new_line_content": "  assert(pMsgBody != NULL);",
          "content_same": false
        },
        {
          "line": 2727,
          "old_api": null,
          "new_api": "taosMemoryFreeClear",
          "old_text": null,
          "new_text": "taosMemoryFreeClear(pMsgBody->msgInfo.pData)",
          "old_line_content": "  SMsgSendInfo* pSendInfo = (SMsgSendInfo*)pMsg->ahandle;",
          "new_line_content": "  taosMemoryFreeClear(pMsgBody->msgInfo.pData);",
          "content_same": false
        },
        {
          "line": 4774,
          "old_api": null,
          "new_api": "nodesListGetNode",
          "old_text": null,
          "new_text": "nodesListGetNode(pPhyNode->pChildren, i)",
          "old_line_content": "  }",
          "new_line_content": "    SPhysiNode* pChildNode = (SPhysiNode*)nodesListGetNode(pPhyNode->pChildren, i);",
          "content_same": false
        },
        {
          "line": 4775,
          "old_api": null,
          "new_api": "createOperatorTree",
          "old_text": null,
          "new_text": "createOperatorTree(pChildNode, pTaskInfo, pHandle, queryId, taskId, pTableGroupInfo)",
          "old_line_content": "",
          "new_line_content": "    ops[i] = createOperatorTree(pChildNode, pTaskInfo, pHandle, queryId, taskId, pTableGroupInfo);",
          "content_same": false
        },
        {
          "line": 4786,
          "old_api": null,
          "new_api": "createResDataBlock",
          "old_text": null,
          "new_text": "createResDataBlock(pPhyNode->pOutputDataBlockDesc)",
          "old_line_content": "    SAggPhysiNode* pAggNode = (SAggPhysiNode*)pPhyNode;",
          "new_line_content": "    SSDataBlock* pResBlock = createResDataBlock(pPhyNode->pOutputDataBlockDesc);",
          "content_same": false
        },
        {
          "line": 4789,
          "old_api": null,
          "new_api": "createProjectOperatorInfo",
          "old_text": null,
          "new_text": "createProjectOperatorInfo(ops[0], pExprInfo, num, pResBlock, &limit, &slimit, pTaskInfo)",
          "old_line_content": "",
          "new_line_content": "    pOptr = createProjectOperatorInfo(ops[0], pExprInfo, num, pResBlock, &limit, &slimit, pTaskInfo);",
          "content_same": false
        },
        {
          "line": 4792,
          "old_api": null,
          "new_api": "createExprInfo",
          "old_text": null,
          "new_text": "createExprInfo(pAggNode->pAggFuncs, pAggNode->pGroupKeys, &num)",
          "old_line_content": "    if (pAggNode->pExprs != NULL) {",
          "new_line_content": "    SExprInfo*     pExprInfo = createExprInfo(pAggNode->pAggFuncs, pAggNode->pGroupKeys, &num);",
          "content_same": false
        },
        {
          "line": 2747,
          "old_api": null,
          "new_api": "fp",
          "old_text": null,
          "new_text": "pSendInfo->fp(pSendInfo->param, &buf, pMsg->code)",
          "old_line_content": "static int32_t doSendFetchDataRequest(SExchangeInfo* pExchangeInfo, SExecTaskInfo* pTaskInfo, int32_t sourceIndex) {",
          "new_line_content": "  pSendInfo->fp(pSendInfo->param, &buf, pMsg->code);",
          "content_same": false
        },
        {
          "line": 2749,
          "old_api": null,
          "new_api": "destroySendMsgInfo",
          "old_text": null,
          "new_text": "destroySendMsgInfo(pSendInfo)",
          "old_line_content": "",
          "new_line_content": "  destroySendMsgInfo(pSendInfo);",
          "content_same": false
        },
        {
          "line": 2753,
          "old_api": null,
          "new_api": "taosArrayGetSize",
          "old_text": null,
          "new_text": "taosArrayGetSize(pExchangeInfo->pSources)",
          "old_line_content": "    return pTaskInfo->code;",
          "new_line_content": "  size_t totalSources = taosArrayGetSize(pExchangeInfo->pSources);",
          "content_same": false
        },
        {
          "line": 4802,
          "old_api": null,
          "new_api": "extractColumnInfo",
          "old_text": null,
          "new_text": "extractColumnInfo(pAggNode->pGroupKeys)",
          "old_line_content": "                                          pTaskInfo, pTableGroupInfo);",
          "new_line_content": "      SArray* pColList = extractColumnInfo(pAggNode->pGroupKeys);",
          "content_same": false
        },
        {
          "line": 2755,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(1, sizeof(SResFetchReq))",
          "old_line_content": "",
          "new_line_content": "  SResFetchReq* pMsg = taosMemoryCalloc(1, sizeof(SResFetchReq));",
          "content_same": false
        },
        {
          "line": 4803,
          "old_api": null,
          "new_api": "createGroupOperatorInfo",
          "old_text": null,
          "new_text": "createGroupOperatorInfo(ops[0], pExprInfo, num, pResBlock, pColList, pAggNode->node.pConditions,\n                                      pScalarExprInfo, numOfScalarExpr, pTaskInfo, NULL)",
          "old_line_content": "    }",
          "new_line_content": "      pOptr = createGroupOperatorInfo(ops[0], pExprInfo, num, pResBlock, pColList, pAggNode->node.pConditions,",
          "content_same": false
        },
        {
          "line": 4806,
          "old_api": null,
          "new_api": "createAggregateOperatorInfo",
          "old_text": null,
          "new_text": "createAggregateOperatorInfo(ops[0], pExprInfo, num, pResBlock, pScalarExprInfo, numOfScalarExpr,\n                                          pTaskInfo, pTableGroupInfo)",
          "old_line_content": "",
          "new_line_content": "      pOptr = createAggregateOperatorInfo(ops[0], pExprInfo, num, pResBlock, pScalarExprInfo, numOfScalarExpr,",
          "content_same": false
        },
        {
          "line": 2761,
          "old_api": null,
          "new_api": "taosArrayGet",
          "old_text": null,
          "new_text": "taosArrayGet(pExchangeInfo->pSources, sourceIndex)",
          "old_line_content": "",
          "new_line_content": "  SDownstreamSourceNode* pSource = taosArrayGet(pExchangeInfo->pSources, sourceIndex);",
          "content_same": false
        },
        {
          "line": 4812,
          "old_api": null,
          "new_api": "createExprInfo",
          "old_text": null,
          "new_text": "createExprInfo(pIntervalPhyNode->window.pFuncs, NULL, &num)",
          "old_line_content": "                          .intervalUnit = pIntervalPhyNode->intervalUnit,",
          "new_line_content": "    SExprInfo*   pExprInfo = createExprInfo(pIntervalPhyNode->window.pFuncs, NULL, &num);",
          "content_same": false
        },
        {
          "line": 4813,
          "old_api": null,
          "new_api": "createResDataBlock",
          "old_text": null,
          "new_text": "createResDataBlock(pPhyNode->pOutputDataBlockDesc)",
          "old_line_content": "                          .slidingUnit = pIntervalPhyNode->slidingUnit,",
          "new_line_content": "    SSDataBlock* pResBlock = createResDataBlock(pPhyNode->pOutputDataBlockDesc);",
          "content_same": false
        },
        {
          "line": 2767,
          "old_api": null,
          "new_api": "htonl",
          "old_text": null,
          "new_text": "htonl(pSource->addr.nodeId)",
          "old_line_content": "  // send the fetch remote task result reques",
          "new_line_content": "  pMsg->header.vgId = htonl(pSource->addr.nodeId);",
          "content_same": false
        },
        {
          "line": 2769,
          "old_api": null,
          "new_api": "htobe64",
          "old_text": null,
          "new_text": "htobe64(pSource->taskId)",
          "old_line_content": "  if (NULL == pMsgSendInfo) {",
          "new_line_content": "  pMsg->taskId = htobe64(pSource->taskId);",
          "content_same": false
        },
        {
          "line": 2773,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(1, sizeof(SMsgSendInfo))",
          "old_line_content": "    return pTaskInfo->code;",
          "new_line_content": "  SMsgSendInfo* pMsgSendInfo = taosMemoryCalloc(1, sizeof(SMsgSendInfo));",
          "content_same": false
        },
        {
          "line": 2775,
          "old_api": null,
          "new_api": "taosMemoryFreeClear",
          "old_text": null,
          "new_text": "taosMemoryFreeClear(pMsg)",
          "old_line_content": "",
          "new_line_content": "    taosMemoryFreeClear(pMsg);",
          "content_same": false
        },
        {
          "line": 2776,
          "old_api": null,
          "new_api": "GET_TASKID",
          "old_text": null,
          "new_text": "GET_TASKID(pTaskInfo)",
          "old_line_content": "  pMsgSendInfo->param = pDataInfo;",
          "new_line_content": "    qError(\"%s prepare message %d failed\", GET_TASKID(pTaskInfo), (int32_t)sizeof(SMsgSendInfo));",
          "content_same": false
        },
        {
          "line": 4826,
          "old_api": null,
          "new_api": "createIntervalOperatorInfo",
          "old_text": null,
          "new_text": "createIntervalOperatorInfo(ops[0], pExprInfo, num, pResBlock, &interval, tsSlotId, &as, pTableGroupInfo,\n                                       pTaskInfo)",
          "old_line_content": "",
          "new_line_content": "    pOptr = createIntervalOperatorInfo(ops[0], pExprInfo, num, pResBlock, &interval, tsSlotId, &as, pTableGroupInfo,",
          "content_same": false
        },
        {
          "line": 4834,
          "old_api": null,
          "new_api": "createResDataBlock",
          "old_text": null,
          "new_text": "createResDataBlock(pDescNode)",
          "old_line_content": "",
          "new_line_content": "    SSDataBlock* pResBlock = createResDataBlock(pDescNode);",
          "content_same": false
        },
        {
          "line": 4835,
          "old_api": null,
          "new_api": "createSortInfo",
          "old_text": null,
          "new_text": "createSortInfo(pSortPhyNode->pSortKeys)",
          "old_line_content": "    int32_t numOfOutputCols = 0;",
          "new_line_content": "    SArray*      info = createSortInfo(pSortPhyNode->pSortKeys);",
          "content_same": false
        },
        {
          "line": 2788,
          "old_api": null,
          "new_api": "asyncSendMsgToServer",
          "old_text": null,
          "new_text": "asyncSendMsgToServer(pExchangeInfo->pTransporter, &pSource->addr.epSet, &transporterId, pMsgSendInfo)",
          "old_line_content": "void relocateColumnData(SSDataBlock* pBlock, const SArray* pColMatchInfo, SArray* pCols) {",
          "new_line_content": "  int32_t code = asyncSendMsgToServer(pExchangeInfo->pTransporter, &pSource->addr.epSet, &transporterId, pMsgSendInfo);",
          "content_same": false
        },
        {
          "line": 4841,
          "old_api": null,
          "new_api": "extractColMatchInfo",
          "old_text": null,
          "new_text": "extractColMatchInfo(pSortPhyNode->pTargets, pDescNode, &numOfOutputCols, COL_MATCH_FROM_SLOT_ID)",
          "old_line_content": "",
          "new_line_content": "    SArray* pColList = extractColMatchInfo(pSortPhyNode->pTargets, pDescNode, &numOfOutputCols, COL_MATCH_FROM_SLOT_ID);",
          "content_same": false
        },
        {
          "line": 4843,
          "old_api": null,
          "new_api": "createSortOperatorInfo",
          "old_text": null,
          "new_text": "createSortOperatorInfo(ops[0], pResBlock, info, pExprInfo, numOfCols, pColList, pTaskInfo)",
          "old_line_content": "                             .calTrigger = pSessionNode->window.triggerType};",
          "new_line_content": "    pOptr = createSortOperatorInfo(ops[0], pResBlock, info, pExprInfo, numOfCols, pColList, pTaskInfo);",
          "content_same": false
        },
        {
          "line": 2797,
          "old_api": null,
          "new_api": "taosArrayGetSize",
          "old_text": null,
          "new_text": "taosArrayGetSize(pColMatchInfo)",
          "old_line_content": "      continue;",
          "new_line_content": "  while (i < numOfSrcCols && j < taosArrayGetSize(pColMatchInfo)) {",
          "content_same": false
        },
        {
          "line": 2798,
          "old_api": null,
          "new_api": "taosArrayGet",
          "old_text": null,
          "new_text": "taosArrayGet(pCols, i)",
          "old_line_content": "    }",
          "new_line_content": "    SColumnInfoData* p = taosArrayGet(pCols, i);",
          "content_same": false
        },
        {
          "line": 2799,
          "old_api": null,
          "new_api": "taosArrayGet",
          "old_text": null,
          "new_text": "taosArrayGet(pColMatchInfo, j)",
          "old_line_content": "",
          "new_line_content": "    SColMatchInfo*   pmInfo = taosArrayGet(pColMatchInfo, j);",
          "content_same": false
        },
        {
          "line": 4851,
          "old_api": null,
          "new_api": "createResDataBlock",
          "old_text": null,
          "new_text": "createResDataBlock(pPhyNode->pOutputDataBlockDesc)",
          "old_line_content": "  } else if (QUERY_NODE_PHYSICAL_PLAN_PARTITION == type) {",
          "new_line_content": "    SSDataBlock* pResBlock = createResDataBlock(pPhyNode->pOutputDataBlockDesc);",
          "content_same": false
        },
        {
          "line": 2806,
          "old_api": null,
          "new_api": "taosArraySet",
          "old_text": null,
          "new_text": "taosArraySet(pBlock->pDataBlock, pmInfo->targetSlotId, p)",
          "old_line_content": "    } else {",
          "new_line_content": "      taosArraySet(pBlock->pDataBlock, pmInfo->targetSlotId, p);",
          "content_same": false
        },
        {
          "line": 4855,
          "old_api": null,
          "new_api": "createSessionAggOperatorInfo",
          "old_text": null,
          "new_text": "createSessionAggOperatorInfo(ops[0], pExprInfo, num, pResBlock, pSessionNode->gap, tsSlotId, &as, pTaskInfo)",
          "old_line_content": "",
          "new_line_content": "        createSessionAggOperatorInfo(ops[0], pExprInfo, num, pResBlock, pSessionNode->gap, tsSlotId, &as, pTaskInfo);",
          "content_same": false
        },
        {
          "line": 4858,
          "old_api": null,
          "new_api": "extractPartitionColInfo",
          "old_text": null,
          "new_text": "extractPartitionColInfo(pPartNode->pPartitionKeys)",
          "old_line_content": "  } else if (QUERY_NODE_PHYSICAL_PLAN_STATE_WINDOW == type) {",
          "new_line_content": "    SArray*              pColList = extractPartitionColInfo(pPartNode->pPartitionKeys);",
          "content_same": false
        },
        {
          "line": 4859,
          "old_api": null,
          "new_api": "createResDataBlock",
          "old_text": null,
          "new_text": "createResDataBlock(pPhyNode->pOutputDataBlockDesc)",
          "old_line_content": "    SStateWinodwPhysiNode* pStateNode = (SStateWinodwPhysiNode*)pPhyNode;",
          "new_line_content": "    SSDataBlock*         pResBlock = createResDataBlock(pPhyNode->pOutputDataBlockDesc);",
          "content_same": false
        },
        {
          "line": 2812,
          "old_api": null,
          "new_api": "ASSERT",
          "old_text": null,
          "new_text": "ASSERT(0)",
          "old_line_content": "int32_t setSDataBlockFromFetchRsp(SSDataBlock* pRes, SLoadRemoteDataInfo* pLoadInfo, int32_t numOfRows, char* pData,",
          "new_line_content": "      ASSERT(0);",
          "content_same": false
        },
        {
          "line": 4861,
          "old_api": null,
          "new_api": "createExprInfo",
          "old_text": null,
          "new_text": "createExprInfo(pPartNode->pTargets, NULL, &num)",
          "old_line_content": "    STimeWindowAggSupp as = {.waterMark = pStateNode->window.watermark, .calTrigger = pStateNode->window.triggerType};",
          "new_line_content": "    SExprInfo* pExprInfo = createExprInfo(pPartNode->pTargets, NULL, &num);",
          "content_same": false
        },
        {
          "line": 4862,
          "old_api": null,
          "new_api": "createPartitionOperatorInfo",
          "old_text": null,
          "new_text": "createPartitionOperatorInfo(ops[0], pExprInfo, num, pResBlock, pColList, pTaskInfo, NULL)",
          "old_line_content": "",
          "new_line_content": "    pOptr = createPartitionOperatorInfo(ops[0], pExprInfo, num, pResBlock, pColList, pTaskInfo, NULL);",
          "content_same": false
        },
        {
          "line": 2821,
          "old_api": null,
          "new_api": "blockDataEnsureCapacity",
          "old_text": null,
          "new_text": "blockDataEnsureCapacity(pRes, numOfRows)",
          "old_line_content": "    pRes->info.groupId = *(uint64_t*)pData;",
          "new_line_content": "    blockDataEnsureCapacity(pRes, numOfRows);",
          "content_same": false
        },
        {
          "line": 4873,
          "old_api": null,
          "new_api": "extractColumnFromColumnNode",
          "old_text": null,
          "new_text": "extractColumnFromColumnNode(pColNode)",
          "old_line_content": "",
          "new_line_content": "    SColumn col = extractColumnFromColumnNode(pColNode);",
          "content_same": false
        },
        {
          "line": 4877,
          "old_api": null,
          "new_api": "createResDataBlock",
          "old_text": null,
          "new_text": "createResDataBlock(pPhyNode->pOutputDataBlockDesc)",
          "old_line_content": "    SFillPhysiNode* pFillNode = (SFillPhysiNode*)pPhyNode;",
          "new_line_content": "    SSDataBlock*    pResBlock = createResDataBlock(pPhyNode->pOutputDataBlockDesc);",
          "content_same": false
        },
        {
          "line": 4880,
          "old_api": null,
          "new_api": "createMergeJoinOperatorInfo",
          "old_text": null,
          "new_text": "createMergeJoinOperatorInfo(ops, size, pExprInfo, num, pResBlock, pJoinNode->pOnConditions, pTaskInfo)",
          "old_line_content": "",
          "new_line_content": "    pOptr = createMergeJoinOperatorInfo(ops, size, pExprInfo, num, pResBlock, pJoinNode->pOnConditions, pTaskInfo);",
          "content_same": false
        },
        {
          "line": 2833,
          "old_api": null,
          "new_api": "htonl",
          "old_text": null,
          "new_text": "htonl(colLen[i])",
          "old_line_content": "        pColInfoData->varmeta.length = colLen[i];",
          "new_line_content": "      colLen[i] = htonl(colLen[i]);",
          "content_same": false
        },
        {
          "line": 2834,
          "old_api": null,
          "new_api": "ASSERT",
          "old_text": null,
          "new_text": "ASSERT(colLen[i] >= 0)",
          "old_line_content": "        pColInfoData->varmeta.allocLen = colLen[i];",
          "new_line_content": "      ASSERT(colLen[i] >= 0);",
          "content_same": false
        },
        {
          "line": 4883,
          "old_api": null,
          "new_api": "createResDataBlock",
          "old_text": null,
          "new_text": "createResDataBlock(pPhyNode->pOutputDataBlockDesc)",
          "old_line_content": "                                   (SNodeListNode*)pFillNode->pValues, false, pTaskInfo);",
          "new_line_content": "    SSDataBlock*    pResBlock = createResDataBlock(pPhyNode->pOutputDataBlockDesc);",
          "content_same": false
        },
        {
          "line": 4884,
          "old_api": null,
          "new_api": "createExprInfo",
          "old_text": null,
          "new_text": "createExprInfo(pFillNode->pTargets, NULL, &num)",
          "old_line_content": "  } else {",
          "new_line_content": "    SExprInfo*      pExprInfo = createExprInfo(pFillNode->pTargets, NULL, &num);",
          "content_same": false
        },
        {
          "line": 2837,
          "old_api": null,
          "new_api": "IS_VAR_DATA_TYPE",
          "old_text": null,
          "new_text": "IS_VAR_DATA_TYPE(pColInfoData->info.type)",
          "old_line_content": "        pStart += sizeof(int32_t) * numOfRows;",
          "new_line_content": "      if (IS_VAR_DATA_TYPE(pColInfoData->info.type)) {",
          "content_same": false
        },
        {
          "line": 4887,
          "old_api": null,
          "new_api": "createFillOperatorInfo",
          "old_text": null,
          "new_text": "createFillOperatorInfo(ops[0], pExprInfo, num, pInterval, &pFillNode->timeRange, pResBlock, pFillNode->mode,\n                                   (SNodeListNode*)pFillNode->pValues, false, pTaskInfo)",
          "old_line_content": "",
          "new_line_content": "    pOptr = createFillOperatorInfo(ops[0], pExprInfo, num, pInterval, &pFillNode->timeRange, pResBlock, pFillNode->mode,",
          "content_same": false
        },
        {
          "line": 2841,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(pColInfoData->varmeta.offset, pStart, sizeof(int32_t) * numOfRows)",
          "old_line_content": "        }",
          "new_line_content": "        memcpy(pColInfoData->varmeta.offset, pStart, sizeof(int32_t) * numOfRows);",
          "content_same": false
        },
        {
          "line": 4890,
          "old_api": null,
          "new_api": "ASSERT",
          "old_text": null,
          "new_text": "ASSERT(0)",
          "old_line_content": "}",
          "new_line_content": "    ASSERT(0);",
          "content_same": false
        },
        {
          "line": 2845,
          "old_api": null,
          "new_api": "taosMemoryMalloc",
          "old_text": null,
          "new_text": "taosMemoryMalloc(colLen[i])",
          "old_line_content": "      }",
          "new_line_content": "          pColInfoData->pData = taosMemoryMalloc(colLen[i]);",
          "content_same": false
        },
        {
          "line": 4893,
          "old_api": null,
          "new_api": "taosMemoryFree",
          "old_text": null,
          "new_text": "taosMemoryFree(ops)",
          "old_line_content": "  pCond->loadExternalRows = false;",
          "new_line_content": "  taosMemoryFree(ops);",
          "content_same": false
        },
        {
          "line": 2849,
          "old_api": null,
          "new_api": "BitmapLen",
          "old_text": null,
          "new_text": "BitmapLen(numOfRows)",
          "old_line_content": "      }",
          "new_line_content": "        pStart += BitmapLen(numOfRows);",
          "content_same": false
        },
        {
          "line": 2853,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(pColInfoData->pData, pStart, colLen[i])",
          "old_line_content": "      pColInfoData->hasNull = true;",
          "new_line_content": "        memcpy(pColInfoData->pData, pStart, colLen[i]);",
          "content_same": false
        },
        {
          "line": 4901,
          "old_api": null,
          "new_api": "LIST_LENGTH",
          "old_text": null,
          "new_text": "LIST_LENGTH(pTableScanNode->scan.pScanCols)",
          "old_line_content": "  }",
          "new_line_content": "  pCond->numOfCols = LIST_LENGTH(pTableScanNode->scan.pScanCols);",
          "content_same": false
        },
        {
          "line": 4902,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(pCond->numOfCols, sizeof(SColumnInfo))",
          "old_line_content": "",
          "new_line_content": "  pCond->colList = taosMemoryCalloc(pCond->numOfCols, sizeof(SColumnInfo));",
          "content_same": false
        },
        {
          "line": 2862,
          "old_api": null,
          "new_api": "taosArrayGetSize",
          "old_text": null,
          "new_text": "taosArrayGetSize(pColList)",
          "old_line_content": "",
          "new_line_content": "    ASSERT(numOfOutput == taosArrayGetSize(pColList));",
          "content_same": false
        },
        {
          "line": 2865,
          "old_api": null,
          "new_api": "htonl",
          "old_text": null,
          "new_text": "htonl(*(int32_t*)pStart)",
          "old_line_content": "    for (int32_t i = 0; i < numOfCols; ++i) {",
          "new_line_content": "    int32_t numOfCols = htonl(*(int32_t*)pStart);",
          "content_same": false
        },
        {
          "line": 4914,
          "old_api": null,
          "new_api": "TSWAP",
          "old_text": null,
          "new_text": "TSWAP(pCond->twindow.skey, pCond->twindow.ekey)",
          "old_line_content": "  //  pCond->type = pTableScanNode->scanFlag;",
          "new_line_content": "    TSWAP(pCond->twindow.skey, pCond->twindow.ekey);",
          "content_same": false
        },
        {
          "line": 4923,
          "old_api": null,
          "new_api": "nodesListGetNode",
          "old_text": null,
          "new_text": "nodesListGetNode(pTableScanNode->scan.pScanCols, i)",
          "old_line_content": "",
          "new_line_content": "    STargetNode* pNode = (STargetNode*)nodesListGetNode(pTableScanNode->scan.pScanCols, i);",
          "content_same": false
        },
        {
          "line": 2878,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(1, sizeof(SSDataBlock))",
          "old_line_content": "      SColumnInfoData idata = {0};",
          "new_line_content": "    SSDataBlock* pBlock = taosMemoryCalloc(1, sizeof(SSDataBlock));",
          "content_same": false
        },
        {
          "line": 2879,
          "old_api": null,
          "new_api": "taosArrayInit",
          "old_text": null,
          "new_text": "taosArrayInit(numOfCols, sizeof(SColumnInfoData))",
          "old_line_content": "      idata.info.type = pSchema[i].type;",
          "new_line_content": "    pBlock->pDataBlock = taosArrayInit(numOfCols, sizeof(SColumnInfoData));",
          "content_same": false
        },
        {
          "line": 2888,
          "old_api": null,
          "new_api": "taosArrayPush",
          "old_text": null,
          "new_text": "taosArrayPush(pBlock->pDataBlock, &idata)",
          "old_line_content": "",
          "new_line_content": "      taosArrayPush(pBlock->pDataBlock, &idata);",
          "content_same": false
        },
        {
          "line": 2894,
          "old_api": null,
          "new_api": "blockDataEnsureCapacity",
          "old_text": null,
          "new_text": "blockDataEnsureCapacity(pBlock, numOfRows)",
          "old_line_content": "",
          "new_line_content": "    blockDataEnsureCapacity(pBlock, numOfRows);",
          "content_same": false
        },
        {
          "line": 4951,
          "old_api": null,
          "new_api": "LIST_LENGTH",
          "old_text": null,
          "new_text": "LIST_LENGTH(pNodeList)",
          "old_line_content": "  }",
          "new_line_content": "  size_t  numOfCols = LIST_LENGTH(pNodeList);",
          "content_same": false
        },
        {
          "line": 2904,
          "old_api": null,
          "new_api": "htonl",
          "old_text": null,
          "new_text": "htonl(colLen[i])",
          "old_line_content": "        pColInfoData->varmeta.length = colLen[i];",
          "new_line_content": "      colLen[i] = htonl(colLen[i]);",
          "content_same": false
        },
        {
          "line": 2905,
          "old_api": null,
          "new_api": "ASSERT",
          "old_text": null,
          "new_text": "ASSERT(colLen[i] >= 0)",
          "old_line_content": "        pColInfoData->varmeta.allocLen = colLen[i];",
          "new_line_content": "      ASSERT(colLen[i] >= 0);",
          "content_same": false
        },
        {
          "line": 4952,
          "old_api": null,
          "new_api": "taosArrayInit",
          "old_text": null,
          "new_text": "taosArrayInit(numOfCols, sizeof(SColumn))",
          "old_line_content": "",
          "new_line_content": "  SArray* pList = taosArrayInit(numOfCols, sizeof(SColumn));",
          "content_same": false
        },
        {
          "line": 2908,
          "old_api": null,
          "new_api": "IS_VAR_DATA_TYPE",
          "old_text": null,
          "new_text": "IS_VAR_DATA_TYPE(pColInfoData->info.type)",
          "old_line_content": "        pStart += sizeof(int32_t) * numOfRows;",
          "new_line_content": "      if (IS_VAR_DATA_TYPE(pColInfoData->info.type)) {",
          "content_same": false
        },
        {
          "line": 2915,
          "old_api": null,
          "new_api": "taosMemoryMalloc",
          "old_text": null,
          "new_text": "taosMemoryMalloc(colLen[i])",
          "old_line_content": "",
          "new_line_content": "        pColInfoData->pData = taosMemoryMalloc(colLen[i]);",
          "content_same": false
        },
        {
          "line": 4964,
          "old_api": null,
          "new_api": "extractColumnFromColumnNode",
          "old_text": null,
          "new_text": "extractColumnFromColumnNode(pColNode)",
          "old_line_content": "      c.slotId = pNode->slotId;",
          "new_line_content": "      SColumn c = extractColumnFromColumnNode(pColNode);",
          "content_same": false
        },
        {
          "line": 2917,
          "old_api": null,
          "new_api": "BitmapLen",
          "old_text": null,
          "new_text": "BitmapLen(numOfRows)",
          "old_line_content": "      pStart += colLen[i];",
          "new_line_content": "        memcpy(pColInfoData->nullbitmap, pStart, BitmapLen(numOfRows));",
          "content_same": false
        },
        {
          "line": 2918,
          "old_api": null,
          "new_api": "BitmapLen",
          "old_text": null,
          "new_text": "BitmapLen(numOfRows)",
          "old_line_content": "    }",
          "new_line_content": "        pStart += BitmapLen(numOfRows);",
          "content_same": false
        },
        {
          "line": 4965,
          "old_api": null,
          "new_api": "taosArrayPush",
          "old_text": null,
          "new_text": "taosArrayPush(pList, &c)",
          "old_line_content": "      c.colId = pNode->slotId;",
          "new_line_content": "      taosArrayPush(pList, &c);",
          "content_same": false
        },
        {
          "line": 4966,
          "old_api": null,
          "new_api": "nodeType",
          "old_text": null,
          "new_text": "nodeType(pNode->pExpr)",
          "old_line_content": "      c.type = pValNode->node.type;",
          "new_line_content": "    } else if (nodeType(pNode->pExpr) == QUERY_NODE_VALUE) {",
          "content_same": false
        },
        {
          "line": 2926,
          "old_api": null,
          "new_api": "relocateColumnData",
          "old_text": null,
          "new_text": "relocateColumnData(pRes, pColList, pBlock->pDataBlock)",
          "old_line_content": "",
          "new_line_content": "    relocateColumnData(pRes, pColList, pBlock->pDataBlock);",
          "content_same": false
        },
        {
          "line": 2927,
          "old_api": null,
          "new_api": "taosArrayDestroy",
          "old_text": null,
          "new_text": "taosArrayDestroy(pBlock->pDataBlock)",
          "old_line_content": "  pRes->info.rows = numOfRows;",
          "new_line_content": "    taosArrayDestroy(pBlock->pDataBlock);",
          "content_same": false
        },
        {
          "line": 4976,
          "old_api": null,
          "new_api": "taosArrayPush",
          "old_text": null,
          "new_text": "taosArrayPush(pList, &c)",
          "old_line_content": "}",
          "new_line_content": "      taosArrayPush(pList, &c);",
          "content_same": false
        },
        {
          "line": 2933,
          "old_api": null,
          "new_api": "blockDataUpdateTsWindow",
          "old_text": null,
          "new_text": "blockDataUpdateTsWindow(pRes)",
          "old_line_content": "  pLoadInfo->totalSize += compLen;",
          "new_line_content": "  blockDataUpdateTsWindow(pRes);",
          "content_same": false
        },
        {
          "line": 2935,
          "old_api": null,
          "new_api": "taosGetTimestampUs",
          "old_text": null,
          "new_text": "taosGetTimestampUs()",
          "old_line_content": "  if (total != NULL) {",
          "new_line_content": "  int64_t el = taosGetTimestampUs() - startTs;",
          "content_same": false
        },
        {
          "line": 4984,
          "old_api": null,
          "new_api": "LIST_LENGTH",
          "old_text": null,
          "new_text": "LIST_LENGTH(pNodeList)",
          "old_line_content": "  }",
          "new_line_content": "  size_t  numOfCols = LIST_LENGTH(pNodeList);",
          "content_same": false
        },
        {
          "line": 4985,
          "old_api": null,
          "new_api": "taosArrayInit",
          "old_text": null,
          "new_text": "taosArrayInit(numOfCols, sizeof(SColumn))",
          "old_line_content": "",
          "new_line_content": "  SArray* pList = taosArrayInit(numOfCols, sizeof(SColumn));",
          "content_same": false
        },
        {
          "line": 4992,
          "old_api": null,
          "new_api": "nodesListGetNode",
          "old_text": null,
          "new_text": "nodesListGetNode(pNodeList, i)",
          "old_line_content": "    c.colId = pColNode->colId;",
          "new_line_content": "    SColumnNode* pColNode = (SColumnNode*)nodesListGetNode(pNodeList, i);",
          "content_same": false
        },
        {
          "line": 5003,
          "old_api": null,
          "new_api": "taosArrayPush",
          "old_text": null,
          "new_text": "taosArrayPush(pList, &c)",
          "old_line_content": "",
          "new_line_content": "    taosArrayPush(pList, &c);",
          "content_same": false
        },
        {
          "line": 2957,
          "old_api": null,
          "new_api": "qDebug",
          "old_text": null,
          "new_text": "qDebug(\"%s all %\" PRIzu \" sources are exhausted, total rows: %\" PRIu64 \" bytes:%\" PRIu64 \", elapsed:%.2f ms\",\n         GET_TASKID(pTaskInfo), totalSources, pLoadInfo->totalRows, pLoadInfo->totalSize,\n         pLoadInfo->totalElapsed / 1000.0)",
          "old_line_content": "  return NULL;",
          "new_line_content": "  qDebug(\"%s all %\" PRIzu \" sources are exhausted, total rows: %\" PRIu64 \" bytes:%\" PRIu64 \", elapsed:%.2f ms\",",
          "content_same": false
        },
        {
          "line": 2958,
          "old_api": null,
          "new_api": "GET_TASKID",
          "old_text": null,
          "new_text": "GET_TASKID(pTaskInfo)",
          "old_line_content": "}",
          "new_line_content": "         GET_TASKID(pTaskInfo), totalSources, pLoadInfo->totalRows, pLoadInfo->totalSize,",
          "content_same": false
        },
        {
          "line": 2961,
          "old_api": null,
          "new_api": "doSetOperatorCompleted",
          "old_text": null,
          "new_text": "doSetOperatorCompleted(pOperator)",
          "old_line_content": "                                                   SExecTaskInfo* pTaskInfo) {",
          "new_line_content": "  doSetOperatorCompleted(pOperator);",
          "content_same": false
        },
        {
          "line": 5010,
          "old_api": null,
          "new_api": "LIST_LENGTH",
          "old_text": null,
          "new_text": "LIST_LENGTH(pNodeList)",
          "old_line_content": "  }",
          "new_line_content": "  size_t  numOfCols = LIST_LENGTH(pNodeList);",
          "content_same": false
        },
        {
          "line": 5011,
          "old_api": null,
          "new_api": "taosArrayInit",
          "old_text": null,
          "new_text": "taosArrayInit(numOfCols, sizeof(SBlockOrderInfo))",
          "old_line_content": "",
          "new_line_content": "  SArray* pList = taosArrayInit(numOfCols, sizeof(SBlockOrderInfo));",
          "content_same": false
        },
        {
          "line": 2968,
          "old_api": null,
          "new_api": "taosGetTimestampUs",
          "old_text": null,
          "new_text": "taosGetTimestampUs()",
          "old_line_content": "    for (int32_t i = 0; i < totalSources; ++i) {",
          "new_line_content": "  int64_t startTs = taosGetTimestampUs();",
          "content_same": false
        },
        {
          "line": 5018,
          "old_api": null,
          "new_api": "nodesListGetNode",
          "old_text": null,
          "new_text": "nodesListGetNode(pNodeList, i)",
          "old_line_content": "    SColumnNode* pColNode = (SColumnNode*)pSortKey->pExpr;",
          "new_line_content": "    SOrderByExprNode* pSortKey = (SOrderByExprNode*)nodesListGetNode(pNodeList, i);",
          "content_same": false
        },
        {
          "line": 2974,
          "old_api": null,
          "new_api": "taosArrayGet",
          "old_text": null,
          "new_text": "taosArrayGet(pExchangeInfo->pSourceDataInfo, i)",
          "old_line_content": "      }",
          "new_line_content": "      SSourceDataInfo* pDataInfo = taosArrayGet(pExchangeInfo->pSourceDataInfo, i);",
          "content_same": false
        },
        {
          "line": 5025,
          "old_api": null,
          "new_api": "taosArrayPush",
          "old_text": null,
          "new_text": "taosArrayPush(pList, &bi)",
          "old_line_content": "",
          "new_line_content": "    taosArrayPush(pList, &bi);",
          "content_same": false
        },
        {
          "line": 5033,
          "old_api": null,
          "new_api": "LIST_LENGTH",
          "old_text": null,
          "new_text": "LIST_LENGTH(pNodeList)",
          "old_line_content": "  }",
          "new_line_content": "  size_t  numOfCols = LIST_LENGTH(pNodeList);",
          "content_same": false
        },
        {
          "line": 5034,
          "old_api": null,
          "new_api": "taosArrayInit",
          "old_text": null,
          "new_text": "taosArrayInit(numOfCols, sizeof(SColMatchInfo))",
          "old_line_content": "",
          "new_line_content": "  SArray* pList = taosArrayInit(numOfCols, sizeof(SColMatchInfo));",
          "content_same": false
        },
        {
          "line": 2991,
          "old_api": null,
          "new_api": "qDebug",
          "old_text": null,
          "new_text": "qDebug(\"%s vgId:%d, taskID:0x%\" PRIx64 \" index:%d completed, rowsOfSource:%\" PRIu64 \", totalRows:%\" PRIu64\n               \" try next\",\n               GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, i + 1, pDataInfo->totalRows,\n               pExchangeInfo->loadInfo.totalRows)",
          "old_line_content": "        completed += 1;",
          "new_line_content": "        qDebug(\"%s vgId:%d, taskID:0x%\" PRIx64 \" index:%d completed, rowsOfSource:%\" PRIu64 \", totalRows:%\" PRIu64",
          "content_same": false
        },
        {
          "line": 2993,
          "old_api": null,
          "new_api": "GET_TASKID",
          "old_text": null,
          "new_text": "GET_TASKID(pTaskInfo)",
          "old_line_content": "      }",
          "new_line_content": "               GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, i + 1, pDataInfo->totalRows,",
          "content_same": false
        },
        {
          "line": 5041,
          "old_api": null,
          "new_api": "nodesListGetNode",
          "old_text": null,
          "new_text": "nodesListGetNode(pNodeList, i)",
          "old_line_content": "    c.colId = pColNode->colId;",
          "new_line_content": "    STargetNode* pNode = (STargetNode*)nodesListGetNode(pNodeList, i);",
          "content_same": false
        },
        {
          "line": 3001,
          "old_api": null,
          "new_api": "setSDataBlockFromFetchRsp",
          "old_text": null,
          "new_text": "setSDataBlockFromFetchRsp(pExchangeInfo->pResult, pLoadInfo, pTableRsp->numOfRows, pTableRsp->data,\n                                       pTableRsp->compLen, pTableRsp->numOfCols, startTs, &pDataInfo->totalRows, NULL)",
          "old_line_content": "",
          "new_line_content": "      code = setSDataBlockFromFetchRsp(pExchangeInfo->pResult, pLoadInfo, pTableRsp->numOfRows, pTableRsp->data,",
          "content_same": false
        },
        {
          "line": 5050,
          "old_api": null,
          "new_api": "taosArrayPush",
          "old_text": null,
          "new_text": "taosArrayPush(pList, &c)",
          "old_line_content": "  for (int32_t i = 0; i < num; ++i) {",
          "new_line_content": "    taosArrayPush(pList, &c);",
          "content_same": false
        },
        {
          "line": 5054,
          "old_api": null,
          "new_api": "LIST_LENGTH",
          "old_text": null,
          "new_text": "LIST_LENGTH(pOutputNodeList->pSlots)",
          "old_line_content": "    // it is a column reserved for the arithmetic expression calculation",
          "new_line_content": "  int32_t num = LIST_LENGTH(pOutputNodeList->pSlots);",
          "content_same": false
        },
        {
          "line": 3008,
          "old_api": null,
          "new_api": "qDebug",
          "old_text": null,
          "new_text": "qDebug(\"%s fetch msg rsp from vgId:%d, taskId:0x%\" PRIx64 \" numOfRows:%d, rowsOfSource:%\" PRIu64\n               \", totalRows:%\" PRIu64 \", totalBytes:%\" PRIu64 \" try next %d/%\" PRIzu,\n               GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, pRes->info.rows, pDataInfo->totalRows,\n               pLoadInfo->totalRows, pLoadInfo->totalSize, i + 1, totalSources)",
          "old_line_content": "      } else {",
          "new_line_content": "        qDebug(\"%s fetch msg rsp from vgId:%d, taskId:0x%\" PRIx64 \" numOfRows:%d, rowsOfSource:%\" PRIu64",
          "content_same": false
        },
        {
          "line": 5056,
          "old_api": null,
          "new_api": "nodesListGetNode",
          "old_text": null,
          "new_text": "nodesListGetNode(pOutputNodeList->pSlots, i)",
          "old_line_content": "      (*numOfOutputCols) += 1;",
          "new_line_content": "    SSlotDescNode* pNode = (SSlotDescNode*)nodesListGetNode(pOutputNodeList->pSlots, i);",
          "content_same": false
        },
        {
          "line": 3010,
          "old_api": null,
          "new_api": "GET_TASKID",
          "old_text": null,
          "new_text": "GET_TASKID(pTaskInfo)",
          "old_line_content": "               \", totalBytes:%\" PRIu64,",
          "new_line_content": "               GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, pRes->info.rows, pDataInfo->totalRows,",
          "content_same": false
        },
        {
          "line": 3014,
          "old_api": null,
          "new_api": "qDebug",
          "old_text": null,
          "new_text": "qDebug(\"%s fetch msg rsp from vgId:%d, taskId:0x%\" PRIx64 \" numOfRows:%d, totalRows:%\" PRIu64\n               \", totalBytes:%\" PRIu64,\n               GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, pRes->info.rows, pLoadInfo->totalRows,\n               pLoadInfo->totalSize)",
          "old_line_content": "",
          "new_line_content": "        qDebug(\"%s fetch msg rsp from vgId:%d, taskId:0x%\" PRIx64 \" numOfRows:%d, totalRows:%\" PRIu64",
          "content_same": false
        },
        {
          "line": 3016,
          "old_api": null,
          "new_api": "GET_TASKID",
          "old_text": null,
          "new_text": "GET_TASKID(pTaskInfo)",
          "old_line_content": "        pDataInfo->status = EX_SOURCE_DATA_NOT_READY;",
          "new_line_content": "               GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, pRes->info.rows, pLoadInfo->totalRows,",
          "content_same": false
        },
        {
          "line": 5065,
          "old_api": null,
          "new_api": "taosArrayGet",
          "old_text": null,
          "new_text": "taosArrayGet(pList, pNode->slotId)",
          "old_line_content": "    }",
          "new_line_content": "    SColMatchInfo* info = taosArrayGet(pList, pNode->slotId);",
          "content_same": false
        },
        {
          "line": 3022,
          "old_api": null,
          "new_api": "doSendFetchDataRequest",
          "old_text": null,
          "new_text": "doSendFetchDataRequest(pExchangeInfo, pTaskInfo, i)",
          "old_line_content": "",
          "new_line_content": "        code = doSendFetchDataRequest(pExchangeInfo, pTaskInfo, i);",
          "content_same": false
        },
        {
          "line": 3032,
          "old_api": null,
          "new_api": "setAllSourcesCompleted",
          "old_text": null,
          "new_text": "setAllSourcesCompleted(pOperator, startTs)",
          "old_line_content": "  pTaskInfo->code = code;",
          "new_line_content": "      return setAllSourcesCompleted(pOperator, startTs);",
          "content_same": false
        },
        {
          "line": 5080,
          "old_api": null,
          "new_api": "tsdbQuerySTableByTagCond",
          "old_text": null,
          "new_text": "tsdbQuerySTableByTagCond(metaHandle, tableUid, 0, NULL, 0, 0, NULL, pGroupInfo, NULL, 0, queryId, taskId)",
          "old_line_content": "  return code;",
          "new_line_content": "    code = tsdbQuerySTableByTagCond(metaHandle, tableUid, 0, NULL, 0, 0, NULL, pGroupInfo, NULL, 0, queryId, taskId);",
          "content_same": false
        },
        {
          "line": 5082,
          "old_api": null,
          "new_api": "tsdbGetOneTableGroup",
          "old_text": null,
          "new_text": "tsdbGetOneTableGroup(metaHandle, tableUid, 0, pGroupInfo)",
          "old_line_content": "",
          "new_line_content": "    code = tsdbGetOneTableGroup(metaHandle, tableUid, 0, pGroupInfo);",
          "content_same": false
        },
        {
          "line": 5089,
          "old_api": null,
          "new_api": "taosArrayInit",
          "old_text": null,
          "new_text": "taosArrayInit(4, sizeof(uint64_t))",
          "old_line_content": "",
          "new_line_content": "  SArray* tableIdList = taosArrayInit(4, sizeof(uint64_t));",
          "content_same": false
        },
        {
          "line": 5092,
          "old_api": null,
          "new_api": "taosArrayGetP",
          "old_text": null,
          "new_text": "taosArrayGetP(pTableGroupInfo->pGroupList, 0)",
          "old_line_content": "    for (int32_t i = 0; i < numOfTables; ++i) {",
          "new_line_content": "    SArray* pa = taosArrayGetP(pTableGroupInfo->pGroupList, 0);",
          "content_same": false
        },
        {
          "line": 3046,
          "old_api": null,
          "new_api": "concurrentlyLoadRemoteDataImpl",
          "old_text": null,
          "new_text": "concurrentlyLoadRemoteDataImpl(pOperator, pExchangeInfo, pTaskInfo)",
          "old_line_content": "",
          "new_line_content": "    return concurrentlyLoadRemoteDataImpl(pOperator, pExchangeInfo, pTaskInfo);",
          "content_same": false
        },
        {
          "line": 5096,
          "old_api": null,
          "new_api": "taosArrayGetSize",
          "old_text": null,
          "new_text": "taosArrayGetSize(pa)",
          "old_line_content": "  }",
          "new_line_content": "    size_t numOfTables = taosArrayGetSize(pa);",
          "content_same": false
        },
        {
          "line": 3050,
          "old_api": null,
          "new_api": "taosGetTimestampUs",
          "old_text": null,
          "new_text": "taosGetTimestampUs()",
          "old_line_content": "    if (code != TSDB_CODE_SUCCESS) {",
          "new_line_content": "  int64_t startTs = taosGetTimestampUs();",
          "content_same": false
        },
        {
          "line": 5098,
          "old_api": null,
          "new_api": "taosArrayGet",
          "old_text": null,
          "new_text": "taosArrayGet(pa, i)",
          "old_line_content": "  return tableIdList;",
          "new_line_content": "      STableKeyInfo* pkeyInfo = taosArrayGet(pa, i);",
          "content_same": false
        },
        {
          "line": 5099,
          "old_api": null,
          "new_api": "taosArrayPush",
          "old_text": null,
          "new_text": "taosArrayPush(tableIdList, &pkeyInfo->uid)",
          "old_line_content": "}",
          "new_line_content": "      taosArrayPush(tableIdList, &pkeyInfo->uid);",
          "content_same": false
        },
        {
          "line": 3054,
          "old_api": null,
          "new_api": "doSendFetchDataRequest",
          "old_text": null,
          "new_text": "doSendFetchDataRequest(pExchangeInfo, pTaskInfo, i)",
          "old_line_content": "",
          "new_line_content": "    int32_t code = doSendFetchDataRequest(pExchangeInfo, pTaskInfo, i);",
          "content_same": false
        },
        {
          "line": 3060,
          "old_api": null,
          "new_api": "taosGetTimestampUs",
          "old_text": null,
          "new_text": "taosGetTimestampUs()",
          "old_line_content": "  pOperator->status = OP_RES_TO_RETURN;",
          "new_line_content": "  int64_t endTs = taosGetTimestampUs();",
          "content_same": false
        },
        {
          "line": 5110,
          "old_api": null,
          "new_api": "doCreateTableGroup",
          "old_text": null,
          "new_text": "doCreateTableGroup(pHandle->meta, pTableScanNode->scan.tableType, uid, pTableGroupInfo, queryId, taskId)",
          "old_line_content": "  if (pTableGroupInfo->numOfTables == 0) {",
          "new_line_content": "      doCreateTableGroup(pHandle->meta, pTableScanNode->scan.tableType, uid, pTableGroupInfo, queryId, taskId);",
          "content_same": false
        },
        {
          "line": 3064,
          "old_api": null,
          "new_api": "tsem_wait",
          "old_text": null,
          "new_text": "tsem_wait(&pExchangeInfo->ready)",
          "old_line_content": "static int32_t prepareConcurrentlyLoad(SOperatorInfo* pOperator) {",
          "new_line_content": "  tsem_wait(&pExchangeInfo->ready);",
          "content_same": false
        },
        {
          "line": 3066,
          "old_api": null,
          "new_api": "concurrentlyLoadRemoteDataImpl",
          "old_text": null,
          "new_text": "concurrentlyLoadRemoteDataImpl(pOperator, pExchangeInfo, pTaskInfo)",
          "old_line_content": "  SExecTaskInfo* pTaskInfo = pOperator->pTaskInfo;",
          "new_line_content": "  return concurrentlyLoadRemoteDataImpl(pOperator, pExchangeInfo, pTaskInfo);",
          "content_same": false
        },
        {
          "line": 3074,
          "old_api": null,
          "new_api": "taosGetTimestampUs",
          "old_text": null,
          "new_text": "taosGetTimestampUs()",
          "old_line_content": "    if (code != TSDB_CODE_SUCCESS) {",
          "new_line_content": "  int64_t startTs = taosGetTimestampUs();",
          "content_same": false
        },
        {
          "line": 3078,
          "old_api": null,
          "new_api": "doSendFetchDataRequest",
          "old_text": null,
          "new_text": "doSendFetchDataRequest(pExchangeInfo, pTaskInfo, i)",
          "old_line_content": "  }",
          "new_line_content": "    int32_t code = doSendFetchDataRequest(pExchangeInfo, pTaskInfo, i);",
          "content_same": false
        },
        {
          "line": 5127,
          "old_api": null,
          "new_api": "tsdbQueryTables",
          "old_text": null,
          "new_text": "tsdbQueryTables(pHandle->vnode, &cond, pTableGroupInfo, queryId, taskId)",
          "old_line_content": "}",
          "new_line_content": "  return tsdbQueryTables(pHandle->vnode, &cond, pTableGroupInfo, queryId, taskId);",
          "content_same": false
        },
        {
          "line": 3086,
          "old_api": null,
          "new_api": "GET_TASKID",
          "old_text": null,
          "new_text": "GET_TASKID(pTaskInfo)",
          "old_line_content": "",
          "new_line_content": "  qDebug(\"%s send all fetch request to %\" PRIzu \" sources completed, elapsed:%\" PRId64, GET_TASKID(pTaskInfo),",
          "content_same": false
        },
        {
          "line": 3089,
          "old_api": null,
          "new_api": "tsem_wait",
          "old_text": null,
          "new_text": "tsem_wait(&pExchangeInfo->ready)",
          "old_line_content": "",
          "new_line_content": "  tsem_wait(&pExchangeInfo->ready);",
          "content_same": false
        },
        {
          "line": 3090,
          "old_api": null,
          "new_api": "taosGetTimestampUs",
          "old_text": null,
          "new_text": "taosGetTimestampUs()",
          "old_line_content": "static SSDataBlock* seqLoadRemoteData(SOperatorInfo* pOperator) {",
          "new_line_content": "  pOperator->cost.openCost = taosGetTimestampUs() - startTs;",
          "content_same": false
        },
        {
          "line": 5139,
          "old_api": null,
          "new_api": "createExecTaskInfo",
          "old_text": null,
          "new_text": "createExecTaskInfo(queryId, taskId, model)",
          "old_line_content": "",
          "new_line_content": "  *pTaskInfo = createExecTaskInfo(queryId, taskId, model);",
          "content_same": false
        },
        {
          "line": 5146,
          "old_api": null,
          "new_api": "createOperatorTree",
          "old_text": null,
          "new_text": "createOperatorTree(pPlan->pNode, *pTaskInfo, pHandle, queryId, taskId, &(*pTaskInfo)->tableqinfoGroupInfo)",
          "old_line_content": "",
          "new_line_content": "      createOperatorTree(pPlan->pNode, *pTaskInfo, pHandle, queryId, taskId, &(*pTaskInfo)->tableqinfoGroupInfo);",
          "content_same": false
        },
        {
          "line": 3100,
          "old_api": null,
          "new_api": "taosGetTimestampUs",
          "old_text": null,
          "new_text": "taosGetTimestampUs()",
          "old_line_content": "    }",
          "new_line_content": "  int64_t startTs = taosGetTimestampUs();",
          "content_same": false
        },
        {
          "line": 3104,
          "old_api": null,
          "new_api": "setAllSourcesCompleted",
          "old_text": null,
          "new_text": "setAllSourcesCompleted(pOperator, startTs)",
          "old_line_content": "",
          "new_line_content": "      return setAllSourcesCompleted(pOperator, startTs);",
          "content_same": false
        },
        {
          "line": 3107,
          "old_api": null,
          "new_api": "doSendFetchDataRequest",
          "old_text": null,
          "new_text": "doSendFetchDataRequest(pExchangeInfo, pTaskInfo, pExchangeInfo->current)",
          "old_line_content": "",
          "new_line_content": "    doSendFetchDataRequest(pExchangeInfo, pTaskInfo, pExchangeInfo->current);",
          "content_same": false
        },
        {
          "line": 3108,
          "old_api": null,
          "new_api": "tsem_wait",
          "old_text": null,
          "new_text": "tsem_wait(&pExchangeInfo->ready)",
          "old_line_content": "    if (pDataInfo->code != TSDB_CODE_SUCCESS) {",
          "new_line_content": "    tsem_wait(&pExchangeInfo->ready);",
          "content_same": false
        },
        {
          "line": 3111,
          "old_api": null,
          "new_api": "taosArrayGet",
          "old_text": null,
          "new_text": "taosArrayGet(pExchangeInfo->pSources, pExchangeInfo->current)",
          "old_line_content": "      pOperator->pTaskInfo->code = pDataInfo->code;",
          "new_line_content": "    SDownstreamSourceNode* pSource = taosArrayGet(pExchangeInfo->pSources, pExchangeInfo->current);",
          "content_same": false
        },
        {
          "line": 5160,
          "old_api": null,
          "new_api": "taosMemoryFreeClear",
          "old_text": null,
          "new_text": "taosMemoryFreeClear(*pTaskInfo)",
          "old_line_content": "",
          "new_line_content": "  taosMemoryFreeClear(*pTaskInfo);",
          "content_same": false
        },
        {
          "line": 3114,
          "old_api": null,
          "new_api": "GET_TASKID",
          "old_text": null,
          "new_text": "GET_TASKID(pTaskInfo)",
          "old_line_content": "",
          "new_line_content": "      qError(\"%s vgId:%d, taskID:0x%\" PRIx64 \" error happens, code:%s\", GET_TASKID(pTaskInfo), pSource->addr.nodeId,",
          "content_same": false
        },
        {
          "line": 3115,
          "old_api": null,
          "new_api": "tstrerror",
          "old_text": null,
          "new_text": "tstrerror(pDataInfo->code)",
          "old_line_content": "    SRetrieveTableRsp*   pRsp = pDataInfo->pRsp;",
          "new_line_content": "             pSource->taskId, tstrerror(pDataInfo->code));",
          "content_same": false
        },
        {
          "line": 3123,
          "old_api": null,
          "new_api": "qDebug",
          "old_text": null,
          "new_text": "qDebug(\"%s vgId:%d, taskID:0x%\" PRIx64 \" %d of total completed, rowsOfSource:%\" PRIu64 \", totalRows:%\" PRIu64\n             \" try next\",\n             GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, pExchangeInfo->current + 1,\n             pDataInfo->totalRows, pLoadInfo->totalRows)",
          "old_line_content": "      pDataInfo->status = EX_SOURCE_DATA_EXHAUSTED;",
          "new_line_content": "      qDebug(\"%s vgId:%d, taskID:0x%\" PRIx64 \" %d of total completed, rowsOfSource:%\" PRIu64 \", totalRows:%\" PRIu64",
          "content_same": false
        },
        {
          "line": 3125,
          "old_api": null,
          "new_api": "GET_TASKID",
          "old_text": null,
          "new_text": "GET_TASKID(pTaskInfo)",
          "old_line_content": "      continue;",
          "new_line_content": "             GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, pExchangeInfo->current + 1,",
          "content_same": false
        },
        {
          "line": 3136,
          "old_api": null,
          "new_api": "setSDataBlockFromFetchRsp",
          "old_text": null,
          "new_text": "setSDataBlockFromFetchRsp(pExchangeInfo->pResult, pLoadInfo, pTableRsp->numOfRows, pTableRsp->data,\n                                  pTableRsp->compLen, pTableRsp->numOfCols, startTs, &pDataInfo->totalRows, NULL)",
          "old_line_content": "             \", totalRows:%\" PRIu64 \", totalBytes:%\" PRIu64 \" try next %d/%\" PRIzu,",
          "new_line_content": "        setSDataBlockFromFetchRsp(pExchangeInfo->pResult, pLoadInfo, pTableRsp->numOfRows, pTableRsp->data,",
          "content_same": false
        },
        {
          "line": 3140,
          "old_api": null,
          "new_api": "qDebug",
          "old_text": null,
          "new_text": "qDebug(\"%s fetch msg rsp from vgId:%d, taskId:0x%\" PRIx64 \" numOfRows:%d, rowsOfSource:%\" PRIu64\n             \", totalRows:%\" PRIu64 \", totalBytes:%\" PRIu64 \" try next %d/%\" PRIzu,\n             GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, pRes->info.rows, pDataInfo->totalRows,\n             pLoadInfo->totalRows, pLoadInfo->totalSize, pExchangeInfo->current + 1, totalSources)",
          "old_line_content": "      pDataInfo->status = EX_SOURCE_DATA_EXHAUSTED;",
          "new_line_content": "      qDebug(\"%s fetch msg rsp from vgId:%d, taskId:0x%\" PRIx64 \" numOfRows:%d, rowsOfSource:%\" PRIu64",
          "content_same": false
        },
        {
          "line": 3142,
          "old_api": null,
          "new_api": "GET_TASKID",
          "old_text": null,
          "new_text": "GET_TASKID(pTaskInfo)",
          "old_line_content": "    } else {",
          "new_line_content": "             GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, pRes->info.rows, pDataInfo->totalRows,",
          "content_same": false
        },
        {
          "line": 3148,
          "old_api": null,
          "new_api": "qDebug",
          "old_text": null,
          "new_text": "qDebug(\"%s fetch msg rsp from vgId:%d, taskId:0x%\" PRIx64 \" numOfRows:%d, totalRows:%\" PRIu64\n             \", totalBytes:%\" PRIu64,\n             GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, pRes->info.rows, pLoadInfo->totalRows,\n             pLoadInfo->totalSize)",
          "old_line_content": "",
          "new_line_content": "      qDebug(\"%s fetch msg rsp from vgId:%d, taskId:0x%\" PRIx64 \" numOfRows:%d, totalRows:%\" PRIu64",
          "content_same": false
        },
        {
          "line": 3150,
          "old_api": null,
          "new_api": "GET_TASKID",
          "old_text": null,
          "new_text": "GET_TASKID(pTaskInfo)",
          "old_line_content": "  }",
          "new_line_content": "             GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, pRes->info.rows, pLoadInfo->totalRows,",
          "content_same": false
        },
        {
          "line": 5198,
          "old_api": null,
          "new_api": "taosMemoryFree",
          "old_text": null,
          "new_text": "taosMemoryFree((void*)(pFilter[i].pz))",
          "old_line_content": "}",
          "new_line_content": "      taosMemoryFree((void*)(pFilter[i].pz));",
          "content_same": false
        },
        {
          "line": 3159,
          "old_api": null,
          "new_api": "OPTR_IS_OPENED",
          "old_text": null,
          "new_text": "OPTR_IS_OPENED(pOperator)",
          "old_line_content": "  if (pExchangeInfo->seqLoadData) {",
          "new_line_content": "  if (OPTR_IS_OPENED(pOperator)) {",
          "content_same": false
        },
        {
          "line": 5207,
          "old_api": null,
          "new_api": "taosArrayGetSize",
          "old_text": null,
          "new_text": "taosArrayGetSize(pTableqinfoGroupInfo->pGroupList)",
          "old_line_content": "      for (int32_t j = 0; j < num; ++j) {",
          "new_line_content": "    int32_t numOfGroups = (int32_t)taosArrayGetSize(pTableqinfoGroupInfo->pGroupList);",
          "content_same": false
        },
        {
          "line": 5211,
          "old_api": null,
          "new_api": "taosArrayGetSize",
          "old_text": null,
          "new_text": "taosArrayGetSize(p)",
          "old_line_content": "",
          "new_line_content": "      size_t num = taosArrayGetSize(p);",
          "content_same": false
        },
        {
          "line": 5213,
          "old_api": null,
          "new_api": "taosArrayGetP",
          "old_text": null,
          "new_text": "taosArrayGetP(p, j)",
          "old_line_content": "    }",
          "new_line_content": "        STableQueryInfo* item = taosArrayGetP(p, j);",
          "content_same": false
        },
        {
          "line": 5214,
          "old_api": null,
          "new_api": "destroyTableQueryInfoImpl",
          "old_text": null,
          "new_text": "destroyTableQueryInfoImpl(item)",
          "old_line_content": "  }",
          "new_line_content": "        destroyTableQueryInfoImpl(item);",
          "content_same": false
        },
        {
          "line": 3167,
          "old_api": null,
          "new_api": "prepareConcurrentlyLoad",
          "old_text": null,
          "new_text": "prepareConcurrentlyLoad(pOperator)",
          "old_line_content": "",
          "new_line_content": "    int32_t code = prepareConcurrentlyLoad(pOperator);",
          "content_same": false
        },
        {
          "line": 3173,
          "old_api": null,
          "new_api": "OPTR_SET_OPENED",
          "old_text": null,
          "new_text": "OPTR_SET_OPENED(pOperator)",
          "old_line_content": "  SExchangeInfo* pExchangeInfo = pOperator->info;",
          "new_line_content": "  OPTR_SET_OPENED(pOperator);",
          "content_same": false
        },
        {
          "line": 5221,
          "old_api": null,
          "new_api": "taosArrayDestroy",
          "old_text": null,
          "new_text": "taosArrayDestroy(pTableqinfoGroupInfo->pGroupList)",
          "old_line_content": "  pTableqinfoGroupInfo->numOfTables = 0;",
          "new_line_content": "  taosArrayDestroy(pTableqinfoGroupInfo->pGroupList);",
          "content_same": false
        },
        {
          "line": 5222,
          "old_api": null,
          "new_api": "taosHashCleanup",
          "old_text": null,
          "new_text": "taosHashCleanup(pTableqinfoGroupInfo->map)",
          "old_line_content": "}",
          "new_line_content": "  taosHashCleanup(pTableqinfoGroupInfo->map);",
          "content_same": false
        },
        {
          "line": 5230,
          "old_api": null,
          "new_api": "GET_TASKID",
          "old_text": null,
          "new_text": "GET_TASKID(pTaskInfo)",
          "old_line_content": "  //  taosHashCleanup(pTaskInfo->summary.operatorProfResults);",
          "new_line_content": "  qDebug(\"%s execTask is freed\", GET_TASKID(pTaskInfo));",
          "content_same": false
        },
        {
          "line": 5237,
          "old_api": null,
          "new_api": "taosMemoryFreeClear",
          "old_text": null,
          "new_text": "taosMemoryFreeClear(pTaskInfo->sql)",
          "old_line_content": "static void doSetTagValueToResultBuf(char* output, const char* val, int16_t type, int16_t bytes) {",
          "new_line_content": "  taosMemoryFreeClear(pTaskInfo->sql);",
          "content_same": false
        },
        {
          "line": 3190,
          "old_api": null,
          "new_api": "qDebug",
          "old_text": null,
          "new_text": "qDebug(\"%s all %\" PRIzu \" source(s) are exhausted, total rows:%\" PRIu64 \" bytes:%\" PRIu64 \", elapsed:%.2f ms\",\n           GET_TASKID(pTaskInfo), totalSources, pLoadInfo->totalRows, pLoadInfo->totalSize,\n           pLoadInfo->totalElapsed / 1000.0)",
          "old_line_content": "",
          "new_line_content": "    qDebug(\"%s all %\" PRIzu \" source(s) are exhausted, total rows:%\" PRIu64 \" bytes:%\" PRIu64 \", elapsed:%.2f ms\",",
          "content_same": false
        },
        {
          "line": 3191,
          "old_api": null,
          "new_api": "GET_TASKID",
          "old_text": null,
          "new_text": "GET_TASKID(pTaskInfo)",
          "old_line_content": "  if (pExchangeInfo->seqLoadData) {",
          "new_line_content": "           GET_TASKID(pTaskInfo), totalSources, pLoadInfo->totalRows, pLoadInfo->totalSize,",
          "content_same": false
        },
        {
          "line": 5238,
          "old_api": null,
          "new_api": "taosMemoryFreeClear",
          "old_text": null,
          "new_text": "taosMemoryFreeClear(pTaskInfo->id.str)",
          "old_line_content": "  if (val == NULL) {",
          "new_line_content": "  taosMemoryFreeClear(pTaskInfo->id.str);",
          "content_same": false
        },
        {
          "line": 5244,
          "old_api": null,
          "new_api": "setNull",
          "old_text": null,
          "new_text": "setNull(output, type, bytes)",
          "old_line_content": "    // Binary data overflows for sort of unknown reasons. Let trim the overflow data",
          "new_line_content": "    setNull(output, type, bytes);",
          "content_same": false
        },
        {
          "line": 3197,
          "old_api": null,
          "new_api": "seqLoadRemoteData",
          "old_text": null,
          "new_text": "seqLoadRemoteData(pOperator)",
          "old_line_content": "#if 0",
          "new_line_content": "    return seqLoadRemoteData(pOperator);",
          "content_same": false
        },
        {
          "line": 5250,
          "old_api": null,
          "new_api": "varDataTLen",
          "old_text": null,
          "new_text": "varDataTLen(val)",
          "old_line_content": "    } else {",
          "new_line_content": "    if (varDataTLen(val) > bytes) {",
          "content_same": false
        },
        {
          "line": 3204,
          "old_api": null,
          "new_api": "taosMemoryFreeClear",
          "old_text": null,
          "new_text": "taosMemoryFreeClear(pMsg)",
          "old_line_content": "#endif",
          "new_line_content": "  taosMemoryFreeClear(pMsg);",
          "content_same": false
        },
        {
          "line": 3205,
          "old_api": null,
          "new_api": "taosMemoryFreeClear",
          "old_text": null,
          "new_text": "taosMemoryFreeClear(pMsgSendInfo)",
          "old_line_content": "}",
          "new_line_content": "  taosMemoryFreeClear(pMsgSendInfo);",
          "content_same": false
        },
        {
          "line": 5252,
          "old_api": null,
          "new_api": "varDataLen",
          "old_text": null,
          "new_text": "varDataLen(val)",
          "old_line_content": "    }",
          "new_line_content": "      int32_t len = (varDataLen(val) > maxLen) ? maxLen : varDataLen(val);",
          "content_same": false
        },
        {
          "line": 5253,
          "old_api": null,
          "new_api": "varDataVal",
          "old_text": null,
          "new_text": "varDataVal(val)",
          "old_line_content": "  } else {",
          "new_line_content": "      memcpy(varDataVal(output), varDataVal(val), len);",
          "content_same": false
        },
        {
          "line": 5256,
          "old_api": null,
          "new_api": "varDataCopy",
          "old_text": null,
          "new_text": "varDataCopy(output, val)",
          "old_line_content": "}",
          "new_line_content": "      varDataCopy(output, val);",
          "content_same": false
        },
        {
          "line": 5259,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(output, val, bytes)",
          "old_line_content": "  size_t s1 = sizeof(STableQueryInfo);",
          "new_line_content": "    memcpy(output, val, bytes);",
          "content_same": false
        },
        {
          "line": 3213,
          "old_api": null,
          "new_api": "taosArrayInit",
          "old_text": null,
          "new_text": "taosArrayInit(numOfSources, sizeof(SSourceDataInfo))",
          "old_line_content": "  for (int32_t i = 0; i < numOfSources; ++i) {",
          "new_line_content": "  pInfo->pSourceDataInfo = taosArrayInit(numOfSources, sizeof(SSourceDataInfo));",
          "content_same": false
        },
        {
          "line": 5270,
          "old_api": null,
          "new_api": "getQuerySupportBufSize",
          "old_text": null,
          "new_text": "getQuerySupportBufSize(numOfTables)",
          "old_line_content": "      int64_t s = tsQueryBufferSizeBytes;",
          "new_line_content": "  int64_t t = getQuerySupportBufSize(numOfTables);",
          "content_same": false
        },
        {
          "line": 3224,
          "old_api": null,
          "new_api": "taosArrayPush",
          "old_text": null,
          "new_text": "taosArrayPush(pInfo->pSourceDataInfo, &dataInfo)",
          "old_line_content": "  }",
          "new_line_content": "    void* ret = taosArrayPush(pInfo->pSourceDataInfo, &dataInfo);",
          "content_same": false
        },
        {
          "line": 3226,
          "old_api": null,
          "new_api": "taosArrayDestroy",
          "old_text": null,
          "new_text": "taosArrayDestroy(pInfo->pSourceDataInfo)",
          "old_line_content": "  return TSDB_CODE_SUCCESS;",
          "new_line_content": "      taosArrayDestroy(pInfo->pSourceDataInfo);",
          "content_same": false
        },
        {
          "line": 5278,
          "old_api": null,
          "new_api": "atomic_val_compare_exchange_64",
          "old_text": null,
          "new_text": "atomic_val_compare_exchange_64(&tsQueryBufferSizeBytes, s, remain)",
          "old_line_content": "      }",
          "new_line_content": "        if (atomic_val_compare_exchange_64(&tsQueryBufferSizeBytes, s, remain) == s) {",
          "content_same": false
        },
        {
          "line": 3237,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(1, sizeof(SOperatorInfo))",
          "old_line_content": "    terrno = TSDB_CODE_QRY_OUT_OF_MEMORY;",
          "new_line_content": "  SOperatorInfo* pOperator = taosMemoryCalloc(1, sizeof(SOperatorInfo));",
          "content_same": false
        },
        {
          "line": 3240,
          "old_api": null,
          "new_api": "taosMemoryFreeClear",
          "old_text": null,
          "new_text": "taosMemoryFreeClear(pInfo)",
          "old_line_content": "",
          "new_line_content": "    taosMemoryFreeClear(pInfo);",
          "content_same": false
        },
        {
          "line": 3246,
          "old_api": null,
          "new_api": "LIST_LENGTH",
          "old_text": null,
          "new_text": "LIST_LENGTH(pSources)",
          "old_line_content": "  }",
          "new_line_content": "  size_t numOfSources = LIST_LENGTH(pSources);",
          "content_same": false
        },
        {
          "line": 3247,
          "old_api": null,
          "new_api": "taosArrayInit",
          "old_text": null,
          "new_text": "taosArrayInit(numOfSources, sizeof(SDownstreamSourceNode))",
          "old_line_content": "",
          "new_line_content": "  pInfo->pSources = taosArrayInit(numOfSources, sizeof(SDownstreamSourceNode));",
          "content_same": false
        },
        {
          "line": 3248,
          "old_api": null,
          "new_api": "taosArrayInit",
          "old_text": null,
          "new_text": "taosArrayInit(numOfSources, sizeof(SSourceDataInfo))",
          "old_line_content": "  for (int32_t i = 0; i < numOfSources; ++i) {",
          "new_line_content": "  pInfo->pSourceDataInfo = taosArrayInit(numOfSources, sizeof(SSourceDataInfo));",
          "content_same": false
        },
        {
          "line": 5296,
          "old_api": null,
          "new_api": "getQuerySupportBufSize",
          "old_text": null,
          "new_text": "getQuerySupportBufSize(numOfTables)",
          "old_line_content": "",
          "new_line_content": "  int64_t t = getQuerySupportBufSize(numOfTables);",
          "content_same": false
        },
        {
          "line": 5299,
          "old_api": null,
          "new_api": "atomic_add_fetch_64",
          "old_text": null,
          "new_text": "atomic_add_fetch_64(&tsQueryBufferSizeBytes, t)",
          "old_line_content": "  if (*resNum >= *capacity) {",
          "new_line_content": "  atomic_add_fetch_64(&tsQueryBufferSizeBytes, t);",
          "content_same": false
        },
        {
          "line": 3254,
          "old_api": null,
          "new_api": "nodesListGetNode",
          "old_text": null,
          "new_text": "nodesListGetNode((SNodeList*)pSources, i)",
          "old_line_content": "  if (code != TSDB_CODE_SUCCESS) {",
          "new_line_content": "    SNodeListNode* pNode = nodesListGetNode((SNodeList*)pSources, i);",
          "content_same": false
        },
        {
          "line": 3255,
          "old_api": null,
          "new_api": "taosArrayPush",
          "old_text": null,
          "new_text": "taosArrayPush(pInfo->pSources, pNode)",
          "old_line_content": "    goto _error;",
          "new_line_content": "    taosArrayPush(pInfo->pSources, pNode);",
          "content_same": false
        },
        {
          "line": 3258,
          "old_api": null,
          "new_api": "initDataSource",
          "old_text": null,
          "new_text": "initDataSource(numOfSources, pInfo)",
          "old_line_content": "  pInfo->pResult = pBlock;",
          "new_line_content": "  int32_t code = initDataSource(numOfSources, pInfo);",
          "content_same": false
        },
        {
          "line": 5307,
          "old_api": null,
          "new_api": "taosMemoryRealloc",
          "old_text": null,
          "new_text": "taosMemoryRealloc(*pRes, (*capacity) * sizeof(SExplainExecInfo))",
          "old_line_content": "  }",
          "new_line_content": "    *pRes = taosMemoryRealloc(*pRes, (*capacity) * sizeof(SExplainExecInfo));",
          "content_same": false
        },
        {
          "line": 5309,
          "old_api": null,
          "new_api": "qError",
          "old_text": null,
          "new_text": "qError(\"malloc %d failed\", (*capacity) * (int32_t)sizeof(SExplainExecInfo))",
          "old_line_content": "  (*pRes)[*resNum].numOfRows = operatorInfo->resultInfo.totalRows;",
          "new_line_content": "      qError(\"malloc %d failed\", (*capacity) * (int32_t)sizeof(SExplainExecInfo));",
          "content_same": false
        },
        {
          "line": 3266,
          "old_api": null,
          "new_api": "tsem_init",
          "old_text": null,
          "new_text": "tsem_init(&pInfo->ready, 0, 0)",
          "old_line_content": "  pOperator->status = OP_NOT_OPENED;",
          "new_line_content": "  tsem_init(&pInfo->ready, 0, 0);",
          "content_same": false
        },
        {
          "line": 5319,
          "old_api": null,
          "new_api": "*operatorInfo->fpSet.getExplainFn)(operatorInfo, &(*pRes)->verboseInfo)",
          "old_text": null,
          "new_text": "*operatorInfo->fpSet.getExplainFn)(operatorInfo, &(*pRes)->verboseInfo)",
          "old_line_content": "  }",
          "new_line_content": "    int32_t code = (*operatorInfo->fpSet.getExplainFn)(operatorInfo, &(*pRes)->verboseInfo);",
          "content_same": false
        },
        {
          "line": 5321,
          "old_api": null,
          "new_api": "tstrerror",
          "old_text": null,
          "new_text": "tstrerror(code)",
          "old_line_content": "  ++(*resNum);",
          "new_line_content": "      qError(\"operator getExplainFn failed, error:%s\", tstrerror(code));",
          "content_same": false
        },
        {
          "line": 3276,
          "old_api": null,
          "new_api": "createOperatorFpSet",
          "old_text": null,
          "new_text": "createOperatorFpSet(prepareLoadRemoteData, doLoadRemoteData, NULL, NULL,\n                                         destroyExchangeOperatorInfo, NULL, NULL, NULL)",
          "old_line_content": "",
          "new_line_content": "  pOperator->fpSet = createOperatorFpSet(prepareLoadRemoteData, doLoadRemoteData, NULL, NULL,",
          "content_same": false
        },
        {
          "line": 5330,
          "old_api": null,
          "new_api": "getOperatorExplainExecInfo",
          "old_text": null,
          "new_text": "getOperatorExplainExecInfo(operatorInfo->pDownstream[i], pRes, capacity, resNum)",
          "old_line_content": "  }",
          "new_line_content": "    code = getOperatorExplainExecInfo(operatorInfo->pDownstream[i], pRes, capacity, resNum);",
          "content_same": false
        },
        {
          "line": 3284,
          "old_api": null,
          "new_api": "destroyExchangeOperatorInfo",
          "old_text": null,
          "new_text": "destroyExchangeOperatorInfo(pInfo, numOfSources)",
          "old_line_content": "  pTaskInfo->code = TSDB_CODE_OUT_OF_MEMORY;",
          "new_line_content": "    destroyExchangeOperatorInfo(pInfo, numOfSources);",
          "content_same": false
        },
        {
          "line": 5332,
          "old_api": null,
          "new_api": "taosMemoryFreeClear",
          "old_text": null,
          "new_text": "taosMemoryFreeClear(*pRes)",
          "old_line_content": "  return TSDB_CODE_SUCCESS;",
          "new_line_content": "      taosMemoryFreeClear(*pRes);",
          "content_same": false
        },
        {
          "line": 3287,
          "old_api": null,
          "new_api": "taosMemoryFreeClear",
          "old_text": null,
          "new_text": "taosMemoryFreeClear(pInfo)",
          "old_line_content": "",
          "new_line_content": "  taosMemoryFreeClear(pInfo);",
          "content_same": false
        },
        {
          "line": 3288,
          "old_api": null,
          "new_api": "taosMemoryFreeClear",
          "old_text": null,
          "new_text": "taosMemoryFreeClear(pOperator)",
          "old_line_content": "static int32_t doInitAggInfoSup(SAggSupporter* pAggSup, SqlFunctionCtx* pCtx, int32_t numOfOutput, size_t keyBufSize,",
          "new_line_content": "  taosMemoryFreeClear(pOperator);",
          "content_same": false
        },
        {
          "line": 3298,
          "old_api": null,
          "new_api": "taosArrayDestroy",
          "old_text": null,
          "new_text": "taosArrayDestroy(pInfo->pSortInfo)",
          "old_line_content": "  }",
          "new_line_content": "  taosArrayDestroy(pInfo->pSortInfo);",
          "content_same": false
        },
        {
          "line": 3299,
          "old_api": null,
          "new_api": "taosArrayDestroy",
          "old_text": null,
          "new_text": "taosArrayDestroy(pInfo->groupInfo)",
          "old_line_content": "",
          "new_line_content": "  taosArrayDestroy(pInfo->groupInfo);",
          "content_same": false
        },
        {
          "line": 3302,
          "old_api": null,
          "new_api": "tsortDestroySortHandle",
          "old_text": null,
          "new_text": "tsortDestroySortHandle(pInfo->pSortHandle)",
          "old_line_content": "}",
          "new_line_content": "    tsortDestroySortHandle(pInfo->pSortHandle);",
          "content_same": false
        },
        {
          "line": 3306,
          "old_api": null,
          "new_api": "cleanupAggSup",
          "old_text": null,
          "new_text": "cleanupAggSup(&pInfo->aggSup)",
          "old_line_content": "  if (size == 0) {",
          "new_line_content": "  cleanupAggSup(&pInfo->aggSup);",
          "content_same": false
        },
        {
          "line": 3310,
          "old_api": null,
          "new_api": "taosArrayGetSize",
          "old_text": null,
          "new_text": "taosArrayGetSize(groupInfo)",
          "old_line_content": "  for (int32_t i = 0; i < size; ++i) {",
          "new_line_content": "  size_t size = taosArrayGetSize(groupInfo);",
          "content_same": false
        },
        {
          "line": 3316,
          "old_api": null,
          "new_api": "taosArrayGet",
          "old_text": null,
          "new_text": "taosArrayGet(groupInfo, i)",
          "old_line_content": "    if ((isNull && buf[i] != NULL) || (!isNull && buf[i] == NULL)) {",
          "new_line_content": "    int32_t* index = taosArrayGet(groupInfo, i);",
          "content_same": false
        },
        {
          "line": 3318,
          "old_api": null,
          "new_api": "taosArrayGet",
          "old_text": null,
          "new_text": "taosArrayGet(pBlock->pDataBlock, *index)",
          "old_line_content": "    }",
          "new_line_content": "    SColumnInfoData* pColInfo = taosArrayGet(pBlock->pDataBlock, *index);",
          "content_same": false
        },
        {
          "line": 3319,
          "old_api": null,
          "new_api": "colDataIsNull",
          "old_text": null,
          "new_text": "colDataIsNull(pColInfo, rowIndex, pBlock->info.rows, NULL)",
          "old_line_content": "",
          "new_line_content": "    bool             isNull = colDataIsNull(pColInfo, rowIndex, pBlock->info.rows, NULL);",
          "content_same": false
        },
        {
          "line": 3326,
          "old_api": null,
          "new_api": "IS_VAR_DATA_TYPE",
          "old_text": null,
          "new_text": "IS_VAR_DATA_TYPE(pColInfo->info.type)",
          "old_line_content": "          return false;",
          "new_line_content": "    if (IS_VAR_DATA_TYPE(pColInfo->info.type)) {",
          "content_same": false
        },
        {
          "line": 3327,
          "old_api": null,
          "new_api": "varDataLen",
          "old_text": null,
          "new_text": "varDataLen(buf[i])",
          "old_line_content": "        }",
          "new_line_content": "      if (varDataLen(pCell) != varDataLen(buf[i])) {",
          "content_same": false
        },
        {
          "line": 3335,
          "old_api": null,
          "new_api": "memcmp",
          "old_text": null,
          "new_text": "memcmp(pCell, buf[i], pColInfo->info.bytes)",
          "old_line_content": "",
          "new_line_content": "      if (memcmp(pCell, buf[i], pColInfo->info.bytes) != 0) {",
          "content_same": false
        },
        {
          "line": 3380,
          "old_api": null,
          "new_api": "taosArrayGetSize",
          "old_text": null,
          "new_text": "taosArrayGetSize(pColumnList)",
          "old_line_content": "",
          "new_line_content": "  int32_t size = (int32_t)taosArrayGetSize(pColumnList);",
          "content_same": false
        },
        {
          "line": 3383,
          "old_api": null,
          "new_api": "taosArrayGet",
          "old_text": null,
          "new_text": "taosArrayGet(pColumnList, i)",
          "old_line_content": "  }",
          "new_line_content": "    int32_t*         index = taosArrayGet(pColumnList, i);",
          "content_same": false
        },
        {
          "line": 3384,
          "old_api": null,
          "new_api": "taosArrayGet",
          "old_text": null,
          "new_text": "taosArrayGet(pBlock->pDataBlock, *index)",
          "old_line_content": "",
          "new_line_content": "    SColumnInfoData* pColInfo = taosArrayGet(pBlock->pDataBlock, *index);",
          "content_same": false
        },
        {
          "line": 3386,
          "old_api": null,
          "new_api": "colDataGetData",
          "old_text": null,
          "new_text": "colDataGetData(pColInfo, rowIndex)",
          "old_line_content": "}",
          "new_line_content": "    char* data = colDataGetData(pColInfo, rowIndex);",
          "content_same": false
        },
        {
          "line": 3387,
          "old_api": null,
          "new_api": "colDataGetLength",
          "old_text": null,
          "new_text": "colDataGetLength(pColInfo, rowIndex)",
          "old_line_content": "",
          "new_line_content": "    memcpy(rowColData[i], data, colDataGetLength(pColInfo, rowIndex));",
          "content_same": false
        },
        {
          "line": 3404,
          "old_api": null,
          "new_api": "doMergeResultImpl",
          "old_text": null,
          "new_text": "doMergeResultImpl(pInfo, pCtx, numOfExpr, i)",
          "old_line_content": "      } else {",
          "new_line_content": "      doMergeResultImpl(pInfo, pCtx, numOfExpr, i);",
          "content_same": false
        },
        {
          "line": 3407,
          "old_api": null,
          "new_api": "needToMerge",
          "old_text": null,
          "new_text": "needToMerge(pBlock, pInfo->groupInfo, pInfo->groupVal, i)",
          "old_line_content": "        //        setTagValueForMultipleRows(pCtx, pOperator->numOfExprs, numOfRows);",
          "new_line_content": "      if (needToMerge(pBlock, pInfo->groupInfo, pInfo->groupVal, i)) {",
          "content_same": false
        },
        {
          "line": 3408,
          "old_api": null,
          "new_api": "doMergeResultImpl",
          "old_text": null,
          "new_text": "doMergeResultImpl(pInfo, pCtx, numOfExpr, i)",
          "old_line_content": "",
          "new_line_content": "        doMergeResultImpl(pInfo, pCtx, numOfExpr, i);",
          "content_same": false
        },
        {
          "line": 3410,
          "old_api": null,
          "new_api": "doFinalizeResultImpl",
          "old_text": null,
          "new_text": "doFinalizeResultImpl(pCtx, numOfExpr)",
          "old_line_content": "",
          "new_line_content": "        doFinalizeResultImpl(pCtx, numOfExpr);",
          "content_same": false
        },
        {
          "line": 3411,
          "old_api": null,
          "new_api": "getNumOfResult",
          "old_text": null,
          "new_text": "getNumOfResult(pInfo->binfo.pCtx, pOperator->numOfExprs, NULL)",
          "old_line_content": "        // next group info data",
          "new_line_content": "        int32_t numOfRows = getNumOfResult(pInfo->binfo.pCtx, pOperator->numOfExprs, NULL);",
          "content_same": false
        },
        {
          "line": 3423,
          "old_api": null,
          "new_api": "process",
          "old_text": null,
          "new_text": "pCtx[j].fpSet.process(&pCtx[j])",
          "old_line_content": "      }",
          "new_line_content": "          pCtx[j].fpSet.process(&pCtx[j]);",
          "content_same": false
        },
        {
          "line": 3426,
          "old_api": null,
          "new_api": "doMergeResultImpl",
          "old_text": null,
          "new_text": "doMergeResultImpl(pInfo, pCtx, numOfExpr, i)",
          "old_line_content": "}",
          "new_line_content": "        doMergeResultImpl(pInfo, pCtx, numOfExpr, i);",
          "content_same": false
        },
        {
          "line": 3427,
          "old_api": null,
          "new_api": "saveCurrentTuple",
          "old_text": null,
          "new_text": "saveCurrentTuple(pInfo->groupVal, pInfo->groupInfo, pBlock, i)",
          "old_line_content": "",
          "new_line_content": "        pInfo->hasGroupVal = saveCurrentTuple(pInfo->groupVal, pInfo->groupInfo, pBlock, i);",
          "content_same": false
        },
        {
          "line": 3437,
          "old_api": null,
          "new_api": "createOneDataBlock",
          "old_text": null,
          "new_text": "createOneDataBlock(pInfo->binfo.pRes, false)",
          "old_line_content": "    while (1) {",
          "new_line_content": "  SSDataBlock* pDataBlock = createOneDataBlock(pInfo->binfo.pRes, false);",
          "content_same": false
        },
        {
          "line": 3441,
          "old_api": null,
          "new_api": "blockDataCleanup",
          "old_text": null,
          "new_text": "blockDataCleanup(pDataBlock)",
          "old_line_content": "      }",
          "new_line_content": "    blockDataCleanup(pDataBlock);",
          "content_same": false
        },
        {
          "line": 3443,
          "old_api": null,
          "new_api": "tsortNextTuple",
          "old_text": null,
          "new_text": "tsortNextTuple(pHandle)",
          "old_line_content": "      // build datablock for merge for one group",
          "new_line_content": "      STupleHandle* pTupleHandle = tsortNextTuple(pHandle);",
          "content_same": false
        },
        {
          "line": 3449,
          "old_api": null,
          "new_api": "appendOneRowToDataBlock",
          "old_text": null,
          "new_text": "appendOneRowToDataBlock(pDataBlock, pTupleHandle)",
          "old_line_content": "",
          "new_line_content": "      appendOneRowToDataBlock(pDataBlock, pTupleHandle);",
          "content_same": false
        },
        {
          "line": 3459,
          "old_api": null,
          "new_api": "setInputDataBlock",
          "old_text": null,
          "new_text": "setInputDataBlock(pOperator, pInfo->binfo.pCtx, pDataBlock, TSDB_ORDER_ASC, MAIN_SCAN, true)",
          "old_line_content": "  }",
          "new_line_content": "    setInputDataBlock(pOperator, pInfo->binfo.pCtx, pDataBlock, TSDB_ORDER_ASC, MAIN_SCAN, true);",
          "content_same": false
        },
        {
          "line": 3466,
          "old_api": null,
          "new_api": "doFinalizeResultImpl",
          "old_text": null,
          "new_text": "doFinalizeResultImpl(pInfo->binfo.pCtx, pOperator->numOfExprs)",
          "old_line_content": "",
          "new_line_content": "  doFinalizeResultImpl(pInfo->binfo.pCtx, pOperator->numOfExprs);",
          "content_same": false
        },
        {
          "line": 3467,
          "old_api": null,
          "new_api": "getNumOfResult",
          "old_text": null,
          "new_text": "getNumOfResult(pInfo->binfo.pCtx, pOperator->numOfExprs, NULL)",
          "old_line_content": "  // next group info data",
          "new_line_content": "  int32_t numOfRows = getNumOfResult(pInfo->binfo.pCtx, pOperator->numOfExprs, NULL);",
          "content_same": false
        },
        {
          "line": 3485,
          "old_api": null,
          "new_api": "getSortedBlockData",
          "old_text": null,
          "new_text": "getSortedBlockData(pInfo->pSortHandle, pInfo->binfo.pRes, pOperator->resultInfo.capacity, NULL)",
          "old_line_content": "                                             numOfBufPage, pInfo->binfo.pRes, \"GET_TASKID(pTaskInfo)\");",
          "new_line_content": "    return getSortedBlockData(pInfo->pSortHandle, pInfo->binfo.pRes, pOperator->resultInfo.capacity, NULL);",
          "content_same": false
        },
        {
          "line": 3489,
          "old_api": null,
          "new_api": "tsortCreateSortHandle",
          "old_text": null,
          "new_text": "tsortCreateSortHandle(pInfo->pSortInfo, NULL, SORT_MULTISOURCE_MERGE, pInfo->bufPageSize,\n                                             numOfBufPage, pInfo->binfo.pRes, \"GET_TASKID(pTaskInfo)\")",
          "old_line_content": "  for (int32_t i = 0; i < pOperator->numOfDownstream; ++i) {",
          "new_line_content": "  pInfo->pSortHandle = tsortCreateSortHandle(pInfo->pSortInfo, NULL, SORT_MULTISOURCE_MERGE, pInfo->bufPageSize,",
          "content_same": false
        },
        {
          "line": 3500,
          "old_api": null,
          "new_api": "tsortOpen",
          "old_text": null,
          "new_text": "tsortOpen(pInfo->pSortHandle)",
          "old_line_content": "  pOperator->status = OP_RES_TO_RETURN;",
          "new_line_content": "  int32_t code = tsortOpen(pInfo->pSortHandle);",
          "content_same": false
        },
        {
          "line": 3502,
          "old_api": null,
          "new_api": "longjmp",
          "old_text": null,
          "new_text": "longjmp(pTaskInfo->env, terrno)",
          "old_line_content": "}",
          "new_line_content": "    longjmp(pTaskInfo->env, terrno);",
          "content_same": false
        },
        {
          "line": 3516,
          "old_api": null,
          "new_api": "taosArrayInit",
          "old_text": null,
          "new_text": "taosArrayInit(3, sizeof(SColumn))",
          "old_line_content": "  }",
          "new_line_content": "  SArray* plist = taosArrayInit(3, sizeof(SColumn));",
          "content_same": false
        },
        {
          "line": 3517,
          "old_api": null,
          "new_api": "taosArrayInit",
          "old_text": null,
          "new_text": "taosArrayInit(3, sizeof(int32_t))",
          "old_line_content": "",
          "new_line_content": "  pInfo->groupInfo = taosArrayInit(3, sizeof(int32_t));",
          "content_same": false
        },
        {
          "line": 3523,
          "old_api": null,
          "new_api": "taosArrayGetSize",
          "old_text": null,
          "new_text": "taosArrayGetSize(pInfo->groupInfo)",
          "old_line_content": "      if (pe->base.resSchema.slotId == pCol->colId) {",
          "new_line_content": "  size_t numOfGroupCol = taosArrayGetSize(pInfo->groupInfo);",
          "content_same": false
        },
        {
          "line": 3529,
          "old_api": null,
          "new_api": "taosArrayPush",
          "old_text": null,
          "new_text": "taosArrayPush(plist, pCol)",
          "old_line_content": "    }",
          "new_line_content": "        taosArrayPush(plist, pCol);",
          "content_same": false
        },
        {
          "line": 3530,
          "old_api": null,
          "new_api": "taosArrayPush",
          "old_text": null,
          "new_text": "taosArrayPush(pInfo->groupInfo, &j)",
          "old_line_content": "  }",
          "new_line_content": "        taosArrayPush(pInfo->groupInfo, &j);",
          "content_same": false
        },
        {
          "line": 3537,
          "old_api": null,
          "new_api": "taosArrayGetSize",
          "old_text": null,
          "new_text": "taosArrayGetSize(plist)",
          "old_line_content": "    return TSDB_CODE_OUT_OF_MEMORY;",
          "new_line_content": "  ASSERT(taosArrayGetSize(pGroupInfo) == taosArrayGetSize(plist));",
          "content_same": false
        },
        {
          "line": 3539,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(1, (POINTER_BYTES * numOfGroupCol + len))",
          "old_line_content": "",
          "new_line_content": "  pInfo->groupVal = taosMemoryCalloc(1, (POINTER_BYTES * numOfGroupCol + len));",
          "content_same": false
        },
        {
          "line": 3541,
          "old_api": null,
          "new_api": "taosArrayDestroy",
          "old_text": null,
          "new_text": "taosArrayDestroy(plist)",
          "old_line_content": "  char*   start = (char*)(pInfo->groupVal + (POINTER_BYTES * numOfGroupCol));",
          "new_line_content": "    taosArrayDestroy(plist);",
          "content_same": false
        },
        {
          "line": 3549,
          "old_api": null,
          "new_api": "taosArrayGet",
          "old_text": null,
          "new_text": "taosArrayGet(plist, i)",
          "old_line_content": "",
          "new_line_content": "    SColumn* pCol = taosArrayGet(plist, i);",
          "content_same": false
        },
        {
          "line": 3553,
          "old_api": null,
          "new_api": "taosArrayDestroy",
          "old_text": null,
          "new_text": "taosArrayDestroy(plist)",
          "old_line_content": "SOperatorInfo* createSortedMergeOperatorInfo(SOperatorInfo** downstream, int32_t numOfDownstream, SExprInfo* pExprInfo,",
          "new_line_content": "  taosArrayDestroy(plist);",
          "content_same": false
        },
        {
          "line": 3561,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(1, sizeof(SSortedMergeOperatorInfo))",
          "old_line_content": "",
          "new_line_content": "  SSortedMergeOperatorInfo* pInfo = taosMemoryCalloc(1, sizeof(SSortedMergeOperatorInfo));",
          "content_same": false
        },
        {
          "line": 3567,
          "old_api": null,
          "new_api": "createSqlFunctionCtx",
          "old_text": null,
          "new_text": "createSqlFunctionCtx(pExprInfo, num, &pInfo->binfo.rowCellInfoOffset)",
          "old_line_content": "  }",
          "new_line_content": "  pInfo->binfo.pCtx = createSqlFunctionCtx(pExprInfo, num, &pInfo->binfo.rowCellInfoOffset);",
          "content_same": false
        },
        {
          "line": 3568,
          "old_api": null,
          "new_api": "initResultRowInfo",
          "old_text": null,
          "new_text": "initResultRowInfo(&pInfo->binfo.resultRowInfo, (int32_t)1)",
          "old_line_content": "",
          "new_line_content": "  initResultRowInfo(&pInfo->binfo.resultRowInfo, (int32_t)1);",
          "content_same": false
        },
        {
          "line": 3580,
          "old_api": null,
          "new_api": "setFunctionResultOutput",
          "old_text": null,
          "new_text": "setFunctionResultOutput(&pInfo->binfo, &pInfo->aggSup, MAIN_SCAN, num, pTaskInfo)",
          "old_line_content": "",
          "new_line_content": "  setFunctionResultOutput(&pInfo->binfo, &pInfo->aggSup, MAIN_SCAN, num, pTaskInfo);",
          "content_same": false
        },
        {
          "line": 3581,
          "old_api": null,
          "new_api": "initGroupCol",
          "old_text": null,
          "new_text": "initGroupCol(pExprInfo, num, pGroupInfo, pInfo)",
          "old_line_content": "  //  pInfo->resultRowFactor = (int32_t)(getRowNumForMultioutput(pRuntimeEnv->pQueryAttr,",
          "new_line_content": "  code = initGroupCol(pExprInfo, num, pGroupInfo, pInfo);",
          "content_same": false
        },
        {
          "line": 3592,
          "old_api": null,
          "new_api": "blockDataGetCapacityInRow",
          "old_text": null,
          "new_text": "blockDataGetCapacityInRow(pInfo->binfo.pRes, pInfo->bufPageSize)",
          "old_line_content": "  pOperator->status = OP_NOT_OPENED;",
          "new_line_content": "  pOperator->resultInfo.capacity = blockDataGetCapacityInRow(pInfo->binfo.pRes, pInfo->bufPageSize);",
          "content_same": false
        },
        {
          "line": 3604,
          "old_api": null,
          "new_api": "createOperatorFpSet",
          "old_text": null,
          "new_text": "createOperatorFpSet(operatorDummyOpenFn, doSortedMerge, NULL, NULL, destroySortedMergeOperatorInfo,\n                                         NULL, NULL, NULL)",
          "old_line_content": "  }",
          "new_line_content": "  pOperator->fpSet = createOperatorFpSet(operatorDummyOpenFn, doSortedMerge, NULL, NULL, destroySortedMergeOperatorInfo,",
          "content_same": false
        },
        {
          "line": 3606,
          "old_api": null,
          "new_api": "appendDownstream",
          "old_text": null,
          "new_text": "appendDownstream(pOperator, downstream, numOfDownstream)",
          "old_line_content": "  return pOperator;",
          "new_line_content": "  code = appendDownstream(pOperator, downstream, numOfDownstream);",
          "content_same": false
        },
        {
          "line": 3615,
          "old_api": null,
          "new_api": "destroySortedMergeOperatorInfo",
          "old_text": null,
          "new_text": "destroySortedMergeOperatorInfo(pInfo, num)",
          "old_line_content": "  terrno = TSDB_CODE_QRY_OUT_OF_MEMORY;",
          "new_line_content": "    destroySortedMergeOperatorInfo(pInfo, num);",
          "content_same": false
        },
        {
          "line": 3618,
          "old_api": null,
          "new_api": "taosMemoryFreeClear",
          "old_text": null,
          "new_text": "taosMemoryFreeClear(pInfo)",
          "old_line_content": "",
          "new_line_content": "  taosMemoryFreeClear(pInfo);",
          "content_same": false
        },
        {
          "line": 3619,
          "old_api": null,
          "new_api": "taosMemoryFreeClear",
          "old_text": null,
          "new_text": "taosMemoryFreeClear(pOperator)",
          "old_line_content": "int32_t getTableScanInfo(SOperatorInfo* pOperator, int32_t *order, int32_t* scanFlag) {",
          "new_line_content": "  taosMemoryFreeClear(pOperator);",
          "content_same": false
        },
        {
          "line": 3639,
          "old_api": null,
          "new_api": "getTableScanInfo",
          "old_text": null,
          "new_text": "getTableScanInfo(pOperator->pDownstream[0], order, scanFlag)",
          "old_line_content": "// this is a blocking operator",
          "new_line_content": "      return getTableScanInfo(pOperator->pDownstream[0], order, scanFlag);",
          "content_same": false
        },
        {
          "line": 3646,
          "old_api": null,
          "new_api": "OPTR_IS_OPENED",
          "old_text": null,
          "new_text": "OPTR_IS_OPENED(pOperator)",
          "old_line_content": "  SAggOperatorInfo* pAggInfo = pOperator->info;",
          "new_line_content": "  if (OPTR_IS_OPENED(pOperator)) {",
          "content_same": false
        },
        {
          "line": 3660,
          "old_api": null,
          "new_api": "publishOperatorProfEvent",
          "old_text": null,
          "new_text": "publishOperatorProfEvent(downstream, QUERY_PROF_BEFORE_OPERATOR_EXEC)",
          "old_line_content": "      break;",
          "new_line_content": "    publishOperatorProfEvent(downstream, QUERY_PROF_BEFORE_OPERATOR_EXEC);",
          "content_same": false
        },
        {
          "line": 3661,
          "old_api": null,
          "new_api": "getNextFn",
          "old_text": null,
          "new_text": "downstream->fpSet.getNextFn(downstream)",
          "old_line_content": "    }",
          "new_line_content": "    SSDataBlock* pBlock = downstream->fpSet.getNextFn(downstream);",
          "content_same": false
        },
        {
          "line": 3662,
          "old_api": null,
          "new_api": "publishOperatorProfEvent",
          "old_text": null,
          "new_text": "publishOperatorProfEvent(downstream, QUERY_PROF_AFTER_OPERATOR_EXEC)",
          "old_line_content": "",
          "new_line_content": "    publishOperatorProfEvent(downstream, QUERY_PROF_AFTER_OPERATOR_EXEC);",
          "content_same": false
        },
        {
          "line": 3668,
          "old_api": null,
          "new_api": "getTableScanInfo",
          "old_text": null,
          "new_text": "getTableScanInfo(pOperator, &order, &scanFlag)",
          "old_line_content": "    // there is an scalar expression that needs to be calculated before apply the group aggregation.",
          "new_line_content": "    int32_t code = getTableScanInfo(pOperator, &order, &scanFlag);",
          "content_same": false
        },
        {
          "line": 3675,
          "old_api": null,
          "new_api": "projectApplyFunctions",
          "old_text": null,
          "new_text": "projectApplyFunctions(pAggInfo->pScalarExprInfo, pBlock, pBlock, pAggInfo->pScalarCtx,\n                                   pAggInfo->numOfScalarExpr, NULL)",
          "old_line_content": "    }",
          "new_line_content": "      code = projectApplyFunctions(pAggInfo->pScalarExprInfo, pBlock, pBlock, pAggInfo->pScalarCtx,",
          "content_same": false
        },
        {
          "line": 3683,
          "old_api": null,
          "new_api": "setExecutionContext",
          "old_text": null,
          "new_text": "setExecutionContext(pOperator->numOfExprs, pBlock->info.groupId, pTaskInfo, pAggInfo)",
          "old_line_content": "    }",
          "new_line_content": "    setExecutionContext(pOperator->numOfExprs, pBlock->info.groupId, pTaskInfo, pAggInfo);",
          "content_same": false
        },
        {
          "line": 3684,
          "old_api": null,
          "new_api": "setInputDataBlock",
          "old_text": null,
          "new_text": "setInputDataBlock(pOperator, pInfo->pCtx, pBlock, order, scanFlag, true)",
          "old_line_content": "",
          "new_line_content": "    setInputDataBlock(pOperator, pInfo->pCtx, pBlock, order, scanFlag, true);",
          "content_same": false
        },
        {
          "line": 3685,
          "old_api": null,
          "new_api": "doAggregateImpl",
          "old_text": null,
          "new_text": "doAggregateImpl(pOperator, 0, pInfo->pCtx)",
          "old_line_content": "#if 0  // test for encode/decode result info",
          "new_line_content": "    code = doAggregateImpl(pOperator, 0, pInfo->pCtx);",
          "content_same": false
        },
        {
          "line": 3687,
          "old_api": null,
          "new_api": "longjmp",
          "old_text": null,
          "new_text": "longjmp(pTaskInfo->env, code)",
          "old_line_content": "      char *result = NULL;",
          "new_line_content": "      longjmp(pTaskInfo->env, code);",
          "content_same": false
        },
        {
          "line": 3696,
          "old_api": null,
          "new_api": "taosHashClear",
          "old_text": null,
          "new_text": "taosHashClear(pSup->pResultRowHashTable)",
          "old_line_content": "      }",
          "new_line_content": "      taosHashClear(pSup->pResultRowHashTable);",
          "content_same": false
        },
        {
          "line": 3698,
          "old_api": null,
          "new_api": "decodeResultRow",
          "old_text": null,
          "new_text": "pOperator->decodeResultRow(pOperator, pSup, pInfo, result, length)",
          "old_line_content": "#endif",
          "new_line_content": "      pOperator->decodeResultRow(pOperator, pSup, pInfo, result, length);",
          "content_same": false
        },
        {
          "line": 3700,
          "old_api": null,
          "new_api": "taosMemoryFree",
          "old_text": null,
          "new_text": "taosMemoryFree(result)",
          "old_line_content": "",
          "new_line_content": "        taosMemoryFree(result);",
          "content_same": false
        },
        {
          "line": 3707,
          "old_api": null,
          "new_api": "finalizeMultiTupleQueryResult",
          "old_text": null,
          "new_text": "finalizeMultiTupleQueryResult(pOperator->numOfExprs, pAggInfo->aggSup.pResultBuf, &pAggInfo->binfo.resultRowInfo,\n                                pAggInfo->binfo.rowCellInfoOffset)",
          "old_line_content": "  return TSDB_CODE_SUCCESS;",
          "new_line_content": "  finalizeMultiTupleQueryResult(pOperator->numOfExprs, pAggInfo->aggSup.pResultBuf, &pAggInfo->binfo.resultRowInfo,",
          "content_same": false
        },
        {
          "line": 3710,
          "old_api": null,
          "new_api": "initGroupedResultInfo",
          "old_text": null,
          "new_text": "initGroupedResultInfo(&pAggInfo->groupResInfo, pAggInfo->aggSup.pResultRowHashTable, false)",
          "old_line_content": "static SSDataBlock* getAggregateResult(SOperatorInfo* pOperator) {",
          "new_line_content": "  initGroupedResultInfo(&pAggInfo->groupResInfo, pAggInfo->aggSup.pResultRowHashTable, false);",
          "content_same": false
        },
        {
          "line": 3711,
          "old_api": null,
          "new_api": "OPTR_SET_OPENED",
          "old_text": null,
          "new_text": "OPTR_SET_OPENED(pOperator)",
          "old_line_content": "  SAggOperatorInfo* pAggInfo = pOperator->info;",
          "new_line_content": "  OPTR_SET_OPENED(pOperator);",
          "content_same": false
        },
        {
          "line": 3729,
          "old_api": null,
          "new_api": "blockDataEnsureCapacity",
          "old_text": null,
          "new_text": "blockDataEnsureCapacity(pInfo->pRes, pOperator->resultInfo.capacity)",
          "old_line_content": "",
          "new_line_content": "  blockDataEnsureCapacity(pInfo->pRes, pOperator->resultInfo.capacity);",
          "content_same": false
        },
        {
          "line": 3732,
          "old_api": null,
          "new_api": "doSetOperatorCompleted",
          "old_text": null,
          "new_text": "doSetOperatorCompleted(pOperator)",
          "old_line_content": "}",
          "new_line_content": "    doSetOperatorCompleted(pOperator);",
          "content_same": false
        },
        {
          "line": 3735,
          "old_api": null,
          "new_api": "doSetOperatorCompleted",
          "old_text": null,
          "new_text": "doSetOperatorCompleted(pOperator)",
          "old_line_content": "                        int32_t* length) {",
          "new_line_content": "  doSetOperatorCompleted(pOperator);",
          "content_same": false
        },
        {
          "line": 3744,
          "old_api": null,
          "new_api": "taosMemoryCalloc",
          "old_text": null,
          "new_text": "taosMemoryCalloc(1, totalSize)",
          "old_line_content": "  int32_t offset = sizeof(int32_t);",
          "new_line_content": "  *result = taosMemoryCalloc(1, totalSize);",
          "content_same": false
        },
        {
          "line": 3746,
          "old_api": null,
          "new_api": "longjmp",
          "old_text": null,
          "new_text": "longjmp(pOperator->pTaskInfo->env, TSDB_CODE_OUT_OF_MEMORY)",
          "old_line_content": "  // prepare memory",
          "new_line_content": "    longjmp(pOperator->pTaskInfo->env, TSDB_CODE_OUT_OF_MEMORY);",
          "content_same": false
        },
        {
          "line": 3756,
          "old_api": null,
          "new_api": "releaseBufPage",
          "old_text": null,
          "new_text": "releaseBufPage(pSup->pResultBuf, pPage)",
          "old_line_content": "    SResultRowPosition* p1 = (SResultRowPosition*)pIter;",
          "new_line_content": "  releaseBufPage(pSup->pResultBuf, pPage);",
          "content_same": false
        },
        {
          "line": 3763,
          "old_api": null,
          "new_api": "getBufPage",
          "old_text": null,
          "new_text": "getBufPage(pSup->pResultBuf, p1->pageId)",
          "old_line_content": "    // recalculate the result size",
          "new_line_content": "    pPage = (SFilePage*)getBufPage(pSup->pResultBuf, p1->pageId);",
          "content_same": false
        },
        {
          "line": 3765,
          "old_api": null,
          "new_api": "setBufPageDirty",
          "old_text": null,
          "new_text": "setBufPageDirty(pPage, true)",
          "old_line_content": "    if (realTotalSize > totalSize) {",
          "new_line_content": "    setBufPageDirty(pPage, true);",
          "content_same": false
        },
        {
          "line": 3774,
          "old_api": null,
          "new_api": "taosMemoryFree",
          "old_text": null,
          "new_text": "taosMemoryFree(*result)",
          "old_line_content": "      }",
          "new_line_content": "        taosMemoryFree(*result);",
          "content_same": false
        },
        {
          "line": 3776,
          "old_api": null,
          "new_api": "longjmp",
          "old_text": null,
          "new_text": "longjmp(pOperator->pTaskInfo->env, TSDB_CODE_OUT_OF_MEMORY)",
          "old_line_content": "    // save key",
          "new_line_content": "        longjmp(pOperator->pTaskInfo->env, TSDB_CODE_OUT_OF_MEMORY);",
          "content_same": false
        },
        {
          "line": 3784,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(*result + offset, key, keyLen)",
          "old_line_content": "    offset += sizeof(int32_t);",
          "new_line_content": "    memcpy(*result + offset, key, keyLen);",
          "content_same": false
        },
        {
          "line": 3790,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(*result + offset, pRow, pSup->resultRowSize)",
          "old_line_content": "",
          "new_line_content": "    memcpy(*result + offset, pRow, pSup->resultRowSize);",
          "content_same": false
        },
        {
          "line": 3793,
          "old_api": null,
          "new_api": "taosHashIterate",
          "old_text": null,
          "new_text": "taosHashIterate(pSup->pResultRowHashTable, pIter)",
          "old_line_content": "  }",
          "new_line_content": "    pIter = taosHashIterate(pSup->pResultRowHashTable, pIter);",
          "content_same": false
        },
        {
          "line": 3817,
          "old_api": null,
          "new_api": "getNewResultRow_rv",
          "old_text": null,
          "new_text": "getNewResultRow_rv(pSup->pResultBuf, tableGroupId, pSup->resultRowSize)",
          "old_line_content": "    // add a new result set for a new group",
          "new_line_content": "    SResultRow* resultRow = getNewResultRow_rv(pSup->pResultBuf, tableGroupId, pSup->resultRowSize);",
          "content_same": false
        },
        {
          "line": 3839,
          "old_api": null,
          "new_api": "initResultRow",
          "old_text": null,
          "new_text": "initResultRow(resultRow)",
          "old_line_content": "    pInfo->resultRowInfo.cur = (SResultRowPosition){.pageId = resultRow->pageId, .offset = resultRow->offset};",
          "new_line_content": "    initResultRow(resultRow);",
          "content_same": false
        },
        {
          "line": 3840,
          "old_api": null,
          "new_api": "prepareResultListBuffer",
          "old_text": null,
          "new_text": "prepareResultListBuffer(&pInfo->resultRowInfo, pOperator->pTaskInfo->env)",
          "old_line_content": "  }",
          "new_line_content": "    prepareResultListBuffer(&pInfo->resultRowInfo, pOperator->pTaskInfo->env);",
          "content_same": false
        },
        {
          "line": 3848,
          "old_api": null,
          "new_api": "longjmp",
          "old_text": null,
          "new_text": "longjmp(pOperator->pTaskInfo->env, TSDB_CODE_TSC_INVALID_INPUT)",
          "old_line_content": "enum {",
          "new_line_content": "    longjmp(pOperator->pTaskInfo->env, TSDB_CODE_TSC_INVALID_INPUT);",
          "content_same": false
        },
        {
          "line": 3866,
          "old_api": null,
          "new_api": "blockDataCleanup",
          "old_text": null,
          "new_text": "blockDataCleanup(pInfo->pRes)",
          "old_line_content": "      // ignore data block in current group",
          "new_line_content": "      blockDataCleanup(pInfo->pRes);",
          "content_same": false
        },
        {
          "line": 3873,
          "old_api": null,
          "new_api": "blockDataCleanup",
          "old_text": null,
          "new_text": "blockDataCleanup(pInfo->pRes)",
          "old_line_content": "    // set current group id of the project operator",
          "new_line_content": "        blockDataCleanup(pInfo->pRes);",
          "content_same": false
        },
        {
          "line": 3886,
          "old_api": null,
          "new_api": "blockDataCleanup",
          "old_text": null,
          "new_text": "blockDataCleanup(pRes)",
          "old_line_content": "    // reset the value for a new group data",
          "new_line_content": "      blockDataCleanup(pRes);",
          "content_same": false
        },
        {
          "line": 3903,
          "old_api": null,
          "new_api": "blockDataCleanup",
          "old_text": null,
          "new_text": "blockDataCleanup(pRes)",
          "old_line_content": "  }",
          "new_line_content": "    blockDataCleanup(pRes);",
          "content_same": false
        },
        {
          "line": 3906,
          "old_api": null,
          "new_api": "blockDataTrimFirstNRows",
          "old_text": null,
          "new_text": "blockDataTrimFirstNRows(pRes, pProjectInfo->curOffset)",
          "old_line_content": "  if (pProjectInfo->limit.limit > 0 && pProjectInfo->curOutput + pRes->info.rows >= pProjectInfo->limit.limit) {",
          "new_line_content": "    blockDataTrimFirstNRows(pRes, pProjectInfo->curOffset);",
          "content_same": false
        },
        {
          "line": 3937,
          "old_api": null,
          "new_api": "blockDataCleanup",
          "old_text": null,
          "new_text": "blockDataCleanup(pRes)",
          "old_line_content": "  }",
          "new_line_content": "  blockDataCleanup(pRes);",
          "content_same": false
        },
        {
          "line": 3952,
          "old_api": null,
          "new_api": "blockDataEnsureCapacity",
          "old_text": null,
          "new_text": "blockDataEnsureCapacity(pInfo->pRes, pBlock->info.rows)",
          "old_line_content": "      return pRes;",
          "new_line_content": "    blockDataEnsureCapacity(pInfo->pRes, pBlock->info.rows);",
          "content_same": false
        },
        {
          "line": 3953,
          "old_api": null,
          "new_api": "projectApplyFunctions",
          "old_text": null,
          "new_text": "projectApplyFunctions(pOperator->pExpr, pInfo->pRes, pBlock, pInfo->pCtx, pOperator->numOfExprs)",
          "old_line_content": "    }",
          "new_line_content": "    projectApplyFunctions(pOperator->pExpr, pInfo->pRes, pBlock, pInfo->pCtx, pOperator->numOfExprs);",
          "content_same": false
        },
        {
          "line": 3955,
          "old_api": null,
          "new_api": "copyTsColoum",
          "old_text": null,
          "new_text": "copyTsColoum(pRes, pInfo->pCtx, pOperator->numOfExprs)",
          "old_line_content": "#endif",
          "new_line_content": "      copyTsColoum(pRes, pInfo->pCtx, pOperator->numOfExprs);",
          "content_same": false
        },
        {
          "line": 3956,
          "old_api": null,
          "new_api": "resetResultRowEntryResult",
          "old_text": null,
          "new_text": "resetResultRowEntryResult(pInfo->pCtx, pOperator->numOfExprs)",
          "old_line_content": "",
          "new_line_content": "      resetResultRowEntryResult(pInfo->pCtx, pOperator->numOfExprs);",
          "content_same": false
        },
        {
          "line": 3970,
          "old_api": null,
          "new_api": "getNextFn",
          "old_text": null,
          "new_text": "downstream->fpSet.getNextFn(downstream)",
          "old_line_content": "      break;",
          "new_line_content": "    SSDataBlock* pBlock = downstream->fpSet.getNextFn(downstream);",
          "content_same": false
        },
        {
          "line": 3971,
          "old_api": null,
          "new_api": "publishOperatorProfEvent",
          "old_text": null,
          "new_text": "publishOperatorProfEvent(downstream, QUERY_PROF_AFTER_OPERATOR_EXEC)",
          "old_line_content": "    }",
          "new_line_content": "    publishOperatorProfEvent(downstream, QUERY_PROF_AFTER_OPERATOR_EXEC);",
          "content_same": false
        },
        {
          "line": 3974,
          "old_api": null,
          "new_api": "setTaskStatus",
          "old_text": null,
          "new_text": "setTaskStatus(pOperator->pTaskInfo, TASK_COMPLETED)",
          "old_line_content": "    if (false) {",
          "new_line_content": "      setTaskStatus(pOperator->pTaskInfo, TASK_COMPLETED);",
          "content_same": false
        },
        {
          "line": 3992,
          "old_api": null,
          "new_api": "blockDataEnsureCapacity",
          "old_text": null,
          "new_text": "blockDataEnsureCapacity(pInfo->pRes, pInfo->pRes->info.rows + pBlock->info.rows)",
          "old_line_content": "    }",
          "new_line_content": "    blockDataEnsureCapacity(pInfo->pRes, pInfo->pRes->info.rows + pBlock->info.rows);",
          "content_same": false
        },
        {
          "line": 3996,
          "old_api": null,
          "new_api": "longjmp",
          "old_text": null,
          "new_text": "longjmp(pTaskInfo->env, code)",
          "old_line_content": "      continue;",
          "new_line_content": "      longjmp(pTaskInfo->env, code);",
          "content_same": false
        },
        {
          "line": 3999,
          "old_api": null,
          "new_api": "handleLimitOffset",
          "old_text": null,
          "new_text": "handleLimitOffset(pOperator, pBlock)",
          "old_line_content": "    }",
          "new_line_content": "    int32_t status = handleLimitOffset(pOperator, pBlock);",
          "content_same": false
        },
        {
          "line": 4021,
          "old_api": null,
          "new_api": "taosFillSetStartInfo",
          "old_text": null,
          "new_text": "taosFillSetStartInfo(pInfo->pFillInfo, pInfo->existNewGroupBlock->info.rows, ekey)",
          "old_line_content": "  *newgroup = true;",
          "new_line_content": "  taosFillSetStartInfo(pInfo->pFillInfo, pInfo->existNewGroupBlock->info.rows, ekey);",
          "content_same": false
        },
        {
          "line": 4022,
          "old_api": null,
          "new_api": "taosFillSetInputDataBlock",
          "old_text": null,
          "new_text": "taosFillSetInputDataBlock(pInfo->pFillInfo, pInfo->existNewGroupBlock)",
          "old_line_content": "}",
          "new_line_content": "  taosFillSetInputDataBlock(pInfo->pFillInfo, pInfo->existNewGroupBlock);",
          "content_same": false
        },
        {
          "line": 4024,
          "old_api": null,
          "new_api": "doFillTimeIntervalGapsInResults",
          "old_text": null,
          "new_text": "doFillTimeIntervalGapsInResults(pInfo->pFillInfo, pInfo->pRes, pResultInfo->capacity)",
          "old_line_content": "static void doHandleRemainBlockFromNewGroup(SFillOperatorInfo* pInfo, SResultInfo* pResultInfo, bool* newgroup,",
          "new_line_content": "  doFillTimeIntervalGapsInResults(pInfo->pFillInfo, pInfo->pRes, pResultInfo->capacity);",
          "content_same": false
        },
        {
          "line": 4031,
          "old_api": null,
          "new_api": "taosFillHasMoreResults",
          "old_text": null,
          "new_text": "taosFillHasMoreResults(pInfo->pFillInfo)",
          "old_line_content": "    }",
          "new_line_content": "  if (taosFillHasMoreResults(pInfo->pFillInfo)) {",
          "content_same": false
        },
        {
          "line": 4033,
          "old_api": null,
          "new_api": "doFillTimeIntervalGapsInResults",
          "old_text": null,
          "new_text": "doFillTimeIntervalGapsInResults(pInfo->pFillInfo, pInfo->pRes, (int32_t)pResultInfo->capacity)",
          "old_line_content": "",
          "new_line_content": "    doFillTimeIntervalGapsInResults(pInfo->pFillInfo, pInfo->pRes, (int32_t)pResultInfo->capacity);",
          "content_same": false
        },
        {
          "line": 4041,
          "old_api": null,
          "new_api": "doHandleRemainBlockForNewGroupImpl",
          "old_text": null,
          "new_text": "doHandleRemainBlockForNewGroupImpl(pInfo, pResultInfo, newgroup, pTaskInfo)",
          "old_line_content": "  SFillOperatorInfo* pInfo = pOperator->info;",
          "new_line_content": "    doHandleRemainBlockForNewGroupImpl(pInfo, pResultInfo, newgroup, pTaskInfo);",
          "content_same": false
        },
        {
          "line": 4052,
          "old_api": null,
          "new_api": "blockDataCleanup",
          "old_text": null,
          "new_text": "blockDataCleanup(pResBlock)",
          "old_line_content": "  // todo handle different group data interpolation",
          "new_line_content": "  blockDataCleanup(pResBlock);",
          "content_same": false
        },
        {
          "line": 4060,
          "old_api": null,
          "new_api": "doHandleRemainBlockFromNewGroup",
          "old_text": null,
          "new_text": "doHandleRemainBlockFromNewGroup(pInfo, pResultInfo, newgroup, pTaskInfo)",
          "old_line_content": "  SOperatorInfo* pDownstream = pOperator->pDownstream[0];",
          "new_line_content": "  doHandleRemainBlockFromNewGroup(pInfo, pResultInfo, newgroup, pTaskInfo);",
          "content_same": false
        },
        {
          "line": 4068,
          "old_api": null,
          "new_api": "getNextFn",
          "old_text": null,
          "new_text": "pDownstream->fpSet.getNextFn(pDownstream)",
          "old_line_content": "    }",
          "new_line_content": "    SSDataBlock* pBlock = pDownstream->fpSet.getNextFn(pDownstream);",
          "content_same": false
        },
        {
          "line": 4069,
          "old_api": null,
          "new_api": "publishOperatorProfEvent",
          "old_text": null,
          "new_text": "publishOperatorProfEvent(pDownstream, QUERY_PROF_AFTER_OPERATOR_EXEC)",
          "old_line_content": "",
          "new_line_content": "    publishOperatorProfEvent(pDownstream, QUERY_PROF_AFTER_OPERATOR_EXEC);",
          "content_same": false
        },
        {
          "line": 4072,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(pBlock != NULL)",
          "old_line_content": "      *newgroup = false;",
          "new_line_content": "      assert(pBlock != NULL);",
          "content_same": false
        },
        {
          "line": 4081,
          "old_api": null,
          "new_api": "taosFillSetStartInfo",
          "old_text": null,
          "new_text": "taosFillSetStartInfo(pInfo->pFillInfo, 0, pTaskInfo->window.ekey)",
          "old_line_content": "          return NULL;",
          "new_line_content": "      taosFillSetStartInfo(pInfo->pFillInfo, 0, pTaskInfo->window.ekey);",
          "content_same": false
        },
        {
          "line": 4089,
          "old_api": null,
          "new_api": "taosFillSetStartInfo",
          "old_text": null,
          "new_text": "taosFillSetStartInfo(pInfo->pFillInfo, 0, pTaskInfo->window.ekey)",
          "old_line_content": "      }",
          "new_line_content": "        taosFillSetStartInfo(pInfo->pFillInfo, 0, pTaskInfo->window.ekey);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 4103,
          "old_api": "doHandleRemainBlockFromNewGroup",
          "new_api": null,
          "old_text": "doHandleRemainBlockFromNewGroup(pInfo, pResultInfo, newgroup, pTaskInfo)",
          "new_text": null,
          "old_line_content": "      doHandleRemainBlockFromNewGroup(pInfo, pResultInfo, newgroup, pTaskInfo);",
          "new_line_content": "      // 2. If multiple group results existing in one SSDataBlock is not allowed, return immediately",
          "content_same": false
        },
        {
          "line": 4109,
          "old_api": "doHandleRemainBlockForNewGroupImpl",
          "new_api": null,
          "old_text": "doHandleRemainBlockForNewGroupImpl(pInfo, pResultInfo, newgroup, pTaskInfo)",
          "new_text": null,
          "old_line_content": "      doHandleRemainBlockForNewGroupImpl(pInfo, pResultInfo, newgroup, pTaskInfo);",
          "new_line_content": "      if (pResBlock->info.rows > pOperator->resultInfo.threshold || pBlock == NULL) {",
          "content_same": false
        },
        {
          "line": 2064,
          "old_api": "colDataIsNull_s",
          "new_api": null,
          "old_text": "colDataIsNull_s(pSrc, j)",
          "new_text": null,
          "old_line_content": "        if (colDataIsNull_s(pSrc, j)) {",
          "new_line_content": "      for (int32_t j = 0; j < totalRows; ++j) {",
          "content_same": false
        },
        {
          "line": 2065,
          "old_api": "colDataAppendNULL",
          "new_api": null,
          "old_text": "colDataAppendNULL(pDst, numOfRows)",
          "new_text": null,
          "old_line_content": "          colDataAppendNULL(pDst, numOfRows);",
          "new_line_content": "        if (rowRes[j] == 0) {",
          "content_same": false
        },
        {
          "line": 2067,
          "old_api": "colDataGetData",
          "new_api": null,
          "old_text": "colDataGetData(pSrc, j)",
          "new_text": null,
          "old_line_content": "          colDataAppend(pDst, numOfRows, colDataGetData(pSrc, j), false);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4122,
          "old_api": "getExprFunctionId",
          "new_api": null,
          "old_text": "getExprFunctionId(&pQueryAttr->pExpr1[i])",
          "new_text": null,
          "old_line_content": "    int32_t functionId = getExprFunctionId(&pQueryAttr->pExpr1[i]);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2075,
          "old_api": "ASSERT",
          "new_api": null,
          "old_text": "ASSERT(pBlock->info.rows == numOfRows)",
          "new_text": null,
          "old_line_content": "        ASSERT(pBlock->info.rows == numOfRows);",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 4137,
          "old_api": "closeFn",
          "new_api": null,
          "old_text": "pOperator->fpSet.closeFn(pOperator->info, pOperator->numOfExprs)",
          "new_text": null,
          "old_line_content": "    pOperator->fpSet.closeFn(pOperator->info, pOperator->numOfExprs);",
          "new_line_content": "  if (pOperator == NULL) {",
          "content_same": false
        },
        {
          "line": 2095,
          "old_api": "doSetResultOutBufByKey",
          "new_api": null,
          "old_text": "doSetResultOutBufByKey(pAggInfo->aggSup.pResultBuf, pResultRowInfo, (char*)&groupId,\n                                                  sizeof(groupId), true, groupId, pTaskInfo, false, &pAggInfo->aggSup)",
          "new_text": null,
          "old_line_content": "  SResultRow* pResultRow = doSetResultOutBufByKey(pAggInfo->aggSup.pResultBuf, pResultRowInfo, (char*)&groupId,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2097,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(pResultRow != NULL)",
          "new_text": null,
          "old_line_content": "  assert(pResultRow != NULL);",
          "new_line_content": "  SqlFunctionCtx* pCtx = pAggInfo->binfo.pCtx;",
          "content_same": false
        },
        {
          "line": 4145,
          "old_api": "taosMemoryFreeClear",
          "new_api": null,
          "old_text": "taosMemoryFreeClear(pOperator->pDownstream)",
          "new_text": null,
          "old_line_content": "    taosMemoryFreeClear(pOperator->pDownstream);",
          "new_line_content": "  if (pOperator->pDownstream != NULL) {",
          "content_same": false
        },
        {
          "line": 2105,
          "old_api": "addNewWindowResultBuf",
          "new_api": null,
          "old_text": "addNewWindowResultBuf(pResultRow, pAggInfo->aggSup.pResultBuf, groupId, pAggInfo->binfo.pRes->info.rowSize)",
          "new_text": null,
          "old_line_content": "        addNewWindowResultBuf(pResultRow, pAggInfo->aggSup.pResultBuf, groupId, pAggInfo->binfo.pRes->info.rowSize);",
          "new_line_content": "   * not assign result buffer yet, add new result buffer",
          "content_same": false
        },
        {
          "line": 4153,
          "old_api": "taosMemoryFree",
          "new_api": null,
          "old_text": "taosMemoryFree(pExprInfo->base.pParam[0].pCol)",
          "new_text": null,
          "old_line_content": "        taosMemoryFree(pExprInfo->base.pParam[0].pCol);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4155,
          "old_api": "taosMemoryFree",
          "new_api": null,
          "old_text": "taosMemoryFree(pExprInfo->base.pParam)",
          "new_text": null,
          "old_line_content": "      taosMemoryFree(pExprInfo->base.pParam);",
          "new_line_content": "    for (int32_t i = 0; i < pOperator->numOfExprs; ++i) {",
          "content_same": false
        },
        {
          "line": 4156,
          "old_api": "taosMemoryFree",
          "new_api": null,
          "old_text": "taosMemoryFree(pExprInfo->pExpr)",
          "new_text": null,
          "old_line_content": "      taosMemoryFree(pExprInfo->pExpr);",
          "new_line_content": "      SExprInfo* pExprInfo = &pOperator->pExpr[i];",
          "content_same": false
        },
        {
          "line": 2111,
          "old_api": "setResultRowInitCtx",
          "new_api": null,
          "old_text": "setResultRowInitCtx(pResultRow, pCtx, numOfOutput, rowCellInfoOffset)",
          "new_text": null,
          "old_line_content": "  setResultRowInitCtx(pResultRow, pCtx, numOfOutput, rowCellInfoOffset);",
          "new_line_content": "    if (ret != TSDB_CODE_SUCCESS) {",
          "content_same": false
        },
        {
          "line": 4162,
          "old_api": "taosMemoryFreeClear",
          "new_api": null,
          "old_text": "taosMemoryFreeClear(pOperator)",
          "new_text": null,
          "old_line_content": "  taosMemoryFreeClear(pOperator);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2119,
          "old_api": "doSetTableGroupOutputBuf",
          "new_api": null,
          "old_text": "doSetTableGroupOutputBuf(pAggInfo, numOfOutput, groupId, pTaskInfo)",
          "new_text": null,
          "old_line_content": "  doSetTableGroupOutputBuf(pAggInfo, numOfOutput, groupId, pTaskInfo);",
          "new_line_content": "void setExecutionContext(int32_t numOfOutput, uint64_t groupId, SExecTaskInfo* pTaskInfo, SAggOperatorInfo* pAggInfo) {",
          "content_same": false
        },
        {
          "line": 4169,
          "old_api": "getResultRowSize",
          "new_api": null,
          "old_text": "getResultRowSize(pCtx, numOfOutput)",
          "new_text": null,
          "old_line_content": "  pAggSup->resultRowSize = getResultRowSize(pCtx, numOfOutput);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4170,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(1, keyBufSize + POINTER_BYTES + sizeof(int64_t))",
          "new_text": null,
          "old_line_content": "  pAggSup->keyBuf = taosMemoryCalloc(1, keyBufSize + POINTER_BYTES + sizeof(int64_t));",
          "new_line_content": "int32_t doInitAggInfoSup(SAggSupporter* pAggSup, SqlFunctionCtx* pCtx, int32_t numOfOutput, size_t keyBufSize,",
          "content_same": false
        },
        {
          "line": 4171,
          "old_api": "taosHashInit",
          "new_api": null,
          "old_text": "taosHashInit(10, hashFn, true, HASH_NO_LOCK)",
          "new_text": null,
          "old_line_content": "  pAggSup->pResultRowHashTable = taosHashInit(10, hashFn, true, HASH_NO_LOCK);",
          "new_line_content": "                         const char* pKey) {",
          "content_same": false
        },
        {
          "line": 2135,
          "old_api": "getNumOfTotalRes",
          "new_api": null,
          "old_text": "getNumOfTotalRes(pGroupResInfo)",
          "new_text": null,
          "old_line_content": "  int32_t numOfRows = getNumOfTotalRes(pGroupResInfo);",
          "new_line_content": " * @param pQInfo",
          "content_same": false
        },
        {
          "line": 4188,
          "old_api": "createDiskbasedBuf",
          "new_api": null,
          "old_text": "createDiskbasedBuf(&pAggSup->pResultBuf, defaultPgsz, defaultBufsz, pKey, \"/tmp/\")",
          "new_text": null,
          "old_line_content": "  int32_t code = createDiskbasedBuf(&pAggSup->pResultBuf, defaultPgsz, defaultBufsz, pKey, \"/tmp/\");",
          "new_line_content": "  int32_t defaultBufsz = 4096 * 256;",
          "content_same": false
        },
        {
          "line": 2142,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(orderType == TSDB_ORDER_ASC || orderType == TSDB_ORDER_DESC)",
          "new_text": null,
          "old_line_content": "  assert(orderType == TSDB_ORDER_ASC || orderType == TSDB_ORDER_DESC);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4197,
          "old_api": "taosMemoryFreeClear",
          "new_api": null,
          "old_text": "taosMemoryFreeClear(pAggSup->keyBuf)",
          "new_text": null,
          "old_line_content": "  taosMemoryFreeClear(pAggSup->keyBuf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4198,
          "old_api": "taosHashCleanup",
          "new_api": null,
          "old_text": "taosHashCleanup(pAggSup->pResultRowHashTable)",
          "new_text": null,
          "old_line_content": "  taosHashCleanup(pAggSup->pResultRowHashTable);",
          "new_line_content": "  return TSDB_CODE_SUCCESS;",
          "content_same": false
        },
        {
          "line": 2151,
          "old_api": "taosArrayGetP",
          "new_api": null,
          "old_text": "taosArrayGetP(pGroupResInfo->pRows, i)",
          "new_text": null,
          "old_line_content": "    SResKeyPos* pPos = taosArrayGetP(pGroupResInfo->pRows, i);",
          "new_line_content": "  } else {  // desc order copy all data",
          "content_same": false
        },
        {
          "line": 2152,
          "old_api": "getBufPage",
          "new_api": null,
          "old_text": "getBufPage(pBuf, pPos->pos.pageId)",
          "new_text": null,
          "old_line_content": "    SFilePage*  page = getBufPage(pBuf, pPos->pos.pageId);",
          "new_line_content": "    start = numOfRows - pGroupResInfo->index - 1;",
          "content_same": false
        },
        {
          "line": 4199,
          "old_api": "destroyDiskbasedBuf",
          "new_api": null,
          "old_text": "destroyDiskbasedBuf(pAggSup->pResultBuf)",
          "new_text": null,
          "old_line_content": "  destroyDiskbasedBuf(pAggSup->pResultBuf);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4207,
          "old_api": "doInitAggInfoSup",
          "new_api": null,
          "old_text": "doInitAggInfoSup(pAggSup, pBasicInfo->pCtx, numOfCols, keyBufSize, pkey)",
          "new_text": null,
          "old_line_content": "  doInitAggInfoSup(pAggSup, pBasicInfo->pCtx, numOfCols, keyBufSize, pkey);",
          "new_line_content": "int32_t initAggInfo(SOptrBasicInfo* pBasicInfo, SAggSupporter* pAggSup, SExprInfo* pExprInfo, int32_t numOfCols,",
          "content_same": false
        },
        {
          "line": 2171,
          "old_api": "getResultCell",
          "new_api": null,
          "old_text": "getResultCell(pRow, j, rowCellOffset)",
          "new_text": null,
          "old_line_content": "      pCtx[j].resultInfo = getResultCell(pRow, j, rowCellOffset);",
          "new_line_content": "    pGroupResInfo->index += 1;",
          "content_same": false
        },
        {
          "line": 2173,
          "old_api": "finalize",
          "new_api": null,
          "old_text": "pCtx[j].fpSet.finalize(&pCtx[j], pBlock)",
          "new_text": null,
          "old_line_content": "        int32_t code = pCtx[j].fpSet.finalize(&pCtx[j], pBlock);",
          "new_line_content": "    for (int32_t j = 0; j < numOfExprs; ++j) {",
          "content_same": false
        },
        {
          "line": 2174,
          "old_api": "TAOS_FAILED",
          "new_api": null,
          "old_text": "TAOS_FAILED(code)",
          "new_text": null,
          "old_line_content": "        if (TAOS_FAILED(code)) {",
          "new_line_content": "      int32_t slotId = pExprInfo[j].base.resSchema.slotId;",
          "content_same": false
        },
        {
          "line": 2175,
          "old_api": "tstrerror",
          "new_api": null,
          "old_text": "tstrerror(code)",
          "new_text": null,
          "old_line_content": "          qError(\"%s build result data block error, code %s\", GET_TASKID(taskInfo), tstrerror(code));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2177,
          "old_api": "longjmp",
          "new_api": null,
          "old_text": "longjmp(taskInfo->env, code)",
          "new_text": null,
          "old_line_content": "          longjmp(taskInfo->env, code);",
          "new_line_content": "      if (pCtx[j].fpSet.finalize) {",
          "content_same": false
        },
        {
          "line": 4230,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(pTableGroupInfo->numOfTables, sizeof(STableQueryInfo))",
          "new_text": null,
          "old_line_content": "  STableQueryInfo* pTableQueryInfo = taosMemoryCalloc(pTableGroupInfo->numOfTables, sizeof(STableQueryInfo));",
          "new_line_content": "static STableQueryInfo* initTableQueryInfo(const STableGroupInfo* pTableGroupInfo) {",
          "content_same": false
        },
        {
          "line": 2185,
          "old_api": "GET_ROWCELL_INTERBUF",
          "new_api": null,
          "old_text": "GET_ROWCELL_INTERBUF(pCtx[j].resultInfo)",
          "new_text": null,
          "old_line_content": "          char* in = GET_ROWCELL_INTERBUF(pCtx[j].resultInfo);",
          "new_line_content": "        // do nothing, todo refactor",
          "content_same": false
        },
        {
          "line": 2187,
          "old_api": "colDataAppend",
          "new_api": null,
          "old_text": "colDataAppend(pColInfoData, pBlock->info.rows + k, in, pCtx[j].resultInfo->isNullRes)",
          "new_text": null,
          "old_line_content": "            colDataAppend(pColInfoData, pBlock->info.rows + k, in, pCtx[j].resultInfo->isNullRes);",
          "new_line_content": "        // expand the result into multiple rows. E.g., _wstartts, top(k, 20)",
          "content_same": false
        },
        {
          "line": 4236,
          "old_api": "taosArrayGetSize",
          "new_api": null,
          "old_text": "taosArrayGetSize(pTableGroupInfo->pGroupList)",
          "new_text": null,
          "old_line_content": "  for (int32_t i = 0; i < taosArrayGetSize(pTableGroupInfo->pGroupList); ++i) {",
          "new_line_content": "  if (pTableQueryInfo == NULL) {",
          "content_same": false
        },
        {
          "line": 4237,
          "old_api": "taosArrayGetP",
          "new_api": null,
          "old_text": "taosArrayGetP(pTableGroupInfo->pGroupList, i)",
          "new_text": null,
          "old_line_content": "    SArray* pa = taosArrayGetP(pTableGroupInfo->pGroupList, i);",
          "new_line_content": "    return NULL;",
          "content_same": false
        },
        {
          "line": 4238,
          "old_api": "taosArrayGetSize",
          "new_api": null,
          "old_text": "taosArrayGetSize(pa)",
          "new_text": null,
          "old_line_content": "    for (int32_t j = 0; j < taosArrayGetSize(pa); ++j) {",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 4239,
          "old_api": "taosArrayGet",
          "new_api": null,
          "old_text": "taosArrayGet(pa, j)",
          "new_text": null,
          "old_line_content": "      STableKeyInfo* pk = taosArrayGet(pa, j);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4246,
          "old_api": "createTableQueryInfo",
          "new_api": null,
          "old_text": "createTableQueryInfo(pTableQueryInfo, win)",
          "new_text": null,
          "old_line_content": "  createTableQueryInfo(pTableQueryInfo, win);",
          "new_line_content": "      pTQueryInfo->lastKey = pk->lastKey;",
          "content_same": false
        },
        {
          "line": 2201,
          "old_api": "blockDataUpdateTsWindow",
          "new_api": null,
          "old_text": "blockDataUpdateTsWindow(pBlock)",
          "new_text": null,
          "old_line_content": "  blockDataUpdateTsWindow(pBlock);",
          "new_line_content": "      break;",
          "content_same": false
        },
        {
          "line": 4254,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(1, sizeof(SAggOperatorInfo))",
          "new_text": null,
          "old_line_content": "  SAggOperatorInfo* pInfo = taosMemoryCalloc(1, sizeof(SAggOperatorInfo));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4255,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(1, sizeof(SOperatorInfo))",
          "new_text": null,
          "old_line_content": "  SOperatorInfo*    pOperator = taosMemoryCalloc(1, sizeof(SOperatorInfo));",
          "new_line_content": "SOperatorInfo* createAggregateOperatorInfo(SOperatorInfo* downstream, SExprInfo* pExprInfo, int32_t numOfCols,",
          "content_same": false
        },
        {
          "line": 4263,
          "old_api": "initResultSizeInfo",
          "new_api": null,
          "old_text": "initResultSizeInfo(pOperator, numOfRows)",
          "new_text": null,
          "old_line_content": "  initResultSizeInfo(pOperator, numOfRows);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2216,
          "old_api": "blockDataCleanup",
          "new_api": null,
          "old_text": "blockDataCleanup(pBlock)",
          "new_text": null,
          "old_line_content": "  blockDataCleanup(pBlock);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2217,
          "old_api": "hasRemainDataInCurrentGroup",
          "new_api": null,
          "old_text": "hasRemainDataInCurrentGroup(pGroupResInfo)",
          "new_text": null,
          "old_line_content": "  if (!hasRemainDataInCurrentGroup(pGroupResInfo)) {",
          "new_line_content": "  int32_t*        rowCellOffset = pbInfo->rowCellInfoOffset;",
          "content_same": false
        },
        {
          "line": 4265,
          "old_api": "initAggInfo",
          "new_api": null,
          "old_text": "initAggInfo(&pInfo->binfo, &pInfo->aggSup, pExprInfo, numOfCols, pResultBlock, keyBufSize, pTaskInfo->id.str)",
          "new_text": null,
          "old_line_content": "      initAggInfo(&pInfo->binfo, &pInfo->aggSup, pExprInfo, numOfCols, pResultBlock, keyBufSize, pTaskInfo->id.str);",
          "new_line_content": "  int32_t numOfRows = 10;",
          "content_same": false
        },
        {
          "line": 4266,
          "old_api": "initTableQueryInfo",
          "new_api": null,
          "old_text": "initTableQueryInfo(pTableGroupInfo)",
          "new_text": null,
          "old_line_content": "  pInfo->pTableQueryInfo = initTableQueryInfo(pTableGroupInfo);",
          "new_line_content": "  size_t  keyBufSize = sizeof(int64_t) + sizeof(int64_t) + POINTER_BYTES;",
          "content_same": false
        },
        {
          "line": 2225,
          "old_api": "blockDataUpdateTsWindow",
          "new_api": null,
          "old_text": "blockDataUpdateTsWindow(pBlock)",
          "new_text": null,
          "old_line_content": "  blockDataUpdateTsWindow(pBlock);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4273,
          "old_api": "initResultRowInfo",
          "new_api": null,
          "old_text": "initResultRowInfo(&pInfo->binfo.resultRowInfo, numOfGroup)",
          "new_text": null,
          "old_line_content": "  initResultRowInfo(&pInfo->binfo.resultRowInfo, numOfGroup);",
          "new_line_content": "    goto _error;",
          "content_same": false
        },
        {
          "line": 4290,
          "old_api": "createOperatorFpSet",
          "new_api": null,
          "old_text": "createOperatorFpSet(doOpenAggregateOptr, getAggregateResult, NULL, NULL, destroyAggOperatorInfo,\n                                         aggEncodeResultRow, aggDecodeResultRow, NULL)",
          "new_text": null,
          "old_line_content": "  pOperator->fpSet = createOperatorFpSet(doOpenAggregateOptr, getAggregateResult, NULL, NULL, destroyAggOperatorInfo,",
          "new_line_content": "  pOperator->info = pInfo;",
          "content_same": false
        },
        {
          "line": 2244,
          "old_api": "getResultCell",
          "new_api": null,
          "old_text": "getResultCell(pResult, j, rowCellInfoOffset)",
          "new_text": null,
          "old_line_content": "      SResultRowEntryInfo* pCell = getResultCell(pResult, j, rowCellInfoOffset);",
          "new_line_content": "      int32_t functionId = pCtx[j].functionId;",
          "content_same": false
        },
        {
          "line": 2245,
          "old_api": "TMAX",
          "new_api": null,
          "old_text": "TMAX(pResult->numOfRows, pCell->numOfRes)",
          "new_text": null,
          "old_line_content": "      pResult->numOfRows = (uint16_t)(TMAX(pResult->numOfRows, pCell->numOfRes));",
          "new_line_content": "      if (functionId == FUNCTION_TS || functionId == FUNCTION_TAG || functionId == FUNCTION_TAGPRJ) {",
          "content_same": false
        },
        {
          "line": 4293,
          "old_api": "appendDownstream",
          "new_api": null,
          "old_text": "appendDownstream(pOperator, &downstream, 1)",
          "new_text": null,
          "old_line_content": "  code = appendDownstream(pOperator, &downstream, 1);",
          "new_line_content": "  pOperator->pTaskInfo = pTaskInfo;",
          "content_same": false
        },
        {
          "line": 4300,
          "old_api": "destroyAggOperatorInfo",
          "new_api": null,
          "old_text": "destroyAggOperatorInfo(pInfo, numOfCols)",
          "new_text": null,
          "old_line_content": "  destroyAggOperatorInfo(pInfo, numOfCols);",
          "new_line_content": "    goto _error;",
          "content_same": false
        },
        {
          "line": 2253,
          "old_api": "*(tDataTypes[pColRes->info.type].compFunc))(pColRes->pData, colSize, numOfRows, data,\n                                                      colSize + COMP_OVERFLOW_BYTES, compressed, NULL, 0)",
          "new_api": null,
          "old_text": "*(tDataTypes[pColRes->info.type].compFunc))(pColRes->pData, colSize, numOfRows, data,\n                                                      colSize + COMP_OVERFLOW_BYTES, compressed, NULL, 0)",
          "new_text": null,
          "old_line_content": "  return (*(tDataTypes[pColRes->info.type].compFunc))(pColRes->pData, colSize, numOfRows, data,",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 4301,
          "old_api": "taosMemoryFreeClear",
          "new_api": null,
          "old_text": "taosMemoryFreeClear(pInfo)",
          "new_text": null,
          "old_line_content": "  taosMemoryFreeClear(pInfo);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 4302,
          "old_api": "taosMemoryFreeClear",
          "new_api": null,
          "old_text": "taosMemoryFreeClear(pOperator)",
          "new_text": null,
          "old_line_content": "  taosMemoryFreeClear(pOperator);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4308,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(pInfo != NULL)",
          "new_text": null,
          "old_line_content": "  assert(pInfo != NULL);",
          "new_line_content": "  pTaskInfo->code = TSDB_CODE_OUT_OF_MEMORY;",
          "content_same": false
        },
        {
          "line": 4310,
          "old_api": "destroySqlFunctionCtx",
          "new_api": null,
          "old_text": "destroySqlFunctionCtx(pInfo->pCtx, numOfOutput)",
          "new_text": null,
          "old_line_content": "  destroySqlFunctionCtx(pInfo->pCtx, numOfOutput);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2263,
          "old_api": "taosFillResultDataBlock",
          "new_api": null,
          "old_text": "taosFillResultDataBlock(pFillInfo, pBlock, capacity - pBlock->info.rows)",
          "new_text": null,
          "old_line_content": "  int32_t numOfRows = (int32_t)taosFillResultDataBlock(pFillInfo, pBlock, capacity - pBlock->info.rows);",
          "new_line_content": "  //  for(int32_t i = 0; i < pFillInfo->numOfCols; ++i) {",
          "content_same": false
        },
        {
          "line": 4311,
          "old_api": "taosMemoryFreeClear",
          "new_api": null,
          "old_text": "taosMemoryFreeClear(pInfo->rowCellInfoOffset)",
          "new_text": null,
          "old_line_content": "  taosMemoryFreeClear(pInfo->rowCellInfoOffset);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4314,
          "old_api": "blockDataDestroy",
          "new_api": null,
          "old_text": "blockDataDestroy(pInfo->pRes)",
          "new_text": null,
          "old_line_content": "  pInfo->pRes = blockDataDestroy(pInfo->pRes);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2273,
          "old_api": "taosGetTimestampUs",
          "new_api": null,
          "old_text": "taosGetTimestampUs()",
          "new_text": null,
          "old_line_content": "  event.eventTime = taosGetTimestampUs();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4330,
          "old_api": "blockDataDestroy",
          "new_api": null,
          "old_text": "blockDataDestroy(pInfo->pRes)",
          "new_text": null,
          "old_line_content": "  pInfo->pRes = blockDataDestroy(pInfo->pRes);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2283,
          "old_api": "taosGetTimestampUs",
          "new_api": null,
          "old_text": "taosGetTimestampUs()",
          "new_text": null,
          "old_line_content": "  event.eventTime = taosGetTimestampUs();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4331,
          "old_api": "taosMemoryFreeClear",
          "new_api": null,
          "old_text": "taosMemoryFreeClear(pInfo->p)",
          "new_text": null,
          "old_line_content": "  taosMemoryFreeClear(pInfo->p);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2287,
          "old_api": "taosArrayPush",
          "new_api": null,
          "old_text": "taosArrayPush(pTaskInfo->cost.queryProfEvents, &event)",
          "new_text": null,
          "old_line_content": "    taosArrayPush(pTaskInfo->cost.queryProfEvents, &event);",
          "new_line_content": "  event.eventType = QUERY_PROF_QUERY_ABORT;",
          "content_same": false
        },
        {
          "line": 4339,
          "old_api": "doDestroyBasicInfo",
          "new_api": null,
          "old_text": "doDestroyBasicInfo(&pInfo->binfo, numOfOutput)",
          "new_text": null,
          "old_line_content": "  doDestroyBasicInfo(&pInfo->binfo, numOfOutput);",
          "new_line_content": "static void destroyProjectOperatorInfo(void* param, int32_t numOfOutput) {",
          "content_same": false
        },
        {
          "line": 4340,
          "old_api": "cleanupAggSup",
          "new_api": null,
          "old_text": "cleanupAggSup(&pInfo->aggSup)",
          "new_text": null,
          "old_line_content": "  cleanupAggSup(&pInfo->aggSup);",
          "new_line_content": "  if (NULL == param) {",
          "content_same": false
        },
        {
          "line": 4341,
          "old_api": "taosArrayDestroy",
          "new_api": null,
          "old_text": "taosArrayDestroy(pInfo->pPseudoColInfo)",
          "new_text": null,
          "old_line_content": "  taosArrayDestroy(pInfo->pPseudoColInfo);",
          "new_line_content": "    return;",
          "content_same": false
        },
        {
          "line": 4347,
          "old_api": "taosArrayDestroy",
          "new_api": null,
          "old_text": "taosArrayDestroy(pExInfo->pSourceDataInfo)",
          "new_text": null,
          "old_line_content": "  taosArrayDestroy(pExInfo->pSourceDataInfo);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4349,
          "old_api": "blockDataDestroy",
          "new_api": null,
          "old_text": "blockDataDestroy(pExInfo->pResult)",
          "new_text": null,
          "old_line_content": "    blockDataDestroy(pExInfo->pResult);",
          "new_line_content": "void destroyExchangeOperatorInfo(void* param, int32_t numOfOutput) {",
          "content_same": false
        },
        {
          "line": 2304,
          "old_api": "taosArrayGetSize",
          "new_api": null,
          "old_text": "taosArrayGetSize(opStack)",
          "new_text": null,
          "old_line_content": "  for (int32_t j = 0; j < taosArrayGetSize(opStack); ++j) {",
          "new_line_content": "static void doOperatorExecProfOnce(SOperatorStackItem* item, SQueryProfEvent* event, SArray* opStack,",
          "content_same": false
        },
        {
          "line": 2305,
          "old_api": "taosArrayGet",
          "new_api": null,
          "old_text": "taosArrayGet(opStack, j)",
          "new_text": null,
          "old_line_content": "    SOperatorStackItem* ancestor = taosArrayGet(opStack, j);",
          "new_line_content": "                                   SHashObj* profResults) {",
          "content_same": false
        },
        {
          "line": 4356,
          "old_api": "taosArrayInit",
          "new_api": null,
          "old_text": "taosArrayInit(4, sizeof(int32_t))",
          "new_text": null,
          "old_line_content": "  SArray* pList = taosArrayInit(4, sizeof(int32_t));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4358,
          "old_api": "fmIsPseudoColumnFunc",
          "new_api": null,
          "old_text": "fmIsPseudoColumnFunc(pCtx[i].functionId)",
          "new_text": null,
          "old_line_content": "    if (fmIsPseudoColumnFunc(pCtx[i].functionId)) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4359,
          "old_api": "taosArrayPush",
          "new_api": null,
          "old_text": "taosArrayPush(pList, &i)",
          "new_text": null,
          "old_line_content": "      taosArrayPush(pList, &i);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2319,
          "old_api": "taosHashPut",
          "new_api": null,
          "old_text": "taosHashPut(profResults, &(operatorType), sizeof(operatorType), &opResult, sizeof(opResult))",
          "new_text": null,
          "old_line_content": "    taosHashPut(profResults, &(operatorType), sizeof(operatorType), &opResult, sizeof(opResult));",
          "new_line_content": "  } else {",
          "content_same": false
        },
        {
          "line": 4369,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(1, sizeof(SProjectOperatorInfo))",
          "new_text": null,
          "old_line_content": "  SProjectOperatorInfo* pInfo = taosMemoryCalloc(1, sizeof(SProjectOperatorInfo));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4370,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(1, sizeof(SOperatorInfo))",
          "new_text": null,
          "old_line_content": "  SOperatorInfo*        pOperator = taosMemoryCalloc(1, sizeof(SOperatorInfo));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2334,
          "old_api": "taosArrayInit",
          "new_api": null,
          "old_text": "taosArrayInit(32, sizeof(SOperatorStackItem))",
          "new_text": null,
          "old_line_content": "  SArray* opStack = taosArrayInit(32, sizeof(SOperatorStackItem));",
          "new_line_content": "  //  if (pQInfo->summary.operatorProfResults == NULL) {",
          "content_same": false
        },
        {
          "line": 4386,
          "old_api": "initResultSizeInfo",
          "new_api": null,
          "old_text": "initResultSizeInfo(pOperator, numOfRows)",
          "new_text": null,
          "old_line_content": "  initResultSizeInfo(pOperator, numOfRows);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4387,
          "old_api": "initAggInfo",
          "new_api": null,
          "old_text": "initAggInfo(&pInfo->binfo, &pInfo->aggSup, pExprInfo, numOfCols, pResBlock, keyBufSize, pTaskInfo->id.str)",
          "new_text": null,
          "old_line_content": "  initAggInfo(&pInfo->binfo, &pInfo->aggSup, pExprInfo, numOfCols, pResBlock, keyBufSize, pTaskInfo->id.str);",
          "new_line_content": "  int32_t numOfCols = num;",
          "content_same": false
        },
        {
          "line": 4388,
          "old_api": "setFunctionResultOutput",
          "new_api": null,
          "old_text": "setFunctionResultOutput(&pInfo->binfo, &pInfo->aggSup, MAIN_SCAN, numOfCols, pTaskInfo)",
          "new_text": null,
          "old_line_content": "  setFunctionResultOutput(&pInfo->binfo, &pInfo->aggSup, MAIN_SCAN, numOfCols, pTaskInfo);",
          "new_line_content": "  int32_t numOfRows = 4096;",
          "content_same": false
        },
        {
          "line": 4389,
          "old_api": "setRowTsColumnOutputInfo",
          "new_api": null,
          "old_text": "setRowTsColumnOutputInfo(pInfo->binfo.pCtx, numOfCols)",
          "new_text": null,
          "old_line_content": "  pInfo->pPseudoColInfo = setRowTsColumnOutputInfo(pInfo->binfo.pCtx, numOfCols);",
          "new_line_content": "  size_t  keyBufSize = sizeof(int64_t) + sizeof(int64_t) + POINTER_BYTES;",
          "content_same": false
        },
        {
          "line": 2343,
          "old_api": "taosArrayGet",
          "new_api": null,
          "old_text": "taosArrayGet(pQInfo->summary.queryProfEvents, i)",
          "new_text": null,
          "old_line_content": "    SQueryProfEvent* event = taosArrayGet(pQInfo->summary.queryProfEvents, i);",
          "new_line_content": "#if 0",
          "content_same": false
        },
        {
          "line": 2349,
          "old_api": "taosArrayPush",
          "new_api": null,
          "old_text": "taosArrayPush(opStack, &opItem)",
          "new_text": null,
          "old_line_content": "      taosArrayPush(opStack, &opItem);",
          "new_line_content": "    if (event->eventType == QUERY_PROF_BEFORE_OPERATOR_EXEC) {",
          "content_same": false
        },
        {
          "line": 2351,
          "old_api": "taosArrayPop",
          "new_api": null,
          "old_text": "taosArrayPop(opStack)",
          "new_text": null,
          "old_line_content": "      SOperatorStackItem* item = taosArrayPop(opStack);",
          "new_line_content": "      opItem.operatorType = event->operatorType;",
          "content_same": false
        },
        {
          "line": 2352,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(item->operatorType == event->operatorType)",
          "new_text": null,
          "old_line_content": "      assert(item->operatorType == event->operatorType);",
          "new_line_content": "      opItem.beginTime = event->eventTime;",
          "content_same": false
        },
        {
          "line": 2353,
          "old_api": "doOperatorExecProfOnce",
          "new_api": null,
          "old_text": "doOperatorExecProfOnce(item, event, opStack, profResults)",
          "new_text": null,
          "old_line_content": "      doOperatorExecProfOnce(item, event, opStack, profResults);",
          "new_line_content": "      opItem.descendantsTime = 0;",
          "content_same": false
        },
        {
          "line": 4399,
          "old_api": "createOperatorFpSet",
          "new_api": null,
          "old_text": "createOperatorFpSet(operatorDummyOpenFn, doProjectOperation, NULL, NULL,\n                                         destroyProjectOperatorInfo, NULL, NULL, NULL)",
          "new_text": null,
          "old_line_content": "  pOperator->fpSet = createOperatorFpSet(operatorDummyOpenFn, doProjectOperation, NULL, NULL,",
          "new_line_content": "  pOperator->status = OP_NOT_OPENED;",
          "content_same": false
        },
        {
          "line": 4403,
          "old_api": "appendDownstream",
          "new_api": null,
          "old_text": "appendDownstream(pOperator, &downstream, 1)",
          "new_text": null,
          "old_line_content": "  int32_t code = appendDownstream(pOperator, &downstream, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4417,
          "old_api": "createFillColInfo",
          "new_api": null,
          "old_text": "createFillColInfo(pExpr, numOfCols, pValNode)",
          "new_text": null,
          "old_line_content": "  SFillColInfo* pColInfo = createFillColInfo(pExpr, numOfCols, pValNode);",
          "new_line_content": "  return NULL;",
          "content_same": false
        },
        {
          "line": 4420,
          "old_api": "getAlignQueryTimeWindow",
          "new_api": null,
          "old_text": "getAlignQueryTimeWindow(pInterval, pInterval->precision, win.skey, &w)",
          "new_text": null,
          "old_line_content": "  getAlignQueryTimeWindow(pInterval, pInterval->precision, win.skey, &w);",
          "new_line_content": "static int32_t initFillInfo(SFillOperatorInfo* pInfo, SExprInfo* pExpr, int32_t numOfCols, SNodeListNode* pValNode,",
          "content_same": false
        },
        {
          "line": 4423,
          "old_api": "taosCreateFillInfo",
          "new_api": null,
          "old_text": "taosCreateFillInfo(order, w.skey, 0, capacity, numOfCols, pInterval, fillType, pColInfo, id)",
          "new_text": null,
          "old_line_content": "  pInfo->pFillInfo = taosCreateFillInfo(order, w.skey, 0, capacity, numOfCols, pInterval, fillType, pColInfo, id);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2388,
          "old_api": "qDebug",
          "new_api": null,
          "old_text": "qDebug(\"%s :cost summary: elapsed time:%\" PRId64 \" us, first merge:%\" PRId64\n           \" us, total blocks:%d, \"\n           \"load block statis:%d, load data block:%d, total rows:%\" PRId64 \", check rows:%\" PRId64,\n           GET_TASKID(pTaskInfo), pSummary->elapsedTime, pSummary->firstStageMergeTime, pRecorder->totalBlocks,\n           pRecorder->loadBlockStatis, pRecorder->loadBlocks, pRecorder->totalRows, pRecorder->totalCheckedRows)",
          "new_text": null,
          "old_line_content": "    qDebug(\"%s :cost summary: elapsed time:%\" PRId64 \" us, first merge:%\" PRId64",
          "new_line_content": "  //",
          "content_same": false
        },
        {
          "line": 4437,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(1, sizeof(SFillOperatorInfo))",
          "new_text": null,
          "old_line_content": "  SFillOperatorInfo* pInfo = taosMemoryCalloc(1, sizeof(SFillOperatorInfo));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4438,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(1, sizeof(SOperatorInfo))",
          "new_text": null,
          "old_line_content": "  SOperatorInfo*     pOperator = taosMemoryCalloc(1, sizeof(SOperatorInfo));",
          "new_line_content": "SOperatorInfo* createFillOperatorInfo(SOperatorInfo* downstream, SExprInfo* pExpr, int32_t numOfCols,",
          "content_same": false
        },
        {
          "line": 2391,
          "old_api": "GET_TASKID",
          "new_api": null,
          "old_text": "GET_TASKID(pTaskInfo)",
          "new_text": null,
          "old_line_content": "           GET_TASKID(pTaskInfo), pSummary->elapsedTime, pSummary->firstStageMergeTime, pRecorder->totalBlocks,",
          "new_line_content": "  SFileBlockLoadRecorder* pRecorder = pSummary->pRecoder;",
          "content_same": false
        },
        {
          "line": 2399,
          "old_api": "taosHashIterate",
          "new_api": null,
          "old_text": "taosHashIterate(pSummary->operatorProfResults, NULL)",
          "new_text": null,
          "old_line_content": "    SOperatorProfResult* opRes = taosHashIterate(pSummary->operatorProfResults, NULL);",
          "new_line_content": "  // qDebug(\"QInfo:0x%\"PRIx64\" :cost summary: winResPool size:%.2f Kb, numOfWin:%\"PRId64\", tableInfoSize:%.2f Kb,",
          "content_same": false
        },
        {
          "line": 2403,
          "old_api": "taosHashIterate",
          "new_api": null,
          "old_text": "taosHashIterate(pSummary->operatorProfResults, opRes)",
          "new_text": null,
          "old_line_content": "      opRes = taosHashIterate(pSummary->operatorProfResults, opRes);",
          "new_line_content": "  if (pSummary->operatorProfResults) {",
          "content_same": false
        },
        {
          "line": 4468,
          "old_api": "initResultSizeInfo",
          "new_api": null,
          "old_text": "initResultSizeInfo(pOperator, 4096)",
          "new_text": null,
          "old_line_content": "  initResultSizeInfo(pOperator, 4096);",
          "new_line_content": "    default:",
          "content_same": false
        },
        {
          "line": 4470,
          "old_api": "initFillInfo",
          "new_api": null,
          "old_text": "initFillInfo(pInfo, pExpr, numOfCols, pValueNode, *pWindow, pResultInfo->capacity, pTaskInfo->id.str,\n                              pInterval, type)",
          "new_text": null,
          "old_line_content": "  int32_t code = initFillInfo(pInfo, pExpr, numOfCols, pValueNode, *pWindow, pResultInfo->capacity, pTaskInfo->id.str,",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 4485,
          "old_api": "createOperatorFpSet",
          "new_api": null,
          "old_text": "createOperatorFpSet(operatorDummyOpenFn, doFill, NULL, NULL, destroySFillOperatorInfo, NULL, NULL, NULL)",
          "new_text": null,
          "old_line_content": "      createOperatorFpSet(operatorDummyOpenFn, doFill, NULL, NULL, destroySFillOperatorInfo, NULL, NULL, NULL);",
          "new_line_content": "  pOperator->pExpr = pExpr;",
          "content_same": false
        },
        {
          "line": 4487,
          "old_api": "appendDownstream",
          "new_api": null,
          "old_text": "appendDownstream(pOperator, &downstream, 1)",
          "new_text": null,
          "old_line_content": "  code = appendDownstream(pOperator, &downstream, 1);",
          "new_line_content": "  pOperator->info = pInfo;",
          "content_same": false
        },
        {
          "line": 4491,
          "old_api": "taosMemoryFreeClear",
          "new_api": null,
          "old_text": "taosMemoryFreeClear(pOperator)",
          "new_text": null,
          "old_line_content": "  taosMemoryFreeClear(pOperator);",
          "new_line_content": "  pOperator->pTaskInfo = pTaskInfo;",
          "content_same": false
        },
        {
          "line": 4504,
          "old_api": "tListLen",
          "new_api": null,
          "old_text": "tListLen(s.name)",
          "new_text": null,
          "old_line_content": "  strncpy(s.name, name, tListLen(s.name));",
          "new_line_content": "  s.scale = scale;",
          "content_same": false
        },
        {
          "line": 4510,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(1, sizeof(SColumn))",
          "new_text": null,
          "old_line_content": "  SColumn* pCol = taosMemoryCalloc(1, sizeof(SColumn));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4528,
          "old_api": "LIST_LENGTH",
          "new_api": null,
          "old_text": "LIST_LENGTH(pNodeList)",
          "new_text": null,
          "old_line_content": "  int32_t numOfFuncs = LIST_LENGTH(pNodeList);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4531,
          "old_api": "LIST_LENGTH",
          "new_api": null,
          "old_text": "LIST_LENGTH(pGroupKeys)",
          "new_text": null,
          "old_line_content": "    numOfGroupKeys = LIST_LENGTH(pGroupKeys);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4535,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(*numOfExprs, sizeof(SExprInfo))",
          "new_text": null,
          "old_line_content": "  SExprInfo* pExprs = taosMemoryCalloc(*numOfExprs, sizeof(SExprInfo));",
          "new_line_content": "  if (pGroupKeys != NULL) {",
          "content_same": false
        },
        {
          "line": 4542,
          "old_api": "nodesListGetNode",
          "new_api": null,
          "old_text": "nodesListGetNode(pGroupKeys, i - numOfFuncs)",
          "new_text": null,
          "old_line_content": "      pTargetNode = (STargetNode*)nodesListGetNode(pGroupKeys, i - numOfFuncs);",
          "new_line_content": "  for (int32_t i = 0; i < (*numOfExprs); ++i) {",
          "content_same": false
        },
        {
          "line": 4551,
          "old_api": "nodeType",
          "new_api": null,
          "old_text": "nodeType(pTargetNode->pExpr)",
          "new_text": null,
          "old_line_content": "    int32_t type = nodeType(pTargetNode->pExpr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4557,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(1, sizeof(SFunctParam))",
          "new_text": null,
          "old_line_content": "      pExp->base.pParam = taosMemoryCalloc(1, sizeof(SFunctParam));",
          "new_line_content": "    // it is a project query, or group by column",
          "content_same": false
        },
        {
          "line": 4561,
          "old_api": "createResSchema",
          "new_api": null,
          "old_text": "createResSchema(pType->type, pType->bytes, pTargetNode->slotId, pType->scale,\n                                             pType->precision, pColNode->colName)",
          "new_text": null,
          "old_line_content": "      pExp->base.resSchema = createResSchema(pType->type, pType->bytes, pTargetNode->slotId, pType->scale,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4563,
          "old_api": "createColumn",
          "new_api": null,
          "old_text": "createColumn(pColNode->dataBlockId, pColNode->slotId, pColNode->colId, pType)",
          "new_text": null,
          "old_line_content": "      pExp->base.pParam[0].pCol = createColumn(pColNode->dataBlockId, pColNode->slotId, pColNode->colId, pType);",
          "new_line_content": "      pExp->base.numOfParams = 1;",
          "content_same": false
        },
        {
          "line": 4569,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(1, sizeof(SFunctParam))",
          "new_text": null,
          "old_line_content": "      pExp->base.pParam = taosMemoryCalloc(1, sizeof(SFunctParam));",
          "new_line_content": "      pExp->base.pParam[0].type = FUNC_PARAM_TYPE_COLUMN;",
          "content_same": false
        },
        {
          "line": 4573,
          "old_api": "createResSchema",
          "new_api": null,
          "old_text": "createResSchema(pType->type, pType->bytes, pTargetNode->slotId, pType->scale,\n                                             pType->precision, pValNode->node.aliasName)",
          "new_text": null,
          "old_line_content": "      pExp->base.resSchema = createResSchema(pType->type, pType->bytes, pTargetNode->slotId, pType->scale,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4576,
          "old_api": "valueNodeToVariant",
          "new_api": null,
          "old_text": "valueNodeToVariant(pValNode, &pExp->base.pParam[0].param)",
          "new_text": null,
          "old_line_content": "      valueNodeToVariant(pValNode, &pExp->base.pParam[0].param);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4582,
          "old_api": "createResSchema",
          "new_api": null,
          "old_text": "createResSchema(pType->type, pType->bytes, pTargetNode->slotId, pType->scale,\n                                             pType->precision, pFuncNode->node.aliasName)",
          "new_text": null,
          "old_line_content": "      pExp->base.resSchema = createResSchema(pType->type, pType->bytes, pTargetNode->slotId, pType->scale,",
          "new_line_content": "    } else if (type == QUERY_NODE_FUNCTION) {",
          "content_same": false
        },
        {
          "line": 4588,
          "old_api": "strncpy",
          "new_api": null,
          "old_text": "strncpy(pExp->pExpr->_function.functionName, pFuncNode->functionName,\n              tListLen(pExp->pExpr->_function.functionName))",
          "new_text": null,
          "old_line_content": "      strncpy(pExp->pExpr->_function.functionName, pFuncNode->functionName,",
          "new_line_content": "                                             pType->precision, pFuncNode->node.aliasName);",
          "content_same": false
        },
        {
          "line": 4589,
          "old_api": "tListLen",
          "new_api": null,
          "old_text": "tListLen(pExp->pExpr->_function.functionName)",
          "new_text": null,
          "old_line_content": "              tListLen(pExp->pExpr->_function.functionName));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4592,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp(pExp->pExpr->_function.functionName, \"tbname\")",
          "new_text": null,
          "old_line_content": "      if (strcmp(pExp->pExpr->_function.functionName, \"tbname\") == 0) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4595,
          "old_api": "nodesMakeNode",
          "new_api": null,
          "old_text": "nodesMakeNode(QUERY_NODE_VALUE)",
          "new_text": null,
          "old_line_content": "        SValueNode *res = (SValueNode *)nodesMakeNode(QUERY_NODE_VALUE);",
          "new_line_content": "#if 1",
          "content_same": false
        },
        {
          "line": 4606,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(numOfParam, sizeof(SFunctParam))",
          "new_text": null,
          "old_line_content": "      pExp->base.pParam = taosMemoryCalloc(numOfParam, sizeof(SFunctParam));",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 4610,
          "old_api": "nodesListGetNode",
          "new_api": null,
          "old_text": "nodesListGetNode(pFuncNode->pParameterList, j)",
          "new_text": null,
          "old_line_content": "        SNode* p1 = nodesListGetNode(pFuncNode->pParameterList, j);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4619,
          "old_api": "valueNodeToVariant",
          "new_api": null,
          "old_text": "valueNodeToVariant(pvn, &pExp->base.pParam[j].param)",
          "new_text": null,
          "old_line_content": "          valueNodeToVariant(pvn, &pExp->base.pParam[j].param);",
          "new_line_content": "          pExp->base.pParam[j].type = FUNC_PARAM_TYPE_COLUMN;",
          "content_same": false
        },
        {
          "line": 4626,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(1, sizeof(SFunctParam))",
          "new_text": null,
          "old_line_content": "      pExp->base.pParam = taosMemoryCalloc(1, sizeof(SFunctParam));",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 4630,
          "old_api": "createResSchema",
          "new_api": null,
          "old_text": "createResSchema(pType->type, pType->bytes, pTargetNode->slotId, pType->scale,\n                                             pType->precision, pNode->node.aliasName)",
          "new_text": null,
          "old_line_content": "      pExp->base.resSchema = createResSchema(pType->type, pType->bytes, pTargetNode->slotId, pType->scale,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4634,
          "old_api": "ASSERT",
          "new_api": null,
          "old_text": "ASSERT(0)",
          "new_text": null,
          "old_line_content": "      ASSERT(0);",
          "new_line_content": "      SDataType* pType = &pNode->node.resType;",
          "content_same": false
        },
        {
          "line": 4642,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(1, sizeof(SExecTaskInfo))",
          "new_text": null,
          "old_line_content": "  SExecTaskInfo* pTaskInfo = taosMemoryCalloc(1, sizeof(SExecTaskInfo));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4643,
          "old_api": "setTaskStatus",
          "new_api": null,
          "old_text": "setTaskStatus(pTaskInfo, TASK_NOT_COMPLETED)",
          "new_text": null,
          "old_line_content": "  setTaskStatus(pTaskInfo, TASK_NOT_COMPLETED);",
          "new_line_content": "  return pExprs;",
          "content_same": false
        },
        {
          "line": 4645,
          "old_api": "taosGetTimestampMs",
          "new_api": null,
          "old_text": "taosGetTimestampMs()",
          "new_text": null,
          "old_line_content": "  pTaskInfo->cost.created = taosGetTimestampMs();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4649,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(1, 128)",
          "new_text": null,
          "old_line_content": "  char* p = taosMemoryCalloc(1, 128);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4669,
          "old_api": "nodeType",
          "new_api": null,
          "old_text": "nodeType(pPhyNode)",
          "new_text": null,
          "old_line_content": "  int32_t type = nodeType(pPhyNode);",
          "new_line_content": "static SArray* createSortInfo(SNodeList* pNodeList);",
          "content_same": false
        },
        {
          "line": 4671,
          "old_api": "LIST_LENGTH",
          "new_api": null,
          "old_text": "LIST_LENGTH(pPhyNode->pChildren)",
          "new_text": null,
          "old_line_content": "  if (pPhyNode->pChildren == NULL || LIST_LENGTH(pPhyNode->pChildren) == 0) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4675,
          "old_api": "doCreateDataReader",
          "new_api": null,
          "old_text": "doCreateDataReader(pTableScanNode, pHandle, pTableGroupInfo, (uint64_t)queryId, taskId)",
          "new_text": null,
          "old_line_content": "      tsdbReaderT pDataReader = doCreateDataReader(pTableScanNode, pHandle, pTableGroupInfo, (uint64_t)queryId, taskId);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4688,
          "old_api": "createResDataBlock",
          "new_api": null,
          "old_text": "createResDataBlock(pExchange->node.pOutputDataBlockDesc)",
          "new_text": null,
          "old_line_content": "      SSDataBlock*        pResBlock = createResDataBlock(pExchange->node.pOutputDataBlockDesc);",
          "new_line_content": "      pTaskInfo->cost.pRecoder = &pScanInfo->readRecorder;",
          "content_same": false
        },
        {
          "line": 4689,
          "old_api": "createExchangeOperatorInfo",
          "new_api": null,
          "old_text": "createExchangeOperatorInfo(pHandle->pMsgCb->clientRpc, pExchange->pSrcEndPoints, pResBlock, pTaskInfo)",
          "new_text": null,
          "old_line_content": "      return createExchangeOperatorInfo(pHandle->pMsgCb->clientRpc, pExchange->pSrcEndPoints, pResBlock, pTaskInfo);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4698,
          "old_api": "doCreateDataReader",
          "new_api": null,
          "old_text": "doCreateDataReader(pTableScanNode, pHandle, pTableGroupInfo, (uint64_t)queryId, taskId)",
          "new_text": null,
          "old_line_content": "        pDataReader = doCreateDataReader(pTableScanNode, pHandle, pTableGroupInfo, (uint64_t)queryId, taskId);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2651,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(p->numOfDownstream == 0)",
          "new_text": null,
          "old_line_content": "    assert(p->numOfDownstream == 0);",
          "new_line_content": "//   return true;",
          "content_same": false
        },
        {
          "line": 4700,
          "old_api": "doCreateTableGroup",
          "new_api": null,
          "old_text": "doCreateTableGroup(pHandle->meta, pScanPhyNode->tableType, pScanPhyNode->uid, pTableGroupInfo, \n            queryId, taskId)",
          "new_text": null,
          "old_line_content": "        doCreateTableGroup(pHandle->meta, pScanPhyNode->tableType, pScanPhyNode->uid, pTableGroupInfo, ",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2654,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(1, num * POINTER_BYTES)",
          "new_text": null,
          "old_line_content": "  p->pDownstream = taosMemoryCalloc(1, num * POINTER_BYTES);",
          "new_line_content": "int32_t appendDownstream(SOperatorInfo* p, SOperatorInfo** pDownstream, int32_t num) {",
          "content_same": false
        },
        {
          "line": 4708,
          "old_api": "qDebug",
          "new_api": null,
          "old_text": "qDebug(\"pDataReader is not NULL\")",
          "new_text": null,
          "old_line_content": "        qDebug(\"pDataReader is not NULL\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4712,
          "old_api": "createTableScanOperatorInfo",
          "new_api": null,
          "old_text": "createTableScanOperatorInfo(pTableScanNode, pDataReader, pHandle, pTaskInfo)",
          "new_text": null,
          "old_line_content": "      SOperatorInfo* pOperatorDumy = createTableScanOperatorInfo(pTableScanNode, pDataReader, pHandle, pTaskInfo);",
          "new_line_content": "      } else {",
          "content_same": false
        },
        {
          "line": 4714,
          "old_api": "extractTableIdList",
          "new_api": null,
          "old_text": "extractTableIdList(pTableGroupInfo)",
          "new_text": null,
          "old_line_content": "      SArray* tableIdList = extractTableIdList(pTableGroupInfo);",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 4715,
          "old_api": "createResDataBlock",
          "new_api": null,
          "old_text": "createResDataBlock(pDescNode)",
          "new_text": null,
          "old_line_content": "      SSDataBlock*        pResBlock = createResDataBlock(pDescNode);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2669,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(\n        (pTableQueryInfo->win.skey <= pTableQueryInfo->win.ekey) &&\n        (pTableQueryInfo->lastKey >= pTaskInfo->window.skey) &&\n        (pTableQueryInfo->win.skey >= pTaskInfo->window.skey && pTableQueryInfo->win.ekey <= pTaskInfo->window.ekey))",
          "new_text": null,
          "old_line_content": "    assert(",
          "new_line_content": "static void doDestroyTableQueryInfo(STableGroupInfo* pTableqinfoGroupInfo);",
          "content_same": false
        },
        {
          "line": 4718,
          "old_api": "createStreamScanOperatorInfo",
          "new_api": null,
          "old_text": "createStreamScanOperatorInfo(pHandle->reader, pDataReader, pResBlock, pCols, tableIdList, pTaskInfo,\n                                                              pScanPhyNode->node.pConditions, pOperatorDumy)",
          "new_text": null,
          "old_line_content": "      SOperatorInfo* pOperator = createStreamScanOperatorInfo(pHandle->reader, pDataReader, pResBlock, pCols, tableIdList, pTaskInfo,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4728,
          "old_api": "createResDataBlock",
          "new_api": null,
          "old_text": "createResDataBlock(pDescNode)",
          "new_text": null,
          "old_line_content": "      SSDataBlock* pResBlock = createResDataBlock(pDescNode);",
          "new_line_content": "      SSystemTableScanPhysiNode* pSysScanPhyNode = (SSystemTableScanPhysiNode*)pPhyNode;",
          "content_same": false
        },
        {
          "line": 4731,
          "old_api": "extractColMatchInfo",
          "new_api": null,
          "old_text": "extractColMatchInfo(pScanNode->pScanCols, pDescNode, &numOfOutputCols, COL_MATCH_FROM_COL_ID)",
          "new_text": null,
          "old_line_content": "      SArray* colList = extractColMatchInfo(pScanNode->pScanCols, pDescNode, &numOfOutputCols, COL_MATCH_FROM_COL_ID);",
          "new_line_content": "      SDataBlockDescNode* pDescNode = pScanNode->node.pOutputDataBlockDesc;",
          "content_same": false
        },
        {
          "line": 4732,
          "old_api": "createSysTableScanOperatorInfo",
          "new_api": null,
          "old_text": "createSysTableScanOperatorInfo(\n          pHandle, pResBlock, &pScanNode->tableName, pScanNode->node.pConditions, pSysScanPhyNode->mgmtEpSet, colList,\n          pTaskInfo, pSysScanPhyNode->showRewrite, pSysScanPhyNode->accountId)",
          "new_text": null,
          "old_line_content": "      SOperatorInfo* pOperator = createSysTableScanOperatorInfo(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4741,
          "old_api": "createResDataBlock",
          "new_api": null,
          "old_text": "createResDataBlock(pDescNode)",
          "new_text": null,
          "old_line_content": "      SSDataBlock* pResBlock = createResDataBlock(pDescNode);",
          "new_line_content": "    } else if (QUERY_NODE_PHYSICAL_PLAN_TAG_SCAN == type) {",
          "content_same": false
        },
        {
          "line": 4743,
          "old_api": "doCreateTableGroup",
          "new_api": null,
          "old_text": "doCreateTableGroup(pHandle->meta, pScanPhyNode->tableType, pScanPhyNode->uid, pTableGroupInfo,\n                                        queryId, taskId)",
          "new_text": null,
          "old_line_content": "      int32_t code = doCreateTableGroup(pHandle->meta, pScanPhyNode->tableType, pScanPhyNode->uid, pTableGroupInfo,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4750,
          "old_api": "createExprInfo",
          "new_api": null,
          "old_text": "createExprInfo(pScanPhyNode->pScanPseudoCols, NULL, &num)",
          "new_text": null,
          "old_line_content": "      SExprInfo* pExprInfo = createExprInfo(pScanPhyNode->pScanPseudoCols, NULL, &num);",
          "new_line_content": "      if (code != TSDB_CODE_SUCCESS) {",
          "content_same": false
        },
        {
          "line": 4754,
          "old_api": "extractColMatchInfo",
          "new_api": null,
          "old_text": "extractColMatchInfo(pScanPhyNode->pScanPseudoCols, pDescNode, &numOfOutputCols, COL_MATCH_FROM_COL_ID)",
          "new_text": null,
          "old_line_content": "          extractColMatchInfo(pScanPhyNode->pScanPseudoCols, pDescNode, &numOfOutputCols, COL_MATCH_FROM_COL_ID);",
          "new_line_content": "      int32_t    num = 0;",
          "content_same": false
        },
        {
          "line": 2707,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(pRsp->numOfRows)",
          "new_text": null,
          "old_line_content": "    pRsp->numOfRows = htonl(pRsp->numOfRows);",
          "new_line_content": "  SSourceDataInfo* pSourceDataInfo = (SSourceDataInfo*)param;",
          "content_same": false
        },
        {
          "line": 2708,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(pRsp->compLen)",
          "new_text": null,
          "old_line_content": "    pRsp->compLen = htonl(pRsp->compLen);",
          "new_line_content": "  if (code == TSDB_CODE_SUCCESS) {",
          "content_same": false
        },
        {
          "line": 2709,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(pRsp->numOfCols)",
          "new_text": null,
          "old_line_content": "    pRsp->numOfCols = htonl(pRsp->numOfCols);",
          "new_line_content": "    pSourceDataInfo->pRsp = pMsg->pData;",
          "content_same": false
        },
        {
          "line": 2710,
          "old_api": "htobe64",
          "new_api": null,
          "old_text": "htobe64(pRsp->useconds)",
          "new_text": null,
          "old_line_content": "    pRsp->useconds = htobe64(pRsp->useconds);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4757,
          "old_api": "createTagScanOperatorInfo",
          "new_api": null,
          "old_text": "createTagScanOperatorInfo(pHandle, pExprInfo, num, pResBlock, colList, pTableGroupInfo, pTaskInfo)",
          "new_text": null,
          "old_line_content": "          createTagScanOperatorInfo(pHandle, pExprInfo, num, pResBlock, colList, pTableGroupInfo, pTaskInfo);",
          "new_line_content": "      int32_t numOfOutputCols = 0;",
          "content_same": false
        },
        {
          "line": 4760,
          "old_api": "ASSERT",
          "new_api": null,
          "old_text": "ASSERT(0)",
          "new_text": null,
          "old_line_content": "      ASSERT(0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2716,
          "old_api": "tsem_post",
          "new_api": null,
          "old_text": "tsem_post(&pSourceDataInfo->pEx->ready)",
          "new_text": null,
          "old_line_content": "  tsem_post(&pSourceDataInfo->pEx->ready);",
          "new_line_content": "  } else {",
          "content_same": false
        },
        {
          "line": 4767,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(size, POINTER_BYTES)",
          "new_text": null,
          "old_line_content": "  SOperatorInfo** ops = taosMemoryCalloc(size, POINTER_BYTES);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 4769,
          "old_api": "nodesListGetNode",
          "new_api": null,
          "old_text": "nodesListGetNode(pPhyNode->pChildren, i)",
          "new_text": null,
          "old_line_content": "    SPhysiNode* pChildNode = (SPhysiNode*)nodesListGetNode(pPhyNode->pChildren, i);",
          "new_line_content": "  int32_t num = 0;",
          "content_same": false
        },
        {
          "line": 2722,
          "old_api": "taosMemoryFreeClear",
          "new_api": null,
          "old_text": "taosMemoryFreeClear(pMsgBody->msgInfo.pData)",
          "new_text": null,
          "old_line_content": "  taosMemoryFreeClear(pMsgBody->msgInfo.pData);",
          "new_line_content": "  return TSDB_CODE_SUCCESS;",
          "content_same": false
        },
        {
          "line": 2723,
          "old_api": "taosMemoryFreeClear",
          "new_api": null,
          "old_text": "taosMemoryFreeClear(pMsgBody)",
          "new_text": null,
          "old_line_content": "  taosMemoryFreeClear(pMsgBody);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4779,
          "old_api": "createExprInfo",
          "new_api": null,
          "old_text": "createExprInfo(pProjPhyNode->pProjections, NULL, &num)",
          "new_text": null,
          "old_line_content": "    SExprInfo*         pExprInfo = createExprInfo(pProjPhyNode->pProjections, NULL, &num);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 4781,
          "old_api": "createResDataBlock",
          "new_api": null,
          "old_text": "createResDataBlock(pPhyNode->pOutputDataBlockDesc)",
          "new_text": null,
          "old_line_content": "    SSDataBlock* pResBlock = createResDataBlock(pPhyNode->pOutputDataBlockDesc);",
          "new_line_content": "  SOperatorInfo* pOptr = NULL;",
          "content_same": false
        },
        {
          "line": 4787,
          "old_api": "createExprInfo",
          "new_api": null,
          "old_text": "createExprInfo(pAggNode->pAggFuncs, pAggNode->pGroupKeys, &num)",
          "new_text": null,
          "old_line_content": "    SExprInfo*     pExprInfo = createExprInfo(pAggNode->pAggFuncs, pAggNode->pGroupKeys, &num);",
          "new_line_content": "    SLimit       limit = {.limit = pProjPhyNode->limit, .offset = pProjPhyNode->offset};",
          "content_same": false
        },
        {
          "line": 4788,
          "old_api": "createResDataBlock",
          "new_api": null,
          "old_text": "createResDataBlock(pPhyNode->pOutputDataBlockDesc)",
          "new_text": null,
          "old_line_content": "    SSDataBlock*   pResBlock = createResDataBlock(pPhyNode->pOutputDataBlockDesc);",
          "new_line_content": "    SLimit       slimit = {.limit = pProjPhyNode->slimit, .offset = pProjPhyNode->soffset};",
          "content_same": false
        },
        {
          "line": 2742,
          "old_api": "fp",
          "new_api": null,
          "old_text": "pSendInfo->fp(pSendInfo->param, &buf, pMsg->code)",
          "new_text": null,
          "old_line_content": "  pSendInfo->fp(pSendInfo->param, &buf, pMsg->code);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 2744,
          "old_api": "destroySendMsgInfo",
          "new_api": null,
          "old_text": "destroySendMsgInfo(pSendInfo)",
          "new_text": null,
          "old_line_content": "  destroySendMsgInfo(pSendInfo);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4797,
          "old_api": "extractColumnInfo",
          "new_api": null,
          "old_text": "extractColumnInfo(pAggNode->pGroupKeys)",
          "new_text": null,
          "old_line_content": "      SArray* pColList = extractColumnInfo(pAggNode->pGroupKeys);",
          "new_line_content": "    if (pAggNode->pExprs != NULL) {",
          "content_same": false
        },
        {
          "line": 2750,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(1, sizeof(SResFetchReq))",
          "new_text": null,
          "old_line_content": "  SResFetchReq* pMsg = taosMemoryCalloc(1, sizeof(SResFetchReq));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4801,
          "old_api": "createAggregateOperatorInfo",
          "new_api": null,
          "old_text": "createAggregateOperatorInfo(ops[0], pExprInfo, num, pResBlock, pScalarExprInfo, numOfScalarExpr,\n                                          pTaskInfo, pTableGroupInfo)",
          "new_text": null,
          "old_line_content": "      pOptr = createAggregateOperatorInfo(ops[0], pExprInfo, num, pResBlock, pScalarExprInfo, numOfScalarExpr,",
          "new_line_content": "    if (pAggNode->pGroupKeys != NULL) {",
          "content_same": false
        },
        {
          "line": 2756,
          "old_api": "taosArrayGet",
          "new_api": null,
          "old_text": "taosArrayGet(pExchangeInfo->pSources, sourceIndex)",
          "new_text": null,
          "old_line_content": "  SDownstreamSourceNode* pSource = taosArrayGet(pExchangeInfo->pSources, sourceIndex);",
          "new_line_content": "  if (NULL == pMsg) {",
          "content_same": false
        },
        {
          "line": 2757,
          "old_api": "taosArrayGet",
          "new_api": null,
          "old_text": "taosArrayGet(pExchangeInfo->pSourceDataInfo, sourceIndex)",
          "new_text": null,
          "old_line_content": "  SSourceDataInfo*       pDataInfo = taosArrayGet(pExchangeInfo->pSourceDataInfo, sourceIndex);",
          "new_line_content": "    pTaskInfo->code = TSDB_CODE_QRY_OUT_OF_MEMORY;",
          "content_same": false
        },
        {
          "line": 2759,
          "old_api": "GET_TASKID",
          "new_api": null,
          "old_text": "GET_TASKID(pTaskInfo)",
          "new_text": null,
          "old_line_content": "  qDebug(\"%s build fetch msg and send to vgId:%d, ep:%s, taskId:0x%\" PRIx64 \", %d/%\" PRIzu, GET_TASKID(pTaskInfo),",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 4807,
          "old_api": "createExprInfo",
          "new_api": null,
          "old_text": "createExprInfo(pIntervalPhyNode->window.pFuncs, NULL, &num)",
          "new_text": null,
          "old_line_content": "    SExprInfo*   pExprInfo = createExprInfo(pIntervalPhyNode->window.pFuncs, NULL, &num);",
          "new_line_content": "                                          pTaskInfo, pTableGroupInfo);",
          "content_same": false
        },
        {
          "line": 4808,
          "old_api": "createResDataBlock",
          "new_api": null,
          "old_text": "createResDataBlock(pPhyNode->pOutputDataBlockDesc)",
          "new_text": null,
          "old_line_content": "    SSDataBlock* pResBlock = createResDataBlock(pPhyNode->pOutputDataBlockDesc);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2763,
          "old_api": "htobe64",
          "new_api": null,
          "old_text": "htobe64(pSource->schedId)",
          "new_text": null,
          "old_line_content": "  pMsg->sId = htobe64(pSource->schedId);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2765,
          "old_api": "htobe64",
          "new_api": null,
          "old_text": "htobe64(pTaskInfo->id.queryId)",
          "new_text": null,
          "old_line_content": "  pMsg->queryId = htobe64(pTaskInfo->id.queryId);",
          "new_line_content": "         pSource->addr.nodeId, pSource->addr.epSet.eps[0].fqdn, pSource->taskId, sourceIndex, totalSources);",
          "content_same": false
        },
        {
          "line": 2771,
          "old_api": "GET_TASKID",
          "new_api": null,
          "old_text": "GET_TASKID(pTaskInfo)",
          "new_text": null,
          "old_line_content": "    qError(\"%s prepare message %d failed\", GET_TASKID(pTaskInfo), (int32_t)sizeof(SMsgSendInfo));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4821,
          "old_api": "createIntervalOperatorInfo",
          "new_api": null,
          "old_text": "createIntervalOperatorInfo(ops[0], pExprInfo, num, pResBlock, &interval, tsSlotId, &as, pTableGroupInfo,\n                                       pTaskInfo)",
          "new_text": null,
          "old_line_content": "    pOptr = createIntervalOperatorInfo(ops[0], pExprInfo, num, pResBlock, &interval, tsSlotId, &as, pTableGroupInfo,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4829,
          "old_api": "createResDataBlock",
          "new_api": null,
          "old_text": "createResDataBlock(pDescNode)",
          "new_text": null,
          "old_line_content": "    SSDataBlock* pResBlock = createResDataBlock(pDescNode);",
          "new_line_content": "  } else if (QUERY_NODE_PHYSICAL_PLAN_SORT == type) {",
          "content_same": false
        },
        {
          "line": 4830,
          "old_api": "createSortInfo",
          "new_api": null,
          "old_text": "createSortInfo(pSortPhyNode->pSortKeys)",
          "new_text": null,
          "old_line_content": "    SArray*      info = createSortInfo(pSortPhyNode->pSortKeys);",
          "new_line_content": "    SSortPhysiNode* pSortPhyNode = (SSortPhysiNode*)pPhyNode;",
          "content_same": false
        },
        {
          "line": 2783,
          "old_api": "asyncSendMsgToServer",
          "new_api": null,
          "old_text": "asyncSendMsgToServer(pExchangeInfo->pTransporter, &pSource->addr.epSet, &transporterId, pMsgSendInfo)",
          "new_text": null,
          "old_line_content": "  int32_t code = asyncSendMsgToServer(pExchangeInfo->pTransporter, &pSource->addr.epSet, &transporterId, pMsgSendInfo);",
          "new_line_content": "  pMsgSendInfo->msgInfo.len = sizeof(SResFetchReq);",
          "content_same": false
        },
        {
          "line": 4833,
          "old_api": "createExprInfo",
          "new_api": null,
          "old_text": "createExprInfo(pSortPhyNode->pExprs, NULL, &numOfCols)",
          "new_text": null,
          "old_line_content": "    SExprInfo* pExprInfo = createExprInfo(pSortPhyNode->pExprs, NULL, &numOfCols);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4836,
          "old_api": "extractColMatchInfo",
          "new_api": null,
          "old_text": "extractColMatchInfo(pSortPhyNode->pTargets, pDescNode, &numOfOutputCols, COL_MATCH_FROM_SLOT_ID)",
          "new_text": null,
          "old_line_content": "    SArray* pColList = extractColMatchInfo(pSortPhyNode->pTargets, pDescNode, &numOfOutputCols, COL_MATCH_FROM_SLOT_ID);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2789,
          "old_api": "taosArrayGetSize",
          "new_api": null,
          "old_text": "taosArrayGetSize(pCols)",
          "new_text": null,
          "old_line_content": "  size_t numOfSrcCols = taosArrayGetSize(pCols);",
          "new_line_content": "  return TSDB_CODE_SUCCESS;",
          "content_same": false
        },
        {
          "line": 2792,
          "old_api": "taosArrayGetSize",
          "new_api": null,
          "old_text": "taosArrayGetSize(pColMatchInfo)",
          "new_text": null,
          "old_line_content": "  while (i < numOfSrcCols && j < taosArrayGetSize(pColMatchInfo)) {",
          "new_line_content": "// NOTE: sources columns are more than the destination SSDatablock columns.",
          "content_same": false
        },
        {
          "line": 2793,
          "old_api": "taosArrayGet",
          "new_api": null,
          "old_text": "taosArrayGet(pCols, i)",
          "new_text": null,
          "old_line_content": "    SColumnInfoData* p = taosArrayGet(pCols, i);",
          "new_line_content": "void relocateColumnData(SSDataBlock* pBlock, const SArray* pColMatchInfo, SArray* pCols) {",
          "content_same": false
        },
        {
          "line": 4845,
          "old_api": "createExprInfo",
          "new_api": null,
          "old_text": "createExprInfo(pSessionNode->window.pFuncs, NULL, &num)",
          "new_text": null,
          "old_line_content": "    SExprInfo*   pExprInfo = createExprInfo(pSessionNode->window.pFuncs, NULL, &num);",
          "new_line_content": "    SSessionWinodwPhysiNode* pSessionNode = (SSessionWinodwPhysiNode*)pPhyNode;",
          "content_same": false
        },
        {
          "line": 4846,
          "old_api": "createResDataBlock",
          "new_api": null,
          "old_text": "createResDataBlock(pPhyNode->pOutputDataBlockDesc)",
          "new_text": null,
          "old_line_content": "    SSDataBlock* pResBlock = createResDataBlock(pPhyNode->pOutputDataBlockDesc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2801,
          "old_api": "taosArraySet",
          "new_api": null,
          "old_text": "taosArraySet(pBlock->pDataBlock, pmInfo->targetSlotId, p)",
          "new_text": null,
          "old_line_content": "      taosArraySet(pBlock->pDataBlock, pmInfo->targetSlotId, p);",
          "new_line_content": "      j++;",
          "content_same": false
        },
        {
          "line": 4853,
          "old_api": "extractPartitionColInfo",
          "new_api": null,
          "old_text": "extractPartitionColInfo(pPartNode->pPartitionKeys)",
          "new_text": null,
          "old_line_content": "    SArray*              pColList = extractPartitionColInfo(pPartNode->pPartitionKeys);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4854,
          "old_api": "createResDataBlock",
          "new_api": null,
          "old_text": "createResDataBlock(pPhyNode->pOutputDataBlockDesc)",
          "new_text": null,
          "old_line_content": "    SSDataBlock*         pResBlock = createResDataBlock(pPhyNode->pOutputDataBlockDesc);",
          "new_line_content": "    pOptr =",
          "content_same": false
        },
        {
          "line": 2807,
          "old_api": "ASSERT",
          "new_api": null,
          "old_text": "ASSERT(0)",
          "new_text": null,
          "old_line_content": "      ASSERT(0);",
          "new_line_content": "      i++;",
          "content_same": false
        },
        {
          "line": 4856,
          "old_api": "createExprInfo",
          "new_api": null,
          "old_text": "createExprInfo(pPartNode->pTargets, NULL, &num)",
          "new_text": null,
          "old_line_content": "    SExprInfo* pExprInfo = createExprInfo(pPartNode->pTargets, NULL, &num);",
          "new_line_content": "  } else if (QUERY_NODE_PHYSICAL_PLAN_PARTITION == type) {",
          "content_same": false
        },
        {
          "line": 4857,
          "old_api": "createPartitionOperatorInfo",
          "new_api": null,
          "old_text": "createPartitionOperatorInfo(ops[0], pExprInfo, num, pResBlock, pColList, pTaskInfo, NULL)",
          "new_text": null,
          "old_line_content": "    pOptr = createPartitionOperatorInfo(ops[0], pExprInfo, num, pResBlock, pColList, pTaskInfo, NULL);",
          "new_line_content": "    SPartitionPhysiNode* pPartNode = (SPartitionPhysiNode*)pPhyNode;",
          "content_same": false
        },
        {
          "line": 4863,
          "old_api": "createExprInfo",
          "new_api": null,
          "old_text": "createExprInfo(pStateNode->window.pFuncs, NULL, &num)",
          "new_text": null,
          "old_line_content": "    SExprInfo*   pExprInfo = createExprInfo(pStateNode->window.pFuncs, NULL, &num);",
          "new_line_content": "  } else if (QUERY_NODE_PHYSICAL_PLAN_STATE_WINDOW == type) {",
          "content_same": false
        },
        {
          "line": 2816,
          "old_api": "blockDataEnsureCapacity",
          "new_api": null,
          "old_text": "blockDataEnsureCapacity(pRes, numOfRows)",
          "new_text": null,
          "old_line_content": "    blockDataEnsureCapacity(pRes, numOfRows);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4864,
          "old_api": "createResDataBlock",
          "new_api": null,
          "old_text": "createResDataBlock(pPhyNode->pOutputDataBlockDesc)",
          "new_text": null,
          "old_line_content": "    SSDataBlock* pResBlock = createResDataBlock(pPhyNode->pOutputDataBlockDesc);",
          "new_line_content": "    SStateWinodwPhysiNode* pStateNode = (SStateWinodwPhysiNode*)pPhyNode;",
          "content_same": false
        },
        {
          "line": 4872,
          "old_api": "createResDataBlock",
          "new_api": null,
          "old_text": "createResDataBlock(pPhyNode->pOutputDataBlockDesc)",
          "new_text": null,
          "old_line_content": "    SSDataBlock*    pResBlock = createResDataBlock(pPhyNode->pOutputDataBlockDesc);",
          "new_line_content": "    SColumnNode* pColNode = (SColumnNode*)((STargetNode*)pStateNode->pStateKey)->pExpr;",
          "content_same": false
        },
        {
          "line": 4875,
          "old_api": "createMergeJoinOperatorInfo",
          "new_api": null,
          "old_text": "createMergeJoinOperatorInfo(ops, size, pExprInfo, num, pResBlock, pJoinNode->pOnConditions, pTaskInfo)",
          "new_text": null,
          "old_line_content": "    pOptr = createMergeJoinOperatorInfo(ops, size, pExprInfo, num, pResBlock, pJoinNode->pOnConditions, pTaskInfo);",
          "new_line_content": "  } else if (QUERY_NODE_PHYSICAL_PLAN_JOIN == type) {",
          "content_same": false
        },
        {
          "line": 2828,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(colLen[i])",
          "new_text": null,
          "old_line_content": "      colLen[i] = htonl(colLen[i]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2829,
          "old_api": "ASSERT",
          "new_api": null,
          "old_text": "ASSERT(colLen[i] >= 0)",
          "new_text": null,
          "old_line_content": "      ASSERT(colLen[i] >= 0);",
          "new_line_content": "    int32_t* colLen = (int32_t*)pData;",
          "content_same": false
        },
        {
          "line": 4878,
          "old_api": "createResDataBlock",
          "new_api": null,
          "old_text": "createResDataBlock(pPhyNode->pOutputDataBlockDesc)",
          "new_text": null,
          "old_line_content": "    SSDataBlock*    pResBlock = createResDataBlock(pPhyNode->pOutputDataBlockDesc);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2831,
          "old_api": "taosArrayGet",
          "new_api": null,
          "old_text": "taosArrayGet(pRes->pDataBlock, i)",
          "new_text": null,
          "old_line_content": "      SColumnInfoData* pColInfoData = taosArrayGet(pRes->pDataBlock, i);",
          "new_line_content": "    char* pStart = pData + sizeof(int32_t) * numOfOutput;",
          "content_same": false
        },
        {
          "line": 2832,
          "old_api": "IS_VAR_DATA_TYPE",
          "new_api": null,
          "old_text": "IS_VAR_DATA_TYPE(pColInfoData->info.type)",
          "new_text": null,
          "old_line_content": "      if (IS_VAR_DATA_TYPE(pColInfoData->info.type)) {",
          "new_line_content": "    for (int32_t i = 0; i < numOfOutput; ++i) {",
          "content_same": false
        },
        {
          "line": 4882,
          "old_api": "createFillOperatorInfo",
          "new_api": null,
          "old_text": "createFillOperatorInfo(ops[0], pExprInfo, num, pInterval, &pFillNode->timeRange, pResBlock, pFillNode->mode,\n                                   (SNodeListNode*)pFillNode->pValues, false, pTaskInfo)",
          "new_text": null,
          "old_line_content": "    pOptr = createFillOperatorInfo(ops[0], pExprInfo, num, pInterval, &pFillNode->timeRange, pResBlock, pFillNode->mode,",
          "new_line_content": "    SFillPhysiNode* pFillNode = (SFillPhysiNode*)pPhyNode;",
          "content_same": false
        },
        {
          "line": 4885,
          "old_api": "ASSERT",
          "new_api": null,
          "old_text": "ASSERT(0)",
          "new_text": null,
          "old_line_content": "    ASSERT(0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2840,
          "old_api": "taosMemoryMalloc",
          "new_api": null,
          "old_text": "taosMemoryMalloc(colLen[i])",
          "new_text": null,
          "old_line_content": "          pColInfoData->pData = taosMemoryMalloc(colLen[i]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4888,
          "old_api": "taosMemoryFree",
          "new_api": null,
          "old_text": "taosMemoryFree(ops)",
          "new_text": null,
          "old_line_content": "  taosMemoryFree(ops);",
          "new_line_content": "                                   (SNodeListNode*)pFillNode->pValues, false, pTaskInfo);",
          "content_same": false
        },
        {
          "line": 2843,
          "old_api": "BitmapLen",
          "new_api": null,
          "old_text": "BitmapLen(numOfRows)",
          "new_text": null,
          "old_line_content": "        memcpy(pColInfoData->nullbitmap, pStart, BitmapLen(numOfRows));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2844,
          "old_api": "BitmapLen",
          "new_api": null,
          "old_text": "BitmapLen(numOfRows)",
          "new_text": null,
          "old_line_content": "        pStart += BitmapLen(numOfRows);",
          "new_line_content": "        if (colLen[i] > 0) {",
          "content_same": false
        },
        {
          "line": 4896,
          "old_api": "LIST_LENGTH",
          "new_api": null,
          "old_text": "LIST_LENGTH(pTableScanNode->scan.pScanCols)",
          "new_text": null,
          "old_line_content": "  pCond->numOfCols = LIST_LENGTH(pTableScanNode->scan.pScanCols);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4897,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(pCond->numOfCols, sizeof(SColumnInfo))",
          "new_text": null,
          "old_line_content": "  pCond->colList = taosMemoryCalloc(pCond->numOfCols, sizeof(SColumnInfo));",
          "new_line_content": "int32_t initQueryTableDataCond(SQueryTableDataCond* pCond, const STableScanPhysiNode* pTableScanNode) {",
          "content_same": false
        },
        {
          "line": 2857,
          "old_api": "taosArrayGetSize",
          "new_api": null,
          "old_text": "taosArrayGetSize(pColList)",
          "new_text": null,
          "old_line_content": "    ASSERT(numOfOutput == taosArrayGetSize(pColList));",
          "new_line_content": "      // examine NULL value for non-primary key column",
          "content_same": false
        },
        {
          "line": 2860,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(*(int32_t*)pStart)",
          "new_text": null,
          "old_line_content": "    int32_t numOfCols = htonl(*(int32_t*)pStart);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4909,
          "old_api": "TSWAP",
          "new_api": null,
          "old_text": "TSWAP(pCond->twindow.skey, pCond->twindow.ekey)",
          "new_text": null,
          "old_line_content": "    TSWAP(pCond->twindow.skey, pCond->twindow.ekey);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2868,
          "old_api": "htons",
          "new_api": null,
          "old_text": "htons(p->colId)",
          "new_text": null,
          "old_line_content": "      p->colId = htons(p->colId);",
          "new_line_content": "    // todo refactor:extract method",
          "content_same": false
        },
        {
          "line": 2869,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(p->bytes)",
          "new_text": null,
          "old_line_content": "      p->bytes = htonl(p->bytes);",
          "new_line_content": "    SSysTableSchema* pSchema = (SSysTableSchema*)pStart;",
          "content_same": false
        },
        {
          "line": 4918,
          "old_api": "nodesListGetNode",
          "new_api": null,
          "old_text": "nodesListGetNode(pTableScanNode->scan.pScanCols, i)",
          "new_text": null,
          "old_line_content": "    STargetNode* pNode = (STargetNode*)nodesListGetNode(pTableScanNode->scan.pScanCols, i);",
          "new_line_content": "  pCond->type = BLOCK_LOAD_OFFSET_SEQ_ORDER;",
          "content_same": false
        },
        {
          "line": 2883,
          "old_api": "taosArrayPush",
          "new_api": null,
          "old_text": "taosArrayPush(pBlock->pDataBlock, &idata)",
          "new_text": null,
          "old_line_content": "      taosArrayPush(pBlock->pDataBlock, &idata);",
          "new_line_content": "      SColumnInfoData idata = {0};",
          "content_same": false
        },
        {
          "line": 2884,
          "old_api": "IS_VAR_DATA_TYPE",
          "new_api": null,
          "old_text": "IS_VAR_DATA_TYPE(idata.info.type)",
          "new_text": null,
          "old_line_content": "      if (IS_VAR_DATA_TYPE(idata.info.type)) {",
          "new_line_content": "      idata.info.type = pSchema[i].type;",
          "content_same": false
        },
        {
          "line": 4946,
          "old_api": "LIST_LENGTH",
          "new_api": null,
          "old_text": "LIST_LENGTH(pNodeList)",
          "new_text": null,
          "old_line_content": "  size_t  numOfCols = LIST_LENGTH(pNodeList);",
          "new_line_content": "  c.precision = pColNode->node.resType.precision;",
          "content_same": false
        },
        {
          "line": 2899,
          "old_api": "htonl",
          "new_api": null,
          "old_text": "htonl(colLen[i])",
          "new_text": null,
          "old_line_content": "      colLen[i] = htonl(colLen[i]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2900,
          "old_api": "ASSERT",
          "new_api": null,
          "old_text": "ASSERT(colLen[i] >= 0)",
          "new_text": null,
          "old_line_content": "      ASSERT(colLen[i] >= 0);",
          "new_line_content": "    int32_t* colLen = (int32_t*)(pStart);",
          "content_same": false
        },
        {
          "line": 4947,
          "old_api": "taosArrayInit",
          "new_api": null,
          "old_text": "taosArrayInit(numOfCols, sizeof(SColumn))",
          "new_text": null,
          "old_line_content": "  SArray* pList = taosArrayInit(numOfCols, sizeof(SColumn));",
          "new_line_content": "  return c;",
          "content_same": false
        },
        {
          "line": 2902,
          "old_api": "taosArrayGet",
          "new_api": null,
          "old_text": "taosArrayGet(pBlock->pDataBlock, i)",
          "new_text": null,
          "old_line_content": "      SColumnInfoData* pColInfoData = taosArrayGet(pBlock->pDataBlock, i);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2903,
          "old_api": "IS_VAR_DATA_TYPE",
          "new_api": null,
          "old_text": "IS_VAR_DATA_TYPE(pColInfoData->info.type)",
          "new_text": null,
          "old_line_content": "      if (IS_VAR_DATA_TYPE(pColInfoData->info.type)) {",
          "new_line_content": "    for (int32_t i = 0; i < numOfCols; ++i) {",
          "content_same": false
        },
        {
          "line": 4954,
          "old_api": "nodesListGetNode",
          "new_api": null,
          "old_text": "nodesListGetNode(pNodeList, i)",
          "new_text": null,
          "old_line_content": "    STargetNode* pNode = (STargetNode*)nodesListGetNode(pNodeList, i);",
          "new_line_content": "    terrno = TSDB_CODE_OUT_OF_MEMORY;",
          "content_same": false
        },
        {
          "line": 4956,
          "old_api": "nodeType",
          "new_api": null,
          "old_text": "nodeType(pNode->pExpr)",
          "new_text": null,
          "old_line_content": "    if (nodeType(pNode->pExpr) == QUERY_NODE_COLUMN) {",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 2910,
          "old_api": "taosMemoryMalloc",
          "new_api": null,
          "old_text": "taosMemoryMalloc(colLen[i])",
          "new_text": null,
          "old_line_content": "        pColInfoData->pData = taosMemoryMalloc(colLen[i]);",
          "new_line_content": "        pColInfoData->varmeta.allocLen = colLen[i];",
          "content_same": false
        },
        {
          "line": 4960,
          "old_api": "taosArrayPush",
          "new_api": null,
          "old_text": "taosArrayPush(pList, &c)",
          "new_text": null,
          "old_line_content": "      taosArrayPush(pList, &c);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2913,
          "old_api": "BitmapLen",
          "new_api": null,
          "old_text": "BitmapLen(numOfRows)",
          "new_text": null,
          "old_line_content": "        pStart += BitmapLen(numOfRows);",
          "new_line_content": "        pStart += sizeof(int32_t) * numOfRows;",
          "content_same": false
        },
        {
          "line": 2916,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(pColInfoData->pData, pStart, colLen[i])",
          "new_text": null,
          "old_line_content": "      memcpy(pColInfoData->pData, pStart, colLen[i]);",
          "new_line_content": "      } else {",
          "content_same": false
        },
        {
          "line": 2922,
          "old_api": "taosArrayDestroy",
          "new_api": null,
          "old_text": "taosArrayDestroy(pBlock->pDataBlock)",
          "new_text": null,
          "old_line_content": "    taosArrayDestroy(pBlock->pDataBlock);",
          "new_line_content": "      pStart += colLen[i];",
          "content_same": false
        },
        {
          "line": 2923,
          "old_api": "taosMemoryFree",
          "new_api": null,
          "old_text": "taosMemoryFree(pBlock)",
          "new_text": null,
          "old_line_content": "    taosMemoryFree(pBlock);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4971,
          "old_api": "taosArrayPush",
          "new_api": null,
          "old_text": "taosArrayPush(pList, &c)",
          "new_text": null,
          "old_line_content": "      taosArrayPush(pList, &c);",
          "new_line_content": "      c.type = pValNode->node.type;",
          "content_same": false
        },
        {
          "line": 2930,
          "old_api": "taosGetTimestampUs",
          "new_api": null,
          "old_text": "taosGetTimestampUs()",
          "new_text": null,
          "old_line_content": "  int64_t el = taosGetTimestampUs() - startTs;",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 4979,
          "old_api": "LIST_LENGTH",
          "new_api": null,
          "old_text": "LIST_LENGTH(pNodeList)",
          "new_text": null,
          "old_line_content": "  size_t  numOfCols = LIST_LENGTH(pNodeList);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4980,
          "old_api": "taosArrayInit",
          "new_api": null,
          "old_text": "taosArrayInit(numOfCols, sizeof(SColumn))",
          "new_text": null,
          "old_line_content": "  SArray* pList = taosArrayInit(numOfCols, sizeof(SColumn));",
          "new_line_content": "  return pList;",
          "content_same": false
        },
        {
          "line": 4987,
          "old_api": "nodesListGetNode",
          "new_api": null,
          "old_text": "nodesListGetNode(pNodeList, i)",
          "new_text": null,
          "old_line_content": "    SColumnNode* pColNode = (SColumnNode*)nodesListGetNode(pNodeList, i);",
          "new_line_content": "    terrno = TSDB_CODE_OUT_OF_MEMORY;",
          "content_same": false
        },
        {
          "line": 2947,
          "old_api": "taosGetTimestampUs",
          "new_api": null,
          "old_text": "taosGetTimestampUs()",
          "new_text": null,
          "old_line_content": "  int64_t              el = taosGetTimestampUs() - startTs;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4998,
          "old_api": "taosArrayPush",
          "new_api": null,
          "old_text": "taosArrayPush(pList, &c)",
          "new_text": null,
          "old_line_content": "    taosArrayPush(pList, &c);",
          "new_line_content": "    c.type = pColNode->node.resType.type;",
          "content_same": false
        },
        {
          "line": 2951,
          "old_api": "taosArrayGetSize",
          "new_api": null,
          "old_text": "taosArrayGetSize(pExchangeInfo->pSources)",
          "new_text": null,
          "old_line_content": "  size_t totalSources = taosArrayGetSize(pExchangeInfo->pSources);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2953,
          "old_api": "GET_TASKID",
          "new_api": null,
          "old_text": "GET_TASKID(pTaskInfo)",
          "new_text": null,
          "old_line_content": "         GET_TASKID(pTaskInfo), totalSources, pLoadInfo->totalRows, pLoadInfo->totalSize,",
          "new_line_content": "  SLoadRemoteDataInfo* pLoadInfo = &pExchangeInfo->loadInfo;",
          "content_same": false
        },
        {
          "line": 5005,
          "old_api": "LIST_LENGTH",
          "new_api": null,
          "old_text": "LIST_LENGTH(pNodeList)",
          "new_text": null,
          "old_line_content": "  size_t  numOfCols = LIST_LENGTH(pNodeList);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5006,
          "old_api": "taosArrayInit",
          "new_api": null,
          "old_text": "taosArrayInit(numOfCols, sizeof(SBlockOrderInfo))",
          "new_text": null,
          "old_line_content": "  SArray* pList = taosArrayInit(numOfCols, sizeof(SBlockOrderInfo));",
          "new_line_content": "  return pList;",
          "content_same": false
        },
        {
          "line": 2963,
          "old_api": "taosGetTimestampUs",
          "new_api": null,
          "old_text": "taosGetTimestampUs()",
          "new_text": null,
          "old_line_content": "  int64_t startTs = taosGetTimestampUs();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2964,
          "old_api": "taosArrayGetSize",
          "new_api": null,
          "old_text": "taosArrayGetSize(pExchangeInfo->pSources)",
          "new_text": null,
          "old_line_content": "  size_t  totalSources = taosArrayGetSize(pExchangeInfo->pSources);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5013,
          "old_api": "nodesListGetNode",
          "new_api": null,
          "old_text": "nodesListGetNode(pNodeList, i)",
          "new_text": null,
          "old_line_content": "    SOrderByExprNode* pSortKey = (SOrderByExprNode*)nodesListGetNode(pNodeList, i);",
          "new_line_content": "    terrno = TSDB_CODE_OUT_OF_MEMORY;",
          "content_same": false
        },
        {
          "line": 5020,
          "old_api": "taosArrayPush",
          "new_api": null,
          "old_text": "taosArrayPush(pList, &bi)",
          "new_text": null,
          "old_line_content": "    taosArrayPush(pList, &bi);",
          "new_line_content": "    bi.order = (pSortKey->order == ORDER_ASC) ? TSDB_ORDER_ASC : TSDB_ORDER_DESC;",
          "content_same": false
        },
        {
          "line": 5028,
          "old_api": "LIST_LENGTH",
          "new_api": null,
          "old_text": "LIST_LENGTH(pNodeList)",
          "new_text": null,
          "old_line_content": "  size_t  numOfCols = LIST_LENGTH(pNodeList);",
          "new_line_content": "  return pList;",
          "content_same": false
        },
        {
          "line": 2981,
          "old_api": "taosArrayGet",
          "new_api": null,
          "old_text": "taosArrayGet(pExchangeInfo->pSources, i)",
          "new_text": null,
          "old_line_content": "      SDownstreamSourceNode* pSource = taosArrayGet(pExchangeInfo->pSources, i);",
          "new_line_content": "      if (pDataInfo->status != EX_SOURCE_DATA_READY) {",
          "content_same": false
        },
        {
          "line": 5029,
          "old_api": "taosArrayInit",
          "new_api": null,
          "old_text": "taosArrayInit(numOfCols, sizeof(SColMatchInfo))",
          "new_text": null,
          "old_line_content": "  SArray* pList = taosArrayInit(numOfCols, sizeof(SColMatchInfo));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2988,
          "old_api": "GET_TASKID",
          "new_api": null,
          "old_text": "GET_TASKID(pTaskInfo)",
          "new_text": null,
          "old_line_content": "               GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, i + 1, pDataInfo->totalRows,",
          "new_line_content": "      SSDataBlock*         pRes = pExchangeInfo->pResult;",
          "content_same": false
        },
        {
          "line": 5036,
          "old_api": "nodesListGetNode",
          "new_api": null,
          "old_text": "nodesListGetNode(pNodeList, i)",
          "new_text": null,
          "old_line_content": "    STargetNode* pNode = (STargetNode*)nodesListGetNode(pNodeList, i);",
          "new_line_content": "    terrno = TSDB_CODE_OUT_OF_MEMORY;",
          "content_same": false
        },
        {
          "line": 2996,
          "old_api": "setSDataBlockFromFetchRsp",
          "new_api": null,
          "old_text": "setSDataBlockFromFetchRsp(pExchangeInfo->pResult, pLoadInfo, pTableRsp->numOfRows, pTableRsp->data,\n                                       pTableRsp->compLen, pTableRsp->numOfCols, startTs, &pDataInfo->totalRows, NULL)",
          "new_text": null,
          "old_line_content": "      code = setSDataBlockFromFetchRsp(pExchangeInfo->pResult, pLoadInfo, pTableRsp->numOfRows, pTableRsp->data,",
          "new_line_content": "        completed += 1;",
          "content_same": false
        },
        {
          "line": 5045,
          "old_api": "taosArrayPush",
          "new_api": null,
          "old_text": "taosArrayPush(pList, &c)",
          "new_text": null,
          "old_line_content": "    taosArrayPush(pList, &c);",
          "new_line_content": "    c.output = true;",
          "content_same": false
        },
        {
          "line": 5049,
          "old_api": "LIST_LENGTH",
          "new_api": null,
          "old_text": "LIST_LENGTH(pOutputNodeList->pSlots)",
          "new_text": null,
          "old_line_content": "  int32_t num = LIST_LENGTH(pOutputNodeList->pSlots);",
          "new_line_content": "    c.targetSlotId = pNode->slotId;",
          "content_same": false
        },
        {
          "line": 3003,
          "old_api": "qDebug",
          "new_api": null,
          "old_text": "qDebug(\"%s fetch msg rsp from vgId:%d, taskId:0x%\" PRIx64 \" numOfRows:%d, rowsOfSource:%\" PRIu64\n               \", totalRows:%\" PRIu64 \", totalBytes:%\" PRIu64 \" try next %d/%\" PRIzu,\n               GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, pRes->info.rows, pDataInfo->totalRows,\n               pLoadInfo->totalRows, pLoadInfo->totalSize, i + 1, totalSources)",
          "new_text": null,
          "old_line_content": "        qDebug(\"%s fetch msg rsp from vgId:%d, taskId:0x%\" PRIx64 \" numOfRows:%d, rowsOfSource:%\" PRIu64",
          "new_line_content": "      if (code != 0) {",
          "content_same": false
        },
        {
          "line": 5051,
          "old_api": "nodesListGetNode",
          "new_api": null,
          "old_text": "nodesListGetNode(pOutputNodeList->pSlots, i)",
          "new_text": null,
          "old_line_content": "    SSlotDescNode* pNode = (SSlotDescNode*)nodesListGetNode(pOutputNodeList->pSlots, i);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 3005,
          "old_api": "GET_TASKID",
          "new_api": null,
          "old_text": "GET_TASKID(pTaskInfo)",
          "new_text": null,
          "old_line_content": "               GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, pRes->info.rows, pDataInfo->totalRows,",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 3009,
          "old_api": "qDebug",
          "new_api": null,
          "old_text": "qDebug(\"%s fetch msg rsp from vgId:%d, taskId:0x%\" PRIx64 \" numOfRows:%d, totalRows:%\" PRIu64\n               \", totalBytes:%\" PRIu64,\n               GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, pRes->info.rows, pLoadInfo->totalRows,\n               pLoadInfo->totalSize)",
          "new_text": null,
          "old_line_content": "        qDebug(\"%s fetch msg rsp from vgId:%d, taskId:0x%\" PRIx64 \" numOfRows:%d, totalRows:%\" PRIu64",
          "new_line_content": "               \", totalRows:%\" PRIu64 \", totalBytes:%\" PRIu64 \" try next %d/%\" PRIzu,",
          "content_same": false
        },
        {
          "line": 3011,
          "old_api": "GET_TASKID",
          "new_api": null,
          "old_text": "GET_TASKID(pTaskInfo)",
          "new_text": null,
          "old_line_content": "               GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, pRes->info.rows, pLoadInfo->totalRows,",
          "new_line_content": "               pLoadInfo->totalRows, pLoadInfo->totalSize, i + 1, totalSources);",
          "content_same": false
        },
        {
          "line": 5060,
          "old_api": "taosArrayGet",
          "new_api": null,
          "old_text": "taosArrayGet(pList, pNode->slotId)",
          "new_text": null,
          "old_line_content": "    SColMatchInfo* info = taosArrayGet(pList, pNode->slotId);",
          "new_line_content": "    if (pNode->slotId >= numOfCols) {",
          "content_same": false
        },
        {
          "line": 3017,
          "old_api": "doSendFetchDataRequest",
          "new_api": null,
          "old_text": "doSendFetchDataRequest(pExchangeInfo, pTaskInfo, i)",
          "new_text": null,
          "old_line_content": "        code = doSendFetchDataRequest(pExchangeInfo, pTaskInfo, i);",
          "new_line_content": "               pLoadInfo->totalSize);",
          "content_same": false
        },
        {
          "line": 3027,
          "old_api": "setAllSourcesCompleted",
          "new_api": null,
          "old_text": "setAllSourcesCompleted(pOperator, startTs)",
          "new_text": null,
          "old_line_content": "      return setAllSourcesCompleted(pOperator, startTs);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5075,
          "old_api": "tsdbQuerySTableByTagCond",
          "new_api": null,
          "old_text": "tsdbQuerySTableByTagCond(metaHandle, tableUid, 0, NULL, 0, 0, NULL, pGroupInfo, NULL, 0, queryId, taskId)",
          "new_text": null,
          "old_line_content": "    code = tsdbQuerySTableByTagCond(metaHandle, tableUid, 0, NULL, 0, 0, NULL, pGroupInfo, NULL, 0, queryId, taskId);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5077,
          "old_api": "tsdbGetOneTableGroup",
          "new_api": null,
          "old_text": "tsdbGetOneTableGroup(metaHandle, tableUid, 0, pGroupInfo)",
          "new_text": null,
          "old_line_content": "    code = tsdbGetOneTableGroup(metaHandle, tableUid, 0, pGroupInfo);",
          "new_line_content": "                           uint64_t queryId, uint64_t taskId) {",
          "content_same": false
        },
        {
          "line": 5084,
          "old_api": "taosArrayInit",
          "new_api": null,
          "old_text": "taosArrayInit(4, sizeof(uint64_t))",
          "new_text": null,
          "old_line_content": "  SArray* tableIdList = taosArrayInit(4, sizeof(uint64_t));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5087,
          "old_api": "taosArrayGetP",
          "new_api": null,
          "old_text": "taosArrayGetP(pTableGroupInfo->pGroupList, 0)",
          "new_text": null,
          "old_line_content": "    SArray* pa = taosArrayGetP(pTableGroupInfo->pGroupList, 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5088,
          "old_api": "taosArrayGetSize",
          "new_api": null,
          "old_text": "taosArrayGetSize(pTableGroupInfo->pGroupList)",
          "new_text": null,
          "old_line_content": "    ASSERT(taosArrayGetSize(pTableGroupInfo->pGroupList) == 1);",
          "new_line_content": "SArray* extractTableIdList(const STableGroupInfo* pTableGroupInfo) {",
          "content_same": false
        },
        {
          "line": 3041,
          "old_api": "concurrentlyLoadRemoteDataImpl",
          "new_api": null,
          "old_text": "concurrentlyLoadRemoteDataImpl(pOperator, pExchangeInfo, pTaskInfo)",
          "new_text": null,
          "old_line_content": "    return concurrentlyLoadRemoteDataImpl(pOperator, pExchangeInfo, pTaskInfo);",
          "new_line_content": "static SSDataBlock* concurrentlyLoadRemoteData(SOperatorInfo* pOperator) {",
          "content_same": false
        },
        {
          "line": 5091,
          "old_api": "taosArrayGetSize",
          "new_api": null,
          "old_text": "taosArrayGetSize(pa)",
          "new_text": null,
          "old_line_content": "    size_t numOfTables = taosArrayGetSize(pa);",
          "new_line_content": "  if (pTableGroupInfo->numOfTables > 0) {",
          "content_same": false
        },
        {
          "line": 3044,
          "old_api": "taosArrayGetSize",
          "new_api": null,
          "old_text": "taosArrayGetSize(pExchangeInfo->pSources)",
          "new_text": null,
          "old_line_content": "  size_t  totalSources = taosArrayGetSize(pExchangeInfo->pSources);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3045,
          "old_api": "taosGetTimestampUs",
          "new_api": null,
          "old_text": "taosGetTimestampUs()",
          "new_text": null,
          "old_line_content": "  int64_t startTs = taosGetTimestampUs();",
          "new_line_content": "  if (pOperator->status == OP_RES_TO_RETURN) {",
          "content_same": false
        },
        {
          "line": 5094,
          "old_api": "taosArrayPush",
          "new_api": null,
          "old_text": "taosArrayPush(tableIdList, &pkeyInfo->uid)",
          "new_text": null,
          "old_line_content": "      taosArrayPush(tableIdList, &pkeyInfo->uid);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3055,
          "old_api": "taosGetTimestampUs",
          "new_api": null,
          "old_text": "taosGetTimestampUs()",
          "new_text": null,
          "old_line_content": "  int64_t endTs = taosGetTimestampUs();",
          "new_line_content": "    if (code != TSDB_CODE_SUCCESS) {",
          "content_same": false
        },
        {
          "line": 3056,
          "old_api": "GET_TASKID",
          "new_api": null,
          "old_text": "GET_TASKID(pTaskInfo)",
          "new_text": null,
          "old_line_content": "  qDebug(\"%s send all fetch request to %\" PRIzu \" sources completed, elapsed:%\" PRId64, GET_TASKID(pTaskInfo),",
          "new_line_content": "      return NULL;",
          "content_same": false
        },
        {
          "line": 5105,
          "old_api": "doCreateTableGroup",
          "new_api": null,
          "old_text": "doCreateTableGroup(pHandle->meta, pTableScanNode->scan.tableType, uid, pTableGroupInfo, queryId, taskId)",
          "new_text": null,
          "old_line_content": "      doCreateTableGroup(pHandle->meta, pTableScanNode->scan.tableType, uid, pTableGroupInfo, queryId, taskId);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3059,
          "old_api": "tsem_wait",
          "new_api": null,
          "old_text": "tsem_wait(&pExchangeInfo->ready)",
          "new_text": null,
          "old_line_content": "  tsem_wait(&pExchangeInfo->ready);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5112,
          "old_api": "qDebug",
          "new_api": null,
          "old_text": "qDebug(\"no table qualified for query, TID:0x%\" PRIx64 \", QID:0x%\" PRIx64, taskId, queryId)",
          "new_text": null,
          "old_line_content": "    qDebug(\"no table qualified for query, TID:0x%\" PRIx64 \", QID:0x%\" PRIx64, taskId, queryId);",
          "new_line_content": "    goto _error;",
          "content_same": false
        },
        {
          "line": 3068,
          "old_api": "taosArrayGetSize",
          "new_api": null,
          "old_text": "taosArrayGetSize(pExchangeInfo->pSources)",
          "new_text": null,
          "old_line_content": "  size_t  totalSources = taosArrayGetSize(pExchangeInfo->pSources);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3069,
          "old_api": "taosGetTimestampUs",
          "new_api": null,
          "old_text": "taosGetTimestampUs()",
          "new_text": null,
          "old_line_content": "  int64_t startTs = taosGetTimestampUs();",
          "new_line_content": "static int32_t prepareConcurrentlyLoad(SOperatorInfo* pOperator) {",
          "content_same": false
        },
        {
          "line": 3080,
          "old_api": "taosGetTimestampUs",
          "new_api": null,
          "old_text": "taosGetTimestampUs()",
          "new_text": null,
          "old_line_content": "  int64_t endTs = taosGetTimestampUs();",
          "new_line_content": "      pTaskInfo->code = code;",
          "content_same": false
        },
        {
          "line": 3081,
          "old_api": "GET_TASKID",
          "new_api": null,
          "old_text": "GET_TASKID(pTaskInfo)",
          "new_text": null,
          "old_line_content": "  qDebug(\"%s send all fetch request to %\" PRIzu \" sources completed, elapsed:%\" PRId64, GET_TASKID(pTaskInfo),",
          "new_line_content": "      return code;",
          "content_same": false
        },
        {
          "line": 3084,
          "old_api": "tsem_wait",
          "new_api": null,
          "old_text": "tsem_wait(&pExchangeInfo->ready)",
          "new_text": null,
          "old_line_content": "  tsem_wait(&pExchangeInfo->ready);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5134,
          "old_api": "createExecTaskInfo",
          "new_api": null,
          "old_text": "createExecTaskInfo(queryId, taskId, model)",
          "new_text": null,
          "old_line_content": "  *pTaskInfo = createExecTaskInfo(queryId, taskId, model);",
          "new_line_content": "int32_t createExecTaskInfoImpl(SSubplan* pPlan, SExecTaskInfo** pTaskInfo, SReadHandle* pHandle, uint64_t taskId,",
          "content_same": false
        },
        {
          "line": 5141,
          "old_api": "createOperatorTree",
          "new_api": null,
          "old_text": "createOperatorTree(pPlan->pNode, *pTaskInfo, pHandle, queryId, taskId, &(*pTaskInfo)->tableqinfoGroupInfo)",
          "new_text": null,
          "old_line_content": "      createOperatorTree(pPlan->pNode, *pTaskInfo, pHandle, queryId, taskId, &(*pTaskInfo)->tableqinfoGroupInfo);",
          "new_line_content": "    code = TSDB_CODE_QRY_OUT_OF_MEMORY;",
          "content_same": false
        },
        {
          "line": 3094,
          "old_api": "taosArrayGetSize",
          "new_api": null,
          "old_text": "taosArrayGetSize(pExchangeInfo->pSources)",
          "new_text": null,
          "old_line_content": "  size_t  totalSources = taosArrayGetSize(pExchangeInfo->pSources);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3095,
          "old_api": "taosGetTimestampUs",
          "new_api": null,
          "old_text": "taosGetTimestampUs()",
          "new_text": null,
          "old_line_content": "  int64_t startTs = taosGetTimestampUs();",
          "new_line_content": "static SSDataBlock* seqLoadRemoteData(SOperatorInfo* pOperator) {",
          "content_same": false
        },
        {
          "line": 3102,
          "old_api": "doSendFetchDataRequest",
          "new_api": null,
          "old_text": "doSendFetchDataRequest(pExchangeInfo, pTaskInfo, pExchangeInfo->current)",
          "new_text": null,
          "old_line_content": "    doSendFetchDataRequest(pExchangeInfo, pTaskInfo, pExchangeInfo->current);",
          "new_line_content": "  while (1) {",
          "content_same": false
        },
        {
          "line": 3103,
          "old_api": "tsem_wait",
          "new_api": null,
          "old_text": "tsem_wait(&pExchangeInfo->ready)",
          "new_text": null,
          "old_line_content": "    tsem_wait(&pExchangeInfo->ready);",
          "new_line_content": "    if (pExchangeInfo->current >= totalSources) {",
          "content_same": false
        },
        {
          "line": 3105,
          "old_api": "taosArrayGet",
          "new_api": null,
          "old_text": "taosArrayGet(pExchangeInfo->pSourceDataInfo, pExchangeInfo->current)",
          "new_text": null,
          "old_line_content": "    SSourceDataInfo*       pDataInfo = taosArrayGet(pExchangeInfo->pSourceDataInfo, pExchangeInfo->current);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3106,
          "old_api": "taosArrayGet",
          "new_api": null,
          "old_text": "taosArrayGet(pExchangeInfo->pSources, pExchangeInfo->current)",
          "new_text": null,
          "old_line_content": "    SDownstreamSourceNode* pSource = taosArrayGet(pExchangeInfo->pSources, pExchangeInfo->current);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5155,
          "old_api": "taosMemoryFreeClear",
          "new_api": null,
          "old_text": "taosMemoryFreeClear(*pTaskInfo)",
          "new_text": null,
          "old_line_content": "  taosMemoryFreeClear(*pTaskInfo);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 3109,
          "old_api": "GET_TASKID",
          "new_api": null,
          "old_text": "GET_TASKID(pTaskInfo)",
          "new_text": null,
          "old_line_content": "      qError(\"%s vgId:%d, taskID:0x%\" PRIx64 \" error happens, code:%s\", GET_TASKID(pTaskInfo), pSource->addr.nodeId,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3118,
          "old_api": "qDebug",
          "new_api": null,
          "old_text": "qDebug(\"%s vgId:%d, taskID:0x%\" PRIx64 \" %d of total completed, rowsOfSource:%\" PRIu64 \", totalRows:%\" PRIu64\n             \" try next\",\n             GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, pExchangeInfo->current + 1,\n             pDataInfo->totalRows, pLoadInfo->totalRows)",
          "new_text": null,
          "old_line_content": "      qDebug(\"%s vgId:%d, taskID:0x%\" PRIx64 \" %d of total completed, rowsOfSource:%\" PRIu64 \", totalRows:%\" PRIu64",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3120,
          "old_api": "GET_TASKID",
          "new_api": null,
          "old_text": "GET_TASKID(pTaskInfo)",
          "new_text": null,
          "old_line_content": "             GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, pExchangeInfo->current + 1,",
          "new_line_content": "    SRetrieveTableRsp*   pRsp = pDataInfo->pRsp;",
          "content_same": false
        },
        {
          "line": 3131,
          "old_api": "setSDataBlockFromFetchRsp",
          "new_api": null,
          "old_text": "setSDataBlockFromFetchRsp(pExchangeInfo->pResult, pLoadInfo, pTableRsp->numOfRows, pTableRsp->data,\n                                  pTableRsp->compLen, pTableRsp->numOfCols, startTs, &pDataInfo->totalRows, NULL)",
          "new_text": null,
          "old_line_content": "        setSDataBlockFromFetchRsp(pExchangeInfo->pResult, pLoadInfo, pTableRsp->numOfRows, pTableRsp->data,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3135,
          "old_api": "qDebug",
          "new_api": null,
          "old_text": "qDebug(\"%s fetch msg rsp from vgId:%d, taskId:0x%\" PRIx64 \" numOfRows:%d, rowsOfSource:%\" PRIu64\n             \", totalRows:%\" PRIu64 \", totalBytes:%\" PRIu64 \" try next %d/%\" PRIzu,\n             GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, pRes->info.rows, pDataInfo->totalRows,\n             pLoadInfo->totalRows, pLoadInfo->totalSize, pExchangeInfo->current + 1, totalSources)",
          "new_text": null,
          "old_line_content": "      qDebug(\"%s fetch msg rsp from vgId:%d, taskId:0x%\" PRIx64 \" numOfRows:%d, rowsOfSource:%\" PRIu64",
          "new_line_content": "    int32_t            code =",
          "content_same": false
        },
        {
          "line": 3137,
          "old_api": "GET_TASKID",
          "new_api": null,
          "old_text": "GET_TASKID(pTaskInfo)",
          "new_text": null,
          "old_line_content": "             GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, pRes->info.rows, pDataInfo->totalRows,",
          "new_line_content": "                                  pTableRsp->compLen, pTableRsp->numOfCols, startTs, &pDataInfo->totalRows, NULL);",
          "content_same": false
        },
        {
          "line": 3143,
          "old_api": "qDebug",
          "new_api": null,
          "old_text": "qDebug(\"%s fetch msg rsp from vgId:%d, taskId:0x%\" PRIx64 \" numOfRows:%d, totalRows:%\" PRIu64\n             \", totalBytes:%\" PRIu64,\n             GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, pRes->info.rows, pLoadInfo->totalRows,\n             pLoadInfo->totalSize)",
          "new_text": null,
          "old_line_content": "      qDebug(\"%s fetch msg rsp from vgId:%d, taskId:0x%\" PRIx64 \" numOfRows:%d, totalRows:%\" PRIu64",
          "new_line_content": "             pLoadInfo->totalRows, pLoadInfo->totalSize, pExchangeInfo->current + 1, totalSources);",
          "content_same": false
        },
        {
          "line": 3145,
          "old_api": "GET_TASKID",
          "new_api": null,
          "old_text": "GET_TASKID(pTaskInfo)",
          "new_text": null,
          "old_line_content": "             GET_TASKID(pTaskInfo), pSource->addr.nodeId, pSource->taskId, pRes->info.rows, pLoadInfo->totalRows,",
          "new_line_content": "      pDataInfo->status = EX_SOURCE_DATA_EXHAUSTED;",
          "content_same": false
        },
        {
          "line": 5193,
          "old_api": "taosMemoryFree",
          "new_api": null,
          "old_text": "taosMemoryFree((void*)(pFilter[i].pz))",
          "new_text": null,
          "old_line_content": "      taosMemoryFree((void*)(pFilter[i].pz));",
          "new_line_content": "    return;",
          "content_same": false
        },
        {
          "line": 5197,
          "old_api": "taosMemoryFree",
          "new_api": null,
          "old_text": "taosMemoryFree(pFilter)",
          "new_text": null,
          "old_line_content": "  taosMemoryFree(pFilter);",
          "new_line_content": "    if (pFilter[i].filterstr && pFilter[i].pz) {",
          "content_same": false
        },
        {
          "line": 3154,
          "old_api": "OPTR_IS_OPENED",
          "new_api": null,
          "old_text": "OPTR_IS_OPENED(pOperator)",
          "new_text": null,
          "old_line_content": "  if (OPTR_IS_OPENED(pOperator)) {",
          "new_line_content": "    return pExchangeInfo->pResult;",
          "content_same": false
        },
        {
          "line": 5204,
          "old_api": "taosArrayGetP",
          "new_api": null,
          "old_text": "taosArrayGetP(pTableqinfoGroupInfo->pGroupList, i)",
          "new_text": null,
          "old_line_content": "      SArray* p = taosArrayGetP(pTableqinfoGroupInfo->pGroupList, i);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5206,
          "old_api": "taosArrayGetSize",
          "new_api": null,
          "old_text": "taosArrayGetSize(p)",
          "new_text": null,
          "old_line_content": "      size_t num = taosArrayGetSize(p);",
          "new_line_content": "  if (pTableqinfoGroupInfo->pGroupList != NULL) {",
          "content_same": false
        },
        {
          "line": 5208,
          "old_api": "taosArrayGetP",
          "new_api": null,
          "old_text": "taosArrayGetP(p, j)",
          "new_text": null,
          "old_line_content": "        STableQueryInfo* item = taosArrayGetP(p, j);",
          "new_line_content": "    for (int32_t i = 0; i < numOfGroups; ++i) {",
          "content_same": false
        },
        {
          "line": 3162,
          "old_api": "prepareConcurrentlyLoad",
          "new_api": null,
          "old_text": "prepareConcurrentlyLoad(pOperator)",
          "new_text": null,
          "old_line_content": "    int32_t code = prepareConcurrentlyLoad(pOperator);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5212,
          "old_api": "taosArrayDestroy",
          "new_api": null,
          "old_text": "taosArrayDestroy(p)",
          "new_text": null,
          "old_line_content": "      taosArrayDestroy(p);",
          "new_line_content": "      for (int32_t j = 0; j < num; ++j) {",
          "content_same": false
        },
        {
          "line": 3168,
          "old_api": "OPTR_SET_OPENED",
          "new_api": null,
          "old_text": "OPTR_SET_OPENED(pOperator)",
          "new_text": null,
          "old_line_content": "  OPTR_SET_OPENED(pOperator);",
          "new_line_content": "    if (code != TSDB_CODE_SUCCESS) {",
          "content_same": false
        },
        {
          "line": 5216,
          "old_api": "taosArrayDestroy",
          "new_api": null,
          "old_text": "taosArrayDestroy(pTableqinfoGroupInfo->pGroupList)",
          "new_text": null,
          "old_line_content": "  taosArrayDestroy(pTableqinfoGroupInfo->pGroupList);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3176,
          "old_api": "_openFn",
          "new_api": null,
          "old_text": "pOperator->fpSet._openFn(pOperator)",
          "new_text": null,
          "old_line_content": "  pTaskInfo->code = pOperator->fpSet._openFn(pOperator);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5225,
          "old_api": "GET_TASKID",
          "new_api": null,
          "old_text": "GET_TASKID(pTaskInfo)",
          "new_text": null,
          "old_line_content": "  qDebug(\"%s execTask is freed\", GET_TASKID(pTaskInfo));",
          "new_line_content": "  pTableqinfoGroupInfo->map = NULL;",
          "content_same": false
        },
        {
          "line": 5227,
          "old_api": "doDestroyTableQueryInfo",
          "new_api": null,
          "old_text": "doDestroyTableQueryInfo(&pTaskInfo->tableqinfoGroupInfo)",
          "new_text": null,
          "old_line_content": "  doDestroyTableQueryInfo(&pTaskInfo->tableqinfoGroupInfo);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 5228,
          "old_api": "destroyOperatorInfo",
          "new_api": null,
          "old_text": "destroyOperatorInfo(pTaskInfo->pRoot)",
          "new_text": null,
          "old_line_content": "  destroyOperatorInfo(pTaskInfo->pRoot);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3185,
          "old_api": "qDebug",
          "new_api": null,
          "old_text": "qDebug(\"%s all %\" PRIzu \" source(s) are exhausted, total rows:%\" PRIu64 \" bytes:%\" PRIu64 \", elapsed:%.2f ms\",\n           GET_TASKID(pTaskInfo), totalSources, pLoadInfo->totalRows, pLoadInfo->totalSize,\n           pLoadInfo->totalElapsed / 1000.0)",
          "new_text": null,
          "old_line_content": "    qDebug(\"%s all %\" PRIzu \" source(s) are exhausted, total rows:%\" PRIu64 \" bytes:%\" PRIu64 \", elapsed:%.2f ms\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5234,
          "old_api": "taosMemoryFreeClear",
          "new_api": null,
          "old_text": "taosMemoryFreeClear(pTaskInfo)",
          "new_text": null,
          "old_line_content": "  taosMemoryFreeClear(pTaskInfo);",
          "new_line_content": "  //  taosArrayDestroy(pTaskInfo->summary.queryProfEvents);",
          "content_same": false
        },
        {
          "line": 3192,
          "old_api": "seqLoadRemoteData",
          "new_api": null,
          "old_text": "seqLoadRemoteData(pOperator)",
          "new_text": null,
          "old_line_content": "    return seqLoadRemoteData(pOperator);",
          "new_line_content": "           pLoadInfo->totalElapsed / 1000.0);",
          "content_same": false
        },
        {
          "line": 3194,
          "old_api": "concurrentlyLoadRemoteData",
          "new_api": null,
          "old_text": "concurrentlyLoadRemoteData(pOperator)",
          "new_text": null,
          "old_line_content": "    return concurrentlyLoadRemoteData(pOperator);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 5243,
          "old_api": "IS_VAR_DATA_TYPE",
          "new_api": null,
          "old_text": "IS_VAR_DATA_TYPE(type)",
          "new_text": null,
          "old_line_content": "  if (IS_VAR_DATA_TYPE(type)) {",
          "new_line_content": "  if (val == NULL) {",
          "content_same": false
        },
        {
          "line": 5245,
          "old_api": "varDataTLen",
          "new_api": null,
          "old_text": "varDataTLen(val)",
          "new_text": null,
          "old_line_content": "    if (varDataTLen(val) > bytes) {",
          "new_line_content": "    return;",
          "content_same": false
        },
        {
          "line": 5247,
          "old_api": "varDataLen",
          "new_api": null,
          "old_text": "varDataLen(val)",
          "new_text": null,
          "old_line_content": "      int32_t len = (varDataLen(val) > maxLen) ? maxLen : varDataLen(val);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3200,
          "old_api": "taosMemoryFreeClear",
          "new_api": null,
          "old_text": "taosMemoryFreeClear(pMsgSendInfo)",
          "new_text": null,
          "old_line_content": "  taosMemoryFreeClear(pMsgSendInfo);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 5249,
          "old_api": "varDataSetLen",
          "new_api": null,
          "old_text": "varDataSetLen(output, len)",
          "new_text": null,
          "old_line_content": "      varDataSetLen(output, len);",
          "new_line_content": "    // Binary data overflows for sort of unknown reasons. Let trim the overflow data",
          "content_same": false
        },
        {
          "line": 5251,
          "old_api": "varDataCopy",
          "new_api": null,
          "old_text": "varDataCopy(output, val)",
          "new_text": null,
          "old_line_content": "      varDataCopy(output, val);",
          "new_line_content": "      int32_t maxLen = bytes - VARSTR_HEADER_SIZE;",
          "content_same": false
        },
        {
          "line": 3208,
          "old_api": "taosArrayInit",
          "new_api": null,
          "old_text": "taosArrayInit(numOfSources, sizeof(SSourceDataInfo))",
          "new_text": null,
          "old_line_content": "  pInfo->pSourceDataInfo = taosArrayInit(numOfSources, sizeof(SSourceDataInfo));",
          "new_line_content": "  return NULL;",
          "content_same": false
        },
        {
          "line": 5265,
          "old_api": "getQuerySupportBufSize",
          "new_api": null,
          "old_text": "getQuerySupportBufSize(numOfTables)",
          "new_text": null,
          "old_line_content": "  int64_t t = getQuerySupportBufSize(numOfTables);",
          "new_line_content": "  //  size_t s3 = sizeof(STableCheckInfo);  buffer consumption in tsdb",
          "content_same": false
        },
        {
          "line": 3219,
          "old_api": "taosArrayPush",
          "new_api": null,
          "old_text": "taosArrayPush(pInfo->pSourceDataInfo, &dataInfo)",
          "new_text": null,
          "old_line_content": "    void* ret = taosArrayPush(pInfo->pSourceDataInfo, &dataInfo);",
          "new_line_content": "    SSourceDataInfo dataInfo = {0};",
          "content_same": false
        },
        {
          "line": 3221,
          "old_api": "taosArrayDestroy",
          "new_api": null,
          "old_text": "taosArrayDestroy(pInfo->pSourceDataInfo)",
          "new_text": null,
          "old_line_content": "      taosArrayDestroy(pInfo->pSourceDataInfo);",
          "new_line_content": "    dataInfo.pEx = pInfo;",
          "content_same": false
        },
        {
          "line": 5273,
          "old_api": "atomic_val_compare_exchange_64",
          "new_api": null,
          "old_text": "atomic_val_compare_exchange_64(&tsQueryBufferSizeBytes, s, remain)",
          "new_text": null,
          "old_line_content": "        if (atomic_val_compare_exchange_64(&tsQueryBufferSizeBytes, s, remain) == s) {",
          "new_line_content": "  } else if (tsQueryBufferSizeBytes > 0) {",
          "content_same": false
        },
        {
          "line": 3231,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(1, sizeof(SExchangeInfo))",
          "new_text": null,
          "old_line_content": "  SExchangeInfo* pInfo = taosMemoryCalloc(1, sizeof(SExchangeInfo));",
          "new_line_content": "  return TSDB_CODE_SUCCESS;",
          "content_same": false
        },
        {
          "line": 3232,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(1, sizeof(SOperatorInfo))",
          "new_text": null,
          "old_line_content": "  SOperatorInfo* pOperator = taosMemoryCalloc(1, sizeof(SOperatorInfo));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3235,
          "old_api": "taosMemoryFreeClear",
          "new_api": null,
          "old_text": "taosMemoryFreeClear(pInfo)",
          "new_text": null,
          "old_line_content": "    taosMemoryFreeClear(pInfo);",
          "new_line_content": "                                          SExecTaskInfo* pTaskInfo) {",
          "content_same": false
        },
        {
          "line": 3242,
          "old_api": "taosArrayInit",
          "new_api": null,
          "old_text": "taosArrayInit(numOfSources, sizeof(SDownstreamSourceNode))",
          "new_text": null,
          "old_line_content": "  pInfo->pSources = taosArrayInit(numOfSources, sizeof(SDownstreamSourceNode));",
          "new_line_content": "    terrno = TSDB_CODE_QRY_OUT_OF_MEMORY;",
          "content_same": false
        },
        {
          "line": 3243,
          "old_api": "taosArrayInit",
          "new_api": null,
          "old_text": "taosArrayInit(numOfSources, sizeof(SSourceDataInfo))",
          "new_text": null,
          "old_line_content": "  pInfo->pSourceDataInfo = taosArrayInit(numOfSources, sizeof(SSourceDataInfo));",
          "new_line_content": "    return NULL;",
          "content_same": false
        },
        {
          "line": 5291,
          "old_api": "getQuerySupportBufSize",
          "new_api": null,
          "old_text": "getQuerySupportBufSize(numOfTables)",
          "new_text": null,
          "old_line_content": "  int64_t t = getQuerySupportBufSize(numOfTables);",
          "new_line_content": "void releaseQueryBuf(size_t numOfTables) {",
          "content_same": false
        },
        {
          "line": 5294,
          "old_api": "atomic_add_fetch_64",
          "new_api": null,
          "old_text": "atomic_add_fetch_64(&tsQueryBufferSizeBytes, t)",
          "new_text": null,
          "old_line_content": "  atomic_add_fetch_64(&tsQueryBufferSizeBytes, t);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 3249,
          "old_api": "nodesListGetNode",
          "new_api": null,
          "old_text": "nodesListGetNode((SNodeList*)pSources, i)",
          "new_text": null,
          "old_line_content": "    SNodeListNode* pNode = nodesListGetNode((SNodeList*)pSources, i);",
          "new_line_content": "  if (pInfo->pSourceDataInfo == NULL || pInfo->pSources == NULL) {",
          "content_same": false
        },
        {
          "line": 3250,
          "old_api": "taosArrayPush",
          "new_api": null,
          "old_text": "taosArrayPush(pInfo->pSources, pNode)",
          "new_text": null,
          "old_line_content": "    taosArrayPush(pInfo->pSources, pNode);",
          "new_line_content": "    goto _error;",
          "content_same": false
        },
        {
          "line": 3253,
          "old_api": "initDataSource",
          "new_api": null,
          "old_text": "initDataSource(numOfSources, pInfo)",
          "new_text": null,
          "old_line_content": "  int32_t code = initDataSource(numOfSources, pInfo);",
          "new_line_content": "  for (int32_t i = 0; i < numOfSources; ++i) {",
          "content_same": false
        },
        {
          "line": 5302,
          "old_api": "taosMemoryRealloc",
          "new_api": null,
          "old_text": "taosMemoryRealloc(*pRes, (*capacity) * sizeof(SExplainExecInfo))",
          "new_text": null,
          "old_line_content": "    *pRes = taosMemoryRealloc(*pRes, (*capacity) * sizeof(SExplainExecInfo));",
          "new_line_content": "int32_t getOperatorExplainExecInfo(SOperatorInfo* operatorInfo, SExplainExecInfo** pRes, int32_t* capacity,",
          "content_same": false
        },
        {
          "line": 5304,
          "old_api": "qError",
          "new_api": null,
          "old_text": "qError(\"malloc %d failed\", (*capacity) * (int32_t)sizeof(SExplainExecInfo))",
          "new_text": null,
          "old_line_content": "      qError(\"malloc %d failed\", (*capacity) * (int32_t)sizeof(SExplainExecInfo));",
          "new_line_content": "  if (*resNum >= *capacity) {",
          "content_same": false
        },
        {
          "line": 3261,
          "old_api": "tsem_init",
          "new_api": null,
          "old_text": "tsem_init(&pInfo->ready, 0, 0)",
          "new_text": null,
          "old_line_content": "  tsem_init(&pInfo->ready, 0, 0);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 5314,
          "old_api": "*operatorInfo->fpSet.getExplainFn)(operatorInfo, &(*pRes)->verboseInfo)",
          "new_api": null,
          "old_text": "*operatorInfo->fpSet.getExplainFn)(operatorInfo, &(*pRes)->verboseInfo)",
          "new_text": null,
          "old_line_content": "    int32_t code = (*operatorInfo->fpSet.getExplainFn)(operatorInfo, &(*pRes)->verboseInfo);",
          "new_line_content": "  (*pRes)[*resNum].numOfRows = operatorInfo->resultInfo.totalRows;",
          "content_same": false
        },
        {
          "line": 5316,
          "old_api": "tstrerror",
          "new_api": null,
          "old_text": "tstrerror(code)",
          "new_text": null,
          "old_line_content": "      qError(\"operator getExplainFn failed, error:%s\", tstrerror(code));",
          "new_line_content": "  (*pRes)[*resNum].totalCost = operatorInfo->cost.totalCost;",
          "content_same": false
        },
        {
          "line": 3271,
          "old_api": "createOperatorFpSet",
          "new_api": null,
          "old_text": "createOperatorFpSet(prepareLoadRemoteData, doLoadRemoteData, NULL, NULL,\n                                         destroyExchangeOperatorInfo, NULL, NULL, NULL)",
          "new_text": null,
          "old_line_content": "  pOperator->fpSet = createOperatorFpSet(prepareLoadRemoteData, doLoadRemoteData, NULL, NULL,",
          "new_line_content": "  pOperator->status = OP_NOT_OPENED;",
          "content_same": false
        },
        {
          "line": 5325,
          "old_api": "getOperatorExplainExecInfo",
          "new_api": null,
          "old_text": "getOperatorExplainExecInfo(operatorInfo->pDownstream[i], pRes, capacity, resNum)",
          "new_text": null,
          "old_line_content": "    code = getOperatorExplainExecInfo(operatorInfo->pDownstream[i], pRes, capacity, resNum);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3279,
          "old_api": "destroyExchangeOperatorInfo",
          "new_api": null,
          "old_text": "destroyExchangeOperatorInfo(pInfo, numOfSources)",
          "new_text": null,
          "old_line_content": "    destroyExchangeOperatorInfo(pInfo, numOfSources);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 5327,
          "old_api": "taosMemoryFreeClear",
          "new_api": null,
          "old_text": "taosMemoryFreeClear(*pRes)",
          "new_text": null,
          "old_line_content": "      taosMemoryFreeClear(*pRes);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3282,
          "old_api": "taosMemoryFreeClear",
          "new_api": null,
          "old_text": "taosMemoryFreeClear(pInfo)",
          "new_text": null,
          "old_line_content": "  taosMemoryFreeClear(pInfo);",
          "new_line_content": "_error:",
          "content_same": false
        },
        {
          "line": 3283,
          "old_api": "taosMemoryFreeClear",
          "new_api": null,
          "old_text": "taosMemoryFreeClear(pOperator)",
          "new_text": null,
          "old_line_content": "  taosMemoryFreeClear(pOperator);",
          "new_line_content": "  if (pInfo != NULL) {",
          "content_same": false
        },
        {
          "line": 3293,
          "old_api": "taosArrayDestroy",
          "new_api": null,
          "old_text": "taosArrayDestroy(pInfo->pSortInfo)",
          "new_text": null,
          "old_line_content": "  taosArrayDestroy(pInfo->pSortInfo);",
          "new_line_content": "static int32_t doInitAggInfoSup(SAggSupporter* pAggSup, SqlFunctionCtx* pCtx, int32_t numOfOutput, size_t keyBufSize,",
          "content_same": false
        },
        {
          "line": 3294,
          "old_api": "taosArrayDestroy",
          "new_api": null,
          "old_text": "taosArrayDestroy(pInfo->groupInfo)",
          "new_text": null,
          "old_line_content": "  taosArrayDestroy(pInfo->groupInfo);",
          "new_line_content": "                                const char* pKey);",
          "content_same": false
        },
        {
          "line": 3297,
          "old_api": "tsortDestroySortHandle",
          "new_api": null,
          "old_text": "tsortDestroySortHandle(pInfo->pSortHandle)",
          "new_text": null,
          "old_line_content": "    tsortDestroySortHandle(pInfo->pSortHandle);",
          "new_line_content": "  SSortedMergeOperatorInfo* pInfo = (SSortedMergeOperatorInfo*)param;",
          "content_same": false
        },
        {
          "line": 3300,
          "old_api": "blockDataDestroy",
          "new_api": null,
          "old_text": "blockDataDestroy(pInfo->binfo.pRes)",
          "new_text": null,
          "old_line_content": "  blockDataDestroy(pInfo->binfo.pRes);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3301,
          "old_api": "cleanupAggSup",
          "new_api": null,
          "old_text": "cleanupAggSup(&pInfo->aggSup)",
          "new_text": null,
          "old_line_content": "  cleanupAggSup(&pInfo->aggSup);",
          "new_line_content": "  if (pInfo->pSortHandle != NULL) {",
          "content_same": false
        },
        {
          "line": 3311,
          "old_api": "taosArrayGet",
          "new_api": null,
          "old_text": "taosArrayGet(groupInfo, i)",
          "new_text": null,
          "old_line_content": "    int32_t* index = taosArrayGet(groupInfo, i);",
          "new_line_content": "  if (size == 0) {",
          "content_same": false
        },
        {
          "line": 3313,
          "old_api": "taosArrayGet",
          "new_api": null,
          "old_text": "taosArrayGet(pBlock->pDataBlock, *index)",
          "new_text": null,
          "old_line_content": "    SColumnInfoData* pColInfo = taosArrayGet(pBlock->pDataBlock, *index);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 3314,
          "old_api": "colDataIsNull",
          "new_api": null,
          "old_text": "colDataIsNull(pColInfo, rowIndex, pBlock->info.rows, NULL)",
          "new_text": null,
          "old_line_content": "    bool             isNull = colDataIsNull(pColInfo, rowIndex, pBlock->info.rows, NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3320,
          "old_api": "colDataGetData",
          "new_api": null,
          "old_text": "colDataGetData(pColInfo, rowIndex)",
          "new_text": null,
          "old_line_content": "    char* pCell = colDataGetData(pColInfo, rowIndex);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3321,
          "old_api": "IS_VAR_DATA_TYPE",
          "new_api": null,
          "old_text": "IS_VAR_DATA_TYPE(pColInfo->info.type)",
          "new_text": null,
          "old_line_content": "    if (IS_VAR_DATA_TYPE(pColInfo->info.type)) {",
          "new_line_content": "    if ((isNull && buf[i] != NULL) || (!isNull && buf[i] == NULL)) {",
          "content_same": false
        },
        {
          "line": 3322,
          "old_api": "varDataLen",
          "new_api": null,
          "old_text": "varDataLen(buf[i])",
          "new_text": null,
          "old_line_content": "      if (varDataLen(pCell) != varDataLen(buf[i])) {",
          "new_line_content": "      return false;",
          "content_same": false
        },
        {
          "line": 3375,
          "old_api": "taosArrayGetSize",
          "new_api": null,
          "old_text": "taosArrayGetSize(pColumnList)",
          "new_text": null,
          "old_line_content": "  int32_t size = (int32_t)taosArrayGetSize(pColumnList);",
          "new_line_content": "    //    pCtx[j].fpSet.finalize(&pCtx[j]);",
          "content_same": false
        },
        {
          "line": 3378,
          "old_api": "taosArrayGet",
          "new_api": null,
          "old_text": "taosArrayGet(pColumnList, i)",
          "new_text": null,
          "old_line_content": "    int32_t*         index = taosArrayGet(pColumnList, i);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3379,
          "old_api": "taosArrayGet",
          "new_api": null,
          "old_text": "taosArrayGet(pBlock->pDataBlock, *index)",
          "new_text": null,
          "old_line_content": "    SColumnInfoData* pColInfo = taosArrayGet(pBlock->pDataBlock, *index);",
          "new_line_content": "static bool saveCurrentTuple(char** rowColData, SArray* pColumnList, SSDataBlock* pBlock, int32_t rowIndex) {",
          "content_same": false
        },
        {
          "line": 3381,
          "old_api": "colDataGetData",
          "new_api": null,
          "old_text": "colDataGetData(pColInfo, rowIndex)",
          "new_text": null,
          "old_line_content": "    char* data = colDataGetData(pColInfo, rowIndex);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3382,
          "old_api": "colDataGetLength",
          "new_api": null,
          "old_text": "colDataGetLength(pColInfo, rowIndex)",
          "new_text": null,
          "old_line_content": "    memcpy(rowColData[i], data, colDataGetLength(pColInfo, rowIndex));",
          "new_line_content": "  for (int32_t i = 0; i < size; ++i) {",
          "content_same": false
        },
        {
          "line": 3398,
          "old_api": "ASSERT",
          "new_api": null,
          "old_text": "ASSERT(i == 0)",
          "new_text": null,
          "old_line_content": "      ASSERT(i == 0);",
          "new_line_content": "    pCtx[i].size = 1;",
          "content_same": false
        },
        {
          "line": 3399,
          "old_api": "doMergeResultImpl",
          "new_api": null,
          "old_text": "doMergeResultImpl(pInfo, pCtx, numOfExpr, i)",
          "new_text": null,
          "old_line_content": "      doMergeResultImpl(pInfo, pCtx, numOfExpr, i);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 3400,
          "old_api": "saveCurrentTuple",
          "new_api": null,
          "old_text": "saveCurrentTuple(pInfo->groupVal, pInfo->groupInfo, pBlock, i)",
          "new_text": null,
          "old_line_content": "      pInfo->hasGroupVal = saveCurrentTuple(pInfo->groupVal, pInfo->groupInfo, pBlock, i);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3402,
          "old_api": "needToMerge",
          "new_api": null,
          "old_text": "needToMerge(pBlock, pInfo->groupInfo, pInfo->groupVal, i)",
          "new_text": null,
          "old_line_content": "      if (needToMerge(pBlock, pInfo->groupInfo, pInfo->groupVal, i)) {",
          "new_line_content": "    if (!pInfo->hasGroupVal) {",
          "content_same": false
        },
        {
          "line": 3406,
          "old_api": "getNumOfResult",
          "new_api": null,
          "old_text": "getNumOfResult(pInfo->binfo.pCtx, pOperator->numOfExprs, NULL)",
          "new_text": null,
          "old_line_content": "        int32_t numOfRows = getNumOfResult(pInfo->binfo.pCtx, pOperator->numOfExprs, NULL);",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 3418,
          "old_api": "process",
          "new_api": null,
          "old_text": "pCtx[j].fpSet.process(&pCtx[j])",
          "new_text": null,
          "old_line_content": "          pCtx[j].fpSet.process(&pCtx[j]);",
          "new_line_content": "        for (int32_t j = 0; j < numOfExpr; ++j) {",
          "content_same": false
        },
        {
          "line": 3421,
          "old_api": "doMergeResultImpl",
          "new_api": null,
          "old_text": "doMergeResultImpl(pInfo, pCtx, numOfExpr, i)",
          "new_text": null,
          "old_line_content": "        doMergeResultImpl(pInfo, pCtx, numOfExpr, i);",
          "new_line_content": "          }",
          "content_same": false
        },
        {
          "line": 3422,
          "old_api": "saveCurrentTuple",
          "new_api": null,
          "old_text": "saveCurrentTuple(pInfo->groupVal, pInfo->groupInfo, pBlock, i)",
          "new_text": null,
          "old_line_content": "        pInfo->hasGroupVal = saveCurrentTuple(pInfo->groupVal, pInfo->groupInfo, pBlock, i);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3432,
          "old_api": "createOneDataBlock",
          "new_api": null,
          "old_text": "createOneDataBlock(pInfo->binfo.pRes, false)",
          "new_text": null,
          "old_line_content": "  SSDataBlock* pDataBlock = createOneDataBlock(pInfo->binfo.pRes, false);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3433,
          "old_api": "blockDataEnsureCapacity",
          "new_api": null,
          "old_text": "blockDataEnsureCapacity(pDataBlock, pOperator->resultInfo.capacity)",
          "new_text": null,
          "old_line_content": "  blockDataEnsureCapacity(pDataBlock, pOperator->resultInfo.capacity);",
          "new_line_content": "static SSDataBlock* doMerge(SOperatorInfo* pOperator) {",
          "content_same": false
        },
        {
          "line": 3436,
          "old_api": "blockDataCleanup",
          "new_api": null,
          "old_text": "blockDataCleanup(pDataBlock)",
          "new_text": null,
          "old_line_content": "    blockDataCleanup(pDataBlock);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3444,
          "old_api": "appendOneRowToDataBlock",
          "new_api": null,
          "old_text": "appendOneRowToDataBlock(pDataBlock, pTupleHandle)",
          "new_text": null,
          "old_line_content": "      appendOneRowToDataBlock(pDataBlock, pTupleHandle);",
          "new_line_content": "      if (pTupleHandle == NULL) {",
          "content_same": false
        },
        {
          "line": 3454,
          "old_api": "setInputDataBlock",
          "new_api": null,
          "old_text": "setInputDataBlock(pOperator, pInfo->binfo.pCtx, pDataBlock, TSDB_ORDER_ASC, MAIN_SCAN, true)",
          "new_text": null,
          "old_line_content": "    setInputDataBlock(pOperator, pInfo->binfo.pCtx, pDataBlock, TSDB_ORDER_ASC, MAIN_SCAN, true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3457,
          "old_api": "doMergeImpl",
          "new_api": null,
          "old_text": "doMergeImpl(pOperator, pOperator->numOfExprs, pDataBlock)",
          "new_text": null,
          "old_line_content": "    doMergeImpl(pOperator, pOperator->numOfExprs, pDataBlock);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3461,
          "old_api": "doFinalizeResultImpl",
          "new_api": null,
          "old_text": "doFinalizeResultImpl(pInfo->binfo.pCtx, pOperator->numOfExprs)",
          "new_text": null,
          "old_line_content": "  doFinalizeResultImpl(pInfo->binfo.pCtx, pOperator->numOfExprs);",
          "new_line_content": "    //  pOperator->pRuntimeEnv, true);",
          "content_same": false
        },
        {
          "line": 3480,
          "old_api": "getSortedBlockData",
          "new_api": null,
          "old_text": "getSortedBlockData(pInfo->pSortHandle, pInfo->binfo.pRes, pOperator->resultInfo.capacity, NULL)",
          "new_text": null,
          "old_line_content": "    return getSortedBlockData(pInfo->pSortHandle, pInfo->binfo.pRes, pOperator->resultInfo.capacity, NULL);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 3484,
          "old_api": "tsortCreateSortHandle",
          "new_api": null,
          "old_text": "tsortCreateSortHandle(pInfo->pSortInfo, NULL, SORT_MULTISOURCE_MERGE, pInfo->bufPageSize,\n                                             numOfBufPage, pInfo->binfo.pRes, \"GET_TASKID(pTaskInfo)\")",
          "new_text": null,
          "old_line_content": "  pInfo->pSortHandle = tsortCreateSortHandle(pInfo->pSortInfo, NULL, SORT_MULTISOURCE_MERGE, pInfo->bufPageSize,",
          "new_line_content": "  if (pOperator->status == OP_RES_TO_RETURN) {",
          "content_same": false
        },
        {
          "line": 3487,
          "old_api": "tsortSetFetchRawDataFp",
          "new_api": null,
          "old_text": "tsortSetFetchRawDataFp(pInfo->pSortHandle, loadNextDataBlock, NULL, NULL)",
          "new_text": null,
          "old_line_content": "  tsortSetFetchRawDataFp(pInfo->pSortHandle, loadNextDataBlock, NULL, NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3490,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(1, sizeof(SSortSource))",
          "new_text": null,
          "old_line_content": "    SSortSource* ps = taosMemoryCalloc(1, sizeof(SSortSource));",
          "new_line_content": "                                             numOfBufPage, pInfo->binfo.pRes, \"GET_TASKID(pTaskInfo)\");",
          "content_same": false
        },
        {
          "line": 3501,
          "old_api": "doMerge",
          "new_api": null,
          "old_text": "doMerge(pOperator)",
          "new_text": null,
          "old_line_content": "  return doMerge(pOperator);",
          "new_line_content": "  if (code != TSDB_CODE_SUCCESS) {",
          "content_same": false
        },
        {
          "line": 3512,
          "old_api": "taosArrayInit",
          "new_api": null,
          "old_text": "taosArrayInit(3, sizeof(int32_t))",
          "new_text": null,
          "old_line_content": "  pInfo->groupInfo = taosArrayInit(3, sizeof(int32_t));",
          "new_line_content": "    return 0;",
          "content_same": false
        },
        {
          "line": 3518,
          "old_api": "taosArrayGetSize",
          "new_api": null,
          "old_text": "taosArrayGetSize(pInfo->groupInfo)",
          "new_text": null,
          "old_line_content": "  size_t numOfGroupCol = taosArrayGetSize(pInfo->groupInfo);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3520,
          "old_api": "taosArrayGet",
          "new_api": null,
          "old_text": "taosArrayGet(pGroupInfo, i)",
          "new_text": null,
          "old_line_content": "    SColumn* pCol = taosArrayGet(pGroupInfo, i);",
          "new_line_content": "    return TSDB_CODE_OUT_OF_MEMORY;",
          "content_same": false
        },
        {
          "line": 3524,
          "old_api": "taosArrayPush",
          "new_api": null,
          "old_text": "taosArrayPush(plist, pCol)",
          "new_text": null,
          "old_line_content": "        taosArrayPush(plist, pCol);",
          "new_line_content": "  for (int32_t i = 0; i < numOfGroupCol; ++i) {",
          "content_same": false
        },
        {
          "line": 3532,
          "old_api": "taosArrayGetSize",
          "new_api": null,
          "old_text": "taosArrayGetSize(plist)",
          "new_text": null,
          "old_line_content": "  ASSERT(taosArrayGetSize(pGroupInfo) == taosArrayGetSize(plist));",
          "new_line_content": "        break;",
          "content_same": false
        },
        {
          "line": 3534,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(1, (POINTER_BYTES * numOfGroupCol + len))",
          "new_text": null,
          "old_line_content": "  pInfo->groupVal = taosMemoryCalloc(1, (POINTER_BYTES * numOfGroupCol + len));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3536,
          "old_api": "taosArrayDestroy",
          "new_api": null,
          "old_text": "taosArrayDestroy(plist)",
          "new_text": null,
          "old_line_content": "    taosArrayDestroy(plist);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3544,
          "old_api": "taosArrayGet",
          "new_api": null,
          "old_text": "taosArrayGet(plist, i)",
          "new_text": null,
          "old_line_content": "    SColumn* pCol = taosArrayGet(plist, i);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3548,
          "old_api": "taosArrayDestroy",
          "new_api": null,
          "old_text": "taosArrayDestroy(plist)",
          "new_text": null,
          "old_line_content": "  taosArrayDestroy(plist);",
          "new_line_content": "    pInfo->groupVal[i] = start + offset;",
          "content_same": false
        },
        {
          "line": 3556,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(1, sizeof(SSortedMergeOperatorInfo))",
          "new_text": null,
          "old_line_content": "  SSortedMergeOperatorInfo* pInfo = taosMemoryCalloc(1, sizeof(SSortedMergeOperatorInfo));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3557,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(1, sizeof(SOperatorInfo))",
          "new_text": null,
          "old_line_content": "  SOperatorInfo*            pOperator = taosMemoryCalloc(1, sizeof(SOperatorInfo));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3563,
          "old_api": "initResultRowInfo",
          "new_api": null,
          "old_text": "initResultRowInfo(&pInfo->binfo.resultRowInfo, (int32_t)1)",
          "new_text": null,
          "old_line_content": "  initResultRowInfo(&pInfo->binfo.resultRowInfo, (int32_t)1);",
          "new_line_content": "  if (pInfo == NULL || pOperator == NULL) {",
          "content_same": false
        },
        {
          "line": 3570,
          "old_api": "doInitAggInfoSup",
          "new_api": null,
          "old_text": "doInitAggInfoSup(&pInfo->aggSup, pInfo->binfo.pCtx, num, keyBufSize, pTaskInfo->id.str)",
          "new_text": null,
          "old_line_content": "  int32_t code = doInitAggInfoSup(&pInfo->aggSup, pInfo->binfo.pCtx, num, keyBufSize, pTaskInfo->id.str);",
          "new_line_content": "  if (pInfo->binfo.pCtx == NULL || pInfo->binfo.pRes == NULL) {",
          "content_same": false
        },
        {
          "line": 3576,
          "old_api": "initGroupCol",
          "new_api": null,
          "old_text": "initGroupCol(pExprInfo, num, pGroupInfo, pInfo)",
          "new_text": null,
          "old_line_content": "  code = initGroupCol(pExprInfo, num, pGroupInfo, pInfo);",
          "new_line_content": "  if (code != TSDB_CODE_SUCCESS) {",
          "content_same": false
        },
        {
          "line": 3587,
          "old_api": "blockDataGetCapacityInRow",
          "new_api": null,
          "old_text": "blockDataGetCapacityInRow(pInfo->binfo.pRes, pInfo->bufPageSize)",
          "new_text": null,
          "old_line_content": "  pOperator->resultInfo.capacity = blockDataGetCapacityInRow(pInfo->binfo.pRes, pInfo->bufPageSize);",
          "new_line_content": "  //      pRuntimeEnv->pQueryAttr->topBotQuery, false));",
          "content_same": false
        },
        {
          "line": 3599,
          "old_api": "createOperatorFpSet",
          "new_api": null,
          "old_text": "createOperatorFpSet(operatorDummyOpenFn, doSortedMerge, NULL, NULL, destroySortedMergeOperatorInfo,\n                                         NULL, NULL, NULL)",
          "new_text": null,
          "old_line_content": "  pOperator->fpSet = createOperatorFpSet(operatorDummyOpenFn, doSortedMerge, NULL, NULL, destroySortedMergeOperatorInfo,",
          "new_line_content": "  pOperator->numOfExprs = num;",
          "content_same": false
        },
        {
          "line": 3601,
          "old_api": "appendDownstream",
          "new_api": null,
          "old_text": "appendDownstream(pOperator, downstream, numOfDownstream)",
          "new_text": null,
          "old_line_content": "  code = appendDownstream(pOperator, downstream, numOfDownstream);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3610,
          "old_api": "destroySortedMergeOperatorInfo",
          "new_api": null,
          "old_text": "destroySortedMergeOperatorInfo(pInfo, num)",
          "new_text": null,
          "old_line_content": "    destroySortedMergeOperatorInfo(pInfo, num);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3613,
          "old_api": "taosMemoryFreeClear",
          "new_api": null,
          "old_text": "taosMemoryFreeClear(pInfo)",
          "new_text": null,
          "old_line_content": "  taosMemoryFreeClear(pInfo);",
          "new_line_content": "_error:",
          "content_same": false
        },
        {
          "line": 3614,
          "old_api": "taosMemoryFreeClear",
          "new_api": null,
          "old_text": "taosMemoryFreeClear(pOperator)",
          "new_text": null,
          "old_line_content": "  taosMemoryFreeClear(pOperator);",
          "new_line_content": "  if (pInfo != NULL) {",
          "content_same": false
        },
        {
          "line": 3634,
          "old_api": "getTableScanInfo",
          "new_api": null,
          "old_text": "getTableScanInfo(pOperator->pDownstream[0], order, scanFlag)",
          "new_text": null,
          "old_line_content": "      return getTableScanInfo(pOperator->pDownstream[0], order, scanFlag);",
          "new_line_content": "    return TSDB_CODE_SUCCESS;",
          "content_same": false
        },
        {
          "line": 3641,
          "old_api": "OPTR_IS_OPENED",
          "new_api": null,
          "old_text": "OPTR_IS_OPENED(pOperator)",
          "new_text": null,
          "old_line_content": "  if (OPTR_IS_OPENED(pOperator)) {",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 3655,
          "old_api": "publishOperatorProfEvent",
          "new_api": null,
          "old_text": "publishOperatorProfEvent(downstream, QUERY_PROF_BEFORE_OPERATOR_EXEC)",
          "new_text": null,
          "old_line_content": "    publishOperatorProfEvent(downstream, QUERY_PROF_BEFORE_OPERATOR_EXEC);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3656,
          "old_api": "getNextFn",
          "new_api": null,
          "old_text": "downstream->fpSet.getNextFn(downstream)",
          "new_text": null,
          "old_line_content": "    SSDataBlock* pBlock = downstream->fpSet.getNextFn(downstream);",
          "new_line_content": "  int32_t order = TSDB_ORDER_ASC;",
          "content_same": false
        },
        {
          "line": 3657,
          "old_api": "publishOperatorProfEvent",
          "new_api": null,
          "old_text": "publishOperatorProfEvent(downstream, QUERY_PROF_AFTER_OPERATOR_EXEC)",
          "new_text": null,
          "old_line_content": "    publishOperatorProfEvent(downstream, QUERY_PROF_AFTER_OPERATOR_EXEC);",
          "new_line_content": "  int32_t scanFlag = MAIN_SCAN;",
          "content_same": false
        },
        {
          "line": 3663,
          "old_api": "getTableScanInfo",
          "new_api": null,
          "old_text": "getTableScanInfo(pOperator, &order, &scanFlag)",
          "new_text": null,
          "old_line_content": "    int32_t code = getTableScanInfo(pOperator, &order, &scanFlag);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3665,
          "old_api": "longjmp",
          "new_api": null,
          "old_text": "longjmp(pTaskInfo->env, code)",
          "new_text": null,
          "old_line_content": "      longjmp(pTaskInfo->env, code);",
          "new_line_content": "      break;",
          "content_same": false
        },
        {
          "line": 3673,
          "old_api": "longjmp",
          "new_api": null,
          "old_text": "longjmp(pTaskInfo->env, code)",
          "new_text": null,
          "old_line_content": "        longjmp(pTaskInfo->env, code);",
          "new_line_content": "    // there is an scalar expression that needs to be calculated before apply the group aggregation.",
          "content_same": false
        },
        {
          "line": 3679,
          "old_api": "setInputDataBlock",
          "new_api": null,
          "old_text": "setInputDataBlock(pOperator, pInfo->pCtx, pBlock, order, scanFlag, true)",
          "new_text": null,
          "old_line_content": "    setInputDataBlock(pOperator, pInfo->pCtx, pBlock, order, scanFlag, true);",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 3680,
          "old_api": "doAggregateImpl",
          "new_api": null,
          "old_text": "doAggregateImpl(pOperator, 0, pInfo->pCtx)",
          "new_text": null,
          "old_line_content": "    code = doAggregateImpl(pOperator, 0, pInfo->pCtx);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3682,
          "old_api": "longjmp",
          "new_api": null,
          "old_text": "longjmp(pTaskInfo->env, code)",
          "new_text": null,
          "old_line_content": "      longjmp(pTaskInfo->env, code);",
          "new_line_content": "    // the pDataBlock are always the same one, no need to call this again",
          "content_same": false
        },
        {
          "line": 3690,
          "old_api": "encodeResultRow",
          "new_api": null,
          "old_text": "pOperator->encodeResultRow(pOperator, pSup, pInfo, &result, &length)",
          "new_text": null,
          "old_line_content": "      pOperator->encodeResultRow(pOperator, pSup, pInfo, &result, &length);",
          "new_line_content": "#if 0  // test for encode/decode result info",
          "content_same": false
        },
        {
          "line": 3691,
          "old_api": "taosHashClear",
          "new_api": null,
          "old_text": "taosHashClear(pSup->pResultRowHashTable)",
          "new_text": null,
          "old_line_content": "      taosHashClear(pSup->pResultRowHashTable);",
          "new_line_content": "    if(pOperator->encodeResultRow){",
          "content_same": false
        },
        {
          "line": 3693,
          "old_api": "decodeResultRow",
          "new_api": null,
          "old_text": "pOperator->decodeResultRow(pOperator, pSup, pInfo, result, length)",
          "new_text": null,
          "old_line_content": "      pOperator->decodeResultRow(pOperator, pSup, pInfo, result, length);",
          "new_line_content": "      int32_t length = 0;",
          "content_same": false
        },
        {
          "line": 3701,
          "old_api": "closeAllResultRows",
          "new_api": null,
          "old_text": "closeAllResultRows(&pAggInfo->binfo.resultRowInfo)",
          "new_text": null,
          "old_line_content": "  closeAllResultRows(&pAggInfo->binfo.resultRowInfo);",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 3702,
          "old_api": "finalizeMultiTupleQueryResult",
          "new_api": null,
          "old_text": "finalizeMultiTupleQueryResult(pOperator->numOfExprs, pAggInfo->aggSup.pResultBuf, &pAggInfo->binfo.resultRowInfo,\n                                pAggInfo->binfo.rowCellInfoOffset)",
          "new_text": null,
          "old_line_content": "  finalizeMultiTupleQueryResult(pOperator->numOfExprs, pAggInfo->aggSup.pResultBuf, &pAggInfo->binfo.resultRowInfo,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3705,
          "old_api": "initGroupedResultInfo",
          "new_api": null,
          "old_text": "initGroupedResultInfo(&pAggInfo->groupResInfo, pAggInfo->aggSup.pResultRowHashTable, false)",
          "new_text": null,
          "old_line_content": "  initGroupedResultInfo(&pAggInfo->groupResInfo, pAggInfo->aggSup.pResultRowHashTable, false);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3719,
          "old_api": "_openFn",
          "new_api": null,
          "old_text": "pOperator->fpSet._openFn(pOperator)",
          "new_text": null,
          "old_line_content": "  pTaskInfo->code = pOperator->fpSet._openFn(pOperator);",
          "new_line_content": "  if (pOperator->status == OP_EXEC_DONE) {",
          "content_same": false
        },
        {
          "line": 3725,
          "old_api": "doBuildResultDatablock",
          "new_api": null,
          "old_text": "doBuildResultDatablock(pOperator, pInfo, &pAggInfo->groupResInfo, pAggInfo->aggSup.pResultBuf)",
          "new_text": null,
          "old_line_content": "  doBuildResultDatablock(pOperator, pInfo, &pAggInfo->groupResInfo, pAggInfo->aggSup.pResultBuf);",
          "new_line_content": "  if (pTaskInfo->code != TSDB_CODE_SUCCESS) {",
          "content_same": false
        },
        {
          "line": 3726,
          "old_api": "hasRemainDataInCurrentGroup",
          "new_api": null,
          "old_text": "hasRemainDataInCurrentGroup(&pAggInfo->groupResInfo)",
          "new_text": null,
          "old_line_content": "  if (pInfo->pRes->info.rows == 0 || !hasRemainDataInCurrentGroup(&pAggInfo->groupResInfo)) {",
          "new_line_content": "    return NULL;",
          "content_same": false
        },
        {
          "line": 3727,
          "old_api": "doSetOperatorCompleted",
          "new_api": null,
          "old_text": "doSetOperatorCompleted(pOperator)",
          "new_text": null,
          "old_line_content": "    doSetOperatorCompleted(pOperator);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 3739,
          "old_api": "taosMemoryCalloc",
          "new_api": null,
          "old_text": "taosMemoryCalloc(1, totalSize)",
          "new_text": null,
          "old_line_content": "  *result = taosMemoryCalloc(1, totalSize);",
          "new_line_content": "void aggEncodeResultRow(SOperatorInfo* pOperator, SAggSupporter* pSup, SOptrBasicInfo* pInfo, char** result,",
          "content_same": false
        },
        {
          "line": 3748,
          "old_api": "getBufPage",
          "new_api": null,
          "old_text": "getBufPage(pSup->pResultBuf, pos->pageId)",
          "new_text": null,
          "old_line_content": "  void*               pPage = getBufPage(pSup->pResultBuf, pos->pageId);",
          "new_line_content": "  *(int32_t*)(*result) = size;",
          "content_same": false
        },
        {
          "line": 3750,
          "old_api": "setBufPageDirty",
          "new_api": null,
          "old_text": "setBufPageDirty(pPage, true)",
          "new_text": null,
          "old_line_content": "  setBufPageDirty(pPage, true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3751,
          "old_api": "releaseBufPage",
          "new_api": null,
          "old_text": "releaseBufPage(pSup->pResultBuf, pPage)",
          "new_text": null,
          "old_line_content": "  releaseBufPage(pSup->pResultBuf, pPage);",
          "new_line_content": "  // prepare memory",
          "content_same": false
        },
        {
          "line": 3761,
          "old_api": "releaseBufPage",
          "new_api": null,
          "old_text": "releaseBufPage(pSup->pResultBuf, pPage)",
          "new_text": null,
          "old_line_content": "    releaseBufPage(pSup->pResultBuf, pPage);",
          "new_line_content": "    SResultRowPosition* p1 = (SResultRowPosition*)pIter;",
          "content_same": false
        },
        {
          "line": 3769,
          "old_api": "taosMemoryFree",
          "new_api": null,
          "old_text": "taosMemoryFree(*result)",
          "new_text": null,
          "old_line_content": "        taosMemoryFree(*result);",
          "new_line_content": "    int32_t realTotalSize = offset + sizeof(int32_t) + keyLen + sizeof(int32_t) + pSup->resultRowSize;",
          "content_same": false
        },
        {
          "line": 3779,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(*result + offset, key, keyLen)",
          "new_text": null,
          "old_line_content": "    memcpy(*result + offset, key, keyLen);",
          "new_line_content": "      }",
          "content_same": false
        },
        {
          "line": 3785,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(*result + offset, pRow, pSup->resultRowSize)",
          "new_text": null,
          "old_line_content": "    memcpy(*result + offset, pRow, pSup->resultRowSize);",
          "new_line_content": "    offset += keyLen;",
          "content_same": false
        },
        {
          "line": 3788,
          "old_api": "taosHashIterate",
          "new_api": null,
          "old_text": "taosHashIterate(pSup->pResultRowHashTable, pIter)",
          "new_text": null,
          "old_line_content": "    pIter = taosHashIterate(pSup->pResultRowHashTable, pIter);",
          "new_line_content": "    *(int32_t*)(*result + offset) = pSup->resultRowSize;",
          "content_same": false
        },
        {
          "line": 3812,
          "old_api": "getNewResultRow_rv",
          "new_api": null,
          "old_text": "getNewResultRow_rv(pSup->pResultBuf, tableGroupId, pSup->resultRowSize)",
          "new_text": null,
          "old_line_content": "    SResultRow* resultRow = getNewResultRow_rv(pSup->pResultBuf, tableGroupId, pSup->resultRowSize);",
          "new_line_content": "  while (count-- > 0 && length > offset) {",
          "content_same": false
        },
        {
          "line": 3814,
          "old_api": "longjmp",
          "new_api": null,
          "old_text": "longjmp(pOperator->pTaskInfo->env, TSDB_CODE_TSC_INVALID_INPUT)",
          "new_text": null,
          "old_line_content": "      longjmp(pOperator->pTaskInfo->env, TSDB_CODE_TSC_INVALID_INPUT);",
          "new_line_content": "    offset += sizeof(int32_t);",
          "content_same": false
        },
        {
          "line": 3835,
          "old_api": "prepareResultListBuffer",
          "new_api": null,
          "old_text": "prepareResultListBuffer(&pInfo->resultRowInfo, pOperator->pTaskInfo->env)",
          "new_text": null,
          "old_line_content": "    prepareResultListBuffer(&pInfo->resultRowInfo, pOperator->pTaskInfo->env);",
          "new_line_content": "    resultRow->pageId = pageId;",
          "content_same": false
        },
        {
          "line": 3843,
          "old_api": "longjmp",
          "new_api": null,
          "old_text": "longjmp(pOperator->pTaskInfo->env, TSDB_CODE_TSC_INVALID_INPUT)",
          "new_text": null,
          "old_line_content": "    longjmp(pOperator->pTaskInfo->env, TSDB_CODE_TSC_INVALID_INPUT);",
          "new_line_content": "    //        (SResultRowPosition){.pageId = resultRow->pageId, .offset = resultRow->offset};",
          "content_same": false
        },
        {
          "line": 3861,
          "old_api": "blockDataCleanup",
          "new_api": null,
          "old_text": "blockDataCleanup(pInfo->pRes)",
          "new_text": null,
          "old_line_content": "      blockDataCleanup(pInfo->pRes);",
          "new_line_content": "  SSDataBlock*          pRes = pInfo->pRes;",
          "content_same": false
        },
        {
          "line": 3868,
          "old_api": "blockDataCleanup",
          "new_api": null,
          "old_text": "blockDataCleanup(pInfo->pRes)",
          "new_text": null,
          "old_line_content": "        blockDataCleanup(pInfo->pRes);",
          "new_line_content": "    } else if (pProjectInfo->groupId != pBlock->info.groupId) {",
          "content_same": false
        },
        {
          "line": 3881,
          "old_api": "blockDataCleanup",
          "new_api": null,
          "old_text": "blockDataCleanup(pRes)",
          "new_text": null,
          "old_line_content": "      blockDataCleanup(pRes);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3898,
          "old_api": "blockDataCleanup",
          "new_api": null,
          "old_text": "blockDataCleanup(pRes)",
          "new_text": null,
          "old_line_content": "    blockDataCleanup(pRes);",
          "new_line_content": "  // set current group id",
          "content_same": false
        },
        {
          "line": 3901,
          "old_api": "blockDataTrimFirstNRows",
          "new_api": null,
          "old_text": "blockDataTrimFirstNRows(pRes, pProjectInfo->curOffset)",
          "new_text": null,
          "old_line_content": "    blockDataTrimFirstNRows(pRes, pProjectInfo->curOffset);",
          "new_line_content": "  if (pProjectInfo->curOffset >= pRes->info.rows) {",
          "content_same": false
        },
        {
          "line": 3932,
          "old_api": "blockDataCleanup",
          "new_api": null,
          "old_text": "blockDataCleanup(pRes)",
          "new_text": null,
          "old_line_content": "  blockDataCleanup(pRes);",
          "new_line_content": "static SSDataBlock* doProjectOperation(SOperatorInfo* pOperator) {",
          "content_same": false
        },
        {
          "line": 3945,
          "old_api": "setInputDataBlock",
          "new_api": null,
          "old_text": "setInputDataBlock(pOperator, pInfo->pCtx, pBlock, TSDB_ORDER_ASC)",
          "new_text": null,
          "old_line_content": "    setInputDataBlock(pOperator, pInfo->pCtx, pBlock, TSDB_ORDER_ASC);",
          "new_line_content": "  if (pProjectInfo->existDataBlock) {  // TODO refactor",
          "content_same": false
        },
        {
          "line": 3947,
          "old_api": "blockDataEnsureCapacity",
          "new_api": null,
          "old_text": "blockDataEnsureCapacity(pInfo->pRes, pBlock->info.rows)",
          "new_text": null,
          "old_line_content": "    blockDataEnsureCapacity(pInfo->pRes, pBlock->info.rows);",
          "new_line_content": "    pProjectInfo->existDataBlock = NULL;",
          "content_same": false
        },
        {
          "line": 3948,
          "old_api": "projectApplyFunctions",
          "new_api": null,
          "old_text": "projectApplyFunctions(pOperator->pExpr, pInfo->pRes, pBlock, pInfo->pCtx, pOperator->numOfExprs)",
          "new_text": null,
          "old_line_content": "    projectApplyFunctions(pOperator->pExpr, pInfo->pRes, pBlock, pInfo->pCtx, pOperator->numOfExprs);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3951,
          "old_api": "resetResultRowEntryResult",
          "new_api": null,
          "old_text": "resetResultRowEntryResult(pInfo->pCtx, pOperator->numOfExprs)",
          "new_text": null,
          "old_line_content": "      resetResultRowEntryResult(pInfo->pCtx, pOperator->numOfExprs);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3964,
          "old_api": "publishOperatorProfEvent",
          "new_api": null,
          "old_text": "publishOperatorProfEvent(downstream, QUERY_PROF_BEFORE_OPERATOR_EXEC)",
          "new_text": null,
          "old_line_content": "    publishOperatorProfEvent(downstream, QUERY_PROF_BEFORE_OPERATOR_EXEC);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3965,
          "old_api": "getNextFn",
          "new_api": null,
          "old_text": "downstream->fpSet.getNextFn(downstream)",
          "new_text": null,
          "old_line_content": "    SSDataBlock* pBlock = downstream->fpSet.getNextFn(downstream);",
          "new_line_content": "  SOperatorInfo* downstream = pOperator->pDownstream[0];",
          "content_same": false
        },
        {
          "line": 3966,
          "old_api": "publishOperatorProfEvent",
          "new_api": null,
          "old_text": "publishOperatorProfEvent(downstream, QUERY_PROF_AFTER_OPERATOR_EXEC)",
          "new_text": null,
          "old_line_content": "    publishOperatorProfEvent(downstream, QUERY_PROF_AFTER_OPERATOR_EXEC);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3979,
          "old_api": "initCtxOutputBuffer",
          "new_api": null,
          "old_text": "initCtxOutputBuffer(pInfo->pCtx, pOperator->numOfExprs)",
          "new_text": null,
          "old_line_content": "        initCtxOutputBuffer(pInfo->pCtx, pOperator->numOfExprs);",
          "new_line_content": "    if (false) {",
          "content_same": false
        },
        {
          "line": 3986,
          "old_api": "setInputDataBlock",
          "new_api": null,
          "old_text": "setInputDataBlock(pOperator, pInfo->pCtx, pBlock, order, scanFlag, false)",
          "new_text": null,
          "old_line_content": "    setInputDataBlock(pOperator, pInfo->pCtx, pBlock, order, scanFlag, false);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3987,
          "old_api": "blockDataEnsureCapacity",
          "new_api": null,
          "old_text": "blockDataEnsureCapacity(pInfo->pRes, pInfo->pRes->info.rows + pBlock->info.rows)",
          "new_text": null,
          "old_line_content": "    blockDataEnsureCapacity(pInfo->pRes, pInfo->pRes->info.rows + pBlock->info.rows);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4012,
          "old_api": "Q_STATUS_EQUAL",
          "new_api": null,
          "old_text": "Q_STATUS_EQUAL(pTaskInfo->status, TASK_COMPLETED)",
          "new_text": null,
          "old_line_content": "  int64_t ekey = Q_STATUS_EQUAL(pTaskInfo->status, TASK_COMPLETED) ? pTaskInfo->window.ekey",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4014,
          "old_api": "getFillInfoStart",
          "new_api": null,
          "old_text": "getFillInfoStart(pInfo->pFillInfo)",
          "new_text": null,
          "old_line_content": "  taosResetFillInfo(pInfo->pFillInfo, getFillInfoStart(pInfo->pFillInfo));",
          "new_line_content": "                                               SExecTaskInfo* pTaskInfo) {",
          "content_same": false
        },
        {
          "line": 4016,
          "old_api": "taosFillSetStartInfo",
          "new_api": null,
          "old_text": "taosFillSetStartInfo(pInfo->pFillInfo, pInfo->existNewGroupBlock->info.rows, ekey)",
          "new_text": null,
          "old_line_content": "  taosFillSetStartInfo(pInfo->pFillInfo, pInfo->existNewGroupBlock->info.rows, ekey);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4026,
          "old_api": "taosFillHasMoreResults",
          "new_api": null,
          "old_text": "taosFillHasMoreResults(pInfo->pFillInfo)",
          "new_text": null,
          "old_line_content": "  if (taosFillHasMoreResults(pInfo->pFillInfo)) {",
          "new_line_content": "  *newgroup = true;",
          "content_same": false
        },
        {
          "line": 4028,
          "old_api": "doFillTimeIntervalGapsInResults",
          "new_api": null,
          "old_text": "doFillTimeIntervalGapsInResults(pInfo->pFillInfo, pInfo->pRes, (int32_t)pResultInfo->capacity)",
          "new_text": null,
          "old_line_content": "    doFillTimeIntervalGapsInResults(pInfo->pFillInfo, pInfo->pRes, (int32_t)pResultInfo->capacity);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4036,
          "old_api": "doHandleRemainBlockForNewGroupImpl",
          "new_api": null,
          "old_text": "doHandleRemainBlockForNewGroupImpl(pInfo, pResultInfo, newgroup, pTaskInfo)",
          "new_text": null,
          "old_line_content": "    doHandleRemainBlockForNewGroupImpl(pInfo, pResultInfo, newgroup, pTaskInfo);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4047,
          "old_api": "blockDataCleanup",
          "new_api": null,
          "old_text": "blockDataCleanup(pResBlock)",
          "new_text": null,
          "old_line_content": "  blockDataCleanup(pResBlock);",
          "new_line_content": "  SExecTaskInfo*     pTaskInfo = pOperator->pTaskInfo;",
          "content_same": false
        },
        {
          "line": 4055,
          "old_api": "doHandleRemainBlockFromNewGroup",
          "new_api": null,
          "old_text": "doHandleRemainBlockFromNewGroup(pInfo, pResultInfo, newgroup, pTaskInfo)",
          "new_text": null,
          "old_line_content": "  doHandleRemainBlockFromNewGroup(pInfo, pResultInfo, newgroup, pTaskInfo);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 4062,
          "old_api": "publishOperatorProfEvent",
          "new_api": null,
          "old_text": "publishOperatorProfEvent(pDownstream, QUERY_PROF_BEFORE_OPERATOR_EXEC)",
          "new_text": null,
          "old_line_content": "    publishOperatorProfEvent(pDownstream, QUERY_PROF_BEFORE_OPERATOR_EXEC);",
          "new_line_content": "    return pResBlock;",
          "content_same": false
        },
        {
          "line": 4063,
          "old_api": "getNextFn",
          "new_api": null,
          "old_text": "pDownstream->fpSet.getNextFn(pDownstream)",
          "new_text": null,
          "old_line_content": "    SSDataBlock* pBlock = pDownstream->fpSet.getNextFn(pDownstream);",
          "new_line_content": "  }",
          "content_same": false
        },
        {
          "line": 4064,
          "old_api": "publishOperatorProfEvent",
          "new_api": null,
          "old_text": "publishOperatorProfEvent(pDownstream, QUERY_PROF_AFTER_OPERATOR_EXEC)",
          "new_text": null,
          "old_line_content": "    publishOperatorProfEvent(pDownstream, QUERY_PROF_AFTER_OPERATOR_EXEC);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4076,
          "old_api": "taosFillSetStartInfo",
          "new_api": null,
          "old_text": "taosFillSetStartInfo(pInfo->pFillInfo, 0, pTaskInfo->window.ekey)",
          "new_text": null,
          "old_line_content": "      taosFillSetStartInfo(pInfo->pFillInfo, 0, pTaskInfo->window.ekey);",
          "new_line_content": "      pInfo->existNewGroupBlock = pBlock;",
          "content_same": false
        },
        {
          "line": 4084,
          "old_api": "taosFillSetStartInfo",
          "new_api": null,
          "old_text": "taosFillSetStartInfo(pInfo->pFillInfo, 0, pTaskInfo->window.ekey)",
          "new_text": null,
          "old_line_content": "        taosFillSetStartInfo(pInfo->pFillInfo, 0, pTaskInfo->window.ekey);",
          "new_line_content": "        if (pInfo->totalInputRows == 0) {",
          "content_same": false
        },
        {
          "line": 4087,
          "old_api": "taosFillSetStartInfo",
          "new_api": null,
          "old_text": "taosFillSetStartInfo(pInfo->pFillInfo, pBlock->info.rows, pBlock->info.window.ekey)",
          "new_text": null,
          "old_line_content": "        taosFillSetStartInfo(pInfo->pFillInfo, pBlock->info.rows, pBlock->info.window.ekey);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4088,
          "old_api": "taosFillSetInputDataBlock",
          "new_api": null,
          "old_text": "taosFillSetInputDataBlock(pInfo->pFillInfo, pBlock)",
          "new_text": null,
          "old_line_content": "        taosFillSetInputDataBlock(pInfo->pFillInfo, pBlock);",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 136,
      "total_additions": 484,
      "total_deletions": 484,
      "total_api_changes": 1104
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 5,
        "api_related_lines": 1104,
        "non_api_lines": 5,
        "non_api_line_numbers": [
          2058,
          2059,
          2060,
          2061,
          2062
        ]
      }
    },
    "api_calls_before": 928,
    "api_calls_after": 928,
    "diff_info": {
      "added_lines": 5,
      "removed_lines": 0,
      "total_diff_lines": 17
    }
  }
}