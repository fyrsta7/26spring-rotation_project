[
    {
        "repository_name": "bcc",
        "hash": "23fc58904455047ac2bbdb44b26839e127bf7fcb",
        "author": "Brenden Blanco",
        "date": "2017-08-25T16:43:01-07:00",
        "message": "Update after lookup in map.increment for HASH types\n\nPerforming the update before lookup incurs an extra spinlock in the\nkernel, which hurts performance. Reorder the code and increment to 1.\nThe memset is there I believe due to some type mismatch warnings, so I'm\nleaving as is rather than doing a direct assign to 1. The resulting code\nis optimized away anyway.\n\nFixes: #1314\nSigned-off-by: Brenden Blanco <bblanco@gmail.com>",
        "modified_files_count": 1,
        "modified_files": [
            "src/cc/frontends/clang/b_frontend_action.cc"
        ],
        "github_commit_url": "https://github.com/iovisor/bcc/commit/23fc58904455047ac2bbdb44b26839e127bf7fcb",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "BTypeVisitor::VisitCallExpr"
        ],
        "added_lines": 6,
        "deleted_lines": 4,
        "total_changed_lines": 10,
        "net_line_change": 2,
        "modified_code_blocks": 3,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "bcc",
        "hash": "3c40c02d354efc199a211a86e07c1893113fa5fe",
        "author": "Prashant Bhole",
        "date": "2017-09-28T14:50:56+09:00",
        "message": "examples:dns_matching: added pragma directive for loop unrolling\n\nLoop unrolling was not working because of if-condition in the loop.\nAdded #pragma unroll directive.\n\nSigned-off-by: Prashant Bhole <bhole_prashant_q7@lab.ntt.co.jp>",
        "modified_files_count": 1,
        "modified_files": [
            "examples/networking/dns_matching/dns_matching.c"
        ],
        "github_commit_url": "https://github.com/iovisor/bcc/commit/3c40c02d354efc199a211a86e07c1893113fa5fe",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "dns_matching"
        ],
        "added_lines": 1,
        "deleted_lines": 1,
        "total_changed_lines": 2,
        "net_line_change": 0,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "bcc",
        "hash": "42c00adb4181920d3e52f01e5020686ef470d6ce",
        "author": "Yonghong Song",
        "date": "2017-06-19T16:42:41-07:00",
        "message": "Change clang frontend optimization level from 0 to 2\n\nThe issue is caused by the following clang change on 5.0:\nhttps://reviews.llvm.org/D28404\n\nBasically, at -O0, unless always inlining is specified, a\nfunction will be marked as optnone and noinline.\n\nThis causes two kinds of issues: (1). optnone will generate\nsuboptimal code with heavy stack use and this high likely can\ncause verifier failure; and (2). even if user mark all his/her\ndefined functions in bpf program as always inlining, some\nfunctions in linux header files are not marked as always inline\nand hence will be marked as noinline instead, ultimately\ncausing llvm complaining about global function reference.\n\nThis patch bumps the clang optimization level to -O2.\nThis should work with older versions of llvm as well.\n\nSigned-off-by: Yonghong Song <yhs@fb.com>",
        "modified_files_count": 1,
        "modified_files": [
            "src/cc/frontends/clang/loader.cc"
        ],
        "github_commit_url": "https://github.com/iovisor/bcc/commit/42c00adb4181920d3e52f01e5020686ef470d6ce",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "ClangLoader::parse"
        ],
        "added_lines": 4,
        "deleted_lines": 1,
        "total_changed_lines": 5,
        "net_line_change": 3,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    },
    {
        "repository_name": "bcc",
        "hash": "b1df21d46ec38462e67d3c7ae56253b99de1217a",
        "author": "Huapeng Zhou",
        "date": "2017-04-18T17:05:24-07:00",
        "message": "Use normal inlining in clang loader",
        "modified_files_count": 1,
        "modified_files": [
            "src/cc/frontends/clang/loader.cc"
        ],
        "github_commit_url": "https://github.com/iovisor/bcc/commit/b1df21d46ec38462e67d3c7ae56253b99de1217a",
        "contains_optimization_keyword": true,
        "modified_func_count": 1,
        "modified_other": false,
        "modified_func": [
            "ClangLoader::parse"
        ],
        "added_lines": 3,
        "deleted_lines": 0,
        "total_changed_lines": 3,
        "net_line_change": 3,
        "modified_code_blocks": 1,
        "is_opt_ds_simple": "true"
    }
]