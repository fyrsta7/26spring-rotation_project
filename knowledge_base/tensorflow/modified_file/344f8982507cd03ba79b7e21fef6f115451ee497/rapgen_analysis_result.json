{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/tensorflow/modified_file/344f8982507cd03ba79b7e21fef6f115451ee497",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/tensorflow/modified_file/344f8982507cd03ba79b7e21fef6f115451ee497/before.h",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/tensorflow/modified_file/344f8982507cd03ba79b7e21fef6f115451ee497/after.h",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/tensorflow/modified_file/344f8982507cd03ba79b7e21fef6f115451ee497/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": true,
    "api_changes": {
      "replacements": [
        {
          "line": 51,
          "old_api": "vld1q_s8",
          "new_api": "vdupq_n_s16",
          "old_text": "vld1q_s8(input1_data + i)",
          "new_text": "vdupq_n_s16(params.input2_offset)",
          "old_line_content": "    const int8x16_t input1_val_original = vld1q_s8(input1_data + i);",
          "new_line_content": "  const int16x8_t input2_offset_dup = vdupq_n_s16(params.input2_offset);",
          "content_same": false
        },
        {
          "line": 55,
          "old_api": "vget_high_s8",
          "new_api": "vld1q_s8",
          "old_text": "vget_high_s8(input1_val_original)",
          "new_text": "vld1q_s8(input2_data + i)",
          "old_line_content": "        vmovl_s8(vget_high_s8(input1_val_original));",
          "new_line_content": "    const int8x16_t input2_val_original = vld1q_s8(input2_data + i);",
          "content_same": false
        },
        {
          "line": 60,
          "old_api": "vget_high_s8",
          "new_api": "vget_low_s8",
          "old_text": "vget_high_s8(input2_val_original)",
          "new_text": "vget_low_s8(input1_val_original)",
          "old_line_content": "        vmovl_s8(vget_high_s8(input2_val_original));",
          "new_line_content": "        vmovl_s8(vget_low_s8(input1_val_original));",
          "content_same": false
        },
        {
          "line": 71,
          "old_api": "vget_high_s16",
          "new_api": "vaddq_s16",
          "old_text": "vget_high_s16(input1_val_high)",
          "new_text": "vaddq_s16(input1_val_s16_low, input1_offset_dup)",
          "old_line_content": "    const int16x4_t input1_val_high_high = vget_high_s16(input1_val_high);",
          "new_line_content": "        vaddq_s16(input1_val_s16_low, input1_offset_dup);",
          "content_same": false
        },
        {
          "line": 73,
          "old_api": "vget_high_s16",
          "new_api": "vaddq_s16",
          "old_text": "vget_high_s16(input1_val_low)",
          "new_text": "vaddq_s16(input2_val_s16_low, input2_offset_dup)",
          "old_line_content": "    const int16x4_t input1_val_low_high = vget_high_s16(input1_val_low);",
          "new_line_content": "        vaddq_s16(input2_val_s16_low, input2_offset_dup);",
          "content_same": false
        },
        {
          "line": 74,
          "old_api": "vget_low_s16",
          "new_api": "vget_high_s16",
          "old_text": "vget_low_s16(input1_val_low)",
          "new_text": "vget_high_s16(input1_val_high)",
          "old_line_content": "    const int16x4_t input1_val_low_low = vget_low_s16(input1_val_low);",
          "new_line_content": "    const int16x4_t input1_val_high_high = vget_high_s16(input1_val_high);",
          "content_same": false
        },
        {
          "line": 75,
          "old_api": "vget_high_s16",
          "new_api": "vget_low_s16",
          "old_text": "vget_high_s16(input2_val_high)",
          "new_text": "vget_low_s16(input1_val_high)",
          "old_line_content": "    const int16x4_t input2_val_high_high = vget_high_s16(input2_val_high);",
          "new_line_content": "    const int16x4_t input1_val_high_low = vget_low_s16(input1_val_high);",
          "content_same": false
        },
        {
          "line": 76,
          "old_api": "vget_low_s16",
          "new_api": "vget_high_s16",
          "old_text": "vget_low_s16(input2_val_high)",
          "new_text": "vget_high_s16(input1_val_low)",
          "old_line_content": "    const int16x4_t input2_val_high_low = vget_low_s16(input2_val_high);",
          "new_line_content": "    const int16x4_t input1_val_low_high = vget_high_s16(input1_val_low);",
          "content_same": false
        },
        {
          "line": 77,
          "old_api": "vget_high_s16",
          "new_api": "vget_low_s16",
          "old_text": "vget_high_s16(input2_val_low)",
          "new_text": "vget_low_s16(input1_val_low)",
          "old_line_content": "    const int16x4_t input2_val_low_high = vget_high_s16(input2_val_low);",
          "new_line_content": "    const int16x4_t input1_val_low_low = vget_low_s16(input1_val_low);",
          "content_same": false
        },
        {
          "line": 78,
          "old_api": "vget_low_s16",
          "new_api": "vget_high_s16",
          "old_text": "vget_low_s16(input2_val_low)",
          "new_text": "vget_high_s16(input2_val_high)",
          "old_line_content": "    const int16x4_t input2_val_low_low = vget_low_s16(input2_val_low);",
          "new_line_content": "    const int16x4_t input2_val_high_high = vget_high_s16(input2_val_high);",
          "content_same": false
        },
        {
          "line": 79,
          "old_api": "vmovl_s16",
          "new_api": "vget_low_s16",
          "old_text": "vmovl_s16(input1_val_low_low)",
          "new_text": "vget_low_s16(input2_val_high)",
          "old_line_content": "    int32x4_t x111 = vmovl_s16(input1_val_low_low);",
          "new_line_content": "    const int16x4_t input2_val_high_low = vget_low_s16(input2_val_high);",
          "content_same": false
        },
        {
          "line": 80,
          "old_api": "vmovl_s16",
          "new_api": "vget_high_s16",
          "old_text": "vmovl_s16(input1_val_low_high)",
          "new_text": "vget_high_s16(input2_val_low)",
          "old_line_content": "    int32x4_t x112 = vmovl_s16(input1_val_low_high);",
          "new_line_content": "    const int16x4_t input2_val_low_high = vget_high_s16(input2_val_low);",
          "content_same": false
        },
        {
          "line": 81,
          "old_api": "vmovl_s16",
          "new_api": "vget_low_s16",
          "old_text": "vmovl_s16(input1_val_high_low)",
          "new_text": "vget_low_s16(input2_val_low)",
          "old_line_content": "    int32x4_t x121 = vmovl_s16(input1_val_high_low);",
          "new_line_content": "    const int16x4_t input2_val_low_low = vget_low_s16(input2_val_low);",
          "content_same": false
        },
        {
          "line": 88,
          "old_api": "vshlq_s32",
          "new_api": "vmovl_s16",
          "old_text": "vshlq_s32(x111, input1_left_dup)",
          "new_text": "vmovl_s16(input2_val_high_low)",
          "old_line_content": "    x111 = vshlq_s32(x111, input1_left_dup);",
          "new_line_content": "    int32x4_t x221 = vmovl_s16(input2_val_high_low);",
          "content_same": false
        },
        {
          "line": 89,
          "old_api": "vshlq_s32",
          "new_api": "vmovl_s16",
          "old_text": "vshlq_s32(x112, input1_left_dup)",
          "new_text": "vmovl_s16(input2_val_high_high)",
          "old_line_content": "    x112 = vshlq_s32(x112, input1_left_dup);",
          "new_line_content": "    int32x4_t x222 = vmovl_s16(input2_val_high_high);",
          "content_same": false
        },
        {
          "line": 96,
          "old_api": "vqrdmulhq_n_s32",
          "new_api": "vshlq_s32",
          "old_text": "vqrdmulhq_n_s32(x111, params.input1_multiplier)",
          "new_text": "vshlq_s32(x212, input2_left_dup)",
          "old_line_content": "    x111 = vqrdmulhq_n_s32(x111, params.input1_multiplier);",
          "new_line_content": "    x212 = vshlq_s32(x212, input2_left_dup);",
          "content_same": false
        },
        {
          "line": 97,
          "old_api": "vqrdmulhq_n_s32",
          "new_api": "vshlq_s32",
          "old_text": "vqrdmulhq_n_s32(x112, params.input1_multiplier)",
          "new_text": "vshlq_s32(x221, input2_left_dup)",
          "old_line_content": "    x112 = vqrdmulhq_n_s32(x112, params.input1_multiplier);",
          "new_line_content": "    x221 = vshlq_s32(x221, input2_left_dup);",
          "content_same": false
        },
        {
          "line": 98,
          "old_api": "vqrdmulhq_n_s32",
          "new_api": "vshlq_s32",
          "old_text": "vqrdmulhq_n_s32(x121, params.input1_multiplier)",
          "new_text": "vshlq_s32(x222, input2_left_dup)",
          "old_line_content": "    x121 = vqrdmulhq_n_s32(x121, params.input1_multiplier);",
          "new_line_content": "    x222 = vshlq_s32(x222, input2_left_dup);",
          "content_same": false
        },
        {
          "line": 104,
          "old_api": "vaddq_s32",
          "new_api": "vqrdmulhq_n_s32",
          "old_text": "vaddq_s32(x111, x211)",
          "new_text": "vqrdmulhq_n_s32(x212, params.input2_multiplier)",
          "old_line_content": "    int32x4_t s11 = vaddq_s32(x111, x211);",
          "new_line_content": "    x212 = vqrdmulhq_n_s32(x212, params.input2_multiplier);",
          "content_same": false
        },
        {
          "line": 105,
          "old_api": "vaddq_s32",
          "new_api": "vqrdmulhq_n_s32",
          "old_text": "vaddq_s32(x112, x212)",
          "new_text": "vqrdmulhq_n_s32(x221, params.input2_multiplier)",
          "old_line_content": "    int32x4_t s12 = vaddq_s32(x112, x212);",
          "new_line_content": "    x221 = vqrdmulhq_n_s32(x221, params.input2_multiplier);",
          "content_same": false
        },
        {
          "line": 106,
          "old_api": "vaddq_s32",
          "new_api": "vqrdmulhq_n_s32",
          "old_text": "vaddq_s32(x121, x221)",
          "new_text": "vqrdmulhq_n_s32(x222, params.input2_multiplier)",
          "old_line_content": "    int32x4_t s21 = vaddq_s32(x121, x221);",
          "new_line_content": "    x222 = vqrdmulhq_n_s32(x222, params.input2_multiplier);",
          "content_same": false
        },
        {
          "line": 108,
          "old_api": "vqrdmulhq_n_s32",
          "new_api": "vaddq_s32",
          "old_text": "vqrdmulhq_n_s32(s11, params.output_multiplier)",
          "new_text": "vaddq_s32(x112, x212)",
          "old_line_content": "    s11 = vqrdmulhq_n_s32(s11, params.output_multiplier);",
          "new_line_content": "    int32x4_t s12 = vaddq_s32(x112, x212);",
          "content_same": false
        },
        {
          "line": 109,
          "old_api": "vqrdmulhq_n_s32",
          "new_api": "vaddq_s32",
          "old_text": "vqrdmulhq_n_s32(s12, params.output_multiplier)",
          "new_text": "vaddq_s32(x121, x221)",
          "old_line_content": "    s12 = vqrdmulhq_n_s32(s12, params.output_multiplier);",
          "new_line_content": "    int32x4_t s21 = vaddq_s32(x121, x221);",
          "content_same": false
        },
        {
          "line": 110,
          "old_api": "vqrdmulhq_n_s32",
          "new_api": "vaddq_s32",
          "old_text": "vqrdmulhq_n_s32(s21, params.output_multiplier)",
          "new_text": "vaddq_s32(x122, x222)",
          "old_line_content": "    s21 = vqrdmulhq_n_s32(s21, params.output_multiplier);",
          "new_line_content": "    int32x4_t s22 = vaddq_s32(x122, x222);",
          "content_same": false
        },
        {
          "line": 113,
          "old_api": "RoundingDivideByPOT",
          "new_api": "vqrdmulhq_n_s32",
          "old_text": "RoundingDivideByPOT(s11, -params.output_shift)",
          "new_text": "vqrdmulhq_n_s32(s21, params.output_multiplier)",
          "old_line_content": "    s11 = RoundingDivideByPOT(s11, -params.output_shift);",
          "new_line_content": "    s21 = vqrdmulhq_n_s32(s21, params.output_multiplier);",
          "content_same": false
        },
        {
          "line": 114,
          "old_api": "RoundingDivideByPOT",
          "new_api": "vqrdmulhq_n_s32",
          "old_text": "RoundingDivideByPOT(s12, -params.output_shift)",
          "new_text": "vqrdmulhq_n_s32(s22, params.output_multiplier)",
          "old_line_content": "    s12 = RoundingDivideByPOT(s12, -params.output_shift);",
          "new_line_content": "    s22 = vqrdmulhq_n_s32(s22, params.output_multiplier);",
          "content_same": false
        },
        {
          "line": 117,
          "old_api": "vmovn_s32",
          "new_api": "RoundingDivideByPOT",
          "old_text": "vmovn_s32(s11)",
          "new_text": "RoundingDivideByPOT(s12, -params.output_shift)",
          "old_line_content": "    const int16x4_t s11_narrowed = vmovn_s32(s11);",
          "new_line_content": "    s12 = RoundingDivideByPOT(s12, -params.output_shift);",
          "content_same": false
        },
        {
          "line": 118,
          "old_api": "vmovn_s32",
          "new_api": "RoundingDivideByPOT",
          "old_text": "vmovn_s32(s12)",
          "new_text": "RoundingDivideByPOT(s21, -params.output_shift)",
          "old_line_content": "    const int16x4_t s12_narrowed = vmovn_s32(s12);",
          "new_line_content": "    s21 = RoundingDivideByPOT(s21, -params.output_shift);",
          "content_same": false
        },
        {
          "line": 119,
          "old_api": "vmovn_s32",
          "new_api": "RoundingDivideByPOT",
          "old_text": "vmovn_s32(s21)",
          "new_text": "RoundingDivideByPOT(s22, -params.output_shift)",
          "old_line_content": "    const int16x4_t s21_narrowed = vmovn_s32(s21);",
          "new_line_content": "    s22 = RoundingDivideByPOT(s22, -params.output_shift);",
          "content_same": false
        },
        {
          "line": 121,
          "old_api": "vcombine_s16",
          "new_api": "vmovn_s32",
          "old_text": "vcombine_s16(s11_narrowed, s12_narrowed)",
          "new_text": "vmovn_s32(s12)",
          "old_line_content": "    const int16x8_t s1 = vaddq_s16(vcombine_s16(s11_narrowed, s12_narrowed),",
          "new_line_content": "    const int16x4_t s12_narrowed = vmovn_s32(s12);",
          "content_same": false
        },
        {
          "line": 122,
          "old_api": "vdupq_n_s16",
          "new_api": "vmovn_s32",
          "old_text": "vdupq_n_s16(params.output_offset)",
          "new_text": "vmovn_s32(s21)",
          "old_line_content": "                                   vdupq_n_s16(params.output_offset));",
          "new_line_content": "    const int16x4_t s21_narrowed = vmovn_s32(s21);",
          "content_same": false
        },
        {
          "line": 123,
          "old_api": "vcombine_s16",
          "new_api": "vmovn_s32",
          "old_text": "vcombine_s16(s21_narrowed, s22_narrowed)",
          "new_text": "vmovn_s32(s22)",
          "old_line_content": "    const int16x8_t s2 = vaddq_s16(vcombine_s16(s21_narrowed, s22_narrowed),",
          "new_line_content": "    const int16x4_t s22_narrowed = vmovn_s32(s22);",
          "content_same": false
        },
        {
          "line": 124,
          "old_api": "vdupq_n_s16",
          "new_api": "vcombine_s16",
          "old_text": "vdupq_n_s16(params.output_offset)",
          "new_text": "vcombine_s16(s11_narrowed, s12_narrowed)",
          "old_line_content": "                                   vdupq_n_s16(params.output_offset));",
          "new_line_content": "    const int16x8_t s1 = vaddq_s16(vcombine_s16(s11_narrowed, s12_narrowed),",
          "content_same": false
        },
        {
          "line": 125,
          "old_api": "vqmovn_s16",
          "new_api": "vdupq_n_s16",
          "old_text": "vqmovn_s16(s2)",
          "new_text": "vdupq_n_s16(params.output_offset)",
          "old_line_content": "    const int8x16_t s = vcombine_s8(vqmovn_s16(s1), vqmovn_s16(s2));",
          "new_line_content": "                                   vdupq_n_s16(params.output_offset));",
          "content_same": false
        },
        {
          "line": 128,
          "old_api": "vmaxq_s8",
          "new_api": "vqmovn_s16",
          "old_text": "vmaxq_s8(output_activation_min_vector,\n                 vminq_s8(output_activation_max_vector, s))",
          "new_text": "vqmovn_s16(s2)",
          "old_line_content": "        vmaxq_s8(output_activation_min_vector,",
          "new_line_content": "    const int8x16_t s = vcombine_s8(vqmovn_s16(s1), vqmovn_s16(s2));",
          "content_same": false
        },
        {
          "line": 169,
          "old_api": "TFLITE_DCHECK_LT",
          "new_api": "TFLITE_DCHECK_GT",
          "old_text": "TFLITE_DCHECK_LT(params.input2_offset, 256)",
          "new_text": "TFLITE_DCHECK_GT(params.input1_offset, -256)",
          "old_line_content": "  TFLITE_DCHECK_LT(params.input2_offset, 256);",
          "new_line_content": "  TFLITE_DCHECK_GT(params.input1_offset, -256);",
          "content_same": false
        },
        {
          "line": 184,
          "old_api": "vdupq_n_s16",
          "new_api": "vdup_n_s8",
          "old_text": "vdupq_n_s16(params.input1_offset)",
          "new_text": "vdup_n_s8(input1_data)",
          "old_line_content": "      vaddq_s16(input1_val_s16, vdupq_n_s16(params.input1_offset));",
          "new_line_content": "  const int8x8_t input1_val_original = vdup_n_s8(input1_data);",
          "content_same": false
        },
        {
          "line": 185,
          "old_api": "vget_high_s16",
          "new_api": "vmovl_s8",
          "old_text": "vget_high_s16(input1_val)",
          "new_text": "vmovl_s8(input1_val_original)",
          "old_line_content": "  const int16x4_t input1_val_high = vget_high_s16(input1_val);",
          "new_line_content": "  const int16x8_t input1_val_s16 = vmovl_s8(input1_val_original);",
          "content_same": false
        },
        {
          "line": 187,
          "old_api": "vmovl_s16",
          "new_api": "vdupq_n_s16",
          "old_text": "vmovl_s16(input1_val_low)",
          "new_text": "vdupq_n_s16(params.input1_offset)",
          "old_line_content": "  int32x4_t x11 = vmovl_s16(input1_val_low);",
          "new_line_content": "      vaddq_s16(input1_val_s16, vdupq_n_s16(params.input1_offset));",
          "content_same": false
        },
        {
          "line": 188,
          "old_api": "vmovl_s16",
          "new_api": "vget_high_s16",
          "old_text": "vmovl_s16(input1_val_high)",
          "new_text": "vget_high_s16(input1_val)",
          "old_line_content": "  int32x4_t x12 = vmovl_s16(input1_val_high);",
          "new_line_content": "  const int16x4_t input1_val_high = vget_high_s16(input1_val);",
          "content_same": false
        },
        {
          "line": 189,
          "old_api": "vshlq_s32",
          "new_api": "vget_low_s16",
          "old_text": "vshlq_s32(x11, left_shift_dup)",
          "new_text": "vget_low_s16(input1_val)",
          "old_line_content": "  x11 = vshlq_s32(x11, left_shift_dup);",
          "new_line_content": "  const int16x4_t input1_val_low = vget_low_s16(input1_val);",
          "content_same": false
        },
        {
          "line": 190,
          "old_api": "vshlq_s32",
          "new_api": "vmovl_s16",
          "old_text": "vshlq_s32(x12, left_shift_dup)",
          "new_text": "vmovl_s16(input1_val_low)",
          "old_line_content": "  x12 = vshlq_s32(x12, left_shift_dup);",
          "new_line_content": "  int32x4_t x11 = vmovl_s16(input1_val_low);",
          "content_same": false
        },
        {
          "line": 191,
          "old_api": "vqrdmulhq_n_s32",
          "new_api": "vmovl_s16",
          "old_text": "vqrdmulhq_n_s32(x11, params.input1_multiplier)",
          "new_text": "vmovl_s16(input1_val_high)",
          "old_line_content": "  x11 = vqrdmulhq_n_s32(x11, params.input1_multiplier);",
          "new_line_content": "  int32x4_t x12 = vmovl_s16(input1_val_high);",
          "content_same": false
        },
        {
          "line": 192,
          "old_api": "vqrdmulhq_n_s32",
          "new_api": "vshlq_s32",
          "old_text": "vqrdmulhq_n_s32(x12, params.input1_multiplier)",
          "new_text": "vshlq_s32(x11, left_shift_dup)",
          "old_line_content": "  x12 = vqrdmulhq_n_s32(x12, params.input1_multiplier);",
          "new_line_content": "  x11 = vshlq_s32(x11, left_shift_dup);",
          "content_same": false
        },
        {
          "line": 193,
          "old_api": "vdupq_n_s32",
          "new_api": "vshlq_s32",
          "old_text": "vdupq_n_s32(params.input1_shift)",
          "new_text": "vshlq_s32(x12, left_shift_dup)",
          "old_line_content": "  const int32x4_t input1_shift_dup = vdupq_n_s32(params.input1_shift);",
          "new_line_content": "  x12 = vshlq_s32(x12, left_shift_dup);",
          "content_same": false
        },
        {
          "line": 194,
          "old_api": "vshlq_s32",
          "new_api": "vqrdmulhq_n_s32",
          "old_text": "vshlq_s32(x11, input1_shift_dup)",
          "new_text": "vqrdmulhq_n_s32(x11, params.input1_multiplier)",
          "old_line_content": "  x11 = vshlq_s32(x11, input1_shift_dup);",
          "new_line_content": "  x11 = vqrdmulhq_n_s32(x11, params.input1_multiplier);",
          "content_same": false
        },
        {
          "line": 195,
          "old_api": "vshlq_s32",
          "new_api": "vqrdmulhq_n_s32",
          "old_text": "vshlq_s32(x12, input1_shift_dup)",
          "new_text": "vqrdmulhq_n_s32(x12, params.input1_multiplier)",
          "old_line_content": "  x12 = vshlq_s32(x12, input1_shift_dup);",
          "new_line_content": "  x12 = vqrdmulhq_n_s32(x12, params.input1_multiplier);",
          "content_same": false
        },
        {
          "line": 198,
          "old_api": "vld1_s8",
          "new_api": "vshlq_s32",
          "old_text": "vld1_s8(input2_data + i)",
          "new_text": "vshlq_s32(x12, input1_shift_dup)",
          "old_line_content": "    const int8x8_t input2_val_original = vld1_s8(input2_data + i);",
          "new_line_content": "  x12 = vshlq_s32(x12, input1_shift_dup);",
          "content_same": false
        },
        {
          "line": 201,
          "old_api": "vdupq_n_s16",
          "new_api": "vld1_s8",
          "old_text": "vdupq_n_s16(params.input2_offset)",
          "new_text": "vld1_s8(input2_data + i)",
          "old_line_content": "        vaddq_s16(input2_val_s16, vdupq_n_s16(params.input2_offset));",
          "new_line_content": "    const int8x8_t input2_val_original = vld1_s8(input2_data + i);",
          "content_same": false
        },
        {
          "line": 202,
          "old_api": "vget_high_s16",
          "new_api": "vmovl_s8",
          "old_text": "vget_high_s16(input2_val)",
          "new_text": "vmovl_s8(input2_val_original)",
          "old_line_content": "    const int16x4_t input2_val_high = vget_high_s16(input2_val);",
          "new_line_content": "    const int16x8_t input2_val_s16 = vmovl_s8(input2_val_original);",
          "content_same": false
        },
        {
          "line": 204,
          "old_api": "vmovl_s16",
          "new_api": "vdupq_n_s16",
          "old_text": "vmovl_s16(input2_val_low)",
          "new_text": "vdupq_n_s16(params.input2_offset)",
          "old_line_content": "    int32x4_t x21 = vmovl_s16(input2_val_low);",
          "new_line_content": "        vaddq_s16(input2_val_s16, vdupq_n_s16(params.input2_offset));",
          "content_same": false
        },
        {
          "line": 205,
          "old_api": "vmovl_s16",
          "new_api": "vget_high_s16",
          "old_text": "vmovl_s16(input2_val_high)",
          "new_text": "vget_high_s16(input2_val)",
          "old_line_content": "    int32x4_t x22 = vmovl_s16(input2_val_high);",
          "new_line_content": "    const int16x4_t input2_val_high = vget_high_s16(input2_val);",
          "content_same": false
        },
        {
          "line": 206,
          "old_api": "vshlq_s32",
          "new_api": "vget_low_s16",
          "old_text": "vshlq_s32(x21, left_shift_dup)",
          "new_text": "vget_low_s16(input2_val)",
          "old_line_content": "    x21 = vshlq_s32(x21, left_shift_dup);",
          "new_line_content": "    const int16x4_t input2_val_low = vget_low_s16(input2_val);",
          "content_same": false
        },
        {
          "line": 207,
          "old_api": "vshlq_s32",
          "new_api": "vmovl_s16",
          "old_text": "vshlq_s32(x22, left_shift_dup)",
          "new_text": "vmovl_s16(input2_val_low)",
          "old_line_content": "    x22 = vshlq_s32(x22, left_shift_dup);",
          "new_line_content": "    int32x4_t x21 = vmovl_s16(input2_val_low);",
          "content_same": false
        },
        {
          "line": 208,
          "old_api": "vqrdmulhq_n_s32",
          "new_api": "vmovl_s16",
          "old_text": "vqrdmulhq_n_s32(x21, params.input2_multiplier)",
          "new_text": "vmovl_s16(input2_val_high)",
          "old_line_content": "    x21 = vqrdmulhq_n_s32(x21, params.input2_multiplier);",
          "new_line_content": "    int32x4_t x22 = vmovl_s16(input2_val_high);",
          "content_same": false
        },
        {
          "line": 209,
          "old_api": "vqrdmulhq_n_s32",
          "new_api": "vshlq_s32",
          "old_text": "vqrdmulhq_n_s32(x22, params.input2_multiplier)",
          "new_text": "vshlq_s32(x21, left_shift_dup)",
          "old_line_content": "    x22 = vqrdmulhq_n_s32(x22, params.input2_multiplier);",
          "new_line_content": "    x21 = vshlq_s32(x21, left_shift_dup);",
          "content_same": false
        },
        {
          "line": 210,
          "old_api": "vdupq_n_s32",
          "new_api": "vshlq_s32",
          "old_text": "vdupq_n_s32(params.input2_shift)",
          "new_text": "vshlq_s32(x22, left_shift_dup)",
          "old_line_content": "    const int32x4_t input2_shift_dup = vdupq_n_s32(params.input2_shift);",
          "new_line_content": "    x22 = vshlq_s32(x22, left_shift_dup);",
          "content_same": false
        },
        {
          "line": 211,
          "old_api": "vshlq_s32",
          "new_api": "vqrdmulhq_n_s32",
          "old_text": "vshlq_s32(x21, input2_shift_dup)",
          "new_text": "vqrdmulhq_n_s32(x21, params.input2_multiplier)",
          "old_line_content": "    x21 = vshlq_s32(x21, input2_shift_dup);",
          "new_line_content": "    x21 = vqrdmulhq_n_s32(x21, params.input2_multiplier);",
          "content_same": false
        },
        {
          "line": 212,
          "old_api": "vshlq_s32",
          "new_api": "vqrdmulhq_n_s32",
          "old_text": "vshlq_s32(x22, input2_shift_dup)",
          "new_text": "vqrdmulhq_n_s32(x22, params.input2_multiplier)",
          "old_line_content": "    x22 = vshlq_s32(x22, input2_shift_dup);",
          "new_line_content": "    x22 = vqrdmulhq_n_s32(x22, params.input2_multiplier);",
          "content_same": false
        },
        {
          "line": 213,
          "old_api": "vaddq_s32",
          "new_api": "vdupq_n_s32",
          "old_text": "vaddq_s32(x11, x21)",
          "new_text": "vdupq_n_s32(params.input2_shift)",
          "old_line_content": "    int32x4_t s1 = vaddq_s32(x11, x21);",
          "new_line_content": "    const int32x4_t input2_shift_dup = vdupq_n_s32(params.input2_shift);",
          "content_same": false
        },
        {
          "line": 214,
          "old_api": "vaddq_s32",
          "new_api": "vshlq_s32",
          "old_text": "vaddq_s32(x12, x22)",
          "new_text": "vshlq_s32(x21, input2_shift_dup)",
          "old_line_content": "    int32x4_t s2 = vaddq_s32(x12, x22);",
          "new_line_content": "    x21 = vshlq_s32(x21, input2_shift_dup);",
          "content_same": false
        },
        {
          "line": 215,
          "old_api": "vqrdmulhq_n_s32",
          "new_api": "vshlq_s32",
          "old_text": "vqrdmulhq_n_s32(s1, params.output_multiplier)",
          "new_text": "vshlq_s32(x22, input2_shift_dup)",
          "old_line_content": "    s1 = vqrdmulhq_n_s32(s1, params.output_multiplier);",
          "new_line_content": "    x22 = vshlq_s32(x22, input2_shift_dup);",
          "content_same": false
        },
        {
          "line": 216,
          "old_api": "vqrdmulhq_n_s32",
          "new_api": "vaddq_s32",
          "old_text": "vqrdmulhq_n_s32(s2, params.output_multiplier)",
          "new_text": "vaddq_s32(x11, x21)",
          "old_line_content": "    s2 = vqrdmulhq_n_s32(s2, params.output_multiplier);",
          "new_line_content": "    int32x4_t s1 = vaddq_s32(x11, x21);",
          "content_same": false
        },
        {
          "line": 217,
          "old_api": "RoundingDivideByPOT",
          "new_api": "vaddq_s32",
          "old_text": "RoundingDivideByPOT(s1, -params.output_shift)",
          "new_text": "vaddq_s32(x12, x22)",
          "old_line_content": "    s1 = RoundingDivideByPOT(s1, -params.output_shift);",
          "new_line_content": "    int32x4_t s2 = vaddq_s32(x12, x22);",
          "content_same": false
        },
        {
          "line": 218,
          "old_api": "RoundingDivideByPOT",
          "new_api": "vqrdmulhq_n_s32",
          "old_text": "RoundingDivideByPOT(s2, -params.output_shift)",
          "new_text": "vqrdmulhq_n_s32(s1, params.output_multiplier)",
          "old_line_content": "    s2 = RoundingDivideByPOT(s2, -params.output_shift);",
          "new_line_content": "    s1 = vqrdmulhq_n_s32(s1, params.output_multiplier);",
          "content_same": false
        },
        {
          "line": 219,
          "old_api": "vmovn_s32",
          "new_api": "vqrdmulhq_n_s32",
          "old_text": "vmovn_s32(s1)",
          "new_text": "vqrdmulhq_n_s32(s2, params.output_multiplier)",
          "old_line_content": "    const int16x4_t s1_narrowed = vmovn_s32(s1);",
          "new_line_content": "    s2 = vqrdmulhq_n_s32(s2, params.output_multiplier);",
          "content_same": false
        },
        {
          "line": 220,
          "old_api": "vmovn_s32",
          "new_api": "RoundingDivideByPOT",
          "old_text": "vmovn_s32(s2)",
          "new_text": "RoundingDivideByPOT(s1, -params.output_shift)",
          "old_line_content": "    const int16x4_t s2_narrowed = vmovn_s32(s2);",
          "new_line_content": "    s1 = RoundingDivideByPOT(s1, -params.output_shift);",
          "content_same": false
        },
        {
          "line": 221,
          "old_api": "vcombine_s16",
          "new_api": "RoundingDivideByPOT",
          "old_text": "vcombine_s16(s1_narrowed, s2_narrowed)",
          "new_text": "RoundingDivideByPOT(s2, -params.output_shift)",
          "old_line_content": "    const int16x8_t s = vaddq_s16(vcombine_s16(s1_narrowed, s2_narrowed),",
          "new_line_content": "    s2 = RoundingDivideByPOT(s2, -params.output_shift);",
          "content_same": false
        },
        {
          "line": 222,
          "old_api": "vdupq_n_s16",
          "new_api": "vmovn_s32",
          "old_text": "vdupq_n_s16(params.output_offset)",
          "new_text": "vmovn_s32(s1)",
          "old_line_content": "                                  vdupq_n_s16(params.output_offset));",
          "new_line_content": "    const int16x4_t s1_narrowed = vmovn_s32(s1);",
          "content_same": false
        },
        {
          "line": 224,
          "old_api": "vmax_s8",
          "new_api": "vcombine_s16",
          "old_text": "vmax_s8(output_activation_min_vector,\n                vmin_s8(output_activation_max_vector, vqmovn_s16(s)))",
          "new_text": "vcombine_s16(s1_narrowed, s2_narrowed)",
          "old_line_content": "        vmax_s8(output_activation_min_vector,",
          "new_line_content": "    const int16x8_t s = vaddq_s16(vcombine_s16(s1_narrowed, s2_narrowed),",
          "content_same": false
        },
        {
          "line": 225,
          "old_api": "vqmovn_s16",
          "new_api": "vdupq_n_s16",
          "old_text": "vqmovn_s16(s)",
          "new_text": "vdupq_n_s16(params.output_offset)",
          "old_line_content": "                vmin_s8(output_activation_max_vector, vqmovn_s16(s)));",
          "new_line_content": "                                  vdupq_n_s16(params.output_offset));",
          "content_same": false
        },
        {
          "line": 269,
          "old_api": "TFLITE_DCHECK_GT",
          "new_api": "MatchingElementsSize",
          "old_text": "TFLITE_DCHECK_GT(params.input2_offset, -256)",
          "new_text": "MatchingElementsSize(input1_shape, input2_shape, output_shape)",
          "old_line_content": "  TFLITE_DCHECK_GT(params.input2_offset, -256);",
          "new_line_content": "      MatchingElementsSize(input1_shape, input2_shape, output_shape);",
          "content_same": false
        },
        {
          "line": 271,
          "old_api": "TFLITE_DCHECK_LT",
          "new_api": "TFLITE_DCHECK_GT",
          "old_text": "TFLITE_DCHECK_LT(params.input2_offset, 256)",
          "new_text": "TFLITE_DCHECK_GT(params.input1_offset, -256)",
          "old_line_content": "  TFLITE_DCHECK_LT(params.input2_offset, 256);",
          "new_line_content": "  TFLITE_DCHECK_GT(params.input1_offset, -256);",
          "content_same": false
        },
        {
          "line": 272,
          "old_api": "AddElementwise",
          "new_api": "TFLITE_DCHECK_GT",
          "old_text": "AddElementwise(flat_size, params, input1_data, input2_data, output_data)",
          "new_text": "TFLITE_DCHECK_GT(params.input2_offset, -256)",
          "old_line_content": "  AddElementwise(flat_size, params, input1_data, input2_data, output_data);",
          "new_line_content": "  TFLITE_DCHECK_GT(params.input2_offset, -256);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 256,
          "old_api": null,
          "new_api": "static_cast<int8>(clamped_output)",
          "old_text": null,
          "new_text": "static_cast<int8>(clamped_output)",
          "old_line_content": "}",
          "new_line_content": "      output_data[i] = static_cast<int8>(clamped_output);",
          "content_same": false
        },
        {
          "line": 386,
          "old_api": null,
          "new_api": "BroadcastAddFivefold",
          "old_text": null,
          "new_text": "BroadcastAddFivefold(params, input1_shape, input1_data, input2_shape,\n                       input2_data, output_shape, output_data)",
          "old_line_content": "",
          "new_line_content": "  BroadcastAddFivefold(params, input1_shape, input1_data, input2_shape,",
          "content_same": false
        },
        {
          "line": 131,
          "old_api": null,
          "new_api": "vmaxq_s8",
          "old_text": null,
          "new_text": "vmaxq_s8(output_activation_min_vector,\n                 vminq_s8(output_activation_max_vector, s))",
          "old_line_content": "  }",
          "new_line_content": "        vmaxq_s8(output_activation_min_vector,",
          "content_same": false
        },
        {
          "line": 132,
          "old_api": null,
          "new_api": "vminq_s8",
          "old_text": null,
          "new_text": "vminq_s8(output_activation_max_vector, s)",
          "old_line_content": "#endif  // NEON",
          "new_line_content": "                 vminq_s8(output_activation_max_vector, s));",
          "content_same": false
        },
        {
          "line": 133,
          "old_api": null,
          "new_api": "vst1q_s8",
          "old_text": null,
          "new_text": "vst1q_s8(output_data + i, clamped)",
          "old_line_content": "",
          "new_line_content": "    vst1q_s8(output_data + i, clamped);",
          "content_same": false
        },
        {
          "line": 255,
          "old_api": null,
          "new_api": "std::max(params.quantized_activation_min, raw_output)",
          "old_text": null,
          "new_text": "std::max(params.quantized_activation_min, raw_output)",
          "old_line_content": "  }",
          "new_line_content": "                   std::max(params.quantized_activation_min, raw_output));",
          "content_same": false
        },
        {
          "line": 265,
          "old_api": null,
          "new_api": "TFLITE_DCHECK_LE",
          "old_text": null,
          "new_text": "TFLITE_DCHECK_LE(params.quantized_activation_min,\n                   params.quantized_activation_max)",
          "old_line_content": "  const int flat_size =",
          "new_line_content": "  TFLITE_DCHECK_LE(params.quantized_activation_min,",
          "content_same": false
        },
        {
          "line": 273,
          "old_api": null,
          "new_api": "TFLITE_DCHECK_LT",
          "old_text": null,
          "new_text": "TFLITE_DCHECK_LT(params.input1_offset, 256)",
          "old_line_content": "}",
          "new_line_content": "  TFLITE_DCHECK_LT(params.input1_offset, 256);",
          "content_same": false
        },
        {
          "line": 146,
          "old_api": null,
          "new_api": "MultiplyByQuantizedMultiplierSmallerThanOneExp",
          "old_text": null,
          "new_text": "MultiplyByQuantizedMultiplierSmallerThanOneExp(\n            shifted_input2_val, params.input2_multiplier, params.input2_shift)",
          "old_line_content": "    const int32 raw_output =",
          "new_line_content": "        MultiplyByQuantizedMultiplierSmallerThanOneExp(",
          "content_same": false
        },
        {
          "line": 274,
          "old_api": null,
          "new_api": "TFLITE_DCHECK_LT",
          "old_text": null,
          "new_text": "TFLITE_DCHECK_LT(params.input2_offset, 256)",
          "old_line_content": "",
          "new_line_content": "  TFLITE_DCHECK_LT(params.input2_offset, 256);",
          "content_same": false
        },
        {
          "line": 275,
          "old_api": null,
          "new_api": "AddElementwise",
          "old_text": null,
          "new_text": "AddElementwise(flat_size, params, input1_data, input2_data, output_data)",
          "old_line_content": "inline void BroadcastAddFivefold(const ArithmeticParams& unswitched_params,",
          "new_line_content": "  AddElementwise(flat_size, params, input1_data, input2_data, output_data);",
          "content_same": false
        },
        {
          "line": 150,
          "old_api": null,
          "new_api": "MultiplyByQuantizedMultiplierSmallerThanOneExp",
          "old_text": null,
          "new_text": "MultiplyByQuantizedMultiplierSmallerThanOneExp(\n            raw_sum, params.output_multiplier, params.output_shift)",
          "old_line_content": "    const int32 clamped_output =",
          "new_line_content": "        MultiplyByQuantizedMultiplierSmallerThanOneExp(",
          "content_same": false
        },
        {
          "line": 154,
          "old_api": null,
          "new_api": "std::min(params.quantized_activation_max,\n                 std::max(params.quantized_activation_min, raw_output))",
          "old_text": null,
          "new_text": "std::min(params.quantized_activation_max,\n                 std::max(params.quantized_activation_min, raw_output))",
          "old_line_content": "  }",
          "new_line_content": "        std::min(params.quantized_activation_max,",
          "content_same": false
        },
        {
          "line": 155,
          "old_api": null,
          "new_api": "std::max(params.quantized_activation_min, raw_output)",
          "old_text": null,
          "new_text": "std::max(params.quantized_activation_min, raw_output)",
          "old_line_content": "}",
          "new_line_content": "                 std::max(params.quantized_activation_min, raw_output));",
          "content_same": false
        },
        {
          "line": 156,
          "old_api": null,
          "new_api": "static_cast<int8>(clamped_output)",
          "old_text": null,
          "new_text": "static_cast<int8>(clamped_output)",
          "old_line_content": "",
          "new_line_content": "    output_data[i] = static_cast<int8>(clamped_output);",
          "content_same": false
        },
        {
          "line": 170,
          "old_api": null,
          "new_api": "TFLITE_DCHECK_GT",
          "old_text": null,
          "new_text": "TFLITE_DCHECK_GT(params.input2_offset, -256)",
          "old_line_content": "",
          "new_line_content": "  TFLITE_DCHECK_GT(params.input2_offset, -256);",
          "content_same": false
        },
        {
          "line": 171,
          "old_api": null,
          "new_api": "TFLITE_DCHECK_LT",
          "old_text": null,
          "new_text": "TFLITE_DCHECK_LT(params.input1_offset, 256)",
          "old_line_content": "  int i = 0;",
          "new_line_content": "  TFLITE_DCHECK_LT(params.input1_offset, 256);",
          "content_same": false
        },
        {
          "line": 172,
          "old_api": null,
          "new_api": "TFLITE_DCHECK_LT",
          "old_text": null,
          "new_text": "TFLITE_DCHECK_LT(params.input2_offset, 256)",
          "old_line_content": "",
          "new_line_content": "  TFLITE_DCHECK_LT(params.input2_offset, 256);",
          "content_same": false
        },
        {
          "line": 177,
          "old_api": null,
          "new_api": "vdupq_n_s32",
          "old_text": null,
          "new_text": "vdupq_n_s32(params.left_shift)",
          "old_line_content": "  const int8x8_t output_activation_max_vector =",
          "new_line_content": "  const int32x4_t left_shift_dup = vdupq_n_s32(params.left_shift);",
          "content_same": false
        },
        {
          "line": 50,
          "old_api": null,
          "new_api": "vdupq_n_s16",
          "old_text": null,
          "new_text": "vdupq_n_s16(params.input1_offset)",
          "old_line_content": "  for (; i <= size - 16; i += 16) {",
          "new_line_content": "  const int16x8_t input1_offset_dup = vdupq_n_s16(params.input1_offset);",
          "content_same": false
        },
        {
          "line": 179,
          "old_api": null,
          "new_api": "vdup_n_s8",
          "old_text": null,
          "new_text": "vdup_n_s8(params.quantized_activation_min)",
          "old_line_content": "",
          "new_line_content": "      vdup_n_s8(params.quantized_activation_min);",
          "content_same": false
        },
        {
          "line": 54,
          "old_api": null,
          "new_api": "vld1q_s8",
          "old_text": null,
          "new_text": "vld1q_s8(input1_data + i)",
          "old_line_content": "    const int16x8_t input1_val_s16_high =",
          "new_line_content": "    const int8x16_t input1_val_original = vld1q_s8(input1_data + i);",
          "content_same": false
        },
        {
          "line": 58,
          "old_api": null,
          "new_api": "vget_high_s8",
          "old_text": null,
          "new_text": "vget_high_s8(input1_val_original)",
          "old_line_content": "",
          "new_line_content": "        vmovl_s8(vget_high_s8(input1_val_original));",
          "content_same": false
        },
        {
          "line": 63,
          "old_api": null,
          "new_api": "vget_high_s8",
          "old_text": null,
          "new_text": "vget_high_s8(input2_val_original)",
          "old_line_content": "    const int16x8_t input1_val_high =",
          "new_line_content": "        vmovl_s8(vget_high_s8(input2_val_original));",
          "content_same": false
        },
        {
          "line": 65,
          "old_api": null,
          "new_api": "vget_low_s8",
          "old_text": null,
          "new_text": "vget_low_s8(input2_val_original)",
          "old_line_content": "    const int16x8_t input2_val_high =",
          "new_line_content": "        vmovl_s8(vget_low_s8(input2_val_original));",
          "content_same": false
        },
        {
          "line": 67,
          "old_api": null,
          "new_api": "vaddq_s16",
          "old_text": null,
          "new_text": "vaddq_s16(input1_val_s16_high, input1_offset_dup)",
          "old_line_content": "    const int16x8_t input1_val_low =",
          "new_line_content": "        vaddq_s16(input1_val_s16_high, input1_offset_dup);",
          "content_same": false
        },
        {
          "line": 196,
          "old_api": null,
          "new_api": "vdupq_n_s32",
          "old_text": null,
          "new_text": "vdupq_n_s32(params.input1_shift)",
          "old_line_content": "",
          "new_line_content": "  const int32x4_t input1_shift_dup = vdupq_n_s32(params.input1_shift);",
          "content_same": false
        },
        {
          "line": 69,
          "old_api": null,
          "new_api": "vaddq_s16",
          "old_text": null,
          "new_text": "vaddq_s16(input2_val_s16_high, input2_offset_dup)",
          "old_line_content": "    const int16x8_t input2_val_low =",
          "new_line_content": "        vaddq_s16(input2_val_s16_high, input2_offset_dup);",
          "content_same": false
        },
        {
          "line": 197,
          "old_api": null,
          "new_api": "vshlq_s32",
          "old_text": null,
          "new_text": "vshlq_s32(x11, input1_shift_dup)",
          "old_line_content": "  for (; i <= size - 8; i += 8) {",
          "new_line_content": "  x11 = vshlq_s32(x11, input1_shift_dup);",
          "content_same": false
        },
        {
          "line": 333,
          "old_api": null,
          "new_api": "AddElementwise",
          "old_text": null,
          "new_text": "AddElementwise(y4, params, input1_data_ptr, input2_data_ptr,\n                           output_data_ptr)",
          "old_line_content": "            output_data_ptr += y4;",
          "new_line_content": "            AddElementwise(y4, params, input1_data_ptr, input2_data_ptr,",
          "content_same": false
        },
        {
          "line": 87,
          "old_api": null,
          "new_api": "vmovl_s16",
          "old_text": null,
          "new_text": "vmovl_s16(input2_val_low_high)",
          "old_line_content": "",
          "new_line_content": "    int32x4_t x212 = vmovl_s16(input2_val_low_high);",
          "content_same": false
        },
        {
          "line": 223,
          "old_api": null,
          "new_api": "vmovn_s32",
          "old_text": null,
          "new_text": "vmovn_s32(s2)",
          "old_line_content": "    const int8x8_t clamped =",
          "new_line_content": "    const int16x4_t s2_narrowed = vmovn_s32(s2);",
          "content_same": false
        },
        {
          "line": 227,
          "old_api": null,
          "new_api": "vmax_s8",
          "old_text": null,
          "new_text": "vmax_s8(output_activation_min_vector,\n                vmin_s8(output_activation_max_vector, vqmovn_s16(s)))",
          "old_line_content": "  }",
          "new_line_content": "        vmax_s8(output_activation_min_vector,",
          "content_same": false
        },
        {
          "line": 228,
          "old_api": null,
          "new_api": "vqmovn_s16",
          "old_text": null,
          "new_text": "vqmovn_s16(s)",
          "old_line_content": "#endif  // NEON",
          "new_line_content": "                vmin_s8(output_activation_max_vector, vqmovn_s16(s)));",
          "content_same": false
        },
        {
          "line": 229,
          "old_api": null,
          "new_api": "vst1_s8",
          "old_text": null,
          "new_text": "vst1_s8(output_data + i, clamped)",
          "old_line_content": "",
          "new_line_content": "    vst1_s8(output_data + i, clamped);",
          "content_same": false
        },
        {
          "line": 361,
          "old_api": null,
          "new_api": "AddScalarBroadcast",
          "old_text": null,
          "new_text": "AddScalarBroadcast(y3, params, *input1_data_ptr, input2_data_ptr,\n                             output_data_ptr)",
          "old_line_content": "          output_data_ptr += y3;",
          "new_line_content": "          AddScalarBroadcast(y3, params, *input1_data_ptr, input2_data_ptr,",
          "content_same": false
        },
        {
          "line": 238,
          "old_api": null,
          "new_api": "MultiplyByQuantizedMultiplierSmallerThanOneExp",
          "old_text": null,
          "new_text": "MultiplyByQuantizedMultiplierSmallerThanOneExp(\n            shifted_input1_val, params.input1_multiplier, params.input1_shift)",
          "old_line_content": "    for (; i < size; ++i) {",
          "new_line_content": "        MultiplyByQuantizedMultiplierSmallerThanOneExp(",
          "content_same": false
        },
        {
          "line": 112,
          "old_api": null,
          "new_api": "vqrdmulhq_n_s32",
          "old_text": null,
          "new_text": "vqrdmulhq_n_s32(s12, params.output_multiplier)",
          "old_line_content": "    using gemmlowp::RoundingDivideByPOT;",
          "new_line_content": "    s12 = vqrdmulhq_n_s32(s12, params.output_multiplier);",
          "content_same": false
        },
        {
          "line": 245,
          "old_api": null,
          "new_api": "MultiplyByQuantizedMultiplierSmallerThanOneExp",
          "old_text": null,
          "new_text": "MultiplyByQuantizedMultiplierSmallerThanOneExp(\n              shifted_input2_val, params.input2_multiplier,\n              params.input2_shift)",
          "old_line_content": "      const int32 raw_sum = scaled_input1_val + scaled_input2_val;",
          "new_line_content": "          MultiplyByQuantizedMultiplierSmallerThanOneExp(",
          "content_same": false
        },
        {
          "line": 254,
          "old_api": null,
          "new_api": "std::min(params.quantized_activation_max,\n                   std::max(params.quantized_activation_min, raw_output))",
          "old_text": null,
          "new_text": "std::min(params.quantized_activation_max,\n                   std::max(params.quantized_activation_min, raw_output))",
          "old_line_content": "    }",
          "new_line_content": "          std::min(params.quantized_activation_max,",
          "content_same": false
        },
        {
          "line": 250,
          "old_api": null,
          "new_api": "MultiplyByQuantizedMultiplierSmallerThanOneExp",
          "old_text": null,
          "new_text": "MultiplyByQuantizedMultiplierSmallerThanOneExp(\n              raw_sum, params.output_multiplier, params.output_shift)",
          "old_line_content": "      const int32 clamped_output =",
          "new_line_content": "          MultiplyByQuantizedMultiplierSmallerThanOneExp(",
          "content_same": false
        },
        {
          "line": 381,
          "old_api": null,
          "new_api": "reference_integer_ops::BroadcastAdd4DSlow(\n        params, input1_shape, input1_data, input2_shape, input2_data,\n        output_shape, output_data)",
          "old_text": null,
          "new_text": "reference_integer_ops::BroadcastAdd4DSlow(\n        params, input1_shape, input1_data, input2_shape, input2_data,\n        output_shape, output_data)",
          "old_line_content": "  }",
          "new_line_content": "    return reference_integer_ops::BroadcastAdd4DSlow(",
          "content_same": false
        },
        {
          "line": 126,
          "old_api": null,
          "new_api": "vcombine_s16",
          "old_text": null,
          "new_text": "vcombine_s16(s21_narrowed, s22_narrowed)",
          "old_line_content": "",
          "new_line_content": "    const int16x8_t s2 = vaddq_s16(vcombine_s16(s21_narrowed, s22_narrowed),",
          "content_same": false
        },
        {
          "line": 127,
          "old_api": null,
          "new_api": "vdupq_n_s16",
          "old_text": null,
          "new_text": "vdupq_n_s16(params.output_offset)",
          "old_line_content": "    const int8x16_t clamped =",
          "new_line_content": "                                   vdupq_n_s16(params.output_offset));",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 129,
          "old_api": "vminq_s8",
          "new_api": null,
          "old_text": "vminq_s8(output_activation_max_vector, s)",
          "new_text": null,
          "old_line_content": "                 vminq_s8(output_activation_max_vector, s));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 130,
          "old_api": "vst1q_s8",
          "new_api": null,
          "old_text": "vst1q_s8(output_data + i, clamped)",
          "new_text": null,
          "old_line_content": "    vst1q_s8(output_data + i, clamped);",
          "new_line_content": "    const int8x16_t clamped =",
          "content_same": false
        },
        {
          "line": 262,
          "old_api": "TFLITE_DCHECK_LE",
          "new_api": null,
          "old_text": "TFLITE_DCHECK_LE(params.quantized_activation_min,\n                   params.quantized_activation_max)",
          "new_text": null,
          "old_line_content": "  TFLITE_DCHECK_LE(params.quantized_activation_min,",
          "new_line_content": "                const RuntimeShape& input1_shape, const int8* input1_data,",
          "content_same": false
        },
        {
          "line": 266,
          "old_api": "MatchingElementsSize",
          "new_api": null,
          "old_text": "MatchingElementsSize(input1_shape, input2_shape, output_shape)",
          "new_text": null,
          "old_line_content": "      MatchingElementsSize(input1_shape, input2_shape, output_shape);",
          "new_line_content": "                   params.quantized_activation_max);",
          "content_same": false
        },
        {
          "line": 140,
          "old_api": "MultiplyByQuantizedMultiplierSmallerThanOneExp",
          "new_api": null,
          "old_text": "MultiplyByQuantizedMultiplierSmallerThanOneExp(\n            shifted_input1_val, params.input1_multiplier, params.input1_shift)",
          "new_text": null,
          "old_line_content": "        MultiplyByQuantizedMultiplierSmallerThanOneExp(",
          "new_line_content": "    const int32 shifted_input1_val = input1_val * (1 << params.left_shift);",
          "content_same": false
        },
        {
          "line": 268,
          "old_api": "TFLITE_DCHECK_GT",
          "new_api": null,
          "old_text": "TFLITE_DCHECK_GT(params.input1_offset, -256)",
          "new_text": null,
          "old_line_content": "  TFLITE_DCHECK_GT(params.input1_offset, -256);",
          "new_line_content": "  const int flat_size =",
          "content_same": false
        },
        {
          "line": 270,
          "old_api": "TFLITE_DCHECK_LT",
          "new_api": null,
          "old_text": "TFLITE_DCHECK_LT(params.input1_offset, 256)",
          "new_text": null,
          "old_line_content": "  TFLITE_DCHECK_LT(params.input1_offset, 256);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 147,
          "old_api": "MultiplyByQuantizedMultiplierSmallerThanOneExp",
          "new_api": null,
          "old_text": "MultiplyByQuantizedMultiplierSmallerThanOneExp(\n            raw_sum, params.output_multiplier, params.output_shift)",
          "new_text": null,
          "old_line_content": "        MultiplyByQuantizedMultiplierSmallerThanOneExp(",
          "new_line_content": "            shifted_input2_val, params.input2_multiplier, params.input2_shift);",
          "content_same": false
        },
        {
          "line": 151,
          "old_api": "std::min(params.quantized_activation_max,\n                 std::max(params.quantized_activation_min, raw_output))",
          "new_api": null,
          "old_text": "std::min(params.quantized_activation_max,\n                 std::max(params.quantized_activation_min, raw_output))",
          "new_text": null,
          "old_line_content": "        std::min(params.quantized_activation_max,",
          "new_line_content": "            raw_sum, params.output_multiplier, params.output_shift) +",
          "content_same": false
        },
        {
          "line": 152,
          "old_api": "std::max(params.quantized_activation_min, raw_output)",
          "new_api": null,
          "old_text": "std::max(params.quantized_activation_min, raw_output)",
          "new_text": null,
          "old_line_content": "                 std::max(params.quantized_activation_min, raw_output));",
          "new_line_content": "        params.output_offset;",
          "content_same": false
        },
        {
          "line": 153,
          "old_api": "static_cast<int8>(clamped_output)",
          "new_api": null,
          "old_text": "static_cast<int8>(clamped_output)",
          "new_text": null,
          "old_line_content": "    output_data[i] = static_cast<int8>(clamped_output);",
          "new_line_content": "    const int32 clamped_output =",
          "content_same": false
        },
        {
          "line": 166,
          "old_api": "TFLITE_DCHECK_GT",
          "new_api": null,
          "old_text": "TFLITE_DCHECK_GT(params.input1_offset, -256)",
          "new_text": null,
          "old_line_content": "  TFLITE_DCHECK_GT(params.input1_offset, -256);",
          "new_line_content": "  using gemmlowp::RoundingDivideByPOT;",
          "content_same": false
        },
        {
          "line": 167,
          "old_api": "TFLITE_DCHECK_GT",
          "new_api": null,
          "old_text": "TFLITE_DCHECK_GT(params.input2_offset, -256)",
          "new_text": null,
          "old_line_content": "  TFLITE_DCHECK_GT(params.input2_offset, -256);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 168,
          "old_api": "TFLITE_DCHECK_LT",
          "new_api": null,
          "old_text": "TFLITE_DCHECK_LT(params.input1_offset, 256)",
          "new_text": null,
          "old_line_content": "  TFLITE_DCHECK_LT(params.input1_offset, 256);",
          "new_line_content": "  ruy::profiler::ScopeLabel label(\"AddScalarBroadcastInt8/8bit\");",
          "content_same": false
        },
        {
          "line": 174,
          "old_api": "vdupq_n_s32",
          "new_api": null,
          "old_text": "vdupq_n_s32(params.left_shift)",
          "new_text": null,
          "old_line_content": "  const int32x4_t left_shift_dup = vdupq_n_s32(params.left_shift);",
          "new_line_content": "  int i = 0;",
          "content_same": false
        },
        {
          "line": 176,
          "old_api": "vdup_n_s8",
          "new_api": null,
          "old_text": "vdup_n_s8(params.quantized_activation_min)",
          "new_text": null,
          "old_line_content": "      vdup_n_s8(params.quantized_activation_min);",
          "new_line_content": "#ifdef USE_NEON",
          "content_same": false
        },
        {
          "line": 178,
          "old_api": "vdup_n_s8",
          "new_api": null,
          "old_text": "vdup_n_s8(params.quantized_activation_max)",
          "new_text": null,
          "old_line_content": "      vdup_n_s8(params.quantized_activation_max);",
          "new_line_content": "  const int8x8_t output_activation_min_vector =",
          "content_same": false
        },
        {
          "line": 52,
          "old_api": "vld1q_s8",
          "new_api": null,
          "old_text": "vld1q_s8(input2_data + i)",
          "new_text": null,
          "old_line_content": "    const int8x16_t input2_val_original = vld1q_s8(input2_data + i);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 182,
          "old_api": "vmovl_s8",
          "new_api": null,
          "old_text": "vmovl_s8(input1_val_original)",
          "new_text": null,
          "old_line_content": "  const int16x8_t input1_val_s16 = vmovl_s8(input1_val_original);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 57,
          "old_api": "vget_low_s8",
          "new_api": null,
          "old_text": "vget_low_s8(input1_val_original)",
          "new_text": null,
          "old_line_content": "        vmovl_s8(vget_low_s8(input1_val_original));",
          "new_line_content": "    const int16x8_t input1_val_s16_high =",
          "content_same": false
        },
        {
          "line": 186,
          "old_api": "vget_low_s16",
          "new_api": null,
          "old_text": "vget_low_s16(input1_val)",
          "new_text": null,
          "old_line_content": "  const int16x4_t input1_val_low = vget_low_s16(input1_val);",
          "new_line_content": "  const int16x8_t input1_val =",
          "content_same": false
        },
        {
          "line": 62,
          "old_api": "vget_low_s8",
          "new_api": null,
          "old_text": "vget_low_s8(input2_val_original)",
          "new_text": null,
          "old_line_content": "        vmovl_s8(vget_low_s8(input2_val_original));",
          "new_line_content": "    const int16x8_t input2_val_s16_high =",
          "content_same": false
        },
        {
          "line": 64,
          "old_api": "vdupq_n_s16",
          "new_api": null,
          "old_text": "vdupq_n_s16(params.input1_offset)",
          "new_text": null,
          "old_line_content": "        vaddq_s16(input1_val_s16_high, vdupq_n_s16(params.input1_offset));",
          "new_line_content": "    const int16x8_t input2_val_s16_low =",
          "content_same": false
        },
        {
          "line": 66,
          "old_api": "vdupq_n_s16",
          "new_api": null,
          "old_text": "vdupq_n_s16(params.input2_offset)",
          "new_text": null,
          "old_line_content": "        vaddq_s16(input2_val_s16_high, vdupq_n_s16(params.input2_offset));",
          "new_line_content": "    const int16x8_t input1_val_high =",
          "content_same": false
        },
        {
          "line": 68,
          "old_api": "vdupq_n_s16",
          "new_api": null,
          "old_text": "vdupq_n_s16(params.input1_offset)",
          "new_text": null,
          "old_line_content": "        vaddq_s16(input1_val_s16_low, vdupq_n_s16(params.input1_offset));",
          "new_line_content": "    const int16x8_t input2_val_high =",
          "content_same": false
        },
        {
          "line": 70,
          "old_api": "vdupq_n_s16",
          "new_api": null,
          "old_text": "vdupq_n_s16(params.input2_offset)",
          "new_text": null,
          "old_line_content": "        vaddq_s16(input2_val_s16_low, vdupq_n_s16(params.input2_offset));",
          "new_line_content": "    const int16x8_t input1_val_low =",
          "content_same": false
        },
        {
          "line": 199,
          "old_api": "vmovl_s8",
          "new_api": null,
          "old_text": "vmovl_s8(input2_val_original)",
          "new_text": null,
          "old_line_content": "    const int16x8_t input2_val_s16 = vmovl_s8(input2_val_original);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 72,
          "old_api": "vget_low_s16",
          "new_api": null,
          "old_text": "vget_low_s16(input1_val_high)",
          "new_text": null,
          "old_line_content": "    const int16x4_t input1_val_high_low = vget_low_s16(input1_val_high);",
          "new_line_content": "    const int16x8_t input2_val_low =",
          "content_same": false
        },
        {
          "line": 330,
          "old_api": "AddElementwise",
          "new_api": null,
          "old_text": "AddElementwise(y4, params, input1_data_ptr, input2_data_ptr,\n                           output_data_ptr)",
          "new_text": null,
          "old_line_content": "            AddElementwise(y4, params, input1_data_ptr, input2_data_ptr,",
          "new_line_content": "        input2_data_ptr = input2_data_reset;",
          "content_same": false
        },
        {
          "line": 203,
          "old_api": "vget_low_s16",
          "new_api": null,
          "old_text": "vget_low_s16(input2_val)",
          "new_text": null,
          "old_line_content": "    const int16x4_t input2_val_low = vget_low_s16(input2_val);",
          "new_line_content": "    const int16x8_t input2_val =",
          "content_same": false
        },
        {
          "line": 90,
          "old_api": "vshlq_s32",
          "new_api": null,
          "old_text": "vshlq_s32(x121, input1_left_dup)",
          "new_text": null,
          "old_line_content": "    x121 = vshlq_s32(x121, input1_left_dup);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 226,
          "old_api": "vst1_s8",
          "new_api": null,
          "old_text": "vst1_s8(output_data + i, clamped)",
          "new_text": null,
          "old_line_content": "    vst1_s8(output_data + i, clamped);",
          "new_line_content": "    const int8x8_t clamped =",
          "content_same": false
        },
        {
          "line": 358,
          "old_api": "AddScalarBroadcast",
          "new_api": null,
          "old_text": "AddScalarBroadcast(y3, params, *input1_data_ptr, input2_data_ptr,\n                             output_data_ptr)",
          "new_text": null,
          "old_line_content": "          AddScalarBroadcast(y3, params, *input1_data_ptr, input2_data_ptr,",
          "new_line_content": "      for (int i1 = 0; i1 < y1; ++i1) {",
          "content_same": false
        },
        {
          "line": 235,
          "old_api": "MultiplyByQuantizedMultiplierSmallerThanOneExp",
          "new_api": null,
          "old_text": "MultiplyByQuantizedMultiplierSmallerThanOneExp(\n            shifted_input1_val, params.input1_multiplier, params.input1_shift)",
          "new_text": null,
          "old_line_content": "        MultiplyByQuantizedMultiplierSmallerThanOneExp(",
          "new_line_content": "    const int32 input1_val = params.input1_offset + input1_data;",
          "content_same": false
        },
        {
          "line": 242,
          "old_api": "MultiplyByQuantizedMultiplierSmallerThanOneExp",
          "new_api": null,
          "old_text": "MultiplyByQuantizedMultiplierSmallerThanOneExp(\n              shifted_input2_val, params.input2_multiplier,\n              params.input2_shift)",
          "new_text": null,
          "old_line_content": "          MultiplyByQuantizedMultiplierSmallerThanOneExp(",
          "new_line_content": "      const int32 input2_val = params.input2_offset + input2_data[i];",
          "content_same": false
        },
        {
          "line": 115,
          "old_api": "RoundingDivideByPOT",
          "new_api": null,
          "old_text": "RoundingDivideByPOT(s21, -params.output_shift)",
          "new_text": null,
          "old_line_content": "    s21 = RoundingDivideByPOT(s21, -params.output_shift);",
          "new_line_content": "    using gemmlowp::RoundingDivideByPOT;",
          "content_same": false
        },
        {
          "line": 247,
          "old_api": "MultiplyByQuantizedMultiplierSmallerThanOneExp",
          "new_api": null,
          "old_text": "MultiplyByQuantizedMultiplierSmallerThanOneExp(\n              raw_sum, params.output_multiplier, params.output_shift)",
          "new_text": null,
          "old_line_content": "          MultiplyByQuantizedMultiplierSmallerThanOneExp(",
          "new_line_content": "              params.input2_shift);",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": "reference_integer_ops::BroadcastAdd4DSlow(\n        params, input1_shape, input1_data, input2_shape, input2_data,\n        output_shape, output_data)",
          "new_api": null,
          "old_text": "reference_integer_ops::BroadcastAdd4DSlow(\n        params, input1_shape, input1_data, input2_shape, input2_data,\n        output_shape, output_data)",
          "new_text": null,
          "old_line_content": "    return reference_integer_ops::BroadcastAdd4DSlow(",
          "new_line_content": "                                 const RuntimeShape& output_shape,",
          "content_same": false
        },
        {
          "line": 251,
          "old_api": "std::min(params.quantized_activation_max,\n                   std::max(params.quantized_activation_min, raw_output))",
          "new_api": null,
          "old_text": "std::min(params.quantized_activation_max,\n                   std::max(params.quantized_activation_min, raw_output))",
          "new_text": null,
          "old_line_content": "          std::min(params.quantized_activation_max,",
          "new_line_content": "              raw_sum, params.output_multiplier, params.output_shift) +",
          "content_same": false
        },
        {
          "line": 252,
          "old_api": "std::max(params.quantized_activation_min, raw_output)",
          "new_api": null,
          "old_text": "std::max(params.quantized_activation_min, raw_output)",
          "new_text": null,
          "old_line_content": "                   std::max(params.quantized_activation_min, raw_output));",
          "new_line_content": "          params.output_offset;",
          "content_same": false
        },
        {
          "line": 253,
          "old_api": "static_cast<int8>(clamped_output)",
          "new_api": null,
          "old_text": "static_cast<int8>(clamped_output)",
          "new_text": null,
          "old_line_content": "      output_data[i] = static_cast<int8>(clamped_output);",
          "new_line_content": "      const int32 clamped_output =",
          "content_same": false
        },
        {
          "line": 383,
          "old_api": "BroadcastAddFivefold",
          "new_api": null,
          "old_text": "BroadcastAddFivefold(params, input1_shape, input1_data, input2_shape,\n                       input2_data, output_shape, output_data)",
          "new_text": null,
          "old_line_content": "  BroadcastAddFivefold(params, input1_shape, input1_data, input2_shape,",
          "new_line_content": "        output_shape, output_data);",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 74,
      "total_additions": 44,
      "total_deletions": 42,
      "total_api_changes": 160
    },
    "non_api_changes": {
      "has_non_api_changes": false,
      "evidence": {
        "total_diff_lines": 11,
        "api_related_lines": 160,
        "non_api_lines": 0,
        "non_api_line_numbers": []
      }
    },
    "api_calls_before": 161,
    "api_calls_after": 159,
    "diff_info": {
      "added_lines": 7,
      "removed_lines": 4,
      "total_diff_lines": 33
    }
  }
}