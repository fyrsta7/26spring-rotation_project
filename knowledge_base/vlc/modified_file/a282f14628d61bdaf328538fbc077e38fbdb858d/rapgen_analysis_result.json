{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/a282f14628d61bdaf328538fbc077e38fbdb858d",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/a282f14628d61bdaf328538fbc077e38fbdb858d/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/a282f14628d61bdaf328538fbc077e38fbdb858d/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/a282f14628d61bdaf328538fbc077e38fbdb858d/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 237,
          "old_api": "mpeg2_info",
          "new_api": "msg_Err",
          "old_text": "mpeg2_info( p_sys->p_mpeg2dec )",
          "new_text": "msg_Err( p_dec, \"mpeg2_init() failed\" )",
          "old_line_content": "    p_sys->p_info = mpeg2_info( p_sys->p_mpeg2dec );",
          "new_line_content": "        msg_Err( p_dec, \"mpeg2_init() failed\" );",
          "content_same": false
        },
        {
          "line": 315,
          "old_api": "memcpy",
          "new_api": "free",
          "old_text": "memcpy( p_sys->p_gop_user_data, p_sys->p_info->user_data, p_sys->p_info->user_data_len )",
          "new_text": "free( p_sys->p_gop_user_data )",
          "old_line_content": "                    memcpy( p_sys->p_gop_user_data, p_sys->p_info->user_data, p_sys->p_info->user_data_len );",
          "new_line_content": "                free( p_sys->p_gop_user_data );",
          "content_same": false
        },
        {
          "line": 337,
          "old_api": "decoder_SynchroEnd",
          "new_api": "msg_Dbg",
          "old_text": "decoder_SynchroEnd( p_sys->p_synchro, I_CODING_TYPE, 0 )",
          "new_text": "msg_Dbg( p_dec, \"intra-slice refresh stream\" )",
          "old_line_content": "                decoder_SynchroEnd( p_sys->p_synchro, I_CODING_TYPE, 0 );",
          "new_line_content": "                msg_Dbg( p_dec, \"intra-slice refresh stream\" );",
          "content_same": false
        },
        {
          "line": 410,
          "old_api": "mpeg2_reset",
          "new_api": "Reset",
          "old_text": "mpeg2_reset( p_sys->p_mpeg2dec, 1 )",
          "new_text": "Reset( p_dec )",
          "old_line_content": "                        mpeg2_reset( p_sys->p_mpeg2dec, 1 );",
          "new_line_content": "                    Reset( p_dec );",
          "content_same": false
        },
        {
          "line": 492,
          "old_api": "decoder_SynchroEnd",
          "new_api": "decoder_SynchroNewPicture",
          "old_text": "decoder_SynchroEnd( p_sys->p_synchro, I_CODING_TYPE, 0 )",
          "new_text": "decoder_SynchroNewPicture( p_sys->p_synchro,\n                                               I_CODING_TYPE, 2, 0, 0,\n                                               p_sys->p_info->sequence->flags &\n                                                            SEQ_FLAG_LOW_DELAY )",
          "old_line_content": "                    decoder_SynchroEnd( p_sys->p_synchro, I_CODING_TYPE, 0 );",
          "new_line_content": "                    decoder_SynchroNewPicture( p_sys->p_synchro,",
          "content_same": false
        },
        {
          "line": 515,
          "old_api": "mpeg2_tag_picture",
          "new_api": "mpeg2_pts",
          "old_text": "mpeg2_tag_picture( p_sys->p_mpeg2dec,\n                                   (uint32_t)p_block->i_pts,\n                                   (uint32_t)p_block->i_dts )",
          "new_text": "mpeg2_pts( p_sys->p_mpeg2dec, (uint32_t)p_block->i_pts )",
          "old_line_content": "                mpeg2_tag_picture( p_sys->p_mpeg2dec,",
          "new_line_content": "                mpeg2_pts( p_sys->p_mpeg2dec, (uint32_t)p_block->i_pts );",
          "content_same": false
        },
        {
          "line": 706,
          "old_api": "cc_Flush",
          "new_api": "memcpy",
          "old_text": "cc_Flush( &p_sys->cc )",
          "new_text": "memcpy( p_cc->p_buffer, p_sys->cc.p_data, p_sys->cc.i_data )",
          "old_line_content": "    cc_Flush( &p_sys->cc );",
          "new_line_content": "        memcpy( p_cc->p_buffer, p_sys->cc.p_data, p_sys->cc.i_data );",
          "content_same": false
        },
        {
          "line": 784,
          "old_api": "mpeg2_stride",
          "new_api": "mpeg2_set_buf",
          "old_text": "mpeg2_stride( p_sys->p_mpeg2dec, p_picture->p[Y_PLANE].i_pitch )",
          "new_text": "mpeg2_set_buf( p_sys->p_mpeg2dec, pp_buf, p_picture )",
          "old_line_content": "        mpeg2_stride( p_sys->p_mpeg2dec, p_picture->p[Y_PLANE].i_pitch );",
          "new_line_content": "    mpeg2_set_buf( p_sys->p_mpeg2dec, pp_buf, p_picture );",
          "content_same": false
        },
        {
          "line": 875,
          "old_api": "msg_Err",
          "new_api": "DpbFindPicture",
          "old_text": "msg_Err( p_dec, \"DpbUnlinkPicture called on an invalid picture\" )",
          "new_text": "DpbFindPicture( p_dec, p_picture )",
          "old_line_content": "        msg_Err( p_dec, \"DpbUnlinkPicture called on an invalid picture\" );",
          "new_line_content": "    picture_dpb_t *p = DpbFindPicture( p_dec, p_picture );",
          "content_same": false
        },
        {
          "line": 898,
          "old_api": "msg_Err",
          "new_api": "DpbFindPicture",
          "old_text": "msg_Err( p_dec, \"DpbDisplayPicture called on an invalid picture\" )",
          "new_text": "DpbFindPicture( p_dec, p_picture )",
          "old_line_content": "        msg_Err( p_dec, \"DpbDisplayPicture called on an invalid picture\" );",
          "new_line_content": "    picture_dpb_t *p = DpbFindPicture( p_dec, p_picture );",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 509,
          "old_api": null,
          "new_api": "decoder_SynchroReset",
          "old_text": null,
          "new_text": "decoder_SynchroReset( p_sys->p_synchro )",
          "old_line_content": "            {",
          "new_line_content": "                    decoder_SynchroReset( p_sys->p_synchro );",
          "content_same": false
        },
        {
          "line": 770,
          "old_api": null,
          "new_api": "msg_Dbg",
          "old_text": null,
          "new_text": "msg_Dbg( p_dec, \"bad frame period\" )",
          "old_line_content": " *****************************************************************************/",
          "new_line_content": "        msg_Dbg( p_dec, \"bad frame period\" );",
          "content_same": false
        },
        {
          "line": 903,
          "old_api": null,
          "new_api": "msg_Err",
          "old_text": null,
          "new_text": "msg_Err( p_dec, \"DpbDisplayPicture called on an invalid picture\" )",
          "old_line_content": "",
          "new_line_content": "        msg_Err( p_dec, \"DpbDisplayPicture called on an invalid picture\" );",
          "content_same": false
        },
        {
          "line": 520,
          "old_api": null,
          "new_api": "mpeg2_tag_picture",
          "old_text": null,
          "new_text": "mpeg2_tag_picture( p_sys->p_mpeg2dec,\n                                   (uint32_t)p_block->i_pts,\n                                   (uint32_t)p_block->i_dts )",
          "old_line_content": "                p_sys->i_current_pts = p_block->i_pts;",
          "new_line_content": "                mpeg2_tag_picture( p_sys->p_mpeg2dec,",
          "content_same": false
        },
        {
          "line": 267,
          "old_api": null,
          "new_api": "Reset",
          "old_text": null,
          "new_text": "Reset( p_dec )",
          "old_line_content": "",
          "new_line_content": "        Reset( p_dec );",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": null,
          "new_api": "decoder_SynchroChoose",
          "old_text": null,
          "new_text": "decoder_SynchroChoose( p_sys->p_synchro,\n                              p_current->flags\n                                & PIC_MASK_CODING_TYPE,\n                              /*p_sys->p_vout->render_time*/ 0 /*FIXME*/,\n                              p_info->sequence->flags & SEQ_FLAG_LOW_DELAY )",
          "old_line_content": "            {",
          "new_line_content": "                   && !decoder_SynchroChoose( p_sys->p_synchro,",
          "content_same": false
        },
        {
          "line": 907,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert( p && !p->b_displayed && p->b_linked )",
          "old_line_content": "",
          "new_line_content": "    assert( p && !p->b_displayed && p->b_linked );",
          "content_same": false
        },
        {
          "line": 271,
          "old_api": null,
          "new_api": "mpeg2_parse",
          "old_text": null,
          "new_text": "mpeg2_parse( p_sys->p_mpeg2dec )",
          "old_line_content": "        {",
          "new_line_content": "        state = mpeg2_parse( p_sys->p_mpeg2dec );",
          "content_same": false
        },
        {
          "line": 530,
          "old_api": null,
          "new_api": "mpeg2_buffer",
          "old_text": null,
          "new_text": "mpeg2_buffer( p_sys->p_mpeg2dec, p_block->p_buffer,\n                          p_block->p_buffer + p_block->i_buffer )",
          "old_line_content": "",
          "new_line_content": "            mpeg2_buffer( p_sys->p_mpeg2dec, p_block->p_buffer,",
          "content_same": false
        },
        {
          "line": 789,
          "old_api": null,
          "new_api": "mpeg2_stride",
          "old_text": null,
          "new_text": "mpeg2_stride( p_sys->p_mpeg2dec, p_picture->p[Y_PLANE].i_pitch )",
          "old_line_content": " * Initialize a virtual Decoded Picture Buffer to workaround",
          "new_line_content": "        mpeg2_stride( p_sys->p_mpeg2dec, p_picture->p[Y_PLANE].i_pitch );",
          "content_same": false
        },
        {
          "line": 278,
          "old_api": null,
          "new_api": "DpbClean",
          "old_text": null,
          "new_text": "DpbClean( p_dec )",
          "old_line_content": "            /* Set the first 2 reference frames */",
          "new_line_content": "            DpbClean( p_dec );",
          "content_same": false
        },
        {
          "line": 281,
          "old_api": null,
          "new_api": "mpeg2_custom_fbuf",
          "old_text": null,
          "new_text": "mpeg2_custom_fbuf( p_sys->p_mpeg2dec, 1 )",
          "old_line_content": "            for( int i = 0; i < 2; i++ )",
          "new_line_content": "            mpeg2_custom_fbuf( p_sys->p_mpeg2dec, 1 );",
          "content_same": false
        },
        {
          "line": 539,
          "old_api": null,
          "new_api": "GetAR",
          "old_text": null,
          "new_text": "GetAR( p_dec )",
          "old_line_content": "            break;",
          "new_line_content": "            GetAR( p_dec );",
          "content_same": false
        },
        {
          "line": 412,
          "old_api": null,
          "new_api": "DpbNewPicture",
          "old_text": null,
          "new_text": "DpbNewPicture( p_dec )",
          "old_line_content": "                        return NULL;",
          "new_line_content": "                    p_pic = DpbNewPicture( p_dec );",
          "content_same": false
        },
        {
          "line": 285,
          "old_api": null,
          "new_api": "GetAR",
          "old_text": null,
          "new_text": "GetAR( p_dec )",
          "old_line_content": "                {",
          "new_line_content": "            GetAR( p_dec );",
          "content_same": false
        },
        {
          "line": 415,
          "old_api": null,
          "new_api": "mpeg2_reset",
          "old_text": null,
          "new_text": "mpeg2_reset( p_sys->p_mpeg2dec, 1 )",
          "old_line_content": "            }",
          "new_line_content": "                        mpeg2_reset( p_sys->p_mpeg2dec, 1 );",
          "content_same": false
        },
        {
          "line": 672,
          "old_api": null,
          "new_api": "decoder_NewPicture",
          "old_text": null,
          "new_text": "decoder_NewPicture( p_dec )",
          "old_line_content": "    p_pic->b_progressive = p_sys->p_info->current_picture != NULL ?",
          "new_line_content": "    p_pic = decoder_NewPicture( p_dec );",
          "content_same": false
        },
        {
          "line": 288,
          "old_api": null,
          "new_api": "DpbNewPicture",
          "old_text": null,
          "new_text": "DpbNewPicture( p_dec )",
          "old_line_content": "                    return NULL;",
          "new_line_content": "                picture_t *p_picture = DpbNewPicture( p_dec );",
          "content_same": false
        },
        {
          "line": 416,
          "old_api": null,
          "new_api": "block_Release",
          "old_text": null,
          "new_text": "block_Release( p_block )",
          "old_line_content": "",
          "new_line_content": "                        block_Release( p_block );",
          "content_same": false
        },
        {
          "line": 291,
          "old_api": null,
          "new_api": "Reset",
          "old_text": null,
          "new_text": "Reset( p_dec )",
          "old_line_content": "            }",
          "new_line_content": "                    Reset( p_dec );",
          "content_same": false
        },
        {
          "line": 292,
          "old_api": null,
          "new_api": "block_Release",
          "old_text": null,
          "new_text": "block_Release( p_block )",
          "old_line_content": "",
          "new_line_content": "                    block_Release( p_block );",
          "content_same": false
        },
        {
          "line": 295,
          "old_api": null,
          "new_api": "PutPicture",
          "old_text": null,
          "new_text": "PutPicture( p_dec, p_picture )",
          "old_line_content": "",
          "new_line_content": "                PutPicture( p_dec, p_picture );",
          "content_same": false
        },
        {
          "line": 424,
          "old_api": null,
          "new_api": "mpeg2_skip",
          "old_text": null,
          "new_text": "mpeg2_skip( p_sys->p_mpeg2dec, 1 )",
          "old_line_content": "",
          "new_line_content": "                mpeg2_skip( p_sys->p_mpeg2dec, 1 );",
          "content_same": false
        },
        {
          "line": 426,
          "old_api": null,
          "new_api": "decoder_SynchroTrash",
          "old_text": null,
          "new_text": "decoder_SynchroTrash( p_sys->p_synchro )",
          "old_line_content": "                {",
          "new_line_content": "                decoder_SynchroTrash( p_sys->p_synchro );",
          "content_same": false
        },
        {
          "line": 555,
          "old_api": null,
          "new_api": "DpbDisplayPicture",
          "old_text": null,
          "new_text": "DpbDisplayPicture( p_dec, p_pic )",
          "old_line_content": "                                    p_sys->b_garbage_pic );",
          "new_line_content": "                if( DpbDisplayPicture( p_dec, p_pic ) )",
          "content_same": false
        },
        {
          "line": 299,
          "old_api": null,
          "new_api": "decoder_SynchroRelease",
          "old_text": null,
          "new_text": "decoder_SynchroRelease( p_sys->p_synchro )",
          "old_line_content": "                p_sys->p_synchro =",
          "new_line_content": "                decoder_SynchroRelease( p_sys->p_synchro );",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": null,
          "new_api": "PutPicture",
          "old_text": null,
          "new_text": "PutPicture( p_dec, NULL )",
          "old_line_content": "                    return NULL;",
          "new_line_content": "                PutPicture( p_dec, NULL );",
          "content_same": false
        },
        {
          "line": 558,
          "old_api": null,
          "new_api": "decoder_SynchroEnd",
          "old_text": null,
          "new_text": "decoder_SynchroEnd( p_sys->p_synchro,\n                                    p_sys->p_info->display_picture->flags & PIC_MASK_CODING_TYPE,\n                                    p_sys->b_garbage_pic )",
          "old_line_content": "                {",
          "new_line_content": "                decoder_SynchroEnd( p_sys->p_synchro,",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": null,
          "new_api": "block_Release",
          "old_text": null,
          "new_text": "block_Release( p_block )",
          "old_line_content": "            {",
          "new_line_content": "                    block_Release( p_block );",
          "content_same": false
        },
        {
          "line": 305,
          "old_api": null,
          "new_api": "UINT64_C",
          "old_text": null,
          "new_text": "UINT64_C(1001000000)",
          "old_line_content": "",
          "new_line_content": "                decoder_SynchroInit( p_dec, (uint32_t)(UINT64_C(1001000000) *",
          "content_same": false
        },
        {
          "line": 817,
          "old_api": null,
          "new_api": "decoder_UnlinkPicture",
          "old_text": null,
          "new_text": "decoder_UnlinkPicture( p_dec, p->p_picture )",
          "old_line_content": "    }",
          "new_line_content": "            decoder_UnlinkPicture( p_dec, p->p_picture );",
          "content_same": false
        },
        {
          "line": 819,
          "old_api": null,
          "new_api": "decoder_DeletePicture",
          "old_text": null,
          "new_text": "decoder_DeletePicture( p_dec, p->p_picture )",
          "old_line_content": "/**",
          "new_line_content": "            decoder_DeletePicture( p_dec, p->p_picture );",
          "content_same": false
        },
        {
          "line": 564,
          "old_api": null,
          "new_api": "decoder_SynchroDate",
          "old_text": null,
          "new_text": "decoder_SynchroDate( p_sys->p_synchro )",
          "old_line_content": "            }",
          "new_line_content": "                    p_pic->date = decoder_SynchroDate( p_sys->p_synchro );",
          "content_same": false
        },
        {
          "line": 438,
          "old_api": null,
          "new_api": "mpeg2_skip",
          "old_text": null,
          "new_text": "mpeg2_skip( p_sys->p_mpeg2dec, 0 )",
          "old_line_content": "            }",
          "new_line_content": "                mpeg2_skip( p_sys->p_mpeg2dec, 0 );",
          "content_same": false
        },
        {
          "line": 440,
          "old_api": null,
          "new_api": "decoder_SynchroDecode",
          "old_text": null,
          "new_text": "decoder_SynchroDecode( p_sys->p_synchro )",
          "old_line_content": "            {",
          "new_line_content": "                decoder_SynchroDecode( p_sys->p_synchro );",
          "content_same": false
        },
        {
          "line": 442,
          "old_api": null,
          "new_api": "PutPicture",
          "old_text": null,
          "new_text": "PutPicture( p_dec, p_pic )",
          "old_line_content": "                p_sys->i_cc_dts = i_dts;",
          "new_line_content": "                PutPicture( p_dec, p_pic );",
          "content_same": false
        },
        {
          "line": 316,
          "old_api": null,
          "new_api": "calloc",
          "old_text": null,
          "new_text": "calloc( p_sys->p_info->user_data_len, sizeof(uint8_t) )",
          "old_line_content": "                }",
          "new_line_content": "                p_sys->p_gop_user_data = calloc( p_sys->p_info->user_data_len, sizeof(uint8_t) );",
          "content_same": false
        },
        {
          "line": 574,
          "old_api": null,
          "new_api": "DpbUnlinkPicture",
          "old_text": null,
          "new_text": "DpbUnlinkPicture( p_dec, p_sys->p_info->discard_fbuf->id )",
          "old_line_content": "                p_pic->b_force = true;",
          "new_line_content": "                DpbUnlinkPicture( p_dec, p_sys->p_info->discard_fbuf->id );",
          "content_same": false
        },
        {
          "line": 703,
          "old_api": null,
          "new_api": "block_New",
          "old_text": null,
          "new_text": "block_New( p_dec, p_sys->cc.i_data)",
          "old_line_content": "        p_cc->i_pts = p_sys->cc.b_reorder ? p_sys->i_cc_pts : p_sys->i_cc_dts;",
          "new_line_content": "    p_cc = block_New( p_dec, p_sys->cc.i_data);",
          "content_same": false
        },
        {
          "line": 320,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy( p_sys->p_gop_user_data, p_sys->p_info->user_data, p_sys->p_info->user_data_len )",
          "old_line_content": "        case STATE_PICTURE:",
          "new_line_content": "                    memcpy( p_sys->p_gop_user_data, p_sys->p_info->user_data, p_sys->p_info->user_data_len );",
          "content_same": false
        },
        {
          "line": 711,
          "old_api": null,
          "new_api": "cc_Flush",
          "old_text": null,
          "new_text": "cc_Flush( &p_sys->cc )",
          "old_line_content": "/*****************************************************************************",
          "new_line_content": "    cc_Flush( &p_sys->cc );",
          "content_same": false
        },
        {
          "line": 842,
          "old_api": null,
          "new_api": "msg_Err",
          "old_text": null,
          "new_text": "msg_Err( p_dec, \"Leaking picture\" )",
          "old_line_content": "    if( p->p_picture )",
          "new_line_content": "        msg_Err( p_dec, \"Leaking picture\" );",
          "content_same": false
        },
        {
          "line": 459,
          "old_api": null,
          "new_api": "cc_Extract",
          "old_text": null,
          "new_text": "cc_Extract( &p_sys->cc, &p_sys->p_gop_user_data[0], p_sys->i_gop_user_data )",
          "old_line_content": "                if( p_info->user_data_len > 2 )",
          "new_line_content": "                    cc_Extract( &p_sys->cc, &p_sys->p_gop_user_data[0], p_sys->i_gop_user_data );",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": null,
          "new_api": "GetNewPicture",
          "old_text": null,
          "new_text": "GetNewPicture( p_dec )",
          "old_line_content": "        p->b_displayed = false;",
          "new_line_content": "    p->p_picture = GetNewPicture( p_dec );",
          "content_same": false
        },
        {
          "line": 849,
          "old_api": null,
          "new_api": "decoder_LinkPicture",
          "old_text": null,
          "new_text": "decoder_LinkPicture( p_dec, p->p_picture )",
          "old_line_content": "    }",
          "new_line_content": "        decoder_LinkPicture( p_dec, p->p_picture );",
          "content_same": false
        },
        {
          "line": 594,
          "old_api": null,
          "new_api": "msg_Err",
          "old_text": null,
          "new_text": "msg_Err( p_dec, \"invalid picture encountered\" )",
          "old_line_content": "",
          "new_line_content": "            msg_Err( p_dec, \"invalid picture encountered\" );",
          "content_same": false
        },
        {
          "line": 338,
          "old_api": null,
          "new_api": "decoder_SynchroNewPicture",
          "old_text": null,
          "new_text": "decoder_SynchroNewPicture( p_sys->p_synchro,\n                                           I_CODING_TYPE, 2, 0, 0,\n                                           p_info->sequence->flags & SEQ_FLAG_LOW_DELAY )",
          "old_line_content": "                p_sys->b_slice_i = true;",
          "new_line_content": "                decoder_SynchroNewPicture( p_sys->p_synchro,",
          "content_same": false
        },
        {
          "line": 465,
          "old_api": null,
          "new_api": "cc_Extract",
          "old_text": null,
          "new_text": "cc_Extract( &p_sys->cc, &p_info->user_data[0], p_info->user_data_len )",
          "old_line_content": "",
          "new_line_content": "                    cc_Extract( &p_sys->cc, &p_info->user_data[0], p_info->user_data_len );",
          "content_same": false
        },
        {
          "line": 341,
          "old_api": null,
          "new_api": "decoder_SynchroDecode",
          "old_text": null,
          "new_text": "decoder_SynchroDecode( p_sys->p_synchro )",
          "old_line_content": "",
          "new_line_content": "                decoder_SynchroDecode( p_sys->p_synchro );",
          "content_same": false
        },
        {
          "line": 342,
          "old_api": null,
          "new_api": "decoder_SynchroEnd",
          "old_text": null,
          "new_text": "decoder_SynchroEnd( p_sys->p_synchro, I_CODING_TYPE, 0 )",
          "old_line_content": "#ifdef PIC_FLAG_PTS",
          "new_line_content": "                decoder_SynchroEnd( p_sys->p_synchro, I_CODING_TYPE, 0 );",
          "content_same": false
        },
        {
          "line": 474,
          "old_api": null,
          "new_api": "block_Release",
          "old_text": null,
          "new_text": "block_Release( p_block )",
          "old_line_content": "                                      | BLOCK_FLAG_CORRUPTED)) &&",
          "new_line_content": "                block_Release( p_block );",
          "content_same": false
        },
        {
          "line": 220,
          "old_api": null,
          "new_api": "vlc_CPU",
          "old_text": null,
          "new_text": "vlc_CPU()",
          "old_line_content": "    /* If we do not know this CPU, trust libmpeg2's feature detection */",
          "new_line_content": "    if( vlc_CPU() & CPU_CAPABILITY_NEON )",
          "content_same": false
        },
        {
          "line": 484,
          "old_api": null,
          "new_api": "decoder_SynchroReset",
          "old_text": null,
          "new_text": "decoder_SynchroReset( p_sys->p_synchro )",
          "old_line_content": "                }",
          "new_line_content": "                decoder_SynchroReset( p_sys->p_synchro );",
          "content_same": false
        },
        {
          "line": 231,
          "old_api": null,
          "new_api": "mpeg2_accel",
          "old_text": null,
          "new_text": "mpeg2_accel( i_accel )",
          "old_line_content": "    {",
          "new_line_content": "    mpeg2_accel( i_accel );",
          "content_same": false
        },
        {
          "line": 617,
          "old_api": null,
          "new_api": "DpbClean",
          "old_text": null,
          "new_text": "DpbClean( p_dec )",
          "old_line_content": "",
          "new_line_content": "    DpbClean( p_dec );",
          "content_same": false
        },
        {
          "line": 234,
          "old_api": null,
          "new_api": "mpeg2_init",
          "old_text": null,
          "new_text": "mpeg2_init()",
          "old_line_content": "        return VLC_EGENERIC;",
          "new_line_content": "    p_sys->p_mpeg2dec = mpeg2_init();",
          "content_same": false
        },
        {
          "line": 619,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( p_sys->p_gop_user_data )",
          "old_line_content": "",
          "new_line_content": "    free( p_sys->p_gop_user_data );",
          "content_same": false
        },
        {
          "line": 621,
          "old_api": null,
          "new_api": "decoder_SynchroRelease",
          "old_text": null,
          "new_text": "decoder_SynchroRelease( p_sys->p_synchro )",
          "old_line_content": "}",
          "new_line_content": "    if( p_sys->p_synchro ) decoder_SynchroRelease( p_sys->p_synchro );",
          "content_same": false
        },
        {
          "line": 238,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( p_sys )",
          "old_line_content": "",
          "new_line_content": "        free( p_sys );",
          "content_same": false
        },
        {
          "line": 623,
          "old_api": null,
          "new_api": "mpeg2_close",
          "old_text": null,
          "new_text": "mpeg2_close( p_sys->p_mpeg2dec )",
          "old_line_content": "/*****************************************************************************",
          "new_line_content": "    if( p_sys->p_mpeg2dec ) mpeg2_close( p_sys->p_mpeg2dec );",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": null,
          "new_api": "msg_Err",
          "old_text": null,
          "new_text": "msg_Err( p_dec, \"DpbUnlinkPicture called on an invalid picture\" )",
          "old_line_content": "",
          "new_line_content": "        msg_Err( p_dec, \"DpbUnlinkPicture called on an invalid picture\" );",
          "content_same": false
        },
        {
          "line": 625,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( p_sys )",
          "old_line_content": " *****************************************************************************/",
          "new_line_content": "    free( p_sys );",
          "content_same": false
        },
        {
          "line": 242,
          "old_api": null,
          "new_api": "mpeg2_info",
          "old_text": null,
          "new_text": "mpeg2_info( p_sys->p_mpeg2dec )",
          "old_line_content": "",
          "new_line_content": "    p_sys->p_info = mpeg2_info( p_sys->p_mpeg2dec );",
          "content_same": false
        },
        {
          "line": 496,
          "old_api": null,
          "new_api": "decoder_SynchroDecode",
          "old_text": null,
          "new_text": "decoder_SynchroDecode( p_sys->p_synchro )",
          "old_line_content": "            if( p_block->i_flags & BLOCK_FLAG_PREROLL )",
          "new_line_content": "                    decoder_SynchroDecode( p_sys->p_synchro );",
          "content_same": false
        },
        {
          "line": 884,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert( p && p->b_linked )",
          "old_line_content": "    if( !p->b_displayed )",
          "new_line_content": "    assert( p && p->b_linked );",
          "content_same": false
        },
        {
          "line": 497,
          "old_api": null,
          "new_api": "decoder_SynchroEnd",
          "old_text": null,
          "new_text": "decoder_SynchroEnd( p_sys->p_synchro, I_CODING_TYPE, 0 )",
          "old_line_content": "            {",
          "new_line_content": "                    decoder_SynchroEnd( p_sys->p_synchro, I_CODING_TYPE, 0 );",
          "content_same": false
        },
        {
          "line": 758,
          "old_api": null,
          "new_api": "msg_Dbg",
          "old_text": null,
          "new_text": "msg_Dbg( p_dec,\n                 \"%dx%d (display %d,%d), aspect %d, sar %i:%i, %u.%03u fps\",\n                 p_sys->p_info->sequence->picture_width,\n                 p_sys->p_info->sequence->picture_height,\n                 p_sys->p_info->sequence->display_width,\n                 p_sys->p_info->sequence->display_height,\n                 p_sys->i_aspect, p_sys->i_sar_num, p_sys->i_sar_den,\n                 (uint32_t)((uint64_t)1001000000 * 27 /\n                     p_sys->p_info->sequence->frame_period / 1001),\n                 (uint32_t)((uint64_t)1001000000 * 27 /\n                     p_sys->p_info->sequence->frame_period % 1001) )",
          "old_line_content": "                 p_sys->p_info->sequence->display_height,",
          "new_line_content": "        msg_Dbg( p_dec,",
          "content_same": false
        },
        {
          "line": 886,
          "old_api": null,
          "new_api": "decoder_UnlinkPicture",
          "old_text": null,
          "new_text": "decoder_UnlinkPicture( p_dec, p->p_picture )",
          "old_line_content": "    p->p_picture = NULL;",
          "new_line_content": "    decoder_UnlinkPicture( p_dec, p->p_picture );",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": null,
          "new_api": "decoder_DeletePicture",
          "old_text": null,
          "new_text": "decoder_DeletePicture( p_dec, p->p_picture )",
          "old_line_content": " */",
          "new_line_content": "        decoder_DeletePicture( p_dec, p->p_picture );",
          "content_same": false
        },
        {
          "line": 635,
          "old_api": null,
          "new_api": "cc_Flush",
          "old_text": null,
          "new_text": "cc_Flush( &p_sys->cc )",
          "old_line_content": "/*****************************************************************************",
          "new_line_content": "    cc_Flush( &p_sys->cc );",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": null,
          "new_api": "mpeg2_reset",
          "old_text": null,
          "new_text": "mpeg2_reset( p_sys->p_mpeg2dec, 0 )",
          "old_line_content": " * GetNewPicture: Get a new picture from the vout and set the buf struct",
          "new_line_content": "    mpeg2_reset( p_sys->p_mpeg2dec, 0 );",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": null,
          "new_api": "DpbClean",
          "old_text": null,
          "new_text": "DpbClean( p_dec )",
          "old_line_content": " *****************************************************************************/",
          "new_line_content": "    DpbClean( p_dec );",
          "content_same": false
        },
        {
          "line": 383,
          "old_api": null,
          "new_api": "decoder_SynchroNewPicture",
          "old_text": null,
          "new_text": "decoder_SynchroNewPicture( p_sys->p_synchro,\n                                       p_current->flags & PIC_MASK_CODING_TYPE,\n                                       p_current->nb_fields == 1 ? 2 :\n                                       p_current->nb_fields, i_pts, i_dts,\n                                       p_info->sequence->flags & SEQ_FLAG_LOW_DELAY )",
          "old_line_content": "",
          "new_line_content": "            decoder_SynchroNewPicture( p_sys->p_synchro,",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 262,
          "old_api": "Reset",
          "new_api": null,
          "old_text": "Reset( p_dec )",
          "new_text": null,
          "old_line_content": "        Reset( p_dec );",
          "new_line_content": "    if( !pp_block || !*pp_block )",
          "content_same": false
        },
        {
          "line": 390,
          "old_api": "decoder_SynchroChoose",
          "new_api": null,
          "old_text": "decoder_SynchroChoose( p_sys->p_synchro,\n                              p_current->flags\n                                & PIC_MASK_CODING_TYPE,\n                              /*p_sys->p_vout->render_time*/ 0 /*FIXME*/,\n                              p_info->sequence->flags & SEQ_FLAG_LOW_DELAY )",
          "new_text": null,
          "old_line_content": "                   && !decoder_SynchroChoose( p_sys->p_synchro,",
          "new_line_content": "            bool b_skip = false;",
          "content_same": false
        },
        {
          "line": 902,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert( p && !p->b_displayed && p->b_linked )",
          "new_text": null,
          "old_line_content": "    assert( p && !p->b_displayed && p->b_linked );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 266,
          "old_api": "mpeg2_parse",
          "new_api": null,
          "old_text": "mpeg2_parse( p_sys->p_mpeg2dec )",
          "new_text": null,
          "old_line_content": "        state = mpeg2_parse( p_sys->p_mpeg2dec );",
          "new_line_content": "    if( p_block->i_flags & (BLOCK_FLAG_DISCONTINUITY | BLOCK_FLAG_CORRUPTED) )",
          "content_same": false
        },
        {
          "line": 779,
          "old_api": "mpeg2_set_buf",
          "new_api": null,
          "old_text": "mpeg2_set_buf( p_sys->p_mpeg2dec, pp_buf, p_picture )",
          "new_text": null,
          "old_line_content": "    mpeg2_set_buf( p_sys->p_mpeg2dec, pp_buf, p_picture );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 525,
          "old_api": "mpeg2_buffer",
          "new_api": null,
          "old_text": "mpeg2_buffer( p_sys->p_mpeg2dec, p_block->p_buffer,\n                          p_block->p_buffer + p_block->i_buffer )",
          "new_text": null,
          "old_line_content": "            mpeg2_buffer( p_sys->p_mpeg2dec, p_block->p_buffer,",
          "new_line_content": "                p_sys->i_current_pts = p_block->i_pts;",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": "DpbFindPicture",
          "new_api": null,
          "old_text": "DpbFindPicture( p_dec, p_picture )",
          "new_text": null,
          "old_line_content": "    picture_dpb_t *p = DpbFindPicture( p_dec, p_picture );",
          "new_line_content": "/**",
          "content_same": false
        },
        {
          "line": 273,
          "old_api": "DpbClean",
          "new_api": null,
          "old_text": "DpbClean( p_dec )",
          "new_text": null,
          "old_line_content": "            DpbClean( p_dec );",
          "new_line_content": "        switch( state )",
          "content_same": false
        },
        {
          "line": 402,
          "old_api": "DpbNewPicture",
          "new_api": null,
          "old_text": "DpbNewPicture( p_dec )",
          "new_text": null,
          "old_line_content": "                p_pic = DpbNewPicture( p_dec );",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 276,
          "old_api": "mpeg2_custom_fbuf",
          "new_api": null,
          "old_text": "mpeg2_custom_fbuf( p_sys->p_mpeg2dec, 1 )",
          "new_text": null,
          "old_line_content": "            mpeg2_custom_fbuf( p_sys->p_mpeg2dec, 1 );",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 405,
          "old_api": "Reset",
          "new_api": null,
          "old_text": "Reset( p_dec )",
          "new_text": null,
          "old_line_content": "                    Reset( p_dec );",
          "new_line_content": "            if( !b_skip )",
          "content_same": false
        },
        {
          "line": 534,
          "old_api": "GetAR",
          "new_api": null,
          "old_text": "GetAR( p_dec )",
          "new_text": null,
          "old_line_content": "            GetAR( p_dec );",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 280,
          "old_api": "GetAR",
          "new_api": null,
          "old_text": "GetAR( p_dec )",
          "new_text": null,
          "old_line_content": "            GetAR( p_dec );",
          "new_line_content": "            /* */",
          "content_same": false
        },
        {
          "line": 667,
          "old_api": "decoder_NewPicture",
          "new_api": null,
          "old_text": "decoder_NewPicture( p_dec )",
          "new_text": null,
          "old_line_content": "    p_pic = decoder_NewPicture( p_dec );",
          "new_line_content": "        ( p_sys->p_info->sequence->chroma_height <",
          "content_same": false
        },
        {
          "line": 283,
          "old_api": "DpbNewPicture",
          "new_api": null,
          "old_text": "DpbNewPicture( p_dec )",
          "new_text": null,
          "old_line_content": "                picture_t *p_picture = DpbNewPicture( p_dec );",
          "new_line_content": "            /* Set the first 2 reference frames */",
          "content_same": false
        },
        {
          "line": 411,
          "old_api": "block_Release",
          "new_api": null,
          "old_text": "block_Release( p_block )",
          "new_text": null,
          "old_line_content": "                        block_Release( p_block );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 286,
          "old_api": "Reset",
          "new_api": null,
          "old_text": "Reset( p_dec )",
          "new_text": null,
          "old_line_content": "                    Reset( p_dec );",
          "new_line_content": "            for( int i = 0; i < 2; i++ )",
          "content_same": false
        },
        {
          "line": 287,
          "old_api": "block_Release",
          "new_api": null,
          "old_text": "block_Release( p_block )",
          "new_text": null,
          "old_line_content": "                    block_Release( p_block );",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 290,
          "old_api": "PutPicture",
          "new_api": null,
          "old_text": "PutPicture( p_dec, p_picture )",
          "new_text": null,
          "old_line_content": "                PutPicture( p_dec, p_picture );",
          "new_line_content": "                {",
          "content_same": false
        },
        {
          "line": 419,
          "old_api": "mpeg2_skip",
          "new_api": null,
          "old_text": "mpeg2_skip( p_sys->p_mpeg2dec, 1 )",
          "new_text": null,
          "old_line_content": "                mpeg2_skip( p_sys->p_mpeg2dec, 1 );",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 421,
          "old_api": "decoder_SynchroTrash",
          "new_api": null,
          "old_text": "decoder_SynchroTrash( p_sys->p_synchro )",
          "new_text": null,
          "old_line_content": "                decoder_SynchroTrash( p_sys->p_synchro );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 550,
          "old_api": "DpbDisplayPicture",
          "new_api": null,
          "old_text": "DpbDisplayPicture( p_dec, p_pic )",
          "new_text": null,
          "old_line_content": "                if( DpbDisplayPicture( p_dec, p_pic ) )",
          "new_line_content": "            p_pic = NULL;",
          "content_same": false
        },
        {
          "line": 294,
          "old_api": "decoder_SynchroRelease",
          "new_api": null,
          "old_text": "decoder_SynchroRelease( p_sys->p_synchro )",
          "new_text": null,
          "old_line_content": "                decoder_SynchroRelease( p_sys->p_synchro );",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 423,
          "old_api": "PutPicture",
          "new_api": null,
          "old_text": "PutPicture( p_dec, NULL )",
          "new_text": null,
          "old_line_content": "                PutPicture( p_dec, NULL );",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 553,
          "old_api": "decoder_SynchroEnd",
          "new_api": null,
          "old_text": "decoder_SynchroEnd( p_sys->p_synchro,\n                                    p_sys->p_info->display_picture->flags & PIC_MASK_CODING_TYPE,\n                                    p_sys->b_garbage_pic )",
          "new_text": null,
          "old_line_content": "                decoder_SynchroEnd( p_sys->p_synchro,",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": "block_Release",
          "new_api": null,
          "old_text": "block_Release( p_block )",
          "new_text": null,
          "old_line_content": "                    block_Release( p_block );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 300,
          "old_api": "UINT64_C",
          "new_api": null,
          "old_text": "UINT64_C(1001000000)",
          "new_text": null,
          "old_line_content": "                decoder_SynchroInit( p_dec, (uint32_t)(UINT64_C(1001000000) *",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 812,
          "old_api": "decoder_UnlinkPicture",
          "new_api": null,
          "old_text": "decoder_UnlinkPicture( p_dec, p->p_picture )",
          "new_text": null,
          "old_line_content": "            decoder_UnlinkPicture( p_dec, p->p_picture );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 814,
          "old_api": "decoder_DeletePicture",
          "new_api": null,
          "old_text": "decoder_DeletePicture( p_dec, p->p_picture )",
          "new_text": null,
          "old_line_content": "            decoder_DeletePicture( p_dec, p->p_picture );",
          "new_line_content": "        if( !p->p_picture )",
          "content_same": false
        },
        {
          "line": 559,
          "old_api": "decoder_SynchroDate",
          "new_api": null,
          "old_text": "decoder_SynchroDate( p_sys->p_synchro )",
          "new_text": null,
          "old_line_content": "                    p_pic->date = decoder_SynchroDate( p_sys->p_synchro );",
          "new_line_content": "                                    p_sys->p_info->display_picture->flags & PIC_MASK_CODING_TYPE,",
          "content_same": false
        },
        {
          "line": 433,
          "old_api": "mpeg2_skip",
          "new_api": null,
          "old_text": "mpeg2_skip( p_sys->p_mpeg2dec, 0 )",
          "new_text": null,
          "old_line_content": "                mpeg2_skip( p_sys->p_mpeg2dec, 0 );",
          "new_line_content": "                    return NULL;",
          "content_same": false
        },
        {
          "line": 435,
          "old_api": "decoder_SynchroDecode",
          "new_api": null,
          "old_text": "decoder_SynchroDecode( p_sys->p_synchro )",
          "new_text": null,
          "old_line_content": "                decoder_SynchroDecode( p_sys->p_synchro );",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 437,
          "old_api": "PutPicture",
          "new_api": null,
          "old_text": "PutPicture( p_dec, p_pic )",
          "new_text": null,
          "old_line_content": "                PutPicture( p_dec, p_pic );",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 310,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( p_sys->p_gop_user_data )",
          "new_text": null,
          "old_line_content": "                free( p_sys->p_gop_user_data );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 311,
          "old_api": "calloc",
          "new_api": null,
          "old_text": "calloc( p_sys->p_info->user_data_len, sizeof(uint8_t) )",
          "new_text": null,
          "old_line_content": "                p_sys->p_gop_user_data = calloc( p_sys->p_info->user_data_len, sizeof(uint8_t) );",
          "new_line_content": "        case STATE_GOP:",
          "content_same": false
        },
        {
          "line": 569,
          "old_api": "DpbUnlinkPicture",
          "new_api": null,
          "old_text": "DpbUnlinkPicture( p_dec, p_sys->p_info->discard_fbuf->id )",
          "new_text": null,
          "old_line_content": "                DpbUnlinkPicture( p_dec, p_sys->p_info->discard_fbuf->id );",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 698,
          "old_api": "block_New",
          "new_api": null,
          "old_text": "block_New( p_dec, p_sys->cc.i_data)",
          "new_text": null,
          "old_line_content": "    p_cc = block_New( p_dec, p_sys->cc.i_data);",
          "new_line_content": "        pb_present[i] = p_sys->cc.pb_present[i];",
          "content_same": false
        },
        {
          "line": 701,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy( p_cc->p_buffer, p_sys->cc.p_data, p_sys->cc.i_data )",
          "new_text": null,
          "old_line_content": "        memcpy( p_cc->p_buffer, p_sys->cc.p_data, p_sys->cc.i_data );",
          "new_line_content": "        return NULL;",
          "content_same": false
        },
        {
          "line": 837,
          "old_api": "msg_Err",
          "new_api": null,
          "old_text": "msg_Err( p_dec, \"Leaking picture\" )",
          "new_text": null,
          "old_line_content": "        msg_Err( p_dec, \"Leaking picture\" );",
          "new_line_content": "        if( !p->p_picture )",
          "content_same": false
        },
        {
          "line": 454,
          "old_api": "cc_Extract",
          "new_api": null,
          "old_text": "cc_Extract( &p_sys->cc, &p_sys->p_gop_user_data[0], p_sys->i_gop_user_data )",
          "new_text": null,
          "old_line_content": "                    cc_Extract( &p_sys->cc, &p_sys->p_gop_user_data[0], p_sys->i_gop_user_data );",
          "new_line_content": "                else p_sys->i_cc_flags = BLOCK_FLAG_TYPE_I;",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": "GetNewPicture",
          "new_api": null,
          "old_text": "GetNewPicture( p_dec )",
          "new_text": null,
          "old_line_content": "    p->p_picture = GetNewPicture( p_dec );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 332,
          "old_api": "msg_Dbg",
          "new_api": null,
          "old_text": "msg_Dbg( p_dec, \"intra-slice refresh stream\" )",
          "new_text": null,
          "old_line_content": "                msg_Dbg( p_dec, \"intra-slice refresh stream\" );",
          "new_line_content": "            if( p_sys->b_after_sequence_header &&",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": "msg_Err",
          "new_api": null,
          "old_text": "msg_Err( p_dec, \"invalid picture encountered\" )",
          "new_text": null,
          "old_line_content": "            msg_Err( p_dec, \"invalid picture encountered\" );",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 333,
          "old_api": "decoder_SynchroNewPicture",
          "new_api": null,
          "old_text": "decoder_SynchroNewPicture( p_sys->p_synchro,\n                                           I_CODING_TYPE, 2, 0, 0,\n                                           p_info->sequence->flags & SEQ_FLAG_LOW_DELAY )",
          "new_text": null,
          "old_line_content": "                decoder_SynchroNewPicture( p_sys->p_synchro,",
          "new_line_content": "                (p_current->flags &",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": "decoder_LinkPicture",
          "new_api": null,
          "old_text": "decoder_LinkPicture( p_dec, p->p_picture )",
          "new_text": null,
          "old_line_content": "        decoder_LinkPicture( p_dec, p->p_picture );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 336,
          "old_api": "decoder_SynchroDecode",
          "new_api": null,
          "old_text": "decoder_SynchroDecode( p_sys->p_synchro )",
          "new_text": null,
          "old_line_content": "                decoder_SynchroDecode( p_sys->p_synchro );",
          "new_line_content": "                /* Intra-slice refresh. Simulate a blank I picture. */",
          "content_same": false
        },
        {
          "line": 460,
          "old_api": "cc_Extract",
          "new_api": null,
          "old_text": "cc_Extract( &p_sys->cc, &p_info->user_data[0], p_info->user_data_len )",
          "new_text": null,
          "old_line_content": "                    cc_Extract( &p_sys->cc, &p_info->user_data[0], p_info->user_data_len );",
          "new_line_content": "                    p_sys->i_gop_user_data = 0;",
          "content_same": false
        },
        {
          "line": 469,
          "old_api": "block_Release",
          "new_api": null,
          "old_text": "block_Release( p_block )",
          "new_text": null,
          "old_line_content": "                block_Release( p_block );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 479,
          "old_api": "decoder_SynchroReset",
          "new_api": null,
          "old_text": "decoder_SynchroReset( p_sys->p_synchro )",
          "new_text": null,
          "old_line_content": "                decoder_SynchroReset( p_sys->p_synchro );",
          "new_line_content": "                                      | BLOCK_FLAG_CORRUPTED)) &&",
          "content_same": false
        },
        {
          "line": 226,
          "old_api": "mpeg2_accel",
          "new_api": null,
          "old_text": "mpeg2_accel( i_accel )",
          "new_text": null,
          "old_line_content": "    mpeg2_accel( i_accel );",
          "new_line_content": "    i_accel = MPEG2_ACCEL_DETECT;",
          "content_same": false
        },
        {
          "line": 612,
          "old_api": "DpbClean",
          "new_api": null,
          "old_text": "DpbClean( p_dec )",
          "new_text": null,
          "old_line_content": "    DpbClean( p_dec );",
          "new_line_content": "static void CloseDecoder( vlc_object_t *p_this )",
          "content_same": false
        },
        {
          "line": 229,
          "old_api": "mpeg2_init",
          "new_api": null,
          "old_text": "mpeg2_init()",
          "new_text": null,
          "old_line_content": "    p_sys->p_mpeg2dec = mpeg2_init();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 614,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( p_sys->p_gop_user_data )",
          "new_text": null,
          "old_line_content": "    free( p_sys->p_gop_user_data );",
          "new_line_content": "    decoder_t *p_dec = (decoder_t *)p_this;",
          "content_same": false
        },
        {
          "line": 870,
          "old_api": "DpbFindPicture",
          "new_api": null,
          "old_text": "DpbFindPicture( p_dec, p_picture )",
          "new_text": null,
          "old_line_content": "    picture_dpb_t *p = DpbFindPicture( p_dec, p_picture );",
          "new_line_content": " * Unlink the provided picture and ensure that the decoder",
          "content_same": false
        },
        {
          "line": 616,
          "old_api": "decoder_SynchroRelease",
          "new_api": null,
          "old_text": "decoder_SynchroRelease( p_sys->p_synchro )",
          "new_text": null,
          "old_line_content": "    if( p_sys->p_synchro ) decoder_SynchroRelease( p_sys->p_synchro );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 232,
          "old_api": "msg_Err",
          "new_api": null,
          "old_text": "msg_Err( p_dec, \"mpeg2_init() failed\" )",
          "new_text": null,
          "old_line_content": "        msg_Err( p_dec, \"mpeg2_init() failed\" );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 618,
          "old_api": "mpeg2_close",
          "new_api": null,
          "old_text": "mpeg2_close( p_sys->p_mpeg2dec )",
          "new_text": null,
          "old_line_content": "    if( p_sys->p_mpeg2dec ) mpeg2_close( p_sys->p_mpeg2dec );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 233,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( p_sys )",
          "new_text": null,
          "old_line_content": "        free( p_sys );",
          "new_line_content": "    /* Initialize decoder */",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( p_sys )",
          "new_text": null,
          "old_line_content": "    free( p_sys );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 487,
          "old_api": "decoder_SynchroNewPicture",
          "new_api": null,
          "old_text": "decoder_SynchroNewPicture( p_sys->p_synchro,\n                                               I_CODING_TYPE, 2, 0, 0,\n                                               p_sys->p_info->sequence->flags &\n                                                            SEQ_FLAG_LOW_DELAY )",
          "new_text": null,
          "old_line_content": "                    decoder_SynchroNewPicture( p_sys->p_synchro,",
          "new_line_content": "                {",
          "content_same": false
        },
        {
          "line": 491,
          "old_api": "decoder_SynchroDecode",
          "new_api": null,
          "old_text": "decoder_SynchroDecode( p_sys->p_synchro )",
          "new_text": null,
          "old_line_content": "                    decoder_SynchroDecode( p_sys->p_synchro );",
          "new_line_content": "                {",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert( p && p->b_linked )",
          "new_text": null,
          "old_line_content": "    assert( p && p->b_linked );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 504,
          "old_api": "decoder_SynchroReset",
          "new_api": null,
          "old_text": "decoder_SynchroReset( p_sys->p_synchro )",
          "new_text": null,
          "old_line_content": "                    decoder_SynchroReset( p_sys->p_synchro );",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 753,
          "old_api": "msg_Dbg",
          "new_api": null,
          "old_text": "msg_Dbg( p_dec,\n                 \"%dx%d (display %d,%d), aspect %d, sar %i:%i, %u.%03u fps\",\n                 p_sys->p_info->sequence->picture_width,\n                 p_sys->p_info->sequence->picture_height,\n                 p_sys->p_info->sequence->display_width,\n                 p_sys->p_info->sequence->display_height,\n                 p_sys->i_aspect, p_sys->i_sar_num, p_sys->i_sar_den,\n                 (uint32_t)((uint64_t)1001000000 * 27 /\n                     p_sys->p_info->sequence->frame_period / 1001),\n                 (uint32_t)((uint64_t)1001000000 * 27 /\n                     p_sys->p_info->sequence->frame_period % 1001) )",
          "new_text": null,
          "old_line_content": "        msg_Dbg( p_dec,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": "decoder_UnlinkPicture",
          "new_api": null,
          "old_text": "decoder_UnlinkPicture( p_dec, p->p_picture )",
          "new_text": null,
          "old_line_content": "    decoder_UnlinkPicture( p_dec, p->p_picture );",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": "decoder_DeletePicture",
          "new_api": null,
          "old_text": "decoder_DeletePicture( p_dec, p->p_picture )",
          "new_text": null,
          "old_line_content": "        decoder_DeletePicture( p_dec, p->p_picture );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 630,
          "old_api": "cc_Flush",
          "new_api": null,
          "old_text": "cc_Flush( &p_sys->cc )",
          "new_text": null,
          "old_line_content": "    cc_Flush( &p_sys->cc );",
          "new_line_content": " *****************************************************************************/",
          "content_same": false
        },
        {
          "line": 631,
          "old_api": "mpeg2_reset",
          "new_api": null,
          "old_text": "mpeg2_reset( p_sys->p_mpeg2dec, 0 )",
          "new_text": null,
          "old_line_content": "    mpeg2_reset( p_sys->p_mpeg2dec, 0 );",
          "new_line_content": "static void Reset( decoder_t *p_dec )",
          "content_same": false
        },
        {
          "line": 632,
          "old_api": "DpbClean",
          "new_api": null,
          "old_text": "DpbClean( p_dec )",
          "new_text": null,
          "old_line_content": "    DpbClean( p_dec );",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": "decoder_SynchroNewPicture",
          "new_api": null,
          "old_text": "decoder_SynchroNewPicture( p_sys->p_synchro,\n                                       p_current->flags & PIC_MASK_CODING_TYPE,\n                                       p_current->nb_fields == 1 ? 2 :\n                                       p_current->nb_fields, i_pts, i_dts,\n                                       p_info->sequence->flags & SEQ_FLAG_LOW_DELAY )",
          "new_text": null,
          "old_line_content": "            decoder_SynchroNewPicture( p_sys->p_synchro,",
          "new_line_content": "             * followed by another field picture for which we won't call",
          "content_same": false
        },
        {
          "line": 765,
          "old_api": "msg_Dbg",
          "new_api": null,
          "old_text": "msg_Dbg( p_dec, \"bad frame period\" )",
          "new_text": null,
          "old_line_content": "        msg_Dbg( p_dec, \"bad frame period\" );",
          "new_line_content": "                 (uint32_t)((uint64_t)1001000000 * 27 /",
          "content_same": false
        },
        {
          "line": 510,
          "old_api": "mpeg2_pts",
          "new_api": null,
          "old_text": "mpeg2_pts( p_sys->p_mpeg2dec, (uint32_t)p_block->i_pts )",
          "new_text": null,
          "old_line_content": "                mpeg2_pts( p_sys->p_mpeg2dec, (uint32_t)p_block->i_pts );",
          "new_line_content": "            }",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 10,
      "total_additions": 73,
      "total_deletions": 72,
      "total_api_changes": 155
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 5,
        "api_related_lines": 155,
        "non_api_lines": 4,
        "non_api_line_numbers": [
          219,
          221,
          222,
          223
        ]
      }
    },
    "api_calls_before": 105,
    "api_calls_after": 106,
    "diff_info": {
      "added_lines": 5,
      "removed_lines": 0,
      "total_diff_lines": 17
    }
  }
}