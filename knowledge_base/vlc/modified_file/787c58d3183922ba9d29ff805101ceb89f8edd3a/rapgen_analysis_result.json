{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/787c58d3183922ba9d29ff805101ceb89f8edd3a",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/787c58d3183922ba9d29ff805101ceb89f8edd3a/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/787c58d3183922ba9d29ff805101ceb89f8edd3a/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/787c58d3183922ba9d29ff805101ceb89f8edd3a/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 175,
          "old_api": "MorphToPM",
          "new_api": "WinRegisterClass",
          "old_text": "MorphToPM()",
          "new_text": "WinRegisterClass( sys->hab,\n                      WC_VLC_KVA,\n                      WndProc,\n                      CS_SIZEREDRAW | CS_MOVENOTIFY,\n                      sizeof( PVOID ))",
          "old_line_content": "    MorphToPM();",
          "new_line_content": "    WinRegisterClass( sys->hab,",
          "content_same": false
        },
        {
          "line": 186,
          "old_api": "var_CreateGetBool",
          "new_api": "vout_display_NewWindow",
          "old_text": "var_CreateGetBool( vd, \"kva-fixt23\")",
          "new_text": "vout_display_NewWindow( vd, VOUT_WINDOW_TYPE_HWND )",
          "old_line_content": "    sys->b_fixt23 = var_CreateGetBool( vd, \"kva-fixt23\");",
          "new_line_content": "            vout_display_NewWindow( vd, VOUT_WINDOW_TYPE_HWND );",
          "content_same": false
        },
        {
          "line": 224,
          "old_api": "msg_Err",
          "new_api": "WinSetWindowPtr",
          "old_text": "msg_Err( vd, \"cannot create a frame window\")",
          "new_text": "WinSetWindowPtr( sys->client, 0, vd )",
          "old_line_content": "        msg_Err( vd, \"cannot create a frame window\");",
          "new_line_content": "    WinSetWindowPtr( sys->client, 0, vd );",
          "content_same": false
        },
        {
          "line": 229,
          "old_api": "WinSetWindowPtr",
          "new_api": "WinSubclassWindow",
          "old_text": "WinSetWindowPtr( sys->client, 0, vd )",
          "new_text": "WinSubclassWindow( sys->frame, MyFrameWndProc )",
          "old_line_content": "    WinSetWindowPtr( sys->client, 0, vd );",
          "new_line_content": "        sys->p_old_frame = WinSubclassWindow( sys->frame, MyFrameWndProc );",
          "content_same": false
        },
        {
          "line": 237,
          "old_api": "var_CreateGetString",
          "new_api": "strcmp",
          "old_text": "var_CreateGetString( vd, \"kva-video-mode\" )",
          "new_text": "strcmp( psz_mode, \"wo\" )",
          "old_line_content": "    psz_mode = var_CreateGetString( vd, \"kva-video-mode\" );",
          "new_line_content": "    else if( strcmp( psz_mode, \"wo\" ) == 0 )",
          "content_same": false
        },
        {
          "line": 244,
          "old_api": "strcmp",
          "new_api": "free",
          "old_text": "strcmp( psz_mode, \"vman\" )",
          "new_text": "free( psz_mode )",
          "old_line_content": "    else if( strcmp( psz_mode, \"vman\" ) == 0 )",
          "new_line_content": "    free( psz_mode );",
          "content_same": false
        },
        {
          "line": 246,
          "old_api": "strcmp",
          "new_api": "kvaInit",
          "old_text": "strcmp( psz_mode, \"dive\" )",
          "new_text": "kvaInit( i_kva_mode, sys->client, COLOR_KEY )",
          "old_line_content": "    else if( strcmp( psz_mode, \"dive\" ) == 0 )",
          "new_line_content": "    if( kvaInit( i_kva_mode, sys->client, COLOR_KEY ))",
          "content_same": false
        },
        {
          "line": 253,
          "old_api": "msg_Err",
          "new_api": "kvaCaps",
          "old_text": "msg_Err( vd, \"cannot initialize KVA\")",
          "new_text": "kvaCaps( &sys->kvac )",
          "old_line_content": "        msg_Err( vd, \"cannot initialize KVA\");",
          "new_line_content": "    kvaCaps( &sys->kvac );",
          "content_same": false
        },
        {
          "line": 258,
          "old_api": "kvaCaps",
          "new_api": "OpenDisplay",
          "old_text": "kvaCaps( &sys->kvac )",
          "new_text": "OpenDisplay( vd, &fmt )",
          "old_line_content": "    kvaCaps( &sys->kvac );",
          "new_line_content": "    if( OpenDisplay( vd, &fmt ) )",
          "content_same": false
        },
        {
          "line": 260,
          "old_api": "msg_Dbg",
          "new_api": "msg_Err",
          "old_text": "msg_Dbg( vd, \"selected video mode = %s\",\n             psz_video_mode[ sys->kvac.ulMode - 1 ])",
          "new_text": "msg_Err( vd, \"cannot open display\")",
          "old_line_content": "    msg_Dbg( vd, \"selected video mode = %s\",",
          "new_line_content": "        msg_Err( vd, \"cannot open display\");",
          "content_same": false
        },
        {
          "line": 292,
          "old_api": "WinSetVisibleRegionNotify",
          "new_api": "WinGetMsg",
          "old_text": "WinSetVisibleRegionNotify( sys->frame, TRUE )",
          "new_text": "WinGetMsg( sys->hab, &qm, NULLHANDLE, 0, 0 )",
          "old_line_content": "        WinSetVisibleRegionNotify( sys->frame, TRUE );",
          "new_line_content": "    while( WinGetMsg( sys->hab, &qm, NULLHANDLE, 0, 0 ))",
          "content_same": false
        },
        {
          "line": 298,
          "old_api": "WinSetVisibleRegionNotify",
          "new_api": "kvaEnableScreenSaver",
          "old_text": "WinSetVisibleRegionNotify( sys->frame, FALSE )",
          "new_text": "kvaEnableScreenSaver()",
          "old_line_content": "        WinSetVisibleRegionNotify( sys->frame, FALSE );",
          "new_line_content": "    kvaEnableScreenSaver();",
          "content_same": false
        },
        {
          "line": 300,
          "old_api": "kvaEnableScreenSaver",
          "new_api": "CloseDisplay",
          "old_text": "kvaEnableScreenSaver()",
          "new_text": "CloseDisplay( vd )",
          "old_line_content": "    kvaEnableScreenSaver();",
          "new_line_content": "    CloseDisplay( vd );",
          "content_same": false
        },
        {
          "line": 311,
          "old_api": "WinSubclassWindow",
          "new_api": "WinDestroyWindow",
          "old_text": "WinSubclassWindow( sys->frame, sys->p_old_frame )",
          "new_text": "WinDestroyWindow( sys->frame )",
          "old_line_content": "        WinSubclassWindow( sys->frame, sys->p_old_frame );",
          "new_line_content": "    WinDestroyWindow( sys->frame );",
          "content_same": false
        },
        {
          "line": 317,
          "old_api": "WinShowPointer",
          "new_api": "WinDestroyMsgQueue",
          "old_text": "WinShowPointer( HWND_DESKTOP, TRUE )",
          "new_text": "WinDestroyMsgQueue( sys->hmq )",
          "old_line_content": "        WinShowPointer( HWND_DESKTOP, TRUE );",
          "new_line_content": "    WinDestroyMsgQueue( sys->hmq );",
          "content_same": false
        },
        {
          "line": 338,
          "old_api": "VLC_UNUSED",
          "new_api": "calloc",
          "old_text": "VLC_UNUSED(context)",
          "new_text": "calloc( 1, sizeof( *sys ))",
          "old_line_content": "    VLC_UNUSED(context);",
          "new_line_content": "    vd->sys = sys = calloc( 1, sizeof( *sys ));",
          "content_same": false
        },
        {
          "line": 344,
          "old_api": "DosCreateEventSem",
          "new_api": "_beginthread",
          "old_text": "DosCreateEventSem( NULL, &sys->ack_event, 0, FALSE )",
          "new_text": "_beginthread( PMThread, NULL, 1024 * 1024, &init )",
          "old_line_content": "    DosCreateEventSem( NULL, &sys->ack_event, 0, FALSE );",
          "new_line_content": "    sys->tid = _beginthread( PMThread, NULL, 1024 * 1024, &init );",
          "content_same": false
        },
        {
          "line": 351,
          "old_api": "DosCloseEventSem",
          "new_api": "free",
          "old_text": "DosCloseEventSem( sys->ack_event )",
          "new_text": "free( sys )",
          "old_line_content": "        DosCloseEventSem( sys->ack_event );",
          "new_line_content": "        free( sys );",
          "content_same": false
        },
        {
          "line": 371,
          "old_api": "WinPostQueueMsg",
          "new_api": "DosWaitThread",
          "old_text": "WinPostQueueMsg( sys->hmq, WM_QUIT, 0, 0 )",
          "new_text": "DosWaitThread( &sys->tid, DCWW_WAIT )",
          "old_line_content": "    WinPostQueueMsg( sys->hmq, WM_QUIT, 0, 0 );",
          "new_line_content": "    DosWaitThread( &sys->tid, DCWW_WAIT );",
          "content_same": false
        },
        {
          "line": 376,
          "old_api": "picture_pool_Release",
          "new_api": "DosCloseEventSem",
          "old_text": "picture_pool_Release( sys->pool )",
          "new_text": "DosCloseEventSem( sys->ack_event )",
          "old_line_content": "        picture_pool_Release( sys->pool );",
          "new_line_content": "    DosCloseEventSem( sys->ack_event );",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": "DosCloseEventSem",
          "new_api": "free",
          "old_text": "DosCloseEventSem( sys->ack_event )",
          "new_text": "free( sys )",
          "old_line_content": "    DosCloseEventSem( sys->ack_event );",
          "new_line_content": "    free( sys );",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": "va_arg",
          "new_api": "MPFROMLONG",
          "old_text": "va_arg(args, int)",
          "new_text": "MPFROMLONG(fs)",
          "old_line_content": "        bool fs = va_arg(args, int);",
          "new_line_content": "        WinPostMsg( sys->client, WM_VLC_FULLSCREEN_CHANGE, MPFROMLONG(fs), 0 );",
          "content_same": false
        },
        {
          "line": 444,
          "old_api": "va_arg",
          "new_api": "WinPostMsg",
          "old_text": "va_arg(args, const vout_display_cfg_t *)",
          "new_text": "WinPostMsg( sys->client, WM_VLC_SIZE_CHANGE,\n                    MPFROMLONG( cfg->display.width ),\n                    MPFROMLONG( cfg->display.height ))",
          "old_line_content": "        const vout_display_cfg_t *cfg = va_arg(args, const vout_display_cfg_t *);",
          "new_line_content": "        WinPostMsg( sys->client, WM_VLC_SIZE_CHANGE,",
          "content_same": false
        },
        {
          "line": 446,
          "old_api": "WinPostMsg",
          "new_api": "MPFROMLONG",
          "old_text": "WinPostMsg( sys->client, WM_VLC_SIZE_CHANGE,\n                    MPFROMLONG( cfg->display.width ),\n                    MPFROMLONG( cfg->display.height ))",
          "new_text": "MPFROMLONG( cfg->display.height )",
          "old_line_content": "        WinPostMsg( sys->client, WM_VLC_SIZE_CHANGE,",
          "new_line_content": "                    MPFROMLONG( cfg->display.height ));",
          "content_same": false
        },
        {
          "line": 607,
          "old_api": "kvaSetup",
          "new_api": "msg_Err",
          "old_text": "kvaSetup( &sys->kvas )",
          "new_text": "msg_Err( vd, \"cannot set up KVA\")",
          "old_line_content": "    if( kvaSetup( &sys->kvas ))",
          "new_line_content": "        msg_Err( vd, \"cannot set up KVA\");",
          "content_same": false
        },
        {
          "line": 645,
          "old_api": "var_InheritString",
          "new_api": "asprintf",
          "old_text": "var_InheritString( vd, \"video-title\" )",
          "new_text": "asprintf( &title, VOUT_TITLE \" (%4.4s to %4.4s - %s mode KVA output)\",\n                  (char *)&vd->fmt.i_chroma, (char *)&sys->kvas.fccSrcColor,\n                  psz_video_mode[sys->kvac.ulMode - 1] )",
          "old_line_content": "    char *title = var_InheritString( vd, \"video-title\" );",
          "new_line_content": "     || asprintf( &title, VOUT_TITLE \" (%4.4s to %4.4s - %s mode KVA output)\",",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": "WinCalcFrameRect",
          "new_api": "WinSetWindowPos",
          "old_text": "WinCalcFrameRect( sys->frame, &rcl, FALSE)",
          "new_text": "WinSetWindowPos( sys->frame, HWND_TOP,\n                     rcl.xLeft, rcl.yBottom,\n                     rcl.xRight - rcl.xLeft, rcl.yTop - rcl.yBottom,\n                     SWP_MOVE | SWP_SIZE | SWP_ZORDER | SWP_SHOW |\n                     SWP_ACTIVATE )",
          "old_line_content": "    WinCalcFrameRect( sys->frame, &rcl, FALSE);",
          "new_line_content": "    WinSetWindowPos( sys->frame, HWND_TOP,",
          "content_same": false
        },
        {
          "line": 727,
          "old_api": "VLC_UNUSED",
          "new_api": "kvaUnlockBuffer",
          "old_text": "VLC_UNUSED( picture )",
          "new_text": "kvaUnlockBuffer()",
          "old_line_content": "    VLC_UNUSED( picture );",
          "new_line_content": "    kvaUnlockBuffer();",
          "content_same": false
        },
        {
          "line": 943,
          "old_api": "WinSetCapture",
          "new_api": "vout_display_SendEventMouseReleased",
          "old_text": "WinSetCapture( HWND_DESKTOP, NULLHANDLE )",
          "new_text": "vout_display_SendEventMouseReleased( vd, button )",
          "old_line_content": "        WinSetCapture( HWND_DESKTOP, NULLHANDLE );",
          "new_line_content": "    vout_display_SendEventMouseReleased( vd, button );",
          "content_same": false
        },
        {
          "line": 1009,
          "old_api": "vout_display_SendEventMouseMoved",
          "new_api": "WinDefWindowProc",
          "old_text": "vout_display_SendEventMouseMoved(vd, x, y)",
          "new_text": "WinDefWindowProc( hwnd, msg, mp1,mp2 )",
          "old_line_content": "            vout_display_SendEventMouseMoved(vd, x, y);",
          "new_line_content": "            result = WinDefWindowProc( hwnd, msg, mp1,mp2 );",
          "content_same": false
        },
        {
          "line": 1050,
          "old_api": "SHORT1FROMMP",
          "new_api": "SHORT2FROMMP",
          "old_text": "SHORT1FROMMP( mp1 )",
          "new_text": "SHORT2FROMMP( mp2 )",
          "old_line_content": "            USHORT i_flags = SHORT1FROMMP( mp1 );",
          "new_line_content": "            USHORT i_vk    = SHORT2FROMMP( mp2 );",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": "ConvertKey",
          "new_api": "tolower",
          "old_text": "ConvertKey( i_vk )",
          "new_text": "tolower( i_ch )",
          "old_line_content": "                    i_key = ConvertKey( i_vk );",
          "new_line_content": "                    i_key = tolower( i_ch );",
          "content_same": false
        },
        {
          "line": 1111,
          "old_api": "LONGFROMMP",
          "new_api": "WinQueryWindowPos",
          "old_text": "LONGFROMMP( mp1 )",
          "new_text": "WinQueryWindowPos( sys->frame, &swp )",
          "old_line_content": "            if( LONGFROMMP( mp1 ))",
          "new_line_content": "                WinQueryWindowPos( sys->frame, &swp );",
          "content_same": false
        },
        {
          "line": 1128,
          "old_api": "WinCalcFrameRect",
          "new_api": "WinSetWindowPos",
          "old_text": "WinCalcFrameRect( sys->frame, &rcl, FALSE )",
          "new_text": "WinSetWindowPos( sys->frame, HWND_TOP,\n                             rcl.xLeft, rcl.yBottom,\n                             rcl.xRight - rcl.xLeft, rcl.yTop - rcl.yBottom,\n                             SWP_MOVE | SWP_SIZE | SWP_ZORDER | SWP_SHOW |\n                             SWP_ACTIVATE )",
          "old_line_content": "            WinCalcFrameRect( sys->frame, &rcl, FALSE );",
          "new_line_content": "            WinSetWindowPos( sys->frame, HWND_TOP,",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": "LONGFROMMP",
          "new_api": "WinCalcFrameRect",
          "old_text": "LONGFROMMP( mp1 )",
          "new_text": "WinCalcFrameRect( sys->frame, &rcl, FALSE )",
          "old_line_content": "            rcl.xRight  = LONGFROMMP( mp1 );",
          "new_line_content": "            WinCalcFrameRect( sys->frame, &rcl, FALSE );",
          "content_same": false
        },
        {
          "line": 1143,
          "old_api": "WinCalcFrameRect",
          "new_api": "WinSetWindowPos",
          "old_text": "WinCalcFrameRect( sys->frame, &rcl, FALSE )",
          "new_text": "WinSetWindowPos( sys->frame, NULLHANDLE,\n                             0, 0,\n                             rcl.xRight - rcl.xLeft, rcl.yTop - rcl.yBottom,\n                             SWP_SIZE )",
          "old_line_content": "            WinCalcFrameRect( sys->frame, &rcl, FALSE );",
          "new_line_content": "            WinSetWindowPos( sys->frame, NULLHANDLE,",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": "WinCalcFrameRect",
          "new_api": "WinSetWindowPos",
          "old_text": "WinCalcFrameRect( sys->frame, &rcl, FALSE )",
          "new_text": "WinSetWindowPos( sys->frame, NULLHANDLE,\n                             rcl.xLeft, rcl.yBottom,\n                             rcl.xRight - rcl.xLeft, rcl.yTop - rcl.yBottom,\n                             SWP_SIZE | SWP_MOVE )",
          "old_line_content": "            WinCalcFrameRect( sys->frame, &rcl, FALSE );",
          "new_line_content": "            WinSetWindowPos( sys->frame, NULLHANDLE,",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 512,
          "old_api": null,
          "new_api": "msg_Dbg",
          "old_text": null,
          "new_text": "msg_Dbg( vd, \"render chroma = %4.4s\", ( const char * )&fmt->i_chroma )",
          "old_line_content": "    int w, h;",
          "new_line_content": "    msg_Dbg( vd, \"render chroma = %4.4s\", ( const char * )&fmt->i_chroma );",
          "content_same": false
        },
        {
          "line": 1026,
          "old_api": null,
          "new_api": "MouseReleased",
          "old_text": null,
          "new_text": "MouseReleased( vd, MOUSE_BUTTON_LEFT )",
          "old_line_content": "",
          "new_line_content": "            MouseReleased( vd, MOUSE_BUTTON_LEFT );",
          "content_same": false
        },
        {
          "line": 516,
          "old_api": null,
          "new_api": "vlc_fourcc_GetYUVFallback",
          "old_text": null,
          "new_text": "vlc_fourcc_GetYUVFallback( fmt->i_chroma )",
          "old_line_content": "    for( int pass = 0; pass < 2 && !b_hw_accel; pass++ )",
          "new_line_content": "        fallback = ( pass == 0 ) ? vlc_fourcc_GetYUVFallback( fmt->i_chroma ) :",
          "content_same": false
        },
        {
          "line": 517,
          "old_api": null,
          "new_api": "vlc_fourcc_GetRGBFallback",
          "old_text": null,
          "new_text": "vlc_fourcc_GetRGBFallback( fmt->i_chroma )",
          "old_line_content": "    {",
          "new_line_content": "                                   vlc_fourcc_GetRGBFallback( fmt->i_chroma );",
          "content_same": false
        },
        {
          "line": 1030,
          "old_api": null,
          "new_api": "MouseReleased",
          "old_text": null,
          "new_text": "MouseReleased( vd, MOUSE_BUTTON_RIGHT )",
          "old_line_content": "",
          "new_line_content": "            MouseReleased( vd, MOUSE_BUTTON_RIGHT );",
          "content_same": false
        },
        {
          "line": 1034,
          "old_api": null,
          "new_api": "MouseReleased",
          "old_text": null,
          "new_text": "MouseReleased( vd, MOUSE_BUTTON_CENTER )",
          "old_line_content": "",
          "new_line_content": "            MouseReleased( vd, MOUSE_BUTTON_CENTER );",
          "content_same": false
        },
        {
          "line": 1038,
          "old_api": null,
          "new_api": "vout_display_SendEventMouseDoubleClick",
          "old_text": null,
          "new_text": "vout_display_SendEventMouseDoubleClick(vd)",
          "old_line_content": "",
          "new_line_content": "            vout_display_SendEventMouseDoubleClick(vd);",
          "content_same": false
        },
        {
          "line": 1048,
          "old_api": null,
          "new_api": "SHORT1FROMMP",
          "old_text": null,
          "new_text": "SHORT1FROMMP( mp1 )",
          "old_line_content": "        case WM_CHAR :",
          "new_line_content": "            USHORT i_flags = SHORT1FROMMP( mp1 );",
          "content_same": false
        },
        {
          "line": 1049,
          "old_api": null,
          "new_api": "SHORT1FROMMP",
          "old_text": null,
          "new_text": "SHORT1FROMMP( mp2 )",
          "old_line_content": "        {",
          "new_line_content": "            USHORT i_ch    = SHORT1FROMMP( mp2 );",
          "content_same": false
        },
        {
          "line": 1056,
          "old_api": null,
          "new_api": "WinPostMsg",
          "old_text": null,
          "new_text": "WinPostMsg( sys->parent, msg, mp1, mp2 )",
          "old_line_content": "            if( sys->parent_window )",
          "new_line_content": "                WinPostMsg( sys->parent, msg, mp1, mp2 );",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": null,
          "new_api": "ConvertKey",
          "old_text": null,
          "new_text": "ConvertKey( i_vk )",
          "old_line_content": "                if( i_flags & KC_VIRTUALKEY )",
          "new_line_content": "                    i_key = ConvertKey( i_vk );",
          "content_same": false
        },
        {
          "line": 1065,
          "old_api": null,
          "new_api": "HIBYTE",
          "old_text": null,
          "new_text": "HIBYTE( i_ch )",
          "old_line_content": "                    /* convert the key if possible */",
          "new_line_content": "                else if(( i_flags & KC_CHAR ) && !HIBYTE( i_ch ))",
          "content_same": false
        },
        {
          "line": 1079,
          "old_api": null,
          "new_api": "vout_display_SendEventKey",
          "old_text": null,
          "new_text": "vout_display_SendEventKey(vd, i_key)",
          "old_line_content": "                        i_key |= KEY_MODIFIER_ALT;",
          "new_line_content": "                    vout_display_SendEventKey(vd, i_key);",
          "content_same": false
        },
        {
          "line": 1087,
          "old_api": null,
          "new_api": "SHORT1FROMMP",
          "old_text": null,
          "new_text": "SHORT1FROMMP( mp1 )",
          "old_line_content": "        case WM_TIMER :",
          "new_line_content": "                SHORT1FROMMP( mp1 ) == TID_HIDE_MOUSE )",
          "content_same": false
        },
        {
          "line": 576,
          "old_api": null,
          "new_api": "msg_Err",
          "old_text": null,
          "new_text": "msg_Err( vd, \"Ooops. There is no fourcc supported by KVA at all.\")",
          "old_line_content": "    if( !b_hw_accel )",
          "new_line_content": "        msg_Err( vd, \"Ooops. There is no fourcc supported by KVA at all.\");",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": null,
          "new_api": "WinQueryPointerPos",
          "old_text": null,
          "new_text": "WinQueryPointerPos( HWND_DESKTOP, &ptl )",
          "old_line_content": "                POINTL ptl;",
          "new_line_content": "                WinQueryPointerPos( HWND_DESKTOP, &ptl );",
          "content_same": false
        },
        {
          "line": 1092,
          "old_api": null,
          "new_api": "WinWindowFromPoint",
          "old_text": null,
          "new_text": "WinWindowFromPoint( HWND_DESKTOP, &ptl, TRUE )",
          "old_line_content": "",
          "new_line_content": "                if( WinWindowFromPoint( HWND_DESKTOP, &ptl, TRUE )",
          "content_same": false
        },
        {
          "line": 1095,
          "old_api": null,
          "new_api": "WinShowPointer",
          "old_text": null,
          "new_text": "WinShowPointer( HWND_DESKTOP, FALSE )",
          "old_line_content": "                        == sys->client )",
          "new_line_content": "                    WinShowPointer( HWND_DESKTOP, FALSE );",
          "content_same": false
        },
        {
          "line": 586,
          "old_api": null,
          "new_api": "msg_Dbg",
          "old_text": null,
          "new_text": "msg_Dbg( vd, \"output chroma = %4.4s\", ( const char * )&fmt->i_chroma )",
          "old_line_content": "    fmt->i_bmask = sys->kvac.ulBMask;",
          "new_line_content": "    msg_Dbg( vd, \"output chroma = %4.4s\", ( const char * )&fmt->i_chroma );",
          "content_same": false
        },
        {
          "line": 587,
          "old_api": null,
          "new_api": "msg_Dbg",
          "old_text": null,
          "new_text": "msg_Dbg( vd, \"KVA chroma = %4.4s\", ( const char * )&i_kva_fourcc )",
          "old_line_content": "",
          "new_line_content": "    msg_Dbg( vd, \"KVA chroma = %4.4s\", ( const char * )&i_kva_fourcc );",
          "content_same": false
        },
        {
          "line": 1098,
          "old_api": null,
          "new_api": "WinStopTimer",
          "old_text": null,
          "new_text": "WinStopTimer( sys->hab, sys->client, TID_HIDE_MOUSE )",
          "old_line_content": "                    sys->is_mouse_hidden = true;",
          "new_line_content": "                    WinStopTimer( sys->hab, sys->client, TID_HIDE_MOUSE );",
          "content_same": false
        },
        {
          "line": 1109,
          "old_api": null,
          "new_api": "LONGFROMMP",
          "old_text": null,
          "new_text": "LONGFROMMP( mp1 )",
          "old_line_content": "        /* Fullscreen change */",
          "new_line_content": "            if( LONGFROMMP( mp1 ))",
          "content_same": false
        },
        {
          "line": 1116,
          "old_api": null,
          "new_api": "WinCalcFrameRect",
          "old_text": null,
          "new_text": "WinCalcFrameRect( sys->frame, &sys->client_rect, TRUE )",
          "old_line_content": "                sys->client_rect.xRight  = sys->client_rect.xLeft   + swp.cx;",
          "new_line_content": "                WinCalcFrameRect( sys->frame, &sys->client_rect, TRUE );",
          "content_same": false
        },
        {
          "line": 605,
          "old_api": null,
          "new_api": "kvaSetup",
          "old_text": null,
          "new_text": "kvaSetup( &sys->kvas )",
          "old_line_content": "    sys->kvas.fDither            = TRUE;",
          "new_line_content": "    if( kvaSetup( &sys->kvas ))",
          "content_same": false
        },
        {
          "line": 613,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc( sizeof( *picsys ) )",
          "old_line_content": "",
          "new_line_content": "    picture_sys_t *picsys = malloc( sizeof( *picsys ) );",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": null,
          "new_api": "WinCalcFrameRect",
          "old_text": null,
          "new_text": "WinCalcFrameRect( sys->frame, &rcl, FALSE )",
          "old_line_content": "                rcl = sys->client_rect;",
          "new_line_content": "            WinCalcFrameRect( sys->frame, &rcl, FALSE );",
          "content_same": false
        },
        {
          "line": 621,
          "old_api": null,
          "new_api": "picture_NewFromResource",
          "old_text": null,
          "new_text": "picture_NewFromResource( fmt, &resource )",
          "old_line_content": "        .p_sys = picsys, .pf_destroy = DestroyPicture,",
          "new_line_content": "    picture_t *picture = picture_NewFromResource( fmt, &resource );",
          "content_same": false
        },
        {
          "line": 624,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( picsys )",
          "old_line_content": "    if( !picture )",
          "new_line_content": "        free( picsys );",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": null,
          "new_api": "LONGFROMMP",
          "old_text": null,
          "new_text": "LONGFROMMP( mp1 )",
          "old_line_content": "            rcl.xLeft   = 0;",
          "new_line_content": "            rcl.xRight  = LONGFROMMP( mp1 );",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": null,
          "new_api": "LONGFROMMP",
          "old_text": null,
          "new_text": "LONGFROMMP( mp2 )",
          "old_line_content": "            rcl.yBottom = 0;",
          "new_line_content": "            rcl.yTop    = LONGFROMMP( mp2 );",
          "content_same": false
        },
        {
          "line": 630,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset( &pool_cfg, 0, sizeof( pool_cfg ))",
          "old_line_content": "    /* Wrap it into a picture pool */",
          "new_line_content": "    memset( &pool_cfg, 0, sizeof( pool_cfg ));",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": null,
          "new_api": "WinQueryWindowPos",
          "old_text": null,
          "new_text": "WinQueryWindowPos( sys->frame, &swp )",
          "old_line_content": "                             SWP_SIZE );",
          "new_line_content": "            WinQueryWindowPos( sys->frame, &swp );",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": null,
          "new_api": "picture_pool_NewExtended",
          "old_text": null,
          "new_text": "picture_pool_NewExtended( &pool_cfg )",
          "old_line_content": "    pool_cfg.unlock        = KVAUnlock;",
          "new_line_content": "    sys->pool = picture_pool_NewExtended( &pool_cfg );",
          "content_same": false
        },
        {
          "line": 639,
          "old_api": null,
          "new_api": "picture_Release",
          "old_text": null,
          "new_text": "picture_Release( picture )",
          "old_line_content": "    if( !sys->pool )",
          "new_line_content": "        picture_Release( picture );",
          "content_same": false
        },
        {
          "line": 1153,
          "old_api": null,
          "new_api": "WinCalcFrameRect",
          "old_text": null,
          "new_text": "WinCalcFrameRect( sys->frame, &sys->client_rect, TRUE )",
          "old_line_content": "            sys->client_rect.xRight  = sys->client_rect.xLeft   + swp.cx;",
          "new_line_content": "            WinCalcFrameRect( sys->frame, &sys->client_rect, TRUE );",
          "content_same": false
        },
        {
          "line": 643,
          "old_api": null,
          "new_api": "var_InheritString",
          "old_text": null,
          "new_text": "var_InheritString( vd, \"video-title\" )",
          "old_line_content": "    }",
          "new_line_content": "    char *title = var_InheritString( vd, \"video-title\" );",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": null,
          "new_api": "WinDefWindowProc",
          "old_text": null,
          "new_text": "WinDefWindowProc( hwnd, msg, mp1, mp2 )",
          "old_line_content": "",
          "new_line_content": "            return WinDefWindowProc( hwnd, msg, mp1, mp2 );",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": null,
          "new_api": "WinSetWindowText",
          "old_text": null,
          "new_text": "WinSetWindowText( sys->frame, title )",
          "old_line_content": "                  psz_video_mode[sys->kvac.ulMode - 1] ) >= 0)",
          "new_line_content": "        WinSetWindowText( sys->frame, title );",
          "content_same": false
        },
        {
          "line": 650,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( title )",
          "old_line_content": "    {",
          "new_line_content": "        free( title );",
          "content_same": false
        },
        {
          "line": 654,
          "old_api": null,
          "new_api": "var_InheritInteger",
          "old_text": null,
          "new_text": "var_InheritInteger( vd, \"mouse-hide-timeout\" )",
          "old_line_content": "",
          "new_line_content": "        ( ULONG )var_InheritInteger( vd, \"mouse-hide-timeout\" );",
          "content_same": false
        },
        {
          "line": 655,
          "old_api": null,
          "new_api": "WinStartTimer",
          "old_text": null,
          "new_text": "WinStartTimer( sys->hab, sys->client, TID_HIDE_MOUSE,\n                   sys->cursor_timeout )",
          "old_line_content": "    sys->cursor_timeout =",
          "new_line_content": "    WinStartTimer( sys->hab, sys->client, TID_HIDE_MOUSE,",
          "content_same": false
        },
        {
          "line": 1166,
          "old_api": null,
          "new_api": "WinQueryWindowRect",
          "old_text": null,
          "new_text": "WinQueryWindowRect( sys->parent, &rcl )",
          "old_line_content": "        RECTL rect;",
          "new_line_content": "        WinQueryWindowRect( sys->parent, &rcl );",
          "content_same": false
        },
        {
          "line": 1167,
          "old_api": null,
          "new_api": "WinQueryWindowRect",
          "old_text": null,
          "new_text": "WinQueryWindowRect( sys->client, &rect)",
          "old_line_content": "",
          "new_line_content": "        WinQueryWindowRect( sys->client, &rect);",
          "content_same": false
        },
        {
          "line": 658,
          "old_api": null,
          "new_api": "WinQuerySysValue",
          "old_text": null,
          "new_text": "WinQuerySysValue( HWND_DESKTOP, SV_CXSCREEN )",
          "old_line_content": "                   sys->cursor_timeout );",
          "new_line_content": "    sys->i_screen_width  = WinQuerySysValue( HWND_DESKTOP, SV_CXSCREEN );",
          "content_same": false
        },
        {
          "line": 659,
          "old_api": null,
          "new_api": "WinQuerySysValue",
          "old_text": null,
          "new_text": "WinQuerySysValue( HWND_DESKTOP, SV_CYSCREEN )",
          "old_line_content": "",
          "new_line_content": "    sys->i_screen_height = WinQuerySysValue( HWND_DESKTOP, SV_CYSCREEN );",
          "content_same": false
        },
        {
          "line": 662,
          "old_api": null,
          "new_api": "WinQueryWindowRect",
          "old_text": null,
          "new_text": "WinQueryWindowRect( sys->parent, &sys->client_rect )",
          "old_line_content": "",
          "new_line_content": "        WinQueryWindowRect( sys->parent, &sys->client_rect );",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": null,
          "new_api": "WinCalcFrameRect",
          "old_text": null,
          "new_text": "WinCalcFrameRect( sys->frame, &rcl, FALSE )",
          "old_line_content": "            rcl.yTop    != rect.yTop)",
          "new_line_content": "            WinCalcFrameRect( sys->frame, &rcl, FALSE );",
          "content_same": false
        },
        {
          "line": 673,
          "old_api": null,
          "new_api": "WinCalcFrameRect",
          "old_text": null,
          "new_text": "WinCalcFrameRect( sys->frame, &rcl, FALSE)",
          "old_line_content": "    rcl = sys->client_rect;",
          "new_line_content": "    WinCalcFrameRect( sys->frame, &rcl, FALSE);",
          "content_same": false
        },
        {
          "line": 170,
          "old_api": null,
          "new_api": "MorphToPM",
          "old_text": null,
          "new_text": "MorphToPM()",
          "old_line_content": "    vout_display_info_t info = vd->info;",
          "new_line_content": "    MorphToPM();",
          "content_same": false
        },
        {
          "line": 172,
          "old_api": null,
          "new_api": "WinInitialize",
          "old_text": null,
          "new_text": "WinInitialize( 0 )",
          "old_line_content": "    info.has_double_click = true;",
          "new_line_content": "    sys->hab = WinInitialize( 0 );",
          "content_same": false
        },
        {
          "line": 173,
          "old_api": null,
          "new_api": "WinCreateMsgQueue",
          "old_text": null,
          "new_text": "WinCreateMsgQueue( sys->hab, 0)",
          "old_line_content": "    info.has_pictures_invalid = false;",
          "new_line_content": "    sys->hmq = WinCreateMsgQueue( sys->hab, 0);",
          "content_same": false
        },
        {
          "line": 692,
          "old_api": null,
          "new_api": "VLC_UNUSED",
          "old_text": null,
          "new_text": "VLC_UNUSED( vd )",
          "old_line_content": "static void CloseDisplay( vout_display_t *vd )",
          "new_line_content": "    VLC_UNUSED( vd );",
          "content_same": false
        },
        {
          "line": 181,
          "old_api": null,
          "new_api": "var_CreateGetBool",
          "old_text": null,
          "new_text": "var_CreateGetBool( vd, \"kva-fixt23\")",
          "old_line_content": "                      WC_VLC_KVA,",
          "new_line_content": "    sys->b_fixt23 = var_CreateGetBool( vd, \"kva-fixt23\");",
          "content_same": false
        },
        {
          "line": 701,
          "old_api": null,
          "new_api": "kvaLockBuffer",
          "old_text": null,
          "new_text": "kvaLockBuffer( &kva_buffer, &kva_bpl )",
          "old_line_content": "    ULONG kva_bpl;",
          "new_line_content": "    if( kvaLockBuffer( &kva_buffer, &kva_bpl ))",
          "content_same": false
        },
        {
          "line": 192,
          "old_api": null,
          "new_api": "WinQueryWindowULong",
          "old_text": null,
          "new_text": "WinQueryWindowULong( sys->parent, QWL_STYLE )",
          "old_line_content": "",
          "new_line_content": "        ULONG i_style = WinQueryWindowULong( sys->parent, QWL_STYLE );",
          "content_same": false
        },
        {
          "line": 193,
          "old_api": null,
          "new_api": "WinSetWindowULong",
          "old_text": null,
          "new_text": "WinSetWindowULong( sys->parent, QWL_STYLE,\n                           i_style | WS_CLIPCHILDREN )",
          "old_line_content": "    if( sys->parent_window )",
          "new_line_content": "        WinSetWindowULong( sys->parent, QWL_STYLE,",
          "content_same": false
        },
        {
          "line": 207,
          "old_api": null,
          "new_api": "WinCreateStdWindow",
          "old_text": null,
          "new_text": "WinCreateStdWindow( sys->parent,      /* parent window handle */\n                            WS_VISIBLE,       /* frame window style */\n                            &i_frame_flags,   /* window style */\n                            WC_VLC_KVA,       /* class name */\n                            \"\",               /* window title */\n                            0L,               /* default client style */\n                            NULLHANDLE,       /* resource in exe file */\n                            1,                /* frame window id */\n                            &sys->client )",
          "old_line_content": "        i_frame_flags = FCF_SYSMENU    | FCF_TITLEBAR | FCF_MINMAX |",
          "new_line_content": "        WinCreateStdWindow( sys->parent,      /* parent window handle */",
          "content_same": false
        },
        {
          "line": 725,
          "old_api": null,
          "new_api": "VLC_UNUSED",
          "old_text": null,
          "new_text": "VLC_UNUSED( picture )",
          "old_line_content": "static void KVAUnlock( picture_t *picture )",
          "new_line_content": "    VLC_UNUSED( picture );",
          "content_same": false
        },
        {
          "line": 219,
          "old_api": null,
          "new_api": "msg_Err",
          "old_text": null,
          "new_text": "msg_Err( vd, \"cannot create a frame window\")",
          "old_line_content": "                            1,                /* frame window id */",
          "new_line_content": "        msg_Err( vd, \"cannot create a frame window\");",
          "content_same": false
        },
        {
          "line": 734,
          "old_api": null,
          "new_api": "DosGetInfoBlocks",
          "old_text": null,
          "new_text": "DosGetInfoBlocks(NULL, &pib)",
          "old_line_content": "    PPIB pib;",
          "new_line_content": "    DosGetInfoBlocks(NULL, &pib);",
          "content_same": false
        },
        {
          "line": 228,
          "old_api": null,
          "new_api": "WinSetWindowPtr",
          "old_text": null,
          "new_text": "WinSetWindowPtr( sys->frame, 0, vd )",
          "old_line_content": "",
          "new_line_content": "        WinSetWindowPtr( sys->frame, 0, vd );",
          "content_same": false
        },
        {
          "line": 232,
          "old_api": null,
          "new_api": "var_CreateGetString",
          "old_text": null,
          "new_text": "var_CreateGetString( vd, \"kva-video-mode\" )",
          "old_line_content": "    {",
          "new_line_content": "    psz_mode = var_CreateGetString( vd, \"kva-video-mode\" );",
          "content_same": false
        },
        {
          "line": 235,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp( psz_mode, \"snap\" )",
          "old_line_content": "    }",
          "new_line_content": "    if( strcmp( psz_mode, \"snap\" ) == 0 )",
          "content_same": false
        },
        {
          "line": 239,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp( psz_mode, \"vman\" )",
          "old_line_content": "    i_kva_mode = KVAM_AUTO;",
          "new_line_content": "    else if( strcmp( psz_mode, \"vman\" ) == 0 )",
          "content_same": false
        },
        {
          "line": 241,
          "old_api": null,
          "new_api": "strcmp",
          "old_text": null,
          "new_text": "strcmp( psz_mode, \"dive\" )",
          "old_line_content": "        i_kva_mode = KVAM_SNAP;",
          "new_line_content": "    else if( strcmp( psz_mode, \"dive\" ) == 0 )",
          "content_same": false
        },
        {
          "line": 248,
          "old_api": null,
          "new_api": "msg_Err",
          "old_text": null,
          "new_text": "msg_Err( vd, \"cannot initialize KVA\")",
          "old_line_content": "",
          "new_line_content": "        msg_Err( vd, \"cannot initialize KVA\");",
          "content_same": false
        },
        {
          "line": 255,
          "old_api": null,
          "new_api": "msg_Dbg",
          "old_text": null,
          "new_text": "msg_Dbg( vd, \"selected video mode = %s\",\n             psz_video_mode[ sys->kvac.ulMode - 1 ])",
          "old_line_content": "        goto exit_kva_init;",
          "new_line_content": "    msg_Dbg( vd, \"selected video mode = %s\",",
          "content_same": false
        },
        {
          "line": 266,
          "old_api": null,
          "new_api": "WinPostMsg",
          "old_text": null,
          "new_text": "WinPostMsg( sys->client, WM_VLC_FULLSCREEN_CHANGE,\n                    MPFROMLONG( true ), 0 )",
          "old_line_content": "",
          "new_line_content": "        WinPostMsg( sys->client, WM_VLC_FULLSCREEN_CHANGE,",
          "content_same": false
        },
        {
          "line": 267,
          "old_api": null,
          "new_api": "MPFROMLONG",
          "old_text": null,
          "new_text": "MPFROMLONG( true )",
          "old_line_content": "        goto exit_open_display;",
          "new_line_content": "                    MPFROMLONG( true ), 0 );",
          "content_same": false
        },
        {
          "line": 269,
          "old_api": null,
          "new_api": "kvaDisableScreenSaver",
          "old_text": null,
          "new_text": "kvaDisableScreenSaver()",
          "old_line_content": "",
          "new_line_content": "    kvaDisableScreenSaver();",
          "content_same": false
        },
        {
          "line": 284,
          "old_api": null,
          "new_api": "_control87",
          "old_text": null,
          "new_text": "_control87(MCW_EM, MCW_EM)",
          "old_line_content": "",
          "new_line_content": "    _control87(MCW_EM, MCW_EM);",
          "content_same": false
        },
        {
          "line": 287,
          "old_api": null,
          "new_api": "DosPostEventSem",
          "old_text": null,
          "new_text": "DosPostEventSem( sys->ack_event )",
          "old_line_content": "",
          "new_line_content": "    DosPostEventSem( sys->ack_event );",
          "content_same": false
        },
        {
          "line": 290,
          "old_api": null,
          "new_api": "WinSetVisibleRegionNotify",
          "old_text": null,
          "new_text": "WinSetVisibleRegionNotify( sys->frame, TRUE )",
          "old_line_content": "",
          "new_line_content": "        WinSetVisibleRegionNotify( sys->frame, TRUE );",
          "content_same": false
        },
        {
          "line": 293,
          "old_api": null,
          "new_api": "WinDispatchMsg",
          "old_text": null,
          "new_text": "WinDispatchMsg( sys->hab, &qm )",
          "old_line_content": "",
          "new_line_content": "        WinDispatchMsg( sys->hab, &qm );",
          "content_same": false
        },
        {
          "line": 296,
          "old_api": null,
          "new_api": "WinSetVisibleRegionNotify",
          "old_text": null,
          "new_text": "WinSetVisibleRegionNotify( sys->frame, FALSE )",
          "old_line_content": "",
          "new_line_content": "        WinSetVisibleRegionNotify( sys->frame, FALSE );",
          "content_same": false
        },
        {
          "line": 305,
          "old_api": null,
          "new_api": "kvaDone",
          "old_text": null,
          "new_text": "kvaDone()",
          "old_line_content": "",
          "new_line_content": "    kvaDone();",
          "content_same": false
        },
        {
          "line": 309,
          "old_api": null,
          "new_api": "WinSubclassWindow",
          "old_text": null,
          "new_text": "WinSubclassWindow( sys->frame, sys->p_old_frame )",
          "old_line_content": "exit_kva_init :",
          "new_line_content": "        WinSubclassWindow( sys->frame, sys->p_old_frame );",
          "content_same": false
        },
        {
          "line": 822,
          "old_api": null,
          "new_api": "WinQueryWindowPtr",
          "old_text": null,
          "new_text": "WinQueryWindowPtr( hwnd, 0 )",
          "old_line_content": "                                        MPARAM mp2 )",
          "new_line_content": "    vout_display_t *vd = WinQueryWindowPtr( hwnd, 0 );",
          "content_same": false
        },
        {
          "line": 315,
          "old_api": null,
          "new_api": "WinShowPointer",
          "old_text": null,
          "new_text": "WinShowPointer( HWND_DESKTOP, TRUE )",
          "old_line_content": "exit_frame :",
          "new_line_content": "        WinShowPointer( HWND_DESKTOP, TRUE );",
          "content_same": false
        },
        {
          "line": 318,
          "old_api": null,
          "new_api": "WinTerminate",
          "old_text": null,
          "new_text": "WinTerminate( sys->hab )",
          "old_line_content": "",
          "new_line_content": "    WinTerminate( sys->hab );",
          "content_same": false
        },
        {
          "line": 831,
          "old_api": null,
          "new_api": "p_old_frame",
          "old_text": null,
          "new_text": "sys->p_old_frame( hwnd, msg, mp1, mp2 )",
          "old_line_content": "            MRESULT mr;",
          "new_line_content": "            mr = sys->p_old_frame( hwnd, msg, mp1, mp2 );",
          "content_same": false
        },
        {
          "line": 321,
          "old_api": null,
          "new_api": "DosPostEventSem",
          "old_text": null,
          "new_text": "DosPostEventSem( sys->ack_event )",
          "old_line_content": "",
          "new_line_content": "    DosPostEventSem( sys->ack_event );",
          "content_same": false
        },
        {
          "line": 843,
          "old_api": null,
          "new_api": "WinCalcFrameRect",
          "old_text": null,
          "new_text": "WinCalcFrameRect( hwnd, &pti->rclBoundary, FALSE )",
          "old_line_content": "            pti->rclBoundary.yTop    = sys->i_screen_height;",
          "new_line_content": "            WinCalcFrameRect( hwnd, &pti->rclBoundary, FALSE );",
          "content_same": false
        },
        {
          "line": 336,
          "old_api": null,
          "new_api": "VLC_UNUSED",
          "old_text": null,
          "new_text": "VLC_UNUSED(context)",
          "old_line_content": "        .fmtp = fmtp,",
          "new_line_content": "    VLC_UNUSED(context);",
          "content_same": false
        },
        {
          "line": 342,
          "old_api": null,
          "new_api": "DosCreateEventSem",
          "old_text": null,
          "new_text": "DosCreateEventSem( NULL, &sys->ack_event, 0, FALSE )",
          "old_line_content": "        return VLC_ENOMEM;",
          "new_line_content": "    DosCreateEventSem( NULL, &sys->ack_event, 0, FALSE );",
          "content_same": false
        },
        {
          "line": 855,
          "old_api": null,
          "new_api": "WinCalcFrameRect",
          "old_text": null,
          "new_text": "WinCalcFrameRect( hwnd, &rcl, FALSE )",
          "old_line_content": "            rcl.yTop    = sys->kvas.szlSrcSize.cy + 1;",
          "new_line_content": "            WinCalcFrameRect( hwnd, &rcl, FALSE );",
          "content_same": false
        },
        {
          "line": 345,
          "old_api": null,
          "new_api": "DosWaitEventSem",
          "old_text": null,
          "new_text": "DosWaitEventSem( sys->ack_event, SEM_INDEFINITE_WAIT )",
          "old_line_content": "",
          "new_line_content": "    DosWaitEventSem( sys->ack_event, SEM_INDEFINITE_WAIT );",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": null,
          "new_api": "MRFROMLONG",
          "old_text": null,
          "new_text": "MRFROMLONG( TRUE )",
          "old_line_content": "            pti->ptlMinTrackSize.y = rcl.yTop - rcl.yBottom;",
          "new_line_content": "            return MRFROMLONG( TRUE );",
          "content_same": false
        },
        {
          "line": 349,
          "old_api": null,
          "new_api": "DosCloseEventSem",
          "old_text": null,
          "new_text": "DosCloseEventSem( sys->ack_event )",
          "old_line_content": "    if( sys->i_result != VLC_SUCCESS )",
          "new_line_content": "        DosCloseEventSem( sys->ack_event );",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": null,
          "new_api": "WinCalcFrameRect",
          "old_text": null,
          "new_text": "WinCalcFrameRect( hwnd, &rcl, TRUE )",
          "old_line_content": "                rcl.yTop    = rcl.yBottom + pswp->cy;",
          "new_line_content": "                WinCalcFrameRect( hwnd, &rcl, TRUE );",
          "content_same": false
        },
        {
          "line": 369,
          "old_api": null,
          "new_api": "WinPostQueueMsg",
          "old_text": null,
          "new_text": "WinPostQueueMsg( sys->hmq, WM_QUIT, 0, 0 )",
          "old_line_content": "    vout_display_sys_t * sys = vd->sys;",
          "new_line_content": "    WinPostQueueMsg( sys->hmq, WM_QUIT, 0, 0 );",
          "content_same": false
        },
        {
          "line": 374,
          "old_api": null,
          "new_api": "picture_pool_Release",
          "old_text": null,
          "new_text": "picture_pool_Release( sys->pool )",
          "old_line_content": "",
          "new_line_content": "        picture_pool_Release( sys->pool );",
          "content_same": false
        },
        {
          "line": 387,
          "old_api": null,
          "new_api": "VLC_UNUSED",
          "old_text": null,
          "new_text": "VLC_UNUSED(count)",
          "old_line_content": "{",
          "new_line_content": "    VLC_UNUSED(count);",
          "content_same": false
        },
        {
          "line": 899,
          "old_api": null,
          "new_api": "WinCalcFrameRect",
          "old_text": null,
          "new_text": "WinCalcFrameRect( hwnd, &rcl, FALSE )",
          "old_line_content": "                }",
          "new_line_content": "                WinCalcFrameRect( hwnd, &rcl, FALSE );",
          "content_same": false
        },
        {
          "line": 401,
          "old_api": null,
          "new_api": "VLC_UNUSED",
          "old_text": null,
          "new_text": "VLC_UNUSED( picture )",
          "old_line_content": "    vout_display_sys_t * sys = vd->sys;",
          "new_line_content": "    VLC_UNUSED( picture );",
          "content_same": false
        },
        {
          "line": 917,
          "old_api": null,
          "new_api": "WinSetWindowPos",
          "old_text": null,
          "new_text": "WinSetWindowPos( hwnd, HWND_TOP, 0, 0, 0, 0, SWP_ZORDER )",
          "old_line_content": "        case WM_VRNENABLED :",
          "new_line_content": "                WinSetWindowPos( hwnd, HWND_TOP, 0, 0, 0, 0, SWP_ZORDER );",
          "content_same": false
        },
        {
          "line": 406,
          "old_api": null,
          "new_api": "WinPostMsg",
          "old_text": null,
          "new_text": "WinPostMsg( sys->client, WM_VLC_MANAGE, 0, 0 )",
          "old_line_content": "     * here, WM_SIZE is not sent to its child window.",
          "new_line_content": "    WinPostMsg( sys->client, WM_VLC_MANAGE, 0, 0 );",
          "content_same": false
        },
        {
          "line": 921,
          "old_api": null,
          "new_api": "p_old_frame",
          "old_text": null,
          "new_text": "sys->p_old_frame( hwnd, msg, mp1, mp2 )",
          "old_line_content": "    }",
          "new_line_content": "    return sys->p_old_frame( hwnd, msg, mp1, mp2 );",
          "content_same": false
        },
        {
          "line": 926,
          "old_api": null,
          "new_api": "WinQueryFocus",
          "old_text": null,
          "new_text": "WinQueryFocus( HWND_DESKTOP )",
          "old_line_content": "static void MousePressed( vout_display_t *vd, HWND hwnd, unsigned button )",
          "new_line_content": "    if( WinQueryFocus( HWND_DESKTOP ) != hwnd )",
          "content_same": false
        },
        {
          "line": 927,
          "old_api": null,
          "new_api": "WinSetFocus",
          "old_text": null,
          "new_text": "WinSetFocus( HWND_DESKTOP, hwnd )",
          "old_line_content": "{",
          "new_line_content": "        WinSetFocus( HWND_DESKTOP, hwnd );",
          "content_same": false
        },
        {
          "line": 930,
          "old_api": null,
          "new_api": "WinSetCapture",
          "old_text": null,
          "new_text": "WinSetCapture( HWND_DESKTOP, hwnd )",
          "old_line_content": "",
          "new_line_content": "        WinSetCapture( HWND_DESKTOP, hwnd );",
          "content_same": false
        },
        {
          "line": 420,
          "old_api": null,
          "new_api": "va_arg",
          "old_text": null,
          "new_text": "va_arg(args, int)",
          "old_line_content": "    case VOUT_DISPLAY_CHANGE_FULLSCREEN:",
          "new_line_content": "        bool fs = va_arg(args, int);",
          "content_same": false
        },
        {
          "line": 934,
          "old_api": null,
          "new_api": "vout_display_SendEventMousePressed",
          "old_text": null,
          "new_text": "vout_display_SendEventMousePressed( vd, button )",
          "old_line_content": "    vd->sys->button_pressed |= 1 << button;",
          "new_line_content": "    vout_display_SendEventMousePressed( vd, button );",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": null,
          "new_api": "va_arg",
          "old_text": null,
          "new_text": "va_arg( args, unsigned )",
          "old_line_content": "    case VOUT_DISPLAY_CHANGE_WINDOW_STATE:",
          "new_line_content": "        const unsigned state = va_arg( args, unsigned );",
          "content_same": false
        },
        {
          "line": 941,
          "old_api": null,
          "new_api": "WinSetCapture",
          "old_text": null,
          "new_text": "WinSetCapture( HWND_DESKTOP, NULLHANDLE )",
          "old_line_content": "    vd->sys->button_pressed &= ~(1 << button);",
          "new_line_content": "        WinSetCapture( HWND_DESKTOP, NULLHANDLE );",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": null,
          "new_api": "WinSetWindowPos",
          "old_text": null,
          "new_text": "WinSetWindowPos( sys->frame, HWND_TOP, 0, 0, 0, 0, SWP_ZORDER )",
          "old_line_content": "",
          "new_line_content": "            WinSetWindowPos( sys->frame, HWND_TOP, 0, 0, 0, 0, SWP_ZORDER );",
          "content_same": false
        },
        {
          "line": 950,
          "old_api": null,
          "new_api": "WinQueryWindowPtr",
          "old_text": null,
          "new_text": "WinQueryWindowPtr( hwnd, 0 )",
          "old_line_content": "static MRESULT EXPENTRY WndProc( HWND hwnd, ULONG msg, MPARAM mp1, MPARAM mp2 )",
          "new_line_content": "    vout_display_t * vd = WinQueryWindowPtr( hwnd, 0 );",
          "content_same": false
        },
        {
          "line": 442,
          "old_api": null,
          "new_api": "va_arg",
          "old_text": null,
          "new_text": "va_arg(args, const vout_display_cfg_t *)",
          "old_line_content": "    case VOUT_DISPLAY_CHANGE_ZOOM:",
          "new_line_content": "        const vout_display_cfg_t *cfg = va_arg(args, const vout_display_cfg_t *);",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": null,
          "new_api": "WinDefWindowProc",
          "old_text": null,
          "new_text": "WinDefWindowProc( hwnd, msg, mp1, mp2 )",
          "old_line_content": "",
          "new_line_content": "        return WinDefWindowProc( hwnd, msg, mp1, mp2 );",
          "content_same": false
        },
        {
          "line": 445,
          "old_api": null,
          "new_api": "MPFROMLONG",
          "old_text": null,
          "new_text": "MPFROMLONG( cfg->display.width )",
          "old_line_content": "",
          "new_line_content": "                    MPFROMLONG( cfg->display.width ),",
          "content_same": false
        },
        {
          "line": 965,
          "old_api": null,
          "new_api": "WinShowPointer",
          "old_text": null,
          "new_text": "WinShowPointer(HWND_DESKTOP, TRUE)",
          "old_line_content": "           msg == WM_MOUSELEAVE))",
          "new_line_content": "        WinShowPointer(HWND_DESKTOP, TRUE);",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": null,
          "new_api": "vout_display_PlacePicture",
          "old_text": null,
          "new_text": "vout_display_PlacePicture(&place, &vd->source, vd->cfg)",
          "old_line_content": "        {",
          "new_line_content": "            vout_display_PlacePicture(&place, &vd->source, vd->cfg);",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": null,
          "new_api": "WinStartTimer",
          "old_text": null,
          "new_text": "WinStartTimer( sys->hab, sys->client, TID_HIDE_MOUSE,\n                       sys->cursor_timeout )",
          "old_line_content": "        sys->is_mouse_hidden = false;",
          "new_line_content": "        WinStartTimer( sys->hab, sys->client, TID_HIDE_MOUSE,",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": null,
          "new_api": "video_format_ApplyRotation",
          "old_text": null,
          "new_text": "video_format_ApplyRotation(&src_rot, &vd->source)",
          "old_line_content": "        {",
          "new_line_content": "            video_format_ApplyRotation(&src_rot, &vd->source);",
          "content_same": false
        },
        {
          "line": 976,
          "old_api": null,
          "new_api": "vout_display_SendEventClose",
          "old_text": null,
          "new_text": "vout_display_SendEventClose(vd)",
          "old_line_content": "        /* the user wants to close the window */",
          "new_line_content": "            vout_display_SendEventClose(vd);",
          "content_same": false
        },
        {
          "line": 982,
          "old_api": null,
          "new_api": "SHORT1FROMMP",
          "old_text": null,
          "new_text": "SHORT1FROMMP( mp1 )",
          "old_line_content": "        case WM_MOUSEMOVE :",
          "new_line_content": "            SHORT i_mouse_x = SHORT1FROMMP( mp1 );",
          "content_same": false
        },
        {
          "line": 983,
          "old_api": null,
          "new_api": "SHORT2FROMMP",
          "old_text": null,
          "new_text": "SHORT2FROMMP( mp1 )",
          "old_line_content": "        {",
          "new_line_content": "            SHORT i_mouse_y = SHORT2FROMMP( mp1 );",
          "content_same": false
        },
        {
          "line": 474,
          "old_api": null,
          "new_api": "kvaSetup",
          "old_text": null,
          "new_text": "kvaSetup( &sys->kvas )",
          "old_line_content": "        }",
          "new_line_content": "        kvaSetup( &sys->kvas );",
          "content_same": false
        },
        {
          "line": 989,
          "old_api": null,
          "new_api": "kvaAdjustDstRect",
          "old_text": null,
          "new_text": "kvaAdjustDstRect( &sys->kvas.rclSrcRect, &movie_rect )",
          "old_line_content": "",
          "new_line_content": "            kvaAdjustDstRect( &sys->kvas.rclSrcRect, &movie_rect );",
          "content_same": false
        },
        {
          "line": 485,
          "old_api": null,
          "new_api": "msg_Err",
          "old_text": null,
          "new_text": "msg_Err(vd, \"Unsupported query(=%d) in vout display KVA\", query)",
          "old_line_content": "    }",
          "new_line_content": "    msg_Err(vd, \"Unsupported query(=%d) in vout display KVA\", query);",
          "content_same": false
        },
        {
          "line": 493,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( pic->p_sys )",
          "old_line_content": "static void DestroyPicture( picture_t *pic )",
          "new_line_content": "    free( pic->p_sys );",
          "content_same": false
        },
        {
          "line": 1007,
          "old_api": null,
          "new_api": "vout_display_SendEventMouseMoved",
          "old_text": null,
          "new_text": "vout_display_SendEventMouseMoved(vd, x, y)",
          "old_line_content": "            y = ( i_src_height - y ) + sys->kvas.rclSrcRect.yTop;;",
          "new_line_content": "            vout_display_SendEventMouseMoved(vd, x, y);",
          "content_same": false
        },
        {
          "line": 1014,
          "old_api": null,
          "new_api": "MousePressed",
          "old_text": null,
          "new_text": "MousePressed( vd, hwnd, MOUSE_BUTTON_LEFT )",
          "old_line_content": "",
          "new_line_content": "            MousePressed( vd, hwnd, MOUSE_BUTTON_LEFT );",
          "content_same": false
        },
        {
          "line": 1018,
          "old_api": null,
          "new_api": "MousePressed",
          "old_text": null,
          "new_text": "MousePressed( vd, hwnd, MOUSE_BUTTON_RIGHT )",
          "old_line_content": "",
          "new_line_content": "            MousePressed( vd, hwnd, MOUSE_BUTTON_RIGHT );",
          "content_same": false
        },
        {
          "line": 1022,
          "old_api": null,
          "new_api": "MousePressed",
          "old_text": null,
          "new_text": "MousePressed( vd, hwnd, MOUSE_BUTTON_CENTER )",
          "old_line_content": "",
          "new_line_content": "            MousePressed( vd, hwnd, MOUSE_BUTTON_CENTER );",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1024,
          "old_api": "MousePressed",
          "new_api": null,
          "old_text": "MousePressed( vd, hwnd, MOUSE_BUTTON_CENTER )",
          "new_text": null,
          "old_line_content": "            MousePressed( vd, hwnd, MOUSE_BUTTON_CENTER );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 514,
          "old_api": "msg_Dbg",
          "new_api": null,
          "old_text": "msg_Dbg( vd, \"render chroma = %4.4s\", ( const char * )&fmt->i_chroma )",
          "new_text": null,
          "old_line_content": "    msg_Dbg( vd, \"render chroma = %4.4s\", ( const char * )&fmt->i_chroma );",
          "new_line_content": "    for( int pass = 0; pass < 2 && !b_hw_accel; pass++ )",
          "content_same": false
        },
        {
          "line": 1028,
          "old_api": "MouseReleased",
          "new_api": null,
          "old_text": "MouseReleased( vd, MOUSE_BUTTON_LEFT )",
          "new_text": null,
          "old_line_content": "            MouseReleased( vd, MOUSE_BUTTON_LEFT );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 518,
          "old_api": "vlc_fourcc_GetYUVFallback",
          "new_api": null,
          "old_text": "vlc_fourcc_GetYUVFallback( fmt->i_chroma )",
          "new_text": null,
          "old_line_content": "        fallback = ( pass == 0 ) ? vlc_fourcc_GetYUVFallback( fmt->i_chroma ) :",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 519,
          "old_api": "vlc_fourcc_GetRGBFallback",
          "new_api": null,
          "old_text": "vlc_fourcc_GetRGBFallback( fmt->i_chroma )",
          "new_text": null,
          "old_line_content": "                                   vlc_fourcc_GetRGBFallback( fmt->i_chroma );",
          "new_line_content": "        for( int i = 0; fallback[ i ]; i++ )",
          "content_same": false
        },
        {
          "line": 1032,
          "old_api": "MouseReleased",
          "new_api": null,
          "old_text": "MouseReleased( vd, MOUSE_BUTTON_RIGHT )",
          "new_text": null,
          "old_line_content": "            MouseReleased( vd, MOUSE_BUTTON_RIGHT );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1036,
          "old_api": "MouseReleased",
          "new_api": null,
          "old_text": "MouseReleased( vd, MOUSE_BUTTON_CENTER )",
          "new_text": null,
          "old_line_content": "            MouseReleased( vd, MOUSE_BUTTON_CENTER );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1040,
          "old_api": "vout_display_SendEventMouseDoubleClick",
          "new_api": null,
          "old_text": "vout_display_SendEventMouseDoubleClick(vd)",
          "new_text": null,
          "old_line_content": "            vout_display_SendEventMouseDoubleClick(vd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": "SHORT1FROMMP",
          "new_api": null,
          "old_text": "SHORT1FROMMP( mp2 )",
          "new_text": null,
          "old_line_content": "            USHORT i_ch    = SHORT1FROMMP( mp2 );",
          "new_line_content": "            int    i_key   = 0;",
          "content_same": false
        },
        {
          "line": 1052,
          "old_api": "SHORT2FROMMP",
          "new_api": null,
          "old_text": "SHORT2FROMMP( mp2 )",
          "new_text": null,
          "old_line_content": "            USHORT i_vk    = SHORT2FROMMP( mp2 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1058,
          "old_api": "WinPostMsg",
          "new_api": null,
          "old_text": "WinPostMsg( sys->parent, msg, mp1, mp2 )",
          "new_text": null,
          "old_line_content": "                WinPostMsg( sys->parent, msg, mp1, mp2 );",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1067,
          "old_api": "HIBYTE",
          "new_api": null,
          "old_text": "HIBYTE( i_ch )",
          "new_text": null,
          "old_line_content": "                else if(( i_flags & KC_CHAR ) && !HIBYTE( i_ch ))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": "tolower",
          "new_api": null,
          "old_text": "tolower( i_ch )",
          "new_text": null,
          "old_line_content": "                    i_key = tolower( i_ch );",
          "new_line_content": "                if( i_key )",
          "content_same": false
        },
        {
          "line": 1081,
          "old_api": "vout_display_SendEventKey",
          "new_api": null,
          "old_text": "vout_display_SendEventKey(vd, i_key)",
          "new_text": null,
          "old_line_content": "                    vout_display_SendEventKey(vd, i_key);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1089,
          "old_api": "SHORT1FROMMP",
          "new_api": null,
          "old_text": "SHORT1FROMMP( mp1 )",
          "new_text": null,
          "old_line_content": "                SHORT1FROMMP( mp1 ) == TID_HIDE_MOUSE )",
          "new_line_content": "                POINTL ptl;",
          "content_same": false
        },
        {
          "line": 578,
          "old_api": "msg_Err",
          "new_api": null,
          "old_text": "msg_Err( vd, \"Ooops. There is no fourcc supported by KVA at all.\")",
          "new_text": null,
          "old_line_content": "        msg_Err( vd, \"Ooops. There is no fourcc supported by KVA at all.\");",
          "new_line_content": "        return VLC_EGENERIC;",
          "content_same": false
        },
        {
          "line": 1093,
          "old_api": "WinQueryPointerPos",
          "new_api": null,
          "old_text": "WinQueryPointerPos( HWND_DESKTOP, &ptl )",
          "new_text": null,
          "old_line_content": "                WinQueryPointerPos( HWND_DESKTOP, &ptl );",
          "new_line_content": "                        == sys->client )",
          "content_same": false
        },
        {
          "line": 1094,
          "old_api": "WinWindowFromPoint",
          "new_api": null,
          "old_text": "WinWindowFromPoint( HWND_DESKTOP, &ptl, TRUE )",
          "new_text": null,
          "old_line_content": "                if( WinWindowFromPoint( HWND_DESKTOP, &ptl, TRUE )",
          "new_line_content": "                {",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": "WinShowPointer",
          "new_api": null,
          "old_text": "WinShowPointer( HWND_DESKTOP, FALSE )",
          "new_text": null,
          "old_line_content": "                    WinShowPointer( HWND_DESKTOP, FALSE );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 588,
          "old_api": "msg_Dbg",
          "new_api": null,
          "old_text": "msg_Dbg( vd, \"output chroma = %4.4s\", ( const char * )&fmt->i_chroma )",
          "new_text": null,
          "old_line_content": "    msg_Dbg( vd, \"output chroma = %4.4s\", ( const char * )&fmt->i_chroma );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": "msg_Dbg",
          "new_api": null,
          "old_text": "msg_Dbg( vd, \"KVA chroma = %4.4s\", ( const char * )&i_kva_fourcc )",
          "new_text": null,
          "old_line_content": "    msg_Dbg( vd, \"KVA chroma = %4.4s\", ( const char * )&i_kva_fourcc );",
          "new_line_content": "    w = fmt->i_width;",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": "WinStopTimer",
          "new_api": null,
          "old_text": "WinStopTimer( sys->hab, sys->client, TID_HIDE_MOUSE )",
          "new_text": null,
          "old_line_content": "                    WinStopTimer( sys->hab, sys->client, TID_HIDE_MOUSE );",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1113,
          "old_api": "WinQueryWindowPos",
          "new_api": null,
          "old_text": "WinQueryWindowPos( sys->frame, &swp )",
          "new_text": null,
          "old_line_content": "                WinQueryWindowPos( sys->frame, &swp );",
          "new_line_content": "                sys->client_rect.yBottom = swp.y;",
          "content_same": false
        },
        {
          "line": 1118,
          "old_api": "WinCalcFrameRect",
          "new_api": null,
          "old_text": "WinCalcFrameRect( sys->frame, &sys->client_rect, TRUE )",
          "new_text": null,
          "old_line_content": "                WinCalcFrameRect( sys->frame, &sys->client_rect, TRUE );",
          "new_line_content": "                rcl.xLeft   = 0;",
          "content_same": false
        },
        {
          "line": 609,
          "old_api": "msg_Err",
          "new_api": null,
          "old_text": "msg_Err( vd, \"cannot set up KVA\")",
          "new_text": null,
          "old_line_content": "        msg_Err( vd, \"cannot set up KVA\");",
          "new_line_content": "        return VLC_EGENERIC;",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": "malloc",
          "new_api": null,
          "old_text": "malloc( sizeof( *picsys ) )",
          "new_text": null,
          "old_line_content": "    picture_sys_t *picsys = malloc( sizeof( *picsys ) );",
          "new_line_content": "        return VLC_ENOMEM;",
          "content_same": false
        },
        {
          "line": 1130,
          "old_api": "WinSetWindowPos",
          "new_api": null,
          "old_text": "WinSetWindowPos( sys->frame, HWND_TOP,\n                             rcl.xLeft, rcl.yBottom,\n                             rcl.xRight - rcl.xLeft, rcl.yTop - rcl.yBottom,\n                             SWP_MOVE | SWP_SIZE | SWP_ZORDER | SWP_SHOW |\n                             SWP_ACTIVATE )",
          "new_text": null,
          "old_line_content": "            WinSetWindowPos( sys->frame, HWND_TOP,",
          "new_line_content": "                             rcl.xRight - rcl.xLeft, rcl.yTop - rcl.yBottom,",
          "content_same": false
        },
        {
          "line": 623,
          "old_api": "picture_NewFromResource",
          "new_api": null,
          "old_text": "picture_NewFromResource( fmt, &resource )",
          "new_text": null,
          "old_line_content": "    picture_t *picture = picture_NewFromResource( fmt, &resource );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 626,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( picsys )",
          "new_text": null,
          "old_line_content": "        free( picsys );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": "LONGFROMMP",
          "new_api": null,
          "old_text": "LONGFROMMP( mp2 )",
          "new_text": null,
          "old_line_content": "            rcl.yTop    = LONGFROMMP( mp2 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 632,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset( &pool_cfg, 0, sizeof( pool_cfg ))",
          "new_text": null,
          "old_line_content": "    memset( &pool_cfg, 0, sizeof( pool_cfg ));",
          "new_line_content": "    pool_cfg.picture       = &picture;",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": "WinSetWindowPos",
          "new_api": null,
          "old_text": "WinSetWindowPos( sys->frame, NULLHANDLE,\n                             0, 0,\n                             rcl.xRight - rcl.xLeft, rcl.yTop - rcl.yBottom,\n                             SWP_SIZE )",
          "new_text": null,
          "old_line_content": "            WinSetWindowPos( sys->frame, NULLHANDLE,",
          "new_line_content": "                             rcl.xRight - rcl.xLeft, rcl.yTop - rcl.yBottom,",
          "content_same": false
        },
        {
          "line": 1150,
          "old_api": "WinQueryWindowPos",
          "new_api": null,
          "old_text": "WinQueryWindowPos( sys->frame, &swp )",
          "new_text": null,
          "old_line_content": "            WinQueryWindowPos( sys->frame, &swp );",
          "new_line_content": "            sys->client_rect.yBottom = swp.y;",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": "picture_pool_NewExtended",
          "new_api": null,
          "old_text": "picture_pool_NewExtended( &pool_cfg )",
          "new_text": null,
          "old_line_content": "    sys->pool = picture_pool_NewExtended( &pool_cfg );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 641,
          "old_api": "picture_Release",
          "new_api": null,
          "old_text": "picture_Release( picture )",
          "new_text": null,
          "old_line_content": "        picture_Release( picture );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1155,
          "old_api": "WinCalcFrameRect",
          "new_api": null,
          "old_text": "WinCalcFrameRect( sys->frame, &sys->client_rect, TRUE )",
          "new_text": null,
          "old_line_content": "            WinCalcFrameRect( sys->frame, &sys->client_rect, TRUE );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 647,
          "old_api": "asprintf",
          "new_api": null,
          "old_text": "asprintf( &title, VOUT_TITLE \" (%4.4s to %4.4s - %s mode KVA output)\",\n                  (char *)&vd->fmt.i_chroma, (char *)&sys->kvas.fccSrcColor,\n                  psz_video_mode[sys->kvac.ulMode - 1] )",
          "new_text": null,
          "old_line_content": "     || asprintf( &title, VOUT_TITLE \" (%4.4s to %4.4s - %s mode KVA output)\",",
          "new_line_content": "                  psz_video_mode[sys->kvac.ulMode - 1] ) >= 0)",
          "content_same": false
        },
        {
          "line": 1159,
          "old_api": "WinDefWindowProc",
          "new_api": null,
          "old_text": "WinDefWindowProc( hwnd, msg, mp1, mp2 )",
          "new_text": null,
          "old_line_content": "            return WinDefWindowProc( hwnd, msg, mp1, mp2 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 651,
          "old_api": "WinSetWindowText",
          "new_api": null,
          "old_text": "WinSetWindowText( sys->frame, title )",
          "new_text": null,
          "old_line_content": "        WinSetWindowText( sys->frame, title );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 652,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( title )",
          "new_text": null,
          "old_line_content": "        free( title );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": "var_InheritInteger",
          "new_api": null,
          "old_text": "var_InheritInteger( vd, \"mouse-hide-timeout\" )",
          "new_text": null,
          "old_line_content": "        ( ULONG )var_InheritInteger( vd, \"mouse-hide-timeout\" );",
          "new_line_content": "                   sys->cursor_timeout );",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": "WinStartTimer",
          "new_api": null,
          "old_text": "WinStartTimer( sys->hab, sys->client, TID_HIDE_MOUSE,\n                   sys->cursor_timeout )",
          "new_text": null,
          "old_line_content": "    WinStartTimer( sys->hab, sys->client, TID_HIDE_MOUSE,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": "WinQueryWindowRect",
          "new_api": null,
          "old_text": "WinQueryWindowRect( sys->parent, &rcl )",
          "new_text": null,
          "old_line_content": "        WinQueryWindowRect( sys->parent, &rcl );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1169,
          "old_api": "WinQueryWindowRect",
          "new_api": null,
          "old_text": "WinQueryWindowRect( sys->client, &rect)",
          "new_text": null,
          "old_line_content": "        WinQueryWindowRect( sys->client, &rect);",
          "new_line_content": "        if( rcl.xLeft   != rect.xLeft   ||",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": "WinQuerySysValue",
          "new_api": null,
          "old_text": "WinQuerySysValue( HWND_DESKTOP, SV_CXSCREEN )",
          "new_text": null,
          "old_line_content": "    sys->i_screen_width  = WinQuerySysValue( HWND_DESKTOP, SV_CXSCREEN );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": "WinQuerySysValue",
          "new_api": null,
          "old_text": "WinQuerySysValue( HWND_DESKTOP, SV_CYSCREEN )",
          "new_text": null,
          "old_line_content": "    sys->i_screen_height = WinQuerySysValue( HWND_DESKTOP, SV_CYSCREEN );",
          "new_line_content": "    if( sys->parent_window )",
          "content_same": false
        },
        {
          "line": 664,
          "old_api": "WinQueryWindowRect",
          "new_api": null,
          "old_text": "WinQueryWindowRect( sys->parent, &sys->client_rect )",
          "new_text": null,
          "old_line_content": "        WinQueryWindowRect( sys->parent, &sys->client_rect );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": "WinSetWindowPos",
          "new_api": null,
          "old_text": "WinSetWindowPos( sys->frame, NULLHANDLE,\n                             rcl.xLeft, rcl.yBottom,\n                             rcl.xRight - rcl.xLeft, rcl.yTop - rcl.yBottom,\n                             SWP_SIZE | SWP_MOVE )",
          "new_text": null,
          "old_line_content": "            WinSetWindowPos( sys->frame, NULLHANDLE,",
          "new_line_content": "                             rcl.xRight - rcl.xLeft, rcl.yTop - rcl.yBottom,",
          "content_same": false
        },
        {
          "line": 677,
          "old_api": "WinSetWindowPos",
          "new_api": null,
          "old_text": "WinSetWindowPos( sys->frame, HWND_TOP,\n                     rcl.xLeft, rcl.yBottom,\n                     rcl.xRight - rcl.xLeft, rcl.yTop - rcl.yBottom,\n                     SWP_MOVE | SWP_SIZE | SWP_ZORDER | SWP_SHOW |\n                     SWP_ACTIVATE )",
          "new_text": null,
          "old_line_content": "    WinSetWindowPos( sys->frame, HWND_TOP,",
          "new_line_content": "                     rcl.xRight - rcl.xLeft, rcl.yTop - rcl.yBottom,",
          "content_same": false
        },
        {
          "line": 177,
          "old_api": "WinInitialize",
          "new_api": null,
          "old_text": "WinInitialize( 0 )",
          "new_text": null,
          "old_line_content": "    sys->hab = WinInitialize( 0 );",
          "new_line_content": "                      WndProc,",
          "content_same": false
        },
        {
          "line": 178,
          "old_api": "WinCreateMsgQueue",
          "new_api": null,
          "old_text": "WinCreateMsgQueue( sys->hab, 0)",
          "new_text": null,
          "old_line_content": "    sys->hmq = WinCreateMsgQueue( sys->hab, 0);",
          "new_line_content": "                      CS_SIZEREDRAW | CS_MOVENOTIFY,",
          "content_same": false
        },
        {
          "line": 180,
          "old_api": "WinRegisterClass",
          "new_api": null,
          "old_text": "WinRegisterClass( sys->hab,\n                      WC_VLC_KVA,\n                      WndProc,\n                      CS_SIZEREDRAW | CS_MOVENOTIFY,\n                      sizeof( PVOID ))",
          "new_text": null,
          "old_line_content": "    WinRegisterClass( sys->hab,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 694,
          "old_api": "VLC_UNUSED",
          "new_api": null,
          "old_text": "VLC_UNUSED( vd )",
          "new_text": null,
          "old_line_content": "    VLC_UNUSED( vd );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 191,
          "old_api": "vout_display_NewWindow",
          "new_api": null,
          "old_text": "vout_display_NewWindow( vd, VOUT_WINDOW_TYPE_HWND )",
          "new_text": null,
          "old_line_content": "            vout_display_NewWindow( vd, VOUT_WINDOW_TYPE_HWND );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 703,
          "old_api": "kvaLockBuffer",
          "new_api": null,
          "old_text": "kvaLockBuffer( &kva_buffer, &kva_bpl )",
          "new_text": null,
          "old_line_content": "    if( kvaLockBuffer( &kva_buffer, &kva_bpl ))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 197,
          "old_api": "WinQueryWindowULong",
          "new_api": null,
          "old_text": "WinQueryWindowULong( sys->parent, QWL_STYLE )",
          "new_text": null,
          "old_line_content": "        ULONG i_style = WinQueryWindowULong( sys->parent, QWL_STYLE );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 198,
          "old_api": "WinSetWindowULong",
          "new_api": null,
          "old_text": "WinSetWindowULong( sys->parent, QWL_STYLE,\n                           i_style | WS_CLIPCHILDREN )",
          "new_text": null,
          "old_line_content": "        WinSetWindowULong( sys->parent, QWL_STYLE,",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 212,
          "old_api": "WinCreateStdWindow",
          "new_api": null,
          "old_text": "WinCreateStdWindow( sys->parent,      /* parent window handle */\n                            WS_VISIBLE,       /* frame window style */\n                            &i_frame_flags,   /* window style */\n                            WC_VLC_KVA,       /* class name */\n                            \"\",               /* window title */\n                            0L,               /* default client style */\n                            NULLHANDLE,       /* resource in exe file */\n                            1,                /* frame window id */\n                            &sys->client )",
          "new_text": null,
          "old_line_content": "        WinCreateStdWindow( sys->parent,      /* parent window handle */",
          "new_line_content": "                            0L,               /* default client style */",
          "content_same": false
        },
        {
          "line": 729,
          "old_api": "kvaUnlockBuffer",
          "new_api": null,
          "old_text": "kvaUnlockBuffer()",
          "new_text": null,
          "old_line_content": "    kvaUnlockBuffer();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 736,
          "old_api": "DosGetInfoBlocks",
          "new_api": null,
          "old_text": "DosGetInfoBlocks(NULL, &pib)",
          "new_text": null,
          "old_line_content": "    DosGetInfoBlocks(NULL, &pib);",
          "new_line_content": "    /* Change flag from VIO to PM */",
          "content_same": false
        },
        {
          "line": 233,
          "old_api": "WinSetWindowPtr",
          "new_api": null,
          "old_text": "WinSetWindowPtr( sys->frame, 0, vd )",
          "new_text": null,
          "old_line_content": "        WinSetWindowPtr( sys->frame, 0, vd );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 234,
          "old_api": "WinSubclassWindow",
          "new_api": null,
          "old_text": "WinSubclassWindow( sys->frame, MyFrameWndProc )",
          "new_text": null,
          "old_line_content": "        sys->p_old_frame = WinSubclassWindow( sys->frame, MyFrameWndProc );",
          "new_line_content": "    i_kva_mode = KVAM_AUTO;",
          "content_same": false
        },
        {
          "line": 240,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp( psz_mode, \"snap\" )",
          "new_text": null,
          "old_line_content": "    if( strcmp( psz_mode, \"snap\" ) == 0 )",
          "new_line_content": "        i_kva_mode = KVAM_VMAN;",
          "content_same": false
        },
        {
          "line": 242,
          "old_api": "strcmp",
          "new_api": null,
          "old_text": "strcmp( psz_mode, \"wo\" )",
          "new_text": null,
          "old_line_content": "    else if( strcmp( psz_mode, \"wo\" ) == 0 )",
          "new_line_content": "        i_kva_mode = KVAM_DIVE;",
          "content_same": false
        },
        {
          "line": 249,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( psz_mode )",
          "new_text": null,
          "old_line_content": "    free( psz_mode );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 251,
          "old_api": "kvaInit",
          "new_api": null,
          "old_text": "kvaInit( i_kva_mode, sys->client, COLOR_KEY )",
          "new_text": null,
          "old_line_content": "    if( kvaInit( i_kva_mode, sys->client, COLOR_KEY ))",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 263,
          "old_api": "OpenDisplay",
          "new_api": null,
          "old_text": "OpenDisplay( vd, &fmt )",
          "new_text": null,
          "old_line_content": "    if( OpenDisplay( vd, &fmt ) )",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 265,
          "old_api": "msg_Err",
          "new_api": null,
          "old_text": "msg_Err( vd, \"cannot open display\")",
          "new_text": null,
          "old_line_content": "        msg_Err( vd, \"cannot open display\");",
          "new_line_content": "    if( cfg->is_fullscreen && !sys->parent_window )",
          "content_same": false
        },
        {
          "line": 271,
          "old_api": "WinPostMsg",
          "new_api": null,
          "old_text": "WinPostMsg( sys->client, WM_VLC_FULLSCREEN_CHANGE,\n                    MPFROMLONG( true ), 0 )",
          "new_text": null,
          "old_line_content": "        WinPostMsg( sys->client, WM_VLC_FULLSCREEN_CHANGE,",
          "new_line_content": "    /* Setup vout_display now that everything is fine */",
          "content_same": false
        },
        {
          "line": 272,
          "old_api": "MPFROMLONG",
          "new_api": null,
          "old_text": "MPFROMLONG( true )",
          "new_text": null,
          "old_line_content": "                    MPFROMLONG( true ), 0 );",
          "new_line_content": "    *fmtp       = fmt;",
          "content_same": false
        },
        {
          "line": 274,
          "old_api": "kvaDisableScreenSaver",
          "new_api": null,
          "old_text": "kvaDisableScreenSaver()",
          "new_text": null,
          "old_line_content": "    kvaDisableScreenSaver();",
          "new_line_content": "    vd->info.is_slow = false;",
          "content_same": false
        },
        {
          "line": 286,
          "old_api": "_control87",
          "new_api": null,
          "old_text": "_control87(MCW_EM, MCW_EM)",
          "new_text": null,
          "old_line_content": "    _control87(MCW_EM, MCW_EM);",
          "new_line_content": "    sys->i_result = VLC_SUCCESS;",
          "content_same": false
        },
        {
          "line": 289,
          "old_api": "DosPostEventSem",
          "new_api": null,
          "old_text": "DosPostEventSem( sys->ack_event )",
          "new_text": null,
          "old_line_content": "    DosPostEventSem( sys->ack_event );",
          "new_line_content": "    if( !sys->parent_window )",
          "content_same": false
        },
        {
          "line": 294,
          "old_api": "WinGetMsg",
          "new_api": null,
          "old_text": "WinGetMsg( sys->hab, &qm, NULLHANDLE, 0, 0 )",
          "new_text": null,
          "old_line_content": "    while( WinGetMsg( sys->hab, &qm, NULLHANDLE, 0, 0 ))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 295,
          "old_api": "WinDispatchMsg",
          "new_api": null,
          "old_text": "WinDispatchMsg( sys->hab, &qm )",
          "new_text": null,
          "old_line_content": "        WinDispatchMsg( sys->hab, &qm );",
          "new_line_content": "    if( !sys->parent_window )",
          "content_same": false
        },
        {
          "line": 302,
          "old_api": "CloseDisplay",
          "new_api": null,
          "old_text": "CloseDisplay( vd )",
          "new_text": null,
          "old_line_content": "    CloseDisplay( vd );",
          "new_line_content": "    /* fall through */",
          "content_same": false
        },
        {
          "line": 307,
          "old_api": "kvaDone",
          "new_api": null,
          "old_text": "kvaDone()",
          "new_text": null,
          "old_line_content": "    kvaDone();",
          "new_line_content": "exit_kva_init :",
          "content_same": false
        },
        {
          "line": 824,
          "old_api": "WinQueryWindowPtr",
          "new_api": null,
          "old_text": "WinQueryWindowPtr( hwnd, 0 )",
          "new_text": null,
          "old_line_content": "    vout_display_t *vd = WinQueryWindowPtr( hwnd, 0 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 313,
          "old_api": "WinDestroyWindow",
          "new_api": null,
          "old_text": "WinDestroyWindow( sys->frame )",
          "new_text": null,
          "old_line_content": "    WinDestroyWindow( sys->frame );",
          "new_line_content": "exit_frame :",
          "content_same": false
        },
        {
          "line": 319,
          "old_api": "WinDestroyMsgQueue",
          "new_api": null,
          "old_text": "WinDestroyMsgQueue( sys->hmq )",
          "new_text": null,
          "old_line_content": "    WinDestroyMsgQueue( sys->hmq );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 320,
          "old_api": "WinTerminate",
          "new_api": null,
          "old_text": "WinTerminate( sys->hab )",
          "new_text": null,
          "old_line_content": "    WinTerminate( sys->hab );",
          "new_line_content": "    sys->i_result = VLC_EGENERIC;",
          "content_same": false
        },
        {
          "line": 833,
          "old_api": "p_old_frame",
          "new_api": null,
          "old_text": "sys->p_old_frame( hwnd, msg, mp1, mp2 )",
          "new_text": null,
          "old_line_content": "            mr = sys->p_old_frame( hwnd, msg, mp1, mp2 );",
          "new_line_content": "                return mr;",
          "content_same": false
        },
        {
          "line": 323,
          "old_api": "DosPostEventSem",
          "new_api": null,
          "old_text": "DosPostEventSem( sys->ack_event )",
          "new_text": null,
          "old_line_content": "    DosPostEventSem( sys->ack_event );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": "WinCalcFrameRect",
          "new_api": null,
          "old_text": "WinCalcFrameRect( hwnd, &pti->rclBoundary, FALSE )",
          "new_text": null,
          "old_line_content": "            WinCalcFrameRect( hwnd, &pti->rclBoundary, FALSE );",
          "new_line_content": "            pti->ptlMaxTrackSize.x = pti->rclBoundary.xRight -",
          "content_same": false
        },
        {
          "line": 340,
          "old_api": "calloc",
          "new_api": null,
          "old_text": "calloc( 1, sizeof( *sys ))",
          "new_text": null,
          "old_line_content": "    vd->sys = sys = calloc( 1, sizeof( *sys ));",
          "new_line_content": "        return VLC_ENOMEM;",
          "content_same": false
        },
        {
          "line": 857,
          "old_api": "WinCalcFrameRect",
          "new_api": null,
          "old_text": "WinCalcFrameRect( hwnd, &rcl, FALSE )",
          "new_text": null,
          "old_line_content": "            WinCalcFrameRect( hwnd, &rcl, FALSE );",
          "new_line_content": "            pti->ptlMinTrackSize.x = rcl.xRight - rcl.xLeft;",
          "content_same": false
        },
        {
          "line": 346,
          "old_api": "_beginthread",
          "new_api": null,
          "old_text": "_beginthread( PMThread, NULL, 1024 * 1024, &init )",
          "new_text": null,
          "old_line_content": "    sys->tid = _beginthread( PMThread, NULL, 1024 * 1024, &init );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 347,
          "old_api": "DosWaitEventSem",
          "new_api": null,
          "old_text": "DosWaitEventSem( sys->ack_event, SEM_INDEFINITE_WAIT )",
          "new_text": null,
          "old_line_content": "    DosWaitEventSem( sys->ack_event, SEM_INDEFINITE_WAIT );",
          "new_line_content": "    if( sys->i_result != VLC_SUCCESS )",
          "content_same": false
        },
        {
          "line": 862,
          "old_api": "MRFROMLONG",
          "new_api": null,
          "old_text": "MRFROMLONG( TRUE )",
          "new_text": null,
          "old_line_content": "            return MRFROMLONG( TRUE );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 353,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( sys )",
          "new_text": null,
          "old_line_content": "        free( sys );",
          "new_line_content": "        return VLC_EGENERIC;",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": "WinCalcFrameRect",
          "new_api": null,
          "old_text": "WinCalcFrameRect( hwnd, &rcl, TRUE )",
          "new_text": null,
          "old_line_content": "                WinCalcFrameRect( hwnd, &rcl, TRUE );",
          "new_line_content": "                if( rcl.xRight - rcl.xLeft <= sys->kvas.szlSrcSize.cx )",
          "content_same": false
        },
        {
          "line": 373,
          "old_api": "DosWaitThread",
          "new_api": null,
          "old_text": "DosWaitThread( &sys->tid, DCWW_WAIT )",
          "new_text": null,
          "old_line_content": "    DosWaitThread( &sys->tid, DCWW_WAIT );",
          "new_line_content": "    if( sys->pool )",
          "content_same": false
        },
        {
          "line": 380,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( sys )",
          "new_text": null,
          "old_line_content": "    free( sys );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 389,
          "old_api": "VLC_UNUSED",
          "new_api": null,
          "old_text": "VLC_UNUSED(count)",
          "new_text": null,
          "old_line_content": "    VLC_UNUSED(count);",
          "new_line_content": "    return sys->pool;",
          "content_same": false
        },
        {
          "line": 901,
          "old_api": "WinCalcFrameRect",
          "new_api": null,
          "old_text": "WinCalcFrameRect( hwnd, &rcl, FALSE )",
          "new_text": null,
          "old_line_content": "                WinCalcFrameRect( hwnd, &rcl, FALSE );",
          "new_line_content": "                if( pswp->x != rcl.xLeft || pswp->y != rcl.yBottom )",
          "content_same": false
        },
        {
          "line": 403,
          "old_api": "VLC_UNUSED",
          "new_api": null,
          "old_text": "VLC_UNUSED( picture )",
          "new_text": null,
          "old_line_content": "    VLC_UNUSED( picture );",
          "new_line_content": "    /* Let a window procedure manage instead because if resizing a frame window",
          "content_same": false
        },
        {
          "line": 919,
          "old_api": "WinSetWindowPos",
          "new_api": null,
          "old_text": "WinSetWindowPos( hwnd, HWND_TOP, 0, 0, 0, 0, SWP_ZORDER )",
          "new_text": null,
          "old_line_content": "                WinSetWindowPos( hwnd, HWND_TOP, 0, 0, 0, 0, SWP_ZORDER );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 408,
          "old_api": "WinPostMsg",
          "new_api": null,
          "old_text": "WinPostMsg( sys->client, WM_VLC_MANAGE, 0, 0 )",
          "new_text": null,
          "old_line_content": "    WinPostMsg( sys->client, WM_VLC_MANAGE, 0, 0 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 923,
          "old_api": "p_old_frame",
          "new_api": null,
          "old_text": "sys->p_old_frame( hwnd, msg, mp1, mp2 )",
          "new_text": null,
          "old_line_content": "    return sys->p_old_frame( hwnd, msg, mp1, mp2 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 928,
          "old_api": "WinQueryFocus",
          "new_api": null,
          "old_text": "WinQueryFocus( HWND_DESKTOP )",
          "new_text": null,
          "old_line_content": "    if( WinQueryFocus( HWND_DESKTOP ) != hwnd )",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 929,
          "old_api": "WinSetFocus",
          "new_api": null,
          "old_text": "WinSetFocus( HWND_DESKTOP, hwnd )",
          "new_text": null,
          "old_line_content": "        WinSetFocus( HWND_DESKTOP, hwnd );",
          "new_line_content": "    if( !vd->sys->button_pressed )",
          "content_same": false
        },
        {
          "line": 932,
          "old_api": "WinSetCapture",
          "new_api": null,
          "old_text": "WinSetCapture( HWND_DESKTOP, hwnd )",
          "new_text": null,
          "old_line_content": "        WinSetCapture( HWND_DESKTOP, hwnd );",
          "new_line_content": "    vd->sys->button_pressed |= 1 << button;",
          "content_same": false
        },
        {
          "line": 424,
          "old_api": "MPFROMLONG",
          "new_api": null,
          "old_text": "MPFROMLONG(fs)",
          "new_text": null,
          "old_line_content": "        WinPostMsg( sys->client, WM_VLC_FULLSCREEN_CHANGE, MPFROMLONG(fs), 0 );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 936,
          "old_api": "vout_display_SendEventMousePressed",
          "new_api": null,
          "old_text": "vout_display_SendEventMousePressed( vd, button )",
          "new_text": null,
          "old_line_content": "    vout_display_SendEventMousePressed( vd, button );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 430,
          "old_api": "va_arg",
          "new_api": null,
          "old_text": "va_arg( args, unsigned )",
          "new_text": null,
          "old_line_content": "        const unsigned state = va_arg( args, unsigned );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 945,
          "old_api": "vout_display_SendEventMouseReleased",
          "new_api": null,
          "old_text": "vout_display_SendEventMouseReleased( vd, button )",
          "new_text": null,
          "old_line_content": "    vout_display_SendEventMouseReleased( vd, button );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 434,
          "old_api": "WinSetWindowPos",
          "new_api": null,
          "old_text": "WinSetWindowPos( sys->frame, HWND_TOP, 0, 0, 0, 0, SWP_ZORDER )",
          "new_text": null,
          "old_line_content": "            WinSetWindowPos( sys->frame, HWND_TOP, 0, 0, 0, 0, SWP_ZORDER );",
          "new_line_content": "        sys->is_on_top = is_on_top;",
          "content_same": false
        },
        {
          "line": 952,
          "old_api": "WinQueryWindowPtr",
          "new_api": null,
          "old_text": "WinQueryWindowPtr( hwnd, 0 )",
          "new_text": null,
          "old_line_content": "    vout_display_t * vd = WinQueryWindowPtr( hwnd, 0 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": "WinDefWindowProc",
          "new_api": null,
          "old_text": "WinDefWindowProc( hwnd, msg, mp1, mp2 )",
          "new_text": null,
          "old_line_content": "        return WinDefWindowProc( hwnd, msg, mp1, mp2 );",
          "new_line_content": "    vout_display_sys_t * sys = vd->sys;",
          "content_same": false
        },
        {
          "line": 447,
          "old_api": "MPFROMLONG",
          "new_api": null,
          "old_text": "MPFROMLONG( cfg->display.width )",
          "new_text": null,
          "old_line_content": "                    MPFROMLONG( cfg->display.width ),",
          "new_line_content": "        return VLC_SUCCESS;",
          "content_same": false
        },
        {
          "line": 448,
          "old_api": "MPFROMLONG",
          "new_api": null,
          "old_text": "MPFROMLONG( cfg->display.height )",
          "new_text": null,
          "old_line_content": "                    MPFROMLONG( cfg->display.height ));",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 967,
          "old_api": "WinShowPointer",
          "new_api": null,
          "old_text": "WinShowPointer(HWND_DESKTOP, TRUE)",
          "new_text": null,
          "old_line_content": "        WinShowPointer(HWND_DESKTOP, TRUE);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 458,
          "old_api": "vout_display_PlacePicture",
          "new_api": null,
          "old_text": "vout_display_PlacePicture(&place, &vd->source, vd->cfg)",
          "new_text": null,
          "old_line_content": "            vout_display_PlacePicture(&place, &vd->source, vd->cfg);",
          "new_line_content": "            sys->kvas.ulAspectWidth  = place.width;",
          "content_same": false
        },
        {
          "line": 970,
          "old_api": "WinStartTimer",
          "new_api": null,
          "old_text": "WinStartTimer( sys->hab, sys->client, TID_HIDE_MOUSE,\n                       sys->cursor_timeout )",
          "new_text": null,
          "old_line_content": "        WinStartTimer( sys->hab, sys->client, TID_HIDE_MOUSE,",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 466,
          "old_api": "video_format_ApplyRotation",
          "new_api": null,
          "old_text": "video_format_ApplyRotation(&src_rot, &vd->source)",
          "new_text": null,
          "old_line_content": "            video_format_ApplyRotation(&src_rot, &vd->source);",
          "new_line_content": "            sys->kvas.rclSrcRect.xLeft   = src_rot.i_x_offset;",
          "content_same": false
        },
        {
          "line": 978,
          "old_api": "vout_display_SendEventClose",
          "new_api": null,
          "old_text": "vout_display_SendEventClose(vd)",
          "new_text": null,
          "old_line_content": "            vout_display_SendEventClose(vd);",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 984,
          "old_api": "SHORT1FROMMP",
          "new_api": null,
          "old_text": "SHORT1FROMMP( mp1 )",
          "new_text": null,
          "old_line_content": "            SHORT i_mouse_x = SHORT1FROMMP( mp1 );",
          "new_line_content": "            RECTL movie_rect;",
          "content_same": false
        },
        {
          "line": 985,
          "old_api": "SHORT2FROMMP",
          "new_api": null,
          "old_text": "SHORT2FROMMP( mp1 )",
          "new_text": null,
          "old_line_content": "            SHORT i_mouse_y = SHORT2FROMMP( mp1 );",
          "new_line_content": "            int   i_movie_width, i_movie_height;",
          "content_same": false
        },
        {
          "line": 476,
          "old_api": "kvaSetup",
          "new_api": null,
          "old_text": "kvaSetup( &sys->kvas )",
          "new_text": null,
          "old_line_content": "        kvaSetup( &sys->kvas );",
          "new_line_content": "        return VLC_SUCCESS;",
          "content_same": false
        },
        {
          "line": 991,
          "old_api": "kvaAdjustDstRect",
          "new_api": null,
          "old_text": "kvaAdjustDstRect( &sys->kvas.rclSrcRect, &movie_rect )",
          "new_text": null,
          "old_line_content": "            kvaAdjustDstRect( &sys->kvas.rclSrcRect, &movie_rect );",
          "new_line_content": "            i_movie_height = movie_rect.yTop - movie_rect.yBottom;",
          "content_same": false
        },
        {
          "line": 487,
          "old_api": "msg_Err",
          "new_api": null,
          "old_text": "msg_Err(vd, \"Unsupported query(=%d) in vout display KVA\", query)",
          "new_text": null,
          "old_line_content": "    msg_Err(vd, \"Unsupported query(=%d) in vout display KVA\", query);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 495,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( pic->p_sys )",
          "new_text": null,
          "old_line_content": "    free( pic->p_sys );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1011,
          "old_api": "WinDefWindowProc",
          "new_api": null,
          "old_text": "WinDefWindowProc( hwnd, msg, mp1,mp2 )",
          "new_text": null,
          "old_line_content": "            result = WinDefWindowProc( hwnd, msg, mp1,mp2 );",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1016,
          "old_api": "MousePressed",
          "new_api": null,
          "old_text": "MousePressed( vd, hwnd, MOUSE_BUTTON_LEFT )",
          "new_text": null,
          "old_line_content": "            MousePressed( vd, hwnd, MOUSE_BUTTON_LEFT );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1020,
          "old_api": "MousePressed",
          "new_api": null,
          "old_text": "MousePressed( vd, hwnd, MOUSE_BUTTON_RIGHT )",
          "new_text": null,
          "old_line_content": "            MousePressed( vd, hwnd, MOUSE_BUTTON_RIGHT );",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 37,
      "total_additions": 125,
      "total_deletions": 125,
      "total_api_changes": 287
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 10,
        "api_related_lines": 287,
        "non_api_lines": 6,
        "non_api_line_numbers": [
          171,
          174,
          273,
          275,
          276,
          278
        ]
      }
    },
    "api_calls_before": 182,
    "api_calls_after": 182,
    "diff_info": {
      "added_lines": 4,
      "removed_lines": 6,
      "total_diff_lines": 29
    }
  }
}