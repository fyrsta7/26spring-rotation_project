{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/73e141d24789fc6332af56b25aa8054942c56163",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/73e141d24789fc6332af56b25aa8054942c56163/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/73e141d24789fc6332af56b25aa8054942c56163/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/73e141d24789fc6332af56b25aa8054942c56163/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1407,
          "old_api": "GetPortDefinition",
          "new_api": "CHECK_ERROR",
          "old_text": "GetPortDefinition(p_dec, p_port, p_port->p_fmt)",
          "new_text": "CHECK_ERROR(omx_error, \"PortReconfigure failed\")",
          "old_line_content": "            omx_error = GetPortDefinition(p_dec, p_port, p_port->p_fmt);",
          "new_line_content": "            CHECK_ERROR(omx_error, \"PortReconfigure failed\");",
          "content_same": false
        },
        {
          "line": 1449,
          "old_api": "msg_Dbg",
          "new_api": "block_Release",
          "old_text": "msg_Dbg(p_dec, \"flushing\")",
          "new_text": "block_Release( p_block )",
          "old_line_content": "            msg_Dbg(p_dec, \"flushing\");",
          "new_line_content": "        block_Release( p_block );",
          "content_same": false
        },
        {
          "line": 1450,
          "old_api": "OMX_SendCommand",
          "new_api": "date_Set",
          "old_text": "OMX_SendCommand( p_sys->omx_handle, OMX_CommandFlush,\n                             p_sys->in.definition.nPortIndex, 0 )",
          "new_text": "date_Set( &p_sys->end_date, 0 )",
          "old_line_content": "            OMX_SendCommand( p_sys->omx_handle, OMX_CommandFlush,",
          "new_line_content": "        date_Set( &p_sys->end_date, 0 );",
          "content_same": false
        },
        {
          "line": 1492,
          "old_api": "date_Increment",
          "new_api": "date_Get",
          "old_text": "date_Increment( &p_sys->end_date, i_samples )",
          "new_text": "date_Get( &p_sys->end_date )",
          "old_line_content": "            p_buffer->i_length = date_Increment( &p_sys->end_date, i_samples ) -",
          "new_line_content": "                timestamp != date_Get( &p_sys->end_date ) )",
          "content_same": false
        },
        {
          "line": 1535,
          "old_api": "memcpy",
          "new_api": "msg_Dbg",
          "old_text": "memcpy(p_header->pBuffer, p_block->p_buffer, p_header->nFilledLen )",
          "new_text": "msg_Dbg(p_dec, \"buffer too small (%i,%i)\",\n                        (int)p_header->nFilledLen, (int)p_header->nAllocLen)",
          "old_line_content": "            memcpy(p_header->pBuffer, p_block->p_buffer, p_header->nFilledLen );",
          "new_line_content": "                msg_Dbg(p_dec, \"buffer too small (%i,%i)\",",
          "content_same": false
        },
        {
          "line": 1540,
          "old_api": "msg_Dbg",
          "new_api": "block_Release",
          "old_text": "msg_Dbg( p_dec, \"EmptyThisBuffer %p, %p, %i\", p_header, p_header->pBuffer,\n                 (int)p_header->nFilledLen )",
          "new_text": "block_Release(p_block)",
          "old_line_content": "        msg_Dbg( p_dec, \"EmptyThisBuffer %p, %p, %i\", p_header, p_header->pBuffer,",
          "new_line_content": "            block_Release(p_block);",
          "content_same": false
        },
        {
          "line": 1648,
          "old_api": "FromOmxTicks",
          "new_api": "memcpy",
          "old_text": "FromOmxTicks(p_header->nTimeStamp)",
          "new_text": "memcpy(p_block->p_buffer, p_header->pBuffer, p_header->nFilledLen )",
          "old_line_content": "            p_block->i_pts = p_block->i_dts = FromOmxTicks(p_header->nTimeStamp);",
          "new_line_content": "                memcpy(p_block->p_buffer, p_header->pBuffer, p_header->nFilledLen );",
          "content_same": false
        },
        {
          "line": 1678,
          "old_api": "DeinitOmxEventQueue",
          "new_api": "DeinitialiseComponent",
          "old_text": "DeinitOmxEventQueue(&p_sys->event_queue)",
          "new_text": "DeinitialiseComponent(p_dec, p_sys->omx_handle)",
          "old_line_content": "    DeinitOmxEventQueue(&p_sys->event_queue);",
          "new_line_content": "    if(p_sys->omx_handle) DeinitialiseComponent(p_dec, p_sys->omx_handle);",
          "content_same": false
        },
        {
          "line": 1680,
          "old_api": "OMX_FIFO_DESTROY",
          "new_api": "DeinitOmxCore",
          "old_text": "OMX_FIFO_DESTROY( &p_sys->in.fifo )",
          "new_text": "DeinitOmxCore()",
          "old_line_content": "    OMX_FIFO_DESTROY( &p_sys->in.fifo );",
          "new_line_content": "    DeinitOmxCore();",
          "content_same": false
        },
        {
          "line": 1731,
          "old_api": "UpdatePixelAspect",
          "new_api": "msg_Dbg",
          "old_text": "UpdatePixelAspect(p_dec)",
          "new_text": "msg_Dbg( p_dec, \"Unhandled setting change %x\", (unsigned int)data_2 )",
          "old_line_content": "        UpdatePixelAspect(p_dec);",
          "new_line_content": "            msg_Dbg( p_dec, \"Unhandled setting change %x\", (unsigned int)data_2 );",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1411,
          "old_api": null,
          "new_api": "GetPortDefinition",
          "old_text": null,
          "new_text": "GetPortDefinition(p_dec, p_port, p_port->p_fmt)",
          "old_line_content": "    }",
          "new_line_content": "            omx_error = GetPortDefinition(p_dec, p_port, p_port->p_fmt);",
          "content_same": false
        },
        {
          "line": 1539,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(p_header->pBuffer, p_block->p_buffer, p_header->nFilledLen )",
          "old_line_content": "#ifdef OMXIL_EXTRA_DEBUG",
          "new_line_content": "            memcpy(p_header->pBuffer, p_block->p_buffer, p_header->nFilledLen );",
          "content_same": false
        },
        {
          "line": 1413,
          "old_api": null,
          "new_api": "CHECK_ERROR",
          "old_text": null,
          "new_text": "CHECK_ERROR(omx_error, \"GetPortDefinition failed\")",
          "old_line_content": "    return p_pic;",
          "new_line_content": "            CHECK_ERROR(omx_error, \"GetPortDefinition failed\");",
          "content_same": false
        },
        {
          "line": 1544,
          "old_api": null,
          "new_api": "msg_Dbg",
          "old_text": null,
          "new_text": "msg_Dbg( p_dec, \"EmptyThisBuffer %p, %p, %i\", p_header, p_header->pBuffer,\n                 (int)p_header->nFilledLen )",
          "old_line_content": "        p_sys->in.b_flushed = false;",
          "new_line_content": "        msg_Dbg( p_dec, \"EmptyThisBuffer %p, %p, %i\", p_header, p_header->pBuffer,",
          "content_same": false
        },
        {
          "line": 1547,
          "old_api": null,
          "new_api": "OMX_EmptyThisBuffer",
          "old_text": null,
          "new_text": "OMX_EmptyThisBuffer(p_sys->omx_handle, p_header)",
          "old_line_content": "",
          "new_line_content": "        OMX_EmptyThisBuffer(p_sys->omx_handle, p_header);",
          "content_same": false
        },
        {
          "line": 1682,
          "old_api": null,
          "new_api": "DeinitOmxEventQueue",
          "old_text": null,
          "new_text": "DeinitOmxEventQueue(&p_sys->event_queue)",
          "old_line_content": "",
          "new_line_content": "    DeinitOmxEventQueue(&p_sys->event_queue);",
          "content_same": false
        },
        {
          "line": 1684,
          "old_api": null,
          "new_api": "OMX_FIFO_DESTROY",
          "old_text": null,
          "new_text": "OMX_FIFO_DESTROY( &p_sys->in.fifo )",
          "old_line_content": "}",
          "new_line_content": "    OMX_FIFO_DESTROY( &p_sys->in.fifo );",
          "content_same": false
        },
        {
          "line": 1685,
          "old_api": null,
          "new_api": "OMX_FIFO_DESTROY",
          "old_text": null,
          "new_text": "OMX_FIFO_DESTROY( &p_sys->out.fifo )",
          "old_line_content": "",
          "new_line_content": "    OMX_FIFO_DESTROY( &p_sys->out.fifo );",
          "content_same": false
        },
        {
          "line": 1559,
          "old_api": null,
          "new_api": "PortReconfigure",
          "old_text": null,
          "new_text": "PortReconfigure(p_dec, p_port)",
          "old_line_content": "    return p_buffer;",
          "new_line_content": "        omx_error = PortReconfigure(p_dec, p_port);",
          "content_same": false
        },
        {
          "line": 1560,
          "old_api": null,
          "new_api": "CHECK_ERROR",
          "old_text": null,
          "new_text": "CHECK_ERROR(omx_error, \"PortReconfigure failed\")",
          "old_line_content": "error:",
          "new_line_content": "        CHECK_ERROR(omx_error, \"PortReconfigure failed\");",
          "content_same": false
        },
        {
          "line": 1687,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( p_sys )",
          "old_line_content": " * OmxEventHandler:",
          "new_line_content": "    free( p_sys );",
          "content_same": false
        },
        {
          "line": 1442,
          "old_api": null,
          "new_api": "msg_Dbg",
          "old_text": null,
          "new_text": "msg_Dbg(p_dec, \"error during decoding\")",
          "old_line_content": "",
          "new_line_content": "        msg_Dbg(p_dec, \"error during decoding\");",
          "content_same": false
        },
        {
          "line": 1443,
          "old_api": null,
          "new_api": "block_Release",
          "old_text": null,
          "new_text": "block_Release( p_block )",
          "old_line_content": "    if( p_block->i_flags & (BLOCK_FLAG_DISCONTINUITY|BLOCK_FLAG_CORRUPTED) )",
          "new_line_content": "        block_Release( p_block );",
          "content_same": false
        },
        {
          "line": 1702,
          "old_api": null,
          "new_api": "PrintOmxEvent",
          "old_text": null,
          "new_text": "PrintOmxEvent((vlc_object_t *) p_dec, event, data_1, data_2, event_data)",
          "old_line_content": "        //p_sys->b_error = true;",
          "new_line_content": "    PrintOmxEvent((vlc_object_t *) p_dec, event, data_1, data_2, event_data);",
          "content_same": false
        },
        {
          "line": 1453,
          "old_api": null,
          "new_api": "msg_Dbg",
          "old_text": null,
          "new_text": "msg_Dbg(p_dec, \"flushing\")",
          "old_line_content": "        p_sys->in.b_flushed = true;",
          "new_line_content": "            msg_Dbg(p_dec, \"flushing\");",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": null,
          "new_api": "OMX_SendCommand",
          "old_text": null,
          "new_text": "OMX_SendCommand( p_sys->omx_handle, OMX_CommandFlush,\n                             p_sys->in.definition.nPortIndex, 0 )",
          "old_line_content": "        return NULL;",
          "new_line_content": "            OMX_SendCommand( p_sys->omx_handle, OMX_CommandFlush,",
          "content_same": false
        },
        {
          "line": 1587,
          "old_api": null,
          "new_api": "msg_Dbg",
          "old_text": null,
          "new_text": "msg_Dbg(p_dec, \"error during encoding\")",
          "old_line_content": "    /* Send the input buffer to the component */",
          "new_line_content": "        msg_Dbg(p_dec, \"error during encoding\");",
          "content_same": false
        },
        {
          "line": 1461,
          "old_api": null,
          "new_api": "date_Get",
          "old_text": null,
          "new_text": "date_Get( &p_sys->end_date )",
          "old_line_content": "            /* We've just started the stream, wait for the first PTS. */",
          "new_line_content": "    if( !date_Get( &p_sys->end_date ) )",
          "content_same": false
        },
        {
          "line": 1717,
          "old_api": null,
          "new_api": "calloc",
          "old_text": null,
          "new_text": "calloc(1, sizeof(*sentinel))",
          "old_line_content": "            }",
          "new_line_content": "            sentinel = calloc(1, sizeof(*sentinel));",
          "content_same": false
        },
        {
          "line": 1592,
          "old_api": null,
          "new_api": "OMX_FIFO_GET",
          "old_text": null,
          "new_text": "OMX_FIFO_GET(&p_sys->in.fifo, p_header)",
          "old_line_content": "         * Otherwise we memcopy the data */",
          "new_line_content": "    OMX_FIFO_GET(&p_sys->in.fifo, p_header);",
          "content_same": false
        },
        {
          "line": 1720,
          "old_api": null,
          "new_api": "OMX_FIFO_PUT",
          "old_text": null,
          "new_text": "OMX_FIFO_PUT(&p_sys->in.fifo, sentinel)",
          "old_line_content": "        {",
          "new_line_content": "                OMX_FIFO_PUT(&p_sys->in.fifo, sentinel);",
          "content_same": false
        },
        {
          "line": 1466,
          "old_api": null,
          "new_api": "block_Release",
          "old_text": null,
          "new_text": "block_Release( p_block )",
          "old_line_content": "    }",
          "new_line_content": "            block_Release( p_block );",
          "content_same": false
        },
        {
          "line": 1469,
          "old_api": null,
          "new_api": "date_Set",
          "old_text": null,
          "new_text": "date_Set( &p_sys->end_date, p_block->i_pts )",
          "old_line_content": "    while(!p_buffer)",
          "new_line_content": "        date_Set( &p_sys->end_date, p_block->i_pts );",
          "content_same": false
        },
        {
          "line": 1604,
          "old_api": null,
          "new_api": "CopyVlcPicture",
          "old_text": null,
          "new_text": "CopyVlcPicture(p_dec, p_header, p_pic)",
          "old_line_content": "        p_header->nOffset = 0;",
          "new_line_content": "            CopyVlcPicture(p_dec, p_header, p_pic);",
          "content_same": false
        },
        {
          "line": 1477,
          "old_api": null,
          "new_api": "OMX_FIFO_PEEK",
          "old_text": null,
          "new_text": "OMX_FIFO_PEEK(&p_sys->out.fifo, p_header)",
          "old_line_content": "            i_samples = p_header->nFilledLen / p_sys->out.p_fmt->audio.i_channels / 2;",
          "new_line_content": "        OMX_FIFO_PEEK(&p_sys->out.fifo, p_header);",
          "content_same": false
        },
        {
          "line": 1735,
          "old_api": null,
          "new_api": "UpdatePixelAspect",
          "old_text": null,
          "new_text": "UpdatePixelAspect(p_dec)",
          "old_line_content": "        break;",
          "new_line_content": "        UpdatePixelAspect(p_dec);",
          "content_same": false
        },
        {
          "line": 1610,
          "old_api": null,
          "new_api": "ToOmxTicks",
          "old_text": null,
          "new_text": "ToOmxTicks(p_pic->date)",
          "old_line_content": "#endif",
          "new_line_content": "        p_header->nTimeStamp = ToOmxTicks(p_pic->date);",
          "content_same": false
        },
        {
          "line": 1484,
          "old_api": null,
          "new_api": "decoder_NewAudioBuffer",
          "old_text": null,
          "new_text": "decoder_NewAudioBuffer( p_dec, i_samples )",
          "old_line_content": "            p_header->nFilledLen = 0;",
          "new_line_content": "            p_buffer = decoder_NewAudioBuffer( p_dec, i_samples );",
          "content_same": false
        },
        {
          "line": 1612,
          "old_api": null,
          "new_api": "msg_Dbg",
          "old_text": null,
          "new_text": "msg_Dbg( p_dec, \"EmptyThisBuffer %p, %p, %i\", p_header, p_header->pBuffer,\n                 (int)p_header->nFilledLen )",
          "old_line_content": "        p_sys->in.b_flushed = false;",
          "new_line_content": "        msg_Dbg( p_dec, \"EmptyThisBuffer %p, %p, %i\", p_header, p_header->pBuffer,",
          "content_same": false
        },
        {
          "line": 1742,
          "old_api": null,
          "new_api": "PostOmxEvent",
          "old_text": null,
          "new_text": "PostOmxEvent(&p_sys->event_queue, event, data_1, data_2, event_data)",
          "old_line_content": "static OMX_ERRORTYPE OmxEmptyBufferDone( OMX_HANDLETYPE omx_handle,",
          "new_line_content": "    PostOmxEvent(&p_sys->event_queue, event, data_1, data_2, event_data);",
          "content_same": false
        },
        {
          "line": 1487,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy( p_buffer->p_buffer, p_header->pBuffer, p_buffer->i_buffer )",
          "old_line_content": "            if( timestamp != 0 &&",
          "new_line_content": "            memcpy( p_buffer->p_buffer, p_header->pBuffer, p_buffer->i_buffer );",
          "content_same": false
        },
        {
          "line": 1615,
          "old_api": null,
          "new_api": "OMX_EmptyThisBuffer",
          "old_text": null,
          "new_text": "OMX_EmptyThisBuffer(p_sys->omx_handle, p_header)",
          "old_line_content": "    /* Handle the PortSettingsChanged events */",
          "new_line_content": "        OMX_EmptyThisBuffer(p_sys->omx_handle, p_header);",
          "content_same": false
        },
        {
          "line": 1490,
          "old_api": null,
          "new_api": "FromOmxTicks",
          "old_text": null,
          "new_text": "FromOmxTicks(p_header->nTimeStamp)",
          "old_line_content": "",
          "new_line_content": "            int64_t timestamp = FromOmxTicks(p_header->nTimeStamp);",
          "content_same": false
        },
        {
          "line": 1493,
          "old_api": null,
          "new_api": "date_Set",
          "old_text": null,
          "new_text": "date_Set( &p_sys->end_date, timestamp )",
          "old_line_content": "                p_buffer->i_pts;",
          "new_line_content": "                date_Set( &p_sys->end_date, timestamp );",
          "content_same": false
        },
        {
          "line": 1495,
          "old_api": null,
          "new_api": "date_Get",
          "old_text": null,
          "new_text": "date_Get( &p_sys->end_date )",
          "old_line_content": "",
          "new_line_content": "            p_buffer->i_pts = date_Get( &p_sys->end_date );",
          "content_same": false
        },
        {
          "line": 1496,
          "old_api": null,
          "new_api": "date_Increment",
          "old_text": null,
          "new_text": "date_Increment( &p_sys->end_date, i_samples )",
          "old_line_content": "#ifdef OMXIL_EXTRA_DEBUG",
          "new_line_content": "            p_buffer->i_length = date_Increment( &p_sys->end_date, i_samples ) -",
          "content_same": false
        },
        {
          "line": 1625,
          "old_api": null,
          "new_api": "PortReconfigure",
          "old_text": null,
          "new_text": "PortReconfigure(p_dec, p_port)",
          "old_line_content": "    /* Wait for the decoded frame */",
          "new_line_content": "        omx_error = PortReconfigure(p_dec, p_port);",
          "content_same": false
        },
        {
          "line": 1626,
          "old_api": null,
          "new_api": "CHECK_ERROR",
          "old_text": null,
          "new_text": "CHECK_ERROR(omx_error, \"PortReconfigure failed\")",
          "old_line_content": "    while(!p_block)",
          "new_line_content": "        CHECK_ERROR(omx_error, \"PortReconfigure failed\");",
          "content_same": false
        },
        {
          "line": 1754,
          "old_api": null,
          "new_api": "msg_Dbg",
          "old_text": null,
          "new_text": "msg_Dbg( p_dec, \"OmxEmptyBufferDone %p, %p\", omx_header, omx_header->pBuffer )",
          "old_line_content": "    {",
          "new_line_content": "    msg_Dbg( p_dec, \"OmxEmptyBufferDone %p, %p\", omx_header, omx_header->pBuffer );",
          "content_same": false
        },
        {
          "line": 1501,
          "old_api": null,
          "new_api": "msg_Dbg",
          "old_text": null,
          "new_text": "msg_Dbg( p_dec, \"FillThisBuffer %p, %p\", p_header, p_header->pBuffer )",
          "old_line_content": "    }",
          "new_line_content": "        msg_Dbg( p_dec, \"FillThisBuffer %p, %p\", p_header, p_header->pBuffer );",
          "content_same": false
        },
        {
          "line": 1503,
          "old_api": null,
          "new_api": "OMX_FIFO_GET",
          "old_text": null,
          "new_text": "OMX_FIFO_GET(&p_sys->out.fifo, p_header)",
          "old_line_content": "",
          "new_line_content": "        OMX_FIFO_GET(&p_sys->out.fifo, p_header);",
          "content_same": false
        },
        {
          "line": 1504,
          "old_api": null,
          "new_api": "OMX_FillThisBuffer",
          "old_text": null,
          "new_text": "OMX_FillThisBuffer(p_sys->omx_handle, p_header)",
          "old_line_content": "    /* Send the input buffer to the component */",
          "new_line_content": "        OMX_FillThisBuffer(p_sys->omx_handle, p_header);",
          "content_same": false
        },
        {
          "line": 1632,
          "old_api": null,
          "new_api": "OMX_FIFO_GET",
          "old_text": null,
          "new_text": "OMX_FIFO_GET(&p_sys->out.fifo, p_header)",
          "old_line_content": "            if(p_header->nFlags & OMX_BUFFERFLAG_CODECCONFIG)",
          "new_line_content": "        OMX_FIFO_GET(&p_sys->out.fifo, p_header);",
          "content_same": false
        },
        {
          "line": 1761,
          "old_api": null,
          "new_api": "block_Release",
          "old_text": null,
          "new_text": "block_Release(p_block)",
          "old_line_content": "",
          "new_line_content": "        if(p_block) block_Release(p_block);",
          "content_same": false
        },
        {
          "line": 1764,
          "old_api": null,
          "new_api": "OMX_FIFO_PUT",
          "old_text": null,
          "new_text": "OMX_FIFO_PUT(&p_sys->in.fifo, omx_header)",
          "old_line_content": "",
          "new_line_content": "    OMX_FIFO_PUT(&p_sys->in.fifo, omx_header);",
          "content_same": false
        },
        {
          "line": 1509,
          "old_api": null,
          "new_api": "OMX_FIFO_GET_TIMEOUT",
          "old_text": null,
          "new_text": "OMX_FIFO_GET_TIMEOUT(&p_sys->in.fifo, p_header, 200000)",
          "old_line_content": "        goto reconfig;",
          "new_line_content": "    OMX_FIFO_GET_TIMEOUT(&p_sys->in.fifo, p_header, 200000);",
          "content_same": false
        },
        {
          "line": 1639,
          "old_api": null,
          "new_api": "msg_Dbg",
          "old_text": null,
          "new_text": "msg_Dbg(p_dec, \"received codec config %i\", (int)p_header->nFilledLen)",
          "old_line_content": "            if(!p_block)",
          "new_line_content": "                msg_Dbg(p_dec, \"received codec config %i\", (int)p_header->nFilledLen);",
          "content_same": false
        },
        {
          "line": 1512,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(p_header)",
          "old_line_content": "    if(p_header)",
          "new_line_content": "        free(p_header);",
          "content_same": false
        },
        {
          "line": 1647,
          "old_api": null,
          "new_api": "block_Alloc",
          "old_text": null,
          "new_text": "block_Alloc( p_header->nFilledLen )",
          "old_line_content": "            p_block->i_buffer = p_header->nFilledLen;",
          "new_line_content": "                p_block = block_Alloc( p_header->nFilledLen );",
          "content_same": false
        },
        {
          "line": 1521,
          "old_api": null,
          "new_api": "ToOmxTicks",
          "old_text": null,
          "new_text": "ToOmxTicks(p_block->i_dts)",
          "old_line_content": "        if(p_sys->in.b_direct)",
          "new_line_content": "        p_header->nTimeStamp = ToOmxTicks(p_block->i_dts);",
          "content_same": false
        },
        {
          "line": 1777,
          "old_api": null,
          "new_api": "msg_Dbg",
          "old_text": null,
          "new_text": "msg_Dbg( p_dec, \"OmxFillBufferDone %p, %p, %i, %\"PRId64, omx_header, omx_header->pBuffer,\n             (int)omx_header->nFilledLen, FromOmxTicks(omx_header->nTimeStamp) )",
          "old_line_content": "    if(omx_header->pInputPortPrivate)",
          "new_line_content": "    msg_Dbg( p_dec, \"OmxFillBufferDone %p, %p, %i, %\"PRId64, omx_header, omx_header->pBuffer,",
          "content_same": false
        },
        {
          "line": 1395,
          "old_api": null,
          "new_api": "DecodeVideoOutput",
          "old_text": null,
          "new_text": "DecodeVideoOutput( p_dec, &p_sys->out, &p_pic )",
          "old_line_content": "    /* Handle the PortSettingsChanged events */",
          "new_line_content": "    if( !p_pic && DecodeVideoOutput( p_dec, &p_sys->out, &p_pic ) != 0 )",
          "content_same": false
        },
        {
          "line": 1652,
          "old_api": null,
          "new_api": "FromOmxTicks",
          "old_text": null,
          "new_text": "FromOmxTicks(p_header->nTimeStamp)",
          "old_line_content": "",
          "new_line_content": "            p_block->i_pts = p_block->i_dts = FromOmxTicks(p_header->nTimeStamp);",
          "content_same": false
        },
        {
          "line": 1778,
          "old_api": null,
          "new_api": "FromOmxTicks",
          "old_text": null,
          "new_text": "FromOmxTicks(omx_header->nTimeStamp)",
          "old_line_content": "    {",
          "new_line_content": "             (int)omx_header->nFilledLen, FromOmxTicks(omx_header->nTimeStamp) );",
          "content_same": false
        },
        {
          "line": 1785,
          "old_api": null,
          "new_api": "OMX_FIFO_PUT",
          "old_text": null,
          "new_text": "OMX_FIFO_PUT(&p_sys->out.fifo, omx_header)",
          "old_line_content": "",
          "new_line_content": "    OMX_FIFO_PUT(&p_sys->out.fifo, omx_header);",
          "content_same": false
        },
        {
          "line": 1658,
          "old_api": null,
          "new_api": "msg_Dbg",
          "old_text": null,
          "new_text": "msg_Dbg( p_dec, \"FillThisBuffer %p, %p\", p_header, p_header->pBuffer )",
          "old_line_content": "",
          "new_line_content": "        msg_Dbg( p_dec, \"FillThisBuffer %p, %p\", p_header, p_header->pBuffer );",
          "content_same": false
        },
        {
          "line": 1660,
          "old_api": null,
          "new_api": "OMX_FillThisBuffer",
          "old_text": null,
          "new_text": "OMX_FillThisBuffer(p_sys->omx_handle, p_header)",
          "old_line_content": "    return p_block;",
          "new_line_content": "        OMX_FillThisBuffer(p_sys->omx_handle, p_header);",
          "content_same": false
        },
        {
          "line": 1405,
          "old_api": null,
          "new_api": "PortReconfigure",
          "old_text": null,
          "new_text": "PortReconfigure(p_dec, p_port)",
          "old_line_content": "        if(p_port->b_update_def)",
          "new_line_content": "            omx_error = PortReconfigure(p_dec, p_port);",
          "content_same": false
        },
        {
          "line": 1663,
          "old_api": null,
          "new_api": "msg_Dbg",
          "old_text": null,
          "new_text": "msg_Dbg(p_dec, \"done\")",
          "old_line_content": "    return NULL;",
          "new_line_content": "    msg_Dbg(p_dec, \"done\");",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1536,
          "old_api": "block_Release",
          "new_api": null,
          "old_text": "block_Release(p_block)",
          "new_text": null,
          "old_line_content": "            block_Release(p_block);",
          "new_line_content": "                        (int)p_header->nFilledLen, (int)p_header->nAllocLen);",
          "content_same": false
        },
        {
          "line": 1409,
          "old_api": "CHECK_ERROR",
          "new_api": null,
          "old_text": "CHECK_ERROR(omx_error, \"GetPortDefinition failed\")",
          "new_text": null,
          "old_line_content": "            CHECK_ERROR(omx_error, \"GetPortDefinition failed\");",
          "new_line_content": "        if(p_port->b_update_def)",
          "content_same": false
        },
        {
          "line": 1543,
          "old_api": "OMX_EmptyThisBuffer",
          "new_api": null,
          "old_text": "OMX_EmptyThisBuffer(p_sys->omx_handle, p_header)",
          "new_text": null,
          "old_line_content": "        OMX_EmptyThisBuffer(p_sys->omx_handle, p_header);",
          "new_line_content": "#ifdef OMXIL_EXTRA_DEBUG",
          "content_same": false
        },
        {
          "line": 1674,
          "old_api": "DeinitialiseComponent",
          "new_api": null,
          "old_text": "DeinitialiseComponent(p_dec, p_sys->omx_handle)",
          "new_text": null,
          "old_line_content": "    if(p_sys->omx_handle) DeinitialiseComponent(p_dec, p_sys->omx_handle);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1676,
          "old_api": "DeinitOmxCore",
          "new_api": null,
          "old_text": "DeinitOmxCore()",
          "new_text": null,
          "old_line_content": "    DeinitOmxCore();",
          "new_line_content": "    decoder_sys_t *p_sys = p_dec->p_sys;",
          "content_same": false
        },
        {
          "line": 1681,
          "old_api": "OMX_FIFO_DESTROY",
          "new_api": null,
          "old_text": "OMX_FIFO_DESTROY( &p_sys->out.fifo )",
          "new_text": null,
          "old_line_content": "    OMX_FIFO_DESTROY( &p_sys->out.fifo );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1555,
          "old_api": "PortReconfigure",
          "new_api": null,
          "old_text": "PortReconfigure(p_dec, p_port)",
          "new_text": null,
          "old_line_content": "        omx_error = PortReconfigure(p_dec, p_port);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1556,
          "old_api": "CHECK_ERROR",
          "new_api": null,
          "old_text": "CHECK_ERROR(omx_error, \"PortReconfigure failed\")",
          "new_text": null,
          "old_line_content": "        CHECK_ERROR(omx_error, \"PortReconfigure failed\");",
          "new_line_content": "        OmxPort *p_port = &p_sys->p_ports[i];",
          "content_same": false
        },
        {
          "line": 1683,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( p_sys )",
          "new_text": null,
          "old_line_content": "    free( p_sys );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1531,
          "old_api": "msg_Dbg",
          "new_api": null,
          "old_text": "msg_Dbg(p_dec, \"buffer too small (%i,%i)\",\n                        (int)p_header->nFilledLen, (int)p_header->nAllocLen)",
          "new_text": null,
          "old_line_content": "                msg_Dbg(p_dec, \"buffer too small (%i,%i)\",",
          "new_line_content": "        else",
          "content_same": false
        },
        {
          "line": 1659,
          "old_api": "msg_Dbg",
          "new_api": null,
          "old_text": "msg_Dbg(p_dec, \"done\")",
          "new_text": null,
          "old_line_content": "    msg_Dbg(p_dec, \"done\");",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1438,
          "old_api": "msg_Dbg",
          "new_api": null,
          "old_text": "msg_Dbg(p_dec, \"error during decoding\")",
          "new_text": null,
          "old_line_content": "        msg_Dbg(p_dec, \"error during decoding\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1439,
          "old_api": "block_Release",
          "new_api": null,
          "old_text": "block_Release( p_block )",
          "new_text": null,
          "old_line_content": "        block_Release( p_block );",
          "new_line_content": "    /* Check for errors from codec */",
          "content_same": false
        },
        {
          "line": 1698,
          "old_api": "PrintOmxEvent",
          "new_api": null,
          "old_text": "PrintOmxEvent((vlc_object_t *) p_dec, event, data_1, data_2, event_data)",
          "new_text": null,
          "old_line_content": "    PrintOmxEvent((vlc_object_t *) p_dec, event, data_1, data_2, event_data);",
          "new_line_content": "    decoder_sys_t *p_sys = p_dec->p_sys;",
          "content_same": false
        },
        {
          "line": 1445,
          "old_api": "block_Release",
          "new_api": null,
          "old_text": "block_Release( p_block )",
          "new_text": null,
          "old_line_content": "        block_Release( p_block );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1446,
          "old_api": "date_Set",
          "new_api": null,
          "old_text": "date_Set( &p_sys->end_date, 0 )",
          "new_text": null,
          "old_line_content": "        date_Set( &p_sys->end_date, 0 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1583,
          "old_api": "msg_Dbg",
          "new_api": null,
          "old_text": "msg_Dbg(p_dec, \"error during encoding\")",
          "new_text": null,
          "old_line_content": "        msg_Dbg(p_dec, \"error during encoding\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1457,
          "old_api": "date_Get",
          "new_api": null,
          "old_text": "date_Get( &p_sys->end_date )",
          "new_text": null,
          "old_line_content": "    if( !date_Get( &p_sys->end_date ) )",
          "new_line_content": "        p_sys->in.b_flushed = true;",
          "content_same": false
        },
        {
          "line": 1713,
          "old_api": "calloc",
          "new_api": null,
          "old_text": "calloc(1, sizeof(*sentinel))",
          "new_text": null,
          "old_line_content": "            sentinel = calloc(1, sizeof(*sentinel));",
          "new_line_content": "            OMX_BUFFERHEADERTYPE *sentinel;",
          "content_same": false
        },
        {
          "line": 1588,
          "old_api": "OMX_FIFO_GET",
          "new_api": null,
          "old_text": "OMX_FIFO_GET(&p_sys->in.fifo, p_header)",
          "new_text": null,
          "old_line_content": "    OMX_FIFO_GET(&p_sys->in.fifo, p_header);",
          "new_line_content": "        return NULL;",
          "content_same": false
        },
        {
          "line": 1716,
          "old_api": "OMX_FIFO_PUT",
          "new_api": null,
          "old_text": "OMX_FIFO_PUT(&p_sys->in.fifo, sentinel)",
          "new_text": null,
          "old_line_content": "                OMX_FIFO_PUT(&p_sys->in.fifo, sentinel);",
          "new_line_content": "                    p_sys->p_ports[i].b_reconfigure = true;",
          "content_same": false
        },
        {
          "line": 1462,
          "old_api": "block_Release",
          "new_api": null,
          "old_text": "block_Release( p_block )",
          "new_text": null,
          "old_line_content": "            block_Release( p_block );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1465,
          "old_api": "date_Set",
          "new_api": null,
          "old_text": "date_Set( &p_sys->end_date, p_block->i_pts )",
          "new_text": null,
          "old_line_content": "        date_Set( &p_sys->end_date, p_block->i_pts );",
          "new_line_content": "            /* We've just started the stream, wait for the first PTS. */",
          "content_same": false
        },
        {
          "line": 1727,
          "old_api": "msg_Dbg",
          "new_api": null,
          "old_text": "msg_Dbg( p_dec, \"Unhandled setting change %x\", (unsigned int)data_2 )",
          "new_text": null,
          "old_line_content": "            msg_Dbg( p_dec, \"Unhandled setting change %x\", (unsigned int)data_2 );",
          "new_line_content": "                    p_sys->p_ports[i].b_update_def = true;",
          "content_same": false
        },
        {
          "line": 1600,
          "old_api": "CopyVlcPicture",
          "new_api": null,
          "old_text": "CopyVlcPicture(p_dec, p_header, p_pic)",
          "new_text": null,
          "old_line_content": "            CopyVlcPicture(p_dec, p_header, p_pic);",
          "new_line_content": "            p_header->pBuffer = p_pic->p[0].p_pixels;",
          "content_same": false
        },
        {
          "line": 1473,
          "old_api": "OMX_FIFO_PEEK",
          "new_api": null,
          "old_text": "OMX_FIFO_PEEK(&p_sys->out.fifo, p_header)",
          "new_text": null,
          "old_line_content": "        OMX_FIFO_PEEK(&p_sys->out.fifo, p_header);",
          "new_line_content": "    while(!p_buffer)",
          "content_same": false
        },
        {
          "line": 1606,
          "old_api": "ToOmxTicks",
          "new_api": null,
          "old_text": "ToOmxTicks(p_pic->date)",
          "new_text": null,
          "old_line_content": "        p_header->nTimeStamp = ToOmxTicks(p_pic->date);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1480,
          "old_api": "decoder_NewAudioBuffer",
          "new_api": null,
          "old_text": "decoder_NewAudioBuffer( p_dec, i_samples )",
          "new_text": null,
          "old_line_content": "            p_buffer = decoder_NewAudioBuffer( p_dec, i_samples );",
          "new_line_content": "        if (p_sys->out.p_fmt->audio.i_channels)",
          "content_same": false
        },
        {
          "line": 1608,
          "old_api": "msg_Dbg",
          "new_api": null,
          "old_text": "msg_Dbg( p_dec, \"EmptyThisBuffer %p, %p, %i\", p_header, p_header->pBuffer,\n                 (int)p_header->nFilledLen )",
          "new_text": null,
          "old_line_content": "        msg_Dbg( p_dec, \"EmptyThisBuffer %p, %p, %i\", p_header, p_header->pBuffer,",
          "new_line_content": "        p_header->nOffset = 0;",
          "content_same": false
        },
        {
          "line": 1738,
          "old_api": "PostOmxEvent",
          "new_api": null,
          "old_text": "PostOmxEvent(&p_sys->event_queue, event, data_1, data_2, event_data)",
          "new_text": null,
          "old_line_content": "    PostOmxEvent(&p_sys->event_queue, event, data_1, data_2, event_data);",
          "new_line_content": "    default:",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy( p_buffer->p_buffer, p_header->pBuffer, p_buffer->i_buffer )",
          "new_text": null,
          "old_line_content": "            memcpy( p_buffer->p_buffer, p_header->pBuffer, p_buffer->i_buffer );",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1611,
          "old_api": "OMX_EmptyThisBuffer",
          "new_api": null,
          "old_text": "OMX_EmptyThisBuffer(p_sys->omx_handle, p_header)",
          "new_text": null,
          "old_line_content": "        OMX_EmptyThisBuffer(p_sys->omx_handle, p_header);",
          "new_line_content": "#ifdef OMXIL_EXTRA_DEBUG",
          "content_same": false
        },
        {
          "line": 1486,
          "old_api": "FromOmxTicks",
          "new_api": null,
          "old_text": "FromOmxTicks(p_header->nTimeStamp)",
          "new_text": null,
          "old_line_content": "            int64_t timestamp = FromOmxTicks(p_header->nTimeStamp);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1488,
          "old_api": "date_Get",
          "new_api": null,
          "old_text": "date_Get( &p_sys->end_date )",
          "new_text": null,
          "old_line_content": "                timestamp != date_Get( &p_sys->end_date ) )",
          "new_line_content": "            p_header->nFilledLen = 0;",
          "content_same": false
        },
        {
          "line": 1489,
          "old_api": "date_Set",
          "new_api": null,
          "old_text": "date_Set( &p_sys->end_date, timestamp )",
          "new_text": null,
          "old_line_content": "                date_Set( &p_sys->end_date, timestamp );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1491,
          "old_api": "date_Get",
          "new_api": null,
          "old_text": "date_Get( &p_sys->end_date )",
          "new_text": null,
          "old_line_content": "            p_buffer->i_pts = date_Get( &p_sys->end_date );",
          "new_line_content": "            if( timestamp != 0 &&",
          "content_same": false
        },
        {
          "line": 1621,
          "old_api": "PortReconfigure",
          "new_api": null,
          "old_text": "PortReconfigure(p_dec, p_port)",
          "new_text": null,
          "old_line_content": "        omx_error = PortReconfigure(p_dec, p_port);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1622,
          "old_api": "CHECK_ERROR",
          "new_api": null,
          "old_text": "CHECK_ERROR(omx_error, \"PortReconfigure failed\")",
          "new_text": null,
          "old_line_content": "        CHECK_ERROR(omx_error, \"PortReconfigure failed\");",
          "new_line_content": "        OmxPort *p_port = &p_sys->p_ports[i];",
          "content_same": false
        },
        {
          "line": 1750,
          "old_api": "msg_Dbg",
          "new_api": null,
          "old_text": "msg_Dbg( p_dec, \"OmxEmptyBufferDone %p, %p\", omx_header, omx_header->pBuffer )",
          "new_text": null,
          "old_line_content": "    msg_Dbg( p_dec, \"OmxEmptyBufferDone %p, %p\", omx_header, omx_header->pBuffer );",
          "new_line_content": "    decoder_sys_t *p_sys = p_dec->p_sys;",
          "content_same": false
        },
        {
          "line": 1497,
          "old_api": "msg_Dbg",
          "new_api": null,
          "old_text": "msg_Dbg( p_dec, \"FillThisBuffer %p, %p\", p_header, p_header->pBuffer )",
          "new_text": null,
          "old_line_content": "        msg_Dbg( p_dec, \"FillThisBuffer %p, %p\", p_header, p_header->pBuffer );",
          "new_line_content": "                p_buffer->i_pts;",
          "content_same": false
        },
        {
          "line": 1499,
          "old_api": "OMX_FIFO_GET",
          "new_api": null,
          "old_text": "OMX_FIFO_GET(&p_sys->out.fifo, p_header)",
          "new_text": null,
          "old_line_content": "        OMX_FIFO_GET(&p_sys->out.fifo, p_header);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1500,
          "old_api": "OMX_FillThisBuffer",
          "new_api": null,
          "old_text": "OMX_FillThisBuffer(p_sys->omx_handle, p_header)",
          "new_text": null,
          "old_line_content": "        OMX_FillThisBuffer(p_sys->omx_handle, p_header);",
          "new_line_content": "#ifdef OMXIL_EXTRA_DEBUG",
          "content_same": false
        },
        {
          "line": 1628,
          "old_api": "OMX_FIFO_GET",
          "new_api": null,
          "old_text": "OMX_FIFO_GET(&p_sys->out.fifo, p_header)",
          "new_text": null,
          "old_line_content": "        OMX_FIFO_GET(&p_sys->out.fifo, p_header);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1757,
          "old_api": "block_Release",
          "new_api": null,
          "old_text": "block_Release(p_block)",
          "new_text": null,
          "old_line_content": "        if(p_block) block_Release(p_block);",
          "new_line_content": "    if(omx_header->pAppPrivate || omx_header->pOutputPortPrivate)",
          "content_same": false
        },
        {
          "line": 1760,
          "old_api": "OMX_FIFO_PUT",
          "new_api": null,
          "old_text": "OMX_FIFO_PUT(&p_sys->in.fifo, omx_header)",
          "new_text": null,
          "old_line_content": "    OMX_FIFO_PUT(&p_sys->in.fifo, omx_header);",
          "new_line_content": "        omx_header->pBuffer = omx_header->pOutputPortPrivate;",
          "content_same": false
        },
        {
          "line": 1505,
          "old_api": "OMX_FIFO_GET_TIMEOUT",
          "new_api": null,
          "old_text": "OMX_FIFO_GET_TIMEOUT(&p_sys->in.fifo, p_header, 200000)",
          "new_text": null,
          "old_line_content": "    OMX_FIFO_GET_TIMEOUT(&p_sys->in.fifo, p_header, 200000);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1635,
          "old_api": "msg_Dbg",
          "new_api": null,
          "old_text": "msg_Dbg(p_dec, \"received codec config %i\", (int)p_header->nFilledLen)",
          "new_text": null,
          "old_line_content": "                msg_Dbg(p_dec, \"received codec config %i\", (int)p_header->nFilledLen);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1508,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(p_header)",
          "new_text": null,
          "old_line_content": "        free(p_header);",
          "new_line_content": "    /* Send the input buffer to the component */",
          "content_same": false
        },
        {
          "line": 1643,
          "old_api": "block_Alloc",
          "new_api": null,
          "old_text": "block_Alloc( p_header->nFilledLen )",
          "new_text": null,
          "old_line_content": "                p_block = block_Alloc( p_header->nFilledLen );",
          "new_line_content": "            if(!p_block)",
          "content_same": false
        },
        {
          "line": 1644,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(p_block->p_buffer, p_header->pBuffer, p_header->nFilledLen )",
          "new_text": null,
          "old_line_content": "                memcpy(p_block->p_buffer, p_header->pBuffer, p_header->nFilledLen );",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1517,
          "old_api": "ToOmxTicks",
          "new_api": null,
          "old_text": "ToOmxTicks(p_block->i_dts)",
          "new_text": null,
          "old_line_content": "        p_header->nTimeStamp = ToOmxTicks(p_block->i_dts);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1773,
          "old_api": "msg_Dbg",
          "new_api": null,
          "old_text": "msg_Dbg( p_dec, \"OmxFillBufferDone %p, %p, %i, %\"PRId64, omx_header, omx_header->pBuffer,\n             (int)omx_header->nFilledLen, FromOmxTicks(omx_header->nTimeStamp) )",
          "new_text": null,
          "old_line_content": "    msg_Dbg( p_dec, \"OmxFillBufferDone %p, %p, %i, %\"PRId64, omx_header, omx_header->pBuffer,",
          "new_line_content": "    decoder_sys_t *p_sys = p_dec->p_sys;",
          "content_same": false
        },
        {
          "line": 1774,
          "old_api": "FromOmxTicks",
          "new_api": null,
          "old_text": "FromOmxTicks(omx_header->nTimeStamp)",
          "new_text": null,
          "old_line_content": "             (int)omx_header->nFilledLen, FromOmxTicks(omx_header->nTimeStamp) );",
          "new_line_content": "    (void)omx_handle;",
          "content_same": false
        },
        {
          "line": 1781,
          "old_api": "OMX_FIFO_PUT",
          "new_api": null,
          "old_text": "OMX_FIFO_PUT(&p_sys->out.fifo, omx_header)",
          "new_text": null,
          "old_line_content": "    OMX_FIFO_PUT(&p_sys->out.fifo, omx_header);",
          "new_line_content": "    if(omx_header->pInputPortPrivate)",
          "content_same": false
        },
        {
          "line": 1654,
          "old_api": "msg_Dbg",
          "new_api": null,
          "old_text": "msg_Dbg( p_dec, \"FillThisBuffer %p, %p\", p_header, p_header->pBuffer )",
          "new_text": null,
          "old_line_content": "        msg_Dbg( p_dec, \"FillThisBuffer %p, %p\", p_header, p_header->pBuffer );",
          "new_line_content": "            p_header->pAppPrivate = 0;",
          "content_same": false
        },
        {
          "line": 1656,
          "old_api": "OMX_FillThisBuffer",
          "new_api": null,
          "old_text": "OMX_FillThisBuffer(p_sys->omx_handle, p_header)",
          "new_text": null,
          "old_line_content": "        OMX_FillThisBuffer(p_sys->omx_handle, p_header);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1401,
          "old_api": "PortReconfigure",
          "new_api": null,
          "old_text": "PortReconfigure(p_dec, p_port)",
          "new_text": null,
          "old_line_content": "            omx_error = PortReconfigure(p_dec, p_port);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": "CHECK_ERROR",
          "new_api": null,
          "old_text": "CHECK_ERROR(omx_error, \"PortReconfigure failed\")",
          "new_text": null,
          "old_line_content": "            CHECK_ERROR(omx_error, \"PortReconfigure failed\");",
          "new_line_content": "        if(p_port->b_reconfigure)",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 10,
      "total_additions": 59,
      "total_deletions": 58,
      "total_api_changes": 127
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 4,
        "api_related_lines": 127,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          1394,
          1396,
          1397
        ]
      }
    },
    "api_calls_before": 323,
    "api_calls_after": 324,
    "diff_info": {
      "added_lines": 4,
      "removed_lines": 0,
      "total_diff_lines": 16
    }
  }
}