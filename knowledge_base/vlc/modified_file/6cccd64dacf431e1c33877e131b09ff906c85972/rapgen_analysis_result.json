{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/6cccd64dacf431e1c33877e131b09ff906c85972",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/6cccd64dacf431e1c33877e131b09ff906c85972/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/6cccd64dacf431e1c33877e131b09ff906c85972/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/6cccd64dacf431e1c33877e131b09ff906c85972/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1159,
          "old_api": "asprintf",
          "new_api": "strlen",
          "old_text": "asprintf( &psz_header, \"%s%s\\n\",\n                       p_sys->psz_header ? p_sys->psz_header : \"\", s )",
          "new_text": "strlen( s )",
          "old_line_content": "        if( asprintf( &psz_header, \"%s%s\\n\",",
          "new_line_content": "        size_t s_len = strlen( s );",
          "content_same": false
        },
        {
          "line": 1225,
          "old_api": "strlen",
          "new_api": "strcasestr",
          "old_text": "strlen( psz_str )",
          "new_text": "strcasestr( psz_start, psz_str )",
          "old_line_content": "        return &s[strlen( psz_str )];",
          "new_line_content": "        char *s = strcasestr( psz_start, psz_str );",
          "content_same": false
        },
        {
          "line": 1237,
          "old_api": "strlen",
          "new_api": "strcasestr",
          "old_text": "strlen( psz_str )",
          "new_text": "strcasestr( p, psz_str )",
          "old_line_content": "            return &s[strlen( psz_str )];",
          "new_line_content": "            char *s = strcasestr( p, psz_str );",
          "content_same": false
        },
        {
          "line": 1393,
          "old_api": "realloc_or_free",
          "new_api": "strlen",
          "old_text": "realloc_or_free( psz_text, i_old + i_len + 1 + 1 )",
          "new_text": "strlen( psz_text )",
          "old_line_content": "        psz_text = realloc_or_free( psz_text, i_old + i_len + 1 + 1 );",
          "new_line_content": "        i_old = strlen( psz_text );",
          "content_same": false
        },
        {
          "line": 1608,
          "old_api": "var_SetFloat",
          "new_api": "var_GetFloat",
          "old_text": "var_SetFloat( p_demux, \"sub-fps\", f_fps )",
          "new_text": "var_GetFloat( p_demux, \"sub-fps\" )",
          "old_line_content": "                    var_SetFloat( p_demux, \"sub-fps\", f_fps );",
          "new_line_content": "                if( f_fps > 0.f && var_GetFloat( p_demux, \"sub-fps\" ) <= 0.f )",
          "content_same": false
        },
        {
          "line": 1896,
          "old_api": "free",
          "new_api": "msg_Dbg",
          "old_text": "free( psz_orig )",
          "new_text": "msg_Dbg( p_demux, \"%s\", p_subtitle->psz_text )",
          "old_line_content": "    free( psz_orig );",
          "new_line_content": "    msg_Dbg( p_demux, \"%s\", p_subtitle->psz_text );",
          "content_same": false
        },
        {
          "line": 1973,
          "old_api": "free",
          "new_api": "TextGetLine",
          "old_text": "free( psz_text )",
          "new_text": "TextGetLine( txt )",
          "old_line_content": "        free( psz_text );",
          "new_line_content": "        const char *s = TextGetLine( txt );",
          "content_same": false
        },
        {
          "line": 2225,
          "old_api": "realloc_or_free",
          "new_api": "strlen",
          "old_text": "realloc_or_free( psz_text, i_old + i_len + 1 + 1 )",
          "new_text": "strlen( psz_text )",
          "old_line_content": "        psz_text = realloc_or_free( psz_text, i_old + i_len + 1 + 1 );",
          "new_line_content": "        i_old = strlen( psz_text );",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1536,
          "old_api": null,
          "new_api": "sscanf (s, \"%d,%d,\\\"%[^\\n\\r]\", &t1, &t2, psz_text )",
          "old_text": null,
          "new_text": "sscanf (s, \"%d,%d,\\\"%[^\\n\\r]\", &t1, &t2, psz_text )",
          "old_line_content": "        {",
          "new_line_content": "        if( sscanf (s, \"%d,%d,\\\"%[^\\n\\r]\", &t1, &t2, psz_text ) == 3 )",
          "content_same": false
        },
        {
          "line": 2053,
          "old_api": null,
          "new_api": "VLC_UNUSED",
          "old_text": null,
          "new_text": "VLC_UNUSED( i_idx )",
          "old_line_content": "",
          "new_line_content": "    VLC_UNUSED( i_idx );",
          "content_same": false
        },
        {
          "line": 1542,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(psz_text)",
          "old_line_content": "",
          "new_line_content": "            psz_text[ strlen(psz_text) - 1 ] = '\\0';",
          "content_same": false
        },
        {
          "line": 1546,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_text )",
          "old_line_content": "    }",
          "new_line_content": "        free( psz_text );",
          "content_same": false
        },
        {
          "line": 2063,
          "old_api": null,
          "new_api": "TextGetLine",
          "old_text": null,
          "new_text": "TextGetLine( txt )",
          "old_line_content": "",
          "new_line_content": "        char *s = TextGetLine( txt );",
          "content_same": false
        },
        {
          "line": 2068,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen( s )",
          "old_line_content": "        if( !psz_text )",
          "new_line_content": "        psz_text = malloc( strlen( s ) + 1 );",
          "content_same": false
        },
        {
          "line": 1557,
          "old_api": null,
          "new_api": "msg_Dbg",
          "old_text": null,
          "new_text": "msg_Dbg( p_demux, \"%s\", psz_text )",
          "old_line_content": "    return VLC_SUCCESS;",
          "new_line_content": "    msg_Dbg( p_demux, \"%s\", psz_text );",
          "content_same": false
        },
        {
          "line": 2072,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( s, \"[%d:%d:%d]%[^\\r\\n]\",\n                    &h1, &m1, &s1, psz_text )",
          "old_line_content": "                    &h1, &m1, &s1, psz_text ) == 4 )",
          "new_line_content": "        if( sscanf( s, \"[%d:%d:%d]%[^\\r\\n]\",",
          "content_same": false
        },
        {
          "line": 1563,
          "old_api": null,
          "new_api": "VLC_UNUSED",
          "old_text": null,
          "new_text": "VLC_UNUSED( i_idx )",
          "old_line_content": "",
          "new_line_content": "    VLC_UNUSED( i_idx );",
          "content_same": false
        },
        {
          "line": 2079,
          "old_api": null,
          "new_api": "TextGetLine",
          "old_text": null,
          "new_text": "TextGetLine( txt )",
          "old_line_content": "            if( !s )",
          "new_line_content": "            char *s = TextGetLine( txt );",
          "content_same": false
        },
        {
          "line": 1567,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup( \"\" )",
          "old_line_content": "",
          "new_line_content": "    char *psz_text = strdup( \"\" );",
          "content_same": false
        },
        {
          "line": 2082,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_text )",
          "old_line_content": "                return VLC_EGENERIC;",
          "new_line_content": "                free( psz_text );",
          "content_same": false
        },
        {
          "line": 2086,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( s, \"[%d:%d:%d]\", &h2, &m2, &s2 )",
          "old_line_content": "                p_subtitle->i_stop  = ( (int64_t)h2 * 3600*1000 +",
          "new_line_content": "            if( sscanf( s, \"[%d:%d:%d]\", &h2, &m2, &s2 ) == 3 )",
          "content_same": false
        },
        {
          "line": 2094,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_text )",
          "old_line_content": "    }",
          "new_line_content": "        free( psz_text );",
          "content_same": false
        },
        {
          "line": 1582,
          "old_api": null,
          "new_api": "TextGetLine",
          "old_text": null,
          "new_text": "TextGetLine( txt )",
          "old_line_content": "        if( !s )",
          "new_line_content": "        const char *s = TextGetLine( txt );",
          "content_same": false
        },
        {
          "line": 1585,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_text )",
          "old_line_content": "            return VLC_EGENERIC;",
          "new_line_content": "            free( psz_text );",
          "content_same": false
        },
        {
          "line": 2099,
          "old_api": null,
          "new_api": "strstr",
          "old_text": null,
          "new_text": "strstr( psz_text, \"[br]\" )",
          "old_line_content": "    {",
          "new_line_content": "    while( ( p = strstr( psz_text, \"[br]\" ) ) )",
          "content_same": false
        },
        {
          "line": 1589,
          "old_api": null,
          "new_api": "strstr",
          "old_text": null,
          "new_text": "strstr( s, \"FORMAT\" )",
          "old_line_content": "        {",
          "new_line_content": "        if( strstr( s, \"FORMAT\" ) )",
          "content_same": false
        },
        {
          "line": 2102,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(&p[3])",
          "old_line_content": "    }",
          "new_line_content": "        memmove( p, &p[3], strlen(&p[3])+1 );",
          "content_same": false
        },
        {
          "line": 1591,
          "old_api": null,
          "new_api": "sscanf (s, \"FORMAT=TIM%c\", &p_dummy )",
          "old_text": null,
          "new_text": "sscanf (s, \"FORMAT=TIM%c\", &p_dummy )",
          "old_line_content": "            {",
          "new_line_content": "            if( sscanf (s, \"FORMAT=TIM%c\", &p_dummy ) == 1 && p_dummy == 'E')",
          "content_same": false
        },
        {
          "line": 1597,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(s)",
          "old_line_content": "            if( !psz_temp )",
          "new_line_content": "            psz_temp = malloc( strlen(s) );",
          "content_same": false
        },
        {
          "line": 2111,
          "old_api": null,
          "new_api": "VLC_UNUSED",
          "old_text": null,
          "new_text": "VLC_UNUSED( i_idx )",
          "old_line_content": "",
          "new_line_content": "    VLC_UNUSED( i_idx );",
          "content_same": false
        },
        {
          "line": 1600,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_text )",
          "old_line_content": "                return VLC_ENOMEM;",
          "new_line_content": "                free( psz_text );",
          "content_same": false
        },
        {
          "line": 1090,
          "old_api": null,
          "new_api": "TextGetLine",
          "old_text": null,
          "new_text": "TextGetLine( txt )",
          "old_line_content": "        int h1, m1, s1, c1, h2, m2, s2, c2;",
          "new_line_content": "        const char *s = TextGetLine( txt );",
          "content_same": false
        },
        {
          "line": 1604,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( s, \"FORMAT=%[^\\r\\n]\", psz_temp )",
          "old_line_content": "            {",
          "new_line_content": "            if( sscanf( s, \"FORMAT=%[^\\r\\n]\", psz_temp ) )",
          "content_same": false
        },
        {
          "line": 1606,
          "old_api": null,
          "new_api": "us_strtof",
          "old_text": null,
          "new_text": "us_strtof( psz_temp, NULL )",
          "old_line_content": "",
          "new_line_content": "                float f_fps = us_strtof( psz_temp, NULL );",
          "content_same": false
        },
        {
          "line": 2121,
          "old_api": null,
          "new_api": "TextGetLine",
          "old_text": null,
          "new_text": "TextGetLine( txt )",
          "old_line_content": "",
          "new_line_content": "        char *s = TextGetLine( txt );",
          "content_same": false
        },
        {
          "line": 1609,
          "old_api": null,
          "new_api": "var_SetFloat",
          "old_text": null,
          "new_text": "var_SetFloat( p_demux, \"sub-fps\", f_fps )",
          "old_line_content": "",
          "new_line_content": "                    var_SetFloat( p_demux, \"sub-fps\", f_fps );",
          "content_same": false
        },
        {
          "line": 1612,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_temp )",
          "old_line_content": "                break;",
          "new_line_content": "                free( psz_temp );",
          "content_same": false
        },
        {
          "line": 2126,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( s, \"[%d:%d:%d]\", &h1, &m1, &s1 )",
          "old_line_content": "        {",
          "new_line_content": "        if( sscanf( s, \"[%d:%d:%d]\", &h1, &m1, &s1 ) == 3 )",
          "content_same": false
        },
        {
          "line": 1615,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_temp )",
          "old_line_content": "        }",
          "new_line_content": "            free( psz_temp );",
          "content_same": false
        },
        {
          "line": 1619,
          "old_api": null,
          "new_api": "us_strtof",
          "old_text": null,
          "new_text": "us_strtof( s, &psz_temp )",
          "old_line_content": "        if( *psz_temp )",
          "new_line_content": "        float f1 = us_strtof( s, &psz_temp );",
          "content_same": false
        },
        {
          "line": 2132,
          "old_api": null,
          "new_api": "TextGetLine",
          "old_text": null,
          "new_text": "TextGetLine( txt )",
          "old_line_content": "            if( !s )",
          "new_line_content": "            char *s = TextGetLine( txt );",
          "content_same": false
        },
        {
          "line": 1622,
          "old_api": null,
          "new_api": "us_strtof",
          "old_text": null,
          "new_text": "us_strtof( psz_temp, NULL )",
          "old_line_content": "            p_sys->mpsub.f_total += f1 * p_sys->mpsub.f_factor;",
          "new_line_content": "            float f2 = us_strtof( psz_temp, NULL );",
          "content_same": false
        },
        {
          "line": 1111,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(s)",
          "old_line_content": "        if( !psz_text )",
          "new_line_content": "        psz_text = malloc( strlen(s) );",
          "content_same": false
        },
        {
          "line": 2136,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup( s )",
          "old_line_content": "            if( !psz_text )",
          "new_line_content": "            psz_text = strdup( s );",
          "content_same": false
        },
        {
          "line": 1624,
          "old_api": null,
          "new_api": "llroundf",
          "old_text": null,
          "new_text": "llroundf(10000.f * p_sys->mpsub.f_total)",
          "old_line_content": "            p_sys->mpsub.f_total += f2 * p_sys->mpsub.f_factor;",
          "new_line_content": "            p_subtitle->i_start = llroundf(10000.f * p_sys->mpsub.f_total);",
          "content_same": false
        },
        {
          "line": 1626,
          "old_api": null,
          "new_api": "llroundf",
          "old_text": null,
          "new_text": "llroundf(10000.f * p_sys->mpsub.f_total)",
          "old_line_content": "            break;",
          "new_line_content": "            p_subtitle->i_stop = llroundf(10000.f * p_sys->mpsub.f_total);",
          "content_same": false
        },
        {
          "line": 1115,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( s,\n                    \"Dialogue: %15[^,],%d:%d:%d.%d,%d:%d:%d.%d,%[^\\r\\n]\",\n                    temp,\n                    &h1, &m1, &s1, &c1,\n                    &h2, &m2, &s2, &c2,\n                    psz_text )",
          "old_line_content": "                    \"Dialogue: %15[^,],%d:%d:%d.%d,%d:%d:%d.%d,%[^\\r\\n]\",",
          "new_line_content": "        if( sscanf( s,",
          "content_same": false
        },
        {
          "line": 2140,
          "old_api": null,
          "new_api": "TextGetLine",
          "old_text": null,
          "new_text": "TextGetLine( txt )",
          "old_line_content": "            if( !s )",
          "new_line_content": "            s = TextGetLine( txt );",
          "content_same": false
        },
        {
          "line": 2143,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_text )",
          "old_line_content": "                return VLC_EGENERIC;",
          "new_line_content": "                free( psz_text );",
          "content_same": false
        },
        {
          "line": 1633,
          "old_api": null,
          "new_api": "TextGetLine",
          "old_text": null,
          "new_text": "TextGetLine( txt )",
          "old_line_content": "",
          "new_line_content": "        const char *s = TextGetLine( txt );",
          "content_same": false
        },
        {
          "line": 2147,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( s, \"[%d:%d:%d]\", &h2, &m2, &s2 )",
          "old_line_content": "                p_subtitle->i_stop  = ( (int64_t)h2 * 3600*1000 +",
          "new_line_content": "            if( sscanf( s, \"[%d:%d:%d]\", &h2, &m2, &s2 ) == 3 )",
          "content_same": false
        },
        {
          "line": 1637,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_text )",
          "old_line_content": "            return VLC_EGENERIC;",
          "new_line_content": "            free( psz_text );",
          "content_same": false
        },
        {
          "line": 1127,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(psz_text)",
          "old_line_content": "                psz_text[0] = ',';",
          "new_line_content": "                memmove( &psz_text[1], psz_text, strlen(psz_text)+1 );",
          "content_same": false
        },
        {
          "line": 1641,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen( s )",
          "old_line_content": "        if( i_len == 0 )",
          "new_line_content": "        int i_len = strlen( s );",
          "content_same": false
        },
        {
          "line": 1132,
          "old_api": null,
          "new_api": "atoi",
          "old_text": null,
          "new_text": "atoi( temp )",
          "old_line_content": "",
          "new_line_content": "                int i_layer = ( p_sys->i_type == SUB_TYPE_ASS ) ? atoi( temp ) : 0;",
          "content_same": false
        },
        {
          "line": 1645,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen( psz_text )",
          "old_line_content": "",
          "new_line_content": "        int i_old = strlen( psz_text );",
          "content_same": false
        },
        {
          "line": 1135,
          "old_api": null,
          "new_api": "asprintf",
          "old_text": null,
          "new_text": "asprintf( &psz_temp, \"%d,%d,%s\", i_idx, i_layer, psz_text )",
          "old_line_content": "                {",
          "new_line_content": "                if( asprintf( &psz_temp, \"%d,%d,%s\", i_idx, i_layer, psz_text ) == -1 )",
          "content_same": false
        },
        {
          "line": 1647,
          "old_api": null,
          "new_api": "realloc_or_free",
          "old_text": null,
          "new_text": "realloc_or_free( psz_text, i_old + i_len + 1 + 1 )",
          "old_line_content": "        if( !psz_text )",
          "new_line_content": "        psz_text = realloc_or_free( psz_text, i_old + i_len + 1 + 1 );",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_text )",
          "old_line_content": "                    return VLC_ENOMEM;",
          "new_line_content": "                    free( psz_text );",
          "content_same": false
        },
        {
          "line": 1652,
          "old_api": null,
          "new_api": "strcat",
          "old_text": null,
          "new_text": "strcat( psz_text, \"\\n\" )",
          "old_line_content": "    }",
          "new_line_content": "        strcat( psz_text, \"\\n\" );",
          "content_same": false
        },
        {
          "line": 2165,
          "old_api": null,
          "new_api": "VLC_UNUSED",
          "old_text": null,
          "new_text": "VLC_UNUSED( i_idx )",
          "old_line_content": "",
          "new_line_content": "    VLC_UNUSED( i_idx );",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_text )",
          "old_line_content": "                psz_text = psz_temp;",
          "new_line_content": "                free( psz_text );",
          "content_same": false
        },
        {
          "line": 2173,
          "old_api": null,
          "new_api": "TextGetLine",
          "old_text": null,
          "new_text": "TextGetLine( txt )",
          "old_line_content": "        int h1 = 0, m1 = 0, s1 = 0, d1 = 0;",
          "new_line_content": "        const char *s = TextGetLine( txt );",
          "content_same": false
        },
        {
          "line": 1661,
          "old_api": null,
          "new_api": "VLC_UNUSED",
          "old_text": null,
          "new_text": "VLC_UNUSED( i_idx )",
          "old_line_content": "",
          "new_line_content": "    VLC_UNUSED( i_idx );",
          "content_same": false
        },
        {
          "line": 2180,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( s,\"%d:%d:%d.%d --> %d:%d:%d.%d\",\n                    &h1, &m1, &s1, &d1,\n                    &h2, &m2, &s2, &d2 )",
          "old_line_content": "                    &h1, &m1, &s1, &d1,",
          "new_line_content": "        if( sscanf( s,\"%d:%d:%d.%d --> %d:%d:%d.%d\",",
          "content_same": false
        },
        {
          "line": 1156,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_text )",
          "old_line_content": "",
          "new_line_content": "        free( psz_text );",
          "content_same": false
        },
        {
          "line": 2183,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( s,\"%d:%d:%d.%d --> %d:%d.%d\",\n                    &h1, &m1, &s1, &d1,\n                         &m2, &s2, &d2 )",
          "old_line_content": "                    &h1, &m1, &s1, &d1,",
          "new_line_content": "            sscanf( s,\"%d:%d:%d.%d --> %d:%d.%d\",",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": null,
          "new_api": "realloc_or_free",
          "old_text": null,
          "new_text": "realloc_or_free( p_sys->psz_header, header_len + s_len + 2 )",
          "old_line_content": "                       p_sys->psz_header ? p_sys->psz_header : \"\", s ) == -1 )",
          "new_line_content": "        p_sys->psz_header = realloc_or_free( p_sys->psz_header, header_len + s_len + 2 );",
          "content_same": false
        },
        {
          "line": 2186,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( s,\"%d:%d.%d --> %d:%d:%d.%d\",\n                         &m1, &s1, &d1,\n                    &h2, &m2, &s2, &d2 )",
          "old_line_content": "                         &m1, &s1, &d1,",
          "new_line_content": "            sscanf( s,\"%d:%d.%d --> %d:%d:%d.%d\",",
          "content_same": false
        },
        {
          "line": 1163,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf( p_sys->psz_header + header_len, s_len + 2, \"%s\\n\", s )",
          "old_line_content": "        p_sys->psz_header = psz_header;",
          "new_line_content": "        snprintf( p_sys->psz_header + header_len, s_len + 2, \"%s\\n\", s );",
          "content_same": false
        },
        {
          "line": 2189,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( s,\"%d:%d.%d --> %d:%d.%d\",\n                         &m1, &s1, &d1,\n                         &m2, &s2, &d2 )",
          "old_line_content": "                         &m1, &s1, &d1,",
          "new_line_content": "            sscanf( s,\"%d:%d.%d --> %d:%d.%d\",",
          "content_same": false
        },
        {
          "line": 1681,
          "old_api": null,
          "new_api": "TextGetLine",
          "old_text": null,
          "new_text": "TextGetLine( txt )",
          "old_line_content": "        if( !s )",
          "new_line_content": "        const char *s = TextGetLine( txt );",
          "content_same": false
        },
        {
          "line": 1685,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen( s )",
          "old_line_content": "        if( !psz_orig )",
          "new_line_content": "        psz_orig = malloc( strlen( s ) + 1 );",
          "content_same": false
        },
        {
          "line": 1177,
          "old_api": null,
          "new_api": "VLC_UNUSED",
          "old_text": null,
          "new_text": "VLC_UNUSED( i_idx )",
          "old_line_content": "",
          "new_line_content": "    VLC_UNUSED( i_idx );",
          "content_same": false
        },
        {
          "line": 1691,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( s, \"%d:%d:%d.%d %d:%d:%d.%d %[^\\n\\r]\",\n                    &h1, &m1, &s1, &f1, &h2, &m2, &s2, &f2, psz_text )",
          "old_line_content": "                    &h1, &m1, &s1, &f1, &h2, &m2, &s2, &f2, psz_text ) == 9 )",
          "new_line_content": "        if( sscanf( s, \"%d:%d:%d.%d %d:%d:%d.%d %[^\\n\\r]\",",
          "content_same": false
        },
        {
          "line": 2208,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(\"\")",
          "old_line_content": "    if( !psz_text )",
          "new_line_content": "    psz_text = strdup(\"\");",
          "content_same": false
        },
        {
          "line": 1186,
          "old_api": null,
          "new_api": "TextGetLine",
          "old_text": null,
          "new_text": "TextGetLine( txt )",
          "old_line_content": "        int h1, m1, s1;",
          "new_line_content": "        const char *s = TextGetLine( txt );",
          "content_same": false
        },
        {
          "line": 2214,
          "old_api": null,
          "new_api": "TextGetLine",
          "old_text": null,
          "new_text": "TextGetLine( txt )",
          "old_line_content": "        int i_len;",
          "new_line_content": "        const char *s = TextGetLine( txt );",
          "content_same": false
        },
        {
          "line": 1703,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( s, \"@%d @%d %[^\\n\\r]\", &f1, &f2, psz_text )",
          "old_line_content": "        {",
          "new_line_content": "        else if( sscanf( s, \"@%d @%d %[^\\n\\r]\", &f1, &f2, psz_text ) == 3 )",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen( s )",
          "old_line_content": "        if( !psz_text )",
          "new_line_content": "        psz_text = malloc( strlen( s ) + 1 );",
          "content_same": false
        },
        {
          "line": 2218,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen( s )",
          "old_line_content": "        if( i_len <= 0 )",
          "new_line_content": "        i_len = s ? strlen( s ) : 0;",
          "content_same": false
        },
        {
          "line": 1196,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( s, \"%d:%d:%d%*c%[^\\r\\n]\",\n                    &h1, &m1, &s1, psz_text )",
          "old_line_content": "                    &h1, &m1, &s1, psz_text ) == 4 )",
          "new_line_content": "        if( sscanf( s, \"%d:%d:%d%*c%[^\\r\\n]\",",
          "content_same": false
        },
        {
          "line": 2226,
          "old_api": null,
          "new_api": "realloc_or_free",
          "old_text": null,
          "new_text": "realloc_or_free( psz_text, i_old + i_len + 1 + 1 )",
          "old_line_content": "        if( !psz_text )",
          "new_line_content": "        psz_text = realloc_or_free( psz_text, i_old + i_len + 1 + 1 );",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_text )",
          "old_line_content": "    }",
          "new_line_content": "        free( psz_text );",
          "content_same": false
        },
        {
          "line": 2231,
          "old_api": null,
          "new_api": "strcat",
          "old_text": null,
          "new_text": "strcat( psz_text, \"\\n\" )",
          "old_line_content": "    }",
          "new_line_content": "        strcat( psz_text, \"\\n\" );",
          "content_same": false
        },
        {
          "line": 1719,
          "old_api": null,
          "new_api": "strcpy",
          "old_text": null,
          "new_text": "strcpy( psz_text, s )",
          "old_line_content": "",
          "new_line_content": "            strcpy( psz_text, s );",
          "content_same": false
        },
        {
          "line": 1721,
          "old_api": null,
          "new_api": "toupper",
          "old_text": null,
          "new_text": "toupper( (unsigned char)psz_text[1] )",
          "old_line_content": "            {",
          "new_line_content": "            switch( toupper( (unsigned char)psz_text[1] ) )",
          "content_same": false
        },
        {
          "line": 1724,
          "old_api": null,
          "new_api": "isalpha",
          "old_text": null,
          "new_text": "isalpha( (unsigned char)psz_text[2] )",
          "old_line_content": "",
          "new_line_content": "                 shift = isalpha( (unsigned char)psz_text[2] ) ? 6 : 2 ;",
          "content_same": false
        },
        {
          "line": 1726,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( &psz_text[shift], \"%d\", &h )",
          "old_line_content": "                 {",
          "new_line_content": "                 if( sscanf( &psz_text[shift], \"%d\", &h ) )",
          "content_same": false
        },
        {
          "line": 2242,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup( psz_sub_file )",
          "old_line_content": "",
          "new_line_content": "    char *psz_work = strdup( psz_sub_file );",
          "content_same": false
        },
        {
          "line": 2245,
          "old_api": null,
          "new_api": "strrchr",
          "old_text": null,
          "new_text": "strrchr( psz_work, '.' )",
          "old_line_content": "    if( psz_tmp )",
          "new_line_content": "    psz_tmp = strrchr( psz_work, '.' );",
          "content_same": false
        },
        {
          "line": 1223,
          "old_api": null,
          "new_api": "strcasestr",
          "old_text": null,
          "new_text": "strcasestr( psz_start, psz_str )",
          "old_line_content": "    {",
          "new_line_content": "    if( psz_start && strcasestr( psz_start, psz_str ) )",
          "content_same": false
        },
        {
          "line": 1735,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( &psz_text[shift], \"%*d:%d\", &m )",
          "old_line_content": "                     {",
          "new_line_content": "                     if( sscanf( &psz_text[shift], \"%*d:%d\", &m ) )",
          "content_same": false
        },
        {
          "line": 2249,
          "old_api": null,
          "new_api": "strrchr",
          "old_text": null,
          "new_text": "strrchr( psz_work, '.' )",
          "old_line_content": "        if( psz_language_begin )",
          "new_line_content": "        psz_language_begin = strrchr( psz_work, '.' );",
          "content_same": false
        },
        {
          "line": 1226,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen( psz_str )",
          "old_line_content": "    }",
          "new_line_content": "        return &s[strlen( psz_str )];",
          "content_same": false
        },
        {
          "line": 2251,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(++psz_language_begin)",
          "old_line_content": "        psz_tmp[0] = '.';",
          "new_line_content": "            psz_ret = strdup(++psz_language_begin);",
          "content_same": false
        },
        {
          "line": 1737,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( &psz_text[shift], \"%*d:%*d:%d\", &sec )",
          "old_line_content": "                         {",
          "new_line_content": "                         if( sscanf( &psz_text[shift], \"%*d:%*d:%d\", &sec ) )",
          "content_same": false
        },
        {
          "line": 1739,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( &psz_text[shift], \"%*d:%*d:%*d.%d\", &f )",
          "old_line_content": "                         }",
          "new_line_content": "                             sscanf( &psz_text[shift], \"%*d:%*d:%*d.%d\", &f );",
          "content_same": false
        },
        {
          "line": 2255,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_work )",
          "old_line_content": "    return psz_ret;",
          "new_line_content": "    free( psz_work );",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": null,
          "new_api": "TextGetLine",
          "old_text": null,
          "new_text": "TextGetLine( txt )",
          "old_line_content": "        if( !p )",
          "new_line_content": "        char *p = TextGetLine( txt );",
          "content_same": false
        },
        {
          "line": 1744,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( &psz_text[shift], \"%d:%d.%d\",\n                                     &m, &sec, &f )",
          "old_line_content": "                                     &m, &sec, &f );",
          "new_line_content": "                             sscanf( &psz_text[shift], \"%d:%d.%d\",",
          "content_same": false
        },
        {
          "line": 1235,
          "old_api": null,
          "new_api": "strcasestr",
          "old_text": null,
          "new_text": "strcasestr( p, psz_str )",
          "old_line_content": "        {",
          "new_line_content": "        if( strcasestr( p, psz_str ) )",
          "content_same": false
        },
        {
          "line": 1238,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen( psz_str )",
          "old_line_content": "        }",
          "new_line_content": "            return &s[strlen( psz_str )];",
          "content_same": false
        },
        {
          "line": 1752,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( &psz_text[shift], \"%d.%d\", &sec, &f)",
          "old_line_content": "                         sec *= inv;",
          "new_line_content": "                         sscanf( &psz_text[shift], \"%d.%d\", &sec, &f);",
          "content_same": false
        },
        {
          "line": 1244,
          "old_api": null,
          "new_api": "VLC_UNUSED",
          "old_text": null,
          "new_text": "VLC_UNUSED( i_idx )",
          "old_line_content": "    demux_sys_t *p_sys = p_demux->p_sys;",
          "new_line_content": "    VLC_UNUSED( i_idx );",
          "content_same": false
        },
        {
          "line": 1761,
          "old_api": null,
          "new_api": "isalpha",
          "old_text": null,
          "new_text": "isalpha( (unsigned char)psz_text[2] )",
          "old_line_content": "",
          "new_line_content": "                shift = isalpha( (unsigned char)psz_text[2] ) ? 8 : 2 ;",
          "content_same": false
        },
        {
          "line": 1763,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( &psz_text[shift], \"%d\", &p_sys->jss.i_time_resolution )",
          "old_line_content": "                break;",
          "new_line_content": "                sscanf( &psz_text[shift], \"%d\", &p_sys->jss.i_time_resolution );",
          "content_same": false
        },
        {
          "line": 1766,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_orig )",
          "old_line_content": "            continue;",
          "new_line_content": "            free( psz_orig );",
          "content_same": false
        },
        {
          "line": 1255,
          "old_api": null,
          "new_api": "ParseSamiSearch",
          "old_text": null,
          "new_text": "ParseSamiSearch( txt, NULL, \"Start=\" )",
          "old_line_content": "        return VLC_EGENERIC;",
          "new_line_content": "    if( !( s = ParseSamiSearch( txt, NULL, \"Start=\" ) ) )",
          "content_same": false
        },
        {
          "line": 1259,
          "old_api": null,
          "new_api": "strtol",
          "old_text": null,
          "new_text": "strtol( s, &s, 0 )",
          "old_line_content": "",
          "new_line_content": "    i_start = strtol( s, &s, 0 );",
          "content_same": false
        },
        {
          "line": 1772,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_orig )",
          "old_line_content": "            continue;",
          "new_line_content": "            free( psz_orig );",
          "content_same": false
        },
        {
          "line": 1262,
          "old_api": null,
          "new_api": "ParseSamiSearch",
          "old_text": null,
          "new_text": "ParseSamiSearch( txt, s, \"<P\" )",
          "old_line_content": "        return VLC_EGENERIC;",
          "new_line_content": "    if( !( s = ParseSamiSearch( txt, s, \"<P\" ) ) )",
          "content_same": false
        },
        {
          "line": 1777,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen( psz_text )",
          "old_line_content": "    {",
          "new_line_content": "    while( psz_text[ strlen( psz_text ) - 1 ] == '\\\\' )",
          "content_same": false
        },
        {
          "line": 1266,
          "old_api": null,
          "new_api": "ParseSamiSearch",
          "old_text": null,
          "new_text": "ParseSamiSearch( txt, s, \">\" )",
          "old_line_content": "        return VLC_EGENERIC;",
          "new_line_content": "    if( !( s = ParseSamiSearch( txt, s, \">\" ) ) )",
          "content_same": false
        },
        {
          "line": 1779,
          "old_api": null,
          "new_api": "TextGetLine",
          "old_text": null,
          "new_text": "TextGetLine( txt )",
          "old_line_content": "",
          "new_line_content": "        const char *s2 = TextGetLine( txt );",
          "content_same": false
        },
        {
          "line": 1783,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_orig )",
          "old_line_content": "            return VLC_EGENERIC;",
          "new_line_content": "            free( psz_orig );",
          "content_same": false
        },
        {
          "line": 1787,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen( s2 )",
          "old_line_content": "        if( i_len == 0 )",
          "new_line_content": "        int i_len = strlen( s2 );",
          "content_same": false
        },
        {
          "line": 1277,
          "old_api": null,
          "new_api": "TextGetLine",
          "old_text": null,
          "new_text": "TextGetLine( txt )",
          "old_line_content": "        if( !s )",
          "new_line_content": "            s = TextGetLine( txt );",
          "content_same": false
        },
        {
          "line": 1791,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen( psz_text )",
          "old_line_content": "",
          "new_line_content": "        int i_old = strlen( psz_text );",
          "content_same": false
        },
        {
          "line": 1793,
          "old_api": null,
          "new_api": "realloc_or_free",
          "old_text": null,
          "new_text": "realloc_or_free( psz_text, i_old + i_len + 1 )",
          "old_line_content": "        if( !psz_text )",
          "new_line_content": "        psz_text = realloc_or_free( psz_text, i_old + i_len + 1 );",
          "content_same": false
        },
        {
          "line": 1283,
          "old_api": null,
          "new_api": "strncasecmp",
          "old_text": null,
          "new_text": "strncasecmp( s, \"<br\", 3 )",
          "old_line_content": "            {",
          "new_line_content": "            if( !strncasecmp( s, \"<br\", 3 ) )",
          "content_same": false
        },
        {
          "line": 1798,
          "old_api": null,
          "new_api": "strcat",
          "old_text": null,
          "new_text": "strcat( psz_text, s2 )",
          "old_line_content": "    }",
          "new_line_content": "        strcat( psz_text, s2 );",
          "content_same": false
        },
        {
          "line": 1287,
          "old_api": null,
          "new_api": "strcasestr",
          "old_text": null,
          "new_text": "strcasestr( s, \"Start=\" )",
          "old_line_content": "            {",
          "new_line_content": "            else if( strcasestr( s, \"Start=\" ) )",
          "content_same": false
        },
        {
          "line": 1289,
          "old_api": null,
          "new_api": "TextPreviousLine",
          "old_text": null,
          "new_text": "TextPreviousLine( txt )",
          "old_line_content": "                break;",
          "new_line_content": "                TextPreviousLine( txt );",
          "content_same": false
        },
        {
          "line": 1292,
          "old_api": null,
          "new_api": "ParseSamiSearch",
          "old_text": null,
          "new_text": "ParseSamiSearch( txt, s, \">\" )",
          "old_line_content": "        }",
          "new_line_content": "            s = ParseSamiSearch( txt, s, \">\" );",
          "content_same": false
        },
        {
          "line": 1805,
          "old_api": null,
          "new_api": "isalpha",
          "old_text": null,
          "new_text": "isalpha( (unsigned char)*psz_text )",
          "old_line_content": "    {",
          "new_line_content": "    if( isalpha( (unsigned char)*psz_text ) || *psz_text == '[' )",
          "content_same": false
        },
        {
          "line": 1294,
          "old_api": null,
          "new_api": "strncmp",
          "old_text": null,
          "new_text": "strncmp( s, \"&nbsp;\", 6 )",
          "old_line_content": "        {",
          "new_line_content": "        else if( !strncmp( s, \"&nbsp;\", 6 ) )",
          "content_same": false
        },
        {
          "line": 1820,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen( psz_text)",
          "old_line_content": "    psz_text2 = psz_orig2;",
          "new_line_content": "    psz_orig2 = calloc( strlen( psz_text) + 1, 1 );",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup( text )",
          "old_line_content": "",
          "new_line_content": "    p_subtitle->psz_text = strdup( text );",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": null,
          "new_api": "VLC_UNUSED",
          "old_text": null,
          "new_text": "VLC_UNUSED( i_idx )",
          "old_line_content": "",
          "new_line_content": "    VLC_UNUSED( i_idx );",
          "content_same": false
        },
        {
          "line": 1351,
          "old_api": null,
          "new_api": "TextGetLine",
          "old_text": null,
          "new_text": "TextGetLine( txt )",
          "old_line_content": "        int h1, m1, s1, c1;",
          "new_line_content": "        const char *s = TextGetLine( txt );",
          "content_same": false
        },
        {
          "line": 1863,
          "old_api": null,
          "new_api": "toupper",
          "old_text": null,
          "new_text": "toupper((unsigned char)*(psz_text + 1 ) )",
          "old_line_content": "            {",
          "new_line_content": "                    ( toupper((unsigned char)*(psz_text + 1 ) ) == 'F' ) )",
          "content_same": false
        },
        {
          "line": 1357,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( s,\n                    \"{T %d:%d:%d:%d\",\n                    &h1, &m1, &s1, &c1 )",
          "old_line_content": "                    \"{T %d:%d:%d:%d\",",
          "new_line_content": "        if( sscanf( s,",
          "content_same": false
        },
        {
          "line": 1371,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup(\"\")",
          "old_line_content": "    if( !psz_text )",
          "new_line_content": "    psz_text = strdup(\"\");",
          "content_same": false
        },
        {
          "line": 1376,
          "old_api": null,
          "new_api": "TextGetLine",
          "old_text": null,
          "new_text": "TextGetLine( txt )",
          "old_line_content": "        int i_len;",
          "new_line_content": "        const char *s = TextGetLine( txt );",
          "content_same": false
        },
        {
          "line": 1382,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_text )",
          "old_line_content": "            return VLC_EGENERIC;",
          "new_line_content": "            free( psz_text );",
          "content_same": false
        },
        {
          "line": 1897,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_orig )",
          "old_line_content": "    return VLC_SUCCESS;",
          "new_line_content": "    free( psz_orig );",
          "content_same": false
        },
        {
          "line": 1386,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen( s )",
          "old_line_content": "        if( i_len == 1 && s[0] == '}')",
          "new_line_content": "        i_len = strlen( s );",
          "content_same": false
        },
        {
          "line": 1903,
          "old_api": null,
          "new_api": "VLC_UNUSED",
          "old_text": null,
          "new_text": "VLC_UNUSED( i_idx )",
          "old_line_content": "",
          "new_line_content": "    VLC_UNUSED( i_idx );",
          "content_same": false
        },
        {
          "line": 1394,
          "old_api": null,
          "new_api": "realloc_or_free",
          "old_text": null,
          "new_text": "realloc_or_free( psz_text, i_old + i_len + 1 + 1 )",
          "old_line_content": "        if( !psz_text )",
          "new_line_content": "        psz_text = realloc_or_free( psz_text, i_old + i_len + 1 + 1 );",
          "content_same": false
        },
        {
          "line": 1398,
          "old_api": null,
          "new_api": "strcat",
          "old_text": null,
          "new_text": "strcat( psz_text, \"\\n\" )",
          "old_line_content": "    }",
          "new_line_content": "        strcat( psz_text, \"\\n\" );",
          "content_same": false
        },
        {
          "line": 1914,
          "old_api": null,
          "new_api": "TextGetLine",
          "old_text": null,
          "new_text": "TextGetLine( txt )",
          "old_line_content": "",
          "new_line_content": "        const char *s = TextGetLine( txt );",
          "content_same": false
        },
        {
          "line": 1919,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen( s )",
          "old_line_content": "        if( !psz_text )",
          "new_line_content": "        psz_text = malloc( strlen( s ) + 1 );",
          "content_same": false
        },
        {
          "line": 1409,
          "old_api": null,
          "new_api": "VLC_UNUSED",
          "old_text": null,
          "new_text": "VLC_UNUSED( i_idx )",
          "old_line_content": "",
          "new_line_content": "    VLC_UNUSED( i_idx );",
          "content_same": false
        },
        {
          "line": 1923,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( s, \"{%d:%d:%d}{%d:%d:%d}%[^\\r\\n]\",\n                    &h1, &m1, &s1, &h2, &m2, &s2, psz_text )",
          "old_line_content": "                    &h1, &m1, &s1, &h2, &m2, &s2, psz_text ) == 7 )",
          "new_line_content": "        if( sscanf( s, \"{%d:%d:%d}{%d:%d:%d}%[^\\r\\n]\",",
          "content_same": false
        },
        {
          "line": 1418,
          "old_api": null,
          "new_api": "TextGetLine",
          "old_text": null,
          "new_text": "TextGetLine( txt )",
          "old_line_content": "        int i_start;",
          "new_line_content": "        const char *s = TextGetLine( txt );",
          "content_same": false
        },
        {
          "line": 1934,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_text )",
          "old_line_content": "    }",
          "new_line_content": "        free( psz_text );",
          "content_same": false
        },
        {
          "line": 1425,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(s)",
          "old_line_content": "        if( !psz_text )",
          "new_line_content": "        psz_text = malloc( strlen(s) + 1 );",
          "content_same": false
        },
        {
          "line": 1432,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( s, \"[%d][%d] %[^\\r\\n]\", &i_start, &i_stop, psz_text )",
          "old_line_content": "        {",
          "new_line_content": "            sscanf( s, \"[%d][%d] %[^\\r\\n]\", &i_start, &i_stop, psz_text ) == 3)",
          "content_same": false
        },
        {
          "line": 1438,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_text )",
          "old_line_content": "    }",
          "new_line_content": "        free( psz_text );",
          "content_same": false
        },
        {
          "line": 1954,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( psz, \"%d\", s )",
          "old_line_content": "    {",
          "new_line_content": "            sscanf( psz, \"%d\", s ) == 1 )",
          "content_same": false
        },
        {
          "line": 1449,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(&psz_text[i+1])",
          "old_line_content": "        else",
          "new_line_content": "            memmove( &psz_text[i], &psz_text[i+1], strlen(&psz_text[i+1])+1 );",
          "content_same": false
        },
        {
          "line": 1964,
          "old_api": null,
          "new_api": "VLC_UNUSED",
          "old_text": null,
          "new_text": "VLC_UNUSED( i_idx )",
          "old_line_content": "    demux_sys_t *p_sys = p_demux->p_sys;",
          "new_line_content": "    VLC_UNUSED( i_idx );",
          "content_same": false
        },
        {
          "line": 1459,
          "old_api": null,
          "new_api": "VLC_UNUSED",
          "old_text": null,
          "new_text": "VLC_UNUSED( i_idx )",
          "old_line_content": "",
          "new_line_content": "    VLC_UNUSED( i_idx );",
          "content_same": false
        },
        {
          "line": 1974,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_text )",
          "old_line_content": "",
          "new_line_content": "        free( psz_text );",
          "content_same": false
        },
        {
          "line": 1463,
          "old_api": null,
          "new_api": "strdup",
          "old_text": null,
          "new_text": "strdup( \"\" )",
          "old_line_content": "    int i_old = 0;",
          "new_line_content": "    char *psz_text = strdup( \"\" );",
          "content_same": false
        },
        {
          "line": 1979,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen( s )",
          "old_line_content": "        if( !psz_text )",
          "new_line_content": "        psz_text = malloc( strlen( s ) + 1 );",
          "content_same": false
        },
        {
          "line": 1471,
          "old_api": null,
          "new_api": "TextGetLine",
          "old_text": null,
          "new_text": "TextGetLine( txt )",
          "old_line_content": "",
          "new_line_content": "        const char *s = TextGetLine( txt );",
          "content_same": false
        },
        {
          "line": 1985,
          "old_api": null,
          "new_api": "strcasestr",
          "old_text": null,
          "new_text": "strcasestr( s, \"<time\")",
          "old_line_content": "        if( psz_temp != NULL )",
          "new_line_content": "        char *psz_temp = strcasestr( s, \"<time\");",
          "content_same": false
        },
        {
          "line": 1475,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_text )",
          "old_line_content": "            return VLC_EGENERIC;",
          "new_line_content": "            free( psz_text );",
          "content_same": false
        },
        {
          "line": 1990,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( psz_temp,\n                  \"<%*[t|T]ime %*[b|B]egin=\\\"%11[^\\\"]\\\" %*[e|E]nd=\\\"%11[^\\\"]%*[^>]%[^\\n\\r]\",\n                            psz_begin, psz_end, psz_text)",
          "old_line_content": "                  \"<%*[t|T]ime %*[b|B]egin=\\\"%11[^\\\"]\\\" %*[e|E]nd=\\\"%11[^\\\"]%*[^>]%[^\\n\\r]\",",
          "new_line_content": "            if( ( sscanf( psz_temp,",
          "content_same": false
        },
        {
          "line": 1480,
          "old_api": null,
          "new_api": "sscanf (s, \"-->> %d\", &t)",
          "old_text": null,
          "new_text": "sscanf (s, \"-->> %d\", &t)",
          "old_line_content": "        {",
          "new_line_content": "        if( sscanf (s, \"-->> %d\", &t) == 1)",
          "content_same": false
        },
        {
          "line": 1994,
          "old_api": null,
          "new_api": "sscanf",
          "old_text": null,
          "new_text": "sscanf( psz_temp,\n                              \"<%*[t|T]ime %*[b|B]egin=\\\"%11[^\\\"]\\\"%*[^>]%[^\\n\\r]\",\n                              psz_begin, psz_text )",
          "old_line_content": "                              \"<%*[t|T]ime %*[b|B]egin=\\\"%11[^\\\"]\\\"%*[^>]%[^\\n\\r]\",",
          "new_line_content": "                    ( sscanf( psz_temp,",
          "content_same": false
        },
        {
          "line": 2003,
          "old_api": null,
          "new_api": "ParseRealTime",
          "old_text": null,
          "new_text": "ParseRealTime( psz_begin, &h1, &m1, &s1, &f1 )",
          "old_line_content": "            p_subtitle->i_start = i_time >= 0 ? i_time : 0;",
          "new_line_content": "            int64_t i_time = ParseRealTime( psz_begin, &h1, &m1, &s1, &f1 );",
          "content_same": false
        },
        {
          "line": 1493,
          "old_api": null,
          "new_api": "TextPreviousLine",
          "old_text": null,
          "new_text": "TextPreviousLine( txt )",
          "old_line_content": "                break;",
          "new_line_content": "                TextPreviousLine( txt );",
          "content_same": false
        },
        {
          "line": 2006,
          "old_api": null,
          "new_api": "ParseRealTime",
          "old_text": null,
          "new_text": "ParseRealTime( psz_end, &h2, &m2, &s2, &f2 )",
          "old_line_content": "            p_subtitle->i_stop = i_time >= 0 ? i_time : -1;",
          "new_line_content": "            i_time = ParseRealTime( psz_end, &h2, &m2, &s2, &f2 );",
          "content_same": false
        },
        {
          "line": 1501,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen( s )",
          "old_line_content": "            if( !psz_text )",
          "new_line_content": "            psz_text = realloc_or_free( psz_text, i_old + strlen( s ) + 1 );",
          "content_same": false
        },
        {
          "line": 2015,
          "old_api": null,
          "new_api": "TextGetLine",
          "old_text": null,
          "new_text": "TextGetLine( txt )",
          "old_line_content": "",
          "new_line_content": "        const char *s = TextGetLine( txt );",
          "content_same": false
        },
        {
          "line": 1505,
          "old_api": null,
          "new_api": "strcat",
          "old_text": null,
          "new_text": "strcat( psz_text, \"\\n\" )",
          "old_line_content": "            if( txt->i_line == txt->i_line_count )",
          "new_line_content": "            strcat( psz_text, \"\\n\" );",
          "content_same": false
        },
        {
          "line": 2019,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( psz_text )",
          "old_line_content": "            return VLC_EGENERIC;",
          "new_line_content": "            free( psz_text );",
          "content_same": false
        },
        {
          "line": 2023,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen( s )",
          "old_line_content": "        if( i_len == 0 ) break;",
          "new_line_content": "        int i_len = strlen( s );",
          "content_same": false
        },
        {
          "line": 2027,
          "old_api": null,
          "new_api": "strcasestr",
          "old_text": null,
          "new_text": "strcasestr( s, \"<clear/\")",
          "old_line_content": "        {",
          "new_line_content": "            strcasestr( s, \"<clear/\") )",
          "content_same": false
        },
        {
          "line": 1516,
          "old_api": null,
          "new_api": "VLC_UNUSED",
          "old_text": null,
          "new_text": "VLC_UNUSED( i_idx )",
          "old_line_content": "",
          "new_line_content": "    VLC_UNUSED( i_idx );",
          "content_same": false
        },
        {
          "line": 2029,
          "old_api": null,
          "new_api": "TextPreviousLine",
          "old_text": null,
          "new_text": "TextPreviousLine( txt )",
          "old_line_content": "            break;",
          "new_line_content": "            TextPreviousLine( txt );",
          "content_same": false
        },
        {
          "line": 2033,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen( psz_text )",
          "old_line_content": "",
          "new_line_content": "        int i_old = strlen( psz_text );",
          "content_same": false
        },
        {
          "line": 2035,
          "old_api": null,
          "new_api": "realloc_or_free",
          "old_text": null,
          "new_text": "realloc_or_free( psz_text, i_old + i_len + 1 + 1 )",
          "old_line_content": "        if( !psz_text )",
          "new_line_content": "        psz_text = realloc_or_free( psz_text, i_old + i_len + 1 + 1 );",
          "content_same": false
        },
        {
          "line": 1525,
          "old_api": null,
          "new_api": "TextGetLine",
          "old_text": null,
          "new_text": "TextGetLine( txt )",
          "old_line_content": "        int t1, t2;",
          "new_line_content": "        const char *s = TextGetLine( txt );",
          "content_same": false
        },
        {
          "line": 2040,
          "old_api": null,
          "new_api": "strcat",
          "old_text": null,
          "new_text": "strcat( psz_text, \"\\n\" )",
          "old_line_content": "    }",
          "new_line_content": "        strcat( psz_text, \"\\n\" );",
          "content_same": false
        },
        {
          "line": 1531,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(s)",
          "old_line_content": "        if( !psz_text )",
          "new_line_content": "        psz_text = malloc( strlen(s) + 1 );",
          "content_same": false
        },
        {
          "line": 2044,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen( psz_text )",
          "old_line_content": "",
          "new_line_content": "    memmove( &psz_text[0], &psz_text[1], strlen( psz_text ) );",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2052,
          "old_api": "VLC_UNUSED",
          "new_api": null,
          "old_text": "VLC_UNUSED( i_idx )",
          "new_text": null,
          "old_line_content": "    VLC_UNUSED( i_idx );",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1541,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(psz_text)",
          "new_text": null,
          "old_line_content": "            psz_text[ strlen(psz_text) - 1 ] = '\\0';",
          "new_line_content": "            /* Remove latest \" */",
          "content_same": false
        },
        {
          "line": 1545,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( psz_text )",
          "new_text": null,
          "old_line_content": "        free( psz_text );",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2062,
          "old_api": "TextGetLine",
          "new_api": null,
          "old_text": "TextGetLine( txt )",
          "new_text": null,
          "old_line_content": "        char *s = TextGetLine( txt );",
          "new_line_content": "        int h2, m2, s2;",
          "content_same": false
        },
        {
          "line": 2067,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen( s )",
          "new_text": null,
          "old_line_content": "        psz_text = malloc( strlen( s ) + 1 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1556,
          "old_api": "msg_Dbg",
          "new_api": null,
          "old_text": "msg_Dbg( p_demux, \"%s\", psz_text )",
          "new_text": null,
          "old_line_content": "    msg_Dbg( p_demux, \"%s\", psz_text );",
          "new_line_content": "    p_subtitle->psz_text = psz_text;",
          "content_same": false
        },
        {
          "line": 2071,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( s, \"[%d:%d:%d]%[^\\r\\n]\",\n                    &h1, &m1, &s1, psz_text )",
          "new_text": null,
          "old_line_content": "        if( sscanf( s, \"[%d:%d:%d]%[^\\r\\n]\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1562,
          "old_api": "VLC_UNUSED",
          "new_api": null,
          "old_text": "VLC_UNUSED( i_idx )",
          "new_text": null,
          "old_line_content": "    VLC_UNUSED( i_idx );",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2078,
          "old_api": "TextGetLine",
          "new_api": null,
          "old_text": "TextGetLine( txt )",
          "new_text": null,
          "old_line_content": "            char *s = TextGetLine( txt );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1566,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup( \"\" )",
          "new_text": null,
          "old_line_content": "    char *psz_text = strdup( \"\" );",
          "new_line_content": "    text_t      *txt = &p_sys->txt;",
          "content_same": false
        },
        {
          "line": 2081,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( psz_text )",
          "new_text": null,
          "old_line_content": "                free( psz_text );",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 2085,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( s, \"[%d:%d:%d]\", &h2, &m2, &s2 )",
          "new_text": null,
          "old_line_content": "            if( sscanf( s, \"[%d:%d:%d]\", &h2, &m2, &s2 ) == 3 )",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2093,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( psz_text )",
          "new_text": null,
          "old_line_content": "        free( psz_text );",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1581,
          "old_api": "TextGetLine",
          "new_api": null,
          "old_text": "TextGetLine( txt )",
          "new_text": null,
          "old_line_content": "        const char *s = TextGetLine( txt );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1584,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( psz_text )",
          "new_text": null,
          "old_line_content": "            free( psz_text );",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 2098,
          "old_api": "strstr",
          "new_api": null,
          "old_text": "strstr( psz_text, \"[br]\" )",
          "new_text": null,
          "old_line_content": "    while( ( p = strstr( psz_text, \"[br]\" ) ) )",
          "new_line_content": "    char *p;",
          "content_same": false
        },
        {
          "line": 1588,
          "old_api": "strstr",
          "new_api": null,
          "old_text": "strstr( s, \"FORMAT\" )",
          "new_text": null,
          "old_line_content": "        if( strstr( s, \"FORMAT\" ) )",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2101,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(&p[3])",
          "new_text": null,
          "old_line_content": "        memmove( p, &p[3], strlen(&p[3])+1 );",
          "new_line_content": "        *p++ = '\\n';",
          "content_same": false
        },
        {
          "line": 1590,
          "old_api": "sscanf (s, \"FORMAT=TIM%c\", &p_dummy )",
          "new_api": null,
          "old_text": "sscanf (s, \"FORMAT=TIM%c\", &p_dummy )",
          "new_text": null,
          "old_line_content": "            if( sscanf (s, \"FORMAT=TIM%c\", &p_dummy ) == 1 && p_dummy == 'E')",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1596,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(s)",
          "new_text": null,
          "old_line_content": "            psz_temp = malloc( strlen(s) );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2110,
          "old_api": "VLC_UNUSED",
          "new_api": null,
          "old_text": "VLC_UNUSED( i_idx )",
          "new_text": null,
          "old_line_content": "    VLC_UNUSED( i_idx );",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1599,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( psz_text )",
          "new_text": null,
          "old_line_content": "                free( psz_text );",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1089,
          "old_api": "TextGetLine",
          "new_api": null,
          "old_text": "TextGetLine( txt )",
          "new_text": null,
          "old_line_content": "        const char *s = TextGetLine( txt );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1603,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( s, \"FORMAT=%[^\\r\\n]\", psz_temp )",
          "new_text": null,
          "old_line_content": "            if( sscanf( s, \"FORMAT=%[^\\r\\n]\", psz_temp ) )",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1605,
          "old_api": "us_strtof",
          "new_api": null,
          "old_text": "us_strtof( psz_temp, NULL )",
          "new_text": null,
          "old_line_content": "                float f_fps = us_strtof( psz_temp, NULL );",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1607,
          "old_api": "var_GetFloat",
          "new_api": null,
          "old_text": "var_GetFloat( p_demux, \"sub-fps\" )",
          "new_text": null,
          "old_line_content": "                if( f_fps > 0.f && var_GetFloat( p_demux, \"sub-fps\" ) <= 0.f )",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2120,
          "old_api": "TextGetLine",
          "new_api": null,
          "old_text": "TextGetLine( txt )",
          "new_text": null,
          "old_line_content": "        char *s = TextGetLine( txt );",
          "new_line_content": "        int h2, m2, s2;",
          "content_same": false
        },
        {
          "line": 1611,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( psz_temp )",
          "new_text": null,
          "old_line_content": "                free( psz_temp );",
          "new_line_content": "                p_sys->mpsub.f_factor = 1.f;",
          "content_same": false
        },
        {
          "line": 2125,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( s, \"[%d:%d:%d]\", &h1, &m1, &s1 )",
          "new_text": null,
          "old_line_content": "        if( sscanf( s, \"[%d:%d:%d]\", &h1, &m1, &s1 ) == 3 )",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1614,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( psz_temp )",
          "new_text": null,
          "old_line_content": "            free( psz_temp );",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1618,
          "old_api": "us_strtof",
          "new_api": null,
          "old_text": "us_strtof( s, &psz_temp )",
          "new_text": null,
          "old_line_content": "        float f1 = us_strtof( s, &psz_temp );",
          "new_line_content": "        /* Data Lines */",
          "content_same": false
        },
        {
          "line": 2131,
          "old_api": "TextGetLine",
          "new_api": null,
          "old_text": "TextGetLine( txt )",
          "new_text": null,
          "old_line_content": "            char *s = TextGetLine( txt );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1621,
          "old_api": "us_strtof",
          "new_api": null,
          "old_text": "us_strtof( psz_temp, NULL )",
          "new_text": null,
          "old_line_content": "            float f2 = us_strtof( psz_temp, NULL );",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1110,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(s)",
          "new_text": null,
          "old_line_content": "        psz_text = malloc( strlen(s) );",
          "new_line_content": "        /* The output text is - at least, not removing numbers - 18 chars shorter than the input text. */",
          "content_same": false
        },
        {
          "line": 2135,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup( s )",
          "new_text": null,
          "old_line_content": "            psz_text = strdup( s );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1623,
          "old_api": "llroundf",
          "new_api": null,
          "old_text": "llroundf(10000.f * p_sys->mpsub.f_total)",
          "new_text": null,
          "old_line_content": "            p_subtitle->i_start = llroundf(10000.f * p_sys->mpsub.f_total);",
          "new_line_content": "            p_sys->mpsub.f_total += f1 * p_sys->mpsub.f_factor;",
          "content_same": false
        },
        {
          "line": 1625,
          "old_api": "llroundf",
          "new_api": null,
          "old_text": "llroundf(10000.f * p_sys->mpsub.f_total)",
          "new_text": null,
          "old_line_content": "            p_subtitle->i_stop = llroundf(10000.f * p_sys->mpsub.f_total);",
          "new_line_content": "            p_sys->mpsub.f_total += f2 * p_sys->mpsub.f_factor;",
          "content_same": false
        },
        {
          "line": 1114,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( s,\n                    \"Dialogue: %15[^,],%d:%d:%d.%d,%d:%d:%d.%d,%[^\\r\\n]\",\n                    temp,\n                    &h1, &m1, &s1, &c1,\n                    &h2, &m2, &s2, &c2,\n                    psz_text )",
          "new_text": null,
          "old_line_content": "        if( sscanf( s,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2139,
          "old_api": "TextGetLine",
          "new_api": null,
          "old_text": "TextGetLine( txt )",
          "new_text": null,
          "old_line_content": "            s = TextGetLine( txt );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2142,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( psz_text )",
          "new_text": null,
          "old_line_content": "                free( psz_text );",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1632,
          "old_api": "TextGetLine",
          "new_api": null,
          "old_text": "TextGetLine( txt )",
          "new_text": null,
          "old_line_content": "        const char *s = TextGetLine( txt );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 2146,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( s, \"[%d:%d:%d]\", &h2, &m2, &s2 )",
          "new_text": null,
          "old_line_content": "            if( sscanf( s, \"[%d:%d:%d]\", &h2, &m2, &s2 ) == 3 )",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1636,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( psz_text )",
          "new_text": null,
          "old_line_content": "            free( psz_text );",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(psz_text)",
          "new_text": null,
          "old_line_content": "                memmove( &psz_text[1], psz_text, strlen(psz_text)+1 );",
          "new_line_content": "                /* SSA1 has only 8 commas before the text starts, not 9 */",
          "content_same": false
        },
        {
          "line": 1640,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen( s )",
          "new_text": null,
          "old_line_content": "        int i_len = strlen( s );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": "atoi",
          "new_api": null,
          "old_text": "atoi( temp )",
          "new_text": null,
          "old_line_content": "                int i_layer = ( p_sys->i_type == SUB_TYPE_ASS ) ? atoi( temp ) : 0;",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1644,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen( psz_text )",
          "new_text": null,
          "old_line_content": "        int i_old = strlen( psz_text );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": "asprintf",
          "new_api": null,
          "old_text": "asprintf( &psz_temp, \"%d,%d,%s\", i_idx, i_layer, psz_text )",
          "new_text": null,
          "old_line_content": "                if( asprintf( &psz_temp, \"%d,%d,%s\", i_idx, i_layer, psz_text ) == -1 )",
          "new_line_content": "                /* ReadOrder, Layer, %s(rest of fields) */",
          "content_same": false
        },
        {
          "line": 1646,
          "old_api": "realloc_or_free",
          "new_api": null,
          "old_text": "realloc_or_free( psz_text, i_old + i_len + 1 + 1 )",
          "new_text": null,
          "old_line_content": "        psz_text = realloc_or_free( psz_text, i_old + i_len + 1 + 1 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1136,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( psz_text )",
          "new_text": null,
          "old_line_content": "                    free( psz_text );",
          "new_line_content": "                {",
          "content_same": false
        },
        {
          "line": 1650,
          "old_api": "strcat",
          "new_api": null,
          "old_text": "strcat( psz_text, s )",
          "new_text": null,
          "old_line_content": "        strcat( psz_text, s );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2164,
          "old_api": "VLC_UNUSED",
          "new_api": null,
          "old_text": "VLC_UNUSED( i_idx )",
          "new_text": null,
          "old_line_content": "    VLC_UNUSED( i_idx );",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( psz_text )",
          "new_text": null,
          "old_line_content": "                free( psz_text );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2172,
          "old_api": "TextGetLine",
          "new_api": null,
          "old_text": "TextGetLine( txt )",
          "new_text": null,
          "old_line_content": "        const char *s = TextGetLine( txt );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1660,
          "old_api": "VLC_UNUSED",
          "new_api": null,
          "old_text": "VLC_UNUSED( i_idx )",
          "new_text": null,
          "old_line_content": "    VLC_UNUSED( i_idx );",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2179,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( s,\"%d:%d:%d.%d --> %d:%d:%d.%d\",\n                    &h1, &m1, &s1, &d1,\n                    &h2, &m2, &s2, &d2 )",
          "new_text": null,
          "old_line_content": "        if( sscanf( s,\"%d:%d:%d.%d --> %d:%d:%d.%d\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1155,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( psz_text )",
          "new_text": null,
          "old_line_content": "        free( psz_text );",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2182,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( s,\"%d:%d:%d.%d --> %d:%d.%d\",\n                    &h1, &m1, &s1, &d1,\n                         &m2, &s2, &d2 )",
          "new_text": null,
          "old_line_content": "            sscanf( s,\"%d:%d:%d.%d --> %d:%d.%d\",",
          "new_line_content": "                    &h2, &m2, &s2, &d2 ) == 8 ||",
          "content_same": false
        },
        {
          "line": 2185,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( s,\"%d:%d.%d --> %d:%d:%d.%d\",\n                         &m1, &s1, &d1,\n                    &h2, &m2, &s2, &d2 )",
          "new_text": null,
          "old_line_content": "            sscanf( s,\"%d:%d.%d --> %d:%d:%d.%d\",",
          "new_line_content": "                         &m2, &s2, &d2 ) == 7 ||",
          "content_same": false
        },
        {
          "line": 1162,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( p_sys->psz_header )",
          "new_text": null,
          "old_line_content": "        free( p_sys->psz_header );",
          "new_line_content": "            return VLC_ENOMEM;",
          "content_same": false
        },
        {
          "line": 2188,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( s,\"%d:%d.%d --> %d:%d.%d\",\n                         &m1, &s1, &d1,\n                         &m2, &s2, &d2 )",
          "new_text": null,
          "old_line_content": "            sscanf( s,\"%d:%d.%d --> %d:%d.%d\",",
          "new_line_content": "                    &h2, &m2, &s2, &d2 ) == 7 ||",
          "content_same": false
        },
        {
          "line": 1680,
          "old_api": "TextGetLine",
          "new_api": null,
          "old_text": "TextGetLine( txt )",
          "new_text": null,
          "old_line_content": "        const char *s = TextGetLine( txt );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1684,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen( s )",
          "new_text": null,
          "old_line_content": "        psz_orig = malloc( strlen( s ) + 1 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": "VLC_UNUSED",
          "new_api": null,
          "old_text": "VLC_UNUSED( i_idx )",
          "new_text": null,
          "old_line_content": "    VLC_UNUSED( i_idx );",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1690,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( s, \"%d:%d:%d.%d %d:%d:%d.%d %[^\\n\\r]\",\n                    &h1, &m1, &s1, &f1, &h2, &m2, &s2, &f2, psz_text )",
          "new_text": null,
          "old_line_content": "        if( sscanf( s, \"%d:%d:%d.%d %d:%d:%d.%d %[^\\n\\r]\",",
          "new_line_content": "        /* Complete time lines */",
          "content_same": false
        },
        {
          "line": 2207,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup(\"\")",
          "new_text": null,
          "old_line_content": "    psz_text = strdup(\"\");",
          "new_line_content": "    /* Now read text until an empty line */",
          "content_same": false
        },
        {
          "line": 1185,
          "old_api": "TextGetLine",
          "new_api": null,
          "old_text": "TextGetLine( txt )",
          "new_text": null,
          "old_line_content": "        const char *s = TextGetLine( txt );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 2213,
          "old_api": "TextGetLine",
          "new_api": null,
          "old_text": "TextGetLine( txt )",
          "new_text": null,
          "old_line_content": "        const char *s = TextGetLine( txt );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1702,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( s, \"@%d @%d %[^\\n\\r]\", &f1, &f2, psz_text )",
          "new_text": null,
          "old_line_content": "        else if( sscanf( s, \"@%d @%d %[^\\n\\r]\", &f1, &f2, psz_text ) == 3 )",
          "new_line_content": "        /* Short time lines */",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen( s )",
          "new_text": null,
          "old_line_content": "        psz_text = malloc( strlen( s ) + 1 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2217,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen( s )",
          "new_text": null,
          "old_line_content": "        i_len = s ? strlen( s ) : 0;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1195,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( s, \"%d:%d:%d%*c%[^\\r\\n]\",\n                    &h1, &m1, &s1, psz_text )",
          "new_text": null,
          "old_line_content": "        if( sscanf( s, \"%d:%d:%d%*c%[^\\r\\n]\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2224,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen( psz_text )",
          "new_text": null,
          "old_line_content": "        i_old = strlen( psz_text );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1204,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( psz_text )",
          "new_text": null,
          "old_line_content": "        free( psz_text );",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2229,
          "old_api": "strcat",
          "new_api": null,
          "old_text": "strcat( psz_text, s )",
          "new_text": null,
          "old_line_content": "        strcat( psz_text, s );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1718,
          "old_api": "strcpy",
          "new_api": null,
          "old_text": "strcpy( psz_text, s )",
          "new_text": null,
          "old_line_content": "            strcpy( psz_text, s );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1720,
          "old_api": "toupper",
          "new_api": null,
          "old_text": "toupper( (unsigned char)psz_text[1] )",
          "new_text": null,
          "old_line_content": "            switch( toupper( (unsigned char)psz_text[1] ) )",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1723,
          "old_api": "isalpha",
          "new_api": null,
          "old_text": "isalpha( (unsigned char)psz_text[2] )",
          "new_text": null,
          "old_line_content": "                 shift = isalpha( (unsigned char)psz_text[2] ) ? 6 : 2 ;",
          "new_line_content": "            case 'S':",
          "content_same": false
        },
        {
          "line": 1725,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( &psz_text[shift], \"%d\", &h )",
          "new_text": null,
          "old_line_content": "                 if( sscanf( &psz_text[shift], \"%d\", &h ) )",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2241,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup( psz_sub_file )",
          "new_text": null,
          "old_line_content": "    char *psz_work = strdup( psz_sub_file );",
          "new_line_content": "    if( !psz_sub_file ) return NULL;",
          "content_same": false
        },
        {
          "line": 2244,
          "old_api": "strrchr",
          "new_api": null,
          "old_text": "strrchr( psz_work, '.' )",
          "new_text": null,
          "old_line_content": "    psz_tmp = strrchr( psz_work, '.' );",
          "new_line_content": "    /* Removing extension, but leaving the dot */",
          "content_same": false
        },
        {
          "line": 1222,
          "old_api": "strcasestr",
          "new_api": null,
          "old_text": "strcasestr( psz_start, psz_str )",
          "new_text": null,
          "old_line_content": "    if( psz_start && strcasestr( psz_start, psz_str ) )",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1734,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( &psz_text[shift], \"%*d:%d\", &m )",
          "new_text": null,
          "old_line_content": "                     if( sscanf( &psz_text[shift], \"%*d:%d\", &m ) )",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2248,
          "old_api": "strrchr",
          "new_api": null,
          "old_text": "strrchr( psz_work, '.' )",
          "new_text": null,
          "old_line_content": "        psz_language_begin = strrchr( psz_work, '.' );",
          "new_line_content": "        psz_tmp[0] = '\\0';",
          "content_same": false
        },
        {
          "line": 1224,
          "old_api": "strcasestr",
          "new_api": null,
          "old_text": "strcasestr( psz_start, psz_str )",
          "new_text": null,
          "old_line_content": "        char *s = strcasestr( psz_start, psz_str );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 2250,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup(++psz_language_begin)",
          "new_text": null,
          "old_line_content": "            psz_ret = strdup(++psz_language_begin);",
          "new_line_content": "        if( psz_language_begin )",
          "content_same": false
        },
        {
          "line": 1736,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( &psz_text[shift], \"%*d:%*d:%d\", &sec )",
          "new_text": null,
          "old_line_content": "                         if( sscanf( &psz_text[shift], \"%*d:%*d:%d\", &sec ) )",
          "new_line_content": "                     {",
          "content_same": false
        },
        {
          "line": 1738,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( &psz_text[shift], \"%*d:%*d:%*d.%d\", &f )",
          "new_text": null,
          "old_line_content": "                             sscanf( &psz_text[shift], \"%*d:%*d:%*d.%d\", &f );",
          "new_line_content": "                         {",
          "content_same": false
        },
        {
          "line": 2254,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( psz_work )",
          "new_text": null,
          "old_line_content": "    free( psz_work );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1230,
          "old_api": "TextGetLine",
          "new_api": null,
          "old_text": "TextGetLine( txt )",
          "new_text": null,
          "old_line_content": "        char *p = TextGetLine( txt );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1743,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( &psz_text[shift], \"%d:%d.%d\",\n                                     &m, &sec, &f )",
          "new_text": null,
          "old_line_content": "                             sscanf( &psz_text[shift], \"%d:%d.%d\",",
          "new_line_content": "                             h = 0;",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": "strcasestr",
          "new_api": null,
          "old_text": "strcasestr( p, psz_str )",
          "new_text": null,
          "old_line_content": "        if( strcasestr( p, psz_str ) )",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1236,
          "old_api": "strcasestr",
          "new_api": null,
          "old_text": "strcasestr( p, psz_str )",
          "new_text": null,
          "old_line_content": "            char *s = strcasestr( p, psz_str );",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1751,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( &psz_text[shift], \"%d.%d\", &sec, &f)",
          "new_text": null,
          "old_line_content": "                         sscanf( &psz_text[shift], \"%d.%d\", &sec, &f);",
          "new_line_content": "                         h = m = 0;",
          "content_same": false
        },
        {
          "line": 1243,
          "old_api": "VLC_UNUSED",
          "new_api": null,
          "old_text": "VLC_UNUSED( i_idx )",
          "new_text": null,
          "old_line_content": "    VLC_UNUSED( i_idx );",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1760,
          "old_api": "isalpha",
          "new_api": null,
          "old_text": "isalpha( (unsigned char)psz_text[2] )",
          "new_text": null,
          "old_line_content": "                shift = isalpha( (unsigned char)psz_text[2] ) ? 8 : 2 ;",
          "new_line_content": "            case 'T':",
          "content_same": false
        },
        {
          "line": 1762,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( &psz_text[shift], \"%d\", &p_sys->jss.i_time_resolution )",
          "new_text": null,
          "old_line_content": "                sscanf( &psz_text[shift], \"%d\", &p_sys->jss.i_time_resolution );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1765,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( psz_orig )",
          "new_text": null,
          "old_line_content": "            free( psz_orig );",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1254,
          "old_api": "ParseSamiSearch",
          "new_api": null,
          "old_text": "ParseSamiSearch( txt, NULL, \"Start=\" )",
          "new_text": null,
          "old_line_content": "    if( !( s = ParseSamiSearch( txt, NULL, \"Start=\" ) ) )",
          "new_line_content": "    /* search \"Start=\" */",
          "content_same": false
        },
        {
          "line": 1258,
          "old_api": "strtol",
          "new_api": null,
          "old_text": "strtol( s, &s, 0 )",
          "new_text": null,
          "old_line_content": "    i_start = strtol( s, &s, 0 );",
          "new_line_content": "    /* get start value */",
          "content_same": false
        },
        {
          "line": 1771,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( psz_orig )",
          "new_text": null,
          "old_line_content": "            free( psz_orig );",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": "ParseSamiSearch",
          "new_api": null,
          "old_text": "ParseSamiSearch( txt, s, \"<P\" )",
          "new_text": null,
          "old_line_content": "    if( !( s = ParseSamiSearch( txt, s, \"<P\" ) ) )",
          "new_line_content": "    /* search <P */",
          "content_same": false
        },
        {
          "line": 1776,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen( psz_text )",
          "new_text": null,
          "old_line_content": "    while( psz_text[ strlen( psz_text ) - 1 ] == '\\\\' )",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1265,
          "old_api": "ParseSamiSearch",
          "new_api": null,
          "old_text": "ParseSamiSearch( txt, s, \">\" )",
          "new_text": null,
          "old_line_content": "    if( !( s = ParseSamiSearch( txt, s, \">\" ) ) )",
          "new_line_content": "    /* search > */",
          "content_same": false
        },
        {
          "line": 1778,
          "old_api": "TextGetLine",
          "new_api": null,
          "old_text": "TextGetLine( txt )",
          "new_text": null,
          "old_line_content": "        const char *s2 = TextGetLine( txt );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1782,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( psz_orig )",
          "new_text": null,
          "old_line_content": "            free( psz_orig );",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1786,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen( s2 )",
          "new_text": null,
          "old_line_content": "        int i_len = strlen( s2 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1276,
          "old_api": "TextGetLine",
          "new_api": null,
          "old_text": "TextGetLine( txt )",
          "new_text": null,
          "old_line_content": "            s = TextGetLine( txt );",
          "new_line_content": "        while( s && *s == '\\0' )",
          "content_same": false
        },
        {
          "line": 1790,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen( psz_text )",
          "new_text": null,
          "old_line_content": "        int i_old = strlen( psz_text );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1792,
          "old_api": "realloc_or_free",
          "new_api": null,
          "old_text": "realloc_or_free( psz_text, i_old + i_len + 1 )",
          "new_text": null,
          "old_line_content": "        psz_text = realloc_or_free( psz_text, i_old + i_len + 1 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1282,
          "old_api": "strncasecmp",
          "new_api": null,
          "old_text": "strncasecmp( s, \"<br\", 3 )",
          "new_text": null,
          "old_line_content": "            if( !strncasecmp( s, \"<br\", 3 ) )",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1797,
          "old_api": "strcat",
          "new_api": null,
          "old_text": "strcat( psz_text, s2 )",
          "new_text": null,
          "old_line_content": "        strcat( psz_text, s2 );",
          "new_line_content": "        psz_orig = psz_text;",
          "content_same": false
        },
        {
          "line": 1286,
          "old_api": "strcasestr",
          "new_api": null,
          "old_text": "strcasestr( s, \"Start=\" )",
          "new_text": null,
          "old_line_content": "            else if( strcasestr( s, \"Start=\" ) )",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1288,
          "old_api": "TextPreviousLine",
          "new_api": null,
          "old_text": "TextPreviousLine( txt )",
          "new_text": null,
          "old_line_content": "                TextPreviousLine( txt );",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1291,
          "old_api": "ParseSamiSearch",
          "new_api": null,
          "old_text": "ParseSamiSearch( txt, s, \">\" )",
          "new_text": null,
          "old_line_content": "            s = ParseSamiSearch( txt, s, \">\" );",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1804,
          "old_api": "isalpha",
          "new_api": null,
          "old_text": "isalpha( (unsigned char)*psz_text )",
          "new_text": null,
          "old_line_content": "    if( isalpha( (unsigned char)*psz_text ) || *psz_text == '[' )",
          "new_line_content": "    /* Parse the directives */",
          "content_same": false
        },
        {
          "line": 1293,
          "old_api": "strncmp",
          "new_api": null,
          "old_text": "strncmp( s, \"&nbsp;\", 6 )",
          "new_text": null,
          "old_line_content": "        else if( !strncmp( s, \"&nbsp;\", 6 ) )",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1819,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen( psz_text)",
          "new_text": null,
          "old_line_content": "    psz_orig2 = calloc( strlen( psz_text) + 1, 1 );",
          "new_line_content": "    /* Clean all the lines from inline comments and other stuffs */",
          "content_same": false
        },
        {
          "line": 1317,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup( text )",
          "new_text": null,
          "old_line_content": "    p_subtitle->psz_text = strdup( text );",
          "new_line_content": "    p_subtitle->i_stop  = -1;",
          "content_same": false
        },
        {
          "line": 1342,
          "old_api": "VLC_UNUSED",
          "new_api": null,
          "old_text": "VLC_UNUSED( i_idx )",
          "new_text": null,
          "old_line_content": "    VLC_UNUSED( i_idx );",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1861,
          "old_api": "toupper",
          "new_api": null,
          "old_text": "toupper((unsigned char)*(psz_text + 1 ) )",
          "new_text": null,
          "old_line_content": "            if( ( toupper((unsigned char)*(psz_text + 1 ) ) == 'C' ) ||",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1350,
          "old_api": "TextGetLine",
          "new_api": null,
          "old_text": "TextGetLine( txt )",
          "new_text": null,
          "old_line_content": "        const char *s = TextGetLine( txt );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1356,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( s,\n                    \"{T %d:%d:%d:%d\",\n                    &h1, &m1, &s1, &c1 )",
          "new_text": null,
          "old_line_content": "        if( sscanf( s,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup(\"\")",
          "new_text": null,
          "old_line_content": "    psz_text = strdup(\"\");",
          "new_line_content": "    /* Now read text until a line containing \"}\" */",
          "content_same": false
        },
        {
          "line": 1375,
          "old_api": "TextGetLine",
          "new_api": null,
          "old_text": "TextGetLine( txt )",
          "new_text": null,
          "old_line_content": "        const char *s = TextGetLine( txt );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1381,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( psz_text )",
          "new_text": null,
          "old_line_content": "            free( psz_text );",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1895,
          "old_api": "msg_Dbg",
          "new_api": null,
          "old_text": "msg_Dbg( p_demux, \"%s\", p_subtitle->psz_text )",
          "new_text": null,
          "old_line_content": "    msg_Dbg( p_demux, \"%s\", p_subtitle->psz_text );",
          "new_line_content": "    p_subtitle->psz_text = psz_orig2;",
          "content_same": false
        },
        {
          "line": 1385,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen( s )",
          "new_text": null,
          "old_line_content": "        i_len = strlen( s );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1902,
          "old_api": "VLC_UNUSED",
          "new_api": null,
          "old_text": "VLC_UNUSED( i_idx )",
          "new_text": null,
          "old_line_content": "    VLC_UNUSED( i_idx );",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1392,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen( psz_text )",
          "new_text": null,
          "old_line_content": "        i_old = strlen( psz_text );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1396,
          "old_api": "strcat",
          "new_api": null,
          "old_text": "strcat( psz_text, s )",
          "new_text": null,
          "old_line_content": "        strcat( psz_text, s );",
          "new_line_content": "            return VLC_ENOMEM;",
          "content_same": false
        },
        {
          "line": 1913,
          "old_api": "TextGetLine",
          "new_api": null,
          "old_text": "TextGetLine( txt )",
          "new_text": null,
          "old_line_content": "        const char *s = TextGetLine( txt );",
          "new_line_content": "        int h2, m2, s2;",
          "content_same": false
        },
        {
          "line": 1918,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen( s )",
          "new_text": null,
          "old_line_content": "        psz_text = malloc( strlen( s ) + 1 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1408,
          "old_api": "VLC_UNUSED",
          "new_api": null,
          "old_text": "VLC_UNUSED( i_idx )",
          "new_text": null,
          "old_line_content": "    VLC_UNUSED( i_idx );",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1922,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( s, \"{%d:%d:%d}{%d:%d:%d}%[^\\r\\n]\",\n                    &h1, &m1, &s1, &h2, &m2, &s2, psz_text )",
          "new_text": null,
          "old_line_content": "        if( sscanf( s, \"{%d:%d:%d}{%d:%d:%d}%[^\\r\\n]\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1417,
          "old_api": "TextGetLine",
          "new_api": null,
          "old_text": "TextGetLine( txt )",
          "new_text": null,
          "old_line_content": "        const char *s = TextGetLine( txt );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1933,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( psz_text )",
          "new_text": null,
          "old_line_content": "        free( psz_text );",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1424,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(s)",
          "new_text": null,
          "old_line_content": "        psz_text = malloc( strlen(s) + 1 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( s, \"[%d][] %[^\\r\\n]\", &i_start, psz_text )",
          "new_text": null,
          "old_line_content": "        if( sscanf( s, \"[%d][] %[^\\r\\n]\", &i_start, psz_text ) == 2 ||",
          "new_line_content": "        i_stop  = -1;",
          "content_same": false
        },
        {
          "line": 1437,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( psz_text )",
          "new_text": null,
          "old_line_content": "        free( psz_text );",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1949,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( psz, \"%d:%d:%d.%d\", h, m, s, f )",
          "new_text": null,
          "old_line_content": "    if( sscanf( psz, \"%d:%d:%d.%d\", h, m, s, f ) == 4 ||",
          "new_line_content": "    if( *psz == '\\0' ) return 0;",
          "content_same": false
        },
        {
          "line": 1448,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(&psz_text[i+1])",
          "new_text": null,
          "old_line_content": "            memmove( &psz_text[i], &psz_text[i+1], strlen(&psz_text[i+1])+1 );",
          "new_line_content": "        if( psz_text[i] == '/' && ( i == 0 || psz_text[i-1] == '\\n' ) )",
          "content_same": false
        },
        {
          "line": 1963,
          "old_api": "VLC_UNUSED",
          "new_api": null,
          "old_text": "VLC_UNUSED( i_idx )",
          "new_text": null,
          "old_line_content": "    VLC_UNUSED( i_idx );",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1458,
          "old_api": "VLC_UNUSED",
          "new_api": null,
          "old_text": "VLC_UNUSED( i_idx )",
          "new_text": null,
          "old_line_content": "    VLC_UNUSED( i_idx );",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1972,
          "old_api": "TextGetLine",
          "new_api": null,
          "old_text": "TextGetLine( txt )",
          "new_text": null,
          "old_line_content": "        const char *s = TextGetLine( txt );",
          "new_line_content": "        int h2 = 0, m2 = 0, s2 = 0, f2 = 0;",
          "content_same": false
        },
        {
          "line": 1462,
          "old_api": "strdup",
          "new_api": null,
          "old_text": "strdup( \"\" )",
          "new_text": null,
          "old_line_content": "    char *psz_text = strdup( \"\" );",
          "new_line_content": "    text_t      *txt = &p_sys->txt;",
          "content_same": false
        },
        {
          "line": 1978,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen( s )",
          "new_text": null,
          "old_line_content": "        psz_text = malloc( strlen( s ) + 1 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": "TextGetLine",
          "new_api": null,
          "old_text": "TextGetLine( txt )",
          "new_text": null,
          "old_line_content": "        const char *s = TextGetLine( txt );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1984,
          "old_api": "strcasestr",
          "new_api": null,
          "old_text": "strcasestr( s, \"<time\")",
          "new_text": null,
          "old_line_content": "        char *psz_temp = strcasestr( s, \"<time\");",
          "new_line_content": "           of the line.*/",
          "content_same": false
        },
        {
          "line": 1474,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( psz_text )",
          "new_text": null,
          "old_line_content": "            free( psz_text );",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1989,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( psz_temp,\n                  \"<%*[t|T]ime %*[b|B]egin=\\\"%11[^\\\"]\\\" %*[e|E]nd=\\\"%11[^\\\"]%*[^>]%[^\\n\\r]\",\n                            psz_begin, psz_end, psz_text)",
          "new_text": null,
          "old_line_content": "            if( ( sscanf( psz_temp,",
          "new_line_content": "            /* Line has begin and end */",
          "content_same": false
        },
        {
          "line": 1479,
          "old_api": "sscanf (s, \"-->> %d\", &t)",
          "new_api": null,
          "old_text": "sscanf (s, \"-->> %d\", &t)",
          "new_text": null,
          "old_line_content": "        if( sscanf (s, \"-->> %d\", &t) == 1)",
          "new_line_content": "        /* Data Lines */",
          "content_same": false
        },
        {
          "line": 1993,
          "old_api": "sscanf",
          "new_api": null,
          "old_text": "sscanf( psz_temp,\n                              \"<%*[t|T]ime %*[b|B]egin=\\\"%11[^\\\"]\\\"%*[^>]%[^\\n\\r]\",\n                              psz_begin, psz_text )",
          "new_text": null,
          "old_line_content": "                    ( sscanf( psz_temp,",
          "new_line_content": "                    /* Line has begin and no end */",
          "content_same": false
        },
        {
          "line": 2002,
          "old_api": "ParseRealTime",
          "new_api": null,
          "old_text": "ParseRealTime( psz_begin, &h1, &m1, &s1, &f1 )",
          "new_text": null,
          "old_line_content": "            int64_t i_time = ParseRealTime( psz_begin, &h1, &m1, &s1, &f1 );",
          "new_line_content": "            /* Get the times */",
          "content_same": false
        },
        {
          "line": 1492,
          "old_api": "TextPreviousLine",
          "new_api": null,
          "old_text": "TextPreviousLine( txt )",
          "new_text": null,
          "old_line_content": "                TextPreviousLine( txt );",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 2005,
          "old_api": "ParseRealTime",
          "new_api": null,
          "old_text": "ParseRealTime( psz_end, &h2, &m2, &s2, &f2 )",
          "new_text": null,
          "old_line_content": "            i_time = ParseRealTime( psz_end, &h2, &m2, &s2, &f2 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1499,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen( psz_text )",
          "new_text": null,
          "old_line_content": "            i_old = strlen( psz_text ) + 1;",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 2014,
          "old_api": "TextGetLine",
          "new_api": null,
          "old_text": "TextGetLine( txt )",
          "new_text": null,
          "old_line_content": "        const char *s = TextGetLine( txt );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1503,
          "old_api": "strcat",
          "new_api": null,
          "old_text": "strcat( psz_text, s )",
          "new_text": null,
          "old_line_content": "            strcat( psz_text, s );",
          "new_line_content": "                 return VLC_ENOMEM;",
          "content_same": false
        },
        {
          "line": 2018,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( psz_text )",
          "new_text": null,
          "old_line_content": "            free( psz_text );",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 2022,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen( s )",
          "new_text": null,
          "old_line_content": "        int i_len = strlen( s );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2025,
          "old_api": "strcasestr",
          "new_api": null,
          "old_text": "strcasestr( s, \"<time\" )",
          "new_text": null,
          "old_line_content": "        if( strcasestr( s, \"<time\" ) ||",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1515,
          "old_api": "VLC_UNUSED",
          "new_api": null,
          "old_text": "VLC_UNUSED( i_idx )",
          "new_text": null,
          "old_line_content": "    VLC_UNUSED( i_idx );",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 2028,
          "old_api": "TextPreviousLine",
          "new_api": null,
          "old_text": "TextPreviousLine( txt )",
          "new_text": null,
          "old_line_content": "            TextPreviousLine( txt );",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 2032,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen( psz_text )",
          "new_text": null,
          "old_line_content": "        int i_old = strlen( psz_text );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2034,
          "old_api": "realloc_or_free",
          "new_api": null,
          "old_text": "realloc_or_free( psz_text, i_old + i_len + 1 + 1 )",
          "new_text": null,
          "old_line_content": "        psz_text = realloc_or_free( psz_text, i_old + i_len + 1 + 1 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1524,
          "old_api": "TextGetLine",
          "new_api": null,
          "old_text": "TextGetLine( txt )",
          "new_text": null,
          "old_line_content": "        const char *s = TextGetLine( txt );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 2038,
          "old_api": "strcat",
          "new_api": null,
          "old_text": "strcat( psz_text, s )",
          "new_text": null,
          "old_line_content": "        strcat( psz_text, s );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1530,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(s)",
          "new_text": null,
          "old_line_content": "        psz_text = malloc( strlen(s) + 1 );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2043,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen( psz_text )",
          "new_text": null,
          "old_line_content": "    memmove( &psz_text[0], &psz_text[1], strlen( psz_text ) );",
          "new_line_content": "    /* Remove the starting \">\" that remained after the sscanf */",
          "content_same": false
        },
        {
          "line": 1535,
          "old_api": "sscanf (s, \"%d,%d,\\\"%[^\\n\\r]\", &t1, &t2, psz_text )",
          "new_api": null,
          "old_text": "sscanf (s, \"%d,%d,\\\"%[^\\n\\r]\", &t1, &t2, psz_text )",
          "new_text": null,
          "old_line_content": "        if( sscanf (s, \"%d,%d,\\\"%[^\\n\\r]\", &t1, &t2, psz_text ) == 3 )",
          "new_line_content": "        /* Data Lines */",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 8,
      "total_additions": 172,
      "total_deletions": 171,
      "total_api_changes": 351
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 8,
        "api_related_lines": 351,
        "non_api_lines": 4,
        "non_api_line_numbers": [
          1086,
          1161,
          1164,
          1158
        ]
      }
    },
    "api_calls_before": 368,
    "api_calls_after": 369,
    "diff_info": {
      "added_lines": 6,
      "removed_lines": 5,
      "total_diff_lines": 31
    }
  }
}