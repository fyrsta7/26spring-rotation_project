{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/7460961785850575efe436ec1bb4140b91638a75",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/7460961785850575efe436ec1bb4140b91638a75/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/7460961785850575efe436ec1bb4140b91638a75/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/7460961785850575efe436ec1bb4140b91638a75/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 647,
          "old_api": "subpicture_region_New",
          "new_api": "subpicture_region_ForPicture",
          "old_text": "subpicture_region_New( &fmt_out )",
          "new_text": "subpicture_region_ForPicture( &fmt_out, p_converted )",
          "old_line_content": "        p_region = subpicture_region_New( &fmt_out );",
          "new_line_content": "        p_region = subpicture_region_ForPicture( &fmt_out, p_converted );",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": "video_format_Clean",
          "new_api": "subpicture_Delete",
          "old_text": "video_format_Clean( &fmt_in )",
          "new_text": "subpicture_Delete( p_spu )",
          "old_line_content": "            video_format_Clean( &fmt_in );",
          "new_line_content": "            subpicture_Delete( p_spu );",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": "video_format_Clean",
          "new_api": "vlc_global_unlock",
          "old_text": "video_format_Clean( &fmt_out )",
          "new_text": "vlc_global_unlock( VLC_MOSAIC_MUTEX )",
          "old_line_content": "            video_format_Clean( &fmt_out );",
          "new_line_content": "            vlc_global_unlock( VLC_MOSAIC_MUTEX );",
          "content_same": false
        },
        {
          "line": 658,
          "old_api": "msg_Err",
          "new_api": "vlc_mutex_unlock",
          "old_text": "msg_Err( p_filter, \"cannot allocate SPU region\" )",
          "new_text": "vlc_mutex_unlock( &p_sys->lock )",
          "old_line_content": "            msg_Err( p_filter, \"cannot allocate SPU region\" );",
          "new_line_content": "            vlc_mutex_unlock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 748,
          "old_api": "VAR_IS",
          "new_api": "msg_Dbg",
          "old_text": "VAR_IS( \"alpha\" )",
          "new_text": "msg_Dbg( p_this, \"changing alpha from %d/255 to %d/255\",\n                         p_sys->i_alpha, (int)newval.i_int)",
          "old_line_content": "    if( VAR_IS( \"alpha\" ) )",
          "new_line_content": "        msg_Dbg( p_this, \"changing alpha from %d/255 to %d/255\",",
          "content_same": false
        },
        {
          "line": 751,
          "old_api": "msg_Dbg",
          "new_api": "vlc_mutex_unlock",
          "old_text": "msg_Dbg( p_this, \"changing alpha from %d/255 to %d/255\",\n                         p_sys->i_alpha, (int)newval.i_int)",
          "new_text": "vlc_mutex_unlock( &p_sys->lock )",
          "old_line_content": "        msg_Dbg( p_this, \"changing alpha from %d/255 to %d/255\",",
          "new_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 756,
          "old_api": "VAR_IS",
          "new_api": "msg_Dbg",
          "old_text": "VAR_IS( \"height\" )",
          "new_text": "msg_Dbg( p_this, \"changing height from %dpx to %dpx\",\n                          p_sys->i_height, (int)newval.i_int )",
          "old_line_content": "    else if( VAR_IS( \"height\" ) )",
          "new_line_content": "        msg_Dbg( p_this, \"changing height from %dpx to %dpx\",",
          "content_same": false
        },
        {
          "line": 759,
          "old_api": "msg_Dbg",
          "new_api": "vlc_mutex_unlock",
          "old_text": "msg_Dbg( p_this, \"changing height from %dpx to %dpx\",\n                          p_sys->i_height, (int)newval.i_int )",
          "new_text": "vlc_mutex_unlock( &p_sys->lock )",
          "old_line_content": "        msg_Dbg( p_this, \"changing height from %dpx to %dpx\",",
          "new_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 764,
          "old_api": "VAR_IS",
          "new_api": "msg_Dbg",
          "old_text": "VAR_IS( \"width\" )",
          "new_text": "msg_Dbg( p_this, \"changing width from %dpx to %dpx\",\n                         p_sys->i_width, (int)newval.i_int )",
          "old_line_content": "    else if( VAR_IS( \"width\" ) )",
          "new_line_content": "        msg_Dbg( p_this, \"changing width from %dpx to %dpx\",",
          "content_same": false
        },
        {
          "line": 767,
          "old_api": "msg_Dbg",
          "new_api": "vlc_mutex_unlock",
          "old_text": "msg_Dbg( p_this, \"changing width from %dpx to %dpx\",\n                         p_sys->i_width, (int)newval.i_int )",
          "new_text": "vlc_mutex_unlock( &p_sys->lock )",
          "old_line_content": "        msg_Dbg( p_this, \"changing width from %dpx to %dpx\",",
          "new_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 772,
          "old_api": "VAR_IS",
          "new_api": "msg_Dbg",
          "old_text": "VAR_IS( \"xoffset\" )",
          "new_text": "msg_Dbg( p_this, \"changing x offset from %dpx to %dpx\",\n                         p_sys->i_xoffset, (int)newval.i_int )",
          "old_line_content": "    else if( VAR_IS( \"xoffset\" ) )",
          "new_line_content": "        msg_Dbg( p_this, \"changing x offset from %dpx to %dpx\",",
          "content_same": false
        },
        {
          "line": 775,
          "old_api": "msg_Dbg",
          "new_api": "vlc_mutex_unlock",
          "old_text": "msg_Dbg( p_this, \"changing x offset from %dpx to %dpx\",\n                         p_sys->i_xoffset, (int)newval.i_int )",
          "new_text": "vlc_mutex_unlock( &p_sys->lock )",
          "old_line_content": "        msg_Dbg( p_this, \"changing x offset from %dpx to %dpx\",",
          "new_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 780,
          "old_api": "VAR_IS",
          "new_api": "msg_Dbg",
          "old_text": "VAR_IS( \"yoffset\" )",
          "new_text": "msg_Dbg( p_this, \"changing y offset from %dpx to %dpx\",\n                         p_sys->i_yoffset, (int)newval.i_int )",
          "old_line_content": "    else if( VAR_IS( \"yoffset\" ) )",
          "new_line_content": "        msg_Dbg( p_this, \"changing y offset from %dpx to %dpx\",",
          "content_same": false
        },
        {
          "line": 783,
          "old_api": "msg_Dbg",
          "new_api": "vlc_mutex_unlock",
          "old_text": "msg_Dbg( p_this, \"changing y offset from %dpx to %dpx\",\n                         p_sys->i_yoffset, (int)newval.i_int )",
          "new_text": "vlc_mutex_unlock( &p_sys->lock )",
          "old_line_content": "        msg_Dbg( p_this, \"changing y offset from %dpx to %dpx\",",
          "new_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 788,
          "old_api": "VAR_IS",
          "new_api": "vlc_mutex_lock",
          "old_text": "VAR_IS( \"align\" )",
          "new_text": "vlc_mutex_lock( &p_sys->lock )",
          "old_line_content": "    else if( VAR_IS( \"align\" ) )",
          "new_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 802,
          "old_api": "VAR_IS",
          "new_api": "msg_Dbg",
          "old_text": "VAR_IS( \"borderw\" )",
          "new_text": "msg_Dbg( p_this, \"changing border width from %dpx to %dpx\",\n                         p_sys->i_borderw, (int)newval.i_int )",
          "old_line_content": "    else if( VAR_IS( \"borderw\" ) )",
          "new_line_content": "        msg_Dbg( p_this, \"changing border width from %dpx to %dpx\",",
          "content_same": false
        },
        {
          "line": 805,
          "old_api": "msg_Dbg",
          "new_api": "vlc_mutex_unlock",
          "old_text": "msg_Dbg( p_this, \"changing border width from %dpx to %dpx\",\n                         p_sys->i_borderw, (int)newval.i_int )",
          "new_text": "vlc_mutex_unlock( &p_sys->lock )",
          "old_line_content": "        msg_Dbg( p_this, \"changing border width from %dpx to %dpx\",",
          "new_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 810,
          "old_api": "VAR_IS",
          "new_api": "msg_Dbg",
          "old_text": "VAR_IS( \"borderh\" )",
          "new_text": "msg_Dbg( p_this, \"changing border height from %dpx to %dpx\",\n                         p_sys->i_borderh, (int)newval.i_int )",
          "old_line_content": "    else if( VAR_IS( \"borderh\" ) )",
          "new_line_content": "        msg_Dbg( p_this, \"changing border height from %dpx to %dpx\",",
          "content_same": false
        },
        {
          "line": 813,
          "old_api": "msg_Dbg",
          "new_api": "vlc_mutex_unlock",
          "old_text": "msg_Dbg( p_this, \"changing border height from %dpx to %dpx\",\n                         p_sys->i_borderh, (int)newval.i_int )",
          "new_text": "vlc_mutex_unlock( &p_sys->lock )",
          "old_line_content": "        msg_Dbg( p_this, \"changing border height from %dpx to %dpx\",",
          "new_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 818,
          "old_api": "VAR_IS",
          "new_api": "msg_Dbg",
          "old_text": "VAR_IS( \"position\" )",
          "new_text": "msg_Dbg( p_this, \"changing position method from %d (%s) to %d (%s)\",\n                p_sys->i_position, ppsz_pos_descriptions[p_sys->i_position],\n                 (int)newval.i_int, ppsz_pos_descriptions[newval.i_int])",
          "old_line_content": "    else if( VAR_IS( \"position\" ) )",
          "new_line_content": "        msg_Dbg( p_this, \"changing position method from %d (%s) to %d (%s)\",",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": "VAR_IS",
          "new_api": "msg_Dbg",
          "old_text": "VAR_IS( \"rows\" )",
          "new_text": "msg_Dbg( p_this, \"changing number of rows from %d to %d\",\n                         p_sys->i_rows, (int)newval.i_int )",
          "old_line_content": "    else if( VAR_IS( \"rows\" ) )",
          "new_line_content": "        msg_Dbg( p_this, \"changing number of rows from %d to %d\",",
          "content_same": false
        },
        {
          "line": 830,
          "old_api": "msg_Dbg",
          "new_api": "vlc_mutex_unlock",
          "old_text": "msg_Dbg( p_this, \"changing number of rows from %d to %d\",\n                         p_sys->i_rows, (int)newval.i_int )",
          "new_text": "vlc_mutex_unlock( &p_sys->lock )",
          "old_line_content": "        msg_Dbg( p_this, \"changing number of rows from %d to %d\",",
          "new_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 835,
          "old_api": "VAR_IS",
          "new_api": "msg_Dbg",
          "old_text": "VAR_IS( \"cols\" )",
          "new_text": "msg_Dbg( p_this, \"changing number of columns from %d to %d\",\n                         p_sys->i_cols, (int)newval.i_int )",
          "old_line_content": "    else if( VAR_IS( \"cols\" ) )",
          "new_line_content": "        msg_Dbg( p_this, \"changing number of columns from %d to %d\",",
          "content_same": false
        },
        {
          "line": 838,
          "old_api": "msg_Dbg",
          "new_api": "vlc_mutex_unlock",
          "old_text": "msg_Dbg( p_this, \"changing number of columns from %d to %d\",\n                         p_sys->i_cols, (int)newval.i_int )",
          "new_text": "vlc_mutex_unlock( &p_sys->lock )",
          "old_line_content": "        msg_Dbg( p_this, \"changing number of columns from %d to %d\",",
          "new_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": "VAR_IS",
          "new_api": "msg_Info",
          "old_text": "VAR_IS( \"offsets\" )",
          "new_text": "msg_Info( p_this, \"Changing mosaic-offsets to %s\", newval.psz_string )",
          "old_line_content": "    else if( VAR_IS( \"offsets\" ) )",
          "new_line_content": "        msg_Info( p_this, \"Changing mosaic-offsets to %s\", newval.psz_string );",
          "content_same": false
        },
        {
          "line": 898,
          "old_api": "vlc_mutex_lock",
          "new_api": "msg_Dbg",
          "old_text": "vlc_mutex_lock( &p_sys->lock )",
          "new_text": "msg_Dbg( p_this, \"keeping aspect ratio\" )",
          "old_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "new_line_content": "            msg_Dbg( p_this, \"keeping aspect ratio\" );",
          "content_same": false
        },
        {
          "line": 906,
          "old_api": "msg_Dbg",
          "new_api": "vlc_mutex_unlock",
          "old_text": "msg_Dbg( p_this, \"won't keep aspect ratio\" )",
          "new_text": "vlc_mutex_unlock( &p_sys->lock )",
          "old_line_content": "            msg_Dbg( p_this, \"won't keep aspect ratio\" );",
          "new_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 769,
          "old_api": null,
          "new_api": "VAR_IS",
          "old_text": null,
          "new_text": "VAR_IS( \"xoffset\" )",
          "old_line_content": "        p_sys->i_width = newval.i_int;",
          "new_line_content": "    else if( VAR_IS( \"xoffset\" ) )",
          "content_same": false
        },
        {
          "line": 771,
          "old_api": null,
          "new_api": "vlc_mutex_lock",
          "old_text": null,
          "new_text": "vlc_mutex_lock( &p_sys->lock )",
          "old_line_content": "    }",
          "new_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 891,
          "old_api": null,
          "new_api": "vlc_mutex_unlock",
          "old_text": null,
          "new_text": "vlc_mutex_unlock( &p_sys->lock )",
          "old_line_content": "",
          "new_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 903,
          "old_api": null,
          "new_api": "msg_Dbg",
          "old_text": null,
          "new_text": "msg_Dbg( p_this, \"won't keep aspect ratio\" )",
          "old_line_content": "        }",
          "new_line_content": "            msg_Dbg( p_this, \"won't keep aspect ratio\" );",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": null,
          "new_api": "picture_Release",
          "old_text": null,
          "new_text": "picture_Release( p_converted )",
          "old_line_content": "        if( p_region )",
          "new_line_content": "            picture_Release( p_converted );",
          "content_same": false
        },
        {
          "line": 777,
          "old_api": null,
          "new_api": "VAR_IS",
          "old_text": null,
          "new_text": "VAR_IS( \"yoffset\" )",
          "old_line_content": "        p_sys->i_xoffset = newval.i_int;",
          "new_line_content": "    else if( VAR_IS( \"yoffset\" ) )",
          "content_same": false
        },
        {
          "line": 779,
          "old_api": null,
          "new_api": "vlc_mutex_lock",
          "old_text": null,
          "new_text": "vlc_mutex_lock( &p_sys->lock )",
          "old_line_content": "    }",
          "new_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 908,
          "old_api": null,
          "new_api": "VAR_IS",
          "old_text": null,
          "new_text": "VAR_IS( \"keep-picture\" )",
          "old_line_content": "        }",
          "new_line_content": "    else if( VAR_IS( \"keep-picture\" ) )",
          "content_same": false
        },
        {
          "line": 653,
          "old_api": null,
          "new_api": "video_format_Clean",
          "old_text": null,
          "new_text": "video_format_Clean( &fmt_in )",
          "old_line_content": "",
          "new_line_content": "            video_format_Clean( &fmt_in );",
          "content_same": false
        },
        {
          "line": 654,
          "old_api": null,
          "new_api": "video_format_Clean",
          "old_text": null,
          "new_text": "video_format_Clean( &fmt_out )",
          "old_line_content": "        if( !p_region )",
          "new_line_content": "            video_format_Clean( &fmt_out );",
          "content_same": false
        },
        {
          "line": 655,
          "old_api": null,
          "new_api": "msg_Err",
          "old_text": null,
          "new_text": "msg_Err( p_filter, \"cannot allocate SPU region\" )",
          "old_line_content": "        {",
          "new_line_content": "            msg_Err( p_filter, \"cannot allocate SPU region\" );",
          "content_same": false
        },
        {
          "line": 910,
          "old_api": null,
          "new_api": "vlc_mutex_lock",
          "old_text": null,
          "new_text": "vlc_mutex_lock( &p_sys->lock )",
          "old_line_content": "    }",
          "new_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 785,
          "old_api": null,
          "new_api": "VAR_IS",
          "old_text": null,
          "new_text": "VAR_IS( \"align\" )",
          "old_line_content": "        p_sys->i_yoffset = newval.i_int;",
          "new_line_content": "    else if( VAR_IS( \"align\" ) )",
          "content_same": false
        },
        {
          "line": 914,
          "old_api": null,
          "new_api": "image_HandlerCreate",
          "old_text": null,
          "new_text": "image_HandlerCreate( p_this )",
          "old_line_content": "        p_sys->b_keep = newval.b_bool;",
          "new_line_content": "            p_sys->p_image = image_HandlerCreate( p_this );",
          "content_same": false
        },
        {
          "line": 916,
          "old_api": null,
          "new_api": "vlc_mutex_unlock",
          "old_text": null,
          "new_text": "vlc_mutex_unlock( &p_sys->lock )",
          "old_line_content": "        {",
          "new_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 793,
          "old_api": null,
          "new_api": "msg_Dbg",
          "old_text": null,
          "new_text": "msg_Dbg( p_this, \"changing alignment from %d (%s) to %d (%s)\",\n                     p_sys->i_align, ppsz_align_descriptions[i_old],\n                     (int)newval.i_int, ppsz_align_descriptions[i_new] )",
          "old_line_content": "            newval.i_int = 5;",
          "new_line_content": "        msg_Dbg( p_this, \"changing alignment from %d (%s) to %d (%s)\",",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": null,
          "new_api": "vlc_mutex_unlock",
          "old_text": null,
          "new_text": "vlc_mutex_unlock( &p_sys->lock )",
          "old_line_content": "                     p_sys->i_align, ppsz_align_descriptions[i_old],",
          "new_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 799,
          "old_api": null,
          "new_api": "VAR_IS",
          "old_text": null,
          "new_text": "VAR_IS( \"borderw\" )",
          "old_line_content": "        p_sys->i_align = newval.i_int;",
          "new_line_content": "    else if( VAR_IS( \"borderw\" ) )",
          "content_same": false
        },
        {
          "line": 801,
          "old_api": null,
          "new_api": "vlc_mutex_lock",
          "old_text": null,
          "new_text": "vlc_mutex_lock( &p_sys->lock )",
          "old_line_content": "    }",
          "new_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 807,
          "old_api": null,
          "new_api": "VAR_IS",
          "old_text": null,
          "new_text": "VAR_IS( \"borderh\" )",
          "old_line_content": "        p_sys->i_borderw = newval.i_int;",
          "new_line_content": "    else if( VAR_IS( \"borderh\" ) )",
          "content_same": false
        },
        {
          "line": 809,
          "old_api": null,
          "new_api": "vlc_mutex_lock",
          "old_text": null,
          "new_text": "vlc_mutex_lock( &p_sys->lock )",
          "old_line_content": "    }",
          "new_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 815,
          "old_api": null,
          "new_api": "VAR_IS",
          "old_text": null,
          "new_text": "VAR_IS( \"position\" )",
          "old_line_content": "        p_sys->i_borderh = newval.i_int;",
          "new_line_content": "    else if( VAR_IS( \"position\" ) )",
          "content_same": false
        },
        {
          "line": 817,
          "old_api": null,
          "new_api": "vlc_mutex_lock",
          "old_text": null,
          "new_text": "vlc_mutex_lock( &p_sys->lock )",
          "old_line_content": "    }",
          "new_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 822,
          "old_api": null,
          "new_api": "vlc_mutex_unlock",
          "old_text": null,
          "new_text": "vlc_mutex_unlock( &p_sys->lock )",
          "old_line_content": "                p_sys->i_position, ppsz_pos_descriptions[p_sys->i_position],",
          "new_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 824,
          "old_api": null,
          "new_api": "VAR_IS",
          "old_text": null,
          "new_text": "VAR_IS( \"rows\" )",
          "old_line_content": "        p_sys->i_position = newval.i_int;",
          "new_line_content": "    else if( VAR_IS( \"rows\" ) )",
          "content_same": false
        },
        {
          "line": 826,
          "old_api": null,
          "new_api": "vlc_mutex_lock",
          "old_text": null,
          "new_text": "vlc_mutex_lock( &p_sys->lock )",
          "old_line_content": "    }",
          "new_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 832,
          "old_api": null,
          "new_api": "VAR_IS",
          "old_text": null,
          "new_text": "VAR_IS( \"cols\" )",
          "old_line_content": "        p_sys->i_rows = newval.i_int;",
          "new_line_content": "    else if( VAR_IS( \"cols\" ) )",
          "content_same": false
        },
        {
          "line": 834,
          "old_api": null,
          "new_api": "vlc_mutex_lock",
          "old_text": null,
          "new_text": "vlc_mutex_lock( &p_sys->lock )",
          "old_line_content": "    }",
          "new_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": null,
          "new_api": "VAR_IS",
          "old_text": null,
          "new_text": "VAR_IS( \"order\" )",
          "old_line_content": "        p_sys->i_cols = newval.i_int;",
          "new_line_content": "    else if( VAR_IS( \"order\" ) )",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": null,
          "new_api": "vlc_mutex_lock",
          "old_text": null,
          "new_text": "vlc_mutex_lock( &p_sys->lock )",
          "old_line_content": "    {",
          "new_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": null,
          "new_api": "msg_Dbg",
          "old_text": null,
          "new_text": "msg_Dbg( p_this, \"Changing mosaic order to %s\", newval.psz_string )",
          "old_line_content": "        char *psz_order;",
          "new_line_content": "        msg_Dbg( p_this, \"Changing mosaic order to %s\", newval.psz_string );",
          "content_same": false
        },
        {
          "line": 722,
          "old_api": null,
          "new_api": "video_format_Clean",
          "old_text": null,
          "new_text": "video_format_Clean( &fmt_in )",
          "old_line_content": "            p_region_prev->p_next = p_region;",
          "new_line_content": "        video_format_Clean( &fmt_in );",
          "content_same": false
        },
        {
          "line": 723,
          "old_api": null,
          "new_api": "video_format_Clean",
          "old_text": null,
          "new_text": "video_format_Clean( &fmt_out )",
          "old_line_content": "        }",
          "new_line_content": "        video_format_Clean( &fmt_out );",
          "content_same": false
        },
        {
          "line": 851,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( p_sys->ppsz_order[p_sys->i_order_length] )",
          "old_line_content": "",
          "new_line_content": "            free( p_sys->ppsz_order[p_sys->i_order_length] );",
          "content_same": false
        },
        {
          "line": 853,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( p_sys->ppsz_order )",
          "old_line_content": "        {",
          "new_line_content": "        free( p_sys->ppsz_order );",
          "content_same": false
        },
        {
          "line": 728,
          "old_api": null,
          "new_api": "vlc_global_unlock",
          "old_text": null,
          "new_text": "vlc_global_unlock( VLC_MOSAIC_MUTEX )",
          "old_line_content": "        p_region_prev = p_region;",
          "new_line_content": "    vlc_global_unlock( VLC_MOSAIC_MUTEX );",
          "content_same": false
        },
        {
          "line": 729,
          "old_api": null,
          "new_api": "vlc_mutex_unlock",
          "old_text": null,
          "new_text": "vlc_mutex_unlock( &p_sys->lock )",
          "old_line_content": "    }",
          "new_line_content": "    vlc_mutex_unlock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 862,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr( psz_order, ',' )",
          "old_line_content": "            i_index = 0;",
          "new_line_content": "                psz_end = strchr( psz_order, ',' );",
          "content_same": false
        },
        {
          "line": 889,
          "old_api": null,
          "new_api": "mosaic_ParseSetOffsets",
          "old_text": null,
          "new_text": "mosaic_ParseSetOffsets( p_this, p_sys, newval.psz_string )",
          "old_line_content": "            p_sys->pi_y_offsets = NULL;",
          "new_line_content": "        mosaic_ParseSetOffsets( p_this, p_sys, newval.psz_string );",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": null,
          "new_api": "xrealloc",
          "old_text": null,
          "new_text": "xrealloc( p_sys->ppsz_order,\n                                                   i_index * sizeof(char *) )",
          "old_line_content": "            {",
          "new_line_content": "                p_sys->ppsz_order = xrealloc( p_sys->ppsz_order,",
          "content_same": false
        },
        {
          "line": 866,
          "old_api": null,
          "new_api": "strndup",
          "old_text": null,
          "new_text": "strndup( psz_order,\n                                           psz_end - psz_order )",
          "old_line_content": "                i_index++;",
          "new_line_content": "                p_sys->ppsz_order[i_index - 1] = strndup( psz_order,",
          "content_same": false
        },
        {
          "line": 741,
          "old_api": null,
          "new_api": "VLC_UNUSED",
          "old_text": null,
          "new_text": "VLC_UNUSED(oldval)",
          "old_line_content": "                            vlc_value_t oldval, vlc_value_t newval,",
          "new_line_content": "    VLC_UNUSED(oldval);",
          "content_same": false
        },
        {
          "line": 745,
          "old_api": null,
          "new_api": "VAR_IS",
          "old_text": null,
          "new_text": "VAR_IS( \"alpha\" )",
          "old_line_content": "    filter_sys_t *p_sys = p_data;",
          "new_line_content": "    if( VAR_IS( \"alpha\" ) )",
          "content_same": false
        },
        {
          "line": 873,
          "old_api": null,
          "new_api": "vlc_mutex_unlock",
          "old_text": null,
          "new_text": "vlc_mutex_unlock( &p_sys->lock )",
          "old_line_content": "            p_sys->i_order_length = i_index;",
          "new_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 747,
          "old_api": null,
          "new_api": "vlc_mutex_lock",
          "old_text": null,
          "new_text": "vlc_mutex_lock( &p_sys->lock )",
          "old_line_content": "#define VAR_IS( a ) !strcmp( psz_var, CFG_PREFIX a )",
          "new_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 875,
          "old_api": null,
          "new_api": "VAR_IS",
          "old_text": null,
          "new_text": "VAR_IS( \"offsets\" )",
          "old_line_content": "",
          "new_line_content": "    else if( VAR_IS( \"offsets\" ) )",
          "content_same": false
        },
        {
          "line": 877,
          "old_api": null,
          "new_api": "vlc_mutex_lock",
          "old_text": null,
          "new_text": "vlc_mutex_lock( &p_sys->lock )",
          "old_line_content": "    }",
          "new_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 753,
          "old_api": null,
          "new_api": "VAR_IS",
          "old_text": null,
          "new_text": "VAR_IS( \"height\" )",
          "old_line_content": "        p_sys->i_alpha = newval.i_int;",
          "new_line_content": "    else if( VAR_IS( \"height\" ) )",
          "content_same": false
        },
        {
          "line": 755,
          "old_api": null,
          "new_api": "vlc_mutex_lock",
          "old_text": null,
          "new_text": "vlc_mutex_lock( &p_sys->lock )",
          "old_line_content": "    }",
          "new_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 883,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( p_sys->pi_x_offsets )",
          "old_line_content": "        if( p_sys->i_offsets_length != 0 )",
          "new_line_content": "            free( p_sys->pi_x_offsets );",
          "content_same": false
        },
        {
          "line": 884,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free( p_sys->pi_y_offsets )",
          "old_line_content": "        {",
          "new_line_content": "            free( p_sys->pi_y_offsets );",
          "content_same": false
        },
        {
          "line": 761,
          "old_api": null,
          "new_api": "VAR_IS",
          "old_text": null,
          "new_text": "VAR_IS( \"width\" )",
          "old_line_content": "        p_sys->i_height = newval.i_int;",
          "new_line_content": "    else if( VAR_IS( \"width\" ) )",
          "content_same": false
        },
        {
          "line": 763,
          "old_api": null,
          "new_api": "vlc_mutex_lock",
          "old_text": null,
          "new_text": "vlc_mutex_lock( &p_sys->lock )",
          "old_line_content": "    }",
          "new_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": null,
          "new_api": "VAR_IS",
          "old_text": null,
          "new_text": "VAR_IS( \"keep-aspect-ratio\" )",
          "old_line_content": "",
          "new_line_content": "    else if( VAR_IS( \"keep-aspect-ratio\" ) )",
          "content_same": false
        },
        {
          "line": 895,
          "old_api": null,
          "new_api": "vlc_mutex_lock",
          "old_text": null,
          "new_text": "vlc_mutex_lock( &p_sys->lock )",
          "old_line_content": "    }",
          "new_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 896,
          "old_api": "VAR_IS",
          "new_api": null,
          "old_text": "VAR_IS( \"keep-aspect-ratio\" )",
          "new_text": null,
          "old_line_content": "    else if( VAR_IS( \"keep-aspect-ratio\" ) )",
          "new_line_content": "        if( newval.i_int )",
          "content_same": false
        },
        {
          "line": 770,
          "old_api": "vlc_mutex_unlock",
          "new_api": null,
          "old_text": "vlc_mutex_unlock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 901,
          "old_api": "msg_Dbg",
          "new_api": null,
          "old_text": "msg_Dbg( p_this, \"keeping aspect ratio\" )",
          "new_text": null,
          "old_line_content": "            msg_Dbg( p_this, \"keeping aspect ratio\" );",
          "new_line_content": "        else",
          "content_same": false
        },
        {
          "line": 774,
          "old_api": "vlc_mutex_lock",
          "new_api": null,
          "old_text": "vlc_mutex_lock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "new_line_content": "        p_sys->i_xoffset = newval.i_int;",
          "content_same": false
        },
        {
          "line": 650,
          "old_api": "picture_Copy",
          "new_api": null,
          "old_text": "picture_Copy( p_region->p_picture, p_converted )",
          "new_text": null,
          "old_line_content": "            picture_Copy( p_region->p_picture, p_converted );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 778,
          "old_api": "vlc_mutex_unlock",
          "new_api": null,
          "old_text": "vlc_mutex_unlock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 652,
          "old_api": "picture_Release",
          "new_api": null,
          "old_text": "picture_Release( p_converted )",
          "new_text": null,
          "old_line_content": "            picture_Release( p_converted );",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 909,
          "old_api": "vlc_mutex_unlock",
          "new_api": null,
          "old_text": "vlc_mutex_unlock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 782,
          "old_api": "vlc_mutex_lock",
          "new_api": null,
          "old_text": "vlc_mutex_lock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "new_line_content": "        p_sys->i_yoffset = newval.i_int;",
          "content_same": false
        },
        {
          "line": 911,
          "old_api": "VAR_IS",
          "new_api": null,
          "old_text": "VAR_IS( \"keep-picture\" )",
          "new_text": null,
          "old_line_content": "    else if( VAR_IS( \"keep-picture\" ) )",
          "new_line_content": "        p_sys->b_keep = newval.b_bool;",
          "content_same": false
        },
        {
          "line": 913,
          "old_api": "vlc_mutex_lock",
          "new_api": null,
          "old_text": "vlc_mutex_lock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": "vlc_mutex_unlock",
          "new_api": null,
          "old_text": "vlc_mutex_unlock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 659,
          "old_api": "subpicture_Delete",
          "new_api": null,
          "old_text": "subpicture_Delete( p_spu )",
          "new_text": null,
          "old_line_content": "            subpicture_Delete( p_spu );",
          "new_line_content": "            return NULL;",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": "vlc_global_unlock",
          "new_api": null,
          "old_text": "vlc_global_unlock( VLC_MOSAIC_MUTEX )",
          "new_text": null,
          "old_line_content": "            vlc_global_unlock( VLC_MOSAIC_MUTEX );",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": "vlc_mutex_unlock",
          "new_api": null,
          "old_text": "vlc_mutex_unlock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "            vlc_mutex_unlock( &p_sys->lock );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 894,
          "old_api": "vlc_mutex_unlock",
          "new_api": null,
          "old_text": "vlc_mutex_unlock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 791,
          "old_api": "vlc_mutex_lock",
          "new_api": null,
          "old_text": "vlc_mutex_lock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "new_line_content": "        while( pi_align_values[i_old] != p_sys->i_align ) i_old++;",
          "content_same": false
        },
        {
          "line": 917,
          "old_api": "image_HandlerCreate",
          "new_api": null,
          "old_text": "image_HandlerCreate( p_this )",
          "new_text": null,
          "old_line_content": "            p_sys->p_image = image_HandlerCreate( p_this );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 919,
          "old_api": "vlc_mutex_unlock",
          "new_api": null,
          "old_text": "vlc_mutex_unlock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "new_line_content": "    return VLC_SUCCESS;",
          "content_same": false
        },
        {
          "line": 796,
          "old_api": "msg_Dbg",
          "new_api": null,
          "old_text": "msg_Dbg( p_this, \"changing alignment from %d (%s) to %d (%s)\",\n                     p_sys->i_align, ppsz_align_descriptions[i_old],\n                     (int)newval.i_int, ppsz_align_descriptions[i_new] )",
          "new_text": null,
          "old_line_content": "        msg_Dbg( p_this, \"changing alignment from %d (%s) to %d (%s)\",",
          "new_line_content": "        p_sys->i_align = newval.i_int;",
          "content_same": false
        },
        {
          "line": 800,
          "old_api": "vlc_mutex_unlock",
          "new_api": null,
          "old_text": "vlc_mutex_unlock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 804,
          "old_api": "vlc_mutex_lock",
          "new_api": null,
          "old_text": "vlc_mutex_lock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "new_line_content": "        p_sys->i_borderw = newval.i_int;",
          "content_same": false
        },
        {
          "line": 808,
          "old_api": "vlc_mutex_unlock",
          "new_api": null,
          "old_text": "vlc_mutex_unlock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 812,
          "old_api": "vlc_mutex_lock",
          "new_api": null,
          "old_text": "vlc_mutex_lock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "new_line_content": "        p_sys->i_borderh = newval.i_int;",
          "content_same": false
        },
        {
          "line": 816,
          "old_api": "vlc_mutex_unlock",
          "new_api": null,
          "old_text": "vlc_mutex_unlock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 820,
          "old_api": "vlc_mutex_lock",
          "new_api": null,
          "old_text": "vlc_mutex_lock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "new_line_content": "                 (int)newval.i_int, ppsz_pos_descriptions[newval.i_int]);",
          "content_same": false
        },
        {
          "line": 821,
          "old_api": "msg_Dbg",
          "new_api": null,
          "old_text": "msg_Dbg( p_this, \"changing position method from %d (%s) to %d (%s)\",\n                p_sys->i_position, ppsz_pos_descriptions[p_sys->i_position],\n                 (int)newval.i_int, ppsz_pos_descriptions[newval.i_int])",
          "new_text": null,
          "old_line_content": "        msg_Dbg( p_this, \"changing position method from %d (%s) to %d (%s)\",",
          "new_line_content": "        p_sys->i_position = newval.i_int;",
          "content_same": false
        },
        {
          "line": 825,
          "old_api": "vlc_mutex_unlock",
          "new_api": null,
          "old_text": "vlc_mutex_unlock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 829,
          "old_api": "vlc_mutex_lock",
          "new_api": null,
          "old_text": "vlc_mutex_lock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "new_line_content": "        p_sys->i_rows = newval.i_int;",
          "content_same": false
        },
        {
          "line": 833,
          "old_api": "vlc_mutex_unlock",
          "new_api": null,
          "old_text": "vlc_mutex_unlock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 837,
          "old_api": "vlc_mutex_lock",
          "new_api": null,
          "old_text": "vlc_mutex_lock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "new_line_content": "        p_sys->i_cols = newval.i_int;",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": "vlc_mutex_unlock",
          "new_api": null,
          "old_text": "vlc_mutex_unlock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 843,
          "old_api": "VAR_IS",
          "new_api": null,
          "old_text": "VAR_IS( \"order\" )",
          "new_text": null,
          "old_line_content": "    else if( VAR_IS( \"order\" ) )",
          "new_line_content": "        int i_index;",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": "vlc_mutex_lock",
          "new_api": null,
          "old_text": "vlc_mutex_lock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "new_line_content": "        psz_order = newval.psz_string;",
          "content_same": false
        },
        {
          "line": 848,
          "old_api": "msg_Dbg",
          "new_api": null,
          "old_text": "msg_Dbg( p_this, \"Changing mosaic order to %s\", newval.psz_string )",
          "new_text": null,
          "old_line_content": "        msg_Dbg( p_this, \"Changing mosaic order to %s\", newval.psz_string );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 725,
          "old_api": "video_format_Clean",
          "new_api": null,
          "old_text": "video_format_Clean( &fmt_in )",
          "new_text": null,
          "old_line_content": "        video_format_Clean( &fmt_in );",
          "new_line_content": "        p_region_prev = p_region;",
          "content_same": false
        },
        {
          "line": 726,
          "old_api": "video_format_Clean",
          "new_api": null,
          "old_text": "video_format_Clean( &fmt_out )",
          "new_text": null,
          "old_line_content": "        video_format_Clean( &fmt_out );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 854,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( p_sys->ppsz_order[p_sys->i_order_length] )",
          "new_text": null,
          "old_line_content": "            free( p_sys->ppsz_order[p_sys->i_order_length] );",
          "new_line_content": "        p_sys->ppsz_order = NULL;",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( p_sys->ppsz_order )",
          "new_text": null,
          "old_line_content": "        free( p_sys->ppsz_order );",
          "new_line_content": "        if( *psz_order )",
          "content_same": false
        },
        {
          "line": 731,
          "old_api": "vlc_global_unlock",
          "new_api": null,
          "old_text": "vlc_global_unlock( VLC_MOSAIC_MUTEX )",
          "new_text": null,
          "old_line_content": "    vlc_global_unlock( VLC_MOSAIC_MUTEX );",
          "new_line_content": "    return p_spu;",
          "content_same": false
        },
        {
          "line": 732,
          "old_api": "vlc_mutex_unlock",
          "new_api": null,
          "old_text": "vlc_mutex_unlock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "    vlc_mutex_unlock( &p_sys->lock );",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 865,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr( psz_order, ',' )",
          "new_text": null,
          "old_line_content": "                psz_end = strchr( psz_order, ',' );",
          "new_line_content": "                                                   i_index * sizeof(char *) );",
          "content_same": false
        },
        {
          "line": 867,
          "old_api": "xrealloc",
          "new_api": null,
          "old_text": "xrealloc( p_sys->ppsz_order,\n                                                   i_index * sizeof(char *) )",
          "new_text": null,
          "old_line_content": "                p_sys->ppsz_order = xrealloc( p_sys->ppsz_order,",
          "new_line_content": "                                           psz_end - psz_order );",
          "content_same": false
        },
        {
          "line": 869,
          "old_api": "strndup",
          "new_api": null,
          "old_text": "strndup( psz_order,\n                                           psz_end - psz_order )",
          "new_text": null,
          "old_line_content": "                p_sys->ppsz_order[i_index - 1] = strndup( psz_order,",
          "new_line_content": "            } while( psz_end );",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": "VLC_UNUSED",
          "new_api": null,
          "old_text": "VLC_UNUSED(oldval)",
          "new_text": null,
          "old_line_content": "    VLC_UNUSED(oldval);",
          "new_line_content": "#define VAR_IS( a ) !strcmp( psz_var, CFG_PREFIX a )",
          "content_same": false
        },
        {
          "line": 876,
          "old_api": "vlc_mutex_unlock",
          "new_api": null,
          "old_text": "vlc_mutex_unlock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 750,
          "old_api": "vlc_mutex_lock",
          "new_api": null,
          "old_text": "vlc_mutex_lock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "new_line_content": "        p_sys->i_alpha = newval.i_int;",
          "content_same": false
        },
        {
          "line": 887,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( p_sys->pi_y_offsets )",
          "new_text": null,
          "old_line_content": "            free( p_sys->pi_y_offsets );",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": "vlc_mutex_lock",
          "new_api": null,
          "old_text": "vlc_mutex_lock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "new_line_content": "        if( p_sys->i_offsets_length != 0 )",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": "msg_Info",
          "new_api": null,
          "old_text": "msg_Info( p_this, \"Changing mosaic-offsets to %s\", newval.psz_string )",
          "new_text": null,
          "old_line_content": "        msg_Info( p_this, \"Changing mosaic-offsets to %s\", newval.psz_string );",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 754,
          "old_api": "vlc_mutex_unlock",
          "new_api": null,
          "old_text": "vlc_mutex_unlock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 758,
          "old_api": "vlc_mutex_lock",
          "new_api": null,
          "old_text": "vlc_mutex_lock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "new_line_content": "        p_sys->i_height = newval.i_int;",
          "content_same": false
        },
        {
          "line": 886,
          "old_api": "free",
          "new_api": null,
          "old_text": "free( p_sys->pi_x_offsets )",
          "new_text": null,
          "old_line_content": "            free( p_sys->pi_x_offsets );",
          "new_line_content": "            p_sys->pi_y_offsets = NULL;",
          "content_same": false
        },
        {
          "line": 762,
          "old_api": "vlc_mutex_unlock",
          "new_api": null,
          "old_text": "vlc_mutex_unlock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_unlock( &p_sys->lock );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 892,
          "old_api": "mosaic_ParseSetOffsets",
          "new_api": null,
          "old_text": "mosaic_ParseSetOffsets( p_this, p_sys, newval.psz_string )",
          "new_text": null,
          "old_line_content": "        mosaic_ParseSetOffsets( p_this, p_sys, newval.psz_string );",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 766,
          "old_api": "vlc_mutex_lock",
          "new_api": null,
          "old_text": "vlc_mutex_lock( &p_sys->lock )",
          "new_text": null,
          "old_line_content": "        vlc_mutex_lock( &p_sys->lock );",
          "new_line_content": "        p_sys->i_width = newval.i_int;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 27,
      "total_additions": 55,
      "total_deletions": 56,
      "total_api_changes": 138
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 4,
        "api_related_lines": 138,
        "non_api_lines": 1,
        "non_api_line_numbers": [
          648
        ]
      }
    },
    "api_calls_before": 208,
    "api_calls_after": 207,
    "diff_info": {
      "added_lines": 1,
      "removed_lines": 4,
      "total_diff_lines": 17
    }
  }
}