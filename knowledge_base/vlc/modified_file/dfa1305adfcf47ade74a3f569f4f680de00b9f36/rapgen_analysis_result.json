{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/dfa1305adfcf47ade74a3f569f4f680de00b9f36",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/dfa1305adfcf47ade74a3f569f4f680de00b9f36/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/dfa1305adfcf47ade74a3f569f4f680de00b9f36/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/vlc/modified_file/dfa1305adfcf47ade74a3f569f4f680de00b9f36/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": true,
    "api_changes": {
      "replacements": [
        {
          "line": 197,
          "old_api": "ar_AddCallback",
          "new_api": "lc_object_instance",
          "old_text": "ar_AddCallback( libvlc, \"intf-toggle-fscontrol\", IntfShowCB, p_intf );",
          "new_text": "lc_object_instance(p_intf);",
          "old_line_content": "    var_AddCallback( libvlc, \"intf-toggle-fscontrol\", IntfShowCB, p_intf );",
          "new_line_content": "    libvlc_int_t* libvlc = vlc_object_instance(p_intf);",
          "content_same": false
        },
        {
          "line": 212,
          "old_api": "etCentralWidget",
          "new_api": "setStyleSheet",
          "old_text": "etCentralWidget(widget);",
          "new_text": "idget->setStyleSheet(\"background-color: transparent\");",
          "old_line_content": "    setCentralWidget(widget);",
          "new_line_content": "    widget->setStyleSheet(\"background-color: transparent\");",
          "content_same": false
        },
        {
          "line": 224,
          "old_api": "setValue",
          "new_api": "beginGroup",
          "old_text": "ettings->setValue( \"pl-dock-status\", b_playlistDocked );",
          "new_text": "ettings->beginGroup(\"MainWindow\");",
          "old_line_content": "    settings->setValue( \"pl-dock-status\", b_playlistDocked );",
          "new_line_content": "    settings->beginGroup(\"MainWindow\");",
          "content_same": false
        },
        {
          "line": 240,
          "old_api": "ar_DelCallback",
          "new_api": "lc_object_instance",
          "old_text": "ar_DelCallback( libvlc, \"intf-boss\", IntfBossCB, p_intf );",
          "new_text": "lc_object_instance(p_intf);",
          "old_line_content": "    var_DelCallback( libvlc, \"intf-boss\", IntfBossCB, p_intf );",
          "new_line_content": "    libvlc_int_t* libvlc = vlc_object_instance(p_intf);",
          "content_same": false
        },
        {
          "line": 253,
          "old_api": "etMinimumHeight",
          "new_api": "etMinimumWidth",
          "old_text": "etMinimumHeight( minHeight );",
          "new_text": "etMinimumWidth( minWidth );",
          "old_line_content": "    setMinimumHeight( minHeight );",
          "new_line_content": "    setMinimumWidth( minWidth );",
          "content_same": false
        },
        {
          "line": 291,
          "old_api": "lc_object_instance",
          "new_api": "tEventToVLCKey",
          "old_text": "lc_object_instance(p_intf),",
          "new_text": "tEventToVLCKey(&event);",
          "old_line_content": "    var_SetInteger(vlc_object_instance(p_intf), \"key-pressed\", vlckey);",
          "new_line_content": "    int vlckey = qtEventToVLCKey(&event);",
          "content_same": false
        },
        {
          "line": 316,
          "old_api": "pdateIntfScaleFactor",
          "new_api": "td::max(m_intfUserScaleFactor - 0.1, 0.3);",
          "old_text": "pdateIntfScaleFactor();",
          "new_text": "td::max(m_intfUserScaleFactor - 0.1, 0.3);",
          "old_line_content": "    updateIntfScaleFactor();",
          "new_line_content": "        m_intfUserScaleFactor = std::max(m_intfUserScaleFactor - 0.1, 0.3);",
          "content_same": false
        },
        {
          "line": 322,
          "old_api": "ar_InheritBool",
          "new_api": "SystemTrayIcon::isSystemTrayAvailable();",
          "old_text": "ar_InheritBool( p_intf, \"qt-system-tray\" );",
          "new_text": "SystemTrayIcon::isSystemTrayAvailable();",
          "old_line_content": "    bool b_systrayWanted = var_InheritBool( p_intf, \"qt-system-tray\" );",
          "new_line_content": "    bool b_systrayAvailable = QSystemTrayIcon::isSystemTrayAvailable();",
          "content_same": false
        },
        {
          "line": 409,
          "old_api": "showMessage",
          "new_api": "arg",
          "old_text": "tatusBar()->showMessage( amount, 1000 );",
          "new_text": "String(\"Buffering: %1%\").arg( (int)(100*f_cache) );",
          "old_line_content": "    statusBar()->showMessage( amount, 1000 );",
          "new_line_content": "    QString amount = QString(\"Buffering: %1%\").arg( (int)(100*f_cache) );",
          "content_same": false
        },
        {
          "line": 423,
          "old_api": "Icon",
          "new_api": "ar_InheritBool",
          "old_text": "Icon( \":/logo/vlc128-xmas.png\" ) ",
          "new_text": "ar_InheritBool( p_intf, \"qt-icon-change\" ) ",
          "old_line_content": "        iconVLC = QIcon::fromTheme( \"vlc-xmas\", QIcon( \":/logo/vlc128-xmas.png\" ) );",
          "new_line_content": "    if( QDate::currentDate().dayOfYear() >= QT_XMAS_JOKE_DAY && var_InheritBool( p_intf, \"qt-icon-change\" ) )",
          "content_same": false
        },
        {
          "line": 430,
          "old_api": "setIcon",
          "new_api": "tr",
          "old_text": "ystrayMenu->setIcon( iconVLC );",
          "new_text": "tr( \"VLC media player\" ),",
          "old_line_content": "    systrayMenu->setIcon( iconVLC );",
          "new_line_content": "    systrayMenu = new QMenu( qtr( \"VLC media player\" ), this );",
          "content_same": false
        },
        {
          "line": 433,
          "old_api": "show",
          "new_api": "LCMenuBar::updateSystrayMenu( this, p_intf, true );",
          "old_text": "ysTray->show();",
          "new_text": "LCMenuBar::updateSystrayMenu( this, p_intf, true );",
          "old_line_content": "    sysTray->show();",
          "new_line_content": "    VLCMenuBar::updateSystrayMenu( this, p_intf, true );",
          "content_same": false
        },
        {
          "line": 547,
          "old_api": "setDropAction",
          "new_api": "possibleActions",
          "old_text": "vent->setDropAction( Qt::CopyAction );",
          "new_text": "vent->possibleActions() ",
          "old_line_content": "       event->setDropAction( Qt::CopyAction );",
          "new_line_content": "    if( event->possibleActions() & ( Qt::CopyAction | Qt::MoveAction | Qt::LinkAction ) )",
          "content_same": false
        },
        {
          "line": 571,
          "old_api": "isSymLink",
          "new_api": "toLocalFile",
          "old_text": "nfo.isSymLink() ",
          "new_text": "rl.toLocalFile() ",
          "old_line_content": "            if( info.exists() && info.isSymLink() )",
          "new_line_content": "            QFileInfo info( url.toLocalFile() );",
          "content_same": false
        },
        {
          "line": 598,
          "old_api": "text",
          "new_api": "hasText",
          "old_text": "imeData->text())",
          "new_text": "imeData->hasText() ",
          "old_line_content": "        QUrl(mimeData->text()).isValid() )",
          "new_line_content": "    if( !mimeData->hasUrls() && mimeData->hasText() &&",
          "content_same": false
        },
        {
          "line": 601,
          "old_api": "pen::openMRL( p_intf, mrl, first );",
          "new_api": "text",
          "old_text": "pen::openMRL( p_intf, mrl, first );",
          "new_text": "imeData->text() ",
          "old_line_content": "        Open::openMRL( p_intf, mrl, first );",
          "new_line_content": "        QString mrl = toURI( mimeData->text() );",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 516,
          "old_api": null,
          "new_api": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "old_text": null,
          "new_text": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "old_line_content": "}",
          "new_line_content": "    VLCMenuBar::updateSystrayMenu( this, p_intf );",
          "content_same": false
        },
        {
          "line": 525,
          "old_api": null,
          "new_api": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "old_text": null,
          "new_text": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "old_line_content": "}",
          "new_line_content": "    VLCMenuBar::updateSystrayMenu( this, p_intf );",
          "content_same": false
        },
        {
          "line": 534,
          "old_api": null,
          "new_api": "ropEventPlay",
          "old_text": null,
          "new_text": "ropEventPlay( event, true );",
          "old_line_content": "}",
          "new_line_content": "    dropEventPlay( event, true );",
          "content_same": false
        },
        {
          "line": 548,
          "old_api": null,
          "new_api": "setDropAction",
          "old_text": null,
          "new_text": "vent->setDropAction( Qt::CopyAction );",
          "old_line_content": "    else",
          "new_line_content": "       event->setDropAction( Qt::CopyAction );",
          "content_same": false
        },
        {
          "line": 552,
          "old_api": null,
          "new_api": "mimeData",
          "old_text": null,
          "new_text": "vent->mimeData();",
          "old_line_content": "",
          "new_line_content": "    const QMimeData *mimeData = event->mimeData();",
          "content_same": false
        },
        {
          "line": 555,
          "old_api": null,
          "new_api": "hasInput",
          "old_text": null,
          "new_text": "HEMIM->hasInput() ",
          "old_line_content": "    {",
          "new_line_content": "    if( mimeData->urls().count() == 1 && THEMIM->hasInput() )",
          "content_same": false
        },
        {
          "line": 557,
          "old_api": null,
          "new_api": "toString",
          "old_text": null,
          "new_text": "imeData->urls()[0].toString(),",
          "old_line_content": "        {",
          "new_line_content": "        if( !THEMIM->AddAssociatedMedia(SPU_ES, mimeData->urls()[0].toString(), true, true, true) )",
          "content_same": false
        },
        {
          "line": 559,
          "old_api": null,
          "new_api": "accept",
          "old_text": null,
          "new_text": "vent->accept();",
          "old_line_content": "            return;",
          "new_line_content": "            event->accept();",
          "content_same": false
        },
        {
          "line": 567,
          "old_api": null,
          "new_api": "isValid",
          "old_text": null,
          "new_text": "rl.isValid() ",
          "old_line_content": "        {",
          "new_line_content": "        if( url.isValid() )",
          "content_same": false
        },
        {
          "line": 569,
          "old_api": null,
          "new_api": "toEncoded",
          "old_text": null,
          "new_text": "rl.toEncoded().constData() ",
          "old_line_content": "#ifdef _WIN32",
          "new_line_content": "            QString mrl = toURI( url.toEncoded().constData() );",
          "content_same": false
        },
        {
          "line": 572,
          "old_api": null,
          "new_api": "isSymLink",
          "old_text": null,
          "new_text": "nfo.isSymLink() ",
          "old_line_content": "            {",
          "new_line_content": "            if( info.exists() && info.isSymLink() )",
          "content_same": false
        },
        {
          "line": 574,
          "old_api": null,
          "new_api": "symLinkTarget",
          "old_text": null,
          "new_text": "nfo.symLinkTarget();",
          "old_line_content": "                QUrl url;",
          "new_line_content": "                QString target = info.symLinkTarget();",
          "content_same": false
        },
        {
          "line": 576,
          "old_api": null,
          "new_api": "File::exists( target )",
          "old_text": null,
          "new_text": "File::exists( target ) ",
          "old_line_content": "                {",
          "new_line_content": "                if( QFile::exists( target ) )",
          "content_same": false
        },
        {
          "line": 578,
          "old_api": null,
          "new_api": "Url::fromLocalFile( target );",
          "old_text": null,
          "new_text": "Url::fromLocalFile( target );",
          "old_line_content": "                }",
          "new_line_content": "                    url = QUrl::fromLocalFile( target );",
          "content_same": false
        },
        {
          "line": 582,
          "old_api": null,
          "new_api": "setUrl",
          "old_text": null,
          "new_text": "rl.setUrl( target );",
          "old_line_content": "                }",
          "new_line_content": "                    url.setUrl( target );",
          "content_same": false
        },
        {
          "line": 584,
          "old_api": null,
          "new_api": "toEncoded",
          "old_text": null,
          "new_text": "rl.toEncoded().constData() ",
          "old_line_content": "            }",
          "new_line_content": "                mrl = toURI( url.toEncoded().constData() );",
          "content_same": false
        },
        {
          "line": 587,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "rl.length() ",
          "old_line_content": "            {",
          "new_line_content": "            if( mrl.length() > 0 )",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": null,
          "new_api": "pen::openMRL( p_intf, mrl, first );",
          "old_text": null,
          "new_text": "pen::openMRL( p_intf, mrl, first );",
          "old_line_content": "                first = false;",
          "new_line_content": "                Open::openMRL( p_intf, mrl, first );",
          "content_same": false
        },
        {
          "line": 599,
          "old_api": null,
          "new_api": "text",
          "old_text": null,
          "new_text": "imeData->text())",
          "old_line_content": "    {",
          "new_line_content": "        QUrl(mimeData->text()).isValid() )",
          "content_same": false
        },
        {
          "line": 602,
          "old_api": null,
          "new_api": "pen::openMRL( p_intf, mrl, first );",
          "old_text": null,
          "new_text": "pen::openMRL( p_intf, mrl, first );",
          "old_line_content": "    }",
          "new_line_content": "        Open::openMRL( p_intf, mrl, first );",
          "content_same": false
        },
        {
          "line": 604,
          "old_api": null,
          "new_api": "accept",
          "old_text": null,
          "new_text": "vent->accept();",
          "old_line_content": "}",
          "new_line_content": "    event->accept();",
          "content_same": false
        },
        {
          "line": 608,
          "old_api": null,
          "new_api": "acceptProposedAction",
          "old_text": null,
          "new_text": "vent->acceptProposedAction();",
          "old_line_content": "}",
          "new_line_content": "     event->acceptProposedAction();",
          "content_same": false
        },
        {
          "line": 612,
          "old_api": null,
          "new_api": "acceptProposedAction",
          "old_text": null,
          "new_text": "vent->acceptProposedAction();",
          "old_line_content": "}",
          "new_line_content": "     event->acceptProposedAction();",
          "content_same": false
        },
        {
          "line": 616,
          "old_api": null,
          "new_api": "accept",
          "old_text": null,
          "new_text": "vent->accept();",
          "old_line_content": "}",
          "new_line_content": "     event->accept();",
          "content_same": false
        },
        {
          "line": 629,
          "old_api": null,
          "new_api": "onWindowClosed",
          "old_text": null,
          "new_text": "_videoSurfaceProvider->onWindowClosed();",
          "old_line_content": "    //We need to make sure that noting is playing anymore otherwise the vout will be closed",
          "new_line_content": "        m_videoSurfaceProvider->onWindowClosed();",
          "content_same": false
        },
        {
          "line": 634,
          "old_api": null,
          "new_api": "hasVideoOutput",
          "old_text": null,
          "new_text": "layerController->hasVideoOutput())",
          "old_line_content": "",
          "new_line_content": "    if (playerController->hasVideoOutput()) {",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": null,
          "new_api": "onnect",
          "old_text": null,
          "new_text": "onnect(playerController, &PlayerController::playingStateChanged, [this](PlayerController::PlayingState state){\n            if (state == PlayerController::PLAYING_STATE_STOPPED) {\n                QMetaObject::invokeMethod(this, &MainInterface::close, Qt::QueuedConnection, nullptr);\n            }\n        });",
          "old_line_content": "            if (state == PlayerController::PLAYING_STATE_STOPPED) {",
          "new_line_content": "        connect(playerController, &PlayerController::playingStateChanged, [this](PlayerController::PlayingState state){",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": null,
          "new_api": "MetaObject::invokeMethod(this, &MainInterface::close, Qt::QueuedConnection, nullptr);",
          "old_text": null,
          "new_text": "MetaObject::invokeMethod(this, &MainInterface::close, Qt::QueuedConnection, nullptr);",
          "old_line_content": "            }",
          "new_line_content": "                QMetaObject::invokeMethod(this, &MainInterface::close, Qt::QueuedConnection, nullptr);",
          "content_same": false
        },
        {
          "line": 641,
          "old_api": null,
          "new_api": "stop",
          "old_text": null,
          "new_text": "laylistController->stop();",
          "old_line_content": "",
          "new_line_content": "        playlistController->stop();",
          "content_same": false
        },
        {
          "line": 643,
          "old_api": null,
          "new_api": "ignore",
          "old_text": null,
          "new_text": "->ignore();",
          "old_line_content": "    }",
          "new_line_content": "        e->ignore();",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": null,
          "new_api": "accept",
          "old_text": null,
          "new_text": "->accept();",
          "old_line_content": "    }",
          "new_line_content": "        e->accept();",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": null,
          "new_api": "etInterfaceFullScreen",
          "old_text": null,
          "new_text": "etInterfaceFullScreen( !b_interfaceFullScreen );",
          "old_line_content": "    emit fullscreenInterfaceToggled( b_interfaceFullScreen );",
          "new_line_content": "    setInterfaceFullScreen( !b_interfaceFullScreen );",
          "content_same": false
        },
        {
          "line": 170,
          "old_api": null,
          "new_api": "MetaObject::invokeMethod(this, &MainInterface::initSystray, Qt::QueuedConnection);",
          "old_text": null,
          "new_text": "MetaObject::invokeMethod(this, &MainInterface::initSystray, Qt::QueuedConnection);",
          "old_line_content": "",
          "new_line_content": "    QMetaObject::invokeMethod(this, &MainInterface::initSystray, Qt::QueuedConnection);",
          "content_same": false
        },
        {
          "line": 182,
          "old_api": null,
          "new_api": "onnect",
          "old_text": null,
          "new_text": "onnect( THEMIM, &PlayerController::inputChanged, this, &MainInterface::onInputChanged );",
          "old_line_content": "",
          "new_line_content": "    connect( THEMIM, &PlayerController::inputChanged, this, &MainInterface::onInputChanged );",
          "content_same": false
        },
        {
          "line": 187,
          "old_api": null,
          "new_api": "onnect",
          "old_text": null,
          "new_text": "onnect( this, &MainInterface::askToQuit, THEDP, &DialogsProvider::quit, Qt::QueuedConnection  );",
          "old_line_content": "",
          "new_line_content": "    connect( this, &MainInterface::askToQuit, THEDP, &DialogsProvider::quit, Qt::QueuedConnection  );",
          "content_same": false
        },
        {
          "line": 189,
          "old_api": null,
          "new_api": "onnect",
          "old_text": null,
          "new_text": "onnect( THEDP, &DialogsProvider::toolBarConfUpdated, this, &MainInterface::toolBarConfUpdated );",
          "old_line_content": "",
          "new_line_content": "    connect( THEDP, &DialogsProvider::toolBarConfUpdated, this, &MainInterface::toolBarConfUpdated );",
          "content_same": false
        },
        {
          "line": 702,
          "old_api": null,
          "new_api": "pf_show_dialog",
          "old_text": null,
          "new_text": "_intf->pf_show_dialog( p_intf, INTF_DIALOG_POPUPMENU,\n                                new_val.b_bool, NULL );",
          "old_line_content": "                                new_val.b_bool, NULL );",
          "new_line_content": "        p_intf->pf_show_dialog( p_intf, INTF_DIALOG_POPUPMENU,",
          "content_same": false
        },
        {
          "line": 200,
          "old_api": null,
          "new_api": "ar_AddCallback",
          "old_text": null,
          "new_text": "ar_AddCallback( libvlc, \"intf-show\", IntfRaiseMainCB, p_intf );",
          "old_line_content": "",
          "new_line_content": "    var_AddCallback( libvlc, \"intf-show\", IntfRaiseMainCB, p_intf );",
          "content_same": false
        },
        {
          "line": 203,
          "old_api": null,
          "new_api": "ar_AddCallback",
          "old_text": null,
          "new_text": "ar_AddCallback( libvlc, \"intf-popupmenu\", PopupMenuCB, p_intf );",
          "old_line_content": "",
          "new_line_content": "    var_AddCallback( libvlc, \"intf-popupmenu\", PopupMenuCB, p_intf );",
          "content_same": false
        },
        {
          "line": 716,
          "old_api": null,
          "new_api": "emitShow",
          "old_text": null,
          "new_text": "_intf->p_sys->p_mi->emitShow();",
          "old_line_content": "",
          "new_line_content": "    p_intf->p_sys->p_mi->emitShow();",
          "content_same": false
        },
        {
          "line": 206,
          "old_api": null,
          "new_api": "Size",
          "old_text": null,
          "new_text": "Size(600, 420) ",
          "old_line_content": "",
          "new_line_content": "    QVLCTools::restoreWidgetPosition( settings, this, QSize(600, 420) );",
          "content_same": false
        },
        {
          "line": 208,
          "old_api": null,
          "new_api": "sFullScreen",
          "old_text": null,
          "new_text": "sFullScreen();",
          "old_line_content": "",
          "new_line_content": "    b_interfaceFullScreen = isFullScreen();",
          "content_same": false
        },
        {
          "line": 213,
          "old_api": null,
          "new_api": "etCentralWidget",
          "old_text": null,
          "new_text": "etCentralWidget(widget);",
          "old_line_content": "",
          "new_line_content": "    setCentralWidget(widget);",
          "content_same": false
        },
        {
          "line": 215,
          "old_api": null,
          "new_api": "omputeMinimumSize",
          "old_text": null,
          "new_text": "omputeMinimumSize();",
          "old_line_content": "}",
          "new_line_content": "    computeMinimumSize();",
          "content_same": false
        },
        {
          "line": 728,
          "old_api": null,
          "new_api": "emitRaise",
          "old_text": null,
          "new_text": "_intf->p_sys->p_mi->emitRaise();",
          "old_line_content": "",
          "new_line_content": "    p_intf->p_sys->p_mi->emitRaise();",
          "content_same": false
        },
        {
          "line": 220,
          "old_api": null,
          "new_api": "endererManager::killInstance();",
          "old_text": null,
          "new_text": "endererManager::killInstance();",
          "old_line_content": "",
          "new_line_content": "    RendererManager::killInstance();",
          "content_same": false
        },
        {
          "line": 227,
          "old_api": null,
          "new_api": "setValue",
          "old_text": null,
          "new_text": "ettings->setValue( \"interface-scale\", m_intfUserScaleFactor );",
          "old_line_content": "",
          "new_line_content": "    settings->setValue( \"interface-scale\", m_intfUserScaleFactor );",
          "content_same": false
        },
        {
          "line": 740,
          "old_api": null,
          "new_api": "emitBoss",
          "old_text": null,
          "new_text": "_intf->p_sys->p_mi->emitBoss();",
          "old_line_content": "",
          "new_line_content": "    p_intf->p_sys->p_mi->emitBoss();",
          "content_same": false
        },
        {
          "line": 231,
          "old_api": null,
          "new_api": "setValue",
          "old_text": null,
          "new_text": "ettings->setValue( \"playlist-width-factor\", playlistWidthFactor);",
          "old_line_content": "",
          "new_line_content": "    settings->setValue( \"playlist-width-factor\", playlistWidthFactor);",
          "content_same": false
        },
        {
          "line": 234,
          "old_api": null,
          "new_api": "endGroup",
          "old_text": null,
          "new_text": "ettings->endGroup();",
          "old_line_content": "",
          "new_line_content": "    settings->endGroup();",
          "content_same": false
        },
        {
          "line": 237,
          "old_api": null,
          "new_api": "VLCTools::saveWidgetPosition(settings, this);",
          "old_text": null,
          "new_text": "VLCTools::saveWidgetPosition(settings, this);",
          "old_line_content": "",
          "new_line_content": "    QVLCTools::saveWidgetPosition(settings, this);",
          "content_same": false
        },
        {
          "line": 244,
          "old_api": null,
          "new_api": "ar_DelCallback",
          "old_text": null,
          "new_text": "ar_DelCallback( libvlc, \"intf-popupmenu\", PopupMenuCB, p_intf );",
          "old_line_content": "",
          "new_line_content": "    var_DelCallback( libvlc, \"intf-popupmenu\", PopupMenuCB, p_intf );",
          "content_same": false
        },
        {
          "line": 254,
          "old_api": null,
          "new_api": "etMinimumHeight",
          "old_text": null,
          "new_text": "etMinimumHeight( minHeight );",
          "old_line_content": "}",
          "new_line_content": "    setMinimumHeight( minHeight );",
          "content_same": false
        },
        {
          "line": 264,
          "old_api": null,
          "new_api": "ar_InheritInteger",
          "old_text": null,
          "new_text": "ar_InheritInteger( p_intf, \"qt-notification\" );",
          "old_line_content": "}",
          "new_line_content": "    i_notificationSetting = var_InheritInteger( p_intf, \"qt-notification\" );",
          "content_same": false
        },
        {
          "line": 272,
          "old_api": null,
          "new_api": "ar_InheritInteger",
          "old_text": null,
          "new_text": "ar_InheritInteger( p_intf, \"qt-auto-raise\" );",
          "old_line_content": "    if ( autoRaise == MainInterface::RAISE_NEVER )",
          "new_line_content": "    int autoRaise = var_InheritInteger( p_intf, \"qt-auto-raise\" );",
          "content_same": false
        },
        {
          "line": 275,
          "old_api": null,
          "new_api": "hasVideoOutput",
          "old_text": null,
          "new_text": "HEMIM->hasVideoOutput() ",
          "old_line_content": "    {",
          "new_line_content": "    if( THEMIM->hasVideoOutput() == true )",
          "content_same": false
        },
        {
          "line": 292,
          "old_api": null,
          "new_api": "lc_object_instance",
          "old_text": null,
          "new_text": "lc_object_instance(p_intf),",
          "old_line_content": "}",
          "new_line_content": "    var_SetInteger(vlc_object_instance(p_intf), \"key-pressed\", vlckey);",
          "content_same": false
        },
        {
          "line": 297,
          "old_api": null,
          "new_api": "indowHandle",
          "old_text": null,
          "new_text": "indowHandle();",
          "old_line_content": "    m_intfScaleFactor = m_intfUserScaleFactor;",
          "new_line_content": "    QWindow* window = windowHandle();",
          "content_same": false
        },
        {
          "line": 301,
          "old_api": null,
          "new_api": "screen",
          "old_text": null,
          "new_text": "indow->screen();",
          "old_line_content": "        if (screen)",
          "new_line_content": "        QScreen* screen = window->screen();",
          "content_same": false
        },
        {
          "line": 304,
          "old_api": null,
          "new_api": "logicalDotsPerInch",
          "old_text": null,
          "new_text": "creen->logicalDotsPerInch();",
          "old_line_content": "            m_intfScaleFactor = m_intfUserScaleFactor * dpi / VLC_REFERENCE_SCALE_FACTOR;",
          "new_line_content": "            qreal dpi = screen->logicalDotsPerInch();",
          "content_same": false
        },
        {
          "line": 314,
          "old_api": null,
          "new_api": "td::min(m_intfUserScaleFactor + 0.1, 3.0);",
          "old_text": null,
          "new_text": "td::min(m_intfUserScaleFactor + 0.1, 3.0);",
          "old_line_content": "    else",
          "new_line_content": "        m_intfUserScaleFactor = std::min(m_intfUserScaleFactor + 0.1, 3.0);",
          "content_same": false
        },
        {
          "line": 317,
          "old_api": null,
          "new_api": "pdateIntfScaleFactor",
          "old_text": null,
          "new_text": "pdateIntfScaleFactor();",
          "old_line_content": "}",
          "new_line_content": "    updateIntfScaleFactor();",
          "content_same": false
        },
        {
          "line": 323,
          "old_api": null,
          "new_api": "ar_InheritBool",
          "old_text": null,
          "new_text": "ar_InheritBool( p_intf, \"qt-system-tray\" );",
          "old_line_content": "",
          "new_line_content": "    bool b_systrayWanted = var_InheritBool( p_intf, \"qt-system-tray\" );",
          "content_same": false
        },
        {
          "line": 325,
          "old_api": null,
          "new_api": "ar_InheritBool",
          "old_text": null,
          "new_text": "ar_InheritBool( p_intf, \"qt-start-minimized\") ",
          "old_line_content": "    {",
          "new_line_content": "    if( var_InheritBool( p_intf, \"qt-start-minimized\") )",
          "content_same": false
        },
        {
          "line": 333,
          "old_api": null,
          "new_api": "sg_Err",
          "old_text": null,
          "new_text": "sg_Err( p_intf, \"cannot start minimized without system tray bar\" );",
          "old_line_content": "    }",
          "new_line_content": "            msg_Err( p_intf, \"cannot start minimized without system tray bar\" );",
          "content_same": false
        },
        {
          "line": 337,
          "old_api": null,
          "new_api": "reateSystray",
          "old_text": null,
          "new_text": "reateSystray();",
          "old_line_content": "}",
          "new_line_content": "        createSystray();",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": null,
          "new_api": "hasVideo",
          "old_text": null,
          "new_text": "_videoSurfaceProvider->hasVideo();",
          "old_line_content": "}",
          "new_line_content": "    return m_videoSurfaceProvider && m_videoSurfaceProvider->hasVideo();",
          "content_same": false
        },
        {
          "line": 384,
          "old_api": null,
          "new_api": "isconnect",
          "old_text": null,
          "new_text": "isconnect(m_videoSurfaceProvider, &VideoSurfaceProvider::hasVideoChanged, this, &MainInterface::hasEmbededVideoChanged);",
          "old_line_content": "    m_videoSurfaceProvider = videoSurfaceProvider;",
          "new_line_content": "        disconnect(m_videoSurfaceProvider, &VideoSurfaceProvider::hasVideoChanged, this, &MainInterface::hasEmbededVideoChanged);",
          "content_same": false
        },
        {
          "line": 387,
          "old_api": null,
          "new_api": "onnect",
          "old_text": null,
          "new_text": "onnect(m_videoSurfaceProvider, &VideoSurfaceProvider::hasVideoChanged,\n                this, &MainInterface::hasEmbededVideoChanged,\n                Qt::QueuedConnection);",
          "old_line_content": "                this, &MainInterface::hasEmbededVideoChanged,",
          "new_line_content": "        connect(m_videoSurfaceProvider, &VideoSurfaceProvider::hasVideoChanged,",
          "content_same": false
        },
        {
          "line": 390,
          "old_api": null,
          "new_api": "hasVideo",
          "old_text": null,
          "new_text": "_videoSurfaceProvider->hasVideo())",
          "old_line_content": "}",
          "new_line_content": "    emit hasEmbededVideoChanged(m_videoSurfaceProvider && m_videoSurfaceProvider->hasVideo());",
          "content_same": false
        },
        {
          "line": 410,
          "old_api": null,
          "new_api": "showMessage",
          "old_text": null,
          "new_text": "tatusBar()->showMessage( amount, 1000 );",
          "old_line_content": "}",
          "new_line_content": "    statusBar()->showMessage( amount, 1000 );",
          "content_same": false
        },
        {
          "line": 424,
          "old_api": null,
          "new_api": "Icon",
          "old_text": null,
          "new_text": "Icon( \":/logo/vlc128-xmas.png\" ) ",
          "old_line_content": "    else",
          "new_line_content": "        iconVLC = QIcon::fromTheme( \"vlc-xmas\", QIcon( \":/logo/vlc128-xmas.png\" ) );",
          "content_same": false
        },
        {
          "line": 426,
          "old_api": null,
          "new_api": "Icon",
          "old_text": null,
          "new_text": "Icon( \":/logo/vlc256.png\" ) ",
          "old_line_content": "    sysTray = new QSystemTrayIcon( iconVLC, this );",
          "new_line_content": "        iconVLC = QIcon::fromTheme( \"vlc\", QIcon( \":/logo/vlc256.png\" ) );",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": null,
          "new_api": "tr",
          "old_text": null,
          "new_text": "tr( \"VLC media player\" ))",
          "old_line_content": "",
          "new_line_content": "    sysTray->setToolTip( qtr( \"VLC media player\" ));",
          "content_same": false
        },
        {
          "line": 431,
          "old_api": null,
          "new_api": "setIcon",
          "old_text": null,
          "new_text": "ystrayMenu->setIcon( iconVLC );",
          "old_line_content": "",
          "new_line_content": "    systrayMenu->setIcon( iconVLC );",
          "content_same": false
        },
        {
          "line": 434,
          "old_api": null,
          "new_api": "show",
          "old_text": null,
          "new_text": "ysTray->show();",
          "old_line_content": "",
          "new_line_content": "    sysTray->show();",
          "content_same": false
        },
        {
          "line": 436,
          "old_api": null,
          "new_api": "onnect",
          "old_text": null,
          "new_text": "onnect( sysTray, &QSystemTrayIcon::activated,\n             this, &MainInterface::handleSystrayClick );",
          "old_line_content": "             this, &MainInterface::handleSystrayClick );",
          "new_line_content": "    connect( sysTray, &QSystemTrayIcon::activated,",
          "content_same": false
        },
        {
          "line": 440,
          "old_api": null,
          "new_api": "onnect",
          "old_text": null,
          "new_text": "onnect( THEMIM, &PlayerController::nameChanged,\n             this, &MainInterface::updateSystrayTooltipName );",
          "old_line_content": "             this, &MainInterface::updateSystrayTooltipName );",
          "new_line_content": "    connect( THEMIM, &PlayerController::nameChanged,",
          "content_same": false
        },
        {
          "line": 443,
          "old_api": null,
          "new_api": "onnect",
          "old_text": null,
          "new_text": "onnect( THEMIM, &PlayerController::playingStateChanged,\n             this, &MainInterface::updateSystrayTooltipStatus );",
          "old_line_content": "             this, &MainInterface::updateSystrayTooltipStatus );",
          "new_line_content": "    connect( THEMIM, &PlayerController::playingStateChanged,",
          "content_same": false
        },
        {
          "line": 454,
          "old_api": null,
          "new_api": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "old_text": null,
          "new_text": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "old_line_content": "}",
          "new_line_content": "        VLCMenuBar::updateSystrayMenu( this, p_intf );",
          "content_same": false
        },
        {
          "line": 461,
          "old_api": null,
          "new_api": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "old_text": null,
          "new_text": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "old_line_content": "}",
          "new_line_content": "    VLCMenuBar::updateSystrayMenu( this, p_intf );",
          "content_same": false
        },
        {
          "line": 468,
          "old_api": null,
          "new_api": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "old_text": null,
          "new_text": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "old_line_content": "}",
          "new_line_content": "    VLCMenuBar::updateSystrayMenu( this, p_intf );",
          "content_same": false
        },
        {
          "line": 480,
          "old_api": null,
          "new_api": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "old_text": null,
          "new_text": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "old_line_content": "#else",
          "new_line_content": "            VLCMenuBar::updateSystrayMenu( this, p_intf );",
          "content_same": false
        },
        {
          "line": 482,
          "old_api": null,
          "new_api": "oggleUpdateSystrayMenu",
          "old_text": null,
          "new_text": "oggleUpdateSystrayMenu();",
          "old_line_content": "#endif",
          "new_line_content": "            toggleUpdateSystrayMenu();",
          "content_same": false
        },
        {
          "line": 487,
          "old_api": null,
          "new_api": "tr",
          "old_text": null,
          "new_text": "tr( \"Control menu for the player\" ),",
          "old_line_content": "                    QSystemTrayIcon::Information, 3000 );",
          "new_line_content": "                    qtr( \"Control menu for the player\" ),",
          "content_same": false
        },
        {
          "line": 501,
          "old_api": null,
          "new_api": "isEmpty",
          "old_text": null,
          "new_text": "ame.isEmpty() ",
          "old_line_content": "    {",
          "new_line_content": "    if( name.isEmpty() )",
          "content_same": false
        },
        {
          "line": 503,
          "old_api": null,
          "new_api": "tr",
          "old_text": null,
          "new_text": "tr( \"VLC media player\" ) ",
          "old_line_content": "    }",
          "new_line_content": "        sysTray->setToolTip( qtr( \"VLC media player\" ) );",
          "content_same": false
        },
        {
          "line": 507,
          "old_api": null,
          "new_api": "setToolTip",
          "old_text": null,
          "new_text": "ysTray->setToolTip( name );",
          "old_line_content": "        if( ( i_notificationSetting == NOTIFICATION_ALWAYS ) ||",
          "new_line_content": "        sysTray->setToolTip( name );",
          "content_same": false
        },
        {
          "line": 509,
          "old_api": null,
          "new_api": "sHidden",
          "old_text": null,
          "new_text": "sHidden())",
          "old_line_content": "        {",
          "new_line_content": "            ( i_notificationSetting == NOTIFICATION_MINIMIZED && (isMinimized() || isHidden()) ) )",
          "content_same": false
        },
        {
          "line": 511,
          "old_api": null,
          "new_api": "tr",
          "old_text": null,
          "new_text": "tr( \"VLC media player\" ),",
          "old_line_content": "                    QSystemTrayIcon::NoIcon, 3000 );",
          "new_line_content": "            sysTray->showMessage( qtr( \"VLC media player\" ), name,",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 515,
          "old_api": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "new_api": null,
          "old_text": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "new_text": null,
          "old_line_content": "    VLCMenuBar::updateSystrayMenu( this, p_intf );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 524,
          "old_api": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "new_api": null,
          "old_text": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "new_text": null,
          "old_line_content": "    VLCMenuBar::updateSystrayMenu( this, p_intf );",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": "ropEventPlay",
          "new_api": null,
          "old_text": "ropEventPlay( event, true );",
          "new_text": null,
          "old_line_content": "    dropEventPlay( event, true );",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 546,
          "old_api": "possibleActions",
          "new_api": null,
          "old_text": "vent->possibleActions() ",
          "new_text": null,
          "old_line_content": "    if( event->possibleActions() & ( Qt::CopyAction | Qt::MoveAction | Qt::LinkAction ) )",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 551,
          "old_api": "mimeData",
          "new_api": null,
          "old_text": "vent->mimeData();",
          "new_text": null,
          "old_line_content": "    const QMimeData *mimeData = event->mimeData();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 554,
          "old_api": "hasInput",
          "new_api": null,
          "old_text": "HEMIM->hasInput() ",
          "new_text": null,
          "old_line_content": "    if( mimeData->urls().count() == 1 && THEMIM->hasInput() )",
          "new_line_content": "    /* D&D of a subtitles file, add it on the fly */",
          "content_same": false
        },
        {
          "line": 556,
          "old_api": "toString",
          "new_api": null,
          "old_text": "imeData->urls()[0].toString(),",
          "new_text": null,
          "old_line_content": "        if( !THEMIM->AddAssociatedMedia(SPU_ES, mimeData->urls()[0].toString(), true, true, true) )",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 558,
          "old_api": "accept",
          "new_api": null,
          "old_text": "vent->accept();",
          "new_text": null,
          "old_line_content": "            event->accept();",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 566,
          "old_api": "isValid",
          "new_api": null,
          "old_text": "rl.isValid() ",
          "new_text": null,
          "old_line_content": "        if( url.isValid() )",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 568,
          "old_api": "toEncoded",
          "new_api": null,
          "old_text": "rl.toEncoded().constData() ",
          "new_text": null,
          "old_line_content": "            QString mrl = toURI( url.toEncoded().constData() );",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 570,
          "old_api": "toLocalFile",
          "new_api": null,
          "old_text": "rl.toLocalFile() ",
          "new_text": null,
          "old_line_content": "            QFileInfo info( url.toLocalFile() );",
          "new_line_content": "#ifdef _WIN32",
          "content_same": false
        },
        {
          "line": 573,
          "old_api": "symLinkTarget",
          "new_api": null,
          "old_text": "nfo.symLinkTarget();",
          "new_text": null,
          "old_line_content": "                QString target = info.symLinkTarget();",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 575,
          "old_api": "File::exists( target )",
          "new_api": null,
          "old_text": "File::exists( target ) ",
          "new_text": null,
          "old_line_content": "                if( QFile::exists( target ) )",
          "new_line_content": "                QUrl url;",
          "content_same": false
        },
        {
          "line": 577,
          "old_api": "Url::fromLocalFile( target );",
          "new_api": null,
          "old_text": "Url::fromLocalFile( target );",
          "new_text": null,
          "old_line_content": "                    url = QUrl::fromLocalFile( target );",
          "new_line_content": "                {",
          "content_same": false
        },
        {
          "line": 581,
          "old_api": "setUrl",
          "new_api": null,
          "old_text": "rl.setUrl( target );",
          "new_text": null,
          "old_line_content": "                    url.setUrl( target );",
          "new_line_content": "                {",
          "content_same": false
        },
        {
          "line": 583,
          "old_api": "toEncoded",
          "new_api": null,
          "old_text": "rl.toEncoded().constData() ",
          "new_text": null,
          "old_line_content": "                mrl = toURI( url.toEncoded().constData() );",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 586,
          "old_api": "length",
          "new_api": null,
          "old_text": "rl.length() ",
          "new_text": null,
          "old_line_content": "            if( mrl.length() > 0 )",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 588,
          "old_api": "pen::openMRL( p_intf, mrl, first );",
          "new_api": null,
          "old_text": "pen::openMRL( p_intf, mrl, first );",
          "new_text": null,
          "old_line_content": "                Open::openMRL( p_intf, mrl, first );",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 597,
          "old_api": "hasText",
          "new_api": null,
          "old_text": "imeData->hasText() ",
          "new_text": null,
          "old_line_content": "    if( !mimeData->hasUrls() && mimeData->hasText() &&",
          "new_line_content": "       if we didn't get any normal Urls()*/",
          "content_same": false
        },
        {
          "line": 600,
          "old_api": "text",
          "new_api": null,
          "old_text": "imeData->text() ",
          "new_text": null,
          "old_line_content": "        QString mrl = toURI( mimeData->text() );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 603,
          "old_api": "accept",
          "new_api": null,
          "old_text": "vent->accept();",
          "new_text": null,
          "old_line_content": "    event->accept();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 607,
          "old_api": "acceptProposedAction",
          "new_api": null,
          "old_text": "vent->acceptProposedAction();",
          "new_text": null,
          "old_line_content": "     event->acceptProposedAction();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 611,
          "old_api": "acceptProposedAction",
          "new_api": null,
          "old_text": "vent->acceptProposedAction();",
          "new_text": null,
          "old_line_content": "     event->acceptProposedAction();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": "accept",
          "new_api": null,
          "old_text": "vent->accept();",
          "new_text": null,
          "old_line_content": "     event->accept();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": "onWindowClosed",
          "new_api": null,
          "old_text": "_videoSurfaceProvider->onWindowClosed();",
          "new_text": null,
          "old_line_content": "        m_videoSurfaceProvider->onWindowClosed();",
          "new_line_content": "    if (m_videoSurfaceProvider)",
          "content_same": false
        },
        {
          "line": 633,
          "old_api": "hasVideoOutput",
          "new_api": null,
          "old_text": "layerController->hasVideoOutput())",
          "new_text": null,
          "old_line_content": "    if (playerController->hasVideoOutput()) {",
          "new_line_content": "    //vout_window_ReportClose is currently stubbed",
          "content_same": false
        },
        {
          "line": 635,
          "old_api": "onnect",
          "new_api": null,
          "old_text": "onnect(playerController, &PlayerController::playingStateChanged, [this](PlayerController::PlayingState state){\n            if (state == PlayerController::PLAYING_STATE_STOPPED) {\n                QMetaObject::invokeMethod(this, &MainInterface::close, Qt::QueuedConnection, nullptr);\n            }\n        });",
          "new_text": null,
          "old_line_content": "        connect(playerController, &PlayerController::playingStateChanged, [this](PlayerController::PlayingState state){",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 637,
          "old_api": "MetaObject::invokeMethod(this, &MainInterface::close, Qt::QueuedConnection, nullptr);",
          "new_api": null,
          "old_text": "MetaObject::invokeMethod(this, &MainInterface::close, Qt::QueuedConnection, nullptr);",
          "new_text": null,
          "old_line_content": "                QMetaObject::invokeMethod(this, &MainInterface::close, Qt::QueuedConnection, nullptr);",
          "new_line_content": "            if (state == PlayerController::PLAYING_STATE_STOPPED) {",
          "content_same": false
        },
        {
          "line": 640,
          "old_api": "stop",
          "new_api": null,
          "old_text": "laylistController->stop();",
          "new_text": null,
          "old_line_content": "        playlistController->stop();",
          "new_line_content": "        });",
          "content_same": false
        },
        {
          "line": 642,
          "old_api": "ignore",
          "new_api": null,
          "old_text": "->ignore();",
          "new_text": null,
          "old_line_content": "        e->ignore();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 648,
          "old_api": "accept",
          "new_api": null,
          "old_text": "->accept();",
          "new_text": null,
          "old_line_content": "        e->accept();",
          "new_line_content": "        /* Accept session quit. Otherwise we break the desktop mamager. */",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": "etInterfaceFullScreen",
          "new_api": null,
          "old_text": "etInterfaceFullScreen( !b_interfaceFullScreen );",
          "new_text": null,
          "old_line_content": "    setInterfaceFullScreen( !b_interfaceFullScreen );",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 169,
          "old_api": "nitSystray",
          "new_api": null,
          "old_text": "nitSystray();",
          "new_text": null,
          "old_line_content": "    initSystray();",
          "new_line_content": "    //postpone systray initialisation to speedup starting time",
          "content_same": false
        },
        {
          "line": 181,
          "old_api": "onnect",
          "new_api": null,
          "old_text": "onnect( THEMIM, &PlayerController::inputChanged, this, &MainInterface::onInputChanged );",
          "new_text": null,
          "old_line_content": "    connect( THEMIM, &PlayerController::inputChanged, this, &MainInterface::onInputChanged );",
          "new_line_content": "    /* and title of the Main Interface*/",
          "content_same": false
        },
        {
          "line": 186,
          "old_api": "onnect",
          "new_api": null,
          "old_text": "onnect( this, &MainInterface::askToQuit, THEDP, &DialogsProvider::quit, Qt::QueuedConnection  );",
          "new_text": null,
          "old_line_content": "    connect( this, &MainInterface::askToQuit, THEDP, &DialogsProvider::quit, Qt::QueuedConnection  );",
          "new_line_content": "    /* VideoWidget connects for asynchronous calls */",
          "content_same": false
        },
        {
          "line": 188,
          "old_api": "onnect",
          "new_api": null,
          "old_text": "onnect( THEDP, &DialogsProvider::toolBarConfUpdated, this, &MainInterface::toolBarConfUpdated );",
          "new_text": null,
          "old_line_content": "    connect( THEDP, &DialogsProvider::toolBarConfUpdated, this, &MainInterface::toolBarConfUpdated );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 701,
          "old_api": "pf_show_dialog",
          "new_api": null,
          "old_text": "_intf->pf_show_dialog( p_intf, INTF_DIALOG_POPUPMENU,\n                                new_val.b_bool, NULL );",
          "new_text": null,
          "old_line_content": "        p_intf->pf_show_dialog( p_intf, INTF_DIALOG_POPUPMENU,",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 196,
          "old_api": "lc_object_instance",
          "new_api": null,
          "old_text": "lc_object_instance(p_intf);",
          "new_text": null,
          "old_line_content": "    libvlc_int_t* libvlc = vlc_object_instance(p_intf);",
          "new_line_content": "     ************/",
          "content_same": false
        },
        {
          "line": 202,
          "old_api": "ar_AddCallback",
          "new_api": null,
          "old_text": "ar_AddCallback( libvlc, \"intf-popupmenu\", PopupMenuCB, p_intf );",
          "new_text": null,
          "old_line_content": "    var_AddCallback( libvlc, \"intf-popupmenu\", PopupMenuCB, p_intf );",
          "new_line_content": "    /* Register callback for the intf-popupmenu variable */",
          "content_same": false
        },
        {
          "line": 715,
          "old_api": "emitShow",
          "new_api": null,
          "old_text": "_intf->p_sys->p_mi->emitShow();",
          "new_text": null,
          "old_line_content": "    p_intf->p_sys->p_mi->emitShow();",
          "new_line_content": "    intf_thread_t *p_intf = (intf_thread_t *)param;",
          "content_same": false
        },
        {
          "line": 205,
          "old_api": "Size",
          "new_api": null,
          "old_text": "Size(600, 420) ",
          "new_text": null,
          "old_line_content": "    QVLCTools::restoreWidgetPosition( settings, this, QSize(600, 420) );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 207,
          "old_api": "sFullScreen",
          "new_api": null,
          "old_text": "sFullScreen();",
          "new_text": null,
          "old_line_content": "    b_interfaceFullScreen = isFullScreen();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 211,
          "old_api": "setStyleSheet",
          "new_api": null,
          "old_text": "idget->setStyleSheet(\"background-color: transparent\");",
          "new_text": null,
          "old_line_content": "    widget->setStyleSheet(\"background-color: transparent\");",
          "new_line_content": "    QWidget* widget = new QWidget(this);",
          "content_same": false
        },
        {
          "line": 214,
          "old_api": "omputeMinimumSize",
          "new_api": null,
          "old_text": "omputeMinimumSize();",
          "new_text": null,
          "old_line_content": "    computeMinimumSize();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 727,
          "old_api": "emitRaise",
          "new_api": null,
          "old_text": "_intf->p_sys->p_mi->emitRaise();",
          "new_text": null,
          "old_line_content": "    p_intf->p_sys->p_mi->emitRaise();",
          "new_line_content": "    intf_thread_t *p_intf = (intf_thread_t *)param;",
          "content_same": false
        },
        {
          "line": 219,
          "old_api": "endererManager::killInstance();",
          "new_api": null,
          "old_text": "endererManager::killInstance();",
          "new_text": null,
          "old_line_content": "    RendererManager::killInstance();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 223,
          "old_api": "beginGroup",
          "new_api": null,
          "old_text": "ettings->beginGroup(\"MainWindow\");",
          "new_text": null,
          "old_line_content": "    settings->beginGroup(\"MainWindow\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 739,
          "old_api": "emitBoss",
          "new_api": null,
          "old_text": "_intf->p_sys->p_mi->emitBoss();",
          "new_text": null,
          "old_line_content": "    p_intf->p_sys->p_mi->emitBoss();",
          "new_line_content": "    intf_thread_t *p_intf = (intf_thread_t *)param;",
          "content_same": false
        },
        {
          "line": 229,
          "old_api": "setValue",
          "new_api": null,
          "old_text": "ettings->setValue( \"playlist-visible\", playlistVisible );",
          "new_text": null,
          "old_line_content": "    settings->setValue( \"playlist-visible\", playlistVisible );",
          "new_line_content": "    /* Save playlist state */",
          "content_same": false
        },
        {
          "line": 233,
          "old_api": "endGroup",
          "new_api": null,
          "old_text": "ettings->endGroup();",
          "new_text": null,
          "old_line_content": "    settings->endGroup();",
          "new_line_content": "    /* Save the stackCentralW sizes */",
          "content_same": false
        },
        {
          "line": 236,
          "old_api": "VLCTools::saveWidgetPosition(settings, this);",
          "new_api": null,
          "old_text": "VLCTools::saveWidgetPosition(settings, this);",
          "new_text": null,
          "old_line_content": "    QVLCTools::saveWidgetPosition(settings, this);",
          "new_line_content": "    /* Save this size */",
          "content_same": false
        },
        {
          "line": 239,
          "old_api": "lc_object_instance",
          "new_api": null,
          "old_text": "lc_object_instance(p_intf);",
          "new_text": null,
          "old_line_content": "    libvlc_int_t* libvlc = vlc_object_instance(p_intf);",
          "new_line_content": "    /* Unregister callbacks */",
          "content_same": false
        },
        {
          "line": 252,
          "old_api": "etMinimumWidth",
          "new_api": null,
          "old_text": "etMinimumWidth( minWidth );",
          "new_text": null,
          "old_line_content": "    setMinimumWidth( minWidth );",
          "new_line_content": "    int minHeight = 300;",
          "content_same": false
        },
        {
          "line": 263,
          "old_api": "ar_InheritInteger",
          "new_api": null,
          "old_text": "ar_InheritInteger( p_intf, \"qt-notification\" );",
          "new_text": null,
          "old_line_content": "    i_notificationSetting = var_InheritInteger( p_intf, \"qt-notification\" );",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 271,
          "old_api": "ar_InheritInteger",
          "new_api": null,
          "old_text": "ar_InheritInteger( p_intf, \"qt-auto-raise\" );",
          "new_text": null,
          "old_line_content": "    int autoRaise = var_InheritInteger( p_intf, \"qt-auto-raise\" );",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 274,
          "old_api": "hasVideoOutput",
          "new_api": null,
          "old_text": "HEMIM->hasVideoOutput() ",
          "new_text": null,
          "old_line_content": "    if( THEMIM->hasVideoOutput() == true )",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 290,
          "old_api": "tEventToVLCKey",
          "new_api": null,
          "old_text": "tEventToVLCKey(&event);",
          "new_text": null,
          "old_line_content": "    int vlckey = qtEventToVLCKey(&event);",
          "new_line_content": "    QKeyEvent event(QEvent::KeyPress, key, modifiers );",
          "content_same": false
        },
        {
          "line": 296,
          "old_api": "indowHandle",
          "new_api": null,
          "old_text": "indowHandle();",
          "new_text": null,
          "old_line_content": "    QWindow* window = windowHandle();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 300,
          "old_api": "screen",
          "new_api": null,
          "old_text": "indow->screen();",
          "new_text": null,
          "old_line_content": "        QScreen* screen = window->screen();",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 303,
          "old_api": "logicalDotsPerInch",
          "new_api": null,
          "old_text": "creen->logicalDotsPerInch();",
          "new_text": null,
          "old_line_content": "            qreal dpi = screen->logicalDotsPerInch();",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 313,
          "old_api": "td::min(m_intfUserScaleFactor + 0.1, 3.0);",
          "new_api": null,
          "old_text": "td::min(m_intfUserScaleFactor + 0.1, 3.0);",
          "new_text": null,
          "old_line_content": "        m_intfUserScaleFactor = std::min(m_intfUserScaleFactor + 0.1, 3.0);",
          "new_line_content": "    if (increment)",
          "content_same": false
        },
        {
          "line": 315,
          "old_api": "td::max(m_intfUserScaleFactor - 0.1, 0.3);",
          "new_api": null,
          "old_text": "td::max(m_intfUserScaleFactor - 0.1, 0.3);",
          "new_text": null,
          "old_line_content": "        m_intfUserScaleFactor = std::max(m_intfUserScaleFactor - 0.1, 0.3);",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 321,
          "old_api": "SystemTrayIcon::isSystemTrayAvailable();",
          "new_api": null,
          "old_text": "SystemTrayIcon::isSystemTrayAvailable();",
          "new_text": null,
          "old_line_content": "    bool b_systrayAvailable = QSystemTrayIcon::isSystemTrayAvailable();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 324,
          "old_api": "ar_InheritBool",
          "new_api": null,
          "old_text": "ar_InheritBool( p_intf, \"qt-start-minimized\") ",
          "new_text": null,
          "old_line_content": "    if( var_InheritBool( p_intf, \"qt-start-minimized\") )",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 332,
          "old_api": "sg_Err",
          "new_api": null,
          "old_text": "sg_Err( p_intf, \"cannot start minimized without system tray bar\" );",
          "new_text": null,
          "old_line_content": "            msg_Err( p_intf, \"cannot start minimized without system tray bar\" );",
          "new_line_content": "        else",
          "content_same": false
        },
        {
          "line": 336,
          "old_api": "reateSystray",
          "new_api": null,
          "old_text": "reateSystray();",
          "new_text": null,
          "old_line_content": "        createSystray();",
          "new_line_content": "    if( b_systrayAvailable && b_systrayWanted )",
          "content_same": false
        },
        {
          "line": 377,
          "old_api": "hasVideo",
          "new_api": null,
          "old_text": "_videoSurfaceProvider->hasVideo();",
          "new_text": null,
          "old_line_content": "    return m_videoSurfaceProvider && m_videoSurfaceProvider->hasVideo();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 383,
          "old_api": "isconnect",
          "new_api": null,
          "old_text": "isconnect(m_videoSurfaceProvider, &VideoSurfaceProvider::hasVideoChanged, this, &MainInterface::hasEmbededVideoChanged);",
          "new_text": null,
          "old_line_content": "        disconnect(m_videoSurfaceProvider, &VideoSurfaceProvider::hasVideoChanged, this, &MainInterface::hasEmbededVideoChanged);",
          "new_line_content": "    if (m_videoSurfaceProvider)",
          "content_same": false
        },
        {
          "line": 386,
          "old_api": "onnect",
          "new_api": null,
          "old_text": "onnect(m_videoSurfaceProvider, &VideoSurfaceProvider::hasVideoChanged,\n                this, &MainInterface::hasEmbededVideoChanged,\n                Qt::QueuedConnection);",
          "new_text": null,
          "old_line_content": "        connect(m_videoSurfaceProvider, &VideoSurfaceProvider::hasVideoChanged,",
          "new_line_content": "    if (m_videoSurfaceProvider)",
          "content_same": false
        },
        {
          "line": 389,
          "old_api": "hasVideo",
          "new_api": null,
          "old_text": "_videoSurfaceProvider->hasVideo())",
          "new_text": null,
          "old_line_content": "    emit hasEmbededVideoChanged(m_videoSurfaceProvider && m_videoSurfaceProvider->hasVideo());",
          "new_line_content": "                Qt::QueuedConnection);",
          "content_same": false
        },
        {
          "line": 408,
          "old_api": "arg",
          "new_api": null,
          "old_text": "String(\"Buffering: %1%\").arg( (int)(100*f_cache) );",
          "new_text": null,
          "old_line_content": "    QString amount = QString(\"Buffering: %1%\").arg( (int)(100*f_cache) );",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": "ar_InheritBool",
          "new_api": null,
          "old_text": "ar_InheritBool( p_intf, \"qt-icon-change\" ) ",
          "new_text": null,
          "old_line_content": "    if( QDate::currentDate().dayOfYear() >= QT_XMAS_JOKE_DAY && var_InheritBool( p_intf, \"qt-icon-change\" ) )",
          "new_line_content": "    QIcon iconVLC;",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": "Icon",
          "new_api": null,
          "old_text": "Icon( \":/logo/vlc256.png\" ) ",
          "new_text": null,
          "old_line_content": "        iconVLC = QIcon::fromTheme( \"vlc\", QIcon( \":/logo/vlc256.png\" ) );",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": "tr",
          "new_api": null,
          "old_text": "tr( \"VLC media player\" ))",
          "new_text": null,
          "old_line_content": "    sysTray->setToolTip( qtr( \"VLC media player\" ));",
          "new_line_content": "    sysTray = new QSystemTrayIcon( iconVLC, this );",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": "tr",
          "new_api": null,
          "old_text": "tr( \"VLC media player\" ),",
          "new_text": null,
          "old_line_content": "    systrayMenu = new QMenu( qtr( \"VLC media player\" ), this );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": "LCMenuBar::updateSystrayMenu( this, p_intf, true );",
          "new_api": null,
          "old_text": "LCMenuBar::updateSystrayMenu( this, p_intf, true );",
          "new_text": null,
          "old_line_content": "    VLCMenuBar::updateSystrayMenu( this, p_intf, true );",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 435,
          "old_api": "onnect",
          "new_api": null,
          "old_text": "onnect( sysTray, &QSystemTrayIcon::activated,\n             this, &MainInterface::handleSystrayClick );",
          "new_text": null,
          "old_line_content": "    connect( sysTray, &QSystemTrayIcon::activated,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 439,
          "old_api": "onnect",
          "new_api": null,
          "old_text": "onnect( THEMIM, &PlayerController::nameChanged,\n             this, &MainInterface::updateSystrayTooltipName );",
          "new_text": null,
          "old_line_content": "    connect( THEMIM, &PlayerController::nameChanged,",
          "new_line_content": "    /* Connects on nameChanged() */",
          "content_same": false
        },
        {
          "line": 442,
          "old_api": "onnect",
          "new_api": null,
          "old_text": "onnect( THEMIM, &PlayerController::playingStateChanged,\n             this, &MainInterface::updateSystrayTooltipStatus );",
          "new_text": null,
          "old_line_content": "    connect( THEMIM, &PlayerController::playingStateChanged,",
          "new_line_content": "    /* Connect PLAY_STATUS on the systray */",
          "content_same": false
        },
        {
          "line": 453,
          "old_api": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "new_api": null,
          "old_text": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "new_text": null,
          "old_line_content": "        VLCMenuBar::updateSystrayMenu( this, p_intf );",
          "new_line_content": "    if( sysTray )",
          "content_same": false
        },
        {
          "line": 460,
          "old_api": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "new_api": null,
          "old_text": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "new_text": null,
          "old_line_content": "    VLCMenuBar::updateSystrayMenu( this, p_intf );",
          "new_line_content": "    emit setInterfaceVisibible(true);",
          "content_same": false
        },
        {
          "line": 467,
          "old_api": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "new_api": null,
          "old_text": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "new_text": null,
          "old_line_content": "    VLCMenuBar::updateSystrayMenu( this, p_intf );",
          "new_line_content": "    emit setInterfaceVisibible(false);",
          "content_same": false
        },
        {
          "line": 479,
          "old_api": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "new_api": null,
          "old_text": "LCMenuBar::updateSystrayMenu( this, p_intf );",
          "new_text": null,
          "old_line_content": "            VLCMenuBar::updateSystrayMenu( this, p_intf );",
          "new_line_content": "#ifdef Q_OS_MAC",
          "content_same": false
        },
        {
          "line": 481,
          "old_api": "oggleUpdateSystrayMenu",
          "new_api": null,
          "old_text": "oggleUpdateSystrayMenu();",
          "new_text": null,
          "old_line_content": "            toggleUpdateSystrayMenu();",
          "new_line_content": "#else",
          "content_same": false
        },
        {
          "line": 485,
          "old_api": "tr",
          "new_api": null,
          "old_text": "tr( \"VLC media player\" ),",
          "new_text": null,
          "old_line_content": "            sysTray->showMessage( qtr( \"VLC media player\" ),",
          "new_line_content": "        case QSystemTrayIcon::MiddleClick:",
          "content_same": false
        },
        {
          "line": 500,
          "old_api": "isEmpty",
          "new_api": null,
          "old_text": "ame.isEmpty() ",
          "new_text": null,
          "old_line_content": "    if( name.isEmpty() )",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 502,
          "old_api": "tr",
          "new_api": null,
          "old_text": "tr( \"VLC media player\" ) ",
          "new_text": null,
          "old_line_content": "        sysTray->setToolTip( qtr( \"VLC media player\" ) );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 506,
          "old_api": "setToolTip",
          "new_api": null,
          "old_text": "ysTray->setToolTip( name );",
          "new_text": null,
          "old_line_content": "        sysTray->setToolTip( name );",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 508,
          "old_api": "sHidden",
          "new_api": null,
          "old_text": "sHidden())",
          "new_text": null,
          "old_line_content": "            ( i_notificationSetting == NOTIFICATION_MINIMIZED && (isMinimized() || isHidden()) ) )",
          "new_line_content": "        if( ( i_notificationSetting == NOTIFICATION_ALWAYS ) ||",
          "content_same": false
        },
        {
          "line": 510,
          "old_api": "tr",
          "new_api": null,
          "old_text": "tr( \"VLC media player\" ),",
          "new_text": null,
          "old_line_content": "            sysTray->showMessage( qtr( \"VLC media player\" ), name,",
          "new_line_content": "        {",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 16,
      "total_additions": 90,
      "total_deletions": 90,
      "total_api_changes": 196
    },
    "non_api_changes": {
      "has_non_api_changes": false,
      "evidence": {
        "total_diff_lines": 2,
        "api_related_lines": 196,
        "non_api_lines": 0,
        "non_api_line_numbers": []
      }
    },
    "api_calls_before": 171,
    "api_calls_after": 171,
    "diff_info": {
      "added_lines": 2,
      "removed_lines": 1,
      "total_diff_lines": 15
    }
  }
}