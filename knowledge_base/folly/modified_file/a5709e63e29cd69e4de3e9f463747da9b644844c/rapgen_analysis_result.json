{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/folly/modified_file/a5709e63e29cd69e4de3e9f463747da9b644844c",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/folly/modified_file/a5709e63e29cd69e4de3e9f463747da9b644844c/before.h",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/folly/modified_file/a5709e63e29cd69e4de3e9f463747da9b644844c/after.h",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/folly/modified_file/a5709e63e29cd69e4de3e9f463747da9b644844c/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 1151,
          "old_api": "size_type",
          "new_api": "capacity",
          "old_text": "size_type(1)",
          "new_text": "capacity()",
          "old_line_content": "    return empty() ? std::max(64 / sizeof(T), size_type(1))",
          "new_line_content": "    if (capacity() == 0) {",
          "content_same": false
        },
        {
          "line": 1152,
          "old_api": "capacity",
          "new_api": "size_type",
          "old_text": "capacity()",
          "new_text": "size_type(1)",
          "old_line_content": "      : capacity() < folly::jemallocMinInPlaceExpandable / sizeof(T)",
          "new_line_content": "      return std::max(64 / sizeof(T), size_type(1));",
          "content_same": false
        },
        {
          "line": 1177,
          "old_api": "end",
          "new_api": "assert",
          "old_text": "end()",
          "new_text": "assert(first <= last)",
          "old_line_content": "      if (last == end()) {",
          "new_line_content": "    assert(first <= last);",
          "content_same": false
        },
        {
          "line": 1183,
          "old_api": "cend",
          "new_api": "D_destroy_range_a",
          "old_text": "cend()",
          "new_text": "D_destroy_range_a((iterator)first, (iterator)last)",
          "old_line_content": "            std::memcpy((iterator)first, last, (cend() - last) * sizeof(T));",
          "new_line_content": "          D_destroy_range_a((iterator)first, (iterator)last);",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": "std::distance(first, last)",
          "new_api": "std::make_move_iterator((iterator)last)",
          "old_text": "std::distance(first, last)",
          "new_text": "std::make_move_iterator((iterator)last)",
          "old_line_content": "          auto newEnd = impl_.e_ - std::distance(first, last);",
          "new_line_content": "          std::copy(std::make_move_iterator((iterator)last),",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": "M_destroy_range_e",
          "new_api": "end",
          "old_text": "M_destroy_range_e(newEnd)",
          "new_text": "end()",
          "old_line_content": "          M_destroy_range_e(newEnd);",
          "new_line_content": "                    std::make_move_iterator(end()), (iterator)first);",
          "content_same": false
        },
        {
          "line": 1272,
          "old_api": "assert",
          "new_api": "isValid",
          "old_text": "assert(n != 0)",
          "new_text": "isValid(position)",
          "old_line_content": "    assert(n != 0);",
          "new_line_content": "    assert(isValid(position));",
          "content_same": false
        },
        {
          "line": 1288,
          "old_api": "std::make_move_iterator(position)",
          "new_api": "D_uninitialized_move_a",
          "old_text": "std::make_move_iterator(position)",
          "new_text": "D_uninitialized_move_a(impl_.e_, impl_.e_ - n, impl_.e_)",
          "old_line_content": "          std::copy_backward(std::make_move_iterator(position),",
          "new_line_content": "        D_uninitialized_move_a(impl_.e_, impl_.e_ - n, impl_.e_);",
          "content_same": false
        },
        {
          "line": 1291,
          "old_api": "D_destroy_range_a",
          "new_api": "std::make_move_iterator(impl_.e_ - n)",
          "old_text": "D_destroy_range_a(impl_.e_ - n, impl_.e_ + n)",
          "new_text": "std::make_move_iterator(impl_.e_ - n)",
          "old_line_content": "          D_destroy_range_a(impl_.e_ - n, impl_.e_ + n);",
          "new_line_content": "                             std::make_move_iterator(impl_.e_ - n), impl_.e_);",
          "content_same": false
        },
        {
          "line": 1313,
          "old_api": "relocate_move",
          "new_api": "assert",
          "old_text": "relocate_move(ledge, impl_.b_, impl_.b_ + idx)",
          "new_text": "assert(n != 0)",
          "old_line_content": "    relocate_move(ledge, impl_.b_, impl_.b_ + idx);",
          "new_line_content": "    assert(n != 0);",
          "content_same": false
        },
        {
          "line": 1317,
          "old_api": "relocate_undo",
          "new_api": "relocate_move",
          "old_text": "relocate_undo(ledge, impl_.b_, impl_.b_ + idx)",
          "new_text": "relocate_move(ledge + idx + n, impl_.b_ + idx, impl_.e_)",
          "old_line_content": "      relocate_undo(ledge, impl_.b_, impl_.b_ + idx);",
          "new_line_content": "      relocate_move(ledge + idx + n, impl_.b_ + idx, impl_.e_);",
          "content_same": false
        },
        {
          "line": 1330,
          "old_api": "size",
          "new_api": "cend",
          "old_text": "size()",
          "new_text": "cend()",
          "old_line_content": "      if (reserve_in_place(size() + n)) return false;",
          "new_line_content": "    if (cposition == cend()) {",
          "content_same": false
        },
        {
          "line": 1401,
          "old_api": "FOLLY_FBVECTOR_INSERT_TRY",
          "new_api": "FOLLY_FBVECTOR_INSERT_START",
          "old_text": "FOLLY_FBVECTOR_INSERT_TRY(cpos, 1)",
          "new_text": "FOLLY_FBVECTOR_INSERT_START(cpos, 1)",
          "old_line_content": "    FOLLY_FBVECTOR_INSERT_TRY(cpos, 1)",
          "new_line_content": "    FOLLY_FBVECTOR_INSERT_START(cpos, 1)",
          "content_same": false
        },
        {
          "line": 1402,
          "old_api": "M_destroy",
          "new_api": "std::forward<Args>(args)",
          "old_text": "M_destroy(start)",
          "new_text": "std::forward<Args>(args)",
          "old_line_content": "      M_destroy(start);",
          "new_line_content": "      M_construct(start, std::forward<Args>(args)...);",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": "FOLLY_FBVECTOR_INSERT_END",
          "new_api": "FOLLY_FBVECTOR_INSERT_TRY",
          "old_text": "FOLLY_FBVECTOR_INSERT_END(cpos, 1)",
          "new_text": "FOLLY_FBVECTOR_INSERT_TRY(cpos, 1)",
          "old_line_content": "    FOLLY_FBVECTOR_INSERT_END(cpos, 1)",
          "new_line_content": "    FOLLY_FBVECTOR_INSERT_TRY(cpos, 1)",
          "content_same": false
        },
        {
          "line": 1409,
          "old_api": "FOLLY_FBVECTOR_INSERT_START",
          "new_api": "T",
          "old_text": "FOLLY_FBVECTOR_INSERT_START(cpos, 1)",
          "new_text": "T(value)",
          "old_line_content": "    FOLLY_FBVECTOR_INSERT_START(cpos, 1)",
          "new_line_content": "    if (dataIsInternal(value)) return insert(cpos, T(value));",
          "content_same": false
        },
        {
          "line": 1411,
          "old_api": "FOLLY_FBVECTOR_INSERT_TRY",
          "new_api": "FOLLY_FBVECTOR_INSERT_START",
          "old_text": "FOLLY_FBVECTOR_INSERT_TRY(cpos, 1)",
          "new_text": "FOLLY_FBVECTOR_INSERT_START(cpos, 1)",
          "old_line_content": "    FOLLY_FBVECTOR_INSERT_TRY(cpos, 1)",
          "new_line_content": "    FOLLY_FBVECTOR_INSERT_START(cpos, 1)",
          "content_same": false
        },
        {
          "line": 1412,
          "old_api": "M_destroy",
          "new_api": "M_construct",
          "old_text": "M_destroy(start)",
          "new_text": "M_construct(start, value)",
          "old_line_content": "      M_destroy(start);",
          "new_line_content": "      M_construct(start, value);",
          "content_same": false
        },
        {
          "line": 1413,
          "old_api": "FOLLY_FBVECTOR_INSERT_END",
          "new_api": "FOLLY_FBVECTOR_INSERT_TRY",
          "old_text": "FOLLY_FBVECTOR_INSERT_END(cpos, 1)",
          "new_text": "FOLLY_FBVECTOR_INSERT_TRY(cpos, 1)",
          "old_line_content": "    FOLLY_FBVECTOR_INSERT_END(cpos, 1)",
          "new_line_content": "    FOLLY_FBVECTOR_INSERT_TRY(cpos, 1)",
          "content_same": false
        },
        {
          "line": 1419,
          "old_api": "FOLLY_FBVECTOR_INSERT_START",
          "new_api": "std::move(value)",
          "old_text": "FOLLY_FBVECTOR_INSERT_START(cpos, 1)",
          "new_text": "std::move(value)",
          "old_line_content": "    FOLLY_FBVECTOR_INSERT_START(cpos, 1)",
          "new_line_content": "    if (dataIsInternal(value)) return insert(cpos, T(std::move(value)));",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": "FOLLY_FBVECTOR_INSERT_TRY",
          "new_api": "FOLLY_FBVECTOR_INSERT_START",
          "old_text": "FOLLY_FBVECTOR_INSERT_TRY(cpos, 1)",
          "new_text": "FOLLY_FBVECTOR_INSERT_START(cpos, 1)",
          "old_line_content": "    FOLLY_FBVECTOR_INSERT_TRY(cpos, 1)",
          "new_line_content": "    FOLLY_FBVECTOR_INSERT_START(cpos, 1)",
          "content_same": false
        },
        {
          "line": 1422,
          "old_api": "M_destroy",
          "new_api": "std::move(value)",
          "old_text": "M_destroy(start)",
          "new_text": "std::move(value)",
          "old_line_content": "      M_destroy(start);",
          "new_line_content": "      M_construct(start, std::move(value));",
          "content_same": false
        },
        {
          "line": 1423,
          "old_api": "FOLLY_FBVECTOR_INSERT_END",
          "new_api": "FOLLY_FBVECTOR_INSERT_TRY",
          "old_text": "FOLLY_FBVECTOR_INSERT_END(cpos, 1)",
          "new_text": "FOLLY_FBVECTOR_INSERT_TRY(cpos, 1)",
          "old_line_content": "    FOLLY_FBVECTOR_INSERT_END(cpos, 1)",
          "new_line_content": "    FOLLY_FBVECTOR_INSERT_TRY(cpos, 1)",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": "FOLLY_FBVECTOR_INSERT_START",
          "new_api": "T",
          "old_text": "FOLLY_FBVECTOR_INSERT_START(cpos, n)",
          "new_text": "T(value)",
          "old_line_content": "    FOLLY_FBVECTOR_INSERT_START(cpos, n)",
          "new_line_content": "    if (dataIsInternalAndNotVT(value)) return insert(cpos, n, T(value));",
          "content_same": false
        },
        {
          "line": 1432,
          "old_api": "FOLLY_FBVECTOR_INSERT_TRY",
          "new_api": "FOLLY_FBVECTOR_INSERT_START",
          "old_text": "FOLLY_FBVECTOR_INSERT_TRY(cpos, n)",
          "new_text": "FOLLY_FBVECTOR_INSERT_START(cpos, n)",
          "old_line_content": "    FOLLY_FBVECTOR_INSERT_TRY(cpos, n)",
          "new_line_content": "    FOLLY_FBVECTOR_INSERT_START(cpos, n)",
          "content_same": false
        },
        {
          "line": 1433,
          "old_api": "D_destroy_range_a",
          "new_api": "D_uninitialized_fill_n_a",
          "old_text": "D_destroy_range_a(start, start + n)",
          "new_text": "D_uninitialized_fill_n_a(start, n, value)",
          "old_line_content": "      D_destroy_range_a(start, start + n);",
          "new_line_content": "      D_uninitialized_fill_n_a(start, n, value);",
          "content_same": false
        },
        {
          "line": 1434,
          "old_api": "FOLLY_FBVECTOR_INSERT_END",
          "new_api": "FOLLY_FBVECTOR_INSERT_TRY",
          "old_text": "FOLLY_FBVECTOR_INSERT_END(cpos, n)",
          "new_text": "FOLLY_FBVECTOR_INSERT_TRY(cpos, n)",
          "old_line_content": "    FOLLY_FBVECTOR_INSERT_END(cpos, n)",
          "new_line_content": "    FOLLY_FBVECTOR_INSERT_TRY(cpos, n)",
          "content_same": false
        },
        {
          "line": 1459,
          "old_api": "FOLLY_FBVECTOR_INSERT_TRY",
          "new_api": "FOLLY_FBVECTOR_INSERT_START",
          "old_text": "FOLLY_FBVECTOR_INSERT_TRY(cpos, n)",
          "new_text": "FOLLY_FBVECTOR_INSERT_START(cpos, n)",
          "old_line_content": "    FOLLY_FBVECTOR_INSERT_TRY(cpos, n)",
          "new_line_content": "    FOLLY_FBVECTOR_INSERT_START(cpos, n)",
          "content_same": false
        },
        {
          "line": 1460,
          "old_api": "D_destroy_range_a",
          "new_api": "D_uninitialized_copy_a",
          "old_text": "D_destroy_range_a(start, start + n)",
          "new_text": "D_uninitialized_copy_a(start, first, last)",
          "old_line_content": "      D_destroy_range_a(start, start + n);",
          "new_line_content": "      D_uninitialized_copy_a(start, first, last);",
          "content_same": false
        },
        {
          "line": 1461,
          "old_api": "FOLLY_FBVECTOR_INSERT_END",
          "new_api": "FOLLY_FBVECTOR_INSERT_TRY",
          "old_text": "FOLLY_FBVECTOR_INSERT_END(cpos, n)",
          "new_text": "FOLLY_FBVECTOR_INSERT_TRY(cpos, n)",
          "old_line_content": "    FOLLY_FBVECTOR_INSERT_END(cpos, n)",
          "new_line_content": "    FOLLY_FBVECTOR_INSERT_TRY(cpos, n)",
          "content_same": false
        },
        {
          "line": 1469,
          "old_api": "begin",
          "new_api": "const_cast<T*>(cpos)",
          "old_text": "begin()",
          "new_text": "const_cast<T*>(cpos)",
          "old_line_content": "    size_type idx = std::distance(begin(), position);",
          "new_line_content": "    T* position = const_cast<T*>(cpos);",
          "content_same": false
        },
        {
          "line": 1476,
          "old_api": "begin",
          "new_api": "M_destroy_range_e",
          "old_text": "storage.begin()",
          "new_text": "M_destroy_range_e(position)",
          "old_line_content": "    insert(cend(), std::make_move_iterator(storage.begin()),",
          "new_line_content": "    M_destroy_range_e(position);",
          "content_same": false
        },
        {
          "line": 1477,
          "old_api": "end",
          "new_api": "emplace_back",
          "old_text": "storage.end()",
          "new_text": "emplace_back(*first)",
          "old_line_content": "           std::make_move_iterator(storage.end()));",
          "new_line_content": "    for (; first != last; ++first) emplace_back(*first);",
          "content_same": false
        },
        {
          "line": 1519,
          "old_api": "usingJEMalloc",
          "new_api": "computePushBackCapacity",
          "old_text": "usingJEMalloc()",
          "new_text": "computePushBackCapacity()",
          "old_line_content": "      && usingJEMalloc()",
          "new_line_content": "    computePushBackCapacity() * sizeof(T));",
          "content_same": false
        },
        {
          "line": 1540,
          "old_api": "std::forward<Args>(args)",
          "new_api": "xallocx",
          "old_text": "std::forward<Args>(args)",
          "new_text": "xallocx(p, lower, extra, 0)",
          "old_line_content": "      M_construct(impl_.e_, std::forward<Args>(args)...);",
          "new_line_content": "    if ((actual = xallocx(p, lower, extra, 0)) >= lower) {",
          "content_same": false
        },
        {
          "line": 1566,
          "old_api": "M_destroy",
          "new_api": "M_relocate",
          "old_text": "M_destroy(newE - 1)",
          "new_text": "M_relocate(newB)",
          "old_line_content": "        M_destroy(newE - 1);",
          "new_line_content": "        M_relocate(newB);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1280,
          "old_api": null,
          "new_api": "relocate_move",
          "old_text": null,
          "new_text": "relocate_move(position + n, position, impl_.e_)",
          "old_line_content": "      impl_.e_ += n;",
          "new_line_content": "      relocate_move(position + n, position, impl_.e_);",
          "content_same": false
        },
        {
          "line": 1281,
          "old_api": null,
          "new_api": "relocate_done",
          "old_text": null,
          "new_text": "relocate_done(position + n, position, impl_.e_)",
          "old_line_content": "    } else {",
          "new_line_content": "      relocate_done(position + n, position, impl_.e_);",
          "content_same": false
        },
        {
          "line": 1155,
          "old_api": null,
          "new_api": "capacity",
          "old_text": null,
          "new_text": "capacity()",
          "old_line_content": "      ? 2",
          "new_line_content": "      return capacity() * 2;",
          "content_same": false
        },
        {
          "line": 1285,
          "old_api": null,
          "new_api": "std::memmove(position + n, position, tail * sizeof(T))",
          "old_text": null,
          "new_text": "std::memmove(position + n, position, tail * sizeof(T))",
          "old_line_content": "      } else {",
          "new_line_content": "        std::memmove(position + n, position, tail * sizeof(T));",
          "content_same": false
        },
        {
          "line": 1414,
          "old_api": null,
          "new_api": "M_destroy",
          "old_text": null,
          "new_text": "M_destroy(start)",
          "old_line_content": "  }",
          "new_line_content": "      M_destroy(start);",
          "content_same": false
        },
        {
          "line": 1415,
          "old_api": null,
          "new_api": "FOLLY_FBVECTOR_INSERT_END",
          "old_text": null,
          "new_text": "FOLLY_FBVECTOR_INSERT_END(cpos, 1)",
          "old_line_content": "",
          "new_line_content": "    FOLLY_FBVECTOR_INSERT_END(cpos, 1)",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": null,
          "new_api": "capacity",
          "old_text": null,
          "new_text": "capacity()",
          "old_line_content": "",
          "new_line_content": "    return (capacity() * 3 + 1) / 2;",
          "content_same": false
        },
        {
          "line": 1542,
          "old_api": null,
          "new_api": "std::forward<Args>(args)",
          "old_text": null,
          "new_text": "std::forward<Args>(args)",
          "old_line_content": "      return;",
          "new_line_content": "      M_construct(impl_.e_, std::forward<Args>(args)...);",
          "content_same": false
        },
        {
          "line": 1290,
          "old_api": null,
          "new_api": "std::make_move_iterator(position)",
          "old_text": null,
          "new_text": "std::make_move_iterator(position)",
          "old_line_content": "        } catch (...) {",
          "new_line_content": "          std::copy_backward(std::make_move_iterator(position),",
          "content_same": false
        },
        {
          "line": 1293,
          "old_api": null,
          "new_api": "D_destroy_range_a",
          "old_text": null,
          "new_text": "D_destroy_range_a(impl_.e_ - n, impl_.e_ + n)",
          "old_line_content": "          throw;",
          "new_line_content": "          D_destroy_range_a(impl_.e_ - n, impl_.e_ + n);",
          "content_same": false
        },
        {
          "line": 1550,
          "old_api": null,
          "new_api": "M_allocate",
          "old_text": null,
          "new_text": "M_allocate(sz)",
          "old_line_content": "  try {",
          "new_line_content": "  auto newB = M_allocate(sz);",
          "content_same": false
        },
        {
          "line": 1551,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "size()",
          "old_line_content": "    if (folly::IsRelocatable<T>::value && usingStdAllocator::value) {",
          "new_line_content": "  auto newE = newB + size();",
          "content_same": false
        },
        {
          "line": 1424,
          "old_api": null,
          "new_api": "M_destroy",
          "old_text": null,
          "new_text": "M_destroy(start)",
          "old_line_content": "  }",
          "new_line_content": "      M_destroy(start);",
          "content_same": false
        },
        {
          "line": 1425,
          "old_api": null,
          "new_api": "FOLLY_FBVECTOR_INSERT_END",
          "old_text": null,
          "new_text": "FOLLY_FBVECTOR_INSERT_END(cpos, 1)",
          "old_line_content": "",
          "new_line_content": "    FOLLY_FBVECTOR_INSERT_END(cpos, 1)",
          "content_same": false
        },
        {
          "line": 1298,
          "old_api": null,
          "new_api": "D_destroy_range_a",
          "old_text": null,
          "new_text": "D_destroy_range_a(position, position + n)",
          "old_line_content": "    }",
          "new_line_content": "        D_destroy_range_a(position, position + n);",
          "content_same": false
        },
        {
          "line": 1172,
          "old_api": null,
          "new_api": "erase",
          "old_text": null,
          "new_text": "erase(position, position + 1)",
          "old_line_content": "",
          "new_line_content": "    return erase(position, position + 1);",
          "content_same": false
        },
        {
          "line": 1559,
          "old_api": null,
          "new_api": "relocate_move",
          "old_text": null,
          "new_text": "relocate_move(newB, impl_.b_, impl_.e_)",
          "old_line_content": "      ++newE;",
          "new_line_content": "      relocate_move(newB, impl_.b_, impl_.e_);",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": null,
          "new_api": "isValid",
          "old_text": null,
          "new_text": "isValid(last)",
          "old_line_content": "    if (first != last) {",
          "new_line_content": "    assert(isValid(first) && isValid(last));",
          "content_same": false
        },
        {
          "line": 1304,
          "old_api": null,
          "new_api": "D_destroy_range_a",
          "old_text": null,
          "new_text": "D_destroy_range_a(position + n, impl_.e_)",
          "old_line_content": "  }",
          "new_line_content": "    D_destroy_range_a(position + n, impl_.e_);",
          "content_same": false
        },
        {
          "line": 1560,
          "old_api": null,
          "new_api": "std::forward<Args>(args)",
          "old_text": null,
          "new_text": "std::forward<Args>(args)",
          "old_line_content": "    } else {",
          "new_line_content": "      M_construct(newE, std::forward<Args>(args)...);",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "end()",
          "old_line_content": "      } else {",
          "new_line_content": "      if (last == end()) {",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": null,
          "new_api": "M_destroy_range_e",
          "old_text": null,
          "new_text": "M_destroy_range_e((iterator)first)",
          "old_line_content": "        if (folly::IsRelocatable<T>::value && usingStdAllocator::value) {",
          "new_line_content": "        M_destroy_range_e((iterator)first);",
          "content_same": false
        },
        {
          "line": 1405,
          "old_api": null,
          "new_api": "FOLLY_FBVECTOR_INSERT_END",
          "old_text": null,
          "new_text": "FOLLY_FBVECTOR_INSERT_END(cpos, 1)",
          "old_line_content": "",
          "new_line_content": "    FOLLY_FBVECTOR_INSERT_END(cpos, 1)",
          "content_same": false
        },
        {
          "line": 1435,
          "old_api": null,
          "new_api": "D_destroy_range_a",
          "old_text": null,
          "new_text": "D_destroy_range_a(start, start + n)",
          "old_line_content": "  }",
          "new_line_content": "      D_destroy_range_a(start, start + n);",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": null,
          "new_api": "FOLLY_FBVECTOR_INSERT_END",
          "old_text": null,
          "new_text": "FOLLY_FBVECTOR_INSERT_END(cpos, n)",
          "old_line_content": "",
          "new_line_content": "    FOLLY_FBVECTOR_INSERT_END(cpos, n)",
          "content_same": false
        },
        {
          "line": 1184,
          "old_api": null,
          "new_api": "cend",
          "old_text": null,
          "new_text": "cend()",
          "old_line_content": "          } else {",
          "new_line_content": "          if (last - first >= cend() - last) {",
          "content_same": false
        },
        {
          "line": 1312,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "size()",
          "old_line_content": "",
          "new_line_content": "    assert(size() >= idx);",
          "content_same": false
        },
        {
          "line": 1442,
          "old_api": null,
          "new_api": "Category",
          "old_text": null,
          "new_text": "Category()",
          "old_line_content": "",
          "new_line_content": "    return insert(cpos, first, last, Category());",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": null,
          "new_api": "cend",
          "old_text": null,
          "new_text": "cend()",
          "old_line_content": "          impl_.e_ -= (last - first);",
          "new_line_content": "            std::memmove((iterator)first, last, (cend() - last) * sizeof(T));",
          "content_same": false
        },
        {
          "line": 1533,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "size()",
          "old_line_content": "    size_type extra = upper - lower;",
          "new_line_content": "    size_type lower = folly::goodMallocSize(sizeof(T) + size() * sizeof(T));",
          "content_same": false
        },
        {
          "line": 1568,
          "old_api": null,
          "new_api": "M_destroy",
          "old_text": null,
          "new_text": "M_destroy(newE - 1)",
          "old_line_content": "      }",
          "new_line_content": "        M_destroy(newE - 1);",
          "content_same": false
        },
        {
          "line": 1446,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "il.end()",
          "old_line_content": "",
          "new_line_content": "    return insert(cpos, il.begin(), il.end());",
          "content_same": false
        },
        {
          "line": 1319,
          "old_api": null,
          "new_api": "relocate_undo",
          "old_text": null,
          "new_text": "relocate_undo(ledge, impl_.b_, impl_.b_ + idx)",
          "old_line_content": "    }",
          "new_line_content": "      relocate_undo(ledge, impl_.b_, impl_.b_ + idx);",
          "content_same": false
        },
        {
          "line": 1573,
          "old_api": null,
          "new_api": "M_deallocate",
          "old_text": null,
          "new_text": "M_deallocate(newB, sz)",
          "old_line_content": "  }",
          "new_line_content": "    M_deallocate(newB, sz);",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": null,
          "new_api": "std::distance(first, last)",
          "old_text": null,
          "new_text": "std::distance(first, last)",
          "old_line_content": "        }",
          "new_line_content": "          auto newEnd = impl_.e_ - std::distance(first, last);",
          "content_same": false
        },
        {
          "line": 1194,
          "old_api": null,
          "new_api": "M_destroy_range_e",
          "old_text": null,
          "new_text": "M_destroy_range_e(newEnd)",
          "old_line_content": "      }",
          "new_line_content": "          M_destroy_range_e(newEnd);",
          "content_same": false
        },
        {
          "line": 1322,
          "old_api": null,
          "new_api": "relocate_done",
          "old_text": null,
          "new_text": "relocate_done(ledge, impl_.b_, impl_.b_ + idx)",
          "old_line_content": "  }",
          "new_line_content": "    relocate_done(ledge, impl_.b_, impl_.b_ + idx);",
          "content_same": false
        },
        {
          "line": 1323,
          "old_api": null,
          "new_api": "relocate_done",
          "old_text": null,
          "new_text": "relocate_done(ledge + idx + n, impl_.b_ + idx, impl_.e_)",
          "old_line_content": "",
          "new_line_content": "    relocate_done(ledge + idx + n, impl_.b_ + idx, impl_.e_);",
          "content_same": false
        },
        {
          "line": 1576,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "size()",
          "old_line_content": "  impl_.e_ = newE;",
          "new_line_content": "  if (impl_.b_) M_deallocate(impl_.b_, size());",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": null,
          "new_api": "std::distance(first, last)",
          "old_text": null,
          "new_text": "std::distance(first, last)",
          "old_line_content": "",
          "new_line_content": "    size_type n = std::distance(first, last);",
          "content_same": false
        },
        {
          "line": 1331,
          "old_api": null,
          "new_api": "capacity",
          "old_text": null,
          "new_text": "capacity()",
          "old_line_content": "      return true;",
          "new_line_content": "      if (size() + n <= capacity()) return false;",
          "content_same": false
        },
        {
          "line": 1332,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "size()",
          "old_line_content": "    }",
          "new_line_content": "      if (reserve_in_place(size() + n)) return false;",
          "content_same": false
        },
        {
          "line": 1588,
          "old_api": null,
          "new_api": "swap",
          "old_text": null,
          "new_text": "lhs.swap(rhs)",
          "old_line_content": "",
          "new_line_content": "  lhs.swap(rhs);",
          "content_same": false
        },
        {
          "line": 1462,
          "old_api": null,
          "new_api": "D_destroy_range_a",
          "old_text": null,
          "new_text": "D_destroy_range_a(start, start + n)",
          "old_line_content": "  }",
          "new_line_content": "      D_destroy_range_a(start, start + n);",
          "content_same": false
        },
        {
          "line": 1207,
          "old_api": null,
          "new_api": "cend",
          "old_text": null,
          "new_text": "cend()",
          "old_line_content": "",
          "new_line_content": "    return cbegin() <= it && it <= cend();",
          "content_same": false
        },
        {
          "line": 1336,
          "old_api": null,
          "new_api": "capacity",
          "old_text": null,
          "new_text": "capacity()",
          "old_line_content": "    return false;",
          "new_line_content": "    if (size() + n > capacity()) return true;",
          "content_same": false
        },
        {
          "line": 1463,
          "old_api": null,
          "new_api": "FOLLY_FBVECTOR_INSERT_END",
          "old_text": null,
          "new_text": "FOLLY_FBVECTOR_INSERT_END(cpos, n)",
          "old_line_content": "",
          "new_line_content": "    FOLLY_FBVECTOR_INSERT_END(cpos, n)",
          "content_same": false
        },
        {
          "line": 1563,
          "old_api": null,
          "new_api": "std::forward<Args>(args)",
          "old_text": null,
          "new_text": "std::forward<Args>(args)",
          "old_line_content": "      try {",
          "new_line_content": "      M_construct(newE, std::forward<Args>(args)...);",
          "content_same": false
        },
        {
          "line": 1211,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "size()",
          "old_line_content": "    return ac;",
          "new_line_content": "    size_type nc = std::max(computePushBackCapacity(), size() + n);",
          "content_same": false
        },
        {
          "line": 1212,
          "old_api": null,
          "new_api": "folly::goodMallocSize(nc * sizeof(T))",
          "old_text": null,
          "new_text": "folly::goodMallocSize(nc * sizeof(T))",
          "old_line_content": "  }",
          "new_line_content": "    size_type ac = folly::goodMallocSize(nc * sizeof(T)) / sizeof(T);",
          "content_same": false
        },
        {
          "line": 1597,
          "old_api": null,
          "new_api": "resize",
          "old_text": null,
          "new_text": "v->resize(sz)",
          "old_line_content": "}",
          "new_line_content": "  v->resize(sz);",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": null,
          "new_api": "isValid",
          "old_text": null,
          "new_text": "isValid(position)",
          "old_line_content": "",
          "new_line_content": "    assert(isValid(position));",
          "content_same": false
        },
        {
          "line": 1471,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "begin()",
          "old_line_content": "    fbvector storage(std::make_move_iterator(position),",
          "new_line_content": "    size_type idx = std::distance(begin(), position);",
          "content_same": false
        },
        {
          "line": 1598,
          "old_api": null,
          "new_api": "shrink_to_fit",
          "old_text": null,
          "new_text": "v->shrink_to_fit()",
          "old_line_content": "",
          "new_line_content": "  v->shrink_to_fit();",
          "content_same": false
        },
        {
          "line": 1478,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "storage.begin()",
          "old_line_content": "    return impl_.b_ + idx;",
          "new_line_content": "    insert(cend(), std::make_move_iterator(storage.begin()),",
          "content_same": false
        },
        {
          "line": 1479,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "storage.end()",
          "old_line_content": "  }",
          "new_line_content": "           std::make_move_iterator(storage.end()));",
          "content_same": false
        },
        {
          "line": 1489,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "other.begin()",
          "old_line_content": "",
          "new_line_content": "    return size() == other.size() && std::equal(begin(), end(), other.begin());",
          "content_same": false
        },
        {
          "line": 1493,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "std::lexicographical_compare(\n      begin(), end(), other.begin(), other.end())",
          "old_line_content": "  }",
          "new_line_content": "    return std::lexicographical_compare(",
          "content_same": false
        },
        {
          "line": 1494,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "other.end()",
          "old_line_content": "",
          "new_line_content": "      begin(), end(), other.begin(), other.end());",
          "content_same": false
        },
        {
          "line": 1626,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "v.data()",
          "old_line_content": "  return ret;",
          "new_line_content": "  T* ret = v.data();",
          "content_same": false
        },
        {
          "line": 1633,
          "old_api": null,
          "new_api": "data",
          "old_text": null,
          "new_text": "v.data()",
          "old_line_content": "  v.impl_.e_ = data + sz;",
          "new_line_content": "  assert(v.data() == nullptr);",
          "content_same": false
        },
        {
          "line": 1518,
          "old_api": null,
          "new_api": "folly::goodMallocSize(\n    computePushBackCapacity() * sizeof(T))",
          "old_text": null,
          "new_text": "folly::goodMallocSize(\n    computePushBackCapacity() * sizeof(T))",
          "old_line_content": "  if (usingStdAllocator::value",
          "new_line_content": "  size_type byte_sz = folly::goodMallocSize(",
          "content_same": false
        },
        {
          "line": 1521,
          "old_api": null,
          "new_api": "usingJEMalloc",
          "old_text": null,
          "new_text": "usingJEMalloc()",
          "old_line_content": "          folly::jemallocMinInPlaceExpandable)) {",
          "new_line_content": "      && usingJEMalloc()",
          "content_same": false
        },
        {
          "line": 1273,
          "old_api": null,
          "new_api": "capacity",
          "old_text": null,
          "new_text": "capacity()",
          "old_line_content": "",
          "new_line_content": "    assert(size() + n <= capacity());",
          "content_same": false
        },
        {
          "line": 1274,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(n != 0)",
          "old_line_content": "    // The result is guaranteed to be non-negative, so use an unsigned type:",
          "new_line_content": "    assert(n != 0);",
          "content_same": false
        },
        {
          "line": 1404,
          "old_api": null,
          "new_api": "M_destroy",
          "old_text": null,
          "new_text": "M_destroy(start)",
          "old_line_content": "  }",
          "new_line_content": "      M_destroy(start);",
          "content_same": false
        },
        {
          "line": 1277,
          "old_api": null,
          "new_api": "std::distance(position, impl_.e_)",
          "old_text": null,
          "new_text": "std::distance(position, impl_.e_)",
          "old_line_content": "    if (tail <= n) {",
          "new_line_content": "    size_type tail = std::distance(position, impl_.e_);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1153,
          "old_api": "capacity",
          "new_api": null,
          "old_text": "capacity()",
          "new_text": null,
          "old_line_content": "      ? capacity() * 2",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": "M_construct",
          "new_api": null,
          "old_text": "M_construct(start, value)",
          "new_text": null,
          "old_line_content": "      M_construct(start, value);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1283,
          "old_api": "std::memmove(position + n, position, tail * sizeof(T))",
          "new_api": null,
          "old_text": "std::memmove(position + n, position, tail * sizeof(T))",
          "new_text": null,
          "old_line_content": "        std::memmove(position + n, position, tail * sizeof(T));",
          "new_line_content": "    } else {",
          "content_same": false
        },
        {
          "line": 1156,
          "old_api": "capacity",
          "new_api": null,
          "old_text": "capacity()",
          "new_text": null,
          "old_line_content": "      : capacity() > 4096 * 32 / sizeof(T)",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1538,
          "old_api": "xallocx",
          "new_api": null,
          "old_text": "xallocx(p, lower, extra, 0)",
          "new_text": null,
          "old_line_content": "    if ((actual = xallocx(p, lower, extra, 0)) >= lower) {",
          "new_line_content": "    size_t actual;",
          "content_same": false
        },
        {
          "line": 1286,
          "old_api": "D_uninitialized_move_a",
          "new_api": null,
          "old_text": "D_uninitialized_move_a(impl_.e_, impl_.e_ - n, impl_.e_)",
          "new_text": null,
          "old_line_content": "        D_uninitialized_move_a(impl_.e_, impl_.e_ - n, impl_.e_);",
          "new_line_content": "        impl_.e_ += n;",
          "content_same": false
        },
        {
          "line": 1289,
          "old_api": "std::make_move_iterator(impl_.e_ - n)",
          "new_api": null,
          "old_text": "std::make_move_iterator(impl_.e_ - n)",
          "new_text": null,
          "old_line_content": "                             std::make_move_iterator(impl_.e_ - n), impl_.e_);",
          "new_line_content": "        try {",
          "content_same": false
        },
        {
          "line": 1417,
          "old_api": "std::move(value)",
          "new_api": null,
          "old_text": "std::move(value)",
          "new_text": null,
          "old_line_content": "    if (dataIsInternal(value)) return insert(cpos, T(std::move(value)));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1420,
          "old_api": "std::move(value)",
          "new_api": null,
          "old_text": "std::move(value)",
          "new_text": null,
          "old_line_content": "      M_construct(start, std::move(value));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1548,
          "old_api": "M_allocate",
          "new_api": null,
          "old_text": "M_allocate(sz)",
          "new_text": null,
          "old_line_content": "  auto newB = M_allocate(sz);",
          "new_line_content": "  // Reallocation failed. Perform a manual relocation.",
          "content_same": false
        },
        {
          "line": 1549,
          "old_api": "size",
          "new_api": null,
          "old_text": "size()",
          "new_text": null,
          "old_line_content": "  auto newE = newB + size();",
          "new_line_content": "  size_type sz = byte_sz / sizeof(T);",
          "content_same": false
        },
        {
          "line": 1296,
          "old_api": "D_destroy_range_a",
          "new_api": null,
          "old_text": "D_destroy_range_a(position, position + n)",
          "new_text": null,
          "old_line_content": "        D_destroy_range_a(position, position + n);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1170,
          "old_api": "erase",
          "new_api": null,
          "old_text": "erase(position, position + 1)",
          "new_text": null,
          "old_line_content": "    return erase(position, position + 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1428,
          "old_api": "T",
          "new_api": null,
          "old_text": "T(value)",
          "new_text": null,
          "old_line_content": "    if (dataIsInternalAndNotVT(value)) return insert(cpos, n, T(value));",
          "new_line_content": "  iterator insert(const_iterator cpos, size_type n, VT value) {",
          "content_same": false
        },
        {
          "line": 1557,
          "old_api": "relocate_move",
          "new_api": null,
          "old_text": "relocate_move(newB, impl_.b_, impl_.e_)",
          "new_text": null,
          "old_line_content": "      relocate_move(newB, impl_.b_, impl_.e_);",
          "new_line_content": "      //  one of the beauties of relocation.",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": "isValid",
          "new_api": null,
          "old_text": "isValid(last)",
          "new_text": null,
          "old_line_content": "    assert(isValid(first) && isValid(last));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(first <= last)",
          "new_text": null,
          "old_line_content": "    assert(first <= last);",
          "new_line_content": "  iterator erase(const_iterator first, const_iterator last) {",
          "content_same": false
        },
        {
          "line": 1302,
          "old_api": "D_destroy_range_a",
          "new_api": null,
          "old_text": "D_destroy_range_a(position + n, impl_.e_)",
          "new_text": null,
          "old_line_content": "    D_destroy_range_a(position + n, impl_.e_);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1431,
          "old_api": "D_uninitialized_fill_n_a",
          "new_api": null,
          "old_text": "D_uninitialized_fill_n_a(start, n, value)",
          "new_text": null,
          "old_line_content": "      D_uninitialized_fill_n_a(start, n, value);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": "M_destroy_range_e",
          "new_api": null,
          "old_text": "M_destroy_range_e((iterator)first)",
          "new_text": null,
          "old_line_content": "        M_destroy_range_e((iterator)first);",
          "new_line_content": "    if (first != last) {",
          "content_same": false
        },
        {
          "line": 1531,
          "old_api": "size",
          "new_api": null,
          "old_text": "size()",
          "new_text": null,
          "old_line_content": "    size_type lower = folly::goodMallocSize(sizeof(T) + size() * sizeof(T));",
          "new_line_content": "    //  amount unless we cannot expand further. Hence we will not reallocate",
          "content_same": false
        },
        {
          "line": 1558,
          "old_api": "std::forward<Args>(args)",
          "new_api": null,
          "old_text": "std::forward<Args>(args)",
          "new_text": null,
          "old_line_content": "      M_construct(newE, std::forward<Args>(args)...);",
          "new_line_content": "      // Benchmarks for this code have high variance, and seem to be close.",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": "D_destroy_range_a",
          "new_api": null,
          "old_text": "D_destroy_range_a((iterator)first, (iterator)last)",
          "new_text": null,
          "old_line_content": "          D_destroy_range_a((iterator)first, (iterator)last);",
          "new_line_content": "      } else {",
          "content_same": false
        },
        {
          "line": 1182,
          "old_api": "cend",
          "new_api": null,
          "old_text": "cend()",
          "new_text": null,
          "old_line_content": "          if (last - first >= cend() - last) {",
          "new_line_content": "        if (folly::IsRelocatable<T>::value && usingStdAllocator::value) {",
          "content_same": false
        },
        {
          "line": 1310,
          "old_api": "size",
          "new_api": null,
          "old_text": "size()",
          "new_text": null,
          "old_line_content": "    assert(size() >= idx);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1311,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(n != 0)",
          "new_text": null,
          "old_line_content": "    assert(n != 0);",
          "new_line_content": "  void wrap_frame(T* ledge, size_type idx, size_type n) {",
          "content_same": false
        },
        {
          "line": 1440,
          "old_api": "Category",
          "new_api": null,
          "old_text": "Category()",
          "new_text": null,
          "old_line_content": "    return insert(cpos, first, last, Category());",
          "new_line_content": "            std::iterator_traits<It>::iterator_category>",
          "content_same": false
        },
        {
          "line": 1561,
          "old_api": "std::forward<Args>(args)",
          "new_api": null,
          "old_text": "std::forward<Args>(args)",
          "new_text": null,
          "old_line_content": "      M_construct(newE, std::forward<Args>(args)...);",
          "new_line_content": "      ++newE;",
          "content_same": false
        },
        {
          "line": 1564,
          "old_api": "M_relocate",
          "new_api": null,
          "old_text": "M_relocate(newB)",
          "new_text": null,
          "old_line_content": "        M_relocate(newB);",
          "new_line_content": "      ++newE;",
          "content_same": false
        },
        {
          "line": 1444,
          "old_api": "end",
          "new_api": null,
          "old_text": "il.end()",
          "new_text": null,
          "old_line_content": "    return insert(cpos, il.begin(), il.end());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1189,
          "old_api": "std::make_move_iterator((iterator)last)",
          "new_api": null,
          "old_text": "std::make_move_iterator((iterator)last)",
          "new_text": null,
          "old_line_content": "          std::copy(std::make_move_iterator((iterator)last),",
          "new_line_content": "          impl_.e_ -= (last - first);",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": "end",
          "new_api": null,
          "old_text": "end()",
          "new_text": null,
          "old_line_content": "                    std::make_move_iterator(end()), (iterator)first);",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 1407,
          "old_api": "T",
          "new_api": null,
          "old_text": "T(value)",
          "new_text": null,
          "old_line_content": "    if (dataIsInternal(value)) return insert(cpos, T(value));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1320,
          "old_api": "relocate_done",
          "new_api": null,
          "old_text": "relocate_done(ledge, impl_.b_, impl_.b_ + idx)",
          "new_text": null,
          "old_line_content": "    relocate_done(ledge, impl_.b_, impl_.b_ + idx);",
          "new_line_content": "      throw;",
          "content_same": false
        },
        {
          "line": 1321,
          "old_api": "relocate_done",
          "new_api": null,
          "old_text": "relocate_done(ledge + idx + n, impl_.b_ + idx, impl_.e_)",
          "new_text": null,
          "old_line_content": "    relocate_done(ledge + idx + n, impl_.b_ + idx, impl_.e_);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1571,
          "old_api": "M_deallocate",
          "new_api": null,
          "old_text": "M_deallocate(newB, sz)",
          "new_text": null,
          "old_line_content": "    M_deallocate(newB, sz);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1574,
          "old_api": "size",
          "new_api": null,
          "old_text": "size()",
          "new_text": null,
          "old_line_content": "  if (impl_.b_) M_deallocate(impl_.b_, size());",
          "new_line_content": "    throw;",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": "std::distance(first, last)",
          "new_api": null,
          "old_text": "std::distance(first, last)",
          "new_text": null,
          "old_line_content": "    size_type n = std::distance(first, last);",
          "new_line_content": "  iterator insert(const_iterator cpos, FIt first, FIt last,",
          "content_same": false
        },
        {
          "line": 1328,
          "old_api": "cend",
          "new_api": null,
          "old_text": "cend()",
          "new_text": null,
          "old_line_content": "    if (cposition == cend()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1329,
          "old_api": "capacity",
          "new_api": null,
          "old_text": "capacity()",
          "new_text": null,
          "old_line_content": "      if (size() + n <= capacity()) return false;",
          "new_line_content": "  bool insert_use_fresh(const_iterator cposition, size_type n) {",
          "content_same": false
        },
        {
          "line": 1457,
          "old_api": "FOLLY_FBVECTOR_INSERT_START",
          "new_api": null,
          "old_text": "FOLLY_FBVECTOR_INSERT_START(cpos, n)",
          "new_text": null,
          "old_line_content": "    FOLLY_FBVECTOR_INSERT_START(cpos, n)",
          "new_line_content": "    if (n == 0) return (iterator)cpos;",
          "content_same": false
        },
        {
          "line": 1458,
          "old_api": "D_uninitialized_copy_a",
          "new_api": null,
          "old_text": "D_uninitialized_copy_a(start, first, last)",
          "new_text": null,
          "old_line_content": "      D_uninitialized_copy_a(start, first, last);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1586,
          "old_api": "swap",
          "new_api": null,
          "old_text": "lhs.swap(rhs)",
          "new_text": null,
          "old_line_content": "  lhs.swap(rhs);",
          "new_line_content": "template <class T, class A>",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": "cend",
          "new_api": null,
          "old_text": "cend()",
          "new_text": null,
          "old_line_content": "    return cbegin() <= it && it <= cend();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1334,
          "old_api": "capacity",
          "new_api": null,
          "old_text": "capacity()",
          "new_text": null,
          "old_line_content": "    if (size() + n > capacity()) return true;",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1209,
          "old_api": "size",
          "new_api": null,
          "old_text": "size()",
          "new_text": null,
          "old_line_content": "    size_type nc = std::max(computePushBackCapacity(), size() + n);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1210,
          "old_api": "folly::goodMallocSize(nc * sizeof(T))",
          "new_api": null,
          "old_text": "folly::goodMallocSize(nc * sizeof(T))",
          "new_text": null,
          "old_line_content": "    size_type ac = folly::goodMallocSize(nc * sizeof(T)) / sizeof(T);",
          "new_line_content": "  size_type computeInsertCapacity(size_type n) {",
          "content_same": false
        },
        {
          "line": 1467,
          "old_api": "const_cast<T*>(cpos)",
          "new_api": null,
          "old_text": "const_cast<T*>(cpos)",
          "new_text": null,
          "old_line_content": "    T* position = const_cast<T*>(cpos);",
          "new_line_content": "  iterator insert(const_iterator cpos, IIt first, IIt last,",
          "content_same": false
        },
        {
          "line": 1468,
          "old_api": "isValid",
          "new_api": null,
          "old_text": "isValid(position)",
          "new_text": null,
          "old_line_content": "    assert(isValid(position));",
          "new_line_content": "                  std::input_iterator_tag) {",
          "content_same": false
        },
        {
          "line": 1595,
          "old_api": "resize",
          "new_api": null,
          "old_text": "v->resize(sz)",
          "new_text": null,
          "old_line_content": "  v->resize(sz);",
          "new_line_content": "template <class T, class A>",
          "content_same": false
        },
        {
          "line": 1596,
          "old_api": "shrink_to_fit",
          "new_api": null,
          "old_text": "v->shrink_to_fit()",
          "new_text": null,
          "old_line_content": "  v->shrink_to_fit();",
          "new_line_content": "void compactResize(fbvector<T, A>* v, size_t sz) {",
          "content_same": false
        },
        {
          "line": 1474,
          "old_api": "M_destroy_range_e",
          "new_api": null,
          "old_text": "M_destroy_range_e(position)",
          "new_text": null,
          "old_line_content": "    M_destroy_range_e(position);",
          "new_line_content": "                     std::make_move_iterator(end()),",
          "content_same": false
        },
        {
          "line": 1475,
          "old_api": "emplace_back",
          "new_api": null,
          "old_text": "emplace_back(*first)",
          "new_text": null,
          "old_line_content": "    for (; first != last; ++first) emplace_back(*first);",
          "new_line_content": "                     A::select_on_container_copy_construction(impl_));",
          "content_same": false
        },
        {
          "line": 1487,
          "old_api": "begin",
          "new_api": null,
          "old_text": "other.begin()",
          "new_text": null,
          "old_line_content": "    return size() == other.size() && std::equal(begin(), end(), other.begin());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1491,
          "old_api": "begin",
          "new_api": null,
          "old_text": "std::lexicographical_compare(\n      begin(), end(), other.begin(), other.end())",
          "new_text": null,
          "old_line_content": "    return std::lexicographical_compare(",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1492,
          "old_api": "end",
          "new_api": null,
          "old_text": "other.end()",
          "new_text": null,
          "old_line_content": "      begin(), end(), other.begin(), other.end());",
          "new_line_content": "  bool operator<(const fbvector& other) const {",
          "content_same": false
        },
        {
          "line": 1624,
          "old_api": "data",
          "new_api": null,
          "old_text": "v.data()",
          "new_text": null,
          "old_line_content": "  T* ret = v.data();",
          "new_line_content": "template <class T, class A>",
          "content_same": false
        },
        {
          "line": 1631,
          "old_api": "data",
          "new_api": null,
          "old_text": "v.data()",
          "new_text": null,
          "old_line_content": "  assert(v.data() == nullptr);",
          "new_line_content": "template <class T, class A>",
          "content_same": false
        },
        {
          "line": 1516,
          "old_api": "folly::goodMallocSize(\n    computePushBackCapacity() * sizeof(T))",
          "new_api": null,
          "old_text": "folly::goodMallocSize(\n    computePushBackCapacity() * sizeof(T))",
          "new_text": null,
          "old_line_content": "  size_type byte_sz = folly::goodMallocSize(",
          "new_line_content": "template <class... Args>",
          "content_same": false
        },
        {
          "line": 1517,
          "old_api": "computePushBackCapacity",
          "new_api": null,
          "old_text": "computePushBackCapacity()",
          "new_text": null,
          "old_line_content": "    computePushBackCapacity() * sizeof(T));",
          "new_line_content": "void fbvector<T, Allocator>::emplace_back_aux(Args&&... args) {",
          "content_same": false
        },
        {
          "line": 1270,
          "old_api": "isValid",
          "new_api": null,
          "old_text": "isValid(position)",
          "new_text": null,
          "old_line_content": "    assert(isValid(position));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1271,
          "old_api": "capacity",
          "new_api": null,
          "old_text": "capacity()",
          "new_text": null,
          "old_line_content": "    assert(size() + n <= capacity());",
          "new_line_content": "  void make_window(iterator position, size_type n) {",
          "content_same": false
        },
        {
          "line": 1400,
          "old_api": "std::forward<Args>(args)",
          "new_api": null,
          "old_text": "std::forward<Args>(args)",
          "new_text": null,
          "old_line_content": "      M_construct(start, std::forward<Args>(args)...);",
          "new_line_content": "  iterator emplace(const_iterator cpos, Args&&... args) {",
          "content_same": false
        },
        {
          "line": 1275,
          "old_api": "std::distance(position, impl_.e_)",
          "new_api": null,
          "old_text": "std::distance(position, impl_.e_)",
          "new_text": null,
          "old_line_content": "    size_type tail = std::distance(position, impl_.e_);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1399,
          "old_api": "FOLLY_FBVECTOR_INSERT_START",
          "new_api": null,
          "old_text": "FOLLY_FBVECTOR_INSERT_START(cpos, 1)",
          "new_text": null,
          "old_line_content": "    FOLLY_FBVECTOR_INSERT_START(cpos, 1)",
          "new_line_content": "  template <class... Args>",
          "content_same": false
        },
        {
          "line": 1278,
          "old_api": "relocate_move",
          "new_api": null,
          "old_text": "relocate_move(position + n, position, impl_.e_)",
          "new_text": null,
          "old_line_content": "      relocate_move(position + n, position, impl_.e_);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1279,
          "old_api": "relocate_done",
          "new_api": null,
          "old_text": "relocate_done(position + n, position, impl_.e_)",
          "new_text": null,
          "old_line_content": "      relocate_done(position + n, position, impl_.e_);",
          "new_line_content": "    if (tail <= n) {",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 36,
      "total_additions": 67,
      "total_deletions": 67,
      "total_api_changes": 170
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 10,
        "api_related_lines": 170,
        "non_api_lines": 4,
        "non_api_line_numbers": [
          1154,
          1157,
          1158,
          1159
        ]
      }
    },
    "api_calls_before": 415,
    "api_calls_after": 414,
    "diff_info": {
      "added_lines": 10,
      "removed_lines": 8,
      "total_diff_lines": 30
    }
  }
}