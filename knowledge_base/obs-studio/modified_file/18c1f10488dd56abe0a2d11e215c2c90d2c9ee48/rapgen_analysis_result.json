{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/obs-studio/modified_file/18c1f10488dd56abe0a2d11e215c2c90d2c9ee48",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/obs-studio/modified_file/18c1f10488dd56abe0a2d11e215c2c90d2c9ee48/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/obs-studio/modified_file/18c1f10488dd56abe0a2d11e215c2c90d2c9ee48/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/obs-studio/modified_file/18c1f10488dd56abe0a2d11e215c2c90d2c9ee48/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 69,
          "old_api": "dstr_cat",
          "new_api": "dstr_init_copy",
          "old_text": "dstr_cat(&dll_name, \".dll\")",
          "new_text": "dstr_init_copy(&dll_name, path)",
          "old_line_content": "\t\tdstr_cat(&dll_name, \".dll\");",
          "new_line_content": "\tdstr_init_copy(&dll_name, path);",
          "content_same": false
        },
        {
          "line": 71,
          "old_api": "os_utf8_to_wcs_ptr",
          "new_api": "dstr_find",
          "old_text": "os_utf8_to_wcs_ptr(dll_name.array, 0, &wpath)",
          "new_text": "dstr_find(&dll_name, \".dll\")",
          "old_line_content": "\tos_utf8_to_wcs_ptr(dll_name.array, 0, &wpath);",
          "new_line_content": "\tif (!dstr_find(&dll_name, \".dll\"))",
          "content_same": false
        },
        {
          "line": 79,
          "old_api": "SetDllDirectoryW",
          "new_api": "wcsrchr",
          "old_text": "SetDllDirectoryW(wpath)",
          "new_text": "wcsrchr(wpath, L'/')",
          "old_line_content": "\t\tSetDllDirectoryW(wpath);",
          "new_line_content": "\twpath_slash = wcsrchr(wpath, L'/');",
          "content_same": false
        },
        {
          "line": 88,
          "old_api": "SetDllDirectoryW",
          "new_api": "dstr_free",
          "old_text": "SetDllDirectoryW(NULL)",
          "new_text": "dstr_free(&dll_name)",
          "old_line_content": "\t\tSetDllDirectoryW(NULL);",
          "new_line_content": "\tdstr_free(&dll_name);",
          "content_same": false
        },
        {
          "line": 91,
          "old_api": "GetLastError",
          "new_api": "SetDllDirectoryW",
          "old_text": "GetLastError()",
          "new_text": "SetDllDirectoryW(NULL)",
          "old_line_content": "\t\tDWORD error = GetLastError();",
          "new_line_content": "\t\tSetDllDirectoryW(NULL);",
          "content_same": false
        },
        {
          "line": 94,
          "old_api": "FormatMessageA",
          "new_api": "GetLastError",
          "old_text": "FormatMessageA(FORMAT_MESSAGE_FROM_SYSTEM |\n\t\t               FORMAT_MESSAGE_IGNORE_INSERTS |\n\t\t               FORMAT_MESSAGE_ALLOCATE_BUFFER,\n\t\t               NULL, error,\n\t\t               MAKELANGID(LANG_ENGLISH, SUBLANG_ENGLISH_US),\n\t\t               (LPSTR)&message, 0, NULL)",
          "new_text": "GetLastError()",
          "old_line_content": "\t\tFormatMessageA(FORMAT_MESSAGE_FROM_SYSTEM |",
          "new_line_content": "\t\tDWORD error = GetLastError();",
          "content_same": false
        },
        {
          "line": 101,
          "old_api": "blog",
          "new_api": "MAKELANGID",
          "old_text": "blog(LOG_INFO, \"LoadLibrary failed for '%s': %s (%lu)\",\n\t\t\t\tpath, message, error)",
          "new_text": "MAKELANGID(LANG_ENGLISH, SUBLANG_ENGLISH_US)",
          "old_line_content": "\t\tblog(LOG_INFO, \"LoadLibrary failed for '%s': %s (%lu)\",",
          "new_line_content": "\t\t               MAKELANGID(LANG_ENGLISH, SUBLANG_ENGLISH_US),",
          "content_same": false
        },
        {
          "line": 195,
          "old_api": "os_gettime_ns",
          "new_api": "Sleep",
          "old_text": "os_gettime_ns()",
          "new_text": "Sleep(milliseconds-1)",
          "old_line_content": "\t\tt = os_gettime_ns();",
          "new_line_content": "\t\tSleep(milliseconds-1);",
          "content_same": false
        },
        {
          "line": 213,
          "old_api": "Sleep",
          "new_api": "get_winver",
          "old_text": "Sleep(duration)",
          "new_text": "get_winver()",
          "old_line_content": "\tSleep(duration);",
          "new_line_content": "\tif (get_winver() >= 0x0602 && duration > 0)",
          "content_same": false
        },
        {
          "line": 224,
          "old_api": "get_clockfreq",
          "new_api": "QueryPerformanceCounter",
          "old_text": "get_clockfreq()",
          "new_text": "QueryPerformanceCounter(&current_time)",
          "old_line_content": "\ttime_val /= (double)get_clockfreq();",
          "new_line_content": "\tQueryPerformanceCounter(&current_time);",
          "content_same": false
        },
        {
          "line": 238,
          "old_api": "os_wcs_to_utf8",
          "new_api": "SHGetFolderPathW",
          "old_text": "os_wcs_to_utf8(path_utf16, 0, dst, size)",
          "new_text": "SHGetFolderPathW(NULL, folder, NULL, SHGFP_TYPE_CURRENT,\n\t\t\tpath_utf16)",
          "old_line_content": "\tif (os_wcs_to_utf8(path_utf16, 0, dst, size) != 0) {",
          "new_line_content": "\tSHGetFolderPathW(NULL, folder, NULL, SHGFP_TYPE_CURRENT,",
          "content_same": false
        },
        {
          "line": 243,
          "old_api": "strcat_s",
          "new_api": "strlen",
          "old_text": "strcat_s(dst, size, \"\\\\\")",
          "new_text": "strlen(dst)",
          "old_line_content": "\t\tif (strcat_s(dst, size, \"\\\\\") == 0) {",
          "new_line_content": "\t\t\treturn (int)strlen(dst);",
          "content_same": false
        },
        {
          "line": 262,
          "old_api": "os_wcs_to_utf8_ptr",
          "new_api": "SHGetFolderPathW",
          "old_text": "os_wcs_to_utf8_ptr(path_utf16, 0, &ptr)",
          "new_text": "SHGetFolderPathW(NULL, folder, NULL, SHGFP_TYPE_CURRENT,\n\t\t\tpath_utf16)",
          "old_line_content": "\tos_wcs_to_utf8_ptr(path_utf16, 0, &ptr);",
          "new_line_content": "\tSHGetFolderPathW(NULL, folder, NULL, SHGFP_TYPE_CURRENT,",
          "content_same": false
        },
        {
          "line": 265,
          "old_api": "dstr_cat",
          "new_api": "os_wcs_to_utf8_ptr",
          "old_text": "dstr_cat(&path, name)",
          "new_text": "os_wcs_to_utf8_ptr(path_utf16, 0, &ptr)",
          "old_line_content": "\tdstr_cat(&path, name);",
          "new_line_content": "\tos_wcs_to_utf8_ptr(path_utf16, 0, &ptr);",
          "content_same": false
        },
        {
          "line": 298,
          "old_api": "FindFirstFileW",
          "new_api": "os_utf8_to_wcs_ptr",
          "old_text": "FindFirstFileW(path_utf16, &wfd)",
          "new_text": "os_utf8_to_wcs_ptr(path, 0, &path_utf16)",
          "old_line_content": "\thFind = FindFirstFileW(path_utf16, &wfd);",
          "new_line_content": "\tif (!os_utf8_to_wcs_ptr(path, 0, &path_utf16))",
          "content_same": false
        },
        {
          "line": 330,
          "old_api": "bfree",
          "new_api": "bmalloc",
          "old_text": "bfree(ptr)",
          "new_text": "bmalloc(512)",
          "old_line_content": "\t\tbfree(ptr);",
          "new_line_content": "\tchar *ptr = bmalloc(512);",
          "content_same": false
        },
        {
          "line": 355,
          "old_api": "os_utf8_to_wcs_ptr",
          "new_api": "dstr_copy",
          "old_text": "os_utf8_to_wcs_ptr(path_str.array, path_str.len, &w_path)",
          "new_text": "dstr_copy(&path_str, path)",
          "old_line_content": "\tif (os_utf8_to_wcs_ptr(path_str.array, path_str.len, &w_path) > 0) {",
          "new_line_content": "\tdstr_copy(&path_str, path);",
          "content_same": false
        },
        {
          "line": 356,
          "old_api": "FindFirstFileW",
          "new_api": "dstr_cat",
          "old_text": "FindFirstFileW(w_path, &wfd)",
          "new_text": "dstr_cat(&path_str, \"/*.*\")",
          "old_line_content": "\t\thandle = FindFirstFileW(w_path, &wfd);",
          "new_line_content": "\tdstr_cat(&path_str, \"/*.*\");",
          "content_same": false
        },
        {
          "line": 358,
          "old_api": "bzalloc",
          "new_api": "os_utf8_to_wcs_ptr",
          "old_text": "bzalloc(sizeof(struct os_dir))",
          "new_text": "os_utf8_to_wcs_ptr(path_str.array, path_str.len, &w_path)",
          "old_line_content": "\t\t\tdir         = bzalloc(sizeof(struct os_dir));",
          "new_line_content": "\tif (os_utf8_to_wcs_ptr(path_str.array, path_str.len, &w_path) > 0) {",
          "content_same": false
        },
        {
          "line": 367,
          "old_api": "dstr_free",
          "new_api": "bfree",
          "old_text": "dstr_free(&path_str)",
          "new_text": "bfree(w_path)",
          "old_line_content": "\tdstr_free(&path_str);",
          "new_line_content": "\t\tbfree(w_path);",
          "content_same": false
        },
        {
          "line": 392,
          "old_api": "is_dir",
          "new_api": "os_wcs_to_utf8",
          "old_text": "is_dir(&dir->wfd)",
          "new_text": "os_wcs_to_utf8(dir->wfd.cFileName, 0, dir->out.d_name,\n\t\t\tsizeof(dir->out.d_name))",
          "old_line_content": "\tdir->out.directory = is_dir(&dir->wfd);",
          "new_line_content": "\tos_wcs_to_utf8(dir->wfd.cFileName, 0, dir->out.d_name,",
          "content_same": false
        },
        {
          "line": 435,
          "old_api": "dstr_resize",
          "new_api": "dstr_copy",
          "old_text": "dstr_resize(&path, slash + 1 - path.array)",
          "new_text": "dstr_copy(&path, pattern)",
          "old_line_content": "\t\tdstr_resize(&path, slash + 1 - path.array);",
          "new_line_content": "\tdstr_copy(&path, pattern);",
          "content_same": false
        },
        {
          "line": 457,
          "old_api": "FindFirstFileW",
          "new_api": "da_init",
          "old_text": "FindFirstFileW(w_path, &wfd)",
          "new_text": "da_init(files)",
          "old_line_content": "\t\thandle = FindFirstFileW(w_path, &wfd);",
          "new_line_content": "\tda_init(files);",
          "content_same": false
        },
        {
          "line": 464,
          "old_api": "FindNextFile",
          "new_api": "make_globent",
          "old_text": "FindNextFile(handle, &wfd)",
          "new_text": "make_globent(&ent, &wfd, pattern)",
          "old_line_content": "\t\t\t} while (FindNextFile(handle, &wfd));",
          "new_line_content": "\t\t\t\tmake_globent(&ent, &wfd, pattern);",
          "content_same": false
        },
        {
          "line": 467,
          "old_api": "bmalloc",
          "new_api": "FindNextFile",
          "old_text": "bmalloc(sizeof(**pglob))",
          "new_text": "FindNextFile(handle, &wfd)",
          "old_line_content": "\t\t\t*pglob = bmalloc(sizeof(**pglob));",
          "new_line_content": "\t\t\t} while (FindNextFile(handle, &wfd));",
          "content_same": false
        },
        {
          "line": 532,
          "old_api": "CreateDirectory",
          "new_api": "os_utf8_to_wcs_ptr",
          "old_text": "CreateDirectory(path_utf16, NULL)",
          "new_text": "os_utf8_to_wcs_ptr(path, 0, &path_utf16)",
          "old_line_content": "\tsuccess = CreateDirectory(path_utf16, NULL);",
          "new_line_content": "\tif (!os_utf8_to_wcs_ptr(path, 0, &path_utf16))",
          "content_same": false
        },
        {
          "line": 536,
          "old_api": "GetLastError",
          "new_api": "bfree",
          "old_text": "GetLastError()",
          "new_text": "bfree(path_utf16)",
          "old_line_content": "\t\treturn (GetLastError() == ERROR_ALREADY_EXISTS) ?",
          "new_line_content": "\tbfree(path_utf16);",
          "content_same": false
        },
        {
          "line": 580,
          "old_api": "ReplaceFileW",
          "new_api": "os_utf8_to_wcs_ptr",
          "old_text": "ReplaceFileW(wtarget, wfrom, wbackup, 0, NULL, NULL)",
          "new_text": "os_utf8_to_wcs_ptr(backup, 0, &wbackup)",
          "old_line_content": "\tif (ReplaceFileW(wtarget, wfrom, wbackup, 0, NULL, NULL)) {",
          "new_line_content": "\tif (backup && !os_utf8_to_wcs_ptr(backup, 0, &wbackup))",
          "content_same": false
        },
        {
          "line": 583,
          "old_api": "MoveFileExW",
          "new_api": "ReplaceFileW",
          "old_text": "MoveFileExW(wfrom, wtarget, MOVEFILE_REPLACE_EXISTING)",
          "new_text": "ReplaceFileW(wtarget, wfrom, wbackup, 0, NULL, NULL)",
          "old_line_content": "\t\tcode = MoveFileExW(wfrom, wtarget, MOVEFILE_REPLACE_EXISTING)",
          "new_line_content": "\tif (ReplaceFileW(wtarget, wfrom, wbackup, 0, NULL, NULL)) {",
          "content_same": false
        },
        {
          "line": 657,
          "old_api": "bfree",
          "new_api": "CopyFileW",
          "old_text": "bfree(file_in_utf16)",
          "new_text": "CopyFileW(file_in_utf16, file_out_utf16, true)",
          "old_line_content": "\tbfree(file_in_utf16);",
          "new_line_content": "\tcode = CopyFileW(file_in_utf16, file_out_utf16, true) ? 0 : -1;",
          "content_same": false
        },
        {
          "line": 674,
          "old_api": "bfree",
          "new_api": "bmalloc",
          "old_text": "bfree(path_w)",
          "new_text": "bmalloc((len + 1) * sizeof(wchar_t))",
          "old_line_content": "\tbfree(path_w);",
          "new_line_content": "\tpath_w = bmalloc((len + 1) * sizeof(wchar_t));",
          "content_same": false
        },
        {
          "line": 774,
          "old_api": "bfree",
          "new_api": "bmalloc",
          "old_text": "bfree(data)",
          "new_text": "bmalloc(size)",
          "old_line_content": "\t\tbfree(data);",
          "new_line_content": "\tdata = bmalloc(size);",
          "content_same": false
        },
        {
          "line": 781,
          "old_api": "bfree",
          "new_api": "ver_query_value",
          "old_text": "bfree(data)",
          "new_text": "ver_query_value(data, L\"\\\\\", (LPVOID*)&info, &len)",
          "old_line_content": "\t\tbfree(data);",
          "new_line_content": "\tsuccess = ver_query_value(data, L\"\\\\\", (LPVOID*)&info, &len);",
          "content_same": false
        },
        {
          "line": 788,
          "old_api": "LOWORD",
          "new_api": "HIWORD",
          "old_text": "LOWORD(info->dwFileVersionLS)",
          "new_text": "HIWORD(info->dwFileVersionMS)",
          "old_line_content": "\tver_info->revis = (int)LOWORD(info->dwFileVersionLS);",
          "new_line_content": "\tver_info->major = (int)HIWORD(info->dwFileVersionMS);",
          "content_same": false
        },
        {
          "line": 790,
          "old_api": "bfree",
          "new_api": "HIWORD",
          "old_text": "bfree(data)",
          "new_text": "HIWORD(info->dwFileVersionLS)",
          "old_line_content": "\tbfree(data);",
          "new_line_content": "\tver_info->build = (int)HIWORD(info->dwFileVersionLS);",
          "content_same": false
        },
        {
          "line": 825,
          "old_api": "RegCloseKey",
          "new_api": "RegQueryValueExW",
          "old_text": "RegCloseKey(key)",
          "new_text": "RegQueryValueExW(key, value_name, NULL, NULL,\n\t\t\t(LPBYTE)&reg.return_value, &reg.size)",
          "old_line_content": "\tRegCloseKey(key);",
          "new_line_content": "\treg.status = RegQueryValueExW(key, value_name, NULL, NULL,",
          "content_same": false
        },
        {
          "line": 945,
          "old_api": "malloc",
          "new_api": "GetLastError",
          "old_text": "malloc(len)",
          "new_text": "GetLastError()",
          "old_line_content": "\tinfo = malloc(len);",
          "new_line_content": "\tif (GetLastError() != ERROR_INSUFFICIENT_BUFFER)",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1027,
          "old_api": null,
          "new_api": "os_get_proc_memory_usage_internal",
          "old_text": null,
          "new_text": "os_get_proc_memory_usage_internal(&pmc)",
          "old_line_content": "}",
          "new_line_content": "\tif (!os_get_proc_memory_usage_internal(&pmc))",
          "content_same": false
        },
        {
          "line": 517,
          "old_api": null,
          "new_api": "os_utf8_to_wcs_ptr",
          "old_text": null,
          "new_text": "os_utf8_to_wcs_ptr(path, 0, &w_path)",
          "old_line_content": "",
          "new_line_content": "\tos_utf8_to_wcs_ptr(path, 0, &w_path);",
          "content_same": false
        },
        {
          "line": 521,
          "old_api": null,
          "new_api": "RemoveDirectoryW",
          "old_text": null,
          "new_text": "RemoveDirectoryW(w_path)",
          "old_line_content": "\treturn success ? 0 : -1;",
          "new_line_content": "\tsuccess = !!RemoveDirectoryW(w_path);",
          "content_same": false
        },
        {
          "line": 522,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(w_path)",
          "old_line_content": "}",
          "new_line_content": "\tbfree(w_path);",
          "content_same": false
        },
        {
          "line": 1035,
          "old_api": null,
          "new_api": "os_utf8_to_wcs_ptr",
          "old_text": null,
          "new_text": "os_utf8_to_wcs_ptr(dir, 0, &wdir)",
          "old_line_content": "\tULARGE_INTEGER free;",
          "new_line_content": "\tif (!os_utf8_to_wcs_ptr(dir, 0, &wdir))",
          "content_same": false
        },
        {
          "line": 1039,
          "old_api": null,
          "new_api": "GetDiskFreeSpaceExW",
          "old_text": null,
          "new_text": "GetDiskFreeSpaceExW(wdir, &free, NULL, NULL)",
          "old_line_content": "\treturn success ? free.QuadPart : 0;",
          "new_line_content": "\tbool success = !!GetDiskFreeSpaceExW(wdir, &free, NULL, NULL);",
          "content_same": false
        },
        {
          "line": 1040,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(wdir)",
          "old_line_content": "}",
          "new_line_content": "\tbfree(wdir);",
          "content_same": false
        },
        {
          "line": 535,
          "old_api": null,
          "new_api": "CreateDirectory",
          "old_text": null,
          "new_text": "CreateDirectory(path_utf16, NULL)",
          "old_line_content": "\tif (!success)",
          "new_line_content": "\tsuccess = CreateDirectory(path_utf16, NULL);",
          "content_same": false
        },
        {
          "line": 539,
          "old_api": null,
          "new_api": "GetLastError",
          "old_text": null,
          "new_text": "GetLastError()",
          "old_line_content": "\treturn MKDIR_SUCCESS;",
          "new_line_content": "\t\treturn (GetLastError() == ERROR_ALREADY_EXISTS) ?",
          "content_same": false
        },
        {
          "line": 554,
          "old_api": null,
          "new_api": "os_utf8_to_wcs_ptr",
          "old_text": null,
          "new_text": "os_utf8_to_wcs_ptr(new_path, 0, &new_path_utf16)",
          "old_line_content": "",
          "new_line_content": "\tif (!os_utf8_to_wcs_ptr(new_path, 0, &new_path_utf16)) {",
          "content_same": false
        },
        {
          "line": 558,
          "old_api": null,
          "new_api": "MoveFileExW",
          "old_text": null,
          "new_text": "MoveFileExW(old_path_utf16, new_path_utf16,\n\t\t\tMOVEFILE_REPLACE_EXISTING)",
          "old_line_content": "error:",
          "new_line_content": "\tcode = MoveFileExW(old_path_utf16, new_path_utf16,",
          "content_same": false
        },
        {
          "line": 562,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(old_path_utf16)",
          "old_line_content": "}",
          "new_line_content": "\tbfree(old_path_utf16);",
          "content_same": false
        },
        {
          "line": 563,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(new_path_utf16)",
          "old_line_content": "",
          "new_line_content": "\tbfree(new_path_utf16);",
          "content_same": false
        },
        {
          "line": 52,
          "old_api": null,
          "new_api": "get_win_ver",
          "old_text": null,
          "new_text": "get_win_ver(&ver)",
          "old_line_content": "",
          "new_line_content": "\t\tget_win_ver(&ver);",
          "content_same": false
        },
        {
          "line": 576,
          "old_api": null,
          "new_api": "os_utf8_to_wcs_ptr",
          "old_text": null,
          "new_text": "os_utf8_to_wcs_ptr(target, 0, &wtarget)",
          "old_line_content": "\t\tgoto fail;",
          "new_line_content": "\tif (!os_utf8_to_wcs_ptr(target, 0, &wtarget))",
          "content_same": false
        },
        {
          "line": 578,
          "old_api": null,
          "new_api": "os_utf8_to_wcs_ptr",
          "old_text": null,
          "new_text": "os_utf8_to_wcs_ptr(from, 0, &wfrom)",
          "old_line_content": "\t\tgoto fail;",
          "new_line_content": "\tif (!os_utf8_to_wcs_ptr(from, 0, &wfrom))",
          "content_same": false
        },
        {
          "line": 70,
          "old_api": null,
          "new_api": "dstr_replace",
          "old_text": null,
          "new_text": "dstr_replace(&dll_name, \"\\\\\", \"/\")",
          "old_line_content": "",
          "new_line_content": "\tdstr_replace(&dll_name, \"\\\\\", \"/\");",
          "content_same": false
        },
        {
          "line": 72,
          "old_api": null,
          "new_api": "dstr_cat",
          "old_text": null,
          "new_text": "dstr_cat(&dll_name, \".dll\")",
          "old_line_content": "",
          "new_line_content": "\t\tdstr_cat(&dll_name, \".dll\");",
          "content_same": false
        },
        {
          "line": 585,
          "old_api": null,
          "new_api": "GetLastError",
          "old_text": null,
          "new_text": "GetLastError()",
          "old_line_content": "\t}",
          "new_line_content": "\t} else if (GetLastError() == ERROR_FILE_NOT_FOUND) {",
          "content_same": false
        },
        {
          "line": 74,
          "old_api": null,
          "new_api": "os_utf8_to_wcs_ptr",
          "old_text": null,
          "new_text": "os_utf8_to_wcs_ptr(dll_name.array, 0, &wpath)",
          "old_line_content": "\t * dynamically loaded libraries on windows to search for dependent",
          "new_line_content": "\tos_utf8_to_wcs_ptr(dll_name.array, 0, &wpath);",
          "content_same": false
        },
        {
          "line": 586,
          "old_api": null,
          "new_api": "MoveFileExW",
          "old_text": null,
          "new_text": "MoveFileExW(wfrom, wtarget, MOVEFILE_REPLACE_EXISTING)",
          "old_line_content": "",
          "new_line_content": "\t\tcode = MoveFileExW(wfrom, wtarget, MOVEFILE_REPLACE_EXISTING)",
          "content_same": false
        },
        {
          "line": 591,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(wtarget)",
          "old_line_content": "\treturn code;",
          "new_line_content": "\tbfree(wtarget);",
          "content_same": false
        },
        {
          "line": 592,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(wfrom)",
          "old_line_content": "}",
          "new_line_content": "\tbfree(wfrom);",
          "content_same": false
        },
        {
          "line": 593,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(wbackup)",
          "old_line_content": "",
          "new_line_content": "\tbfree(wbackup);",
          "content_same": false
        },
        {
          "line": 82,
          "old_api": null,
          "new_api": "SetDllDirectoryW",
          "old_text": null,
          "new_text": "SetDllDirectoryW(wpath)",
          "old_line_content": "",
          "new_line_content": "\t\tSetDllDirectoryW(wpath);",
          "content_same": false
        },
        {
          "line": 86,
          "old_api": null,
          "new_api": "LoadLibraryW",
          "old_text": null,
          "new_text": "LoadLibraryW(wpath)",
          "old_line_content": "",
          "new_line_content": "\th_library = LoadLibraryW(wpath);",
          "content_same": false
        },
        {
          "line": 87,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(wpath)",
          "old_line_content": "\tif (wpath_slash)",
          "new_line_content": "\tbfree(wpath);",
          "content_same": false
        },
        {
          "line": 602,
          "old_api": null,
          "new_api": "timeBeginPeriod",
          "old_text": null,
          "new_text": "timeBeginPeriod(1)",
          "old_line_content": "#endif",
          "new_line_content": "\t\ttimeBeginPeriod(1);",
          "content_same": false
        },
        {
          "line": 604,
          "old_api": null,
          "new_api": "pthread_win32_process_attach_np",
          "old_text": null,
          "new_text": "pthread_win32_process_attach_np()",
          "old_line_content": "",
          "new_line_content": "\t\tpthread_win32_process_attach_np();",
          "content_same": false
        },
        {
          "line": 97,
          "old_api": null,
          "new_api": "FormatMessageA",
          "old_text": null,
          "new_text": "FormatMessageA(FORMAT_MESSAGE_FROM_SYSTEM |\n\t\t               FORMAT_MESSAGE_IGNORE_INSERTS |\n\t\t               FORMAT_MESSAGE_ALLOCATE_BUFFER,\n\t\t               NULL, error,\n\t\t               MAKELANGID(LANG_ENGLISH, SUBLANG_ENGLISH_US),\n\t\t               (LPSTR)&message, 0, NULL)",
          "old_line_content": "\t\t               NULL, error,",
          "new_line_content": "\t\tFormatMessageA(FORMAT_MESSAGE_FROM_SYSTEM |",
          "content_same": false
        },
        {
          "line": 609,
          "old_api": null,
          "new_api": "timeEndPeriod",
          "old_text": null,
          "new_text": "timeEndPeriod(1)",
          "old_line_content": "#endif",
          "new_line_content": "\t\ttimeEndPeriod(1);",
          "content_same": false
        },
        {
          "line": 611,
          "old_api": null,
          "new_api": "pthread_win32_process_detach_np",
          "old_text": null,
          "new_text": "pthread_win32_process_detach_np()",
          "old_line_content": "",
          "new_line_content": "\t\tpthread_win32_process_detach_np();",
          "content_same": false
        },
        {
          "line": 104,
          "old_api": null,
          "new_api": "blog",
          "old_text": null,
          "new_text": "blog(LOG_INFO, \"LoadLibrary failed for '%s': %s (%lu)\",\n\t\t\t\tpath, message, error)",
          "old_line_content": "\t\tif (message)",
          "new_line_content": "\t\tblog(LOG_INFO, \"LoadLibrary failed for '%s': %s (%lu)\",",
          "content_same": false
        },
        {
          "line": 617,
          "old_api": null,
          "new_api": "pthread_win32_thread_attach_np",
          "old_text": null,
          "new_text": "pthread_win32_thread_attach_np()",
          "old_line_content": "",
          "new_line_content": "\t\tpthread_win32_thread_attach_np();",
          "content_same": false
        },
        {
          "line": 108,
          "old_api": null,
          "new_api": "LocalFree",
          "old_text": null,
          "new_text": "LocalFree(message)",
          "old_line_content": "",
          "new_line_content": "\t\t\tLocalFree(message);",
          "content_same": false
        },
        {
          "line": 623,
          "old_api": null,
          "new_api": "pthread_win32_thread_detach_np",
          "old_text": null,
          "new_text": "pthread_win32_thread_detach_np()",
          "old_line_content": "\t}",
          "new_line_content": "\t\tpthread_win32_thread_detach_np();",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": null,
          "new_api": "UNUSED_PARAMETER",
          "old_text": null,
          "new_text": "UNUSED_PARAMETER(hinst_dll)",
          "old_line_content": "}",
          "new_line_content": "\tUNUSED_PARAMETER(hinst_dll);",
          "content_same": false
        },
        {
          "line": 629,
          "old_api": null,
          "new_api": "UNUSED_PARAMETER",
          "old_text": null,
          "new_text": "UNUSED_PARAMETER(reserved)",
          "old_line_content": "",
          "new_line_content": "\tUNUSED_PARAMETER(reserved);",
          "content_same": false
        },
        {
          "line": 119,
          "old_api": null,
          "new_api": "GetProcAddress",
          "old_text": null,
          "new_text": "GetProcAddress(module, func)",
          "old_line_content": "}",
          "new_line_content": "\thandle = (void*)GetProcAddress(module, func);",
          "content_same": false
        },
        {
          "line": 635,
          "old_api": null,
          "new_api": "UNUSED_PARAMETER",
          "old_text": null,
          "new_text": "UNUSED_PARAMETER(reason)",
          "old_line_content": "",
          "new_line_content": "\tUNUSED_PARAMETER(reason);",
          "content_same": false
        },
        {
          "line": 126,
          "old_api": null,
          "new_api": "FreeLibrary",
          "old_text": null,
          "new_text": "FreeLibrary(module)",
          "old_line_content": "union time_data {",
          "new_line_content": "\tFreeLibrary(module);",
          "content_same": false
        },
        {
          "line": 641,
          "old_api": null,
          "new_api": "UNUSED_PARAMETER",
          "old_text": null,
          "new_text": "UNUSED_PARAMETER(token)",
          "old_line_content": "int os_copyfile(const char *file_in, const char *file_out)",
          "new_line_content": "\tUNUSED_PARAMETER(token);",
          "content_same": false
        },
        {
          "line": 141,
          "old_api": null,
          "new_api": "bzalloc",
          "old_text": null,
          "new_text": "bzalloc(sizeof(*info))",
          "old_line_content": "",
          "new_line_content": "\tstruct os_cpu_usage_info *info = bzalloc(sizeof(*info));",
          "content_same": false
        },
        {
          "line": 653,
          "old_api": null,
          "new_api": "os_utf8_to_wcs_ptr",
          "old_text": null,
          "new_text": "os_utf8_to_wcs_ptr(file_out, 0, &file_out_utf16)",
          "old_line_content": "",
          "new_line_content": "\tif (!os_utf8_to_wcs_ptr(file_out, 0, &file_out_utf16)) {",
          "content_same": false
        },
        {
          "line": 145,
          "old_api": null,
          "new_api": "GetSystemInfo",
          "old_text": null,
          "new_text": "GetSystemInfo(&si)",
          "old_line_content": "\t\t\t&info->last_sys_time.ft, &info->last_user_time.ft);",
          "new_line_content": "\tGetSystemInfo(&si);",
          "content_same": false
        },
        {
          "line": 146,
          "old_api": null,
          "new_api": "GetSystemTimeAsFileTime",
          "old_text": null,
          "new_text": "GetSystemTimeAsFileTime(&info->last_time.ft)",
          "old_line_content": "\tinfo->core_count = si.dwNumberOfProcessors;",
          "new_line_content": "\tGetSystemTimeAsFileTime(&info->last_time.ft);",
          "content_same": false
        },
        {
          "line": 147,
          "old_api": null,
          "new_api": "GetCurrentProcess",
          "old_text": null,
          "new_text": "GetCurrentProcess()",
          "old_line_content": "",
          "new_line_content": "\tGetProcessTimes(GetCurrentProcess(), &dummy, &dummy,",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(file_in_utf16)",
          "old_line_content": "}",
          "new_line_content": "\tbfree(file_in_utf16);",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(file_out_utf16)",
          "old_line_content": "",
          "new_line_content": "\tbfree(file_out_utf16);",
          "content_same": false
        },
        {
          "line": 670,
          "old_api": null,
          "new_api": "GetCurrentDirectoryW",
          "old_text": null,
          "new_text": "GetCurrentDirectoryW(0, NULL)",
          "old_line_content": "",
          "new_line_content": "\tlen = GetCurrentDirectoryW(0, NULL);",
          "content_same": false
        },
        {
          "line": 163,
          "old_api": null,
          "new_api": "GetSystemTimeAsFileTime",
          "old_text": null,
          "new_text": "GetSystemTimeAsFileTime(&cur_time.ft)",
          "old_line_content": "",
          "new_line_content": "\tGetSystemTimeAsFileTime(&cur_time.ft);",
          "content_same": false
        },
        {
          "line": 164,
          "old_api": null,
          "new_api": "GetCurrentProcess",
          "old_text": null,
          "new_text": "GetCurrentProcess()",
          "old_line_content": "\tpercent = (double)(cur_sys_time.val - info->last_sys_time.val +",
          "new_line_content": "\tGetProcessTimes(GetCurrentProcess(), &dummy, &dummy,",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": null,
          "new_api": "GetCurrentDirectoryW",
          "old_text": null,
          "new_text": "GetCurrentDirectoryW(len + 1, path_w)",
          "old_line_content": "",
          "new_line_content": "\tGetCurrentDirectoryW(len + 1, path_w);",
          "content_same": false
        },
        {
          "line": 676,
          "old_api": null,
          "new_api": "os_wcs_to_utf8",
          "old_text": null,
          "new_text": "os_wcs_to_utf8(path_w, (size_t)len, path, size)",
          "old_line_content": "\treturn path;",
          "new_line_content": "\tos_wcs_to_utf8(path_w, (size_t)len, path, size);",
          "content_same": false
        },
        {
          "line": 677,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(path_w)",
          "old_line_content": "}",
          "new_line_content": "\tbfree(path_w);",
          "content_same": false
        },
        {
          "line": 688,
          "old_api": null,
          "new_api": "os_utf8_to_wcs_ptr",
          "old_text": null,
          "new_text": "os_utf8_to_wcs_ptr(path, 0, &path_w)",
          "old_line_content": "",
          "new_line_content": "\tsize = os_utf8_to_wcs_ptr(path, 0, &path_w);",
          "content_same": false
        },
        {
          "line": 692,
          "old_api": null,
          "new_api": "SetCurrentDirectoryW",
          "old_text": null,
          "new_text": "SetCurrentDirectoryW(path_w)",
          "old_line_content": "\treturn ret;",
          "new_line_content": "\tret = SetCurrentDirectoryW(path_w) ? 0 : -1;",
          "content_same": false
        },
        {
          "line": 693,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(path_w)",
          "old_line_content": "}",
          "new_line_content": "\tbfree(path_w);",
          "content_same": false
        },
        {
          "line": 182,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(info)",
          "old_line_content": "bool os_sleepto_ns(uint64_t time_target)",
          "new_line_content": "\t\tbfree(info);",
          "content_same": false
        },
        {
          "line": 187,
          "old_api": null,
          "new_api": "os_gettime_ns",
          "old_text": null,
          "new_text": "os_gettime_ns()",
          "old_line_content": "\tif (t >= time_target)",
          "new_line_content": "\tuint64_t t = os_gettime_ns();",
          "content_same": false
        },
        {
          "line": 198,
          "old_api": null,
          "new_api": "os_gettime_ns",
          "old_text": null,
          "new_text": "os_gettime_ns()",
          "old_line_content": "",
          "new_line_content": "\t\tt = os_gettime_ns();",
          "content_same": false
        },
        {
          "line": 203,
          "old_api": null,
          "new_api": "Sleep",
          "old_text": null,
          "new_text": "Sleep(1)",
          "old_line_content": "#endif",
          "new_line_content": "\t\tSleep(1);",
          "content_same": false
        },
        {
          "line": 205,
          "old_api": null,
          "new_api": "Sleep",
          "old_text": null,
          "new_text": "Sleep(0)",
          "old_line_content": "}",
          "new_line_content": "\t\tSleep(0);",
          "content_same": false
        },
        {
          "line": 720,
          "old_api": null,
          "new_api": "GetModuleHandleW",
          "old_text": null,
          "new_text": "GetModuleHandleW(L\"version\")",
          "old_line_content": "",
          "new_line_content": "\tHMODULE ver = GetModuleHandleW(L\"version\");",
          "content_same": false
        },
        {
          "line": 725,
          "old_api": null,
          "new_api": "LoadLibraryW",
          "old_text": null,
          "new_text": "LoadLibraryW(L\"version\")",
          "old_line_content": "\t\t\t\t\t\"version library\");",
          "new_line_content": "\t\tver = LoadLibraryW(L\"version\");",
          "content_same": false
        },
        {
          "line": 727,
          "old_api": null,
          "new_api": "blog",
          "old_text": null,
          "new_text": "blog(LOG_ERROR, \"Failed to load windows \"\n\t\t\t\t\t\"version library\")",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tblog(LOG_ERROR, \"Failed to load windows \"",
          "content_same": false
        },
        {
          "line": 216,
          "old_api": null,
          "new_api": "Sleep",
          "old_text": null,
          "new_text": "Sleep(duration)",
          "old_line_content": "uint64_t os_gettime_ns(void)",
          "new_line_content": "\tSleep(duration);",
          "content_same": false
        },
        {
          "line": 734,
          "old_api": null,
          "new_api": "GetProcAddress",
          "old_text": null,
          "new_text": "GetProcAddress(ver, \"GetFileVersionInfoSizeW\")",
          "old_line_content": "\tver_query_value = (ver_query_value_w_t)",
          "new_line_content": "\t\tGetProcAddress(ver, \"GetFileVersionInfoSizeW\");",
          "content_same": false
        },
        {
          "line": 736,
          "old_api": null,
          "new_api": "GetProcAddress",
          "old_text": null,
          "new_text": "GetProcAddress(ver, \"GetFileVersionInfoW\")",
          "old_line_content": "",
          "new_line_content": "\t\tGetProcAddress(ver, \"GetFileVersionInfoW\");",
          "content_same": false
        },
        {
          "line": 738,
          "old_api": null,
          "new_api": "GetProcAddress",
          "old_text": null,
          "new_text": "GetProcAddress(ver, \"VerQueryValueW\")",
          "old_line_content": "\t    !get_file_version_info ||",
          "new_line_content": "\t\tGetProcAddress(ver, \"VerQueryValueW\");",
          "content_same": false
        },
        {
          "line": 227,
          "old_api": null,
          "new_api": "get_clockfreq",
          "old_text": null,
          "new_text": "get_clockfreq()",
          "old_line_content": "}",
          "new_line_content": "\ttime_val /= (double)get_clockfreq();",
          "content_same": false
        },
        {
          "line": 743,
          "old_api": null,
          "new_api": "blog",
          "old_text": null,
          "new_text": "blog(LOG_ERROR, \"Failed to load windows version \"\n\t\t\t\t\"functions\")",
          "old_line_content": "\t}",
          "new_line_content": "\t\tblog(LOG_ERROR, \"Failed to load windows version \"",
          "content_same": false
        },
        {
          "line": 241,
          "old_api": null,
          "new_api": "os_wcs_to_utf8",
          "old_text": null,
          "new_text": "os_wcs_to_utf8(path_utf16, 0, dst, size)",
          "old_line_content": "\t\t}",
          "new_line_content": "\tif (os_wcs_to_utf8(path_utf16, 0, dst, size) != 0) {",
          "content_same": false
        },
        {
          "line": 246,
          "old_api": null,
          "new_api": "strcat_s",
          "old_text": null,
          "new_text": "strcat_s(dst, size, \"\\\\\")",
          "old_line_content": "\t\t\t}",
          "new_line_content": "\t\tif (strcat_s(dst, size, \"\\\\\") == 0) {",
          "content_same": false
        },
        {
          "line": 247,
          "old_api": null,
          "new_api": "strcat_s",
          "old_text": null,
          "new_text": "strcat_s(dst, size, name)",
          "old_line_content": "\t\t}",
          "new_line_content": "\t\t\tif (strcat_s(dst, size, name) == 0) {",
          "content_same": false
        },
        {
          "line": 248,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(dst)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\t\treturn (int)strlen(dst);",
          "content_same": false
        },
        {
          "line": 761,
          "old_api": null,
          "new_api": "initialize_version_functions",
          "old_text": null,
          "new_text": "initialize_version_functions()",
          "old_line_content": "\t\treturn false;",
          "new_line_content": "\tif (!ver_initialized && !initialize_version_functions())",
          "content_same": false
        },
        {
          "line": 766,
          "old_api": null,
          "new_api": "os_wcs_to_utf8",
          "old_text": null,
          "new_text": "os_wcs_to_utf8(lib, 0, utf8_lib, sizeof(utf8_lib))",
          "old_line_content": "\tif (!size) {",
          "new_line_content": "\tos_wcs_to_utf8(lib, 0, utf8_lib, sizeof(utf8_lib));",
          "content_same": false
        },
        {
          "line": 768,
          "old_api": null,
          "new_api": "get_file_version_info_size",
          "old_text": null,
          "new_text": "get_file_version_info_size(lib, NULL)",
          "old_line_content": "\t\treturn false;",
          "new_line_content": "\tsize = get_file_version_info_size(lib, NULL);",
          "content_same": false
        },
        {
          "line": 770,
          "old_api": null,
          "new_api": "blog",
          "old_text": null,
          "new_text": "blog(LOG_ERROR, \"Failed to get %s version info size\", utf8_lib)",
          "old_line_content": "",
          "new_line_content": "\t\tblog(LOG_ERROR, \"Failed to get %s version info size\", utf8_lib);",
          "content_same": false
        },
        {
          "line": 775,
          "old_api": null,
          "new_api": "get_file_version_info",
          "old_text": null,
          "new_text": "get_file_version_info(lib, 0, size, data)",
          "old_line_content": "\t\treturn false;",
          "new_line_content": "\tif (!get_file_version_info(lib, 0, size, data)) {",
          "content_same": false
        },
        {
          "line": 776,
          "old_api": null,
          "new_api": "blog",
          "old_text": null,
          "new_text": "blog(LOG_ERROR, \"Failed to get %s version info\", utf8_lib)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tblog(LOG_ERROR, \"Failed to get %s version info\", utf8_lib);",
          "content_same": false
        },
        {
          "line": 777,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(data)",
          "old_line_content": "",
          "new_line_content": "\t\tbfree(data);",
          "content_same": false
        },
        {
          "line": 266,
          "old_api": null,
          "new_api": "dstr_init_move_array",
          "old_text": null,
          "new_text": "dstr_init_move_array(&path, ptr)",
          "old_line_content": "\treturn path.array;",
          "new_line_content": "\tdstr_init_move_array(&path, ptr);",
          "content_same": false
        },
        {
          "line": 267,
          "old_api": null,
          "new_api": "dstr_cat",
          "old_text": null,
          "new_text": "dstr_cat(&path, \"\\\\\")",
          "old_line_content": "}",
          "new_line_content": "\tdstr_cat(&path, \"\\\\\");",
          "content_same": false
        },
        {
          "line": 268,
          "old_api": null,
          "new_api": "dstr_cat",
          "old_text": null,
          "new_text": "dstr_cat(&path, name)",
          "old_line_content": "",
          "new_line_content": "\tdstr_cat(&path, name);",
          "content_same": false
        },
        {
          "line": 783,
          "old_api": null,
          "new_api": "blog",
          "old_text": null,
          "new_text": "blog(LOG_ERROR, \"Failed to get %s version info value\", utf8_lib)",
          "old_line_content": "\t}",
          "new_line_content": "\t\tblog(LOG_ERROR, \"Failed to get %s version info value\", utf8_lib);",
          "content_same": false
        },
        {
          "line": 784,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(data)",
          "old_line_content": "",
          "new_line_content": "\t\tbfree(data);",
          "content_same": false
        },
        {
          "line": 274,
          "old_api": null,
          "new_api": "os_get_path_internal",
          "old_text": null,
          "new_text": "os_get_path_internal(dst, size, name, CSIDL_APPDATA)",
          "old_line_content": "char *os_get_config_path_ptr(const char *name)",
          "new_line_content": "\treturn os_get_path_internal(dst, size, name, CSIDL_APPDATA);",
          "content_same": false
        },
        {
          "line": 789,
          "old_api": null,
          "new_api": "LOWORD",
          "old_text": null,
          "new_text": "LOWORD(info->dwFileVersionMS)",
          "old_line_content": "",
          "new_line_content": "\tver_info->minor = (int)LOWORD(info->dwFileVersionMS);",
          "content_same": false
        },
        {
          "line": 279,
          "old_api": null,
          "new_api": "os_get_path_ptr_internal",
          "old_text": null,
          "new_text": "os_get_path_ptr_internal(name, CSIDL_APPDATA)",
          "old_line_content": "int os_get_program_data_path(char *dst, size_t size, const char *name)",
          "new_line_content": "\treturn os_get_path_ptr_internal(name, CSIDL_APPDATA);",
          "content_same": false
        },
        {
          "line": 791,
          "old_api": null,
          "new_api": "LOWORD",
          "old_text": null,
          "new_text": "LOWORD(info->dwFileVersionLS)",
          "old_line_content": "\treturn true;",
          "new_line_content": "\tver_info->revis = (int)LOWORD(info->dwFileVersionLS);",
          "content_same": false
        },
        {
          "line": 793,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(data)",
          "old_line_content": "",
          "new_line_content": "\tbfree(data);",
          "content_same": false
        },
        {
          "line": 284,
          "old_api": null,
          "new_api": "os_get_path_internal",
          "old_text": null,
          "new_text": "os_get_path_internal(dst, size, name, CSIDL_COMMON_APPDATA)",
          "old_line_content": "char *os_get_program_data_path_ptr(const char *name)",
          "new_line_content": "\treturn os_get_path_internal(dst, size, name, CSIDL_COMMON_APPDATA);",
          "content_same": false
        },
        {
          "line": 289,
          "old_api": null,
          "new_api": "os_get_path_ptr_internal",
          "old_text": null,
          "new_text": "os_get_path_ptr_internal(name, CSIDL_COMMON_APPDATA)",
          "old_line_content": "bool os_file_exists(const char *path)",
          "new_line_content": "\treturn os_get_path_ptr_internal(name, CSIDL_COMMON_APPDATA);",
          "content_same": false
        },
        {
          "line": 803,
          "old_api": null,
          "new_api": "GetCurrentProcess",
          "old_text": null,
          "new_text": "GetCurrentProcess()",
          "old_line_content": "",
          "new_line_content": "\treturn IsWow64Process(GetCurrentProcess(), &b64) && b64;",
          "content_same": false
        },
        {
          "line": 301,
          "old_api": null,
          "new_api": "FindFirstFileW",
          "old_text": null,
          "new_text": "FindFirstFileW(path_utf16, &wfd)",
          "old_line_content": "",
          "new_line_content": "\thFind = FindFirstFileW(path_utf16, &wfd);",
          "content_same": false
        },
        {
          "line": 814,
          "old_api": null,
          "new_api": "RegOpenKeyEx",
          "old_text": null,
          "new_text": "RegOpenKeyEx(hkey, sub_key, 0, KEY_READ, &key)",
          "old_line_content": "\t\tinfo->status = status;",
          "new_line_content": "\tstatus = RegOpenKeyEx(hkey, sub_key, 0, KEY_READ, &key);",
          "content_same": false
        },
        {
          "line": 303,
          "old_api": null,
          "new_api": "FindClose",
          "old_text": null,
          "new_text": "FindClose(hFind)",
          "old_line_content": "\treturn hFind != INVALID_HANDLE_VALUE;",
          "new_line_content": "\t\tFindClose(hFind);",
          "content_same": false
        },
        {
          "line": 305,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(path_utf16)",
          "old_line_content": "",
          "new_line_content": "\tbfree(path_utf16);",
          "content_same": false
        },
        {
          "line": 828,
          "old_api": null,
          "new_api": "RegCloseKey",
          "old_text": null,
          "new_text": "RegCloseKey(key)",
          "old_line_content": "}",
          "new_line_content": "\tRegCloseKey(key);",
          "content_same": false
        },
        {
          "line": 319,
          "old_api": null,
          "new_api": "os_utf8_to_wcs",
          "old_text": null,
          "new_text": "os_utf8_to_wcs(path, 0, wpath, 512)",
          "old_line_content": "",
          "new_line_content": "\tlen = os_utf8_to_wcs(path, 0, wpath, 512);",
          "content_same": false
        },
        {
          "line": 323,
          "old_api": null,
          "new_api": "_wfullpath",
          "old_text": null,
          "new_text": "_wfullpath(wabspath, wpath, 512)",
          "old_line_content": "}",
          "new_line_content": "\tif (_wfullpath(wabspath, wpath, 512) != NULL)",
          "content_same": false
        },
        {
          "line": 324,
          "old_api": null,
          "new_api": "os_wcs_to_utf8",
          "old_text": null,
          "new_text": "os_wcs_to_utf8(wabspath, 0, abspath, size)",
          "old_line_content": "",
          "new_line_content": "\t\tout_len = os_wcs_to_utf8(wabspath, 0, abspath, size);",
          "content_same": false
        },
        {
          "line": 332,
          "old_api": null,
          "new_api": "os_get_abs_path",
          "old_text": null,
          "new_text": "os_get_abs_path(path, ptr, 512)",
          "old_line_content": "\t}",
          "new_line_content": "\tif (!os_get_abs_path(path, ptr, 512)) {",
          "content_same": false
        },
        {
          "line": 333,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(ptr)",
          "old_line_content": "",
          "new_line_content": "\t\tbfree(ptr);",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": null,
          "new_api": "get_dll_ver",
          "old_text": null,
          "new_text": "get_dll_ver(L\"kernel32\", &ver)",
          "old_line_content": "\t\tif (ver.major == 10) {",
          "new_line_content": "\t\tget_dll_ver(L\"kernel32\", &ver);",
          "content_same": false
        },
        {
          "line": 852,
          "old_api": null,
          "new_api": "RegOpenKeyW",
          "old_text": null,
          "new_text": "RegOpenKeyW(HKEY_LOCAL_MACHINE,\n\t\t\t\t\tWINVER_REG_KEY, &key)",
          "old_line_content": "\t\t\t\treturn;",
          "new_line_content": "\t\t\tstatus = RegOpenKeyW(HKEY_LOCAL_MACHINE,",
          "content_same": false
        },
        {
          "line": 859,
          "old_api": null,
          "new_api": "RegQueryValueExW",
          "old_text": null,
          "new_text": "RegQueryValueExW(key, L\"UBR\", NULL, NULL,\n\t\t\t\t\t(LPBYTE)&win10_revision, &size)",
          "old_line_content": "\t\t\t\tver.revis = (int)win10_revision > ver.revis ?",
          "new_line_content": "\t\t\tstatus = RegQueryValueExW(key, L\"UBR\", NULL, NULL,",
          "content_same": false
        },
        {
          "line": 865,
          "old_api": null,
          "new_api": "RegCloseKey",
          "old_text": null,
          "new_text": "RegCloseKey(key)",
          "old_line_content": "",
          "new_line_content": "\t\t\tRegCloseKey(key);",
          "content_same": false
        },
        {
          "line": 359,
          "old_api": null,
          "new_api": "FindFirstFileW",
          "old_text": null,
          "new_text": "FindFirstFileW(w_path, &wfd)",
          "old_line_content": "\t\t\tdir->handle = handle;",
          "new_line_content": "\t\thandle = FindFirstFileW(w_path, &wfd);",
          "content_same": false
        },
        {
          "line": 361,
          "old_api": null,
          "new_api": "bzalloc",
          "old_text": null,
          "new_text": "bzalloc(sizeof(struct os_dir))",
          "old_line_content": "\t\t\tdir->wfd    = wfd;",
          "new_line_content": "\t\t\tdir         = bzalloc(sizeof(struct os_dir));",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": null,
          "new_api": "UNUSED_PARAMETER",
          "old_text": null,
          "new_text": "UNUSED_PARAMETER(reason)",
          "old_line_content": "",
          "new_line_content": "\tUNUSED_PARAMETER(reason);",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": null,
          "new_api": "bzalloc",
          "old_text": null,
          "new_text": "bzalloc(sizeof(struct os_inhibit_info))",
          "old_line_content": "bool os_inhibit_sleep_set_active(os_inhibit_t *info, bool active)",
          "new_line_content": "\treturn bzalloc(sizeof(struct os_inhibit_info));",
          "content_same": false
        },
        {
          "line": 370,
          "old_api": null,
          "new_api": "dstr_free",
          "old_text": null,
          "new_text": "dstr_free(&path_str)",
          "old_line_content": "}",
          "new_line_content": "\tdstr_free(&path_str);",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": null,
          "new_api": "SetThreadExecutionState",
          "old_text": null,
          "new_text": "SetThreadExecutionState(\n\t\t\t\tES_CONTINUOUS |\n\t\t\t\tES_SYSTEM_REQUIRED |\n\t\t\t\tES_AWAYMODE_REQUIRED |\n\t\t\t\tES_DISPLAY_REQUIRED)",
          "old_line_content": "\t\t\t\tES_AWAYMODE_REQUIRED |",
          "new_line_content": "\t\tSetThreadExecutionState(",
          "content_same": false
        },
        {
          "line": 896,
          "old_api": null,
          "new_api": "SetThreadExecutionState",
          "old_text": null,
          "new_text": "SetThreadExecutionState(ES_CONTINUOUS)",
          "old_line_content": "\tinfo->active = active;",
          "new_line_content": "\t\tSetThreadExecutionState(ES_CONTINUOUS);",
          "content_same": false
        },
        {
          "line": 388,
          "old_api": null,
          "new_api": "FindNextFileW",
          "old_text": null,
          "new_text": "FindNextFileW(dir->handle, &dir->wfd)",
          "old_line_content": "",
          "new_line_content": "\t\tif (!FindNextFileW(dir->handle, &dir->wfd))",
          "content_same": false
        },
        {
          "line": 906,
          "old_api": null,
          "new_api": "os_inhibit_sleep_set_active",
          "old_text": null,
          "new_text": "os_inhibit_sleep_set_active(info, false)",
          "old_line_content": "}",
          "new_line_content": "\t\tos_inhibit_sleep_set_active(info, false);",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": null,
          "new_api": "is_dir",
          "old_text": null,
          "new_text": "is_dir(&dir->wfd)",
          "old_line_content": "}",
          "new_line_content": "\tdir->out.directory = is_dir(&dir->wfd);",
          "content_same": false
        },
        {
          "line": 907,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(info)",
          "old_line_content": "",
          "new_line_content": "\t\tbfree(info);",
          "content_same": false
        },
        {
          "line": 913,
          "old_api": null,
          "new_api": "__debugbreak",
          "old_text": null,
          "new_text": "__debugbreak()",
          "old_line_content": "DWORD num_logical_cores(ULONG_PTR mask)",
          "new_line_content": "\t__debugbreak();",
          "content_same": false
        },
        {
          "line": 403,
          "old_api": null,
          "new_api": "FindClose",
          "old_text": null,
          "new_text": "FindClose(dir->handle)",
          "old_line_content": "}",
          "new_line_content": "\t\tFindClose(dir->handle);",
          "content_same": false
        },
        {
          "line": 404,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(dir)",
          "old_line_content": "",
          "new_line_content": "\t\tbfree(dir);",
          "content_same": false
        },
        {
          "line": 414,
          "old_api": null,
          "new_api": "os_get_abs_path",
          "old_text": null,
          "new_text": "os_get_abs_path(path, abs_path, 512)",
          "old_line_content": "\t\t\t\t\t(PULARGE_INTEGER)&remainingSpace,",
          "new_line_content": "\tif (os_get_abs_path(path, abs_path, 512) > 0) {",
          "content_same": false
        },
        {
          "line": 415,
          "old_api": null,
          "new_api": "os_utf8_to_wcs",
          "old_text": null,
          "new_text": "os_utf8_to_wcs(abs_path, 0, w_abs_path, 512)",
          "old_line_content": "\t\t\t\t\tNULL, NULL);",
          "new_line_content": "\t\tif (os_utf8_to_wcs(abs_path, 0, w_abs_path, 512) > 0) {",
          "content_same": false
        },
        {
          "line": 416,
          "old_api": null,
          "new_api": "GetDiskFreeSpaceExW",
          "old_text": null,
          "new_text": "GetDiskFreeSpaceExW(w_abs_path,\n\t\t\t\t\t(PULARGE_INTEGER)&remainingSpace,\n\t\t\t\t\tNULL, NULL)",
          "old_line_content": "\t\t\tif (success)",
          "new_line_content": "\t\t\tBOOL success = GetDiskFreeSpaceExW(w_abs_path,",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": null,
          "new_api": "GetLogicalProcessorInformation",
          "old_text": null,
          "new_text": "GetLogicalProcessorInformation(info, &len)",
          "old_line_content": "",
          "new_line_content": "\tGetLogicalProcessorInformation(info, &len);",
          "content_same": false
        },
        {
          "line": 434,
          "old_api": null,
          "new_api": "dstr_from_wcs",
          "old_text": null,
          "new_text": "dstr_from_wcs(&name, wfd->cFileName)",
          "old_line_content": "\tif (slash)",
          "new_line_content": "\tdstr_from_wcs(&name, wfd->cFileName);",
          "content_same": false
        },
        {
          "line": 436,
          "old_api": null,
          "new_api": "strrchr",
          "old_text": null,
          "new_text": "strrchr(path.array, '/')",
          "old_line_content": "\telse",
          "new_line_content": "\tslash = strrchr(path.array, '/');",
          "content_same": false
        },
        {
          "line": 948,
          "old_api": null,
          "new_api": "malloc",
          "old_text": null,
          "new_text": "malloc(len)",
          "old_line_content": "\t\tDWORD num = len / sizeof(*info);",
          "new_line_content": "\tinfo = malloc(len);",
          "content_same": false
        },
        {
          "line": 438,
          "old_api": null,
          "new_api": "dstr_resize",
          "old_text": null,
          "new_text": "dstr_resize(&path, slash + 1 - path.array)",
          "old_line_content": "",
          "new_line_content": "\t\tdstr_resize(&path, slash + 1 - path.array);",
          "content_same": false
        },
        {
          "line": 950,
          "old_api": null,
          "new_api": "GetLogicalProcessorInformation",
          "old_text": null,
          "new_text": "GetLogicalProcessorInformation(info, &len)",
          "old_line_content": "",
          "new_line_content": "\tif (GetLogicalProcessorInformation(info, &len)) {",
          "content_same": false
        },
        {
          "line": 440,
          "old_api": null,
          "new_api": "dstr_free",
          "old_text": null,
          "new_text": "dstr_free(&path)",
          "old_line_content": "\tent->path = path.array;",
          "new_line_content": "\t\tdstr_free(&path);",
          "content_same": false
        },
        {
          "line": 442,
          "old_api": null,
          "new_api": "dstr_cat_dstr",
          "old_text": null,
          "new_text": "dstr_cat_dstr(&path, &name)",
          "old_line_content": "",
          "new_line_content": "\tdstr_cat_dstr(&path, &name);",
          "content_same": false
        },
        {
          "line": 444,
          "old_api": null,
          "new_api": "is_dir",
          "old_text": null,
          "new_text": "is_dir(wfd)",
          "old_line_content": "}",
          "new_line_content": "\tent->directory = is_dir(wfd);",
          "content_same": false
        },
        {
          "line": 446,
          "old_api": null,
          "new_api": "dstr_free",
          "old_text": null,
          "new_text": "dstr_free(&name)",
          "old_line_content": "int os_glob(const char *pattern, int flags, os_glob_t **pglob)",
          "new_line_content": "\tdstr_free(&name);",
          "content_same": false
        },
        {
          "line": 959,
          "old_api": null,
          "new_api": "num_logical_cores",
          "old_text": null,
          "new_text": "num_logical_cores(mask)",
          "old_line_content": "\t\t\ttemp++;",
          "new_line_content": "\t\t\t\tlogical_cores += num_logical_cores(mask);",
          "content_same": false
        },
        {
          "line": 966,
          "old_api": null,
          "new_api": "free",
          "old_text": null,
          "new_text": "free(info)",
          "old_line_content": "int os_get_physical_cores(void)",
          "new_line_content": "\tfree(info);",
          "content_same": false
        },
        {
          "line": 459,
          "old_api": null,
          "new_api": "os_utf8_to_wcs_ptr",
          "old_text": null,
          "new_text": "os_utf8_to_wcs_ptr(pattern, 0, &w_path)",
          "old_line_content": "\t\t\tdo {",
          "new_line_content": "\tif (os_utf8_to_wcs_ptr(pattern, 0, &w_path) > 0) {",
          "content_same": false
        },
        {
          "line": 460,
          "old_api": null,
          "new_api": "FindFirstFileW",
          "old_text": null,
          "new_text": "FindFirstFileW(w_path, &wfd)",
          "old_line_content": "\t\t\t\tstruct os_globent ent = {0};",
          "new_line_content": "\t\thandle = FindFirstFileW(w_path, &wfd);",
          "content_same": false
        },
        {
          "line": 972,
          "old_api": null,
          "new_api": "os_get_cores_internal",
          "old_text": null,
          "new_text": "os_get_cores_internal()",
          "old_line_content": "",
          "new_line_content": "\t\tos_get_cores_internal();",
          "content_same": false
        },
        {
          "line": 466,
          "old_api": null,
          "new_api": "da_push_back",
          "old_text": null,
          "new_text": "da_push_back(files, &ent)",
          "old_line_content": "",
          "new_line_content": "\t\t\t\t\tda_push_back(files, &ent);",
          "content_same": false
        },
        {
          "line": 979,
          "old_api": null,
          "new_api": "os_get_cores_internal",
          "old_text": null,
          "new_text": "os_get_cores_internal()",
          "old_line_content": "",
          "new_line_content": "\t\tos_get_cores_internal();",
          "content_same": false
        },
        {
          "line": 468,
          "old_api": null,
          "new_api": "FindClose",
          "old_text": null,
          "new_text": "FindClose(handle)",
          "old_line_content": "\t\t\t(*pglob)->gl_pathc = files.num;",
          "new_line_content": "\t\t\tFindClose(handle);",
          "content_same": false
        },
        {
          "line": 470,
          "old_api": null,
          "new_api": "bmalloc",
          "old_text": null,
          "new_text": "bmalloc(sizeof(**pglob))",
          "old_line_content": "",
          "new_line_content": "\t\t\t*pglob = bmalloc(sizeof(**pglob));",
          "content_same": false
        },
        {
          "line": 985,
          "old_api": null,
          "new_api": "GlobalMemoryStatusEx",
          "old_text": null,
          "new_text": "GlobalMemoryStatusEx(msex)",
          "old_line_content": "}",
          "new_line_content": "\tif (!GlobalMemoryStatusEx(msex))",
          "content_same": false
        },
        {
          "line": 477,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(w_path)",
          "old_line_content": "\tif (ret != 0)",
          "new_line_content": "\t\tbfree(w_path);",
          "content_same": false
        },
        {
          "line": 993,
          "old_api": null,
          "new_api": "os_get_sys_memory_usage_internal",
          "old_text": null,
          "new_text": "os_get_sys_memory_usage_internal(&msex)",
          "old_line_content": "}",
          "new_line_content": "\tif (!os_get_sys_memory_usage_internal(&msex))",
          "content_same": false
        },
        {
          "line": 483,
          "old_api": null,
          "new_api": "UNUSED_PARAMETER",
          "old_text": null,
          "new_text": "UNUSED_PARAMETER(flags)",
          "old_line_content": "",
          "new_line_content": "\tUNUSED_PARAMETER(flags);",
          "content_same": false
        },
        {
          "line": 1000,
          "old_api": null,
          "new_api": "GetCurrentProcess",
          "old_text": null,
          "new_text": "GetCurrentProcess()",
          "old_line_content": "}",
          "new_line_content": "\tif (!GetProcessMemoryInfo(GetCurrentProcess(), pmc, sizeof(*pmc)))",
          "content_same": false
        },
        {
          "line": 491,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(pglob->gl_pathv[i].path)",
          "old_line_content": "\t}",
          "new_line_content": "\t\t\tbfree(pglob->gl_pathv[i].path);",
          "content_same": false
        },
        {
          "line": 492,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(pglob->gl_pathv)",
          "old_line_content": "}",
          "new_line_content": "\t\tbfree(pglob->gl_pathv);",
          "content_same": false
        },
        {
          "line": 493,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(pglob)",
          "old_line_content": "",
          "new_line_content": "\t\tbfree(pglob);",
          "content_same": false
        },
        {
          "line": 1008,
          "old_api": null,
          "new_api": "os_get_proc_memory_usage_internal",
          "old_text": null,
          "new_text": "os_get_proc_memory_usage_internal(&pmc)",
          "old_line_content": "\tusage->resident_size = pmc.WorkingSetSize;",
          "new_line_content": "\tif (!os_get_proc_memory_usage_internal(&pmc))",
          "content_same": false
        },
        {
          "line": 502,
          "old_api": null,
          "new_api": "os_utf8_to_wcs_ptr",
          "old_text": null,
          "new_text": "os_utf8_to_wcs_ptr(path, 0, &w_path)",
          "old_line_content": "",
          "new_line_content": "\tos_utf8_to_wcs_ptr(path, 0, &w_path);",
          "content_same": false
        },
        {
          "line": 507,
          "old_api": null,
          "new_api": "bfree",
          "old_text": null,
          "new_text": "bfree(w_path)",
          "old_line_content": "}",
          "new_line_content": "\tbfree(w_path);",
          "content_same": false
        },
        {
          "line": 506,
          "old_api": null,
          "new_api": "DeleteFileW",
          "old_text": null,
          "new_text": "DeleteFileW(w_path)",
          "old_line_content": "\treturn success ? 0 : -1;",
          "new_line_content": "\tsuccess = !!DeleteFileW(w_path);",
          "content_same": false
        },
        {
          "line": 1019,
          "old_api": null,
          "new_api": "os_get_proc_memory_usage_internal",
          "old_text": null,
          "new_text": "os_get_proc_memory_usage_internal(&pmc)",
          "old_line_content": "}",
          "new_line_content": "\tif (!os_get_proc_memory_usage_internal(&pmc))",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1024,
          "old_api": "os_get_proc_memory_usage_internal",
          "new_api": null,
          "old_text": "os_get_proc_memory_usage_internal(&pmc)",
          "new_text": null,
          "old_line_content": "\tif (!os_get_proc_memory_usage_internal(&pmc))",
          "new_line_content": "uint64_t os_get_proc_virtual_size(void)",
          "content_same": false
        },
        {
          "line": 514,
          "old_api": "os_utf8_to_wcs_ptr",
          "new_api": null,
          "old_text": "os_utf8_to_wcs_ptr(path, 0, &w_path)",
          "new_text": null,
          "old_line_content": "\tos_utf8_to_wcs_ptr(path, 0, &w_path);",
          "new_line_content": "\twchar_t *w_path;",
          "content_same": false
        },
        {
          "line": 518,
          "old_api": "RemoveDirectoryW",
          "new_api": null,
          "old_text": "RemoveDirectoryW(w_path)",
          "new_text": null,
          "old_line_content": "\tsuccess = !!RemoveDirectoryW(w_path);",
          "new_line_content": "\tif (!w_path)",
          "content_same": false
        },
        {
          "line": 519,
          "old_api": "bfree",
          "new_api": null,
          "old_text": "bfree(w_path)",
          "new_text": null,
          "old_line_content": "\tbfree(w_path);",
          "new_line_content": "\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 1032,
          "old_api": "os_utf8_to_wcs_ptr",
          "new_api": null,
          "old_text": "os_utf8_to_wcs_ptr(dir, 0, &wdir)",
          "new_text": null,
          "old_line_content": "\tif (!os_utf8_to_wcs_ptr(dir, 0, &wdir))",
          "new_line_content": "uint64_t os_get_free_disk_space(const char *dir)",
          "content_same": false
        },
        {
          "line": 1036,
          "old_api": "GetDiskFreeSpaceExW",
          "new_api": null,
          "old_text": "GetDiskFreeSpaceExW(wdir, &free, NULL, NULL)",
          "new_text": null,
          "old_line_content": "\tbool success = !!GetDiskFreeSpaceExW(wdir, &free, NULL, NULL);",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 1037,
          "old_api": "bfree",
          "new_api": null,
          "old_text": "bfree(wdir)",
          "new_text": null,
          "old_line_content": "\tbfree(wdir);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": "os_utf8_to_wcs_ptr",
          "new_api": null,
          "old_text": "os_utf8_to_wcs_ptr(path, 0, &path_utf16)",
          "new_text": null,
          "old_line_content": "\tif (!os_utf8_to_wcs_ptr(path, 0, &path_utf16))",
          "new_line_content": "\twchar_t *path_utf16;",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": "bfree",
          "new_api": null,
          "old_text": "bfree(path_utf16)",
          "new_text": null,
          "old_line_content": "\tbfree(path_utf16);",
          "new_line_content": "\t\treturn MKDIR_ERROR;",
          "content_same": false
        },
        {
          "line": 548,
          "old_api": "os_utf8_to_wcs_ptr",
          "new_api": null,
          "old_text": "os_utf8_to_wcs_ptr(old_path, 0, &old_path_utf16)",
          "new_text": null,
          "old_line_content": "\tif (!os_utf8_to_wcs_ptr(old_path, 0, &old_path_utf16)) {",
          "new_line_content": "\twchar_t *new_path_utf16 = NULL;",
          "content_same": false
        },
        {
          "line": 555,
          "old_api": "MoveFileExW",
          "new_api": null,
          "old_text": "MoveFileExW(old_path_utf16, new_path_utf16,\n\t\t\tMOVEFILE_REPLACE_EXISTING)",
          "new_text": null,
          "old_line_content": "\tcode = MoveFileExW(old_path_utf16, new_path_utf16,",
          "new_line_content": "\t\tgoto error;",
          "content_same": false
        },
        {
          "line": 559,
          "old_api": "bfree",
          "new_api": null,
          "old_text": "bfree(old_path_utf16)",
          "new_text": null,
          "old_line_content": "\tbfree(old_path_utf16);",
          "new_line_content": "\t\t\tMOVEFILE_REPLACE_EXISTING) ? 0 : -1;",
          "content_same": false
        },
        {
          "line": 560,
          "old_api": "bfree",
          "new_api": null,
          "old_text": "bfree(new_path_utf16)",
          "new_text": null,
          "old_line_content": "\tbfree(new_path_utf16);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 49,
          "old_api": "get_win_ver",
          "new_api": null,
          "old_text": "get_win_ver(&ver)",
          "new_text": null,
          "old_line_content": "\t\tget_win_ver(&ver);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 573,
          "old_api": "os_utf8_to_wcs_ptr",
          "new_api": null,
          "old_text": "os_utf8_to_wcs_ptr(target, 0, &wtarget)",
          "new_text": null,
          "old_line_content": "\tif (!os_utf8_to_wcs_ptr(target, 0, &wtarget))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 575,
          "old_api": "os_utf8_to_wcs_ptr",
          "new_api": null,
          "old_text": "os_utf8_to_wcs_ptr(from, 0, &wfrom)",
          "new_text": null,
          "old_line_content": "\tif (!os_utf8_to_wcs_ptr(from, 0, &wfrom))",
          "new_line_content": "\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 577,
          "old_api": "os_utf8_to_wcs_ptr",
          "new_api": null,
          "old_text": "os_utf8_to_wcs_ptr(backup, 0, &wbackup)",
          "new_text": null,
          "old_line_content": "\tif (backup && !os_utf8_to_wcs_ptr(backup, 0, &wbackup))",
          "new_line_content": "\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 66,
          "old_api": "dstr_init_copy",
          "new_api": null,
          "old_text": "dstr_init_copy(&dll_name, path)",
          "new_text": null,
          "old_line_content": "\tdstr_init_copy(&dll_name, path);",
          "new_line_content": "\tif (!path)",
          "content_same": false
        },
        {
          "line": 67,
          "old_api": "dstr_replace",
          "new_api": null,
          "old_text": "dstr_replace(&dll_name, \"\\\\\", \"/\")",
          "new_text": null,
          "old_line_content": "\tdstr_replace(&dll_name, \"\\\\\", \"/\");",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 68,
          "old_api": "dstr_find",
          "new_api": null,
          "old_text": "dstr_find(&dll_name, \".dll\")",
          "new_text": null,
          "old_line_content": "\tif (!dstr_find(&dll_name, \".dll\"))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 582,
          "old_api": "GetLastError",
          "new_api": null,
          "old_text": "GetLastError()",
          "new_text": null,
          "old_line_content": "\t} else if (GetLastError() == ERROR_FILE_NOT_FOUND) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 76,
          "old_api": "wcsrchr",
          "new_api": null,
          "old_text": "wcsrchr(wpath, L'/')",
          "new_text": null,
          "old_line_content": "\twpath_slash = wcsrchr(wpath, L'/');",
          "new_line_content": "\t/* to make module dependency issues easier to deal with, allow",
          "content_same": false
        },
        {
          "line": 588,
          "old_api": "bfree",
          "new_api": null,
          "old_text": "bfree(wtarget)",
          "new_text": null,
          "old_line_content": "\tbfree(wtarget);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 589,
          "old_api": "bfree",
          "new_api": null,
          "old_text": "bfree(wfrom)",
          "new_text": null,
          "old_line_content": "\tbfree(wfrom);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 590,
          "old_api": "bfree",
          "new_api": null,
          "old_text": "bfree(wbackup)",
          "new_text": null,
          "old_line_content": "\tbfree(wbackup);",
          "new_line_content": "fail:",
          "content_same": false
        },
        {
          "line": 83,
          "old_api": "LoadLibraryW",
          "new_api": null,
          "old_text": "LoadLibraryW(wpath)",
          "new_text": null,
          "old_line_content": "\th_library = LoadLibraryW(wpath);",
          "new_line_content": "\t\t*wpath_slash = L'/';",
          "content_same": false
        },
        {
          "line": 84,
          "old_api": "bfree",
          "new_api": null,
          "old_text": "bfree(wpath)",
          "new_text": null,
          "old_line_content": "\tbfree(wpath);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 85,
          "old_api": "dstr_free",
          "new_api": null,
          "old_text": "dstr_free(&dll_name)",
          "new_text": null,
          "old_line_content": "\tdstr_free(&dll_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 599,
          "old_api": "timeBeginPeriod",
          "new_api": null,
          "old_text": "timeBeginPeriod(1)",
          "new_text": null,
          "old_line_content": "\t\ttimeBeginPeriod(1);",
          "new_line_content": "\tswitch (reason) {",
          "content_same": false
        },
        {
          "line": 601,
          "old_api": "pthread_win32_process_attach_np",
          "new_api": null,
          "old_text": "pthread_win32_process_attach_np()",
          "new_text": null,
          "old_line_content": "\t\tpthread_win32_process_attach_np();",
          "new_line_content": "\tcase DLL_PROCESS_ATTACH:",
          "content_same": false
        },
        {
          "line": 606,
          "old_api": "timeEndPeriod",
          "new_api": null,
          "old_text": "timeEndPeriod(1)",
          "new_text": null,
          "old_line_content": "\t\ttimeEndPeriod(1);",
          "new_line_content": "\t\tbreak;",
          "content_same": false
        },
        {
          "line": 608,
          "old_api": "pthread_win32_process_detach_np",
          "new_api": null,
          "old_text": "pthread_win32_process_detach_np()",
          "new_text": null,
          "old_line_content": "\t\tpthread_win32_process_detach_np();",
          "new_line_content": "\tcase DLL_PROCESS_DETACH:",
          "content_same": false
        },
        {
          "line": 98,
          "old_api": "MAKELANGID",
          "new_api": null,
          "old_text": "MAKELANGID(LANG_ENGLISH, SUBLANG_ENGLISH_US)",
          "new_text": null,
          "old_line_content": "\t\t               MAKELANGID(LANG_ENGLISH, SUBLANG_ENGLISH_US),",
          "new_line_content": "\t\t               FORMAT_MESSAGE_IGNORE_INSERTS |",
          "content_same": false
        },
        {
          "line": 614,
          "old_api": "pthread_win32_thread_attach_np",
          "new_api": null,
          "old_text": "pthread_win32_thread_attach_np()",
          "new_text": null,
          "old_line_content": "\t\tpthread_win32_thread_attach_np();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 105,
          "old_api": "LocalFree",
          "new_api": null,
          "old_text": "LocalFree(message)",
          "new_text": null,
          "old_line_content": "\t\t\tLocalFree(message);",
          "new_line_content": "\t\t\t\tpath, message, error);",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": "pthread_win32_thread_detach_np",
          "new_api": null,
          "old_text": "pthread_win32_thread_detach_np()",
          "new_text": null,
          "old_line_content": "\t\tpthread_win32_thread_detach_np();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 625,
          "old_api": "UNUSED_PARAMETER",
          "new_api": null,
          "old_text": "UNUSED_PARAMETER(hinst_dll)",
          "new_text": null,
          "old_line_content": "\tUNUSED_PARAMETER(hinst_dll);",
          "new_line_content": "\t\tbreak;",
          "content_same": false
        },
        {
          "line": 626,
          "old_api": "UNUSED_PARAMETER",
          "new_api": null,
          "old_text": "UNUSED_PARAMETER(reserved)",
          "new_text": null,
          "old_line_content": "\tUNUSED_PARAMETER(reserved);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 116,
          "old_api": "GetProcAddress",
          "new_api": null,
          "old_text": "GetProcAddress(module, func)",
          "new_text": null,
          "old_line_content": "\thandle = (void*)GetProcAddress(module, func);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 632,
          "old_api": "UNUSED_PARAMETER",
          "new_api": null,
          "old_text": "UNUSED_PARAMETER(reason)",
          "new_text": null,
          "old_line_content": "\tUNUSED_PARAMETER(reason);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 123,
          "old_api": "FreeLibrary",
          "new_api": null,
          "old_text": "FreeLibrary(module)",
          "new_text": null,
          "old_line_content": "\tFreeLibrary(module);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": "UNUSED_PARAMETER",
          "new_api": null,
          "old_text": "UNUSED_PARAMETER(token)",
          "new_text": null,
          "old_line_content": "\tUNUSED_PARAMETER(token);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 647,
          "old_api": "os_utf8_to_wcs_ptr",
          "new_api": null,
          "old_text": "os_utf8_to_wcs_ptr(file_in, 0, &file_in_utf16)",
          "new_text": null,
          "old_line_content": "\tif (!os_utf8_to_wcs_ptr(file_in, 0, &file_in_utf16)) {",
          "new_line_content": "\twchar_t *file_out_utf16 = NULL;",
          "content_same": false
        },
        {
          "line": 138,
          "old_api": "bzalloc",
          "new_api": null,
          "old_text": "bzalloc(sizeof(*info))",
          "new_text": null,
          "old_line_content": "\tstruct os_cpu_usage_info *info = bzalloc(sizeof(*info));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 142,
          "old_api": "GetSystemInfo",
          "new_api": null,
          "old_text": "GetSystemInfo(&si)",
          "new_text": null,
          "old_line_content": "\tGetSystemInfo(&si);",
          "new_line_content": "\tSYSTEM_INFO           si;",
          "content_same": false
        },
        {
          "line": 143,
          "old_api": "GetSystemTimeAsFileTime",
          "new_api": null,
          "old_text": "GetSystemTimeAsFileTime(&info->last_time.ft)",
          "new_text": null,
          "old_line_content": "\tGetSystemTimeAsFileTime(&info->last_time.ft);",
          "new_line_content": "\tFILETIME              dummy;",
          "content_same": false
        },
        {
          "line": 144,
          "old_api": "GetCurrentProcess",
          "new_api": null,
          "old_text": "GetCurrentProcess()",
          "new_text": null,
          "old_line_content": "\tGetProcessTimes(GetCurrentProcess(), &dummy, &dummy,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 654,
          "old_api": "CopyFileW",
          "new_api": null,
          "old_text": "CopyFileW(file_in_utf16, file_out_utf16, true)",
          "new_text": null,
          "old_line_content": "\tcode = CopyFileW(file_in_utf16, file_out_utf16, true) ? 0 : -1;",
          "new_line_content": "\t\tgoto error;",
          "content_same": false
        },
        {
          "line": 658,
          "old_api": "bfree",
          "new_api": null,
          "old_text": "bfree(file_out_utf16)",
          "new_text": null,
          "old_line_content": "\tbfree(file_out_utf16);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 667,
          "old_api": "GetCurrentDirectoryW",
          "new_api": null,
          "old_text": "GetCurrentDirectoryW(0, NULL)",
          "new_text": null,
          "old_line_content": "\tlen = GetCurrentDirectoryW(0, NULL);",
          "new_line_content": "\twchar_t *path_w;",
          "content_same": false
        },
        {
          "line": 671,
          "old_api": "bmalloc",
          "new_api": null,
          "old_text": "bmalloc((len + 1) * sizeof(wchar_t))",
          "new_text": null,
          "old_line_content": "\tpath_w = bmalloc((len + 1) * sizeof(wchar_t));",
          "new_line_content": "\tif (!len)",
          "content_same": false
        },
        {
          "line": 160,
          "old_api": "GetSystemTimeAsFileTime",
          "new_api": null,
          "old_text": "GetSystemTimeAsFileTime(&cur_time.ft)",
          "new_text": null,
          "old_line_content": "\tGetSystemTimeAsFileTime(&cur_time.ft);",
          "new_line_content": "\tif (!info)",
          "content_same": false
        },
        {
          "line": 161,
          "old_api": "GetCurrentProcess",
          "new_api": null,
          "old_text": "GetCurrentProcess()",
          "new_text": null,
          "old_line_content": "\tGetProcessTimes(GetCurrentProcess(), &dummy, &dummy,",
          "new_line_content": "\t\treturn 0.0;",
          "content_same": false
        },
        {
          "line": 672,
          "old_api": "GetCurrentDirectoryW",
          "new_api": null,
          "old_text": "GetCurrentDirectoryW(len + 1, path_w)",
          "new_text": null,
          "old_line_content": "\tGetCurrentDirectoryW(len + 1, path_w);",
          "new_line_content": "\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 673,
          "old_api": "os_wcs_to_utf8",
          "new_api": null,
          "old_text": "os_wcs_to_utf8(path_w, (size_t)len, path, size)",
          "new_text": null,
          "old_line_content": "\tos_wcs_to_utf8(path_w, (size_t)len, path, size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 685,
          "old_api": "os_utf8_to_wcs_ptr",
          "new_api": null,
          "old_text": "os_utf8_to_wcs_ptr(path, 0, &path_w)",
          "new_text": null,
          "old_line_content": "\tsize = os_utf8_to_wcs_ptr(path, 0, &path_w);",
          "new_line_content": "\tsize_t size;",
          "content_same": false
        },
        {
          "line": 689,
          "old_api": "SetCurrentDirectoryW",
          "new_api": null,
          "old_text": "SetCurrentDirectoryW(path_w)",
          "new_text": null,
          "old_line_content": "\tret = SetCurrentDirectoryW(path_w) ? 0 : -1;",
          "new_line_content": "\tif (!path_w)",
          "content_same": false
        },
        {
          "line": 690,
          "old_api": "bfree",
          "new_api": null,
          "old_text": "bfree(path_w)",
          "new_text": null,
          "old_line_content": "\tbfree(path_w);",
          "new_line_content": "\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 179,
          "old_api": "bfree",
          "new_api": null,
          "old_text": "bfree(info)",
          "new_text": null,
          "old_line_content": "\t\tbfree(info);",
          "new_line_content": "void os_cpu_usage_info_destroy(os_cpu_usage_info_t *info)",
          "content_same": false
        },
        {
          "line": 184,
          "old_api": "os_gettime_ns",
          "new_api": null,
          "old_text": "os_gettime_ns()",
          "new_text": null,
          "old_line_content": "\tuint64_t t = os_gettime_ns();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 192,
          "old_api": "Sleep",
          "new_api": null,
          "old_text": "Sleep(milliseconds-1)",
          "new_text": null,
          "old_line_content": "\t\tSleep(milliseconds-1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 200,
          "old_api": "Sleep",
          "new_api": null,
          "old_text": "Sleep(1)",
          "new_text": null,
          "old_line_content": "\t\tSleep(1);",
          "new_line_content": "\t\t\treturn true;",
          "content_same": false
        },
        {
          "line": 202,
          "old_api": "Sleep",
          "new_api": null,
          "old_text": "Sleep(0)",
          "new_text": null,
          "old_line_content": "\t\tSleep(0);",
          "new_line_content": "#if 0",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": "GetModuleHandleW",
          "new_api": null,
          "old_text": "GetModuleHandleW(L\"version\")",
          "new_text": null,
          "old_line_content": "\tHMODULE ver = GetModuleHandleW(L\"version\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 210,
          "old_api": "get_winver",
          "new_api": null,
          "old_text": "get_winver()",
          "new_text": null,
          "old_line_content": "\tif (get_winver() >= 0x0602 && duration > 0)",
          "new_line_content": "void os_sleep_ms(uint32_t duration)",
          "content_same": false
        },
        {
          "line": 722,
          "old_api": "LoadLibraryW",
          "new_api": null,
          "old_text": "LoadLibraryW(L\"version\")",
          "new_text": null,
          "old_line_content": "\t\tver = LoadLibraryW(L\"version\");",
          "new_line_content": "\tver_initialized = true;",
          "content_same": false
        },
        {
          "line": 724,
          "old_api": "blog",
          "new_api": null,
          "old_text": "blog(LOG_ERROR, \"Failed to load windows \"\n\t\t\t\t\t\"version library\")",
          "new_text": null,
          "old_line_content": "\t\t\tblog(LOG_ERROR, \"Failed to load windows \"",
          "new_line_content": "\tif (!ver) {",
          "content_same": false
        },
        {
          "line": 731,
          "old_api": "GetProcAddress",
          "new_api": null,
          "old_text": "GetProcAddress(ver, \"GetFileVersionInfoSizeW\")",
          "new_text": null,
          "old_line_content": "\t\tGetProcAddress(ver, \"GetFileVersionInfoSizeW\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 221,
          "old_api": "QueryPerformanceCounter",
          "new_api": null,
          "old_text": "QueryPerformanceCounter(&current_time)",
          "new_text": null,
          "old_line_content": "\tQueryPerformanceCounter(&current_time);",
          "new_line_content": "\tLARGE_INTEGER current_time;",
          "content_same": false
        },
        {
          "line": 733,
          "old_api": "GetProcAddress",
          "new_api": null,
          "old_text": "GetProcAddress(ver, \"GetFileVersionInfoW\")",
          "new_text": null,
          "old_line_content": "\t\tGetProcAddress(ver, \"GetFileVersionInfoW\");",
          "new_line_content": "\tget_file_version_info_size = (get_file_version_info_size_w_t)",
          "content_same": false
        },
        {
          "line": 735,
          "old_api": "GetProcAddress",
          "new_api": null,
          "old_text": "GetProcAddress(ver, \"VerQueryValueW\")",
          "new_text": null,
          "old_line_content": "\t\tGetProcAddress(ver, \"VerQueryValueW\");",
          "new_line_content": "\tget_file_version_info = (get_file_version_info_w_t)",
          "content_same": false
        },
        {
          "line": 740,
          "old_api": "blog",
          "new_api": null,
          "old_text": "blog(LOG_ERROR, \"Failed to load windows version \"\n\t\t\t\t\"functions\")",
          "new_text": null,
          "old_line_content": "\t\tblog(LOG_ERROR, \"Failed to load windows version \"",
          "new_line_content": "\tif (!get_file_version_info_size ||",
          "content_same": false
        },
        {
          "line": 235,
          "old_api": "SHGetFolderPathW",
          "new_api": null,
          "old_text": "SHGetFolderPathW(NULL, folder, NULL, SHGFP_TYPE_CURRENT,\n\t\t\tpath_utf16)",
          "new_text": null,
          "old_line_content": "\tSHGetFolderPathW(NULL, folder, NULL, SHGFP_TYPE_CURRENT,",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 240,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(dst)",
          "new_text": null,
          "old_line_content": "\t\t\treturn (int)strlen(dst);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 244,
          "old_api": "strcat_s",
          "new_api": null,
          "old_text": "strcat_s(dst, size, name)",
          "new_text": null,
          "old_line_content": "\t\t\tif (strcat_s(dst, size, name) == 0) {",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 245,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(dst)",
          "new_text": null,
          "old_line_content": "\t\t\t\treturn (int)strlen(dst);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 758,
          "old_api": "initialize_version_functions",
          "new_api": null,
          "old_text": "initialize_version_functions()",
          "new_text": null,
          "old_line_content": "\tif (!ver_initialized && !initialize_version_functions())",
          "new_line_content": "\tDWORD size;",
          "content_same": false
        },
        {
          "line": 763,
          "old_api": "os_wcs_to_utf8",
          "new_api": null,
          "old_text": "os_wcs_to_utf8(lib, 0, utf8_lib, sizeof(utf8_lib))",
          "new_text": null,
          "old_line_content": "\tos_wcs_to_utf8(lib, 0, utf8_lib, sizeof(utf8_lib));",
          "new_line_content": "\tif (!ver_initialize_success)",
          "content_same": false
        },
        {
          "line": 765,
          "old_api": "get_file_version_info_size",
          "new_api": null,
          "old_text": "get_file_version_info_size(lib, NULL)",
          "new_text": null,
          "old_line_content": "\tsize = get_file_version_info_size(lib, NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 767,
          "old_api": "blog",
          "new_api": null,
          "old_text": "blog(LOG_ERROR, \"Failed to get %s version info size\", utf8_lib)",
          "new_text": null,
          "old_line_content": "\t\tblog(LOG_ERROR, \"Failed to get %s version info size\", utf8_lib);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 259,
          "old_api": "SHGetFolderPathW",
          "new_api": null,
          "old_text": "SHGetFolderPathW(NULL, folder, NULL, SHGFP_TYPE_CURRENT,\n\t\t\tpath_utf16)",
          "new_text": null,
          "old_line_content": "\tSHGetFolderPathW(NULL, folder, NULL, SHGFP_TYPE_CURRENT,",
          "new_line_content": "\twchar_t path_utf16[MAX_PATH];",
          "content_same": false
        },
        {
          "line": 771,
          "old_api": "bmalloc",
          "new_api": null,
          "old_text": "bmalloc(size)",
          "new_text": null,
          "old_line_content": "\tdata = bmalloc(size);",
          "new_line_content": "\t\treturn false;",
          "content_same": false
        },
        {
          "line": 772,
          "old_api": "get_file_version_info",
          "new_api": null,
          "old_text": "get_file_version_info(lib, 0, size, data)",
          "new_text": null,
          "old_line_content": "\tif (!get_file_version_info(lib, 0, size, data)) {",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 773,
          "old_api": "blog",
          "new_api": null,
          "old_text": "blog(LOG_ERROR, \"Failed to get %s version info\", utf8_lib)",
          "new_text": null,
          "old_line_content": "\t\tblog(LOG_ERROR, \"Failed to get %s version info\", utf8_lib);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 263,
          "old_api": "dstr_init_move_array",
          "new_api": null,
          "old_text": "dstr_init_move_array(&path, ptr)",
          "new_text": null,
          "old_line_content": "\tdstr_init_move_array(&path, ptr);",
          "new_line_content": "\t\t\tpath_utf16);",
          "content_same": false
        },
        {
          "line": 264,
          "old_api": "dstr_cat",
          "new_api": null,
          "old_text": "dstr_cat(&path, \"\\\\\")",
          "new_text": null,
          "old_line_content": "\tdstr_cat(&path, \"\\\\\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 778,
          "old_api": "ver_query_value",
          "new_api": null,
          "old_text": "ver_query_value(data, L\"\\\\\", (LPVOID*)&info, &len)",
          "new_text": null,
          "old_line_content": "\tsuccess = ver_query_value(data, L\"\\\\\", (LPVOID*)&info, &len);",
          "new_line_content": "\t\treturn false;",
          "content_same": false
        },
        {
          "line": 780,
          "old_api": "blog",
          "new_api": null,
          "old_text": "blog(LOG_ERROR, \"Failed to get %s version info value\", utf8_lib)",
          "new_text": null,
          "old_line_content": "\t\tblog(LOG_ERROR, \"Failed to get %s version info value\", utf8_lib);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 271,
          "old_api": "os_get_path_internal",
          "new_api": null,
          "old_text": "os_get_path_internal(dst, size, name, CSIDL_APPDATA)",
          "new_text": null,
          "old_line_content": "\treturn os_get_path_internal(dst, size, name, CSIDL_APPDATA);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 785,
          "old_api": "HIWORD",
          "new_api": null,
          "old_text": "HIWORD(info->dwFileVersionMS)",
          "new_text": null,
          "old_line_content": "\tver_info->major = (int)HIWORD(info->dwFileVersionMS);",
          "new_line_content": "\t\treturn false;",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": "LOWORD",
          "new_api": null,
          "old_text": "LOWORD(info->dwFileVersionMS)",
          "new_text": null,
          "old_line_content": "\tver_info->minor = (int)LOWORD(info->dwFileVersionMS);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 787,
          "old_api": "HIWORD",
          "new_api": null,
          "old_text": "HIWORD(info->dwFileVersionLS)",
          "new_text": null,
          "old_line_content": "\tver_info->build = (int)HIWORD(info->dwFileVersionLS);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 276,
          "old_api": "os_get_path_ptr_internal",
          "new_api": null,
          "old_text": "os_get_path_ptr_internal(name, CSIDL_APPDATA)",
          "new_text": null,
          "old_line_content": "\treturn os_get_path_ptr_internal(name, CSIDL_APPDATA);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 281,
          "old_api": "os_get_path_internal",
          "new_api": null,
          "old_text": "os_get_path_internal(dst, size, name, CSIDL_COMMON_APPDATA)",
          "new_text": null,
          "old_line_content": "\treturn os_get_path_internal(dst, size, name, CSIDL_COMMON_APPDATA);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 286,
          "old_api": "os_get_path_ptr_internal",
          "new_api": null,
          "old_text": "os_get_path_ptr_internal(name, CSIDL_COMMON_APPDATA)",
          "new_text": null,
          "old_line_content": "\treturn os_get_path_ptr_internal(name, CSIDL_COMMON_APPDATA);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 800,
          "old_api": "GetCurrentProcess",
          "new_api": null,
          "old_text": "GetCurrentProcess()",
          "new_text": null,
          "old_line_content": "\treturn IsWow64Process(GetCurrentProcess(), &b64) && b64;",
          "new_line_content": "\treturn true;",
          "content_same": false
        },
        {
          "line": 295,
          "old_api": "os_utf8_to_wcs_ptr",
          "new_api": null,
          "old_text": "os_utf8_to_wcs_ptr(path, 0, &path_utf16)",
          "new_text": null,
          "old_line_content": "\tif (!os_utf8_to_wcs_ptr(path, 0, &path_utf16))",
          "new_line_content": "\tHANDLE hFind;",
          "content_same": false
        },
        {
          "line": 811,
          "old_api": "RegOpenKeyEx",
          "new_api": null,
          "old_text": "RegOpenKeyEx(hkey, sub_key, 0, KEY_READ, &key)",
          "new_text": null,
          "old_line_content": "\tstatus = RegOpenKeyEx(hkey, sub_key, 0, KEY_READ, &key);",
          "new_line_content": "\tHKEY key;",
          "content_same": false
        },
        {
          "line": 300,
          "old_api": "FindClose",
          "new_api": null,
          "old_text": "FindClose(hFind)",
          "new_text": null,
          "old_line_content": "\t\tFindClose(hFind);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 302,
          "old_api": "bfree",
          "new_api": null,
          "old_text": "bfree(path_utf16)",
          "new_text": null,
          "old_line_content": "\tbfree(path_utf16);",
          "new_line_content": "\tif (hFind != INVALID_HANDLE_VALUE)",
          "content_same": false
        },
        {
          "line": 822,
          "old_api": "RegQueryValueExW",
          "new_api": null,
          "old_text": "RegQueryValueExW(key, value_name, NULL, NULL,\n\t\t\t(LPBYTE)&reg.return_value, &reg.size)",
          "new_text": null,
          "old_line_content": "\treg.status = RegQueryValueExW(key, value_name, NULL, NULL,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 316,
          "old_api": "os_utf8_to_wcs",
          "new_api": null,
          "old_text": "os_utf8_to_wcs(path, 0, wpath, 512)",
          "new_text": null,
          "old_line_content": "\tlen = os_utf8_to_wcs(path, 0, wpath, 512);",
          "new_line_content": "\tif (!abspath)",
          "content_same": false
        },
        {
          "line": 320,
          "old_api": "_wfullpath",
          "new_api": null,
          "old_text": "_wfullpath(wabspath, wpath, 512)",
          "new_text": null,
          "old_line_content": "\tif (_wfullpath(wabspath, wpath, 512) != NULL)",
          "new_line_content": "\tif (!len)",
          "content_same": false
        },
        {
          "line": 321,
          "old_api": "os_wcs_to_utf8",
          "new_api": null,
          "old_text": "os_wcs_to_utf8(wabspath, 0, abspath, size)",
          "new_text": null,
          "old_line_content": "\t\tout_len = os_wcs_to_utf8(wabspath, 0, abspath, size);",
          "new_line_content": "\t\treturn 0;",
          "content_same": false
        },
        {
          "line": 327,
          "old_api": "bmalloc",
          "new_api": null,
          "old_text": "bmalloc(512)",
          "new_text": null,
          "old_line_content": "\tchar *ptr = bmalloc(512);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 329,
          "old_api": "os_get_abs_path",
          "new_api": null,
          "old_text": "os_get_abs_path(path, ptr, 512)",
          "new_text": null,
          "old_line_content": "\tif (!os_get_abs_path(path, ptr, 512)) {",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": "get_dll_ver",
          "new_api": null,
          "old_text": "get_dll_ver(L\"kernel32\", &ver)",
          "new_text": null,
          "old_line_content": "\t\tget_dll_ver(L\"kernel32\", &ver);",
          "new_line_content": "\t\treturn;",
          "content_same": false
        },
        {
          "line": 849,
          "old_api": "RegOpenKeyW",
          "new_api": null,
          "old_text": "RegOpenKeyW(HKEY_LOCAL_MACHINE,\n\t\t\t\t\tWINVER_REG_KEY, &key)",
          "new_text": null,
          "old_line_content": "\t\t\tstatus = RegOpenKeyW(HKEY_LOCAL_MACHINE,",
          "new_line_content": "\t\t\tDWORD   size, win10_revision;",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": "RegQueryValueExW",
          "new_api": null,
          "old_text": "RegQueryValueExW(key, L\"UBR\", NULL, NULL,\n\t\t\t\t\t(LPBYTE)&win10_revision, &size)",
          "new_text": null,
          "old_line_content": "\t\t\tstatus = RegQueryValueExW(key, L\"UBR\", NULL, NULL,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 862,
          "old_api": "RegCloseKey",
          "new_api": null,
          "old_text": "RegCloseKey(key)",
          "new_text": null,
          "old_line_content": "\t\t\tRegCloseKey(key);",
          "new_line_content": "\t\t\t\tver.revis = (int)win10_revision > ver.revis ?",
          "content_same": false
        },
        {
          "line": 352,
          "old_api": "dstr_copy",
          "new_api": null,
          "old_text": "dstr_copy(&path_str, path)",
          "new_text": null,
          "old_line_content": "\tdstr_copy(&path_str, path);",
          "new_line_content": "\tHANDLE          handle;",
          "content_same": false
        },
        {
          "line": 353,
          "old_api": "dstr_cat",
          "new_api": null,
          "old_text": "dstr_cat(&path_str, \"/*.*\")",
          "new_text": null,
          "old_line_content": "\tdstr_cat(&path_str, \"/*.*\");",
          "new_line_content": "\twchar_t         *w_path;",
          "content_same": false
        },
        {
          "line": 875,
          "old_api": "UNUSED_PARAMETER",
          "new_api": null,
          "old_text": "UNUSED_PARAMETER(reason)",
          "new_text": null,
          "old_line_content": "\tUNUSED_PARAMETER(reason);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 364,
          "old_api": "bfree",
          "new_api": null,
          "old_text": "bfree(w_path)",
          "new_text": null,
          "old_line_content": "\t\tbfree(w_path);",
          "new_line_content": "\t\t\tdir->wfd    = wfd;",
          "content_same": false
        },
        {
          "line": 876,
          "old_api": "bzalloc",
          "new_api": null,
          "old_text": "bzalloc(sizeof(struct os_inhibit_info))",
          "new_text": null,
          "old_line_content": "\treturn bzalloc(sizeof(struct os_inhibit_info));",
          "new_line_content": "os_inhibit_t *os_inhibit_sleep_create(const char *reason)",
          "content_same": false
        },
        {
          "line": 887,
          "old_api": "SetThreadExecutionState",
          "new_api": null,
          "old_text": "SetThreadExecutionState(\n\t\t\t\tES_CONTINUOUS |\n\t\t\t\tES_SYSTEM_REQUIRED |\n\t\t\t\tES_AWAYMODE_REQUIRED |\n\t\t\t\tES_DISPLAY_REQUIRED)",
          "new_text": null,
          "old_line_content": "\t\tSetThreadExecutionState(",
          "new_line_content": "\t\treturn false;",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": "SetThreadExecutionState",
          "new_api": null,
          "old_text": "SetThreadExecutionState(ES_CONTINUOUS)",
          "new_text": null,
          "old_line_content": "\t\tSetThreadExecutionState(ES_CONTINUOUS);",
          "new_line_content": "\t\t\t\tES_AWAYMODE_REQUIRED |",
          "content_same": false
        },
        {
          "line": 385,
          "old_api": "FindNextFileW",
          "new_api": null,
          "old_text": "FindNextFileW(dir->handle, &dir->wfd)",
          "new_text": null,
          "old_line_content": "\t\tif (!FindNextFileW(dir->handle, &dir->wfd))",
          "new_line_content": "\tif (dir->first) {",
          "content_same": false
        },
        {
          "line": 389,
          "old_api": "os_wcs_to_utf8",
          "new_api": null,
          "old_text": "os_wcs_to_utf8(dir->wfd.cFileName, 0, dir->out.d_name,\n\t\t\tsizeof(dir->out.d_name))",
          "new_text": null,
          "old_line_content": "\tos_wcs_to_utf8(dir->wfd.cFileName, 0, dir->out.d_name,",
          "new_line_content": "\t\t\treturn NULL;",
          "content_same": false
        },
        {
          "line": 903,
          "old_api": "os_inhibit_sleep_set_active",
          "new_api": null,
          "old_text": "os_inhibit_sleep_set_active(info, false)",
          "new_text": null,
          "old_line_content": "\t\tos_inhibit_sleep_set_active(info, false);",
          "new_line_content": "void os_inhibit_sleep_destroy(os_inhibit_t *info)",
          "content_same": false
        },
        {
          "line": 904,
          "old_api": "bfree",
          "new_api": null,
          "old_text": "bfree(info)",
          "new_text": null,
          "old_line_content": "\t\tbfree(info);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 910,
          "old_api": "__debugbreak",
          "new_api": null,
          "old_text": "__debugbreak()",
          "new_text": null,
          "old_line_content": "\t__debugbreak();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 400,
          "old_api": "FindClose",
          "new_api": null,
          "old_text": "FindClose(dir->handle)",
          "new_text": null,
          "old_line_content": "\t\tFindClose(dir->handle);",
          "new_line_content": "void os_closedir(os_dir_t *dir)",
          "content_same": false
        },
        {
          "line": 401,
          "old_api": "bfree",
          "new_api": null,
          "old_text": "bfree(dir)",
          "new_text": null,
          "old_line_content": "\t\tbfree(dir);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 411,
          "old_api": "os_get_abs_path",
          "new_api": null,
          "old_text": "os_get_abs_path(path, abs_path, 512)",
          "new_text": null,
          "old_line_content": "\tif (os_get_abs_path(path, abs_path, 512) > 0) {",
          "new_line_content": "\tchar            abs_path[512];",
          "content_same": false
        },
        {
          "line": 412,
          "old_api": "os_utf8_to_wcs",
          "new_api": null,
          "old_text": "os_utf8_to_wcs(abs_path, 0, w_abs_path, 512)",
          "new_text": null,
          "old_line_content": "\t\tif (os_utf8_to_wcs(abs_path, 0, w_abs_path, 512) > 0) {",
          "new_line_content": "\twchar_t         w_abs_path[512];",
          "content_same": false
        },
        {
          "line": 413,
          "old_api": "GetDiskFreeSpaceExW",
          "new_api": null,
          "old_text": "GetDiskFreeSpaceExW(w_abs_path,\n\t\t\t\t\t(PULARGE_INTEGER)&remainingSpace,\n\t\t\t\t\tNULL, NULL)",
          "new_text": null,
          "old_line_content": "\t\t\tBOOL success = GetDiskFreeSpaceExW(w_abs_path,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 941,
          "old_api": "GetLogicalProcessorInformation",
          "new_api": null,
          "old_text": "GetLogicalProcessorInformation(info, &len)",
          "new_text": null,
          "old_line_content": "\tGetLogicalProcessorInformation(info, &len);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 942,
          "old_api": "GetLastError",
          "new_api": null,
          "old_text": "GetLastError()",
          "new_text": null,
          "old_line_content": "\tif (GetLastError() != ERROR_INSUFFICIENT_BUFFER)",
          "new_line_content": "\tcore_count_initialized = true;",
          "content_same": false
        },
        {
          "line": 431,
          "old_api": "dstr_from_wcs",
          "new_api": null,
          "old_text": "dstr_from_wcs(&name, wfd->cFileName)",
          "new_text": null,
          "old_line_content": "\tdstr_from_wcs(&name, wfd->cFileName);",
          "new_line_content": "\tstruct dstr path = {0};",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": "dstr_copy",
          "new_api": null,
          "old_text": "dstr_copy(&path, pattern)",
          "new_text": null,
          "old_line_content": "\tdstr_copy(&path, pattern);",
          "new_line_content": "\tchar *slash;",
          "content_same": false
        },
        {
          "line": 433,
          "old_api": "strrchr",
          "new_api": null,
          "old_text": "strrchr(path.array, '/')",
          "new_text": null,
          "old_line_content": "\tslash = strrchr(path.array, '/');",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 947,
          "old_api": "GetLogicalProcessorInformation",
          "new_api": null,
          "old_text": "GetLogicalProcessorInformation(info, &len)",
          "new_text": null,
          "old_line_content": "\tif (GetLogicalProcessorInformation(info, &len)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 437,
          "old_api": "dstr_free",
          "new_api": null,
          "old_text": "dstr_free(&path)",
          "new_text": null,
          "old_line_content": "\t\tdstr_free(&path);",
          "new_line_content": "\tif (slash)",
          "content_same": false
        },
        {
          "line": 439,
          "old_api": "dstr_cat_dstr",
          "new_api": null,
          "old_text": "dstr_cat_dstr(&path, &name)",
          "new_text": null,
          "old_line_content": "\tdstr_cat_dstr(&path, &name);",
          "new_line_content": "\telse",
          "content_same": false
        },
        {
          "line": 441,
          "old_api": "is_dir",
          "new_api": null,
          "old_text": "is_dir(wfd)",
          "new_text": null,
          "old_line_content": "\tent->directory = is_dir(wfd);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 443,
          "old_api": "dstr_free",
          "new_api": null,
          "old_text": "dstr_free(&name)",
          "new_text": null,
          "old_line_content": "\tdstr_free(&name);",
          "new_line_content": "\tent->path = path.array;",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": "num_logical_cores",
          "new_api": null,
          "old_text": "num_logical_cores(mask)",
          "new_text": null,
          "old_line_content": "\t\t\t\tlogical_cores += num_logical_cores(mask);",
          "new_line_content": "\t\t\t\tULONG_PTR mask = temp->ProcessorMask;",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": "free",
          "new_api": null,
          "old_text": "free(info)",
          "new_text": null,
          "old_line_content": "\tfree(info);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 454,
          "old_api": "da_init",
          "new_api": null,
          "old_text": "da_init(files)",
          "new_text": null,
          "old_line_content": "\tda_init(files);",
          "new_line_content": "\tint                       ret = -1;",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": "os_utf8_to_wcs_ptr",
          "new_api": null,
          "old_text": "os_utf8_to_wcs_ptr(pattern, 0, &w_path)",
          "new_text": null,
          "old_line_content": "\tif (os_utf8_to_wcs_ptr(pattern, 0, &w_path) > 0) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 969,
          "old_api": "os_get_cores_internal",
          "new_api": null,
          "old_text": "os_get_cores_internal()",
          "new_text": null,
          "old_line_content": "\t\tos_get_cores_internal();",
          "new_line_content": "int os_get_physical_cores(void)",
          "content_same": false
        },
        {
          "line": 461,
          "old_api": "make_globent",
          "new_api": null,
          "old_text": "make_globent(&ent, &wfd, pattern)",
          "new_text": null,
          "old_line_content": "\t\t\t\tmake_globent(&ent, &wfd, pattern);",
          "new_line_content": "\t\tif (handle != INVALID_HANDLE_VALUE) {",
          "content_same": false
        },
        {
          "line": 463,
          "old_api": "da_push_back",
          "new_api": null,
          "old_text": "da_push_back(files, &ent)",
          "new_text": null,
          "old_line_content": "\t\t\t\t\tda_push_back(files, &ent);",
          "new_line_content": "\t\t\t\tstruct os_globent ent = {0};",
          "content_same": false
        },
        {
          "line": 976,
          "old_api": "os_get_cores_internal",
          "new_api": null,
          "old_text": "os_get_cores_internal()",
          "new_text": null,
          "old_line_content": "\t\tos_get_cores_internal();",
          "new_line_content": "int os_get_logical_cores(void)",
          "content_same": false
        },
        {
          "line": 465,
          "old_api": "FindClose",
          "new_api": null,
          "old_text": "FindClose(handle)",
          "new_text": null,
          "old_line_content": "\t\t\tFindClose(handle);",
          "new_line_content": "\t\t\t\tif (ent.path)",
          "content_same": false
        },
        {
          "line": 982,
          "old_api": "GlobalMemoryStatusEx",
          "new_api": null,
          "old_text": "GlobalMemoryStatusEx(msex)",
          "new_text": null,
          "old_line_content": "\tif (!GlobalMemoryStatusEx(msex))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 474,
          "old_api": "bfree",
          "new_api": null,
          "old_text": "bfree(w_path)",
          "new_text": null,
          "old_line_content": "\t\tbfree(w_path);",
          "new_line_content": "\t\t\tret = 0;",
          "content_same": false
        },
        {
          "line": 990,
          "old_api": "os_get_sys_memory_usage_internal",
          "new_api": null,
          "old_text": "os_get_sys_memory_usage_internal(&msex)",
          "new_text": null,
          "old_line_content": "\tif (!os_get_sys_memory_usage_internal(&msex))",
          "new_line_content": "uint64_t os_get_sys_free_size(void)",
          "content_same": false
        },
        {
          "line": 480,
          "old_api": "UNUSED_PARAMETER",
          "new_api": null,
          "old_text": "UNUSED_PARAMETER(flags)",
          "new_text": null,
          "old_line_content": "\tUNUSED_PARAMETER(flags);",
          "new_line_content": "\tif (ret != 0)",
          "content_same": false
        },
        {
          "line": 997,
          "old_api": "GetCurrentProcess",
          "new_api": null,
          "old_text": "GetCurrentProcess()",
          "new_text": null,
          "old_line_content": "\tif (!GetProcessMemoryInfo(GetCurrentProcess(), pmc, sizeof(*pmc)))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 488,
          "old_api": "bfree",
          "new_api": null,
          "old_text": "bfree(pglob->gl_pathv[i].path)",
          "new_text": null,
          "old_line_content": "\t\t\tbfree(pglob->gl_pathv[i].path);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 489,
          "old_api": "bfree",
          "new_api": null,
          "old_text": "bfree(pglob->gl_pathv)",
          "new_text": null,
          "old_line_content": "\t\tbfree(pglob->gl_pathv);",
          "new_line_content": "\tif (pglob) {",
          "content_same": false
        },
        {
          "line": 490,
          "old_api": "bfree",
          "new_api": null,
          "old_text": "bfree(pglob)",
          "new_text": null,
          "old_line_content": "\t\tbfree(pglob);",
          "new_line_content": "\t\tfor (size_t i = 0; i < pglob->gl_pathc; i++)",
          "content_same": false
        },
        {
          "line": 504,
          "old_api": "bfree",
          "new_api": null,
          "old_text": "bfree(w_path)",
          "new_text": null,
          "old_line_content": "\tbfree(w_path);",
          "new_line_content": "\t\treturn -1;",
          "content_same": false
        },
        {
          "line": 1005,
          "old_api": "os_get_proc_memory_usage_internal",
          "new_api": null,
          "old_text": "os_get_proc_memory_usage_internal(&pmc)",
          "new_text": null,
          "old_line_content": "\tif (!os_get_proc_memory_usage_internal(&pmc))",
          "new_line_content": "bool os_get_proc_memory_usage(os_proc_memory_usage_t *usage)",
          "content_same": false
        },
        {
          "line": 499,
          "old_api": "os_utf8_to_wcs_ptr",
          "new_api": null,
          "old_text": "os_utf8_to_wcs_ptr(path, 0, &w_path)",
          "new_text": null,
          "old_line_content": "\tos_utf8_to_wcs_ptr(path, 0, &w_path);",
          "new_line_content": "\twchar_t *w_path;",
          "content_same": false
        },
        {
          "line": 503,
          "old_api": "DeleteFileW",
          "new_api": null,
          "old_text": "DeleteFileW(w_path)",
          "new_text": null,
          "old_line_content": "\tsuccess = !!DeleteFileW(w_path);",
          "new_line_content": "\tif (!w_path)",
          "content_same": false
        },
        {
          "line": 1016,
          "old_api": "os_get_proc_memory_usage_internal",
          "new_api": null,
          "old_text": "os_get_proc_memory_usage_internal(&pmc)",
          "new_text": null,
          "old_line_content": "\tif (!os_get_proc_memory_usage_internal(&pmc))",
          "new_line_content": "uint64_t os_get_proc_resident_size(void)",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 37,
      "total_additions": 159,
      "total_deletions": 159,
      "total_api_changes": 355
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 4,
        "api_related_lines": 355,
        "non_api_lines": 4,
        "non_api_line_numbers": [
          40,
          42,
          43,
          44
        ]
      }
    },
    "api_calls_before": 203,
    "api_calls_after": 203,
    "diff_info": {
      "added_lines": 4,
      "removed_lines": 1,
      "total_diff_lines": 18
    }
  }
}