{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/obs-studio/modified_file/1ddabc5c7c60223908e221239ce9b905feee362e",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/obs-studio/modified_file/1ddabc5c7c60223908e221239ce9b905feee362e/before.c",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/obs-studio/modified_file/1ddabc5c7c60223908e221239ce9b905feee362e/after.c",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/obs-studio/modified_file/1ddabc5c7c60223908e221239ce9b905feee362e/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 253,
          "old_api": "gs_set_render_target",
          "new_api": "set_render_size",
          "old_text": "gs_set_render_target(target, NULL)",
          "new_text": "set_render_size(width, height)",
          "old_line_content": "\tgs_set_render_target(target, NULL);",
          "new_line_content": "\tset_render_size(width, height);",
          "content_same": false
        },
        {
          "line": 272,
          "old_api": "gs_enable_framebuffer_srgb",
          "new_api": "gs_enable_blending",
          "old_text": "gs_enable_framebuffer_srgb(true)",
          "new_text": "gs_enable_blending(false)",
          "old_line_content": "\tgs_enable_framebuffer_srgb(true);",
          "new_line_content": "\tgs_enable_blending(false);",
          "content_same": false
        },
        {
          "line": 273,
          "old_api": "gs_enable_blending",
          "new_api": "gs_technique_begin",
          "old_text": "gs_enable_blending(false)",
          "new_text": "gs_technique_begin(tech)",
          "old_line_content": "\tgs_enable_blending(false);",
          "new_line_content": "\tpasses = gs_technique_begin(tech);",
          "content_same": false
        },
        {
          "line": 276,
          "old_api": "gs_technique_begin_pass",
          "new_api": "gs_draw_sprite",
          "old_text": "gs_technique_begin_pass(tech, i)",
          "new_text": "gs_draw_sprite(texture, 0, width, height)",
          "old_line_content": "\t\tgs_technique_begin_pass(tech, i);",
          "new_line_content": "\t\tgs_draw_sprite(texture, 0, width, height);",
          "content_same": false
        },
        {
          "line": 277,
          "old_api": "gs_draw_sprite",
          "new_api": "gs_technique_end_pass",
          "old_text": "gs_draw_sprite(texture, 0, width, height)",
          "new_text": "gs_technique_end_pass(tech)",
          "old_line_content": "\t\tgs_draw_sprite(texture, 0, width, height);",
          "new_line_content": "\t\tgs_technique_end_pass(tech);",
          "content_same": false
        },
        {
          "line": 280,
          "old_api": "gs_technique_end",
          "new_api": "gs_enable_blending",
          "old_text": "gs_technique_end(tech)",
          "new_text": "gs_enable_blending(true)",
          "old_line_content": "\tgs_technique_end(tech);",
          "new_line_content": "\tgs_enable_blending(true);",
          "content_same": false
        },
        {
          "line": 281,
          "old_api": "gs_enable_blending",
          "new_api": "gs_enable_framebuffer_srgb",
          "old_text": "gs_enable_blending(true)",
          "new_text": "gs_enable_framebuffer_srgb(false)",
          "old_line_content": "\tgs_enable_blending(true);",
          "new_line_content": "\tgs_enable_framebuffer_srgb(false);",
          "content_same": false
        },
        {
          "line": 294,
          "old_api": "gs_texture_get_width",
          "new_api": "gs_texture_get_height",
          "old_text": "gs_texture_get_width(target)",
          "new_text": "gs_texture_get_height(target)",
          "old_line_content": "\tconst uint32_t width = gs_texture_get_width(target);",
          "new_line_content": "\tconst uint32_t height = gs_texture_get_height(target);",
          "content_same": false
        },
        {
          "line": 297,
          "old_api": "gs_set_render_target",
          "new_api": "set_render_size",
          "old_text": "gs_set_render_target(target, NULL)",
          "new_text": "set_render_size(width, height)",
          "old_line_content": "\tgs_set_render_target(target, NULL);",
          "new_line_content": "\tset_render_size(width, height);",
          "content_same": false
        },
        {
          "line": 302,
          "old_api": "gs_technique_begin_pass",
          "new_api": "gs_draw",
          "old_text": "gs_technique_begin_pass(tech, i)",
          "new_text": "gs_draw(GS_TRIS, 0, 3)",
          "old_line_content": "\t\tgs_technique_begin_pass(tech, i);",
          "new_line_content": "\t\tgs_draw(GS_TRIS, 0, 3);",
          "content_same": false
        },
        {
          "line": 303,
          "old_api": "gs_draw",
          "new_api": "gs_technique_end_pass",
          "old_text": "gs_draw(GS_TRIS, 0, 3)",
          "new_text": "gs_technique_end_pass(tech)",
          "old_line_content": "\t\tgs_draw(GS_TRIS, 0, 3);",
          "new_line_content": "\t\tgs_technique_end_pass(tech);",
          "content_same": false
        },
        {
          "line": 344,
          "old_api": "obs_get_video_sdr_white_level",
          "new_api": "gs_effect_set_texture",
          "old_text": "obs_get_video_sdr_white_level()",
          "new_text": "gs_effect_set_texture(image, texture)",
          "old_line_content": "\t\t\tobs_get_video_sdr_white_level() / 10000.f;",
          "new_line_content": "\t\tgs_effect_set_texture(image, texture);",
          "content_same": false
        },
        {
          "line": 345,
          "old_api": "gs_effect_set_texture",
          "new_api": "gs_effect_set_vec4",
          "old_text": "gs_effect_set_texture(image, texture)",
          "new_text": "gs_effect_set_vec4(color_vec0, &vec0)",
          "old_line_content": "\t\tgs_effect_set_texture(image, texture);",
          "new_line_content": "\t\tgs_effect_set_vec4(color_vec0, &vec0);",
          "content_same": false
        },
        {
          "line": 346,
          "old_api": "gs_effect_set_vec4",
          "new_api": "gs_effect_set_float",
          "old_text": "gs_effect_set_vec4(color_vec0, &vec0)",
          "new_text": "gs_effect_set_float(sdr_white_nits_over_maximum, multiplier)",
          "old_line_content": "\t\tgs_effect_set_vec4(color_vec0, &vec0);",
          "new_line_content": "\t\tgs_effect_set_float(sdr_white_nits_over_maximum, multiplier);",
          "content_same": false
        },
        {
          "line": 348,
          "old_api": "gs_effect_set_float",
          "new_api": "render_convert_plane",
          "old_text": "gs_effect_set_float(hdr_lw, hdr_nominal_peak_level)",
          "new_text": "render_convert_plane(effect, convert_textures[0],\n\t\t\t\t     video->conversion_techs[0])",
          "old_line_content": "\t\tgs_effect_set_float(hdr_lw, hdr_nominal_peak_level);",
          "new_line_content": "\t\trender_convert_plane(effect, convert_textures[0],",
          "content_same": false
        },
        {
          "line": 353,
          "old_api": "gs_effect_set_texture",
          "new_api": "gs_effect_set_vec4",
          "old_text": "gs_effect_set_texture(image, texture)",
          "new_text": "gs_effect_set_vec4(color_vec1, &vec1)",
          "old_line_content": "\t\t\tgs_effect_set_texture(image, texture);",
          "new_line_content": "\t\t\tgs_effect_set_vec4(color_vec1, &vec1);",
          "content_same": false
        },
        {
          "line": 356,
          "old_api": "gs_effect_set_vec4",
          "new_api": "gs_effect_set_float",
          "old_text": "gs_effect_set_vec4(color_vec2, &vec2)",
          "new_text": "gs_effect_set_float(width_i, video->conversion_width_i)",
          "old_line_content": "\t\t\t\tgs_effect_set_vec4(color_vec2, &vec2);",
          "new_line_content": "\t\t\tgs_effect_set_float(width_i, video->conversion_width_i);",
          "content_same": false
        },
        {
          "line": 362,
          "old_api": "gs_effect_set_float",
          "new_api": "render_convert_plane",
          "old_text": "gs_effect_set_float(hdr_lw, hdr_nominal_peak_level)",
          "new_text": "render_convert_plane(effect, convert_textures[1],\n\t\t\t\t\t     video->conversion_techs[1])",
          "old_line_content": "\t\t\tgs_effect_set_float(hdr_lw, hdr_nominal_peak_level);",
          "new_line_content": "\t\t\trender_convert_plane(effect, convert_textures[1],",
          "content_same": false
        },
        {
          "line": 367,
          "old_api": "gs_effect_set_texture",
          "new_api": "gs_effect_set_vec4",
          "old_text": "gs_effect_set_texture(image, texture)",
          "new_text": "gs_effect_set_vec4(color_vec2, &vec2)",
          "old_line_content": "\t\t\t\tgs_effect_set_texture(image, texture);",
          "new_line_content": "\t\t\t\tgs_effect_set_vec4(color_vec2, &vec2);",
          "content_same": false
        },
        {
          "line": 368,
          "old_api": "gs_effect_set_vec4",
          "new_api": "gs_effect_set_float",
          "old_text": "gs_effect_set_vec4(color_vec2, &vec2)",
          "new_text": "gs_effect_set_float(width_i,\n\t\t\t\t\t\t    video->conversion_width_i)",
          "old_line_content": "\t\t\t\tgs_effect_set_vec4(color_vec2, &vec2);",
          "new_line_content": "\t\t\t\tgs_effect_set_float(width_i,",
          "content_same": false
        },
        {
          "line": 481,
          "old_api": "gs_texture_get_shared_handle",
          "new_api": "gs_texture_release_sync",
          "old_text": "gs_texture_get_shared_handle(tf.tex)",
          "new_text": "gs_texture_release_sync(tf.tex, ++tf.lock_key)",
          "old_line_content": "\ttf.handle = gs_texture_get_shared_handle(tf.tex);",
          "new_line_content": "\tgs_texture_release_sync(tf.tex, ++tf.lock_key);",
          "content_same": false
        },
        {
          "line": 482,
          "old_api": "gs_texture_release_sync",
          "new_api": "circlebuf_push_back",
          "old_text": "gs_texture_release_sync(tf.tex, ++tf.lock_key)",
          "new_text": "circlebuf_push_back(&video->gpu_encoder_queue, &tf, sizeof(tf))",
          "old_line_content": "\tgs_texture_release_sync(tf.tex, ++tf.lock_key);",
          "new_line_content": "\tcirclebuf_push_back(&video->gpu_encoder_queue, &tf, sizeof(tf));",
          "content_same": false
        },
        {
          "line": 515,
          "old_api": "pthread_mutex_lock",
          "new_api": "encode_gpu",
          "old_text": "pthread_mutex_lock(&video->gpu_encoder_mutex)",
          "new_text": "encode_gpu(video, raw_active, &vframe_info)",
          "old_line_content": "\tpthread_mutex_lock(&video->gpu_encoder_mutex);",
          "new_line_content": "\tencode_gpu(video, raw_active, &vframe_info);",
          "content_same": false
        },
        {
          "line": 516,
          "old_api": "encode_gpu",
          "new_api": "pthread_mutex_unlock",
          "old_text": "encode_gpu(video, raw_active, &vframe_info)",
          "new_text": "pthread_mutex_unlock(&video->gpu_encoder_mutex)",
          "old_line_content": "\tencode_gpu(video, raw_active, &vframe_info);",
          "new_line_content": "\tpthread_mutex_unlock(&video->gpu_encoder_mutex);",
          "content_same": false
        },
        {
          "line": 530,
          "old_api": "gs_enable_depth_test",
          "new_api": "gs_set_cull_mode",
          "old_text": "gs_enable_depth_test(false)",
          "new_text": "gs_set_cull_mode(GS_NEITHER)",
          "old_line_content": "\tgs_enable_depth_test(false);",
          "new_line_content": "\tgs_set_cull_mode(GS_NEITHER);",
          "content_same": false
        },
        {
          "line": 557,
          "old_api": "gs_flush",
          "new_api": "output_gpu_encoders",
          "old_text": "gs_flush()",
          "new_text": "output_gpu_encoders(video, raw_active)",
          "old_line_content": "\t\t\tgs_flush();",
          "new_line_content": "\t\t\toutput_gpu_encoders(video, raw_active);",
          "content_same": false
        },
        {
          "line": 568,
          "old_api": "gs_set_render_target",
          "new_api": "gs_enable_blending",
          "old_text": "gs_set_render_target(NULL, NULL)",
          "new_text": "gs_enable_blending(true)",
          "old_line_content": "\tgs_set_render_target(NULL, NULL);",
          "new_line_content": "\tgs_enable_blending(true);",
          "content_same": false
        },
        {
          "line": 863,
          "old_api": "profile_start",
          "new_api": "gs_enter_context",
          "old_text": "profile_start(output_frame_gs_context_name)",
          "new_text": "gs_enter_context(obs->video.graphics)",
          "old_line_content": "\tprofile_start(output_frame_gs_context_name);",
          "new_line_content": "\tgs_enter_context(obs->video.graphics);",
          "content_same": false
        },
        {
          "line": 866,
          "old_api": "profile_start",
          "new_api": "GS_DEBUG_MARKER_BEGIN",
          "old_text": "profile_start(output_frame_render_video_name)",
          "new_text": "GS_DEBUG_MARKER_BEGIN(GS_DEBUG_COLOR_RENDER_VIDEO,\n\t\t\t      output_frame_render_video_name)",
          "old_line_content": "\tprofile_start(output_frame_render_video_name);",
          "new_line_content": "\tGS_DEBUG_MARKER_BEGIN(GS_DEBUG_COLOR_RENDER_VIDEO,",
          "content_same": false
        },
        {
          "line": 869,
          "old_api": "render_video",
          "new_api": "GS_DEBUG_MARKER_END",
          "old_text": "render_video(video, raw_active, gpu_active, cur_texture)",
          "new_text": "GS_DEBUG_MARKER_END()",
          "old_line_content": "\trender_video(video, raw_active, gpu_active, cur_texture);",
          "new_line_content": "\tGS_DEBUG_MARKER_END();",
          "content_same": false
        },
        {
          "line": 870,
          "old_api": "GS_DEBUG_MARKER_END",
          "new_api": "profile_end",
          "old_text": "GS_DEBUG_MARKER_END()",
          "new_text": "profile_end(output_frame_render_video_name)",
          "old_line_content": "\tGS_DEBUG_MARKER_END();",
          "new_line_content": "\tprofile_end(output_frame_render_video_name);",
          "content_same": false
        },
        {
          "line": 874,
          "old_api": "profile_start",
          "new_api": "download_frame",
          "old_text": "profile_start(output_frame_download_frame_name)",
          "new_text": "download_frame(video, prev_texture, &frame)",
          "old_line_content": "\t\tprofile_start(output_frame_download_frame_name);",
          "new_line_content": "\t\tframe_ready = download_frame(video, prev_texture, &frame);",
          "content_same": false
        },
        {
          "line": 875,
          "old_api": "download_frame",
          "new_api": "profile_end",
          "old_text": "download_frame(video, prev_texture, &frame)",
          "new_text": "profile_end(output_frame_download_frame_name)",
          "old_line_content": "\t\tframe_ready = download_frame(video, prev_texture, &frame);",
          "new_line_content": "\t\tprofile_end(output_frame_download_frame_name);",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": "profile_start",
          "new_api": "gs_flush",
          "old_text": "profile_start(output_frame_gs_flush_name)",
          "new_text": "gs_flush()",
          "old_line_content": "\tprofile_start(output_frame_gs_flush_name);",
          "new_line_content": "\tgs_flush();",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": "gs_flush",
          "new_api": "profile_end",
          "old_text": "gs_flush()",
          "new_text": "profile_end(output_frame_gs_flush_name)",
          "old_line_content": "\tgs_flush();",
          "new_line_content": "\tprofile_end(output_frame_gs_flush_name);",
          "content_same": false
        },
        {
          "line": 883,
          "old_api": "gs_leave_context",
          "new_api": "profile_end",
          "old_text": "gs_leave_context()",
          "new_text": "profile_end(output_frame_gs_context_name)",
          "old_line_content": "\tgs_leave_context();",
          "new_line_content": "\tprofile_end(output_frame_gs_context_name);",
          "content_same": false
        },
        {
          "line": 892,
          "old_api": "profile_start",
          "new_api": "output_video_data",
          "old_text": "profile_start(output_frame_output_video_data_name)",
          "new_text": "output_video_data(video, &frame, vframe_info.count)",
          "old_line_content": "\t\tprofile_start(output_frame_output_video_data_name);",
          "new_line_content": "\t\toutput_video_data(video, &frame, vframe_info.count);",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": "output_video_data",
          "new_api": "profile_end",
          "old_text": "output_video_data(video, &frame, vframe_info.count)",
          "new_text": "profile_end(output_frame_output_video_data_name)",
          "old_line_content": "\t\toutput_video_data(video, &frame, vframe_info.count);",
          "new_line_content": "\t\tprofile_end(output_frame_output_video_data_name);",
          "content_same": false
        },
        {
          "line": 910,
          "old_api": "obs_free_video_mix",
          "new_api": "da_erase",
          "old_text": "obs_free_video_mix(mix)",
          "new_text": "da_erase(obs->video.mixes, i)",
          "old_line_content": "\t\t\tobs_free_video_mix(mix);",
          "new_line_content": "\t\t\tda_erase(obs->video.mixes, i);",
          "content_same": false
        },
        {
          "line": 931,
          "old_api": "memset",
          "new_api": "circlebuf_free",
          "old_text": "memset(video->textures_copied, 0, sizeof(video->textures_copied))",
          "new_text": "circlebuf_free(&video->vframe_info_buffer)",
          "old_line_content": "\tmemset(video->textures_copied, 0, sizeof(video->textures_copied));",
          "new_line_content": "\tcirclebuf_free(&video->vframe_info_buffer);",
          "content_same": false
        },
        {
          "line": 953,
          "old_api": "circlebuf_pop_front",
          "new_api": "task",
          "old_text": "circlebuf_pop_front(&video->tasks, &info, sizeof(info))",
          "new_text": "info.task(info.param)",
          "old_line_content": "\t\t\tcirclebuf_pop_front(&video->tasks, &info, sizeof(info));",
          "new_line_content": "\t\t\tinfo.task(info.param);",
          "content_same": false
        },
        {
          "line": 1016,
          "old_api": "winrt_initialize",
          "new_api": "winrt_dispatcher_init",
          "old_text": "winrt->exports.winrt_initialize()",
          "new_text": "winrt->exports.winrt_dispatcher_init()",
          "old_line_content": "\t\twinrt->exports.winrt_initialize();",
          "new_line_content": "\t\twinrt->dispatcher = winrt->exports.winrt_dispatcher_init();",
          "content_same": false
        },
        {
          "line": 1019,
          "old_api": "gs_enter_context",
          "new_api": "winrt_capture_thread_start",
          "old_text": "gs_enter_context(obs->video.graphics)",
          "new_text": "winrt->exports.winrt_capture_thread_start()",
          "old_line_content": "\t\tgs_enter_context(obs->video.graphics);",
          "new_line_content": "\t\twinrt->exports.winrt_capture_thread_start();",
          "content_same": false
        },
        {
          "line": 1020,
          "old_api": "winrt_capture_thread_start",
          "new_api": "gs_leave_context",
          "old_text": "winrt->exports.winrt_capture_thread_start()",
          "new_text": "gs_leave_context()",
          "old_line_content": "\t\twinrt->exports.winrt_capture_thread_start();",
          "new_line_content": "\t\tgs_leave_context();",
          "content_same": false
        },
        {
          "line": 1079,
          "old_api": "update_active_state",
          "new_api": "pthread_mutex_unlock",
          "old_text": "update_active_state(obs->video.mixes.array[i])",
          "new_text": "pthread_mutex_unlock(&obs->video.mixes_mutex)",
          "old_line_content": "\t\tupdate_active_state(obs->video.mixes.array[i]);",
          "new_line_content": "\tpthread_mutex_unlock(&obs->video.mixes_mutex);",
          "content_same": false
        },
        {
          "line": 1105,
          "old_api": "gs_enter_context",
          "new_api": "gs_begin_frame",
          "old_text": "gs_enter_context(obs->video.graphics)",
          "new_text": "gs_begin_frame()",
          "old_line_content": "\tgs_enter_context(obs->video.graphics);",
          "new_line_content": "\tgs_begin_frame();",
          "content_same": false
        },
        {
          "line": 1106,
          "old_api": "gs_begin_frame",
          "new_api": "gs_leave_context",
          "old_text": "gs_begin_frame()",
          "new_text": "gs_leave_context()",
          "old_line_content": "\tgs_begin_frame();",
          "new_line_content": "\tgs_leave_context();",
          "content_same": false
        },
        {
          "line": 1111,
          "old_api": "tick_sources",
          "new_api": "profile_end",
          "old_text": "tick_sources(obs->video.video_time, context->last_time)",
          "new_text": "profile_end(tick_sources_name)",
          "old_line_content": "\t\ttick_sources(obs->video.video_time, context->last_time);",
          "new_line_content": "\tprofile_end(tick_sources_name);",
          "content_same": false
        },
        {
          "line": 1116,
          "old_api": "PeekMessage",
          "new_api": "TranslateMessage",
          "old_text": "PeekMessage(&msg, NULL, 0, 0, PM_REMOVE)",
          "new_text": "TranslateMessage(&msg)",
          "old_line_content": "\twhile (PeekMessage(&msg, NULL, 0, 0, PM_REMOVE)) {",
          "new_line_content": "\t\tTranslateMessage(&msg);",
          "content_same": false
        },
        {
          "line": 1117,
          "old_api": "TranslateMessage",
          "new_api": "DispatchMessage",
          "old_text": "TranslateMessage(&msg)",
          "new_text": "DispatchMessage(&msg)",
          "old_line_content": "\t\tTranslateMessage(&msg);",
          "new_line_content": "\t\tDispatchMessage(&msg);",
          "content_same": false
        },
        {
          "line": 1122,
          "old_api": "profile_start",
          "new_api": "output_frames",
          "old_text": "profile_start(output_frame_name)",
          "new_text": "output_frames()",
          "old_line_content": "\tprofile_start(output_frame_name);",
          "new_line_content": "\toutput_frames();",
          "content_same": false
        },
        {
          "line": 1123,
          "old_api": "output_frames",
          "new_api": "profile_end",
          "old_text": "output_frames()",
          "new_text": "profile_end(output_frame_name)",
          "old_line_content": "\toutput_frames();",
          "new_line_content": "\tprofile_end(output_frame_name);",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": "profile_start",
          "new_api": "render_displays",
          "old_text": "profile_start(render_displays_name)",
          "new_text": "render_displays()",
          "old_line_content": "\tprofile_start(render_displays_name);",
          "new_line_content": "\trender_displays();",
          "content_same": false
        },
        {
          "line": 1127,
          "old_api": "render_displays",
          "new_api": "profile_end",
          "old_text": "render_displays()",
          "new_text": "profile_end(render_displays_name)",
          "old_line_content": "\trender_displays();",
          "new_line_content": "\tprofile_end(render_displays_name);",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": "profile_store_name",
          "new_api": "obs_get_profiler_name_store",
          "old_text": "profile_store_name(\n\t\tobs_get_profiler_name_store(),\n\t\t\"obs_graphics_thread(%g\" NBSP \"ms)\", interval / 1000000.)",
          "new_text": "obs_get_profiler_name_store()",
          "old_line_content": "\tconst char *video_thread_name = profile_store_name(",
          "new_line_content": "\t\tobs_get_profiler_name_store(),",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 514,
          "old_api": null,
          "new_api": "pthread_mutex_lock",
          "old_text": null,
          "new_text": "pthread_mutex_lock(&video->gpu_encoder_mutex)",
          "old_line_content": "",
          "new_line_content": "\tpthread_mutex_lock(&video->gpu_encoder_mutex);",
          "content_same": false
        },
        {
          "line": 1028,
          "old_api": null,
          "new_api": "winrt_capture_thread_stop",
          "old_text": null,
          "new_text": "winrt->exports.winrt_capture_thread_stop()",
          "old_line_content": "\t\tif (winrt->loaded) {",
          "new_line_content": "\t\t\twinrt->exports.winrt_capture_thread_stop();",
          "content_same": false
        },
        {
          "line": 1030,
          "old_api": null,
          "new_api": "winrt_dispatcher_free",
          "old_text": null,
          "new_text": "winrt->exports.winrt_dispatcher_free(\n\t\t\t\t\twinrt->dispatcher)",
          "old_line_content": "\t\t\tif (winrt->dispatcher)",
          "new_line_content": "\t\t\t\twinrt->exports.winrt_dispatcher_free(",
          "content_same": false
        },
        {
          "line": 519,
          "old_api": null,
          "new_api": "profile_end",
          "old_text": null,
          "new_text": "profile_end(output_gpu_encoders_name)",
          "old_line_content": "end:",
          "new_line_content": "\tprofile_end(output_gpu_encoders_name);",
          "content_same": false
        },
        {
          "line": 1032,
          "old_api": null,
          "new_api": "winrt_uninitialize",
          "old_text": null,
          "new_text": "winrt->exports.winrt_uninitialize()",
          "old_line_content": "\t\t\t\t\twinrt->dispatcher);",
          "new_line_content": "\t\t\twinrt->exports.winrt_uninitialize();",
          "content_same": false
        },
        {
          "line": 1035,
          "old_api": null,
          "new_api": "os_dlclose",
          "old_text": null,
          "new_text": "os_dlclose(winrt->winrt_module)",
          "old_line_content": "",
          "new_line_content": "\t\tos_dlclose(winrt->winrt_module);",
          "content_same": false
        },
        {
          "line": 527,
          "old_api": null,
          "new_api": "gs_begin_scene",
          "old_text": null,
          "new_text": "gs_begin_scene()",
          "old_line_content": "{",
          "new_line_content": "\tgs_begin_scene();",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": null,
          "new_api": "gs_enable_depth_test",
          "old_text": null,
          "new_text": "gs_enable_depth_test(false)",
          "old_line_content": "",
          "new_line_content": "\tgs_enable_depth_test(false);",
          "content_same": false
        },
        {
          "line": 532,
          "old_api": null,
          "new_api": "render_main_texture",
          "old_text": null,
          "new_text": "render_main_texture(video)",
          "old_line_content": "",
          "new_line_content": "\trender_main_texture(video);",
          "content_same": false
        },
        {
          "line": 1050,
          "old_api": null,
          "new_api": "os_atomic_load_long",
          "old_text": null,
          "new_text": "os_atomic_load_long(&video->raw_active)",
          "old_line_content": "",
          "new_line_content": "\tbool raw_active = os_atomic_load_long(&video->raw_active) > 0;",
          "content_same": false
        },
        {
          "line": 539,
          "old_api": null,
          "new_api": "render_output_texture",
          "old_text": null,
          "new_text": "render_output_texture(video)",
          "old_line_content": "\t\tsize_t channel_count = NUM_CHANNELS;",
          "new_line_content": "\t\tgs_texture_t *texture = render_output_texture(video);",
          "content_same": false
        },
        {
          "line": 1053,
          "old_api": null,
          "new_api": "os_atomic_load_long",
          "old_text": null,
          "new_text": "os_atomic_load_long(&video->gpu_encoder_active)",
          "old_line_content": "\tconst bool gpu_active =",
          "new_line_content": "\t\tos_atomic_load_long(&video->gpu_encoder_active) > 0;",
          "content_same": false
        },
        {
          "line": 546,
          "old_api": null,
          "new_api": "gs_flush",
          "old_text": null,
          "new_text": "gs_flush()",
          "old_line_content": "\t\t\tchannel_count = 1;",
          "new_line_content": "\t\t\tgs_flush();",
          "content_same": false
        },
        {
          "line": 1061,
          "old_api": null,
          "new_api": "clear_base_frame_data",
          "old_text": null,
          "new_text": "clear_base_frame_data(video)",
          "old_line_content": "\tif (!was_active && active)",
          "new_line_content": "\t\tclear_base_frame_data(video);",
          "content_same": false
        },
        {
          "line": 551,
          "old_api": null,
          "new_api": "render_convert_texture",
          "old_text": null,
          "new_text": "render_convert_texture(video, convert_textures,\n\t\t\t\t\t       texture)",
          "old_line_content": "\t\tif (video->gpu_conversion)",
          "new_line_content": "\t\t\trender_convert_texture(video, convert_textures,",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": null,
          "new_api": "clear_raw_frame_data",
          "old_text": null,
          "new_text": "clear_raw_frame_data(video)",
          "old_line_content": "\tif (!raw_was_active && raw_active)",
          "new_line_content": "\t\tclear_raw_frame_data(video);",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": null,
          "new_api": "clear_gpu_frame_data",
          "old_text": null,
          "new_text": "clear_gpu_frame_data(video)",
          "old_line_content": "\tif (!gpu_was_active && gpu_active)",
          "new_line_content": "\t\tclear_gpu_frame_data(video);",
          "content_same": false
        },
        {
          "line": 556,
          "old_api": null,
          "new_api": "gs_flush",
          "old_text": null,
          "new_text": "gs_flush()",
          "old_line_content": "\t\tif (gpu_active) {",
          "new_line_content": "\t\t\tgs_flush();",
          "content_same": false
        },
        {
          "line": 562,
          "old_api": null,
          "new_api": "stage_output_texture",
          "old_text": null,
          "new_text": "stage_output_texture(video, cur_texture,\n\t\t\t\t\t     convert_textures, copy_surfaces,\n\t\t\t\t\t     channel_count)",
          "old_line_content": "\t\tif (raw_active)",
          "new_line_content": "\t\t\tstage_output_texture(video, cur_texture,",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": null,
          "new_api": "pthread_mutex_lock",
          "old_text": null,
          "new_text": "pthread_mutex_lock(&obs->video.mixes_mutex)",
          "old_line_content": "{",
          "new_line_content": "\tpthread_mutex_lock(&obs->video.mixes_mutex);",
          "content_same": false
        },
        {
          "line": 1078,
          "old_api": null,
          "new_api": "update_active_state",
          "old_text": null,
          "new_text": "update_active_state(obs->video.mixes.array[i])",
          "old_line_content": "\tfor (size_t i = 0, num = obs->video.mixes.num; i < num; i++)",
          "new_line_content": "\t\tupdate_active_state(obs->video.mixes.array[i]);",
          "content_same": false
        },
        {
          "line": 567,
          "old_api": null,
          "new_api": "gs_set_render_target",
          "old_text": null,
          "new_text": "gs_set_render_target(NULL, NULL)",
          "old_line_content": "",
          "new_line_content": "\tgs_set_render_target(NULL, NULL);",
          "content_same": false
        },
        {
          "line": 570,
          "old_api": null,
          "new_api": "gs_end_scene",
          "old_text": null,
          "new_text": "gs_end_scene()",
          "old_line_content": "",
          "new_line_content": "\tgs_end_scene();",
          "content_same": false
        },
        {
          "line": 1086,
          "old_api": null,
          "new_api": "pthread_mutex_lock",
          "old_text": null,
          "new_text": "pthread_mutex_lock(&obs->video.mixes_mutex)",
          "old_line_content": "",
          "new_line_content": "\tpthread_mutex_lock(&obs->video.mixes_mutex);",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": null,
          "new_api": "video_output_stopped",
          "old_text": null,
          "new_text": "video_output_stopped(obs->video.mixes.array[i]->video)",
          "old_line_content": "\tfor (size_t i = 0, num = obs->video.mixes.num; i < num; i++)",
          "new_line_content": "\t\tif (!video_output_stopped(obs->video.mixes.array[i]->video))",
          "content_same": false
        },
        {
          "line": 1090,
          "old_api": null,
          "new_api": "pthread_mutex_unlock",
          "old_text": null,
          "new_text": "pthread_mutex_unlock(&obs->video.mixes_mutex)",
          "old_line_content": "\t\t\tsuccess = false;",
          "new_line_content": "\tpthread_mutex_unlock(&obs->video.mixes_mutex);",
          "content_same": false
        },
        {
          "line": 583,
          "old_api": null,
          "new_api": "gs_stagesurface_map",
          "old_text": null,
          "new_text": "gs_stagesurface_map(surface, &frame->data[channel],\n\t\t\t\t\t\t &frame->linesize[channel])",
          "old_line_content": "\t\tif (surface) {",
          "new_line_content": "\t\t\tif (!gs_stagesurface_map(surface, &frame->data[channel],",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": null,
          "new_api": "os_gettime_ns",
          "old_text": null,
          "new_text": "os_gettime_ns()",
          "old_line_content": "{",
          "new_line_content": "\tuint64_t frame_start = os_gettime_ns();",
          "content_same": false
        },
        {
          "line": 1100,
          "old_api": null,
          "new_api": "update_active_states",
          "old_text": null,
          "new_text": "update_active_states()",
          "old_line_content": "",
          "new_line_content": "\tupdate_active_states();",
          "content_same": false
        },
        {
          "line": 1102,
          "old_api": null,
          "new_api": "profile_start",
          "old_text": null,
          "new_text": "profile_start(context->video_thread_name)",
          "old_line_content": "",
          "new_line_content": "\tprofile_start(context->video_thread_name);",
          "content_same": false
        },
        {
          "line": 1104,
          "old_api": null,
          "new_api": "gs_enter_context",
          "old_text": null,
          "new_text": "gs_enter_context(obs->video.graphics)",
          "old_line_content": "",
          "new_line_content": "\tgs_enter_context(obs->video.graphics);",
          "content_same": false
        },
        {
          "line": 1108,
          "old_api": null,
          "new_api": "profile_start",
          "old_text": null,
          "new_text": "profile_start(tick_sources_name)",
          "old_line_content": "",
          "new_line_content": "\tprofile_start(tick_sources_name);",
          "content_same": false
        },
        {
          "line": 1110,
          "old_api": null,
          "new_api": "tick_sources",
          "old_text": null,
          "new_text": "tick_sources(obs->video.video_time, context->last_time)",
          "old_line_content": "\tcontext->last_time =",
          "new_line_content": "\t\ttick_sources(obs->video.video_time, context->last_time);",
          "content_same": false
        },
        {
          "line": 600,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(out, in, total)",
          "old_line_content": "\t\tsize_t total = (size_t)width * (size_t)height;",
          "new_line_content": "\t\tmemcpy(out, in, total);",
          "content_same": false
        },
        {
          "line": 1115,
          "old_api": null,
          "new_api": "PeekMessage",
          "old_text": null,
          "new_text": "PeekMessage(&msg, NULL, 0, 0, PM_REMOVE)",
          "old_line_content": "\tMSG msg;",
          "new_line_content": "\twhile (PeekMessage(&msg, NULL, 0, 0, PM_REMOVE)) {",
          "content_same": false
        },
        {
          "line": 604,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(out, in, width)",
          "old_line_content": "\t\tfor (size_t y = 0; y < height; y++) {",
          "new_line_content": "\t\t\tmemcpy(out, in, width);",
          "content_same": false
        },
        {
          "line": 1121,
          "old_api": null,
          "new_api": "profile_start",
          "old_text": null,
          "new_text": "profile_start(output_frame_name)",
          "old_line_content": "",
          "new_line_content": "\tprofile_start(output_frame_name);",
          "content_same": false
        },
        {
          "line": 1125,
          "old_api": null,
          "new_api": "profile_start",
          "old_text": null,
          "new_text": "profile_start(render_displays_name)",
          "old_line_content": "",
          "new_line_content": "\tprofile_start(render_displays_name);",
          "content_same": false
        },
        {
          "line": 1129,
          "old_api": null,
          "new_api": "execute_graphics_tasks",
          "old_text": null,
          "new_text": "execute_graphics_tasks()",
          "old_line_content": "",
          "new_line_content": "\texecute_graphics_tasks();",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": null,
          "new_api": "os_gettime_ns",
          "old_text": null,
          "new_text": "os_gettime_ns()",
          "old_line_content": "",
          "new_line_content": "\tframe_time_ns = os_gettime_ns() - frame_start;",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": null,
          "new_api": "profile_end",
          "old_text": null,
          "new_text": "profile_end(context->video_thread_name)",
          "old_line_content": "",
          "new_line_content": "\tprofile_end(context->video_thread_name);",
          "content_same": false
        },
        {
          "line": 622,
          "old_api": null,
          "new_api": "set_gpu_converted_plane",
          "old_text": null,
          "new_text": "set_gpu_converted_plane(width, height, input->linesize[0],\n\t\t\t\t\toutput->linesize[0], input->data[0],\n\t\t\t\t\toutput->data[0])",
          "old_line_content": "",
          "new_line_content": "\t\tset_gpu_converted_plane(width, height, input->linesize[0],",
          "content_same": false
        },
        {
          "line": 1135,
          "old_api": null,
          "new_api": "profile_reenable_thread",
          "old_text": null,
          "new_text": "profile_reenable_thread()",
          "old_line_content": "",
          "new_line_content": "\tprofile_reenable_thread();",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": null,
          "new_api": "video_sleep",
          "old_text": null,
          "new_text": "video_sleep(&obs->video, &obs->video.video_time, context->interval)",
          "old_line_content": "",
          "new_line_content": "\tvideo_sleep(&obs->video, &obs->video.video_time, context->interval);",
          "content_same": false
        },
        {
          "line": 629,
          "old_api": null,
          "new_api": "set_gpu_converted_plane",
          "old_text": null,
          "new_text": "set_gpu_converted_plane(width_d2, height_d2, input->linesize[1],\n\t\t\t\t\toutput->linesize[1], input->data[1],\n\t\t\t\t\toutput->data[1])",
          "old_line_content": "",
          "new_line_content": "\t\tset_gpu_converted_plane(width_d2, height_d2, input->linesize[1],",
          "content_same": false
        },
        {
          "line": 633,
          "old_api": null,
          "new_api": "set_gpu_converted_plane",
          "old_text": null,
          "new_text": "set_gpu_converted_plane(width_d2, height_d2, input->linesize[2],\n\t\t\t\t\toutput->linesize[2], input->data[2],\n\t\t\t\t\toutput->data[2])",
          "old_line_content": "",
          "new_line_content": "\t\tset_gpu_converted_plane(width_d2, height_d2, input->linesize[2],",
          "content_same": false
        },
        {
          "line": 644,
          "old_api": null,
          "new_api": "set_gpu_converted_plane",
          "old_text": null,
          "new_text": "set_gpu_converted_plane(width, height,\n\t\t\t\t\t\tinput->linesize[0],\n\t\t\t\t\t\toutput->linesize[0],\n\t\t\t\t\t\tinput->data[0],\n\t\t\t\t\t\toutput->data[0])",
          "old_line_content": "\t\tif (input->linesize[1]) {",
          "new_line_content": "\t\t\tset_gpu_converted_plane(width, height,",
          "content_same": false
        },
        {
          "line": 1156,
          "old_api": null,
          "new_api": "stop_requested",
          "old_text": null,
          "new_text": "stop_requested()",
          "old_line_content": "",
          "new_line_content": "\treturn !stop_requested();",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": null,
          "new_api": "set_gpu_converted_plane",
          "old_text": null,
          "new_text": "set_gpu_converted_plane(width, height_d2,\n\t\t\t\t\t\tinput->linesize[1],\n\t\t\t\t\t\toutput->linesize[1],\n\t\t\t\t\t\tinput->data[1],\n\t\t\t\t\t\toutput->data[1])",
          "old_line_content": "\t\t\t\t\t\toutput->data[0]);",
          "new_line_content": "\t\t\tset_gpu_converted_plane(width, height_d2,",
          "content_same": false
        },
        {
          "line": 1163,
          "old_api": null,
          "new_api": "init_winrt_state",
          "old_text": null,
          "new_text": "init_winrt_state(&winrt)",
          "old_line_content": "\tstruct winrt_state winrt;",
          "new_line_content": "\tinit_winrt_state(&winrt);",
          "content_same": false
        },
        {
          "line": 655,
          "old_api": null,
          "new_api": "set_gpu_converted_plane",
          "old_text": null,
          "new_text": "set_gpu_converted_plane(\n\t\t\t\twidth, height, input->linesize[0],\n\t\t\t\toutput->linesize[0], input->data[0],\n\t\t\t\toutput->data[0])",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\tconst uint8_t *const in_uv = set_gpu_converted_plane(",
          "content_same": false
        },
        {
          "line": 1170,
          "old_api": null,
          "new_api": "os_gettime_ns",
          "old_text": null,
          "new_text": "os_gettime_ns()",
          "old_line_content": "",
          "new_line_content": "\tobs->video.video_time = os_gettime_ns();",
          "content_same": false
        },
        {
          "line": 659,
          "old_api": null,
          "new_api": "set_gpu_converted_plane",
          "old_text": null,
          "new_text": "set_gpu_converted_plane(width, height_d2,\n\t\t\t\t\t\tinput->linesize[0],\n\t\t\t\t\t\toutput->linesize[1], in_uv,\n\t\t\t\t\t\toutput->data[1])",
          "old_line_content": "\t\t\t\toutput->data[0]);",
          "new_line_content": "\t\t\tset_gpu_converted_plane(width, height_d2,",
          "content_same": false
        },
        {
          "line": 1172,
          "old_api": null,
          "new_api": "os_set_thread_name",
          "old_text": null,
          "new_text": "os_set_thread_name(\"libobs: graphics thread\")",
          "old_line_content": "",
          "new_line_content": "\tos_set_thread_name(\"libobs: graphics thread\");",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": null,
          "new_api": "profile_store_name",
          "old_text": null,
          "new_text": "profile_store_name(\n\t\tobs_get_profiler_name_store(),\n\t\t\"obs_graphics_thread(%g\" NBSP \"ms)\", interval / 1000000.)",
          "old_line_content": "",
          "new_line_content": "\tconst char *video_thread_name = profile_store_name(",
          "content_same": false
        },
        {
          "line": 1177,
          "old_api": null,
          "new_api": "profile_register_root",
          "old_text": null,
          "new_text": "profile_register_root(video_thread_name, interval)",
          "old_line_content": "\t\t\"obs_graphics_thread(%g\" NBSP \"ms)\", interval / 1000000.);",
          "new_line_content": "\tprofile_register_root(video_thread_name, interval);",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": null,
          "new_api": "time",
          "old_text": null,
          "new_text": "time(NULL)",
          "old_line_content": "",
          "new_line_content": "\tsrand((unsigned int)time(NULL));",
          "content_same": false
        },
        {
          "line": 671,
          "old_api": null,
          "new_api": "set_gpu_converted_plane",
          "old_text": null,
          "new_text": "set_gpu_converted_plane(width, height, input->linesize[0],\n\t\t\t\t\toutput->linesize[0], input->data[0],\n\t\t\t\t\toutput->data[0])",
          "old_line_content": "",
          "new_line_content": "\t\tset_gpu_converted_plane(width, height, input->linesize[0],",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": null,
          "new_api": "set_gpu_converted_plane",
          "old_text": null,
          "new_text": "set_gpu_converted_plane(width, height, input->linesize[1],\n\t\t\t\t\toutput->linesize[1], input->data[1],\n\t\t\t\t\toutput->data[1])",
          "old_line_content": "",
          "new_line_content": "\t\tset_gpu_converted_plane(width, height, input->linesize[1],",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": null,
          "new_api": "obs_graphics_thread_loop_autorelease",
          "old_text": null,
          "new_text": "obs_graphics_thread_loop_autorelease(&context)",
          "old_line_content": "#ifdef __APPLE__",
          "new_line_content": "\twhile (obs_graphics_thread_loop_autorelease(&context))",
          "content_same": false
        },
        {
          "line": 679,
          "old_api": null,
          "new_api": "set_gpu_converted_plane",
          "old_text": null,
          "new_text": "set_gpu_converted_plane(width, height, input->linesize[2],\n\t\t\t\t\toutput->linesize[2], input->data[2],\n\t\t\t\t\toutput->data[2])",
          "old_line_content": "",
          "new_line_content": "\t\tset_gpu_converted_plane(width, height, input->linesize[2],",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": null,
          "new_api": "obs_graphics_thread_loop",
          "old_text": null,
          "new_text": "obs_graphics_thread_loop(&context)",
          "old_line_content": "#else",
          "new_line_content": "\twhile (obs_graphics_thread_loop(&context))",
          "content_same": false
        },
        {
          "line": 1197,
          "old_api": null,
          "new_api": "uninit_winrt_state",
          "old_text": null,
          "new_text": "uninit_winrt_state(&winrt)",
          "old_line_content": "#ifdef _WIN32",
          "new_line_content": "\tuninit_winrt_state(&winrt);",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": null,
          "new_api": "UNUSED_PARAMETER",
          "old_text": null,
          "new_text": "UNUSED_PARAMETER(param)",
          "old_line_content": "",
          "new_line_content": "\tUNUSED_PARAMETER(param);",
          "content_same": false
        },
        {
          "line": 689,
          "old_api": null,
          "new_api": "set_gpu_converted_plane",
          "old_text": null,
          "new_text": "set_gpu_converted_plane(width * 2, height, input->linesize[0],\n\t\t\t\t\toutput->linesize[0], input->data[0],\n\t\t\t\t\toutput->data[0])",
          "old_line_content": "",
          "new_line_content": "\t\tset_gpu_converted_plane(width * 2, height, input->linesize[0],",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": null,
          "new_api": "set_gpu_converted_plane",
          "old_text": null,
          "new_text": "set_gpu_converted_plane(width, height_d2, input->linesize[1],\n\t\t\t\t\toutput->linesize[1], input->data[1],\n\t\t\t\t\toutput->data[1])",
          "old_line_content": "",
          "new_line_content": "\t\tset_gpu_converted_plane(width, height_d2, input->linesize[1],",
          "content_same": false
        },
        {
          "line": 699,
          "old_api": null,
          "new_api": "set_gpu_converted_plane",
          "old_text": null,
          "new_text": "set_gpu_converted_plane(width, height_d2, input->linesize[2],\n\t\t\t\t\toutput->linesize[2], input->data[2],\n\t\t\t\t\toutput->data[2])",
          "old_line_content": "",
          "new_line_content": "\t\tset_gpu_converted_plane(width, height_d2, input->linesize[2],",
          "content_same": false
        },
        {
          "line": 710,
          "old_api": null,
          "new_api": "set_gpu_converted_plane",
          "old_text": null,
          "new_text": "set_gpu_converted_plane(width_x2, height,\n\t\t\t\t\t\tinput->linesize[0],\n\t\t\t\t\t\toutput->linesize[0],\n\t\t\t\t\t\tinput->data[0],\n\t\t\t\t\t\toutput->data[0])",
          "old_line_content": "\t\tif (input->linesize[1]) {",
          "new_line_content": "\t\t\tset_gpu_converted_plane(width_x2, height,",
          "content_same": false
        },
        {
          "line": 715,
          "old_api": null,
          "new_api": "set_gpu_converted_plane",
          "old_text": null,
          "new_text": "set_gpu_converted_plane(width_x2, height_d2,\n\t\t\t\t\t\tinput->linesize[1],\n\t\t\t\t\t\toutput->linesize[1],\n\t\t\t\t\t\tinput->data[1],\n\t\t\t\t\t\toutput->data[1])",
          "old_line_content": "\t\t\t\t\t\toutput->data[0]);",
          "new_line_content": "\t\t\tset_gpu_converted_plane(width_x2, height_d2,",
          "content_same": false
        },
        {
          "line": 721,
          "old_api": null,
          "new_api": "set_gpu_converted_plane",
          "old_text": null,
          "new_text": "set_gpu_converted_plane(\n\t\t\t\twidth_x2, height, input->linesize[0],\n\t\t\t\toutput->linesize[0], input->data[0],\n\t\t\t\toutput->data[0])",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\tconst uint8_t *const in_uv = set_gpu_converted_plane(",
          "content_same": false
        },
        {
          "line": 725,
          "old_api": null,
          "new_api": "set_gpu_converted_plane",
          "old_text": null,
          "new_text": "set_gpu_converted_plane(width_x2, height_d2,\n\t\t\t\t\t\tinput->linesize[0],\n\t\t\t\t\t\toutput->linesize[1], in_uv,\n\t\t\t\t\t\toutput->data[1])",
          "old_line_content": "\t\t\t\toutput->data[0]);",
          "new_line_content": "\t\t\tset_gpu_converted_plane(width_x2, height_d2,",
          "content_same": false
        },
        {
          "line": 240,
          "old_api": null,
          "new_api": "gs_effect_get_technique",
          "old_text": null,
          "new_text": "gs_effect_get_technique(effect, \"Draw\")",
          "old_line_content": "",
          "new_line_content": "\t\ttech = gs_effect_get_technique(effect, \"Draw\");",
          "content_same": false
        },
        {
          "line": 243,
          "old_api": null,
          "new_api": "profile_start",
          "old_text": null,
          "new_text": "profile_start(render_output_texture_name)",
          "old_line_content": "",
          "new_line_content": "\tprofile_start(render_output_texture_name);",
          "content_same": false
        },
        {
          "line": 245,
          "old_api": null,
          "new_api": "gs_effect_get_param_by_name",
          "old_text": null,
          "new_text": "gs_effect_get_param_by_name(effect, \"image\")",
          "old_line_content": "",
          "new_line_content": "\tgs_eparam_t *image = gs_effect_get_param_by_name(effect, \"image\");",
          "content_same": false
        },
        {
          "line": 247,
          "old_api": null,
          "new_api": "gs_effect_get_param_by_name",
          "old_text": null,
          "new_text": "gs_effect_get_param_by_name(effect, \"base_dimension\")",
          "old_line_content": "\tgs_eparam_t *bres =",
          "new_line_content": "\t\tgs_effect_get_param_by_name(effect, \"base_dimension\");",
          "content_same": false
        },
        {
          "line": 249,
          "old_api": null,
          "new_api": "gs_effect_get_param_by_name",
          "old_text": null,
          "new_text": "gs_effect_get_param_by_name(effect, \"base_dimension_i\")",
          "old_line_content": "\tgs_eparam_t *bres_i =",
          "new_line_content": "\t\tgs_effect_get_param_by_name(effect, \"base_dimension_i\");",
          "content_same": false
        },
        {
          "line": 252,
          "old_api": null,
          "new_api": "gs_set_render_target",
          "old_text": null,
          "new_text": "gs_set_render_target(target, NULL)",
          "old_line_content": "",
          "new_line_content": "\tgs_set_render_target(target, NULL);",
          "content_same": false
        },
        {
          "line": 765,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(out_ptr, in_ptr,\n\t\t       (size_t)input->linesize[0] * (size_t)info->height)",
          "old_line_content": "\tif (input->linesize[0] == output->linesize[0]) {",
          "new_line_content": "\t\tmemcpy(out_ptr, in_ptr,",
          "content_same": false
        },
        {
          "line": 257,
          "old_api": null,
          "new_api": "vec2_set",
          "old_text": null,
          "new_text": "vec2_set(&base, (float)video->base_width,\n\t\t\t (float)video->base_height)",
          "old_line_content": "\t\tstruct vec2 base;",
          "new_line_content": "\t\tvec2_set(&base, (float)video->base_width,",
          "content_same": false
        },
        {
          "line": 770,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(out_ptr, in_ptr, copy_size)",
          "old_line_content": "\t\tfor (size_t y = 0; y < info->height; y++) {",
          "new_line_content": "\t\t\tmemcpy(out_ptr, in_ptr, copy_size);",
          "content_same": false
        },
        {
          "line": 259,
          "old_api": null,
          "new_api": "gs_effect_set_vec2",
          "old_text": null,
          "new_text": "gs_effect_set_vec2(bres, &base)",
          "old_line_content": "\t\t\t (float)video->base_height);",
          "new_line_content": "\t\tgs_effect_set_vec2(bres, &base);",
          "content_same": false
        },
        {
          "line": 264,
          "old_api": null,
          "new_api": "vec2_set",
          "old_text": null,
          "new_text": "vec2_set(&base_i, 1.0f / (float)video->base_width,\n\t\t\t 1.0f / (float)video->base_height)",
          "old_line_content": "\t\tstruct vec2 base_i;",
          "new_line_content": "\t\tvec2_set(&base_i, 1.0f / (float)video->base_width,",
          "content_same": false
        },
        {
          "line": 266,
          "old_api": null,
          "new_api": "gs_effect_set_vec2",
          "old_text": null,
          "new_text": "gs_effect_set_vec2(bres_i, &base_i)",
          "old_line_content": "\t\t\t 1.0f / (float)video->base_height);",
          "new_line_content": "\t\tgs_effect_set_vec2(bres_i, &base_i);",
          "content_same": false
        },
        {
          "line": 269,
          "old_api": null,
          "new_api": "gs_effect_set_texture_srgb",
          "old_text": null,
          "new_text": "gs_effect_set_texture_srgb(image, texture)",
          "old_line_content": "",
          "new_line_content": "\tgs_effect_set_texture_srgb(image, texture);",
          "content_same": false
        },
        {
          "line": 271,
          "old_api": null,
          "new_api": "gs_enable_framebuffer_srgb",
          "old_text": null,
          "new_text": "gs_enable_framebuffer_srgb(true)",
          "old_line_content": "",
          "new_line_content": "\tgs_enable_framebuffer_srgb(true);",
          "content_same": false
        },
        {
          "line": 784,
          "old_api": null,
          "new_api": "video_output_get_info",
          "old_text": null,
          "new_text": "video_output_get_info(video->video)",
          "old_line_content": "",
          "new_line_content": "\tinfo = video_output_get_info(video->video);",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": null,
          "new_api": "video_output_lock_frame",
          "old_text": null,
          "new_text": "video_output_lock_frame(video->video, &output_frame, count,\n\t\t\t\t\t input_frame->timestamp)",
          "old_line_content": "",
          "new_line_content": "\tlocked = video_output_lock_frame(video->video, &output_frame, count,",
          "content_same": false
        },
        {
          "line": 275,
          "old_api": null,
          "new_api": "gs_technique_begin_pass",
          "old_text": null,
          "new_text": "gs_technique_begin_pass(tech, i)",
          "old_line_content": "\tfor (i = 0; i < passes; i++) {",
          "new_line_content": "\t\tgs_technique_begin_pass(tech, i);",
          "content_same": false
        },
        {
          "line": 790,
          "old_api": null,
          "new_api": "set_gpu_converted_data",
          "old_text": null,
          "new_text": "set_gpu_converted_data(&output_frame, input_frame,\n\t\t\t\t\t       info)",
          "old_line_content": "\t\tif (video->gpu_conversion) {",
          "new_line_content": "\t\t\tset_gpu_converted_data(&output_frame, input_frame,",
          "content_same": false
        },
        {
          "line": 279,
          "old_api": null,
          "new_api": "gs_technique_end",
          "old_text": null,
          "new_text": "gs_technique_end(tech)",
          "old_line_content": "\t}",
          "new_line_content": "\tgs_technique_end(tech);",
          "content_same": false
        },
        {
          "line": 793,
          "old_api": null,
          "new_api": "copy_rgbx_frame",
          "old_text": null,
          "new_text": "copy_rgbx_frame(&output_frame, input_frame, info)",
          "old_line_content": "\t\t} else {",
          "new_line_content": "\t\t\tcopy_rgbx_frame(&output_frame, input_frame, info);",
          "content_same": false
        },
        {
          "line": 283,
          "old_api": null,
          "new_api": "profile_end",
          "old_text": null,
          "new_text": "profile_end(render_output_texture_name)",
          "old_line_content": "",
          "new_line_content": "\tprofile_end(render_output_texture_name);",
          "content_same": false
        },
        {
          "line": 796,
          "old_api": null,
          "new_api": "video_output_unlock_frame",
          "old_text": null,
          "new_text": "video_output_unlock_frame(video->video)",
          "old_line_content": "",
          "new_line_content": "\t\tvideo_output_unlock_frame(video->video);",
          "content_same": false
        },
        {
          "line": 291,
          "old_api": null,
          "new_api": "gs_effect_get_technique",
          "old_text": null,
          "new_text": "gs_effect_get_technique(effect, tech_name)",
          "old_line_content": "{",
          "new_line_content": "\tgs_technique_t *tech = gs_effect_get_technique(effect, tech_name);",
          "content_same": false
        },
        {
          "line": 293,
          "old_api": null,
          "new_api": "gs_texture_get_width",
          "old_text": null,
          "new_text": "gs_texture_get_width(target)",
          "old_line_content": "",
          "new_line_content": "\tconst uint32_t width = gs_texture_get_width(target);",
          "content_same": false
        },
        {
          "line": 296,
          "old_api": null,
          "new_api": "gs_set_render_target",
          "old_text": null,
          "new_text": "gs_set_render_target(target, NULL)",
          "old_line_content": "",
          "new_line_content": "\tgs_set_render_target(target, NULL);",
          "content_same": false
        },
        {
          "line": 808,
          "old_api": null,
          "new_api": "os_sleepto_ns",
          "old_text": null,
          "new_text": "os_sleepto_ns(t)",
          "old_line_content": "",
          "new_line_content": "\tif (os_sleepto_ns(t)) {",
          "content_same": false
        },
        {
          "line": 299,
          "old_api": null,
          "new_api": "gs_technique_begin",
          "old_text": null,
          "new_text": "gs_technique_begin(tech)",
          "old_line_content": "",
          "new_line_content": "\tsize_t passes = gs_technique_begin(tech);",
          "content_same": false
        },
        {
          "line": 812,
          "old_api": null,
          "new_api": "os_gettime_ns",
          "old_text": null,
          "new_text": "os_gettime_ns()",
          "old_line_content": "\t} else {",
          "new_line_content": "\t\tconst uint64_t udiff = os_gettime_ns() - cur_time;",
          "content_same": false
        },
        {
          "line": 301,
          "old_api": null,
          "new_api": "gs_technique_begin_pass",
          "old_text": null,
          "new_text": "gs_technique_begin_pass(tech, i)",
          "old_line_content": "\tfor (size_t i = 0; i < passes; i++) {",
          "new_line_content": "\t\tgs_technique_begin_pass(tech, i);",
          "content_same": false
        },
        {
          "line": 814,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(&diff, &udiff, sizeof(diff))",
          "old_line_content": "\t\tint64_t diff;",
          "new_line_content": "\t\tmemcpy(&diff, &udiff, sizeof(diff));",
          "content_same": false
        },
        {
          "line": 305,
          "old_api": null,
          "new_api": "gs_technique_end",
          "old_text": null,
          "new_text": "gs_technique_end(tech)",
          "old_line_content": "\t}",
          "new_line_content": "\tgs_technique_end(tech);",
          "content_same": false
        },
        {
          "line": 313,
          "old_api": null,
          "new_api": "profile_start",
          "old_text": null,
          "new_text": "profile_start(render_convert_texture_name)",
          "old_line_content": "{",
          "new_line_content": "\tprofile_start(render_convert_texture_name);",
          "content_same": false
        },
        {
          "line": 828,
          "old_api": null,
          "new_api": "pthread_mutex_lock",
          "old_text": null,
          "new_text": "pthread_mutex_lock(&obs->video.mixes_mutex)",
          "old_line_content": "",
          "new_line_content": "\tpthread_mutex_lock(&obs->video.mixes_mutex);",
          "content_same": false
        },
        {
          "line": 317,
          "old_api": null,
          "new_api": "gs_effect_get_param_by_name",
          "old_text": null,
          "new_text": "gs_effect_get_param_by_name(effect, \"color_vec0\")",
          "old_line_content": "\tgs_eparam_t *color_vec0 =",
          "new_line_content": "\t\tgs_effect_get_param_by_name(effect, \"color_vec0\");",
          "content_same": false
        },
        {
          "line": 319,
          "old_api": null,
          "new_api": "gs_effect_get_param_by_name",
          "old_text": null,
          "new_text": "gs_effect_get_param_by_name(effect, \"color_vec1\")",
          "old_line_content": "\tgs_eparam_t *color_vec1 =",
          "new_line_content": "\t\tgs_effect_get_param_by_name(effect, \"color_vec1\");",
          "content_same": false
        },
        {
          "line": 321,
          "old_api": null,
          "new_api": "gs_effect_get_param_by_name",
          "old_text": null,
          "new_text": "gs_effect_get_param_by_name(effect, \"color_vec2\")",
          "old_line_content": "\tgs_eparam_t *color_vec2 =",
          "new_line_content": "\t\tgs_effect_get_param_by_name(effect, \"color_vec2\");",
          "content_same": false
        },
        {
          "line": 835,
          "old_api": null,
          "new_api": "circlebuf_push_back",
          "old_text": null,
          "new_text": "circlebuf_push_back(&video->vframe_info_buffer,\n\t\t\t\t\t    &vframe_info, sizeof(vframe_info))",
          "old_line_content": "\t\tif (raw_active)",
          "new_line_content": "\t\t\tcirclebuf_push_back(&video->vframe_info_buffer,",
          "content_same": false
        },
        {
          "line": 838,
          "old_api": null,
          "new_api": "circlebuf_push_back",
          "old_text": null,
          "new_text": "circlebuf_push_back(&video->vframe_info_buffer_gpu,\n\t\t\t\t\t    &vframe_info, sizeof(vframe_info))",
          "old_line_content": "\t\tif (gpu_active)",
          "new_line_content": "\t\t\tcirclebuf_push_back(&video->vframe_info_buffer_gpu,",
          "content_same": false
        },
        {
          "line": 327,
          "old_api": null,
          "new_api": "gs_effect_get_param_by_name",
          "old_text": null,
          "new_text": "gs_effect_get_param_by_name(effect, \"hdr_lw\")",
          "old_line_content": "\t\teffect, \"sdr_white_nits_over_maximum\");",
          "new_line_content": "\tgs_eparam_t *hdr_lw = gs_effect_get_param_by_name(effect, \"hdr_lw\");",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": null,
          "new_api": "pthread_mutex_unlock",
          "old_text": null,
          "new_text": "pthread_mutex_unlock(&obs->video.mixes_mutex)",
          "old_line_content": "\t}",
          "new_line_content": "\tpthread_mutex_unlock(&obs->video.mixes_mutex);",
          "content_same": false
        },
        {
          "line": 330,
          "old_api": null,
          "new_api": "vec4_set",
          "old_text": null,
          "new_text": "vec4_set(&vec0, video->color_matrix[4], video->color_matrix[5],\n\t\t video->color_matrix[6], video->color_matrix[7])",
          "old_line_content": "\tstruct vec4 vec0, vec1, vec2;",
          "new_line_content": "\tvec4_set(&vec0, video->color_matrix[4], video->color_matrix[5],",
          "content_same": false
        },
        {
          "line": 332,
          "old_api": null,
          "new_api": "vec4_set",
          "old_text": null,
          "new_text": "vec4_set(&vec1, video->color_matrix[0], video->color_matrix[1],\n\t\t video->color_matrix[2], video->color_matrix[3])",
          "old_line_content": "\t\t video->color_matrix[6], video->color_matrix[7]);",
          "new_line_content": "\tvec4_set(&vec1, video->color_matrix[0], video->color_matrix[1],",
          "content_same": false
        },
        {
          "line": 334,
          "old_api": null,
          "new_api": "vec4_set",
          "old_text": null,
          "new_text": "vec4_set(&vec2, video->color_matrix[8], video->color_matrix[9],\n\t\t video->color_matrix[10], video->color_matrix[11])",
          "old_line_content": "\t\t video->color_matrix[2], video->color_matrix[3]);",
          "new_line_content": "\tvec4_set(&vec2, video->color_matrix[8], video->color_matrix[9],",
          "content_same": false
        },
        {
          "line": 337,
          "old_api": null,
          "new_api": "gs_enable_blending",
          "old_text": null,
          "new_text": "gs_enable_blending(false)",
          "old_line_content": "",
          "new_line_content": "\tgs_enable_blending(false);",
          "content_same": false
        },
        {
          "line": 343,
          "old_api": null,
          "new_api": "obs_get_video_sdr_white_level",
          "old_text": null,
          "new_text": "obs_get_video_sdr_white_level()",
          "old_line_content": "\t\tconst float multiplier =",
          "new_line_content": "\t\t\tobs_get_video_sdr_white_level() / 10000.f;",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&frame, 0, sizeof(struct video_data))",
          "old_line_content": "",
          "new_line_content": "\tmemset(&frame, 0, sizeof(struct video_data));",
          "content_same": false
        },
        {
          "line": 862,
          "old_api": null,
          "new_api": "profile_start",
          "old_text": null,
          "new_text": "profile_start(output_frame_gs_context_name)",
          "old_line_content": "",
          "new_line_content": "\tprofile_start(output_frame_gs_context_name);",
          "content_same": false
        },
        {
          "line": 352,
          "old_api": null,
          "new_api": "gs_effect_set_texture",
          "old_text": null,
          "new_text": "gs_effect_set_texture(image, texture)",
          "old_line_content": "\t\tif (convert_textures[1]) {",
          "new_line_content": "\t\t\tgs_effect_set_texture(image, texture);",
          "content_same": false
        },
        {
          "line": 865,
          "old_api": null,
          "new_api": "profile_start",
          "old_text": null,
          "new_text": "profile_start(output_frame_render_video_name)",
          "old_line_content": "",
          "new_line_content": "\tprofile_start(output_frame_render_video_name);",
          "content_same": false
        },
        {
          "line": 355,
          "old_api": null,
          "new_api": "gs_effect_set_vec4",
          "old_text": null,
          "new_text": "gs_effect_set_vec4(color_vec2, &vec2)",
          "old_line_content": "\t\t\tif (!convert_textures[2])",
          "new_line_content": "\t\t\t\tgs_effect_set_vec4(color_vec2, &vec2);",
          "content_same": false
        },
        {
          "line": 868,
          "old_api": null,
          "new_api": "render_video",
          "old_text": null,
          "new_text": "render_video(video, raw_active, gpu_active, cur_texture)",
          "old_line_content": "\t\t\t      output_frame_render_video_name);",
          "new_line_content": "\trender_video(video, raw_active, gpu_active, cur_texture);",
          "content_same": false
        },
        {
          "line": 359,
          "old_api": null,
          "new_api": "gs_effect_set_float",
          "old_text": null,
          "new_text": "gs_effect_set_float(sdr_white_nits_over_maximum,\n\t\t\t\t\t    multiplier)",
          "old_line_content": "\t\t\t\t\t    video->conversion_height_i);",
          "new_line_content": "\t\t\tgs_effect_set_float(sdr_white_nits_over_maximum,",
          "content_same": false
        },
        {
          "line": 361,
          "old_api": null,
          "new_api": "gs_effect_set_float",
          "old_text": null,
          "new_text": "gs_effect_set_float(hdr_lw, hdr_nominal_peak_level)",
          "old_line_content": "\t\t\t\t\t    multiplier);",
          "new_line_content": "\t\t\tgs_effect_set_float(hdr_lw, hdr_nominal_peak_level);",
          "content_same": false
        },
        {
          "line": 873,
          "old_api": null,
          "new_api": "profile_start",
          "old_text": null,
          "new_text": "profile_start(output_frame_download_frame_name)",
          "old_line_content": "\tif (raw_active) {",
          "new_line_content": "\t\tprofile_start(output_frame_download_frame_name);",
          "content_same": false
        },
        {
          "line": 366,
          "old_api": null,
          "new_api": "gs_effect_set_texture",
          "old_text": null,
          "new_text": "gs_effect_set_texture(image, texture)",
          "old_line_content": "\t\t\tif (convert_textures[2]) {",
          "new_line_content": "\t\t\t\tgs_effect_set_texture(image, texture);",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": null,
          "new_api": "profile_start",
          "old_text": null,
          "new_text": "profile_start(output_frame_gs_flush_name)",
          "old_line_content": "",
          "new_line_content": "\tprofile_start(output_frame_gs_flush_name);",
          "content_same": false
        },
        {
          "line": 370,
          "old_api": null,
          "new_api": "gs_effect_set_float",
          "old_text": null,
          "new_text": "gs_effect_set_float(height_i,\n\t\t\t\t\t\t    video->conversion_height_i)",
          "old_line_content": "\t\t\t\t\t\t    video->conversion_width_i);",
          "new_line_content": "\t\t\t\tgs_effect_set_float(height_i,",
          "content_same": false
        },
        {
          "line": 882,
          "old_api": null,
          "new_api": "gs_leave_context",
          "old_text": null,
          "new_text": "gs_leave_context()",
          "old_line_content": "",
          "new_line_content": "\tgs_leave_context();",
          "content_same": false
        },
        {
          "line": 372,
          "old_api": null,
          "new_api": "gs_effect_set_float",
          "old_text": null,
          "new_text": "gs_effect_set_float(sdr_white_nits_over_maximum,\n\t\t\t\t\t\t    multiplier)",
          "old_line_content": "\t\t\t\t\t\t    video->conversion_height_i);",
          "new_line_content": "\t\t\t\tgs_effect_set_float(sdr_white_nits_over_maximum,",
          "content_same": false
        },
        {
          "line": 374,
          "old_api": null,
          "new_api": "gs_effect_set_float",
          "old_text": null,
          "new_text": "gs_effect_set_float(hdr_lw,\n\t\t\t\t\t\t    hdr_nominal_peak_level)",
          "old_line_content": "\t\t\t\t\t\t    multiplier);",
          "new_line_content": "\t\t\t\tgs_effect_set_float(hdr_lw,",
          "content_same": false
        },
        {
          "line": 887,
          "old_api": null,
          "new_api": "circlebuf_pop_front",
          "old_text": null,
          "new_text": "circlebuf_pop_front(&video->vframe_info_buffer, &vframe_info,\n\t\t\t\t    sizeof(vframe_info))",
          "old_line_content": "\t\tstruct obs_vframe_info vframe_info;",
          "new_line_content": "\t\tcirclebuf_pop_front(&video->vframe_info_buffer, &vframe_info,",
          "content_same": false
        },
        {
          "line": 376,
          "old_api": null,
          "new_api": "render_convert_plane",
          "old_text": null,
          "new_text": "render_convert_plane(\n\t\t\t\t\teffect, convert_textures[2],\n\t\t\t\t\tvideo->conversion_techs[2])",
          "old_line_content": "\t\t\t\t\t\t    hdr_nominal_peak_level);",
          "new_line_content": "\t\t\t\trender_convert_plane(",
          "content_same": false
        },
        {
          "line": 891,
          "old_api": null,
          "new_api": "profile_start",
          "old_text": null,
          "new_text": "profile_start(output_frame_output_video_data_name)",
          "old_line_content": "\t\tframe.timestamp = vframe_info.timestamp;",
          "new_line_content": "\t\tprofile_start(output_frame_output_video_data_name);",
          "content_same": false
        },
        {
          "line": 383,
          "old_api": null,
          "new_api": "gs_enable_blending",
          "old_text": null,
          "new_text": "gs_enable_blending(true)",
          "old_line_content": "",
          "new_line_content": "\tgs_enable_blending(true);",
          "content_same": false
        },
        {
          "line": 387,
          "old_api": null,
          "new_api": "profile_end",
          "old_text": null,
          "new_text": "profile_end(render_convert_texture_name)",
          "old_line_content": "",
          "new_line_content": "\tprofile_end(render_convert_texture_name);",
          "content_same": false
        },
        {
          "line": 902,
          "old_api": null,
          "new_api": "pthread_mutex_lock",
          "old_text": null,
          "new_text": "pthread_mutex_lock(&obs->video.mixes_mutex)",
          "old_line_content": "{",
          "new_line_content": "\tpthread_mutex_lock(&obs->video.mixes_mutex);",
          "content_same": false
        },
        {
          "line": 906,
          "old_api": null,
          "new_api": "output_frame",
          "old_text": null,
          "new_text": "output_frame(mix)",
          "old_line_content": "\t\tif (mix->view) {",
          "new_line_content": "\t\t\toutput_frame(mix);",
          "content_same": false
        },
        {
          "line": 397,
          "old_api": null,
          "new_api": "profile_start",
          "old_text": null,
          "new_text": "profile_start(stage_output_texture_name)",
          "old_line_content": "{",
          "new_line_content": "\tprofile_start(stage_output_texture_name);",
          "content_same": false
        },
        {
          "line": 909,
          "old_api": null,
          "new_api": "obs_free_video_mix",
          "old_text": null,
          "new_text": "obs_free_video_mix(mix)",
          "old_line_content": "\t\t\tobs->video.mixes.array[i] = NULL;",
          "new_line_content": "\t\t\tobs_free_video_mix(mix);",
          "content_same": false
        },
        {
          "line": 399,
          "old_api": null,
          "new_api": "unmap_last_surface",
          "old_text": null,
          "new_text": "unmap_last_surface(video)",
          "old_line_content": "",
          "new_line_content": "\tunmap_last_surface(video);",
          "content_same": false
        },
        {
          "line": 915,
          "old_api": null,
          "new_api": "pthread_mutex_unlock",
          "old_text": null,
          "new_text": "pthread_mutex_unlock(&obs->video.mixes_mutex)",
          "old_line_content": "\t}",
          "new_line_content": "\tpthread_mutex_unlock(&obs->video.mixes_mutex);",
          "content_same": false
        },
        {
          "line": 404,
          "old_api": null,
          "new_api": "gs_stage_texture",
          "old_text": null,
          "new_text": "gs_stage_texture(copy, video->output_texture)",
          "old_line_content": "\t\tif (copy)",
          "new_line_content": "\t\t\tgs_stage_texture(copy, video->output_texture);",
          "content_same": false
        },
        {
          "line": 924,
          "old_api": null,
          "new_api": "circlebuf_free",
          "old_text": null,
          "new_text": "circlebuf_free(&video->vframe_info_buffer)",
          "old_line_content": "\tvideo->texture_converted = false;",
          "new_line_content": "\tcirclebuf_free(&video->vframe_info_buffer);",
          "content_same": false
        },
        {
          "line": 415,
          "old_api": null,
          "new_api": "gs_stage_texture",
          "old_text": null,
          "new_text": "gs_stage_texture(copy, convert_textures[i])",
          "old_line_content": "\t\t\tif (copy)",
          "new_line_content": "\t\t\t\tgs_stage_texture(copy, convert_textures[i]);",
          "content_same": false
        },
        {
          "line": 930,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(video->textures_copied, 0, sizeof(video->textures_copied))",
          "old_line_content": "{",
          "new_line_content": "\tmemset(video->textures_copied, 0, sizeof(video->textures_copied));",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": null,
          "new_api": "profile_end",
          "old_text": null,
          "new_text": "profile_end(stage_output_texture_name)",
          "old_line_content": "",
          "new_line_content": "\tprofile_end(stage_output_texture_name);",
          "content_same": false
        },
        {
          "line": 937,
          "old_api": null,
          "new_api": "circlebuf_free",
          "old_text": null,
          "new_text": "circlebuf_free(&video->vframe_info_buffer_gpu)",
          "old_line_content": "{",
          "new_line_content": "\tcirclebuf_free(&video->vframe_info_buffer_gpu);",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": null,
          "new_api": "pthread_mutex_lock",
          "old_text": null,
          "new_text": "pthread_mutex_lock(&video->task_mutex)",
          "old_line_content": "\twhile (tasks_remaining) {",
          "new_line_content": "\t\tpthread_mutex_lock(&video->task_mutex);",
          "content_same": false
        },
        {
          "line": 438,
          "old_api": null,
          "new_api": "circlebuf_data",
          "old_text": null,
          "new_text": "circlebuf_data(\n\t\t\t&video->gpu_encoder_queue,\n\t\t\tvideo->gpu_encoder_queue.size - sizeof(*tf))",
          "old_line_content": "\tif (duplicate) {",
          "new_line_content": "\t\tstruct obs_tex_frame *tf = circlebuf_data(",
          "content_same": false
        },
        {
          "line": 952,
          "old_api": null,
          "new_api": "circlebuf_pop_front",
          "old_text": null,
          "new_text": "circlebuf_pop_front(&video->tasks, &info, sizeof(info))",
          "old_line_content": "\t\t\tstruct obs_task_info info;",
          "new_line_content": "\t\t\tcirclebuf_pop_front(&video->tasks, &info, sizeof(info));",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": null,
          "new_api": "pthread_mutex_unlock",
          "old_text": null,
          "new_text": "pthread_mutex_unlock(&video->task_mutex)",
          "old_line_content": "\t\ttasks_remaining = !!video->tasks.size;",
          "new_line_content": "\t\tpthread_mutex_unlock(&video->task_mutex);",
          "content_same": false
        },
        {
          "line": 448,
          "old_api": null,
          "new_api": "os_sem_post",
          "old_text": null,
          "new_text": "os_sem_post(video->gpu_encode_semaphore)",
          "old_line_content": "\t\ttf->count++;",
          "new_line_content": "\t\tos_sem_post(video->gpu_encode_semaphore);",
          "content_same": false
        },
        {
          "line": 453,
          "old_api": null,
          "new_api": "circlebuf_pop_front",
          "old_text": null,
          "new_text": "circlebuf_pop_front(&video->gpu_encoder_avail_queue, &tf, sizeof(tf))",
          "old_line_content": "\tstruct obs_tex_frame tf;",
          "new_line_content": "\tcirclebuf_pop_front(&video->gpu_encoder_avail_queue, &tf, sizeof(tf));",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": null,
          "new_api": "gs_texture_acquire_sync",
          "old_text": null,
          "new_text": "gs_texture_acquire_sync(tf.tex, tf.lock_key, GS_WAIT_INFINITE)",
          "old_line_content": "\tif (tf.released) {",
          "new_line_content": "\t\tgs_texture_acquire_sync(tf.tex, tf.lock_key, GS_WAIT_INFINITE);",
          "content_same": false
        },
        {
          "line": 465,
          "old_api": null,
          "new_api": "gs_copy_texture",
          "old_text": null,
          "new_text": "gs_copy_texture(tf.tex, video->convert_textures_encode[0])",
          "old_line_content": "\tif (raw_active || vframe_info->count > 1) {",
          "new_line_content": "\t\tgs_copy_texture(tf.tex, video->convert_textures_encode[0]);",
          "content_same": false
        },
        {
          "line": 988,
          "old_api": null,
          "new_api": "WINRT_IMPORT",
          "old_text": null,
          "new_text": "WINRT_IMPORT(winrt_initialize)",
          "old_line_content": "",
          "new_line_content": "\tWINRT_IMPORT(winrt_initialize);",
          "content_same": false
        },
        {
          "line": 480,
          "old_api": null,
          "new_api": "gs_texture_get_shared_handle",
          "old_text": null,
          "new_text": "gs_texture_get_shared_handle(tf.tex)",
          "old_line_content": "\ttf.released = true;",
          "new_line_content": "\ttf.handle = gs_texture_get_shared_handle(tf.tex);",
          "content_same": false
        },
        {
          "line": 503,
          "old_api": null,
          "new_api": "profile_start",
          "old_text": null,
          "new_text": "profile_start(output_gpu_encoders_name)",
          "old_line_content": "{",
          "new_line_content": "\tprofile_start(output_gpu_encoders_name);",
          "content_same": false
        },
        {
          "line": 484,
          "old_api": null,
          "new_api": "os_sem_post",
          "old_text": null,
          "new_text": "os_sem_post(video->gpu_encode_semaphore)",
          "old_line_content": "",
          "new_line_content": "\tos_sem_post(video->gpu_encode_semaphore);",
          "content_same": false
        },
        {
          "line": 495,
          "old_api": null,
          "new_api": "queue_frame",
          "old_text": null,
          "new_text": "queue_frame(video, raw_active, vframe_info)",
          "old_line_content": "{",
          "new_line_content": "\twhile (queue_frame(video, raw_active, vframe_info))",
          "content_same": false
        },
        {
          "line": 1009,
          "old_api": null,
          "new_api": "os_dlopen",
          "old_text": null,
          "new_text": "os_dlopen(module_name)",
          "old_line_content": "",
          "new_line_content": "\twinrt->winrt_module = os_dlopen(module_name);",
          "content_same": false
        },
        {
          "line": 1011,
          "old_api": null,
          "new_api": "load_winrt_imports",
          "old_text": null,
          "new_text": "load_winrt_imports(&winrt->exports, winrt->winrt_module,\n\t\t\t\t\t   module_name)",
          "old_line_content": "\twinrt->loaded = winrt->winrt_module &&",
          "new_line_content": "\t\t\tload_winrt_imports(&winrt->exports, winrt->winrt_module,",
          "content_same": false
        },
        {
          "line": 1015,
          "old_api": null,
          "new_api": "winrt_initialize",
          "old_text": null,
          "new_text": "winrt->exports.winrt_initialize()",
          "old_line_content": "\tif (winrt->loaded) {",
          "new_line_content": "\t\twinrt->exports.winrt_initialize();",
          "content_same": false
        },
        {
          "line": 1018,
          "old_api": null,
          "new_api": "gs_enter_context",
          "old_text": null,
          "new_text": "gs_enter_context(obs->video.graphics)",
          "old_line_content": "",
          "new_line_content": "\t\tgs_enter_context(obs->video.graphics);",
          "content_same": false
        },
        {
          "line": 511,
          "old_api": null,
          "new_api": "circlebuf_pop_front",
          "old_text": null,
          "new_text": "circlebuf_pop_front(&video->vframe_info_buffer_gpu, &vframe_info,\n\t\t\t    sizeof(vframe_info))",
          "old_line_content": "\tstruct obs_vframe_info vframe_info;",
          "new_line_content": "\tcirclebuf_pop_front(&video->vframe_info_buffer_gpu, &vframe_info,",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 512,
          "old_api": "circlebuf_pop_front",
          "new_api": null,
          "old_text": "circlebuf_pop_front(&video->vframe_info_buffer_gpu, &vframe_info,\n\t\t\t    sizeof(vframe_info))",
          "new_text": null,
          "old_line_content": "\tcirclebuf_pop_front(&video->vframe_info_buffer_gpu, &vframe_info,",
          "new_line_content": "\t\t\t    sizeof(vframe_info));",
          "content_same": false
        },
        {
          "line": 1029,
          "old_api": "winrt_capture_thread_stop",
          "new_api": null,
          "old_text": "winrt->exports.winrt_capture_thread_stop()",
          "new_text": null,
          "old_line_content": "\t\t\twinrt->exports.winrt_capture_thread_stop();",
          "new_line_content": "\t\t\tif (winrt->dispatcher)",
          "content_same": false
        },
        {
          "line": 517,
          "old_api": "pthread_mutex_unlock",
          "new_api": null,
          "old_text": "pthread_mutex_unlock(&video->gpu_encoder_mutex)",
          "new_text": null,
          "old_line_content": "\tpthread_mutex_unlock(&video->gpu_encoder_mutex);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1031,
          "old_api": "winrt_dispatcher_free",
          "new_api": null,
          "old_text": "winrt->exports.winrt_dispatcher_free(\n\t\t\t\t\twinrt->dispatcher)",
          "new_text": null,
          "old_line_content": "\t\t\t\twinrt->exports.winrt_dispatcher_free(",
          "new_line_content": "\t\t\t\t\twinrt->dispatcher);",
          "content_same": false
        },
        {
          "line": 520,
          "old_api": "profile_end",
          "new_api": null,
          "old_text": "profile_end(output_gpu_encoders_name)",
          "new_text": null,
          "old_line_content": "\tprofile_end(output_gpu_encoders_name);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1033,
          "old_api": "winrt_uninitialize",
          "new_api": null,
          "old_text": "winrt->exports.winrt_uninitialize()",
          "new_text": null,
          "old_line_content": "\t\t\twinrt->exports.winrt_uninitialize();",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1036,
          "old_api": "os_dlclose",
          "new_api": null,
          "old_text": "os_dlclose(winrt->winrt_module)",
          "new_text": null,
          "old_line_content": "\t\tos_dlclose(winrt->winrt_module);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 528,
          "old_api": "gs_begin_scene",
          "new_api": null,
          "old_text": "gs_begin_scene()",
          "new_text": null,
          "old_line_content": "\tgs_begin_scene();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 531,
          "old_api": "gs_set_cull_mode",
          "new_api": null,
          "old_text": "gs_set_cull_mode(GS_NEITHER)",
          "new_text": null,
          "old_line_content": "\tgs_set_cull_mode(GS_NEITHER);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": "render_main_texture",
          "new_api": null,
          "old_text": "render_main_texture(video)",
          "new_text": null,
          "old_line_content": "\trender_main_texture(video);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": "os_atomic_load_long",
          "new_api": null,
          "old_text": "os_atomic_load_long(&video->raw_active)",
          "new_text": null,
          "old_line_content": "\tbool raw_active = os_atomic_load_long(&video->raw_active) > 0;",
          "new_line_content": "#ifdef _WIN32",
          "content_same": false
        },
        {
          "line": 540,
          "old_api": "render_output_texture",
          "new_api": null,
          "old_text": "render_output_texture(video)",
          "new_text": null,
          "old_line_content": "\t\tgs_texture_t *texture = render_output_texture(video);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1054,
          "old_api": "os_atomic_load_long",
          "new_api": null,
          "old_text": "os_atomic_load_long(&video->gpu_encoder_active)",
          "new_text": null,
          "old_line_content": "\t\tos_atomic_load_long(&video->gpu_encoder_active) > 0;",
          "new_line_content": "\tconst bool active = raw_active || gpu_active;",
          "content_same": false
        },
        {
          "line": 547,
          "old_api": "gs_flush",
          "new_api": null,
          "old_text": "gs_flush()",
          "new_text": null,
          "old_line_content": "\t\t\tgs_flush();",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 1062,
          "old_api": "clear_base_frame_data",
          "new_api": null,
          "old_text": "clear_base_frame_data(video)",
          "new_text": null,
          "old_line_content": "\t\tclear_base_frame_data(video);",
          "new_line_content": "\tif (!raw_was_active && raw_active)",
          "content_same": false
        },
        {
          "line": 552,
          "old_api": "render_convert_texture",
          "new_api": null,
          "old_text": "render_convert_texture(video, convert_textures,\n\t\t\t\t\t       texture)",
          "new_text": null,
          "old_line_content": "\t\t\trender_convert_texture(video, convert_textures,",
          "new_line_content": "\t\t\t\t\t       texture);",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": "clear_raw_frame_data",
          "new_api": null,
          "old_text": "clear_raw_frame_data(video)",
          "new_text": null,
          "old_line_content": "\t\tclear_raw_frame_data(video);",
          "new_line_content": "#ifdef _WIN32",
          "content_same": false
        },
        {
          "line": 1067,
          "old_api": "clear_gpu_frame_data",
          "new_api": null,
          "old_text": "clear_gpu_frame_data(video)",
          "new_text": null,
          "old_line_content": "\t\tclear_gpu_frame_data(video);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 558,
          "old_api": "output_gpu_encoders",
          "new_api": null,
          "old_text": "output_gpu_encoders(video, raw_active)",
          "new_text": null,
          "old_line_content": "\t\t\toutput_gpu_encoders(video, raw_active);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 563,
          "old_api": "stage_output_texture",
          "new_api": null,
          "old_text": "stage_output_texture(video, cur_texture,\n\t\t\t\t\t     convert_textures, copy_surfaces,\n\t\t\t\t\t     channel_count)",
          "new_text": null,
          "old_line_content": "\t\t\tstage_output_texture(video, cur_texture,",
          "new_line_content": "\t\t\t\t\t     convert_textures, copy_surfaces,",
          "content_same": false
        },
        {
          "line": 1077,
          "old_api": "pthread_mutex_lock",
          "new_api": null,
          "old_text": "pthread_mutex_lock(&obs->video.mixes_mutex)",
          "new_text": null,
          "old_line_content": "\tpthread_mutex_lock(&obs->video.mixes_mutex);",
          "new_line_content": "\tfor (size_t i = 0, num = obs->video.mixes.num; i < num; i++)",
          "content_same": false
        },
        {
          "line": 1080,
          "old_api": "pthread_mutex_unlock",
          "new_api": null,
          "old_text": "pthread_mutex_unlock(&obs->video.mixes_mutex)",
          "new_text": null,
          "old_line_content": "\tpthread_mutex_unlock(&obs->video.mixes_mutex);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 569,
          "old_api": "gs_enable_blending",
          "new_api": null,
          "old_text": "gs_enable_blending(true)",
          "new_text": null,
          "old_line_content": "\tgs_enable_blending(true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 571,
          "old_api": "gs_end_scene",
          "new_api": null,
          "old_text": "gs_end_scene()",
          "new_text": null,
          "old_line_content": "\tgs_end_scene();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1087,
          "old_api": "pthread_mutex_lock",
          "new_api": null,
          "old_text": "pthread_mutex_lock(&obs->video.mixes_mutex)",
          "new_text": null,
          "old_line_content": "\tpthread_mutex_lock(&obs->video.mixes_mutex);",
          "new_line_content": "\tfor (size_t i = 0, num = obs->video.mixes.num; i < num; i++)",
          "content_same": false
        },
        {
          "line": 1089,
          "old_api": "video_output_stopped",
          "new_api": null,
          "old_text": "video_output_stopped(obs->video.mixes.array[i]->video)",
          "new_text": null,
          "old_line_content": "\t\tif (!video_output_stopped(obs->video.mixes.array[i]->video))",
          "new_line_content": "\t\t\tsuccess = false;",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": "pthread_mutex_unlock",
          "new_api": null,
          "old_text": "pthread_mutex_unlock(&obs->video.mixes_mutex)",
          "new_text": null,
          "old_line_content": "\tpthread_mutex_unlock(&obs->video.mixes_mutex);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 584,
          "old_api": "gs_stagesurface_map",
          "new_api": null,
          "old_text": "gs_stagesurface_map(surface, &frame->data[channel],\n\t\t\t\t\t\t &frame->linesize[channel])",
          "new_text": null,
          "old_line_content": "\t\t\tif (!gs_stagesurface_map(surface, &frame->data[channel],",
          "new_line_content": "\t\t\t\t\t\t &frame->linesize[channel]))",
          "content_same": false
        },
        {
          "line": 1098,
          "old_api": "os_gettime_ns",
          "new_api": null,
          "old_text": "os_gettime_ns()",
          "new_text": null,
          "old_line_content": "\tuint64_t frame_start = os_gettime_ns();",
          "new_line_content": "\tuint64_t frame_time_ns;",
          "content_same": false
        },
        {
          "line": 1101,
          "old_api": "update_active_states",
          "new_api": null,
          "old_text": "update_active_states()",
          "new_text": null,
          "old_line_content": "\tupdate_active_states();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": "profile_start",
          "new_api": null,
          "old_text": "profile_start(context->video_thread_name)",
          "new_text": null,
          "old_line_content": "\tprofile_start(context->video_thread_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1107,
          "old_api": "gs_leave_context",
          "new_api": null,
          "old_text": "gs_leave_context()",
          "new_text": null,
          "old_line_content": "\tgs_leave_context();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1109,
          "old_api": "profile_start",
          "new_api": null,
          "old_text": "profile_start(tick_sources_name)",
          "new_text": null,
          "old_line_content": "\tprofile_start(tick_sources_name);",
          "new_line_content": "\tcontext->last_time =",
          "content_same": false
        },
        {
          "line": 1112,
          "old_api": "profile_end",
          "new_api": null,
          "old_text": "profile_end(tick_sources_name)",
          "new_text": null,
          "old_line_content": "\tprofile_end(tick_sources_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 601,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(out, in, total)",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(out, in, total);",
          "new_line_content": "\t\tin += total;",
          "content_same": false
        },
        {
          "line": 605,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(out, in, width)",
          "new_text": null,
          "old_line_content": "\t\t\tmemcpy(out, in, width);",
          "new_line_content": "\t\t\tout += linesize_output;",
          "content_same": false
        },
        {
          "line": 1118,
          "old_api": "DispatchMessage",
          "new_api": null,
          "old_text": "DispatchMessage(&msg)",
          "new_text": null,
          "old_line_content": "\t\tDispatchMessage(&msg);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 1124,
          "old_api": "profile_end",
          "new_api": null,
          "old_text": "profile_end(output_frame_name)",
          "new_text": null,
          "old_line_content": "\tprofile_end(output_frame_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1128,
          "old_api": "profile_end",
          "new_api": null,
          "old_text": "profile_end(render_displays_name)",
          "new_text": null,
          "old_line_content": "\tprofile_end(render_displays_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1130,
          "old_api": "execute_graphics_tasks",
          "new_api": null,
          "old_text": "execute_graphics_tasks()",
          "new_text": null,
          "old_line_content": "\texecute_graphics_tasks();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1132,
          "old_api": "os_gettime_ns",
          "new_api": null,
          "old_text": "os_gettime_ns()",
          "new_text": null,
          "old_line_content": "\tframe_time_ns = os_gettime_ns() - frame_start;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": "profile_end",
          "new_api": null,
          "old_text": "profile_end(context->video_thread_name)",
          "new_text": null,
          "old_line_content": "\tprofile_end(context->video_thread_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 623,
          "old_api": "set_gpu_converted_plane",
          "new_api": null,
          "old_text": "set_gpu_converted_plane(width, height, input->linesize[0],\n\t\t\t\t\toutput->linesize[0], input->data[0],\n\t\t\t\t\toutput->data[0])",
          "new_text": null,
          "old_line_content": "\t\tset_gpu_converted_plane(width, height, input->linesize[0],",
          "new_line_content": "\t\t\t\t\toutput->linesize[0], input->data[0],",
          "content_same": false
        },
        {
          "line": 1136,
          "old_api": "profile_reenable_thread",
          "new_api": null,
          "old_text": "profile_reenable_thread()",
          "new_text": null,
          "old_line_content": "\tprofile_reenable_thread();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": "video_sleep",
          "new_api": null,
          "old_text": "video_sleep(&obs->video, &obs->video.video_time, context->interval)",
          "new_text": null,
          "old_line_content": "\tvideo_sleep(&obs->video, &obs->video.video_time, context->interval);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 630,
          "old_api": "set_gpu_converted_plane",
          "new_api": null,
          "old_text": "set_gpu_converted_plane(width_d2, height_d2, input->linesize[1],\n\t\t\t\t\toutput->linesize[1], input->data[1],\n\t\t\t\t\toutput->data[1])",
          "new_text": null,
          "old_line_content": "\t\tset_gpu_converted_plane(width_d2, height_d2, input->linesize[1],",
          "new_line_content": "\t\t\t\t\toutput->linesize[1], input->data[1],",
          "content_same": false
        },
        {
          "line": 634,
          "old_api": "set_gpu_converted_plane",
          "new_api": null,
          "old_text": "set_gpu_converted_plane(width_d2, height_d2, input->linesize[2],\n\t\t\t\t\toutput->linesize[2], input->data[2],\n\t\t\t\t\toutput->data[2])",
          "new_text": null,
          "old_line_content": "\t\tset_gpu_converted_plane(width_d2, height_d2, input->linesize[2],",
          "new_line_content": "\t\t\t\t\toutput->linesize[2], input->data[2],",
          "content_same": false
        },
        {
          "line": 645,
          "old_api": "set_gpu_converted_plane",
          "new_api": null,
          "old_text": "set_gpu_converted_plane(width, height,\n\t\t\t\t\t\tinput->linesize[0],\n\t\t\t\t\t\toutput->linesize[0],\n\t\t\t\t\t\tinput->data[0],\n\t\t\t\t\t\toutput->data[0])",
          "new_text": null,
          "old_line_content": "\t\t\tset_gpu_converted_plane(width, height,",
          "new_line_content": "\t\t\t\t\t\tinput->linesize[0],",
          "content_same": false
        },
        {
          "line": 1157,
          "old_api": "stop_requested",
          "new_api": null,
          "old_text": "stop_requested()",
          "new_text": null,
          "old_line_content": "\treturn !stop_requested();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 650,
          "old_api": "set_gpu_converted_plane",
          "new_api": null,
          "old_text": "set_gpu_converted_plane(width, height_d2,\n\t\t\t\t\t\tinput->linesize[1],\n\t\t\t\t\t\toutput->linesize[1],\n\t\t\t\t\t\tinput->data[1],\n\t\t\t\t\t\toutput->data[1])",
          "new_text": null,
          "old_line_content": "\t\t\tset_gpu_converted_plane(width, height_d2,",
          "new_line_content": "\t\t\t\t\t\tinput->linesize[1],",
          "content_same": false
        },
        {
          "line": 1164,
          "old_api": "init_winrt_state",
          "new_api": null,
          "old_text": "init_winrt_state(&winrt)",
          "new_text": null,
          "old_line_content": "\tinit_winrt_state(&winrt);",
          "new_line_content": "#endif // #ifdef _WIN32",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": "set_gpu_converted_plane",
          "new_api": null,
          "old_text": "set_gpu_converted_plane(\n\t\t\t\twidth, height, input->linesize[0],\n\t\t\t\toutput->linesize[0], input->data[0],\n\t\t\t\toutput->data[0])",
          "new_text": null,
          "old_line_content": "\t\t\tconst uint8_t *const in_uv = set_gpu_converted_plane(",
          "new_line_content": "\t\t\t\twidth, height, input->linesize[0],",
          "content_same": false
        },
        {
          "line": 1171,
          "old_api": "os_gettime_ns",
          "new_api": null,
          "old_text": "os_gettime_ns()",
          "new_text": null,
          "old_line_content": "\tobs->video.video_time = os_gettime_ns();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": "set_gpu_converted_plane",
          "new_api": null,
          "old_text": "set_gpu_converted_plane(width, height_d2,\n\t\t\t\t\t\tinput->linesize[0],\n\t\t\t\t\t\toutput->linesize[1], in_uv,\n\t\t\t\t\t\toutput->data[1])",
          "new_text": null,
          "old_line_content": "\t\t\tset_gpu_converted_plane(width, height_d2,",
          "new_line_content": "\t\t\t\t\t\tinput->linesize[0],",
          "content_same": false
        },
        {
          "line": 1173,
          "old_api": "os_set_thread_name",
          "new_api": null,
          "old_text": "os_set_thread_name(\"libobs: graphics thread\")",
          "new_text": null,
          "old_line_content": "\tos_set_thread_name(\"libobs: graphics thread\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": "obs_get_profiler_name_store",
          "new_api": null,
          "old_text": "obs_get_profiler_name_store()",
          "new_text": null,
          "old_line_content": "\t\tobs_get_profiler_name_store(),",
          "new_line_content": "\t\t\"obs_graphics_thread(%g\" NBSP \"ms)\", interval / 1000000.);",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": "profile_register_root",
          "new_api": null,
          "old_text": "profile_register_root(video_thread_name, interval)",
          "new_text": null,
          "old_line_content": "\tprofile_register_root(video_thread_name, interval);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": "time",
          "new_api": null,
          "old_text": "time(NULL)",
          "new_text": null,
          "old_line_content": "\tsrand((unsigned int)time(NULL));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 672,
          "old_api": "set_gpu_converted_plane",
          "new_api": null,
          "old_text": "set_gpu_converted_plane(width, height, input->linesize[0],\n\t\t\t\t\toutput->linesize[0], input->data[0],\n\t\t\t\t\toutput->data[0])",
          "new_text": null,
          "old_line_content": "\t\tset_gpu_converted_plane(width, height, input->linesize[0],",
          "new_line_content": "\t\t\t\t\toutput->linesize[0], input->data[0],",
          "content_same": false
        },
        {
          "line": 676,
          "old_api": "set_gpu_converted_plane",
          "new_api": null,
          "old_text": "set_gpu_converted_plane(width, height, input->linesize[1],\n\t\t\t\t\toutput->linesize[1], input->data[1],\n\t\t\t\t\toutput->data[1])",
          "new_text": null,
          "old_line_content": "\t\tset_gpu_converted_plane(width, height, input->linesize[1],",
          "new_line_content": "\t\t\t\t\toutput->linesize[1], input->data[1],",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": "obs_graphics_thread_loop_autorelease",
          "new_api": null,
          "old_text": "obs_graphics_thread_loop_autorelease(&context)",
          "new_text": null,
          "old_line_content": "\twhile (obs_graphics_thread_loop_autorelease(&context))",
          "new_line_content": "#else",
          "content_same": false
        },
        {
          "line": 680,
          "old_api": "set_gpu_converted_plane",
          "new_api": null,
          "old_text": "set_gpu_converted_plane(width, height, input->linesize[2],\n\t\t\t\t\toutput->linesize[2], input->data[2],\n\t\t\t\t\toutput->data[2])",
          "new_text": null,
          "old_line_content": "\t\tset_gpu_converted_plane(width, height, input->linesize[2],",
          "new_line_content": "\t\t\t\t\toutput->linesize[2], input->data[2],",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": "obs_graphics_thread_loop",
          "new_api": null,
          "old_text": "obs_graphics_thread_loop(&context)",
          "new_text": null,
          "old_line_content": "\twhile (obs_graphics_thread_loop(&context))",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1198,
          "old_api": "uninit_winrt_state",
          "new_api": null,
          "old_text": "uninit_winrt_state(&winrt)",
          "new_text": null,
          "old_line_content": "\tuninit_winrt_state(&winrt);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": "UNUSED_PARAMETER",
          "new_api": null,
          "old_text": "UNUSED_PARAMETER(param)",
          "new_text": null,
          "old_line_content": "\tUNUSED_PARAMETER(param);",
          "new_line_content": "\treturn NULL;",
          "content_same": false
        },
        {
          "line": 690,
          "old_api": "set_gpu_converted_plane",
          "new_api": null,
          "old_text": "set_gpu_converted_plane(width * 2, height, input->linesize[0],\n\t\t\t\t\toutput->linesize[0], input->data[0],\n\t\t\t\t\toutput->data[0])",
          "new_text": null,
          "old_line_content": "\t\tset_gpu_converted_plane(width * 2, height, input->linesize[0],",
          "new_line_content": "\t\t\t\t\toutput->linesize[0], input->data[0],",
          "content_same": false
        },
        {
          "line": 696,
          "old_api": "set_gpu_converted_plane",
          "new_api": null,
          "old_text": "set_gpu_converted_plane(width, height_d2, input->linesize[1],\n\t\t\t\t\toutput->linesize[1], input->data[1],\n\t\t\t\t\toutput->data[1])",
          "new_text": null,
          "old_line_content": "\t\tset_gpu_converted_plane(width, height_d2, input->linesize[1],",
          "new_line_content": "\t\t\t\t\toutput->linesize[1], input->data[1],",
          "content_same": false
        },
        {
          "line": 700,
          "old_api": "set_gpu_converted_plane",
          "new_api": null,
          "old_text": "set_gpu_converted_plane(width, height_d2, input->linesize[2],\n\t\t\t\t\toutput->linesize[2], input->data[2],\n\t\t\t\t\toutput->data[2])",
          "new_text": null,
          "old_line_content": "\t\tset_gpu_converted_plane(width, height_d2, input->linesize[2],",
          "new_line_content": "\t\t\t\t\toutput->linesize[2], input->data[2],",
          "content_same": false
        },
        {
          "line": 711,
          "old_api": "set_gpu_converted_plane",
          "new_api": null,
          "old_text": "set_gpu_converted_plane(width_x2, height,\n\t\t\t\t\t\tinput->linesize[0],\n\t\t\t\t\t\toutput->linesize[0],\n\t\t\t\t\t\tinput->data[0],\n\t\t\t\t\t\toutput->data[0])",
          "new_text": null,
          "old_line_content": "\t\t\tset_gpu_converted_plane(width_x2, height,",
          "new_line_content": "\t\t\t\t\t\tinput->linesize[0],",
          "content_same": false
        },
        {
          "line": 716,
          "old_api": "set_gpu_converted_plane",
          "new_api": null,
          "old_text": "set_gpu_converted_plane(width_x2, height_d2,\n\t\t\t\t\t\tinput->linesize[1],\n\t\t\t\t\t\toutput->linesize[1],\n\t\t\t\t\t\tinput->data[1],\n\t\t\t\t\t\toutput->data[1])",
          "new_text": null,
          "old_line_content": "\t\t\tset_gpu_converted_plane(width_x2, height_d2,",
          "new_line_content": "\t\t\t\t\t\tinput->linesize[1],",
          "content_same": false
        },
        {
          "line": 722,
          "old_api": "set_gpu_converted_plane",
          "new_api": null,
          "old_text": "set_gpu_converted_plane(\n\t\t\t\twidth_x2, height, input->linesize[0],\n\t\t\t\toutput->linesize[0], input->data[0],\n\t\t\t\toutput->data[0])",
          "new_text": null,
          "old_line_content": "\t\t\tconst uint8_t *const in_uv = set_gpu_converted_plane(",
          "new_line_content": "\t\t\t\twidth_x2, height, input->linesize[0],",
          "content_same": false
        },
        {
          "line": 726,
          "old_api": "set_gpu_converted_plane",
          "new_api": null,
          "old_text": "set_gpu_converted_plane(width_x2, height_d2,\n\t\t\t\t\t\tinput->linesize[0],\n\t\t\t\t\t\toutput->linesize[1], in_uv,\n\t\t\t\t\t\toutput->data[1])",
          "new_text": null,
          "old_line_content": "\t\t\tset_gpu_converted_plane(width_x2, height_d2,",
          "new_line_content": "\t\t\t\t\t\tinput->linesize[0],",
          "content_same": false
        },
        {
          "line": 241,
          "old_api": "gs_effect_get_technique",
          "new_api": null,
          "old_text": "gs_effect_get_technique(effect, \"Draw\")",
          "new_text": null,
          "old_line_content": "\t\ttech = gs_effect_get_technique(effect, \"Draw\");",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 244,
          "old_api": "profile_start",
          "new_api": null,
          "old_text": "profile_start(render_output_texture_name)",
          "new_text": null,
          "old_line_content": "\tprofile_start(render_output_texture_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 246,
          "old_api": "gs_effect_get_param_by_name",
          "new_api": null,
          "old_text": "gs_effect_get_param_by_name(effect, \"image\")",
          "new_text": null,
          "old_line_content": "\tgs_eparam_t *image = gs_effect_get_param_by_name(effect, \"image\");",
          "new_line_content": "\tgs_eparam_t *bres =",
          "content_same": false
        },
        {
          "line": 248,
          "old_api": "gs_effect_get_param_by_name",
          "new_api": null,
          "old_text": "gs_effect_get_param_by_name(effect, \"base_dimension\")",
          "new_text": null,
          "old_line_content": "\t\tgs_effect_get_param_by_name(effect, \"base_dimension\");",
          "new_line_content": "\tgs_eparam_t *bres_i =",
          "content_same": false
        },
        {
          "line": 250,
          "old_api": "gs_effect_get_param_by_name",
          "new_api": null,
          "old_text": "gs_effect_get_param_by_name(effect, \"base_dimension_i\")",
          "new_text": null,
          "old_line_content": "\t\tgs_effect_get_param_by_name(effect, \"base_dimension_i\");",
          "new_line_content": "\tsize_t passes, i;",
          "content_same": false
        },
        {
          "line": 254,
          "old_api": "set_render_size",
          "new_api": null,
          "old_text": "set_render_size(width, height)",
          "new_text": null,
          "old_line_content": "\tset_render_size(width, height);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 766,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(out_ptr, in_ptr,\n\t\t       (size_t)input->linesize[0] * (size_t)info->height)",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(out_ptr, in_ptr,",
          "new_line_content": "\t\t       (size_t)input->linesize[0] * (size_t)info->height);",
          "content_same": false
        },
        {
          "line": 258,
          "old_api": "vec2_set",
          "new_api": null,
          "old_text": "vec2_set(&base, (float)video->base_width,\n\t\t\t (float)video->base_height)",
          "new_text": null,
          "old_line_content": "\t\tvec2_set(&base, (float)video->base_width,",
          "new_line_content": "\t\t\t (float)video->base_height);",
          "content_same": false
        },
        {
          "line": 771,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(out_ptr, in_ptr, copy_size)",
          "new_text": null,
          "old_line_content": "\t\t\tmemcpy(out_ptr, in_ptr, copy_size);",
          "new_line_content": "\t\t\tin_ptr += input->linesize[0];",
          "content_same": false
        },
        {
          "line": 260,
          "old_api": "gs_effect_set_vec2",
          "new_api": null,
          "old_text": "gs_effect_set_vec2(bres, &base)",
          "new_text": null,
          "old_line_content": "\t\tgs_effect_set_vec2(bres, &base);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 265,
          "old_api": "vec2_set",
          "new_api": null,
          "old_text": "vec2_set(&base_i, 1.0f / (float)video->base_width,\n\t\t\t 1.0f / (float)video->base_height)",
          "new_text": null,
          "old_line_content": "\t\tvec2_set(&base_i, 1.0f / (float)video->base_width,",
          "new_line_content": "\t\t\t 1.0f / (float)video->base_height);",
          "content_same": false
        },
        {
          "line": 267,
          "old_api": "gs_effect_set_vec2",
          "new_api": null,
          "old_text": "gs_effect_set_vec2(bres_i, &base_i)",
          "new_text": null,
          "old_line_content": "\t\tgs_effect_set_vec2(bres_i, &base_i);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 270,
          "old_api": "gs_effect_set_texture_srgb",
          "new_api": null,
          "old_text": "gs_effect_set_texture_srgb(image, texture)",
          "new_text": null,
          "old_line_content": "\tgs_effect_set_texture_srgb(image, texture);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 785,
          "old_api": "video_output_get_info",
          "new_api": null,
          "old_text": "video_output_get_info(video->video)",
          "new_text": null,
          "old_line_content": "\tinfo = video_output_get_info(video->video);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 274,
          "old_api": "gs_technique_begin",
          "new_api": null,
          "old_text": "gs_technique_begin(tech)",
          "new_text": null,
          "old_line_content": "\tpasses = gs_technique_begin(tech);",
          "new_line_content": "\tfor (i = 0; i < passes; i++) {",
          "content_same": false
        },
        {
          "line": 787,
          "old_api": "video_output_lock_frame",
          "new_api": null,
          "old_text": "video_output_lock_frame(video->video, &output_frame, count,\n\t\t\t\t\t input_frame->timestamp)",
          "new_text": null,
          "old_line_content": "\tlocked = video_output_lock_frame(video->video, &output_frame, count,",
          "new_line_content": "\t\t\t\t\t input_frame->timestamp);",
          "content_same": false
        },
        {
          "line": 278,
          "old_api": "gs_technique_end_pass",
          "new_api": null,
          "old_text": "gs_technique_end_pass(tech)",
          "new_text": null,
          "old_line_content": "\t\tgs_technique_end_pass(tech);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 791,
          "old_api": "set_gpu_converted_data",
          "new_api": null,
          "old_text": "set_gpu_converted_data(&output_frame, input_frame,\n\t\t\t\t\t       info)",
          "new_text": null,
          "old_line_content": "\t\t\tset_gpu_converted_data(&output_frame, input_frame,",
          "new_line_content": "\t\t\t\t\t       info);",
          "content_same": false
        },
        {
          "line": 282,
          "old_api": "gs_enable_framebuffer_srgb",
          "new_api": null,
          "old_text": "gs_enable_framebuffer_srgb(false)",
          "new_text": null,
          "old_line_content": "\tgs_enable_framebuffer_srgb(false);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 794,
          "old_api": "copy_rgbx_frame",
          "new_api": null,
          "old_text": "copy_rgbx_frame(&output_frame, input_frame, info)",
          "new_text": null,
          "old_line_content": "\t\t\tcopy_rgbx_frame(&output_frame, input_frame, info);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 284,
          "old_api": "profile_end",
          "new_api": null,
          "old_text": "profile_end(render_output_texture_name)",
          "new_text": null,
          "old_line_content": "\tprofile_end(render_output_texture_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": "video_output_unlock_frame",
          "new_api": null,
          "old_text": "video_output_unlock_frame(video->video)",
          "new_text": null,
          "old_line_content": "\t\tvideo_output_unlock_frame(video->video);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 292,
          "old_api": "gs_effect_get_technique",
          "new_api": null,
          "old_text": "gs_effect_get_technique(effect, tech_name)",
          "new_text": null,
          "old_line_content": "\tgs_technique_t *tech = gs_effect_get_technique(effect, tech_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 295,
          "old_api": "gs_texture_get_height",
          "new_api": null,
          "old_text": "gs_texture_get_height(target)",
          "new_text": null,
          "old_line_content": "\tconst uint32_t height = gs_texture_get_height(target);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 809,
          "old_api": "os_sleepto_ns",
          "new_api": null,
          "old_text": "os_sleepto_ns(t)",
          "new_text": null,
          "old_line_content": "\tif (os_sleepto_ns(t)) {",
          "new_line_content": "\t\t*p_time = t;",
          "content_same": false
        },
        {
          "line": 298,
          "old_api": "set_render_size",
          "new_api": null,
          "old_text": "set_render_size(width, height)",
          "new_text": null,
          "old_line_content": "\tset_render_size(width, height);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 300,
          "old_api": "gs_technique_begin",
          "new_api": null,
          "old_text": "gs_technique_begin(tech)",
          "new_text": null,
          "old_line_content": "\tsize_t passes = gs_technique_begin(tech);",
          "new_line_content": "\tfor (size_t i = 0; i < passes; i++) {",
          "content_same": false
        },
        {
          "line": 813,
          "old_api": "os_gettime_ns",
          "new_api": null,
          "old_text": "os_gettime_ns()",
          "new_text": null,
          "old_line_content": "\t\tconst uint64_t udiff = os_gettime_ns() - cur_time;",
          "new_line_content": "\t\tint64_t diff;",
          "content_same": false
        },
        {
          "line": 815,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(&diff, &udiff, sizeof(diff))",
          "new_text": null,
          "old_line_content": "\t\tmemcpy(&diff, &udiff, sizeof(diff));",
          "new_line_content": "\t\tconst uint64_t clamped_diff = (diff > (int64_t)interval_ns)",
          "content_same": false
        },
        {
          "line": 304,
          "old_api": "gs_technique_end_pass",
          "new_api": null,
          "old_text": "gs_technique_end_pass(tech)",
          "new_text": null,
          "old_line_content": "\t\tgs_technique_end_pass(tech);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 306,
          "old_api": "gs_technique_end",
          "new_api": null,
          "old_text": "gs_technique_end(tech)",
          "new_text": null,
          "old_line_content": "\tgs_technique_end(tech);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 314,
          "old_api": "profile_start",
          "new_api": null,
          "old_text": "profile_start(render_convert_texture_name)",
          "new_text": null,
          "old_line_content": "\tprofile_start(render_convert_texture_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 829,
          "old_api": "pthread_mutex_lock",
          "new_api": null,
          "old_text": "pthread_mutex_lock(&obs->video.mixes_mutex)",
          "new_text": null,
          "old_line_content": "\tpthread_mutex_lock(&obs->video.mixes_mutex);",
          "new_line_content": "\tfor (size_t i = 0, num = obs->video.mixes.num; i < num; i++) {",
          "content_same": false
        },
        {
          "line": 318,
          "old_api": "gs_effect_get_param_by_name",
          "new_api": null,
          "old_text": "gs_effect_get_param_by_name(effect, \"color_vec0\")",
          "new_text": null,
          "old_line_content": "\t\tgs_effect_get_param_by_name(effect, \"color_vec0\");",
          "new_line_content": "\tgs_eparam_t *color_vec1 =",
          "content_same": false
        },
        {
          "line": 320,
          "old_api": "gs_effect_get_param_by_name",
          "new_api": null,
          "old_text": "gs_effect_get_param_by_name(effect, \"color_vec1\")",
          "new_text": null,
          "old_line_content": "\t\tgs_effect_get_param_by_name(effect, \"color_vec1\");",
          "new_line_content": "\tgs_eparam_t *color_vec2 =",
          "content_same": false
        },
        {
          "line": 836,
          "old_api": "circlebuf_push_back",
          "new_api": null,
          "old_text": "circlebuf_push_back(&video->vframe_info_buffer,\n\t\t\t\t\t    &vframe_info, sizeof(vframe_info))",
          "new_text": null,
          "old_line_content": "\t\t\tcirclebuf_push_back(&video->vframe_info_buffer,",
          "new_line_content": "\t\t\t\t\t    &vframe_info, sizeof(vframe_info));",
          "content_same": false
        },
        {
          "line": 326,
          "old_api": "gs_effect_get_param_by_name",
          "new_api": null,
          "old_text": "gs_effect_get_param_by_name(\n\t\teffect, \"sdr_white_nits_over_maximum\")",
          "new_text": null,
          "old_line_content": "\tgs_eparam_t *sdr_white_nits_over_maximum = gs_effect_get_param_by_name(",
          "new_line_content": "\t\teffect, \"sdr_white_nits_over_maximum\");",
          "content_same": false
        },
        {
          "line": 839,
          "old_api": "circlebuf_push_back",
          "new_api": null,
          "old_text": "circlebuf_push_back(&video->vframe_info_buffer_gpu,\n\t\t\t\t\t    &vframe_info, sizeof(vframe_info))",
          "new_text": null,
          "old_line_content": "\t\t\tcirclebuf_push_back(&video->vframe_info_buffer_gpu,",
          "new_line_content": "\t\t\t\t\t    &vframe_info, sizeof(vframe_info));",
          "content_same": false
        },
        {
          "line": 328,
          "old_api": "gs_effect_get_param_by_name",
          "new_api": null,
          "old_text": "gs_effect_get_param_by_name(effect, \"hdr_lw\")",
          "new_text": null,
          "old_line_content": "\tgs_eparam_t *hdr_lw = gs_effect_get_param_by_name(effect, \"hdr_lw\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 842,
          "old_api": "pthread_mutex_unlock",
          "new_api": null,
          "old_text": "pthread_mutex_unlock(&obs->video.mixes_mutex)",
          "new_text": null,
          "old_line_content": "\tpthread_mutex_unlock(&obs->video.mixes_mutex);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 331,
          "old_api": "vec4_set",
          "new_api": null,
          "old_text": "vec4_set(&vec0, video->color_matrix[4], video->color_matrix[5],\n\t\t video->color_matrix[6], video->color_matrix[7])",
          "new_text": null,
          "old_line_content": "\tvec4_set(&vec0, video->color_matrix[4], video->color_matrix[5],",
          "new_line_content": "\t\t video->color_matrix[6], video->color_matrix[7]);",
          "content_same": false
        },
        {
          "line": 333,
          "old_api": "vec4_set",
          "new_api": null,
          "old_text": "vec4_set(&vec1, video->color_matrix[0], video->color_matrix[1],\n\t\t video->color_matrix[2], video->color_matrix[3])",
          "new_text": null,
          "old_line_content": "\tvec4_set(&vec1, video->color_matrix[0], video->color_matrix[1],",
          "new_line_content": "\t\t video->color_matrix[2], video->color_matrix[3]);",
          "content_same": false
        },
        {
          "line": 335,
          "old_api": "vec4_set",
          "new_api": null,
          "old_text": "vec4_set(&vec2, video->color_matrix[8], video->color_matrix[9],\n\t\t video->color_matrix[10], video->color_matrix[11])",
          "new_text": null,
          "old_line_content": "\tvec4_set(&vec2, video->color_matrix[8], video->color_matrix[9],",
          "new_line_content": "\t\t video->color_matrix[10], video->color_matrix[11]);",
          "content_same": false
        },
        {
          "line": 338,
          "old_api": "gs_enable_blending",
          "new_api": null,
          "old_text": "gs_enable_blending(false)",
          "new_text": null,
          "old_line_content": "\tgs_enable_blending(false);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 349,
          "old_api": "render_convert_plane",
          "new_api": null,
          "old_text": "render_convert_plane(effect, convert_textures[0],\n\t\t\t\t     video->conversion_techs[0])",
          "new_text": null,
          "old_line_content": "\t\trender_convert_plane(effect, convert_textures[0],",
          "new_line_content": "\t\t\t\t     video->conversion_techs[0]);",
          "content_same": false
        },
        {
          "line": 861,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&frame, 0, sizeof(struct video_data))",
          "new_text": null,
          "old_line_content": "\tmemset(&frame, 0, sizeof(struct video_data));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": "gs_enter_context",
          "new_api": null,
          "old_text": "gs_enter_context(obs->video.graphics)",
          "new_text": null,
          "old_line_content": "\tgs_enter_context(obs->video.graphics);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 354,
          "old_api": "gs_effect_set_vec4",
          "new_api": null,
          "old_text": "gs_effect_set_vec4(color_vec1, &vec1)",
          "new_text": null,
          "old_line_content": "\t\t\tgs_effect_set_vec4(color_vec1, &vec1);",
          "new_line_content": "\t\t\tif (!convert_textures[2])",
          "content_same": false
        },
        {
          "line": 867,
          "old_api": "GS_DEBUG_MARKER_BEGIN",
          "new_api": null,
          "old_text": "GS_DEBUG_MARKER_BEGIN(GS_DEBUG_COLOR_RENDER_VIDEO,\n\t\t\t      output_frame_render_video_name)",
          "new_text": null,
          "old_line_content": "\tGS_DEBUG_MARKER_BEGIN(GS_DEBUG_COLOR_RENDER_VIDEO,",
          "new_line_content": "\t\t\t      output_frame_render_video_name);",
          "content_same": false
        },
        {
          "line": 358,
          "old_api": "gs_effect_set_float",
          "new_api": null,
          "old_text": "gs_effect_set_float(height_i,\n\t\t\t\t\t    video->conversion_height_i)",
          "new_text": null,
          "old_line_content": "\t\t\tgs_effect_set_float(height_i,",
          "new_line_content": "\t\t\t\t\t    video->conversion_height_i);",
          "content_same": false
        },
        {
          "line": 871,
          "old_api": "profile_end",
          "new_api": null,
          "old_text": "profile_end(output_frame_render_video_name)",
          "new_text": null,
          "old_line_content": "\tprofile_end(output_frame_render_video_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 360,
          "old_api": "gs_effect_set_float",
          "new_api": null,
          "old_text": "gs_effect_set_float(sdr_white_nits_over_maximum,\n\t\t\t\t\t    multiplier)",
          "new_text": null,
          "old_line_content": "\t\t\tgs_effect_set_float(sdr_white_nits_over_maximum,",
          "new_line_content": "\t\t\t\t\t    multiplier);",
          "content_same": false
        },
        {
          "line": 363,
          "old_api": "render_convert_plane",
          "new_api": null,
          "old_text": "render_convert_plane(effect, convert_textures[1],\n\t\t\t\t\t     video->conversion_techs[1])",
          "new_text": null,
          "old_line_content": "\t\t\trender_convert_plane(effect, convert_textures[1],",
          "new_line_content": "\t\t\t\t\t     video->conversion_techs[1]);",
          "content_same": false
        },
        {
          "line": 876,
          "old_api": "profile_end",
          "new_api": null,
          "old_text": "profile_end(output_frame_download_frame_name)",
          "new_text": null,
          "old_line_content": "\t\tprofile_end(output_frame_download_frame_name);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 369,
          "old_api": "gs_effect_set_float",
          "new_api": null,
          "old_text": "gs_effect_set_float(width_i,\n\t\t\t\t\t\t    video->conversion_width_i)",
          "new_text": null,
          "old_line_content": "\t\t\t\tgs_effect_set_float(width_i,",
          "new_line_content": "\t\t\t\t\t\t    video->conversion_width_i);",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": "profile_end",
          "new_api": null,
          "old_text": "profile_end(output_frame_gs_flush_name)",
          "new_text": null,
          "old_line_content": "\tprofile_end(output_frame_gs_flush_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 371,
          "old_api": "gs_effect_set_float",
          "new_api": null,
          "old_text": "gs_effect_set_float(height_i,\n\t\t\t\t\t\t    video->conversion_height_i)",
          "new_text": null,
          "old_line_content": "\t\t\t\tgs_effect_set_float(height_i,",
          "new_line_content": "\t\t\t\t\t\t    video->conversion_height_i);",
          "content_same": false
        },
        {
          "line": 884,
          "old_api": "profile_end",
          "new_api": null,
          "old_text": "profile_end(output_frame_gs_context_name)",
          "new_text": null,
          "old_line_content": "\tprofile_end(output_frame_gs_context_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 373,
          "old_api": "gs_effect_set_float",
          "new_api": null,
          "old_text": "gs_effect_set_float(sdr_white_nits_over_maximum,\n\t\t\t\t\t\t    multiplier)",
          "new_text": null,
          "old_line_content": "\t\t\t\tgs_effect_set_float(sdr_white_nits_over_maximum,",
          "new_line_content": "\t\t\t\t\t\t    multiplier);",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": "gs_effect_set_float",
          "new_api": null,
          "old_text": "gs_effect_set_float(hdr_lw,\n\t\t\t\t\t\t    hdr_nominal_peak_level)",
          "new_text": null,
          "old_line_content": "\t\t\t\tgs_effect_set_float(hdr_lw,",
          "new_line_content": "\t\t\t\t\t\t    hdr_nominal_peak_level);",
          "content_same": false
        },
        {
          "line": 888,
          "old_api": "circlebuf_pop_front",
          "new_api": null,
          "old_text": "circlebuf_pop_front(&video->vframe_info_buffer, &vframe_info,\n\t\t\t\t    sizeof(vframe_info))",
          "new_text": null,
          "old_line_content": "\t\tcirclebuf_pop_front(&video->vframe_info_buffer, &vframe_info,",
          "new_line_content": "\t\t\t\t    sizeof(vframe_info));",
          "content_same": false
        },
        {
          "line": 377,
          "old_api": "render_convert_plane",
          "new_api": null,
          "old_text": "render_convert_plane(\n\t\t\t\t\teffect, convert_textures[2],\n\t\t\t\t\tvideo->conversion_techs[2])",
          "new_text": null,
          "old_line_content": "\t\t\t\trender_convert_plane(",
          "new_line_content": "\t\t\t\t\teffect, convert_textures[2],",
          "content_same": false
        },
        {
          "line": 894,
          "old_api": "profile_end",
          "new_api": null,
          "old_text": "profile_end(output_frame_output_video_data_name)",
          "new_text": null,
          "old_line_content": "\t\tprofile_end(output_frame_output_video_data_name);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 384,
          "old_api": "gs_enable_blending",
          "new_api": null,
          "old_text": "gs_enable_blending(true)",
          "new_text": null,
          "old_line_content": "\tgs_enable_blending(true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 388,
          "old_api": "profile_end",
          "new_api": null,
          "old_text": "profile_end(render_convert_texture_name)",
          "new_text": null,
          "old_line_content": "\tprofile_end(render_convert_texture_name);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 903,
          "old_api": "pthread_mutex_lock",
          "new_api": null,
          "old_text": "pthread_mutex_lock(&obs->video.mixes_mutex)",
          "new_text": null,
          "old_line_content": "\tpthread_mutex_lock(&obs->video.mixes_mutex);",
          "new_line_content": "\tfor (size_t i = 0, num = obs->video.mixes.num; i < num; i++) {",
          "content_same": false
        },
        {
          "line": 907,
          "old_api": "output_frame",
          "new_api": null,
          "old_text": "output_frame(mix)",
          "new_text": null,
          "old_line_content": "\t\t\toutput_frame(mix);",
          "new_line_content": "\t\t} else {",
          "content_same": false
        },
        {
          "line": 398,
          "old_api": "profile_start",
          "new_api": null,
          "old_text": "profile_start(stage_output_texture_name)",
          "new_text": null,
          "old_line_content": "\tprofile_start(stage_output_texture_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 911,
          "old_api": "da_erase",
          "new_api": null,
          "old_text": "da_erase(obs->video.mixes, i)",
          "new_text": null,
          "old_line_content": "\t\t\tda_erase(obs->video.mixes, i);",
          "new_line_content": "\t\t\ti--;",
          "content_same": false
        },
        {
          "line": 400,
          "old_api": "unmap_last_surface",
          "new_api": null,
          "old_text": "unmap_last_surface(video)",
          "new_text": null,
          "old_line_content": "\tunmap_last_surface(video);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 916,
          "old_api": "pthread_mutex_unlock",
          "new_api": null,
          "old_text": "pthread_mutex_unlock(&obs->video.mixes_mutex)",
          "new_text": null,
          "old_line_content": "\tpthread_mutex_unlock(&obs->video.mixes_mutex);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 405,
          "old_api": "gs_stage_texture",
          "new_api": null,
          "old_text": "gs_stage_texture(copy, video->output_texture)",
          "new_text": null,
          "old_line_content": "\t\t\tgs_stage_texture(copy, video->output_texture);",
          "new_line_content": "\t\tvideo->active_copy_surfaces[cur_texture][0] = copy;",
          "content_same": false
        },
        {
          "line": 925,
          "old_api": "circlebuf_free",
          "new_api": null,
          "old_text": "circlebuf_free(&video->vframe_info_buffer)",
          "new_text": null,
          "old_line_content": "\tcirclebuf_free(&video->vframe_info_buffer);",
          "new_line_content": "\tvideo->cur_texture = 0;",
          "content_same": false
        },
        {
          "line": 416,
          "old_api": "gs_stage_texture",
          "new_api": null,
          "old_text": "gs_stage_texture(copy, convert_textures[i])",
          "new_text": null,
          "old_line_content": "\t\t\t\tgs_stage_texture(copy, convert_textures[i]);",
          "new_line_content": "\t\t\tvideo->active_copy_surfaces[cur_texture][i] = copy;",
          "content_same": false
        },
        {
          "line": 932,
          "old_api": "circlebuf_free",
          "new_api": null,
          "old_text": "circlebuf_free(&video->vframe_info_buffer)",
          "new_text": null,
          "old_line_content": "\tcirclebuf_free(&video->vframe_info_buffer);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 426,
          "old_api": "profile_end",
          "new_api": null,
          "old_text": "profile_end(stage_output_texture_name)",
          "new_text": null,
          "old_line_content": "\tprofile_end(stage_output_texture_name);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 938,
          "old_api": "circlebuf_free",
          "new_api": null,
          "old_text": "circlebuf_free(&video->vframe_info_buffer_gpu)",
          "new_text": null,
          "old_line_content": "\tcirclebuf_free(&video->vframe_info_buffer_gpu);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 950,
          "old_api": "pthread_mutex_lock",
          "new_api": null,
          "old_text": "pthread_mutex_lock(&video->task_mutex)",
          "new_text": null,
          "old_line_content": "\t\tpthread_mutex_lock(&video->task_mutex);",
          "new_line_content": "\t\tif (video->tasks.size) {",
          "content_same": false
        },
        {
          "line": 439,
          "old_api": "circlebuf_data",
          "new_api": null,
          "old_text": "circlebuf_data(\n\t\t\t&video->gpu_encoder_queue,\n\t\t\tvideo->gpu_encoder_queue.size - sizeof(*tf))",
          "new_text": null,
          "old_line_content": "\t\tstruct obs_tex_frame *tf = circlebuf_data(",
          "new_line_content": "\t\t\t&video->gpu_encoder_queue,",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": "task",
          "new_api": null,
          "old_text": "info.task(info.param)",
          "new_text": null,
          "old_line_content": "\t\t\tinfo.task(info.param);",
          "new_line_content": "\t\t}",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": "pthread_mutex_unlock",
          "new_api": null,
          "old_text": "pthread_mutex_unlock(&video->task_mutex)",
          "new_text": null,
          "old_line_content": "\t\tpthread_mutex_unlock(&video->task_mutex);",
          "new_line_content": "\t}",
          "content_same": false
        },
        {
          "line": 449,
          "old_api": "os_sem_post",
          "new_api": null,
          "old_text": "os_sem_post(video->gpu_encode_semaphore)",
          "new_text": null,
          "old_line_content": "\t\tos_sem_post(video->gpu_encode_semaphore);",
          "new_line_content": "\t\tgoto finish;",
          "content_same": false
        },
        {
          "line": 454,
          "old_api": "circlebuf_pop_front",
          "new_api": null,
          "old_text": "circlebuf_pop_front(&video->gpu_encoder_avail_queue, &tf, sizeof(tf))",
          "new_text": null,
          "old_line_content": "\tcirclebuf_pop_front(&video->gpu_encoder_avail_queue, &tf, sizeof(tf));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 457,
          "old_api": "gs_texture_acquire_sync",
          "new_api": null,
          "old_text": "gs_texture_acquire_sync(tf.tex, tf.lock_key, GS_WAIT_INFINITE)",
          "new_text": null,
          "old_line_content": "\t\tgs_texture_acquire_sync(tf.tex, tf.lock_key, GS_WAIT_INFINITE);",
          "new_line_content": "\t\ttf.released = false;",
          "content_same": false
        },
        {
          "line": 466,
          "old_api": "gs_copy_texture",
          "new_api": null,
          "old_text": "gs_copy_texture(tf.tex, video->convert_textures_encode[0])",
          "new_text": null,
          "old_line_content": "\t\tgs_copy_texture(tf.tex, video->convert_textures_encode[0]);",
          "new_line_content": "\t} else {",
          "content_same": false
        },
        {
          "line": 994,
          "old_api": "WINRT_IMPORT",
          "new_api": null,
          "old_text": "WINRT_IMPORT(winrt_capture_thread_stop)",
          "new_text": null,
          "old_line_content": "\tWINRT_IMPORT(winrt_capture_thread_stop);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 483,
          "old_api": "circlebuf_push_back",
          "new_api": null,
          "old_text": "circlebuf_push_back(&video->gpu_encoder_queue, &tf, sizeof(tf))",
          "new_text": null,
          "old_line_content": "\tcirclebuf_push_back(&video->gpu_encoder_queue, &tf, sizeof(tf));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 485,
          "old_api": "os_sem_post",
          "new_api": null,
          "old_text": "os_sem_post(video->gpu_encode_semaphore)",
          "new_text": null,
          "old_line_content": "\tos_sem_post(video->gpu_encode_semaphore);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 496,
          "old_api": "queue_frame",
          "new_api": null,
          "old_text": "queue_frame(video, raw_active, vframe_info)",
          "new_text": null,
          "old_line_content": "\twhile (queue_frame(video, raw_active, vframe_info))",
          "new_line_content": "\t\t;",
          "content_same": false
        },
        {
          "line": 1010,
          "old_api": "os_dlopen",
          "new_api": null,
          "old_text": "os_dlopen(module_name)",
          "new_text": null,
          "old_line_content": "\twinrt->winrt_module = os_dlopen(module_name);",
          "new_line_content": "\twinrt->loaded = winrt->winrt_module &&",
          "content_same": false
        },
        {
          "line": 1012,
          "old_api": "load_winrt_imports",
          "new_api": null,
          "old_text": "load_winrt_imports(&winrt->exports, winrt->winrt_module,\n\t\t\t\t\t   module_name)",
          "new_text": null,
          "old_line_content": "\t\t\tload_winrt_imports(&winrt->exports, winrt->winrt_module,",
          "new_line_content": "\t\t\t\t\t   module_name);",
          "content_same": false
        },
        {
          "line": 504,
          "old_api": "profile_start",
          "new_api": null,
          "old_text": "profile_start(output_gpu_encoders_name)",
          "new_text": null,
          "old_line_content": "\tprofile_start(output_gpu_encoders_name);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1017,
          "old_api": "winrt_dispatcher_init",
          "new_api": null,
          "old_text": "winrt->exports.winrt_dispatcher_init()",
          "new_text": null,
          "old_line_content": "\t\twinrt->dispatcher = winrt->exports.winrt_dispatcher_init();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1021,
          "old_api": "gs_leave_context",
          "new_api": null,
          "old_text": "gs_leave_context()",
          "new_text": null,
          "old_line_content": "\t\tgs_leave_context();",
          "new_line_content": "\t}",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 55,
      "total_additions": 166,
      "total_deletions": 166,
      "total_api_changes": 387
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 2,
        "api_related_lines": 387,
        "non_api_lines": 2,
        "non_api_line_numbers": [
          236,
          237
        ]
      }
    },
    "api_calls_before": 273,
    "api_calls_after": 273,
    "diff_info": {
      "added_lines": 1,
      "removed_lines": 2,
      "total_diff_lines": 15
    }
  }
}