diff --git a/src/Processors/Transforms/ReverseTransform.cpp b/src/Processors/Transforms/ReverseTransform.cpp
index 98f2bf54aa5..66b774ab50d 100644
--- a/src/Processors/Transforms/ReverseTransform.cpp
+++ b/src/Processors/Transforms/ReverseTransform.cpp
@@ -6,11 +6,11 @@ namespace DB
 
 void ReverseTransform::transform(Chunk & chunk)
 {
-    IColumn::Permutation permutation;
-
     size_t num_rows = chunk.getNumRows();
+    IColumn::Permutation permutation(num_rows);
+
     for (size_t i = 0; i < num_rows; ++i)
-        permutation.emplace_back(num_rows - 1 - i);
+        permutation[i] = num_rows - 1 - i;
 
     auto columns = chunk.detachColumns();
 
