{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/67d99900b0d770038c9c5708553143137b124a6c",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/67d99900b0d770038c9c5708553143137b124a6c/before.h",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/67d99900b0d770038c9c5708553143137b124a6c/after.h",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/67d99900b0d770038c9c5708553143137b124a6c/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [],
      "additions": [
        {
          "line": 128,
          "old_api": null,
          "new_api": "std::move(coin_)",
          "old_text": null,
          "new_text": "std::move(coin_)",
          "old_line_content": "public:",
          "new_line_content": "    explicit CCoinsCacheEntry(Coin&& coin_) : coin(std::move(coin_)), flags(0) {}",
          "content_same": false
        },
        {
          "line": 108,
          "old_api": null,
          "new_api": "SipHashUint256Extra",
          "old_text": null,
          "new_text": "SipHashUint256Extra(k0, k1, id.hash, id.n)",
          "old_line_content": "",
          "new_line_content": "        return SipHashUint256Extra(k0, k1, id.hash, id.n);",
          "content_same": false
        },
        {
          "line": 238,
          "old_api": null,
          "new_api": "std::logic_error(\"CCoinsViewCache cursor iteration not supported.\")",
          "old_text": null,
          "new_text": "std::logic_error(\"CCoinsViewCache cursor iteration not supported.\")",
          "old_line_content": "    bool HaveCoinInCache(const COutPoint &outpoint) const;",
          "new_line_content": "        throw std::logic_error(\"CCoinsViewCache cursor iteration not supported.\");",
          "content_same": false
        },
        {
          "line": 337,
          "old_api": null,
          "new_api": "explicit",
          "old_text": null,
          "new_text": "explicit",
          "old_line_content": "private:",
          "new_line_content": "    explicit CCoinsViewErrorCatcher(CCoinsView* view) : CCoinsViewBacked(view) {}",
          "content_same": false
        },
        {
          "line": 340,
          "old_api": null,
          "new_api": "std::move(f)",
          "old_text": null,
          "new_text": "std::move(f)",
          "old_line_content": "",
          "new_line_content": "        m_err_callbacks.emplace_back(std::move(f));",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 100,
          "old_api": "SipHashUint256Extra",
          "new_api": null,
          "old_text": "SipHashUint256Extra(k0, k1, id.hash, id.n)",
          "new_text": null,
          "old_line_content": "        return SipHashUint256Extra(k0, k1, id.hash, id.n);",
          "new_line_content": "     * the hash during rehash, so it does not have to cache the value. This",
          "content_same": false
        },
        {
          "line": 230,
          "old_api": "std::logic_error(\"CCoinsViewCache cursor iteration not supported.\")",
          "new_api": null,
          "old_text": "std::logic_error(\"CCoinsViewCache cursor iteration not supported.\")",
          "new_text": null,
          "old_line_content": "        throw std::logic_error(\"CCoinsViewCache cursor iteration not supported.\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 329,
          "old_api": "explicit",
          "new_api": null,
          "old_text": "explicit",
          "new_text": null,
          "old_line_content": "    explicit CCoinsViewErrorCatcher(CCoinsView* view) : CCoinsViewBacked(view) {}",
          "new_line_content": " * chainstate, while keeping user interface out of the common library, which is shared",
          "content_same": false
        },
        {
          "line": 332,
          "old_api": "std::move(f)",
          "new_api": null,
          "old_text": "std::move(f)",
          "new_text": null,
          "old_line_content": "        m_err_callbacks.emplace_back(std::move(f));",
          "new_line_content": " * Writes do not need similar protection, as failure to write is handled by the caller.",
          "content_same": false
        },
        {
          "line": 120,
          "old_api": "std::move(coin_)",
          "new_api": null,
          "old_text": "std::move(coin_)",
          "new_text": null,
          "old_line_content": "    explicit CCoinsCacheEntry(Coin&& coin_) : coin(std::move(coin_)), flags(0) {}",
          "new_line_content": "        /* Note that FRESH is a performance optimization with which we can",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 0,
      "total_additions": 5,
      "total_deletions": 5,
      "total_api_changes": 10
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 9,
        "api_related_lines": 10,
        "non_api_lines": 8,
        "non_api_line_numbers": [
          98,
          99,
          101,
          102,
          103,
          104,
          105,
          107
        ]
      }
    },
    "api_calls_before": 22,
    "api_calls_after": 22,
    "diff_info": {
      "added_lines": 9,
      "removed_lines": 1,
      "total_diff_lines": 23
    }
  }
}