{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/f33b717a85363e067316c133a542559d2f4aaeca",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/f33b717a85363e067316c133a542559d2f4aaeca/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/f33b717a85363e067316c133a542559d2f4aaeca/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/f33b717a85363e067316c133a542559d2f4aaeca/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 90,
          "old_api": "end",
          "new_api": "size",
          "old_text": "hashed_elements.end()",
          "new_text": "elements.size()",
          "old_line_content": "    std::sort(hashed_elements.begin(), hashed_elements.end());",
          "new_line_content": "    hashed_elements.reserve(elements.size());",
          "content_same": false
        },
        {
          "line": 106,
          "old_api": "ReadCompactSize",
          "new_api": "std::move(encoded_filter)",
          "old_text": "ReadCompactSize(stream)",
          "new_text": "std::move(encoded_filter)",
          "old_line_content": "    uint64_t N = ReadCompactSize(stream);",
          "new_line_content": "    m_encoded = std::move(encoded_filter);",
          "content_same": false
        },
        {
          "line": 111,
          "old_api": "static_cast<uint64_t>(m_M)",
          "new_api": "static_cast<uint32_t>(N)",
          "old_text": "static_cast<uint64_t>(m_M)",
          "new_text": "static_cast<uint32_t>(N)",
          "old_line_content": "    m_F = static_cast<uint64_t>(m_N) * static_cast<uint64_t>(m_M);",
          "new_line_content": "    m_N = static_cast<uint32_t>(N);",
          "content_same": false
        },
        {
          "line": 133,
          "old_api": "static_cast<uint64_t>(m_M)",
          "new_api": "static_cast<uint32_t>(N)",
          "old_text": "static_cast<uint64_t>(m_M)",
          "new_text": "static_cast<uint32_t>(N)",
          "old_line_content": "    m_F = static_cast<uint64_t>(m_N) * static_cast<uint64_t>(m_M);",
          "new_line_content": "    m_N = static_cast<uint32_t>(N);",
          "content_same": false
        },
        {
          "line": 137,
          "old_api": "WriteCompactSize",
          "new_api": "static_cast<uint64_t>(m_M)",
          "old_text": "WriteCompactSize(stream, m_N)",
          "new_text": "static_cast<uint64_t>(m_M)",
          "old_line_content": "    WriteCompactSize(stream, m_N);",
          "new_line_content": "    m_F = static_cast<uint64_t>(m_N) * static_cast<uint64_t>(m_M);",
          "content_same": false
        },
        {
          "line": 152,
          "old_api": "Flush",
          "new_api": "GolombRiceEncode",
          "old_text": "bitwriter.Flush()",
          "new_text": "GolombRiceEncode(bitwriter, m_P, delta)",
          "old_line_content": "    bitwriter.Flush();",
          "new_line_content": "        GolombRiceEncode(bitwriter, m_P, delta);",
          "content_same": false
        },
        {
          "line": 227,
          "old_api": "GetUint64",
          "new_api": "GetHash",
          "old_text": "m_block_hash.GetUint64(1)",
          "new_text": "block.GetHash()",
          "old_line_content": "        m_filter = GCSFilter(m_block_hash.GetUint64(0), m_block_hash.GetUint64(1),",
          "new_line_content": "    : m_filter_type(filter_type), m_block_hash(block.GetHash())",
          "content_same": false
        },
        {
          "line": 233,
          "old_api": "std::invalid_argument(\"unknown filter_type\")",
          "new_api": "BasicFilterElements",
          "old_text": "std::invalid_argument(\"unknown filter_type\")",
          "new_text": "BasicFilterElements(block, block_undo)",
          "old_line_content": "        throw std::invalid_argument(\"unknown filter_type\");",
          "new_line_content": "                             BasicFilterElements(block, block_undo));",
          "content_same": false
        },
        {
          "line": 252,
          "old_api": "size",
          "new_api": "GetHash",
          "old_text": "filter_hash.size()",
          "new_text": "GetHash()",
          "old_line_content": "        .Write(filter_hash.begin(), filter_hash.size())",
          "new_line_content": "    const uint256& filter_hash = GetHash();",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 256,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "filter_hash.size()",
          "old_line_content": "}",
          "new_line_content": "        .Write(filter_hash.begin(), filter_hash.size())",
          "content_same": false
        },
        {
          "line": 257,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "prev_header.size()",
          "old_line_content": "",
          "new_line_content": "        .Write(prev_header.begin(), prev_header.size())",
          "content_same": false
        },
        {
          "line": 258,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "result.begin()",
          "old_line_content": "",
          "new_line_content": "        .Finalize(result.begin());",
          "content_same": false
        },
        {
          "line": 132,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "elements.size()",
          "old_line_content": "    }",
          "new_line_content": "    size_t N = elements.size();",
          "content_same": false
        },
        {
          "line": 135,
          "old_api": null,
          "new_api": "std::invalid_argument(\"N must be <2^32\")",
          "old_text": null,
          "new_text": "std::invalid_argument(\"N must be <2^32\")",
          "old_line_content": "    CVectorWriter stream(GCS_SER_TYPE, GCS_SER_VERSION, m_encoded, 0);",
          "new_line_content": "        throw std::invalid_argument(\"N must be <2^32\");",
          "content_same": false
        },
        {
          "line": 141,
          "old_api": null,
          "new_api": "WriteCompactSize",
          "old_text": null,
          "new_text": "WriteCompactSize(stream, m_N)",
          "old_line_content": "    }",
          "new_line_content": "    WriteCompactSize(stream, m_N);",
          "content_same": false
        },
        {
          "line": 143,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "elements.empty()",
          "old_line_content": "    BitStreamWriter<CVectorWriter> bitwriter(stream);",
          "new_line_content": "    if (elements.empty()) {",
          "content_same": false
        },
        {
          "line": 150,
          "old_api": null,
          "new_api": "BuildHashedSet",
          "old_text": null,
          "new_text": "BuildHashedSet(elements)",
          "old_line_content": "    }",
          "new_line_content": "    for (uint64_t value : BuildHashedSet(elements)) {",
          "content_same": false
        },
        {
          "line": 156,
          "old_api": null,
          "new_api": "Flush",
          "old_text": null,
          "new_text": "bitwriter.Flush()",
          "old_line_content": "{",
          "new_line_content": "    bitwriter.Flush();",
          "content_same": false
        },
        {
          "line": 164,
          "old_api": null,
          "new_api": "ReadCompactSize",
          "old_text": null,
          "new_text": "ReadCompactSize(stream)",
          "old_line_content": "",
          "new_line_content": "    uint64_t N = ReadCompactSize(stream);",
          "content_same": false
        },
        {
          "line": 165,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(N == m_N)",
          "old_line_content": "    uint64_t value = 0;",
          "new_line_content": "    assert(N == m_N);",
          "content_same": false
        },
        {
          "line": 172,
          "old_api": null,
          "new_api": "GolombRiceDecode",
          "old_text": null,
          "new_text": "GolombRiceDecode(bitreader, m_P)",
          "old_line_content": "            if (hashes_index == size) {",
          "new_line_content": "        uint64_t delta = GolombRiceDecode(bitreader, m_P);",
          "content_same": false
        },
        {
          "line": 56,
          "old_api": null,
          "new_api": "static_cast<unsigned __int128>(n)",
          "old_text": null,
          "new_text": "static_cast<unsigned __int128>(n)",
          "old_line_content": "    // result to overflow, split the numbers into the most significant and",
          "new_line_content": "    return (static_cast<unsigned __int128>(x) * static_cast<unsigned __int128>(n)) >> 64;",
          "content_same": false
        },
        {
          "line": 193,
          "old_api": null,
          "new_api": "HashToRange",
          "old_text": null,
          "new_text": "HashToRange(element)",
          "old_line_content": "bool GCSFilter::MatchAny(const ElementSet& elements) const",
          "new_line_content": "    uint64_t query = HashToRange(element);",
          "content_same": false
        },
        {
          "line": 194,
          "old_api": null,
          "new_api": "MatchInternal",
          "old_text": null,
          "new_text": "MatchInternal(&query, 1)",
          "old_line_content": "{",
          "new_line_content": "    return MatchInternal(&query, 1);",
          "content_same": false
        },
        {
          "line": 199,
          "old_api": null,
          "new_api": "BuildHashedSet",
          "old_text": null,
          "new_text": "BuildHashedSet(elements)",
          "old_line_content": "static GCSFilter::ElementSet BasicFilterElements(const CBlock& block,",
          "new_line_content": "    const std::vector<uint64_t> queries = BuildHashedSet(elements);",
          "content_same": false
        },
        {
          "line": 200,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "queries.size()",
          "old_line_content": "                                                 const CBlockUndo& block_undo)",
          "new_line_content": "    return MatchInternal(queries.data(), queries.size());",
          "content_same": false
        },
        {
          "line": 81,
          "old_api": null,
          "new_api": "Write",
          "old_text": null,
          "new_text": "CSipHasher(m_siphash_k0, m_siphash_k1)\n        .Write(element.data(), element.size())\n        .Finalize()",
          "old_line_content": "}",
          "new_line_content": "    uint64_t hash = CSipHasher(m_siphash_k0, m_siphash_k1)",
          "content_same": false
        },
        {
          "line": 82,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "element.size()",
          "old_line_content": "",
          "new_line_content": "        .Write(element.data(), element.size())",
          "content_same": false
        },
        {
          "line": 84,
          "old_api": null,
          "new_api": "MapIntoRange",
          "old_text": null,
          "new_text": "MapIntoRange(hash, m_F)",
          "old_line_content": "{",
          "new_line_content": "    return MapIntoRange(hash, m_F);",
          "content_same": false
        },
        {
          "line": 212,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "script.end()",
          "old_line_content": "    for (const CTxUndo& tx_undo : block_undo.vtxundo) {",
          "new_line_content": "            elements.emplace(script.begin(), script.end());",
          "content_same": false
        },
        {
          "line": 219,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "script.end()",
          "old_line_content": "    return elements;",
          "new_line_content": "            elements.emplace(script.begin(), script.end());",
          "content_same": false
        },
        {
          "line": 92,
          "old_api": null,
          "new_api": "HashToRange",
          "old_text": null,
          "new_text": "HashToRange(element)",
          "old_line_content": "}",
          "new_line_content": "        hashed_elements.push_back(HashToRange(element));",
          "content_same": false
        },
        {
          "line": 94,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "hashed_elements.end()",
          "old_line_content": "GCSFilter::GCSFilter(uint64_t siphash_k0, uint64_t siphash_k1, uint8_t P, uint32_t M)",
          "new_line_content": "    std::sort(hashed_elements.begin(), hashed_elements.end());",
          "content_same": false
        },
        {
          "line": 231,
          "old_api": null,
          "new_api": "GetUint64",
          "old_text": null,
          "new_text": "m_block_hash.GetUint64(1)",
          "old_line_content": "",
          "new_line_content": "        m_filter = GCSFilter(m_block_hash.GetUint64(0), m_block_hash.GetUint64(1),",
          "content_same": false
        },
        {
          "line": 237,
          "old_api": null,
          "new_api": "std::invalid_argument(\"unknown filter_type\")",
          "old_text": null,
          "new_text": "std::invalid_argument(\"unknown filter_type\")",
          "old_line_content": "uint256 BlockFilter::GetHash() const",
          "new_line_content": "        throw std::invalid_argument(\"unknown filter_type\");",
          "content_same": false
        },
        {
          "line": 110,
          "old_api": null,
          "new_api": "ReadCompactSize",
          "old_text": null,
          "new_text": "ReadCompactSize(stream)",
          "old_line_content": "    }",
          "new_line_content": "    uint64_t N = ReadCompactSize(stream);",
          "content_same": false
        },
        {
          "line": 113,
          "old_api": null,
          "new_api": "std::ios_base::failure(\"N must be <2^32\")",
          "old_text": null,
          "new_text": "std::ios_base::failure(\"N must be <2^32\")",
          "old_line_content": "    // Verify that the encoded filter contains exactly N elements. If it has too much or too little",
          "new_line_content": "        throw std::ios_base::failure(\"N must be <2^32\");",
          "content_same": false
        },
        {
          "line": 115,
          "old_api": null,
          "new_api": "static_cast<uint64_t>(m_M)",
          "old_text": null,
          "new_text": "static_cast<uint64_t>(m_M)",
          "old_line_content": "    BitStreamReader<VectorReader> bitreader(stream);",
          "new_line_content": "    m_F = static_cast<uint64_t>(m_N) * static_cast<uint64_t>(m_M);",
          "content_same": false
        },
        {
          "line": 243,
          "old_api": null,
          "new_api": "GetEncodedFilter",
          "old_text": null,
          "new_text": "GetEncodedFilter()",
          "old_line_content": "    return result;",
          "new_line_content": "    const std::vector<unsigned char>& data = GetEncodedFilter();",
          "content_same": false
        },
        {
          "line": 246,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "result.begin()",
          "old_line_content": "uint256 BlockFilter::ComputeHeader(const uint256& prev_header) const",
          "new_line_content": "    CHash256().Write(data.data(), data.size()).Finalize(result.begin());",
          "content_same": false
        },
        {
          "line": 121,
          "old_api": null,
          "new_api": "GolombRiceDecode",
          "old_text": null,
          "new_text": "GolombRiceDecode(bitreader, m_P)",
          "old_line_content": "    }",
          "new_line_content": "        GolombRiceDecode(bitreader, m_P);",
          "content_same": false
        },
        {
          "line": 123,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "stream.empty()",
          "old_line_content": "",
          "new_line_content": "    if (!stream.empty()) {",
          "content_same": false
        },
        {
          "line": 124,
          "old_api": null,
          "new_api": "std::ios_base::failure(\"encoded_filter contains excess data\")",
          "old_text": null,
          "new_text": "std::ios_base::failure(\"encoded_filter contains excess data\")",
          "old_line_content": "GCSFilter::GCSFilter(uint64_t siphash_k0, uint64_t siphash_k1, uint8_t P, uint32_t M,",
          "new_line_content": "        throw std::ios_base::failure(\"encoded_filter contains excess data\");",
          "content_same": false
        },
        {
          "line": 255,
          "old_api": null,
          "new_api": "Write",
          "old_text": null,
          "new_text": "CHash256()\n        .Write(filter_hash.begin(), filter_hash.size())\n        .Write(prev_header.begin(), prev_header.size())\n        .Finalize(result.begin())",
          "old_line_content": "    return result;",
          "new_line_content": "    CHash256()",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 128,
          "old_api": "size",
          "new_api": null,
          "old_text": "elements.size()",
          "new_text": null,
          "old_line_content": "    size_t N = elements.size();",
          "new_line_content": "GCSFilter::GCSFilter(uint64_t siphash_k0, uint64_t siphash_k1, uint8_t P, uint32_t M,",
          "content_same": false
        },
        {
          "line": 129,
          "old_api": "static_cast<uint32_t>(N)",
          "new_api": null,
          "old_text": "static_cast<uint32_t>(N)",
          "new_text": null,
          "old_line_content": "    m_N = static_cast<uint32_t>(N);",
          "new_line_content": "                     const ElementSet& elements)",
          "content_same": false
        },
        {
          "line": 131,
          "old_api": "std::invalid_argument(\"N must be <2^32\")",
          "new_api": null,
          "old_text": "std::invalid_argument(\"N must be <2^32\")",
          "new_text": null,
          "old_line_content": "        throw std::invalid_argument(\"N must be <2^32\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 139,
          "old_api": "empty",
          "new_api": null,
          "old_text": "elements.empty()",
          "new_text": null,
          "old_line_content": "    if (elements.empty()) {",
          "new_line_content": "    CVectorWriter stream(GCS_SER_TYPE, GCS_SER_VERSION, m_encoded, 0);",
          "content_same": false
        },
        {
          "line": 146,
          "old_api": "BuildHashedSet",
          "new_api": null,
          "old_text": "BuildHashedSet(elements)",
          "new_text": null,
          "old_line_content": "    for (uint64_t value : BuildHashedSet(elements)) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 148,
          "old_api": "GolombRiceEncode",
          "new_api": null,
          "old_text": "GolombRiceEncode(bitwriter, m_P, delta)",
          "new_text": null,
          "old_line_content": "        GolombRiceEncode(bitwriter, m_P, delta);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 160,
          "old_api": "ReadCompactSize",
          "new_api": null,
          "old_text": "ReadCompactSize(stream)",
          "new_text": null,
          "old_line_content": "    uint64_t N = ReadCompactSize(stream);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 161,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(N == m_N)",
          "new_text": null,
          "old_line_content": "    assert(N == m_N);",
          "new_line_content": "    VectorReader stream(GCS_SER_TYPE, GCS_SER_VERSION, m_encoded, 0);",
          "content_same": false
        },
        {
          "line": 168,
          "old_api": "GolombRiceDecode",
          "new_api": null,
          "old_text": "GolombRiceDecode(bitreader, m_P)",
          "new_text": null,
          "old_line_content": "        uint64_t delta = GolombRiceDecode(bitreader, m_P);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 189,
          "old_api": "HashToRange",
          "new_api": null,
          "old_text": "HashToRange(element)",
          "new_text": null,
          "old_line_content": "    uint64_t query = HashToRange(element);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 190,
          "old_api": "MatchInternal",
          "new_api": null,
          "old_text": "MatchInternal(&query, 1)",
          "new_text": null,
          "old_line_content": "    return MatchInternal(&query, 1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 195,
          "old_api": "BuildHashedSet",
          "new_api": null,
          "old_text": "BuildHashedSet(elements)",
          "new_text": null,
          "old_line_content": "    const std::vector<uint64_t> queries = BuildHashedSet(elements);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 196,
          "old_api": "size",
          "new_api": null,
          "old_text": "queries.size()",
          "new_text": null,
          "old_line_content": "    return MatchInternal(queries.data(), queries.size());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 77,
          "old_api": "Write",
          "new_api": null,
          "old_text": "CSipHasher(m_siphash_k0, m_siphash_k1)\n        .Write(element.data(), element.size())\n        .Finalize()",
          "new_text": null,
          "old_line_content": "    uint64_t hash = CSipHasher(m_siphash_k0, m_siphash_k1)",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 78,
          "old_api": "size",
          "new_api": null,
          "old_text": "element.size()",
          "new_text": null,
          "old_line_content": "        .Write(element.data(), element.size())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 80,
          "old_api": "MapIntoRange",
          "new_api": null,
          "old_text": "MapIntoRange(hash, m_F)",
          "new_text": null,
          "old_line_content": "    return MapIntoRange(hash, m_F);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 208,
          "old_api": "end",
          "new_api": null,
          "old_text": "script.end()",
          "new_text": null,
          "old_line_content": "            elements.emplace(script.begin(), script.end());",
          "new_line_content": "    for (const CTransactionRef& tx : block.vtx) {",
          "content_same": false
        },
        {
          "line": 86,
          "old_api": "size",
          "new_api": null,
          "old_text": "elements.size()",
          "new_text": null,
          "old_line_content": "    hashed_elements.reserve(elements.size());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 215,
          "old_api": "end",
          "new_api": null,
          "old_text": "script.end()",
          "new_text": null,
          "old_line_content": "            elements.emplace(script.begin(), script.end());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 88,
          "old_api": "HashToRange",
          "new_api": null,
          "old_text": "HashToRange(element)",
          "new_text": null,
          "old_line_content": "        hashed_elements.push_back(HashToRange(element));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 120,
          "old_api": "std::ios_base::failure(\"encoded_filter contains excess data\")",
          "new_api": null,
          "old_text": "std::ios_base::failure(\"encoded_filter contains excess data\")",
          "new_text": null,
          "old_line_content": "        throw std::ios_base::failure(\"encoded_filter contains excess data\");",
          "new_line_content": "    for (uint64_t i = 0; i < m_N; ++i) {",
          "content_same": false
        },
        {
          "line": 223,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "block.GetHash()",
          "new_text": null,
          "old_line_content": "    : m_filter_type(filter_type), m_block_hash(block.GetHash())",
          "new_line_content": "    return elements;",
          "content_same": false
        },
        {
          "line": 229,
          "old_api": "BasicFilterElements",
          "new_api": null,
          "old_text": "BasicFilterElements(block, block_undo)",
          "new_text": null,
          "old_line_content": "                             BasicFilterElements(block, block_undo));",
          "new_line_content": "    switch (m_filter_type) {",
          "content_same": false
        },
        {
          "line": 102,
          "old_api": "std::move(encoded_filter)",
          "new_api": null,
          "old_text": "std::move(encoded_filter)",
          "new_text": null,
          "old_line_content": "    m_encoded = std::move(encoded_filter);",
          "new_line_content": "GCSFilter::GCSFilter(uint64_t siphash_k0, uint64_t siphash_k1, uint8_t P, uint32_t M,",
          "content_same": false
        },
        {
          "line": 107,
          "old_api": "static_cast<uint32_t>(N)",
          "new_api": null,
          "old_text": "static_cast<uint32_t>(N)",
          "new_text": null,
          "old_line_content": "    m_N = static_cast<uint32_t>(N);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 109,
          "old_api": "std::ios_base::failure(\"N must be <2^32\")",
          "new_api": null,
          "old_text": "std::ios_base::failure(\"N must be <2^32\")",
          "new_text": null,
          "old_line_content": "        throw std::ios_base::failure(\"N must be <2^32\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 239,
          "old_api": "GetEncodedFilter",
          "new_api": null,
          "old_text": "GetEncodedFilter()",
          "new_text": null,
          "old_line_content": "    const std::vector<unsigned char>& data = GetEncodedFilter();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 242,
          "old_api": "begin",
          "new_api": null,
          "old_text": "result.begin()",
          "new_text": null,
          "old_line_content": "    CHash256().Write(data.data(), data.size()).Finalize(result.begin());",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 117,
          "old_api": "GolombRiceDecode",
          "new_api": null,
          "old_text": "GolombRiceDecode(bitreader, m_P)",
          "new_text": null,
          "old_line_content": "        GolombRiceDecode(bitreader, m_P);",
          "new_line_content": "    // Verify that the encoded filter contains exactly N elements. If it has too much or too little",
          "content_same": false
        },
        {
          "line": 119,
          "old_api": "empty",
          "new_api": null,
          "old_text": "stream.empty()",
          "new_text": null,
          "old_line_content": "    if (!stream.empty()) {",
          "new_line_content": "    BitStreamReader<VectorReader> bitreader(stream);",
          "content_same": false
        },
        {
          "line": 248,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "GetHash()",
          "new_text": null,
          "old_line_content": "    const uint256& filter_hash = GetHash();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 251,
          "old_api": "Write",
          "new_api": null,
          "old_text": "CHash256()\n        .Write(filter_hash.begin(), filter_hash.size())\n        .Write(prev_header.begin(), prev_header.size())\n        .Finalize(result.begin())",
          "new_text": null,
          "old_line_content": "    CHash256()",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 253,
          "old_api": "size",
          "new_api": null,
          "old_text": "prev_header.size()",
          "new_text": null,
          "old_line_content": "        .Write(prev_header.begin(), prev_header.size())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 254,
          "old_api": "begin",
          "new_api": null,
          "old_text": "result.begin()",
          "new_text": null,
          "old_line_content": "        .Finalize(result.begin());",
          "new_line_content": "    uint256 result;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 9,
      "total_additions": 35,
      "total_deletions": 34,
      "total_api_changes": 78
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 4,
        "api_related_lines": 78,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          57,
          76,
          55
        ]
      }
    },
    "api_calls_before": 78,
    "api_calls_after": 80,
    "diff_info": {
      "added_lines": 4,
      "removed_lines": 0,
      "total_diff_lines": 23
    }
  }
}