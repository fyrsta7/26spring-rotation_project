{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/8da9dd0725ea90b1fd085d9551177fe62d7a9ba2",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/8da9dd0725ea90b1fd085d9551177fe62d7a9ba2/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/8da9dd0725ea90b1fd085d9551177fe62d7a9ba2/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/8da9dd0725ea90b1fd085d9551177fe62d7a9ba2/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 830,
          "old_api": "IsMine",
          "new_api": "GetDepthInMainChain",
          "old_text": "IsMine(wtx.vout[i])",
          "new_text": "wtx.GetDepthInMainChain()",
          "old_line_content": "                    if ((i >= coins.vout.size() || coins.vout[i].IsNull()) && IsMine(wtx.vout[i]))",
          "new_line_content": "            if (fFound || wtx.GetDepthInMainChain() > 0)",
          "content_same": false
        },
        {
          "line": 839,
          "old_api": "GetHash",
          "new_api": "MarkSpent",
          "old_text": "wtx.GetHash().ToString().c_str()",
          "new_text": "wtx.MarkSpent(i)",
          "old_line_content": "                    printf(\"ReacceptWalletTransactions found spent coin %sbc %s\\n\", FormatMoney(wtx.GetCredit()).c_str(), wtx.GetHash().ToString().c_str());",
          "new_line_content": "                        wtx.MarkSpent(i);",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": "IsCoinBase",
          "new_api": "MarkDirty",
          "old_text": "wtx.IsCoinBase()",
          "new_text": "wtx.MarkDirty()",
          "old_line_content": "                if (!wtx.IsCoinBase())",
          "new_line_content": "                    wtx.MarkDirty();",
          "content_same": false
        },
        {
          "line": 848,
          "old_api": "AcceptWalletTransaction",
          "new_api": "WriteToDisk",
          "old_text": "wtx.AcceptWalletTransaction(false)",
          "new_text": "wtx.WriteToDisk()",
          "old_line_content": "                    wtx.AcceptWalletTransaction(false);",
          "new_line_content": "                    wtx.WriteToDisk();",
          "content_same": false
        },
        {
          "line": 854,
          "old_api": "ScanForWalletTransactions",
          "new_api": "IsCoinBase",
          "old_text": "ScanForWalletTransactions(pindexGenesisBlock)",
          "new_text": "wtx.IsCoinBase()",
          "old_line_content": "            if (ScanForWalletTransactions(pindexGenesisBlock))",
          "new_line_content": "                if (!wtx.IsCoinBase())",
          "content_same": false
        },
        {
          "line": 871,
          "old_api": "GetHash",
          "new_api": "IsCoinBase",
          "old_text": "GetHash()",
          "new_text": "tx.IsCoinBase()",
          "old_line_content": "            uint256 hash = GetHash();",
          "new_line_content": "        if (!tx.IsCoinBase())",
          "content_same": false
        },
        {
          "line": 872,
          "old_api": "ToString",
          "new_api": "GetDepthInMainChain",
          "old_text": "hash.ToString().c_str()",
          "new_text": "tx.GetDepthInMainChain()",
          "old_line_content": "            printf(\"Relaying wtx %s\\n\", hash.ToString().c_str());",
          "new_line_content": "            if (tx.GetDepthInMainChain() == 0)",
          "content_same": false
        },
        {
          "line": 873,
          "old_api": "RelayTransaction",
          "new_api": "GetHash",
          "old_text": "RelayTransaction((CTransaction)*this, hash)",
          "new_text": "tx.GetHash()",
          "old_line_content": "            RelayTransaction((CTransaction)*this, hash);",
          "new_line_content": "                RelayTransaction((CTransaction)tx, tx.GetHash());",
          "content_same": false
        },
        {
          "line": 988,
          "old_api": "IsConfirmed",
          "new_api": "end",
          "old_text": "pcoin->IsConfirmed()",
          "new_text": "mapWallet.end()",
          "old_line_content": "            if (fOnlyConfirmed && !pcoin->IsConfirmed())",
          "new_line_content": "        for (map<uint256, CWalletTx>::const_iterator it = mapWallet.begin(); it != mapWallet.end(); ++it)",
          "content_same": false
        },
        {
          "line": 995,
          "old_api": "IsMine",
          "new_api": "IsConfirmed",
          "old_text": "IsMine(pcoin->vout[i])",
          "new_text": "pcoin->IsConfirmed()",
          "old_line_content": "                if (!(pcoin->IsSpent(i)) && IsMine(pcoin->vout[i]) &&",
          "new_line_content": "            if (fOnlyConfirmed && !pcoin->IsConfirmed())",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": "insert",
          "new_api": "ApproximateBestSubset",
          "old_text": "setCoinsRet.insert(coinLowestLarger.second)",
          "new_text": "ApproximateBestSubset(vValue, nTotalLower, nTargetValue + CENT, vfBest, nBest, 1000)",
          "old_line_content": "        setCoinsRet.insert(coinLowestLarger.second);",
          "new_line_content": "        ApproximateBestSubset(vValue, nTotalLower, nTargetValue + CENT, vfBest, nBest, 1000);",
          "content_same": false
        },
        {
          "line": 1183,
          "old_api": "LOCK2",
          "new_api": "_",
          "old_text": "LOCK2(cs_main, cs_wallet)",
          "new_text": "_(\"Transaction amounts must be positive\")",
          "old_line_content": "        LOCK2(cs_main, cs_wallet);",
          "new_line_content": "        strFailReason = _(\"Transaction amounts must be positive\");",
          "content_same": false
        },
        {
          "line": 1281,
          "old_api": "_",
          "new_api": "GetHash",
          "old_text": "_(\"Signing transaction failed\")",
          "new_text": "coin.first->GetHash()",
          "old_line_content": "                        strFailReason = _(\"Signing transaction failed\");",
          "new_line_content": "                    wtxNew.vin.push_back(CTxIn(coin.first->GetHash(),coin.second));",
          "content_same": false
        },
        {
          "line": 1286,
          "old_api": "::GetSerializeSize(*(CTransaction*)&wtxNew, SER_NETWORK, PROTOCOL_VERSION)",
          "new_api": "SignSignature",
          "old_text": "::GetSerializeSize(*(CTransaction*)&wtxNew, SER_NETWORK, PROTOCOL_VERSION)",
          "new_text": "SignSignature(*this, *coin.first, wtxNew, nIn++)",
          "old_line_content": "                unsigned int nBytes = ::GetSerializeSize(*(CTransaction*)&wtxNew, SER_NETWORK, PROTOCOL_VERSION);",
          "new_line_content": "                    if (!SignSignature(*this, *coin.first, wtxNew, nIn++))",
          "content_same": false
        },
        {
          "line": 1296,
          "old_api": "AllowFree",
          "new_api": "_",
          "old_text": "AllowFree(dPriority)",
          "new_text": "_(\"Transaction too large\")",
          "old_line_content": "                bool fAllowFree = AllowFree(dPriority);",
          "new_line_content": "                    strFailReason = _(\"Transaction too large\");",
          "content_same": false
        },
        {
          "line": 1305,
          "old_api": "AddSupportingTransactions",
          "new_api": "max",
          "old_text": "wtxNew.AddSupportingTransactions()",
          "new_text": "max(nPayFee, nMinFee)",
          "old_line_content": "                wtxNew.AddSupportingTransactions();",
          "new_line_content": "                if (nFeeRet < max(nPayFee, nMinFee))",
          "content_same": false
        },
        {
          "line": 1327,
          "old_api": "LOCK2",
          "new_api": "CreateTransaction",
          "old_text": "LOCK2(cs_main, cs_wallet)",
          "new_text": "CreateTransaction(vecSend, wtxNew, reservekey, nFeeRet, strFailReason)",
          "old_line_content": "        LOCK2(cs_main, cs_wallet);",
          "new_line_content": "    return CreateTransaction(vecSend, wtxNew, reservekey, nFeeRet, strFailReason);",
          "content_same": false
        },
        {
          "line": 1347,
          "old_api": "BindWallet",
          "new_api": "AddToWallet",
          "old_text": "coin.BindWallet(this)",
          "new_text": "AddToWallet(wtxNew)",
          "old_line_content": "                coin.BindWallet(this);",
          "new_line_content": "            AddToWallet(wtxNew);",
          "content_same": false
        },
        {
          "line": 1387,
          "old_api": "CreateTransaction",
          "new_api": "IsLocked",
          "old_text": "CreateTransaction(scriptPubKey, nValue, wtxNew, reservekey, nFeeRequired, strError)",
          "new_text": "IsLocked()",
          "old_line_content": "    if (!CreateTransaction(scriptPubKey, nValue, wtxNew, reservekey, nFeeRequired, strError))",
          "new_line_content": "    if (IsLocked())",
          "content_same": false
        },
        {
          "line": 1389,
          "old_api": "GetBalance",
          "new_api": "_",
          "old_text": "GetBalance()",
          "new_text": "_(\"Error: Wallet locked, unable to create transaction!\")",
          "old_line_content": "        if (nValue + nFeeRequired > GetBalance())",
          "new_line_content": "        string strError = _(\"Error: Wallet locked, unable to create transaction!\");",
          "content_same": false
        },
        {
          "line": 1398,
          "old_api": "CommitTransaction",
          "new_api": "c_str",
          "old_text": "CommitTransaction(wtxNew, reservekey)",
          "new_text": "strError.c_str()",
          "old_line_content": "    if (!CommitTransaction(wtxNew, reservekey))",
          "new_line_content": "        printf(\"SendMoney() : %s\\n\", strError.c_str());",
          "content_same": false
        },
        {
          "line": 1418,
          "old_api": "SendMoney",
          "new_api": "GetBalance",
          "old_text": "SendMoney(scriptPubKey, nValue, wtxNew, fAskFee)",
          "new_text": "GetBalance()",
          "old_line_content": "    return SendMoney(scriptPubKey, nValue, wtxNew, fAskFee);",
          "new_line_content": "    if (nValue + nTransactionFee > GetBalance())",
          "content_same": false
        },
        {
          "line": 1472,
          "old_api": "LOCK",
          "new_api": "ToString",
          "old_text": "LOCK(cs_wallet)",
          "new_text": "CBitcoinAddress(address).ToString()",
          "old_line_content": "        LOCK(cs_wallet);",
          "new_line_content": "    return CWalletDB(strWalletFile).EraseName(CBitcoinAddress(address).ToString());",
          "content_same": false
        },
        {
          "line": 1479,
          "old_api": "printf",
          "new_api": "LOCK",
          "old_text": "printf(\"\\n\")",
          "new_text": "LOCK(cs_wallet)",
          "old_line_content": "    printf(\"\\n\");",
          "new_line_content": "        LOCK(cs_wallet);",
          "content_same": false
        },
        {
          "line": 1486,
          "old_api": "find",
          "new_api": "printf",
          "old_text": "mapWallet.find(hashTx)",
          "new_text": "printf(\"\\n\")",
          "old_line_content": "        map<uint256, CWalletTx>::iterator mi = mapWallet.find(hashTx);",
          "new_line_content": "    printf(\"\\n\");",
          "content_same": false
        },
        {
          "line": 1535,
          "old_api": "GenerateNewKey",
          "new_api": "IsLocked",
          "old_text": "GenerateNewKey()",
          "new_text": "IsLocked()",
          "old_line_content": "            walletdb.WritePool(nIndex, CKeyPool(GenerateNewKey()));",
          "new_line_content": "        if (IsLocked())",
          "content_same": false
        },
        {
          "line": 1538,
          "old_api": "printf",
          "new_api": "GetArg",
          "old_text": "printf(\"CWallet::NewKeyPool wrote %\"PRI64d\" new keys\\n\", nKeys)",
          "new_text": "GetArg(\"-keypool\", 100)",
          "old_line_content": "        printf(\"CWallet::NewKeyPool wrote %\"PRI64d\" new keys\\n\", nKeys);",
          "new_line_content": "        int64 nKeys = max(GetArg(\"-keypool\", 100), (int64)0);",
          "content_same": false
        },
        {
          "line": 1555,
          "old_api": "size",
          "new_api": "IsLocked",
          "old_text": "setKeyPool.size()",
          "new_text": "IsLocked()",
          "old_line_content": "        while (setKeyPool.size() < (nTargetSize + 1))",
          "new_line_content": "        if (IsLocked())",
          "content_same": false
        },
        {
          "line": 1561,
          "old_api": "runtime_error",
          "new_api": "GetArg",
          "old_text": "runtime_error(\"TopUpKeyPool() : writing generated key failed\")",
          "new_text": "GetArg(\"-keypool\", 100)",
          "old_line_content": "                throw runtime_error(\"TopUpKeyPool() : writing generated key failed\");",
          "new_line_content": "        unsigned int nTargetSize = max(GetArg(\"-keypool\", 100), 0LL);",
          "content_same": false
        },
        {
          "line": 1562,
          "old_api": "insert",
          "new_api": "size",
          "old_text": "setKeyPool.insert(nEnd)",
          "new_text": "setKeyPool.size()",
          "old_line_content": "            setKeyPool.insert(nEnd);",
          "new_line_content": "        while (setKeyPool.size() < (nTargetSize + 1))",
          "content_same": false
        },
        {
          "line": 1587,
          "old_api": "ReadPool",
          "new_api": "empty",
          "old_text": "walletdb.ReadPool(nIndex, keypool)",
          "new_text": "setKeyPool.empty()",
          "old_line_content": "        if (!walletdb.ReadPool(nIndex, keypool))",
          "new_line_content": "        if(setKeyPool.empty())",
          "content_same": false
        },
        {
          "line": 1592,
          "old_api": "printf",
          "new_api": "begin",
          "old_text": "printf(\"keypool reserve %\"PRI64d\"\\n\", nIndex)",
          "new_text": "setKeyPool.begin()",
          "old_line_content": "        printf(\"keypool reserve %\"PRI64d\"\\n\", nIndex);",
          "new_line_content": "        nIndex = *(setKeyPool.begin());",
          "content_same": false
        },
        {
          "line": 1599,
          "old_api": "LOCK2",
          "new_api": "printf",
          "old_text": "LOCK2(cs_main, cs_wallet)",
          "new_text": "printf(\"keypool reserve %\"PRI64d\"\\n\", nIndex)",
          "old_line_content": "        LOCK2(cs_main, cs_wallet);",
          "new_line_content": "        printf(\"keypool reserve %\"PRI64d\"\\n\", nIndex);",
          "content_same": false
        },
        {
          "line": 1626,
          "old_api": "LOCK",
          "new_api": "printf",
          "old_text": "LOCK(cs_wallet)",
          "new_text": "printf(\"keypool keep %\"PRI64d\"\\n\", nIndex)",
          "old_line_content": "        LOCK(cs_wallet);",
          "new_line_content": "    printf(\"keypool keep %\"PRI64d\"\\n\", nIndex);",
          "content_same": false
        },
        {
          "line": 1680,
          "old_api": "GetBlocksToMaturity",
          "new_api": "PAIRTYPE",
          "old_text": "pcoin->GetBlocksToMaturity()",
          "new_text": "PAIRTYPE(uint256, CWalletTx)",
          "old_line_content": "            if (pcoin->IsCoinBase() && pcoin->GetBlocksToMaturity() > 0)",
          "new_line_content": "        BOOST_FOREACH(PAIRTYPE(uint256, CWalletTx) walletEntry, mapWallet)",
          "content_same": false
        },
        {
          "line": 1684,
          "old_api": "IsFromMe",
          "new_api": "IsConfirmed",
          "old_text": "pcoin->IsFromMe()",
          "new_text": "pcoin->IsConfirmed()",
          "old_line_content": "            if (nDepth < (pcoin->IsFromMe() ? 0 : 1))",
          "new_line_content": "            if (!IsFinalTx(*pcoin) || !pcoin->IsConfirmed())",
          "content_same": false
        },
        {
          "line": 1687,
          "old_api": "size",
          "new_api": "GetBlocksToMaturity",
          "old_text": "pcoin->vout.size()",
          "new_text": "pcoin->GetBlocksToMaturity()",
          "old_line_content": "            for (unsigned int i = 0; i < pcoin->vout.size(); i++)",
          "new_line_content": "            if (pcoin->IsCoinBase() && pcoin->GetBlocksToMaturity() > 0)",
          "content_same": false
        },
        {
          "line": 1690,
          "old_api": "IsMine",
          "new_api": "GetDepthInMainChain",
          "old_text": "IsMine(pcoin->vout[i])",
          "new_text": "pcoin->GetDepthInMainChain()",
          "old_line_content": "                if (!IsMine(pcoin->vout[i]))",
          "new_line_content": "            int nDepth = pcoin->GetDepthInMainChain();",
          "content_same": false
        },
        {
          "line": 1697,
          "old_api": "count",
          "new_api": "IsMine",
          "old_text": "balances.count(addr)",
          "new_text": "IsMine(pcoin->vout[i])",
          "old_line_content": "                if (!balances.count(addr))",
          "new_line_content": "                if (!IsMine(pcoin->vout[i]))",
          "content_same": false
        },
        {
          "line": 1723,
          "old_api": "IsMine",
          "new_api": "size",
          "old_text": "IsMine(txin)",
          "new_text": "pcoin->vin.size()",
          "old_line_content": "                if(!IsMine(txin)) /* If this input isn't mine, ignore it */",
          "new_line_content": "        if (pcoin->vin.size() > 0)",
          "content_same": false
        },
        {
          "line": 1745,
          "old_api": "insert",
          "new_api": "ExtractDestination",
          "old_text": "groupings.insert(grouping)",
          "new_text": "ExtractDestination(txout.scriptPubKey, txoutAddr)",
          "old_line_content": "                groupings.insert(grouping);",
          "new_line_content": "                       if(!ExtractDestination(txout.scriptPubKey, txoutAddr))",
          "content_same": false
        },
        {
          "line": 1752,
          "old_api": "IsMine",
          "new_api": "insert",
          "old_text": "IsMine(pcoin->vout[i])",
          "new_text": "groupings.insert(grouping)",
          "old_line_content": "            if (IsMine(pcoin->vout[i]))",
          "new_line_content": "                groupings.insert(grouping);",
          "content_same": false
        },
        {
          "line": 1758,
          "old_api": "insert",
          "new_api": "size",
          "old_text": "groupings.insert(grouping)",
          "new_text": "pcoin->vout.size()",
          "old_line_content": "                groupings.insert(grouping);",
          "new_line_content": "        for (unsigned int i = 0; i < pcoin->vout.size(); i++)",
          "content_same": false
        },
        {
          "line": 1759,
          "old_api": "clear",
          "new_api": "IsMine",
          "old_text": "grouping.clear()",
          "new_text": "IsMine(pcoin->vout[i])",
          "old_line_content": "                grouping.clear();",
          "new_line_content": "            if (IsMine(pcoin->vout[i]))",
          "content_same": false
        },
        {
          "line": 1779,
          "old_api": "erase",
          "new_api": "insert",
          "old_text": "uniqueGroupings.erase(hit)",
          "new_text": "hits.insert((*it).second)",
          "old_line_content": "            uniqueGroupings.erase(hit);",
          "new_line_content": "                hits.insert((*it).second);",
          "content_same": false
        },
        {
          "line": 1838,
          "old_api": "clear",
          "new_api": "ReturnKey",
          "old_text": "setAddress.clear()",
          "new_text": "pwallet->ReturnKey(nIndex)",
          "old_line_content": "    setAddress.clear();",
          "new_line_content": "        pwallet->ReturnKey(nIndex);",
          "content_same": false
        },
        {
          "line": 1849,
          "old_api": "GetID",
          "new_api": "LOCK2",
          "old_text": "keypool.vchPubKey.GetID()",
          "new_text": "LOCK2(cs_main, cs_wallet)",
          "old_line_content": "        CKeyID keyID = keypool.vchPubKey.GetID();",
          "new_line_content": "    LOCK2(cs_main, cs_wallet);",
          "content_same": false
        },
        {
          "line": 1859,
          "old_api": "LOCK",
          "new_api": "insert",
          "old_text": "LOCK(cs_wallet)",
          "new_text": "setAddress.insert(keyID)",
          "old_line_content": "        LOCK(cs_wallet);",
          "new_line_content": "        setAddress.insert(keyID);",
          "content_same": false
        },
        {
          "line": 1869,
          "old_api": "insert",
          "new_api": "end",
          "old_text": "setLockedCoins.insert(output)",
          "new_text": "mapWallet.end()",
          "old_line_content": "    setLockedCoins.insert(output);",
          "new_line_content": "        if (mi != mapWallet.end())",
          "content_same": false
        },
        {
          "line": 1886,
          "old_api": "count",
          "new_api": "clear",
          "old_text": "setLockedCoins.count(outpt)",
          "new_text": "setLockedCoins.clear()",
          "old_line_content": "    return (setLockedCoins.count(outpt) > 0);",
          "new_line_content": "    setLockedCoins.clear();",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1027,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vValue.size()",
          "old_line_content": "                //the selection random.",
          "new_line_content": "            for (unsigned int i = 0; i < vValue.size(); i++)",
          "content_same": false
        },
        {
          "line": 1542,
          "old_api": null,
          "new_api": "GenerateNewKey",
          "old_text": null,
          "new_text": "GenerateNewKey()",
          "old_line_content": "",
          "new_line_content": "            walletdb.WritePool(nIndex, CKeyPool(GenerateNewKey()));",
          "content_same": false
        },
        {
          "line": 1543,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "setKeyPool.insert(nIndex)",
          "old_line_content": "bool CWallet::TopUpKeyPool()",
          "new_line_content": "            setKeyPool.insert(nIndex);",
          "content_same": false
        },
        {
          "line": 1545,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"CWallet::NewKeyPool wrote %\"PRI64d\" new keys\\n\", nKeys)",
          "old_line_content": "    {",
          "new_line_content": "        printf(\"CWallet::NewKeyPool wrote %\"PRI64d\" new keys\\n\", nKeys);",
          "content_same": false
        },
        {
          "line": 1035,
          "old_api": null,
          "new_api": "insecure_rand",
          "old_text": null,
          "new_text": "insecure_rand()",
          "old_line_content": "                        if (nTotal < nBest)",
          "new_line_content": "                if (nPass == 0 ? insecure_rand()&1 : !vfIncluded[i])",
          "content_same": false
        },
        {
          "line": 1553,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(cs_wallet)",
          "old_line_content": "        // Top up key pool",
          "new_line_content": "        LOCK(cs_wallet);",
          "content_same": false
        },
        {
          "line": 1565,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "setKeyPool.empty()",
          "old_line_content": "    }",
          "new_line_content": "            if (!setKeyPool.empty())",
          "content_same": false
        },
        {
          "line": 1566,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "setKeyPool.end()",
          "old_line_content": "    return true;",
          "new_line_content": "                nEnd = *(--setKeyPool.end()) + 1;",
          "content_same": false
        },
        {
          "line": 1567,
          "old_api": null,
          "new_api": "GenerateNewKey",
          "old_text": null,
          "new_text": "GenerateNewKey()",
          "old_line_content": "}",
          "new_line_content": "            if (!walletdb.WritePool(nEnd, CKeyPool(GenerateNewKey())))",
          "content_same": false
        },
        {
          "line": 1568,
          "old_api": null,
          "new_api": "runtime_error",
          "old_text": null,
          "new_text": "runtime_error(\"TopUpKeyPool() : writing generated key failed\")",
          "old_line_content": "",
          "new_line_content": "                throw runtime_error(\"TopUpKeyPool() : writing generated key failed\");",
          "content_same": false
        },
        {
          "line": 1569,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "setKeyPool.insert(nEnd)",
          "old_line_content": "void CWallet::ReserveKeyFromKeyPool(int64& nIndex, CKeyPool& keypool)",
          "new_line_content": "            setKeyPool.insert(nEnd);",
          "content_same": false
        },
        {
          "line": 1570,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "setKeyPool.size()",
          "old_line_content": "{",
          "new_line_content": "            printf(\"keypool added key %\"PRI64d\", size=%\"PRIszu\"\\n\", nEnd, setKeyPool.size());",
          "content_same": false
        },
        {
          "line": 1059,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "setCoinsRet.clear()",
          "old_line_content": "    vector<pair<int64, pair<const CWalletTx*,unsigned int> > > vValue;",
          "new_line_content": "    setCoinsRet.clear();",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": null,
          "new_api": "std::numeric_limits<int64>::max()",
          "old_text": null,
          "new_text": "std::numeric_limits<int64>::max()",
          "old_line_content": "    BOOST_FOREACH(COutput output, vCoins)",
          "new_line_content": "    coinLowestLarger.first = std::numeric_limits<int64>::max();",
          "content_same": false
        },
        {
          "line": 1579,
          "old_api": null,
          "new_api": "CPubKey",
          "old_text": null,
          "new_text": "CPubKey()",
          "old_line_content": "        // Get the oldest key",
          "new_line_content": "    keypool.vchPubKey = CPubKey();",
          "content_same": false
        },
        {
          "line": 1069,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "vCoins.end()",
          "old_line_content": "            continue;",
          "new_line_content": "    random_shuffle(vCoins.begin(), vCoins.end(), GetRandInt);",
          "content_same": false
        },
        {
          "line": 1581,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(cs_wallet)",
          "old_line_content": "            return;",
          "new_line_content": "        LOCK(cs_wallet);",
          "content_same": false
        },
        {
          "line": 1583,
          "old_api": null,
          "new_api": "IsLocked",
          "old_text": null,
          "new_text": "IsLocked()",
          "old_line_content": "        CWalletDB walletdb(strWalletFile);",
          "new_line_content": "        if (!IsLocked())",
          "content_same": false
        },
        {
          "line": 1584,
          "old_api": null,
          "new_api": "TopUpKeyPool",
          "old_text": null,
          "new_text": "TopUpKeyPool()",
          "old_line_content": "",
          "new_line_content": "            TopUpKeyPool();",
          "content_same": false
        },
        {
          "line": 1075,
          "old_api": null,
          "new_api": "IsFromMe",
          "old_text": null,
          "new_text": "pcoin->IsFromMe()",
          "old_line_content": "",
          "new_line_content": "        if (output.nDepth < (pcoin->IsFromMe() ? nConfMine : nConfTheirs))",
          "content_same": false
        },
        {
          "line": 1081,
          "old_api": null,
          "new_api": "make_pair",
          "old_text": null,
          "new_text": "make_pair(pcoin, i)",
          "old_line_content": "        }",
          "new_line_content": "        pair<int64,pair<const CWalletTx*,unsigned int> > coin = make_pair(n,make_pair(pcoin, i));",
          "content_same": false
        },
        {
          "line": 1593,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "setKeyPool.begin()",
          "old_line_content": "    }",
          "new_line_content": "        setKeyPool.erase(setKeyPool.begin());",
          "content_same": false
        },
        {
          "line": 1594,
          "old_api": null,
          "new_api": "ReadPool",
          "old_text": null,
          "new_text": "walletdb.ReadPool(nIndex, keypool)",
          "old_line_content": "}",
          "new_line_content": "        if (!walletdb.ReadPool(nIndex, keypool))",
          "content_same": false
        },
        {
          "line": 1595,
          "old_api": null,
          "new_api": "runtime_error",
          "old_text": null,
          "new_text": "runtime_error(\"ReserveKeyFromKeyPool() : read failed\")",
          "old_line_content": "",
          "new_line_content": "            throw runtime_error(\"ReserveKeyFromKeyPool() : read failed\");",
          "content_same": false
        },
        {
          "line": 1085,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "setCoinsRet.insert(coin.second)",
          "old_line_content": "            nTotalLower += n;",
          "new_line_content": "            setCoinsRet.insert(coin.second);",
          "content_same": false
        },
        {
          "line": 1596,
          "old_api": null,
          "new_api": "GetID",
          "old_text": null,
          "new_text": "keypool.vchPubKey.GetID()",
          "old_line_content": "int64 CWallet::AddReserveKey(const CKeyPool& keypool)",
          "new_line_content": "        if (!HaveKey(keypool.vchPubKey.GetID()))",
          "content_same": false
        },
        {
          "line": 1597,
          "old_api": null,
          "new_api": "runtime_error",
          "old_text": null,
          "new_text": "runtime_error(\"ReserveKeyFromKeyPool() : unknown key in key pool\")",
          "old_line_content": "{",
          "new_line_content": "            throw runtime_error(\"ReserveKeyFromKeyPool() : unknown key in key pool\");",
          "content_same": false
        },
        {
          "line": 1598,
          "old_api": null,
          "new_api": "IsValid",
          "old_text": null,
          "new_text": "keypool.vchPubKey.IsValid()",
          "old_line_content": "    {",
          "new_line_content": "        assert(keypool.vchPubKey.IsValid());",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vValue.push_back(coin)",
          "old_line_content": "    }",
          "new_line_content": "            vValue.push_back(coin);",
          "content_same": false
        },
        {
          "line": 1606,
          "old_api": null,
          "new_api": "LOCK2",
          "old_text": null,
          "new_text": "LOCK2(cs_main, cs_wallet)",
          "old_line_content": "        return nIndex;",
          "new_line_content": "        LOCK2(cs_main, cs_wallet);",
          "content_same": false
        },
        {
          "line": 1609,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "setKeyPool.end()",
          "old_line_content": "}",
          "new_line_content": "        int64 nIndex = 1 + *(--setKeyPool.end());",
          "content_same": false
        },
        {
          "line": 1610,
          "old_api": null,
          "new_api": "WritePool",
          "old_text": null,
          "new_text": "walletdb.WritePool(nIndex, keypool)",
          "old_line_content": "",
          "new_line_content": "        if (!walletdb.WritePool(nIndex, keypool))",
          "content_same": false
        },
        {
          "line": 1611,
          "old_api": null,
          "new_api": "runtime_error",
          "old_text": null,
          "new_text": "runtime_error(\"AddReserveKey() : writing added key failed\")",
          "old_line_content": "void CWallet::KeepKey(int64 nIndex)",
          "new_line_content": "            throw runtime_error(\"AddReserveKey() : writing added key failed\");",
          "content_same": false
        },
        {
          "line": 1612,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "setKeyPool.insert(nIndex)",
          "old_line_content": "{",
          "new_line_content": "        setKeyPool.insert(nIndex);",
          "content_same": false
        },
        {
          "line": 1102,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vValue.size()",
          "old_line_content": "",
          "new_line_content": "        for (unsigned int i = 0; i < vValue.size(); ++i)",
          "content_same": false
        },
        {
          "line": 1104,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "setCoinsRet.insert(vValue[i].second)",
          "old_line_content": "    {",
          "new_line_content": "            setCoinsRet.insert(vValue[i].second);",
          "content_same": false
        },
        {
          "line": 1624,
          "old_api": null,
          "new_api": "ErasePool",
          "old_text": null,
          "new_text": "walletdb.ErasePool(nIndex)",
          "old_line_content": "    // Return to key pool",
          "new_line_content": "        walletdb.ErasePool(nIndex);",
          "content_same": false
        },
        {
          "line": 1114,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "setCoinsRet.insert(coinLowestLarger.second)",
          "old_line_content": "    vector<char> vfBest;",
          "new_line_content": "        setCoinsRet.insert(coinLowestLarger.second);",
          "content_same": false
        },
        {
          "line": 1120,
          "old_api": null,
          "new_api": "CompareValueOnly",
          "old_text": null,
          "new_text": "CompareValueOnly()",
          "old_line_content": "",
          "new_line_content": "    sort(vValue.rbegin(), vValue.rend(), CompareValueOnly());",
          "content_same": false
        },
        {
          "line": 1633,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(cs_wallet)",
          "old_line_content": "{",
          "new_line_content": "        LOCK(cs_wallet);",
          "content_same": false
        },
        {
          "line": 1634,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "setKeyPool.insert(nIndex)",
          "old_line_content": "    int64 nIndex = 0;",
          "new_line_content": "        setKeyPool.insert(nIndex);",
          "content_same": false
        },
        {
          "line": 1124,
          "old_api": null,
          "new_api": "ApproximateBestSubset",
          "old_text": null,
          "new_text": "ApproximateBestSubset(vValue, nTotalLower, nTargetValue, vfBest, nBest, 1000)",
          "old_line_content": "        ((nBest != nTargetValue && nBest < nTargetValue + CENT) || coinLowestLarger.first <= nBest))",
          "new_line_content": "    ApproximateBestSubset(vValue, nTotalLower, nTargetValue, vfBest, nBest, 1000);",
          "content_same": false
        },
        {
          "line": 1636,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"keypool return %\"PRI64d\"\\n\", nIndex)",
          "old_line_content": "    {",
          "new_line_content": "    printf(\"keypool return %\"PRI64d\"\\n\", nIndex);",
          "content_same": false
        },
        {
          "line": 1644,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(cs_wallet)",
          "old_line_content": "                return true;",
          "new_line_content": "        LOCK(cs_wallet);",
          "content_same": false
        },
        {
          "line": 1645,
          "old_api": null,
          "new_api": "ReserveKeyFromKeyPool",
          "old_text": null,
          "new_text": "ReserveKeyFromKeyPool(nIndex, keypool)",
          "old_line_content": "            }",
          "new_line_content": "        ReserveKeyFromKeyPool(nIndex, keypool);",
          "content_same": false
        },
        {
          "line": 1648,
          "old_api": null,
          "new_api": "IsValid",
          "old_text": null,
          "new_text": "vchDefaultKey.IsValid()",
          "old_line_content": "            return true;",
          "new_line_content": "            if (fAllowReuse && vchDefaultKey.IsValid())",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vValue.size()",
          "old_line_content": "        //// debug print",
          "new_line_content": "        for (unsigned int i = 0; i < vValue.size(); i++)",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "setCoinsRet.insert(vValue[i].second)",
          "old_line_content": "            if (vfBest[i])",
          "new_line_content": "                setCoinsRet.insert(vValue[i].second);",
          "content_same": false
        },
        {
          "line": 1653,
          "old_api": null,
          "new_api": "IsLocked",
          "old_text": null,
          "new_text": "IsLocked()",
          "old_line_content": "    return true;",
          "new_line_content": "            if (IsLocked()) return false;",
          "content_same": false
        },
        {
          "line": 1654,
          "old_api": null,
          "new_api": "GenerateNewKey",
          "old_text": null,
          "new_text": "GenerateNewKey()",
          "old_line_content": "}",
          "new_line_content": "            result = GenerateNewKey();",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"SelectCoins() best subset: \")",
          "old_line_content": "    return true;",
          "new_line_content": "        printf(\"SelectCoins() best subset: \");",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vValue.size()",
          "old_line_content": "}",
          "new_line_content": "        for (unsigned int i = 0; i < vValue.size(); i++)",
          "content_same": false
        },
        {
          "line": 1657,
          "old_api": null,
          "new_api": "KeepKey",
          "old_text": null,
          "new_text": "KeepKey(nIndex)",
          "old_line_content": "{",
          "new_line_content": "        KeepKey(nIndex);",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": null,
          "new_api": "c_str",
          "old_text": null,
          "new_text": "FormatMoney(vValue[i].first).c_str()",
          "old_line_content": "bool CWallet::SelectCoins(int64 nTargetValue, set<pair<const CWalletTx*,unsigned int> >& setCoinsRet, int64& nValueRet) const",
          "new_line_content": "                printf(\"%s \", FormatMoney(vValue[i].first).c_str());",
          "content_same": false
        },
        {
          "line": 1149,
          "old_api": null,
          "new_api": "c_str",
          "old_text": null,
          "new_text": "FormatMoney(nBest).c_str()",
          "old_line_content": "{",
          "new_line_content": "        printf(\"total %s\\n\", FormatMoney(nBest).c_str());",
          "content_same": false
        },
        {
          "line": 1667,
          "old_api": null,
          "new_api": "ReserveKeyFromKeyPool",
          "old_text": null,
          "new_text": "ReserveKeyFromKeyPool(nIndex, keypool)",
          "old_line_content": "std::map<CTxDestination, int64> CWallet::GetAddressBalances()",
          "new_line_content": "    ReserveKeyFromKeyPool(nIndex, keypool);",
          "content_same": false
        },
        {
          "line": 1669,
          "old_api": null,
          "new_api": "GetTime",
          "old_text": null,
          "new_text": "GetTime()",
          "old_line_content": "    map<CTxDestination, int64> balances;",
          "new_line_content": "        return GetTime();",
          "content_same": false
        },
        {
          "line": 1158,
          "old_api": null,
          "new_api": "AvailableCoins",
          "old_text": null,
          "new_text": "AvailableCoins(vCoins)",
          "old_line_content": "",
          "new_line_content": "    AvailableCoins(vCoins);",
          "content_same": false
        },
        {
          "line": 1670,
          "old_api": null,
          "new_api": "ReturnKey",
          "old_text": null,
          "new_text": "ReturnKey(nIndex)",
          "old_line_content": "",
          "new_line_content": "    ReturnKey(nIndex);",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": null,
          "new_api": "SelectCoinsMinConf",
          "old_text": null,
          "new_text": "SelectCoinsMinConf(nTargetValue, 1, 6, vCoins, setCoinsRet, nValueRet)",
          "old_line_content": "",
          "new_line_content": "    return (SelectCoinsMinConf(nTargetValue, 1, 6, vCoins, setCoinsRet, nValueRet) ||",
          "content_same": false
        },
        {
          "line": 1161,
          "old_api": null,
          "new_api": "SelectCoinsMinConf",
          "old_text": null,
          "new_text": "SelectCoinsMinConf(nTargetValue, 1, 1, vCoins, setCoinsRet, nValueRet)",
          "old_line_content": "bool CWallet::CreateTransaction(const vector<pair<CScript, int64> >& vecSend,",
          "new_line_content": "            SelectCoinsMinConf(nTargetValue, 1, 1, vCoins, setCoinsRet, nValueRet) ||",
          "content_same": false
        },
        {
          "line": 1162,
          "old_api": null,
          "new_api": "SelectCoinsMinConf",
          "old_text": null,
          "new_text": "SelectCoinsMinConf(nTargetValue, 0, 1, vCoins, setCoinsRet, nValueRet)",
          "old_line_content": "                                CWalletTx& wtxNew, CReserveKey& reservekey, int64& nFeeRet, std::string& strFailReason)",
          "new_line_content": "            SelectCoinsMinConf(nTargetValue, 0, 1, vCoins, setCoinsRet, nValueRet));",
          "content_same": false
        },
        {
          "line": 1679,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(cs_wallet)",
          "old_line_content": "",
          "new_line_content": "        LOCK(cs_wallet);",
          "content_same": false
        },
        {
          "line": 1691,
          "old_api": null,
          "new_api": "IsFromMe",
          "old_text": null,
          "new_text": "pcoin->IsFromMe()",
          "old_line_content": "                    continue;",
          "new_line_content": "            if (nDepth < (pcoin->IsFromMe() ? 0 : 1))",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "vecSend.empty()",
          "old_line_content": "",
          "new_line_content": "    if (vecSend.empty() || nValue < 0)",
          "content_same": false
        },
        {
          "line": 1694,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "pcoin->vout.size()",
          "old_line_content": "",
          "new_line_content": "            for (unsigned int i = 0; i < pcoin->vout.size(); i++)",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": null,
          "new_api": "BindWallet",
          "old_text": null,
          "new_text": "wtxNew.BindWallet(this)",
          "old_line_content": "            {",
          "new_line_content": "    wtxNew.BindWallet(this);",
          "content_same": false
        },
        {
          "line": 1699,
          "old_api": null,
          "new_api": "ExtractDestination",
          "old_text": null,
          "new_text": "ExtractDestination(pcoin->vout[i].scriptPubKey, addr)",
          "old_line_content": "                balances[addr] += n;",
          "new_line_content": "                if(!ExtractDestination(pcoin->vout[i].scriptPubKey, addr))",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": null,
          "new_api": "LOCK2",
          "old_text": null,
          "new_text": "LOCK2(cs_main, cs_wallet)",
          "old_line_content": "                wtxNew.fFromMe = true;",
          "new_line_content": "        LOCK2(cs_main, cs_wallet);",
          "content_same": false
        },
        {
          "line": 1702,
          "old_api": null,
          "new_api": "IsSpent",
          "old_text": null,
          "new_text": "pcoin->IsSpent(i)",
          "old_line_content": "    }",
          "new_line_content": "                int64 n = pcoin->IsSpent(i) ? 0 : pcoin->vout[i].nValue;",
          "content_same": false
        },
        {
          "line": 1704,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "balances.count(addr)",
          "old_line_content": "    return balances;",
          "new_line_content": "                if (!balances.count(addr))",
          "content_same": false
        },
        {
          "line": 1195,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "wtxNew.vin.clear()",
          "old_line_content": "                BOOST_FOREACH (const PAIRTYPE(CScript, int64)& s, vecSend)",
          "new_line_content": "                wtxNew.vin.clear();",
          "content_same": false
        },
        {
          "line": 1196,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "wtxNew.vout.clear()",
          "old_line_content": "                {",
          "new_line_content": "                wtxNew.vout.clear();",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": null,
          "new_api": "IsDust",
          "old_text": null,
          "new_text": "txout.IsDust(CTransaction::nMinRelayTxFee)",
          "old_line_content": "",
          "new_line_content": "                    if (txout.IsDust(CTransaction::nMinRelayTxFee))",
          "content_same": false
        },
        {
          "line": 1207,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Transaction amount too small\")",
          "old_line_content": "                set<pair<const CWalletTx*,unsigned int> > setCoins;",
          "new_line_content": "                        strFailReason = _(\"Transaction amount too small\");",
          "content_same": false
        },
        {
          "line": 1719,
          "old_api": null,
          "new_api": "PAIRTYPE",
          "old_text": null,
          "new_text": "PAIRTYPE(uint256, CWalletTx)",
          "old_line_content": "            // group all input addresses with each other",
          "new_line_content": "    BOOST_FOREACH(PAIRTYPE(uint256, CWalletTx) walletEntry, mapWallet)",
          "content_same": false
        },
        {
          "line": 1210,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "wtxNew.vout.push_back(txout)",
          "old_line_content": "                {",
          "new_line_content": "                    wtxNew.vout.push_back(txout);",
          "content_same": false
        },
        {
          "line": 1216,
          "old_api": null,
          "new_api": "SelectCoins",
          "old_text": null,
          "new_text": "SelectCoins(nTotalValue, setCoins, nValueIn)",
          "old_line_content": "                    int64 nCredit = pcoin.first->vout[pcoin.second].nValue;",
          "new_line_content": "                if (!SelectCoins(nTotalValue, setCoins, nValueIn))",
          "content_same": false
        },
        {
          "line": 1218,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Insufficient funds\")",
          "old_line_content": "                    //reflecting an assumption the user would accept a bit more delay for",
          "new_line_content": "                    strFailReason = _(\"Insufficient funds\");",
          "content_same": false
        },
        {
          "line": 1730,
          "old_api": null,
          "new_api": "IsMine",
          "old_text": null,
          "new_text": "IsMine(txin)",
          "old_line_content": "",
          "new_line_content": "                if(!IsMine(txin)) /* If this input isn't mine, ignore it */",
          "content_same": false
        },
        {
          "line": 1732,
          "old_api": null,
          "new_api": "ExtractDestination",
          "old_text": null,
          "new_text": "ExtractDestination(mapWallet[txin.prevout.hash].vout[txin.prevout.n].scriptPubKey, address)",
          "old_line_content": "            if (any_mine)",
          "new_line_content": "                if(!ExtractDestination(mapWallet[txin.prevout.hash].vout[txin.prevout.n].scriptPubKey, address))",
          "content_same": false
        },
        {
          "line": 1734,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "grouping.insert(address)",
          "old_line_content": "               BOOST_FOREACH(CTxOut txout, pcoin->vout)",
          "new_line_content": "                grouping.insert(address);",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": null,
          "new_api": "GetDepthInMainChain",
          "old_text": null,
          "new_text": "pcoin.first->GetDepthInMainChain()",
          "old_line_content": "                if (nFeeRet < CTransaction::nMinTxFee && nChange > 0 && nChange < CENT)",
          "new_line_content": "                    dPriority += (double)nCredit * (pcoin.first->GetDepthInMainChain()+1);",
          "content_same": false
        },
        {
          "line": 1747,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "grouping.insert(txoutAddr)",
          "old_line_content": "            }",
          "new_line_content": "                       grouping.insert(txoutAddr);",
          "content_same": false
        },
        {
          "line": 1236,
          "old_api": null,
          "new_api": "min",
          "old_text": null,
          "new_text": "min(nChange, CTransaction::nMinTxFee - nFeeRet)",
          "old_line_content": "                    // Note: We use a new key here to keep it from being obvious which side is the change.",
          "new_line_content": "                    int64 nMoveToFee = min(nChange, CTransaction::nMinTxFee - nFeeRet);",
          "content_same": false
        },
        {
          "line": 1750,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "grouping.size()",
          "old_line_content": "        // group lone addrs by themselves",
          "new_line_content": "            if (grouping.size() > 0)",
          "content_same": false
        },
        {
          "line": 1753,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "grouping.clear()",
          "old_line_content": "            {",
          "new_line_content": "                grouping.clear();",
          "content_same": false
        },
        {
          "line": 1762,
          "old_api": null,
          "new_api": "ExtractDestination",
          "old_text": null,
          "new_text": "ExtractDestination(pcoin->vout[i].scriptPubKey, address)",
          "old_line_content": "",
          "new_line_content": "                if(!ExtractDestination(pcoin->vout[i].scriptPubKey, address))",
          "content_same": false
        },
        {
          "line": 1252,
          "old_api": null,
          "new_api": "GetReservedKey",
          "old_text": null,
          "new_text": "reservekey.GetReservedKey(vchPubKey)",
          "old_line_content": "",
          "new_line_content": "                    assert(reservekey.GetReservedKey(vchPubKey)); // should never fail, as we just unlocked",
          "content_same": false
        },
        {
          "line": 1764,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "grouping.insert(address)",
          "old_line_content": "    map< CTxDestination, set<CTxDestination>* > setmap;  // map addresses to the unique group containing it",
          "new_line_content": "                grouping.insert(address);",
          "content_same": false
        },
        {
          "line": 1765,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "groupings.insert(grouping)",
          "old_line_content": "    BOOST_FOREACH(set<CTxDestination> grouping, groupings)",
          "new_line_content": "                groupings.insert(grouping);",
          "content_same": false
        },
        {
          "line": 1766,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "grouping.clear()",
          "old_line_content": "    {",
          "new_line_content": "                grouping.clear();",
          "content_same": false
        },
        {
          "line": 1258,
          "old_api": null,
          "new_api": "GetID",
          "old_text": null,
          "new_text": "vchPubKey.GetID()",
          "old_line_content": "                    {",
          "new_line_content": "                    scriptChange.SetDestination(vchPubKey.GetID());",
          "content_same": false
        },
        {
          "line": 1264,
          "old_api": null,
          "new_api": "IsDust",
          "old_text": null,
          "new_text": "newTxOut.IsDust(CTransaction::nMinRelayTxFee)",
          "old_line_content": "                        // Insert change txn at random position:",
          "new_line_content": "                    if (newTxOut.IsDust(CTransaction::nMinRelayTxFee))",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": null,
          "new_api": "ReturnKey",
          "old_text": null,
          "new_text": "reservekey.ReturnKey()",
          "old_line_content": "                    }",
          "new_line_content": "                        reservekey.ReturnKey();",
          "content_same": false
        },
        {
          "line": 1272,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "wtxNew.vout.size()",
          "old_line_content": "                // Fill vin",
          "new_line_content": "                        vector<CTxOut>::iterator position = wtxNew.vout.begin()+GetRandInt(wtxNew.vout.size()+1);",
          "content_same": false
        },
        {
          "line": 1273,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "wtxNew.vout.insert(position, newTxOut)",
          "old_line_content": "                BOOST_FOREACH(const PAIRTYPE(const CWalletTx*,unsigned int)& coin, setCoins)",
          "new_line_content": "                        wtxNew.vout.insert(position, newTxOut);",
          "content_same": false
        },
        {
          "line": 1785,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "hit->end()",
          "old_line_content": "        BOOST_FOREACH(CTxDestination element, *merged)",
          "new_line_content": "            merged->insert(hit->begin(), hit->end());",
          "content_same": false
        },
        {
          "line": 1786,
          "old_api": null,
          "new_api": "erase",
          "old_text": null,
          "new_text": "uniqueGroupings.erase(hit)",
          "old_line_content": "            setmap[element] = merged;",
          "new_line_content": "            uniqueGroupings.erase(hit);",
          "content_same": false
        },
        {
          "line": 1277,
          "old_api": null,
          "new_api": "ReturnKey",
          "old_text": null,
          "new_text": "reservekey.ReturnKey()",
          "old_line_content": "                int nIn = 0;",
          "new_line_content": "                    reservekey.ReturnKey();",
          "content_same": false
        },
        {
          "line": 1789,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "uniqueGroupings.insert(merged)",
          "old_line_content": "    set< set<CTxDestination> > ret;",
          "new_line_content": "        uniqueGroupings.insert(merged);",
          "content_same": false
        },
        {
          "line": 1799,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "ret.insert(*uniqueGrouping)",
          "old_line_content": "bool CReserveKey::GetReservedKey(CPubKey& pubkey)",
          "new_line_content": "        ret.insert(*uniqueGrouping);",
          "content_same": false
        },
        {
          "line": 1288,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Signing transaction failed\")",
          "old_line_content": "                {",
          "new_line_content": "                        strFailReason = _(\"Signing transaction failed\");",
          "content_same": false
        },
        {
          "line": 1293,
          "old_api": null,
          "new_api": "::GetSerializeSize(*(CTransaction*)&wtxNew, SER_NETWORK, PROTOCOL_VERSION)",
          "old_text": null,
          "new_text": "::GetSerializeSize(*(CTransaction*)&wtxNew, SER_NETWORK, PROTOCOL_VERSION)",
          "old_line_content": "",
          "new_line_content": "                unsigned int nBytes = ::GetSerializeSize(*(CTransaction*)&wtxNew, SER_NETWORK, PROTOCOL_VERSION);",
          "content_same": false
        },
        {
          "line": 1811,
          "old_api": null,
          "new_api": "ReserveKeyFromKeyPool",
          "old_text": null,
          "new_text": "pwallet->ReserveKeyFromKeyPool(nIndex, keypool)",
          "old_line_content": "            } else",
          "new_line_content": "        pwallet->ReserveKeyFromKeyPool(nIndex, keypool);",
          "content_same": false
        },
        {
          "line": 1303,
          "old_api": null,
          "new_api": "AllowFree",
          "old_text": null,
          "new_text": "AllowFree(dPriority)",
          "old_line_content": "",
          "new_line_content": "                bool fAllowFree = AllowFree(dPriority);",
          "content_same": false
        },
        {
          "line": 1304,
          "old_api": null,
          "new_api": "GetMinFee",
          "old_text": null,
          "new_text": "GetMinFee(wtxNew, 1, fAllowFree, GMF_SEND)",
          "old_line_content": "                // Fill vtxPrev by copying from previous transactions vtxPrev",
          "new_line_content": "                int64 nMinFee = GetMinFee(wtxNew, 1, fAllowFree, GMF_SEND);",
          "content_same": false
        },
        {
          "line": 1816,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"CReserveKey::GetReservedKey(): Warning: Using default key instead of a new key, top up your keypool!\")",
          "old_line_content": "    pubkey = vchPubKey;",
          "new_line_content": "                printf(\"CReserveKey::GetReservedKey(): Warning: Using default key instead of a new key, top up your keypool!\");",
          "content_same": false
        },
        {
          "line": 1307,
          "old_api": null,
          "new_api": "max",
          "old_text": null,
          "new_text": "max(nPayFee, nMinFee)",
          "old_line_content": "",
          "new_line_content": "                    nFeeRet = max(nPayFee, nMinFee);",
          "content_same": false
        },
        {
          "line": 796,
          "old_api": null,
          "new_api": "GetNextInMainChain",
          "old_text": null,
          "new_text": "pindex->GetNextInMainChain()",
          "old_line_content": "            {",
          "new_line_content": "                pindex = pindex->GetNextInMainChain();",
          "content_same": false
        },
        {
          "line": 1822,
          "old_api": null,
          "new_api": "IsValid",
          "old_text": null,
          "new_text": "vchPubKey.IsValid()",
          "old_line_content": "    if (nIndex != -1)",
          "new_line_content": "    assert(vchPubKey.IsValid());",
          "content_same": false
        },
        {
          "line": 1312,
          "old_api": null,
          "new_api": "AddSupportingTransactions",
          "old_text": null,
          "new_text": "wtxNew.AddSupportingTransactions()",
          "old_line_content": "    return true;",
          "new_line_content": "                wtxNew.AddSupportingTransactions();",
          "content_same": false
        },
        {
          "line": 801,
          "old_api": null,
          "new_api": "ReadFromDisk",
          "old_text": null,
          "new_text": "block.ReadFromDisk(pindex)",
          "old_line_content": "        }",
          "new_line_content": "            block.ReadFromDisk(pindex);",
          "content_same": false
        },
        {
          "line": 802,
          "old_api": null,
          "new_api": "BOOST_FOREACH",
          "old_text": null,
          "new_text": "BOOST_FOREACH(CTransaction& tx, block.vtx)",
          "old_line_content": "    }",
          "new_line_content": "            BOOST_FOREACH(CTransaction& tx, block.vtx)",
          "content_same": false
        },
        {
          "line": 804,
          "old_api": null,
          "new_api": "GetHash",
          "old_text": null,
          "new_text": "tx.GetHash()",
          "old_line_content": "}",
          "new_line_content": "                if (AddToWalletIfInvolvingMe(tx.GetHash(), tx, &block, fUpdate))",
          "content_same": false
        },
        {
          "line": 1830,
          "old_api": null,
          "new_api": "KeepKey",
          "old_text": null,
          "new_text": "pwallet->KeepKey(nIndex)",
          "old_line_content": "    if (nIndex != -1)",
          "new_line_content": "        pwallet->KeepKey(nIndex);",
          "content_same": false
        },
        {
          "line": 807,
          "old_api": null,
          "new_api": "GetNextInMainChain",
          "old_text": null,
          "new_text": "pindex->GetNextInMainChain()",
          "old_line_content": "{",
          "new_line_content": "            pindex = pindex->GetNextInMainChain();",
          "content_same": false
        },
        {
          "line": 1832,
          "old_api": null,
          "new_api": "CPubKey",
          "old_text": null,
          "new_text": "CPubKey()",
          "old_line_content": "    nIndex = -1;",
          "new_line_content": "    vchPubKey = CPubKey();",
          "content_same": false
        },
        {
          "line": 1326,
          "old_api": null,
          "new_api": "make_pair",
          "old_text": null,
          "new_text": "make_pair(scriptPubKey, nValue)",
          "old_line_content": "    {",
          "new_line_content": "    vecSend.push_back(make_pair(scriptPubKey, nValue));",
          "content_same": false
        },
        {
          "line": 1840,
          "old_api": null,
          "new_api": "CPubKey",
          "old_text": null,
          "new_text": "CPubKey()",
          "old_line_content": "    CWalletDB walletdb(strWalletFile);",
          "new_line_content": "    vchPubKey = CPubKey();",
          "content_same": false
        },
        {
          "line": 818,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(cs_wallet)",
          "old_line_content": "                continue;",
          "new_line_content": "        LOCK(cs_wallet);",
          "content_same": false
        },
        {
          "line": 1845,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "setAddress.clear()",
          "old_line_content": "        CKeyPool keypool;",
          "new_line_content": "    setAddress.clear();",
          "content_same": false
        },
        {
          "line": 1334,
          "old_api": null,
          "new_api": "LOCK2",
          "old_text": null,
          "new_text": "LOCK2(cs_main, cs_wallet)",
          "old_line_content": "",
          "new_line_content": "        LOCK2(cs_main, cs_wallet);",
          "content_same": false
        },
        {
          "line": 1335,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "wtxNew.ToString().c_str()",
          "old_line_content": "            // Take key pair from key pool so it won't be used again",
          "new_line_content": "        printf(\"CommitTransaction:\\n%s\", wtxNew.ToString().c_str());",
          "content_same": false
        },
        {
          "line": 824,
          "old_api": null,
          "new_api": "IsSpent",
          "old_text": null,
          "new_text": "wtx.IsSpent(0)",
          "old_line_content": "            {",
          "new_line_content": "            if (wtx.IsCoinBase() && wtx.IsSpent(0))",
          "content_same": false
        },
        {
          "line": 829,
          "old_api": null,
          "new_api": "GetHash",
          "old_text": null,
          "new_text": "wtx.GetHash()",
          "old_line_content": "                        continue;",
          "new_line_content": "            bool fFound = pcoinsTip->GetCoins(wtx.GetHash(), coins);",
          "content_same": false
        },
        {
          "line": 1853,
          "old_api": null,
          "new_api": "ReadPool",
          "old_text": null,
          "new_text": "walletdb.ReadPool(id, keypool)",
          "old_line_content": "    }",
          "new_line_content": "        if (!walletdb.ReadPool(id, keypool))",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": null,
          "new_api": "KeepKey",
          "old_text": null,
          "new_text": "reservekey.KeepKey()",
          "old_line_content": "            set<CWalletTx*> setCoins;",
          "new_line_content": "            reservekey.KeepKey();",
          "content_same": false
        },
        {
          "line": 1854,
          "old_api": null,
          "new_api": "runtime_error",
          "old_text": null,
          "new_text": "runtime_error(\"GetAllReserveKeyHashes() : read failed\")",
          "old_line_content": "}",
          "new_line_content": "            throw runtime_error(\"GetAllReserveKeyHashes() : read failed\");",
          "content_same": false
        },
        {
          "line": 833,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "wtx.vout.size()",
          "old_line_content": "                        fUpdated = true;",
          "new_line_content": "                for (unsigned int i = 0; i < wtx.vout.size(); i++)",
          "content_same": false
        },
        {
          "line": 1855,
          "old_api": null,
          "new_api": "IsValid",
          "old_text": null,
          "new_text": "keypool.vchPubKey.IsValid()",
          "old_line_content": "",
          "new_line_content": "        assert(keypool.vchPubKey.IsValid());",
          "content_same": false
        },
        {
          "line": 835,
          "old_api": null,
          "new_api": "IsSpent",
          "old_text": null,
          "new_text": "wtx.IsSpent(i)",
          "old_line_content": "                    }",
          "new_line_content": "                    if (wtx.IsSpent(i))",
          "content_same": false
        },
        {
          "line": 1856,
          "old_api": null,
          "new_api": "GetID",
          "old_text": null,
          "new_text": "keypool.vchPubKey.GetID()",
          "old_line_content": "void CWallet::UpdatedTransaction(const uint256 &hashTx)",
          "new_line_content": "        CKeyID keyID = keypool.vchPubKey.GetID();",
          "content_same": false
        },
        {
          "line": 837,
          "old_api": null,
          "new_api": "IsMine",
          "old_text": null,
          "new_text": "IsMine(wtx.vout[i])",
          "old_line_content": "                if (fUpdated)",
          "new_line_content": "                    if ((i >= coins.vout.size() || coins.vout[i].IsNull()) && IsMine(wtx.vout[i]))",
          "content_same": false
        },
        {
          "line": 1857,
          "old_api": null,
          "new_api": "HaveKey",
          "old_text": null,
          "new_text": "HaveKey(keyID)",
          "old_line_content": "{",
          "new_line_content": "        if (!HaveKey(keyID))",
          "content_same": false
        },
        {
          "line": 1858,
          "old_api": null,
          "new_api": "runtime_error",
          "old_text": null,
          "new_text": "runtime_error(\"GetAllReserveKeyHashes() : unknown key in key pool\")",
          "old_line_content": "    {",
          "new_line_content": "            throw runtime_error(\"GetAllReserveKeyHashes() : unknown key in key pool\");",
          "content_same": false
        },
        {
          "line": 1354,
          "old_api": null,
          "new_api": "BindWallet",
          "old_text": null,
          "new_text": "coin.BindWallet(this)",
          "old_line_content": "                delete pwalletdb;",
          "new_line_content": "                coin.BindWallet(this);",
          "content_same": false
        },
        {
          "line": 1355,
          "old_api": null,
          "new_api": "MarkSpent",
          "old_text": null,
          "new_text": "coin.MarkSpent(txin.prevout.n)",
          "old_line_content": "        }",
          "new_line_content": "                coin.MarkSpent(txin.prevout.n);",
          "content_same": false
        },
        {
          "line": 1356,
          "old_api": null,
          "new_api": "WriteToDisk",
          "old_text": null,
          "new_text": "coin.WriteToDisk()",
          "old_line_content": "",
          "new_line_content": "                coin.WriteToDisk();",
          "content_same": false
        },
        {
          "line": 1357,
          "old_api": null,
          "new_api": "GetHash",
          "old_text": null,
          "new_text": "coin.GetHash()",
          "old_line_content": "        // Track how many getdata requests our transaction gets",
          "new_line_content": "                NotifyTransactionChanged(this, coin.GetHash(), CT_UPDATED);",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": null,
          "new_api": "GetHash",
          "old_text": null,
          "new_text": "wtx.GetHash().ToString().c_str()",
          "old_line_content": "                // Re-accept any txes of ours that aren't already in a block",
          "new_line_content": "                    printf(\"ReacceptWalletTransactions found spent coin %sbc %s\\n\", FormatMoney(wtx.GetCredit()).c_str(), wtx.GetHash().ToString().c_str());",
          "content_same": false
        },
        {
          "line": 1866,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(cs_wallet)",
          "old_line_content": "",
          "new_line_content": "        LOCK(cs_wallet);",
          "content_same": false
        },
        {
          "line": 1868,
          "old_api": null,
          "new_api": "find",
          "old_text": null,
          "new_text": "mapWallet.find(hashTx)",
          "old_line_content": "{",
          "new_line_content": "        map<uint256, CWalletTx>::const_iterator mi = mapWallet.find(hashTx);",
          "content_same": false
        },
        {
          "line": 1870,
          "old_api": null,
          "new_api": "NotifyTransactionChanged",
          "old_text": null,
          "new_text": "NotifyTransactionChanged(this, hashTx, CT_UPDATED)",
          "old_line_content": "}",
          "new_line_content": "            NotifyTransactionChanged(this, hashTx, CT_UPDATED);",
          "content_same": false
        },
        {
          "line": 1876,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "setLockedCoins.insert(output)",
          "old_line_content": "",
          "new_line_content": "    setLockedCoins.insert(output);",
          "content_same": false
        },
        {
          "line": 1365,
          "old_api": null,
          "new_api": "GetHash",
          "old_text": null,
          "new_text": "wtxNew.GetHash()",
          "old_line_content": "            return false;",
          "new_line_content": "        mapRequestCount[wtxNew.GetHash()] = 0;",
          "content_same": false
        },
        {
          "line": 855,
          "old_api": null,
          "new_api": "AcceptWalletTransaction",
          "old_text": null,
          "new_text": "wtx.AcceptWalletTransaction(false)",
          "old_line_content": "                fRepeat = true;  // Found missing transactions: re-do re-accept.",
          "new_line_content": "                    wtx.AcceptWalletTransaction(false);",
          "content_same": false
        },
        {
          "line": 1368,
          "old_api": null,
          "new_api": "AcceptToMemoryPool",
          "old_text": null,
          "new_text": "wtxNew.AcceptToMemoryPool(true, false)",
          "old_line_content": "    }",
          "new_line_content": "        if (!wtxNew.AcceptToMemoryPool(true, false))",
          "content_same": false
        },
        {
          "line": 1881,
          "old_api": null,
          "new_api": "erase",
          "old_text": null,
          "new_text": "setLockedCoins.erase(output)",
          "old_line_content": "",
          "new_line_content": "    setLockedCoins.erase(output);",
          "content_same": false
        },
        {
          "line": 1371,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"CommitTransaction() : Error: Transaction not valid\")",
          "old_line_content": "",
          "new_line_content": "            printf(\"CommitTransaction() : Error: Transaction not valid\");",
          "content_same": false
        },
        {
          "line": 861,
          "old_api": null,
          "new_api": "ScanForWalletTransactions",
          "old_text": null,
          "new_text": "ScanForWalletTransactions(pindexGenesisBlock)",
          "old_line_content": "{",
          "new_line_content": "            if (ScanForWalletTransactions(pindexGenesisBlock))",
          "content_same": false
        },
        {
          "line": 1374,
          "old_api": null,
          "new_api": "RelayWalletTransaction",
          "old_text": null,
          "new_text": "wtxNew.RelayWalletTransaction()",
          "old_line_content": "",
          "new_line_content": "        wtxNew.RelayWalletTransaction();",
          "content_same": false
        },
        {
          "line": 1893,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "setLockedCoins.count(outpt)",
          "old_line_content": "        COutPoint outpt = (*it);",
          "new_line_content": "    return (setLockedCoins.count(outpt) > 0);",
          "content_same": false
        },
        {
          "line": 1898,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "setLockedCoins.begin()",
          "old_line_content": "",
          "new_line_content": "    for (std::set<COutPoint>::iterator it = setLockedCoins.begin();",
          "content_same": false
        },
        {
          "line": 875,
          "old_api": null,
          "new_api": "IsCoinBase",
          "old_text": null,
          "new_text": "IsCoinBase()",
          "old_line_content": "    }",
          "new_line_content": "    if (!IsCoinBase())",
          "content_same": false
        },
        {
          "line": 1899,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "setLockedCoins.end()",
          "old_line_content": "",
          "new_line_content": "         it != setLockedCoins.end(); it++) {",
          "content_same": false
        },
        {
          "line": 877,
          "old_api": null,
          "new_api": "GetDepthInMainChain",
          "old_text": null,
          "new_text": "GetDepthInMainChain()",
          "old_line_content": "",
          "new_line_content": "        if (GetDepthInMainChain() == 0) {",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": null,
          "new_api": "GetHash",
          "old_text": null,
          "new_text": "GetHash()",
          "old_line_content": "void CWallet::ResendWalletTransactions()",
          "new_line_content": "            uint256 hash = GetHash();",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "hash.ToString().c_str()",
          "old_line_content": "{",
          "new_line_content": "            printf(\"Relaying wtx %s\\n\", hash.ToString().c_str());",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": null,
          "new_api": "RelayTransaction",
          "old_text": null,
          "new_text": "RelayTransaction((CTransaction)*this, hash)",
          "old_line_content": "    // Do this infrequently and randomly to avoid giving away",
          "new_line_content": "            RelayTransaction((CTransaction)*this, hash);",
          "content_same": false
        },
        {
          "line": 1901,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vOutpts.push_back(outpt)",
          "old_line_content": "",
          "new_line_content": "        vOutpts.push_back(outpt);",
          "content_same": false
        },
        {
          "line": 1394,
          "old_api": null,
          "new_api": "CreateTransaction",
          "old_text": null,
          "new_text": "CreateTransaction(scriptPubKey, nValue, wtxNew, reservekey, nFeeRequired, strError)",
          "old_line_content": "",
          "new_line_content": "    if (!CreateTransaction(scriptPubKey, nValue, wtxNew, reservekey, nFeeRequired, strError))",
          "content_same": false
        },
        {
          "line": 1396,
          "old_api": null,
          "new_api": "GetBalance",
          "old_text": null,
          "new_text": "GetBalance()",
          "old_line_content": "        return \"ABORTED\";",
          "new_line_content": "        if (nValue + nFeeRequired > GetBalance())",
          "content_same": false
        },
        {
          "line": 1397,
          "old_api": null,
          "new_api": "c_str",
          "old_text": null,
          "new_text": "FormatMoney(nFeeRequired).c_str()",
          "old_line_content": "",
          "new_line_content": "            strError = strprintf(_(\"Error: This transaction requires a transaction fee of at least %s because of its amount, complexity, or use of recently received funds!\"), FormatMoney(nFeeRequired).c_str());",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": null,
          "new_api": "GetTime",
          "old_text": null,
          "new_text": "GetTime()",
          "old_line_content": "    // Only do it if there's been a new block since last time",
          "new_line_content": "    if (GetTime() < nNextTime)",
          "content_same": false
        },
        {
          "line": 1402,
          "old_api": null,
          "new_api": "ThreadSafeAskFee",
          "old_text": null,
          "new_text": "uiInterface.ThreadSafeAskFee(nFeeRequired)",
          "old_line_content": "}",
          "new_line_content": "    if (fAskFee && !uiInterface.ThreadSafeAskFee(nFeeRequired))",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": null,
          "new_api": "GetRand",
          "old_text": null,
          "new_text": "GetRand(30 * 60)",
          "old_line_content": "        return;",
          "new_line_content": "    nNextTime = GetTime() + GetRand(30 * 60);",
          "content_same": false
        },
        {
          "line": 1405,
          "old_api": null,
          "new_api": "CommitTransaction",
          "old_text": null,
          "new_text": "CommitTransaction(wtxNew, reservekey)",
          "old_line_content": "",
          "new_line_content": "    if (!CommitTransaction(wtxNew, reservekey))",
          "content_same": false
        },
        {
          "line": 1406,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Error: The transaction was rejected! This might happen if some of the coins in your wallet were already spent, such as if you used a copy of wallet.dat and coins were spent in the copy but not marked as spent here.\")",
          "old_line_content": "string CWallet::SendMoneyToDestination(const CTxDestination& address, int64 nValue, CWalletTx& wtxNew, bool fAskFee)",
          "new_line_content": "        return _(\"Error: The transaction was rejected! This might happen if some of the coins in your wallet were already spent, such as if you used a copy of wallet.dat and coins were spent in the copy but not marked as spent here.\");",
          "content_same": false
        },
        {
          "line": 901,
          "old_api": null,
          "new_api": "GetTime",
          "old_text": null,
          "new_text": "GetTime()",
          "old_line_content": "        multimap<unsigned int, CWalletTx*> mapSorted;",
          "new_line_content": "    nLastTime = GetTime();",
          "content_same": false
        },
        {
          "line": 904,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"ResendWalletTransactions()\\n\")",
          "old_line_content": "            CWalletTx& wtx = item.second;",
          "new_line_content": "    printf(\"ResendWalletTransactions()\\n\");",
          "content_same": false
        },
        {
          "line": 1417,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Invalid amount\")",
          "old_line_content": "",
          "new_line_content": "        return _(\"Invalid amount\");",
          "content_same": false
        },
        {
          "line": 906,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(cs_wallet)",
          "old_line_content": "            // it should have gotten in already by now.",
          "new_line_content": "        LOCK(cs_wallet);",
          "content_same": false
        },
        {
          "line": 1419,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Insufficient funds\")",
          "old_line_content": "}",
          "new_line_content": "        return _(\"Insufficient funds\");",
          "content_same": false
        },
        {
          "line": 1423,
          "old_api": null,
          "new_api": "SetDestination",
          "old_text": null,
          "new_text": "scriptPubKey.SetDestination(address)",
          "old_line_content": "",
          "new_line_content": "    scriptPubKey.SetDestination(address);",
          "content_same": false
        },
        {
          "line": 1425,
          "old_api": null,
          "new_api": "SendMoney",
          "old_text": null,
          "new_text": "SendMoney(scriptPubKey, nValue, wtxNew, fAskFee)",
          "old_line_content": "{",
          "new_line_content": "    return SendMoney(scriptPubKey, nValue, wtxNew, fAskFee);",
          "content_same": false
        },
        {
          "line": 915,
          "old_api": null,
          "new_api": "make_pair",
          "old_text": null,
          "new_text": "make_pair(wtx.nTimeReceived, &wtx)",
          "old_line_content": "    }",
          "new_line_content": "                mapSorted.insert(make_pair(wtx.nTimeReceived, &wtx));",
          "content_same": false
        },
        {
          "line": 920,
          "old_api": null,
          "new_api": "RelayWalletTransaction",
          "old_text": null,
          "new_text": "wtx.RelayWalletTransaction()",
          "old_line_content": "",
          "new_line_content": "            wtx.RelayWalletTransaction();",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": null,
          "new_api": "LoadWallet",
          "old_text": null,
          "new_text": "CWalletDB(strWalletFile,\"cr+\").LoadWallet(this)",
          "old_line_content": "            // User will be prompted to unlock wallet the next operation",
          "new_line_content": "    DBErrors nLoadWalletRet = CWalletDB(strWalletFile,\"cr+\").LoadWallet(this);",
          "content_same": false
        },
        {
          "line": 1439,
          "old_api": null,
          "new_api": "CDB::Rewrite(strWalletFile, \"\\x04pool\")",
          "old_text": null,
          "new_text": "CDB::Rewrite(strWalletFile, \"\\x04pool\")",
          "old_line_content": "    }",
          "new_line_content": "        if (CDB::Rewrite(strWalletFile, \"\\x04pool\"))",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "setKeyPool.clear()",
          "old_line_content": "    if (nLoadWalletRet != DB_LOAD_OK)",
          "new_line_content": "            setKeyPool.clear();",
          "content_same": false
        },
        {
          "line": 1450,
          "old_api": null,
          "new_api": "IsValid",
          "old_text": null,
          "new_text": "vchDefaultKey.IsValid()",
          "old_line_content": "{",
          "new_line_content": "    fFirstRunRet = !vchDefaultKey.IsValid();",
          "content_same": false
        },
        {
          "line": 940,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(cs_wallet)",
          "old_line_content": "    }",
          "new_line_content": "        LOCK(cs_wallet);",
          "content_same": false
        },
        {
          "line": 941,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "mapWallet.end()",
          "old_line_content": "",
          "new_line_content": "        for (map<uint256, CWalletTx>::const_iterator it = mapWallet.begin(); it != mapWallet.end(); ++it)",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": null,
          "new_api": "IsConfirmed",
          "old_text": null,
          "new_text": "pcoin->IsConfirmed()",
          "old_line_content": "",
          "new_line_content": "            if (pcoin->IsConfirmed())",
          "content_same": false
        },
        {
          "line": 945,
          "old_api": null,
          "new_api": "GetAvailableCredit",
          "old_text": null,
          "new_text": "pcoin->GetAvailableCredit()",
          "old_line_content": "int64 CWallet::GetUnconfirmedBalance() const",
          "new_line_content": "                nTotal += pcoin->GetAvailableCredit();",
          "content_same": false
        },
        {
          "line": 1458,
          "old_api": null,
          "new_api": "find",
          "old_text": null,
          "new_text": "mapAddressBook.find(address)",
          "old_line_content": "",
          "new_line_content": "    std::map<CTxDestination, std::string>::iterator mi = mapAddressBook.find(address);",
          "content_same": false
        },
        {
          "line": 1460,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "mapAddressBook.end()",
          "old_line_content": "{",
          "new_line_content": "    NotifyAddressBookChanged(this, address, strName, ::IsMine(*this, address), (mi == mapAddressBook.end()) ? CT_NEW : CT_UPDATED);",
          "content_same": false
        },
        {
          "line": 1463,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "CBitcoinAddress(address).ToString()",
          "old_line_content": "    if (!fFileBacked)",
          "new_line_content": "    return CWalletDB(strWalletFile).WriteName(CBitcoinAddress(address).ToString(), strName);",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(cs_wallet)",
          "old_line_content": "    }",
          "new_line_content": "        LOCK(cs_wallet);",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "mapWallet.end()",
          "old_line_content": "    return nTotal;",
          "new_line_content": "        for (map<uint256, CWalletTx>::const_iterator it = mapWallet.begin(); it != mapWallet.end(); ++it)",
          "content_same": false
        },
        {
          "line": 1468,
          "old_api": null,
          "new_api": "erase",
          "old_text": null,
          "new_text": "mapAddressBook.erase(address)",
          "old_line_content": "",
          "new_line_content": "    mapAddressBook.erase(address);",
          "content_same": false
        },
        {
          "line": 1469,
          "old_api": null,
          "new_api": "::IsMine(*this, address)",
          "old_text": null,
          "new_text": "::IsMine(*this, address)",
          "old_line_content": "void CWallet::PrintWallet(const CBlock& block)",
          "new_line_content": "    NotifyAddressBookChanged(this, address, \"\", ::IsMine(*this, address), CT_DELETED);",
          "content_same": false
        },
        {
          "line": 960,
          "old_api": null,
          "new_api": "IsConfirmed",
          "old_text": null,
          "new_text": "pcoin->IsConfirmed()",
          "old_line_content": "int64 CWallet::GetImmatureBalance() const",
          "new_line_content": "            if (!IsFinalTx(*pcoin) || !pcoin->IsConfirmed())",
          "content_same": false
        },
        {
          "line": 961,
          "old_api": null,
          "new_api": "GetAvailableCredit",
          "old_text": null,
          "new_text": "pcoin->GetAvailableCredit()",
          "old_line_content": "{",
          "new_line_content": "                nTotal += pcoin->GetAvailableCredit();",
          "content_same": false
        },
        {
          "line": 1480,
          "old_api": null,
          "new_api": "GetHash",
          "old_text": null,
          "new_text": "block.vtx[0].GetHash()",
          "old_line_content": "}",
          "new_line_content": "        if (mapWallet.count(block.vtx[0].GetHash()))",
          "content_same": false
        },
        {
          "line": 1482,
          "old_api": null,
          "new_api": "GetHash",
          "old_text": null,
          "new_text": "block.vtx[0].GetHash()",
          "old_line_content": "bool CWallet::GetTransaction(const uint256 &hashTx, CWalletTx& wtx)",
          "new_line_content": "            CWalletTx& wtx = mapWallet[block.vtx[0].GetHash()];",
          "content_same": false
        },
        {
          "line": 971,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(cs_wallet)",
          "old_line_content": "    return nTotal;",
          "new_line_content": "        LOCK(cs_wallet);",
          "content_same": false
        },
        {
          "line": 972,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "mapWallet.end()",
          "old_line_content": "}",
          "new_line_content": "        for (map<uint256, CWalletTx>::const_iterator it = mapWallet.begin(); it != mapWallet.end(); ++it)",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": null,
          "new_api": "GetCredit",
          "old_text": null,
          "new_text": "wtx.GetCredit()",
          "old_line_content": "{",
          "new_line_content": "            printf(\"    mine:  %d  %d  %\"PRI64d\"\", wtx.GetDepthInMainChain(), wtx.GetBlocksToMaturity(), wtx.GetCredit());",
          "content_same": false
        },
        {
          "line": 975,
          "old_api": null,
          "new_api": "GetImmatureCredit",
          "old_text": null,
          "new_text": "pcoin->GetImmatureCredit()",
          "old_line_content": "void CWallet::AvailableCoins(vector<COutput>& vCoins, bool fOnlyConfirmed) const",
          "new_line_content": "            nTotal += pcoin->GetImmatureCredit();",
          "content_same": false
        },
        {
          "line": 1492,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(cs_wallet)",
          "old_line_content": "    }",
          "new_line_content": "        LOCK(cs_wallet);",
          "content_same": false
        },
        {
          "line": 1493,
          "old_api": null,
          "new_api": "find",
          "old_text": null,
          "new_text": "mapWallet.find(hashTx)",
          "old_line_content": "    return false;",
          "new_line_content": "        map<uint256, CWalletTx>::iterator mi = mapWallet.find(hashTx);",
          "content_same": false
        },
        {
          "line": 1494,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "mapWallet.end()",
          "old_line_content": "}",
          "new_line_content": "        if (mi != mapWallet.end())",
          "content_same": false
        },
        {
          "line": 984,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "vCoins.clear()",
          "old_line_content": "",
          "new_line_content": "    vCoins.clear();",
          "content_same": false
        },
        {
          "line": 987,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(cs_wallet)",
          "old_line_content": "",
          "new_line_content": "        LOCK(cs_wallet);",
          "content_same": false
        },
        {
          "line": 992,
          "old_api": null,
          "new_api": "IsFinalTx",
          "old_text": null,
          "new_text": "IsFinalTx(*pcoin)",
          "old_line_content": "                continue;",
          "new_line_content": "            if (!IsFinalTx(*pcoin))",
          "content_same": false
        },
        {
          "line": 1507,
          "old_api": null,
          "new_api": "WriteDefaultKey",
          "old_text": null,
          "new_text": "CWalletDB(strWalletFile).WriteDefaultKey(vchPubKey)",
          "old_line_content": "bool GetWalletFile(CWallet* pwallet, string &strWalletFileOut)",
          "new_line_content": "        if (!CWalletDB(strWalletFile).WriteDefaultKey(vchPubKey))",
          "content_same": false
        },
        {
          "line": 998,
          "old_api": null,
          "new_api": "GetBlocksToMaturity",
          "old_text": null,
          "new_text": "pcoin->GetBlocksToMaturity()",
          "old_line_content": "            }",
          "new_line_content": "            if (pcoin->IsCoinBase() && pcoin->GetBlocksToMaturity() > 0)",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "pcoin->vout.size()",
          "old_line_content": "}",
          "new_line_content": "            for (unsigned int i = 0; i < pcoin->vout.size(); i++) {",
          "content_same": false
        },
        {
          "line": 1002,
          "old_api": null,
          "new_api": "IsMine",
          "old_text": null,
          "new_text": "IsMine(pcoin->vout[i])",
          "old_line_content": "",
          "new_line_content": "                if (!(pcoin->IsSpent(i)) && IsMine(pcoin->vout[i]) &&",
          "content_same": false
        },
        {
          "line": 1003,
          "old_api": null,
          "new_api": "IsLockedCoin",
          "old_text": null,
          "new_text": "IsLockedCoin((*it).first, i)",
          "old_line_content": "static void ApproximateBestSubset(vector<pair<int64, pair<const CWalletTx*,unsigned int> > >vValue, int64 nTotalLower, int64 nTargetValue,",
          "new_line_content": "                    !IsLockedCoin((*it).first, i) && pcoin->vout[i].nValue > 0)",
          "content_same": false
        },
        {
          "line": 1004,
          "old_api": null,
          "new_api": "GetDepthInMainChain",
          "old_text": null,
          "new_text": "pcoin->GetDepthInMainChain()",
          "old_line_content": "                                  vector<char>& vfBest, int64& nBest, int iterations = 1000)",
          "new_line_content": "                    vCoins.push_back(COutput(pcoin, i, pcoin->GetDepthInMainChain()));",
          "content_same": false
        },
        {
          "line": 1529,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(cs_wallet)",
          "old_line_content": "            return false;",
          "new_line_content": "        LOCK(cs_wallet);",
          "content_same": false
        },
        {
          "line": 1018,
          "old_api": null,
          "new_api": "seed_insecure_rand",
          "old_text": null,
          "new_text": "seed_insecure_rand()",
          "old_line_content": "        for (int nPass = 0; nPass < 2 && !fReachedTarget; nPass++)",
          "new_line_content": "    seed_insecure_rand();",
          "content_same": false
        },
        {
          "line": 1532,
          "old_api": null,
          "new_api": "ErasePool",
          "old_text": null,
          "new_text": "walletdb.ErasePool(nIndex)",
          "old_line_content": "        for (int i = 0; i < nKeys; i++)",
          "new_line_content": "            walletdb.ErasePool(nIndex);",
          "content_same": false
        },
        {
          "line": 1533,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "setKeyPool.clear()",
          "old_line_content": "        {",
          "new_line_content": "        setKeyPool.clear();",
          "content_same": false
        },
        {
          "line": 1022,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vValue.size()",
          "old_line_content": "                //The solver here uses a randomized algorithm,",
          "new_line_content": "        vfIncluded.assign(vValue.size(), false);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 1536,
          "old_api": "insert",
          "new_api": null,
          "old_text": "setKeyPool.insert(nIndex)",
          "new_text": null,
          "old_line_content": "            setKeyPool.insert(nIndex);",
          "new_line_content": "            return false;",
          "content_same": false
        },
        {
          "line": 1028,
          "old_api": "insecure_rand",
          "new_api": null,
          "old_text": "insecure_rand()",
          "new_text": null,
          "old_line_content": "                if (nPass == 0 ? insecure_rand()&1 : !vfIncluded[i])",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1546,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_wallet)",
          "new_text": null,
          "old_line_content": "        LOCK(cs_wallet);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1548,
          "old_api": "IsLocked",
          "new_api": null,
          "old_text": "IsLocked()",
          "new_text": null,
          "old_line_content": "        if (IsLocked())",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1554,
          "old_api": "GetArg",
          "new_api": null,
          "old_text": "GetArg(\"-keypool\", 100)",
          "new_text": null,
          "old_line_content": "        unsigned int nTargetSize = max(GetArg(\"-keypool\", 100), 0LL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1558,
          "old_api": "empty",
          "new_api": null,
          "old_text": "setKeyPool.empty()",
          "new_text": null,
          "old_line_content": "            if (!setKeyPool.empty())",
          "new_line_content": "        CWalletDB walletdb(strWalletFile);",
          "content_same": false
        },
        {
          "line": 1559,
          "old_api": "end",
          "new_api": null,
          "old_text": "setKeyPool.end()",
          "new_text": null,
          "old_line_content": "                nEnd = *(--setKeyPool.end()) + 1;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1560,
          "old_api": "GenerateNewKey",
          "new_api": null,
          "old_text": "GenerateNewKey()",
          "new_text": null,
          "old_line_content": "            if (!walletdb.WritePool(nEnd, CKeyPool(GenerateNewKey())))",
          "new_line_content": "        // Top up key pool",
          "content_same": false
        },
        {
          "line": 1563,
          "old_api": "size",
          "new_api": null,
          "old_text": "setKeyPool.size()",
          "new_text": null,
          "old_line_content": "            printf(\"keypool added key %\"PRI64d\", size=%\"PRIszu\"\\n\", nEnd, setKeyPool.size());",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1052,
          "old_api": "clear",
          "new_api": null,
          "old_text": "setCoinsRet.clear()",
          "new_text": null,
          "old_line_content": "    setCoinsRet.clear();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1057,
          "old_api": "std::numeric_limits<int64>::max()",
          "new_api": null,
          "old_text": "std::numeric_limits<int64>::max()",
          "new_text": null,
          "old_line_content": "    coinLowestLarger.first = std::numeric_limits<int64>::max();",
          "new_line_content": "                                 set<pair<const CWalletTx*,unsigned int> >& setCoinsRet, int64& nValueRet) const",
          "content_same": false
        },
        {
          "line": 1572,
          "old_api": "CPubKey",
          "new_api": null,
          "old_text": "CPubKey()",
          "new_text": null,
          "old_line_content": "    keypool.vchPubKey = CPubKey();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1062,
          "old_api": "end",
          "new_api": null,
          "old_text": "vCoins.end()",
          "new_text": null,
          "old_line_content": "    random_shuffle(vCoins.begin(), vCoins.end(), GetRandInt);",
          "new_line_content": "    // List of values less than target",
          "content_same": false
        },
        {
          "line": 1574,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_wallet)",
          "new_text": null,
          "old_line_content": "        LOCK(cs_wallet);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1576,
          "old_api": "IsLocked",
          "new_api": null,
          "old_text": "IsLocked()",
          "new_text": null,
          "old_line_content": "        if (!IsLocked())",
          "new_line_content": "void CWallet::ReserveKeyFromKeyPool(int64& nIndex, CKeyPool& keypool)",
          "content_same": false
        },
        {
          "line": 1577,
          "old_api": "TopUpKeyPool",
          "new_api": null,
          "old_text": "TopUpKeyPool()",
          "new_text": null,
          "old_line_content": "            TopUpKeyPool();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": "IsFromMe",
          "new_api": null,
          "old_text": "pcoin->IsFromMe()",
          "new_text": null,
          "old_line_content": "        if (output.nDepth < (pcoin->IsFromMe() ? nConfMine : nConfTheirs))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1580,
          "old_api": "empty",
          "new_api": null,
          "old_text": "setKeyPool.empty()",
          "new_text": null,
          "old_line_content": "        if(setKeyPool.empty())",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1585,
          "old_api": "begin",
          "new_api": null,
          "old_text": "setKeyPool.begin()",
          "new_text": null,
          "old_line_content": "        nIndex = *(setKeyPool.begin());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1074,
          "old_api": "make_pair",
          "new_api": null,
          "old_text": "make_pair(pcoin, i)",
          "new_text": null,
          "old_line_content": "        pair<int64,pair<const CWalletTx*,unsigned int> > coin = make_pair(n,make_pair(pcoin, i));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1586,
          "old_api": "begin",
          "new_api": null,
          "old_text": "setKeyPool.begin()",
          "new_text": null,
          "old_line_content": "        setKeyPool.erase(setKeyPool.begin());",
          "new_line_content": "        // Get the oldest key",
          "content_same": false
        },
        {
          "line": 1588,
          "old_api": "runtime_error",
          "new_api": null,
          "old_text": "runtime_error(\"ReserveKeyFromKeyPool() : read failed\")",
          "new_text": null,
          "old_line_content": "            throw runtime_error(\"ReserveKeyFromKeyPool() : read failed\");",
          "new_line_content": "            return;",
          "content_same": false
        },
        {
          "line": 1589,
          "old_api": "GetID",
          "new_api": null,
          "old_text": "keypool.vchPubKey.GetID()",
          "new_text": null,
          "old_line_content": "        if (!HaveKey(keypool.vchPubKey.GetID()))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1078,
          "old_api": "insert",
          "new_api": null,
          "old_text": "setCoinsRet.insert(coin.second)",
          "new_text": null,
          "old_line_content": "            setCoinsRet.insert(coin.second);",
          "new_line_content": "        int i = output.i;",
          "content_same": false
        },
        {
          "line": 1590,
          "old_api": "runtime_error",
          "new_api": null,
          "old_text": "runtime_error(\"ReserveKeyFromKeyPool() : unknown key in key pool\")",
          "new_text": null,
          "old_line_content": "            throw runtime_error(\"ReserveKeyFromKeyPool() : unknown key in key pool\");",
          "new_line_content": "        CWalletDB walletdb(strWalletFile);",
          "content_same": false
        },
        {
          "line": 1591,
          "old_api": "IsValid",
          "new_api": null,
          "old_text": "keypool.vchPubKey.IsValid()",
          "new_text": null,
          "old_line_content": "        assert(keypool.vchPubKey.IsValid());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1084,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "vValue.push_back(coin)",
          "new_text": null,
          "old_line_content": "            vValue.push_back(coin);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1602,
          "old_api": "end",
          "new_api": null,
          "old_text": "setKeyPool.end()",
          "new_text": null,
          "old_line_content": "        int64 nIndex = 1 + *(--setKeyPool.end());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1603,
          "old_api": "WritePool",
          "new_api": null,
          "old_text": "walletdb.WritePool(nIndex, keypool)",
          "new_text": null,
          "old_line_content": "        if (!walletdb.WritePool(nIndex, keypool))",
          "new_line_content": "int64 CWallet::AddReserveKey(const CKeyPool& keypool)",
          "content_same": false
        },
        {
          "line": 1604,
          "old_api": "runtime_error",
          "new_api": null,
          "old_text": "runtime_error(\"AddReserveKey() : writing added key failed\")",
          "new_text": null,
          "old_line_content": "            throw runtime_error(\"AddReserveKey() : writing added key failed\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1605,
          "old_api": "insert",
          "new_api": null,
          "old_text": "setKeyPool.insert(nIndex)",
          "new_text": null,
          "old_line_content": "        setKeyPool.insert(nIndex);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1095,
          "old_api": "size",
          "new_api": null,
          "old_text": "vValue.size()",
          "new_text": null,
          "old_line_content": "        for (unsigned int i = 0; i < vValue.size(); ++i)",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": "insert",
          "new_api": null,
          "old_text": "setCoinsRet.insert(vValue[i].second)",
          "new_text": null,
          "old_line_content": "            setCoinsRet.insert(vValue[i].second);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1617,
          "old_api": "ErasePool",
          "new_api": null,
          "old_text": "walletdb.ErasePool(nIndex)",
          "new_text": null,
          "old_line_content": "        walletdb.ErasePool(nIndex);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1107,
          "old_api": "insert",
          "new_api": null,
          "old_text": "setCoinsRet.insert(coinLowestLarger.second)",
          "new_text": null,
          "old_line_content": "        setCoinsRet.insert(coinLowestLarger.second);",
          "new_line_content": "        return true;",
          "content_same": false
        },
        {
          "line": 1619,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"keypool keep %\"PRI64d\"\\n\", nIndex)",
          "new_text": null,
          "old_line_content": "    printf(\"keypool keep %\"PRI64d\"\\n\", nIndex);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1113,
          "old_api": "CompareValueOnly",
          "new_api": null,
          "old_text": "CompareValueOnly()",
          "new_text": null,
          "old_line_content": "    sort(vValue.rbegin(), vValue.rend(), CompareValueOnly());",
          "new_line_content": "            return false;",
          "content_same": false
        },
        {
          "line": 1627,
          "old_api": "insert",
          "new_api": null,
          "old_text": "setKeyPool.insert(nIndex)",
          "new_text": null,
          "old_line_content": "        setKeyPool.insert(nIndex);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1117,
          "old_api": "ApproximateBestSubset",
          "new_api": null,
          "old_text": "ApproximateBestSubset(vValue, nTotalLower, nTargetValue, vfBest, nBest, 1000)",
          "new_text": null,
          "old_line_content": "    ApproximateBestSubset(vValue, nTotalLower, nTargetValue, vfBest, nBest, 1000);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1629,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"keypool return %\"PRI64d\"\\n\", nIndex)",
          "new_text": null,
          "old_line_content": "    printf(\"keypool return %\"PRI64d\"\\n\", nIndex);",
          "new_line_content": "void CWallet::ReturnKey(int64 nIndex)",
          "content_same": false
        },
        {
          "line": 1119,
          "old_api": "ApproximateBestSubset",
          "new_api": null,
          "old_text": "ApproximateBestSubset(vValue, nTotalLower, nTargetValue + CENT, vfBest, nBest, 1000)",
          "new_text": null,
          "old_line_content": "        ApproximateBestSubset(vValue, nTotalLower, nTargetValue + CENT, vfBest, nBest, 1000);",
          "new_line_content": "    // Solve subset sum by stochastic approximation",
          "content_same": false
        },
        {
          "line": 1637,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_wallet)",
          "new_text": null,
          "old_line_content": "        LOCK(cs_wallet);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1638,
          "old_api": "ReserveKeyFromKeyPool",
          "new_api": null,
          "old_text": "ReserveKeyFromKeyPool(nIndex, keypool)",
          "new_text": null,
          "old_line_content": "        ReserveKeyFromKeyPool(nIndex, keypool);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1641,
          "old_api": "IsValid",
          "new_api": null,
          "old_text": "vchDefaultKey.IsValid()",
          "new_text": null,
          "old_line_content": "            if (fAllowReuse && vchDefaultKey.IsValid())",
          "new_line_content": "    int64 nIndex = 0;",
          "content_same": false
        },
        {
          "line": 1130,
          "old_api": "size",
          "new_api": null,
          "old_text": "vValue.size()",
          "new_text": null,
          "old_line_content": "        for (unsigned int i = 0; i < vValue.size(); i++)",
          "new_line_content": "    if (coinLowestLarger.second.first &&",
          "content_same": false
        },
        {
          "line": 1646,
          "old_api": "IsLocked",
          "new_api": null,
          "old_text": "IsLocked()",
          "new_text": null,
          "old_line_content": "            if (IsLocked()) return false;",
          "new_line_content": "        if (nIndex == -1)",
          "content_same": false
        },
        {
          "line": 1647,
          "old_api": "GenerateNewKey",
          "new_api": null,
          "old_text": "GenerateNewKey()",
          "new_text": null,
          "old_line_content": "            result = GenerateNewKey();",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"SelectCoins() best subset: \")",
          "new_text": null,
          "old_line_content": "        printf(\"SelectCoins() best subset: \");",
          "new_line_content": "            if (vfBest[i])",
          "content_same": false
        },
        {
          "line": 1139,
          "old_api": "size",
          "new_api": null,
          "old_text": "vValue.size()",
          "new_text": null,
          "old_line_content": "        for (unsigned int i = 0; i < vValue.size(); i++)",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1650,
          "old_api": "KeepKey",
          "new_api": null,
          "old_text": "KeepKey(nIndex)",
          "new_text": null,
          "old_line_content": "        KeepKey(nIndex);",
          "new_line_content": "                result = vchDefaultKey;",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": "c_str",
          "new_api": null,
          "old_text": "FormatMoney(vValue[i].first).c_str()",
          "new_text": null,
          "old_line_content": "                printf(\"%s \", FormatMoney(vValue[i].first).c_str());",
          "new_line_content": "                nValueRet += vValue[i].first;",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": "c_str",
          "new_api": null,
          "old_text": "FormatMoney(nBest).c_str()",
          "new_text": null,
          "old_line_content": "        printf(\"total %s\\n\", FormatMoney(nBest).c_str());",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1660,
          "old_api": "ReserveKeyFromKeyPool",
          "new_api": null,
          "old_text": "ReserveKeyFromKeyPool(nIndex, keypool)",
          "new_text": null,
          "old_line_content": "    ReserveKeyFromKeyPool(nIndex, keypool);",
          "new_line_content": "    return true;",
          "content_same": false
        },
        {
          "line": 1662,
          "old_api": "GetTime",
          "new_api": null,
          "old_text": "GetTime()",
          "new_text": null,
          "old_line_content": "        return GetTime();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": "AvailableCoins",
          "new_api": null,
          "old_text": "AvailableCoins(vCoins)",
          "new_text": null,
          "old_line_content": "    AvailableCoins(vCoins);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1663,
          "old_api": "ReturnKey",
          "new_api": null,
          "old_text": "ReturnKey(nIndex)",
          "new_text": null,
          "old_line_content": "    ReturnKey(nIndex);",
          "new_line_content": "int64 CWallet::GetOldestKeyPoolTime()",
          "content_same": false
        },
        {
          "line": 1153,
          "old_api": "SelectCoinsMinConf",
          "new_api": null,
          "old_text": "SelectCoinsMinConf(nTargetValue, 1, 6, vCoins, setCoinsRet, nValueRet)",
          "new_text": null,
          "old_line_content": "    return (SelectCoinsMinConf(nTargetValue, 1, 6, vCoins, setCoinsRet, nValueRet) ||",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1154,
          "old_api": "SelectCoinsMinConf",
          "new_api": null,
          "old_text": "SelectCoinsMinConf(nTargetValue, 1, 1, vCoins, setCoinsRet, nValueRet)",
          "new_text": null,
          "old_line_content": "            SelectCoinsMinConf(nTargetValue, 1, 1, vCoins, setCoinsRet, nValueRet) ||",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1155,
          "old_api": "SelectCoinsMinConf",
          "new_api": null,
          "old_text": "SelectCoinsMinConf(nTargetValue, 0, 1, vCoins, setCoinsRet, nValueRet)",
          "new_text": null,
          "old_line_content": "            SelectCoinsMinConf(nTargetValue, 0, 1, vCoins, setCoinsRet, nValueRet));",
          "new_line_content": "bool CWallet::SelectCoins(int64 nTargetValue, set<pair<const CWalletTx*,unsigned int> >& setCoinsRet, int64& nValueRet) const",
          "content_same": false
        },
        {
          "line": 1672,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_wallet)",
          "new_text": null,
          "old_line_content": "        LOCK(cs_wallet);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1673,
          "old_api": "PAIRTYPE",
          "new_api": null,
          "old_text": "PAIRTYPE(uint256, CWalletTx)",
          "new_text": null,
          "old_line_content": "        BOOST_FOREACH(PAIRTYPE(uint256, CWalletTx) walletEntry, mapWallet)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1677,
          "old_api": "IsConfirmed",
          "new_api": null,
          "old_text": "pcoin->IsConfirmed()",
          "new_text": null,
          "old_line_content": "            if (!IsFinalTx(*pcoin) || !pcoin->IsConfirmed())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1169,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Transaction amounts must be positive\")",
          "new_text": null,
          "old_line_content": "            strFailReason = _(\"Transaction amounts must be positive\");",
          "new_line_content": "                                CWalletTx& wtxNew, CReserveKey& reservekey, int64& nFeeRet, std::string& strFailReason)",
          "content_same": false
        },
        {
          "line": 1683,
          "old_api": "GetDepthInMainChain",
          "new_api": null,
          "old_text": "pcoin->GetDepthInMainChain()",
          "new_text": null,
          "old_line_content": "            int nDepth = pcoin->GetDepthInMainChain();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": "empty",
          "new_api": null,
          "old_text": "vecSend.empty()",
          "new_text": null,
          "old_line_content": "    if (vecSend.empty() || nValue < 0)",
          "new_line_content": "        if (nValue < 0)",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": "BindWallet",
          "new_api": null,
          "old_text": "wtxNew.BindWallet(this)",
          "new_text": null,
          "old_line_content": "    wtxNew.BindWallet(this);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1692,
          "old_api": "ExtractDestination",
          "new_api": null,
          "old_text": "ExtractDestination(pcoin->vout[i].scriptPubKey, addr)",
          "new_text": null,
          "old_line_content": "                if(!ExtractDestination(pcoin->vout[i].scriptPubKey, addr))",
          "new_line_content": "                continue;",
          "content_same": false
        },
        {
          "line": 1695,
          "old_api": "IsSpent",
          "new_api": null,
          "old_text": "pcoin->IsSpent(i)",
          "new_text": null,
          "old_line_content": "                int64 n = pcoin->IsSpent(i) ? 0 : pcoin->vout[i].nValue;",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": "clear",
          "new_api": null,
          "old_text": "wtxNew.vin.clear()",
          "new_text": null,
          "old_line_content": "                wtxNew.vin.clear();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1189,
          "old_api": "clear",
          "new_api": null,
          "old_text": "wtxNew.vout.clear()",
          "new_text": null,
          "old_line_content": "                wtxNew.vout.clear();",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1198,
          "old_api": "IsDust",
          "new_api": null,
          "old_text": "txout.IsDust(CTransaction::nMinRelayTxFee)",
          "new_text": null,
          "old_line_content": "                    if (txout.IsDust(CTransaction::nMinRelayTxFee))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Transaction amount too small\")",
          "new_text": null,
          "old_line_content": "                        strFailReason = _(\"Transaction amount too small\");",
          "new_line_content": "                double dPriority = 0;",
          "content_same": false
        },
        {
          "line": 1712,
          "old_api": "PAIRTYPE",
          "new_api": null,
          "old_text": "PAIRTYPE(uint256, CWalletTx)",
          "new_text": null,
          "old_line_content": "    BOOST_FOREACH(PAIRTYPE(uint256, CWalletTx) walletEntry, mapWallet)",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "wtxNew.vout.push_back(txout)",
          "new_text": null,
          "old_line_content": "                    wtxNew.vout.push_back(txout);",
          "new_line_content": "                {",
          "content_same": false
        },
        {
          "line": 1716,
          "old_api": "size",
          "new_api": null,
          "old_text": "pcoin->vin.size()",
          "new_text": null,
          "old_line_content": "        if (pcoin->vin.size() > 0)",
          "new_line_content": "    set< set<CTxDestination> > groupings;",
          "content_same": false
        },
        {
          "line": 1209,
          "old_api": "SelectCoins",
          "new_api": null,
          "old_text": "SelectCoins(nTotalValue, setCoins, nValueIn)",
          "new_text": null,
          "old_line_content": "                if (!SelectCoins(nTotalValue, setCoins, nValueIn))",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 1211,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Insufficient funds\")",
          "new_text": null,
          "old_line_content": "                    strFailReason = _(\"Insufficient funds\");",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1725,
          "old_api": "ExtractDestination",
          "new_api": null,
          "old_text": "ExtractDestination(mapWallet[txin.prevout.hash].vout[txin.prevout.n].scriptPubKey, address)",
          "new_text": null,
          "old_line_content": "                if(!ExtractDestination(mapWallet[txin.prevout.hash].vout[txin.prevout.n].scriptPubKey, address))",
          "new_line_content": "            bool any_mine = false;",
          "content_same": false
        },
        {
          "line": 1727,
          "old_api": "insert",
          "new_api": null,
          "old_text": "grouping.insert(address)",
          "new_text": null,
          "old_line_content": "                grouping.insert(address);",
          "new_line_content": "            BOOST_FOREACH(CTxIn txin, pcoin->vin)",
          "content_same": false
        },
        {
          "line": 1220,
          "old_api": "GetDepthInMainChain",
          "new_api": null,
          "old_text": "pcoin.first->GetDepthInMainChain()",
          "new_text": null,
          "old_line_content": "                    dPriority += (double)nCredit * (pcoin.first->GetDepthInMainChain()+1);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1738,
          "old_api": "ExtractDestination",
          "new_api": null,
          "old_text": "ExtractDestination(txout.scriptPubKey, txoutAddr)",
          "new_text": null,
          "old_line_content": "                       if(!ExtractDestination(txout.scriptPubKey, txoutAddr))",
          "new_line_content": "            // group change with input addresses",
          "content_same": false
        },
        {
          "line": 1740,
          "old_api": "insert",
          "new_api": null,
          "old_text": "grouping.insert(txoutAddr)",
          "new_text": null,
          "old_line_content": "                       grouping.insert(txoutAddr);",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1229,
          "old_api": "min",
          "new_api": null,
          "old_text": "min(nChange, CTransaction::nMinTxFee - nFeeRet)",
          "new_text": null,
          "old_line_content": "                    int64 nMoveToFee = min(nChange, CTransaction::nMinTxFee - nFeeRet);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1743,
          "old_api": "size",
          "new_api": null,
          "old_text": "grouping.size()",
          "new_text": null,
          "old_line_content": "            if (grouping.size() > 0)",
          "new_line_content": "                   {",
          "content_same": false
        },
        {
          "line": 1746,
          "old_api": "clear",
          "new_api": null,
          "old_text": "grouping.clear()",
          "new_text": null,
          "old_line_content": "                grouping.clear();",
          "new_line_content": "                           continue;",
          "content_same": false
        },
        {
          "line": 1751,
          "old_api": "size",
          "new_api": null,
          "old_text": "pcoin->vout.size()",
          "new_text": null,
          "old_line_content": "        for (unsigned int i = 0; i < pcoin->vout.size(); i++)",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1755,
          "old_api": "ExtractDestination",
          "new_api": null,
          "old_text": "ExtractDestination(pcoin->vout[i].scriptPubKey, address)",
          "new_text": null,
          "old_line_content": "                if(!ExtractDestination(pcoin->vout[i].scriptPubKey, address))",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1245,
          "old_api": "GetReservedKey",
          "new_api": null,
          "old_text": "reservekey.GetReservedKey(vchPubKey)",
          "new_text": null,
          "old_line_content": "                    assert(reservekey.GetReservedKey(vchPubKey)); // should never fail, as we just unlocked",
          "new_line_content": "                    //  backup is restored, if the backup doesn't have the new private key for the change.",
          "content_same": false
        },
        {
          "line": 1757,
          "old_api": "insert",
          "new_api": null,
          "old_text": "grouping.insert(address)",
          "new_text": null,
          "old_line_content": "                grouping.insert(address);",
          "new_line_content": "        // group lone addrs by themselves",
          "content_same": false
        },
        {
          "line": 1251,
          "old_api": "GetID",
          "new_api": null,
          "old_text": "vchPubKey.GetID()",
          "new_text": null,
          "old_line_content": "                    scriptChange.SetDestination(vchPubKey.GetID());",
          "new_line_content": "                    CPubKey vchPubKey;",
          "content_same": false
        },
        {
          "line": 1257,
          "old_api": "IsDust",
          "new_api": null,
          "old_text": "newTxOut.IsDust(CTransaction::nMinRelayTxFee)",
          "new_text": null,
          "old_line_content": "                    if (newTxOut.IsDust(CTransaction::nMinRelayTxFee))",
          "new_line_content": "                    CScript scriptChange;",
          "content_same": false
        },
        {
          "line": 1771,
          "old_api": "end",
          "new_api": null,
          "old_text": "setmap.end()",
          "new_text": null,
          "old_line_content": "            if ((it = setmap.find(address)) != setmap.end())",
          "new_line_content": "    map< CTxDestination, set<CTxDestination>* > setmap;  // map addresses to the unique group containing it",
          "content_same": false
        },
        {
          "line": 1260,
          "old_api": "ReturnKey",
          "new_api": null,
          "old_text": "reservekey.ReturnKey()",
          "new_text": null,
          "old_line_content": "                        reservekey.ReturnKey();",
          "new_line_content": "                    CTxOut newTxOut(nChange, scriptChange);",
          "content_same": false
        },
        {
          "line": 1772,
          "old_api": "insert",
          "new_api": null,
          "old_text": "hits.insert((*it).second)",
          "new_text": null,
          "old_line_content": "                hits.insert((*it).second);",
          "new_line_content": "    BOOST_FOREACH(set<CTxDestination> grouping, groupings)",
          "content_same": false
        },
        {
          "line": 1265,
          "old_api": "size",
          "new_api": null,
          "old_text": "wtxNew.vout.size()",
          "new_text": null,
          "old_line_content": "                        vector<CTxOut>::iterator position = wtxNew.vout.begin()+GetRandInt(wtxNew.vout.size()+1);",
          "new_line_content": "                    {",
          "content_same": false
        },
        {
          "line": 1266,
          "old_api": "insert",
          "new_api": null,
          "old_text": "wtxNew.vout.insert(position, newTxOut)",
          "new_text": null,
          "old_line_content": "                        wtxNew.vout.insert(position, newTxOut);",
          "new_line_content": "                        nFeeRet += nChange;",
          "content_same": false
        },
        {
          "line": 1270,
          "old_api": "ReturnKey",
          "new_api": null,
          "old_text": "reservekey.ReturnKey()",
          "new_text": null,
          "old_line_content": "                    reservekey.ReturnKey();",
          "new_line_content": "                    {",
          "content_same": false
        },
        {
          "line": 1782,
          "old_api": "insert",
          "new_api": null,
          "old_text": "uniqueGroupings.insert(merged)",
          "new_text": null,
          "old_line_content": "        uniqueGroupings.insert(merged);",
          "new_line_content": "        set<CTxDestination>* merged = new set<CTxDestination>(grouping);",
          "content_same": false
        },
        {
          "line": 1274,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "coin.first->GetHash()",
          "new_text": null,
          "old_line_content": "                    wtxNew.vin.push_back(CTxIn(coin.first->GetHash(),coin.second));",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 1279,
          "old_api": "SignSignature",
          "new_api": null,
          "old_text": "SignSignature(*this, *coin.first, wtxNew, nIn++)",
          "new_text": null,
          "old_line_content": "                    if (!SignSignature(*this, *coin.first, wtxNew, nIn++))",
          "new_line_content": "                // Fill vin",
          "content_same": false
        },
        {
          "line": 1792,
          "old_api": "insert",
          "new_api": null,
          "old_text": "ret.insert(*uniqueGrouping)",
          "new_text": null,
          "old_line_content": "        ret.insert(*uniqueGrouping);",
          "new_line_content": "        BOOST_FOREACH(CTxDestination element, *merged)",
          "content_same": false
        },
        {
          "line": 1289,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Transaction too large\")",
          "new_text": null,
          "old_line_content": "                    strFailReason = _(\"Transaction too large\");",
          "new_line_content": "                        return false;",
          "content_same": false
        },
        {
          "line": 1804,
          "old_api": "ReserveKeyFromKeyPool",
          "new_api": null,
          "old_text": "pwallet->ReserveKeyFromKeyPool(nIndex, keypool)",
          "new_text": null,
          "old_line_content": "        pwallet->ReserveKeyFromKeyPool(nIndex, keypool);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1808,
          "old_api": "IsValid",
          "new_api": null,
          "old_text": "pwallet->vchDefaultKey.IsValid()",
          "new_text": null,
          "old_line_content": "            if (pwallet->vchDefaultKey.IsValid()) {",
          "new_line_content": "    if (nIndex == -1)",
          "content_same": false
        },
        {
          "line": 1297,
          "old_api": "GetMinFee",
          "new_api": null,
          "old_text": "GetMinFee(wtxNew, 1, fAllowFree, GMF_SEND)",
          "new_text": null,
          "old_line_content": "                int64 nMinFee = GetMinFee(wtxNew, 1, fAllowFree, GMF_SEND);",
          "new_line_content": "                    return false;",
          "content_same": false
        },
        {
          "line": 1298,
          "old_api": "max",
          "new_api": null,
          "old_text": "max(nPayFee, nMinFee)",
          "new_text": null,
          "old_line_content": "                if (nFeeRet < max(nPayFee, nMinFee))",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 1809,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"CReserveKey::GetReservedKey(): Warning: Using default key instead of a new key, top up your keypool!\")",
          "new_text": null,
          "old_line_content": "                printf(\"CReserveKey::GetReservedKey(): Warning: Using default key instead of a new key, top up your keypool!\");",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1300,
          "old_api": "max",
          "new_api": null,
          "old_text": "max(nPayFee, nMinFee)",
          "new_text": null,
          "old_line_content": "                    nFeeRet = max(nPayFee, nMinFee);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 794,
          "old_api": "ReadFromDisk",
          "new_api": null,
          "old_text": "block.ReadFromDisk(pindex)",
          "new_text": null,
          "old_line_content": "            block.ReadFromDisk(pindex);",
          "new_line_content": "            // our wallet birthday (as adjusted for block time variability)",
          "content_same": false
        },
        {
          "line": 795,
          "old_api": "BOOST_FOREACH",
          "new_api": null,
          "old_text": "BOOST_FOREACH(CTransaction& tx, block.vtx)",
          "new_text": null,
          "old_line_content": "            BOOST_FOREACH(CTransaction& tx, block.vtx)",
          "new_line_content": "            if (nTimeFirstKey && (pindex->nTime < (nTimeFirstKey - 7200))) {",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "tx.GetHash()",
          "new_text": null,
          "old_line_content": "                if (AddToWalletIfInvolvingMe(tx.GetHash(), tx, &block, fUpdate))",
          "new_line_content": "                continue;",
          "content_same": false
        },
        {
          "line": 1823,
          "old_api": "KeepKey",
          "new_api": null,
          "old_text": "pwallet->KeepKey(nIndex)",
          "new_text": null,
          "old_line_content": "        pwallet->KeepKey(nIndex);",
          "new_line_content": "    pubkey = vchPubKey;",
          "content_same": false
        },
        {
          "line": 800,
          "old_api": "GetNextInMainChain",
          "new_api": null,
          "old_text": "pindex->GetNextInMainChain()",
          "new_text": null,
          "old_line_content": "            pindex = pindex->GetNextInMainChain();",
          "new_line_content": "            CBlock block;",
          "content_same": false
        },
        {
          "line": 1825,
          "old_api": "CPubKey",
          "new_api": null,
          "old_text": "CPubKey()",
          "new_text": null,
          "old_line_content": "    vchPubKey = CPubKey();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1319,
          "old_api": "make_pair",
          "new_api": null,
          "old_text": "make_pair(scriptPubKey, nValue)",
          "new_text": null,
          "old_line_content": "    vecSend.push_back(make_pair(scriptPubKey, nValue));",
          "new_line_content": "    return true;",
          "content_same": false
        },
        {
          "line": 1320,
          "old_api": "CreateTransaction",
          "new_api": null,
          "old_text": "CreateTransaction(vecSend, wtxNew, reservekey, nFeeRet, strFailReason)",
          "new_text": null,
          "old_line_content": "    return CreateTransaction(vecSend, wtxNew, reservekey, nFeeRet, strFailReason);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1831,
          "old_api": "ReturnKey",
          "new_api": null,
          "old_text": "pwallet->ReturnKey(nIndex)",
          "new_text": null,
          "old_line_content": "        pwallet->ReturnKey(nIndex);",
          "new_line_content": "    nIndex = -1;",
          "content_same": false
        },
        {
          "line": 1833,
          "old_api": "CPubKey",
          "new_api": null,
          "old_text": "CPubKey()",
          "new_text": null,
          "old_line_content": "    vchPubKey = CPubKey();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 811,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_wallet)",
          "new_text": null,
          "old_line_content": "        LOCK(cs_wallet);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1328,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "wtxNew.ToString().c_str()",
          "new_text": null,
          "old_line_content": "        printf(\"CommitTransaction:\\n%s\", wtxNew.ToString().c_str());",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 817,
          "old_api": "IsSpent",
          "new_api": null,
          "old_text": "wtx.IsSpent(0)",
          "new_text": null,
          "old_line_content": "            if (wtx.IsCoinBase() && wtx.IsSpent(0))",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1842,
          "old_api": "LOCK2",
          "new_api": null,
          "old_text": "LOCK2(cs_main, cs_wallet)",
          "new_text": null,
          "old_line_content": "    LOCK2(cs_main, cs_wallet);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 822,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "wtx.GetHash()",
          "new_text": null,
          "old_line_content": "            bool fFound = pcoinsTip->GetCoins(wtx.GetHash(), coins);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 823,
          "old_api": "GetDepthInMainChain",
          "new_api": null,
          "old_text": "wtx.GetDepthInMainChain()",
          "new_text": null,
          "old_line_content": "            if (fFound || wtx.GetDepthInMainChain() > 0)",
          "new_line_content": "            CWalletTx& wtx = item.second;",
          "content_same": false
        },
        {
          "line": 1336,
          "old_api": "KeepKey",
          "new_api": null,
          "old_text": "reservekey.KeepKey()",
          "new_text": null,
          "old_line_content": "            reservekey.KeepKey();",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1846,
          "old_api": "ReadPool",
          "new_api": null,
          "old_text": "walletdb.ReadPool(id, keypool)",
          "new_text": null,
          "old_line_content": "        if (!walletdb.ReadPool(id, keypool))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 826,
          "old_api": "size",
          "new_api": null,
          "old_text": "wtx.vout.size()",
          "new_text": null,
          "old_line_content": "                for (unsigned int i = 0; i < wtx.vout.size(); i++)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1847,
          "old_api": "runtime_error",
          "new_api": null,
          "old_text": "runtime_error(\"GetAllReserveKeyHashes() : read failed\")",
          "new_text": null,
          "old_line_content": "            throw runtime_error(\"GetAllReserveKeyHashes() : read failed\");",
          "new_line_content": "    CWalletDB walletdb(strWalletFile);",
          "content_same": false
        },
        {
          "line": 828,
          "old_api": "IsSpent",
          "new_api": null,
          "old_text": "wtx.IsSpent(i)",
          "new_text": null,
          "old_line_content": "                    if (wtx.IsSpent(i))",
          "new_line_content": "            bool fUpdated = false;",
          "content_same": false
        },
        {
          "line": 1340,
          "old_api": "AddToWallet",
          "new_api": null,
          "old_text": "AddToWallet(wtxNew)",
          "new_text": null,
          "old_line_content": "            AddToWallet(wtxNew);",
          "new_line_content": "            CWalletDB* pwalletdb = fFileBacked ? new CWalletDB(strWalletFile,\"r\") : NULL;",
          "content_same": false
        },
        {
          "line": 1848,
          "old_api": "IsValid",
          "new_api": null,
          "old_text": "keypool.vchPubKey.IsValid()",
          "new_text": null,
          "old_line_content": "        assert(keypool.vchPubKey.IsValid());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1850,
          "old_api": "HaveKey",
          "new_api": null,
          "old_text": "HaveKey(keyID)",
          "new_text": null,
          "old_line_content": "        if (!HaveKey(keyID))",
          "new_line_content": "    BOOST_FOREACH(const int64& id, setKeyPool)",
          "content_same": false
        },
        {
          "line": 832,
          "old_api": "MarkSpent",
          "new_api": null,
          "old_text": "wtx.MarkSpent(i)",
          "new_text": null,
          "old_line_content": "                        wtx.MarkSpent(i);",
          "new_line_content": "                // Update fSpent if a tx got spent somewhere else by a copy of wallet.dat",
          "content_same": false
        },
        {
          "line": 1851,
          "old_api": "runtime_error",
          "new_api": null,
          "old_text": "runtime_error(\"GetAllReserveKeyHashes() : unknown key in key pool\")",
          "new_text": null,
          "old_line_content": "            throw runtime_error(\"GetAllReserveKeyHashes() : unknown key in key pool\");",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1852,
          "old_api": "insert",
          "new_api": null,
          "old_text": "setAddress.insert(keyID)",
          "new_text": null,
          "old_line_content": "        setAddress.insert(keyID);",
          "new_line_content": "        CKeyPool keypool;",
          "content_same": false
        },
        {
          "line": 1348,
          "old_api": "MarkSpent",
          "new_api": null,
          "old_text": "coin.MarkSpent(txin.prevout.n)",
          "new_text": null,
          "old_line_content": "                coin.MarkSpent(txin.prevout.n);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1349,
          "old_api": "WriteToDisk",
          "new_api": null,
          "old_text": "coin.WriteToDisk()",
          "new_text": null,
          "old_line_content": "                coin.WriteToDisk();",
          "new_line_content": "            // Mark old coins as spent",
          "content_same": false
        },
        {
          "line": 1350,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "coin.GetHash()",
          "new_text": null,
          "old_line_content": "                NotifyTransactionChanged(this, coin.GetHash(), CT_UPDATED);",
          "new_line_content": "            set<CWalletTx*> setCoins;",
          "content_same": false
        },
        {
          "line": 1861,
          "old_api": "find",
          "new_api": null,
          "old_text": "mapWallet.find(hashTx)",
          "new_text": null,
          "old_line_content": "        map<uint256, CWalletTx>::const_iterator mi = mapWallet.find(hashTx);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": "MarkDirty",
          "new_api": null,
          "old_text": "wtx.MarkDirty()",
          "new_text": null,
          "old_line_content": "                    wtx.MarkDirty();",
          "new_line_content": "                        fUpdated = true;",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": "WriteToDisk",
          "new_api": null,
          "old_text": "wtx.WriteToDisk()",
          "new_text": null,
          "old_line_content": "                    wtx.WriteToDisk();",
          "new_line_content": "                        fMissing = true;",
          "content_same": false
        },
        {
          "line": 1862,
          "old_api": "end",
          "new_api": null,
          "old_text": "mapWallet.end()",
          "new_text": null,
          "old_line_content": "        if (mi != mapWallet.end())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1863,
          "old_api": "NotifyTransactionChanged",
          "new_api": null,
          "old_text": "NotifyTransactionChanged(this, hashTx, CT_UPDATED)",
          "new_text": null,
          "old_line_content": "            NotifyTransactionChanged(this, hashTx, CT_UPDATED);",
          "new_line_content": "void CWallet::UpdatedTransaction(const uint256 &hashTx)",
          "content_same": false
        },
        {
          "line": 1358,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "wtxNew.GetHash()",
          "new_text": null,
          "old_line_content": "        mapRequestCount[wtxNew.GetHash()] = 0;",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": "AcceptToMemoryPool",
          "new_api": null,
          "old_text": "wtxNew.AcceptToMemoryPool(true, false)",
          "new_text": null,
          "old_line_content": "        if (!wtxNew.AcceptToMemoryPool(true, false))",
          "new_line_content": "                delete pwalletdb;",
          "content_same": false
        },
        {
          "line": 1874,
          "old_api": "erase",
          "new_api": null,
          "old_text": "setLockedCoins.erase(output)",
          "new_text": null,
          "old_line_content": "    setLockedCoins.erase(output);",
          "new_line_content": "void CWallet::LockCoin(COutPoint& output)",
          "content_same": false
        },
        {
          "line": 1364,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"CommitTransaction() : Error: Transaction not valid\")",
          "new_text": null,
          "old_line_content": "            printf(\"CommitTransaction() : Error: Transaction not valid\");",
          "new_line_content": "        // Track how many getdata requests our transaction gets",
          "content_same": false
        },
        {
          "line": 1367,
          "old_api": "RelayWalletTransaction",
          "new_api": null,
          "old_text": "wtxNew.RelayWalletTransaction()",
          "new_text": null,
          "old_line_content": "        wtxNew.RelayWalletTransaction();",
          "new_line_content": "        // Broadcast",
          "content_same": false
        },
        {
          "line": 1879,
          "old_api": "clear",
          "new_api": null,
          "old_text": "setLockedCoins.clear()",
          "new_text": null,
          "old_line_content": "    setLockedCoins.clear();",
          "new_line_content": "void CWallet::UnlockCoin(COutPoint& output)",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": "IsCoinBase",
          "new_api": null,
          "old_text": "tx.IsCoinBase()",
          "new_text": null,
          "old_line_content": "        if (!tx.IsCoinBase())",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 865,
          "old_api": "GetDepthInMainChain",
          "new_api": null,
          "old_text": "tx.GetDepthInMainChain()",
          "new_text": null,
          "old_line_content": "            if (tx.GetDepthInMainChain() == 0)",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 866,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "tx.GetHash()",
          "new_text": null,
          "old_line_content": "                RelayTransaction((CTransaction)tx, tx.GetHash());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1891,
          "old_api": "begin",
          "new_api": null,
          "old_text": "setLockedCoins.begin()",
          "new_text": null,
          "old_line_content": "    for (std::set<COutPoint>::iterator it = setLockedCoins.begin();",
          "new_line_content": "    COutPoint outpt(hash, n);",
          "content_same": false
        },
        {
          "line": 868,
          "old_api": "IsCoinBase",
          "new_api": null,
          "old_text": "IsCoinBase()",
          "new_text": null,
          "old_line_content": "    if (!IsCoinBase())",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1380,
          "old_api": "IsLocked",
          "new_api": null,
          "old_text": "IsLocked()",
          "new_text": null,
          "old_line_content": "    if (IsLocked())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 870,
          "old_api": "GetDepthInMainChain",
          "new_api": null,
          "old_text": "GetDepthInMainChain()",
          "new_text": null,
          "old_line_content": "        if (GetDepthInMainChain() == 0) {",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1382,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Error: Wallet locked, unable to create transaction!\")",
          "new_text": null,
          "old_line_content": "        string strError = _(\"Error: Wallet locked, unable to create transaction!\");",
          "new_line_content": "string CWallet::SendMoney(CScript scriptPubKey, int64 nValue, CWalletTx& wtxNew, bool fAskFee)",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": "c_str",
          "new_api": null,
          "old_text": "strError.c_str()",
          "new_text": null,
          "old_line_content": "        printf(\"SendMoney() : %s\", strError.c_str());",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1892,
          "old_api": "end",
          "new_api": null,
          "old_text": "setLockedCoins.end()",
          "new_text": null,
          "old_line_content": "         it != setLockedCoins.end(); it++) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1894,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "vOutpts.push_back(outpt)",
          "new_text": null,
          "old_line_content": "        vOutpts.push_back(outpt);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1391,
          "old_api": "c_str",
          "new_api": null,
          "old_text": "strError.c_str()",
          "new_text": null,
          "old_line_content": "        printf(\"SendMoney() : %s\\n\", strError.c_str());",
          "new_line_content": "        return strError;",
          "content_same": false
        },
        {
          "line": 883,
          "old_api": "GetTime",
          "new_api": null,
          "old_text": "GetTime()",
          "new_text": null,
          "old_line_content": "    if (GetTime() < nNextTime)",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1395,
          "old_api": "ThreadSafeAskFee",
          "new_api": null,
          "old_text": "uiInterface.ThreadSafeAskFee(nFeeRequired)",
          "new_text": null,
          "old_line_content": "    if (fAskFee && !uiInterface.ThreadSafeAskFee(nFeeRequired))",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 886,
          "old_api": "GetRand",
          "new_api": null,
          "old_text": "GetRand(30 * 60)",
          "new_text": null,
          "old_line_content": "    nNextTime = GetTime() + GetRand(30 * 60);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1399,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Error: The transaction was rejected! This might happen if some of the coins in your wallet were already spent, such as if you used a copy of wallet.dat and coins were spent in the copy but not marked as spent here.\")",
          "new_text": null,
          "old_line_content": "        return _(\"Error: The transaction was rejected! This might happen if some of the coins in your wallet were already spent, such as if you used a copy of wallet.dat and coins were spent in the copy but not marked as spent here.\");",
          "new_line_content": "        return strError;",
          "content_same": false
        },
        {
          "line": 894,
          "old_api": "GetTime",
          "new_api": null,
          "old_text": "GetTime()",
          "new_text": null,
          "old_line_content": "    nLastTime = GetTime();",
          "new_line_content": "    if (fFirst)",
          "content_same": false
        },
        {
          "line": 897,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"ResendWalletTransactions()\\n\")",
          "new_text": null,
          "old_line_content": "    printf(\"ResendWalletTransactions()\\n\");",
          "new_line_content": "    // Only do it if there's been a new block since last time",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Invalid amount\")",
          "new_text": null,
          "old_line_content": "        return _(\"Invalid amount\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 899,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_wallet)",
          "new_text": null,
          "old_line_content": "        LOCK(cs_wallet);",
          "new_line_content": "    if (nTimeBestReceived < nLastTime)",
          "content_same": false
        },
        {
          "line": 1411,
          "old_api": "GetBalance",
          "new_api": null,
          "old_text": "GetBalance()",
          "new_text": null,
          "old_line_content": "    if (nValue + nTransactionFee > GetBalance())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1412,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Insufficient funds\")",
          "new_text": null,
          "old_line_content": "        return _(\"Insufficient funds\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": "SetDestination",
          "new_api": null,
          "old_text": "scriptPubKey.SetDestination(address)",
          "new_text": null,
          "old_line_content": "    scriptPubKey.SetDestination(address);",
          "new_line_content": "    if (nValue <= 0)",
          "content_same": false
        },
        {
          "line": 908,
          "old_api": "make_pair",
          "new_api": null,
          "old_text": "make_pair(wtx.nTimeReceived, &wtx)",
          "new_text": null,
          "old_line_content": "                mapSorted.insert(make_pair(wtx.nTimeReceived, &wtx));",
          "new_line_content": "        multimap<unsigned int, CWalletTx*> mapSorted;",
          "content_same": false
        },
        {
          "line": 913,
          "old_api": "RelayWalletTransaction",
          "new_api": null,
          "old_text": "wtx.RelayWalletTransaction()",
          "new_text": null,
          "old_line_content": "            wtx.RelayWalletTransaction();",
          "new_line_content": "            // it should have gotten in already by now.",
          "content_same": false
        },
        {
          "line": 1429,
          "old_api": "LoadWallet",
          "new_api": null,
          "old_text": "CWalletDB(strWalletFile,\"cr+\").LoadWallet(this)",
          "new_text": null,
          "old_line_content": "    DBErrors nLoadWalletRet = CWalletDB(strWalletFile,\"cr+\").LoadWallet(this);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1432,
          "old_api": "CDB::Rewrite(strWalletFile, \"\\x04pool\")",
          "new_api": null,
          "old_text": "CDB::Rewrite(strWalletFile, \"\\x04pool\")",
          "new_text": null,
          "old_line_content": "        if (CDB::Rewrite(strWalletFile, \"\\x04pool\"))",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1434,
          "old_api": "clear",
          "new_api": null,
          "old_text": "setKeyPool.clear()",
          "new_text": null,
          "old_line_content": "            setKeyPool.clear();",
          "new_line_content": "        return DB_LOAD_OK;",
          "content_same": false
        },
        {
          "line": 1443,
          "old_api": "IsValid",
          "new_api": null,
          "old_text": "vchDefaultKey.IsValid()",
          "new_text": null,
          "old_line_content": "    fFirstRunRet = !vchDefaultKey.IsValid();",
          "new_line_content": "            // User will be prompted to unlock wallet the next operation",
          "content_same": false
        },
        {
          "line": 933,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_wallet)",
          "new_text": null,
          "old_line_content": "        LOCK(cs_wallet);",
          "new_line_content": "//",
          "content_same": false
        },
        {
          "line": 934,
          "old_api": "end",
          "new_api": null,
          "old_text": "mapWallet.end()",
          "new_text": null,
          "old_line_content": "        for (map<uint256, CWalletTx>::const_iterator it = mapWallet.begin(); it != mapWallet.end(); ++it)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 937,
          "old_api": "IsConfirmed",
          "new_api": null,
          "old_text": "pcoin->IsConfirmed()",
          "new_text": null,
          "old_line_content": "            if (pcoin->IsConfirmed())",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 938,
          "old_api": "GetAvailableCredit",
          "new_api": null,
          "old_text": "pcoin->GetAvailableCredit()",
          "new_text": null,
          "old_line_content": "                nTotal += pcoin->GetAvailableCredit();",
          "new_line_content": "    int64 nTotal = 0;",
          "content_same": false
        },
        {
          "line": 1451,
          "old_api": "find",
          "new_api": null,
          "old_text": "mapAddressBook.find(address)",
          "new_text": null,
          "old_line_content": "    std::map<CTxDestination, std::string>::iterator mi = mapAddressBook.find(address);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1453,
          "old_api": "end",
          "new_api": null,
          "old_text": "mapAddressBook.end()",
          "new_text": null,
          "old_line_content": "    NotifyAddressBookChanged(this, address, strName, ::IsMine(*this, address), (mi == mapAddressBook.end()) ? CT_NEW : CT_UPDATED);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1456,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "CBitcoinAddress(address).ToString()",
          "new_text": null,
          "old_line_content": "    return CWalletDB(strWalletFile).WriteName(CBitcoinAddress(address).ToString(), strName);",
          "new_line_content": "bool CWallet::SetAddressBookName(const CTxDestination& address, const string& strName)",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_wallet)",
          "new_text": null,
          "old_line_content": "        LOCK(cs_wallet);",
          "new_line_content": "    return nTotal;",
          "content_same": false
        },
        {
          "line": 950,
          "old_api": "end",
          "new_api": null,
          "old_text": "mapWallet.end()",
          "new_text": null,
          "old_line_content": "        for (map<uint256, CWalletTx>::const_iterator it = mapWallet.begin(); it != mapWallet.end(); ++it)",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1461,
          "old_api": "erase",
          "new_api": null,
          "old_text": "mapAddressBook.erase(address)",
          "new_text": null,
          "old_line_content": "    mapAddressBook.erase(address);",
          "new_line_content": "    if (!fFileBacked)",
          "content_same": false
        },
        {
          "line": 1462,
          "old_api": "::IsMine(*this, address)",
          "new_api": null,
          "old_text": "::IsMine(*this, address)",
          "new_text": null,
          "old_line_content": "    NotifyAddressBookChanged(this, address, \"\", ::IsMine(*this, address), CT_DELETED);",
          "new_line_content": "        return false;",
          "content_same": false
        },
        {
          "line": 953,
          "old_api": "IsConfirmed",
          "new_api": null,
          "old_text": "pcoin->IsConfirmed()",
          "new_text": null,
          "old_line_content": "            if (!IsFinalTx(*pcoin) || !pcoin->IsConfirmed())",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": "GetAvailableCredit",
          "new_api": null,
          "old_text": "pcoin->GetAvailableCredit()",
          "new_text": null,
          "old_line_content": "                nTotal += pcoin->GetAvailableCredit();",
          "new_line_content": "    int64 nTotal = 0;",
          "content_same": false
        },
        {
          "line": 1465,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "CBitcoinAddress(address).ToString()",
          "new_text": null,
          "old_line_content": "    return CWalletDB(strWalletFile).EraseName(CBitcoinAddress(address).ToString());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1473,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "block.vtx[0].GetHash()",
          "new_text": null,
          "old_line_content": "        if (mapWallet.count(block.vtx[0].GetHash()))",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1475,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "block.vtx[0].GetHash()",
          "new_text": null,
          "old_line_content": "            CWalletTx& wtx = mapWallet[block.vtx[0].GetHash()];",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 964,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_wallet)",
          "new_text": null,
          "old_line_content": "        LOCK(cs_wallet);",
          "new_line_content": "    return nTotal;",
          "content_same": false
        },
        {
          "line": 965,
          "old_api": "end",
          "new_api": null,
          "old_text": "mapWallet.end()",
          "new_text": null,
          "old_line_content": "        for (map<uint256, CWalletTx>::const_iterator it = mapWallet.begin(); it != mapWallet.end(); ++it)",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1476,
          "old_api": "GetCredit",
          "new_api": null,
          "old_text": "wtx.GetCredit()",
          "new_text": null,
          "old_line_content": "            printf(\"    mine:  %d  %d  %\"PRI64d\"\", wtx.GetDepthInMainChain(), wtx.GetBlocksToMaturity(), wtx.GetCredit());",
          "new_line_content": "void CWallet::PrintWallet(const CBlock& block)",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": "GetImmatureCredit",
          "new_api": null,
          "old_text": "pcoin->GetImmatureCredit()",
          "new_text": null,
          "old_line_content": "            nTotal += pcoin->GetImmatureCredit();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1485,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_wallet)",
          "new_text": null,
          "old_line_content": "        LOCK(cs_wallet);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1487,
          "old_api": "end",
          "new_api": null,
          "old_text": "mapWallet.end()",
          "new_text": null,
          "old_line_content": "        if (mi != mapWallet.end())",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 977,
          "old_api": "clear",
          "new_api": null,
          "old_text": "vCoins.clear()",
          "new_text": null,
          "old_line_content": "    vCoins.clear();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 980,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_wallet)",
          "new_text": null,
          "old_line_content": "        LOCK(cs_wallet);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 981,
          "old_api": "end",
          "new_api": null,
          "old_text": "mapWallet.end()",
          "new_text": null,
          "old_line_content": "        for (map<uint256, CWalletTx>::const_iterator it = mapWallet.begin(); it != mapWallet.end(); ++it)",
          "new_line_content": "// populate vCoins with vector of spendable COutputs",
          "content_same": false
        },
        {
          "line": 985,
          "old_api": "IsFinalTx",
          "new_api": null,
          "old_text": "IsFinalTx(*pcoin)",
          "new_text": null,
          "old_line_content": "            if (!IsFinalTx(*pcoin))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1500,
          "old_api": "WriteDefaultKey",
          "new_api": null,
          "old_text": "CWalletDB(strWalletFile).WriteDefaultKey(vchPubKey)",
          "new_text": null,
          "old_line_content": "        if (!CWalletDB(strWalletFile).WriteDefaultKey(vchPubKey))",
          "new_line_content": "    return false;",
          "content_same": false
        },
        {
          "line": 991,
          "old_api": "GetBlocksToMaturity",
          "new_api": null,
          "old_text": "pcoin->GetBlocksToMaturity()",
          "new_text": null,
          "old_line_content": "            if (pcoin->IsCoinBase() && pcoin->GetBlocksToMaturity() > 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 994,
          "old_api": "size",
          "new_api": null,
          "old_text": "pcoin->vout.size()",
          "new_text": null,
          "old_line_content": "            for (unsigned int i = 0; i < pcoin->vout.size(); i++) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 996,
          "old_api": "IsLockedCoin",
          "new_api": null,
          "old_text": "IsLockedCoin((*it).first, i)",
          "new_text": null,
          "old_line_content": "                    !IsLockedCoin((*it).first, i) && pcoin->vout[i].nValue > 0)",
          "new_line_content": "                continue;",
          "content_same": false
        },
        {
          "line": 997,
          "old_api": "GetDepthInMainChain",
          "new_api": null,
          "old_text": "pcoin->GetDepthInMainChain()",
          "new_text": null,
          "old_line_content": "                    vCoins.push_back(COutput(pcoin, i, pcoin->GetDepthInMainChain()));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1008,
          "old_api": "size",
          "new_api": null,
          "old_text": "vValue.size()",
          "new_text": null,
          "old_line_content": "    vfBest.assign(vValue.size(), true);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1522,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_wallet)",
          "new_text": null,
          "old_line_content": "        LOCK(cs_wallet);",
          "new_line_content": "//",
          "content_same": false
        },
        {
          "line": 1011,
          "old_api": "seed_insecure_rand",
          "new_api": null,
          "old_text": "seed_insecure_rand()",
          "new_text": null,
          "old_line_content": "    seed_insecure_rand();",
          "new_line_content": "                                  vector<char>& vfBest, int64& nBest, int iterations = 1000)",
          "content_same": false
        },
        {
          "line": 1525,
          "old_api": "ErasePool",
          "new_api": null,
          "old_text": "walletdb.ErasePool(nIndex)",
          "new_text": null,
          "old_line_content": "            walletdb.ErasePool(nIndex);",
          "new_line_content": "//",
          "content_same": false
        },
        {
          "line": 1526,
          "old_api": "clear",
          "new_api": null,
          "old_text": "setKeyPool.clear()",
          "new_text": null,
          "old_line_content": "        setKeyPool.clear();",
          "new_line_content": "bool CWallet::NewKeyPool()",
          "content_same": false
        },
        {
          "line": 1528,
          "old_api": "IsLocked",
          "new_api": null,
          "old_text": "IsLocked()",
          "new_text": null,
          "old_line_content": "        if (IsLocked())",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1531,
          "old_api": "GetArg",
          "new_api": null,
          "old_text": "GetArg(\"-keypool\", 100)",
          "new_text": null,
          "old_line_content": "        int64 nKeys = max(GetArg(\"-keypool\", 100), (int64)0);",
          "new_line_content": "        BOOST_FOREACH(int64 nIndex, setKeyPool)",
          "content_same": false
        },
        {
          "line": 1020,
          "old_api": "size",
          "new_api": null,
          "old_text": "vValue.size()",
          "new_text": null,
          "old_line_content": "            for (unsigned int i = 0; i < vValue.size(); i++)",
          "new_line_content": "    for (int nRep = 0; nRep < iterations && nBest != nTargetValue; nRep++)",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 50,
      "total_additions": 218,
      "total_deletions": 217,
      "total_api_changes": 485
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 7,
        "api_related_lines": 485,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          793,
          798,
          799
        ]
      }
    },
    "api_calls_before": 589,
    "api_calls_after": 590,
    "diff_info": {
      "added_lines": 7,
      "removed_lines": 0,
      "total_diff_lines": 19
    }
  }
}