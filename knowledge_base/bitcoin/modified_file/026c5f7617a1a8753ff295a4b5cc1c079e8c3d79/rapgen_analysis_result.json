{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/026c5f7617a1a8753ff295a4b5cc1c079e8c3d79",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/026c5f7617a1a8753ff295a4b5cc1c079e8c3d79/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/026c5f7617a1a8753ff295a4b5cc1c079e8c3d79/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/026c5f7617a1a8753ff295a4b5cc1c079e8c3d79/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 163,
          "old_api": "fopen",
          "new_api": "GetTime",
          "old_text": "fopen(pszFile, \"a\")",
          "new_text": "GetTime()",
          "old_line_content": "        FILE* fileout = fopen(pszFile, \"a\");",
          "new_line_content": "        if (GetTime()-nOpenTime > 10 * 60)",
          "content_same": false
        },
        {
          "line": 169,
          "old_api": "va_start",
          "new_api": "strlcat",
          "old_text": "va_start(arg_ptr, pszFormat)",
          "new_text": "strlcat(pszFile, \"/debug.log\", sizeof(pszFile))",
          "old_line_content": "            va_start(arg_ptr, pszFormat);",
          "new_line_content": "            strlcat(pszFile, \"/debug.log\", sizeof(pszFile));",
          "content_same": false
        },
        {
          "line": 170,
          "old_api": "vfprintf",
          "new_api": "fopen",
          "old_text": "vfprintf(fileout, pszFormat, arg_ptr)",
          "new_text": "fopen(pszFile, \"a\")",
          "old_line_content": "            ret = vfprintf(fileout, pszFormat, arg_ptr);",
          "new_line_content": "            fileout = fopen(pszFile, \"a\");",
          "content_same": false
        },
        {
          "line": 171,
          "old_api": "va_end",
          "new_api": "GetTime",
          "old_text": "va_end(arg_ptr)",
          "new_text": "GetTime()",
          "old_line_content": "            va_end(arg_ptr);",
          "new_line_content": "            nOpenTime = GetTime();",
          "content_same": false
        },
        {
          "line": 299,
          "old_api": "substr",
          "new_api": "empty",
          "old_text": "str.substr(i1)",
          "new_text": "str.empty()",
          "old_line_content": "            v.push_back(str.substr(i1));",
          "new_line_content": "    if (str.empty())",
          "content_same": false
        },
        {
          "line": 311,
          "old_api": "strprintf",
          "new_api": "substr",
          "old_text": "strprintf(\"%\"PRI64d\".%02\"PRI64d, (n > 0 ? n : -n)/100, (n > 0 ? n : -n)%100)",
          "new_text": "str.substr(i1, i2-i1)",
          "old_line_content": "    string str = strprintf(\"%\"PRI64d\".%02\"PRI64d, (n > 0 ? n : -n)/100, (n > 0 ? n : -n)%100);",
          "new_line_content": "        v.push_back(str.substr(i1, i2-i1));",
          "content_same": false
        },
        {
          "line": 325,
          "old_api": "c_str",
          "new_api": "insert",
          "old_text": "str.c_str()",
          "new_text": "str.insert((unsigned int)0, 1, '-')",
          "old_line_content": "    return ParseMoney(str.c_str(), nRet);",
          "new_line_content": "        str.insert((unsigned int)0, 1, '-');",
          "content_same": false
        },
        {
          "line": 342,
          "old_api": "isdigit",
          "new_api": "isspace",
          "old_text": "isdigit(*p)",
          "new_text": "isspace(*p)",
          "old_line_content": "            if (isdigit(*p))",
          "new_line_content": "    while (isspace(*p))",
          "content_same": false
        },
        {
          "line": 354,
          "old_api": "end",
          "new_api": "isdigit",
          "old_text": "strWhole.end()",
          "new_text": "isdigit(*p)",
          "old_line_content": "        strWhole.insert(strWhole.end(), *p);",
          "new_line_content": "                if (isdigit(*p))",
          "content_same": false
        },
        {
          "line": 359,
          "old_api": "size",
          "new_api": "isspace",
          "old_text": "strWhole.size()",
          "new_text": "isspace(*p)",
          "old_line_content": "    if (strWhole.size() > 14)",
          "new_line_content": "        if (isspace(*p))",
          "content_same": false
        },
        {
          "line": 363,
          "old_api": "atoi64",
          "new_api": "end",
          "old_text": "atoi64(strWhole)",
          "new_text": "strWhole.end()",
          "old_line_content": "    int64 nWhole = atoi64(strWhole);",
          "new_line_content": "        strWhole.insert(strWhole.end(), *p);",
          "content_same": false
        },
        {
          "line": 431,
          "old_api": "strchr",
          "new_api": "clear",
          "old_text": "strchr(psz, '=')",
          "new_text": "mapArgs.clear()",
          "old_line_content": "            pszValue = strchr(psz, '=');",
          "new_line_content": "    mapArgs.clear();",
          "content_same": false
        },
        {
          "line": 465,
          "old_api": "utf8_str",
          "new_api": "find",
          "old_text": "strTranslated.utf8_str()",
          "new_text": "mapCache.find(pszEnglish)",
          "old_line_content": "        if (strcmp(pszEnglish, strTranslated.utf8_str()) == 0)",
          "new_line_content": "        map<string, char*>::iterator mi = mapCache.find(pszEnglish);",
          "content_same": false
        },
        {
          "line": 470,
          "old_api": "utf8_str",
          "new_api": "wxString",
          "old_text": "strTranslated.utf8_str()",
          "new_text": "wxString(pszEnglish, wxConvUTF8)",
          "old_line_content": "        char* pszCached = new char[strlen(strTranslated.utf8_str())+1];",
          "new_line_content": "        wxString strTranslated = wxGetTranslation(wxString(pszEnglish, wxConvUTF8));",
          "content_same": false
        },
        {
          "line": 538,
          "old_api": "FormatException",
          "new_api": "what",
          "old_text": "FormatException(pszMessage, pex, pszThread)",
          "new_text": "pex->what()",
          "old_line_content": "    FormatException(pszMessage, pex, pszThread);",
          "new_line_content": "            \"EXCEPTION: %s       \\n%s       \\n%s in %s       \\n\", typeid(*pex).name(), pex->what(), pszModule, pszThread);",
          "content_same": false
        },
        {
          "line": 547,
          "old_api": "fprintf",
          "new_api": "FormatException",
          "old_text": "fprintf(stderr, \"\\n\\n************************\\n%s\\n\", pszMessage)",
          "new_text": "FormatException(pszMessage, pex, pszThread)",
          "old_line_content": "    fprintf(stderr, \"\\n\\n************************\\n%s\\n\", pszMessage);",
          "new_line_content": "    FormatException(pszMessage, pex, pszThread);",
          "content_same": false
        },
        {
          "line": 572,
          "old_api": "fprintf",
          "new_api": "ThreadSafeMessageBox",
          "old_text": "fprintf(stderr, \"\\n\\n************************\\n%s\\n\", pszMessage)",
          "new_text": "ThreadSafeMessageBox(strMessage, \"Bitcoin\", wxOK | wxICON_EXCLAMATION)",
          "old_line_content": "    fprintf(stderr, \"\\n\\n************************\\n%s\\n\", pszMessage);",
          "new_line_content": "    ThreadSafeMessageBox(strMessage, \"Bitcoin\", wxOK | wxICON_EXCLAMATION);",
          "content_same": false
        },
        {
          "line": 610,
          "old_api": "getenv",
          "new_api": "*pSHGetSpecialFolderPath)(NULL, pszPath, nFolder, fCreate)",
          "old_text": "getenv(\"USERPROFILE\")",
          "new_text": "*pSHGetSpecialFolderPath)(NULL, pszPath, nFolder, fCreate)",
          "old_line_content": "            strcpy(pszPath, getenv(\"USERPROFILE\"));",
          "new_line_content": "            (*pSHGetSpecialFolderPath)(NULL, pszPath, nFolder, fCreate);",
          "content_same": false
        },
        {
          "line": 611,
          "old_api": "strcat",
          "new_api": "FreeModule",
          "old_text": "strcat(pszPath, \"\\\\Start Menu\\\\Programs\\\\Startup\")",
          "new_text": "FreeModule(hShell32)",
          "old_line_content": "            strcat(pszPath, \"\\\\Start Menu\\\\Programs\\\\Startup\");",
          "new_line_content": "        FreeModule(hShell32);",
          "content_same": false
        },
        {
          "line": 641,
          "old_api": "c_str",
          "new_api": "getenv",
          "old_text": "strHome.c_str()",
          "new_text": "getenv(\"HOME\")",
          "old_line_content": "    filesystem::create_directory(strHome.c_str());",
          "new_line_content": "    char* pszHome = getenv(\"HOME\");",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": "c_str",
          "new_api": "strlcpy",
          "old_text": "GetDefaultDataDir().c_str()",
          "new_text": "strlcpy(pszDir, pszSetDataDir, MAX_PATH)",
          "old_line_content": "            strlcpy(pszCachedDir, GetDefaultDataDir().c_str(), sizeof(pszCachedDir));",
          "new_line_content": "        strlcpy(pszDir, pszSetDataDir, MAX_PATH);",
          "content_same": false
        },
        {
          "line": 674,
          "old_api": "strcpy",
          "new_api": "c_str",
          "old_text": "strcpy(p, \"testnet\")",
          "new_text": "GetDefaultDataDir().c_str()",
          "old_line_content": "        strcpy(p, \"testnet\");",
          "new_line_content": "            strlcpy(pszCachedDir, GetDefaultDataDir().c_str(), sizeof(pszCachedDir));",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": "string",
          "new_api": "good",
          "old_text": "string(\"-\")",
          "new_text": "streamConfig.good()",
          "old_line_content": "        string strKey = string(\"-\") + it->string_key;",
          "new_line_content": "    if (!streamConfig.good())",
          "content_same": false
        },
        {
          "line": 726,
          "old_api": "ftell",
          "new_api": "string",
          "old_text": "ftell(file)",
          "new_text": "string(\"-\")",
          "old_line_content": "    int nSavePos = ftell(file);",
          "new_line_content": "        string strKey = string(\"-\") + it->string_key;",
          "content_same": false
        },
        {
          "line": 729,
          "old_api": "ftell",
          "new_api": "push_back",
          "old_text": "ftell(file)",
          "new_text": "mapMultiSettingsRet[strKey].push_back(it->value[0])",
          "old_line_content": "        nFilesize = ftell(file);",
          "new_line_content": "        mapMultiSettingsRet[strKey].push_back(it->value[0]);",
          "content_same": false
        },
        {
          "line": 737,
          "old_api": "GetDataDir",
          "new_api": "fseek",
          "old_text": "GetDataDir()",
          "new_text": "fseek(file, 0, SEEK_END)",
          "old_line_content": "    string strFile = GetDataDir() + \"/debug.log\";",
          "new_line_content": "    if (fseek(file, 0, SEEK_END) == 0)",
          "content_same": false
        },
        {
          "line": 738,
          "old_api": "c_str",
          "new_api": "ftell",
          "old_text": "strFile.c_str()",
          "new_text": "ftell(file)",
          "old_line_content": "    FILE* file = fopen(strFile.c_str(), \"r\");",
          "new_line_content": "        nFilesize = ftell(file);",
          "content_same": false
        },
        {
          "line": 739,
          "old_api": "GetFilesize",
          "new_api": "fseek",
          "old_text": "GetFilesize(file)",
          "new_text": "fseek(file, nSavePos, SEEK_SET)",
          "old_line_content": "    if (file && GetFilesize(file) > 10 * 1000000)",
          "new_line_content": "    fseek(file, nSavePos, SEEK_SET);",
          "content_same": false
        },
        {
          "line": 746,
          "old_api": "c_str",
          "new_api": "GetDataDir",
          "old_text": "strFile.c_str()",
          "new_text": "GetDataDir()",
          "old_line_content": "        if (file = fopen(strFile.c_str(), \"w\"))",
          "new_line_content": "    string strFile = GetDataDir() + \"/debug.log\";",
          "content_same": false
        },
        {
          "line": 748,
          "old_api": "fwrite",
          "new_api": "GetFilesize",
          "old_text": "fwrite(pch, 1, nBytes, file)",
          "new_text": "GetFilesize(file)",
          "old_line_content": "            fwrite(pch, 1, nBytes, file);",
          "new_line_content": "    if (file && GetFilesize(file) > 10 * 1000000)",
          "content_same": false
        },
        {
          "line": 786,
          "old_api": "insert",
          "new_api": "GetTime",
          "old_text": "setKnown.insert(ip)",
          "new_text": "GetTime()",
          "old_line_content": "    if (!setKnown.insert(ip).second)",
          "new_line_content": "    return GetTime() + nTimeOffset;",
          "content_same": false
        },
        {
          "line": 791,
          "old_api": "empty",
          "new_api": "GetTime",
          "old_text": "vTimeOffsets.empty()",
          "new_text": "GetTime()",
          "old_line_content": "    if (vTimeOffsets.empty())",
          "new_line_content": "    int64 nOffsetSample = nTime - GetTime();",
          "content_same": false
        },
        {
          "line": 795,
          "old_api": "size",
          "new_api": "insert",
          "old_text": "vTimeOffsets.size()",
          "new_text": "setKnown.insert(ip)",
          "old_line_content": "    if (vTimeOffsets.size() >= 5 && vTimeOffsets.size() % 2 == 1)",
          "new_line_content": "    if (!setKnown.insert(ip).second)",
          "content_same": false
        },
        {
          "line": 800,
          "old_api": "abs64",
          "new_api": "empty",
          "old_text": "abs64(nMedian)",
          "new_text": "vTimeOffsets.empty()",
          "old_line_content": "        if (abs64(nMedian) < 70 * 60)",
          "new_line_content": "    if (vTimeOffsets.empty())",
          "content_same": false
        },
        {
          "line": 819,
          "old_api": "string",
          "new_api": "abs64",
          "old_text": "string(\"Bitcoin\")",
          "new_text": "abs64(nOffset)",
          "old_line_content": "                boost::thread(boost::bind(ThreadSafeMessageBox, strMessage+\" \", string(\"Bitcoin\"), wxOK | wxICON_EXCLAMATION, (wxWindow*)NULL, -1, -1));",
          "new_line_content": "                if (nOffset != 0 && abs64(nOffset) < 5 * 60)",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 517,
          "old_api": null,
          "new_api": "c_str",
          "old_text": null,
          "new_text": "mask.c_str()",
          "old_line_content": "",
          "new_line_content": "    return WildcardMatch(str.c_str(), mask.c_str());",
          "content_same": false
        },
        {
          "line": 532,
          "old_api": null,
          "new_api": "GetModuleFileNameA",
          "old_text": null,
          "new_text": "GetModuleFileNameA(NULL, pszModule, sizeof(pszModule))",
          "old_line_content": "            \"UNKNOWN EXCEPTION       \\n%s in %s       \\n\", pszModule, pszThread);",
          "new_line_content": "    GetModuleFileNameA(NULL, pszModule, sizeof(pszModule));",
          "content_same": false
        },
        {
          "line": 537,
          "old_api": null,
          "new_api": "name",
          "old_text": null,
          "new_text": "snprintf(pszMessage, 1000,\n            \"EXCEPTION: %s       \\n%s       \\n%s in %s       \\n\", typeid(*pex).name(), pex->what(), pszModule, pszThread)",
          "old_line_content": "    char pszMessage[10000];",
          "new_line_content": "        snprintf(pszMessage, 1000,",
          "content_same": false
        },
        {
          "line": 540,
          "old_api": null,
          "new_api": "snprintf",
          "old_text": null,
          "new_text": "snprintf(pszMessage, 1000,\n            \"UNKNOWN EXCEPTION       \\n%s in %s       \\n\", pszModule, pszThread)",
          "old_line_content": "}",
          "new_line_content": "        snprintf(pszMessage, 1000,",
          "content_same": false
        },
        {
          "line": 548,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"\\n%s\", pszMessage)",
          "old_line_content": "    strMiscWarning = pszMessage;",
          "new_line_content": "    printf(\"\\n%s\", pszMessage);",
          "content_same": false
        },
        {
          "line": 554,
          "old_api": null,
          "new_api": "FormatException",
          "old_text": null,
          "new_text": "FormatException(pszMessage, pex, pszThread)",
          "old_line_content": "}",
          "new_line_content": "    FormatException(pszMessage, pex, pszThread);",
          "content_same": false
        },
        {
          "line": 555,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"\\n\\n************************\\n%s\\n\", pszMessage)",
          "old_line_content": "",
          "new_line_content": "    printf(\"\\n\\n************************\\n%s\\n\", pszMessage);",
          "content_same": false
        },
        {
          "line": 556,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"\\n\\n************************\\n%s\\n\", pszMessage)",
          "old_line_content": "void ThreadOneMessageBox(string strMessage)",
          "new_line_content": "    fprintf(stderr, \"\\n\\n************************\\n%s\\n\", pszMessage);",
          "content_same": false
        },
        {
          "line": 560,
          "old_api": null,
          "new_api": "MyMessageBox",
          "old_text": null,
          "new_text": "MyMessageBox(pszMessage, \"Bitcoin\", wxOK | wxICON_ERROR)",
          "old_line_content": "    if (fMessageBoxOpen)",
          "new_line_content": "        MyMessageBox(pszMessage, \"Bitcoin\", wxOK | wxICON_ERROR);",
          "content_same": false
        },
        {
          "line": 579,
          "old_api": null,
          "new_api": "FormatException",
          "old_text": null,
          "new_text": "FormatException(pszMessage, pex, pszThread)",
          "old_line_content": "",
          "new_line_content": "    FormatException(pszMessage, pex, pszThread);",
          "content_same": false
        },
        {
          "line": 580,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"\\n\\n************************\\n%s\\n\", pszMessage)",
          "old_line_content": "",
          "new_line_content": "    printf(\"\\n\\n************************\\n%s\\n\", pszMessage);",
          "content_same": false
        },
        {
          "line": 581,
          "old_api": null,
          "new_api": "fprintf",
          "old_text": null,
          "new_text": "fprintf(stderr, \"\\n\\n************************\\n%s\\n\", pszMessage)",
          "old_line_content": "",
          "new_line_content": "    fprintf(stderr, \"\\n\\n************************\\n%s\\n\", pszMessage);",
          "content_same": false
        },
        {
          "line": 585,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": "string(pszMessage)",
          "old_line_content": "",
          "new_line_content": "        boost::thread(boost::bind(ThreadOneMessageBox, string(pszMessage)));",
          "content_same": false
        },
        {
          "line": 604,
          "old_api": null,
          "new_api": "LoadLibraryA",
          "old_text": null,
          "new_text": "LoadLibraryA(\"shell32.dll\")",
          "old_line_content": "",
          "new_line_content": "    HMODULE hShell32 = LoadLibraryA(\"shell32.dll\");",
          "content_same": false
        },
        {
          "line": 608,
          "old_api": null,
          "new_api": "GetProcAddress",
          "old_text": null,
          "new_text": "GetProcAddress(hShell32, \"SHGetSpecialFolderPathA\")",
          "old_line_content": "        if (nFolder == CSIDL_STARTUP)",
          "new_line_content": "            (PSHGETSPECIALFOLDERPATHA)GetProcAddress(hShell32, \"SHGetSpecialFolderPathA\");",
          "content_same": false
        },
        {
          "line": 619,
          "old_api": null,
          "new_api": "getenv",
          "old_text": null,
          "new_text": "getenv(\"USERPROFILE\")",
          "old_line_content": "    return pszPath;",
          "new_line_content": "            strcpy(pszPath, getenv(\"USERPROFILE\"));",
          "content_same": false
        },
        {
          "line": 620,
          "old_api": null,
          "new_api": "strcat",
          "old_text": null,
          "new_text": "strcat(pszPath, \"\\\\Start Menu\\\\Programs\\\\Startup\")",
          "old_line_content": "}",
          "new_line_content": "            strcat(pszPath, \"\\\\Start Menu\\\\Programs\\\\Startup\");",
          "content_same": false
        },
        {
          "line": 624,
          "old_api": null,
          "new_api": "getenv",
          "old_text": null,
          "new_text": "getenv(\"APPDATA\")",
          "old_line_content": "{",
          "new_line_content": "            strcpy(pszPath, getenv(\"APPDATA\"));",
          "content_same": false
        },
        {
          "line": 639,
          "old_api": null,
          "new_api": "MyGetSpecialFolderPath",
          "old_text": null,
          "new_text": "MyGetSpecialFolderPath(CSIDL_APPDATA, true)",
          "old_line_content": "    // Mac",
          "new_line_content": "    return MyGetSpecialFolderPath(CSIDL_APPDATA, true) + \"\\\\Bitcoin\";",
          "content_same": false
        },
        {
          "line": 642,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(pszHome)",
          "old_line_content": "    return strHome + \"Bitcoin\";",
          "new_line_content": "    if (pszHome == NULL || strlen(pszHome) == 0)",
          "content_same": false
        },
        {
          "line": 645,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "strHome.size()",
          "old_line_content": "    return strHome + \".bitcoin\";",
          "new_line_content": "    if (strHome[strHome.size()-1] != '/')",
          "content_same": false
        },
        {
          "line": 650,
          "old_api": null,
          "new_api": "c_str",
          "old_text": null,
          "new_text": "strHome.c_str()",
          "old_line_content": "void GetDataDir(char* pszDir)",
          "new_line_content": "    filesystem::create_directory(strHome.c_str());",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": null,
          "new_api": "strlcpy",
          "old_text": null,
          "new_text": "strlcpy(pszDir, pszCachedDir, MAX_PATH)",
          "old_line_content": "        nVariation += 2;",
          "new_line_content": "        strlcpy(pszDir, pszCachedDir, MAX_PATH);",
          "content_same": false
        },
        {
          "line": 166,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(fileout)",
          "old_line_content": "            //// Debug print useful for profiling",
          "new_line_content": "                fclose(fileout);",
          "content_same": false
        },
        {
          "line": 168,
          "old_api": null,
          "new_api": "GetDataDir",
          "old_text": null,
          "new_text": "GetDataDir(pszFile)",
          "old_line_content": "            va_list arg_ptr;",
          "new_line_content": "            GetDataDir(pszFile);",
          "content_same": false
        },
        {
          "line": 680,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(pszDir)",
          "old_line_content": "        pfMkdir[nVariation] = true;",
          "new_line_content": "        char* p = pszDir + strlen(pszDir);",
          "content_same": false
        },
        {
          "line": 683,
          "old_api": null,
          "new_api": "strcpy",
          "old_text": null,
          "new_text": "strcpy(p, \"testnet\")",
          "old_line_content": "}",
          "new_line_content": "        strcpy(p, \"testnet\");",
          "content_same": false
        },
        {
          "line": 178,
          "old_api": null,
          "new_api": "va_start",
          "old_text": null,
          "new_text": "va_start(arg_ptr, pszFormat)",
          "old_line_content": "    {",
          "new_line_content": "            va_start(arg_ptr, pszFormat);",
          "content_same": false
        },
        {
          "line": 179,
          "old_api": null,
          "new_api": "vfprintf",
          "old_text": null,
          "new_text": "vfprintf(fileout, pszFormat, arg_ptr)",
          "old_line_content": "        // accumulate a line at a time",
          "new_line_content": "            ret = vfprintf(fileout, pszFormat, arg_ptr);",
          "content_same": false
        },
        {
          "line": 180,
          "old_api": null,
          "new_api": "va_end",
          "old_text": null,
          "new_text": "va_end(arg_ptr)",
          "old_line_content": "        static CCriticalSection cs_OutputDebugStringF;",
          "new_line_content": "            va_end(arg_ptr);",
          "content_same": false
        },
        {
          "line": 181,
          "old_api": null,
          "new_api": "fflush",
          "old_text": null,
          "new_text": "fflush(fileout)",
          "old_line_content": "        CRITICAL_BLOCK(cs_OutputDebugStringF)",
          "new_line_content": "            fflush(fileout);",
          "content_same": false
        },
        {
          "line": 690,
          "old_api": null,
          "new_api": "filesystem::create_directory(pszDir)",
          "old_text": null,
          "new_text": "filesystem::create_directory(pszDir)",
          "old_line_content": "}",
          "new_line_content": "        filesystem::create_directory(pszDir);",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": null,
          "new_api": "GetArg",
          "old_text": null,
          "new_text": "GetArg(\"-conf\", \"bitcoin.conf\")",
          "old_line_content": "    namespace fs = boost::filesystem;",
          "new_line_content": "    fs::path pathConfig(GetArg(\"-conf\", \"bitcoin.conf\"));",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": null,
          "new_api": "is_complete",
          "old_text": null,
          "new_text": "pathConfig.is_complete()",
          "old_line_content": "    namespace pod = boost::program_options::detail;",
          "new_line_content": "    if (!pathConfig.is_complete())",
          "content_same": false
        },
        {
          "line": 706,
          "old_api": null,
          "new_api": "GetDataDir",
          "old_text": null,
          "new_text": "GetDataDir()",
          "old_line_content": "",
          "new_line_content": "        pathConfig = fs::path(GetDataDir()) / pathConfig;",
          "content_same": false
        },
        {
          "line": 707,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": "pathConfig.string()",
          "old_line_content": "    fs::ifstream streamConfig(GetConfigFile());",
          "new_line_content": "    return pathConfig.string();",
          "content_same": false
        },
        {
          "line": 197,
          "old_api": null,
          "new_api": "va_start",
          "old_text": null,
          "new_text": "va_start(arg_ptr, pszFormat)",
          "old_line_content": "            else",
          "new_line_content": "            va_start(arg_ptr, pszFormat);",
          "content_same": false
        },
        {
          "line": 198,
          "old_api": null,
          "new_api": "END",
          "old_text": null,
          "new_text": "END(pszBuffer)",
          "old_line_content": "                pend += ret;",
          "new_line_content": "            int limit = END(pszBuffer) - pend - 2;",
          "content_same": false
        },
        {
          "line": 199,
          "old_api": null,
          "new_api": "_vsnprintf",
          "old_text": null,
          "new_text": "_vsnprintf(pend, limit, pszFormat, arg_ptr)",
          "old_line_content": "            *pend = '\\0';",
          "new_line_content": "            int ret = _vsnprintf(pend, limit, pszFormat, arg_ptr);",
          "content_same": false
        },
        {
          "line": 200,
          "old_api": null,
          "new_api": "va_end",
          "old_text": null,
          "new_text": "va_end(arg_ptr)",
          "old_line_content": "            char* p1 = pszBuffer;",
          "new_line_content": "            va_end(arg_ptr);",
          "content_same": false
        },
        {
          "line": 203,
          "old_api": null,
          "new_api": "END",
          "old_text": null,
          "new_text": "END(pszBuffer)",
          "old_line_content": "            {",
          "new_line_content": "                pend = END(pszBuffer) - 2;",
          "content_same": false
        },
        {
          "line": 721,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "setOptions.insert(\"*\")",
          "old_line_content": "    }",
          "new_line_content": "    setOptions.insert(\"*\");",
          "content_same": false
        },
        {
          "line": 211,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(p1, '\\n')",
          "old_line_content": "            if (p1 != pszBuffer)",
          "new_line_content": "            while (p2 = strchr(p1, '\\n'))",
          "content_same": false
        },
        {
          "line": 727,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "mapSettingsRet.count(strKey)",
          "old_line_content": "    int nFilesize = -1;",
          "new_line_content": "        if (mapSettingsRet.count(strKey) == 0)",
          "content_same": false
        },
        {
          "line": 216,
          "old_api": null,
          "new_api": "OutputDebugStringA",
          "old_text": null,
          "new_text": "OutputDebugStringA(p1)",
          "old_line_content": "#endif",
          "new_line_content": "                OutputDebugStringA(p1);",
          "content_same": false
        },
        {
          "line": 221,
          "old_api": null,
          "new_api": "memmove",
          "old_text": null,
          "new_text": "memmove(pszBuffer, p1, pend - p1 + 1)",
          "old_line_content": "// Safer snprintf",
          "new_line_content": "                memmove(pszBuffer, p1, pend - p1 + 1);",
          "content_same": false
        },
        {
          "line": 735,
          "old_api": null,
          "new_api": "ftell",
          "old_text": null,
          "new_text": "ftell(file)",
          "old_line_content": "{",
          "new_line_content": "    int nSavePos = ftell(file);",
          "content_same": false
        },
        {
          "line": 747,
          "old_api": null,
          "new_api": "c_str",
          "old_text": null,
          "new_text": "strFile.c_str()",
          "old_line_content": "        {",
          "new_line_content": "    FILE* file = fopen(strFile.c_str(), \"r\");",
          "content_same": false
        },
        {
          "line": 239,
          "old_api": null,
          "new_api": "va_start",
          "old_text": null,
          "new_text": "va_start(arg_ptr, format)",
          "old_line_content": "}",
          "new_line_content": "    va_start(arg_ptr, format);",
          "content_same": false
        },
        {
          "line": 240,
          "old_api": null,
          "new_api": "_vsnprintf",
          "old_text": null,
          "new_text": "_vsnprintf(buffer, limit, format, arg_ptr)",
          "old_line_content": "",
          "new_line_content": "    int ret = _vsnprintf(buffer, limit, format, arg_ptr);",
          "content_same": false
        },
        {
          "line": 241,
          "old_api": null,
          "new_api": "va_end",
          "old_text": null,
          "new_text": "va_end(arg_ptr)",
          "old_line_content": "",
          "new_line_content": "    va_end(arg_ptr);",
          "content_same": false
        },
        {
          "line": 752,
          "old_api": null,
          "new_api": "fseek",
          "old_text": null,
          "new_text": "fseek(file, -sizeof(pch), SEEK_END)",
          "old_line_content": "}",
          "new_line_content": "        fseek(file, -sizeof(pch), SEEK_END);",
          "content_same": false
        },
        {
          "line": 753,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(pch, 1, sizeof(pch), file)",
          "old_line_content": "",
          "new_line_content": "        int nBytes = fread(pch, 1, sizeof(pch), file);",
          "content_same": false
        },
        {
          "line": 754,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(file)",
          "old_line_content": "",
          "new_line_content": "        fclose(file);",
          "content_same": false
        },
        {
          "line": 755,
          "old_api": null,
          "new_api": "c_str",
          "old_text": null,
          "new_text": "strFile.c_str()",
          "old_line_content": "",
          "new_line_content": "        if (file = fopen(strFile.c_str(), \"w\"))",
          "content_same": false
        },
        {
          "line": 757,
          "old_api": null,
          "new_api": "fwrite",
          "old_text": null,
          "new_text": "fwrite(pch, 1, nBytes, file)",
          "old_line_content": "",
          "new_line_content": "            fwrite(pch, 1, nBytes, file);",
          "content_same": false
        },
        {
          "line": 758,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(file)",
          "old_line_content": "",
          "new_line_content": "            fclose(file);",
          "content_same": false
        },
        {
          "line": 262,
          "old_api": null,
          "new_api": "va_end",
          "old_text": null,
          "new_text": "va_end(arg_ptr)",
          "old_line_content": "    }",
          "new_line_content": "        va_end(arg_ptr);",
          "content_same": false
        },
        {
          "line": 779,
          "old_api": null,
          "new_api": "time",
          "old_text": null,
          "new_text": "time(NULL)",
          "old_line_content": "",
          "new_line_content": "    return time(NULL);",
          "content_same": false
        },
        {
          "line": 270,
          "old_api": null,
          "new_api": "std::bad_alloc()",
          "old_text": null,
          "new_text": "std::bad_alloc()",
          "old_line_content": "bool error(const char* format, ...)",
          "new_line_content": "            throw std::bad_alloc();",
          "content_same": false
        },
        {
          "line": 284,
          "old_api": null,
          "new_api": "va_start",
          "old_text": null,
          "new_text": "va_start(arg_ptr, format)",
          "old_line_content": "    return false;",
          "new_line_content": "    va_start(arg_ptr, format);",
          "content_same": false
        },
        {
          "line": 285,
          "old_api": null,
          "new_api": "_vsnprintf",
          "old_text": null,
          "new_text": "_vsnprintf(buffer, limit, format, arg_ptr)",
          "old_line_content": "}",
          "new_line_content": "    int ret = _vsnprintf(buffer, limit, format, arg_ptr);",
          "content_same": false
        },
        {
          "line": 286,
          "old_api": null,
          "new_api": "va_end",
          "old_text": null,
          "new_text": "va_end(arg_ptr)",
          "old_line_content": "",
          "new_line_content": "    va_end(arg_ptr);",
          "content_same": false
        },
        {
          "line": 801,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vTimeOffsets.push_back(0)",
          "old_line_content": "        {",
          "new_line_content": "        vTimeOffsets.push_back(0);",
          "content_same": false
        },
        {
          "line": 802,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vTimeOffsets.push_back(nOffsetSample)",
          "old_line_content": "            nTimeOffset = nMedian;",
          "new_line_content": "    vTimeOffsets.push_back(nOffsetSample);",
          "content_same": false
        },
        {
          "line": 803,
          "old_api": null,
          "new_api": "back",
          "old_text": null,
          "new_text": "vTimeOffsets.back()",
          "old_line_content": "        }",
          "new_line_content": "    printf(\"Added time data, samples %d, offset %+\"PRI64d\" (%+\"PRI64d\" minutes)\\n\", vTimeOffsets.size(), vTimeOffsets.back(), vTimeOffsets.back()/60);",
          "content_same": false
        },
        {
          "line": 292,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"ERROR: %s\\n\", buffer)",
          "old_line_content": "    string::size_type i1 = 0;",
          "new_line_content": "    printf(\"ERROR: %s\\n\", buffer);",
          "content_same": false
        },
        {
          "line": 804,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vTimeOffsets.size()",
          "old_line_content": "        else",
          "new_line_content": "    if (vTimeOffsets.size() >= 5 && vTimeOffsets.size() % 2 == 1)",
          "content_same": false
        },
        {
          "line": 806,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "vTimeOffsets.end()",
          "old_line_content": "            nTimeOffset = 0;",
          "new_line_content": "        sort(vTimeOffsets.begin(), vTimeOffsets.end());",
          "content_same": false
        },
        {
          "line": 807,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vTimeOffsets.size()",
          "old_line_content": "            // If nobody else has the same time as us, give a warning",
          "new_line_content": "        int64 nMedian = vTimeOffsets[vTimeOffsets.size()/2];",
          "content_same": false
        },
        {
          "line": 809,
          "old_api": null,
          "new_api": "abs64",
          "old_text": null,
          "new_text": "abs64(nMedian)",
          "old_line_content": "            foreach(int64 nOffset, vTimeOffsets)",
          "new_line_content": "        if (abs64(nMedian) < 70 * 60)",
          "content_same": false
        },
        {
          "line": 305,
          "old_api": null,
          "new_api": "find",
          "old_text": null,
          "new_text": "str.find(c, i1)",
          "old_line_content": "}",
          "new_line_content": "        i2 = str.find(c, i1);",
          "content_same": false
        },
        {
          "line": 308,
          "old_api": null,
          "new_api": "substr",
          "old_text": null,
          "new_text": "str.substr(i1)",
          "old_line_content": "string FormatMoney(int64 n, bool fPlus)",
          "new_line_content": "            v.push_back(str.substr(i1));",
          "content_same": false
        },
        {
          "line": 825,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Warning: Please check that your computer's date and time are correct.  If your clock is wrong Bitcoin will not work properly.\")",
          "old_line_content": "    }",
          "new_line_content": "                string strMessage = _(\"Warning: Please check that your computer's date and time are correct.  If your clock is wrong Bitcoin will not work properly.\");",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": null,
          "new_api": "c_str",
          "old_text": null,
          "new_text": "strMessage.c_str()",
          "old_line_content": "",
          "new_line_content": "                printf(\"*** %s\\n\", strMessage.c_str());",
          "content_same": false
        },
        {
          "line": 828,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": "string(\"Bitcoin\")",
          "old_line_content": "",
          "new_line_content": "                boost::thread(boost::bind(ThreadSafeMessageBox, strMessage+\" \", string(\"Bitcoin\"), wxOK | wxICON_EXCLAMATION, (wxWindow*)NULL, -1, -1));",
          "content_same": false
        },
        {
          "line": 320,
          "old_api": null,
          "new_api": "strprintf",
          "old_text": null,
          "new_text": "strprintf(\"%\"PRI64d\".%02\"PRI64d, (n > 0 ? n : -n)/100, (n > 0 ? n : -n)%100)",
          "old_line_content": "}",
          "new_line_content": "    string str = strprintf(\"%\"PRI64d\".%02\"PRI64d, (n > 0 ? n : -n)/100, (n > 0 ? n : -n)%100);",
          "content_same": false
        },
        {
          "line": 321,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "str.size()",
          "old_line_content": "",
          "new_line_content": "    for (int i = 6; i < str.size(); i += 4)",
          "content_same": false
        },
        {
          "line": 322,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "str.size()",
          "old_line_content": "",
          "new_line_content": "        if (isdigit(str[str.size() - i - 1]))",
          "content_same": false
        },
        {
          "line": 323,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "str.size()",
          "old_line_content": "bool ParseMoney(const string& str, int64& nRet)",
          "new_line_content": "            str.insert(str.size() - i, 1, ',');",
          "content_same": false
        },
        {
          "line": 832,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"%+\"PRI64d\"  \", n)",
          "old_line_content": "",
          "new_line_content": "            printf(\"%+\"PRI64d\"  \", n);",
          "content_same": false
        },
        {
          "line": 833,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"|  nTimeOffset = %+\"PRI64d\"  (%+\"PRI64d\" minutes)\\n\", nTimeOffset, nTimeOffset/60)",
          "old_line_content": "",
          "new_line_content": "        printf(\"|  nTimeOffset = %+\"PRI64d\"  (%+\"PRI64d\" minutes)\\n\", nTimeOffset, nTimeOffset/60);",
          "content_same": false
        },
        {
          "line": 327,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "str.insert((unsigned int)0, 1, '+')",
          "old_line_content": "",
          "new_line_content": "        str.insert((unsigned int)0, 1, '+');",
          "content_same": false
        },
        {
          "line": 334,
          "old_api": null,
          "new_api": "c_str",
          "old_text": null,
          "new_text": "str.c_str()",
          "old_line_content": "        p++;",
          "new_line_content": "    return ParseMoney(str.c_str(), nRet);",
          "content_same": false
        },
        {
          "line": 346,
          "old_api": null,
          "new_api": "isdigit",
          "old_text": null,
          "new_text": "isdigit(p[4])",
          "old_line_content": "                    nCents += (*p++ - '0');",
          "new_line_content": "        if (*p == ',' && p > pszIn && isdigit(p[-1]) && isdigit(p[1]) && isdigit(p[2]) && isdigit(p[3]) && !isdigit(p[4]))",
          "content_same": false
        },
        {
          "line": 351,
          "old_api": null,
          "new_api": "isdigit",
          "old_text": null,
          "new_text": "isdigit(*p)",
          "old_line_content": "            break;",
          "new_line_content": "            if (isdigit(*p))",
          "content_same": false
        },
        {
          "line": 361,
          "old_api": null,
          "new_api": "isdigit",
          "old_text": null,
          "new_text": "isdigit(*p)",
          "old_line_content": "    if (nCents < 0 || nCents > 99)",
          "new_line_content": "        if (!isdigit(*p))",
          "content_same": false
        },
        {
          "line": 366,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(*p)",
          "old_line_content": "    if (nValue / CENT != nPreValue)",
          "new_line_content": "        if (!isspace(*p))",
          "content_same": false
        },
        {
          "line": 368,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "strWhole.size()",
          "old_line_content": "    if (nValue / COIN != nWhole)",
          "new_line_content": "    if (strWhole.size() > 14)",
          "content_same": false
        },
        {
          "line": 372,
          "old_api": null,
          "new_api": "atoi64",
          "old_text": null,
          "new_text": "atoi64(strWhole)",
          "old_line_content": "}",
          "new_line_content": "    int64 nWhole = atoi64(strWhole);",
          "content_same": false
        },
        {
          "line": 408,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(*psz)",
          "old_line_content": "        n |= c;",
          "new_line_content": "        while (isspace(*psz))",
          "content_same": false
        },
        {
          "line": 418,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vch.push_back(n)",
          "old_line_content": "",
          "new_line_content": "        vch.push_back(n);",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": null,
          "new_api": "c_str",
          "old_text": null,
          "new_text": "str.c_str()",
          "old_line_content": "    {",
          "new_line_content": "    return ParseHex(str.c_str());",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "mapMultiArgs.clear()",
          "old_line_content": "            *pszValue++ = '\\0';",
          "new_line_content": "    mapMultiArgs.clear();",
          "content_same": false
        },
        {
          "line": 436,
          "old_api": null,
          "new_api": "strlcpy",
          "old_text": null,
          "new_text": "strlcpy(psz, argv[i], sizeof(psz))",
          "old_line_content": "        if (psz[0] == '/')",
          "new_line_content": "        strlcpy(psz, argv[i], sizeof(psz));",
          "content_same": false
        },
        {
          "line": 438,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(psz, '=')",
          "old_line_content": "        #endif",
          "new_line_content": "        if (strchr(psz, '='))",
          "content_same": false
        },
        {
          "line": 440,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(psz, '=')",
          "old_line_content": "            break;",
          "new_line_content": "            pszValue = strchr(psz, '=');",
          "content_same": false
        },
        {
          "line": 444,
          "old_api": null,
          "new_api": "_strlwr",
          "old_text": null,
          "new_text": "_strlwr(psz)",
          "old_line_content": "}",
          "new_line_content": "        _strlwr(psz);",
          "content_same": false
        },
        {
          "line": 451,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "mapMultiArgs[psz].push_back(pszValue)",
          "old_line_content": "    static CCriticalSection cs;",
          "new_line_content": "        mapMultiArgs[psz].push_back(pszValue);",
          "content_same": false
        },
        {
          "line": 466,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "mapCache.end()",
          "old_line_content": "            return pszEnglish;",
          "new_line_content": "        if (mi != mapCache.end())",
          "content_same": false
        },
        {
          "line": 474,
          "old_api": null,
          "new_api": "utf8_str",
          "old_text": null,
          "new_text": "strTranslated.utf8_str()",
          "old_line_content": "    }",
          "new_line_content": "        if (strcmp(pszEnglish, strTranslated.utf8_str()) == 0)",
          "content_same": false
        },
        {
          "line": 479,
          "old_api": null,
          "new_api": "utf8_str",
          "old_text": null,
          "new_text": "strTranslated.utf8_str()",
          "old_line_content": "}",
          "new_line_content": "        char* pszCached = new char[strlen(strTranslated.utf8_str())+1];",
          "content_same": false
        },
        {
          "line": 480,
          "old_api": null,
          "new_api": "utf8_str",
          "old_text": null,
          "new_text": "strTranslated.utf8_str()",
          "old_line_content": "",
          "new_line_content": "        strcpy(pszCached, strTranslated.utf8_str());",
          "content_same": false
        },
        {
          "line": 500,
          "old_api": null,
          "new_api": "WildcardMatch",
          "old_text": null,
          "new_text": "WildcardMatch(psz+1, mask)",
          "old_line_content": "        }",
          "new_line_content": "            return WildcardMatch(psz, mask+1) || (*psz && WildcardMatch(psz+1, mask));",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 523,
          "old_api": "GetModuleFileNameA",
          "new_api": null,
          "old_text": "GetModuleFileNameA(NULL, pszModule, sizeof(pszModule))",
          "new_text": null,
          "old_line_content": "    GetModuleFileNameA(NULL, pszModule, sizeof(pszModule));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 528,
          "old_api": "name",
          "new_api": null,
          "old_text": "snprintf(pszMessage, 1000,\n            \"EXCEPTION: %s       \\n%s       \\n%s in %s       \\n\", typeid(*pex).name(), pex->what(), pszModule, pszThread)",
          "new_text": null,
          "old_line_content": "        snprintf(pszMessage, 1000,",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": "what",
          "new_api": null,
          "old_text": "pex->what()",
          "new_text": null,
          "old_line_content": "            \"EXCEPTION: %s       \\n%s       \\n%s in %s       \\n\", typeid(*pex).name(), pex->what(), pszModule, pszThread);",
          "new_line_content": "#ifdef __WXMSW__",
          "content_same": false
        },
        {
          "line": 531,
          "old_api": "snprintf",
          "new_api": null,
          "old_text": "snprintf(pszMessage, 1000,\n            \"UNKNOWN EXCEPTION       \\n%s in %s       \\n\", pszModule, pszThread)",
          "new_text": null,
          "old_line_content": "        snprintf(pszMessage, 1000,",
          "new_line_content": "    pszModule[0] = '\\0';",
          "content_same": false
        },
        {
          "line": 539,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"\\n%s\", pszMessage)",
          "new_text": null,
          "old_line_content": "    printf(\"\\n%s\", pszMessage);",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 545,
          "old_api": "FormatException",
          "new_api": null,
          "old_text": "FormatException(pszMessage, pex, pszThread)",
          "new_text": null,
          "old_line_content": "    FormatException(pszMessage, pex, pszThread);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 546,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"\\n\\n************************\\n%s\\n\", pszMessage)",
          "new_text": null,
          "old_line_content": "    printf(\"\\n\\n************************\\n%s\\n\", pszMessage);",
          "new_line_content": "    char pszMessage[10000];",
          "content_same": false
        },
        {
          "line": 551,
          "old_api": "MyMessageBox",
          "new_api": null,
          "old_text": "MyMessageBox(pszMessage, \"Bitcoin\", wxOK | wxICON_ERROR)",
          "new_text": null,
          "old_line_content": "        MyMessageBox(pszMessage, \"Bitcoin\", wxOK | wxICON_ERROR);",
          "new_line_content": "void PrintException(std::exception* pex, const char* pszThread)",
          "content_same": false
        },
        {
          "line": 563,
          "old_api": "ThreadSafeMessageBox",
          "new_api": null,
          "old_text": "ThreadSafeMessageBox(strMessage, \"Bitcoin\", wxOK | wxICON_EXCLAMATION)",
          "new_text": null,
          "old_line_content": "    ThreadSafeMessageBox(strMessage, \"Bitcoin\", wxOK | wxICON_EXCLAMATION);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 570,
          "old_api": "FormatException",
          "new_api": null,
          "old_text": "FormatException(pszMessage, pex, pszThread)",
          "new_text": null,
          "old_line_content": "    FormatException(pszMessage, pex, pszThread);",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 571,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"\\n\\n************************\\n%s\\n\", pszMessage)",
          "new_text": null,
          "old_line_content": "    printf(\"\\n\\n************************\\n%s\\n\", pszMessage);",
          "new_line_content": "    fMessageBoxOpen = true;",
          "content_same": false
        },
        {
          "line": 576,
          "old_api": "string",
          "new_api": null,
          "old_text": "string(pszMessage)",
          "new_text": null,
          "old_line_content": "        boost::thread(boost::bind(ThreadOneMessageBox, string(pszMessage)));",
          "new_line_content": "void PrintExceptionContinue(std::exception* pex, const char* pszThread)",
          "content_same": false
        },
        {
          "line": 595,
          "old_api": "LoadLibraryA",
          "new_api": null,
          "old_text": "LoadLibraryA(\"shell32.dll\")",
          "new_text": null,
          "old_line_content": "    HMODULE hShell32 = LoadLibraryA(\"shell32.dll\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 599,
          "old_api": "GetProcAddress",
          "new_api": null,
          "old_text": "GetProcAddress(hShell32, \"SHGetSpecialFolderPathA\")",
          "new_text": null,
          "old_line_content": "            (PSHGETSPECIALFOLDERPATHA)GetProcAddress(hShell32, \"SHGetSpecialFolderPathA\");",
          "new_line_content": "string MyGetSpecialFolderPath(int nFolder, bool fCreate)",
          "content_same": false
        },
        {
          "line": 601,
          "old_api": "*pSHGetSpecialFolderPath)(NULL, pszPath, nFolder, fCreate)",
          "new_api": null,
          "old_text": "*pSHGetSpecialFolderPath)(NULL, pszPath, nFolder, fCreate)",
          "new_text": null,
          "old_line_content": "            (*pSHGetSpecialFolderPath)(NULL, pszPath, nFolder, fCreate);",
          "new_line_content": "    char pszPath[MAX_PATH+100] = \"\";",
          "content_same": false
        },
        {
          "line": 602,
          "old_api": "FreeModule",
          "new_api": null,
          "old_text": "FreeModule(hShell32)",
          "new_text": null,
          "old_line_content": "        FreeModule(hShell32);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 615,
          "old_api": "getenv",
          "new_api": null,
          "old_text": "getenv(\"APPDATA\")",
          "new_text": null,
          "old_line_content": "            strcpy(pszPath, getenv(\"APPDATA\"));",
          "new_line_content": "    if (pszPath[0] == '\\0')",
          "content_same": false
        },
        {
          "line": 630,
          "old_api": "MyGetSpecialFolderPath",
          "new_api": null,
          "old_text": "MyGetSpecialFolderPath(CSIDL_APPDATA, true)",
          "new_text": null,
          "old_line_content": "    return MyGetSpecialFolderPath(CSIDL_APPDATA, true) + \"\\\\Bitcoin\";",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 632,
          "old_api": "getenv",
          "new_api": null,
          "old_text": "getenv(\"HOME\")",
          "new_text": null,
          "old_line_content": "    char* pszHome = getenv(\"HOME\");",
          "new_line_content": "string GetDefaultDataDir()",
          "content_same": false
        },
        {
          "line": 633,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(pszHome)",
          "new_text": null,
          "old_line_content": "    if (pszHome == NULL || strlen(pszHome) == 0)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": "size",
          "new_api": null,
          "old_text": "strHome.size()",
          "new_text": null,
          "old_line_content": "    if (strHome[strHome.size()-1] != '/')",
          "new_line_content": "    // Unix: ~/.bitcoin",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": "strlcpy",
          "new_api": null,
          "old_text": "strlcpy(pszDir, pszSetDataDir, MAX_PATH)",
          "new_text": null,
          "old_line_content": "        strlcpy(pszDir, pszSetDataDir, MAX_PATH);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 666,
          "old_api": "strlcpy",
          "new_api": null,
          "old_text": "strlcpy(pszDir, pszCachedDir, MAX_PATH)",
          "new_text": null,
          "old_line_content": "        strlcpy(pszDir, pszCachedDir, MAX_PATH);",
          "new_line_content": "        nVariation = 0;",
          "content_same": false
        },
        {
          "line": 671,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(pszDir)",
          "new_text": null,
          "old_line_content": "        char* p = pszDir + strlen(pszDir);",
          "new_line_content": "        // value so we don't have to do memory allocations after that.",
          "content_same": false
        },
        {
          "line": 161,
          "old_api": "GetDataDir",
          "new_api": null,
          "old_text": "GetDataDir(pszFile)",
          "new_text": null,
          "old_line_content": "        GetDataDir(pszFile);",
          "new_line_content": "        static int64 nOpenTime = 0;",
          "content_same": false
        },
        {
          "line": 162,
          "old_api": "strlcat",
          "new_api": null,
          "old_text": "strlcat(pszFile, \"/debug.log\", sizeof(pszFile))",
          "new_text": null,
          "old_line_content": "        strlcat(pszFile, \"/debug.log\", sizeof(pszFile));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 681,
          "old_api": "filesystem::create_directory(pszDir)",
          "new_api": null,
          "old_text": "filesystem::create_directory(pszDir)",
          "new_text": null,
          "old_line_content": "        filesystem::create_directory(pszDir);",
          "new_line_content": "        if (p > pszDir && p[-1] != '/' && p[-1] != '\\\\')",
          "content_same": false
        },
        {
          "line": 172,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(fileout)",
          "new_text": null,
          "old_line_content": "            fclose(fileout);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 688,
          "old_api": "GetDataDir",
          "new_api": null,
          "old_text": "GetDataDir(pszDir)",
          "new_text": null,
          "old_line_content": "    GetDataDir(pszDir);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": "GetArg",
          "new_api": null,
          "old_text": "GetArg(\"-conf\", \"bitcoin.conf\")",
          "new_text": null,
          "old_line_content": "    fs::path pathConfig(GetArg(\"-conf\", \"bitcoin.conf\"));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 696,
          "old_api": "is_complete",
          "new_api": null,
          "old_text": "pathConfig.is_complete()",
          "new_text": null,
          "old_line_content": "    if (!pathConfig.is_complete())",
          "new_line_content": "    char pszDir[MAX_PATH];",
          "content_same": false
        },
        {
          "line": 698,
          "old_api": "string",
          "new_api": null,
          "old_text": "pathConfig.string()",
          "new_text": null,
          "old_line_content": "    return pathConfig.string();",
          "new_line_content": "    return pszDir;",
          "content_same": false
        },
        {
          "line": 188,
          "old_api": "va_start",
          "new_api": null,
          "old_text": "va_start(arg_ptr, pszFormat)",
          "new_text": null,
          "old_line_content": "            va_start(arg_ptr, pszFormat);",
          "new_line_content": "        // accumulate a line at a time",
          "content_same": false
        },
        {
          "line": 189,
          "old_api": "END",
          "new_api": null,
          "old_text": "END(pszBuffer)",
          "new_text": null,
          "old_line_content": "            int limit = END(pszBuffer) - pend - 2;",
          "new_line_content": "        static CCriticalSection cs_OutputDebugStringF;",
          "content_same": false
        },
        {
          "line": 190,
          "old_api": "_vsnprintf",
          "new_api": null,
          "old_text": "_vsnprintf(pend, limit, pszFormat, arg_ptr)",
          "new_text": null,
          "old_line_content": "            int ret = _vsnprintf(pend, limit, pszFormat, arg_ptr);",
          "new_line_content": "        CRITICAL_BLOCK(cs_OutputDebugStringF)",
          "content_same": false
        },
        {
          "line": 191,
          "old_api": "va_end",
          "new_api": null,
          "old_text": "va_end(arg_ptr)",
          "new_text": null,
          "old_line_content": "            va_end(arg_ptr);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 194,
          "old_api": "END",
          "new_api": null,
          "old_text": "END(pszBuffer)",
          "new_text": null,
          "old_line_content": "                pend = END(pszBuffer) - 2;",
          "new_line_content": "            if (pend == NULL)",
          "content_same": false
        },
        {
          "line": 708,
          "old_api": "good",
          "new_api": null,
          "old_text": "streamConfig.good()",
          "new_text": null,
          "old_line_content": "    if (!streamConfig.good())",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 712,
          "old_api": "insert",
          "new_api": null,
          "old_text": "setOptions.insert(\"*\")",
          "new_text": null,
          "old_line_content": "    setOptions.insert(\"*\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 202,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(p1, '\\n')",
          "new_text": null,
          "old_line_content": "            while (p2 = strchr(p1, '\\n'))",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 718,
          "old_api": "count",
          "new_api": null,
          "old_text": "mapSettingsRet.count(strKey)",
          "new_text": null,
          "old_line_content": "        if (mapSettingsRet.count(strKey) == 0)",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 207,
          "old_api": "OutputDebugStringA",
          "new_api": null,
          "old_text": "OutputDebugStringA(p1)",
          "new_text": null,
          "old_line_content": "                OutputDebugStringA(p1);",
          "new_line_content": "                pend += ret;",
          "content_same": false
        },
        {
          "line": 720,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "mapMultiSettingsRet[strKey].push_back(it->value[0])",
          "new_text": null,
          "old_line_content": "        mapMultiSettingsRet[strKey].push_back(it->value[0]);",
          "new_line_content": "    set<string> setOptions;",
          "content_same": false
        },
        {
          "line": 212,
          "old_api": "memmove",
          "new_api": null,
          "old_text": "memmove(pszBuffer, p1, pend - p1 + 1)",
          "new_text": null,
          "old_line_content": "                memmove(pszBuffer, p1, pend - p1 + 1);",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 728,
          "old_api": "fseek",
          "new_api": null,
          "old_text": "fseek(file, 0, SEEK_END)",
          "new_text": null,
          "old_line_content": "    if (fseek(file, 0, SEEK_END) == 0)",
          "new_line_content": "            mapSettingsRet[strKey] = it->value[0];",
          "content_same": false
        },
        {
          "line": 730,
          "old_api": "fseek",
          "new_api": null,
          "old_text": "fseek(file, nSavePos, SEEK_SET)",
          "new_text": null,
          "old_line_content": "    fseek(file, nSavePos, SEEK_SET);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 230,
          "old_api": "va_start",
          "new_api": null,
          "old_text": "va_start(arg_ptr, format)",
          "new_text": null,
          "old_line_content": "    va_start(arg_ptr, format);",
          "new_line_content": "// Safer snprintf",
          "content_same": false
        },
        {
          "line": 231,
          "old_api": "_vsnprintf",
          "new_api": null,
          "old_text": "_vsnprintf(buffer, limit, format, arg_ptr)",
          "new_text": null,
          "old_line_content": "    int ret = _vsnprintf(buffer, limit, format, arg_ptr);",
          "new_line_content": "//  - prints up to limit-1 characters",
          "content_same": false
        },
        {
          "line": 232,
          "old_api": "va_end",
          "new_api": null,
          "old_text": "va_end(arg_ptr)",
          "new_text": null,
          "old_line_content": "    va_end(arg_ptr);",
          "new_line_content": "//  - output string is always null terminated even if limit reached",
          "content_same": false
        },
        {
          "line": 743,
          "old_api": "fseek",
          "new_api": null,
          "old_text": "fseek(file, -sizeof(pch), SEEK_END)",
          "new_text": null,
          "old_line_content": "        fseek(file, -sizeof(pch), SEEK_END);",
          "new_line_content": "void ShrinkDebugFile()",
          "content_same": false
        },
        {
          "line": 744,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread(pch, 1, sizeof(pch), file)",
          "new_text": null,
          "old_line_content": "        int nBytes = fread(pch, 1, sizeof(pch), file);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 745,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(file)",
          "new_text": null,
          "old_line_content": "        fclose(file);",
          "new_line_content": "    // Scroll debug.log if it's getting too big",
          "content_same": false
        },
        {
          "line": 749,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(file)",
          "new_text": null,
          "old_line_content": "            fclose(file);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 253,
          "old_api": "va_end",
          "new_api": null,
          "old_text": "va_end(arg_ptr)",
          "new_text": null,
          "old_line_content": "        va_end(arg_ptr);",
          "new_line_content": "    char buffer[50000];",
          "content_same": false
        },
        {
          "line": 770,
          "old_api": "time",
          "new_api": null,
          "old_text": "time(NULL)",
          "new_text": null,
          "old_line_content": "    return time(NULL);",
          "new_line_content": "//",
          "content_same": false
        },
        {
          "line": 261,
          "old_api": "std::bad_alloc()",
          "new_api": null,
          "old_text": "std::bad_alloc()",
          "new_text": null,
          "old_line_content": "            throw std::bad_alloc();",
          "new_line_content": "        ret = _vsnprintf(p, limit, format, arg_ptr);",
          "content_same": false
        },
        {
          "line": 777,
          "old_api": "GetTime",
          "new_api": null,
          "old_text": "GetTime()",
          "new_text": null,
          "old_line_content": "    return GetTime() + nTimeOffset;",
          "new_line_content": "int64 GetTime()",
          "content_same": false
        },
        {
          "line": 782,
          "old_api": "GetTime",
          "new_api": null,
          "old_text": "GetTime()",
          "new_text": null,
          "old_line_content": "    int64 nOffsetSample = nTime - GetTime();",
          "new_line_content": "static int64 nTimeOffset = 0;",
          "content_same": false
        },
        {
          "line": 275,
          "old_api": "va_start",
          "new_api": null,
          "old_text": "va_start(arg_ptr, format)",
          "new_text": null,
          "old_line_content": "    va_start(arg_ptr, format);",
          "new_line_content": "    return str;",
          "content_same": false
        },
        {
          "line": 276,
          "old_api": "_vsnprintf",
          "new_api": null,
          "old_text": "_vsnprintf(buffer, limit, format, arg_ptr)",
          "new_text": null,
          "old_line_content": "    int ret = _vsnprintf(buffer, limit, format, arg_ptr);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 277,
          "old_api": "va_end",
          "new_api": null,
          "old_text": "va_end(arg_ptr)",
          "new_text": null,
          "old_line_content": "    va_end(arg_ptr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 792,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "vTimeOffsets.push_back(0)",
          "new_text": null,
          "old_line_content": "        vTimeOffsets.push_back(0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 793,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "vTimeOffsets.push_back(nOffsetSample)",
          "new_text": null,
          "old_line_content": "    vTimeOffsets.push_back(nOffsetSample);",
          "new_line_content": "    // Ignore duplicates",
          "content_same": false
        },
        {
          "line": 794,
          "old_api": "back",
          "new_api": null,
          "old_text": "vTimeOffsets.back()",
          "new_text": null,
          "old_line_content": "    printf(\"Added time data, samples %d, offset %+\"PRI64d\" (%+\"PRI64d\" minutes)\\n\", vTimeOffsets.size(), vTimeOffsets.back(), vTimeOffsets.back()/60);",
          "new_line_content": "    static set<unsigned int> setKnown;",
          "content_same": false
        },
        {
          "line": 283,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"ERROR: %s\\n\", buffer)",
          "new_text": null,
          "old_line_content": "    printf(\"ERROR: %s\\n\", buffer);",
          "new_line_content": "    va_list arg_ptr;",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": "end",
          "new_api": null,
          "old_text": "vTimeOffsets.end()",
          "new_text": null,
          "old_line_content": "        sort(vTimeOffsets.begin(), vTimeOffsets.end());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 798,
          "old_api": "size",
          "new_api": null,
          "old_text": "vTimeOffsets.size()",
          "new_text": null,
          "old_line_content": "        int64 nMedian = vTimeOffsets[vTimeOffsets.size()/2];",
          "new_line_content": "    // Add data",
          "content_same": false
        },
        {
          "line": 290,
          "old_api": "empty",
          "new_api": null,
          "old_text": "str.empty()",
          "new_text": null,
          "old_line_content": "    if (str.empty())",
          "new_line_content": "        buffer[limit-1] = 0;",
          "content_same": false
        },
        {
          "line": 296,
          "old_api": "find",
          "new_api": null,
          "old_text": "str.find(c, i1)",
          "new_text": null,
          "old_line_content": "        i2 = str.find(c, i1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 810,
          "old_api": "abs64",
          "new_api": null,
          "old_text": "abs64(nOffset)",
          "new_text": null,
          "old_line_content": "                if (nOffset != 0 && abs64(nOffset) < 5 * 60)",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 302,
          "old_api": "substr",
          "new_api": null,
          "old_text": "str.substr(i1, i2-i1)",
          "new_text": null,
          "old_line_content": "        v.push_back(str.substr(i1, i2-i1));",
          "new_line_content": "    string::size_type i2;",
          "content_same": false
        },
        {
          "line": 816,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Warning: Please check that your computer's date and time are correct.  If your clock is wrong Bitcoin will not work properly.\")",
          "new_text": null,
          "old_line_content": "                string strMessage = _(\"Warning: Please check that your computer's date and time are correct.  If your clock is wrong Bitcoin will not work properly.\");",
          "new_line_content": "            // If nobody else has the same time as us, give a warning",
          "content_same": false
        },
        {
          "line": 818,
          "old_api": "c_str",
          "new_api": null,
          "old_text": "strMessage.c_str()",
          "new_text": null,
          "old_line_content": "                printf(\"*** %s\\n\", strMessage.c_str());",
          "new_line_content": "            foreach(int64 nOffset, vTimeOffsets)",
          "content_same": false
        },
        {
          "line": 823,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"%+\"PRI64d\"  \", n)",
          "new_text": null,
          "old_line_content": "            printf(\"%+\"PRI64d\"  \", n);",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 312,
          "old_api": "size",
          "new_api": null,
          "old_text": "str.size()",
          "new_text": null,
          "old_line_content": "    for (int i = 6; i < str.size(); i += 4)",
          "new_line_content": "        i1 = i2+1;",
          "content_same": false
        },
        {
          "line": 313,
          "old_api": "size",
          "new_api": null,
          "old_text": "str.size()",
          "new_text": null,
          "old_line_content": "        if (isdigit(str[str.size() - i - 1]))",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 314,
          "old_api": "size",
          "new_api": null,
          "old_text": "str.size()",
          "new_text": null,
          "old_line_content": "            str.insert(str.size() - i, 1, ',');",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 824,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"|  nTimeOffset = %+\"PRI64d\"  (%+\"PRI64d\" minutes)\\n\", nTimeOffset, nTimeOffset/60)",
          "new_text": null,
          "old_line_content": "        printf(\"|  nTimeOffset = %+\"PRI64d\"  (%+\"PRI64d\" minutes)\\n\", nTimeOffset, nTimeOffset/60);",
          "new_line_content": "                fDone = true;",
          "content_same": false
        },
        {
          "line": 316,
          "old_api": "insert",
          "new_api": null,
          "old_text": "str.insert((unsigned int)0, 1, '-')",
          "new_text": null,
          "old_line_content": "        str.insert((unsigned int)0, 1, '-');",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 318,
          "old_api": "insert",
          "new_api": null,
          "old_text": "str.insert((unsigned int)0, 1, '+')",
          "new_text": null,
          "old_line_content": "        str.insert((unsigned int)0, 1, '+');",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 333,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(*p)",
          "new_text": null,
          "old_line_content": "    while (isspace(*p))",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 337,
          "old_api": "isdigit",
          "new_api": null,
          "old_text": "isdigit(p[4])",
          "new_text": null,
          "old_line_content": "        if (*p == ',' && p > pszIn && isdigit(p[-1]) && isdigit(p[1]) && isdigit(p[2]) && isdigit(p[3]) && !isdigit(p[4]))",
          "new_line_content": "bool ParseMoney(const char* pszIn, int64& nRet)",
          "content_same": false
        },
        {
          "line": 345,
          "old_api": "isdigit",
          "new_api": null,
          "old_text": "isdigit(*p)",
          "new_text": null,
          "old_line_content": "                if (isdigit(*p))",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 350,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(*p)",
          "new_text": null,
          "old_line_content": "        if (isspace(*p))",
          "new_line_content": "            p++;",
          "content_same": false
        },
        {
          "line": 352,
          "old_api": "isdigit",
          "new_api": null,
          "old_text": "isdigit(*p)",
          "new_text": null,
          "old_line_content": "        if (!isdigit(*p))",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 357,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(*p)",
          "new_text": null,
          "old_line_content": "        if (!isspace(*p))",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 399,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(*psz)",
          "new_text": null,
          "old_line_content": "        while (isspace(*psz))",
          "new_line_content": "      -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,",
          "content_same": false
        },
        {
          "line": 409,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "vch.push_back(n)",
          "new_text": null,
          "old_line_content": "        vch.push_back(n);",
          "new_line_content": "            psz++;",
          "content_same": false
        },
        {
          "line": 416,
          "old_api": "c_str",
          "new_api": null,
          "old_text": "str.c_str()",
          "new_text": null,
          "old_line_content": "    return ParseHex(str.c_str());",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 422,
          "old_api": "clear",
          "new_api": null,
          "old_text": "mapArgs.clear()",
          "new_text": null,
          "old_line_content": "    mapArgs.clear();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 423,
          "old_api": "clear",
          "new_api": null,
          "old_text": "mapMultiArgs.clear()",
          "new_text": null,
          "old_line_content": "    mapMultiArgs.clear();",
          "new_line_content": "vector<unsigned char> ParseHex(const string& str)",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": "strlcpy",
          "new_api": null,
          "old_text": "strlcpy(psz, argv[i], sizeof(psz))",
          "new_text": null,
          "old_line_content": "        strlcpy(psz, argv[i], sizeof(psz));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(psz, '=')",
          "new_text": null,
          "old_line_content": "        if (strchr(psz, '='))",
          "new_line_content": "void ParseParameters(int argc, char* argv[])",
          "content_same": false
        },
        {
          "line": 435,
          "old_api": "_strlwr",
          "new_api": null,
          "old_text": "_strlwr(psz)",
          "new_text": null,
          "old_line_content": "        _strlwr(psz);",
          "new_line_content": "        char psz[10000];",
          "content_same": false
        },
        {
          "line": 442,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "mapMultiArgs[psz].push_back(pszValue)",
          "new_text": null,
          "old_line_content": "        mapMultiArgs[psz].push_back(pszValue);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": "find",
          "new_api": null,
          "old_text": "mapCache.find(pszEnglish)",
          "new_text": null,
          "old_line_content": "        map<string, char*>::iterator mi = mapCache.find(pszEnglish);",
          "new_line_content": "const char* wxGetTranslation(const char* pszEnglish)",
          "content_same": false
        },
        {
          "line": 457,
          "old_api": "end",
          "new_api": null,
          "old_text": "mapCache.end()",
          "new_text": null,
          "old_line_content": "        if (mi != mapCache.end())",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 461,
          "old_api": "wxString",
          "new_api": null,
          "old_text": "wxString(pszEnglish, wxConvUTF8)",
          "new_text": null,
          "old_line_content": "        wxString strTranslated = wxGetTranslation(wxString(pszEnglish, wxConvUTF8));",
          "new_line_content": "    CRITICAL_BLOCK(cs)",
          "content_same": false
        },
        {
          "line": 471,
          "old_api": "utf8_str",
          "new_api": null,
          "old_text": "strTranslated.utf8_str()",
          "new_text": null,
          "old_line_content": "        strcpy(pszCached, strTranslated.utf8_str());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 491,
          "old_api": "WildcardMatch",
          "new_api": null,
          "old_text": "WildcardMatch(psz+1, mask)",
          "new_text": null,
          "old_line_content": "            return WildcardMatch(psz, mask+1) || (*psz && WildcardMatch(psz+1, mask));",
          "new_line_content": "bool WildcardMatch(const char* psz, const char* mask)",
          "content_same": false
        },
        {
          "line": 508,
          "old_api": "c_str",
          "new_api": null,
          "old_text": "mask.c_str()",
          "new_text": null,
          "old_line_content": "    return WildcardMatch(str.c_str(), mask.c_str());",
          "new_line_content": "            break;",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 35,
      "total_additions": 104,
      "total_deletions": 101,
      "total_api_changes": 240
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 14,
        "api_related_lines": 240,
        "non_api_lines": 4,
        "non_api_line_numbers": [
          160,
          164,
          165,
          167
        ]
      }
    },
    "api_calls_before": 208,
    "api_calls_after": 211,
    "diff_info": {
      "added_lines": 14,
      "removed_lines": 5,
      "total_diff_lines": 38
    }
  }
}