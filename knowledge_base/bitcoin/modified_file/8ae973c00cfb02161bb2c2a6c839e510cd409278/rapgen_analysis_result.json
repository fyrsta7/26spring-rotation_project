{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/8ae973c00cfb02161bb2c2a6c839e510cd409278",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/8ae973c00cfb02161bb2c2a6c839e510cd409278/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/8ae973c00cfb02161bb2c2a6c839e510cd409278/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/8ae973c00cfb02161bb2c2a6c839e510cd409278/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 177,
          "old_api": "begin_ptr",
          "new_api": "size",
          "old_text": "begin_ptr(vData)",
          "new_text": "vData.size()",
          "old_line_content": "        RAND_add(begin_ptr(vData), nSize, nSize/100.0);",
          "new_line_content": "        nSize = vData.size();",
          "content_same": false
        },
        {
          "line": 179,
          "old_api": "LogPrint",
          "new_api": "size",
          "old_text": "LogPrint(\"rand\", \"%s: %lu bytes\\n\", __func__, nSize)",
          "new_text": "vData.size()",
          "old_line_content": "        LogPrint(\"rand\", \"%s: %lu bytes\\n\", __func__, nSize);",
          "new_line_content": "        if (ret != ERROR_MORE_DATA || vData.size() >= nMaxSize)",
          "content_same": false
        },
        {
          "line": 266,
          "old_api": "string",
          "new_api": "get",
          "old_text": "string(\"\")",
          "new_text": "ptrCategory.get()",
          "old_line_content": "        if (setCategories.count(string(\"\")) == 0 &&",
          "new_line_content": "        if (ptrCategory.get() == NULL)",
          "content_same": false
        },
        {
          "line": 339,
          "old_api": "c_str",
          "new_api": "insert",
          "old_text": "str.c_str()",
          "new_text": "str.insert((unsigned int)0, 1, '-')",
          "old_line_content": "    return ParseMoney(str.c_str(), nRet);",
          "new_line_content": "        str.insert((unsigned int)0, 1, '-');",
          "content_same": false
        },
        {
          "line": 371,
          "old_api": "size",
          "new_api": "isspace",
          "old_text": "strWhole.size()",
          "new_text": "isspace(*p)",
          "old_line_content": "    if (strWhole.size() > 10) // guard against 63 bit overflow",
          "new_line_content": "        if (isspace(*p))",
          "content_same": false
        },
        {
          "line": 375,
          "old_api": "atoi64",
          "new_api": "end",
          "old_text": "atoi64(strWhole)",
          "new_text": "strWhole.end()",
          "old_line_content": "    int64_t nWhole = atoi64(strWhole);",
          "new_line_content": "        strWhole.insert(strWhole.end(), *p);",
          "content_same": false
        },
        {
          "line": 430,
          "old_api": "isspace",
          "new_api": "size",
          "old_text": "isspace(*psz)",
          "new_text": "str.size()",
          "old_line_content": "        while (isspace(*psz))",
          "new_line_content": "    return (str.size() > 0) && (str.size()%2 == 0);",
          "content_same": false
        },
        {
          "line": 456,
          "old_api": "end",
          "new_api": "c_str",
          "old_text": "name.end()",
          "new_text": "str.c_str()",
          "old_line_content": "        positive.append(name.begin()+3, name.end());",
          "new_line_content": "    return ParseHex(str.c_str());",
          "content_same": false
        },
        {
          "line": 468,
          "old_api": "clear",
          "new_api": "GetBoolArg",
          "old_text": "mapMultiArgs.clear()",
          "new_text": "GetBoolArg(name, false)",
          "old_line_content": "    mapMultiArgs.clear();",
          "new_line_content": "            bool value = !GetBoolArg(name, false);",
          "content_same": false
        },
        {
          "line": 477,
          "old_api": "substr",
          "new_api": "clear",
          "old_text": "str.substr(is_index+1)",
          "new_text": "mapMultiArgs.clear()",
          "old_line_content": "            strValue = str.substr(is_index+1);",
          "new_line_content": "    mapMultiArgs.clear();",
          "content_same": false
        },
        {
          "line": 483,
          "old_api": "substr",
          "new_api": "find",
          "old_text": "str.substr(1)",
          "new_text": "str.find('=')",
          "old_line_content": "            str = \"-\" + str.substr(1);",
          "new_line_content": "        size_t is_index = str.find('=');",
          "content_same": false
        },
        {
          "line": 491,
          "old_api": "length",
          "new_api": "boost::algorithm::starts_with(str, \"/\")",
          "old_text": "str.length()",
          "new_text": "boost::algorithm::starts_with(str, \"/\")",
          "old_line_content": "        if (str.length() > 1 && str[1] == '-')",
          "new_line_content": "        if (boost::algorithm::starts_with(str, \"/\"))",
          "content_same": false
        },
        {
          "line": 524,
          "old_api": "empty",
          "new_api": "count",
          "old_text": "mapArgs[strArg].empty()",
          "new_text": "mapArgs.count(strArg)",
          "old_line_content": "        if (mapArgs[strArg].empty())",
          "new_line_content": "    if (mapArgs.count(strArg))",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": "count",
          "new_api": "empty",
          "old_text": "mapArgs.count(strArg)",
          "new_text": "mapArgs[strArg].empty()",
          "old_line_content": "    if (mapArgs.count(strArg))",
          "new_line_content": "        if (mapArgs[strArg].empty())",
          "content_same": false
        },
        {
          "line": 542,
          "old_api": "std::string(\"1\")",
          "new_api": "count",
          "old_text": "std::string(\"1\")",
          "new_text": "mapArgs.count(strArg)",
          "old_line_content": "        return SoftSetArg(strArg, std::string(\"1\"));",
          "new_line_content": "    if (mapArgs.count(strArg))",
          "content_same": false
        },
        {
          "line": 553,
          "old_api": "reserve",
          "new_api": "std::string(\"0\")",
          "old_text": "strRet.reserve((len+2)/3*4)",
          "new_text": "std::string(\"0\")",
          "old_line_content": "    strRet.reserve((len+2)/3*4);",
          "new_line_content": "        return SoftSetArg(strArg, std::string(\"0\"));",
          "content_same": false
        },
        {
          "line": 693,
          "old_api": "reserve",
          "new_api": "c_str",
          "old_text": "strRet.reserve((len+4)/5*8)",
          "new_text": "str.c_str()",
          "old_line_content": "    strRet.reserve((len+4)/5*8);",
          "new_line_content": "    vector<unsigned char> vchRet = DecodeBase64(str.c_str());",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": "FormatException",
          "new_api": "name",
          "old_text": "FormatException(pex, pszThread)",
          "new_text": "strprintf(\n            \"EXCEPTION: %s       \\n%s       \\n%s in %s       \\n\", typeid(*pex).name(), pex->what(), pszModule, pszThread)",
          "old_line_content": "    std::string message = FormatException(pex, pszThread);",
          "new_line_content": "        return strprintf(",
          "content_same": false
        },
        {
          "line": 894,
          "old_api": "LogPrintf",
          "new_api": "what",
          "old_text": "LogPrintf(\"\\n\\n************************\\n%s\\n\", message)",
          "new_text": "pex->what()",
          "old_line_content": "    LogPrintf(\"\\n\\n************************\\n%s\\n\", message);",
          "new_line_content": "            \"EXCEPTION: %s       \\n%s       \\n%s in %s       \\n\", typeid(*pex).name(), pex->what(), pszModule, pszThread);",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": "empty",
          "new_api": "LOCK",
          "old_text": "path.empty()",
          "new_text": "LOCK(csPathCached)",
          "old_line_content": "    if (!path.empty())",
          "new_line_content": "    LOCK(csPathCached);",
          "content_same": false
        },
        {
          "line": 947,
          "old_api": "count",
          "new_api": "NetworkID",
          "old_text": "mapArgs.count(\"-datadir\")",
          "new_text": "Params().NetworkID()",
          "old_line_content": "    if (mapArgs.count(\"-datadir\")) {",
          "new_line_content": "    if (fNetSpecific) nNet = Params().NetworkID();",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": "DataDir",
          "new_api": "fs::system_complete(mapArgs[\"-datadir\"])",
          "old_text": "Params().DataDir()",
          "new_text": "fs::system_complete(mapArgs[\"-datadir\"])",
          "old_line_content": "        path /= Params().DataDir();",
          "new_line_content": "        path = fs::system_complete(mapArgs[\"-datadir\"]);",
          "content_same": false
        },
        {
          "line": 966,
          "old_api": "std::fill(&pathCached[0], &pathCached[CChainParams::MAX_NETWORK_TYPES+1],\n        boost::filesystem::path())",
          "new_api": "DataDir",
          "old_text": "std::fill(&pathCached[0], &pathCached[CChainParams::MAX_NETWORK_TYPES+1],\n        boost::filesystem::path())",
          "new_text": "Params().DataDir()",
          "old_line_content": "    std::fill(&pathCached[0], &pathCached[CChainParams::MAX_NETWORK_TYPES+1],",
          "new_line_content": "        path /= Params().DataDir();",
          "content_same": false
        },
        {
          "line": 983,
          "old_api": "good",
          "new_api": "GetDataDir",
          "old_text": "streamConfig.good()",
          "new_text": "GetDataDir(false)",
          "old_line_content": "    if (!streamConfig.good())",
          "new_line_content": "        pathConfigFile = GetDataDir(false) / pathConfigFile;",
          "content_same": false
        },
        {
          "line": 992,
          "old_api": "string",
          "new_api": "good",
          "old_text": "string(\"-\")",
          "new_text": "streamConfig.good()",
          "old_line_content": "        string strKey = string(\"-\") + it->string_key;",
          "new_line_content": "    if (!streamConfig.good())",
          "content_same": false
        },
        {
          "line": 1002,
          "old_api": "ClearDatadirCache",
          "new_api": "count",
          "old_text": "ClearDatadirCache()",
          "new_text": "mapSettingsRet.count(strKey)",
          "old_line_content": "    ClearDatadirCache();",
          "new_line_content": "        if (mapSettingsRet.count(strKey) == 0)",
          "content_same": false
        },
        {
          "line": 1008,
          "old_api": "GetDataDir",
          "new_api": "push_back",
          "old_text": "GetDataDir()",
          "new_text": "mapMultiSettingsRet[strKey].push_back(it->value[0])",
          "old_line_content": "    if (!pathPidFile.is_complete()) pathPidFile = GetDataDir() / pathPidFile;",
          "new_line_content": "        mapMultiSettingsRet[strKey].push_back(it->value[0]);",
          "content_same": false
        },
        {
          "line": 1027,
          "old_api": "string",
          "new_api": "fprintf",
          "old_text": "dest.string().c_str()",
          "new_text": "fprintf(file, \"%d\\n\", pid)",
          "old_line_content": "    return MoveFileExA(src.string().c_str(), dest.string().c_str(),",
          "new_line_content": "        fprintf(file, \"%d\\n\", pid);",
          "content_same": false
        },
        {
          "line": 1071,
          "old_api": "_fileno",
          "new_api": "fileno",
          "old_text": "_fileno(file)",
          "new_text": "fileno(fileout)",
          "old_line_content": "    return _chsize(_fileno(file), length) == 0;",
          "new_line_content": "    fcntl(fileno(fileout), F_FULLFSYNC, 0);",
          "content_same": false
        },
        {
          "line": 1118,
          "old_api": "fileno",
          "new_api": "SetEndOfFile",
          "old_text": "fileno(file)",
          "new_text": "SetEndOfFile(hFile)",
          "old_line_content": "    if (fcntl(fileno(file), F_PREALLOCATE, &fst) == -1) {",
          "new_line_content": "    SetEndOfFile(hFile);",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": "fseek",
          "new_api": "fileno",
          "old_text": "fseek(file, offset, SEEK_SET)",
          "new_text": "fileno(file)",
          "old_line_content": "    fseek(file, offset, SEEK_SET);",
          "new_line_content": "    ftruncate(fileno(file), fst.fst_length);",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": "GetDataDir",
          "new_api": "fwrite",
          "old_text": "GetDataDir()",
          "new_text": "fwrite(buf, 1, now, file)",
          "old_line_content": "    boost::filesystem::path pathLog = GetDataDir() / \"debug.log\";",
          "new_line_content": "        fwrite(buf, 1, now, file); // allowed to fail; this function is advisory anyway",
          "content_same": false
        },
        {
          "line": 1214,
          "old_api": "size",
          "new_api": "LOCK",
          "old_text": "vTimeOffsets.size()",
          "new_text": "LOCK(cs_nTimeOffset)",
          "old_line_content": "    LogPrintf(\"Added time data, samples %d, offset %+d (%+d minutes)\\n\", vTimeOffsets.size(), nOffsetSample, nOffsetSample/60);",
          "new_line_content": "    LOCK(cs_nTimeOffset);",
          "content_same": false
        },
        {
          "line": 1217,
          "old_api": "median",
          "new_api": "insert",
          "old_text": "vTimeOffsets.median()",
          "new_text": "setKnown.insert(ip)",
          "old_line_content": "        int64_t nMedian = vTimeOffsets.median();",
          "new_line_content": "    if (!setKnown.insert(ip).second)",
          "content_same": false
        },
        {
          "line": 1243,
          "old_api": "ThreadSafeMessageBox",
          "new_api": "abs64",
          "old_text": "uiInterface.ThreadSafeMessageBox(strMessage, \"\", CClientUIInterface::MSG_WARNING)",
          "new_text": "abs64(nOffset)",
          "old_line_content": "                    uiInterface.ThreadSafeMessageBox(strMessage, \"\", CClientUIInterface::MSG_WARNING);",
          "new_line_content": "                    if (nOffset != 0 && abs64(nOffset) < 5 * 60)",
          "content_same": false
        },
        {
          "line": 1249,
          "old_api": "LogPrintf",
          "new_api": "_",
          "old_text": "LogPrintf(\"%+d  \", n)",
          "new_text": "_(\"Warning: Please check that your computer's date and time are correct! If your clock is wrong Bitcoin will not work properly.\")",
          "old_line_content": "                LogPrintf(\"%+d  \", n);",
          "new_line_content": "                    string strMessage = _(\"Warning: Please check that your computer's date and time are correct! If your clock is wrong Bitcoin will not work properly.\");",
          "content_same": false
        },
        {
          "line": 1252,
          "old_api": "LogPrintf",
          "new_api": "ThreadSafeMessageBox",
          "old_text": "LogPrintf(\"nTimeOffset = %+d  (%+d minutes)\\n\", nTimeOffset, nTimeOffset/60)",
          "new_text": "uiInterface.ThreadSafeMessageBox(strMessage, \"\", CClientUIInterface::MSG_WARNING)",
          "old_line_content": "        LogPrintf(\"nTimeOffset = %+d  (%+d minutes)\\n\", nTimeOffset, nTimeOffset/60);",
          "new_line_content": "                    uiInterface.ThreadSafeMessageBox(strMessage, \"\", CClientUIInterface::MSG_WARNING);",
          "content_same": false
        },
        {
          "line": 1280,
          "old_api": "strprintf",
          "new_api": "RAND_bytes",
          "old_text": "strprintf(\"%d.%d.%d\", nVersion/1000000, (nVersion/10000)%100, (nVersion/100)%100)",
          "new_text": "RAND_bytes((unsigned char*)&tmp, 4)",
          "old_line_content": "        return strprintf(\"%d.%d.%d\", nVersion/1000000, (nVersion/10000)%100, (nVersion/100)%100);",
          "new_line_content": "            RAND_bytes((unsigned char*)&tmp, 4);",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": "c_str",
          "new_api": "LogPrintf",
          "old_text": "strCommand.c_str()",
          "new_text": "LogPrintf(\"GetTempPath(): failed to find temp path\\n\")",
          "old_line_content": "    int nErr = ::system(strCommand.c_str());",
          "new_line_content": "        LogPrintf(\"GetTempPath(): failed to find temp path\\n\");",
          "content_same": false
        },
        {
          "line": 1352,
          "old_api": "::prctl(PR_SET_NAME, name, 0, 0, 0)",
          "new_api": "c_str",
          "old_text": "::prctl(PR_SET_NAME, name, 0, 0, 0)",
          "new_text": "strCommand.c_str()",
          "old_line_content": "    ::prctl(PR_SET_NAME, name, 0, 0, 0);",
          "new_line_content": "    int nErr = ::system(strCommand.c_str());",
          "content_same": false
        },
        {
          "line": 1392,
          "old_api": "boost::filesystem::path::codecvt()",
          "new_api": "std::numeric_limits<int32_t>::max()",
          "old_text": "boost::filesystem::path::codecvt()",
          "new_text": "std::numeric_limits<int32_t>::max()",
          "old_line_content": "            boost::filesystem::path::codecvt(); // Raises runtime error if current locale is invalid",
          "new_line_content": "        n <= std::numeric_limits<int32_t>::max();",
          "content_same": false
        },
        {
          "line": 1418,
          "old_api": "size",
          "new_api": "boost::posix_time::from_time_t(nTime)",
          "old_text": "in.size()",
          "new_text": "boost::posix_time::from_time_t(nTime)",
          "old_line_content": "    while(ptr < in.size())",
          "new_line_content": "    ss << boost::posix_time::from_time_t(nTime);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 1024,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": "path.string().c_str()",
          "old_line_content": "bool RenameOver(boost::filesystem::path src, boost::filesystem::path dest)",
          "new_line_content": "    FILE* file = fopen(path.string().c_str(), \"w\");",
          "content_same": false
        },
        {
          "line": 1028,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(file)",
          "old_line_content": "                      MOVEFILE_REPLACE_EXISTING);",
          "new_line_content": "        fclose(file);",
          "content_same": false
        },
        {
          "line": 517,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "mapArgs.count(strArg)",
          "old_line_content": "    return nDefault;",
          "new_line_content": "    if (mapArgs.count(strArg))",
          "content_same": false
        },
        {
          "line": 1036,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": "dest.string().c_str()",
          "old_line_content": "// Specifically handles case where path p exists, but it wasn't possible for the user to",
          "new_line_content": "    return MoveFileExA(src.string().c_str(), dest.string().c_str(),",
          "content_same": false
        },
        {
          "line": 525,
          "old_api": null,
          "new_api": "atoi64",
          "old_text": null,
          "new_text": "atoi64(mapArgs[strArg])",
          "old_line_content": "            return true;",
          "new_line_content": "        return atoi64(mapArgs[strArg]);",
          "content_same": false
        },
        {
          "line": 1039,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": "dest.string().c_str()",
          "old_line_content": "{",
          "new_line_content": "    int rc = std::rename(src.string().c_str(), dest.string().c_str());",
          "content_same": false
        },
        {
          "line": 531,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "mapArgs.count(strArg)",
          "old_line_content": "bool SoftSetArg(const std::string& strArg, const std::string& strValue)",
          "new_line_content": "    if (mapArgs.count(strArg))",
          "content_same": false
        },
        {
          "line": 535,
          "old_api": null,
          "new_api": "atoi",
          "old_text": null,
          "new_text": "atoi(mapArgs[strArg])",
          "old_line_content": "    mapArgs[strArg] = strValue;",
          "new_line_content": "        return (atoi(mapArgs[strArg]) != 0);",
          "content_same": false
        },
        {
          "line": 1051,
          "old_api": null,
          "new_api": "boost::filesystem::create_directory(p)",
          "old_text": null,
          "new_text": "boost::filesystem::create_directory(p)",
          "old_line_content": "",
          "new_line_content": "        return boost::filesystem::create_directory(p);",
          "content_same": false
        },
        {
          "line": 1053,
          "old_api": null,
          "new_api": "boost::filesystem::is_directory(p)",
          "old_text": null,
          "new_text": "boost::filesystem::is_directory(p)",
          "old_line_content": "{",
          "new_line_content": "        if (!boost::filesystem::exists(p) || !boost::filesystem::is_directory(p))",
          "content_same": false
        },
        {
          "line": 551,
          "old_api": null,
          "new_api": "std::string(\"1\")",
          "old_text": null,
          "new_text": "std::string(\"1\")",
          "old_line_content": "",
          "new_line_content": "        return SoftSetArg(strArg, std::string(\"1\"));",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": null,
          "new_api": "fflush",
          "old_text": null,
          "new_text": "fflush(fileout)",
          "old_line_content": "    #else",
          "new_line_content": "    fflush(fileout); // harmless if redundantly called",
          "content_same": false
        },
        {
          "line": 1065,
          "old_api": null,
          "new_api": "_fileno",
          "old_text": null,
          "new_text": "_fileno(fileout)",
          "old_line_content": "    #endif",
          "new_line_content": "    HANDLE hFile = (HANDLE)_get_osfhandle(_fileno(fileout));",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": null,
          "new_api": "FlushFileBuffers",
          "old_text": null,
          "new_text": "FlushFileBuffers(hFile)",
          "old_line_content": "#endif",
          "new_line_content": "    FlushFileBuffers(hFile);",
          "content_same": false
        },
        {
          "line": 1069,
          "old_api": null,
          "new_api": "fileno",
          "old_text": null,
          "new_text": "fileno(fileout)",
          "old_line_content": "bool TruncateFile(FILE *file, unsigned int length) {",
          "new_line_content": "    fdatasync(fileno(fileout));",
          "content_same": false
        },
        {
          "line": 562,
          "old_api": null,
          "new_api": "reserve",
          "old_text": null,
          "new_text": "strRet.reserve((len+2)/3*4)",
          "old_line_content": "        {",
          "new_line_content": "    strRet.reserve((len+2)/3*4);",
          "content_same": false
        },
        {
          "line": 1080,
          "old_api": null,
          "new_api": "_fileno",
          "old_text": null,
          "new_text": "_fileno(file)",
          "old_line_content": "#if defined(WIN32)",
          "new_line_content": "    return _chsize(_fileno(file), length) == 0;",
          "content_same": false
        },
        {
          "line": 1082,
          "old_api": null,
          "new_api": "fileno",
          "old_text": null,
          "new_text": "fileno(file)",
          "old_line_content": "#else",
          "new_line_content": "    return ftruncate(fileno(file), length) == 0;",
          "content_same": false
        },
        {
          "line": 1093,
          "old_api": null,
          "new_api": "getrlimit",
          "old_text": null,
          "new_text": "getrlimit(RLIMIT_NOFILE, &limitFD)",
          "old_line_content": "    }",
          "new_line_content": "    if (getrlimit(RLIMIT_NOFILE, &limitFD) != -1) {",
          "content_same": false
        },
        {
          "line": 1098,
          "old_api": null,
          "new_api": "setrlimit",
          "old_text": null,
          "new_text": "setrlimit(RLIMIT_NOFILE, &limitFD)",
          "old_line_content": "// this function tries to make a particular range of a file allocated (corresponding to disk space)",
          "new_line_content": "            setrlimit(RLIMIT_NOFILE, &limitFD);",
          "content_same": false
        },
        {
          "line": 1099,
          "old_api": null,
          "new_api": "getrlimit",
          "old_text": null,
          "new_text": "getrlimit(RLIMIT_NOFILE, &limitFD)",
          "old_line_content": "// it is advisory, and the range specified in the arguments will never contain live data",
          "new_line_content": "            getrlimit(RLIMIT_NOFILE, &limitFD);",
          "content_same": false
        },
        {
          "line": 1112,
          "old_api": null,
          "new_api": "_fileno",
          "old_text": null,
          "new_text": "_fileno(file)",
          "old_line_content": "    fstore_t fst;",
          "new_line_content": "    HANDLE hFile = (HANDLE)_get_osfhandle(_fileno(file));",
          "content_same": false
        },
        {
          "line": 605,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "str.size()",
          "old_line_content": "        -1, -1, -1, 62, -1, -1, -1, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1,",
          "new_line_content": "    return EncodeBase64((const unsigned char*)str.c_str(), str.size());",
          "content_same": false
        },
        {
          "line": 1117,
          "old_api": null,
          "new_api": "SetFilePointerEx",
          "old_text": null,
          "new_text": "SetFilePointerEx(hFile, nFileSize, 0, FILE_BEGIN)",
          "old_line_content": "    fst.fst_bytesalloc = 0;",
          "new_line_content": "    SetFilePointerEx(hFile, nFileSize, 0, FILE_BEGIN);",
          "content_same": false
        },
        {
          "line": 1127,
          "old_api": null,
          "new_api": "fileno",
          "old_text": null,
          "new_text": "fileno(file)",
          "old_line_content": "#else",
          "new_line_content": "    if (fcntl(fileno(file), F_PREALLOCATE, &fst) == -1) {",
          "content_same": false
        },
        {
          "line": 1129,
          "old_api": null,
          "new_api": "fileno",
          "old_text": null,
          "new_text": "fileno(file)",
          "old_line_content": "    // TODO: just write one byte per block",
          "new_line_content": "        fcntl(fileno(file), F_PREALLOCATE, &fst);",
          "content_same": false
        },
        {
          "line": 1135,
          "old_api": null,
          "new_api": "fileno",
          "old_text": null,
          "new_text": "fileno(file)",
          "old_line_content": "            now = length;",
          "new_line_content": "    posix_fallocate(fileno(file), 0, nEndPos);",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": null,
          "new_api": "fseek",
          "old_text": null,
          "new_text": "fseek(file, offset, SEEK_SET)",
          "old_line_content": "}",
          "new_line_content": "    fseek(file, offset, SEEK_SET);",
          "content_same": false
        },
        {
          "line": 631,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(p)",
          "old_line_content": "         p++;",
          "new_line_content": "    vchRet.reserve(strlen(p)*3/4);",
          "content_same": false
        },
        {
          "line": 1154,
          "old_api": null,
          "new_api": "GetDataDir",
          "old_text": null,
          "new_text": "GetDataDir()",
          "old_line_content": "",
          "new_line_content": "    boost::filesystem::path pathLog = GetDataDir() / \"debug.log\";",
          "content_same": false
        },
        {
          "line": 1156,
          "old_api": null,
          "new_api": "boost::filesystem::file_size(pathLog)",
          "old_text": null,
          "new_text": "boost::filesystem::file_size(pathLog)",
          "old_line_content": "        if (file)",
          "new_line_content": "    if (file && boost::filesystem::file_size(pathLog) > 10 * 1000000)",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vch.size()",
          "old_line_content": "        }",
          "new_line_content": "        fseek(file, -vch.size(), SEEK_END);",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vchRet.push_back((left<<2) | (dec>>4))",
          "old_line_content": "                 break;",
          "new_line_content": "                  vchRet.push_back((left<<2) | (dec>>4));",
          "content_same": false
        },
        {
          "line": 1161,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vch.size()",
          "old_line_content": "    }",
          "new_line_content": "        int nBytes = fread(begin_ptr(vch), 1, vch.size(), file);",
          "content_same": false
        },
        {
          "line": 1162,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(file)",
          "old_line_content": "    else if (file != NULL)",
          "new_line_content": "        fclose(file);",
          "content_same": false
        },
        {
          "line": 1164,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": "pathLog.string().c_str()",
          "old_line_content": "}",
          "new_line_content": "        file = fopen(pathLog.string().c_str(), \"w\");",
          "content_same": false
        },
        {
          "line": 655,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vchRet.push_back((left<<4) | (dec>>2))",
          "old_line_content": "         }",
          "new_line_content": "                 vchRet.push_back((left<<4) | (dec>>2));",
          "content_same": false
        },
        {
          "line": 1167,
          "old_api": null,
          "new_api": "begin_ptr",
          "old_text": null,
          "new_text": "begin_ptr(vch)",
          "old_line_content": "// \"Never go to sea with two chronometers; take one or three.\"",
          "new_line_content": "            fwrite(begin_ptr(vch), 1, nBytes, file);",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(file)",
          "old_line_content": "// Our three time sources are:",
          "new_line_content": "            fclose(file);",
          "content_same": false
        },
        {
          "line": 1172,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(file)",
          "old_line_content": "//",
          "new_line_content": "        fclose(file);",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vchRet.push_back((left<<6) | dec)",
          "old_line_content": "            case 0: // 4n base64 characters processed: ok",
          "new_line_content": "                 vchRet.push_back((left<<6) | dec);",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": null,
          "new_api": "time",
          "old_text": null,
          "new_text": "time(NULL)",
          "old_line_content": "static int64_t nTimeOffset = 0;",
          "new_line_content": "    return time(NULL);",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(cs_nTimeOffset)",
          "old_line_content": "void AddTimeData(const CNetAddr& ip, int64_t nTime)",
          "new_line_content": "    LOCK(cs_nTimeOffset);",
          "content_same": false
        },
        {
          "line": 181,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vData.size()",
          "old_line_content": "        static bool warned = false; // Warn only once",
          "new_line_content": "        vData.resize(std::max((vData.size()*3)/2, nMaxSize)); // Grow size of buffer exponentially",
          "content_same": false
        },
        {
          "line": 694,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vchRet.size()",
          "old_line_content": "",
          "new_line_content": "    return string((const char*)&vchRet[0], vchRet.size());",
          "content_same": false
        },
        {
          "line": 183,
          "old_api": null,
          "new_api": "RegCloseKey",
          "old_text": null,
          "new_text": "RegCloseKey(HKEY_PERFORMANCE_DATA)",
          "old_line_content": "        {",
          "new_line_content": "    RegCloseKey(HKEY_PERFORMANCE_DATA);",
          "content_same": false
        },
        {
          "line": 1207,
          "old_api": null,
          "new_api": "GetTimeOffset",
          "old_text": null,
          "new_text": "GetTimeOffset()",
          "old_line_content": "    static set<CNetAddr> setKnown;",
          "new_line_content": "    return GetTime() + GetTimeOffset();",
          "content_same": false
        },
        {
          "line": 186,
          "old_api": null,
          "new_api": "begin_ptr",
          "old_text": null,
          "new_text": "begin_ptr(vData)",
          "old_line_content": "        }",
          "new_line_content": "        RAND_add(begin_ptr(vData), nSize, nSize/100.0);",
          "content_same": false
        },
        {
          "line": 187,
          "old_api": null,
          "new_api": "begin_ptr",
          "old_text": null,
          "new_text": "begin_ptr(vData)",
          "old_line_content": "    }",
          "new_line_content": "        OPENSSL_cleanse(begin_ptr(vData), nSize);",
          "content_same": false
        },
        {
          "line": 188,
          "old_api": null,
          "new_api": "LogPrint",
          "old_text": null,
          "new_text": "LogPrint(\"rand\", \"%s: %lu bytes\\n\", __func__, nSize)",
          "old_line_content": "#endif",
          "new_line_content": "        LogPrint(\"rand\", \"%s: %lu bytes\\n\", __func__, nSize);",
          "content_same": false
        },
        {
          "line": 1212,
          "old_api": null,
          "new_api": "GetTime",
          "old_text": null,
          "new_text": "GetTime()",
          "old_line_content": "    static CMedianFilter<int64_t> vTimeOffsets(200,0);",
          "new_line_content": "    int64_t nOffsetSample = nTime - GetTime();",
          "content_same": false
        },
        {
          "line": 702,
          "old_api": null,
          "new_api": "reserve",
          "old_text": null,
          "new_text": "strRet.reserve((len+4)/5*8)",
          "old_line_content": "        {",
          "new_line_content": "    strRet.reserve((len+4)/5*8);",
          "content_same": false
        },
        {
          "line": 193,
          "old_api": null,
          "new_api": "LogPrintf",
          "old_text": null,
          "new_text": "LogPrintf(\"%s: Warning: RegQueryValueExA(HKEY_PERFORMANCE_DATA) failed with code %i\\n\", __func__, ret)",
          "old_line_content": "    if (nMax == 0)",
          "new_line_content": "            LogPrintf(\"%s: Warning: RegQueryValueExA(HKEY_PERFORMANCE_DATA) failed with code %i\\n\", __func__, ret);",
          "content_same": false
        },
        {
          "line": 1222,
          "old_api": null,
          "new_api": "input",
          "old_text": null,
          "new_text": "vTimeOffsets.input(nOffsetSample)",
          "old_line_content": "            nTimeOffset = nMedian;",
          "new_line_content": "    vTimeOffsets.input(nOffsetSample);",
          "content_same": false
        },
        {
          "line": 1223,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vTimeOffsets.size()",
          "old_line_content": "        }",
          "new_line_content": "    LogPrintf(\"Added time data, samples %d, offset %+d (%+d minutes)\\n\", vTimeOffsets.size(), nOffsetSample, nOffsetSample/60);",
          "content_same": false
        },
        {
          "line": 1224,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vTimeOffsets.size()",
          "old_line_content": "        else",
          "new_line_content": "    if (vTimeOffsets.size() >= 5 && vTimeOffsets.size() % 2 == 1)",
          "content_same": false
        },
        {
          "line": 1226,
          "old_api": null,
          "new_api": "median",
          "old_text": null,
          "new_text": "vTimeOffsets.median()",
          "old_line_content": "            nTimeOffset = 0;",
          "new_line_content": "        int64_t nMedian = vTimeOffsets.median();",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": null,
          "new_api": "sorted",
          "old_text": null,
          "new_text": "vTimeOffsets.sorted()",
          "old_line_content": "",
          "new_line_content": "        std::vector<int64_t> vSorted = vTimeOffsets.sorted();",
          "content_same": false
        },
        {
          "line": 1229,
          "old_api": null,
          "new_api": "abs64",
          "old_text": null,
          "new_text": "abs64(nMedian)",
          "old_line_content": "            if (!fDone)",
          "new_line_content": "        if (abs64(nMedian) < 70 * 60)",
          "content_same": false
        },
        {
          "line": 207,
          "old_api": null,
          "new_api": "std::numeric_limits<uint64_t>::max()",
          "old_text": null,
          "new_text": "std::numeric_limits<uint64_t>::max()",
          "old_line_content": "{",
          "new_line_content": "    uint64_t nRange = (std::numeric_limits<uint64_t>::max() / nMax) * nMax;",
          "content_same": false
        },
        {
          "line": 210,
          "old_api": null,
          "new_api": "RAND_bytes",
          "old_text": null,
          "new_text": "RAND_bytes((unsigned char*)&nRand, sizeof(nRand))",
          "old_line_content": "",
          "new_line_content": "        RAND_bytes((unsigned char*)&nRand, sizeof(nRand));",
          "content_same": false
        },
        {
          "line": 217,
          "old_api": null,
          "new_api": "GetRand",
          "old_text": null,
          "new_text": "GetRand(nMax)",
          "old_line_content": "",
          "new_line_content": "    return GetRand(nMax);",
          "content_same": false
        },
        {
          "line": 223,
          "old_api": null,
          "new_api": "RAND_bytes",
          "old_text": null,
          "new_text": "RAND_bytes((unsigned char*)&hash, sizeof(hash))",
          "old_line_content": "// destroyed, and then some later destructor calls OutputDebugStringF,",
          "new_line_content": "    RAND_bytes((unsigned char*)&hash, sizeof(hash));",
          "content_same": false
        },
        {
          "line": 1251,
          "old_api": null,
          "new_api": "LogPrintf",
          "old_text": null,
          "new_text": "LogPrintf(\"*** %s\\n\", strMessage)",
          "old_line_content": "        }",
          "new_line_content": "                    LogPrintf(\"*** %s\\n\", strMessage);",
          "content_same": false
        },
        {
          "line": 1258,
          "old_api": null,
          "new_api": "LogPrintf",
          "old_text": null,
          "new_text": "LogPrintf(\"%+d  \", n)",
          "old_line_content": "void seed_insecure_rand(bool fDeterministic)",
          "new_line_content": "                LogPrintf(\"%+d  \", n);",
          "content_same": false
        },
        {
          "line": 1259,
          "old_api": null,
          "new_api": "LogPrintf",
          "old_text": null,
          "new_text": "LogPrintf(\"|  \")",
          "old_line_content": "{",
          "new_line_content": "            LogPrintf(\"|  \");",
          "content_same": false
        },
        {
          "line": 1261,
          "old_api": null,
          "new_api": "LogPrintf",
          "old_text": null,
          "new_text": "LogPrintf(\"nTimeOffset = %+d  (%+d minutes)\\n\", nTimeOffset, nTimeOffset/60)",
          "old_line_content": "    if(fDeterministic)",
          "new_line_content": "        LogPrintf(\"nTimeOffset = %+d  (%+d minutes)\\n\", nTimeOffset, nTimeOffset/60);",
          "content_same": false
        },
        {
          "line": 244,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(fileout == NULL)",
          "old_line_content": "",
          "new_line_content": "    assert(fileout == NULL);",
          "content_same": false
        },
        {
          "line": 245,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(mutexDebugLog == NULL)",
          "old_line_content": "bool LogAcceptCategory(const char* category)",
          "new_line_content": "    assert(mutexDebugLog == NULL);",
          "content_same": false
        },
        {
          "line": 758,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "str.size()",
          "old_line_content": "        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 26, 27, 28, 29, 30, 31, -1, -1, -1, -1,",
          "new_line_content": "    return EncodeBase32((const unsigned char*)str.c_str(), str.size());",
          "content_same": false
        },
        {
          "line": 247,
          "old_api": null,
          "new_api": "GetDataDir",
          "old_text": null,
          "new_text": "GetDataDir()",
          "old_line_content": "    if (category != NULL)",
          "new_line_content": "    boost::filesystem::path pathDebug = GetDataDir() / \"debug.log\";",
          "content_same": false
        },
        {
          "line": 248,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": "pathDebug.string().c_str()",
          "old_line_content": "    {",
          "new_line_content": "    fileout = fopen(pathDebug.string().c_str(), \"a\");",
          "content_same": false
        },
        {
          "line": 249,
          "old_api": null,
          "new_api": "setbuf",
          "old_text": null,
          "new_text": "setbuf(fileout, NULL)",
          "old_line_content": "        if (!fDebug)",
          "new_line_content": "    if (fileout) setbuf(fileout, NULL); // unbuffered",
          "content_same": false
        },
        {
          "line": 1276,
          "old_api": null,
          "new_api": "RAND_bytes",
          "old_text": null,
          "new_text": "RAND_bytes((unsigned char*)&tmp, 4)",
          "old_line_content": "",
          "new_line_content": "            RAND_bytes((unsigned char*)&tmp, 4);",
          "content_same": false
        },
        {
          "line": 1289,
          "old_api": null,
          "new_api": "strprintf",
          "old_text": null,
          "new_text": "strprintf(\"%d.%d.%d\", nVersion/1000000, (nVersion/10000)%100, (nVersion/100)%100)",
          "old_line_content": "",
          "new_line_content": "        return strprintf(\"%d.%d.%d\", nVersion/1000000, (nVersion/10000)%100, (nVersion/100)%100);",
          "content_same": false
        },
        {
          "line": 1291,
          "old_api": null,
          "new_api": "strprintf",
          "old_text": null,
          "new_text": "strprintf(\"%d.%d.%d.%d\", nVersion/1000000, (nVersion/10000)%100, (nVersion/100)%100, nVersion%100)",
          "old_line_content": "std::string FormatSubVersion(const std::string& name, int nClientVersion, const std::vector<std::string>& comments)",
          "new_line_content": "        return strprintf(\"%d.%d.%d.%d\", nVersion/1000000, (nVersion/10000)%100, (nVersion/100)%100, nVersion%100);",
          "content_same": false
        },
        {
          "line": 269,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "categories.end()",
          "old_line_content": "    }",
          "new_line_content": "            ptrCategory.reset(new set<string>(categories.begin(), categories.end()));",
          "content_same": false
        },
        {
          "line": 272,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "ptrCategory.get()",
          "old_line_content": "",
          "new_line_content": "        const set<string>& setCategories = *ptrCategory.get();",
          "content_same": false
        },
        {
          "line": 784,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(p)",
          "old_line_content": "         p++;",
          "new_line_content": "    vchRet.reserve((strlen(p))*5/8);",
          "content_same": false
        },
        {
          "line": 275,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": "string(\"\")",
          "old_line_content": "    int ret = 0; // Returns total number of characters written",
          "new_line_content": "        if (setCategories.count(string(\"\")) == 0 &&",
          "content_same": false
        },
        {
          "line": 276,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": "string(category)",
          "old_line_content": "    if (fPrintToConsole)",
          "new_line_content": "            setCategories.count(string(category)) == 0)",
          "content_same": false
        },
        {
          "line": 1304,
          "old_api": null,
          "new_api": "FormatVersion",
          "old_text": null,
          "new_text": "FormatVersion(nClientVersion)",
          "old_line_content": "{",
          "new_line_content": "    ss << name << \":\" << FormatVersion(nClientVersion);",
          "content_same": false
        },
        {
          "line": 1305,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "comments.empty()",
          "old_line_content": "    namespace fs = boost::filesystem;",
          "new_line_content": "    if (!comments.empty())",
          "content_same": false
        },
        {
          "line": 1306,
          "old_api": null,
          "new_api": "boost::algorithm::join(comments, \"; \")",
          "old_text": null,
          "new_text": "boost::algorithm::join(comments, \"; \")",
          "old_line_content": "",
          "new_line_content": "        ss << \"(\" << boost::algorithm::join(comments, \"; \") << \")\";",
          "content_same": false
        },
        {
          "line": 1308,
          "old_api": null,
          "new_api": "str",
          "old_text": null,
          "new_text": "ss.str()",
          "old_line_content": "",
          "new_line_content": "    return ss.str();",
          "content_same": false
        },
        {
          "line": 288,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "str.size()",
          "old_line_content": "",
          "new_line_content": "        ret = fwrite(str.data(), 1, str.size(), stdout);",
          "content_same": false
        },
        {
          "line": 802,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vchRet.push_back((left<<3) | (dec>>2))",
          "old_line_content": "",
          "new_line_content": "                  vchRet.push_back((left<<3) | (dec>>2));",
          "content_same": false
        },
        {
          "line": 293,
          "old_api": null,
          "new_api": "boost::call_once(&DebugPrintInit, debugPrintInitFlag)",
          "old_text": null,
          "new_text": "boost::call_once(&DebugPrintInit, debugPrintInitFlag)",
          "old_line_content": "            fReopenDebugLog = false;",
          "new_line_content": "        boost::call_once(&DebugPrintInit, debugPrintInitFlag);",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": null,
          "new_api": "SHGetSpecialFolderPathA",
          "old_text": null,
          "new_text": "SHGetSpecialFolderPathA(NULL, pszPath, nFolder, fCreate)",
          "old_line_content": "",
          "new_line_content": "    if(SHGetSpecialFolderPathA(NULL, pszPath, nFolder, fCreate))",
          "content_same": false
        },
        {
          "line": 1320,
          "old_api": null,
          "new_api": "fs::path(pszPath)",
          "old_text": null,
          "new_text": "fs::path(pszPath)",
          "old_line_content": "#if BOOST_FILESYSTEM_VERSION == 3",
          "new_line_content": "        return fs::path(pszPath);",
          "content_same": false
        },
        {
          "line": 1323,
          "old_api": null,
          "new_api": "LogPrintf",
          "old_text": null,
          "new_text": "LogPrintf(\"SHGetSpecialFolderPathA() failed, could not obtain requested path.\\n\")",
          "old_line_content": "    // TODO: remove when we don't support filesystem v2 anymore",
          "new_line_content": "    LogPrintf(\"SHGetSpecialFolderPathA() failed, could not obtain requested path.\\n\");",
          "content_same": false
        },
        {
          "line": 1324,
          "old_api": null,
          "new_api": "fs::path(\"\")",
          "old_text": null,
          "new_text": "fs::path(\"\")",
          "old_line_content": "    boost::filesystem::path path;",
          "new_line_content": "    return fs::path(\"\");",
          "content_same": false
        },
        {
          "line": 813,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vchRet.push_back((left<<1) | (dec>>4))",
          "old_line_content": "                 break;",
          "new_line_content": "                 vchRet.push_back((left<<1) | (dec>>4));",
          "content_same": false
        },
        {
          "line": 303,
          "old_api": null,
          "new_api": "GetDataDir",
          "old_text": null,
          "new_text": "GetDataDir()",
          "old_line_content": "            fStartedNewLine = true;",
          "new_line_content": "            boost::filesystem::path pathDebug = GetDataDir() / \"debug.log\";",
          "content_same": false
        },
        {
          "line": 304,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": "pathDebug.string().c_str()",
          "old_line_content": "        else",
          "new_line_content": "            if (freopen(pathDebug.string().c_str(),\"a\",fileout) != NULL)",
          "content_same": false
        },
        {
          "line": 305,
          "old_api": null,
          "new_api": "setbuf",
          "old_text": null,
          "new_text": "setbuf(fileout, NULL)",
          "old_line_content": "            fStartedNewLine = false;",
          "new_line_content": "                setbuf(fileout, NULL); // unbuffered",
          "content_same": false
        },
        {
          "line": 1330,
          "old_api": null,
          "new_api": "boost::filesystem::temp_directory_path()",
          "old_text": null,
          "new_text": "boost::filesystem::temp_directory_path()",
          "old_line_content": "#else",
          "new_line_content": "    return boost::filesystem::temp_directory_path();",
          "content_same": false
        },
        {
          "line": 819,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vchRet.push_back((left<<4) | (dec>>1))",
          "old_line_content": "",
          "new_line_content": "                 vchRet.push_back((left<<4) | (dec>>1));",
          "content_same": false
        },
        {
          "line": 310,
          "old_api": null,
          "new_api": "GetTime",
          "old_text": null,
          "new_text": "GetTime()",
          "old_line_content": "    return ret;",
          "new_line_content": "            ret += fprintf(fileout, \"%s \", DateTimeStrFormat(\"%Y-%m-%d %H:%M:%S\", GetTime()).c_str());",
          "content_same": false
        },
        {
          "line": 311,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "str.size()",
          "old_line_content": "}",
          "new_line_content": "        if (!str.empty() && str[str.size()-1] == '\\n')",
          "content_same": false
        },
        {
          "line": 1337,
          "old_api": null,
          "new_api": "GetTempPathA",
          "old_text": null,
          "new_text": "GetTempPathA(MAX_PATH, pszPath)",
          "old_line_content": "    return path;",
          "new_line_content": "    if (GetTempPathA(MAX_PATH, pszPath))",
          "content_same": false
        },
        {
          "line": 1338,
          "old_api": null,
          "new_api": "boost::filesystem::path(pszPath)",
          "old_text": null,
          "new_text": "boost::filesystem::path(pszPath)",
          "old_line_content": "#endif",
          "new_line_content": "        path = boost::filesystem::path(pszPath);",
          "content_same": false
        },
        {
          "line": 316,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "str.size()",
          "old_line_content": "    // localized number formatting.",
          "new_line_content": "        ret = fwrite(str.data(), 1, str.size(), fileout);",
          "content_same": false
        },
        {
          "line": 1340,
          "old_api": null,
          "new_api": "boost::filesystem::path(\"/tmp\")",
          "old_text": null,
          "new_text": "boost::filesystem::path(\"/tmp\")",
          "old_line_content": "",
          "new_line_content": "    path = boost::filesystem::path(\"/tmp\");",
          "content_same": false
        },
        {
          "line": 830,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vchRet.push_back((left<<2) | (dec>>3))",
          "old_line_content": "         }",
          "new_line_content": "                 vchRet.push_back((left<<2) | (dec>>3));",
          "content_same": false
        },
        {
          "line": 1342,
          "old_api": null,
          "new_api": "boost::filesystem::is_directory(path)",
          "old_text": null,
          "new_text": "boost::filesystem::is_directory(path)",
          "old_line_content": "{",
          "new_line_content": "    if (path.empty() || !boost::filesystem::is_directory(path)) {",
          "content_same": false
        },
        {
          "line": 1344,
          "old_api": null,
          "new_api": "boost::filesystem::path(\"\")",
          "old_text": null,
          "new_text": "boost::filesystem::path(\"\")",
          "old_line_content": "    if (nErr)",
          "new_line_content": "        return boost::filesystem::path(\"\");",
          "content_same": false
        },
        {
          "line": 836,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vchRet.push_back((left<<5) | dec)",
          "old_line_content": "            case 0: // 8n base32 characters processed: ok",
          "new_line_content": "                 vchRet.push_back((left<<5) | dec);",
          "content_same": false
        },
        {
          "line": 329,
          "old_api": null,
          "new_api": "strprintf",
          "old_text": null,
          "new_text": "strprintf(\"%d.%08d\", quotient, remainder)",
          "old_line_content": "    if (n < 0)",
          "new_line_content": "    string str = strprintf(\"%d.%08d\", quotient, remainder);",
          "content_same": false
        },
        {
          "line": 1354,
          "old_api": null,
          "new_api": "LogPrintf",
          "old_text": null,
          "new_text": "LogPrintf(\"runCommand error: system(%s) returned %d\\n\", strCommand, nErr)",
          "old_line_content": "    // TODO: This is currently disabled because it needs to be verified to work",
          "new_line_content": "        LogPrintf(\"runCommand error: system(%s) returned %d\\n\", strCommand, nErr);",
          "content_same": false
        },
        {
          "line": 333,
          "old_api": null,
          "new_api": "isdigit",
          "old_text": null,
          "new_text": "isdigit(str[i-2])",
          "old_line_content": "    return str;",
          "new_line_content": "    for (int i = str.size()-1; (str[i] == '0' && isdigit(str[i-2])); --i)",
          "content_same": false
        },
        {
          "line": 336,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "str.size()",
          "old_line_content": "",
          "new_line_content": "        str.erase(str.size()-nTrim, nTrim);",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": null,
          "new_api": "::prctl(PR_SET_NAME, name, 0, 0, 0)",
          "old_text": null,
          "new_text": "::prctl(PR_SET_NAME, name, 0, 0, 0)",
          "old_line_content": "// pthread_setname_np is XCode 10.6-and-later",
          "new_line_content": "    ::prctl(PR_SET_NAME, name, 0, 0, 0);",
          "content_same": false
        },
        {
          "line": 341,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "str.insert((unsigned int)0, 1, '+')",
          "old_line_content": "",
          "new_line_content": "        str.insert((unsigned int)0, 1, '+');",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": null,
          "new_api": "pthread_self",
          "old_text": null,
          "new_text": "pthread_self()",
          "old_line_content": "#else",
          "new_line_content": "    pthread_set_name_np(pthread_self(), name);",
          "content_same": false
        },
        {
          "line": 348,
          "old_api": null,
          "new_api": "c_str",
          "old_text": null,
          "new_text": "str.c_str()",
          "old_line_content": "        p++;",
          "new_line_content": "    return ParseMoney(str.c_str(), nRet);",
          "content_same": false
        },
        {
          "line": 1372,
          "old_api": null,
          "new_api": "pthread_setname_np",
          "old_text": null,
          "new_text": "pthread_setname_np(name)",
          "old_line_content": "bool ParseInt32(const std::string& str, int32_t *out)",
          "new_line_content": "    pthread_setname_np(name);",
          "content_same": false
        },
        {
          "line": 356,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(*p)",
          "old_line_content": "            {",
          "new_line_content": "    while (isspace(*p))",
          "content_same": false
        },
        {
          "line": 1385,
          "old_api": null,
          "new_api": "c_str",
          "old_text": null,
          "new_text": "str.c_str()",
          "old_line_content": "",
          "new_line_content": "    long int n = strtol(str.c_str(), &endp, 10);",
          "content_same": false
        },
        {
          "line": 1391,
          "old_api": null,
          "new_api": "std::numeric_limits<int32_t>::min()",
          "old_text": null,
          "new_text": "std::numeric_limits<int32_t>::min()",
          "old_line_content": "#if BOOST_FILESYSTEM_VERSION == 3",
          "new_line_content": "        n >= std::numeric_limits<int32_t>::min() &&",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": null,
          "new_api": "c_str",
          "old_text": null,
          "new_text": "str.c_str()",
          "old_line_content": "#else",
          "new_line_content": "    vector<unsigned char> vchRet = DecodeBase32(str.c_str());",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vchRet.size()",
          "old_line_content": "    const char* pszModule = \"bitcoin\";",
          "new_line_content": "    return string((const char*)&vchRet[0], vchRet.size());",
          "content_same": false
        },
        {
          "line": 373,
          "old_api": null,
          "new_api": "isdigit",
          "old_text": null,
          "new_text": "isdigit(*p)",
          "old_line_content": "    if (nUnits < 0 || nUnits > COIN)",
          "new_line_content": "        if (!isdigit(*p))",
          "content_same": false
        },
        {
          "line": 888,
          "old_api": null,
          "new_api": "GetModuleFileNameA",
          "old_text": null,
          "new_text": "GetModuleFileNameA(NULL, pszModule, sizeof(pszModule))",
          "old_line_content": "            \"UNKNOWN EXCEPTION       \\n%s in %s       \\n\", pszModule, pszThread);",
          "new_line_content": "    GetModuleFileNameA(NULL, pszModule, sizeof(pszModule));",
          "content_same": false
        },
        {
          "line": 1401,
          "old_api": null,
          "new_api": "boost::filesystem::path::codecvt()",
          "old_text": null,
          "new_text": "boost::filesystem::path::codecvt()",
          "old_line_content": "}",
          "new_line_content": "            boost::filesystem::path::codecvt(); // Raises runtime error if current locale is invalid",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(*p)",
          "old_line_content": "    nRet = nValue;",
          "new_line_content": "        if (!isspace(*p))",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": null,
          "new_api": "std::locale()",
          "old_text": null,
          "new_text": "std::locale()",
          "old_line_content": "std::string DateTimeStrFormat(const char* pszFormat, int64_t nTime)",
          "new_line_content": "            std::locale();                      // Raises runtime error if current locale is invalid",
          "content_same": false
        },
        {
          "line": 380,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "strWhole.size()",
          "old_line_content": "}",
          "new_line_content": "    if (strWhole.size() > 10) // guard against 63 bit overflow",
          "content_same": false
        },
        {
          "line": 1407,
          "old_api": null,
          "new_api": "setenv",
          "old_text": null,
          "new_text": "setenv(\"LC_ALL\", \"C\", 1)",
          "old_line_content": "    std::stringstream ss;",
          "new_line_content": "        setenv(\"LC_ALL\", \"C\", 1); // Force C locale",
          "content_same": false
        },
        {
          "line": 384,
          "old_api": null,
          "new_api": "atoi64",
          "old_text": null,
          "new_text": "atoi64(strWhole)",
          "old_line_content": "static string safeChars(\"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ01234567890 .,;_/:?@\");",
          "new_line_content": "    int64_t nWhole = atoi64(strWhole);",
          "content_same": false
        },
        {
          "line": 896,
          "old_api": null,
          "new_api": "strprintf",
          "old_text": null,
          "new_text": "strprintf(\n            \"UNKNOWN EXCEPTION       \\n%s in %s       \\n\", pszModule, pszThread)",
          "old_line_content": "    strMiscWarning = message;",
          "new_line_content": "        return strprintf(",
          "content_same": false
        },
        {
          "line": 902,
          "old_api": null,
          "new_api": "FormatException",
          "old_text": null,
          "new_text": "FormatException(pex, pszThread)",
          "old_line_content": "    // Windows < Vista: C:\\Documents and Settings\\Username\\Application Data\\Bitcoin",
          "new_line_content": "    std::string message = FormatException(pex, pszThread);",
          "content_same": false
        },
        {
          "line": 903,
          "old_api": null,
          "new_api": "LogPrintf",
          "old_text": null,
          "new_text": "LogPrintf(\"\\n\\n************************\\n%s\\n\", message)",
          "old_line_content": "    // Windows >= Vista: C:\\Users\\Username\\AppData\\Roaming\\Bitcoin",
          "new_line_content": "    LogPrintf(\"\\n\\n************************\\n%s\\n\", message);",
          "content_same": false
        },
        {
          "line": 904,
          "old_api": null,
          "new_api": "c_str",
          "old_text": null,
          "new_text": "message.c_str()",
          "old_line_content": "    // Mac: ~/Library/Application Support/Bitcoin",
          "new_line_content": "    fprintf(stderr, \"\\n\\n************************\\n%s\\n\", message.c_str());",
          "content_same": false
        },
        {
          "line": 1417,
          "old_api": null,
          "new_api": "imbue",
          "old_text": null,
          "new_text": "ss.imbue(loc)",
          "old_line_content": "    size_t ptr = 0;",
          "new_line_content": "    ss.imbue(loc);",
          "content_same": false
        },
        {
          "line": 1419,
          "old_api": null,
          "new_api": "str",
          "old_text": null,
          "new_text": "ss.str()",
          "old_line_content": "    {",
          "new_line_content": "    return ss.str();",
          "content_same": false
        },
        {
          "line": 397,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "str.size()",
          "old_line_content": "{ -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,",
          "new_line_content": "    for (std::string::size_type i = 0; i < str.size(); i++)",
          "content_same": false
        },
        {
          "line": 399,
          "old_api": null,
          "new_api": "find",
          "old_text": null,
          "new_text": "safeChars.find(str[i])",
          "old_line_content": "  -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,",
          "new_line_content": "        if (safeChars.find(str[i]) != std::string::npos)",
          "content_same": false
        },
        {
          "line": 400,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "strResult.push_back(str[i])",
          "old_line_content": "  0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,",
          "new_line_content": "            strResult.push_back(str[i]);",
          "content_same": false
        },
        {
          "line": 917,
          "old_api": null,
          "new_api": "GetSpecialFolderPath",
          "old_text": null,
          "new_text": "GetSpecialFolderPath(CSIDL_APPDATA)",
          "old_line_content": "    // Mac",
          "new_line_content": "    return GetSpecialFolderPath(CSIDL_APPDATA) / \"Bitcoin\";",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": null,
          "new_api": "find_first_not_of",
          "old_text": null,
          "new_text": "in.find_first_not_of(' ', ptr)",
          "old_line_content": "        {",
          "new_line_content": "        ptr = in.find_first_not_of(' ', ptr);",
          "content_same": false
        },
        {
          "line": 920,
          "old_api": null,
          "new_api": "getenv",
          "old_text": null,
          "new_text": "getenv(\"HOME\")",
          "old_line_content": "    return pathRet / \"Bitcoin\";",
          "new_line_content": "    char* pszHome = getenv(\"HOME\");",
          "content_same": false
        },
        {
          "line": 921,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(pszHome)",
          "old_line_content": "#else",
          "new_line_content": "    if (pszHome == NULL || strlen(pszHome) == 0)",
          "content_same": false
        },
        {
          "line": 922,
          "old_api": null,
          "new_api": "fs::path(\"/\")",
          "old_text": null,
          "new_text": "fs::path(\"/\")",
          "old_line_content": "    // Unix",
          "new_line_content": "        pathRet = fs::path(\"/\");",
          "content_same": false
        },
        {
          "line": 1434,
          "old_api": null,
          "new_api": "find_first_of",
          "old_text": null,
          "new_text": "in.find_first_of(' ', ptr)",
          "old_line_content": "                for(size_t i=0; i<indent; ++i)",
          "new_line_content": "        size_t endword = in.find_first_of(' ', ptr);",
          "content_same": false
        },
        {
          "line": 924,
          "old_api": null,
          "new_api": "fs::path(pszHome)",
          "old_text": null,
          "new_text": "fs::path(pszHome)",
          "old_line_content": "#endif",
          "new_line_content": "        pathRet = fs::path(pszHome);",
          "content_same": false
        },
        {
          "line": 1436,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "in.size()",
          "old_line_content": "                col = 0;",
          "new_line_content": "            endword = in.size();",
          "content_same": false
        },
        {
          "line": 928,
          "old_api": null,
          "new_api": "TryCreateDirectory",
          "old_text": null,
          "new_text": "TryCreateDirectory(pathRet)",
          "old_line_content": "static boost::filesystem::path pathCached[CChainParams::MAX_NETWORK_TYPES+1];",
          "new_line_content": "    TryCreateDirectory(pathRet);",
          "content_same": false
        },
        {
          "line": 1450,
          "old_api": null,
          "new_api": "substr",
          "old_text": null,
          "new_text": "in.substr(ptr, endword - ptr)",
          "old_line_content": "",
          "new_line_content": "        out << in.substr(ptr, endword - ptr);",
          "content_same": false
        },
        {
          "line": 427,
          "old_api": null,
          "new_api": "HexDigit",
          "old_text": null,
          "new_text": "HexDigit(c)",
          "old_line_content": "    vector<unsigned char> vch;",
          "new_line_content": "        if (HexDigit(c) < 0)",
          "content_same": false
        },
        {
          "line": 1454,
          "old_api": null,
          "new_api": "str",
          "old_text": null,
          "new_text": "out.str()",
          "old_line_content": "",
          "new_line_content": "    return out.str();",
          "content_same": false
        },
        {
          "line": 439,
          "old_api": null,
          "new_api": "isspace",
          "old_text": null,
          "new_text": "isspace(*psz)",
          "old_line_content": "        n |= c;",
          "new_line_content": "        while (isspace(*psz))",
          "content_same": false
        },
        {
          "line": 441,
          "old_api": null,
          "new_api": "HexDigit",
          "old_text": null,
          "new_text": "HexDigit(*psz++)",
          "old_line_content": "    }",
          "new_line_content": "        signed char c = HexDigit(*psz++);",
          "content_same": false
        },
        {
          "line": 953,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "path.empty()",
          "old_line_content": "    } else {",
          "new_line_content": "    if (!path.empty())",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "mapArgs.count(\"-datadir\")",
          "old_line_content": "    if (fNetSpecific)",
          "new_line_content": "    if (mapArgs.count(\"-datadir\")) {",
          "content_same": false
        },
        {
          "line": 445,
          "old_api": null,
          "new_api": "HexDigit",
          "old_text": null,
          "new_text": "HexDigit(*psz++)",
          "old_line_content": "vector<unsigned char> ParseHex(const string& str)",
          "new_line_content": "        c = HexDigit(*psz++);",
          "content_same": false
        },
        {
          "line": 958,
          "old_api": null,
          "new_api": "fs::is_directory(path)",
          "old_text": null,
          "new_text": "fs::is_directory(path)",
          "old_line_content": "",
          "new_line_content": "        if (!fs::is_directory(path)) {",
          "content_same": false
        },
        {
          "line": 449,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vch.push_back(n)",
          "old_line_content": "",
          "new_line_content": "        vch.push_back(n);",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": null,
          "new_api": "GetDefaultDataDir",
          "old_text": null,
          "new_text": "GetDefaultDataDir()",
          "old_line_content": "",
          "new_line_content": "        path = GetDefaultDataDir();",
          "content_same": false
        },
        {
          "line": 968,
          "old_api": null,
          "new_api": "fs::create_directories(path)",
          "old_text": null,
          "new_text": "fs::create_directories(path)",
          "old_line_content": "}",
          "new_line_content": "    fs::create_directories(path);",
          "content_same": false
        },
        {
          "line": 462,
          "old_api": null,
          "new_api": "find",
          "old_text": null,
          "new_text": "name.find(\"-no\")",
          "old_line_content": "    }",
          "new_line_content": "    if (name.find(\"-no\") == 0)",
          "content_same": false
        },
        {
          "line": 975,
          "old_api": null,
          "new_api": "std::fill(&pathCached[0], &pathCached[CChainParams::MAX_NETWORK_TYPES+1],\n        boost::filesystem::path())",
          "old_text": null,
          "new_text": "std::fill(&pathCached[0], &pathCached[CChainParams::MAX_NETWORK_TYPES+1],\n        boost::filesystem::path())",
          "old_line_content": "",
          "new_line_content": "    std::fill(&pathCached[0], &pathCached[CChainParams::MAX_NETWORK_TYPES+1],",
          "content_same": false
        },
        {
          "line": 976,
          "old_api": null,
          "new_api": "boost::filesystem::path()",
          "old_text": null,
          "new_text": "boost::filesystem::path()",
          "old_line_content": "    return pathConfigFile;",
          "new_line_content": "        boost::filesystem::path());",
          "content_same": false
        },
        {
          "line": 465,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "name.end()",
          "old_line_content": "void ParseParameters(int argc, const char* const argv[])",
          "new_line_content": "        positive.append(name.begin()+3, name.end());",
          "content_same": false
        },
        {
          "line": 466,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "mapSettingsRet.count(positive)",
          "old_line_content": "{",
          "new_line_content": "        if (mapSettingsRet.count(positive) == 0)",
          "content_same": false
        },
        {
          "line": 981,
          "old_api": null,
          "new_api": "GetArg",
          "old_text": null,
          "new_text": "GetArg(\"-conf\", \"bitcoin.conf\")",
          "old_line_content": "{",
          "new_line_content": "    boost::filesystem::path pathConfigFile(GetArg(\"-conf\", \"bitcoin.conf\"));",
          "content_same": false
        },
        {
          "line": 982,
          "old_api": null,
          "new_api": "is_complete",
          "old_text": null,
          "new_text": "pathConfigFile.is_complete()",
          "old_line_content": "    boost::filesystem::ifstream streamConfig(GetConfigFile());",
          "new_line_content": "    if (!pathConfigFile.is_complete())",
          "content_same": false
        },
        {
          "line": 476,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "mapArgs.clear()",
          "old_line_content": "        {",
          "new_line_content": "    mapArgs.clear();",
          "content_same": false
        },
        {
          "line": 996,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "setOptions.insert(\"*\")",
          "old_line_content": "            // interpret nofoo=1 as foo=0 (and nofoo=0 as foo=1) as long as foo not set)",
          "new_line_content": "    setOptions.insert(\"*\");",
          "content_same": false
        },
        {
          "line": 486,
          "old_api": null,
          "new_api": "substr",
          "old_text": null,
          "new_text": "str.substr(is_index+1)",
          "old_line_content": "        if (str[0] != '-')",
          "new_line_content": "            strValue = str.substr(is_index+1);",
          "content_same": false
        },
        {
          "line": 487,
          "old_api": null,
          "new_api": "substr",
          "old_text": null,
          "new_text": "str.substr(0, is_index)",
          "old_line_content": "            break;",
          "new_line_content": "            str = str.substr(0, is_index);",
          "content_same": false
        },
        {
          "line": 504,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "mapMultiArgs[str].push_back(strValue)",
          "old_line_content": "}",
          "new_line_content": "        mapMultiArgs[str].push_back(strValue);",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": "string(\"-\")",
          "old_line_content": "    // If datadir is changed in .conf file:",
          "new_line_content": "        string strKey = string(\"-\") + it->string_key;",
          "content_same": false
        },
        {
          "line": 490,
          "old_api": null,
          "new_api": "boost::to_lower(str)",
          "old_text": null,
          "new_text": "boost::to_lower(str)",
          "old_line_content": "        // If both --foo and -foo are set, the last takes effect.",
          "new_line_content": "        boost::to_lower(str);",
          "content_same": false
        },
        {
          "line": 1006,
          "old_api": null,
          "new_api": "InterpretNegativeSetting",
          "old_text": null,
          "new_text": "InterpretNegativeSetting(strKey, mapSettingsRet)",
          "old_line_content": "{",
          "new_line_content": "            InterpretNegativeSetting(strKey, mapSettingsRet);",
          "content_same": false
        },
        {
          "line": 1011,
          "old_api": null,
          "new_api": "ClearDatadirCache",
          "old_text": null,
          "new_text": "ClearDatadirCache()",
          "old_line_content": "",
          "new_line_content": "    ClearDatadirCache();",
          "content_same": false
        },
        {
          "line": 500,
          "old_api": null,
          "new_api": "length",
          "old_text": null,
          "new_text": "str.length()",
          "old_line_content": "    {",
          "new_line_content": "        if (str.length() > 1 && str[1] == '-')",
          "content_same": false
        },
        {
          "line": 501,
          "old_api": null,
          "new_api": "substr",
          "old_text": null,
          "new_text": "str.substr(1)",
          "old_line_content": "        // interpret -nofoo as -foo=0 (and -nofoo=0 as -foo=1) as long as -foo not set",
          "new_line_content": "            str = str.substr(1);",
          "content_same": false
        },
        {
          "line": 1016,
          "old_api": null,
          "new_api": "GetArg",
          "old_text": null,
          "new_text": "GetArg(\"-pid\", \"bitcoind.pid\")",
          "old_line_content": "    if (file)",
          "new_line_content": "    boost::filesystem::path pathPidFile(GetArg(\"-pid\", \"bitcoind.pid\"));",
          "content_same": false
        },
        {
          "line": 1017,
          "old_api": null,
          "new_api": "GetDataDir",
          "old_text": null,
          "new_text": "GetDataDir()",
          "old_line_content": "    {",
          "new_line_content": "    if (!pathPidFile.is_complete()) pathPidFile = GetDataDir() / pathPidFile;",
          "content_same": false
        },
        {
          "line": 511,
          "old_api": null,
          "new_api": "InterpretNegativeSetting",
          "old_text": null,
          "new_text": "InterpretNegativeSetting(entry.first, mapArgs)",
          "old_line_content": "}",
          "new_line_content": "        InterpretNegativeSetting(entry.first, mapArgs);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 515,
          "old_api": "count",
          "new_api": null,
          "old_text": "mapArgs.count(strArg)",
          "new_text": null,
          "old_line_content": "    if (mapArgs.count(strArg))",
          "new_line_content": "std::string GetArg(const std::string& strArg, const std::string& strDefault)",
          "content_same": false
        },
        {
          "line": 516,
          "old_api": "atoi64",
          "new_api": null,
          "old_text": "atoi64(mapArgs[strArg])",
          "new_text": null,
          "old_line_content": "        return atoi64(mapArgs[strArg]);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1030,
          "old_api": "string",
          "new_api": null,
          "old_text": "dest.string().c_str()",
          "new_text": null,
          "old_line_content": "    int rc = std::rename(src.string().c_str(), dest.string().c_str());",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 522,
          "old_api": "count",
          "new_api": null,
          "old_text": "mapArgs.count(strArg)",
          "new_text": null,
          "old_line_content": "    if (mapArgs.count(strArg))",
          "new_line_content": "int64_t GetArg(const std::string& strArg, int64_t nDefault)",
          "content_same": false
        },
        {
          "line": 526,
          "old_api": "atoi",
          "new_api": null,
          "old_text": "atoi(mapArgs[strArg])",
          "new_text": null,
          "old_line_content": "        return (atoi(mapArgs[strArg]) != 0);",
          "new_line_content": "    return nDefault;",
          "content_same": false
        },
        {
          "line": 1042,
          "old_api": "boost::filesystem::create_directory(p)",
          "new_api": null,
          "old_text": "boost::filesystem::create_directory(p)",
          "new_text": null,
          "old_line_content": "        return boost::filesystem::create_directory(p);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1044,
          "old_api": "boost::filesystem::is_directory(p)",
          "new_api": null,
          "old_text": "boost::filesystem::is_directory(p)",
          "new_text": null,
          "old_line_content": "        if (!boost::filesystem::exists(p) || !boost::filesystem::is_directory(p))",
          "new_line_content": "// Ignores exceptions thrown by Boost's create_directory if the requested directory exists.",
          "content_same": false
        },
        {
          "line": 1054,
          "old_api": "fflush",
          "new_api": null,
          "old_text": "fflush(fileout)",
          "new_text": null,
          "old_line_content": "    fflush(fileout); // harmless if redundantly called",
          "new_line_content": "            throw;",
          "content_same": false
        },
        {
          "line": 544,
          "old_api": "std::string(\"0\")",
          "new_api": null,
          "old_text": "std::string(\"0\")",
          "new_text": null,
          "old_line_content": "        return SoftSetArg(strArg, std::string(\"0\"));",
          "new_line_content": "    mapArgs[strArg] = strValue;",
          "content_same": false
        },
        {
          "line": 1056,
          "old_api": "_fileno",
          "new_api": null,
          "old_text": "_fileno(fileout)",
          "new_text": null,
          "old_line_content": "    HANDLE hFile = (HANDLE)_get_osfhandle(_fileno(fileout));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1057,
          "old_api": "FlushFileBuffers",
          "new_api": null,
          "old_text": "FlushFileBuffers(hFile)",
          "new_text": null,
          "old_line_content": "    FlushFileBuffers(hFile);",
          "new_line_content": "    // create_directory didn't create the directory, it had to have existed already",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": "fileno",
          "new_api": null,
          "old_text": "fileno(fileout)",
          "new_text": null,
          "old_line_content": "    fdatasync(fileno(fileout));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1062,
          "old_api": "fileno",
          "new_api": null,
          "old_text": "fileno(fileout)",
          "new_text": null,
          "old_line_content": "    fcntl(fileno(fileout), F_FULLFSYNC, 0);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": "fileno",
          "new_api": null,
          "old_text": "fileno(fileout)",
          "new_text": null,
          "old_line_content": "    fsync(fileno(fileout));",
          "new_line_content": "#ifdef WIN32",
          "content_same": false
        },
        {
          "line": 1084,
          "old_api": "getrlimit",
          "new_api": null,
          "old_text": "getrlimit(RLIMIT_NOFILE, &limitFD)",
          "new_text": null,
          "old_line_content": "    if (getrlimit(RLIMIT_NOFILE, &limitFD) != -1) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1089,
          "old_api": "setrlimit",
          "new_api": null,
          "old_text": "setrlimit(RLIMIT_NOFILE, &limitFD)",
          "new_text": null,
          "old_line_content": "            setrlimit(RLIMIT_NOFILE, &limitFD);",
          "new_line_content": "#if defined(WIN32)",
          "content_same": false
        },
        {
          "line": 1090,
          "old_api": "getrlimit",
          "new_api": null,
          "old_text": "getrlimit(RLIMIT_NOFILE, &limitFD)",
          "new_text": null,
          "old_line_content": "            getrlimit(RLIMIT_NOFILE, &limitFD);",
          "new_line_content": "    return 2048;",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": "_fileno",
          "new_api": null,
          "old_text": "_fileno(file)",
          "new_text": null,
          "old_line_content": "    HANDLE hFile = (HANDLE)_get_osfhandle(_fileno(file));",
          "new_line_content": "    return nMinFD; // getrlimit failed, assume it's fine",
          "content_same": false
        },
        {
          "line": 596,
          "old_api": "size",
          "new_api": null,
          "old_text": "str.size()",
          "new_text": null,
          "old_line_content": "    return EncodeBase64((const unsigned char*)str.c_str(), str.size());",
          "new_line_content": "        if (mode == 1)",
          "content_same": false
        },
        {
          "line": 1108,
          "old_api": "SetFilePointerEx",
          "new_api": null,
          "old_text": "SetFilePointerEx(hFile, nFileSize, 0, FILE_BEGIN)",
          "new_text": null,
          "old_line_content": "    SetFilePointerEx(hFile, nFileSize, 0, FILE_BEGIN);",
          "new_line_content": "// it is advisory, and the range specified in the arguments will never contain live data",
          "content_same": false
        },
        {
          "line": 1109,
          "old_api": "SetEndOfFile",
          "new_api": null,
          "old_text": "SetEndOfFile(hFile)",
          "new_text": null,
          "old_line_content": "    SetEndOfFile(hFile);",
          "new_line_content": "void AllocateFileRange(FILE *file, unsigned int offset, unsigned int length) {",
          "content_same": false
        },
        {
          "line": 1120,
          "old_api": "fileno",
          "new_api": null,
          "old_text": "fileno(file)",
          "new_text": null,
          "old_line_content": "        fcntl(fileno(file), F_PREALLOCATE, &fst);",
          "new_line_content": "    // OSX specific version",
          "content_same": false
        },
        {
          "line": 1122,
          "old_api": "fileno",
          "new_api": null,
          "old_text": "fileno(file)",
          "new_text": null,
          "old_line_content": "    ftruncate(fileno(file), fst.fst_length);",
          "new_line_content": "    fst.fst_flags = F_ALLOCATECONTIG;",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": "fileno",
          "new_api": null,
          "old_text": "fileno(file)",
          "new_text": null,
          "old_line_content": "    posix_fallocate(fileno(file), 0, nEndPos);",
          "new_line_content": "    fst.fst_bytesalloc = 0;",
          "content_same": false
        },
        {
          "line": 622,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(p)",
          "new_text": null,
          "old_line_content": "    vchRet.reserve(strlen(p)*3/4);",
          "new_line_content": "        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,",
          "content_same": false
        },
        {
          "line": 1136,
          "old_api": "fwrite",
          "new_api": null,
          "old_text": "fwrite(buf, 1, now, file)",
          "new_text": null,
          "old_line_content": "        fwrite(buf, 1, now, file); // allowed to fail; this function is advisory anyway",
          "new_line_content": "#else",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": "string",
          "new_api": null,
          "old_text": "pathLog.string().c_str()",
          "new_text": null,
          "old_line_content": "    FILE* file = fopen(pathLog.string().c_str(), \"r\");",
          "new_line_content": "        length -= now;",
          "content_same": false
        },
        {
          "line": 1147,
          "old_api": "boost::filesystem::file_size(pathLog)",
          "new_api": null,
          "old_text": "boost::filesystem::file_size(pathLog)",
          "new_text": null,
          "old_line_content": "    if (file && boost::filesystem::file_size(pathLog) > 10 * 1000000)",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": "size",
          "new_api": null,
          "old_text": "vch.size()",
          "new_text": null,
          "old_line_content": "        fseek(file, -vch.size(), SEEK_END);",
          "new_line_content": "void ShrinkDebugFile()",
          "content_same": false
        },
        {
          "line": 640,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "vchRet.push_back((left<<2) | (dec>>4))",
          "new_text": null,
          "old_line_content": "                  vchRet.push_back((left<<2) | (dec>>4));",
          "new_line_content": "         p++;",
          "content_same": false
        },
        {
          "line": 1152,
          "old_api": "size",
          "new_api": null,
          "old_text": "vch.size()",
          "new_text": null,
          "old_line_content": "        int nBytes = fread(begin_ptr(vch), 1, vch.size(), file);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1153,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(file)",
          "new_text": null,
          "old_line_content": "        fclose(file);",
          "new_line_content": "    // Scroll debug.log if it's getting too big",
          "content_same": false
        },
        {
          "line": 646,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "vchRet.push_back((left<<4) | (dec>>2))",
          "new_text": null,
          "old_line_content": "                 vchRet.push_back((left<<4) | (dec>>2));",
          "new_line_content": "                 break;",
          "content_same": false
        },
        {
          "line": 1158,
          "old_api": "begin_ptr",
          "new_api": null,
          "old_text": "begin_ptr(vch)",
          "new_text": null,
          "old_line_content": "            fwrite(begin_ptr(vch), 1, nBytes, file);",
          "new_line_content": "        // Restart the file with some of the end",
          "content_same": false
        },
        {
          "line": 1159,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(file)",
          "new_text": null,
          "old_line_content": "            fclose(file);",
          "new_line_content": "        std::vector <char> vch(200000,0);",
          "content_same": false
        },
        {
          "line": 1163,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(file)",
          "new_text": null,
          "old_line_content": "        fclose(file);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 652,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "vchRet.push_back((left<<6) | dec)",
          "new_text": null,
          "old_line_content": "                 vchRet.push_back((left<<6) | dec);",
          "new_line_content": "                  break;",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": "time",
          "new_api": null,
          "old_text": "time(NULL)",
          "new_text": null,
          "old_line_content": "    return time(NULL);",
          "new_line_content": "//  - Median of other nodes clocks",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_nTimeOffset)",
          "new_text": null,
          "old_line_content": "    LOCK(cs_nTimeOffset);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 172,
          "old_api": "size",
          "new_api": null,
          "old_text": "vData.size()",
          "new_text": null,
          "old_line_content": "    unsigned long nSize = vData.size();",
          "new_line_content": "    long ret = 0;",
          "content_same": false
        },
        {
          "line": 173,
          "old_api": "begin_ptr",
          "new_api": null,
          "old_text": "begin_ptr(vData)",
          "new_text": null,
          "old_line_content": "    long ret = RegQueryValueExA(HKEY_PERFORMANCE_DATA, \"Global\", NULL, NULL, begin_ptr(vData), &nSize);",
          "new_line_content": "    unsigned long nSize = 0;",
          "content_same": false
        },
        {
          "line": 174,
          "old_api": "RegCloseKey",
          "new_api": null,
          "old_text": "RegCloseKey(HKEY_PERFORMANCE_DATA)",
          "new_text": null,
          "old_line_content": "    RegCloseKey(HKEY_PERFORMANCE_DATA);",
          "new_line_content": "    const size_t nMaxSize = 10000000; // Bail out at more than 10MB of performance data",
          "content_same": false
        },
        {
          "line": 684,
          "old_api": "c_str",
          "new_api": null,
          "old_text": "str.c_str()",
          "new_text": null,
          "old_line_content": "    vector<unsigned char> vchRet = DecodeBase64(str.c_str());",
          "new_line_content": "                    *pfInvalid = true;",
          "content_same": false
        },
        {
          "line": 685,
          "old_api": "size",
          "new_api": null,
          "old_text": "vchRet.size()",
          "new_text": null,
          "old_line_content": "    return string((const char*)&vchRet[0], vchRet.size());",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 1198,
          "old_api": "GetTimeOffset",
          "new_api": null,
          "old_text": "GetTimeOffset()",
          "new_text": null,
          "old_line_content": "    return GetTime() + GetTimeOffset();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": "GetTime",
          "new_api": null,
          "old_text": "GetTime()",
          "new_text": null,
          "old_line_content": "    int64_t nOffsetSample = nTime - GetTime();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1205,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_nTimeOffset)",
          "new_text": null,
          "old_line_content": "    LOCK(cs_nTimeOffset);",
          "new_line_content": "int64_t GetAdjustedTime()",
          "content_same": false
        },
        {
          "line": 184,
          "old_api": "LogPrintf",
          "new_api": null,
          "old_text": "LogPrintf(\"%s: Warning: RegQueryValueExA(HKEY_PERFORMANCE_DATA) failed with code %i\\n\", __func__, ret)",
          "new_text": null,
          "old_line_content": "            LogPrintf(\"%s: Warning: RegQueryValueExA(HKEY_PERFORMANCE_DATA) failed with code %i\\n\", __func__, ret);",
          "new_line_content": "    if (ret == ERROR_SUCCESS)",
          "content_same": false
        },
        {
          "line": 1208,
          "old_api": "insert",
          "new_api": null,
          "old_text": "setKnown.insert(ip)",
          "new_text": null,
          "old_line_content": "    if (!setKnown.insert(ip).second)",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1213,
          "old_api": "input",
          "new_api": null,
          "old_text": "vTimeOffsets.input(nOffsetSample)",
          "new_text": null,
          "old_line_content": "    vTimeOffsets.input(nOffsetSample);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1215,
          "old_api": "size",
          "new_api": null,
          "old_text": "vTimeOffsets.size()",
          "new_text": null,
          "old_line_content": "    if (vTimeOffsets.size() >= 5 && vTimeOffsets.size() % 2 == 1)",
          "new_line_content": "    // Ignore duplicates",
          "content_same": false
        },
        {
          "line": 1218,
          "old_api": "sorted",
          "new_api": null,
          "old_text": "vTimeOffsets.sorted()",
          "new_text": null,
          "old_line_content": "        std::vector<int64_t> vSorted = vTimeOffsets.sorted();",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 1220,
          "old_api": "abs64",
          "new_api": null,
          "old_text": "abs64(nMedian)",
          "new_text": null,
          "old_line_content": "        if (abs64(nMedian) < 70 * 60)",
          "new_line_content": "    // Add data",
          "content_same": false
        },
        {
          "line": 198,
          "old_api": "std::numeric_limits<uint64_t>::max()",
          "new_api": null,
          "old_text": "std::numeric_limits<uint64_t>::max()",
          "new_text": null,
          "old_line_content": "    uint64_t nRange = (std::numeric_limits<uint64_t>::max() / nMax) * nMax;",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 201,
          "old_api": "RAND_bytes",
          "new_api": null,
          "old_text": "RAND_bytes((unsigned char*)&nRand, sizeof(nRand))",
          "new_text": null,
          "old_line_content": "        RAND_bytes((unsigned char*)&nRand, sizeof(nRand));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 208,
          "old_api": "GetRand",
          "new_api": null,
          "old_text": "GetRand(nMax)",
          "new_text": null,
          "old_line_content": "    return GetRand(nMax);",
          "new_line_content": "    uint64_t nRand = 0;",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": "abs64",
          "new_api": null,
          "old_text": "abs64(nOffset)",
          "new_text": null,
          "old_line_content": "                    if (nOffset != 0 && abs64(nOffset) < 5 * 60)",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 214,
          "old_api": "RAND_bytes",
          "new_api": null,
          "old_text": "RAND_bytes((unsigned char*)&hash, sizeof(hash))",
          "new_text": null,
          "old_line_content": "    RAND_bytes((unsigned char*)&hash, sizeof(hash));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1240,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Warning: Please check that your computer's date and time are correct! If your clock is wrong Bitcoin will not work properly.\")",
          "new_text": null,
          "old_line_content": "                    string strMessage = _(\"Warning: Please check that your computer's date and time are correct! If your clock is wrong Bitcoin will not work properly.\");",
          "new_line_content": "                // If nobody has a time different than ours but within 5 minutes of ours, give a warning",
          "content_same": false
        },
        {
          "line": 1242,
          "old_api": "LogPrintf",
          "new_api": null,
          "old_text": "LogPrintf(\"*** %s\\n\", strMessage)",
          "new_text": null,
          "old_line_content": "                    LogPrintf(\"*** %s\\n\", strMessage);",
          "new_line_content": "                BOOST_FOREACH(int64_t nOffset, vSorted)",
          "content_same": false
        },
        {
          "line": 1250,
          "old_api": "LogPrintf",
          "new_api": null,
          "old_text": "LogPrintf(\"|  \")",
          "new_text": null,
          "old_line_content": "            LogPrintf(\"|  \");",
          "new_line_content": "                    strMiscWarning = strMessage;",
          "content_same": false
        },
        {
          "line": 235,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(fileout == NULL)",
          "new_text": null,
          "old_line_content": "    assert(fileout == NULL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 236,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(mutexDebugLog == NULL)",
          "new_text": null,
          "old_line_content": "    assert(mutexDebugLog == NULL);",
          "new_line_content": "static boost::once_flag debugPrintInitFlag = BOOST_ONCE_INIT;",
          "content_same": false
        },
        {
          "line": 749,
          "old_api": "size",
          "new_api": null,
          "old_text": "str.size()",
          "new_text": null,
          "old_line_content": "    return EncodeBase32((const unsigned char*)str.c_str(), str.size());",
          "new_line_content": "        for (int n=0; n<nPadding[mode]; n++)",
          "content_same": false
        },
        {
          "line": 238,
          "old_api": "GetDataDir",
          "new_api": null,
          "old_text": "GetDataDir()",
          "new_text": null,
          "old_line_content": "    boost::filesystem::path pathDebug = GetDataDir() / \"debug.log\";",
          "new_line_content": "// in a thread-safe manner the first time it is called:",
          "content_same": false
        },
        {
          "line": 239,
          "old_api": "string",
          "new_api": null,
          "old_text": "pathDebug.string().c_str()",
          "new_text": null,
          "old_line_content": "    fileout = fopen(pathDebug.string().c_str(), \"a\");",
          "new_line_content": "static FILE* fileout = NULL;",
          "content_same": false
        },
        {
          "line": 240,
          "old_api": "setbuf",
          "new_api": null,
          "old_text": "setbuf(fileout, NULL)",
          "new_text": null,
          "old_line_content": "    if (fileout) setbuf(fileout, NULL); // unbuffered",
          "new_line_content": "static boost::mutex* mutexDebugLog = NULL;",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": "RAND_bytes",
          "new_api": null,
          "old_text": "RAND_bytes((unsigned char*)&tmp, 4)",
          "new_text": null,
          "old_line_content": "            RAND_bytes((unsigned char*)&tmp, 4);",
          "new_line_content": "void seed_insecure_rand(bool fDeterministic)",
          "content_same": false
        },
        {
          "line": 1271,
          "old_api": "RAND_bytes",
          "new_api": null,
          "old_text": "RAND_bytes((unsigned char*)&tmp, 4)",
          "new_text": null,
          "old_line_content": "            RAND_bytes((unsigned char*)&tmp, 4);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 257,
          "old_api": "get",
          "new_api": null,
          "old_text": "ptrCategory.get()",
          "new_text": null,
          "old_line_content": "        if (ptrCategory.get() == NULL)",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1282,
          "old_api": "strprintf",
          "new_api": null,
          "old_text": "strprintf(\"%d.%d.%d.%d\", nVersion/1000000, (nVersion/10000)%100, (nVersion/100)%100, nVersion%100)",
          "new_text": null,
          "old_line_content": "        return strprintf(\"%d.%d.%d.%d\", nVersion/1000000, (nVersion/10000)%100, (nVersion/100)%100, nVersion%100);",
          "new_line_content": "        insecure_rand_Rw = tmp;",
          "content_same": false
        },
        {
          "line": 260,
          "old_api": "end",
          "new_api": null,
          "old_text": "categories.end()",
          "new_text": null,
          "old_line_content": "            ptrCategory.reset(new set<string>(categories.begin(), categories.end()));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 263,
          "old_api": "get",
          "new_api": null,
          "old_text": "ptrCategory.get()",
          "new_text": null,
          "old_line_content": "        const set<string>& setCategories = *ptrCategory.get();",
          "new_line_content": "        // where mapMultiArgs might be deleted before another",
          "content_same": false
        },
        {
          "line": 775,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(p)",
          "new_text": null,
          "old_line_content": "    vchRet.reserve((strlen(p))*5/8);",
          "new_line_content": "        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,",
          "content_same": false
        },
        {
          "line": 267,
          "old_api": "string",
          "new_api": null,
          "old_text": "string(category)",
          "new_text": null,
          "old_line_content": "            setCategories.count(string(category)) == 0)",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1295,
          "old_api": "FormatVersion",
          "new_api": null,
          "old_text": "FormatVersion(nClientVersion)",
          "new_text": null,
          "old_line_content": "    ss << name << \":\" << FormatVersion(nClientVersion);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1296,
          "old_api": "empty",
          "new_api": null,
          "old_text": "comments.empty()",
          "new_text": null,
          "old_line_content": "    if (!comments.empty())",
          "new_line_content": "    return CLIENT_BUILD;",
          "content_same": false
        },
        {
          "line": 1297,
          "old_api": "boost::algorithm::join(comments, \"; \")",
          "new_api": null,
          "old_text": "boost::algorithm::join(comments, \"; \")",
          "new_text": null,
          "old_line_content": "        ss << \"(\" << boost::algorithm::join(comments, \"; \") << \")\";",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1299,
          "old_api": "str",
          "new_api": null,
          "old_text": "ss.str()",
          "new_text": null,
          "old_line_content": "    return ss.str();",
          "new_line_content": "// Format the subversion field according to BIP 14 spec (https://en.bitcoin.it/wiki/BIP_0014)",
          "content_same": false
        },
        {
          "line": 279,
          "old_api": "size",
          "new_api": null,
          "old_text": "str.size()",
          "new_text": null,
          "old_line_content": "        ret = fwrite(str.data(), 1, str.size(), stdout);",
          "new_line_content": "    return true;",
          "content_same": false
        },
        {
          "line": 793,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "vchRet.push_back((left<<3) | (dec>>2))",
          "new_text": null,
          "old_line_content": "                  vchRet.push_back((left<<3) | (dec>>2));",
          "new_line_content": "         p++;",
          "content_same": false
        },
        {
          "line": 284,
          "old_api": "boost::call_once(&DebugPrintInit, debugPrintInitFlag)",
          "new_api": null,
          "old_text": "boost::call_once(&DebugPrintInit, debugPrintInitFlag)",
          "new_text": null,
          "old_line_content": "        boost::call_once(&DebugPrintInit, debugPrintInitFlag);",
          "new_line_content": "    int ret = 0; // Returns total number of characters written",
          "content_same": false
        },
        {
          "line": 1309,
          "old_api": "SHGetSpecialFolderPathA",
          "new_api": null,
          "old_text": "SHGetSpecialFolderPathA(NULL, pszPath, nFolder, fCreate)",
          "new_text": null,
          "old_line_content": "    if(SHGetSpecialFolderPathA(NULL, pszPath, nFolder, fCreate))",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1311,
          "old_api": "fs::path(pszPath)",
          "new_api": null,
          "old_text": "fs::path(pszPath)",
          "new_text": null,
          "old_line_content": "        return fs::path(pszPath);",
          "new_line_content": "#ifdef WIN32",
          "content_same": false
        },
        {
          "line": 1314,
          "old_api": "LogPrintf",
          "new_api": null,
          "old_text": "LogPrintf(\"SHGetSpecialFolderPathA() failed, could not obtain requested path.\\n\")",
          "new_text": null,
          "old_line_content": "    LogPrintf(\"SHGetSpecialFolderPathA() failed, could not obtain requested path.\\n\");",
          "new_line_content": "    namespace fs = boost::filesystem;",
          "content_same": false
        },
        {
          "line": 1315,
          "old_api": "fs::path(\"\")",
          "new_api": null,
          "old_text": "fs::path(\"\")",
          "new_text": null,
          "old_line_content": "    return fs::path(\"\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 804,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "vchRet.push_back((left<<1) | (dec>>4))",
          "new_text": null,
          "old_line_content": "                 vchRet.push_back((left<<1) | (dec>>4));",
          "new_line_content": "                  mode = 2;",
          "content_same": false
        },
        {
          "line": 294,
          "old_api": "GetDataDir",
          "new_api": null,
          "old_text": "GetDataDir()",
          "new_text": null,
          "old_line_content": "            boost::filesystem::path pathDebug = GetDataDir() / \"debug.log\";",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 295,
          "old_api": "string",
          "new_api": null,
          "old_text": "pathDebug.string().c_str()",
          "new_text": null,
          "old_line_content": "            if (freopen(pathDebug.string().c_str(),\"a\",fileout) != NULL)",
          "new_line_content": "        if (fileout == NULL)",
          "content_same": false
        },
        {
          "line": 296,
          "old_api": "setbuf",
          "new_api": null,
          "old_text": "setbuf(fileout, NULL)",
          "new_text": null,
          "old_line_content": "                setbuf(fileout, NULL); // unbuffered",
          "new_line_content": "            return ret;",
          "content_same": false
        },
        {
          "line": 1321,
          "old_api": "boost::filesystem::temp_directory_path()",
          "new_api": null,
          "old_text": "boost::filesystem::temp_directory_path()",
          "new_text": null,
          "old_line_content": "    return boost::filesystem::temp_directory_path();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 810,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "vchRet.push_back((left<<4) | (dec>>1))",
          "new_text": null,
          "old_line_content": "                 vchRet.push_back((left<<4) | (dec>>1));",
          "new_line_content": "                 break;",
          "content_same": false
        },
        {
          "line": 301,
          "old_api": "GetTime",
          "new_api": null,
          "old_text": "GetTime()",
          "new_text": null,
          "old_line_content": "            ret += fprintf(fileout, \"%s \", DateTimeStrFormat(\"%Y-%m-%d %H:%M:%S\", GetTime()).c_str());",
          "new_line_content": "        if (fReopenDebugLog) {",
          "content_same": false
        },
        {
          "line": 302,
          "old_api": "size",
          "new_api": null,
          "old_text": "str.size()",
          "new_text": null,
          "old_line_content": "        if (!str.empty() && str[str.size()-1] == '\\n')",
          "new_line_content": "            fReopenDebugLog = false;",
          "content_same": false
        },
        {
          "line": 1328,
          "old_api": "GetTempPathA",
          "new_api": null,
          "old_text": "GetTempPathA(MAX_PATH, pszPath)",
          "new_text": null,
          "old_line_content": "    if (GetTempPathA(MAX_PATH, pszPath))",
          "new_line_content": "boost::filesystem::path GetTempPath() {",
          "content_same": false
        },
        {
          "line": 1329,
          "old_api": "boost::filesystem::path(pszPath)",
          "new_api": null,
          "old_text": "boost::filesystem::path(pszPath)",
          "new_text": null,
          "old_line_content": "        path = boost::filesystem::path(pszPath);",
          "new_line_content": "#if BOOST_FILESYSTEM_VERSION == 3",
          "content_same": false
        },
        {
          "line": 307,
          "old_api": "size",
          "new_api": null,
          "old_text": "str.size()",
          "new_text": null,
          "old_line_content": "        ret = fwrite(str.data(), 1, str.size(), fileout);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1331,
          "old_api": "boost::filesystem::path(\"/tmp\")",
          "new_api": null,
          "old_text": "boost::filesystem::path(\"/tmp\")",
          "new_text": null,
          "old_line_content": "    path = boost::filesystem::path(\"/tmp\");",
          "new_line_content": "#else",
          "content_same": false
        },
        {
          "line": 821,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "vchRet.push_back((left<<2) | (dec>>3))",
          "new_text": null,
          "old_line_content": "                 vchRet.push_back((left<<2) | (dec>>3));",
          "new_line_content": "                 mode = 5;",
          "content_same": false
        },
        {
          "line": 1333,
          "old_api": "boost::filesystem::is_directory(path)",
          "new_api": null,
          "old_text": "boost::filesystem::is_directory(path)",
          "new_text": null,
          "old_line_content": "    if (path.empty() || !boost::filesystem::is_directory(path)) {",
          "new_line_content": "    boost::filesystem::path path;",
          "content_same": false
        },
        {
          "line": 1334,
          "old_api": "LogPrintf",
          "new_api": null,
          "old_text": "LogPrintf(\"GetTempPath(): failed to find temp path\\n\")",
          "new_text": null,
          "old_line_content": "        LogPrintf(\"GetTempPath(): failed to find temp path\\n\");",
          "new_line_content": "#ifdef WIN32",
          "content_same": false
        },
        {
          "line": 1335,
          "old_api": "boost::filesystem::path(\"\")",
          "new_api": null,
          "old_text": "boost::filesystem::path(\"\")",
          "new_text": null,
          "old_line_content": "        return boost::filesystem::path(\"\");",
          "new_line_content": "    char pszPath[MAX_PATH] = \"\";",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "vchRet.push_back((left<<5) | dec)",
          "new_text": null,
          "old_line_content": "                 vchRet.push_back((left<<5) | dec);",
          "new_line_content": "                 break;",
          "content_same": false
        },
        {
          "line": 320,
          "old_api": "strprintf",
          "new_api": null,
          "old_text": "strprintf(\"%d.%08d\", quotient, remainder)",
          "new_text": null,
          "old_line_content": "    string str = strprintf(\"%d.%08d\", quotient, remainder);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1345,
          "old_api": "LogPrintf",
          "new_api": null,
          "old_text": "LogPrintf(\"runCommand error: system(%s) returned %d\\n\", strCommand, nErr)",
          "new_text": null,
          "old_line_content": "        LogPrintf(\"runCommand error: system(%s) returned %d\\n\", strCommand, nErr);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 324,
          "old_api": "isdigit",
          "new_api": null,
          "old_text": "isdigit(str[i-2])",
          "new_text": null,
          "old_line_content": "    for (int i = str.size()-1; (str[i] == '0' && isdigit(str[i-2])); --i)",
          "new_line_content": "    // Note: not using straight sprintf here because we do NOT want",
          "content_same": false
        },
        {
          "line": 327,
          "old_api": "size",
          "new_api": null,
          "old_text": "str.size()",
          "new_text": null,
          "old_line_content": "        str.erase(str.size()-nTrim, nTrim);",
          "new_line_content": "    int64_t quotient = n_abs/COIN;",
          "content_same": false
        },
        {
          "line": 330,
          "old_api": "insert",
          "new_api": null,
          "old_text": "str.insert((unsigned int)0, 1, '-')",
          "new_text": null,
          "old_line_content": "        str.insert((unsigned int)0, 1, '-');",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 332,
          "old_api": "insert",
          "new_api": null,
          "old_text": "str.insert((unsigned int)0, 1, '+')",
          "new_text": null,
          "old_line_content": "        str.insert((unsigned int)0, 1, '+');",
          "new_line_content": "    int nTrim = 0;",
          "content_same": false
        },
        {
          "line": 1357,
          "old_api": "pthread_self",
          "new_api": null,
          "old_text": "pthread_self()",
          "new_text": null,
          "old_line_content": "    pthread_set_name_np(pthread_self(), name);",
          "new_line_content": "void RenameThread(const char* name)",
          "content_same": false
        },
        {
          "line": 1363,
          "old_api": "pthread_setname_np",
          "new_api": null,
          "old_text": "pthread_setname_np(name)",
          "new_text": null,
          "old_line_content": "    pthread_setname_np(name);",
          "new_line_content": "    // TODO: This is currently disabled because it needs to be verified to work",
          "content_same": false
        },
        {
          "line": 347,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(*p)",
          "new_text": null,
          "old_line_content": "    while (isspace(*p))",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1376,
          "old_api": "c_str",
          "new_api": null,
          "old_text": "str.c_str()",
          "new_text": null,
          "old_line_content": "    long int n = strtol(str.c_str(), &endp, 10);",
          "new_line_content": "    // Prevent warnings for unused parameters...",
          "content_same": false
        },
        {
          "line": 355,
          "old_api": "isdigit",
          "new_api": null,
          "old_text": "isdigit(*p)",
          "new_text": null,
          "old_line_content": "            while (isdigit(*p) && (nMult > 0))",
          "new_line_content": "    const char* p = pszIn;",
          "content_same": false
        },
        {
          "line": 1382,
          "old_api": "std::numeric_limits<int32_t>::min()",
          "new_api": null,
          "old_text": "std::numeric_limits<int32_t>::min()",
          "new_text": null,
          "old_line_content": "        n >= std::numeric_limits<int32_t>::min() &&",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 871,
          "old_api": "c_str",
          "new_api": null,
          "old_text": "str.c_str()",
          "new_text": null,
          "old_line_content": "    vector<unsigned char> vchRet = DecodeBase32(str.c_str());",
          "new_line_content": "                    *pfInvalid = true;",
          "content_same": false
        },
        {
          "line": 872,
          "old_api": "size",
          "new_api": null,
          "old_text": "vchRet.size()",
          "new_text": null,
          "old_line_content": "    return string((const char*)&vchRet[0], vchRet.size());",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": "std::numeric_limits<int32_t>::max()",
          "new_api": null,
          "old_text": "std::numeric_limits<int32_t>::max()",
          "new_text": null,
          "old_line_content": "        n <= std::numeric_limits<int32_t>::max();",
          "new_line_content": "    char *endp = NULL;",
          "content_same": false
        },
        {
          "line": 362,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(*p)",
          "new_text": null,
          "old_line_content": "        if (isspace(*p))",
          "new_line_content": "            p++;",
          "content_same": false
        },
        {
          "line": 366,
          "old_api": "end",
          "new_api": null,
          "old_text": "strWhole.end()",
          "new_text": null,
          "old_line_content": "        strWhole.insert(strWhole.end(), *p);",
          "new_line_content": "                nUnits += nMult * (*p++ - '0');",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": "GetModuleFileNameA",
          "new_api": null,
          "old_text": "GetModuleFileNameA(NULL, pszModule, sizeof(pszModule))",
          "new_text": null,
          "old_line_content": "    GetModuleFileNameA(NULL, pszModule, sizeof(pszModule));",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 369,
          "old_api": "isspace",
          "new_api": null,
          "old_text": "isspace(*p)",
          "new_text": null,
          "old_line_content": "        if (!isspace(*p))",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 1394,
          "old_api": "std::locale()",
          "new_api": null,
          "old_text": "std::locale()",
          "new_text": null,
          "old_line_content": "            std::locale();                      // Raises runtime error if current locale is invalid",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 884,
          "old_api": "name",
          "new_api": null,
          "old_text": "strprintf(\n            \"EXCEPTION: %s       \\n%s       \\n%s in %s       \\n\", typeid(*pex).name(), pex->what(), pszModule, pszThread)",
          "new_text": null,
          "old_line_content": "        return strprintf(",
          "new_line_content": "static std::string FormatException(std::exception* pex, const char* pszThread)",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": "what",
          "new_api": null,
          "old_text": "pex->what()",
          "new_text": null,
          "old_line_content": "            \"EXCEPTION: %s       \\n%s       \\n%s in %s       \\n\", typeid(*pex).name(), pex->what(), pszModule, pszThread);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1398,
          "old_api": "setenv",
          "new_api": null,
          "old_text": "setenv(\"LC_ALL\", \"C\", 1)",
          "new_text": null,
          "old_line_content": "        setenv(\"LC_ALL\", \"C\", 1); // Force C locale",
          "new_line_content": "    try",
          "content_same": false
        },
        {
          "line": 887,
          "old_api": "strprintf",
          "new_api": null,
          "old_text": "strprintf(\n            \"UNKNOWN EXCEPTION       \\n%s in %s       \\n\", pszModule, pszThread)",
          "new_text": null,
          "old_line_content": "        return strprintf(",
          "new_line_content": "    char pszModule[MAX_PATH] = \"\";",
          "content_same": false
        },
        {
          "line": 895,
          "old_api": "c_str",
          "new_api": null,
          "old_text": "message.c_str()",
          "new_text": null,
          "old_line_content": "    fprintf(stderr, \"\\n\\n************************\\n%s\\n\", message.c_str());",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 1408,
          "old_api": "imbue",
          "new_api": null,
          "old_text": "ss.imbue(loc)",
          "new_text": null,
          "old_line_content": "    ss.imbue(loc);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1409,
          "old_api": "boost::posix_time::from_time_t(nTime)",
          "new_api": null,
          "old_text": "boost::posix_time::from_time_t(nTime)",
          "new_text": null,
          "old_line_content": "    ss << boost::posix_time::from_time_t(nTime);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": "str",
          "new_api": null,
          "old_text": "ss.str()",
          "new_text": null,
          "old_line_content": "    return ss.str();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 388,
          "old_api": "size",
          "new_api": null,
          "old_text": "str.size()",
          "new_text": null,
          "old_line_content": "    for (std::string::size_type i = 0; i < str.size(); i++)",
          "new_line_content": "    return true;",
          "content_same": false
        },
        {
          "line": 390,
          "old_api": "find",
          "new_api": null,
          "old_text": "safeChars.find(str[i])",
          "new_text": null,
          "old_line_content": "        if (safeChars.find(str[i]) != std::string::npos)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 391,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "strResult.push_back(str[i])",
          "new_text": null,
          "old_line_content": "            strResult.push_back(str[i]);",
          "new_line_content": "// safeChars chosen to allow simple messages/URLs/email addresses, but avoid anything",
          "content_same": false
        },
        {
          "line": 908,
          "old_api": "GetSpecialFolderPath",
          "new_api": null,
          "old_text": "GetSpecialFolderPath(CSIDL_APPDATA)",
          "new_text": null,
          "old_line_content": "    return GetSpecialFolderPath(CSIDL_APPDATA) / \"Bitcoin\";",
          "new_line_content": "boost::filesystem::path GetDefaultDataDir()",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": "find_first_not_of",
          "new_api": null,
          "old_text": "in.find_first_not_of(' ', ptr)",
          "new_text": null,
          "old_line_content": "        ptr = in.find_first_not_of(' ', ptr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 911,
          "old_api": "getenv",
          "new_api": null,
          "old_text": "getenv(\"HOME\")",
          "new_text": null,
          "old_line_content": "    char* pszHome = getenv(\"HOME\");",
          "new_line_content": "    // Windows < Vista: C:\\Documents and Settings\\Username\\Application Data\\Bitcoin",
          "content_same": false
        },
        {
          "line": 912,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(pszHome)",
          "new_text": null,
          "old_line_content": "    if (pszHome == NULL || strlen(pszHome) == 0)",
          "new_line_content": "    // Windows >= Vista: C:\\Users\\Username\\AppData\\Roaming\\Bitcoin",
          "content_same": false
        },
        {
          "line": 913,
          "old_api": "fs::path(\"/\")",
          "new_api": null,
          "old_text": "fs::path(\"/\")",
          "new_text": null,
          "old_line_content": "        pathRet = fs::path(\"/\");",
          "new_line_content": "    // Mac: ~/Library/Application Support/Bitcoin",
          "content_same": false
        },
        {
          "line": 1425,
          "old_api": "find_first_of",
          "new_api": null,
          "old_text": "in.find_first_of(' ', ptr)",
          "new_text": null,
          "old_line_content": "        size_t endword = in.find_first_of(' ', ptr);",
          "new_line_content": "    size_t col = 0;",
          "content_same": false
        },
        {
          "line": 915,
          "old_api": "fs::path(pszHome)",
          "new_api": null,
          "old_text": "fs::path(pszHome)",
          "new_text": null,
          "old_line_content": "        pathRet = fs::path(pszHome);",
          "new_line_content": "#ifdef WIN32",
          "content_same": false
        },
        {
          "line": 919,
          "old_api": "TryCreateDirectory",
          "new_api": null,
          "old_text": "TryCreateDirectory(pathRet)",
          "new_text": null,
          "old_line_content": "    TryCreateDirectory(pathRet);",
          "new_line_content": "    fs::path pathRet;",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": "substr",
          "new_api": null,
          "old_text": "in.substr(ptr, endword - ptr)",
          "new_text": null,
          "old_line_content": "        out << in.substr(ptr, endword - ptr);",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 418,
          "old_api": "HexDigit",
          "new_api": null,
          "old_text": "HexDigit(c)",
          "new_text": null,
          "old_line_content": "        if (HexDigit(c) < 0)",
          "new_line_content": "  -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,",
          "content_same": false
        },
        {
          "line": 421,
          "old_api": "size",
          "new_api": null,
          "old_text": "str.size()",
          "new_text": null,
          "old_line_content": "    return (str.size() > 0) && (str.size()%2 == 0);",
          "new_line_content": "  -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1, };",
          "content_same": false
        },
        {
          "line": 1445,
          "old_api": "str",
          "new_api": null,
          "old_text": "out.str()",
          "new_text": null,
          "old_line_content": "    return out.str();",
          "new_line_content": "                col = 0;",
          "content_same": false
        },
        {
          "line": 935,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(csPathCached)",
          "new_text": null,
          "old_line_content": "    LOCK(csPathCached);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 938,
          "old_api": "NetworkID",
          "new_api": null,
          "old_text": "Params().NetworkID()",
          "new_text": null,
          "old_line_content": "    if (fNetSpecific) nNet = Params().NetworkID();",
          "new_line_content": "static CCriticalSection csPathCached;",
          "content_same": false
        },
        {
          "line": 432,
          "old_api": "HexDigit",
          "new_api": null,
          "old_text": "HexDigit(*psz++)",
          "new_text": null,
          "old_line_content": "        signed char c = HexDigit(*psz++);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 436,
          "old_api": "HexDigit",
          "new_api": null,
          "old_text": "HexDigit(*psz++)",
          "new_text": null,
          "old_line_content": "        c = HexDigit(*psz++);",
          "new_line_content": "    vector<unsigned char> vch;",
          "content_same": false
        },
        {
          "line": 948,
          "old_api": "fs::system_complete(mapArgs[\"-datadir\"])",
          "new_api": null,
          "old_text": "fs::system_complete(mapArgs[\"-datadir\"])",
          "new_text": null,
          "old_line_content": "        path = fs::system_complete(mapArgs[\"-datadir\"]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": "fs::is_directory(path)",
          "new_api": null,
          "old_text": "fs::is_directory(path)",
          "new_text": null,
          "old_line_content": "        if (!fs::is_directory(path)) {",
          "new_line_content": "    fs::path &path = pathCached[nNet];",
          "content_same": false
        },
        {
          "line": 440,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "vch.push_back(n)",
          "new_text": null,
          "old_line_content": "        vch.push_back(n);",
          "new_line_content": "            psz++;",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": "GetDefaultDataDir",
          "new_api": null,
          "old_text": "GetDefaultDataDir()",
          "new_text": null,
          "old_line_content": "        path = GetDefaultDataDir();",
          "new_line_content": "        return path;",
          "content_same": false
        },
        {
          "line": 447,
          "old_api": "c_str",
          "new_api": null,
          "old_text": "str.c_str()",
          "new_text": null,
          "old_line_content": "    return ParseHex(str.c_str());",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 959,
          "old_api": "fs::create_directories(path)",
          "new_api": null,
          "old_text": "fs::create_directories(path)",
          "new_text": null,
          "old_line_content": "    fs::create_directories(path);",
          "new_line_content": "            path = \"\";",
          "content_same": false
        },
        {
          "line": 453,
          "old_api": "find",
          "new_api": null,
          "old_text": "name.find(\"-no\")",
          "new_text": null,
          "old_line_content": "    if (name.find(\"-no\") == 0)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 967,
          "old_api": "boost::filesystem::path()",
          "new_api": null,
          "old_text": "boost::filesystem::path()",
          "new_text": null,
          "old_line_content": "        boost::filesystem::path());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 457,
          "old_api": "count",
          "new_api": null,
          "old_text": "mapSettingsRet.count(positive)",
          "new_text": null,
          "old_line_content": "        if (mapSettingsRet.count(positive) == 0)",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 459,
          "old_api": "GetBoolArg",
          "new_api": null,
          "old_text": "GetBoolArg(name, false)",
          "new_text": null,
          "old_line_content": "            bool value = !GetBoolArg(name, false);",
          "new_line_content": "static void InterpretNegativeSetting(string name, map<string, string>& mapSettingsRet)",
          "content_same": false
        },
        {
          "line": 972,
          "old_api": "GetArg",
          "new_api": null,
          "old_text": "GetArg(\"-conf\", \"bitcoin.conf\")",
          "new_text": null,
          "old_line_content": "    boost::filesystem::path pathConfigFile(GetArg(\"-conf\", \"bitcoin.conf\"));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 973,
          "old_api": "is_complete",
          "new_api": null,
          "old_text": "pathConfigFile.is_complete()",
          "new_text": null,
          "old_line_content": "    if (!pathConfigFile.is_complete())",
          "new_line_content": "void ClearDatadirCache()",
          "content_same": false
        },
        {
          "line": 974,
          "old_api": "GetDataDir",
          "new_api": null,
          "old_text": "GetDataDir(false)",
          "new_text": null,
          "old_line_content": "        pathConfigFile = GetDataDir(false) / pathConfigFile;",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 467,
          "old_api": "clear",
          "new_api": null,
          "old_text": "mapArgs.clear()",
          "new_text": null,
          "old_line_content": "    mapArgs.clear();",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 474,
          "old_api": "find",
          "new_api": null,
          "old_text": "str.find('=')",
          "new_text": null,
          "old_line_content": "        size_t is_index = str.find('=');",
          "new_line_content": "void ParseParameters(int argc, const char* const argv[])",
          "content_same": false
        },
        {
          "line": 987,
          "old_api": "insert",
          "new_api": null,
          "old_text": "setOptions.insert(\"*\")",
          "new_text": null,
          "old_line_content": "    setOptions.insert(\"*\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 478,
          "old_api": "substr",
          "new_api": null,
          "old_text": "str.substr(0, is_index)",
          "new_text": null,
          "old_line_content": "            str = str.substr(0, is_index);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 481,
          "old_api": "boost::to_lower(str)",
          "new_api": null,
          "old_text": "boost::to_lower(str)",
          "new_text": null,
          "old_line_content": "        boost::to_lower(str);",
          "new_line_content": "        std::string str(argv[i]);",
          "content_same": false
        },
        {
          "line": 482,
          "old_api": "boost::algorithm::starts_with(str, \"/\")",
          "new_api": null,
          "old_text": "boost::algorithm::starts_with(str, \"/\")",
          "new_text": null,
          "old_line_content": "        if (boost::algorithm::starts_with(str, \"/\"))",
          "new_line_content": "        std::string strValue;",
          "content_same": false
        },
        {
          "line": 993,
          "old_api": "count",
          "new_api": null,
          "old_text": "mapSettingsRet.count(strKey)",
          "new_text": null,
          "old_line_content": "        if (mapSettingsRet.count(strKey) == 0)",
          "new_line_content": "        return; // No bitcoin.conf file is OK",
          "content_same": false
        },
        {
          "line": 997,
          "old_api": "InterpretNegativeSetting",
          "new_api": null,
          "old_text": "InterpretNegativeSetting(strKey, mapSettingsRet)",
          "new_text": null,
          "old_line_content": "            InterpretNegativeSetting(strKey, mapSettingsRet);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 999,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "mapMultiSettingsRet[strKey].push_back(it->value[0])",
          "new_text": null,
          "old_line_content": "        mapMultiSettingsRet[strKey].push_back(it->value[0]);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 495,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "mapMultiArgs[str].push_back(strValue)",
          "new_text": null,
          "old_line_content": "        mapMultiArgs[str].push_back(strValue);",
          "new_line_content": "        if (str[0] != '-')",
          "content_same": false
        },
        {
          "line": 1007,
          "old_api": "GetArg",
          "new_api": null,
          "old_text": "GetArg(\"-pid\", \"bitcoind.pid\")",
          "new_text": null,
          "old_line_content": "    boost::filesystem::path pathPidFile(GetArg(\"-pid\", \"bitcoind.pid\"));",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 502,
          "old_api": "InterpretNegativeSetting",
          "new_api": null,
          "old_text": "InterpretNegativeSetting(entry.first, mapArgs)",
          "new_text": null,
          "old_line_content": "        InterpretNegativeSetting(entry.first, mapArgs);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1015,
          "old_api": "string",
          "new_api": null,
          "old_text": "path.string().c_str()",
          "new_text": null,
          "old_line_content": "    FILE* file = fopen(path.string().c_str(), \"w\");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1018,
          "old_api": "fprintf",
          "new_api": null,
          "old_text": "fprintf(file, \"%d\\n\", pid)",
          "new_text": null,
          "old_line_content": "        fprintf(file, \"%d\\n\", pid);",
          "new_line_content": "    return pathPidFile;",
          "content_same": false
        },
        {
          "line": 1019,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(file)",
          "new_text": null,
          "old_line_content": "        fclose(file);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 508,
          "old_api": "count",
          "new_api": null,
          "old_text": "mapArgs.count(strArg)",
          "new_text": null,
          "old_line_content": "    if (mapArgs.count(strArg))",
          "new_line_content": "    BOOST_FOREACH(const PAIRTYPE(string,string)& entry, mapArgs)",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 42,
      "total_additions": 181,
      "total_deletions": 179,
      "total_api_changes": 402
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 11,
        "api_related_lines": 402,
        "non_api_lines": 5,
        "non_api_line_numbers": [
          175,
          176,
          178,
          180,
          182
        ]
      }
    },
    "api_calls_before": 326,
    "api_calls_after": 330,
    "diff_info": {
      "added_lines": 11,
      "removed_lines": 2,
      "total_diff_lines": 25
    }
  }
}