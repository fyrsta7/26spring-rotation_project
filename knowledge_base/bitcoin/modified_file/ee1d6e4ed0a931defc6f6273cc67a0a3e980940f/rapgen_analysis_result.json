{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/ee1d6e4ed0a931defc6f6273cc67a0a3e980940f",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/ee1d6e4ed0a931defc6f6273cc67a0a3e980940f/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/ee1d6e4ed0a931defc6f6273cc67a0a3e980940f/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/ee1d6e4ed0a931defc6f6273cc67a0a3e980940f/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 816,
          "old_api": "size",
          "new_api": "IsCoinBase",
          "old_text": "vin.size()",
          "new_text": "IsCoinBase()",
          "old_line_content": "        for (int i = 0; i < vin.size(); i++)",
          "new_line_content": "    if (!IsCoinBase())",
          "content_same": false
        },
        {
          "line": 834,
          "old_api": "ToString",
          "new_api": "ReadTxIndex",
          "old_text": "prevout.hash.ToString().substr(0,10).c_str()",
          "new_text": "txdb.ReadTxIndex(prevout.hash, txindex)",
          "old_line_content": "                return fMiner ? false : error(\"ConnectInputs() : %s prev tx %s index entry not found\", GetHash().ToString().substr(0,10).c_str(),  prevout.hash.ToString().substr(0,10).c_str());",
          "new_line_content": "                fFound = txdb.ReadTxIndex(prevout.hash, txindex);",
          "content_same": false
        },
        {
          "line": 857,
          "old_api": "size",
          "new_api": "ToString",
          "old_text": "txindex.vSpent.size()",
          "new_text": "prevout.hash.ToString().substr(0,10).c_str()",
          "old_line_content": "            if (prevout.n >= txPrev.vout.size() || prevout.n >= txindex.vSpent.size())",
          "new_line_content": "                    return error(\"ConnectInputs() : %s ReadFromDisk prev tx %s failed\", GetHash().ToString().substr(0,10).c_str(),  prevout.hash.ToString().substr(0,10).c_str());",
          "content_same": false
        },
        {
          "line": 861,
          "old_api": "IsCoinBase",
          "new_api": "ToString",
          "old_text": "txPrev.IsCoinBase()",
          "new_text": "txPrev.ToString().c_str()",
          "old_line_content": "            if (txPrev.IsCoinBase())",
          "new_line_content": "                return DoS(100, error(\"ConnectInputs() : %s prevout.n out of range %d %d %d prev tx %s\\n%s\", GetHash().ToString().substr(0,10).c_str(), prevout.n, txPrev.vout.size(), txindex.vSpent.size(), prevout.hash.ToString().substr(0,10).c_str(), txPrev.ToString().c_str()));",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": "error",
          "new_api": "IsCoinBase",
          "old_text": "error(\"ConnectInputs() : tried to spend coinbase at depth %d\", pindexBlock->nHeight - pindex->nHeight)",
          "new_text": "txPrev.IsCoinBase()",
          "old_line_content": "                        return DoS(10, error(\"ConnectInputs() : tried to spend coinbase at depth %d\", pindexBlock->nHeight - pindex->nHeight));",
          "new_line_content": "            if (txPrev.IsCoinBase())",
          "content_same": false
        },
        {
          "line": 867,
          "old_api": "VerifySignature",
          "new_api": "error",
          "old_text": "VerifySignature(txPrev, *this, i)",
          "new_text": "error(\"ConnectInputs() : tried to spend coinbase at depth %d\", pindexBlock->nHeight - pindex->nHeight)",
          "old_line_content": "            if (!VerifySignature(txPrev, *this, i))",
          "new_line_content": "                        return DoS(10, error(\"ConnectInputs() : tried to spend coinbase at depth %d\", pindexBlock->nHeight - pindex->nHeight));",
          "content_same": false
        },
        {
          "line": 874,
          "old_api": "ToString",
          "new_api": "VerifySignature",
          "old_text": "txindex.vSpent[prevout.n].ToString().c_str()",
          "new_text": "VerifySignature(txPrev, *this, i)",
          "old_line_content": "                return fMiner ? false : error(\"ConnectInputs() : %s prev tx already used at %s\", GetHash().ToString().substr(0,10).c_str(), txindex.vSpent[prevout.n].ToString().c_str());",
          "new_line_content": "                if (!VerifySignature(txPrev, *this, i))",
          "content_same": false
        },
        {
          "line": 902,
          "old_api": "error",
          "new_api": "GetValueOut",
          "old_text": "error(\"ConnectInputs() : nFees out of range\")",
          "new_text": "GetValueOut()",
          "old_line_content": "            return DoS(100, error(\"ConnectInputs() : nFees out of range\"));",
          "new_line_content": "        int64 nTxFee = nValueIn - GetValueOut();",
          "content_same": false
        },
        {
          "line": 908,
          "old_api": "size",
          "new_api": "MoneyRange",
          "old_text": "vout.size()",
          "new_text": "MoneyRange(nFees)",
          "old_line_content": "        mapTestPool[GetHash()] = CTxIndex(posThisTx, vout.size());",
          "new_line_content": "        if (!MoneyRange(nFees))",
          "content_same": false
        },
        {
          "line": 929,
          "old_api": "size",
          "new_api": "IsCoinBase",
          "old_text": "vin.size()",
          "new_text": "IsCoinBase()",
          "old_line_content": "        for (int i = 0; i < vin.size(); i++)",
          "new_line_content": "    if (IsCoinBase())",
          "content_same": false
        },
        {
          "line": 1002,
          "old_api": "::GetSerializeSize(tx, SER_DISK)",
          "new_api": "size",
          "old_text": "::GetSerializeSize(tx, SER_DISK)",
          "new_text": "vtx.size()",
          "old_line_content": "        nTxPos += ::GetSerializeSize(tx, SER_DISK);",
          "new_line_content": "    unsigned int nTxPos = pindex->nBlockPos + ::GetSerializeSize(CBlock(), SER_DISK) - 1 + GetSizeOfCompactSize(vtx.size());",
          "content_same": false
        },
        {
          "line": 1011,
          "old_api": "error",
          "new_api": "ConnectInputs",
          "old_text": "error(\"ConnectBlock() : UpdateTxIndex failed\")",
          "new_text": "tx.ConnectInputs(txdb, mapQueuedChanges, posThisTx, pindex, nFees, true, false)",
          "old_line_content": "            return error(\"ConnectBlock() : UpdateTxIndex failed\");",
          "new_line_content": "        if (!tx.ConnectInputs(txdb, mapQueuedChanges, posThisTx, pindex, nFees, true, false))",
          "content_same": false
        },
        {
          "line": 1029,
          "old_api": "SyncWithWallets",
          "new_api": "GetBlockHash",
          "old_text": "SyncWithWallets(tx, this, true)",
          "new_text": "pindex->GetBlockHash()",
          "old_line_content": "        SyncWithWallets(tx, this, true);",
          "new_line_content": "        blockindexPrev.hashNext = pindex->GetBlockHash();",
          "content_same": false
        },
        {
          "line": 1036,
          "old_api": "printf",
          "new_api": "SyncWithWallets",
          "old_text": "printf(\"REORGANIZE\\n\")",
          "new_text": "SyncWithWallets(tx, this, true)",
          "old_line_content": "    printf(\"REORGANIZE\\n\");",
          "new_line_content": "        SyncWithWallets(tx, this, true);",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": "ReadFromDisk",
          "new_api": "end",
          "old_text": "block.ReadFromDisk(pindex)",
          "new_text": "vConnect.end()",
          "old_line_content": "        if (!block.ReadFromDisk(pindex))",
          "new_line_content": "    reverse(vConnect.begin(), vConnect.end());",
          "content_same": false
        },
        {
          "line": 1075,
          "old_api": "IsCoinBase",
          "new_api": "ReadFromDisk",
          "old_text": "tx.IsCoinBase()",
          "new_text": "block.ReadFromDisk(pindex)",
          "old_line_content": "            if (!tx.IsCoinBase())",
          "new_line_content": "        if (!block.ReadFromDisk(pindex))",
          "content_same": false
        },
        {
          "line": 1076,
          "old_api": "push_back",
          "new_api": "error",
          "old_text": "vResurrect.push_back(tx)",
          "new_text": "error(\"Reorganize() : ReadFromDisk for disconnect failed\")",
          "old_line_content": "                vResurrect.push_back(tx);",
          "new_line_content": "            return error(\"Reorganize() : ReadFromDisk for disconnect failed\");",
          "content_same": false
        },
        {
          "line": 1098,
          "old_api": "GetBlockHash",
          "new_api": "error",
          "old_text": "pindexNew->GetBlockHash()",
          "new_text": "error(\"Reorganize() : ConnectBlock failed\")",
          "old_line_content": "    if (!txdb.WriteHashBestChain(pindexNew->GetBlockHash()))",
          "new_line_content": "            return error(\"Reorganize() : ConnectBlock failed\");",
          "content_same": false
        },
        {
          "line": 1103,
          "old_api": "error",
          "new_api": "push_back",
          "old_text": "error(\"Reorganize() : TxnCommit failed\")",
          "new_text": "vDelete.push_back(tx)",
          "old_line_content": "        return error(\"Reorganize() : TxnCommit failed\");",
          "new_line_content": "            vDelete.push_back(tx);",
          "content_same": false
        },
        {
          "line": 1136,
          "old_api": "error",
          "new_api": "GetHash",
          "old_text": "error(\"SetBestChain() : TxnCommit failed\")",
          "new_text": "GetHash()",
          "old_line_content": "            return error(\"SetBestChain() : TxnCommit failed\");",
          "new_line_content": "    uint256 hash = GetHash();",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": "WriteHashBestChain",
          "new_api": "TxnCommit",
          "old_text": "txdb.WriteHashBestChain(hash)",
          "new_text": "txdb.TxnCommit()",
          "old_line_content": "        if (!ConnectBlock(txdb, pindexNew) || !txdb.WriteHashBestChain(hash))",
          "new_line_content": "        if (!txdb.TxnCommit())",
          "content_same": false
        },
        {
          "line": 1149,
          "old_api": "error",
          "new_api": "WriteHashBestChain",
          "old_text": "error(\"SetBestChain() : TxnCommit failed\")",
          "new_text": "txdb.WriteHashBestChain(hash)",
          "old_line_content": "            return error(\"SetBestChain() : TxnCommit failed\");",
          "new_line_content": "        if (!ConnectBlock(txdb, pindexNew) || !txdb.WriteHashBestChain(hash))",
          "content_same": false
        },
        {
          "line": 1156,
          "old_api": "RemoveFromMemoryPool",
          "new_api": "error",
          "old_text": "tx.RemoveFromMemoryPool()",
          "new_text": "error(\"SetBestChain() : TxnCommit failed\")",
          "old_line_content": "            tx.RemoveFromMemoryPool();",
          "new_line_content": "            return error(\"SetBestChain() : TxnCommit failed\");",
          "content_same": false
        },
        {
          "line": 1163,
          "old_api": "TxnAbort",
          "new_api": "RemoveFromMemoryPool",
          "old_text": "txdb.TxnAbort()",
          "new_text": "tx.RemoveFromMemoryPool()",
          "old_line_content": "            txdb.TxnAbort();",
          "new_line_content": "            tx.RemoveFromMemoryPool();",
          "content_same": false
        },
        {
          "line": 1170,
          "old_api": "IsInitialBlockDownload",
          "new_api": "TxnAbort",
          "old_text": "IsInitialBlockDownload()",
          "new_text": "txdb.TxnAbort()",
          "old_line_content": "    if (!IsInitialBlockDownload())",
          "new_line_content": "            txdb.TxnAbort();",
          "content_same": false
        },
        {
          "line": 1199,
          "old_api": "error",
          "new_api": "GetHash",
          "old_text": "error(\"AddToBlockIndex() : new CBlockIndex failed\")",
          "new_text": "GetHash()",
          "old_line_content": "        return error(\"AddToBlockIndex() : new CBlockIndex failed\");",
          "new_line_content": "    uint256 hash = GetHash();",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": "make_pair",
          "new_api": "count",
          "old_text": "make_pair(hash, pindexNew)",
          "new_text": "mapBlockIndex.count(hash)",
          "old_line_content": "    map<uint256, CBlockIndex*>::iterator mi = mapBlockIndex.insert(make_pair(hash, pindexNew)).first;",
          "new_line_content": "    if (mapBlockIndex.count(hash))",
          "content_same": false
        },
        {
          "line": 1218,
          "old_api": "SetBestChain",
          "new_api": "TxnBegin",
          "old_text": "SetBestChain(txdb, pindexNew)",
          "new_text": "txdb.TxnBegin()",
          "old_line_content": "        if (!SetBestChain(txdb, pindexNew))",
          "new_line_content": "    txdb.TxnBegin();",
          "content_same": false
        },
        {
          "line": 1228,
          "old_api": "GetHash",
          "new_api": "Close",
          "old_text": "vtx[0].GetHash()",
          "new_text": "txdb.Close()",
          "old_line_content": "        hashPrevBestCoinBase = vtx[0].GetHash();",
          "new_line_content": "    txdb.Close();",
          "content_same": false
        },
        {
          "line": 1252,
          "old_api": "GetAdjustedTime",
          "new_api": "error",
          "old_text": "GetAdjustedTime()",
          "new_text": "error(\"CheckBlock() : size limits failed\")",
          "old_line_content": "    if (GetBlockTime() > GetAdjustedTime() + 2 * 60 * 60)",
          "new_line_content": "        return DoS(100, error(\"CheckBlock() : size limits failed\"));",
          "content_same": false
        },
        {
          "line": 1256,
          "old_api": "IsCoinBase",
          "new_api": "error",
          "old_text": "vtx[0].IsCoinBase()",
          "new_text": "error(\"CheckBlock() : proof of work failed\")",
          "old_line_content": "    if (vtx.empty() || !vtx[0].IsCoinBase())",
          "new_line_content": "        return DoS(50, error(\"CheckBlock() : proof of work failed\"));",
          "content_same": false
        },
        {
          "line": 1259,
          "old_api": "IsCoinBase",
          "new_api": "GetAdjustedTime",
          "old_text": "vtx[i].IsCoinBase()",
          "new_text": "GetAdjustedTime()",
          "old_line_content": "        if (vtx[i].IsCoinBase())",
          "new_line_content": "    if (GetBlockTime() > GetAdjustedTime() + 2 * 60 * 60)",
          "content_same": false
        },
        {
          "line": 1264,
          "old_api": "CheckTransaction",
          "new_api": "error",
          "old_text": "tx.CheckTransaction()",
          "new_text": "error(\"CheckBlock() : first tx is not coinbase\")",
          "old_line_content": "        if (!tx.CheckTransaction())",
          "new_line_content": "        return DoS(100, error(\"CheckBlock() : first tx is not coinbase\"));",
          "content_same": false
        },
        {
          "line": 1265,
          "old_api": "error",
          "new_api": "size",
          "old_text": "error(\"CheckBlock() : CheckTransaction failed\")",
          "new_text": "vtx.size()",
          "old_line_content": "            return DoS(tx.nDoS, error(\"CheckBlock() : CheckTransaction failed\"));",
          "new_line_content": "    for (int i = 1; i < vtx.size(); i++)",
          "content_same": false
        },
        {
          "line": 1272,
          "old_api": "BuildMerkleTree",
          "new_api": "error",
          "old_text": "BuildMerkleTree()",
          "new_text": "error(\"CheckBlock() : CheckTransaction failed\")",
          "old_line_content": "    if (hashMerkleRoot != BuildMerkleTree())",
          "new_line_content": "            return DoS(tx.nDoS, error(\"CheckBlock() : CheckTransaction failed\"));",
          "content_same": false
        },
        {
          "line": 1288,
          "old_api": "error",
          "new_api": "GetHash",
          "old_text": "error(\"AcceptBlock() : prev block not found\")",
          "new_text": "GetHash()",
          "old_line_content": "        return DoS(10, error(\"AcceptBlock() : prev block not found\"));",
          "new_line_content": "    uint256 hash = GetHash();",
          "content_same": false
        },
        {
          "line": 1293,
          "old_api": "GetNextWorkRequired",
          "new_api": "find",
          "old_text": "GetNextWorkRequired(pindexPrev)",
          "new_text": "mapBlockIndex.find(hashPrevBlock)",
          "old_line_content": "    if (nBits != GetNextWorkRequired(pindexPrev))",
          "new_line_content": "    map<uint256, CBlockIndex*>::iterator mi = mapBlockIndex.find(hashPrevBlock);",
          "content_same": false
        },
        {
          "line": 1294,
          "old_api": "error",
          "new_api": "end",
          "old_text": "error(\"AcceptBlock() : incorrect proof of work\")",
          "new_text": "mapBlockIndex.end()",
          "old_line_content": "        return DoS(100, error(\"AcceptBlock() : incorrect proof of work\"));",
          "new_line_content": "    if (mi == mapBlockIndex.end())",
          "content_same": false
        },
        {
          "line": 1309,
          "old_api": "uint256",
          "new_api": "GetBlockTime",
          "old_text": "uint256(\"0x00000000001e1b4903550a0b96e9a9405c8a95f387162e4944e8d9fbe501cd6a\")",
          "new_text": "GetBlockTime()",
          "old_line_content": "            (nHeight ==  68555 && hash != uint256(\"0x00000000001e1b4903550a0b96e9a9405c8a95f387162e4944e8d9fbe501cd6a\")) ||",
          "new_line_content": "        if (!tx.IsFinal(nHeight, GetBlockTime()))",
          "content_same": false
        },
        {
          "line": 1310,
          "old_api": "uint256",
          "new_api": "error",
          "old_text": "uint256(\"0x00000000006a49b14bcf27462068f1264c961f11fa2e0eddd2be0791e1d4124a\")",
          "new_text": "error(\"AcceptBlock() : contains a non-final transaction\")",
          "old_line_content": "            (nHeight ==  70567 && hash != uint256(\"0x00000000006a49b14bcf27462068f1264c961f11fa2e0eddd2be0791e1d4124a\")) ||",
          "new_line_content": "            return DoS(10, error(\"AcceptBlock() : contains a non-final transaction\"));",
          "content_same": false
        },
        {
          "line": 1316,
          "old_api": "error",
          "new_api": "uint256",
          "old_text": "error(\"AcceptBlock() : rejected by checkpoint lockin at %d\", nHeight)",
          "new_text": "uint256(\"0x00000000001e1b4903550a0b96e9a9405c8a95f387162e4944e8d9fbe501cd6a\")",
          "old_line_content": "            return DoS(100, error(\"AcceptBlock() : rejected by checkpoint lockin at %d\", nHeight));",
          "new_line_content": "            (nHeight ==  68555 && hash != uint256(\"0x00000000001e1b4903550a0b96e9a9405c8a95f387162e4944e8d9fbe501cd6a\")) ||",
          "content_same": false
        },
        {
          "line": 1319,
          "old_api": "::GetSerializeSize(*this, SER_DISK)",
          "new_api": "uint256",
          "old_text": "::GetSerializeSize(*this, SER_DISK)",
          "new_text": "uint256(\"0x00000000000291ce28027faea320c8d2b054b2e0fe44a773f3eefb151d6bdc97\")",
          "old_line_content": "    if (!CheckDiskSpace(::GetSerializeSize(*this, SER_DISK)))",
          "new_line_content": "            (nHeight == 105000 && hash != uint256(\"0x00000000000291ce28027faea320c8d2b054b2e0fe44a773f3eefb151d6bdc97\")) ||",
          "content_same": false
        },
        {
          "line": 1320,
          "old_api": "error",
          "new_api": "uint256",
          "old_text": "error(\"AcceptBlock() : out of disk space\")",
          "new_text": "uint256(\"0x000000000000774a7f8a7a12dc906ddb9e17e75d684f15e00f8767f9e8f36553\")",
          "old_line_content": "        return error(\"AcceptBlock() : out of disk space\");",
          "new_line_content": "            (nHeight == 118000 && hash != uint256(\"0x000000000000774a7f8a7a12dc906ddb9e17e75d684f15e00f8767f9e8f36553\")) ||",
          "content_same": false
        },
        {
          "line": 1323,
          "old_api": "WriteToDisk",
          "new_api": "error",
          "old_text": "WriteToDisk(nFile, nBlockPos)",
          "new_text": "error(\"AcceptBlock() : rejected by checkpoint lockin at %d\", nHeight)",
          "old_line_content": "    if (!WriteToDisk(nFile, nBlockPos))",
          "new_line_content": "            return DoS(100, error(\"AcceptBlock() : rejected by checkpoint lockin at %d\", nHeight));",
          "content_same": false
        },
        {
          "line": 1326,
          "old_api": "error",
          "new_api": "::GetSerializeSize(*this, SER_DISK)",
          "old_text": "error(\"AcceptBlock() : AddToBlockIndex failed\")",
          "new_text": "::GetSerializeSize(*this, SER_DISK)",
          "old_line_content": "        return error(\"AcceptBlock() : AddToBlockIndex failed\");",
          "new_line_content": "    if (!CheckDiskSpace(::GetSerializeSize(*this, SER_DISK)))",
          "content_same": false
        },
        {
          "line": 1330,
          "old_api": "CRITICAL_BLOCK",
          "new_api": "WriteToDisk",
          "old_text": "CRITICAL_BLOCK(cs_vNodes)",
          "new_text": "WriteToDisk(nFile, nBlockPos)",
          "old_line_content": "        CRITICAL_BLOCK(cs_vNodes)",
          "new_line_content": "    if (!WriteToDisk(nFile, nBlockPos))",
          "content_same": false
        },
        {
          "line": 1333,
          "old_api": "CInv",
          "new_api": "error",
          "old_text": "CInv(MSG_BLOCK, hash)",
          "new_text": "error(\"AcceptBlock() : AddToBlockIndex failed\")",
          "old_line_content": "                    pnode->PushInventory(CInv(MSG_BLOCK, hash));",
          "new_line_content": "        return error(\"AcceptBlock() : AddToBlockIndex failed\");",
          "content_same": false
        },
        {
          "line": 1348,
          "old_api": "CheckBlock",
          "new_api": "GetHash",
          "old_text": "pblock->CheckBlock()",
          "new_text": "pblock->GetHash()",
          "old_line_content": "    if (!pblock->CheckBlock())",
          "new_line_content": "    uint256 hash = pblock->GetHash();",
          "content_same": false
        },
        {
          "line": 1349,
          "old_api": "error",
          "new_api": "count",
          "old_text": "error(\"ProcessBlock() : CheckBlock FAILED\")",
          "new_text": "mapBlockIndex.count(hash)",
          "old_line_content": "        return error(\"ProcessBlock() : CheckBlock FAILED\");",
          "new_line_content": "    if (mapBlockIndex.count(hash))",
          "content_same": false
        },
        {
          "line": 1352,
          "old_api": "count",
          "new_api": "ToString",
          "old_text": "mapBlockIndex.count(pblock->hashPrevBlock)",
          "new_text": "hash.ToString().substr(0,20).c_str()",
          "old_line_content": "    if (!mapBlockIndex.count(pblock->hashPrevBlock))",
          "new_line_content": "        return error(\"ProcessBlock() : already have block (orphan) %s\", hash.ToString().substr(0,20).c_str());",
          "content_same": false
        },
        {
          "line": 1356,
          "old_api": "make_pair",
          "new_api": "error",
          "old_text": "make_pair(hash, pblock2)",
          "new_text": "error(\"ProcessBlock() : CheckBlock FAILED\")",
          "old_line_content": "        mapOrphanBlocks.insert(make_pair(hash, pblock2));",
          "new_line_content": "        return error(\"ProcessBlock() : CheckBlock FAILED\");",
          "content_same": false
        },
        {
          "line": 1361,
          "old_api": "GetOrphanRoot",
          "new_api": "ToString",
          "old_text": "GetOrphanRoot(pblock2)",
          "new_text": "pblock->hashPrevBlock.ToString().substr(0,20).c_str()",
          "old_line_content": "            pfrom->PushGetBlocks(pindexBest, GetOrphanRoot(pblock2));",
          "new_line_content": "        printf(\"ProcessBlock: ORPHAN BLOCK, prev=%s\\n\", pblock->hashPrevBlock.ToString().substr(0,20).c_str());",
          "content_same": false
        },
        {
          "line": 1382,
          "old_api": "GetHash",
          "new_api": "lower_bound",
          "old_text": "pblockOrphan->GetHash()",
          "new_text": "mapOrphanBlocksByPrev.lower_bound(hashPrev)",
          "old_line_content": "            mapOrphanBlocks.erase(pblockOrphan->GetHash());",
          "new_line_content": "        for (multimap<uint256, CBlock*>::iterator mi = mapOrphanBlocksByPrev.lower_bound(hashPrev);",
          "content_same": false
        },
        {
          "line": 1388,
          "old_api": "printf",
          "new_api": "GetHash",
          "old_text": "printf(\"ProcessBlock: ACCEPTED\\n\")",
          "new_text": "pblockOrphan->GetHash()",
          "old_line_content": "    printf(\"ProcessBlock: ACCEPTED\\n\");",
          "new_line_content": "                vWorkQueue.push_back(pblockOrphan->GetHash());",
          "content_same": false
        },
        {
          "line": 1428,
          "old_api": "fclose",
          "new_api": "c_str",
          "old_text": "fclose(file)",
          "new_text": "GetDataDir().c_str()",
          "old_line_content": "            fclose(file);",
          "new_line_content": "    FILE* file = fopen(strprintf(\"%s/blk%04d.dat\", GetDataDir().c_str(), nFile).c_str(), pszMode);",
          "content_same": false
        },
        {
          "line": 1481,
          "old_api": "empty",
          "new_api": "LoadBlockIndex",
          "old_text": "mapBlockIndex.empty()",
          "new_text": "txdb.LoadBlockIndex()",
          "old_line_content": "    if (mapBlockIndex.empty())",
          "new_line_content": "    if (!txdb.LoadBlockIndex())",
          "content_same": false
        },
        {
          "line": 1504,
          "old_api": "BuildMerkleTree",
          "new_api": "resize",
          "old_text": "block.BuildMerkleTree()",
          "new_text": "txNew.vout.resize(1)",
          "old_line_content": "        block.hashMerkleRoot = block.BuildMerkleTree();",
          "new_line_content": "        txNew.vout.resize(1);",
          "content_same": false
        },
        {
          "line": 1528,
          "old_api": "WriteToDisk",
          "new_api": "uint256",
          "old_text": "block.WriteToDisk(nFile, nBlockPos)",
          "new_text": "uint256(\"0x4a5e1e4baab89f3a32518a88c31bc87f618f76673e2cc77ab2127b7afdeda33b\")",
          "old_line_content": "        if (!block.WriteToDisk(nFile, nBlockPos))",
          "new_line_content": "        assert(block.hashMerkleRoot == uint256(\"0x4a5e1e4baab89f3a32518a88c31bc87f618f76673e2cc77ab2127b7afdeda33b\"));",
          "content_same": false
        },
        {
          "line": 1529,
          "old_api": "error",
          "new_api": "print",
          "old_text": "error(\"LoadBlockIndex() : writing genesis block to disk failed\")",
          "new_text": "block.print()",
          "old_line_content": "            return error(\"LoadBlockIndex() : writing genesis block to disk failed\");",
          "new_line_content": "        block.print();",
          "content_same": false
        },
        {
          "line": 1530,
          "old_api": "AddToBlockIndex",
          "new_api": "GetHash",
          "old_text": "block.AddToBlockIndex(nFile, nBlockPos)",
          "new_text": "block.GetHash()",
          "old_line_content": "        if (!block.AddToBlockIndex(nFile, nBlockPos))",
          "new_line_content": "        assert(block.GetHash() == hashGenesisBlock);",
          "content_same": false
        },
        {
          "line": 1553,
          "old_api": "make_pair",
          "new_api": "push_back",
          "old_text": "make_pair(0, pindexGenesisBlock)",
          "new_text": "mapNext[pindex->pprev].push_back(pindex)",
          "old_line_content": "    vStack.push_back(make_pair(0, pindexGenesisBlock));",
          "new_line_content": "        mapNext[pindex->pprev].push_back(pindex);",
          "content_same": false
        },
        {
          "line": 1560,
          "old_api": "pop_back",
          "new_api": "make_pair",
          "old_text": "vStack.pop_back()",
          "new_text": "make_pair(0, pindexGenesisBlock)",
          "old_line_content": "        vStack.pop_back();",
          "new_line_content": "    vStack.push_back(make_pair(0, pindexGenesisBlock));",
          "content_same": false
        },
        {
          "line": 1566,
          "old_api": "printf",
          "new_api": "back",
          "old_text": "printf(\"| \")",
          "new_text": "vStack.back()",
          "old_line_content": "                printf(\"| \");",
          "new_line_content": "        CBlockIndex* pindex = vStack.back().second;",
          "content_same": false
        },
        {
          "line": 1567,
          "old_api": "printf",
          "new_api": "pop_back",
          "old_text": "printf(\"|\\\\\\n\")",
          "new_text": "vStack.pop_back()",
          "old_line_content": "            printf(\"|\\\\\\n\");",
          "new_line_content": "        vStack.pop_back();",
          "content_same": false
        },
        {
          "line": 1590,
          "old_api": "size",
          "new_api": "ReadFromDisk",
          "old_text": "block.vtx.size()",
          "new_text": "block.ReadFromDisk(pindex)",
          "old_line_content": "            block.vtx.size());",
          "new_line_content": "        block.ReadFromDisk(pindex);",
          "content_same": false
        },
        {
          "line": 1596,
          "old_api": "size",
          "new_api": "GetBlockTime",
          "old_text": "vNext.size()",
          "new_text": "block.GetBlockTime()",
          "old_line_content": "        for (int i = 0; i < vNext.size(); i++)",
          "new_line_content": "            DateTimeStrFormat(\"%x %H:%M:%S\", block.GetBlockTime()).c_str(),",
          "content_same": false
        },
        {
          "line": 1607,
          "old_api": "make_pair",
          "new_api": "swap",
          "old_text": "make_pair(nCol+i, vNext[i])",
          "new_text": "swap(vNext[0], vNext[i])",
          "old_line_content": "            vStack.push_back(make_pair(nCol+i, vNext[i]));",
          "new_line_content": "                swap(vNext[0], vNext[i]);",
          "content_same": false
        },
        {
          "line": 1692,
          "old_api": "printf",
          "new_api": "Cancels",
          "old_text": "printf(\"expiring alert %d\\n\", alert.nID)",
          "new_text": "Cancels(alert)",
          "old_line_content": "                printf(\"expiring alert %d\\n\", alert.nID);",
          "new_line_content": "            if (Cancels(alert))",
          "content_same": false
        },
        {
          "line": 1762,
          "old_api": "printf",
          "new_api": "RandAddSeedPerfmon",
          "old_text": "printf(\"dropmessagestest DROPPING RECV MESSAGE\\n\")",
          "new_text": "RandAddSeedPerfmon()",
          "old_line_content": "        printf(\"dropmessagestest DROPPING RECV MESSAGE\\n\");",
          "new_line_content": "    RandAddSeedPerfmon();",
          "content_same": false
        },
        {
          "line": 1806,
          "old_api": "PushVersion",
          "new_api": "ToString",
          "old_text": "pfrom->PushVersion()",
          "new_text": "pfrom->addr.ToString().c_str()",
          "old_line_content": "            pfrom->PushVersion();",
          "new_line_content": "            printf(\"connected to self at %s, disconnecting\\n\", pfrom->addr.ToString().c_str());",
          "content_same": false
        },
        {
          "line": 1817,
          "old_api": "min",
          "new_api": "AddTimeData",
          "old_text": "min(pfrom->nVersion, VERSION)",
          "new_text": "AddTimeData(pfrom->addr.ip, nTime)",
          "old_line_content": "            pfrom->vRecv.SetVersion(min(pfrom->nVersion, VERSION));",
          "new_line_content": "        AddTimeData(pfrom->addr.ip, nTime);",
          "content_same": false
        },
        {
          "line": 1822,
          "old_api": "IsRoutable",
          "new_api": "min",
          "old_text": "addrLocalHost.IsRoutable()",
          "new_text": "min(pfrom->nVersion, VERSION)",
          "old_line_content": "            if (addrLocalHost.IsRoutable() && !fUseProxy)",
          "new_line_content": "        pfrom->vSend.SetVersion(min(pfrom->nVersion, VERSION));",
          "content_same": false
        },
        {
          "line": 1832,
          "old_api": "PushMessage",
          "new_api": "GetAdjustedTime",
          "old_text": "pfrom->PushMessage(\"getaddr\")",
          "new_text": "GetAdjustedTime()",
          "old_line_content": "                pfrom->PushMessage(\"getaddr\");",
          "new_line_content": "                addr.nTime = GetAdjustedTime();",
          "content_same": false
        },
        {
          "line": 1848,
          "old_api": "CRITICAL_BLOCK",
          "new_api": "size",
          "old_text": "CRITICAL_BLOCK(cs_mapAlerts)",
          "new_text": "vNodes.size()",
          "old_line_content": "        CRITICAL_BLOCK(cs_mapAlerts)",
          "new_line_content": "             (nAskedForBlocks < 1 || vNodes.size() <= 1))",
          "content_same": false
        },
        {
          "line": 1872,
          "old_api": "min",
          "new_api": "Misbehaving",
          "old_text": "min(pfrom->nVersion, VERSION)",
          "new_text": "pfrom->Misbehaving(1)",
          "old_line_content": "        pfrom->vRecv.SetVersion(min(pfrom->nVersion, VERSION));",
          "new_line_content": "        pfrom->Misbehaving(1);",
          "content_same": false
        },
        {
          "line": 1895,
          "old_api": "GetAdjustedTime",
          "new_api": "Misbehaving",
          "old_text": "GetAdjustedTime()",
          "new_text": "pfrom->Misbehaving(20)",
          "old_line_content": "        int64 nNow = GetAdjustedTime();",
          "new_line_content": "            pfrom->Misbehaving(20);",
          "content_same": false
        },
        {
          "line": 1902,
          "old_api": "IsIPv4",
          "new_api": "GetAdjustedTime",
          "old_text": "addr.IsIPv4()",
          "new_text": "GetAdjustedTime()",
          "old_line_content": "            if (!addr.IsIPv4())",
          "new_line_content": "        int64 nNow = GetAdjustedTime();",
          "content_same": false
        },
        {
          "line": 1926,
          "old_api": "memcpy",
          "new_api": "END",
          "old_text": "memcpy(&nPointer, &pnode, sizeof(nPointer))",
          "new_text": "END(hashRand)",
          "old_line_content": "                        memcpy(&nPointer, &pnode, sizeof(nPointer));",
          "new_line_content": "                    hashRand = Hash(BEGIN(hashRand), END(hashRand));",
          "content_same": false
        },
        {
          "line": 1933,
          "old_api": "PushAddress",
          "new_api": "memcpy",
          "old_text": "*mi).second)->PushAddress(addr)",
          "new_text": "memcpy(&nPointer, &pnode, sizeof(nPointer))",
          "old_line_content": "                        ((*mi).second)->PushAddress(addr);",
          "new_line_content": "                        memcpy(&nPointer, &pnode, sizeof(nPointer));",
          "content_same": false
        },
        {
          "line": 1965,
          "old_api": "AskFor",
          "new_api": "AddInventoryKnown",
          "old_text": "pfrom->AskFor(inv)",
          "new_text": "pfrom->AddInventoryKnown(inv)",
          "old_line_content": "                pfrom->AskFor(inv);",
          "new_line_content": "            pfrom->AddInventoryKnown(inv);",
          "content_same": false
        },
        {
          "line": 1967,
          "old_api": "GetOrphanRoot",
          "new_api": "AlreadyHave",
          "old_text": "GetOrphanRoot(mapOrphanBlocks[inv.hash])",
          "new_text": "AlreadyHave(txdb, inv)",
          "old_line_content": "                pfrom->PushGetBlocks(pindexBest, GetOrphanRoot(mapOrphanBlocks[inv.hash]));",
          "new_line_content": "            bool fAlreadyHave = AlreadyHave(txdb, inv);",
          "content_same": false
        },
        {
          "line": 1989,
          "old_api": "ToString",
          "new_api": "size",
          "old_text": "inv.ToString().c_str()",
          "new_text": "vInv.size()",
          "old_line_content": "            printf(\"received getdata for: %s\\n\", inv.ToString().c_str());",
          "new_line_content": "            return error(\"message getdata size() = %d\", vInv.size());",
          "content_same": false
        },
        {
          "line": 2021,
          "old_api": "GetCommand",
          "new_api": "IsKnownType",
          "old_text": "inv.GetCommand()",
          "new_text": "inv.IsKnownType()",
          "old_line_content": "                        pfrom->PushMessage(inv.GetCommand(), (*mi).second);",
          "new_line_content": "            else if (inv.IsKnownType())",
          "content_same": false
        },
        {
          "line": 2026,
          "old_api": "Inventory",
          "new_api": "find",
          "old_text": "Inventory(inv.hash)",
          "new_text": "mapRelay.find(inv)",
          "old_line_content": "            Inventory(inv.hash);",
          "new_line_content": "                    map<CInv, CDataStream>::iterator mi = mapRelay.find(inv);",
          "content_same": false
        },
        {
          "line": 2045,
          "old_api": "ToString",
          "new_api": "GetBlockIndex",
          "old_text": "hashStop.ToString().substr(0,20).c_str()",
          "new_text": "locator.GetBlockIndex()",
          "old_line_content": "        printf(\"getblocks %d to %s limit %d\\n\", (pindex ? pindex->nHeight : -1), hashStop.ToString().substr(0,20).c_str(), nLimit);",
          "new_line_content": "        CBlockIndex* pindex = locator.GetBlockIndex();",
          "content_same": false
        },
        {
          "line": 2050,
          "old_api": "ToString",
          "new_api": "GetDistanceBack",
          "old_text": "pindex->GetBlockHash().ToString().substr(0,20).c_str()",
          "new_text": "locator.GetDistanceBack()",
          "old_line_content": "                printf(\"  getblocks stopping at %d %s (%u bytes)\\n\", pindex->nHeight, pindex->GetBlockHash().ToString().substr(0,20).c_str(), nBytes);",
          "new_line_content": "        int nLimit = 500 + locator.GetDistanceBack();",
          "content_same": false
        },
        {
          "line": 2055,
          "old_api": "ReadFromDisk",
          "new_api": "GetBlockHash",
          "old_text": "block.ReadFromDisk(pindex, true)",
          "new_text": "pindex->GetBlockHash()",
          "old_line_content": "            block.ReadFromDisk(pindex, true);",
          "new_line_content": "            if (pindex->GetBlockHash() == hashStop)",
          "content_same": false
        },
        {
          "line": 2057,
          "old_api": "SendBufferSize",
          "new_api": "ToString",
          "old_text": "SendBufferSize()",
          "new_text": "pindex->GetBlockHash().ToString().substr(0,20).c_str()",
          "old_line_content": "            if (--nLimit <= 0 || nBytes >= SendBufferSize()/2)",
          "new_line_content": "                printf(\"  getblocks stopping at %d %s (%u bytes)\\n\", pindex->nHeight, pindex->GetBlockHash().ToString().substr(0,20).c_str(), nBytes);",
          "content_same": false
        },
        {
          "line": 2062,
          "old_api": "GetBlockHash",
          "new_api": "ReadFromDisk",
          "old_text": "pindex->GetBlockHash()",
          "new_text": "block.ReadFromDisk(pindex, true)",
          "old_line_content": "                pfrom->hashContinue = pindex->GetBlockHash();",
          "new_line_content": "            block.ReadFromDisk(pindex, true);",
          "content_same": false
        },
        {
          "line": 2087,
          "old_api": "GetBlockIndex",
          "new_api": "end",
          "old_text": "locator.GetBlockIndex()",
          "new_text": "mapBlockIndex.end()",
          "old_line_content": "            pindex = locator.GetBlockIndex();",
          "new_line_content": "            if (mi == mapBlockIndex.end())",
          "content_same": false
        },
        {
          "line": 2094,
          "old_api": "ToString",
          "new_api": "GetBlockIndex",
          "old_text": "hashStop.ToString().substr(0,20).c_str()",
          "new_text": "locator.GetBlockIndex()",
          "old_line_content": "        printf(\"getheaders %d to %s limit %d\\n\", (pindex ? pindex->nHeight : -1), hashStop.ToString().substr(0,20).c_str(), nLimit);",
          "new_line_content": "            pindex = locator.GetBlockIndex();",
          "content_same": false
        },
        {
          "line": 2101,
          "old_api": "PushMessage",
          "new_api": "ToString",
          "old_text": "pfrom->PushMessage(\"headers\", vHeaders)",
          "new_text": "hashStop.ToString().substr(0,20).c_str()",
          "old_line_content": "        pfrom->PushMessage(\"headers\", vHeaders);",
          "new_line_content": "        printf(\"getheaders %d to %s limit %d\\n\", (pindex ? pindex->nHeight : -1), hashStop.ToString().substr(0,20).c_str(), nLimit);",
          "content_same": false
        },
        {
          "line": 2119,
          "old_api": "RelayMessage",
          "new_api": "GetHash",
          "old_text": "RelayMessage(inv, vMsg)",
          "new_text": "tx.GetHash()",
          "old_line_content": "            RelayMessage(inv, vMsg);",
          "new_line_content": "        CInv inv(MSG_TX, tx.GetHash());",
          "content_same": false
        },
        {
          "line": 2120,
          "old_api": "erase",
          "new_api": "AddInventoryKnown",
          "old_text": "mapAlreadyAskedFor.erase(inv)",
          "new_text": "pfrom->AddInventoryKnown(inv)",
          "old_line_content": "            mapAlreadyAskedFor.erase(inv);",
          "new_line_content": "        pfrom->AddInventoryKnown(inv);",
          "content_same": false
        },
        {
          "line": 2127,
          "old_api": "lower_bound",
          "new_api": "erase",
          "old_text": "mapOrphanTransactionsByPrev.lower_bound(hashPrev)",
          "new_text": "mapAlreadyAskedFor.erase(inv)",
          "old_line_content": "                for (multimap<uint256, CDataStream*>::iterator mi = mapOrphanTransactionsByPrev.lower_bound(hashPrev);",
          "new_line_content": "            mapAlreadyAskedFor.erase(inv);",
          "content_same": false
        },
        {
          "line": 2128,
          "old_api": "upper_bound",
          "new_api": "push_back",
          "old_text": "mapOrphanTransactionsByPrev.upper_bound(hashPrev)",
          "new_text": "vWorkQueue.push_back(inv.hash)",
          "old_line_content": "                     mi != mapOrphanTransactionsByPrev.upper_bound(hashPrev);",
          "new_line_content": "            vWorkQueue.push_back(inv.hash);",
          "content_same": false
        },
        {
          "line": 2134,
          "old_api": "GetHash",
          "new_api": "lower_bound",
          "old_text": "tx.GetHash()",
          "new_text": "mapOrphanTransactionsByPrev.lower_bound(hashPrev)",
          "old_line_content": "                    CInv inv(MSG_TX, tx.GetHash());",
          "new_line_content": "                for (multimap<uint256, CDataStream*>::iterator mi = mapOrphanTransactionsByPrev.lower_bound(hashPrev);",
          "content_same": false
        },
        {
          "line": 2140,
          "old_api": "RelayMessage",
          "new_api": "CDataStream",
          "old_text": "RelayMessage(inv, vMsg)",
          "new_text": "CDataStream(vMsg)",
          "old_line_content": "                        RelayMessage(inv, vMsg);",
          "new_line_content": "                    CDataStream(vMsg) >> tx;",
          "content_same": false
        },
        {
          "line": 2141,
          "old_api": "erase",
          "new_api": "GetHash",
          "old_text": "mapAlreadyAskedFor.erase(inv)",
          "new_text": "tx.GetHash()",
          "old_line_content": "                        mapAlreadyAskedFor.erase(inv);",
          "new_line_content": "                    CInv inv(MSG_TX, tx.GetHash());",
          "content_same": false
        },
        {
          "line": 2148,
          "old_api": "EraseOrphanTx",
          "new_api": "erase",
          "old_text": "EraseOrphanTx(hash)",
          "new_text": "mapAlreadyAskedFor.erase(inv)",
          "old_line_content": "                EraseOrphanTx(hash);",
          "new_line_content": "                        mapAlreadyAskedFor.erase(inv);",
          "content_same": false
        },
        {
          "line": 2155,
          "old_api": "Misbehaving",
          "new_api": "EraseOrphanTx",
          "old_text": "pfrom->Misbehaving(tx.nDoS)",
          "new_text": "EraseOrphanTx(hash)",
          "old_line_content": "        if (tx.nDoS) pfrom->Misbehaving(tx.nDoS);",
          "new_line_content": "                EraseOrphanTx(hash);",
          "content_same": false
        },
        {
          "line": 2171,
          "old_api": "erase",
          "new_api": "GetHash",
          "old_text": "mapAlreadyAskedFor.erase(inv)",
          "new_text": "block.GetHash().ToString().substr(0,20).c_str()",
          "old_line_content": "            mapAlreadyAskedFor.erase(inv);",
          "new_line_content": "        printf(\"received block %s\\n\", block.GetHash().ToString().substr(0,20).c_str());",
          "content_same": false
        },
        {
          "line": 2179,
          "old_api": "clear",
          "new_api": "Misbehaving",
          "old_text": "pfrom->vAddrToSend.clear()",
          "new_text": "pfrom->Misbehaving(block.nDoS)",
          "old_line_content": "        pfrom->vAddrToSend.clear();",
          "new_line_content": "        if (block.nDoS) pfrom->Misbehaving(block.nDoS);",
          "content_same": false
        },
        {
          "line": 2242,
          "old_api": "IsNull",
          "new_api": "find",
          "old_text": "tracker.IsNull()",
          "new_text": "pfrom->mapRequests.find(hashReply)",
          "old_line_content": "        if (!tracker.IsNull())",
          "new_line_content": "            map<uint256, CRequestTracker>::iterator mi = pfrom->mapRequests.find(hashReply);",
          "content_same": false
        },
        {
          "line": 2243,
          "old_api": "fn",
          "new_api": "end",
          "old_text": "tracker.fn(tracker.param1, vRecv)",
          "new_text": "pfrom->mapRequests.end()",
          "old_line_content": "            tracker.fn(tracker.param1, vRecv);",
          "new_line_content": "            if (mi != pfrom->mapRequests.end())",
          "content_same": false
        },
        {
          "line": 2310,
          "old_api": "end",
          "new_api": "END",
          "old_text": "vRecv.end()",
          "new_text": "END(pchMessageStart)",
          "old_line_content": "                vRecv.erase(vRecv.begin(), vRecv.end() - nHeaderSize);",
          "new_line_content": "        CDataStream::iterator pstart = search(vRecv.begin(), vRecv.end(), BEGIN(pchMessageStart), END(pchMessageStart));",
          "content_same": false
        },
        {
          "line": 2314,
          "old_api": "begin",
          "new_api": "size",
          "old_text": "vRecv.begin()",
          "new_text": "vRecv.size()",
          "old_line_content": "        if (pstart - vRecv.begin() > 0)",
          "new_line_content": "            if (vRecv.size() > nHeaderSize)",
          "content_same": false
        },
        {
          "line": 2316,
          "old_api": "begin",
          "new_api": "printf",
          "old_text": "vRecv.begin()",
          "new_text": "printf(\"\\n\\nPROCESSMESSAGE MESSAGESTART NOT FOUND\\n\\n\")",
          "old_line_content": "        vRecv.erase(vRecv.begin(), pstart);",
          "new_line_content": "                printf(\"\\n\\nPROCESSMESSAGE MESSAGESTART NOT FOUND\\n\\n\");",
          "content_same": false
        },
        {
          "line": 2322,
          "old_api": "IsValid",
          "new_api": "begin",
          "old_text": "hdr.IsValid()",
          "new_text": "vRecv.begin()",
          "old_line_content": "        if (!hdr.IsValid())",
          "new_line_content": "            printf(\"\\n\\nPROCESSMESSAGE SKIPPED %d BYTES\\n\\n\", pstart - vRecv.begin());",
          "content_same": false
        },
        {
          "line": 2346,
          "old_api": "begin",
          "new_api": "end",
          "old_text": "vRecv.begin()",
          "new_text": "vHeaderSave.end()",
          "old_line_content": "            uint256 hash = Hash(vRecv.begin(), vRecv.begin() + nMessageSize);",
          "new_line_content": "            vRecv.insert(vRecv.begin(), vHeaderSave.begin(), vHeaderSave.end());",
          "content_same": false
        },
        {
          "line": 2351,
          "old_api": "c_str",
          "new_api": "GetVersion",
          "old_text": "printf(\"ProcessMessage(%s, %u bytes) : CHECKSUM ERROR nChecksum=%08x hdr.nChecksum=%08x\\n\",\n                       strCommand.c_str(), nMessageSize, nChecksum, hdr.nChecksum)",
          "new_text": "vRecv.GetVersion()",
          "old_line_content": "                printf(\"ProcessMessage(%s, %u bytes) : CHECKSUM ERROR nChecksum=%08x hdr.nChecksum=%08x\\n\",",
          "new_line_content": "        if (vRecv.GetVersion() >= 209)",
          "content_same": false
        },
        {
          "line": 2358,
          "old_api": "begin",
          "new_api": "c_str",
          "old_text": "vRecv.begin()",
          "new_text": "printf(\"ProcessMessage(%s, %u bytes) : CHECKSUM ERROR nChecksum=%08x hdr.nChecksum=%08x\\n\",\n                       strCommand.c_str(), nMessageSize, nChecksum, hdr.nChecksum)",
          "old_line_content": "        CDataStream vMsg(vRecv.begin(), vRecv.begin() + nMessageSize, vRecv.nType, vRecv.nVersion);",
          "new_line_content": "                printf(\"ProcessMessage(%s, %u bytes) : CHECKSUM ERROR nChecksum=%08x hdr.nChecksum=%08x\\n\",",
          "content_same": false
        },
        {
          "line": 2359,
          "old_api": "ignore",
          "new_api": "c_str",
          "old_text": "vRecv.ignore(nMessageSize)",
          "new_text": "strCommand.c_str()",
          "old_line_content": "        vRecv.ignore(nMessageSize);",
          "new_line_content": "                       strCommand.c_str(), nMessageSize, nChecksum, hdr.nChecksum);",
          "content_same": false
        },
        {
          "line": 2365,
          "old_api": "CRITICAL_BLOCK",
          "new_api": "begin",
          "old_text": "CRITICAL_BLOCK(cs_main)",
          "new_text": "vRecv.begin()",
          "old_line_content": "            CRITICAL_BLOCK(cs_main)",
          "new_line_content": "        CDataStream vMsg(vRecv.begin(), vRecv.begin() + nMessageSize, vRecv.nType, vRecv.nVersion);",
          "content_same": false
        },
        {
          "line": 2366,
          "old_api": "ProcessMessage",
          "new_api": "ignore",
          "old_text": "ProcessMessage(pfrom, strCommand, vMsg)",
          "new_text": "vRecv.ignore(nMessageSize)",
          "old_line_content": "                fRet = ProcessMessage(pfrom, strCommand, vMsg);",
          "new_line_content": "        vRecv.ignore(nMessageSize);",
          "content_same": false
        },
        {
          "line": 2372,
          "old_api": "what",
          "new_api": "CRITICAL_BLOCK",
          "old_text": "e.what()",
          "new_text": "CRITICAL_BLOCK(cs_main)",
          "old_line_content": "            if (strstr(e.what(), \"end of data\"))",
          "new_line_content": "            CRITICAL_BLOCK(cs_main)",
          "content_same": false
        },
        {
          "line": 2384,
          "old_api": "PrintExceptionContinue",
          "new_api": "what",
          "old_text": "PrintExceptionContinue(&e, \"ProcessMessage()\")",
          "new_text": "e.what()",
          "old_line_content": "                PrintExceptionContinue(&e, \"ProcessMessage()\");",
          "new_line_content": "            else if (strstr(e.what(), \"size too large\"))",
          "content_same": false
        },
        {
          "line": 2397,
          "old_api": "Compact",
          "new_api": "PrintExceptionContinue",
          "old_text": "vRecv.Compact()",
          "new_text": "PrintExceptionContinue(NULL, \"ProcessMessage()\")",
          "old_line_content": "    vRecv.Compact();",
          "new_line_content": "            PrintExceptionContinue(NULL, \"ProcessMessage()\");",
          "content_same": false
        },
        {
          "line": 2419,
          "old_api": "GetTime",
          "new_api": "PushMessage",
          "old_text": "GetTime()",
          "new_text": "pto->PushMessage(\"ping\")",
          "old_line_content": "        if (GetTime() - nLastRebroadcast > 24 * 60 * 60)",
          "new_line_content": "            pto->PushMessage(\"ping\");",
          "content_same": false
        },
        {
          "line": 2434,
          "old_api": "PushAddress",
          "new_api": "clear",
          "old_text": "pnode->PushAddress(addr)",
          "new_text": "pnode->setAddrKnown.clear()",
          "old_line_content": "                        pnode->PushAddress(addr);",
          "new_line_content": "                    pnode->setAddrKnown.clear();",
          "content_same": false
        },
        {
          "line": 2450,
          "old_api": "GetAdjustedTime",
          "new_api": "GetTime",
          "old_text": "GetAdjustedTime()",
          "new_text": "GetTime()",
          "old_line_content": "                int64 nSince = GetAdjustedTime() - 14 * 24 * 60 * 60;",
          "new_line_content": "            nLastClear = GetTime();",
          "content_same": false
        },
        {
          "line": 2451,
          "old_api": "begin",
          "new_api": "size",
          "old_text": "mapAddresses.begin()",
          "new_text": "vNodes.size()",
          "old_line_content": "                for (map<vector<unsigned char>, CAddress>::iterator mi = mapAddresses.begin();",
          "new_line_content": "        if (GetTime() - nLastClear > 10 * 60 && vNodes.size() >= 3)",
          "content_same": false
        },
        {
          "line": 2457,
          "old_api": "GetTime",
          "new_api": "GetAdjustedTime",
          "old_text": "GetTime()",
          "new_text": "GetAdjustedTime()",
          "old_line_content": "                        if (mapAddresses.size() < 1000 || GetTime() > nLastClear + 20)",
          "new_line_content": "                int64 nSince = GetAdjustedTime() - 14 * 24 * 60 * 60;",
          "content_same": false
        },
        {
          "line": 2459,
          "old_api": "EraseAddress",
          "new_api": "end",
          "old_text": "addrdb.EraseAddress(addr)",
          "new_text": "mapAddresses.end()",
          "old_line_content": "                        addrdb.EraseAddress(addr);",
          "new_line_content": "                     mi != mapAddresses.end();)",
          "content_same": false
        },
        {
          "line": 2486,
          "old_api": "clear",
          "new_api": "insert",
          "old_text": "vAddr.clear()",
          "new_text": "pto->setAddrKnown.insert(addr)",
          "old_line_content": "                        vAddr.clear();",
          "new_line_content": "                if (pto->setAddrKnown.insert(addr).second)",
          "content_same": false
        },
        {
          "line": 2490,
          "old_api": "clear",
          "new_api": "size",
          "old_text": "pto->vAddrToSend.clear()",
          "new_text": "vAddr.size()",
          "old_line_content": "            pto->vAddrToSend.clear();",
          "new_line_content": "                    if (vAddr.size() >= 1000)",
          "content_same": false
        },
        {
          "line": 2525,
          "old_api": "GetTransaction",
          "new_api": "END",
          "old_text": "GetTransaction(inv.hash, wtx)",
          "new_text": "END(hashRand)",
          "old_line_content": "                        if (GetTransaction(inv.hash, wtx))",
          "new_line_content": "                    hashRand = Hash(BEGIN(hashRand), END(hashRand));",
          "content_same": false
        },
        {
          "line": 2532,
          "old_api": "push_back",
          "new_api": "GetTransaction",
          "old_text": "vInvWait.push_back(inv)",
          "new_text": "GetTransaction(inv.hash, wtx)",
          "old_line_content": "                        vInvWait.push_back(inv);",
          "new_line_content": "                        if (GetTransaction(inv.hash, wtx))",
          "content_same": false
        },
        {
          "line": 2550,
          "old_api": "empty",
          "new_api": "PushMessage",
          "old_text": "vInv.empty()",
          "new_text": "pto->PushMessage(\"inv\", vInv)",
          "old_line_content": "        if (!vInv.empty())",
          "new_line_content": "                        pto->PushMessage(\"inv\", vInv);",
          "content_same": false
        },
        {
          "line": 2551,
          "old_api": "PushMessage",
          "new_api": "clear",
          "old_text": "pto->PushMessage(\"inv\", vInv)",
          "new_text": "vInv.clear()",
          "old_line_content": "            pto->PushMessage(\"inv\", vInv);",
          "new_line_content": "                        vInv.clear();",
          "content_same": false
        },
        {
          "line": 2558,
          "old_api": "GetTime",
          "new_api": "PushMessage",
          "old_text": "GetTime()",
          "new_text": "pto->PushMessage(\"inv\", vInv)",
          "old_line_content": "        int64 nNow = GetTime() * 1000000;",
          "new_line_content": "            pto->PushMessage(\"inv\", vInv);",
          "content_same": false
        },
        {
          "line": 2565,
          "old_api": "ToString",
          "new_api": "GetTime",
          "old_text": "inv.ToString().c_str()",
          "new_text": "GetTime()",
          "old_line_content": "                printf(\"sending getdata: %s\\n\", inv.ToString().c_str());",
          "new_line_content": "        int64 nNow = GetTime() * 1000000;",
          "content_same": false
        },
        {
          "line": 2567,
          "old_api": "size",
          "new_api": "begin",
          "old_text": "vGetData.size()",
          "new_text": "pto->mapAskFor.begin()",
          "old_line_content": "                if (vGetData.size() >= 1000)",
          "new_line_content": "        while (!pto->mapAskFor.empty() && (*pto->mapAskFor.begin()).first <= nNow)",
          "content_same": false
        },
        {
          "line": 2569,
          "old_api": "PushMessage",
          "new_api": "begin",
          "old_text": "pto->PushMessage(\"getdata\", vGetData)",
          "new_text": "pto->mapAskFor.begin()",
          "old_line_content": "                    pto->PushMessage(\"getdata\", vGetData);",
          "new_line_content": "            const CInv& inv = (*pto->mapAskFor.begin()).second;",
          "content_same": false
        },
        {
          "line": 2570,
          "old_api": "clear",
          "new_api": "AlreadyHave",
          "old_text": "vGetData.clear()",
          "new_text": "AlreadyHave(txdb, inv)",
          "old_line_content": "                    vGetData.clear();",
          "new_line_content": "            if (!AlreadyHave(txdb, inv))",
          "content_same": false
        },
        {
          "line": 2574,
          "old_api": "begin",
          "new_api": "size",
          "old_text": "pto->mapAskFor.begin()",
          "new_text": "vGetData.size()",
          "old_line_content": "            pto->mapAskFor.erase(pto->mapAskFor.begin());",
          "new_line_content": "                if (vGetData.size() >= 1000)",
          "content_same": false
        },
        {
          "line": 2576,
          "old_api": "empty",
          "new_api": "PushMessage",
          "old_text": "vGetData.empty()",
          "new_text": "pto->PushMessage(\"getdata\", vGetData)",
          "old_line_content": "        if (!vGetData.empty())",
          "new_line_content": "                    pto->PushMessage(\"getdata\", vGetData);",
          "content_same": false
        },
        {
          "line": 2577,
          "old_api": "PushMessage",
          "new_api": "clear",
          "old_text": "pto->PushMessage(\"getdata\", vGetData)",
          "new_text": "vGetData.clear()",
          "old_line_content": "            pto->PushMessage(\"getdata\", vGetData);",
          "new_line_content": "                    vGetData.clear();",
          "content_same": false
        },
        {
          "line": 2696,
          "old_api": "resize",
          "new_api": "get",
          "old_text": "txNew.vout.resize(1)",
          "new_text": "pblock.get()",
          "old_line_content": "    txNew.vout.resize(1);",
          "new_line_content": "    if (!pblock.get())",
          "content_same": false
        },
        {
          "line": 2704,
          "old_api": "CRITICAL_BLOCK",
          "new_api": "GetReservedKey",
          "old_text": "CRITICAL_BLOCK(cs_main)",
          "new_text": "reservekey.GetReservedKey()",
          "old_line_content": "    CRITICAL_BLOCK(cs_main)",
          "new_line_content": "    txNew.vout[0].scriptPubKey << reservekey.GetReservedKey() << OP_CHECKSIG;",
          "content_same": false
        },
        {
          "line": 2733,
          "old_api": "back",
          "new_api": "ReadFromDisk",
          "old_text": "vOrphan.back()",
          "new_text": "txPrev.ReadFromDisk(txdb, txin.prevout, txindex)",
          "old_line_content": "                        porphan = &vOrphan.back();",
          "new_line_content": "                if (!txPrev.ReadFromDisk(txdb, txin.prevout, txindex))",
          "content_same": false
        },
        {
          "line": 2742,
          "old_api": "GetDepthInMainChain",
          "new_api": "push_back",
          "old_text": "txindex.GetDepthInMainChain()",
          "new_text": "mapDependers[txin.prevout.hash].push_back(porphan)",
          "old_line_content": "                int nConf = txindex.GetDepthInMainChain();",
          "new_line_content": "                    mapDependers[txin.prevout.hash].push_back(porphan);",
          "content_same": false
        },
        {
          "line": 2758,
          "old_api": "GetBoolArg",
          "new_api": "::GetSerializeSize(tx, SER_NETWORK)",
          "old_text": "GetBoolArg(\"-printpriority\")",
          "new_text": "::GetSerializeSize(tx, SER_NETWORK)",
          "old_line_content": "            if (fDebug && GetBoolArg(\"-printpriority\"))",
          "new_line_content": "            dPriority /= ::GetSerializeSize(tx, SER_NETWORK);",
          "content_same": false
        },
        {
          "line": 2763,
          "old_api": "printf",
          "new_api": "make_pair",
          "old_text": "printf(\"\\n\")",
          "new_text": "make_pair(-dPriority, &(*mi).second)",
          "old_line_content": "                printf(\"\\n\");",
          "new_line_content": "                mapPriority.insert(make_pair(-dPriority, &(*mi).second));",
          "content_same": false
        },
        {
          "line": 2782,
          "old_api": "GetSigOpCount",
          "new_api": "begin",
          "old_text": "tx.GetSigOpCount()",
          "new_text": "mapPriority.begin()",
          "old_line_content": "            int nTxSigOps = tx.GetSigOpCount();",
          "new_line_content": "            CTransaction& tx = *(*mapPriority.begin()).second;",
          "content_same": false
        },
        {
          "line": 2795,
          "old_api": "swap",
          "new_api": "GetMinFee",
          "old_text": "swap(mapTestPool, mapTestPoolTmp)",
          "new_text": "tx.GetMinFee(nBlockSize, fAllowFree, true)",
          "old_line_content": "            swap(mapTestPool, mapTestPoolTmp);",
          "new_line_content": "            int64 nMinFee = tx.GetMinFee(nBlockSize, fAllowFree, true);",
          "content_same": false
        },
        {
          "line": 2810,
          "old_api": "erase",
          "new_api": "GetHash",
          "old_text": "porphan->setDependsOn.erase(hash)",
          "new_text": "tx.GetHash()",
          "old_line_content": "                        porphan->setDependsOn.erase(hash);",
          "new_line_content": "            uint256 hash = tx.GetHash();",
          "content_same": false
        },
        {
          "line": 2811,
          "old_api": "empty",
          "new_api": "count",
          "old_text": "porphan->setDependsOn.empty()",
          "new_text": "mapDependers.count(hash)",
          "old_line_content": "                        if (porphan->setDependsOn.empty())",
          "new_line_content": "            if (mapDependers.count(hash))",
          "content_same": false
        },
        {
          "line": 2818,
          "old_api": "GetBlockValue",
          "new_api": "empty",
          "old_text": "GetBlockValue(pindexPrev->nHeight+1, nFees)",
          "new_text": "porphan->setDependsOn.empty()",
          "old_line_content": "    pblock->vtx[0].vout[0].nValue = GetBlockValue(pindexPrev->nHeight+1, nFees);",
          "new_line_content": "                        if (porphan->setDependsOn.empty())",
          "content_same": false
        },
        {
          "line": 2885,
          "old_api": "SHA256Transform",
          "new_api": "FormatHashBlocks",
          "old_text": "SHA256Transform(pmidstate, &tmp.block, pSHA256InitState)",
          "new_text": "FormatHashBlocks(&tmp.hash1, sizeof(tmp.hash1))",
          "old_line_content": "    SHA256Transform(pmidstate, &tmp.block, pSHA256InitState);",
          "new_line_content": "    FormatHashBlocks(&tmp.hash1, sizeof(tmp.hash1));",
          "content_same": false
        },
        {
          "line": 2894,
          "old_api": "GetHash",
          "new_api": "memcpy",
          "old_text": "pblock->GetHash()",
          "new_text": "memcpy(pdata, &tmp.block, 128)",
          "old_line_content": "    uint256 hash = pblock->GetHash();",
          "new_line_content": "    memcpy(pdata, &tmp.block, 128);",
          "content_same": false
        },
        {
          "line": 2895,
          "old_api": "SetCompact",
          "new_api": "memcpy",
          "old_text": "CBigNum().SetCompact(pblock->nBits).getuint256()",
          "new_text": "memcpy(phash1, &tmp.hash1, 64)",
          "old_line_content": "    uint256 hashTarget = CBigNum().SetCompact(pblock->nBits).getuint256();",
          "new_line_content": "    memcpy(phash1, &tmp.hash1, 64);",
          "content_same": false
        },
        {
          "line": 2901,
          "old_api": "printf",
          "new_api": "GetHash",
          "old_text": "printf(\"BitcoinMiner:\\n\")",
          "new_text": "pblock->GetHash()",
          "old_line_content": "    printf(\"BitcoinMiner:\\n\");",
          "new_line_content": "    uint256 hash = pblock->GetHash();",
          "content_same": false
        },
        {
          "line": 2902,
          "old_api": "GetHex",
          "new_api": "SetCompact",
          "old_text": "hashTarget.GetHex().c_str()",
          "new_text": "CBigNum().SetCompact(pblock->nBits).getuint256()",
          "old_line_content": "    printf(\"proof-of-work found  \\n  hash: %s  \\ntarget: %s\\n\", hash.GetHex().c_str(), hashTarget.GetHex().c_str());",
          "new_line_content": "    uint256 hashTarget = CBigNum().SetCompact(pblock->nBits).getuint256();",
          "content_same": false
        },
        {
          "line": 2911,
          "old_api": "error",
          "new_api": "GetTime",
          "old_text": "error(\"BitcoinMiner : generated block is stale\")",
          "new_text": "GetTime()",
          "old_line_content": "            return error(\"BitcoinMiner : generated block is stale\");",
          "new_line_content": "    printf(\"%s \", DateTimeStrFormat(\"%x %H:%M\", GetTime()).c_str());",
          "content_same": false
        },
        {
          "line": 2918,
          "old_api": "GetHash",
          "new_api": "error",
          "old_text": "pblock->GetHash()",
          "new_text": "error(\"BitcoinMiner : generated block is stale\")",
          "old_line_content": "            wallet.mapRequestCount[pblock->GetHash()] = 0;",
          "new_line_content": "            return error(\"BitcoinMiner : generated block is stale\");",
          "content_same": false
        },
        {
          "line": 2921,
          "old_api": "ProcessBlock",
          "new_api": "KeepKey",
          "old_text": "ProcessBlock(NULL, pblock)",
          "new_text": "reservekey.KeepKey()",
          "old_line_content": "        if (!ProcessBlock(NULL, pblock))",
          "new_line_content": "        reservekey.KeepKey();",
          "content_same": false
        },
        {
          "line": 2925,
          "old_api": "Sleep",
          "new_api": "GetHash",
          "old_text": "Sleep(2000)",
          "new_text": "pblock->GetHash()",
          "old_line_content": "    Sleep(2000);",
          "new_line_content": "            wallet.mapRequestCount[pblock->GetHash()] = 0;",
          "content_same": false
        },
        {
          "line": 2974,
          "old_api": "alignup<16>(pdatabuf)",
          "new_api": "size",
          "old_text": "alignup<16>(pdatabuf)",
          "new_text": "pblock->vtx.size()",
          "old_line_content": "        char pdatabuf[128+16];    char* pdata     = alignup<16>(pdatabuf);",
          "new_line_content": "        printf(\"Running BitcoinMiner with %d transactions in block\\n\", pblock->vtx.size());",
          "content_same": false
        },
        {
          "line": 2996,
          "old_api": "ScanHash_CryptoPP",
          "new_api": "alignup<16>(hashbuf)",
          "old_text": "ScanHash_CryptoPP(pmidstate, pdata + 64, phash1,\n                                            (char*)&hash, nHashesDone)",
          "new_text": "alignup<16>(hashbuf)",
          "old_line_content": "            nNonceFound = ScanHash_CryptoPP(pmidstate, pdata + 64, phash1,",
          "new_line_content": "        uint256& hash = *alignup<16>(hashbuf);",
          "content_same": false
        },
        {
          "line": 3003,
          "old_api": "ByteReverse",
          "new_api": "ScanHash_CryptoPP",
          "old_text": "ByteReverse(((unsigned int*)&hash)[i])",
          "new_text": "ScanHash_CryptoPP(pmidstate, pdata + 64, phash1,\n                                            (char*)&hash, nHashesDone)",
          "old_line_content": "                    ((unsigned int*)&hash)[i] = ByteReverse(((unsigned int*)&hash)[i]);",
          "new_line_content": "            nNonceFound = ScanHash_CryptoPP(pmidstate, pdata + 64, phash1,",
          "content_same": false
        },
        {
          "line": 3042,
          "old_api": "GetTime",
          "new_api": "GetTimeMillis",
          "old_text": "GetTime()",
          "new_text": "GetTimeMillis()",
          "old_line_content": "                            nLogTime = GetTime();",
          "new_line_content": "                        nHPSTimerStart = GetTimeMillis();",
          "content_same": false
        },
        {
          "line": 3044,
          "old_api": "printf",
          "new_api": "strprintf",
          "old_text": "printf(\"hashmeter %3d CPUs %6.0f khash/s\\n\", vnThreadsRunning[3], dHashesPerSec/1000.0)",
          "new_text": "strprintf(\"    %.0f khash/s\", dHashesPerSec/1000.0)",
          "old_line_content": "                            printf(\"hashmeter %3d CPUs %6.0f khash/s\\n\", vnThreadsRunning[3], dHashesPerSec/1000.0);",
          "new_line_content": "                        string strStatus = strprintf(\"    %.0f khash/s\", dHashesPerSec/1000.0);",
          "content_same": false
        },
        {
          "line": 3068,
          "old_api": "ByteReverse",
          "new_api": "GetTime",
          "old_text": "ByteReverse(pblock->nTime)",
          "new_text": "GetTime()",
          "old_line_content": "            nBlockTime = ByteReverse(pblock->nTime);",
          "new_line_content": "            if (nTransactionsUpdated != nTransactionsUpdatedLast && GetTime() - nStart > 60)",
          "content_same": false
        },
        {
          "line": 3114,
          "old_api": "printf",
          "new_api": "boost::thread::hardware_concurrency()",
          "old_text": "printf(\"Starting %d BitcoinMiner threads\\n\", nAddThreads)",
          "new_text": "boost::thread::hardware_concurrency()",
          "old_line_content": "        printf(\"Starting %d BitcoinMiner threads\\n\", nAddThreads);",
          "new_line_content": "        int nProcessors = boost::thread::hardware_concurrency();",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2052,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "hashStop.ToString().substr(0,20).c_str()",
          "old_line_content": "            }",
          "new_line_content": "        printf(\"getblocks %d to %s limit %d\\n\", (pindex ? pindex->nHeight : -1), hashStop.ToString().substr(0,20).c_str(), nLimit);",
          "content_same": false
        },
        {
          "line": 2060,
          "old_api": null,
          "new_api": "GetBlockHash",
          "old_text": null,
          "new_text": "pindex->GetBlockHash()",
          "old_line_content": "                // getblocks the next batch of inventory.",
          "new_line_content": "            pfrom->PushInventory(CInv(MSG_BLOCK, pindex->GetBlockHash()));",
          "content_same": false
        },
        {
          "line": 2063,
          "old_api": null,
          "new_api": "GetSerializeSize",
          "old_text": null,
          "new_text": "block.GetSerializeSize(SER_NETWORK)",
          "old_line_content": "                break;",
          "new_line_content": "            nBytes += block.GetSerializeSize(SER_NETWORK);",
          "content_same": false
        },
        {
          "line": 2064,
          "old_api": null,
          "new_api": "SendBufferSize",
          "old_text": null,
          "new_text": "SendBufferSize()",
          "old_line_content": "            }",
          "new_line_content": "            if (--nLimit <= 0 || nBytes >= SendBufferSize()/2)",
          "content_same": false
        },
        {
          "line": 2068,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "pindex->GetBlockHash().ToString().substr(0,20).c_str()",
          "old_line_content": "",
          "new_line_content": "                printf(\"  getblocks stopping at limit %d %s (%u bytes)\\n\", pindex->nHeight, pindex->GetBlockHash().ToString().substr(0,20).c_str(), nBytes);",
          "content_same": false
        },
        {
          "line": 2069,
          "old_api": null,
          "new_api": "GetBlockHash",
          "old_text": null,
          "new_text": "pindex->GetBlockHash()",
          "old_line_content": "    else if (strCommand == \"getheaders\")",
          "new_line_content": "                pfrom->hashContinue = pindex->GetBlockHash();",
          "content_same": false
        },
        {
          "line": 2083,
          "old_api": null,
          "new_api": "IsNull",
          "old_text": null,
          "new_text": "locator.IsNull()",
          "old_line_content": "        }",
          "new_line_content": "        if (locator.IsNull())",
          "content_same": false
        },
        {
          "line": 2086,
          "old_api": null,
          "new_api": "find",
          "old_text": null,
          "new_text": "mapBlockIndex.find(hashStop)",
          "old_line_content": "            // Find the last block the caller has in the main chain",
          "new_line_content": "            map<uint256, CBlockIndex*>::iterator mi = mapBlockIndex.find(hashStop);",
          "content_same": false
        },
        {
          "line": 2100,
          "old_api": null,
          "new_api": "GetDistanceBack",
          "old_text": null,
          "new_text": "locator.GetDistanceBack()",
          "old_line_content": "        }",
          "new_line_content": "        int nLimit = 2000 + locator.GetDistanceBack();",
          "content_same": false
        },
        {
          "line": 2104,
          "old_api": null,
          "new_api": "GetBlockHeader",
          "old_text": null,
          "new_text": "pindex->GetBlockHeader()",
          "old_line_content": "",
          "new_line_content": "            vHeaders.push_back(pindex->GetBlockHeader());",
          "content_same": false
        },
        {
          "line": 2105,
          "old_api": null,
          "new_api": "GetBlockHash",
          "old_text": null,
          "new_text": "pindex->GetBlockHash()",
          "old_line_content": "    else if (strCommand == \"tx\")",
          "new_line_content": "            if (--nLimit <= 0 || pindex->GetBlockHash() == hashStop)",
          "content_same": false
        },
        {
          "line": 2108,
          "old_api": null,
          "new_api": "PushMessage",
          "old_text": null,
          "new_text": "pfrom->PushMessage(\"headers\", vHeaders)",
          "old_line_content": "        CDataStream vMsg(vRecv);",
          "new_line_content": "        pfrom->PushMessage(\"headers\", vHeaders);",
          "content_same": false
        },
        {
          "line": 2123,
          "old_api": null,
          "new_api": "AcceptToMemoryPool",
          "old_text": null,
          "new_text": "tx.AcceptToMemoryPool(true, &fMissingInputs)",
          "old_line_content": "            // Recursively process any orphan transactions that depended on this one",
          "new_line_content": "        if (tx.AcceptToMemoryPool(true, &fMissingInputs))",
          "content_same": false
        },
        {
          "line": 2125,
          "old_api": null,
          "new_api": "SyncWithWallets",
          "old_text": null,
          "new_text": "SyncWithWallets(tx, NULL, true)",
          "old_line_content": "            {",
          "new_line_content": "            SyncWithWallets(tx, NULL, true);",
          "content_same": false
        },
        {
          "line": 2126,
          "old_api": null,
          "new_api": "RelayMessage",
          "old_text": null,
          "new_text": "RelayMessage(inv, vMsg)",
          "old_line_content": "                uint256 hashPrev = vWorkQueue[i];",
          "new_line_content": "            RelayMessage(inv, vMsg);",
          "content_same": false
        },
        {
          "line": 2131,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vWorkQueue.size()",
          "old_line_content": "                    const CDataStream& vMsg = *((*mi).second);",
          "new_line_content": "            for (int i = 0; i < vWorkQueue.size(); i++)",
          "content_same": false
        },
        {
          "line": 2135,
          "old_api": null,
          "new_api": "upper_bound",
          "old_text": null,
          "new_text": "mapOrphanTransactionsByPrev.upper_bound(hashPrev)",
          "old_line_content": "",
          "new_line_content": "                     mi != mapOrphanTransactionsByPrev.upper_bound(hashPrev);",
          "content_same": false
        },
        {
          "line": 2143,
          "old_api": null,
          "new_api": "AcceptToMemoryPool",
          "old_text": null,
          "new_text": "tx.AcceptToMemoryPool(true)",
          "old_line_content": "                    }",
          "new_line_content": "                    if (tx.AcceptToMemoryPool(true))",
          "content_same": false
        },
        {
          "line": 2145,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "inv.hash.ToString().substr(0,10).c_str()",
          "old_line_content": "            }",
          "new_line_content": "                        printf(\"   accepted orphan tx %s\\n\", inv.hash.ToString().substr(0,10).c_str());",
          "content_same": false
        },
        {
          "line": 2146,
          "old_api": null,
          "new_api": "SyncWithWallets",
          "old_text": null,
          "new_text": "SyncWithWallets(tx, NULL, true)",
          "old_line_content": "",
          "new_line_content": "                        SyncWithWallets(tx, NULL, true);",
          "content_same": false
        },
        {
          "line": 2147,
          "old_api": null,
          "new_api": "RelayMessage",
          "old_text": null,
          "new_text": "RelayMessage(inv, vMsg)",
          "old_line_content": "            BOOST_FOREACH(uint256 hash, vWorkQueue)",
          "new_line_content": "                        RelayMessage(inv, vMsg);",
          "content_same": false
        },
        {
          "line": 2149,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vWorkQueue.push_back(inv.hash)",
          "old_line_content": "        }",
          "new_line_content": "                        vWorkQueue.push_back(inv.hash);",
          "content_same": false
        },
        {
          "line": 2159,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "inv.hash.ToString().substr(0,10).c_str()",
          "old_line_content": "    else if (strCommand == \"block\")",
          "new_line_content": "            printf(\"storing orphan tx %s\\n\", inv.hash.ToString().substr(0,10).c_str());",
          "content_same": false
        },
        {
          "line": 2160,
          "old_api": null,
          "new_api": "AddOrphanTx",
          "old_text": null,
          "new_text": "AddOrphanTx(vMsg)",
          "old_line_content": "    {",
          "new_line_content": "            AddOrphanTx(vMsg);",
          "content_same": false
        },
        {
          "line": 2162,
          "old_api": null,
          "new_api": "Misbehaving",
          "old_text": null,
          "new_text": "pfrom->Misbehaving(tx.nDoS)",
          "old_line_content": "        vRecv >> block;",
          "new_line_content": "        if (tx.nDoS) pfrom->Misbehaving(tx.nDoS);",
          "content_same": false
        },
        {
          "line": 2174,
          "old_api": null,
          "new_api": "GetHash",
          "old_text": null,
          "new_text": "block.GetHash()",
          "old_line_content": "",
          "new_line_content": "        CInv inv(MSG_BLOCK, block.GetHash());",
          "content_same": false
        },
        {
          "line": 2175,
          "old_api": null,
          "new_api": "AddInventoryKnown",
          "old_text": null,
          "new_text": "pfrom->AddInventoryKnown(inv)",
          "old_line_content": "",
          "new_line_content": "        pfrom->AddInventoryKnown(inv);",
          "content_same": false
        },
        {
          "line": 2177,
          "old_api": null,
          "new_api": "ProcessBlock",
          "old_text": null,
          "new_text": "ProcessBlock(pfrom, &block)",
          "old_line_content": "    {",
          "new_line_content": "        if (ProcessBlock(pfrom, &block))",
          "content_same": false
        },
        {
          "line": 2178,
          "old_api": null,
          "new_api": "erase",
          "old_text": null,
          "new_text": "mapAlreadyAskedFor.erase(inv)",
          "old_line_content": "        // Nodes rebroadcast an addr every 24 hours",
          "new_line_content": "            mapAlreadyAskedFor.erase(inv);",
          "content_same": false
        },
        {
          "line": 2186,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "pfrom->vAddrToSend.clear()",
          "old_line_content": "                const CAddress& addr = item.second;",
          "new_line_content": "        pfrom->vAddrToSend.clear();",
          "content_same": false
        },
        {
          "line": 2187,
          "old_api": null,
          "new_api": "GetAdjustedTime",
          "old_text": null,
          "new_text": "GetAdjustedTime()",
          "old_line_content": "                if (addr.nTime > nSince)",
          "new_line_content": "        int64 nSince = GetAdjustedTime() - 3 * 60 * 60; // in the last 3 hours",
          "content_same": false
        },
        {
          "line": 2200,
          "old_api": null,
          "new_api": "GetRand",
          "old_text": null,
          "new_text": "GetRand(nCount)",
          "old_line_content": "    else if (strCommand == \"checkorder\")",
          "new_line_content": "                if (addr.nTime > nSince && GetRand(nCount) < 2500)",
          "content_same": false
        },
        {
          "line": 2201,
          "old_api": null,
          "new_api": "PushAddress",
          "old_text": null,
          "new_text": "pfrom->PushAddress(addr)",
          "old_line_content": "    {",
          "new_line_content": "                    pfrom->PushAddress(addr);",
          "content_same": false
        },
        {
          "line": 2212,
          "old_api": null,
          "new_api": "GetBoolArg",
          "old_text": null,
          "new_text": "GetBoolArg(\"-allowreceivebyip\")",
          "old_line_content": "        vRecv >> order;",
          "new_line_content": "        if (!GetBoolArg(\"-allowreceivebyip\"))",
          "content_same": false
        },
        {
          "line": 2214,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": "string(\"\")",
          "old_line_content": "        /// we have a chance to check the order here",
          "new_line_content": "            pfrom->PushMessage(\"reply\", hashReply, (int)2, string(\"\"));",
          "content_same": false
        },
        {
          "line": 2224,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "mapReuseKey.count(pfrom->addr.ip)",
          "old_line_content": "    }",
          "new_line_content": "        if (!mapReuseKey.count(pfrom->addr.ip))",
          "content_same": false
        },
        {
          "line": 2225,
          "old_api": null,
          "new_api": "GetKeyFromPool",
          "old_text": null,
          "new_text": "pwalletMain->GetKeyFromPool(mapReuseKey[pfrom->addr.ip], true)",
          "old_line_content": "",
          "new_line_content": "            pwalletMain->GetKeyFromPool(mapReuseKey[pfrom->addr.ip], true);",
          "content_same": false
        },
        {
          "line": 2230,
          "old_api": null,
          "new_api": "PushMessage",
          "old_text": null,
          "new_text": "pfrom->PushMessage(\"reply\", hashReply, (int)0, scriptPubKey)",
          "old_line_content": "        vRecv >> hashReply;",
          "new_line_content": "        pfrom->PushMessage(\"reply\", hashReply, (int)0, scriptPubKey);",
          "content_same": false
        },
        {
          "line": 2240,
          "old_api": null,
          "new_api": "CRITICAL_BLOCK",
          "old_text": null,
          "new_text": "CRITICAL_BLOCK(pfrom->cs_mapRequests)",
          "old_line_content": "            }",
          "new_line_content": "        CRITICAL_BLOCK(pfrom->cs_mapRequests)",
          "content_same": false
        },
        {
          "line": 2246,
          "old_api": null,
          "new_api": "erase",
          "old_text": null,
          "new_text": "pfrom->mapRequests.erase(mi)",
          "old_line_content": "",
          "new_line_content": "                pfrom->mapRequests.erase(mi);",
          "content_same": false
        },
        {
          "line": 2249,
          "old_api": null,
          "new_api": "IsNull",
          "old_text": null,
          "new_text": "tracker.IsNull()",
          "old_line_content": "    }",
          "new_line_content": "        if (!tracker.IsNull())",
          "content_same": false
        },
        {
          "line": 2250,
          "old_api": null,
          "new_api": "fn",
          "old_text": null,
          "new_text": "tracker.fn(tracker.param1, vRecv)",
          "old_line_content": "",
          "new_line_content": "            tracker.fn(tracker.param1, vRecv);",
          "content_same": false
        },
        {
          "line": 2264,
          "old_api": null,
          "new_api": "ProcessAlert",
          "old_text": null,
          "new_text": "alert.ProcessAlert()",
          "old_line_content": "        }",
          "new_line_content": "        if (alert.ProcessAlert())",
          "content_same": false
        },
        {
          "line": 2267,
          "old_api": null,
          "new_api": "GetHash",
          "old_text": null,
          "new_text": "alert.GetHash()",
          "old_line_content": "",
          "new_line_content": "            pfrom->setKnown.insert(alert.GetHash());",
          "content_same": false
        },
        {
          "line": 2268,
          "old_api": null,
          "new_api": "CRITICAL_BLOCK",
          "old_text": null,
          "new_text": "CRITICAL_BLOCK(cs_vNodes)",
          "old_line_content": "    else",
          "new_line_content": "            CRITICAL_BLOCK(cs_vNodes)",
          "content_same": false
        },
        {
          "line": 2270,
          "old_api": null,
          "new_api": "RelayTo",
          "old_text": null,
          "new_text": "alert.RelayTo(pnode)",
          "old_line_content": "        // Ignore unknown commands for extensibility",
          "new_line_content": "                    alert.RelayTo(pnode);",
          "content_same": false
        },
        {
          "line": 2284,
          "old_api": null,
          "new_api": "AddressCurrentlyConnected",
          "old_text": null,
          "new_text": "AddressCurrentlyConnected(pfrom->addr)",
          "old_line_content": "{",
          "new_line_content": "            AddressCurrentlyConnected(pfrom->addr);",
          "content_same": false
        },
        {
          "line": 2293,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "vRecv.empty()",
          "old_line_content": "    //  (4) message start",
          "new_line_content": "    if (vRecv.empty())",
          "content_same": false
        },
        {
          "line": 2311,
          "old_api": null,
          "new_api": "CMessageHeader",
          "old_text": null,
          "new_text": "CMessageHeader()",
          "old_line_content": "            }",
          "new_line_content": "        int nHeaderSize = vRecv.GetSerializeSize(CMessageHeader());",
          "content_same": false
        },
        {
          "line": 2312,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "vRecv.end()",
          "old_line_content": "            break;",
          "new_line_content": "        if (vRecv.end() - pstart < nHeaderSize)",
          "content_same": false
        },
        {
          "line": 2317,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "vRecv.end()",
          "old_line_content": "",
          "new_line_content": "                vRecv.erase(vRecv.begin(), vRecv.end() - nHeaderSize);",
          "content_same": false
        },
        {
          "line": 2321,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "vRecv.begin()",
          "old_line_content": "        vRecv >> hdr;",
          "new_line_content": "        if (pstart - vRecv.begin() > 0)",
          "content_same": false
        },
        {
          "line": 2323,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "vRecv.begin()",
          "old_line_content": "        {",
          "new_line_content": "        vRecv.erase(vRecv.begin(), pstart);",
          "content_same": false
        },
        {
          "line": 2326,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "vRecv.begin()",
          "old_line_content": "        }",
          "new_line_content": "        vector<char> vHeaderSave(vRecv.begin(), vRecv.begin() + nHeaderSize);",
          "content_same": false
        },
        {
          "line": 2329,
          "old_api": null,
          "new_api": "IsValid",
          "old_text": null,
          "new_text": "hdr.IsValid()",
          "old_line_content": "        // Message size",
          "new_line_content": "        if (!hdr.IsValid())",
          "content_same": false
        },
        {
          "line": 2331,
          "old_api": null,
          "new_api": "GetCommand",
          "old_text": null,
          "new_text": "hdr.GetCommand().c_str()",
          "old_line_content": "        if (nMessageSize > MAX_SIZE)",
          "new_line_content": "            printf(\"\\n\\nPROCESSMESSAGE: ERRORS IN HEADER %s\\n\\n\\n\", hdr.GetCommand().c_str());",
          "content_same": false
        },
        {
          "line": 2334,
          "old_api": null,
          "new_api": "GetCommand",
          "old_text": null,
          "new_text": "hdr.GetCommand()",
          "old_line_content": "            continue;",
          "new_line_content": "        string strCommand = hdr.GetCommand();",
          "content_same": false
        },
        {
          "line": 2340,
          "old_api": null,
          "new_api": "c_str",
          "old_text": null,
          "new_text": "strCommand.c_str()",
          "old_line_content": "            break;",
          "new_line_content": "            printf(\"ProcessMessage(%s, %u bytes) : nMessageSize > MAX_SIZE\\n\", strCommand.c_str(), nMessageSize);",
          "content_same": false
        },
        {
          "line": 2343,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vRecv.size()",
          "old_line_content": "        // Checksum",
          "new_line_content": "        if (nMessageSize > vRecv.size())",
          "content_same": false
        },
        {
          "line": 2353,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "vRecv.begin()",
          "old_line_content": "                continue;",
          "new_line_content": "            uint256 hash = Hash(vRecv.begin(), vRecv.begin() + nMessageSize);",
          "content_same": false
        },
        {
          "line": 2355,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(&nChecksum, &hash, sizeof(nChecksum))",
          "old_line_content": "        }",
          "new_line_content": "            memcpy(&nChecksum, &hash, sizeof(nChecksum));",
          "content_same": false
        },
        {
          "line": 2373,
          "old_api": null,
          "new_api": "ProcessMessage",
          "old_text": null,
          "new_text": "ProcessMessage(pfrom, strCommand, vMsg)",
          "old_line_content": "            {",
          "new_line_content": "                fRet = ProcessMessage(pfrom, strCommand, vMsg);",
          "content_same": false
        },
        {
          "line": 2379,
          "old_api": null,
          "new_api": "what",
          "old_text": null,
          "new_text": "e.what()",
          "old_line_content": "                // Allow exceptions from overlong size",
          "new_line_content": "            if (strstr(e.what(), \"end of data\"))",
          "content_same": false
        },
        {
          "line": 2382,
          "old_api": null,
          "new_api": "what",
          "old_text": null,
          "new_text": "e.what()",
          "old_line_content": "            else",
          "new_line_content": "                printf(\"ProcessMessage(%s, %u bytes) : Exception '%s' caught, normally caused by a message being shorter than its stated length\\n\", strCommand.c_str(), nMessageSize, e.what());",
          "content_same": false
        },
        {
          "line": 2387,
          "old_api": null,
          "new_api": "what",
          "old_text": null,
          "new_text": "e.what()",
          "old_line_content": "        catch (std::exception& e) {",
          "new_line_content": "                printf(\"ProcessMessage(%s, %u bytes) : Exception '%s' caught\\n\", strCommand.c_str(), nMessageSize, e.what());",
          "content_same": false
        },
        {
          "line": 2391,
          "old_api": null,
          "new_api": "PrintExceptionContinue",
          "old_text": null,
          "new_text": "PrintExceptionContinue(&e, \"ProcessMessage()\")",
          "old_line_content": "        }",
          "new_line_content": "                PrintExceptionContinue(&e, \"ProcessMessage()\");",
          "content_same": false
        },
        {
          "line": 2395,
          "old_api": null,
          "new_api": "PrintExceptionContinue",
          "old_text": null,
          "new_text": "PrintExceptionContinue(&e, \"ProcessMessage()\")",
          "old_line_content": "    }",
          "new_line_content": "            PrintExceptionContinue(&e, \"ProcessMessage()\");",
          "content_same": false
        },
        {
          "line": 2401,
          "old_api": null,
          "new_api": "c_str",
          "old_text": null,
          "new_text": "strCommand.c_str()",
          "old_line_content": "",
          "new_line_content": "            printf(\"ProcessMessage(%s, %u bytes) FAILED\\n\", strCommand.c_str(), nMessageSize);",
          "content_same": false
        },
        {
          "line": 2404,
          "old_api": null,
          "new_api": "Compact",
          "old_text": null,
          "new_text": "vRecv.Compact()",
          "old_line_content": "    CRITICAL_BLOCK(cs_main)",
          "new_line_content": "    vRecv.Compact();",
          "content_same": false
        },
        {
          "line": 2418,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "pto->vSend.empty()",
          "old_line_content": "        static int64 nLastRebroadcast;",
          "new_line_content": "        if (pto->nLastSend && GetTime() - pto->nLastSend > 30 * 60 && pto->vSend.empty())",
          "content_same": false
        },
        {
          "line": 2422,
          "old_api": null,
          "new_api": "ResendWalletTransactions",
          "old_text": null,
          "new_text": "ResendWalletTransactions()",
          "old_line_content": "            CRITICAL_BLOCK(cs_vNodes)",
          "new_line_content": "        ResendWalletTransactions();",
          "content_same": false
        },
        {
          "line": 2426,
          "old_api": null,
          "new_api": "GetTime",
          "old_text": null,
          "new_text": "GetTime()",
          "old_line_content": "                    // Periodically clear setAddrKnown to allow refresh broadcasts",
          "new_line_content": "        if (GetTime() - nLastRebroadcast > 24 * 60 * 60)",
          "content_same": false
        },
        {
          "line": 2428,
          "old_api": null,
          "new_api": "GetTime",
          "old_text": null,
          "new_text": "GetTime()",
          "old_line_content": "",
          "new_line_content": "            nLastRebroadcast = GetTime();",
          "content_same": false
        },
        {
          "line": 2437,
          "old_api": null,
          "new_api": "IsRoutable",
          "old_text": null,
          "new_text": "addrLocalHost.IsRoutable()",
          "old_line_content": "            }",
          "new_line_content": "                    if (addrLocalHost.IsRoutable() && !fUseProxy)",
          "content_same": false
        },
        {
          "line": 2440,
          "old_api": null,
          "new_api": "GetAdjustedTime",
          "old_text": null,
          "new_text": "GetAdjustedTime()",
          "old_line_content": "        // Clear out old addresses periodically so it's not too much work at once",
          "new_line_content": "                        addr.nTime = GetAdjustedTime();",
          "content_same": false
        },
        {
          "line": 2441,
          "old_api": null,
          "new_api": "PushAddress",
          "old_text": null,
          "new_text": "pnode->PushAddress(addr)",
          "old_line_content": "        static int64 nLastClear;",
          "new_line_content": "                        pnode->PushAddress(addr);",
          "content_same": false
        },
        {
          "line": 2453,
          "old_api": null,
          "new_api": "GetTime",
          "old_text": null,
          "new_text": "GetTime()",
          "old_line_content": "                {",
          "new_line_content": "            nLastClear = GetTime();",
          "content_same": false
        },
        {
          "line": 2458,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "mapAddresses.begin()",
          "old_line_content": "                            break;",
          "new_line_content": "                for (map<vector<unsigned char>, CAddress>::iterator mi = mapAddresses.begin();",
          "content_same": false
        },
        {
          "line": 2464,
          "old_api": null,
          "new_api": "GetTime",
          "old_text": null,
          "new_text": "GetTime()",
          "old_line_content": "                }",
          "new_line_content": "                        if (mapAddresses.size() < 1000 || GetTime() > nLastClear + 20)",
          "content_same": false
        },
        {
          "line": 2466,
          "old_api": null,
          "new_api": "EraseAddress",
          "old_text": null,
          "new_text": "addrdb.EraseAddress(addr)",
          "old_line_content": "        }",
          "new_line_content": "                        addrdb.EraseAddress(addr);",
          "content_same": false
        },
        {
          "line": 2467,
          "old_api": null,
          "new_api": "erase",
          "old_text": null,
          "new_text": "mapAddresses.erase(mi++)",
          "old_line_content": "",
          "new_line_content": "                        mapAddresses.erase(mi++);",
          "content_same": false
        },
        {
          "line": 2482,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "pto->vAddrToSend.size()",
          "old_line_content": "                    // receiver rejects addr messages larger than 1000",
          "new_line_content": "            vAddr.reserve(pto->vAddrToSend.size());",
          "content_same": false
        },
        {
          "line": 2488,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vAddr.push_back(addr)",
          "old_line_content": "                }",
          "new_line_content": "                    vAddr.push_back(addr);",
          "content_same": false
        },
        {
          "line": 2493,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "vAddr.clear()",
          "old_line_content": "        }",
          "new_line_content": "                        vAddr.clear();",
          "content_same": false
        },
        {
          "line": 2497,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "pto->vAddrToSend.clear()",
          "old_line_content": "        // Message: inventory",
          "new_line_content": "            pto->vAddrToSend.clear();",
          "content_same": false
        },
        {
          "line": 2498,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "vAddr.empty()",
          "old_line_content": "        //",
          "new_line_content": "            if (!vAddr.empty())",
          "content_same": false
        },
        {
          "line": 2499,
          "old_api": null,
          "new_api": "PushMessage",
          "old_text": null,
          "new_text": "pto->PushMessage(\"addr\", vAddr)",
          "old_line_content": "        vector<CInv> vInv;",
          "new_line_content": "                pto->PushMessage(\"addr\", vAddr);",
          "content_same": false
        },
        {
          "line": 2508,
          "old_api": null,
          "new_api": "CRITICAL_BLOCK",
          "old_text": null,
          "new_text": "CRITICAL_BLOCK(pto->cs_inventory)",
          "old_line_content": "                    continue;",
          "new_line_content": "        CRITICAL_BLOCK(pto->cs_inventory)",
          "content_same": false
        },
        {
          "line": 2510,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "pto->vInventoryToSend.size()",
          "old_line_content": "                // trickle out tx inv to protect privacy",
          "new_line_content": "            vInv.reserve(pto->vInventoryToSend.size());",
          "content_same": false
        },
        {
          "line": 2511,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "pto->vInventoryToSend.size()",
          "old_line_content": "                if (inv.type == MSG_TX && !fSendTrickle)",
          "new_line_content": "            vInvWait.reserve(pto->vInventoryToSend.size());",
          "content_same": false
        },
        {
          "line": 2514,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "pto->setInventoryKnown.count(inv)",
          "old_line_content": "                    static uint256 hashSalt;",
          "new_line_content": "                if (pto->setInventoryKnown.count(inv))",
          "content_same": false
        },
        {
          "line": 2523,
          "old_api": null,
          "new_api": "RAND_bytes",
          "old_text": null,
          "new_text": "RAND_bytes((unsigned char*)&hashSalt, sizeof(hashSalt))",
          "old_line_content": "                    {",
          "new_line_content": "                        RAND_bytes((unsigned char*)&hashSalt, sizeof(hashSalt));",
          "content_same": false
        },
        {
          "line": 2539,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vInvWait.push_back(inv)",
          "old_line_content": "                {",
          "new_line_content": "                        vInvWait.push_back(inv);",
          "content_same": false
        },
        {
          "line": 2545,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "pto->setInventoryKnown.insert(inv)",
          "old_line_content": "                    }",
          "new_line_content": "                if (pto->setInventoryKnown.insert(inv).second)",
          "content_same": false
        },
        {
          "line": 2547,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vInv.push_back(inv)",
          "old_line_content": "            }",
          "new_line_content": "                    vInv.push_back(inv);",
          "content_same": false
        },
        {
          "line": 2548,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vInv.size()",
          "old_line_content": "            pto->vInventoryToSend = vInvWait;",
          "new_line_content": "                    if (vInv.size() >= 1000)",
          "content_same": false
        },
        {
          "line": 2557,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "vInv.empty()",
          "old_line_content": "        vector<CInv> vGetData;",
          "new_line_content": "        if (!vInv.empty())",
          "content_same": false
        },
        {
          "line": 2572,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "inv.ToString().c_str()",
          "old_line_content": "            }",
          "new_line_content": "                printf(\"sending getdata: %s\\n\", inv.ToString().c_str());",
          "content_same": false
        },
        {
          "line": 2573,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vGetData.push_back(inv)",
          "old_line_content": "            mapAlreadyAskedFor[inv] = nNow;",
          "new_line_content": "                vGetData.push_back(inv);",
          "content_same": false
        },
        {
          "line": 2581,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "pto->mapAskFor.begin()",
          "old_line_content": "}",
          "new_line_content": "            pto->mapAskFor.erase(pto->mapAskFor.begin());",
          "content_same": false
        },
        {
          "line": 2583,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "vGetData.empty()",
          "old_line_content": "",
          "new_line_content": "        if (!vGetData.empty())",
          "content_same": false
        },
        {
          "line": 2584,
          "old_api": null,
          "new_api": "PushMessage",
          "old_text": null,
          "new_text": "pto->PushMessage(\"getdata\", vGetData)",
          "old_line_content": "",
          "new_line_content": "            pto->PushMessage(\"getdata\", vGetData);",
          "content_same": false
        },
        {
          "line": 2613,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(pdata + len, 0, 64 * blocks - len)",
          "old_line_content": "    return blocks;",
          "new_line_content": "    memset(pdata + len, 0, 64 * blocks - len);",
          "content_same": false
        },
        {
          "line": 2630,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(pstate, pinit, 32)",
          "old_line_content": "// All input buffers are 16-byte aligned.  nNonce is usually preserved",
          "new_line_content": "    memcpy(pstate, pinit, 32);",
          "content_same": false
        },
        {
          "line": 2631,
          "old_api": null,
          "new_api": "CryptoPP::SHA256::Transform((CryptoPP::word32*)pstate, (CryptoPP::word32*)pinput)",
          "old_text": null,
          "new_text": "CryptoPP::SHA256::Transform((CryptoPP::word32*)pstate, (CryptoPP::word32*)pinput)",
          "old_line_content": "// between calls, but periodically or if nNonce is 0xffff0000 or above,",
          "new_line_content": "    CryptoPP::SHA256::Transform((CryptoPP::word32*)pstate, (CryptoPP::word32*)pinput);",
          "content_same": false
        },
        {
          "line": 2650,
          "old_api": null,
          "new_api": "SHA256Transform",
          "old_text": null,
          "new_text": "SHA256Transform(phash1, pdata, pmidstate)",
          "old_line_content": "",
          "new_line_content": "        SHA256Transform(phash1, pdata, pmidstate);",
          "content_same": false
        },
        {
          "line": 2651,
          "old_api": null,
          "new_api": "SHA256Transform",
          "old_text": null,
          "new_text": "SHA256Transform(phash, phash1, pSHA256InitState)",
          "old_line_content": "        // If nothing found after trying for a while, return -1",
          "new_line_content": "        SHA256Transform(phash, phash1, pSHA256InitState);",
          "content_same": false
        },
        {
          "line": 2683,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "ptx->GetHash().ToString().substr(0,10).c_str()",
          "old_line_content": "CBlock* CreateNewBlock(CReserveKey& reservekey)",
          "new_line_content": "        printf(\"COrphan(hash=%s, dPriority=%.1f)\\n\", ptx->GetHash().ToString().substr(0,10).c_str(), dPriority);",
          "content_same": false
        },
        {
          "line": 2685,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "hash.ToString().substr(0,10).c_str()",
          "old_line_content": "    CBlockIndex* pindexPrev = pindexBest;",
          "new_line_content": "            printf(\"   setDependsOn %s\\n\", hash.ToString().substr(0,10).c_str());",
          "content_same": false
        },
        {
          "line": 2701,
          "old_api": null,
          "new_api": "resize",
          "old_text": null,
          "new_text": "txNew.vin.resize(1)",
          "old_line_content": "",
          "new_line_content": "    txNew.vin.resize(1);",
          "content_same": false
        },
        {
          "line": 2702,
          "old_api": null,
          "new_api": "SetNull",
          "old_text": null,
          "new_text": "txNew.vin[0].prevout.SetNull()",
          "old_line_content": "    // Collect memory pool transactions into the block",
          "new_line_content": "    txNew.vin[0].prevout.SetNull();",
          "content_same": false
        },
        {
          "line": 2703,
          "old_api": null,
          "new_api": "resize",
          "old_text": null,
          "new_text": "txNew.vout.resize(1)",
          "old_line_content": "    int64 nFees = 0;",
          "new_line_content": "    txNew.vout.resize(1);",
          "content_same": false
        },
        {
          "line": 2707,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "pblock->vtx.push_back(txNew)",
          "old_line_content": "        CTxDB txdb(\"r\");",
          "new_line_content": "    pblock->vtx.push_back(txNew);",
          "content_same": false
        },
        {
          "line": 2711,
          "old_api": null,
          "new_api": "CRITICAL_BLOCK",
          "old_text": null,
          "new_text": "CRITICAL_BLOCK(cs_main)",
          "old_line_content": "        map<uint256, vector<COrphan*> > mapDependers;",
          "new_line_content": "    CRITICAL_BLOCK(cs_main)",
          "content_same": false
        },
        {
          "line": 2720,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "mapTransactions.end()",
          "old_line_content": "            double dPriority = 0;",
          "new_line_content": "        for (map<uint256, CTransaction>::iterator mi = mapTransactions.begin(); mi != mapTransactions.end(); ++mi)",
          "content_same": false
        },
        {
          "line": 2723,
          "old_api": null,
          "new_api": "IsFinal",
          "old_text": null,
          "new_text": "tx.IsFinal()",
          "old_line_content": "                // Read prev transaction",
          "new_line_content": "            if (tx.IsCoinBase() || !tx.IsFinal())",
          "content_same": false
        },
        {
          "line": 2739,
          "old_api": null,
          "new_api": "COrphan",
          "old_text": null,
          "new_text": "COrphan(&tx)",
          "old_line_content": "                int64 nValueIn = txPrev.vout[txin.prevout.n].nValue;",
          "new_line_content": "                        vOrphan.push_back(COrphan(&tx));",
          "content_same": false
        },
        {
          "line": 2740,
          "old_api": null,
          "new_api": "back",
          "old_text": null,
          "new_text": "vOrphan.back()",
          "old_line_content": "",
          "new_line_content": "                        porphan = &vOrphan.back();",
          "content_same": false
        },
        {
          "line": 2743,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "porphan->setDependsOn.insert(txin.prevout.hash)",
          "old_line_content": "",
          "new_line_content": "                    porphan->setDependsOn.insert(txin.prevout.hash);",
          "content_same": false
        },
        {
          "line": 2749,
          "old_api": null,
          "new_api": "GetDepthInMainChain",
          "old_text": null,
          "new_text": "txindex.GetDepthInMainChain()",
          "old_line_content": "",
          "new_line_content": "                int nConf = txindex.GetDepthInMainChain();",
          "content_same": false
        },
        {
          "line": 2753,
          "old_api": null,
          "new_api": "GetBoolArg",
          "old_text": null,
          "new_text": "GetBoolArg(\"-printpriority\")",
          "old_line_content": "            if (porphan)",
          "new_line_content": "                if (fDebug && GetBoolArg(\"-printpriority\"))",
          "content_same": false
        },
        {
          "line": 2754,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"priority     nValueIn=%-12I64d nConf=%-5d dPriority=%-20.1f\\n\", nValueIn, nConf, dPriority)",
          "old_line_content": "                porphan->dPriority = dPriority;",
          "new_line_content": "                    printf(\"priority     nValueIn=%-12I64d nConf=%-5d dPriority=%-20.1f\\n\", nValueIn, nConf, dPriority);",
          "content_same": false
        },
        {
          "line": 2765,
          "old_api": null,
          "new_api": "GetBoolArg",
          "old_text": null,
          "new_text": "GetBoolArg(\"-printpriority\")",
          "old_line_content": "        }",
          "new_line_content": "            if (fDebug && GetBoolArg(\"-printpriority\"))",
          "content_same": false
        },
        {
          "line": 2767,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "tx.ToString().c_str()",
          "old_line_content": "        // Collect transactions into block",
          "new_line_content": "                printf(\"priority %-20.1f %s\\n%s\", dPriority, tx.GetHash().ToString().substr(0,10).c_str(), tx.ToString().c_str());",
          "content_same": false
        },
        {
          "line": 2769,
          "old_api": null,
          "new_api": "print",
          "old_text": null,
          "new_text": "porphan->print()",
          "old_line_content": "        uint64 nBlockSize = 1000;",
          "new_line_content": "                    porphan->print();",
          "content_same": false
        },
        {
          "line": 2770,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"\\n\")",
          "old_line_content": "        int nBlockSigOps = 100;",
          "new_line_content": "                printf(\"\\n\");",
          "content_same": false
        },
        {
          "line": 2778,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "mapPriority.empty()",
          "old_line_content": "            // Size limits",
          "new_line_content": "        while (!mapPriority.empty())",
          "content_same": false
        },
        {
          "line": 2781,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "mapPriority.begin()",
          "old_line_content": "                continue;",
          "new_line_content": "            double dPriority = -(*mapPriority.begin()).first;",
          "content_same": false
        },
        {
          "line": 2783,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "mapPriority.begin()",
          "old_line_content": "            if (nBlockSigOps + nTxSigOps >= MAX_BLOCK_SIGOPS)",
          "new_line_content": "            mapPriority.erase(mapPriority.begin());",
          "content_same": false
        },
        {
          "line": 2786,
          "old_api": null,
          "new_api": "::GetSerializeSize(tx, SER_NETWORK)",
          "old_text": null,
          "new_text": "::GetSerializeSize(tx, SER_NETWORK)",
          "old_line_content": "            // Transaction fee required depends on block size",
          "new_line_content": "            unsigned int nTxSize = ::GetSerializeSize(tx, SER_NETWORK);",
          "content_same": false
        },
        {
          "line": 2789,
          "old_api": null,
          "new_api": "GetSigOpCount",
          "old_text": null,
          "new_text": "tx.GetSigOpCount()",
          "old_line_content": "",
          "new_line_content": "            int nTxSigOps = tx.GetSigOpCount();",
          "content_same": false
        },
        {
          "line": 2794,
          "old_api": null,
          "new_api": "CTransaction::AllowFree(dPriority)",
          "old_text": null,
          "new_text": "CTransaction::AllowFree(dPriority)",
          "old_line_content": "                continue;",
          "new_line_content": "            bool fAllowFree = (nBlockSize + nTxSize < 4000 || CTransaction::AllowFree(dPriority));",
          "content_same": false
        },
        {
          "line": 2800,
          "old_api": null,
          "new_api": "CDiskTxPos",
          "old_text": null,
          "new_text": "CDiskTxPos(1,1,1)",
          "old_line_content": "            nBlockSigOps += nTxSigOps;",
          "new_line_content": "            if (!tx.ConnectInputs(txdb, mapTestPoolTmp, CDiskTxPos(1,1,1), pindexPrev, nFees, false, true, nMinFee))",
          "content_same": false
        },
        {
          "line": 2802,
          "old_api": null,
          "new_api": "swap",
          "old_text": null,
          "new_text": "swap(mapTestPool, mapTestPoolTmp)",
          "old_line_content": "            // Add transactions that depend on this one to the priority queue",
          "new_line_content": "            swap(mapTestPool, mapTestPoolTmp);",
          "content_same": false
        },
        {
          "line": 2805,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "pblock->vtx.push_back(tx)",
          "old_line_content": "            {",
          "new_line_content": "            pblock->vtx.push_back(tx);",
          "content_same": false
        },
        {
          "line": 2815,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "porphan->setDependsOn.empty()",
          "old_line_content": "            }",
          "new_line_content": "                    if (!porphan->setDependsOn.empty())",
          "content_same": false
        },
        {
          "line": 2817,
          "old_api": null,
          "new_api": "erase",
          "old_text": null,
          "new_text": "porphan->setDependsOn.erase(hash)",
          "old_line_content": "    }",
          "new_line_content": "                        porphan->setDependsOn.erase(hash);",
          "content_same": false
        },
        {
          "line": 2819,
          "old_api": null,
          "new_api": "make_pair",
          "old_text": null,
          "new_text": "make_pair(-porphan->dPriority, porphan->ptx)",
          "old_line_content": "",
          "new_line_content": "                            mapPriority.insert(make_pair(-porphan->dPriority, porphan->ptx));",
          "content_same": false
        },
        {
          "line": 2825,
          "old_api": null,
          "new_api": "GetBlockValue",
          "old_text": null,
          "new_text": "GetBlockValue(pindexPrev->nHeight+1, nFees)",
          "old_line_content": "    pblock->nNonce         = 0;",
          "new_line_content": "    pblock->vtx[0].vout[0].nValue = GetBlockValue(pindexPrev->nHeight+1, nFees);",
          "content_same": false
        },
        {
          "line": 2828,
          "old_api": null,
          "new_api": "GetBlockHash",
          "old_text": null,
          "new_text": "pindexPrev->GetBlockHash()",
          "old_line_content": "}",
          "new_line_content": "    pblock->hashPrevBlock  = pindexPrev->GetBlockHash();",
          "content_same": false
        },
        {
          "line": 2829,
          "old_api": null,
          "new_api": "BuildMerkleTree",
          "old_text": null,
          "new_text": "pblock->BuildMerkleTree()",
          "old_line_content": "",
          "new_line_content": "    pblock->hashMerkleRoot = pblock->BuildMerkleTree();",
          "content_same": false
        },
        {
          "line": 2830,
          "old_api": null,
          "new_api": "GetAdjustedTime",
          "old_text": null,
          "new_text": "GetAdjustedTime()",
          "old_line_content": "",
          "new_line_content": "    pblock->nTime          = max(pindexPrev->GetMedianTimePast()+1, GetAdjustedTime());",
          "content_same": false
        },
        {
          "line": 2831,
          "old_api": null,
          "new_api": "GetNextWorkRequired",
          "old_text": null,
          "new_text": "GetNextWorkRequired(pindexPrev)",
          "old_line_content": "void IncrementExtraNonce(CBlock* pblock, CBlockIndex* pindexPrev, unsigned int& nExtraNonce)",
          "new_line_content": "    pblock->nBits          = GetNextWorkRequired(pindexPrev);",
          "content_same": false
        },
        {
          "line": 2834,
          "old_api": null,
          "new_api": "release",
          "old_text": null,
          "new_text": "pblock.release()",
          "old_line_content": "    static uint256 hashPrevBlock;",
          "new_line_content": "    return pblock.release();",
          "content_same": false
        },
        {
          "line": 2848,
          "old_api": null,
          "new_api": "CBigNum",
          "old_text": null,
          "new_text": "CBigNum(nExtraNonce)",
          "old_line_content": "    //",
          "new_line_content": "    pblock->vtx[0].vin[0].scriptSig = CScript() << pblock->nTime << CBigNum(nExtraNonce);",
          "content_same": false
        },
        {
          "line": 2849,
          "old_api": null,
          "new_api": "BuildMerkleTree",
          "old_text": null,
          "new_text": "pblock->BuildMerkleTree()",
          "old_line_content": "    // Prebuild hash buffers",
          "new_line_content": "    pblock->hashMerkleRoot = pblock->BuildMerkleTree();",
          "content_same": false
        },
        {
          "line": 819,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vin.size()",
          "old_line_content": "",
          "new_line_content": "        for (int i = 0; i < vin.size(); i++)",
          "content_same": false
        },
        {
          "line": 826,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "mapTestPool.count(prevout.hash)",
          "old_line_content": "                txindex = mapTestPool[prevout.hash];",
          "new_line_content": "            if ((fBlock || fMiner) && mapTestPool.count(prevout.hash))",
          "content_same": false
        },
        {
          "line": 2875,
          "old_api": null,
          "new_api": "memset",
          "old_text": null,
          "new_text": "memset(&tmp, 0, sizeof(tmp))",
          "old_line_content": "    tmp.block.nNonce         = pblock->nNonce;",
          "new_line_content": "    memset(&tmp, 0, sizeof(tmp));",
          "content_same": false
        },
        {
          "line": 2884,
          "old_api": null,
          "new_api": "FormatHashBlocks",
          "old_text": null,
          "new_text": "FormatHashBlocks(&tmp.block, sizeof(tmp.block))",
          "old_line_content": "    // Precalc the first half of the first hash, which stays constant",
          "new_line_content": "    FormatHashBlocks(&tmp.block, sizeof(tmp.block));",
          "content_same": false
        },
        {
          "line": 837,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "prevout.hash.ToString().substr(0,10).c_str()",
          "old_line_content": "            CTransaction txPrev;",
          "new_line_content": "                return fMiner ? false : error(\"ConnectInputs() : %s prev tx %s index entry not found\", GetHash().ToString().substr(0,10).c_str(),  prevout.hash.ToString().substr(0,10).c_str());",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": null,
          "new_api": "CDiskTxPos",
          "old_text": null,
          "new_text": "CDiskTxPos(1,1,1)",
          "old_line_content": "                CRITICAL_BLOCK(cs_mapTransactions)",
          "new_line_content": "            if (!fFound || txindex.pos == CDiskTxPos(1,1,1))",
          "content_same": false
        },
        {
          "line": 2889,
          "old_api": null,
          "new_api": "ByteReverse",
          "old_text": null,
          "new_text": "ByteReverse(((unsigned int*)&tmp)[i])",
          "old_line_content": "}",
          "new_line_content": "        ((unsigned int*)&tmp)[i] = ByteReverse(((unsigned int*)&tmp)[i]);",
          "content_same": false
        },
        {
          "line": 2892,
          "old_api": null,
          "new_api": "SHA256Transform",
          "old_text": null,
          "new_text": "SHA256Transform(pmidstate, &tmp.block, pSHA256InitState)",
          "old_line_content": "bool CheckWork(CBlock* pblock, CWallet& wallet, CReserveKey& reservekey)",
          "new_line_content": "    SHA256Transform(pmidstate, &tmp.block, pSHA256InitState);",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "mapTransactions.count(prevout.hash)",
          "old_line_content": "                }",
          "new_line_content": "                    if (!mapTransactions.count(prevout.hash))",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "prevout.hash.ToString().substr(0,10).c_str()",
          "old_line_content": "                if (!fFound)",
          "new_line_content": "                        return error(\"ConnectInputs() : %s mapTransactions prev not found %s\", GetHash().ToString().substr(0,10).c_str(),  prevout.hash.ToString().substr(0,10).c_str());",
          "content_same": false
        },
        {
          "line": 851,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "txPrev.vout.size()",
          "old_line_content": "            {",
          "new_line_content": "                    txindex.vSpent.resize(txPrev.vout.size());",
          "content_same": false
        },
        {
          "line": 856,
          "old_api": null,
          "new_api": "ReadFromDisk",
          "old_text": null,
          "new_text": "txPrev.ReadFromDisk(txindex.pos)",
          "old_line_content": "",
          "new_line_content": "                if (!txPrev.ReadFromDisk(txindex.pos))",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "txindex.vSpent.size()",
          "old_line_content": "            // If prev is coinbase, check that it's matured",
          "new_line_content": "            if (prevout.n >= txPrev.vout.size() || prevout.n >= txindex.vSpent.size())",
          "content_same": false
        },
        {
          "line": 2908,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"BitcoinMiner:\\n\")",
          "old_line_content": "    CRITICAL_BLOCK(cs_main)",
          "new_line_content": "    printf(\"BitcoinMiner:\\n\");",
          "content_same": false
        },
        {
          "line": 2909,
          "old_api": null,
          "new_api": "GetHex",
          "old_text": null,
          "new_text": "hashTarget.GetHex().c_str()",
          "old_line_content": "    {",
          "new_line_content": "    printf(\"proof-of-work found  \\n  hash: %s  \\ntarget: %s\\n\", hash.GetHex().c_str(), hashTarget.GetHex().c_str());",
          "content_same": false
        },
        {
          "line": 2910,
          "old_api": null,
          "new_api": "print",
          "old_text": null,
          "new_text": "pblock->print()",
          "old_line_content": "        if (pblock->hashPrevBlock != hashBestChain)",
          "new_line_content": "    pblock->print();",
          "content_same": false
        },
        {
          "line": 2912,
          "old_api": null,
          "new_api": "c_str",
          "old_text": null,
          "new_text": "FormatMoney(pblock->vtx[0].vout[0].nValue).c_str()",
          "old_line_content": "",
          "new_line_content": "    printf(\"generated %s\\n\", FormatMoney(pblock->vtx[0].vout[0].nValue).c_str());",
          "content_same": false
        },
        {
          "line": 872,
          "old_api": null,
          "new_api": "IsInitialBlockDownload",
          "old_text": null,
          "new_text": "IsInitialBlockDownload()",
          "old_line_content": "            // for an attacker to attempt to split the network.",
          "new_line_content": "            if (!(fBlock && IsInitialBlockDownload()))",
          "content_same": false
        },
        {
          "line": 875,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "GetHash().ToString().substr(0,10).c_str()",
          "old_line_content": "",
          "new_line_content": "                    return DoS(100,error(\"ConnectInputs() : %s VerifySignature failed\", GetHash().ToString().substr(0,10).c_str()));",
          "content_same": false
        },
        {
          "line": 2924,
          "old_api": null,
          "new_api": "CRITICAL_BLOCK",
          "old_text": null,
          "new_text": "CRITICAL_BLOCK(wallet.cs_wallet)",
          "old_line_content": "",
          "new_line_content": "        CRITICAL_BLOCK(wallet.cs_wallet)",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": null,
          "new_api": "IsNull",
          "old_text": null,
          "new_text": "txindex.vSpent[prevout.n].IsNull()",
          "old_line_content": "",
          "new_line_content": "            if (!txindex.vSpent[prevout.n].IsNull())",
          "content_same": false
        },
        {
          "line": 881,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "txindex.vSpent[prevout.n].ToString().c_str()",
          "old_line_content": "            // Mark outpoints as spent",
          "new_line_content": "                return fMiner ? false : error(\"ConnectInputs() : %s prev tx already used at %s\", GetHash().ToString().substr(0,10).c_str(), txindex.vSpent[prevout.n].ToString().c_str());",
          "content_same": false
        },
        {
          "line": 2928,
          "old_api": null,
          "new_api": "ProcessBlock",
          "old_text": null,
          "new_text": "ProcessBlock(NULL, pblock)",
          "old_line_content": "",
          "new_line_content": "        if (!ProcessBlock(NULL, pblock))",
          "content_same": false
        },
        {
          "line": 2929,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"BitcoinMiner : ProcessBlock, block not accepted\")",
          "old_line_content": "void static ThreadBitcoinMiner(void* parg);",
          "new_line_content": "            return error(\"BitcoinMiner : ProcessBlock, block not accepted\");",
          "content_same": false
        },
        {
          "line": 2932,
          "old_api": null,
          "new_api": "Sleep",
          "old_text": null,
          "new_text": "Sleep(2000)",
          "old_line_content": "{",
          "new_line_content": "    Sleep(2000);",
          "content_same": false
        },
        {
          "line": 885,
          "old_api": null,
          "new_api": "MoneyRange",
          "old_text": null,
          "new_text": "MoneyRange(nValueIn)",
          "old_line_content": "            if (fBlock || fMiner)",
          "new_line_content": "            if (!MoneyRange(txPrev.vout[prevout.n].nValue) || !MoneyRange(nValueIn))",
          "content_same": false
        },
        {
          "line": 886,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"ConnectInputs() : txin values out of range\")",
          "old_line_content": "            {",
          "new_line_content": "                return DoS(100, error(\"ConnectInputs() : txin values out of range\"));",
          "content_same": false
        },
        {
          "line": 2940,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"BitcoinMiner started\\n\")",
          "old_line_content": "    while (fGenerateBitcoins)",
          "new_line_content": "    printf(\"BitcoinMiner started\\n\");",
          "content_same": false
        },
        {
          "line": 2941,
          "old_api": null,
          "new_api": "SetThreadPriority",
          "old_text": null,
          "new_text": "SetThreadPriority(THREAD_PRIORITY_LOWEST)",
          "old_line_content": "    {",
          "new_line_content": "    SetThreadPriority(THREAD_PRIORITY_LOWEST);",
          "content_same": false
        },
        {
          "line": 898,
          "old_api": null,
          "new_api": "GetValueOut",
          "old_text": null,
          "new_text": "GetValueOut()",
          "old_line_content": "        if (nTxFee < nMinFee)",
          "new_line_content": "        if (nValueIn < GetValueOut())",
          "content_same": false
        },
        {
          "line": 899,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "GetHash().ToString().substr(0,10).c_str()",
          "old_line_content": "            return false;",
          "new_line_content": "            return DoS(100, error(\"ConnectInputs() : %s value in < value out\", GetHash().ToString().substr(0,10).c_str()));",
          "content_same": false
        },
        {
          "line": 2949,
          "old_api": null,
          "new_api": "AffinityBugWorkaround",
          "old_text": null,
          "new_text": "AffinityBugWorkaround(ThreadBitcoinMiner)",
          "old_line_content": "            if (fShutdown)",
          "new_line_content": "        if (AffinityBugWorkaround(ThreadBitcoinMiner))",
          "content_same": false
        },
        {
          "line": 904,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "GetHash().ToString().substr(0,10).c_str()",
          "old_line_content": "",
          "new_line_content": "            return DoS(100, error(\"ConnectInputs() : %s nTxFee < 0\", GetHash().ToString().substr(0,10).c_str()));",
          "content_same": false
        },
        {
          "line": 2953,
          "old_api": null,
          "new_api": "IsInitialBlockDownload",
          "old_text": null,
          "new_text": "IsInitialBlockDownload()",
          "old_line_content": "        }",
          "new_line_content": "        while (vNodes.empty() || IsInitialBlockDownload())",
          "content_same": false
        },
        {
          "line": 2955,
          "old_api": null,
          "new_api": "Sleep",
          "old_text": null,
          "new_text": "Sleep(1000)",
          "old_line_content": "",
          "new_line_content": "            Sleep(1000);",
          "content_same": false
        },
        {
          "line": 909,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"ConnectInputs() : nFees out of range\")",
          "old_line_content": "    }",
          "new_line_content": "            return DoS(100, error(\"ConnectInputs() : nFees out of range\"));",
          "content_same": false
        },
        {
          "line": 915,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vout.size()",
          "old_line_content": "",
          "new_line_content": "        mapTestPool[GetHash()] = CTxIndex(posThisTx, vout.size());",
          "content_same": false
        },
        {
          "line": 920,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vout.size()",
          "old_line_content": "bool CTransaction::ClientConnectInputs()",
          "new_line_content": "        mapTestPool[GetHash()] = CTxIndex(CDiskTxPos(1,1,1), vout.size());",
          "content_same": false
        },
        {
          "line": 2970,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "pblock.get()",
          "old_line_content": "        //",
          "new_line_content": "        if (!pblock.get())",
          "content_same": false
        },
        {
          "line": 2972,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "pblock.get()",
          "old_line_content": "        //",
          "new_line_content": "        IncrementExtraNonce(pblock.get(), pindexPrev, nExtraNonce);",
          "content_same": false
        },
        {
          "line": 2980,
          "old_api": null,
          "new_api": "alignup<16>(pmidstatebuf)",
          "old_text": null,
          "new_text": "alignup<16>(pmidstatebuf)",
          "old_line_content": "        unsigned int& nBlockNonce = *(unsigned int*)(pdata + 64 + 12);",
          "new_line_content": "        char pmidstatebuf[32+16]; char* pmidstate = alignup<16>(pmidstatebuf);",
          "content_same": false
        },
        {
          "line": 2981,
          "old_api": null,
          "new_api": "alignup<16>(pdatabuf)",
          "old_text": null,
          "new_text": "alignup<16>(pdatabuf)",
          "old_line_content": "",
          "new_line_content": "        char pdatabuf[128+16];    char* pdata     = alignup<16>(pdatabuf);",
          "content_same": false
        },
        {
          "line": 2982,
          "old_api": null,
          "new_api": "alignup<16>(phash1buf)",
          "old_text": null,
          "new_text": "alignup<16>(phash1buf)",
          "old_line_content": "",
          "new_line_content": "        char phash1buf[64+16];    char* phash1    = alignup<16>(phash1buf);",
          "content_same": false
        },
        {
          "line": 936,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vin.size()",
          "old_line_content": "",
          "new_line_content": "        for (int i = 0; i < vin.size(); i++)",
          "content_same": false
        },
        {
          "line": 2984,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "pblock.get()",
          "old_line_content": "        // Search",
          "new_line_content": "        FormatHashBuffers(pblock.get(), pmidstate, pdata, phash1);",
          "content_same": false
        },
        {
          "line": 940,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "mapTransactions.count(prevout.hash)",
          "old_line_content": "            // Verify signature",
          "new_line_content": "            if (!mapTransactions.count(prevout.hash))",
          "content_same": false
        },
        {
          "line": 944,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "txPrev.vout.size()",
          "old_line_content": "            ///// this is redundant with the mapNextTx stuff, not sure which I want to get rid of",
          "new_line_content": "            if (prevout.n >= txPrev.vout.size())",
          "content_same": false
        },
        {
          "line": 2993,
          "old_api": null,
          "new_api": "GetTime",
          "old_text": null,
          "new_text": "GetTime()",
          "old_line_content": "            unsigned int nNonceFound;",
          "new_line_content": "        int64 nStart = GetTime();",
          "content_same": false
        },
        {
          "line": 2994,
          "old_api": null,
          "new_api": "SetCompact",
          "old_text": null,
          "new_text": "CBigNum().SetCompact(pblock->nBits).getuint256()",
          "old_line_content": "",
          "new_line_content": "        uint256 hashTarget = CBigNum().SetCompact(pblock->nBits).getuint256();",
          "content_same": false
        },
        {
          "line": 948,
          "old_api": null,
          "new_api": "VerifySignature",
          "old_text": null,
          "new_text": "VerifySignature(txPrev, *this, i)",
          "old_line_content": "            //     return error(\"ConnectInputs() : prev tx already used\");",
          "new_line_content": "            if (!VerifySignature(txPrev, *this, i))",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"ConnectInputs() : VerifySignature failed\")",
          "old_line_content": "            //",
          "new_line_content": "                return error(\"ConnectInputs() : VerifySignature failed\");",
          "content_same": false
        },
        {
          "line": 962,
          "old_api": null,
          "new_api": "MoneyRange",
          "old_text": null,
          "new_text": "MoneyRange(nValueIn)",
          "old_line_content": "    return true;",
          "new_line_content": "            if (!MoneyRange(txPrev.vout[prevout.n].nValue) || !MoneyRange(nValueIn))",
          "content_same": false
        },
        {
          "line": 963,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"ClientConnectInputs() : txin values out of range\")",
          "old_line_content": "}",
          "new_line_content": "                return error(\"ClientConnectInputs() : txin values out of range\");",
          "content_same": false
        },
        {
          "line": 3010,
          "old_api": null,
          "new_api": "ByteReverse",
          "old_text": null,
          "new_text": "ByteReverse(((unsigned int*)&hash)[i])",
          "old_line_content": "",
          "new_line_content": "                    ((unsigned int*)&hash)[i] = ByteReverse(((unsigned int*)&hash)[i]);",
          "content_same": false
        },
        {
          "line": 965,
          "old_api": null,
          "new_api": "GetValueOut",
          "old_text": null,
          "new_text": "GetValueOut()",
          "old_line_content": "",
          "new_line_content": "        if (GetValueOut() > nValueIn)",
          "content_same": false
        },
        {
          "line": 3015,
          "old_api": null,
          "new_api": "ByteReverse",
          "old_text": null,
          "new_text": "ByteReverse(nNonceFound)",
          "old_line_content": "                }",
          "new_line_content": "                    pblock->nNonce = ByteReverse(nNonceFound);",
          "content_same": false
        },
        {
          "line": 3016,
          "old_api": null,
          "new_api": "GetHash",
          "old_text": null,
          "new_text": "pblock->GetHash()",
          "old_line_content": "            }",
          "new_line_content": "                    assert(hash == pblock->GetHash());",
          "content_same": false
        },
        {
          "line": 3018,
          "old_api": null,
          "new_api": "SetThreadPriority",
          "old_text": null,
          "new_text": "SetThreadPriority(THREAD_PRIORITY_NORMAL)",
          "old_line_content": "            // Meter hashes/sec",
          "new_line_content": "                    SetThreadPriority(THREAD_PRIORITY_NORMAL);",
          "content_same": false
        },
        {
          "line": 3019,
          "old_api": null,
          "new_api": "get",
          "old_text": null,
          "new_text": "pblock.get()",
          "old_line_content": "            static int64 nHashCounter;",
          "new_line_content": "                    CheckWork(pblock.get(), *pwalletMain, reservekey);",
          "content_same": false
        },
        {
          "line": 3020,
          "old_api": null,
          "new_api": "SetThreadPriority",
          "old_text": null,
          "new_text": "SetThreadPriority(THREAD_PRIORITY_LOWEST)",
          "old_line_content": "            if (nHPSTimerStart == 0)",
          "new_line_content": "                    SetThreadPriority(THREAD_PRIORITY_LOWEST);",
          "content_same": false
        },
        {
          "line": 978,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vtx.size()",
          "old_line_content": "    {",
          "new_line_content": "    for (int i = vtx.size()-1; i >= 0; i--)",
          "content_same": false
        },
        {
          "line": 979,
          "old_api": null,
          "new_api": "DisconnectInputs",
          "old_text": null,
          "new_text": "vtx[i].DisconnectInputs(txdb)",
          "old_line_content": "        CDiskBlockIndex blockindexPrev(pindex->pprev);",
          "new_line_content": "        if (!vtx[i].DisconnectInputs(txdb))",
          "content_same": false
        },
        {
          "line": 3029,
          "old_api": null,
          "new_api": "GetTimeMillis",
          "old_text": null,
          "new_text": "GetTimeMillis()",
          "old_line_content": "                static CCriticalSection cs;",
          "new_line_content": "                nHPSTimerStart = GetTimeMillis();",
          "content_same": false
        },
        {
          "line": 988,
          "old_api": null,
          "new_api": "WriteBlockIndex",
          "old_text": null,
          "new_text": "txdb.WriteBlockIndex(blockindexPrev)",
          "old_line_content": "bool CBlock::ConnectBlock(CTxDB& txdb, CBlockIndex* pindex)",
          "new_line_content": "        if (!txdb.WriteBlockIndex(blockindexPrev))",
          "content_same": false
        },
        {
          "line": 989,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"DisconnectBlock() : WriteBlockIndex failed\")",
          "old_line_content": "{",
          "new_line_content": "            return error(\"DisconnectBlock() : WriteBlockIndex failed\");",
          "content_same": false
        },
        {
          "line": 3039,
          "old_api": null,
          "new_api": "GetTimeMillis",
          "old_text": null,
          "new_text": "GetTimeMillis()",
          "old_line_content": "                        static int64 nLogTime;",
          "new_line_content": "                    if (GetTimeMillis() - nHPSTimerStart > 4000)",
          "content_same": false
        },
        {
          "line": 3041,
          "old_api": null,
          "new_api": "GetTimeMillis",
          "old_text": null,
          "new_text": "GetTimeMillis()",
          "old_line_content": "                        {",
          "new_line_content": "                        dHashesPerSec = 1000.0 * nHashCounter / (GetTimeMillis() - nHPSTimerStart);",
          "content_same": false
        },
        {
          "line": 3045,
          "old_api": null,
          "new_api": "boost::bind(CalledSetStatusBar, strStatus, 0)",
          "old_text": null,
          "new_text": "boost::bind(CalledSetStatusBar, strStatus, 0)",
          "old_line_content": "                        }",
          "new_line_content": "                        UIThreadCall(boost::bind(CalledSetStatusBar, strStatus, 0));",
          "content_same": false
        },
        {
          "line": 998,
          "old_api": null,
          "new_api": "CheckBlock",
          "old_text": null,
          "new_text": "CheckBlock()",
          "old_line_content": "    int64 nFees = 0;",
          "new_line_content": "    if (!CheckBlock())",
          "content_same": false
        },
        {
          "line": 3047,
          "old_api": null,
          "new_api": "GetTime",
          "old_text": null,
          "new_text": "GetTime()",
          "old_line_content": "                }",
          "new_line_content": "                        if (GetTime() - nLogTime > 30 * 60)",
          "content_same": false
        },
        {
          "line": 3049,
          "old_api": null,
          "new_api": "GetTime",
          "old_text": null,
          "new_text": "GetTime()",
          "old_line_content": "",
          "new_line_content": "                            nLogTime = GetTime();",
          "content_same": false
        },
        {
          "line": 3050,
          "old_api": null,
          "new_api": "GetTime",
          "old_text": null,
          "new_text": "GetTime()",
          "old_line_content": "            // Check for stop or if block needs to be rebuilt",
          "new_line_content": "                            printf(\"%s \", DateTimeStrFormat(\"%x %H:%M\", GetTime()).c_str());",
          "content_same": false
        },
        {
          "line": 3051,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"hashmeter %3d CPUs %6.0f khash/s\\n\", vnThreadsRunning[3], dHashesPerSec/1000.0)",
          "old_line_content": "            if (fShutdown)",
          "new_line_content": "                            printf(\"hashmeter %3d CPUs %6.0f khash/s\\n\", vnThreadsRunning[3], dHashesPerSec/1000.0);",
          "content_same": false
        },
        {
          "line": 1009,
          "old_api": null,
          "new_api": "::GetSerializeSize(tx, SER_DISK)",
          "old_text": null,
          "new_text": "::GetSerializeSize(tx, SER_DISK)",
          "old_line_content": "    {",
          "new_line_content": "        nTxPos += ::GetSerializeSize(tx, SER_DISK);",
          "content_same": false
        },
        {
          "line": 1015,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "mapQueuedChanges.end()",
          "old_line_content": "        return false;",
          "new_line_content": "    for (map<uint256, CTxIndex>::iterator mi = mapQueuedChanges.begin(); mi != mapQueuedChanges.end(); ++mi)",
          "content_same": false
        },
        {
          "line": 3064,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "vNodes.empty()",
          "old_line_content": "                break;",
          "new_line_content": "            if (vNodes.empty())",
          "content_same": false
        },
        {
          "line": 1017,
          "old_api": null,
          "new_api": "UpdateTxIndex",
          "old_text": null,
          "new_text": "txdb.UpdateTxIndex((*mi).first, (*mi).second)",
          "old_line_content": "    // Update block index on disk without changing it in memory.",
          "new_line_content": "        if (!txdb.UpdateTxIndex((*mi).first, (*mi).second))",
          "content_same": false
        },
        {
          "line": 1018,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"ConnectBlock() : UpdateTxIndex failed\")",
          "old_line_content": "    // The memory index structure will be changed after the db commits.",
          "new_line_content": "            return error(\"ConnectBlock() : UpdateTxIndex failed\");",
          "content_same": false
        },
        {
          "line": 1021,
          "old_api": null,
          "new_api": "GetBlockValue",
          "old_text": null,
          "new_text": "GetBlockValue(pindex->nHeight, nFees)",
          "old_line_content": "        CDiskBlockIndex blockindexPrev(pindex->pprev);",
          "new_line_content": "    if (vtx[0].GetValueOut() > GetBlockValue(pindex->nHeight, nFees))",
          "content_same": false
        },
        {
          "line": 3074,
          "old_api": null,
          "new_api": "GetAdjustedTime",
          "old_text": null,
          "new_text": "GetAdjustedTime()",
          "old_line_content": "{",
          "new_line_content": "            pblock->nTime = max(pindexPrev->GetMedianTimePast()+1, GetAdjustedTime());",
          "content_same": false
        },
        {
          "line": 3075,
          "old_api": null,
          "new_api": "ByteReverse",
          "old_text": null,
          "new_text": "ByteReverse(pblock->nTime)",
          "old_line_content": "    CWallet* pwallet = (CWallet*)parg;",
          "new_line_content": "            nBlockTime = ByteReverse(pblock->nTime);",
          "content_same": false
        },
        {
          "line": 1030,
          "old_api": null,
          "new_api": "WriteBlockIndex",
          "old_text": null,
          "new_text": "txdb.WriteBlockIndex(blockindexPrev)",
          "old_line_content": "",
          "new_line_content": "        if (!txdb.WriteBlockIndex(blockindexPrev))",
          "content_same": false
        },
        {
          "line": 1031,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"ConnectBlock() : WriteBlockIndex failed\")",
          "old_line_content": "    return true;",
          "new_line_content": "            return error(\"ConnectBlock() : WriteBlockIndex failed\");",
          "content_same": false
        },
        {
          "line": 3086,
          "old_api": null,
          "new_api": "BitcoinMiner",
          "old_text": null,
          "new_text": "BitcoinMiner(pwallet)",
          "old_line_content": "        vnThreadsRunning[3]--;",
          "new_line_content": "        BitcoinMiner(pwallet);",
          "content_same": false
        },
        {
          "line": 1043,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"REORGANIZE\\n\")",
          "old_line_content": "        while (plonger->nHeight > pfork->nHeight)",
          "new_line_content": "    printf(\"REORGANIZE\\n\");",
          "content_same": false
        },
        {
          "line": 3091,
          "old_api": null,
          "new_api": "PrintException",
          "old_text": null,
          "new_text": "PrintException(&e, \"ThreadBitcoinMiner()\")",
          "old_line_content": "    if (vnThreadsRunning[3] == 0)",
          "new_line_content": "        PrintException(&e, \"ThreadBitcoinMiner()\");",
          "content_same": false
        },
        {
          "line": 3094,
          "old_api": null,
          "new_api": "PrintException",
          "old_text": null,
          "new_text": "PrintException(NULL, \"ThreadBitcoinMiner()\")",
          "old_line_content": "}",
          "new_line_content": "        PrintException(NULL, \"ThreadBitcoinMiner()\");",
          "content_same": false
        },
        {
          "line": 3096,
          "old_api": null,
          "new_api": "boost::bind(CalledSetStatusBar, \"\", 0)",
          "old_text": null,
          "new_text": "boost::bind(CalledSetStatusBar, \"\", 0)",
          "old_line_content": "",
          "new_line_content": "    UIThreadCall(boost::bind(CalledSetStatusBar, \"\", 0));",
          "content_same": false
        },
        {
          "line": 1052,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"Reorganize() : plonger->pprev is null\")",
          "old_line_content": "    // List of what to disconnect",
          "new_line_content": "                return error(\"Reorganize() : plonger->pprev is null\");",
          "content_same": false
        },
        {
          "line": 3100,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"ThreadBitcoinMiner exiting, %d threads remaining\\n\", vnThreadsRunning[3])",
          "old_line_content": "    {",
          "new_line_content": "    printf(\"ThreadBitcoinMiner exiting, %d threads remaining\\n\", vnThreadsRunning[3]);",
          "content_same": false
        },
        {
          "line": 1056,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"Reorganize() : pfork->pprev is null\")",
          "old_line_content": "",
          "new_line_content": "            return error(\"Reorganize() : pfork->pprev is null\");",
          "content_same": false
        },
        {
          "line": 3109,
          "old_api": null,
          "new_api": "WriteSetting",
          "old_text": null,
          "new_text": "WriteSetting(\"fGenerateBitcoins\", fGenerateBitcoins)",
          "old_line_content": "        if (nProcessors < 1)",
          "new_line_content": "        WriteSetting(\"fGenerateBitcoins\", fGenerateBitcoins);",
          "content_same": false
        },
        {
          "line": 1062,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vDisconnect.push_back(pindex)",
          "old_line_content": "",
          "new_line_content": "        vDisconnect.push_back(pindex);",
          "content_same": false
        },
        {
          "line": 3110,
          "old_api": null,
          "new_api": "MainFrameRepaint",
          "old_text": null,
          "new_text": "MainFrameRepaint()",
          "old_line_content": "            nProcessors = 1;",
          "new_line_content": "        MainFrameRepaint();",
          "content_same": false
        },
        {
          "line": 1067,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vConnect.push_back(pindex)",
          "old_line_content": "        CBlock block;",
          "new_line_content": "        vConnect.push_back(pindex);",
          "content_same": false
        },
        {
          "line": 3115,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"%d processors\\n\", nProcessors)",
          "old_line_content": "        for (int i = 0; i < nAddThreads; i++)",
          "new_line_content": "        printf(\"%d processors\\n\", nProcessors);",
          "content_same": false
        },
        {
          "line": 3121,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"Starting %d BitcoinMiner threads\\n\", nAddThreads)",
          "old_line_content": "    }",
          "new_line_content": "        printf(\"Starting %d BitcoinMiner threads\\n\", nAddThreads);",
          "content_same": false
        },
        {
          "line": 3124,
          "old_api": null,
          "new_api": "CreateThread",
          "old_text": null,
          "new_text": "CreateThread(ThreadBitcoinMiner, pwallet)",
          "old_line_content": "",
          "new_line_content": "            if (!CreateThread(ThreadBitcoinMiner, pwallet))",
          "content_same": false
        },
        {
          "line": 1077,
          "old_api": null,
          "new_api": "DisconnectBlock",
          "old_text": null,
          "new_text": "block.DisconnectBlock(txdb, pindex)",
          "old_line_content": "    }",
          "new_line_content": "        if (!block.DisconnectBlock(txdb, pindex))",
          "content_same": false
        },
        {
          "line": 1078,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"Reorganize() : DisconnectBlock failed\")",
          "old_line_content": "",
          "new_line_content": "            return error(\"Reorganize() : DisconnectBlock failed\");",
          "content_same": false
        },
        {
          "line": 3125,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"Error: CreateThread(ThreadBitcoinMiner) failed\\n\")",
          "old_line_content": "",
          "new_line_content": "                printf(\"Error: CreateThread(ThreadBitcoinMiner) failed\\n\");",
          "content_same": false
        },
        {
          "line": 3126,
          "old_api": null,
          "new_api": "Sleep",
          "old_text": null,
          "new_text": "Sleep(10)",
          "old_line_content": "",
          "new_line_content": "            Sleep(10);",
          "content_same": false
        },
        {
          "line": 1082,
          "old_api": null,
          "new_api": "IsCoinBase",
          "old_text": null,
          "new_text": "tx.IsCoinBase()",
          "old_line_content": "    {",
          "new_line_content": "            if (!tx.IsCoinBase())",
          "content_same": false
        },
        {
          "line": 1083,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vResurrect.push_back(tx)",
          "old_line_content": "        CBlockIndex* pindex = vConnect[i];",
          "new_line_content": "                vResurrect.push_back(tx);",
          "content_same": false
        },
        {
          "line": 1088,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vConnect.size()",
          "old_line_content": "        {",
          "new_line_content": "    for (int i = 0; i < vConnect.size(); i++)",
          "content_same": false
        },
        {
          "line": 1092,
          "old_api": null,
          "new_api": "ReadFromDisk",
          "old_text": null,
          "new_text": "block.ReadFromDisk(pindex)",
          "old_line_content": "        }",
          "new_line_content": "        if (!block.ReadFromDisk(pindex))",
          "content_same": false
        },
        {
          "line": 1093,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"Reorganize() : ReadFromDisk for connect failed\")",
          "old_line_content": "",
          "new_line_content": "            return error(\"Reorganize() : ReadFromDisk for connect failed\");",
          "content_same": false
        },
        {
          "line": 1094,
          "old_api": null,
          "new_api": "ConnectBlock",
          "old_text": null,
          "new_text": "block.ConnectBlock(txdb, pindex)",
          "old_line_content": "        // Queue memory transactions to delete",
          "new_line_content": "        if (!block.ConnectBlock(txdb, pindex))",
          "content_same": false
        },
        {
          "line": 1097,
          "old_api": null,
          "new_api": "TxnAbort",
          "old_text": null,
          "new_text": "txdb.TxnAbort()",
          "old_line_content": "    }",
          "new_line_content": "            txdb.TxnAbort();",
          "content_same": false
        },
        {
          "line": 1105,
          "old_api": null,
          "new_api": "GetBlockHash",
          "old_text": null,
          "new_text": "pindexNew->GetBlockHash()",
          "old_line_content": "    // Disconnect shorter branch",
          "new_line_content": "    if (!txdb.WriteHashBestChain(pindexNew->GetBlockHash()))",
          "content_same": false
        },
        {
          "line": 1106,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"Reorganize() : WriteHashBestChain failed\")",
          "old_line_content": "    BOOST_FOREACH(CBlockIndex* pindex, vDisconnect)",
          "new_line_content": "        return error(\"Reorganize() : WriteHashBestChain failed\");",
          "content_same": false
        },
        {
          "line": 1109,
          "old_api": null,
          "new_api": "TxnCommit",
          "old_text": null,
          "new_text": "txdb.TxnCommit()",
          "old_line_content": "",
          "new_line_content": "    if (!txdb.TxnCommit())",
          "content_same": false
        },
        {
          "line": 1110,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"Reorganize() : TxnCommit failed\")",
          "old_line_content": "    // Connect longer branch",
          "new_line_content": "        return error(\"Reorganize() : TxnCommit failed\");",
          "content_same": false
        },
        {
          "line": 1124,
          "old_api": null,
          "new_api": "AcceptToMemoryPool",
          "old_text": null,
          "new_text": "tx.AcceptToMemoryPool(txdb, false)",
          "old_line_content": "}",
          "new_line_content": "        tx.AcceptToMemoryPool(txdb, false);",
          "content_same": false
        },
        {
          "line": 1128,
          "old_api": null,
          "new_api": "RemoveFromMemoryPool",
          "old_text": null,
          "new_text": "tx.RemoveFromMemoryPool()",
          "old_line_content": "{",
          "new_line_content": "        tx.RemoveFromMemoryPool();",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": null,
          "new_api": "TxnBegin",
          "old_text": null,
          "new_text": "txdb.TxnBegin()",
          "old_line_content": "    }",
          "new_line_content": "    txdb.TxnBegin();",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": null,
          "new_api": "WriteHashBestChain",
          "old_text": null,
          "new_text": "txdb.WriteHashBestChain(hash)",
          "old_line_content": "        // Adding to current best branch",
          "new_line_content": "        txdb.WriteHashBestChain(hash);",
          "content_same": false
        },
        {
          "line": 1143,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"SetBestChain() : TxnCommit failed\")",
          "old_line_content": "        {",
          "new_line_content": "            return error(\"SetBestChain() : TxnCommit failed\");",
          "content_same": false
        },
        {
          "line": 1151,
          "old_api": null,
          "new_api": "TxnAbort",
          "old_text": null,
          "new_text": "txdb.TxnAbort()",
          "old_line_content": "        // Add to current best branch",
          "new_line_content": "            txdb.TxnAbort();",
          "content_same": false
        },
        {
          "line": 1152,
          "old_api": null,
          "new_api": "InvalidChainFound",
          "old_text": null,
          "new_text": "InvalidChainFound(pindexNew)",
          "old_line_content": "        pindexNew->pprev->pnext = pindexNew;",
          "new_line_content": "            InvalidChainFound(pindexNew);",
          "content_same": false
        },
        {
          "line": 1153,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"SetBestChain() : ConnectBlock failed\")",
          "old_line_content": "",
          "new_line_content": "            return error(\"SetBestChain() : ConnectBlock failed\");",
          "content_same": false
        },
        {
          "line": 1155,
          "old_api": null,
          "new_api": "TxnCommit",
          "old_text": null,
          "new_text": "txdb.TxnCommit()",
          "old_line_content": "        BOOST_FOREACH(CTransaction& tx, vtx)",
          "new_line_content": "        if (!txdb.TxnCommit())",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": null,
          "new_api": "Reorganize",
          "old_text": null,
          "new_text": "Reorganize(txdb, pindexNew)",
          "old_line_content": "",
          "new_line_content": "        if (!Reorganize(txdb, pindexNew))",
          "content_same": false
        },
        {
          "line": 1171,
          "old_api": null,
          "new_api": "InvalidChainFound",
          "old_text": null,
          "new_text": "InvalidChainFound(pindexNew)",
          "old_line_content": "    {",
          "new_line_content": "            InvalidChainFound(pindexNew);",
          "content_same": false
        },
        {
          "line": 1172,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"SetBestChain() : Reorganize failed\")",
          "old_line_content": "        const CBlockLocator locator(pindexNew);",
          "new_line_content": "            return error(\"SetBestChain() : Reorganize failed\");",
          "content_same": false
        },
        {
          "line": 1177,
          "old_api": null,
          "new_api": "IsInitialBlockDownload",
          "old_text": null,
          "new_text": "IsInitialBlockDownload()",
          "old_line_content": "    hashBestChain = hash;",
          "new_line_content": "    if (!IsInitialBlockDownload())",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": null,
          "new_api": "::SetBestChain(locator)",
          "old_text": null,
          "new_text": "::SetBestChain(locator)",
          "old_line_content": "    bnBestChainWork = pindexNew->bnChainWork;",
          "new_line_content": "        ::SetBestChain(locator);",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": null,
          "new_api": "GetTime",
          "old_text": null,
          "new_text": "GetTime()",
          "old_line_content": "",
          "new_line_content": "    nTimeBestReceived = GetTime();",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "bnBestChainWork.ToString().c_str()",
          "old_line_content": "{",
          "new_line_content": "    printf(\"SetBestChain: new best=%s  height=%d  work=%s\\n\", hashBestChain.ToString().substr(0,20).c_str(), nBestHeight, bnBestChainWork.ToString().c_str());",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "hash.ToString().substr(0,20).c_str()",
          "old_line_content": "    pindexNew->phashBlock = &((*mi).first);",
          "new_line_content": "        return error(\"AddToBlockIndex() : %s already exists\", hash.ToString().substr(0,20).c_str());",
          "content_same": false
        },
        {
          "line": 1206,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"AddToBlockIndex() : new CBlockIndex failed\")",
          "old_line_content": "        pindexNew->nHeight = pindexNew->pprev->nHeight + 1;",
          "new_line_content": "        return error(\"AddToBlockIndex() : new CBlockIndex failed\");",
          "content_same": false
        },
        {
          "line": 1207,
          "old_api": null,
          "new_api": "make_pair",
          "old_text": null,
          "new_text": "make_pair(hash, pindexNew)",
          "old_line_content": "    }",
          "new_line_content": "    map<uint256, CBlockIndex*>::iterator mi = mapBlockIndex.insert(make_pair(hash, pindexNew)).first;",
          "content_same": false
        },
        {
          "line": 1209,
          "old_api": null,
          "new_api": "find",
          "old_text": null,
          "new_text": "mapBlockIndex.find(hashPrevBlock)",
          "old_line_content": "",
          "new_line_content": "    map<uint256, CBlockIndex*>::iterator miPrev = mapBlockIndex.find(hashPrevBlock);",
          "content_same": false
        },
        {
          "line": 1210,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "mapBlockIndex.end()",
          "old_line_content": "    CTxDB txdb;",
          "new_line_content": "    if (miPrev != mapBlockIndex.end())",
          "content_same": false
        },
        {
          "line": 1215,
          "old_api": null,
          "new_api": "GetBlockWork",
          "old_text": null,
          "new_text": "pindexNew->GetBlockWork()",
          "old_line_content": "",
          "new_line_content": "    pindexNew->bnChainWork = (pindexNew->pprev ? pindexNew->pprev->bnChainWork : 0) + pindexNew->GetBlockWork();",
          "content_same": false
        },
        {
          "line": 1219,
          "old_api": null,
          "new_api": "CDiskBlockIndex",
          "old_text": null,
          "new_text": "CDiskBlockIndex(pindexNew)",
          "old_line_content": "            return false;",
          "new_line_content": "    txdb.WriteBlockIndex(CDiskBlockIndex(pindexNew));",
          "content_same": false
        },
        {
          "line": 1220,
          "old_api": null,
          "new_api": "TxnCommit",
          "old_text": null,
          "new_text": "txdb.TxnCommit()",
          "old_line_content": "",
          "new_line_content": "    if (!txdb.TxnCommit())",
          "content_same": false
        },
        {
          "line": 1225,
          "old_api": null,
          "new_api": "SetBestChain",
          "old_text": null,
          "new_text": "SetBestChain(txdb, pindexNew)",
          "old_line_content": "        // Notify UI to display prev block's coinbase if it was ours",
          "new_line_content": "        if (!SetBestChain(txdb, pindexNew))",
          "content_same": false
        },
        {
          "line": 1234,
          "old_api": null,
          "new_api": "UpdatedTransaction",
          "old_text": null,
          "new_text": "UpdatedTransaction(hashPrevBestCoinBase)",
          "old_line_content": "",
          "new_line_content": "        UpdatedTransaction(hashPrevBestCoinBase);",
          "content_same": false
        },
        {
          "line": 1235,
          "old_api": null,
          "new_api": "GetHash",
          "old_text": null,
          "new_text": "vtx[0].GetHash()",
          "old_line_content": "",
          "new_line_content": "        hashPrevBestCoinBase = vtx[0].GetHash();",
          "content_same": false
        },
        {
          "line": 1238,
          "old_api": null,
          "new_api": "MainFrameRepaint",
          "old_text": null,
          "new_text": "MainFrameRepaint()",
          "old_line_content": "bool CBlock::CheckBlock() const",
          "new_line_content": "    MainFrameRepaint();",
          "content_same": false
        },
        {
          "line": 1251,
          "old_api": null,
          "new_api": "::GetSerializeSize(*this, SER_NETWORK)",
          "old_text": null,
          "new_text": "::GetSerializeSize(*this, SER_NETWORK)",
          "old_line_content": "    // Check timestamp",
          "new_line_content": "    if (vtx.empty() || vtx.size() > MAX_BLOCK_SIZE || ::GetSerializeSize(*this, SER_NETWORK) > MAX_BLOCK_SIZE)",
          "content_same": false
        },
        {
          "line": 1255,
          "old_api": null,
          "new_api": "GetHash",
          "old_text": null,
          "new_text": "GetHash()",
          "old_line_content": "    // First transaction must be coinbase, the rest must not be",
          "new_line_content": "    if (!CheckProofOfWork(GetHash(), nBits))",
          "content_same": false
        },
        {
          "line": 1263,
          "old_api": null,
          "new_api": "IsCoinBase",
          "old_text": null,
          "new_text": "vtx[0].IsCoinBase()",
          "old_line_content": "    BOOST_FOREACH(const CTransaction& tx, vtx)",
          "new_line_content": "    if (vtx.empty() || !vtx[0].IsCoinBase())",
          "content_same": false
        },
        {
          "line": 1266,
          "old_api": null,
          "new_api": "IsCoinBase",
          "old_text": null,
          "new_text": "vtx[i].IsCoinBase()",
          "old_line_content": "",
          "new_line_content": "        if (vtx[i].IsCoinBase())",
          "content_same": false
        },
        {
          "line": 1267,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"CheckBlock() : more than one coinbase\")",
          "old_line_content": "    // Check that it's not full of nonstandard transactions",
          "new_line_content": "            return DoS(100, error(\"CheckBlock() : more than one coinbase\"));",
          "content_same": false
        },
        {
          "line": 1271,
          "old_api": null,
          "new_api": "CheckTransaction",
          "old_text": null,
          "new_text": "tx.CheckTransaction()",
          "old_line_content": "    // Check merkleroot",
          "new_line_content": "        if (!tx.CheckTransaction())",
          "content_same": false
        },
        {
          "line": 1275,
          "old_api": null,
          "new_api": "GetSigOpCount",
          "old_text": null,
          "new_text": "GetSigOpCount()",
          "old_line_content": "    return true;",
          "new_line_content": "    if (GetSigOpCount() > MAX_BLOCK_SIGOPS)",
          "content_same": false
        },
        {
          "line": 1276,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"CheckBlock() : out-of-bounds SigOpCount\")",
          "old_line_content": "}",
          "new_line_content": "        return DoS(100, error(\"CheckBlock() : out-of-bounds SigOpCount\"));",
          "content_same": false
        },
        {
          "line": 1279,
          "old_api": null,
          "new_api": "BuildMerkleTree",
          "old_text": null,
          "new_text": "BuildMerkleTree()",
          "old_line_content": "{",
          "new_line_content": "    if (hashMerkleRoot != BuildMerkleTree())",
          "content_same": false
        },
        {
          "line": 1280,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"CheckBlock() : hashMerkleRoot mismatch\")",
          "old_line_content": "    // Check for duplicate",
          "new_line_content": "        return DoS(100, error(\"CheckBlock() : hashMerkleRoot mismatch\"));",
          "content_same": false
        },
        {
          "line": 1289,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "mapBlockIndex.count(hash)",
          "old_line_content": "    CBlockIndex* pindexPrev = (*mi).second;",
          "new_line_content": "    if (mapBlockIndex.count(hash))",
          "content_same": false
        },
        {
          "line": 1290,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"AcceptBlock() : block already in mapBlockIndex\")",
          "old_line_content": "    int nHeight = pindexPrev->nHeight+1;",
          "new_line_content": "        return error(\"AcceptBlock() : block already in mapBlockIndex\");",
          "content_same": false
        },
        {
          "line": 1295,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"AcceptBlock() : prev block not found\")",
          "old_line_content": "",
          "new_line_content": "        return DoS(10, error(\"AcceptBlock() : prev block not found\"));",
          "content_same": false
        },
        {
          "line": 1300,
          "old_api": null,
          "new_api": "GetNextWorkRequired",
          "old_text": null,
          "new_text": "GetNextWorkRequired(pindexPrev)",
          "old_line_content": "    // Check that all transactions are finalized",
          "new_line_content": "    if (nBits != GetNextWorkRequired(pindexPrev))",
          "content_same": false
        },
        {
          "line": 1301,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"AcceptBlock() : incorrect proof of work\")",
          "old_line_content": "    BOOST_FOREACH(const CTransaction& tx, vtx)",
          "new_line_content": "        return DoS(100, error(\"AcceptBlock() : incorrect proof of work\"));",
          "content_same": false
        },
        {
          "line": 1304,
          "old_api": null,
          "new_api": "GetMedianTimePast",
          "old_text": null,
          "new_text": "pindexPrev->GetMedianTimePast()",
          "old_line_content": "",
          "new_line_content": "    if (GetBlockTime() <= pindexPrev->GetMedianTimePast())",
          "content_same": false
        },
        {
          "line": 1305,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"AcceptBlock() : block's timestamp is too early\")",
          "old_line_content": "    // Check that the block chain matches the known block chain up to a checkpoint",
          "new_line_content": "        return error(\"AcceptBlock() : block's timestamp is too early\");",
          "content_same": false
        },
        {
          "line": 1317,
          "old_api": null,
          "new_api": "uint256",
          "old_text": null,
          "new_text": "uint256(\"0x00000000006a49b14bcf27462068f1264c961f11fa2e0eddd2be0791e1d4124a\")",
          "old_line_content": "",
          "new_line_content": "            (nHeight ==  70567 && hash != uint256(\"0x00000000006a49b14bcf27462068f1264c961f11fa2e0eddd2be0791e1d4124a\")) ||",
          "content_same": false
        },
        {
          "line": 1318,
          "old_api": null,
          "new_api": "uint256",
          "old_text": null,
          "new_text": "uint256(\"0x0000000000573993a3c9e41ce34471c079dcf5f52a0e824a81e7f953b8661a20\")",
          "old_line_content": "    // Write block to history file",
          "new_line_content": "            (nHeight ==  74000 && hash != uint256(\"0x0000000000573993a3c9e41ce34471c079dcf5f52a0e824a81e7f953b8661a20\")) ||",
          "content_same": false
        },
        {
          "line": 1321,
          "old_api": null,
          "new_api": "uint256",
          "old_text": null,
          "new_text": "uint256(\"0x00000000000005b12ffd4cd315cd34ffd4a594f430ac814c91184a0d42d2b0fe\")",
          "old_line_content": "    unsigned int nFile = -1;",
          "new_line_content": "            (nHeight == 134444 && hash != uint256(\"0x00000000000005b12ffd4cd315cd34ffd4a594f430ac814c91184a0d42d2b0fe\")) ||",
          "content_same": false
        },
        {
          "line": 1322,
          "old_api": null,
          "new_api": "uint256",
          "old_text": null,
          "new_text": "uint256(\"0x000000000000033b512028abb90e1626d8b346fd0ed598ac0a3c371138dce2bd\")",
          "old_line_content": "    unsigned int nBlockPos = 0;",
          "new_line_content": "            (nHeight == 140700 && hash != uint256(\"0x000000000000033b512028abb90e1626d8b346fd0ed598ac0a3c371138dce2bd\")))",
          "content_same": false
        },
        {
          "line": 1327,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"AcceptBlock() : out of disk space\")",
          "old_line_content": "",
          "new_line_content": "        return error(\"AcceptBlock() : out of disk space\");",
          "content_same": false
        },
        {
          "line": 1331,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"AcceptBlock() : WriteToDisk failed\")",
          "old_line_content": "            BOOST_FOREACH(CNode* pnode, vNodes)",
          "new_line_content": "        return error(\"AcceptBlock() : WriteToDisk failed\");",
          "content_same": false
        },
        {
          "line": 1332,
          "old_api": null,
          "new_api": "AddToBlockIndex",
          "old_text": null,
          "new_text": "AddToBlockIndex(nFile, nBlockPos)",
          "old_line_content": "                if (nBestHeight > (pnode->nStartingHeight != -1 ? pnode->nStartingHeight - 2000 : 140700))",
          "new_line_content": "    if (!AddToBlockIndex(nFile, nBlockPos))",
          "content_same": false
        },
        {
          "line": 1337,
          "old_api": null,
          "new_api": "CRITICAL_BLOCK",
          "old_text": null,
          "new_text": "CRITICAL_BLOCK(cs_vNodes)",
          "old_line_content": "",
          "new_line_content": "        CRITICAL_BLOCK(cs_vNodes)",
          "content_same": false
        },
        {
          "line": 1340,
          "old_api": null,
          "new_api": "CInv",
          "old_text": null,
          "new_text": "CInv(MSG_BLOCK, hash)",
          "old_line_content": "    // Check for duplicate",
          "new_line_content": "                    pnode->PushInventory(CInv(MSG_BLOCK, hash));",
          "content_same": false
        },
        {
          "line": 1350,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "hash.ToString().substr(0,20).c_str()",
          "old_line_content": "",
          "new_line_content": "        return error(\"ProcessBlock() : already have block %d %s\", mapBlockIndex[hash]->nHeight, hash.ToString().substr(0,20).c_str());",
          "content_same": false
        },
        {
          "line": 1351,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "mapOrphanBlocks.count(hash)",
          "old_line_content": "    // If don't already have its previous block, shunt it off to holding area until we get it",
          "new_line_content": "    if (mapOrphanBlocks.count(hash))",
          "content_same": false
        },
        {
          "line": 1355,
          "old_api": null,
          "new_api": "CheckBlock",
          "old_text": null,
          "new_text": "pblock->CheckBlock()",
          "old_line_content": "        CBlock* pblock2 = new CBlock(*pblock);",
          "new_line_content": "    if (!pblock->CheckBlock())",
          "content_same": false
        },
        {
          "line": 1359,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "mapBlockIndex.count(pblock->hashPrevBlock)",
          "old_line_content": "        // Ask this guy to fill in what we're missing",
          "new_line_content": "    if (!mapBlockIndex.count(pblock->hashPrevBlock))",
          "content_same": false
        },
        {
          "line": 1363,
          "old_api": null,
          "new_api": "make_pair",
          "old_text": null,
          "new_text": "make_pair(hash, pblock2)",
          "old_line_content": "    }",
          "new_line_content": "        mapOrphanBlocks.insert(make_pair(hash, pblock2));",
          "content_same": false
        },
        {
          "line": 1364,
          "old_api": null,
          "new_api": "make_pair",
          "old_text": null,
          "new_text": "make_pair(pblock2->hashPrevBlock, pblock2)",
          "old_line_content": "",
          "new_line_content": "        mapOrphanBlocksByPrev.insert(make_pair(pblock2->hashPrevBlock, pblock2));",
          "content_same": false
        },
        {
          "line": 1368,
          "old_api": null,
          "new_api": "GetOrphanRoot",
          "old_text": null,
          "new_text": "GetOrphanRoot(pblock2)",
          "old_line_content": "",
          "new_line_content": "            pfrom->PushGetBlocks(pindexBest, GetOrphanRoot(pblock2));",
          "content_same": false
        },
        {
          "line": 1373,
          "old_api": null,
          "new_api": "AcceptBlock",
          "old_text": null,
          "new_text": "pblock->AcceptBlock()",
          "old_line_content": "    {",
          "new_line_content": "    if (!pblock->AcceptBlock())",
          "content_same": false
        },
        {
          "line": 1374,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"ProcessBlock() : AcceptBlock FAILED\")",
          "old_line_content": "        uint256 hashPrev = vWorkQueue[i];",
          "new_line_content": "        return error(\"ProcessBlock() : AcceptBlock FAILED\");",
          "content_same": false
        },
        {
          "line": 1378,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vWorkQueue.push_back(hash)",
          "old_line_content": "        {",
          "new_line_content": "    vWorkQueue.push_back(hash);",
          "content_same": false
        },
        {
          "line": 1379,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vWorkQueue.size()",
          "old_line_content": "            CBlock* pblockOrphan = (*mi).second;",
          "new_line_content": "    for (int i = 0; i < vWorkQueue.size(); i++)",
          "content_same": false
        },
        {
          "line": 1383,
          "old_api": null,
          "new_api": "upper_bound",
          "old_text": null,
          "new_text": "mapOrphanBlocksByPrev.upper_bound(hashPrev)",
          "old_line_content": "            delete pblockOrphan;",
          "new_line_content": "             mi != mapOrphanBlocksByPrev.upper_bound(hashPrev);",
          "content_same": false
        },
        {
          "line": 1387,
          "old_api": null,
          "new_api": "AcceptBlock",
          "old_text": null,
          "new_text": "pblockOrphan->AcceptBlock()",
          "old_line_content": "",
          "new_line_content": "            if (pblockOrphan->AcceptBlock())",
          "content_same": false
        },
        {
          "line": 1389,
          "old_api": null,
          "new_api": "GetHash",
          "old_text": null,
          "new_text": "pblockOrphan->GetHash()",
          "old_line_content": "    return true;",
          "new_line_content": "            mapOrphanBlocks.erase(pblockOrphan->GetHash());",
          "content_same": false
        },
        {
          "line": 1392,
          "old_api": null,
          "new_api": "erase",
          "old_text": null,
          "new_text": "mapOrphanBlocksByPrev.erase(hashPrev)",
          "old_line_content": "",
          "new_line_content": "        mapOrphanBlocksByPrev.erase(hashPrev);",
          "content_same": false
        },
        {
          "line": 1395,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"ProcessBlock: ACCEPTED\\n\")",
          "old_line_content": "",
          "new_line_content": "    printf(\"ProcessBlock: ACCEPTED\\n\");",
          "content_same": false
        },
        {
          "line": 1408,
          "old_api": null,
          "new_api": "GetDataDir",
          "old_text": null,
          "new_text": "GetDataDir()",
          "old_line_content": "        strMiscWarning = strMessage;",
          "new_line_content": "    uint64 nFreeBytesAvailable = filesystem::space(GetDataDir()).available;",
          "content_same": false
        },
        {
          "line": 1414,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Warning: Disk space is low  \")",
          "old_line_content": "    return true;",
          "new_line_content": "        string strMessage = _(\"Warning: Disk space is low  \");",
          "content_same": false
        },
        {
          "line": 1416,
          "old_api": null,
          "new_api": "c_str",
          "old_text": null,
          "new_text": "strMessage.c_str()",
          "old_line_content": "",
          "new_line_content": "        printf(\"*** %s\\n\", strMessage.c_str());",
          "content_same": false
        },
        {
          "line": 1417,
          "old_api": null,
          "new_api": "ThreadSafeMessageBox",
          "old_text": null,
          "new_text": "ThreadSafeMessageBox(strMessage, \"Bitcoin\", wxOK | wxICON_EXCLAMATION)",
          "old_line_content": "FILE* OpenBlockFile(unsigned int nFile, unsigned int nBlockPos, const char* pszMode)",
          "new_line_content": "        ThreadSafeMessageBox(strMessage, \"Bitcoin\", wxOK | wxICON_EXCLAMATION);",
          "content_same": false
        },
        {
          "line": 1418,
          "old_api": null,
          "new_api": "CreateThread",
          "old_text": null,
          "new_text": "CreateThread(Shutdown, NULL)",
          "old_line_content": "{",
          "new_line_content": "        CreateThread(Shutdown, NULL);",
          "content_same": false
        },
        {
          "line": 1431,
          "old_api": null,
          "new_api": "strchr",
          "old_text": null,
          "new_text": "strchr(pszMode, 'w')",
          "old_line_content": "    }",
          "new_line_content": "    if (nBlockPos != 0 && !strchr(pszMode, 'a') && !strchr(pszMode, 'w'))",
          "content_same": false
        },
        {
          "line": 1433,
          "old_api": null,
          "new_api": "fseek",
          "old_text": null,
          "new_text": "fseek(file, nBlockPos, SEEK_SET)",
          "old_line_content": "}",
          "new_line_content": "        if (fseek(file, nBlockPos, SEEK_SET) != 0)",
          "content_same": false
        },
        {
          "line": 1435,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(file)",
          "old_line_content": "static unsigned int nCurrentBlockFile = 1;",
          "new_line_content": "            fclose(file);",
          "content_same": false
        },
        {
          "line": 1449,
          "old_api": null,
          "new_api": "OpenBlockFile",
          "old_text": null,
          "new_text": "OpenBlockFile(nCurrentBlockFile, 0, \"ab\")",
          "old_line_content": "        {",
          "new_line_content": "        FILE* file = OpenBlockFile(nCurrentBlockFile, 0, \"ab\");",
          "content_same": false
        },
        {
          "line": 1452,
          "old_api": null,
          "new_api": "fseek",
          "old_text": null,
          "new_text": "fseek(file, 0, SEEK_END)",
          "old_line_content": "        }",
          "new_line_content": "        if (fseek(file, 0, SEEK_END) != 0)",
          "content_same": false
        },
        {
          "line": 1455,
          "old_api": null,
          "new_api": "ftell",
          "old_text": null,
          "new_text": "ftell(file)",
          "old_line_content": "    }",
          "new_line_content": "        if (ftell(file) < 0x7F000000 - MAX_SIZE)",
          "content_same": false
        },
        {
          "line": 1460,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(file)",
          "old_line_content": "    if (fTestNet)",
          "new_line_content": "        fclose(file);",
          "content_same": false
        },
        {
          "line": 1469,
          "old_api": null,
          "new_api": "uint256",
          "old_text": null,
          "new_text": "uint256(\"0x00000007199508e34a9ff81e6ec0c477a4cccff2a4767a8eee39c11db367b008\")",
          "old_line_content": "",
          "new_line_content": "        hashGenesisBlock = uint256(\"0x00000007199508e34a9ff81e6ec0c477a4cccff2a4767a8eee39c11db367b008\");",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": null,
          "new_api": "uint256",
          "old_text": null,
          "new_text": "uint256(0)",
          "old_line_content": "    //",
          "new_line_content": "        bnProofOfWorkLimit = CBigNum(~uint256(0) >> 28);",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": null,
          "new_api": "Close",
          "old_text": null,
          "new_text": "txdb.Close()",
          "old_line_content": "        if (!fAllowNew)",
          "new_line_content": "    txdb.Close();",
          "content_same": false
        },
        {
          "line": 1488,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "mapBlockIndex.empty()",
          "old_line_content": "        //   CTransaction(hash=4a5e1e, ver=1, vin.size=1, vout.size=1, nLockTime=0)",
          "new_line_content": "    if (mapBlockIndex.empty())",
          "content_same": false
        },
        {
          "line": 1503,
          "old_api": null,
          "new_api": "resize",
          "old_text": null,
          "new_text": "txNew.vin.resize(1)",
          "old_line_content": "        block.hashPrevBlock = 0;",
          "new_line_content": "        txNew.vin.resize(1);",
          "content_same": false
        },
        {
          "line": 1505,
          "old_api": null,
          "new_api": "strlen",
          "old_text": null,
          "new_text": "strlen(pszTimestamp)",
          "old_line_content": "        block.nVersion = 1;",
          "new_line_content": "        txNew.vin[0].scriptSig = CScript() << 486604799 << CBigNum(4) << vector<unsigned char>((const unsigned char*)pszTimestamp, (const unsigned char*)pszTimestamp + strlen(pszTimestamp));",
          "content_same": false
        },
        {
          "line": 1507,
          "old_api": null,
          "new_api": "ParseHex",
          "old_text": null,
          "new_text": "ParseHex(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5f\")",
          "old_line_content": "        block.nBits    = 0x1d00ffff;",
          "new_line_content": "        txNew.vout[0].scriptPubKey = CScript() << ParseHex(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5f\") << OP_CHECKSIG;",
          "content_same": false
        },
        {
          "line": 1509,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "block.vtx.push_back(txNew)",
          "old_line_content": "",
          "new_line_content": "        block.vtx.push_back(txNew);",
          "content_same": false
        },
        {
          "line": 1511,
          "old_api": null,
          "new_api": "BuildMerkleTree",
          "old_text": null,
          "new_text": "block.BuildMerkleTree()",
          "old_line_content": "        {",
          "new_line_content": "        block.hashMerkleRoot = block.BuildMerkleTree();",
          "content_same": false
        },
        {
          "line": 1525,
          "old_api": null,
          "new_api": "GetHash",
          "old_text": null,
          "new_text": "block.GetHash().ToString().c_str()",
          "old_line_content": "        // Start new block file",
          "new_line_content": "        printf(\"%s\\n\", block.GetHash().ToString().c_str());",
          "content_same": false
        },
        {
          "line": 1526,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "hashGenesisBlock.ToString().c_str()",
          "old_line_content": "        unsigned int nFile;",
          "new_line_content": "        printf(\"%s\\n\", hashGenesisBlock.ToString().c_str());",
          "content_same": false
        },
        {
          "line": 1527,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "block.hashMerkleRoot.ToString().c_str()",
          "old_line_content": "        unsigned int nBlockPos;",
          "new_line_content": "        printf(\"%s\\n\", block.hashMerkleRoot.ToString().c_str());",
          "content_same": false
        },
        {
          "line": 1535,
          "old_api": null,
          "new_api": "WriteToDisk",
          "old_text": null,
          "new_text": "block.WriteToDisk(nFile, nBlockPos)",
          "old_line_content": "}",
          "new_line_content": "        if (!block.WriteToDisk(nFile, nBlockPos))",
          "content_same": false
        },
        {
          "line": 1536,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"LoadBlockIndex() : writing genesis block to disk failed\")",
          "old_line_content": "",
          "new_line_content": "            return error(\"LoadBlockIndex() : writing genesis block to disk failed\");",
          "content_same": false
        },
        {
          "line": 1537,
          "old_api": null,
          "new_api": "AddToBlockIndex",
          "old_text": null,
          "new_text": "block.AddToBlockIndex(nFile, nBlockPos)",
          "old_line_content": "",
          "new_line_content": "        if (!block.AddToBlockIndex(nFile, nBlockPos))",
          "content_same": false
        },
        {
          "line": 1538,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"LoadBlockIndex() : genesis block not accepted\")",
          "old_line_content": "",
          "new_line_content": "            return error(\"LoadBlockIndex() : genesis block not accepted\");",
          "content_same": false
        },
        {
          "line": 1550,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "mapBlockIndex.end()",
          "old_line_content": "    }",
          "new_line_content": "    for (map<uint256, CBlockIndex*>::iterator mi = mapBlockIndex.begin(); mi != mapBlockIndex.end(); ++mi)",
          "content_same": false
        },
        {
          "line": 1563,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "vStack.empty()",
          "old_line_content": "        if (nCol > nPrevCol)",
          "new_line_content": "    while (!vStack.empty())",
          "content_same": false
        },
        {
          "line": 1565,
          "old_api": null,
          "new_api": "back",
          "old_text": null,
          "new_text": "vStack.back()",
          "old_line_content": "            for (int i = 0; i < nCol-1; i++)",
          "new_line_content": "        int nCol = vStack.back().first;",
          "content_same": false
        },
        {
          "line": 1574,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"|\\\\\\n\")",
          "old_line_content": "       }",
          "new_line_content": "            printf(\"|\\\\\\n\");",
          "content_same": false
        },
        {
          "line": 1580,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"|\\n\")",
          "old_line_content": "",
          "new_line_content": "            printf(\"|\\n\");",
          "content_same": false
        },
        {
          "line": 1586,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"| \")",
          "old_line_content": "            pindex->nFile,",
          "new_line_content": "            printf(\"| \");",
          "content_same": false
        },
        {
          "line": 1591,
          "old_api": null,
          "new_api": "GetHash",
          "old_text": null,
          "new_text": "printf(\"%d (%u,%u) %s  %s  tx %d\",\n            pindex->nHeight,\n            pindex->nFile,\n            pindex->nBlockPos,\n            block.GetHash().ToString().substr(0,20).c_str(),\n            DateTimeStrFormat(\"%x %H:%M:%S\", block.GetBlockTime()).c_str(),\n            block.vtx.size())",
          "old_line_content": "",
          "new_line_content": "        printf(\"%d (%u,%u) %s  %s  tx %d\",",
          "content_same": false
        },
        {
          "line": 1595,
          "old_api": null,
          "new_api": "GetHash",
          "old_text": null,
          "new_text": "block.GetHash().ToString().substr(0,20).c_str()",
          "old_line_content": "        vector<CBlockIndex*>& vNext = mapNext[pindex];",
          "new_line_content": "            block.GetHash().ToString().substr(0,20).c_str(),",
          "content_same": false
        },
        {
          "line": 1597,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "block.vtx.size()",
          "old_line_content": "        {",
          "new_line_content": "            block.vtx.size());",
          "content_same": false
        },
        {
          "line": 1599,
          "old_api": null,
          "new_api": "PrintWallets",
          "old_text": null,
          "new_text": "PrintWallets(block)",
          "old_line_content": "            {",
          "new_line_content": "        PrintWallets(block);",
          "content_same": false
        },
        {
          "line": 1603,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vNext.size()",
          "old_line_content": "        }",
          "new_line_content": "        for (int i = 0; i < vNext.size(); i++)",
          "content_same": false
        },
        {
          "line": 1613,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vNext.size()",
          "old_line_content": "",
          "new_line_content": "        for (int i = 0; i < vNext.size(); i++)",
          "content_same": false
        },
        {
          "line": 1614,
          "old_api": null,
          "new_api": "make_pair",
          "old_text": null,
          "new_text": "make_pair(nCol+i, vNext[i])",
          "old_line_content": "",
          "new_line_content": "            vStack.push_back(make_pair(nCol+i, vNext[i]));",
          "content_same": false
        },
        {
          "line": 1640,
          "old_api": null,
          "new_api": "GetBoolArg",
          "old_text": null,
          "new_text": "GetBoolArg(\"-testsafemode\")",
          "old_line_content": "        strStatusBar = strMiscWarning;",
          "new_line_content": "    if (GetBoolArg(\"-testsafemode\"))",
          "content_same": false
        },
        {
          "line": 1651,
          "old_api": null,
          "new_api": "GetBlockWork",
          "old_text": null,
          "new_text": "pindexBest->GetBlockWork()",
          "old_line_content": "    CRITICAL_BLOCK(cs_mapAlerts)",
          "new_line_content": "    if (pindexBest && bnBestInvalidWork > bnBestChainWork + pindexBest->GetBlockWork() * 6)",
          "content_same": false
        },
        {
          "line": 1663,
          "old_api": null,
          "new_api": "AppliesToMe",
          "old_text": null,
          "new_text": "alert.AppliesToMe()",
          "old_line_content": "",
          "new_line_content": "            if (alert.AppliesToMe() && alert.nPriority > nPriority)",
          "content_same": false
        },
        {
          "line": 1675,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(!\"GetWarnings() : invalid parameter\")",
          "old_line_content": "        return false;",
          "new_line_content": "    assert(!\"GetWarnings() : invalid parameter\");",
          "content_same": false
        },
        {
          "line": 1681,
          "old_api": null,
          "new_api": "CheckSignature",
          "old_text": null,
          "new_text": "CheckSignature()",
          "old_line_content": "        // Cancel previous alerts",
          "new_line_content": "    if (!CheckSignature())",
          "content_same": false
        },
        {
          "line": 1683,
          "old_api": null,
          "new_api": "IsInEffect",
          "old_text": null,
          "new_text": "IsInEffect()",
          "old_line_content": "        {",
          "new_line_content": "    if (!IsInEffect())",
          "content_same": false
        },
        {
          "line": 1689,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "mapAlerts.end()",
          "old_line_content": "            }",
          "new_line_content": "        for (map<uint256, CAlert>::iterator mi = mapAlerts.begin(); mi != mapAlerts.end();)",
          "content_same": false
        },
        {
          "line": 1694,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"cancelling alert %d\\n\", alert.nID)",
          "old_line_content": "            }",
          "new_line_content": "                printf(\"cancelling alert %d\\n\", alert.nID);",
          "content_same": false
        },
        {
          "line": 1695,
          "old_api": null,
          "new_api": "erase",
          "old_text": null,
          "new_text": "mapAlerts.erase(mi++)",
          "old_line_content": "            else",
          "new_line_content": "                mapAlerts.erase(mi++);",
          "content_same": false
        },
        {
          "line": 1697,
          "old_api": null,
          "new_api": "IsInEffect",
          "old_text": null,
          "new_text": "alert.IsInEffect()",
          "old_line_content": "        }",
          "new_line_content": "            else if (!alert.IsInEffect())",
          "content_same": false
        },
        {
          "line": 1699,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"expiring alert %d\\n\", alert.nID)",
          "old_line_content": "        // Check if this alert has been cancelled",
          "new_line_content": "                printf(\"expiring alert %d\\n\", alert.nID);",
          "content_same": false
        },
        {
          "line": 1700,
          "old_api": null,
          "new_api": "erase",
          "old_text": null,
          "new_text": "mapAlerts.erase(mi++)",
          "old_line_content": "        BOOST_FOREACH(PAIRTYPE(const uint256, CAlert)& item, mapAlerts)",
          "new_line_content": "                mapAlerts.erase(mi++);",
          "content_same": false
        },
        {
          "line": 1710,
          "old_api": null,
          "new_api": "Cancels",
          "old_text": null,
          "new_text": "alert.Cancels(*this)",
          "old_line_content": "        // Add to mapAlerts",
          "new_line_content": "            if (alert.Cancels(*this))",
          "content_same": false
        },
        {
          "line": 1712,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"alert already cancelled by %d\\n\", alert.nID)",
          "old_line_content": "    }",
          "new_line_content": "                printf(\"alert already cancelled by %d\\n\", alert.nID);",
          "content_same": false
        },
        {
          "line": 1718,
          "old_api": null,
          "new_api": "GetHash",
          "old_text": null,
          "new_text": "GetHash()",
          "old_line_content": "",
          "new_line_content": "        mapAlerts.insert(make_pair(GetHash(), *this));",
          "content_same": false
        },
        {
          "line": 1721,
          "old_api": null,
          "new_api": "AppliesToMe",
          "old_text": null,
          "new_text": "AppliesToMe()",
          "old_line_content": "",
          "new_line_content": "    printf(\"accepted alert %d, AppliesToMe()=%d\\n\", nID, AppliesToMe());",
          "content_same": false
        },
        {
          "line": 1722,
          "old_api": null,
          "new_api": "MainFrameRepaint",
          "old_text": null,
          "new_text": "MainFrameRepaint()",
          "old_line_content": "",
          "new_line_content": "    MainFrameRepaint();",
          "content_same": false
        },
        {
          "line": 1743,
          "old_api": null,
          "new_api": "ContainsTx",
          "old_text": null,
          "new_text": "txdb.ContainsTx(inv.hash)",
          "old_line_content": "",
          "new_line_content": "    case MSG_TX:    return mapTransactions.count(inv.hash) || mapOrphanTransactions.count(inv.hash) || txdb.ContainsTx(inv.hash);",
          "content_same": false
        },
        {
          "line": 1744,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "mapOrphanBlocks.count(inv.hash)",
          "old_line_content": "",
          "new_line_content": "    case MSG_BLOCK: return mapBlockIndex.count(inv.hash) || mapOrphanBlocks.count(inv.hash);",
          "content_same": false
        },
        {
          "line": 1764,
          "old_api": null,
          "new_api": "GetTime",
          "old_text": null,
          "new_text": "GetTime()",
          "old_line_content": "    }",
          "new_line_content": "        printf(\"%s \", DateTimeStrFormat(\"%x %H:%M:%S\", GetTime()).c_str());",
          "content_same": false
        },
        {
          "line": 1765,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vRecv.size()",
          "old_line_content": "",
          "new_line_content": "        printf(\"received: %s (%d bytes)\\n\", strCommand.c_str(), vRecv.size());",
          "content_same": false
        },
        {
          "line": 1767,
          "old_api": null,
          "new_api": "atoi",
          "old_text": null,
          "new_text": "atoi(mapArgs[\"-dropmessagestest\"])",
          "old_line_content": "",
          "new_line_content": "    if (mapArgs.count(\"-dropmessagestest\") && GetRand(atoi(mapArgs[\"-dropmessagestest\"])) == 0)",
          "content_same": false
        },
        {
          "line": 1769,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"dropmessagestest DROPPING RECV MESSAGE\\n\")",
          "old_line_content": "",
          "new_line_content": "        printf(\"dropmessagestest DROPPING RECV MESSAGE\\n\");",
          "content_same": false
        },
        {
          "line": 1782,
          "old_api": null,
          "new_api": "Misbehaving",
          "old_text": null,
          "new_text": "pfrom->Misbehaving(1)",
          "old_line_content": "        uint64 nNonce = 1;",
          "new_line_content": "            pfrom->Misbehaving(1);",
          "content_same": false
        },
        {
          "line": 1793,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "vRecv.empty()",
          "old_line_content": "        if (pfrom->nVersion == 0)",
          "new_line_content": "        if (pfrom->nVersion >= 106 && !vRecv.empty())",
          "content_same": false
        },
        {
          "line": 1795,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "vRecv.empty()",
          "old_line_content": "",
          "new_line_content": "        if (pfrom->nVersion >= 106 && !vRecv.empty())",
          "content_same": false
        },
        {
          "line": 1797,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "vRecv.empty()",
          "old_line_content": "        if (nNonce == nLocalHostNonce && nNonce > 1)",
          "new_line_content": "        if (pfrom->nVersion >= 209 && !vRecv.empty())",
          "content_same": false
        },
        {
          "line": 1813,
          "old_api": null,
          "new_api": "PushVersion",
          "old_text": null,
          "new_text": "pfrom->PushVersion()",
          "old_line_content": "        if (pfrom->nVersion >= 209)",
          "new_line_content": "            pfrom->PushVersion();",
          "content_same": false
        },
        {
          "line": 1821,
          "old_api": null,
          "new_api": "PushMessage",
          "old_text": null,
          "new_text": "pfrom->PushMessage(\"verack\")",
          "old_line_content": "            // Advertise our address",
          "new_line_content": "            pfrom->PushMessage(\"verack\");",
          "content_same": false
        },
        {
          "line": 1824,
          "old_api": null,
          "new_api": "min",
          "old_text": null,
          "new_text": "min(pfrom->nVersion, VERSION)",
          "old_line_content": "                CAddress addr(addrLocalHost);",
          "new_line_content": "            pfrom->vRecv.SetVersion(min(pfrom->nVersion, VERSION));",
          "content_same": false
        },
        {
          "line": 1829,
          "old_api": null,
          "new_api": "IsRoutable",
          "old_text": null,
          "new_text": "addrLocalHost.IsRoutable()",
          "old_line_content": "            // Get recent addresses",
          "new_line_content": "            if (addrLocalHost.IsRoutable() && !fUseProxy)",
          "content_same": false
        },
        {
          "line": 1833,
          "old_api": null,
          "new_api": "PushAddress",
          "old_text": null,
          "new_text": "pfrom->PushAddress(addr)",
          "old_line_content": "                pfrom->fGetAddr = true;",
          "new_line_content": "                pfrom->PushAddress(addr);",
          "content_same": false
        },
        {
          "line": 1837,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "mapAddresses.size()",
          "old_line_content": "        // Ask the first connected node for block updates",
          "new_line_content": "            if (pfrom->nVersion >= 31402 || mapAddresses.size() < 1000)",
          "content_same": false
        },
        {
          "line": 1839,
          "old_api": null,
          "new_api": "PushMessage",
          "old_text": null,
          "new_text": "pfrom->PushMessage(\"getaddr\")",
          "old_line_content": "        if (!pfrom->fClient &&",
          "new_line_content": "                pfrom->PushMessage(\"getaddr\");",
          "content_same": false
        },
        {
          "line": 1851,
          "old_api": null,
          "new_api": "uint256",
          "old_text": null,
          "new_text": "uint256(0)",
          "old_line_content": "",
          "new_line_content": "            pfrom->PushGetBlocks(pindexBest, uint256(0));",
          "content_same": false
        },
        {
          "line": 1855,
          "old_api": null,
          "new_api": "CRITICAL_BLOCK",
          "old_text": null,
          "new_text": "CRITICAL_BLOCK(cs_mapAlerts)",
          "old_line_content": "        if(pfrom->nStartingHeight > nMaxBlocksOfPeers)",
          "new_line_content": "        CRITICAL_BLOCK(cs_mapAlerts)",
          "content_same": false
        },
        {
          "line": 1857,
          "old_api": null,
          "new_api": "RelayTo",
          "old_text": null,
          "new_text": "item.second.RelayTo(pfrom)",
          "old_line_content": "            nMaxBlocksOfPeers = pfrom->nStartingHeight;",
          "new_line_content": "                item.second.RelayTo(pfrom);",
          "content_same": false
        },
        {
          "line": 1861,
          "old_api": null,
          "new_api": "printf",
          "old_text": null,
          "new_text": "printf(\"version message: version %d, blocks=%d\\n\", pfrom->nVersion, pfrom->nStartingHeight)",
          "old_line_content": "",
          "new_line_content": "        printf(\"version message: version %d, blocks=%d\\n\", pfrom->nVersion, pfrom->nStartingHeight);",
          "content_same": false
        },
        {
          "line": 1879,
          "old_api": null,
          "new_api": "min",
          "old_text": null,
          "new_text": "min(pfrom->nVersion, VERSION)",
          "old_line_content": "        vRecv >> vAddr;",
          "new_line_content": "        pfrom->vRecv.SetVersion(min(pfrom->nVersion, VERSION));",
          "content_same": false
        },
        {
          "line": 1891,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "mapAddresses.size()",
          "old_line_content": "",
          "new_line_content": "        if (pfrom->nVersion < 31402 && mapAddresses.size() > 1000)",
          "content_same": false
        },
        {
          "line": 1893,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vAddr.size()",
          "old_line_content": "        CAddrDB addrDB;",
          "new_line_content": "        if (vAddr.size() > 1000)",
          "content_same": false
        },
        {
          "line": 1896,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vAddr.size()",
          "old_line_content": "        int64 nSince = nNow - 10 * 60;",
          "new_line_content": "            return error(\"message addr size() = %d\", vAddr.size());",
          "content_same": false
        },
        {
          "line": 1901,
          "old_api": null,
          "new_api": "TxnBegin",
          "old_text": null,
          "new_text": "addrDB.TxnBegin()",
          "old_line_content": "            // ignore IPv6 for now, since it isn't implemented anyway",
          "new_line_content": "        addrDB.TxnBegin();",
          "content_same": false
        },
        {
          "line": 1909,
          "old_api": null,
          "new_api": "IsIPv4",
          "old_text": null,
          "new_text": "addr.IsIPv4()",
          "old_line_content": "            {",
          "new_line_content": "            if (!addr.IsIPv4())",
          "content_same": false
        },
        {
          "line": 1913,
          "old_api": null,
          "new_api": "AddAddress",
          "old_text": null,
          "new_text": "AddAddress(addr, 2 * 60 * 60, &addrDB)",
          "old_line_content": "                    // Use deterministic randomness to send to the same nodes for 24 hours",
          "new_line_content": "            AddAddress(addr, 2 * 60 * 60, &addrDB);",
          "content_same": false
        },
        {
          "line": 1914,
          "old_api": null,
          "new_api": "AddAddressKnown",
          "old_text": null,
          "new_text": "pfrom->AddAddressKnown(addr)",
          "old_line_content": "                    // at a time so the setAddrKnowns of the chosen nodes prevent repeats",
          "new_line_content": "            pfrom->AddAddressKnown(addr);",
          "content_same": false
        },
        {
          "line": 1915,
          "old_api": null,
          "new_api": "IsRoutable",
          "old_text": null,
          "new_text": "addr.IsRoutable()",
          "old_line_content": "                    static uint256 hashSalt;",
          "new_line_content": "            if (addr.nTime > nSince && !pfrom->fGetAddr && vAddr.size() <= 10 && addr.IsRoutable())",
          "content_same": false
        },
        {
          "line": 1924,
          "old_api": null,
          "new_api": "RAND_bytes",
          "old_text": null,
          "new_text": "RAND_bytes((unsigned char*)&hashSalt, sizeof(hashSalt))",
          "old_line_content": "                            continue;",
          "new_line_content": "                        RAND_bytes((unsigned char*)&hashSalt, sizeof(hashSalt));",
          "content_same": false
        },
        {
          "line": 1925,
          "old_api": null,
          "new_api": "GetTime",
          "old_text": null,
          "new_text": "GetTime()",
          "old_line_content": "                        unsigned int nPointer;",
          "new_line_content": "                    uint256 hashRand = hashSalt ^ (((int64)addr.ip)<<32) ^ ((GetTime()+addr.ip)/(24*60*60));",
          "content_same": false
        },
        {
          "line": 1935,
          "old_api": null,
          "new_api": "END",
          "old_text": null,
          "new_text": "END(hashKey)",
          "old_line_content": "            }",
          "new_line_content": "                        hashKey = Hash(BEGIN(hashKey), END(hashKey));",
          "content_same": false
        },
        {
          "line": 1936,
          "old_api": null,
          "new_api": "make_pair",
          "old_text": null,
          "new_text": "make_pair(hashKey, pnode)",
          "old_line_content": "        }",
          "new_line_content": "                        mapMix.insert(make_pair(hashKey, pnode));",
          "content_same": false
        },
        {
          "line": 1939,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "mapMix.end()",
          "old_line_content": "            pfrom->fGetAddr = false;",
          "new_line_content": "                    for (multimap<uint256, CNode*>::iterator mi = mapMix.begin(); mi != mapMix.end() && nRelayNodes-- > 0; ++mi)",
          "content_same": false
        },
        {
          "line": 1940,
          "old_api": null,
          "new_api": "PushAddress",
          "old_text": null,
          "new_text": "*mi).second)->PushAddress(addr)",
          "old_line_content": "    }",
          "new_line_content": "                        ((*mi).second)->PushAddress(addr);",
          "content_same": false
        },
        {
          "line": 1944,
          "old_api": null,
          "new_api": "TxnCommit",
          "old_text": null,
          "new_text": "addrDB.TxnCommit()",
          "old_line_content": "    {",
          "new_line_content": "        addrDB.TxnCommit();  // Save addresses (it's ok if this fails)",
          "content_same": false
        },
        {
          "line": 1945,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vAddr.size()",
          "old_line_content": "        vector<CInv> vInv;",
          "new_line_content": "        if (vAddr.size() < 1000)",
          "content_same": false
        },
        {
          "line": 1954,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vInv.size()",
          "old_line_content": "        BOOST_FOREACH(const CInv& inv, vInv)",
          "new_line_content": "        if (vInv.size() > 50000)",
          "content_same": false
        },
        {
          "line": 1956,
          "old_api": null,
          "new_api": "Misbehaving",
          "old_text": null,
          "new_text": "pfrom->Misbehaving(20)",
          "old_line_content": "            if (fShutdown)",
          "new_line_content": "            pfrom->Misbehaving(20);",
          "content_same": false
        },
        {
          "line": 1957,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vInv.size()",
          "old_line_content": "                return true;",
          "new_line_content": "            return error(\"message inv size() = %d\", vInv.size());",
          "content_same": false
        },
        {
          "line": 1969,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "inv.ToString().c_str()",
          "old_line_content": "            // Track requests for our stuff",
          "new_line_content": "                printf(\"  got inventory: %s  %s\\n\", inv.ToString().c_str(), fAlreadyHave ? \"have\" : \"new\");",
          "content_same": false
        },
        {
          "line": 1972,
          "old_api": null,
          "new_api": "AskFor",
          "old_text": null,
          "new_text": "pfrom->AskFor(inv)",
          "old_line_content": "    }",
          "new_line_content": "                pfrom->AskFor(inv);",
          "content_same": false
        },
        {
          "line": 1973,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "mapOrphanBlocks.count(inv.hash)",
          "old_line_content": "",
          "new_line_content": "            else if (inv.type == MSG_BLOCK && mapOrphanBlocks.count(inv.hash))",
          "content_same": false
        },
        {
          "line": 1974,
          "old_api": null,
          "new_api": "GetOrphanRoot",
          "old_text": null,
          "new_text": "GetOrphanRoot(mapOrphanBlocks[inv.hash])",
          "old_line_content": "",
          "new_line_content": "                pfrom->PushGetBlocks(pindexBest, GetOrphanRoot(mapOrphanBlocks[inv.hash]));",
          "content_same": false
        },
        {
          "line": 1977,
          "old_api": null,
          "new_api": "Inventory",
          "old_text": null,
          "new_text": "Inventory(inv.hash)",
          "old_line_content": "        vector<CInv> vInv;",
          "new_line_content": "            Inventory(inv.hash);",
          "content_same": false
        },
        {
          "line": 1986,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "vInv.size()",
          "old_line_content": "        {",
          "new_line_content": "        if (vInv.size() > 50000)",
          "content_same": false
        },
        {
          "line": 1988,
          "old_api": null,
          "new_api": "Misbehaving",
          "old_text": null,
          "new_text": "pfrom->Misbehaving(20)",
          "old_line_content": "                return true;",
          "new_line_content": "            pfrom->Misbehaving(20);",
          "content_same": false
        },
        {
          "line": 1996,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "inv.ToString().c_str()",
          "old_line_content": "                {",
          "new_line_content": "            printf(\"received getdata for: %s\\n\", inv.ToString().c_str());",
          "content_same": false
        },
        {
          "line": 2001,
          "old_api": null,
          "new_api": "find",
          "old_text": null,
          "new_text": "mapBlockIndex.find(inv.hash)",
          "old_line_content": "                    // Trigger them to send a getblocks request for the next batch of inventory",
          "new_line_content": "                map<uint256, CBlockIndex*>::iterator mi = mapBlockIndex.find(inv.hash);",
          "content_same": false
        },
        {
          "line": 2002,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "mapBlockIndex.end()",
          "old_line_content": "                    if (inv.hash == pfrom->hashContinue)",
          "new_line_content": "                if (mi != mapBlockIndex.end())",
          "content_same": false
        },
        {
          "line": 2005,
          "old_api": null,
          "new_api": "ReadFromDisk",
          "old_text": null,
          "new_text": "block.ReadFromDisk((*mi).second)",
          "old_line_content": "                        // and we want it right after the last block so they don't",
          "new_line_content": "                    block.ReadFromDisk((*mi).second);",
          "content_same": false
        },
        {
          "line": 2006,
          "old_api": null,
          "new_api": "PushMessage",
          "old_text": null,
          "new_text": "pfrom->PushMessage(\"block\", block)",
          "old_line_content": "                        // wait for other stuff first.",
          "new_line_content": "                    pfrom->PushMessage(\"block\", block);",
          "content_same": false
        },
        {
          "line": 2015,
          "old_api": null,
          "new_api": "CInv",
          "old_text": null,
          "new_text": "CInv(MSG_BLOCK, hashBestChain)",
          "old_line_content": "            {",
          "new_line_content": "                        vInv.push_back(CInv(MSG_BLOCK, hashBestChain));",
          "content_same": false
        },
        {
          "line": 2016,
          "old_api": null,
          "new_api": "PushMessage",
          "old_text": null,
          "new_text": "pfrom->PushMessage(\"inv\", vInv)",
          "old_line_content": "                // Send stream from relay memory",
          "new_line_content": "                        pfrom->PushMessage(\"inv\", vInv);",
          "content_same": false
        },
        {
          "line": 2027,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "mapRelay.end()",
          "old_line_content": "        }",
          "new_line_content": "                    if (mi != mapRelay.end())",
          "content_same": false
        },
        {
          "line": 2028,
          "old_api": null,
          "new_api": "GetCommand",
          "old_text": null,
          "new_text": "inv.GetCommand()",
          "old_line_content": "    }",
          "new_line_content": "                        pfrom->PushMessage(inv.GetCommand(), (*mi).second);",
          "content_same": false
        },
        {
          "line": 2033,
          "old_api": null,
          "new_api": "Inventory",
          "old_text": null,
          "new_text": "Inventory(inv.hash)",
          "old_line_content": "        CBlockLocator locator;",
          "new_line_content": "            Inventory(inv.hash);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2048,
          "old_api": "GetBlockHash",
          "new_api": null,
          "old_text": "pindex->GetBlockHash()",
          "new_text": null,
          "old_line_content": "            if (pindex->GetBlockHash() == hashStop)",
          "new_line_content": "        if (pindex)",
          "content_same": false
        },
        {
          "line": 2053,
          "old_api": "GetBlockHash",
          "new_api": null,
          "old_text": "pindex->GetBlockHash()",
          "new_text": null,
          "old_line_content": "            pfrom->PushInventory(CInv(MSG_BLOCK, pindex->GetBlockHash()));",
          "new_line_content": "        for (; pindex; pindex = pindex->pnext)",
          "content_same": false
        },
        {
          "line": 2056,
          "old_api": "GetSerializeSize",
          "new_api": null,
          "old_text": "block.GetSerializeSize(SER_NETWORK)",
          "new_text": null,
          "old_line_content": "            nBytes += block.GetSerializeSize(SER_NETWORK);",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 2061,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "pindex->GetBlockHash().ToString().substr(0,20).c_str()",
          "new_text": null,
          "old_line_content": "                printf(\"  getblocks stopping at limit %d %s (%u bytes)\\n\", pindex->nHeight, pindex->GetBlockHash().ToString().substr(0,20).c_str(), nBytes);",
          "new_line_content": "            CBlock block;",
          "content_same": false
        },
        {
          "line": 2076,
          "old_api": "IsNull",
          "new_api": null,
          "old_text": "locator.IsNull()",
          "new_text": null,
          "old_line_content": "        if (locator.IsNull())",
          "new_line_content": "    else if (strCommand == \"getheaders\")",
          "content_same": false
        },
        {
          "line": 2079,
          "old_api": "find",
          "new_api": null,
          "old_text": "mapBlockIndex.find(hashStop)",
          "new_text": null,
          "old_line_content": "            map<uint256, CBlockIndex*>::iterator mi = mapBlockIndex.find(hashStop);",
          "new_line_content": "        uint256 hashStop;",
          "content_same": false
        },
        {
          "line": 2080,
          "old_api": "end",
          "new_api": null,
          "old_text": "mapBlockIndex.end()",
          "new_text": null,
          "old_line_content": "            if (mi == mapBlockIndex.end())",
          "new_line_content": "        vRecv >> locator >> hashStop;",
          "content_same": false
        },
        {
          "line": 2093,
          "old_api": "GetDistanceBack",
          "new_api": null,
          "old_text": "locator.GetDistanceBack()",
          "new_text": null,
          "old_line_content": "        int nLimit = 2000 + locator.GetDistanceBack();",
          "new_line_content": "            // Find the last block the caller has in the main chain",
          "content_same": false
        },
        {
          "line": 2097,
          "old_api": "GetBlockHeader",
          "new_api": null,
          "old_text": "pindex->GetBlockHeader()",
          "new_text": null,
          "old_line_content": "            vHeaders.push_back(pindex->GetBlockHeader());",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2098,
          "old_api": "GetBlockHash",
          "new_api": null,
          "old_text": "pindex->GetBlockHash()",
          "new_text": null,
          "old_line_content": "            if (--nLimit <= 0 || pindex->GetBlockHash() == hashStop)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2112,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "tx.GetHash()",
          "new_text": null,
          "old_line_content": "        CInv inv(MSG_TX, tx.GetHash());",
          "new_line_content": "    else if (strCommand == \"tx\")",
          "content_same": false
        },
        {
          "line": 2113,
          "old_api": "AddInventoryKnown",
          "new_api": null,
          "old_text": "pfrom->AddInventoryKnown(inv)",
          "new_text": null,
          "old_line_content": "        pfrom->AddInventoryKnown(inv);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 2116,
          "old_api": "AcceptToMemoryPool",
          "new_api": null,
          "old_text": "tx.AcceptToMemoryPool(true, &fMissingInputs)",
          "new_text": null,
          "old_line_content": "        if (tx.AcceptToMemoryPool(true, &fMissingInputs))",
          "new_line_content": "        CTransaction tx;",
          "content_same": false
        },
        {
          "line": 2118,
          "old_api": "SyncWithWallets",
          "new_api": null,
          "old_text": "SyncWithWallets(tx, NULL, true)",
          "new_text": null,
          "old_line_content": "            SyncWithWallets(tx, NULL, true);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2121,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "vWorkQueue.push_back(inv.hash)",
          "new_text": null,
          "old_line_content": "            vWorkQueue.push_back(inv.hash);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2124,
          "old_api": "size",
          "new_api": null,
          "old_text": "vWorkQueue.size()",
          "new_text": null,
          "old_line_content": "            for (int i = 0; i < vWorkQueue.size(); i++)",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 2133,
          "old_api": "CDataStream",
          "new_api": null,
          "old_text": "CDataStream(vMsg)",
          "new_text": null,
          "old_line_content": "                    CDataStream(vMsg) >> tx;",
          "new_line_content": "                uint256 hashPrev = vWorkQueue[i];",
          "content_same": false
        },
        {
          "line": 2136,
          "old_api": "AcceptToMemoryPool",
          "new_api": null,
          "old_text": "tx.AcceptToMemoryPool(true)",
          "new_text": null,
          "old_line_content": "                    if (tx.AcceptToMemoryPool(true))",
          "new_line_content": "                     ++mi)",
          "content_same": false
        },
        {
          "line": 2138,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "inv.hash.ToString().substr(0,10).c_str()",
          "new_text": null,
          "old_line_content": "                        printf(\"   accepted orphan tx %s\\n\", inv.hash.ToString().substr(0,10).c_str());",
          "new_line_content": "                    const CDataStream& vMsg = *((*mi).second);",
          "content_same": false
        },
        {
          "line": 2139,
          "old_api": "SyncWithWallets",
          "new_api": null,
          "old_text": "SyncWithWallets(tx, NULL, true)",
          "new_text": null,
          "old_line_content": "                        SyncWithWallets(tx, NULL, true);",
          "new_line_content": "                    CTransaction tx;",
          "content_same": false
        },
        {
          "line": 2142,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "vWorkQueue.push_back(inv.hash)",
          "new_text": null,
          "old_line_content": "                        vWorkQueue.push_back(inv.hash);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2152,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "inv.hash.ToString().substr(0,10).c_str()",
          "new_text": null,
          "old_line_content": "            printf(\"storing orphan tx %s\\n\", inv.hash.ToString().substr(0,10).c_str());",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 2153,
          "old_api": "AddOrphanTx",
          "new_api": null,
          "old_text": "AddOrphanTx(vMsg)",
          "new_text": null,
          "old_line_content": "            AddOrphanTx(vMsg);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2164,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "block.GetHash().ToString().substr(0,20).c_str()",
          "new_text": null,
          "old_line_content": "        printf(\"received block %s\\n\", block.GetHash().ToString().substr(0,20).c_str());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2167,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "block.GetHash()",
          "new_text": null,
          "old_line_content": "        CInv inv(MSG_BLOCK, block.GetHash());",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 2168,
          "old_api": "AddInventoryKnown",
          "new_api": null,
          "old_text": "pfrom->AddInventoryKnown(inv)",
          "new_text": null,
          "old_line_content": "        pfrom->AddInventoryKnown(inv);",
          "new_line_content": "        CBlock block;",
          "content_same": false
        },
        {
          "line": 2170,
          "old_api": "ProcessBlock",
          "new_api": null,
          "old_text": "ProcessBlock(pfrom, &block)",
          "new_text": null,
          "old_line_content": "        if (ProcessBlock(pfrom, &block))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2172,
          "old_api": "Misbehaving",
          "new_api": null,
          "old_text": "pfrom->Misbehaving(block.nDoS)",
          "new_text": null,
          "old_line_content": "        if (block.nDoS) pfrom->Misbehaving(block.nDoS);",
          "new_line_content": "        // block.print();",
          "content_same": false
        },
        {
          "line": 2180,
          "old_api": "GetAdjustedTime",
          "new_api": null,
          "old_text": "GetAdjustedTime()",
          "new_text": null,
          "old_line_content": "        int64 nSince = GetAdjustedTime() - 3 * 60 * 60; // in the last 3 hours",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2193,
          "old_api": "GetRand",
          "new_api": null,
          "old_text": "GetRand(nCount)",
          "new_text": null,
          "old_line_content": "                if (addr.nTime > nSince && GetRand(nCount) < 2500)",
          "new_line_content": "                const CAddress& addr = item.second;",
          "content_same": false
        },
        {
          "line": 2194,
          "old_api": "PushAddress",
          "new_api": null,
          "old_text": "pfrom->PushAddress(addr)",
          "new_text": null,
          "old_line_content": "                    pfrom->PushAddress(addr);",
          "new_line_content": "                if (addr.nTime > nSince)",
          "content_same": false
        },
        {
          "line": 2205,
          "old_api": "GetBoolArg",
          "new_api": null,
          "old_text": "GetBoolArg(\"-allowreceivebyip\")",
          "new_text": null,
          "old_line_content": "        if (!GetBoolArg(\"-allowreceivebyip\"))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2207,
          "old_api": "string",
          "new_api": null,
          "old_text": "string(\"\")",
          "new_text": null,
          "old_line_content": "            pfrom->PushMessage(\"reply\", hashReply, (int)2, string(\"\"));",
          "new_line_content": "    else if (strCommand == \"checkorder\")",
          "content_same": false
        },
        {
          "line": 2217,
          "old_api": "count",
          "new_api": null,
          "old_text": "mapReuseKey.count(pfrom->addr.ip)",
          "new_text": null,
          "old_line_content": "        if (!mapReuseKey.count(pfrom->addr.ip))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2218,
          "old_api": "GetKeyFromPool",
          "new_api": null,
          "old_text": "pwalletMain->GetKeyFromPool(mapReuseKey[pfrom->addr.ip], true)",
          "new_text": null,
          "old_line_content": "            pwalletMain->GetKeyFromPool(mapReuseKey[pfrom->addr.ip], true);",
          "new_line_content": "        CWalletTx order;",
          "content_same": false
        },
        {
          "line": 2223,
          "old_api": "PushMessage",
          "new_api": null,
          "old_text": "pfrom->PushMessage(\"reply\", hashReply, (int)0, scriptPubKey)",
          "new_text": null,
          "old_line_content": "        pfrom->PushMessage(\"reply\", hashReply, (int)0, scriptPubKey);",
          "new_line_content": "        // Keep giving the same key to the same ip until they use it",
          "content_same": false
        },
        {
          "line": 2233,
          "old_api": "CRITICAL_BLOCK",
          "new_api": null,
          "old_text": "CRITICAL_BLOCK(pfrom->cs_mapRequests)",
          "new_text": null,
          "old_line_content": "        CRITICAL_BLOCK(pfrom->cs_mapRequests)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2235,
          "old_api": "find",
          "new_api": null,
          "old_text": "pfrom->mapRequests.find(hashReply)",
          "new_text": null,
          "old_line_content": "            map<uint256, CRequestTracker>::iterator mi = pfrom->mapRequests.find(hashReply);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 2236,
          "old_api": "end",
          "new_api": null,
          "old_text": "pfrom->mapRequests.end()",
          "new_text": null,
          "old_line_content": "            if (mi != pfrom->mapRequests.end())",
          "new_line_content": "        uint256 hashReply;",
          "content_same": false
        },
        {
          "line": 2239,
          "old_api": "erase",
          "new_api": null,
          "old_text": "pfrom->mapRequests.erase(mi)",
          "new_text": null,
          "old_line_content": "                pfrom->mapRequests.erase(mi);",
          "new_line_content": "        CRequestTracker tracker;",
          "content_same": false
        },
        {
          "line": 2257,
          "old_api": "ProcessAlert",
          "new_api": null,
          "old_text": "alert.ProcessAlert()",
          "new_text": null,
          "old_line_content": "        if (alert.ProcessAlert())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2260,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "alert.GetHash()",
          "new_text": null,
          "old_line_content": "            pfrom->setKnown.insert(alert.GetHash());",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 2261,
          "old_api": "CRITICAL_BLOCK",
          "new_api": null,
          "old_text": "CRITICAL_BLOCK(cs_vNodes)",
          "new_text": null,
          "old_line_content": "            CRITICAL_BLOCK(cs_vNodes)",
          "new_line_content": "        CAlert alert;",
          "content_same": false
        },
        {
          "line": 2263,
          "old_api": "RelayTo",
          "new_api": null,
          "old_text": "alert.RelayTo(pnode)",
          "new_text": null,
          "old_line_content": "                    alert.RelayTo(pnode);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2277,
          "old_api": "AddressCurrentlyConnected",
          "new_api": null,
          "old_text": "AddressCurrentlyConnected(pfrom->addr)",
          "new_text": null,
          "old_line_content": "            AddressCurrentlyConnected(pfrom->addr);",
          "new_line_content": "        // Ignore unknown commands for extensibility",
          "content_same": false
        },
        {
          "line": 2286,
          "old_api": "empty",
          "new_api": null,
          "old_text": "vRecv.empty()",
          "new_text": null,
          "old_line_content": "    if (vRecv.empty())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2303,
          "old_api": "END",
          "new_api": null,
          "old_text": "END(pchMessageStart)",
          "new_text": null,
          "old_line_content": "        CDataStream::iterator pstart = search(vRecv.begin(), vRecv.end(), BEGIN(pchMessageStart), END(pchMessageStart));",
          "new_line_content": "    //  (4) checksum",
          "content_same": false
        },
        {
          "line": 2304,
          "old_api": "CMessageHeader",
          "new_api": null,
          "old_text": "CMessageHeader()",
          "new_text": null,
          "old_line_content": "        int nHeaderSize = vRecv.GetSerializeSize(CMessageHeader());",
          "new_line_content": "    //  (x) data",
          "content_same": false
        },
        {
          "line": 2305,
          "old_api": "end",
          "new_api": null,
          "old_text": "vRecv.end()",
          "new_text": null,
          "old_line_content": "        if (vRecv.end() - pstart < nHeaderSize)",
          "new_line_content": "    //",
          "content_same": false
        },
        {
          "line": 2307,
          "old_api": "size",
          "new_api": null,
          "old_text": "vRecv.size()",
          "new_text": null,
          "old_line_content": "            if (vRecv.size() > nHeaderSize)",
          "new_line_content": "    loop",
          "content_same": false
        },
        {
          "line": 2309,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"\\n\\nPROCESSMESSAGE MESSAGESTART NOT FOUND\\n\\n\")",
          "new_text": null,
          "old_line_content": "                printf(\"\\n\\nPROCESSMESSAGE MESSAGESTART NOT FOUND\\n\\n\");",
          "new_line_content": "        // Scan for message start",
          "content_same": false
        },
        {
          "line": 2315,
          "old_api": "begin",
          "new_api": null,
          "old_text": "vRecv.begin()",
          "new_text": null,
          "old_line_content": "            printf(\"\\n\\nPROCESSMESSAGE SKIPPED %d BYTES\\n\\n\", pstart - vRecv.begin());",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 2319,
          "old_api": "begin",
          "new_api": null,
          "old_text": "vRecv.begin()",
          "new_text": null,
          "old_line_content": "        vector<char> vHeaderSave(vRecv.begin(), vRecv.begin() + nHeaderSize);",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 2324,
          "old_api": "GetCommand",
          "new_api": null,
          "old_text": "hdr.GetCommand().c_str()",
          "new_text": null,
          "old_line_content": "            printf(\"\\n\\nPROCESSMESSAGE: ERRORS IN HEADER %s\\n\\n\\n\", hdr.GetCommand().c_str());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2327,
          "old_api": "GetCommand",
          "new_api": null,
          "old_text": "hdr.GetCommand()",
          "new_text": null,
          "old_line_content": "        string strCommand = hdr.GetCommand();",
          "new_line_content": "        CMessageHeader hdr;",
          "content_same": false
        },
        {
          "line": 2333,
          "old_api": "c_str",
          "new_api": null,
          "old_text": "strCommand.c_str()",
          "new_text": null,
          "old_line_content": "            printf(\"ProcessMessage(%s, %u bytes) : nMessageSize > MAX_SIZE\\n\", strCommand.c_str(), nMessageSize);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2336,
          "old_api": "size",
          "new_api": null,
          "old_text": "vRecv.size()",
          "new_text": null,
          "old_line_content": "        if (nMessageSize > vRecv.size())",
          "new_line_content": "        // Message size",
          "content_same": false
        },
        {
          "line": 2339,
          "old_api": "end",
          "new_api": null,
          "old_text": "vHeaderSave.end()",
          "new_text": null,
          "old_line_content": "            vRecv.insert(vRecv.begin(), vHeaderSave.begin(), vHeaderSave.end());",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 2344,
          "old_api": "GetVersion",
          "new_api": null,
          "old_text": "vRecv.GetVersion()",
          "new_text": null,
          "old_line_content": "        if (vRecv.GetVersion() >= 209)",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 2348,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(&nChecksum, &hash, sizeof(nChecksum))",
          "new_text": null,
          "old_line_content": "            memcpy(&nChecksum, &hash, sizeof(nChecksum));",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2352,
          "old_api": "c_str",
          "new_api": null,
          "old_text": "strCommand.c_str()",
          "new_text": null,
          "old_line_content": "                       strCommand.c_str(), nMessageSize, nChecksum, hdr.nChecksum);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 2375,
          "old_api": "what",
          "new_api": null,
          "old_text": "e.what()",
          "new_text": null,
          "old_line_content": "                printf(\"ProcessMessage(%s, %u bytes) : Exception '%s' caught, normally caused by a message being shorter than its stated length\\n\", strCommand.c_str(), nMessageSize, e.what());",
          "new_line_content": "                return true;",
          "content_same": false
        },
        {
          "line": 2377,
          "old_api": "what",
          "new_api": null,
          "old_text": "e.what()",
          "new_text": null,
          "old_line_content": "            else if (strstr(e.what(), \"size too large\"))",
          "new_line_content": "        catch (std::ios_base::failure& e)",
          "content_same": false
        },
        {
          "line": 2380,
          "old_api": "what",
          "new_api": null,
          "old_text": "e.what()",
          "new_text": null,
          "old_line_content": "                printf(\"ProcessMessage(%s, %u bytes) : Exception '%s' caught\\n\", strCommand.c_str(), nMessageSize, e.what());",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 2388,
          "old_api": "PrintExceptionContinue",
          "new_api": null,
          "old_text": "PrintExceptionContinue(&e, \"ProcessMessage()\")",
          "new_text": null,
          "old_line_content": "            PrintExceptionContinue(&e, \"ProcessMessage()\");",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 2390,
          "old_api": "PrintExceptionContinue",
          "new_api": null,
          "old_text": "PrintExceptionContinue(NULL, \"ProcessMessage()\")",
          "new_text": null,
          "old_line_content": "            PrintExceptionContinue(NULL, \"ProcessMessage()\");",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 2394,
          "old_api": "c_str",
          "new_api": null,
          "old_text": "strCommand.c_str()",
          "new_text": null,
          "old_line_content": "            printf(\"ProcessMessage(%s, %u bytes) FAILED\\n\", strCommand.c_str(), nMessageSize);",
          "new_line_content": "        catch (std::exception& e) {",
          "content_same": false
        },
        {
          "line": 2411,
          "old_api": "empty",
          "new_api": null,
          "old_text": "pto->vSend.empty()",
          "new_text": null,
          "old_line_content": "        if (pto->nLastSend && GetTime() - pto->nLastSend > 30 * 60 && pto->vSend.empty())",
          "new_line_content": "    CRITICAL_BLOCK(cs_main)",
          "content_same": false
        },
        {
          "line": 2412,
          "old_api": "PushMessage",
          "new_api": null,
          "old_text": "pto->PushMessage(\"ping\")",
          "new_text": null,
          "old_line_content": "            pto->PushMessage(\"ping\");",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 2415,
          "old_api": "ResendWalletTransactions",
          "new_api": null,
          "old_text": "ResendWalletTransactions()",
          "new_text": null,
          "old_line_content": "        ResendWalletTransactions();",
          "new_line_content": "            return true;",
          "content_same": false
        },
        {
          "line": 2421,
          "old_api": "GetTime",
          "new_api": null,
          "old_text": "GetTime()",
          "new_text": null,
          "old_line_content": "            nLastRebroadcast = GetTime();",
          "new_line_content": "        // Resend wallet transactions that haven't gotten in a block yet",
          "content_same": false
        },
        {
          "line": 2427,
          "old_api": "clear",
          "new_api": null,
          "old_text": "pnode->setAddrKnown.clear()",
          "new_text": null,
          "old_line_content": "                    pnode->setAddrKnown.clear();",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 2430,
          "old_api": "IsRoutable",
          "new_api": null,
          "old_text": "addrLocalHost.IsRoutable()",
          "new_text": null,
          "old_line_content": "                    if (addrLocalHost.IsRoutable() && !fUseProxy)",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 2433,
          "old_api": "GetAdjustedTime",
          "new_api": null,
          "old_text": "GetAdjustedTime()",
          "new_text": null,
          "old_line_content": "                        addr.nTime = GetAdjustedTime();",
          "new_line_content": "                    // Periodically clear setAddrKnown to allow refresh broadcasts",
          "content_same": false
        },
        {
          "line": 2443,
          "old_api": "GetTime",
          "new_api": null,
          "old_text": "GetTime()",
          "new_text": null,
          "old_line_content": "            nLastClear = GetTime();",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 2444,
          "old_api": "size",
          "new_api": null,
          "old_text": "vNodes.size()",
          "new_text": null,
          "old_line_content": "        if (GetTime() - nLastClear > 10 * 60 && vNodes.size() >= 3)",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 2446,
          "old_api": "GetTime",
          "new_api": null,
          "old_text": "GetTime()",
          "new_text": null,
          "old_line_content": "            nLastClear = GetTime();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2452,
          "old_api": "end",
          "new_api": null,
          "old_text": "mapAddresses.end()",
          "new_text": null,
          "old_line_content": "                     mi != mapAddresses.end();)",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 2460,
          "old_api": "erase",
          "new_api": null,
          "old_text": "mapAddresses.erase(mi++)",
          "new_text": null,
          "old_line_content": "                        mapAddresses.erase(mi++);",
          "new_line_content": "                {",
          "content_same": false
        },
        {
          "line": 2475,
          "old_api": "size",
          "new_api": null,
          "old_text": "pto->vAddrToSend.size()",
          "new_text": null,
          "old_line_content": "            vAddr.reserve(pto->vAddrToSend.size());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2479,
          "old_api": "insert",
          "new_api": null,
          "old_text": "pto->setAddrKnown.insert(addr)",
          "new_text": null,
          "old_line_content": "                if (pto->setAddrKnown.insert(addr).second)",
          "new_line_content": "        if (fSendTrickle)",
          "content_same": false
        },
        {
          "line": 2481,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "vAddr.push_back(addr)",
          "new_text": null,
          "old_line_content": "                    vAddr.push_back(addr);",
          "new_line_content": "            vector<CAddress> vAddr;",
          "content_same": false
        },
        {
          "line": 2483,
          "old_api": "size",
          "new_api": null,
          "old_text": "vAddr.size()",
          "new_text": null,
          "old_line_content": "                    if (vAddr.size() >= 1000)",
          "new_line_content": "            BOOST_FOREACH(const CAddress& addr, pto->vAddrToSend)",
          "content_same": false
        },
        {
          "line": 2485,
          "old_api": "PushMessage",
          "new_api": null,
          "old_text": "pto->PushMessage(\"addr\", vAddr)",
          "new_text": null,
          "old_line_content": "                        pto->PushMessage(\"addr\", vAddr);",
          "new_line_content": "                // returns true if wasn't already contained in the set",
          "content_same": false
        },
        {
          "line": 2491,
          "old_api": "empty",
          "new_api": null,
          "old_text": "vAddr.empty()",
          "new_text": null,
          "old_line_content": "            if (!vAddr.empty())",
          "new_line_content": "                    {",
          "content_same": false
        },
        {
          "line": 2501,
          "old_api": "CRITICAL_BLOCK",
          "new_api": null,
          "old_text": "CRITICAL_BLOCK(pto->cs_inventory)",
          "new_text": null,
          "old_line_content": "        CRITICAL_BLOCK(pto->cs_inventory)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2503,
          "old_api": "size",
          "new_api": null,
          "old_text": "pto->vInventoryToSend.size()",
          "new_text": null,
          "old_line_content": "            vInv.reserve(pto->vInventoryToSend.size());",
          "new_line_content": "        //",
          "content_same": false
        },
        {
          "line": 2504,
          "old_api": "size",
          "new_api": null,
          "old_text": "pto->vInventoryToSend.size()",
          "new_text": null,
          "old_line_content": "            vInvWait.reserve(pto->vInventoryToSend.size());",
          "new_line_content": "        // Message: inventory",
          "content_same": false
        },
        {
          "line": 2507,
          "old_api": "count",
          "new_api": null,
          "old_text": "pto->setInventoryKnown.count(inv)",
          "new_text": null,
          "old_line_content": "                if (pto->setInventoryKnown.count(inv))",
          "new_line_content": "        vector<CInv> vInvWait;",
          "content_same": false
        },
        {
          "line": 2516,
          "old_api": "RAND_bytes",
          "new_api": null,
          "old_text": "RAND_bytes((unsigned char*)&hashSalt, sizeof(hashSalt))",
          "new_text": null,
          "old_line_content": "                        RAND_bytes((unsigned char*)&hashSalt, sizeof(hashSalt));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2518,
          "old_api": "END",
          "new_api": null,
          "old_text": "END(hashRand)",
          "new_text": null,
          "old_line_content": "                    hashRand = Hash(BEGIN(hashRand), END(hashRand));",
          "new_line_content": "                if (inv.type == MSG_TX && !fSendTrickle)",
          "content_same": false
        },
        {
          "line": 2538,
          "old_api": "insert",
          "new_api": null,
          "old_text": "pto->setInventoryKnown.insert(inv)",
          "new_text": null,
          "old_line_content": "                if (pto->setInventoryKnown.insert(inv).second)",
          "new_line_content": "                    {",
          "content_same": false
        },
        {
          "line": 2540,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "vInv.push_back(inv)",
          "new_text": null,
          "old_line_content": "                    vInv.push_back(inv);",
          "new_line_content": "                        continue;",
          "content_same": false
        },
        {
          "line": 2541,
          "old_api": "size",
          "new_api": null,
          "old_text": "vInv.size()",
          "new_text": null,
          "old_line_content": "                    if (vInv.size() >= 1000)",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 2543,
          "old_api": "PushMessage",
          "new_api": null,
          "old_text": "pto->PushMessage(\"inv\", vInv)",
          "new_text": null,
          "old_line_content": "                        pto->PushMessage(\"inv\", vInv);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2544,
          "old_api": "clear",
          "new_api": null,
          "old_text": "vInv.clear()",
          "new_text": null,
          "old_line_content": "                        vInv.clear();",
          "new_line_content": "                // returns true if wasn't already contained in the set",
          "content_same": false
        },
        {
          "line": 2560,
          "old_api": "begin",
          "new_api": null,
          "old_text": "pto->mapAskFor.begin()",
          "new_text": null,
          "old_line_content": "        while (!pto->mapAskFor.empty() && (*pto->mapAskFor.begin()).first <= nNow)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2562,
          "old_api": "begin",
          "new_api": null,
          "old_text": "pto->mapAskFor.begin()",
          "new_text": null,
          "old_line_content": "            const CInv& inv = (*pto->mapAskFor.begin()).second;",
          "new_line_content": "        // Message: getdata",
          "content_same": false
        },
        {
          "line": 2563,
          "old_api": "AlreadyHave",
          "new_api": null,
          "old_text": "AlreadyHave(txdb, inv)",
          "new_text": null,
          "old_line_content": "            if (!AlreadyHave(txdb, inv))",
          "new_line_content": "        //",
          "content_same": false
        },
        {
          "line": 2566,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "vGetData.push_back(inv)",
          "new_text": null,
          "old_line_content": "                vGetData.push_back(inv);",
          "new_line_content": "        CTxDB txdb(\"r\");",
          "content_same": false
        },
        {
          "line": 2606,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(pdata + len, 0, 64 * blocks - len)",
          "new_text": null,
          "old_line_content": "    memset(pdata + len, 0, 64 * blocks - len);",
          "new_line_content": "//",
          "content_same": false
        },
        {
          "line": 2623,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(pstate, pinit, 32)",
          "new_text": null,
          "old_line_content": "    memcpy(pstate, pinit, 32);",
          "new_line_content": "using CryptoPP::ByteReverse;",
          "content_same": false
        },
        {
          "line": 2624,
          "old_api": "CryptoPP::SHA256::Transform((CryptoPP::word32*)pstate, (CryptoPP::word32*)pinput)",
          "new_api": null,
          "old_text": "CryptoPP::SHA256::Transform((CryptoPP::word32*)pstate, (CryptoPP::word32*)pinput)",
          "new_text": null,
          "old_line_content": "    CryptoPP::SHA256::Transform((CryptoPP::word32*)pstate, (CryptoPP::word32*)pinput);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2643,
          "old_api": "SHA256Transform",
          "new_api": null,
          "old_text": "SHA256Transform(phash1, pdata, pmidstate)",
          "new_text": null,
          "old_line_content": "        SHA256Transform(phash1, pdata, pmidstate);",
          "new_line_content": "    unsigned int& nNonce = *(unsigned int*)(pdata + 12);",
          "content_same": false
        },
        {
          "line": 2644,
          "old_api": "SHA256Transform",
          "new_api": null,
          "old_text": "SHA256Transform(phash, phash1, pSHA256InitState)",
          "new_text": null,
          "old_line_content": "        SHA256Transform(phash, phash1, pSHA256InitState);",
          "new_line_content": "    for (;;)",
          "content_same": false
        },
        {
          "line": 2676,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "ptx->GetHash().ToString().substr(0,10).c_str()",
          "new_text": null,
          "old_line_content": "        printf(\"COrphan(hash=%s, dPriority=%.1f)\\n\", ptx->GetHash().ToString().substr(0,10).c_str(), dPriority);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 2678,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "hash.ToString().substr(0,10).c_str()",
          "new_text": null,
          "old_line_content": "            printf(\"   setDependsOn %s\\n\", hash.ToString().substr(0,10).c_str());",
          "new_line_content": "        dPriority = 0;",
          "content_same": false
        },
        {
          "line": 2689,
          "old_api": "get",
          "new_api": null,
          "old_text": "pblock.get()",
          "new_text": null,
          "old_line_content": "    if (!pblock.get())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2694,
          "old_api": "resize",
          "new_api": null,
          "old_text": "txNew.vin.resize(1)",
          "new_text": null,
          "old_line_content": "    txNew.vin.resize(1);",
          "new_line_content": "    // Create new block",
          "content_same": false
        },
        {
          "line": 2695,
          "old_api": "SetNull",
          "new_api": null,
          "old_text": "txNew.vin[0].prevout.SetNull()",
          "new_text": null,
          "old_line_content": "    txNew.vin[0].prevout.SetNull();",
          "new_line_content": "    auto_ptr<CBlock> pblock(new CBlock());",
          "content_same": false
        },
        {
          "line": 2697,
          "old_api": "GetReservedKey",
          "new_api": null,
          "old_text": "reservekey.GetReservedKey()",
          "new_text": null,
          "old_line_content": "    txNew.vout[0].scriptPubKey << reservekey.GetReservedKey() << OP_CHECKSIG;",
          "new_line_content": "        return NULL;",
          "content_same": false
        },
        {
          "line": 2700,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "pblock->vtx.push_back(txNew)",
          "new_text": null,
          "old_line_content": "    pblock->vtx.push_back(txNew);",
          "new_line_content": "    CTransaction txNew;",
          "content_same": false
        },
        {
          "line": 2713,
          "old_api": "end",
          "new_api": null,
          "old_text": "mapTransactions.end()",
          "new_text": null,
          "old_line_content": "        for (map<uint256, CTransaction>::iterator mi = mapTransactions.begin(); mi != mapTransactions.end(); ++mi)",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 2716,
          "old_api": "IsFinal",
          "new_api": null,
          "old_text": "tx.IsFinal()",
          "new_text": null,
          "old_line_content": "            if (tx.IsCoinBase() || !tx.IsFinal())",
          "new_line_content": "        // Priority order to process transactions",
          "content_same": false
        },
        {
          "line": 2726,
          "old_api": "ReadFromDisk",
          "new_api": null,
          "old_text": "txPrev.ReadFromDisk(txdb, txin.prevout, txindex)",
          "new_text": null,
          "old_line_content": "                if (!txPrev.ReadFromDisk(txdb, txin.prevout, txindex))",
          "new_line_content": "            COrphan* porphan = NULL;",
          "content_same": false
        },
        {
          "line": 2732,
          "old_api": "COrphan",
          "new_api": null,
          "old_text": "COrphan(&tx)",
          "new_text": null,
          "old_line_content": "                        vOrphan.push_back(COrphan(&tx));",
          "new_line_content": "                CTxIndex txindex;",
          "content_same": false
        },
        {
          "line": 2735,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "mapDependers[txin.prevout.hash].push_back(porphan)",
          "new_text": null,
          "old_line_content": "                    mapDependers[txin.prevout.hash].push_back(porphan);",
          "new_line_content": "                    // Has to wait for dependencies",
          "content_same": false
        },
        {
          "line": 2736,
          "old_api": "insert",
          "new_api": null,
          "old_text": "porphan->setDependsOn.insert(txin.prevout.hash)",
          "new_text": null,
          "old_line_content": "                    porphan->setDependsOn.insert(txin.prevout.hash);",
          "new_line_content": "                    if (!porphan)",
          "content_same": false
        },
        {
          "line": 2746,
          "old_api": "GetBoolArg",
          "new_api": null,
          "old_text": "GetBoolArg(\"-printpriority\")",
          "new_text": null,
          "old_line_content": "                if (fDebug && GetBoolArg(\"-printpriority\"))",
          "new_line_content": "                int64 nValueIn = txPrev.vout[txin.prevout.n].nValue;",
          "content_same": false
        },
        {
          "line": 2747,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"priority     nValueIn=%-12I64d nConf=%-5d dPriority=%-20.1f\\n\", nValueIn, nConf, dPriority)",
          "new_text": null,
          "old_line_content": "                    printf(\"priority     nValueIn=%-12I64d nConf=%-5d dPriority=%-20.1f\\n\", nValueIn, nConf, dPriority);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2751,
          "old_api": "::GetSerializeSize(tx, SER_NETWORK)",
          "new_api": null,
          "old_text": "::GetSerializeSize(tx, SER_NETWORK)",
          "new_text": null,
          "old_line_content": "            dPriority /= ::GetSerializeSize(tx, SER_NETWORK);",
          "new_line_content": "                dPriority += (double)nValueIn * nConf;",
          "content_same": false
        },
        {
          "line": 2756,
          "old_api": "make_pair",
          "new_api": null,
          "old_text": "make_pair(-dPriority, &(*mi).second)",
          "new_text": null,
          "old_line_content": "                mapPriority.insert(make_pair(-dPriority, &(*mi).second));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2760,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "tx.ToString().c_str()",
          "new_text": null,
          "old_line_content": "                printf(\"priority %-20.1f %s\\n%s\", dPriority, tx.GetHash().ToString().substr(0,10).c_str(), tx.ToString().c_str());",
          "new_line_content": "            if (porphan)",
          "content_same": false
        },
        {
          "line": 2762,
          "old_api": "print",
          "new_api": null,
          "old_text": "porphan->print()",
          "new_text": null,
          "old_line_content": "                    porphan->print();",
          "new_line_content": "            else",
          "content_same": false
        },
        {
          "line": 2771,
          "old_api": "empty",
          "new_api": null,
          "old_text": "mapPriority.empty()",
          "new_text": null,
          "old_line_content": "        while (!mapPriority.empty())",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 2774,
          "old_api": "begin",
          "new_api": null,
          "old_text": "mapPriority.begin()",
          "new_text": null,
          "old_line_content": "            double dPriority = -(*mapPriority.begin()).first;",
          "new_line_content": "        // Collect transactions into block",
          "content_same": false
        },
        {
          "line": 2775,
          "old_api": "begin",
          "new_api": null,
          "old_text": "mapPriority.begin()",
          "new_text": null,
          "old_line_content": "            CTransaction& tx = *(*mapPriority.begin()).second;",
          "new_line_content": "        map<uint256, CTxIndex> mapTestPool;",
          "content_same": false
        },
        {
          "line": 2776,
          "old_api": "begin",
          "new_api": null,
          "old_text": "mapPriority.begin()",
          "new_text": null,
          "old_line_content": "            mapPriority.erase(mapPriority.begin());",
          "new_line_content": "        uint64 nBlockSize = 1000;",
          "content_same": false
        },
        {
          "line": 2779,
          "old_api": "::GetSerializeSize(tx, SER_NETWORK)",
          "new_api": null,
          "old_text": "::GetSerializeSize(tx, SER_NETWORK)",
          "new_text": null,
          "old_line_content": "            unsigned int nTxSize = ::GetSerializeSize(tx, SER_NETWORK);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 2787,
          "old_api": "CTransaction::AllowFree(dPriority)",
          "new_api": null,
          "old_text": "CTransaction::AllowFree(dPriority)",
          "new_text": null,
          "old_line_content": "            bool fAllowFree = (nBlockSize + nTxSize < 4000 || CTransaction::AllowFree(dPriority));",
          "new_line_content": "            if (nBlockSize + nTxSize >= MAX_BLOCK_SIZE_GEN)",
          "content_same": false
        },
        {
          "line": 2788,
          "old_api": "GetMinFee",
          "new_api": null,
          "old_text": "tx.GetMinFee(nBlockSize, fAllowFree, true)",
          "new_text": null,
          "old_line_content": "            int64 nMinFee = tx.GetMinFee(nBlockSize, fAllowFree, true);",
          "new_line_content": "                continue;",
          "content_same": false
        },
        {
          "line": 2793,
          "old_api": "CDiskTxPos",
          "new_api": null,
          "old_text": "CDiskTxPos(1,1,1)",
          "new_text": null,
          "old_line_content": "            if (!tx.ConnectInputs(txdb, mapTestPoolTmp, CDiskTxPos(1,1,1), pindexPrev, nFees, false, true, nMinFee))",
          "new_line_content": "            // Transaction fee required depends on block size",
          "content_same": false
        },
        {
          "line": 2798,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "pblock->vtx.push_back(tx)",
          "new_text": null,
          "old_line_content": "            pblock->vtx.push_back(tx);",
          "new_line_content": "            // because we're already processing them in order of dependency",
          "content_same": false
        },
        {
          "line": 2803,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "tx.GetHash()",
          "new_text": null,
          "old_line_content": "            uint256 hash = tx.GetHash();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2804,
          "old_api": "count",
          "new_api": null,
          "old_text": "mapDependers.count(hash)",
          "new_text": null,
          "old_line_content": "            if (mapDependers.count(hash))",
          "new_line_content": "            // Added",
          "content_same": false
        },
        {
          "line": 2808,
          "old_api": "empty",
          "new_api": null,
          "old_text": "porphan->setDependsOn.empty()",
          "new_text": null,
          "old_line_content": "                    if (!porphan->setDependsOn.empty())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2812,
          "old_api": "make_pair",
          "new_api": null,
          "old_text": "make_pair(-porphan->dPriority, porphan->ptx)",
          "new_text": null,
          "old_line_content": "                            mapPriority.insert(make_pair(-porphan->dPriority, porphan->ptx));",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 2821,
          "old_api": "GetBlockHash",
          "new_api": null,
          "old_text": "pindexPrev->GetBlockHash()",
          "new_text": null,
          "old_line_content": "    pblock->hashPrevBlock  = pindexPrev->GetBlockHash();",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 2822,
          "old_api": "BuildMerkleTree",
          "new_api": null,
          "old_text": "pblock->BuildMerkleTree()",
          "new_text": null,
          "old_line_content": "    pblock->hashMerkleRoot = pblock->BuildMerkleTree();",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 2823,
          "old_api": "GetAdjustedTime",
          "new_api": null,
          "old_text": "GetAdjustedTime()",
          "new_text": null,
          "old_line_content": "    pblock->nTime          = max(pindexPrev->GetMedianTimePast()+1, GetAdjustedTime());",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2824,
          "old_api": "GetNextWorkRequired",
          "new_api": null,
          "old_text": "GetNextWorkRequired(pindexPrev)",
          "new_text": null,
          "old_line_content": "    pblock->nBits          = GetNextWorkRequired(pindexPrev);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2827,
          "old_api": "release",
          "new_api": null,
          "old_text": "pblock.release()",
          "new_text": null,
          "old_line_content": "    return pblock.release();",
          "new_line_content": "    // Fill in header",
          "content_same": false
        },
        {
          "line": 2841,
          "old_api": "CBigNum",
          "new_api": null,
          "old_text": "CBigNum(nExtraNonce)",
          "new_text": null,
          "old_line_content": "    pblock->vtx[0].vin[0].scriptSig = CScript() << pblock->nTime << CBigNum(nExtraNonce);",
          "new_line_content": "    static uint256 hashPrevBlock;",
          "content_same": false
        },
        {
          "line": 2842,
          "old_api": "BuildMerkleTree",
          "new_api": null,
          "old_text": "pblock->BuildMerkleTree()",
          "new_text": null,
          "old_line_content": "    pblock->hashMerkleRoot = pblock->BuildMerkleTree();",
          "new_line_content": "    if (hashPrevBlock != pblock->hashPrevBlock)",
          "content_same": false
        },
        {
          "line": 813,
          "old_api": "IsCoinBase",
          "new_api": null,
          "old_text": "IsCoinBase()",
          "new_text": null,
          "old_line_content": "    if (!IsCoinBase())",
          "new_line_content": "    // fBlock is true when this is called from AcceptBlock when a new best-block is added to the blockchain",
          "content_same": false
        },
        {
          "line": 2868,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(&tmp, 0, sizeof(tmp))",
          "new_text": null,
          "old_line_content": "    memset(&tmp, 0, sizeof(tmp));",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 823,
          "old_api": "count",
          "new_api": null,
          "old_text": "mapTestPool.count(prevout.hash)",
          "new_text": null,
          "old_line_content": "            if ((fBlock || fMiner) && mapTestPool.count(prevout.hash))",
          "new_line_content": "            // Read txindex",
          "content_same": false
        },
        {
          "line": 2877,
          "old_api": "FormatHashBlocks",
          "new_api": null,
          "old_text": "FormatHashBlocks(&tmp.block, sizeof(tmp.block))",
          "new_text": null,
          "old_line_content": "    FormatHashBlocks(&tmp.block, sizeof(tmp.block));",
          "new_line_content": "    tmp.block.nVersion       = pblock->nVersion;",
          "content_same": false
        },
        {
          "line": 2878,
          "old_api": "FormatHashBlocks",
          "new_api": null,
          "old_text": "FormatHashBlocks(&tmp.hash1, sizeof(tmp.hash1))",
          "new_text": null,
          "old_line_content": "    FormatHashBlocks(&tmp.hash1, sizeof(tmp.hash1));",
          "new_line_content": "    tmp.block.hashPrevBlock  = pblock->hashPrevBlock;",
          "content_same": false
        },
        {
          "line": 831,
          "old_api": "ReadTxIndex",
          "new_api": null,
          "old_text": "txdb.ReadTxIndex(prevout.hash, txindex)",
          "new_text": null,
          "old_line_content": "                fFound = txdb.ReadTxIndex(prevout.hash, txindex);",
          "new_line_content": "            else",
          "content_same": false
        },
        {
          "line": 2882,
          "old_api": "ByteReverse",
          "new_api": null,
          "old_text": "ByteReverse(((unsigned int*)&tmp)[i])",
          "new_text": null,
          "old_line_content": "        ((unsigned int*)&tmp)[i] = ByteReverse(((unsigned int*)&tmp)[i]);",
          "new_line_content": "    tmp.block.nNonce         = pblock->nNonce;",
          "content_same": false
        },
        {
          "line": 838,
          "old_api": "CDiskTxPos",
          "new_api": null,
          "old_text": "CDiskTxPos(1,1,1)",
          "new_text": null,
          "old_line_content": "            if (!fFound || txindex.pos == CDiskTxPos(1,1,1))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2887,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(pdata, &tmp.block, 128)",
          "new_text": null,
          "old_line_content": "    memcpy(pdata, &tmp.block, 128);",
          "new_line_content": "    // Byte swap all the input buffer",
          "content_same": false
        },
        {
          "line": 2888,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(phash1, &tmp.hash1, 64)",
          "new_text": null,
          "old_line_content": "    memcpy(phash1, &tmp.hash1, 64);",
          "new_line_content": "    for (int i = 0; i < sizeof(tmp)/4; i++)",
          "content_same": false
        },
        {
          "line": 843,
          "old_api": "count",
          "new_api": null,
          "old_text": "mapTransactions.count(prevout.hash)",
          "new_text": null,
          "old_line_content": "                    if (!mapTransactions.count(prevout.hash))",
          "new_line_content": "                // Get prev tx from single transactions in memory",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "prevout.hash.ToString().substr(0,10).c_str()",
          "new_text": null,
          "old_line_content": "                        return error(\"ConnectInputs() : %s mapTransactions prev not found %s\", GetHash().ToString().substr(0,10).c_str(),  prevout.hash.ToString().substr(0,10).c_str());",
          "new_line_content": "                CRITICAL_BLOCK(cs_mapTransactions)",
          "content_same": false
        },
        {
          "line": 848,
          "old_api": "size",
          "new_api": null,
          "old_text": "txPrev.vout.size()",
          "new_text": null,
          "old_line_content": "                    txindex.vSpent.resize(txPrev.vout.size());",
          "new_line_content": "                    txPrev = mapTransactions[prevout.hash];",
          "content_same": false
        },
        {
          "line": 853,
          "old_api": "ReadFromDisk",
          "new_api": null,
          "old_text": "txPrev.ReadFromDisk(txindex.pos)",
          "new_text": null,
          "old_line_content": "                if (!txPrev.ReadFromDisk(txindex.pos))",
          "new_line_content": "            else",
          "content_same": false
        },
        {
          "line": 854,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "prevout.hash.ToString().substr(0,10).c_str()",
          "new_text": null,
          "old_line_content": "                    return error(\"ConnectInputs() : %s ReadFromDisk prev tx %s failed\", GetHash().ToString().substr(0,10).c_str(),  prevout.hash.ToString().substr(0,10).c_str());",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 2903,
          "old_api": "print",
          "new_api": null,
          "old_text": "pblock->print()",
          "new_text": null,
          "old_line_content": "    pblock->print();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2904,
          "old_api": "GetTime",
          "new_api": null,
          "old_text": "GetTime()",
          "new_text": null,
          "old_line_content": "    printf(\"%s \", DateTimeStrFormat(\"%x %H:%M\", GetTime()).c_str());",
          "new_line_content": "    if (hash > hashTarget)",
          "content_same": false
        },
        {
          "line": 2905,
          "old_api": "c_str",
          "new_api": null,
          "old_text": "FormatMoney(pblock->vtx[0].vout[0].nValue).c_str()",
          "new_text": null,
          "old_line_content": "    printf(\"generated %s\\n\", FormatMoney(pblock->vtx[0].vout[0].nValue).c_str());",
          "new_line_content": "        return false;",
          "content_same": false
        },
        {
          "line": 858,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "txPrev.ToString().c_str()",
          "new_text": null,
          "old_line_content": "                return DoS(100, error(\"ConnectInputs() : %s prevout.n out of range %d %d %d prev tx %s\\n%s\", GetHash().ToString().substr(0,10).c_str(), prevout.n, txPrev.vout.size(), txindex.vSpent.size(), prevout.hash.ToString().substr(0,10).c_str(), txPrev.ToString().c_str()));",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 2914,
          "old_api": "KeepKey",
          "new_api": null,
          "old_text": "reservekey.KeepKey()",
          "new_text": null,
          "old_line_content": "        reservekey.KeepKey();",
          "new_line_content": "    // Found a solution",
          "content_same": false
        },
        {
          "line": 868,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "GetHash().ToString().substr(0,10).c_str()",
          "new_text": null,
          "old_line_content": "                return DoS(100,error(\"ConnectInputs() : %s VerifySignature failed\", GetHash().ToString().substr(0,10).c_str()));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2917,
          "old_api": "CRITICAL_BLOCK",
          "new_api": null,
          "old_text": "CRITICAL_BLOCK(wallet.cs_wallet)",
          "new_text": null,
          "old_line_content": "        CRITICAL_BLOCK(wallet.cs_wallet)",
          "new_line_content": "        if (pblock->hashPrevBlock != hashBestChain)",
          "content_same": false
        },
        {
          "line": 873,
          "old_api": "IsNull",
          "new_api": null,
          "old_text": "txindex.vSpent[prevout.n].IsNull()",
          "new_text": null,
          "old_line_content": "            if (!txindex.vSpent[prevout.n].IsNull())",
          "new_line_content": "                // Verify signature",
          "content_same": false
        },
        {
          "line": 2922,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"BitcoinMiner : ProcessBlock, block not accepted\")",
          "new_text": null,
          "old_line_content": "            return error(\"BitcoinMiner : ProcessBlock, block not accepted\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 878,
          "old_api": "MoneyRange",
          "new_api": null,
          "old_text": "MoneyRange(nValueIn)",
          "new_text": null,
          "old_line_content": "            if (!MoneyRange(txPrev.vout[prevout.n].nValue) || !MoneyRange(nValueIn))",
          "new_line_content": "            // This doesn't trigger the DoS code on purpose; if it did, it would make it easier",
          "content_same": false
        },
        {
          "line": 879,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"ConnectInputs() : txin values out of range\")",
          "new_text": null,
          "old_line_content": "                return DoS(100, error(\"ConnectInputs() : txin values out of range\"));",
          "new_line_content": "            // for an attacker to attempt to split the network.",
          "content_same": false
        },
        {
          "line": 2933,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"BitcoinMiner started\\n\")",
          "new_text": null,
          "old_line_content": "    printf(\"BitcoinMiner started\\n\");",
          "new_line_content": "    return true;",
          "content_same": false
        },
        {
          "line": 2934,
          "old_api": "SetThreadPriority",
          "new_api": null,
          "old_text": "SetThreadPriority(THREAD_PRIORITY_LOWEST)",
          "new_text": null,
          "old_line_content": "    SetThreadPriority(THREAD_PRIORITY_LOWEST);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 891,
          "old_api": "GetValueOut",
          "new_api": null,
          "old_text": "GetValueOut()",
          "new_text": null,
          "old_line_content": "        if (nValueIn < GetValueOut())",
          "new_line_content": "            // Write back",
          "content_same": false
        },
        {
          "line": 892,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "GetHash().ToString().substr(0,10).c_str()",
          "new_text": null,
          "old_line_content": "            return DoS(100, error(\"ConnectInputs() : %s value in < value out\", GetHash().ToString().substr(0,10).c_str()));",
          "new_line_content": "            if (fBlock || fMiner)",
          "content_same": false
        },
        {
          "line": 2942,
          "old_api": "AffinityBugWorkaround",
          "new_api": null,
          "old_text": "AffinityBugWorkaround(ThreadBitcoinMiner)",
          "new_text": null,
          "old_line_content": "        if (AffinityBugWorkaround(ThreadBitcoinMiner))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 895,
          "old_api": "GetValueOut",
          "new_api": null,
          "old_text": "GetValueOut()",
          "new_text": null,
          "old_line_content": "        int64 nTxFee = nValueIn - GetValueOut();",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 897,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "GetHash().ToString().substr(0,10).c_str()",
          "new_text": null,
          "old_line_content": "            return DoS(100, error(\"ConnectInputs() : %s nTxFee < 0\", GetHash().ToString().substr(0,10).c_str()));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2946,
          "old_api": "IsInitialBlockDownload",
          "new_api": null,
          "old_text": "IsInitialBlockDownload()",
          "new_text": null,
          "old_line_content": "        while (vNodes.empty() || IsInitialBlockDownload())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2948,
          "old_api": "Sleep",
          "new_api": null,
          "old_text": "Sleep(1000)",
          "new_text": null,
          "old_line_content": "            Sleep(1000);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 901,
          "old_api": "MoneyRange",
          "new_api": null,
          "old_text": "MoneyRange(nFees)",
          "new_text": null,
          "old_line_content": "        if (!MoneyRange(nFees))",
          "new_line_content": "        // Tally transaction fees",
          "content_same": false
        },
        {
          "line": 913,
          "old_api": "size",
          "new_api": null,
          "old_text": "vout.size()",
          "new_text": null,
          "old_line_content": "        mapTestPool[GetHash()] = CTxIndex(CDiskTxPos(1,1,1), vout.size());",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 2963,
          "old_api": "get",
          "new_api": null,
          "old_text": "pblock.get()",
          "new_text": null,
          "old_line_content": "        if (!pblock.get())",
          "new_line_content": "        //",
          "content_same": false
        },
        {
          "line": 2965,
          "old_api": "get",
          "new_api": null,
          "old_text": "pblock.get()",
          "new_text": null,
          "old_line_content": "        IncrementExtraNonce(pblock.get(), pindexPrev, nExtraNonce);",
          "new_line_content": "        //",
          "content_same": false
        },
        {
          "line": 2967,
          "old_api": "size",
          "new_api": null,
          "old_text": "pblock->vtx.size()",
          "new_text": null,
          "old_line_content": "        printf(\"Running BitcoinMiner with %d transactions in block\\n\", pblock->vtx.size());",
          "new_line_content": "        CBlockIndex* pindexPrev = pindexBest;",
          "content_same": false
        },
        {
          "line": 922,
          "old_api": "IsCoinBase",
          "new_api": null,
          "old_text": "IsCoinBase()",
          "new_text": null,
          "old_line_content": "    if (IsCoinBase())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2973,
          "old_api": "alignup<16>(pmidstatebuf)",
          "new_api": null,
          "old_text": "alignup<16>(pmidstatebuf)",
          "new_text": null,
          "old_line_content": "        char pmidstatebuf[32+16]; char* pmidstate = alignup<16>(pmidstatebuf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2975,
          "old_api": "alignup<16>(phash1buf)",
          "new_api": null,
          "old_text": "alignup<16>(phash1buf)",
          "new_text": null,
          "old_line_content": "        char phash1buf[64+16];    char* phash1    = alignup<16>(phash1buf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2977,
          "old_api": "get",
          "new_api": null,
          "old_text": "pblock.get()",
          "new_text": null,
          "old_line_content": "        FormatHashBuffers(pblock.get(), pmidstate, pdata, phash1);",
          "new_line_content": "        //",
          "content_same": false
        },
        {
          "line": 933,
          "old_api": "count",
          "new_api": null,
          "old_text": "mapTransactions.count(prevout.hash)",
          "new_text": null,
          "old_line_content": "            if (!mapTransactions.count(prevout.hash))",
          "new_line_content": "    CRITICAL_BLOCK(cs_mapTransactions)",
          "content_same": false
        },
        {
          "line": 937,
          "old_api": "size",
          "new_api": null,
          "old_text": "txPrev.vout.size()",
          "new_text": null,
          "old_line_content": "            if (prevout.n >= txPrev.vout.size())",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 2986,
          "old_api": "GetTime",
          "new_api": null,
          "old_text": "GetTime()",
          "new_text": null,
          "old_line_content": "        int64 nStart = GetTime();",
          "new_line_content": "        unsigned int& nBlockTime = *(unsigned int*)(pdata + 64 + 4);",
          "content_same": false
        },
        {
          "line": 2987,
          "old_api": "SetCompact",
          "new_api": null,
          "old_text": "CBigNum().SetCompact(pblock->nBits).getuint256()",
          "new_text": null,
          "old_line_content": "        uint256 hashTarget = CBigNum().SetCompact(pblock->nBits).getuint256();",
          "new_line_content": "        unsigned int& nBlockNonce = *(unsigned int*)(pdata + 64 + 12);",
          "content_same": false
        },
        {
          "line": 941,
          "old_api": "VerifySignature",
          "new_api": null,
          "old_text": "VerifySignature(txPrev, *this, i)",
          "new_text": null,
          "old_line_content": "            if (!VerifySignature(txPrev, *this, i))",
          "new_line_content": "                return false;",
          "content_same": false
        },
        {
          "line": 942,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"ConnectInputs() : VerifySignature failed\")",
          "new_text": null,
          "old_line_content": "                return error(\"ConnectInputs() : VerifySignature failed\");",
          "new_line_content": "            CTransaction& txPrev = mapTransactions[prevout.hash];",
          "content_same": false
        },
        {
          "line": 2989,
          "old_api": "alignup<16>(hashbuf)",
          "new_api": null,
          "old_text": "alignup<16>(hashbuf)",
          "new_text": null,
          "old_line_content": "        uint256& hash = *alignup<16>(hashbuf);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 955,
          "old_api": "MoneyRange",
          "new_api": null,
          "old_text": "MoneyRange(nValueIn)",
          "new_text": null,
          "old_line_content": "            if (!MoneyRange(txPrev.vout[prevout.n].nValue) || !MoneyRange(nValueIn))",
          "new_line_content": "            //     return error(\"ConnectInputs() : prev tx already used\");",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"ClientConnectInputs() : txin values out of range\")",
          "new_text": null,
          "old_line_content": "                return error(\"ClientConnectInputs() : txin values out of range\");",
          "new_line_content": "            //",
          "content_same": false
        },
        {
          "line": 958,
          "old_api": "GetValueOut",
          "new_api": null,
          "old_text": "GetValueOut()",
          "new_text": null,
          "old_line_content": "        if (GetValueOut() > nValueIn)",
          "new_line_content": "            // txPrev.vout[prevout.n].posNext = posThisTx;",
          "content_same": false
        },
        {
          "line": 3008,
          "old_api": "ByteReverse",
          "new_api": null,
          "old_text": "ByteReverse(nNonceFound)",
          "new_text": null,
          "old_line_content": "                    pblock->nNonce = ByteReverse(nNonceFound);",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 3009,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "pblock->GetHash()",
          "new_text": null,
          "old_line_content": "                    assert(hash == pblock->GetHash());",
          "new_line_content": "                for (int i = 0; i < sizeof(hash)/4; i++)",
          "content_same": false
        },
        {
          "line": 3011,
          "old_api": "SetThreadPriority",
          "new_api": null,
          "old_text": "SetThreadPriority(THREAD_PRIORITY_NORMAL)",
          "new_text": null,
          "old_line_content": "                    SetThreadPriority(THREAD_PRIORITY_NORMAL);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3012,
          "old_api": "get",
          "new_api": null,
          "old_text": "pblock.get()",
          "new_text": null,
          "old_line_content": "                    CheckWork(pblock.get(), *pwalletMain, reservekey);",
          "new_line_content": "                if (hash <= hashTarget)",
          "content_same": false
        },
        {
          "line": 3013,
          "old_api": "SetThreadPriority",
          "new_api": null,
          "old_text": "SetThreadPriority(THREAD_PRIORITY_LOWEST)",
          "new_text": null,
          "old_line_content": "                    SetThreadPriority(THREAD_PRIORITY_LOWEST);",
          "new_line_content": "                {",
          "content_same": false
        },
        {
          "line": 971,
          "old_api": "size",
          "new_api": null,
          "old_text": "vtx.size()",
          "new_text": null,
          "old_line_content": "    for (int i = vtx.size()-1; i >= 0; i--)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 972,
          "old_api": "DisconnectInputs",
          "new_api": null,
          "old_text": "vtx[i].DisconnectInputs(txdb)",
          "new_text": null,
          "old_line_content": "        if (!vtx[i].DisconnectInputs(txdb))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3022,
          "old_api": "GetTimeMillis",
          "new_api": null,
          "old_text": "GetTimeMillis()",
          "new_text": null,
          "old_line_content": "                nHPSTimerStart = GetTimeMillis();",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 3027,
          "old_api": "GetTimeMillis",
          "new_api": null,
          "old_text": "GetTimeMillis()",
          "new_text": null,
          "old_line_content": "            if (GetTimeMillis() - nHPSTimerStart > 4000)",
          "new_line_content": "            if (nHPSTimerStart == 0)",
          "content_same": false
        },
        {
          "line": 981,
          "old_api": "WriteBlockIndex",
          "new_api": null,
          "old_text": "txdb.WriteBlockIndex(blockindexPrev)",
          "new_text": null,
          "old_line_content": "        if (!txdb.WriteBlockIndex(blockindexPrev))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 982,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"DisconnectBlock() : WriteBlockIndex failed\")",
          "new_text": null,
          "old_line_content": "            return error(\"DisconnectBlock() : WriteBlockIndex failed\");",
          "new_line_content": "    // Update block index on disk without changing it in memory.",
          "content_same": false
        },
        {
          "line": 3032,
          "old_api": "GetTimeMillis",
          "new_api": null,
          "old_text": "GetTimeMillis()",
          "new_text": null,
          "old_line_content": "                    if (GetTimeMillis() - nHPSTimerStart > 4000)",
          "new_line_content": "            else",
          "content_same": false
        },
        {
          "line": 3035,
          "old_api": "GetTimeMillis",
          "new_api": null,
          "old_text": "GetTimeMillis()",
          "new_text": null,
          "old_line_content": "                        nHPSTimerStart = GetTimeMillis();",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 3037,
          "old_api": "strprintf",
          "new_api": null,
          "old_text": "strprintf(\"    %.0f khash/s\", dHashesPerSec/1000.0)",
          "new_text": null,
          "old_line_content": "                        string strStatus = strprintf(\"    %.0f khash/s\", dHashesPerSec/1000.0);",
          "new_line_content": "                CRITICAL_BLOCK(cs)",
          "content_same": false
        },
        {
          "line": 3038,
          "old_api": "boost::bind(CalledSetStatusBar, strStatus, 0)",
          "new_api": null,
          "old_text": "boost::bind(CalledSetStatusBar, strStatus, 0)",
          "new_text": null,
          "old_line_content": "                        UIThreadCall(boost::bind(CalledSetStatusBar, strStatus, 0));",
          "new_line_content": "                {",
          "content_same": false
        },
        {
          "line": 991,
          "old_api": "CheckBlock",
          "new_api": null,
          "old_text": "CheckBlock()",
          "new_text": null,
          "old_line_content": "    if (!CheckBlock())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3040,
          "old_api": "GetTime",
          "new_api": null,
          "old_text": "GetTime()",
          "new_text": null,
          "old_line_content": "                        if (GetTime() - nLogTime > 30 * 60)",
          "new_line_content": "                    {",
          "content_same": false
        },
        {
          "line": 995,
          "old_api": "size",
          "new_api": null,
          "old_text": "vtx.size()",
          "new_text": null,
          "old_line_content": "    unsigned int nTxPos = pindex->nBlockPos + ::GetSerializeSize(CBlock(), SER_DISK) - 1 + GetSizeOfCompactSize(vtx.size());",
          "new_line_content": "bool CBlock::ConnectBlock(CTxDB& txdb, CBlockIndex* pindex)",
          "content_same": false
        },
        {
          "line": 3043,
          "old_api": "GetTime",
          "new_api": null,
          "old_text": "GetTime()",
          "new_text": null,
          "old_line_content": "                            printf(\"%s \", DateTimeStrFormat(\"%x %H:%M\", GetTime()).c_str());",
          "new_line_content": "                        nHashCounter = 0;",
          "content_same": false
        },
        {
          "line": 1004,
          "old_api": "ConnectInputs",
          "new_api": null,
          "old_text": "tx.ConnectInputs(txdb, mapQueuedChanges, posThisTx, pindex, nFees, true, false)",
          "new_text": null,
          "old_line_content": "        if (!tx.ConnectInputs(txdb, mapQueuedChanges, posThisTx, pindex, nFees, true, false))",
          "new_line_content": "    map<uint256, CTxIndex> mapQueuedChanges;",
          "content_same": false
        },
        {
          "line": 1008,
          "old_api": "end",
          "new_api": null,
          "old_text": "mapQueuedChanges.end()",
          "new_text": null,
          "old_line_content": "    for (map<uint256, CTxIndex>::iterator mi = mapQueuedChanges.begin(); mi != mapQueuedChanges.end(); ++mi)",
          "new_line_content": "        CDiskTxPos posThisTx(pindex->nFile, pindex->nBlockPos, nTxPos);",
          "content_same": false
        },
        {
          "line": 3057,
          "old_api": "empty",
          "new_api": null,
          "old_text": "vNodes.empty()",
          "new_text": null,
          "old_line_content": "            if (vNodes.empty())",
          "new_line_content": "            // Check for stop or if block needs to be rebuilt",
          "content_same": false
        },
        {
          "line": 1010,
          "old_api": "UpdateTxIndex",
          "new_api": null,
          "old_text": "txdb.UpdateTxIndex((*mi).first, (*mi).second)",
          "new_text": null,
          "old_line_content": "        if (!txdb.UpdateTxIndex((*mi).first, (*mi).second))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3061,
          "old_api": "GetTime",
          "new_api": null,
          "old_text": "GetTime()",
          "new_text": null,
          "old_line_content": "            if (nTransactionsUpdated != nTransactionsUpdatedLast && GetTime() - nStart > 60)",
          "new_line_content": "                return;",
          "content_same": false
        },
        {
          "line": 1014,
          "old_api": "GetBlockValue",
          "new_api": null,
          "old_text": "GetBlockValue(pindex->nHeight, nFees)",
          "new_text": null,
          "old_line_content": "    if (vtx[0].GetValueOut() > GetBlockValue(pindex->nHeight, nFees))",
          "new_line_content": "    // Write queued txindex changes",
          "content_same": false
        },
        {
          "line": 3067,
          "old_api": "GetAdjustedTime",
          "new_api": null,
          "old_text": "GetAdjustedTime()",
          "new_text": null,
          "old_line_content": "            pblock->nTime = max(pindexPrev->GetMedianTimePast()+1, GetAdjustedTime());",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 1022,
          "old_api": "GetBlockHash",
          "new_api": null,
          "old_text": "pindex->GetBlockHash()",
          "new_text": null,
          "old_line_content": "        blockindexPrev.hashNext = pindex->GetBlockHash();",
          "new_line_content": "        return false;",
          "content_same": false
        },
        {
          "line": 1023,
          "old_api": "WriteBlockIndex",
          "new_api": null,
          "old_text": "txdb.WriteBlockIndex(blockindexPrev)",
          "new_text": null,
          "old_line_content": "        if (!txdb.WriteBlockIndex(blockindexPrev))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1024,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"ConnectBlock() : WriteBlockIndex failed\")",
          "new_text": null,
          "old_line_content": "            return error(\"ConnectBlock() : WriteBlockIndex failed\");",
          "new_line_content": "    // Update block index on disk without changing it in memory.",
          "content_same": false
        },
        {
          "line": 3079,
          "old_api": "BitcoinMiner",
          "new_api": null,
          "old_text": "BitcoinMiner(pwallet)",
          "new_text": null,
          "old_line_content": "        BitcoinMiner(pwallet);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3084,
          "old_api": "PrintException",
          "new_api": null,
          "old_text": "PrintException(&e, \"ThreadBitcoinMiner()\")",
          "new_text": null,
          "old_line_content": "        PrintException(&e, \"ThreadBitcoinMiner()\");",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 3087,
          "old_api": "PrintException",
          "new_api": null,
          "old_text": "PrintException(NULL, \"ThreadBitcoinMiner()\")",
          "new_text": null,
          "old_line_content": "        PrintException(NULL, \"ThreadBitcoinMiner()\");",
          "new_line_content": "        vnThreadsRunning[3]--;",
          "content_same": false
        },
        {
          "line": 3089,
          "old_api": "boost::bind(CalledSetStatusBar, \"\", 0)",
          "new_api": null,
          "old_text": "boost::bind(CalledSetStatusBar, \"\", 0)",
          "new_text": null,
          "old_line_content": "    UIThreadCall(boost::bind(CalledSetStatusBar, \"\", 0));",
          "new_line_content": "    catch (std::exception& e) {",
          "content_same": false
        },
        {
          "line": 1045,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"Reorganize() : plonger->pprev is null\")",
          "new_text": null,
          "old_line_content": "                return error(\"Reorganize() : plonger->pprev is null\");",
          "new_line_content": "    // Find the fork",
          "content_same": false
        },
        {
          "line": 3093,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"ThreadBitcoinMiner exiting, %d threads remaining\\n\", vnThreadsRunning[3])",
          "new_text": null,
          "old_line_content": "    printf(\"ThreadBitcoinMiner exiting, %d threads remaining\\n\", vnThreadsRunning[3]);",
          "new_line_content": "        vnThreadsRunning[3]--;",
          "content_same": false
        },
        {
          "line": 1049,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"Reorganize() : pfork->pprev is null\")",
          "new_text": null,
          "old_line_content": "            return error(\"Reorganize() : pfork->pprev is null\");",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 3102,
          "old_api": "WriteSetting",
          "new_api": null,
          "old_text": "WriteSetting(\"fGenerateBitcoins\", fGenerateBitcoins)",
          "new_text": null,
          "old_line_content": "        WriteSetting(\"fGenerateBitcoins\", fGenerateBitcoins);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1055,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "vDisconnect.push_back(pindex)",
          "new_text": null,
          "old_line_content": "        vDisconnect.push_back(pindex);",
          "new_line_content": "        if (!(pfork = pfork->pprev))",
          "content_same": false
        },
        {
          "line": 3103,
          "old_api": "MainFrameRepaint",
          "new_api": null,
          "old_text": "MainFrameRepaint()",
          "new_text": null,
          "old_line_content": "        MainFrameRepaint();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3107,
          "old_api": "boost::thread::hardware_concurrency()",
          "new_api": null,
          "old_text": "boost::thread::hardware_concurrency()",
          "new_text": null,
          "old_line_content": "        int nProcessors = boost::thread::hardware_concurrency();",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "vConnect.push_back(pindex)",
          "new_text": null,
          "old_line_content": "        vConnect.push_back(pindex);",
          "new_line_content": "    vector<CBlockIndex*> vDisconnect;",
          "content_same": false
        },
        {
          "line": 1061,
          "old_api": "end",
          "new_api": null,
          "old_text": "vConnect.end()",
          "new_text": null,
          "old_line_content": "    reverse(vConnect.begin(), vConnect.end());",
          "new_line_content": "    for (CBlockIndex* pindex = pindexBest; pindex != pfork; pindex = pindex->pprev)",
          "content_same": false
        },
        {
          "line": 3108,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"%d processors\\n\", nProcessors)",
          "new_text": null,
          "old_line_content": "        printf(\"%d processors\\n\", nProcessors);",
          "new_line_content": "        fGenerateBitcoins = fGenerate;",
          "content_same": false
        },
        {
          "line": 1069,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"Reorganize() : ReadFromDisk for disconnect failed\")",
          "new_text": null,
          "old_line_content": "            return error(\"Reorganize() : ReadFromDisk for disconnect failed\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1070,
          "old_api": "DisconnectBlock",
          "new_api": null,
          "old_text": "block.DisconnectBlock(txdb, pindex)",
          "new_text": null,
          "old_line_content": "        if (!block.DisconnectBlock(txdb, pindex))",
          "new_line_content": "    // Disconnect shorter branch",
          "content_same": false
        },
        {
          "line": 1071,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"Reorganize() : DisconnectBlock failed\")",
          "new_text": null,
          "old_line_content": "            return error(\"Reorganize() : DisconnectBlock failed\");",
          "new_line_content": "    vector<CTransaction> vResurrect;",
          "content_same": false
        },
        {
          "line": 3117,
          "old_api": "CreateThread",
          "new_api": null,
          "old_text": "CreateThread(ThreadBitcoinMiner, pwallet)",
          "new_text": null,
          "old_line_content": "            if (!CreateThread(ThreadBitcoinMiner, pwallet))",
          "new_line_content": "            nProcessors = 1;",
          "content_same": false
        },
        {
          "line": 3118,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"Error: CreateThread(ThreadBitcoinMiner) failed\\n\")",
          "new_text": null,
          "old_line_content": "                printf(\"Error: CreateThread(ThreadBitcoinMiner) failed\\n\");",
          "new_line_content": "        if (fLimitProcessors && nProcessors > nLimitProcessors)",
          "content_same": false
        },
        {
          "line": 3119,
          "old_api": "Sleep",
          "new_api": null,
          "old_text": "Sleep(10)",
          "new_text": null,
          "old_line_content": "            Sleep(10);",
          "new_line_content": "            nProcessors = nLimitProcessors;",
          "content_same": false
        },
        {
          "line": 1081,
          "old_api": "size",
          "new_api": null,
          "old_text": "vConnect.size()",
          "new_text": null,
          "old_line_content": "    for (int i = 0; i < vConnect.size(); i++)",
          "new_line_content": "        BOOST_FOREACH(const CTransaction& tx, block.vtx)",
          "content_same": false
        },
        {
          "line": 1085,
          "old_api": "ReadFromDisk",
          "new_api": null,
          "old_text": "block.ReadFromDisk(pindex)",
          "new_text": null,
          "old_line_content": "        if (!block.ReadFromDisk(pindex))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1086,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"Reorganize() : ReadFromDisk for connect failed\")",
          "new_text": null,
          "old_line_content": "            return error(\"Reorganize() : ReadFromDisk for connect failed\");",
          "new_line_content": "    // Connect longer branch",
          "content_same": false
        },
        {
          "line": 1087,
          "old_api": "ConnectBlock",
          "new_api": null,
          "old_text": "block.ConnectBlock(txdb, pindex)",
          "new_text": null,
          "old_line_content": "        if (!block.ConnectBlock(txdb, pindex))",
          "new_line_content": "    vector<CTransaction> vDelete;",
          "content_same": false
        },
        {
          "line": 1090,
          "old_api": "TxnAbort",
          "new_api": null,
          "old_text": "txdb.TxnAbort()",
          "new_text": null,
          "old_line_content": "            txdb.TxnAbort();",
          "new_line_content": "        CBlockIndex* pindex = vConnect[i];",
          "content_same": false
        },
        {
          "line": 1091,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"Reorganize() : ConnectBlock failed\")",
          "new_text": null,
          "old_line_content": "            return error(\"Reorganize() : ConnectBlock failed\");",
          "new_line_content": "        CBlock block;",
          "content_same": false
        },
        {
          "line": 1096,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "vDelete.push_back(tx)",
          "new_text": null,
          "old_line_content": "            vDelete.push_back(tx);",
          "new_line_content": "            // Invalid block",
          "content_same": false
        },
        {
          "line": 1099,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"Reorganize() : WriteHashBestChain failed\")",
          "new_text": null,
          "old_line_content": "        return error(\"Reorganize() : WriteHashBestChain failed\");",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1102,
          "old_api": "TxnCommit",
          "new_api": null,
          "old_text": "txdb.TxnCommit()",
          "new_text": null,
          "old_line_content": "    if (!txdb.TxnCommit())",
          "new_line_content": "        BOOST_FOREACH(const CTransaction& tx, block.vtx)",
          "content_same": false
        },
        {
          "line": 1117,
          "old_api": "AcceptToMemoryPool",
          "new_api": null,
          "old_text": "tx.AcceptToMemoryPool(txdb, false)",
          "new_text": null,
          "old_line_content": "        tx.AcceptToMemoryPool(txdb, false);",
          "new_line_content": "    // Connect longer branch",
          "content_same": false
        },
        {
          "line": 1121,
          "old_api": "RemoveFromMemoryPool",
          "new_api": null,
          "old_text": "tx.RemoveFromMemoryPool()",
          "new_text": null,
          "old_line_content": "        tx.RemoveFromMemoryPool();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1129,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "GetHash()",
          "new_text": null,
          "old_line_content": "    uint256 hash = GetHash();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": "TxnBegin",
          "new_api": null,
          "old_text": "txdb.TxnBegin()",
          "new_text": null,
          "old_line_content": "    txdb.TxnBegin();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": "WriteHashBestChain",
          "new_api": null,
          "old_text": "txdb.WriteHashBestChain(hash)",
          "new_text": null,
          "old_line_content": "        txdb.WriteHashBestChain(hash);",
          "new_line_content": "bool CBlock::SetBestChain(CTxDB& txdb, CBlockIndex* pindexNew)",
          "content_same": false
        },
        {
          "line": 1135,
          "old_api": "TxnCommit",
          "new_api": null,
          "old_text": "txdb.TxnCommit()",
          "new_text": null,
          "old_line_content": "        if (!txdb.TxnCommit())",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1144,
          "old_api": "TxnAbort",
          "new_api": null,
          "old_text": "txdb.TxnAbort()",
          "new_text": null,
          "old_line_content": "            txdb.TxnAbort();",
          "new_line_content": "        pindexGenesisBlock = pindexNew;",
          "content_same": false
        },
        {
          "line": 1145,
          "old_api": "InvalidChainFound",
          "new_api": null,
          "old_text": "InvalidChainFound(pindexNew)",
          "new_text": null,
          "old_line_content": "            InvalidChainFound(pindexNew);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1146,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"SetBestChain() : ConnectBlock failed\")",
          "new_text": null,
          "old_line_content": "            return error(\"SetBestChain() : ConnectBlock failed\");",
          "new_line_content": "    else if (hashPrevBlock == hashBestChain)",
          "content_same": false
        },
        {
          "line": 1148,
          "old_api": "TxnCommit",
          "new_api": null,
          "old_text": "txdb.TxnCommit()",
          "new_text": null,
          "old_line_content": "        if (!txdb.TxnCommit())",
          "new_line_content": "        // Adding to current best branch",
          "content_same": false
        },
        {
          "line": 1161,
          "old_api": "Reorganize",
          "new_api": null,
          "old_text": "Reorganize(txdb, pindexNew)",
          "new_text": null,
          "old_line_content": "        if (!Reorganize(txdb, pindexNew))",
          "new_line_content": "        // Delete redundant memory transactions",
          "content_same": false
        },
        {
          "line": 1164,
          "old_api": "InvalidChainFound",
          "new_api": null,
          "old_text": "InvalidChainFound(pindexNew)",
          "new_text": null,
          "old_line_content": "            InvalidChainFound(pindexNew);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1165,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"SetBestChain() : Reorganize failed\")",
          "new_text": null,
          "old_line_content": "            return error(\"SetBestChain() : Reorganize failed\");",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 1173,
          "old_api": "::SetBestChain(locator)",
          "new_api": null,
          "old_text": "::SetBestChain(locator)",
          "new_text": null,
          "old_line_content": "        ::SetBestChain(locator);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": "GetTime",
          "new_api": null,
          "old_text": "GetTime()",
          "new_text": null,
          "old_line_content": "    nTimeBestReceived = GetTime();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1183,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "bnBestChainWork.ToString().c_str()",
          "new_text": null,
          "old_line_content": "    printf(\"SetBestChain: new best=%s  height=%d  work=%s\\n\", hashBestChain.ToString().substr(0,20).c_str(), nBestHeight, bnBestChainWork.ToString().c_str());",
          "new_line_content": "    // New best block",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "GetHash()",
          "new_text": null,
          "old_line_content": "    uint256 hash = GetHash();",
          "new_line_content": "    return true;",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": "count",
          "new_api": null,
          "old_text": "mapBlockIndex.count(hash)",
          "new_text": null,
          "old_line_content": "    if (mapBlockIndex.count(hash))",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1194,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "hash.ToString().substr(0,20).c_str()",
          "new_text": null,
          "old_line_content": "        return error(\"AddToBlockIndex() : %s already exists\", hash.ToString().substr(0,20).c_str());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1202,
          "old_api": "find",
          "new_api": null,
          "old_text": "mapBlockIndex.find(hashPrevBlock)",
          "new_text": null,
          "old_line_content": "    map<uint256, CBlockIndex*>::iterator miPrev = mapBlockIndex.find(hashPrevBlock);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1203,
          "old_api": "end",
          "new_api": null,
          "old_text": "mapBlockIndex.end()",
          "new_text": null,
          "old_line_content": "    if (miPrev != mapBlockIndex.end())",
          "new_line_content": "    // Construct new block index object",
          "content_same": false
        },
        {
          "line": 1208,
          "old_api": "GetBlockWork",
          "new_api": null,
          "old_text": "pindexNew->GetBlockWork()",
          "new_text": null,
          "old_line_content": "    pindexNew->bnChainWork = (pindexNew->pprev ? pindexNew->pprev->bnChainWork : 0) + pindexNew->GetBlockWork();",
          "new_line_content": "    pindexNew->phashBlock = &((*mi).first);",
          "content_same": false
        },
        {
          "line": 1211,
          "old_api": "TxnBegin",
          "new_api": null,
          "old_text": "txdb.TxnBegin()",
          "new_text": null,
          "old_line_content": "    txdb.TxnBegin();",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1212,
          "old_api": "CDiskBlockIndex",
          "new_api": null,
          "old_text": "CDiskBlockIndex(pindexNew)",
          "new_text": null,
          "old_line_content": "    txdb.WriteBlockIndex(CDiskBlockIndex(pindexNew));",
          "new_line_content": "        pindexNew->pprev = (*miPrev).second;",
          "content_same": false
        },
        {
          "line": 1213,
          "old_api": "TxnCommit",
          "new_api": null,
          "old_text": "txdb.TxnCommit()",
          "new_text": null,
          "old_line_content": "    if (!txdb.TxnCommit())",
          "new_line_content": "        pindexNew->nHeight = pindexNew->pprev->nHeight + 1;",
          "content_same": false
        },
        {
          "line": 1221,
          "old_api": "Close",
          "new_api": null,
          "old_text": "txdb.Close()",
          "new_text": null,
          "old_line_content": "    txdb.Close();",
          "new_line_content": "        return false;",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": "UpdatedTransaction",
          "new_api": null,
          "old_text": "UpdatedTransaction(hashPrevBestCoinBase)",
          "new_text": null,
          "old_line_content": "        UpdatedTransaction(hashPrevBestCoinBase);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": "MainFrameRepaint",
          "new_api": null,
          "old_text": "MainFrameRepaint()",
          "new_text": null,
          "old_line_content": "    MainFrameRepaint();",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1244,
          "old_api": "::GetSerializeSize(*this, SER_NETWORK)",
          "new_api": null,
          "old_text": "::GetSerializeSize(*this, SER_NETWORK)",
          "new_text": null,
          "old_line_content": "    if (vtx.empty() || vtx.size() > MAX_BLOCK_SIZE || ::GetSerializeSize(*this, SER_NETWORK) > MAX_BLOCK_SIZE)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1245,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"CheckBlock() : size limits failed\")",
          "new_text": null,
          "old_line_content": "        return DoS(100, error(\"CheckBlock() : size limits failed\"));",
          "new_line_content": "bool CBlock::CheckBlock() const",
          "content_same": false
        },
        {
          "line": 1248,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "GetHash()",
          "new_text": null,
          "old_line_content": "    if (!CheckProofOfWork(GetHash(), nBits))",
          "new_line_content": "    // that can be verified before saving an orphan block.",
          "content_same": false
        },
        {
          "line": 1249,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"CheckBlock() : proof of work failed\")",
          "new_text": null,
          "old_line_content": "        return DoS(50, error(\"CheckBlock() : proof of work failed\"));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1253,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"CheckBlock() : block timestamp too far in the future\")",
          "new_text": null,
          "old_line_content": "        return error(\"CheckBlock() : block timestamp too far in the future\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1257,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"CheckBlock() : first tx is not coinbase\")",
          "new_text": null,
          "old_line_content": "        return DoS(100, error(\"CheckBlock() : first tx is not coinbase\"));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1258,
          "old_api": "size",
          "new_api": null,
          "old_text": "vtx.size()",
          "new_text": null,
          "old_line_content": "    for (int i = 1; i < vtx.size(); i++)",
          "new_line_content": "    // Check timestamp",
          "content_same": false
        },
        {
          "line": 1268,
          "old_api": "GetSigOpCount",
          "new_api": null,
          "old_text": "GetSigOpCount()",
          "new_text": null,
          "old_line_content": "    if (GetSigOpCount() > MAX_BLOCK_SIGOPS)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1269,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"CheckBlock() : out-of-bounds SigOpCount\")",
          "new_text": null,
          "old_line_content": "        return DoS(100, error(\"CheckBlock() : out-of-bounds SigOpCount\"));",
          "new_line_content": "    // Check transactions",
          "content_same": false
        },
        {
          "line": 1273,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"CheckBlock() : hashMerkleRoot mismatch\")",
          "new_text": null,
          "old_line_content": "        return DoS(100, error(\"CheckBlock() : hashMerkleRoot mismatch\"));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1281,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "GetHash()",
          "new_text": null,
          "old_line_content": "    uint256 hash = GetHash();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1282,
          "old_api": "count",
          "new_api": null,
          "old_text": "mapBlockIndex.count(hash)",
          "new_text": null,
          "old_line_content": "    if (mapBlockIndex.count(hash))",
          "new_line_content": "    return true;",
          "content_same": false
        },
        {
          "line": 1283,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"AcceptBlock() : block already in mapBlockIndex\")",
          "new_text": null,
          "old_line_content": "        return error(\"AcceptBlock() : block already in mapBlockIndex\");",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1286,
          "old_api": "find",
          "new_api": null,
          "old_text": "mapBlockIndex.find(hashPrevBlock)",
          "new_text": null,
          "old_line_content": "    map<uint256, CBlockIndex*>::iterator mi = mapBlockIndex.find(hashPrevBlock);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1287,
          "old_api": "end",
          "new_api": null,
          "old_text": "mapBlockIndex.end()",
          "new_text": null,
          "old_line_content": "    if (mi == mapBlockIndex.end())",
          "new_line_content": "    // Check for duplicate",
          "content_same": false
        },
        {
          "line": 1297,
          "old_api": "GetMedianTimePast",
          "new_api": null,
          "old_text": "pindexPrev->GetMedianTimePast()",
          "new_text": null,
          "old_line_content": "    if (GetBlockTime() <= pindexPrev->GetMedianTimePast())",
          "new_line_content": "    int nHeight = pindexPrev->nHeight+1;",
          "content_same": false
        },
        {
          "line": 1298,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"AcceptBlock() : block's timestamp is too early\")",
          "new_text": null,
          "old_line_content": "        return error(\"AcceptBlock() : block's timestamp is too early\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1302,
          "old_api": "GetBlockTime",
          "new_api": null,
          "old_text": "GetBlockTime()",
          "new_text": null,
          "old_line_content": "        if (!tx.IsFinal(nHeight, GetBlockTime()))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1303,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"AcceptBlock() : contains a non-final transaction\")",
          "new_text": null,
          "old_line_content": "            return DoS(10, error(\"AcceptBlock() : contains a non-final transaction\"));",
          "new_line_content": "    // Check timestamp against prev",
          "content_same": false
        },
        {
          "line": 1307,
          "old_api": "uint256",
          "new_api": null,
          "old_text": "uint256(\"0x0000000069e244f73d78e8fd29ba2fd2ed618bd6fa2ee92559f542fdb26e7c1d\")",
          "new_text": null,
          "old_line_content": "        if ((nHeight ==  11111 && hash != uint256(\"0x0000000069e244f73d78e8fd29ba2fd2ed618bd6fa2ee92559f542fdb26e7c1d\")) ||",
          "new_line_content": "    // Check that all transactions are finalized",
          "content_same": false
        },
        {
          "line": 1308,
          "old_api": "uint256",
          "new_api": null,
          "old_text": "uint256(\"0x000000002dd5588a74784eaa7ab0507a18ad16a236e7b1ce69f00d7ddfb5d0a6\")",
          "new_text": null,
          "old_line_content": "            (nHeight ==  33333 && hash != uint256(\"0x000000002dd5588a74784eaa7ab0507a18ad16a236e7b1ce69f00d7ddfb5d0a6\")) ||",
          "new_line_content": "    BOOST_FOREACH(const CTransaction& tx, vtx)",
          "content_same": false
        },
        {
          "line": 1311,
          "old_api": "uint256",
          "new_api": null,
          "old_text": "uint256(\"0x0000000000573993a3c9e41ce34471c079dcf5f52a0e824a81e7f953b8661a20\")",
          "new_text": null,
          "old_line_content": "            (nHeight ==  74000 && hash != uint256(\"0x0000000000573993a3c9e41ce34471c079dcf5f52a0e824a81e7f953b8661a20\")) ||",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1312,
          "old_api": "uint256",
          "new_api": null,
          "old_text": "uint256(\"0x00000000000291ce28027faea320c8d2b054b2e0fe44a773f3eefb151d6bdc97\")",
          "new_text": null,
          "old_line_content": "            (nHeight == 105000 && hash != uint256(\"0x00000000000291ce28027faea320c8d2b054b2e0fe44a773f3eefb151d6bdc97\")) ||",
          "new_line_content": "    // Check that the block chain matches the known block chain up to a checkpoint",
          "content_same": false
        },
        {
          "line": 1313,
          "old_api": "uint256",
          "new_api": null,
          "old_text": "uint256(\"0x000000000000774a7f8a7a12dc906ddb9e17e75d684f15e00f8767f9e8f36553\")",
          "new_text": null,
          "old_line_content": "            (nHeight == 118000 && hash != uint256(\"0x000000000000774a7f8a7a12dc906ddb9e17e75d684f15e00f8767f9e8f36553\")) ||",
          "new_line_content": "    if (!fTestNet)",
          "content_same": false
        },
        {
          "line": 1324,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"AcceptBlock() : WriteToDisk failed\")",
          "new_text": null,
          "old_line_content": "        return error(\"AcceptBlock() : WriteToDisk failed\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1325,
          "old_api": "AddToBlockIndex",
          "new_api": null,
          "old_text": "AddToBlockIndex(nFile, nBlockPos)",
          "new_text": null,
          "old_line_content": "    if (!AddToBlockIndex(nFile, nBlockPos))",
          "new_line_content": "    // Write block to history file",
          "content_same": false
        },
        {
          "line": 1341,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "pblock->GetHash()",
          "new_text": null,
          "old_line_content": "    uint256 hash = pblock->GetHash();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1342,
          "old_api": "count",
          "new_api": null,
          "old_text": "mapBlockIndex.count(hash)",
          "new_text": null,
          "old_line_content": "    if (mapBlockIndex.count(hash))",
          "new_line_content": "    return true;",
          "content_same": false
        },
        {
          "line": 1343,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "hash.ToString().substr(0,20).c_str()",
          "new_text": null,
          "old_line_content": "        return error(\"ProcessBlock() : already have block %d %s\", mapBlockIndex[hash]->nHeight, hash.ToString().substr(0,20).c_str());",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1344,
          "old_api": "count",
          "new_api": null,
          "old_text": "mapOrphanBlocks.count(hash)",
          "new_text": null,
          "old_line_content": "    if (mapOrphanBlocks.count(hash))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1345,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "hash.ToString().substr(0,20).c_str()",
          "new_text": null,
          "old_line_content": "        return error(\"ProcessBlock() : already have block (orphan) %s\", hash.ToString().substr(0,20).c_str());",
          "new_line_content": "bool static ProcessBlock(CNode* pfrom, CBlock* pblock)",
          "content_same": false
        },
        {
          "line": 1354,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "pblock->hashPrevBlock.ToString().substr(0,20).c_str()",
          "new_text": null,
          "old_line_content": "        printf(\"ProcessBlock: ORPHAN BLOCK, prev=%s\\n\", pblock->hashPrevBlock.ToString().substr(0,20).c_str());",
          "new_line_content": "    // Preliminary checks",
          "content_same": false
        },
        {
          "line": 1357,
          "old_api": "make_pair",
          "new_api": null,
          "old_text": "make_pair(pblock2->hashPrevBlock, pblock2)",
          "new_text": null,
          "old_line_content": "        mapOrphanBlocksByPrev.insert(make_pair(pblock2->hashPrevBlock, pblock2));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": "AcceptBlock",
          "new_api": null,
          "old_text": "pblock->AcceptBlock()",
          "new_text": null,
          "old_line_content": "    if (!pblock->AcceptBlock())",
          "new_line_content": "        // Ask this guy to fill in what we're missing",
          "content_same": false
        },
        {
          "line": 1367,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"ProcessBlock() : AcceptBlock FAILED\")",
          "new_text": null,
          "old_line_content": "        return error(\"ProcessBlock() : AcceptBlock FAILED\");",
          "new_line_content": "        if (pfrom)",
          "content_same": false
        },
        {
          "line": 1371,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "vWorkQueue.push_back(hash)",
          "new_text": null,
          "old_line_content": "    vWorkQueue.push_back(hash);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1372,
          "old_api": "size",
          "new_api": null,
          "old_text": "vWorkQueue.size()",
          "new_text": null,
          "old_line_content": "    for (int i = 0; i < vWorkQueue.size(); i++)",
          "new_line_content": "    // Store to disk",
          "content_same": false
        },
        {
          "line": 1375,
          "old_api": "lower_bound",
          "new_api": null,
          "old_text": "mapOrphanBlocksByPrev.lower_bound(hashPrev)",
          "new_text": null,
          "old_line_content": "        for (multimap<uint256, CBlock*>::iterator mi = mapOrphanBlocksByPrev.lower_bound(hashPrev);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1376,
          "old_api": "upper_bound",
          "new_api": null,
          "old_text": "mapOrphanBlocksByPrev.upper_bound(hashPrev)",
          "new_text": null,
          "old_line_content": "             mi != mapOrphanBlocksByPrev.upper_bound(hashPrev);",
          "new_line_content": "    // Recursively process any orphan blocks that depended on this one",
          "content_same": false
        },
        {
          "line": 1380,
          "old_api": "AcceptBlock",
          "new_api": null,
          "old_text": "pblockOrphan->AcceptBlock()",
          "new_text": null,
          "old_line_content": "            if (pblockOrphan->AcceptBlock())",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1381,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "pblockOrphan->GetHash()",
          "new_text": null,
          "old_line_content": "                vWorkQueue.push_back(pblockOrphan->GetHash());",
          "new_line_content": "        uint256 hashPrev = vWorkQueue[i];",
          "content_same": false
        },
        {
          "line": 1385,
          "old_api": "erase",
          "new_api": null,
          "old_text": "mapOrphanBlocksByPrev.erase(hashPrev)",
          "new_text": null,
          "old_line_content": "        mapOrphanBlocksByPrev.erase(hashPrev);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1401,
          "old_api": "GetDataDir",
          "new_api": null,
          "old_text": "GetDataDir()",
          "new_text": null,
          "old_line_content": "    uint64 nFreeBytesAvailable = filesystem::space(GetDataDir()).available;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1407,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Warning: Disk space is low  \")",
          "new_text": null,
          "old_line_content": "        string strMessage = _(\"Warning: Disk space is low  \");",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1409,
          "old_api": "c_str",
          "new_api": null,
          "old_text": "strMessage.c_str()",
          "new_text": null,
          "old_line_content": "        printf(\"*** %s\\n\", strMessage.c_str());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": "ThreadSafeMessageBox",
          "new_api": null,
          "old_text": "ThreadSafeMessageBox(strMessage, \"Bitcoin\", wxOK | wxICON_EXCLAMATION)",
          "new_text": null,
          "old_line_content": "        ThreadSafeMessageBox(strMessage, \"Bitcoin\", wxOK | wxICON_EXCLAMATION);",
          "new_line_content": "    // Check for 15MB because database could create another 10MB log file at any time",
          "content_same": false
        },
        {
          "line": 1411,
          "old_api": "CreateThread",
          "new_api": null,
          "old_text": "CreateThread(Shutdown, NULL)",
          "new_text": null,
          "old_line_content": "        CreateThread(Shutdown, NULL);",
          "new_line_content": "    if (nFreeBytesAvailable < (uint64)15000000 + nAdditionalBytes)",
          "content_same": false
        },
        {
          "line": 1421,
          "old_api": "c_str",
          "new_api": null,
          "old_text": "GetDataDir().c_str()",
          "new_text": null,
          "old_line_content": "    FILE* file = fopen(strprintf(\"%s/blk%04d.dat\", GetDataDir().c_str(), nFile).c_str(), pszMode);",
          "new_line_content": "    return true;",
          "content_same": false
        },
        {
          "line": 1424,
          "old_api": "strchr",
          "new_api": null,
          "old_text": "strchr(pszMode, 'w')",
          "new_text": null,
          "old_line_content": "    if (nBlockPos != 0 && !strchr(pszMode, 'a') && !strchr(pszMode, 'w'))",
          "new_line_content": "FILE* OpenBlockFile(unsigned int nFile, unsigned int nBlockPos, const char* pszMode)",
          "content_same": false
        },
        {
          "line": 1426,
          "old_api": "fseek",
          "new_api": null,
          "old_text": "fseek(file, nBlockPos, SEEK_SET)",
          "new_text": null,
          "old_line_content": "        if (fseek(file, nBlockPos, SEEK_SET) != 0)",
          "new_line_content": "    if (nFile == -1)",
          "content_same": false
        },
        {
          "line": 1442,
          "old_api": "OpenBlockFile",
          "new_api": null,
          "old_text": "OpenBlockFile(nCurrentBlockFile, 0, \"ab\")",
          "new_text": null,
          "old_line_content": "        FILE* file = OpenBlockFile(nCurrentBlockFile, 0, \"ab\");",
          "new_line_content": "static unsigned int nCurrentBlockFile = 1;",
          "content_same": false
        },
        {
          "line": 1445,
          "old_api": "fseek",
          "new_api": null,
          "old_text": "fseek(file, 0, SEEK_END)",
          "new_text": null,
          "old_line_content": "        if (fseek(file, 0, SEEK_END) != 0)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1448,
          "old_api": "ftell",
          "new_api": null,
          "old_text": "ftell(file)",
          "new_text": null,
          "old_line_content": "        if (ftell(file) < 0x7F000000 - MAX_SIZE)",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1453,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(file)",
          "new_text": null,
          "old_line_content": "        fclose(file);",
          "new_line_content": "            return NULL;",
          "content_same": false
        },
        {
          "line": 1462,
          "old_api": "uint256",
          "new_api": null,
          "old_text": "uint256(\"0x00000007199508e34a9ff81e6ec0c477a4cccff2a4767a8eee39c11db367b008\")",
          "new_text": null,
          "old_line_content": "        hashGenesisBlock = uint256(\"0x00000007199508e34a9ff81e6ec0c477a4cccff2a4767a8eee39c11db367b008\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1463,
          "old_api": "uint256",
          "new_api": null,
          "old_text": "uint256(0)",
          "new_text": null,
          "old_line_content": "        bnProofOfWorkLimit = CBigNum(~uint256(0) >> 28);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1474,
          "old_api": "LoadBlockIndex",
          "new_api": null,
          "old_text": "txdb.LoadBlockIndex()",
          "new_text": null,
          "old_line_content": "    if (!txdb.LoadBlockIndex())",
          "new_line_content": "        pchMessageStart[3] = 0xda;",
          "content_same": false
        },
        {
          "line": 1476,
          "old_api": "Close",
          "new_api": null,
          "old_text": "txdb.Close()",
          "new_text": null,
          "old_line_content": "    txdb.Close();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1496,
          "old_api": "resize",
          "new_api": null,
          "old_text": "txNew.vin.resize(1)",
          "new_text": null,
          "old_line_content": "        txNew.vin.resize(1);",
          "new_line_content": "        //     CTxIn(COutPoint(000000, -1), coinbase 04ffff001d0104455468652054696d65732030332f4a616e2f32303039204368616e63656c6c6f72206f6e206272696e6b206f66207365636f6e64206261696c6f757420666f722062616e6b73)",
          "content_same": false
        },
        {
          "line": 1497,
          "old_api": "resize",
          "new_api": null,
          "old_text": "txNew.vout.resize(1)",
          "new_text": null,
          "old_line_content": "        txNew.vout.resize(1);",
          "new_line_content": "        //     CTxOut(nValue=50.00000000, scriptPubKey=0x5F1DF16B2B704C8A578D0B)",
          "content_same": false
        },
        {
          "line": 1498,
          "old_api": "strlen",
          "new_api": null,
          "old_text": "strlen(pszTimestamp)",
          "new_text": null,
          "old_line_content": "        txNew.vin[0].scriptSig = CScript() << 486604799 << CBigNum(4) << vector<unsigned char>((const unsigned char*)pszTimestamp, (const unsigned char*)pszTimestamp + strlen(pszTimestamp));",
          "new_line_content": "        //   vMerkleTree: 4a5e1e",
          "content_same": false
        },
        {
          "line": 1500,
          "old_api": "ParseHex",
          "new_api": null,
          "old_text": "ParseHex(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5f\")",
          "new_text": null,
          "old_line_content": "        txNew.vout[0].scriptPubKey = CScript() << ParseHex(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5f\") << OP_CHECKSIG;",
          "new_line_content": "        // Genesis block",
          "content_same": false
        },
        {
          "line": 1502,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "block.vtx.push_back(txNew)",
          "new_text": null,
          "old_line_content": "        block.vtx.push_back(txNew);",
          "new_line_content": "        CTransaction txNew;",
          "content_same": false
        },
        {
          "line": 1518,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "block.GetHash().ToString().c_str()",
          "new_text": null,
          "old_line_content": "        printf(\"%s\\n\", block.GetHash().ToString().c_str());",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1519,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "hashGenesisBlock.ToString().c_str()",
          "new_text": null,
          "old_line_content": "        printf(\"%s\\n\", hashGenesisBlock.ToString().c_str());",
          "new_line_content": "            block.nTime    = 1296688602;",
          "content_same": false
        },
        {
          "line": 1520,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "block.hashMerkleRoot.ToString().c_str()",
          "new_text": null,
          "old_line_content": "        printf(\"%s\\n\", block.hashMerkleRoot.ToString().c_str());",
          "new_line_content": "            block.nBits    = 0x1d07fff8;",
          "content_same": false
        },
        {
          "line": 1521,
          "old_api": "uint256",
          "new_api": null,
          "old_text": "uint256(\"0x4a5e1e4baab89f3a32518a88c31bc87f618f76673e2cc77ab2127b7afdeda33b\")",
          "new_text": null,
          "old_line_content": "        assert(block.hashMerkleRoot == uint256(\"0x4a5e1e4baab89f3a32518a88c31bc87f618f76673e2cc77ab2127b7afdeda33b\"));",
          "new_line_content": "            block.nNonce   = 384568319;",
          "content_same": false
        },
        {
          "line": 1522,
          "old_api": "print",
          "new_api": null,
          "old_text": "block.print()",
          "new_text": null,
          "old_line_content": "        block.print();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1523,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "block.GetHash()",
          "new_text": null,
          "old_line_content": "        assert(block.GetHash() == hashGenesisBlock);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1531,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"LoadBlockIndex() : genesis block not accepted\")",
          "new_text": null,
          "old_line_content": "            return error(\"LoadBlockIndex() : genesis block not accepted\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1543,
          "old_api": "end",
          "new_api": null,
          "old_text": "mapBlockIndex.end()",
          "new_text": null,
          "old_line_content": "    for (map<uint256, CBlockIndex*>::iterator mi = mapBlockIndex.begin(); mi != mapBlockIndex.end(); ++mi)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1546,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "mapNext[pindex->pprev].push_back(pindex)",
          "new_text": null,
          "old_line_content": "        mapNext[pindex->pprev].push_back(pindex);",
          "new_line_content": "void PrintBlockTree()",
          "content_same": false
        },
        {
          "line": 1556,
          "old_api": "empty",
          "new_api": null,
          "old_text": "vStack.empty()",
          "new_text": null,
          "old_line_content": "    while (!vStack.empty())",
          "new_line_content": "        //    mapNext[pindex->pprev].push_back(pindex);",
          "content_same": false
        },
        {
          "line": 1558,
          "old_api": "back",
          "new_api": null,
          "old_text": "vStack.back()",
          "new_text": null,
          "old_line_content": "        int nCol = vStack.back().first;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1559,
          "old_api": "back",
          "new_api": null,
          "old_text": "vStack.back()",
          "new_text": null,
          "old_line_content": "        CBlockIndex* pindex = vStack.back().second;",
          "new_line_content": "    vector<pair<int, CBlockIndex*> > vStack;",
          "content_same": false
        },
        {
          "line": 1572,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"| \")",
          "new_text": null,
          "old_line_content": "                printf(\"| \");",
          "new_line_content": "            for (int i = 0; i < nCol-1; i++)",
          "content_same": false
        },
        {
          "line": 1583,
          "old_api": "ReadFromDisk",
          "new_api": null,
          "old_text": "block.ReadFromDisk(pindex)",
          "new_text": null,
          "old_line_content": "        block.ReadFromDisk(pindex);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1584,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "printf(\"%d (%u,%u) %s  %s  tx %d\",\n            pindex->nHeight,\n            pindex->nFile,\n            pindex->nBlockPos,\n            block.GetHash().ToString().substr(0,20).c_str(),\n            DateTimeStrFormat(\"%x %H:%M:%S\", block.GetBlockTime()).c_str(),\n            block.vtx.size())",
          "new_text": null,
          "old_line_content": "        printf(\"%d (%u,%u) %s  %s  tx %d\",",
          "new_line_content": "        // print columns",
          "content_same": false
        },
        {
          "line": 1588,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "block.GetHash().ToString().substr(0,20).c_str()",
          "new_text": null,
          "old_line_content": "            block.GetHash().ToString().substr(0,20).c_str(),",
          "new_line_content": "        // print item",
          "content_same": false
        },
        {
          "line": 1589,
          "old_api": "GetBlockTime",
          "new_api": null,
          "old_text": "block.GetBlockTime()",
          "new_text": null,
          "old_line_content": "            DateTimeStrFormat(\"%x %H:%M:%S\", block.GetBlockTime()).c_str(),",
          "new_line_content": "        CBlock block;",
          "content_same": false
        },
        {
          "line": 1592,
          "old_api": "PrintWallets",
          "new_api": null,
          "old_text": "PrintWallets(block)",
          "new_text": null,
          "old_line_content": "        PrintWallets(block);",
          "new_line_content": "            pindex->nHeight,",
          "content_same": false
        },
        {
          "line": 1600,
          "old_api": "swap",
          "new_api": null,
          "old_text": "swap(vNext[0], vNext[i])",
          "new_text": null,
          "old_line_content": "                swap(vNext[0], vNext[i]);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1606,
          "old_api": "size",
          "new_api": null,
          "old_text": "vNext.size()",
          "new_text": null,
          "old_line_content": "        for (int i = 0; i < vNext.size(); i++)",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1633,
          "old_api": "GetBoolArg",
          "new_api": null,
          "old_text": "GetBoolArg(\"-testsafemode\")",
          "new_text": null,
          "old_line_content": "    if (GetBoolArg(\"-testsafemode\"))",
          "new_line_content": "CCriticalSection cs_mapAlerts;",
          "content_same": false
        },
        {
          "line": 1644,
          "old_api": "GetBlockWork",
          "new_api": null,
          "old_text": "pindexBest->GetBlockWork()",
          "new_text": null,
          "old_line_content": "    if (pindexBest && bnBestInvalidWork > bnBestChainWork + pindexBest->GetBlockWork() * 6)",
          "new_line_content": "    if (strMiscWarning != \"\")",
          "content_same": false
        },
        {
          "line": 1656,
          "old_api": "AppliesToMe",
          "new_api": null,
          "old_text": "alert.AppliesToMe()",
          "new_text": null,
          "old_line_content": "            if (alert.AppliesToMe() && alert.nPriority > nPriority)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1668,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(!\"GetWarnings() : invalid parameter\")",
          "new_text": null,
          "old_line_content": "    assert(!\"GetWarnings() : invalid parameter\");",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1674,
          "old_api": "CheckSignature",
          "new_api": null,
          "old_text": "CheckSignature()",
          "new_text": null,
          "old_line_content": "    if (!CheckSignature())",
          "new_line_content": "        return strRPC;",
          "content_same": false
        },
        {
          "line": 1676,
          "old_api": "IsInEffect",
          "new_api": null,
          "old_text": "IsInEffect()",
          "new_text": null,
          "old_line_content": "    if (!IsInEffect())",
          "new_line_content": "    return \"error\";",
          "content_same": false
        },
        {
          "line": 1682,
          "old_api": "end",
          "new_api": null,
          "old_text": "mapAlerts.end()",
          "new_text": null,
          "old_line_content": "        for (map<uint256, CAlert>::iterator mi = mapAlerts.begin(); mi != mapAlerts.end();)",
          "new_line_content": "        return false;",
          "content_same": false
        },
        {
          "line": 1685,
          "old_api": "Cancels",
          "new_api": null,
          "old_text": "Cancels(alert)",
          "new_text": null,
          "old_line_content": "            if (Cancels(alert))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1687,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"cancelling alert %d\\n\", alert.nID)",
          "new_text": null,
          "old_line_content": "                printf(\"cancelling alert %d\\n\", alert.nID);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1688,
          "old_api": "erase",
          "new_api": null,
          "old_text": "mapAlerts.erase(mi++)",
          "new_text": null,
          "old_line_content": "                mapAlerts.erase(mi++);",
          "new_line_content": "        // Cancel previous alerts",
          "content_same": false
        },
        {
          "line": 1690,
          "old_api": "IsInEffect",
          "new_api": null,
          "old_text": "alert.IsInEffect()",
          "new_text": null,
          "old_line_content": "            else if (!alert.IsInEffect())",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1693,
          "old_api": "erase",
          "new_api": null,
          "old_text": "mapAlerts.erase(mi++)",
          "new_text": null,
          "old_line_content": "                mapAlerts.erase(mi++);",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1703,
          "old_api": "Cancels",
          "new_api": null,
          "old_text": "alert.Cancels(*this)",
          "new_text": null,
          "old_line_content": "            if (alert.Cancels(*this))",
          "new_line_content": "                mi++;",
          "content_same": false
        },
        {
          "line": 1705,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"alert already cancelled by %d\\n\", alert.nID)",
          "new_text": null,
          "old_line_content": "                printf(\"alert already cancelled by %d\\n\", alert.nID);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1711,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "GetHash()",
          "new_text": null,
          "old_line_content": "        mapAlerts.insert(make_pair(GetHash(), *this));",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1714,
          "old_api": "AppliesToMe",
          "new_api": null,
          "old_text": "AppliesToMe()",
          "new_text": null,
          "old_line_content": "    printf(\"accepted alert %d, AppliesToMe()=%d\\n\", nID, AppliesToMe());",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1715,
          "old_api": "MainFrameRepaint",
          "new_api": null,
          "old_text": "MainFrameRepaint()",
          "new_text": null,
          "old_line_content": "    MainFrameRepaint();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1736,
          "old_api": "ContainsTx",
          "new_api": null,
          "old_text": "txdb.ContainsTx(inv.hash)",
          "new_text": null,
          "old_line_content": "    case MSG_TX:    return mapTransactions.count(inv.hash) || mapOrphanTransactions.count(inv.hash) || txdb.ContainsTx(inv.hash);",
          "new_line_content": "//",
          "content_same": false
        },
        {
          "line": 1737,
          "old_api": "count",
          "new_api": null,
          "old_text": "mapOrphanBlocks.count(inv.hash)",
          "new_text": null,
          "old_line_content": "    case MSG_BLOCK: return mapBlockIndex.count(inv.hash) || mapOrphanBlocks.count(inv.hash);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1755,
          "old_api": "RandAddSeedPerfmon",
          "new_api": null,
          "old_text": "RandAddSeedPerfmon()",
          "new_text": null,
          "old_line_content": "    RandAddSeedPerfmon();",
          "new_line_content": "// a large 4-byte int at any alignment.",
          "content_same": false
        },
        {
          "line": 1757,
          "old_api": "GetTime",
          "new_api": null,
          "old_text": "GetTime()",
          "new_text": null,
          "old_line_content": "        printf(\"%s \", DateTimeStrFormat(\"%x %H:%M:%S\", GetTime()).c_str());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1758,
          "old_api": "size",
          "new_api": null,
          "old_text": "vRecv.size()",
          "new_text": null,
          "old_line_content": "        printf(\"received: %s (%d bytes)\\n\", strCommand.c_str(), vRecv.size());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1760,
          "old_api": "atoi",
          "new_api": null,
          "old_text": "atoi(mapArgs[\"-dropmessagestest\"])",
          "new_text": null,
          "old_line_content": "    if (mapArgs.count(\"-dropmessagestest\") && GetRand(atoi(mapArgs[\"-dropmessagestest\"])) == 0)",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1775,
          "old_api": "Misbehaving",
          "new_api": null,
          "old_text": "pfrom->Misbehaving(1)",
          "new_text": null,
          "old_line_content": "            pfrom->Misbehaving(1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1786,
          "old_api": "empty",
          "new_api": null,
          "old_text": "vRecv.empty()",
          "new_text": null,
          "old_line_content": "        if (pfrom->nVersion >= 106 && !vRecv.empty())",
          "new_line_content": "        int64 nTime;",
          "content_same": false
        },
        {
          "line": 1788,
          "old_api": "empty",
          "new_api": null,
          "old_text": "vRecv.empty()",
          "new_text": null,
          "old_line_content": "        if (pfrom->nVersion >= 106 && !vRecv.empty())",
          "new_line_content": "        CAddress addrFrom;",
          "content_same": false
        },
        {
          "line": 1790,
          "old_api": "empty",
          "new_api": null,
          "old_text": "vRecv.empty()",
          "new_text": null,
          "old_line_content": "        if (pfrom->nVersion >= 209 && !vRecv.empty())",
          "new_line_content": "        vRecv >> pfrom->nVersion >> pfrom->nServices >> nTime >> addrMe;",
          "content_same": false
        },
        {
          "line": 1799,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "pfrom->addr.ToString().c_str()",
          "new_text": null,
          "old_line_content": "            printf(\"connected to self at %s, disconnecting\\n\", pfrom->addr.ToString().c_str());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1810,
          "old_api": "AddTimeData",
          "new_api": null,
          "old_text": "AddTimeData(pfrom->addr.ip, nTime)",
          "new_text": null,
          "old_line_content": "        AddTimeData(pfrom->addr.ip, nTime);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1814,
          "old_api": "PushMessage",
          "new_api": null,
          "old_text": "pfrom->PushMessage(\"verack\")",
          "new_text": null,
          "old_line_content": "            pfrom->PushMessage(\"verack\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1815,
          "old_api": "min",
          "new_api": null,
          "old_text": "min(pfrom->nVersion, VERSION)",
          "new_text": null,
          "old_line_content": "        pfrom->vSend.SetVersion(min(pfrom->nVersion, VERSION));",
          "new_line_content": "        pfrom->fClient = !(pfrom->nServices & NODE_NETWORK);",
          "content_same": false
        },
        {
          "line": 1825,
          "old_api": "GetAdjustedTime",
          "new_api": null,
          "old_text": "GetAdjustedTime()",
          "new_text": null,
          "old_line_content": "                addr.nTime = GetAdjustedTime();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1826,
          "old_api": "PushAddress",
          "new_api": null,
          "old_text": "pfrom->PushAddress(addr)",
          "new_text": null,
          "old_line_content": "                pfrom->PushAddress(addr);",
          "new_line_content": "        if (!pfrom->fInbound)",
          "content_same": false
        },
        {
          "line": 1830,
          "old_api": "size",
          "new_api": null,
          "old_text": "mapAddresses.size()",
          "new_text": null,
          "old_line_content": "            if (pfrom->nVersion >= 31402 || mapAddresses.size() < 1000)",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1841,
          "old_api": "size",
          "new_api": null,
          "old_text": "vNodes.size()",
          "new_text": null,
          "old_line_content": "             (nAskedForBlocks < 1 || vNodes.size() <= 1))",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1844,
          "old_api": "uint256",
          "new_api": null,
          "old_text": "uint256(0)",
          "new_text": null,
          "old_line_content": "            pfrom->PushGetBlocks(pindexBest, uint256(0));",
          "new_line_content": "        // Ask the first connected node for block updates",
          "content_same": false
        },
        {
          "line": 1850,
          "old_api": "RelayTo",
          "new_api": null,
          "old_text": "item.second.RelayTo(pfrom)",
          "new_text": null,
          "old_line_content": "                item.second.RelayTo(pfrom);",
          "new_line_content": "            nAskedForBlocks++;",
          "content_same": false
        },
        {
          "line": 1854,
          "old_api": "printf",
          "new_api": null,
          "old_text": "printf(\"version message: version %d, blocks=%d\\n\", pfrom->nVersion, pfrom->nStartingHeight)",
          "new_text": null,
          "old_line_content": "        printf(\"version message: version %d, blocks=%d\\n\", pfrom->nVersion, pfrom->nStartingHeight);",
          "new_line_content": "        // Relay alerts",
          "content_same": false
        },
        {
          "line": 1865,
          "old_api": "Misbehaving",
          "new_api": null,
          "old_text": "pfrom->Misbehaving(1)",
          "new_text": null,
          "old_line_content": "        pfrom->Misbehaving(1);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1884,
          "old_api": "size",
          "new_api": null,
          "old_text": "mapAddresses.size()",
          "new_text": null,
          "old_line_content": "        if (pfrom->nVersion < 31402 && mapAddresses.size() > 1000)",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1886,
          "old_api": "size",
          "new_api": null,
          "old_text": "vAddr.size()",
          "new_text": null,
          "old_line_content": "        if (vAddr.size() > 1000)",
          "new_line_content": "        vRecv >> vAddr;",
          "content_same": false
        },
        {
          "line": 1888,
          "old_api": "Misbehaving",
          "new_api": null,
          "old_text": "pfrom->Misbehaving(20)",
          "new_text": null,
          "old_line_content": "            pfrom->Misbehaving(20);",
          "new_line_content": "        // Don't want addr from older versions unless seeding",
          "content_same": false
        },
        {
          "line": 1889,
          "old_api": "size",
          "new_api": null,
          "old_text": "vAddr.size()",
          "new_text": null,
          "old_line_content": "            return error(\"message addr size() = %d\", vAddr.size());",
          "new_line_content": "        if (pfrom->nVersion < 209)",
          "content_same": false
        },
        {
          "line": 1894,
          "old_api": "TxnBegin",
          "new_api": null,
          "old_text": "addrDB.TxnBegin()",
          "new_text": null,
          "old_line_content": "        addrDB.TxnBegin();",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1906,
          "old_api": "AddAddress",
          "new_api": null,
          "old_text": "AddAddress(addr, 2 * 60 * 60, &addrDB)",
          "new_text": null,
          "old_line_content": "            AddAddress(addr, 2 * 60 * 60, &addrDB);",
          "new_line_content": "            if (fShutdown)",
          "content_same": false
        },
        {
          "line": 1907,
          "old_api": "AddAddressKnown",
          "new_api": null,
          "old_text": "pfrom->AddAddressKnown(addr)",
          "new_text": null,
          "old_line_content": "            pfrom->AddAddressKnown(addr);",
          "new_line_content": "                return true;",
          "content_same": false
        },
        {
          "line": 1908,
          "old_api": "IsRoutable",
          "new_api": null,
          "old_text": "addr.IsRoutable()",
          "new_text": null,
          "old_line_content": "            if (addr.nTime > nSince && !pfrom->fGetAddr && vAddr.size() <= 10 && addr.IsRoutable())",
          "new_line_content": "            // ignore IPv6 for now, since it isn't implemented anyway",
          "content_same": false
        },
        {
          "line": 1917,
          "old_api": "RAND_bytes",
          "new_api": null,
          "old_text": "RAND_bytes((unsigned char*)&hashSalt, sizeof(hashSalt))",
          "new_text": null,
          "old_line_content": "                        RAND_bytes((unsigned char*)&hashSalt, sizeof(hashSalt));",
          "new_line_content": "                // Relay to a limited number of other nodes",
          "content_same": false
        },
        {
          "line": 1918,
          "old_api": "GetTime",
          "new_api": null,
          "old_text": "GetTime()",
          "new_text": null,
          "old_line_content": "                    uint256 hashRand = hashSalt ^ (((int64)addr.ip)<<32) ^ ((GetTime()+addr.ip)/(24*60*60));",
          "new_line_content": "                CRITICAL_BLOCK(cs_vNodes)",
          "content_same": false
        },
        {
          "line": 1919,
          "old_api": "END",
          "new_api": null,
          "old_text": "END(hashRand)",
          "new_text": null,
          "old_line_content": "                    hashRand = Hash(BEGIN(hashRand), END(hashRand));",
          "new_line_content": "                {",
          "content_same": false
        },
        {
          "line": 1928,
          "old_api": "END",
          "new_api": null,
          "old_text": "END(hashKey)",
          "new_text": null,
          "old_line_content": "                        hashKey = Hash(BEGIN(hashKey), END(hashKey));",
          "new_line_content": "                    BOOST_FOREACH(CNode* pnode, vNodes)",
          "content_same": false
        },
        {
          "line": 1929,
          "old_api": "make_pair",
          "new_api": null,
          "old_text": "make_pair(hashKey, pnode)",
          "new_text": null,
          "old_line_content": "                        mapMix.insert(make_pair(hashKey, pnode));",
          "new_line_content": "                    {",
          "content_same": false
        },
        {
          "line": 1932,
          "old_api": "end",
          "new_api": null,
          "old_text": "mapMix.end()",
          "new_text": null,
          "old_line_content": "                    for (multimap<uint256, CNode*>::iterator mi = mapMix.begin(); mi != mapMix.end() && nRelayNodes-- > 0; ++mi)",
          "new_line_content": "                        unsigned int nPointer;",
          "content_same": false
        },
        {
          "line": 1937,
          "old_api": "TxnCommit",
          "new_api": null,
          "old_text": "addrDB.TxnCommit()",
          "new_text": null,
          "old_line_content": "        addrDB.TxnCommit();  // Save addresses (it's ok if this fails)",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 1938,
          "old_api": "size",
          "new_api": null,
          "old_text": "vAddr.size()",
          "new_text": null,
          "old_line_content": "        if (vAddr.size() < 1000)",
          "new_line_content": "                    int nRelayNodes = 2;",
          "content_same": false
        },
        {
          "line": 1947,
          "old_api": "size",
          "new_api": null,
          "old_text": "vInv.size()",
          "new_text": null,
          "old_line_content": "        if (vInv.size() > 50000)",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1949,
          "old_api": "Misbehaving",
          "new_api": null,
          "old_text": "pfrom->Misbehaving(20)",
          "new_text": null,
          "old_line_content": "            pfrom->Misbehaving(20);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1950,
          "old_api": "size",
          "new_api": null,
          "old_text": "vInv.size()",
          "new_text": null,
          "old_line_content": "            return error(\"message inv size() = %d\", vInv.size());",
          "new_line_content": "    else if (strCommand == \"inv\")",
          "content_same": false
        },
        {
          "line": 1958,
          "old_api": "AddInventoryKnown",
          "new_api": null,
          "old_text": "pfrom->AddInventoryKnown(inv)",
          "new_text": null,
          "old_line_content": "            pfrom->AddInventoryKnown(inv);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1960,
          "old_api": "AlreadyHave",
          "new_api": null,
          "old_text": "AlreadyHave(txdb, inv)",
          "new_text": null,
          "old_line_content": "            bool fAlreadyHave = AlreadyHave(txdb, inv);",
          "new_line_content": "        CTxDB txdb(\"r\");",
          "content_same": false
        },
        {
          "line": 1962,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "inv.ToString().c_str()",
          "new_text": null,
          "old_line_content": "                printf(\"  got inventory: %s  %s\\n\", inv.ToString().c_str(), fAlreadyHave ? \"have\" : \"new\");",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 1966,
          "old_api": "count",
          "new_api": null,
          "old_text": "mapOrphanBlocks.count(inv.hash)",
          "new_text": null,
          "old_line_content": "            else if (inv.type == MSG_BLOCK && mapOrphanBlocks.count(inv.hash))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1970,
          "old_api": "Inventory",
          "new_api": null,
          "old_text": "Inventory(inv.hash)",
          "new_text": null,
          "old_line_content": "            Inventory(inv.hash);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1979,
          "old_api": "size",
          "new_api": null,
          "old_text": "vInv.size()",
          "new_text": null,
          "old_line_content": "        if (vInv.size() > 50000)",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1981,
          "old_api": "Misbehaving",
          "new_api": null,
          "old_text": "pfrom->Misbehaving(20)",
          "new_text": null,
          "old_line_content": "            pfrom->Misbehaving(20);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1982,
          "old_api": "size",
          "new_api": null,
          "old_text": "vInv.size()",
          "new_text": null,
          "old_line_content": "            return error(\"message getdata size() = %d\", vInv.size());",
          "new_line_content": "    else if (strCommand == \"getdata\")",
          "content_same": false
        },
        {
          "line": 1994,
          "old_api": "find",
          "new_api": null,
          "old_text": "mapBlockIndex.find(inv.hash)",
          "new_text": null,
          "old_line_content": "                map<uint256, CBlockIndex*>::iterator mi = mapBlockIndex.find(inv.hash);",
          "new_line_content": "            if (fShutdown)",
          "content_same": false
        },
        {
          "line": 1995,
          "old_api": "end",
          "new_api": null,
          "old_text": "mapBlockIndex.end()",
          "new_text": null,
          "old_line_content": "                if (mi != mapBlockIndex.end())",
          "new_line_content": "                return true;",
          "content_same": false
        },
        {
          "line": 1998,
          "old_api": "ReadFromDisk",
          "new_api": null,
          "old_text": "block.ReadFromDisk((*mi).second)",
          "new_text": null,
          "old_line_content": "                    block.ReadFromDisk((*mi).second);",
          "new_line_content": "            if (inv.type == MSG_BLOCK)",
          "content_same": false
        },
        {
          "line": 1999,
          "old_api": "PushMessage",
          "new_api": null,
          "old_text": "pfrom->PushMessage(\"block\", block)",
          "new_text": null,
          "old_line_content": "                    pfrom->PushMessage(\"block\", block);",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 2008,
          "old_api": "CInv",
          "new_api": null,
          "old_text": "CInv(MSG_BLOCK, hashBestChain)",
          "new_text": null,
          "old_line_content": "                        vInv.push_back(CInv(MSG_BLOCK, hashBestChain));",
          "new_line_content": "                    // Trigger them to send a getblocks request for the next batch of inventory",
          "content_same": false
        },
        {
          "line": 2009,
          "old_api": "PushMessage",
          "new_api": null,
          "old_text": "pfrom->PushMessage(\"inv\", vInv)",
          "new_text": null,
          "old_line_content": "                        pfrom->PushMessage(\"inv\", vInv);",
          "new_line_content": "                    if (inv.hash == pfrom->hashContinue)",
          "content_same": false
        },
        {
          "line": 2014,
          "old_api": "IsKnownType",
          "new_api": null,
          "old_text": "inv.IsKnownType()",
          "new_text": null,
          "old_line_content": "            else if (inv.IsKnownType())",
          "new_line_content": "                        vector<CInv> vInv;",
          "content_same": false
        },
        {
          "line": 2019,
          "old_api": "find",
          "new_api": null,
          "old_text": "mapRelay.find(inv)",
          "new_text": null,
          "old_line_content": "                    map<CInv, CDataStream>::iterator mi = mapRelay.find(inv);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 2020,
          "old_api": "end",
          "new_api": null,
          "old_text": "mapRelay.end()",
          "new_text": null,
          "old_line_content": "                    if (mi != mapRelay.end())",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 2038,
          "old_api": "GetBlockIndex",
          "new_api": null,
          "old_text": "locator.GetBlockIndex()",
          "new_text": null,
          "old_line_content": "        CBlockIndex* pindex = locator.GetBlockIndex();",
          "new_line_content": "    else if (strCommand == \"getblocks\")",
          "content_same": false
        },
        {
          "line": 2043,
          "old_api": "GetDistanceBack",
          "new_api": null,
          "old_text": "locator.GetDistanceBack()",
          "new_text": null,
          "old_line_content": "        int nLimit = 500 + locator.GetDistanceBack();",
          "new_line_content": "",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 165,
      "total_additions": 445,
      "total_deletions": 444,
      "total_api_changes": 1054
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 13,
        "api_related_lines": 1054,
        "non_api_lines": 7,
        "non_api_line_numbers": [
          869,
          871,
          877,
          818,
          883,
          820,
          887
        ]
      }
    },
    "api_calls_before": 1132,
    "api_calls_after": 1133,
    "diff_info": {
      "added_lines": 11,
      "removed_lines": 4,
      "total_diff_lines": 58
    }
  }
}