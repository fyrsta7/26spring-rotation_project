{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/9a1ad2c5cbdfa3114d05df57103c34f72e087f26",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/9a1ad2c5cbdfa3114d05df57103c34f72e087f26/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/9a1ad2c5cbdfa3114d05df57103c34f72e087f26/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/bitcoin/modified_file/9a1ad2c5cbdfa3114d05df57103c34f72e087f26/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 3774,
          "old_api": "GetBlockPosFilename",
          "new_api": "_",
          "old_text": "GetBlockPosFilename(pos, prefix)",
          "new_text": "_(\"Error: Disk space is low!\")",
          "old_line_content": "    fs::path path = GetBlockPosFilename(pos, prefix);",
          "new_line_content": "        return AbortNode(\"Disk space is low!\", _(\"Error: Disk space is low!\"));",
          "content_same": false
        },
        {
          "line": 3784,
          "old_api": "fseek",
          "new_api": "parent_path",
          "old_text": "fseek(file, pos.nPos, SEEK_SET)",
          "new_text": "path.parent_path()",
          "old_line_content": "        if (fseek(file, pos.nPos, SEEK_SET)) {",
          "new_line_content": "    fs::create_directories(path.parent_path());",
          "content_same": false
        },
        {
          "line": 3785,
          "old_api": "string",
          "new_api": "fsbridge::fopen(path, fReadOnly ? \"rb\": \"rb+\")",
          "old_text": "path.string()",
          "new_text": "fsbridge::fopen(path, fReadOnly ? \"rb\": \"rb+\")",
          "old_line_content": "            LogPrintf(\"Unable to seek to position %u of %s\\n\", pos.nPos, path.string());",
          "new_line_content": "    FILE* file = fsbridge::fopen(path, fReadOnly ? \"rb\": \"rb+\");",
          "content_same": false
        },
        {
          "line": 3794,
          "old_api": "OpenDiskFile",
          "new_api": "string",
          "old_text": "OpenDiskFile(pos, \"blk\", fReadOnly)",
          "new_text": "path.string()",
          "old_line_content": "    return OpenDiskFile(pos, \"blk\", fReadOnly);",
          "new_line_content": "            LogPrintf(\"Unable to seek to position %u of %s\\n\", pos.nPos, path.string());",
          "content_same": false
        },
        {
          "line": 3856,
          "old_api": "std::make_pair(pindex->pprev, pindex)",
          "new_api": "std::max(pindex->pprev->nTimeMax, pindex->nTime)",
          "old_text": "std::make_pair(pindex->pprev, pindex)",
          "new_text": "std::max(pindex->pprev->nTimeMax, pindex->nTime)",
          "old_line_content": "                    mapBlocksUnlinked.insert(std::make_pair(pindex->pprev, pindex));",
          "new_line_content": "        pindex->nTimeMax = (pindex->pprev ? std::max(pindex->pprev->nTimeMax, pindex->nTime) : pindex->nTime);",
          "content_same": false
        },
        {
          "line": 3881,
          "old_api": "GetConsensus",
          "new_api": "CBlockIndexWorkComparator",
          "old_text": "chainparams.GetConsensus()",
          "new_text": "CBlockIndexWorkComparator()(pindexBestHeader, pindex)",
          "old_line_content": "    if (!g_chainstate.LoadBlockIndex(chainparams.GetConsensus(), *pblocktree))",
          "new_line_content": "        if (pindex->IsValid(BLOCK_VALID_TREE) && (pindexBestHeader == nullptr || CBlockIndexWorkComparator()(pindexBestHeader, pindex)))",
          "content_same": false
        },
        {
          "line": 3894,
          "old_api": "ReadBlockFileInfo",
          "new_api": "ReadLastBlockFile",
          "old_text": "pblocktree->ReadBlockFileInfo(nFile, info)",
          "new_text": "pblocktree->ReadLastBlockFile(nLastBlockFile)",
          "old_line_content": "        if (pblocktree->ReadBlockFileInfo(nFile, info)) {",
          "new_line_content": "    pblocktree->ReadLastBlockFile(nLastBlockFile);",
          "content_same": false
        },
        {
          "line": 3895,
          "old_api": "push_back",
          "new_api": "resize",
          "old_text": "vinfoBlockFile.push_back(info)",
          "new_text": "vinfoBlockFile.resize(nLastBlockFile + 1)",
          "old_line_content": "            vinfoBlockFile.push_back(info);",
          "new_line_content": "    vinfoBlockFile.resize(nLastBlockFile + 1);",
          "content_same": false
        },
        {
          "line": 3911,
          "old_api": "end",
          "new_api": "LogPrintf",
          "old_text": "setBlkDataFiles.end()",
          "new_text": "LogPrintf(\"Checking all blk files are present...\\n\")",
          "old_line_content": "    for (std::set<int>::iterator it = setBlkDataFiles.begin(); it != setBlkDataFiles.end(); it++)",
          "new_line_content": "    LogPrintf(\"Checking all blk files are present...\\n\");",
          "content_same": false
        },
        {
          "line": 3920,
          "old_api": "ReadFlag",
          "new_api": "end",
          "old_text": "pblocktree->ReadFlag(\"prunedblockfiles\", fHavePruned)",
          "new_text": "setBlkDataFiles.end()",
          "old_line_content": "    pblocktree->ReadFlag(\"prunedblockfiles\", fHavePruned);",
          "new_line_content": "    for (std::set<int>::iterator it = setBlkDataFiles.begin(); it != setBlkDataFiles.end(); it++)",
          "content_same": false
        },
        {
          "line": 3943,
          "old_api": "ActivateBestChain",
          "new_api": "AssertLockHeld",
          "old_text": "ActivateBestChain(state, chainparams)",
          "new_text": "AssertLockHeld(cs_main)",
          "old_line_content": "        if (!ActivateBestChain(state, chainparams)) {",
          "new_line_content": "    AssertLockHeld(cs_main);",
          "content_same": false
        },
        {
          "line": 3950,
          "old_api": "GetBestBlock",
          "new_api": "LogPrintf",
          "old_text": "pcoinsTip->GetBestBlock()",
          "new_text": "LogPrintf(\"%s: Connecting genesis block...\\n\", __func__)",
          "old_line_content": "    CBlockIndex* pindex = LookupBlockIndex(pcoinsTip->GetBestBlock());",
          "new_line_content": "        LogPrintf(\"%s: Connecting genesis block...\\n\", __func__);",
          "content_same": false
        },
        {
          "line": 3959,
          "old_api": "Height",
          "new_api": "GetBestBlock",
          "old_text": "chainActive.Height()",
          "new_text": "pcoinsTip->GetBestBlock()",
          "old_line_content": "        chainActive.Tip()->GetBlockHash().ToString(), chainActive.Height(),",
          "new_line_content": "    CBlockIndex* pindex = LookupBlockIndex(pcoinsTip->GetBestBlock());",
          "content_same": false
        },
        {
          "line": 3967,
          "old_api": "_",
          "new_api": "Tip",
          "old_text": "_(\"Verifying blocks...\")",
          "new_text": "LogPrintf(\"Loaded best chain: hashBestChain=%s height=%d date=%s progress=%f\\n\",\n        chainActive.Tip()->GetBlockHash().ToString(), chainActive.Height(),\n        FormatISO8601DateTime(chainActive.Tip()->GetBlockTime()),\n        GuessVerificationProgress(chainparams.TxData(), chainActive.Tip()))",
          "old_line_content": "    uiInterface.ShowProgress(_(\"Verifying blocks...\"), 0, false);",
          "new_line_content": "    LogPrintf(\"Loaded best chain: hashBestChain=%s height=%d date=%s progress=%f\\n\",",
          "content_same": false
        },
        {
          "line": 3992,
          "old_api": "LogPrintf",
          "new_api": "Height",
          "old_text": "LogPrintf(\"[0%%]...\")",
          "new_text": "chainActive.Height()",
          "old_line_content": "    LogPrintf(\"[0%%]...\"); /* Continued */",
          "new_line_content": "        nCheckDepth = chainActive.Height();",
          "content_same": false
        },
        {
          "line": 3993,
          "old_api": "Tip",
          "new_api": "std::min(4, nCheckLevel)",
          "old_text": "chainActive.Tip()",
          "new_text": "std::min(4, nCheckLevel)",
          "old_line_content": "    for (pindex = chainActive.Tip(); pindex && pindex->pprev; pindex = pindex->pprev) {",
          "new_line_content": "    nCheckLevel = std::max(0, std::min(4, nCheckLevel));",
          "content_same": false
        },
        {
          "line": 3994,
          "old_api": "boost::this_thread::interruption_point()",
          "new_api": "LogPrintf",
          "old_text": "boost::this_thread::interruption_point()",
          "new_text": "LogPrintf(\"Verifying last %i blocks at level %i\\n\", nCheckDepth, nCheckLevel)",
          "old_line_content": "        boost::this_thread::interruption_point();",
          "new_line_content": "    LogPrintf(\"Verifying last %i blocks at level %i\\n\", nCheckDepth, nCheckLevel);",
          "content_same": false
        },
        {
          "line": 4001,
          "old_api": "_",
          "new_api": "LogPrintf",
          "old_text": "_(\"Verifying blocks...\")",
          "new_text": "LogPrintf(\"[0%%]...\")",
          "old_line_content": "        uiInterface.ShowProgress(_(\"Verifying blocks...\"), percentageDone, false);",
          "new_line_content": "    LogPrintf(\"[0%%]...\"); /* Continued */",
          "content_same": false
        },
        {
          "line": 4002,
          "old_api": "Height",
          "new_api": "Tip",
          "old_text": "chainActive.Height()",
          "new_text": "chainActive.Tip()",
          "old_line_content": "        if (pindex->nHeight <= chainActive.Height()-nCheckDepth)",
          "new_line_content": "    for (pindex = chainActive.Tip(); pindex && pindex->pprev; pindex = pindex->pprev) {",
          "content_same": false
        },
        {
          "line": 4011,
          "old_api": "GetConsensus",
          "new_api": "Height",
          "old_text": "chainparams.GetConsensus()",
          "new_text": "chainActive.Height()",
          "old_line_content": "        if (!ReadBlockFromDisk(block, pindex, chainparams.GetConsensus()))",
          "new_line_content": "        if (pindex->nHeight <= chainActive.Height()-nCheckDepth)",
          "content_same": false
        },
        {
          "line": 4015,
          "old_api": "ToString",
          "new_api": "LogPrintf",
          "old_text": "error(\"%s: *** found bad block at %d, hash=%s (%s)\\n\", __func__,\n                         pindex->nHeight, pindex->GetBlockHash().ToString(), FormatStateMessage(state))",
          "new_text": "LogPrintf(\"VerifyDB(): block verification stopping at height %d (pruning, no data)\\n\", pindex->nHeight)",
          "old_line_content": "            return error(\"%s: *** found bad block at %d, hash=%s (%s)\\n\", __func__,",
          "new_line_content": "            LogPrintf(\"VerifyDB(): block verification stopping at height %d (pruning, no data)\\n\", pindex->nHeight);",
          "content_same": false
        },
        {
          "line": 4020,
          "old_api": "IsNull",
          "new_api": "GetConsensus",
          "old_text": "pindex->GetUndoPos().IsNull()",
          "new_text": "chainparams.GetConsensus()",
          "old_line_content": "            if (!pindex->GetUndoPos().IsNull()) {",
          "new_line_content": "        if (!ReadBlockFromDisk(block, pindex, chainparams.GetConsensus()))",
          "content_same": false
        },
        {
          "line": 4021,
          "old_api": "UndoReadFromDisk",
          "new_api": "ToString",
          "old_text": "UndoReadFromDisk(undo, pindex)",
          "new_text": "pindex->GetBlockHash().ToString()",
          "old_line_content": "                if (!UndoReadFromDisk(undo, pindex)) {",
          "new_line_content": "            return error(\"VerifyDB(): *** ReadBlockFromDisk failed at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());",
          "content_same": false
        },
        {
          "line": 4029,
          "old_api": "DisconnectBlock",
          "new_api": "IsNull",
          "old_text": "g_chainstate.DisconnectBlock(block, pindex, coins)",
          "new_text": "pindex->GetUndoPos().IsNull()",
          "old_line_content": "            DisconnectResult res = g_chainstate.DisconnectBlock(block, pindex, coins);",
          "new_line_content": "            if (!pindex->GetUndoPos().IsNull()) {",
          "content_same": false
        },
        {
          "line": 4037,
          "old_api": "size",
          "new_api": "GetBlockHash",
          "old_text": "block.vtx.size()",
          "new_text": "pindex->GetBlockHash()",
          "old_line_content": "                nGoodTransactions += block.vtx.size();",
          "new_line_content": "            assert(coins.GetBestBlock() == pindex->GetBlockHash());",
          "content_same": false
        },
        {
          "line": 4040,
          "old_api": "ShutdownRequested",
          "new_api": "ToString",
          "old_text": "ShutdownRequested()",
          "new_text": "pindex->GetBlockHash().ToString()",
          "old_line_content": "        if (ShutdownRequested())",
          "new_line_content": "                return error(\"VerifyDB(): *** irrecoverable inconsistency in block data at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());",
          "content_same": false
        },
        {
          "line": 4056,
          "old_api": "GetConsensus",
          "new_api": "Height",
          "old_text": "chainparams.GetConsensus()",
          "new_text": "chainActive.Height()",
          "old_line_content": "            if (!ReadBlockFromDisk(block, pindex, chainparams.GetConsensus()))",
          "new_line_content": "    int block_count = chainActive.Height() - pindex->nHeight;",
          "content_same": false
        },
        {
          "line": 4063,
          "old_api": "LogPrintf",
          "new_api": "Next",
          "old_text": "LogPrintf(\"[DONE].\\n\")",
          "new_text": "chainActive.Next(pindex)",
          "old_line_content": "    LogPrintf(\"[DONE].\\n\");",
          "new_line_content": "            pindex = chainActive.Next(pindex);",
          "content_same": false
        },
        {
          "line": 4101,
          "old_api": "LogPrintf",
          "new_api": "LOCK",
          "old_text": "LogPrintf(\"Replaying blocks\\n\")",
          "new_text": "LOCK(cs_main)",
          "old_line_content": "    LogPrintf(\"Replaying blocks\\n\");",
          "new_line_content": "    LOCK(cs_main);",
          "content_same": false
        },
        {
          "line": 4107,
          "old_api": "count",
          "new_api": "error",
          "old_text": "mapBlockIndex.count(hashHeads[0])",
          "new_text": "error(\"ReplayBlocks(): unknown inconsistent state\")",
          "old_line_content": "    if (mapBlockIndex.count(hashHeads[0]) == 0) {",
          "new_line_content": "    if (hashHeads.size() != 2) return error(\"ReplayBlocks(): unknown inconsistent state\");",
          "content_same": false
        },
        {
          "line": 4117,
          "old_api": "LastCommonAncestor",
          "new_api": "error",
          "old_text": "LastCommonAncestor(pindexOld, pindexNew)",
          "new_text": "error(\"ReplayBlocks(): reorganization to unknown block requested\")",
          "old_line_content": "        pindexFork = LastCommonAncestor(pindexOld, pindexNew);",
          "new_line_content": "        return error(\"ReplayBlocks(): reorganization to unknown block requested\");",
          "content_same": false
        },
        {
          "line": 4126,
          "old_api": "ToString",
          "new_api": "LastCommonAncestor",
          "old_text": "pindexOld->GetBlockHash().ToString()",
          "new_text": "LastCommonAncestor(pindexOld, pindexNew)",
          "old_line_content": "                return error(\"RollbackBlock(): ReadBlockFromDisk() failed at %d, hash=%s\", pindexOld->nHeight, pindexOld->GetBlockHash().ToString());",
          "new_line_content": "        pindexFork = LastCommonAncestor(pindexOld, pindexNew);",
          "content_same": false
        },
        {
          "line": 4170,
          "old_api": "GetConsensus",
          "new_api": "LOCK",
          "old_text": "params.GetConsensus()",
          "new_text": "LOCK(cs_main)",
          "old_line_content": "        if (IsWitnessEnabled(chainActive[nHeight - 1], params.GetConsensus()) && !(chainActive[nHeight]->nStatus & BLOCK_OPT_WITNESS)) {",
          "new_line_content": "    LOCK(cs_main);",
          "content_same": false
        },
        {
          "line": 4179,
          "old_api": "Height",
          "new_api": "GetConsensus",
          "old_text": "chainActive.Height()",
          "new_text": "params.GetConsensus()",
          "old_line_content": "    while (chainActive.Height() >= nHeight) {",
          "new_line_content": "        if (IsWitnessEnabled(chainActive[nHeight - 1], params.GetConsensus()) && !(chainActive[nHeight]->nStatus & BLOCK_OPT_WITNESS)) {",
          "content_same": false
        },
        {
          "line": 4188,
          "old_api": "DisconnectTip",
          "new_api": "Height",
          "old_text": "DisconnectTip(state, params, nullptr)",
          "new_text": "chainActive.Height()",
          "old_line_content": "        if (!DisconnectTip(state, params, nullptr)) {",
          "new_line_content": "    while (chainActive.Height() >= nHeight) {",
          "content_same": false
        },
        {
          "line": 4189,
          "old_api": "FormatStateMessage",
          "new_api": "Tip",
          "old_text": "FormatStateMessage(state)",
          "new_text": "chainActive.Tip()",
          "old_line_content": "            return error(\"RewindBlockIndex: unable to disconnect block at height %i (%s)\", pindex->nHeight, FormatStateMessage(state));",
          "new_line_content": "        if (fPruneMode && !(chainActive.Tip()->nStatus & BLOCK_HAVE_DATA)) {",
          "content_same": false
        },
        {
          "line": 4234,
          "old_api": "IsValid",
          "new_api": "erase",
          "old_text": "pindexIter->IsValid(BLOCK_VALID_TRANSACTIONS)",
          "new_text": "setBlockIndexCandidates.erase(pindexIter)",
          "old_line_content": "        } else if (pindexIter->IsValid(BLOCK_VALID_TRANSACTIONS) && pindexIter->nChainTx) {",
          "new_line_content": "            setBlockIndexCandidates.erase(pindexIter);",
          "content_same": false
        },
        {
          "line": 4235,
          "old_api": "insert",
          "new_api": "equal_range",
          "old_text": "setBlockIndexCandidates.insert(pindexIter)",
          "new_text": "mapBlocksUnlinked.equal_range(pindexIter->pprev)",
          "old_line_content": "            setBlockIndexCandidates.insert(pindexIter);",
          "new_line_content": "            std::pair<std::multimap<CBlockIndex*, CBlockIndex*>::iterator, std::multimap<CBlockIndex*, CBlockIndex*>::iterator> ret = mapBlocksUnlinked.equal_range(pindexIter->pprev);",
          "content_same": false
        },
        {
          "line": 4244,
          "old_api": "GetConsensus",
          "new_api": "insert",
          "old_text": "params.GetConsensus()",
          "new_text": "setBlockIndexCandidates.insert(pindexIter)",
          "old_line_content": "        CheckBlockIndex(params.GetConsensus());",
          "new_line_content": "            setBlockIndexCandidates.insert(pindexIter);",
          "content_same": false
        },
        {
          "line": 4251,
          "old_api": "RewindBlockIndex",
          "new_api": "PruneBlockIndexCandidates",
          "old_text": "g_chainstate.RewindBlockIndex(params)",
          "new_text": "PruneBlockIndexCandidates()",
          "old_line_content": "    if (!g_chainstate.RewindBlockIndex(params)) {",
          "new_line_content": "        PruneBlockIndexCandidates();",
          "content_same": false
        },
        {
          "line": 4260,
          "old_api": "FlushStateToDisk",
          "new_api": "RewindBlockIndex",
          "old_text": "FlushStateToDisk(params, state, FlushStateMode::ALWAYS)",
          "new_text": "g_chainstate.RewindBlockIndex(params)",
          "old_line_content": "        if (!FlushStateToDisk(params, state, FlushStateMode::ALWAYS)) {",
          "new_line_content": "    if (!g_chainstate.RewindBlockIndex(params)) {",
          "content_same": false
        },
        {
          "line": 4280,
          "old_api": "LOCK",
          "new_api": "clear",
          "old_text": "LOCK(cs_main)",
          "new_text": "m_failed_blocks.clear()",
          "old_line_content": "    LOCK(cs_main);",
          "new_line_content": "    m_failed_blocks.clear();",
          "content_same": false
        },
        {
          "line": 4281,
          "old_api": "SetTip",
          "new_api": "clear",
          "old_text": "chainActive.SetTip(nullptr)",
          "new_text": "setBlockIndexCandidates.clear()",
          "old_line_content": "    chainActive.SetTip(nullptr);",
          "new_line_content": "    setBlockIndexCandidates.clear();",
          "content_same": false
        },
        {
          "line": 4289,
          "old_api": "clear",
          "new_api": "LOCK",
          "old_text": "setDirtyFileInfo.clear()",
          "new_text": "LOCK(cs_main)",
          "old_line_content": "    setDirtyFileInfo.clear();",
          "new_line_content": "    LOCK(cs_main);",
          "content_same": false
        },
        {
          "line": 4290,
          "old_api": "Clear",
          "new_api": "SetTip",
          "old_text": "versionbitscache.Clear()",
          "new_text": "chainActive.SetTip(nullptr)",
          "old_line_content": "    versionbitscache.Clear();",
          "new_line_content": "    chainActive.SetTip(nullptr);",
          "content_same": false
        },
        {
          "line": 4301,
          "old_api": "UnloadBlockIndex",
          "new_api": "clear",
          "old_text": "g_chainstate.UnloadBlockIndex()",
          "new_text": "warningcache[b].clear()",
          "old_line_content": "    g_chainstate.UnloadBlockIndex();",
          "new_line_content": "        warningcache[b].clear();",
          "content_same": false
        },
        {
          "line": 4343,
          "old_api": "GetConsensus",
          "new_api": "GenesisBlock",
          "old_text": "chainparams.GetConsensus()",
          "new_text": "chainparams.GenesisBlock().GetHash()",
          "old_line_content": "        ReceivedBlockTransactions(block, pindex, blockPos, chainparams.GetConsensus());",
          "new_line_content": "    if (mapBlockIndex.count(chainparams.GenesisBlock().GetHash()))",
          "content_same": false
        },
        {
          "line": 4377,
          "old_api": "MessageStart",
          "new_api": "boost::this_thread::interruption_point()",
          "old_text": "chainparams.MessageStart()",
          "new_text": "boost::this_thread::interruption_point()",
          "old_line_content": "                blkdat.FindByte(chainparams.MessageStart()[0]);",
          "new_line_content": "            boost::this_thread::interruption_point();",
          "content_same": false
        },
        {
          "line": 4404,
          "old_api": "LOCK",
          "new_api": "SetLimit",
          "old_text": "LOCK(cs_main)",
          "new_text": "blkdat.SetLimit(nBlockPos + nSize)",
          "old_line_content": "                    LOCK(cs_main);",
          "new_line_content": "                blkdat.SetLimit(nBlockPos + nSize);",
          "content_same": false
        },
        {
          "line": 4406,
          "old_api": "LookupBlockIndex",
          "new_api": "std::make_shared<CBlock>()",
          "old_text": "LookupBlockIndex(block.hashPrevBlock)",
          "new_text": "std::make_shared<CBlock>()",
          "old_line_content": "                    if (hash != chainparams.GetConsensus().hashGenesisBlock && !LookupBlockIndex(block.hashPrevBlock)) {",
          "new_line_content": "                std::shared_ptr<CBlock> pblock = std::make_shared<CBlock>();",
          "content_same": false
        },
        {
          "line": 4424,
          "old_api": "GetConsensus",
          "new_api": "LookupBlockIndex",
          "old_text": "chainparams.GetConsensus()",
          "new_text": "LookupBlockIndex(hash)",
          "old_line_content": "                    } else if (hash != chainparams.GetConsensus().hashGenesisBlock && pindex->nHeight % 1000 == 0) {",
          "new_line_content": "                    CBlockIndex* pindex = LookupBlockIndex(hash);",
          "content_same": false
        },
        {
          "line": 4430,
          "old_api": "GetConsensus",
          "new_api": "IsError",
          "old_text": "chainparams.GetConsensus()",
          "new_text": "state.IsError()",
          "old_line_content": "                if (hash == chainparams.GetConsensus().hashGenesisBlock) {",
          "new_line_content": "                      if (state.IsError()) {",
          "content_same": false
        },
        {
          "line": 4441,
          "old_api": "push_back",
          "new_api": "ActivateBestChain",
          "old_text": "queue.push_back(hash)",
          "new_text": "ActivateBestChain(state, chainparams)",
          "old_line_content": "                queue.push_back(hash);",
          "new_line_content": "                    if (!ActivateBestChain(state, chainparams)) {",
          "content_same": false
        },
        {
          "line": 4451,
          "old_api": "ToString",
          "new_api": "empty",
          "old_text": "pblockrecursive->GetHash().ToString()",
          "new_text": "queue.empty()",
          "old_line_content": "                            LogPrint(BCLog::REINDEX, \"%s: Processing out of order child %s of %s\\n\", __func__, pblockrecursive->GetHash().ToString(),",
          "new_line_content": "                while (!queue.empty()) {",
          "content_same": false
        },
        {
          "line": 4452,
          "old_api": "ToString",
          "new_api": "front",
          "old_text": "head.ToString()",
          "new_text": "queue.front()",
          "old_line_content": "                                    head.ToString());",
          "new_line_content": "                    uint256 head = queue.front();",
          "content_same": false
        },
        {
          "line": 4453,
          "old_api": "LOCK",
          "new_api": "pop_front",
          "old_text": "LOCK(cs_main)",
          "new_text": "queue.pop_front()",
          "old_line_content": "                            LOCK(cs_main);",
          "new_line_content": "                    queue.pop_front();",
          "content_same": false
        },
        {
          "line": 4458,
          "old_api": "GetHash",
          "new_api": "GetConsensus",
          "old_text": "pblockrecursive->GetHash()",
          "new_text": "chainparams.GetConsensus()",
          "old_line_content": "                                queue.push_back(pblockrecursive->GetHash());",
          "new_line_content": "                        if (ReadBlockFromDisk(*pblockrecursive, it->second, chainparams.GetConsensus()))",
          "content_same": false
        },
        {
          "line": 4462,
          "old_api": "erase",
          "new_api": "LOCK",
          "old_text": "mapBlocksUnknownParent.erase(it)",
          "new_text": "LOCK(cs_main)",
          "old_line_content": "                        mapBlocksUnknownParent.erase(it);",
          "new_line_content": "                            LOCK(cs_main);",
          "content_same": false
        },
        {
          "line": 4467,
          "old_api": "what",
          "new_api": "GetHash",
          "old_text": "e.what()",
          "new_text": "pblockrecursive->GetHash()",
          "old_line_content": "                LogPrintf(\"%s: Deserialize or I/O error - %s\\n\", __func__, e.what());",
          "new_line_content": "                                queue.push_back(pblockrecursive->GetHash());",
          "content_same": false
        },
        {
          "line": 4471,
          "old_api": "what",
          "new_api": "erase",
          "old_text": "e.what()",
          "new_text": "mapBlocksUnknownParent.erase(it)",
          "old_line_content": "        AbortNode(std::string(\"System error: \") + e.what());",
          "new_line_content": "                        mapBlocksUnknownParent.erase(it);",
          "content_same": false
        },
        {
          "line": 4541,
          "old_api": "assert",
          "new_api": "GetBlockHash",
          "old_text": "assert(pindexFirstMissing == pindexFirstNeverProcessed)",
          "new_text": "pindex->GetBlockHash()",
          "old_line_content": "            assert(pindexFirstMissing == pindexFirstNeverProcessed);",
          "new_line_content": "            assert(pindex->GetBlockHash() == consensusParams.hashGenesisBlock); // Genesis block's hash must match.",
          "content_same": false
        },
        {
          "line": 4562,
          "old_api": "Tip",
          "new_api": "assert",
          "old_text": "chainActive.Tip()",
          "new_text": "assert(nHeight < 2 || (pindex->pskip && (pindex->pskip->nHeight < nHeight)))",
          "old_line_content": "        if (!CBlockIndexWorkComparator()(pindex, chainActive.Tip()) && pindexFirstNeverProcessed == nullptr) {",
          "new_line_content": "        assert(nHeight < 2 || (pindex->pskip && (pindex->pskip->nHeight < nHeight))); // The pskip pointer must point back for all but the first 2 blocks.",
          "content_same": false
        },
        {
          "line": 4569,
          "old_api": "count",
          "new_api": "assert",
          "old_text": "setBlockIndexCandidates.count(pindex)",
          "new_text": "assert((pindex->nStatus & BLOCK_FAILED_MASK) == 0)",
          "old_line_content": "                    assert(setBlockIndexCandidates.count(pindex));",
          "new_line_content": "            assert((pindex->nStatus & BLOCK_FAILED_MASK) == 0); // The failed mask cannot be set for blocks without invalid parents.",
          "content_same": false
        },
        {
          "line": 4606,
          "old_api": "count",
          "new_api": "assert",
          "old_text": "setBlockIndexCandidates.count(pindex)",
          "new_text": "assert(fHavePruned)",
          "old_line_content": "            if (!CBlockIndexWorkComparator()(pindex, chainActive.Tip()) && setBlockIndexCandidates.count(pindex) == 0) {",
          "new_line_content": "            assert(fHavePruned); // We must have pruned.",
          "content_same": false
        },
        {
          "line": 4697,
          "old_api": "GetArg",
          "new_api": "LOCK",
          "old_text": "gArgs.GetArg(\"-mempoolexpiry\", DEFAULT_MEMPOOL_EXPIRY)",
          "new_text": "LOCK(cs_main)",
          "old_line_content": "    int64_t nExpiryTimeout = gArgs.GetArg(\"-mempoolexpiry\", DEFAULT_MEMPOOL_EXPIRY) * 60 * 60;",
          "new_line_content": "    LOCK(cs_main);",
          "content_same": false
        },
        {
          "line": 4698,
          "old_api": "GetDataDir",
          "new_api": "Tip",
          "old_text": "GetDataDir()",
          "new_text": "chainActive.Tip()",
          "old_line_content": "    FILE* filestr = fsbridge::fopen(GetDataDir() / \"mempool.dat\", \"rb\");",
          "new_line_content": "    return VersionBitsStateSinceHeight(chainActive.Tip(), params, pos, versionbitscache);",
          "content_same": false
        },
        {
          "line": 4709,
          "old_api": "GetTime",
          "new_api": "IsNull",
          "old_text": "GetTime()",
          "new_text": "file.IsNull()",
          "old_line_content": "    int64_t nNow = GetTime();",
          "new_line_content": "    if (file.IsNull()) {",
          "content_same": false
        },
        {
          "line": 4753,
          "old_api": "ShutdownRequested",
          "new_api": "GetHash",
          "old_text": "ShutdownRequested()",
          "new_text": "tx->GetHash()",
          "old_line_content": "            if (ShutdownRequested())",
          "new_line_content": "                    if (mempool.exists(tx->GetHash())) {",
          "content_same": false
        },
        {
          "line": 4808,
          "old_api": "Get",
          "new_api": "size",
          "old_text": "file.Get()",
          "new_text": "vinfo.size()",
          "old_line_content": "        if (!FileCommit(file.Get()))",
          "new_line_content": "        file << (uint64_t)vinfo.size();",
          "content_same": false
        },
        {
          "line": 4813,
          "old_api": "LogPrintf",
          "new_api": "GetHash",
          "old_text": "LogPrintf(\"Dumped mempool: %gs to copy, %gs to dump\\n\", (mid-start)*MICRO, (last-mid)*MICRO)",
          "new_text": "i.tx->GetHash()",
          "old_line_content": "        LogPrintf(\"Dumped mempool: %gs to copy, %gs to dump\\n\", (mid-start)*MICRO, (last-mid)*MICRO);",
          "new_line_content": "            mapDeltas.erase(i.tx->GetHash());",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 4615,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "setBlockIndexCandidates.count(pindex)",
          "old_line_content": "        // Try descending into the first subnode.",
          "new_line_content": "            if (!CBlockIndexWorkComparator()(pindex, chainActive.Tip()) && setBlockIndexCandidates.count(pindex) == 0) {",
          "content_same": false
        },
        {
          "line": 4105,
          "old_api": null,
          "new_api": "GetHeadBlocks",
          "old_text": null,
          "new_text": "view->GetHeadBlocks()",
          "old_line_content": "    const CBlockIndex* pindexFork = nullptr; // Latest block common to both the old and the new tip.",
          "new_line_content": "    std::vector<uint256> hashHeads = view->GetHeadBlocks();",
          "content_same": false
        },
        {
          "line": 4106,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "hashHeads.empty()",
          "old_line_content": "",
          "new_line_content": "    if (hashHeads.empty()) return true; // We're already in a consistent state.",
          "content_same": false
        },
        {
          "line": 4617,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(foundInUnlinked)",
          "old_line_content": "        if (range.first != range.second) {",
          "new_line_content": "                    assert(foundInUnlinked);",
          "content_same": false
        },
        {
          "line": 4109,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Replaying blocks...\")",
          "old_line_content": "    }",
          "new_line_content": "    uiInterface.ShowProgress(_(\"Replaying blocks...\"), 0, false);",
          "content_same": false
        },
        {
          "line": 4110,
          "old_api": null,
          "new_api": "LogPrintf",
          "old_text": null,
          "new_text": "LogPrintf(\"Replaying blocks\\n\")",
          "old_line_content": "    pindexNew = mapBlockIndex[hashHeads[0]];",
          "new_line_content": "    LogPrintf(\"Replaying blocks\\n\");",
          "content_same": false
        },
        {
          "line": 4625,
          "old_api": null,
          "new_api": "equal_range",
          "old_text": null,
          "new_text": "forward.equal_range(pindex)",
          "old_line_content": "        while (pindex) {",
          "new_line_content": "        std::pair<std::multimap<CBlockIndex*,CBlockIndex*>::iterator,std::multimap<CBlockIndex*,CBlockIndex*>::iterator> range = forward.equal_range(pindex);",
          "content_same": false
        },
        {
          "line": 4116,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "mapBlockIndex.count(hashHeads[0])",
          "old_line_content": "        pindexOld = mapBlockIndex[hashHeads[1]];",
          "new_line_content": "    if (mapBlockIndex.count(hashHeads[0]) == 0) {",
          "content_same": false
        },
        {
          "line": 4121,
          "old_api": null,
          "new_api": "IsNull",
          "old_text": null,
          "new_text": "hashHeads[1].IsNull()",
          "old_line_content": "    // Rollback along the old branch.",
          "new_line_content": "    if (!hashHeads[1].IsNull()) { // The old tip is allowed to be 0, indicating it's the first flush.",
          "content_same": false
        },
        {
          "line": 4122,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "mapBlockIndex.count(hashHeads[1])",
          "old_line_content": "    while (pindexOld != pindexFork) {",
          "new_line_content": "        if (mapBlockIndex.count(hashHeads[1]) == 0) {",
          "content_same": false
        },
        {
          "line": 4123,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"ReplayBlocks(): reorganization from unknown block requested\")",
          "old_line_content": "        if (pindexOld->nHeight > 0) { // Never disconnect the genesis block.",
          "new_line_content": "            return error(\"ReplayBlocks(): reorganization from unknown block requested\");",
          "content_same": false
        },
        {
          "line": 4127,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(pindexFork != nullptr)",
          "old_line_content": "            }",
          "new_line_content": "        assert(pindexFork != nullptr);",
          "content_same": false
        },
        {
          "line": 4134,
          "old_api": null,
          "new_api": "GetConsensus",
          "old_text": null,
          "new_text": "params.GetConsensus()",
          "old_line_content": "            // overwritten. It corresponds to cases where the block-to-be-disconnect never had all its operations",
          "new_line_content": "            if (!ReadBlockFromDisk(block, pindexOld, params.GetConsensus())) {",
          "content_same": false
        },
        {
          "line": 4135,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "pindexOld->GetBlockHash().ToString()",
          "old_line_content": "            // applied to the UTXO set. However, as both writing a UTXO and deleting a UTXO are idempotent operations,",
          "new_line_content": "                return error(\"RollbackBlock(): ReadBlockFromDisk() failed at %d, hash=%s\", pindexOld->nHeight, pindexOld->GetBlockHash().ToString());",
          "content_same": false
        },
        {
          "line": 4647,
          "old_api": null,
          "new_api": "equal_range",
          "old_text": null,
          "new_text": "forward.equal_range(pindexPar)",
          "old_line_content": "                pindex = rangePar.first->second;",
          "new_line_content": "            std::pair<std::multimap<CBlockIndex*,CBlockIndex*>::iterator,std::multimap<CBlockIndex*,CBlockIndex*>::iterator> rangePar = forward.equal_range(pindexPar);",
          "content_same": false
        },
        {
          "line": 4137,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "pindexOld->GetBlockHash().ToString()",
          "old_line_content": "        }",
          "new_line_content": "            LogPrintf(\"Rolling back %s (%i)\\n\", pindexOld->GetBlockHash().ToString(), pindexOld->nHeight);",
          "content_same": false
        },
        {
          "line": 4138,
          "old_api": null,
          "new_api": "DisconnectBlock",
          "old_text": null,
          "new_text": "DisconnectBlock(block, pindexOld, cache)",
          "old_line_content": "        pindexOld = pindexOld->pprev;",
          "new_line_content": "            DisconnectResult res = DisconnectBlock(block, pindexOld, cache);",
          "content_same": false
        },
        {
          "line": 4649,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(rangePar.first != rangePar.second)",
          "old_line_content": "            } else {",
          "new_line_content": "                assert(rangePar.first != rangePar.second); // Our parent must have at least the node we're coming from as child.",
          "content_same": false
        },
        {
          "line": 4140,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "pindexOld->GetBlockHash().ToString()",
          "old_line_content": "",
          "new_line_content": "                return error(\"RollbackBlock(): DisconnectBlock failed at %d, hash=%s\", pindexOld->nHeight, pindexOld->GetBlockHash().ToString());",
          "content_same": false
        },
        {
          "line": 4153,
          "old_api": null,
          "new_api": "GetAncestor",
          "old_text": null,
          "new_text": "pindexNew->GetAncestor(nHeight)",
          "old_line_content": "}",
          "new_line_content": "        const CBlockIndex* pindex = pindexNew->GetAncestor(nHeight);",
          "content_same": false
        },
        {
          "line": 4154,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "pindex->GetBlockHash().ToString()",
          "old_line_content": "",
          "new_line_content": "        LogPrintf(\"Rolling forward %s (%i)\\n\", pindex->GetBlockHash().ToString(), nHeight);",
          "content_same": false
        },
        {
          "line": 4155,
          "old_api": null,
          "new_api": "RollforwardBlock",
          "old_text": null,
          "new_text": "RollforwardBlock(pindex, cache, params)",
          "old_line_content": "bool ReplayBlocks(const CChainParams& params, CCoinsView* view) {",
          "new_line_content": "        if (!RollforwardBlock(pindex, cache, params)) return false;",
          "content_same": false
        },
        {
          "line": 4668,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "forward.size()",
          "old_line_content": "{",
          "new_line_content": "    assert(nNodes == forward.size());",
          "content_same": false
        },
        {
          "line": 4158,
          "old_api": null,
          "new_api": "GetBlockHash",
          "old_text": null,
          "new_text": "pindexNew->GetBlockHash()",
          "old_line_content": "",
          "new_line_content": "    cache.SetBestBlock(pindexNew->GetBlockHash());",
          "content_same": false
        },
        {
          "line": 4159,
          "old_api": null,
          "new_api": "Flush",
          "old_text": null,
          "new_text": "cache.Flush()",
          "old_line_content": "bool CChainState::RewindBlockIndex(const CChainParams& params)",
          "new_line_content": "    cache.Flush();",
          "content_same": false
        },
        {
          "line": 4160,
          "old_api": null,
          "new_api": "ShowProgress",
          "old_text": null,
          "new_text": "uiInterface.ShowProgress(\"\", 100, false)",
          "old_line_content": "{",
          "new_line_content": "    uiInterface.ShowProgress(\"\", 100, false);",
          "content_same": false
        },
        {
          "line": 4673,
          "old_api": null,
          "new_api": "FormatISO8601Date",
          "old_text": null,
          "new_text": "FormatISO8601Date(nTimeLast)",
          "old_line_content": "",
          "new_line_content": "    return strprintf(\"CBlockFileInfo(blocks=%u, size=%u, heights=%u...%u, time=%s...%s)\", nBlocks, nSize, nHeightFirst, nHeightLast, FormatISO8601Date(nTimeFirst), FormatISO8601Date(nTimeLast));",
          "content_same": false
        },
        {
          "line": 4165,
          "old_api": null,
          "new_api": "ReplayBlocks",
          "old_text": null,
          "new_text": "g_chainstate.ReplayBlocks(params, view)",
          "old_line_content": "    int nHeight = 1;",
          "new_line_content": "    return g_chainstate.ReplayBlocks(params, view);",
          "content_same": false
        },
        {
          "line": 4678,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(cs_LastBlockFile)",
          "old_line_content": "}",
          "new_line_content": "    LOCK(cs_LastBlockFile);",
          "content_same": false
        },
        {
          "line": 4680,
          "old_api": null,
          "new_api": "at",
          "old_text": null,
          "new_text": "vinfoBlockFile.at(n)",
          "old_line_content": "BIP9Stats VersionBitsTipStatistics(const Consensus::Params& params, Consensus::DeploymentPos pos)",
          "new_line_content": "    return &vinfoBlockFile.at(n);",
          "content_same": false
        },
        {
          "line": 4685,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(cs_main)",
          "old_line_content": "",
          "new_line_content": "    LOCK(cs_main);",
          "content_same": false
        },
        {
          "line": 4686,
          "old_api": null,
          "new_api": "Tip",
          "old_text": null,
          "new_text": "chainActive.Tip()",
          "old_line_content": "int VersionBitsTipStateSinceHeight(const Consensus::Params& params, Consensus::DeploymentPos pos)",
          "new_line_content": "    return VersionBitsState(chainActive.Tip(), params, pos, versionbitscache);",
          "content_same": false
        },
        {
          "line": 4175,
          "old_api": null,
          "new_api": "Height",
          "old_text": null,
          "new_text": "chainActive.Height()",
          "old_line_content": "",
          "new_line_content": "    while (nHeight <= chainActive.Height()) {",
          "content_same": false
        },
        {
          "line": 4691,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(cs_main)",
          "old_line_content": "",
          "new_line_content": "    LOCK(cs_main);",
          "content_same": false
        },
        {
          "line": 4692,
          "old_api": null,
          "new_api": "Tip",
          "old_text": null,
          "new_text": "chainActive.Tip()",
          "old_line_content": "static const uint64_t MEMPOOL_DUMP_VERSION = 1;",
          "new_line_content": "    return VersionBitsStatistics(chainActive.Tip(), params, pos);",
          "content_same": false
        },
        {
          "line": 4088,
          "old_api": null,
          "new_api": "IsCoinBase",
          "old_text": null,
          "new_text": "tx->IsCoinBase()",
          "old_line_content": "}",
          "new_line_content": "        if (!tx->IsCoinBase()) {",
          "content_same": false
        },
        {
          "line": 4187,
          "old_api": null,
          "new_api": "Tip",
          "old_text": null,
          "new_text": "chainActive.Tip()",
          "old_line_content": "        }",
          "new_line_content": "    CBlockIndex* pindex = chainActive.Tip();",
          "content_same": false
        },
        {
          "line": 4705,
          "old_api": null,
          "new_api": "Params",
          "old_text": null,
          "new_text": "Params()",
          "old_line_content": "    int64_t count = 0;",
          "new_line_content": "    const CChainParams& chainparams = Params();",
          "content_same": false
        },
        {
          "line": 4706,
          "old_api": null,
          "new_api": "GetArg",
          "old_text": null,
          "new_text": "gArgs.GetArg(\"-mempoolexpiry\", DEFAULT_MEMPOOL_EXPIRY)",
          "old_line_content": "    int64_t expired = 0;",
          "new_line_content": "    int64_t nExpiryTimeout = gArgs.GetArg(\"-mempoolexpiry\", DEFAULT_MEMPOOL_EXPIRY) * 60 * 60;",
          "content_same": false
        },
        {
          "line": 4707,
          "old_api": null,
          "new_api": "GetDataDir",
          "old_text": null,
          "new_text": "GetDataDir()",
          "old_line_content": "    int64_t failed = 0;",
          "new_line_content": "    FILE* filestr = fsbridge::fopen(GetDataDir() / \"mempool.dat\", \"rb\");",
          "content_same": false
        },
        {
          "line": 4090,
          "old_api": null,
          "new_api": "SpendCoin",
          "old_text": null,
          "new_text": "inputs.SpendCoin(txin.prevout)",
          "old_line_content": "bool CChainState::ReplayBlocks(const CChainParams& params, CCoinsView* view)",
          "new_line_content": "                inputs.SpendCoin(txin.prevout);",
          "content_same": false
        },
        {
          "line": 4197,
          "old_api": null,
          "new_api": "DisconnectTip",
          "old_text": null,
          "new_text": "DisconnectTip(state, params, nullptr)",
          "old_line_content": "",
          "new_line_content": "        if (!DisconnectTip(state, params, nullptr)) {",
          "content_same": false
        },
        {
          "line": 4198,
          "old_api": null,
          "new_api": "FormatStateMessage",
          "old_text": null,
          "new_text": "FormatStateMessage(state)",
          "old_line_content": "    // Reduce validity flag and have-data flags.",
          "new_line_content": "            return error(\"RewindBlockIndex: unable to disconnect block at height %i (%s)\", pindex->nHeight, FormatStateMessage(state));",
          "content_same": false
        },
        {
          "line": 4710,
          "old_api": null,
          "new_api": "LogPrintf",
          "old_text": null,
          "new_text": "LogPrintf(\"Failed to open mempool file from disk. Continuing anyway.\\n\")",
          "old_line_content": "",
          "new_line_content": "        LogPrintf(\"Failed to open mempool file from disk. Continuing anyway.\\n\");",
          "content_same": false
        },
        {
          "line": 4201,
          "old_api": null,
          "new_api": "FlushStateToDisk",
          "old_text": null,
          "new_text": "FlushStateToDisk(params, state, FlushStateMode::PERIODIC)",
          "old_line_content": "    for (const auto& entry : mapBlockIndex) {",
          "new_line_content": "        if (!FlushStateToDisk(params, state, FlushStateMode::PERIODIC)) {",
          "content_same": false
        },
        {
          "line": 4202,
          "old_api": null,
          "new_api": "FormatStateMessage",
          "old_text": null,
          "new_text": "FormatStateMessage(state)",
          "old_line_content": "        CBlockIndex* pindexIter = entry.second;",
          "new_line_content": "            LogPrintf(\"RewindBlockIndex: unable to flush state to disk (%s)\\n\", FormatStateMessage(state));",
          "content_same": false
        },
        {
          "line": 4718,
          "old_api": null,
          "new_api": "GetTime",
          "old_text": null,
          "new_text": "GetTime()",
          "old_line_content": "        file >> num;",
          "new_line_content": "    int64_t nNow = GetTime();",
          "content_same": false
        },
        {
          "line": 4218,
          "old_api": null,
          "new_api": "Contains",
          "old_text": null,
          "new_text": "chainActive.Contains(pindexIter)",
          "old_line_content": "            // Remove various other things",
          "new_line_content": "        if (IsWitnessEnabled(pindexIter->pprev, params.GetConsensus()) && !(pindexIter->nStatus & BLOCK_OPT_WITNESS) && !chainActive.Contains(pindexIter)) {",
          "content_same": false
        },
        {
          "line": 4220,
          "old_api": null,
          "new_api": "std::min<unsigned int>(pindexIter->nStatus & BLOCK_VALID_MASK, BLOCK_VALID_TREE)",
          "old_text": null,
          "new_text": "std::min<unsigned int>(pindexIter->nStatus & BLOCK_VALID_MASK, BLOCK_VALID_TREE)",
          "old_line_content": "            pindexIter->nChainTx = 0;",
          "new_line_content": "            pindexIter->nStatus = std::min<unsigned int>(pindexIter->nStatus & BLOCK_VALID_MASK, BLOCK_VALID_TREE) | (pindexIter->nStatus & ~BLOCK_VALID_MASK);",
          "content_same": false
        },
        {
          "line": 4738,
          "old_api": null,
          "new_api": "GetHash",
          "old_text": null,
          "new_text": "tx->GetHash()",
          "old_line_content": "                    ++count;",
          "new_line_content": "                mempool.PrioritiseTransaction(tx->GetHash(), amountdelta);",
          "content_same": false
        },
        {
          "line": 4742,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(cs_main)",
          "old_line_content": "                    // mempool transactions; consider these as valid, instead of",
          "new_line_content": "                LOCK(cs_main);",
          "content_same": false
        },
        {
          "line": 4743,
          "old_api": null,
          "new_api": "AcceptToMemoryPoolWithTime",
          "old_text": null,
          "new_text": "AcceptToMemoryPoolWithTime(chainparams, mempool, state, tx, nullptr /* pfMissingInputs */, nTime,\n                                           nullptr /* plTxnReplaced */, false /* bypass_limits */, 0 /* nAbsurdFee */,\n                                           false /* test_accept */)",
          "old_line_content": "                    // failed, but mark them as 'already there'",
          "new_line_content": "                AcceptToMemoryPoolWithTime(chainparams, mempool, state, tx, nullptr /* pfMissingInputs */, nTime,",
          "content_same": false
        },
        {
          "line": 4232,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "setDirtyBlockIndex.insert(pindexIter)",
          "old_line_content": "                }",
          "new_line_content": "            setDirtyBlockIndex.insert(pindexIter);",
          "content_same": false
        },
        {
          "line": 4746,
          "old_api": null,
          "new_api": "IsValid",
          "old_text": null,
          "new_text": "state.IsValid()",
          "old_line_content": "                    } else {",
          "new_line_content": "                if (state.IsValid()) {",
          "content_same": false
        },
        {
          "line": 4238,
          "old_api": null,
          "new_api": "erase",
          "old_text": null,
          "new_text": "mapBlocksUnlinked.erase(ret.first++)",
          "old_line_content": "",
          "new_line_content": "                    mapBlocksUnlinked.erase(ret.first++);",
          "content_same": false
        },
        {
          "line": 4243,
          "old_api": null,
          "new_api": "IsValid",
          "old_text": null,
          "new_text": "pindexIter->IsValid(BLOCK_VALID_TRANSACTIONS)",
          "old_line_content": "",
          "new_line_content": "        } else if (pindexIter->IsValid(BLOCK_VALID_TRANSACTIONS) && pindexIter->nChainTx) {",
          "content_same": false
        },
        {
          "line": 4248,
          "old_api": null,
          "new_api": "Tip",
          "old_text": null,
          "new_text": "chainActive.Tip()",
          "old_line_content": "}",
          "new_line_content": "    if (chainActive.Tip() != nullptr) {",
          "content_same": false
        },
        {
          "line": 3736,
          "old_api": null,
          "new_api": "IsInitialBlockDownload",
          "old_text": null,
          "new_text": "IsInitialBlockDownload()",
          "old_line_content": "                continue;",
          "new_line_content": "        if (IsInitialBlockDownload()) {",
          "content_same": false
        },
        {
          "line": 4762,
          "old_api": null,
          "new_api": "ShutdownRequested",
          "old_text": null,
          "new_text": "ShutdownRequested()",
          "old_line_content": "    } catch (const std::exception& e) {",
          "new_line_content": "            if (ShutdownRequested())",
          "content_same": false
        },
        {
          "line": 4253,
          "old_api": null,
          "new_api": "GetConsensus",
          "old_text": null,
          "new_text": "params.GetConsensus()",
          "old_line_content": "    }",
          "new_line_content": "        CheckBlockIndex(params.GetConsensus());",
          "content_same": false
        },
        {
          "line": 4769,
          "old_api": null,
          "new_api": "PrioritiseTransaction",
          "old_text": null,
          "new_text": "mempool.PrioritiseTransaction(i.first, i.second)",
          "old_line_content": "}",
          "new_line_content": "            mempool.PrioritiseTransaction(i.first, i.second);",
          "content_same": false
        },
        {
          "line": 4772,
          "old_api": null,
          "new_api": "what",
          "old_text": null,
          "new_text": "e.what()",
          "old_line_content": "{",
          "new_line_content": "        LogPrintf(\"Failed to deserialize mempool data on disk: %s. Continuing anyway.\\n\", e.what());",
          "content_same": false
        },
        {
          "line": 4264,
          "old_api": null,
          "new_api": "Tip",
          "old_text": null,
          "new_text": "chainActive.Tip()",
          "old_line_content": "    }",
          "new_line_content": "    if (chainActive.Tip() != nullptr) {",
          "content_same": false
        },
        {
          "line": 4776,
          "old_api": null,
          "new_api": "LogPrintf",
          "old_text": null,
          "new_text": "LogPrintf(\"Imported mempool transactions from disk: %i succeeded, %i failed, %i expired, %i already there\\n\", count, failed, expired, already_there)",
          "old_line_content": "    std::vector<TxMempoolInfo> vinfo;",
          "new_line_content": "    LogPrintf(\"Imported mempool transactions from disk: %i succeeded, %i failed, %i expired, %i already there\\n\", count, failed, expired, already_there);",
          "content_same": false
        },
        {
          "line": 3754,
          "old_api": null,
          "new_api": "PruneOneBlockFile",
          "old_text": null,
          "new_text": "PruneOneBlockFile(fileNumber)",
          "old_line_content": "           nPruneTarget/1024/1024, nCurrentUsage/1024/1024,",
          "new_line_content": "            PruneOneBlockFile(fileNumber);",
          "content_same": false
        },
        {
          "line": 3756,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "setFilesToPrune.insert(fileNumber)",
          "old_line_content": "           nLastBlockWeCanPrune, count);",
          "new_line_content": "            setFilesToPrune.insert(fileNumber);",
          "content_same": false
        },
        {
          "line": 4269,
          "old_api": null,
          "new_api": "FlushStateToDisk",
          "old_text": null,
          "new_text": "FlushStateToDisk(params, state, FlushStateMode::ALWAYS)",
          "old_line_content": "void CChainState::UnloadBlockIndex() {",
          "new_line_content": "        if (!FlushStateToDisk(params, state, FlushStateMode::ALWAYS)) {",
          "content_same": false
        },
        {
          "line": 4270,
          "old_api": null,
          "new_api": "FormatStateMessage",
          "old_text": null,
          "new_text": "FormatStateMessage(state)",
          "old_line_content": "    nBlockSequenceId = 1;",
          "new_line_content": "            LogPrintf(\"RewindBlockIndex: unable to flush state to disk (%s)\\n\", FormatStateMessage(state));",
          "content_same": false
        },
        {
          "line": 4782,
          "old_api": null,
          "new_api": "GetTimeMicros",
          "old_text": null,
          "new_text": "GetTimeMicros()",
          "old_line_content": "        }",
          "new_line_content": "    int64_t start = GetTimeMicros();",
          "content_same": false
        },
        {
          "line": 3762,
          "old_api": null,
          "new_api": "LogPrint",
          "old_text": null,
          "new_text": "LogPrint(BCLog::PRUNE, \"Prune: target=%dMiB actual=%dMiB diff=%dMiB max_prune_height=%d removed %d blk/rev pairs\\n\",\n           nPruneTarget/1024/1024, nCurrentUsage/1024/1024,\n           ((int64_t)nPruneTarget - (int64_t)nCurrentUsage)/1024/1024,\n           nLastBlockWeCanPrune, count)",
          "old_line_content": "",
          "new_line_content": "    LogPrint(BCLog::PRUNE, \"Prune: target=%dMiB actual=%dMiB diff=%dMiB max_prune_height=%d removed %d blk/rev pairs\\n\",",
          "content_same": false
        },
        {
          "line": 4788,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(mempool.cs)",
          "old_line_content": "    try {",
          "new_line_content": "        LOCK(mempool.cs);",
          "content_same": false
        },
        {
          "line": 4792,
          "old_api": null,
          "new_api": "infoAll",
          "old_text": null,
          "new_text": "mempool.infoAll()",
          "old_line_content": "        }",
          "new_line_content": "        vinfo = mempool.infoAll();",
          "content_same": false
        },
        {
          "line": 3770,
          "old_api": null,
          "new_api": "GetDataDir",
          "old_text": null,
          "new_text": "GetDataDir()",
          "old_line_content": "static FILE* OpenDiskFile(const CDiskBlockPos &pos, const char *prefix, bool fReadOnly)",
          "new_line_content": "    uint64_t nFreeBytesAvailable = fs::space(blocks_dir ? GetBlocksDir() : GetDataDir()).available;",
          "content_same": false
        },
        {
          "line": 4795,
          "old_api": null,
          "new_api": "GetTimeMicros",
          "old_text": null,
          "new_text": "GetTimeMicros()",
          "old_line_content": "",
          "new_line_content": "    int64_t mid = GetTimeMicros();",
          "content_same": false
        },
        {
          "line": 4798,
          "old_api": null,
          "new_api": "GetDataDir",
          "old_text": null,
          "new_text": "GetDataDir()",
          "old_line_content": "",
          "new_line_content": "        FILE* filestr = fsbridge::fopen(GetDataDir() / \"mempool.dat.new\", \"wb\");",
          "content_same": false
        },
        {
          "line": 4293,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "mempool.clear()",
          "old_line_content": "    }",
          "new_line_content": "    mempool.clear();",
          "content_same": false
        },
        {
          "line": 4294,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "mapBlocksUnlinked.clear()",
          "old_line_content": "",
          "new_line_content": "    mapBlocksUnlinked.clear();",
          "content_same": false
        },
        {
          "line": 4295,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "vinfoBlockFile.clear()",
          "old_line_content": "    for (BlockMap::value_type& entry : mapBlockIndex) {",
          "new_line_content": "    vinfoBlockFile.clear();",
          "content_same": false
        },
        {
          "line": 3781,
          "old_api": null,
          "new_api": "IsNull",
          "old_text": null,
          "new_text": "pos.IsNull()",
          "old_line_content": "        return nullptr;",
          "new_line_content": "    if (pos.IsNull())",
          "content_same": false
        },
        {
          "line": 4297,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "setDirtyBlockIndex.clear()",
          "old_line_content": "    }",
          "new_line_content": "    setDirtyBlockIndex.clear();",
          "content_same": false
        },
        {
          "line": 3783,
          "old_api": null,
          "new_api": "GetBlockPosFilename",
          "old_text": null,
          "new_text": "GetBlockPosFilename(pos, prefix)",
          "old_line_content": "    if (pos.nPos) {",
          "new_line_content": "    fs::path path = GetBlockPosFilename(pos, prefix);",
          "content_same": false
        },
        {
          "line": 4299,
          "old_api": null,
          "new_api": "Clear",
          "old_text": null,
          "new_text": "versionbitscache.Clear()",
          "old_line_content": "    fHavePruned = false;",
          "new_line_content": "    versionbitscache.Clear();",
          "content_same": false
        },
        {
          "line": 3787,
          "old_api": null,
          "new_api": "fsbridge::fopen(path, \"wb+\")",
          "old_text": null,
          "new_text": "fsbridge::fopen(path, \"wb+\")",
          "old_line_content": "            return nullptr;",
          "new_line_content": "        file = fsbridge::fopen(path, \"wb+\");",
          "content_same": false
        },
        {
          "line": 3789,
          "old_api": null,
          "new_api": "string",
          "old_text": null,
          "new_text": "path.string()",
          "old_line_content": "    }",
          "new_line_content": "        LogPrintf(\"Unable to open file %s\\n\", path.string());",
          "content_same": false
        },
        {
          "line": 4817,
          "old_api": null,
          "new_api": "Get",
          "old_text": null,
          "new_text": "file.Get()",
          "old_line_content": "    }",
          "new_line_content": "        if (!FileCommit(file.Get()))",
          "content_same": false
        },
        {
          "line": 4818,
          "old_api": null,
          "new_api": "std::runtime_error(\"FileCommit failed\")",
          "old_text": null,
          "new_text": "std::runtime_error(\"FileCommit failed\")",
          "old_line_content": "    return true;",
          "new_line_content": "            throw std::runtime_error(\"FileCommit failed\");",
          "content_same": false
        },
        {
          "line": 4307,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "mapBlockIndex.clear()",
          "old_line_content": "    bool needs_init = fReindex;",
          "new_line_content": "    mapBlockIndex.clear();",
          "content_same": false
        },
        {
          "line": 4819,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "file.fclose()",
          "old_line_content": "}",
          "new_line_content": "        file.fclose();",
          "content_same": false
        },
        {
          "line": 4820,
          "old_api": null,
          "new_api": "GetDataDir",
          "old_text": null,
          "new_text": "GetDataDir()",
          "old_line_content": "",
          "new_line_content": "        RenameOver(GetDataDir() / \"mempool.dat.new\", GetDataDir() / \"mempool.dat\");",
          "content_same": false
        },
        {
          "line": 4310,
          "old_api": null,
          "new_api": "UnloadBlockIndex",
          "old_text": null,
          "new_text": "g_chainstate.UnloadBlockIndex()",
          "old_line_content": "        if (!ret) return false;",
          "new_line_content": "    g_chainstate.UnloadBlockIndex();",
          "content_same": false
        },
        {
          "line": 4821,
          "old_api": null,
          "new_api": "GetTimeMicros",
          "old_text": null,
          "new_text": "GetTimeMicros()",
          "old_line_content": "//! Guess how far we are in the verification process at the given block index",
          "new_line_content": "        int64_t last = GetTimeMicros();",
          "content_same": false
        },
        {
          "line": 4822,
          "old_api": null,
          "new_api": "LogPrintf",
          "old_text": null,
          "new_text": "LogPrintf(\"Dumped mempool: %gs to copy, %gs to dump\\n\", (mid-start)*MICRO, (last-mid)*MICRO)",
          "old_line_content": "//! require cs_main if pindex has not been validated yet (because nChainTx might be unset)",
          "new_line_content": "        LogPrintf(\"Dumped mempool: %gs to copy, %gs to dump\\n\", (mid-start)*MICRO, (last-mid)*MICRO);",
          "content_same": false
        },
        {
          "line": 4824,
          "old_api": null,
          "new_api": "what",
          "old_text": null,
          "new_text": "e.what()",
          "old_line_content": "    if (pindex == nullptr)",
          "new_line_content": "        LogPrintf(\"Failed to dump mempool: %s. Continuing anyway.\\n\", e.what());",
          "content_same": false
        },
        {
          "line": 3793,
          "old_api": null,
          "new_api": "fseek",
          "old_text": null,
          "new_text": "fseek(file, pos.nPos, SEEK_SET)",
          "old_line_content": "FILE* OpenBlockFile(const CDiskBlockPos &pos, bool fReadOnly) {",
          "new_line_content": "        if (fseek(file, pos.nPos, SEEK_SET)) {",
          "content_same": false
        },
        {
          "line": 3795,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(file)",
          "old_line_content": "}",
          "new_line_content": "            fclose(file);",
          "content_same": false
        },
        {
          "line": 3803,
          "old_api": null,
          "new_api": "OpenDiskFile",
          "old_text": null,
          "new_text": "OpenDiskFile(pos, \"blk\", fReadOnly)",
          "old_line_content": "{",
          "new_line_content": "    return OpenDiskFile(pos, \"blk\", fReadOnly);",
          "content_same": false
        },
        {
          "line": 4318,
          "old_api": null,
          "new_api": "LoadBlockIndexDB",
          "old_text": null,
          "new_text": "LoadBlockIndexDB(chainparams)",
          "old_line_content": "        // instead only check it prior to LoadBlockIndexDB to set",
          "new_line_content": "        bool ret = LoadBlockIndexDB(chainparams);",
          "content_same": false
        },
        {
          "line": 4320,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "mapBlockIndex.empty()",
          "old_line_content": "",
          "new_line_content": "        needs_init = mapBlockIndex.empty();",
          "content_same": false
        },
        {
          "line": 3808,
          "old_api": null,
          "new_api": "OpenDiskFile",
          "old_text": null,
          "new_text": "OpenDiskFile(pos, \"rev\", fReadOnly)",
          "old_line_content": "{",
          "new_line_content": "    return OpenDiskFile(pos, \"rev\", fReadOnly);",
          "content_same": false
        },
        {
          "line": 4836,
          "old_api": null,
          "new_api": "time",
          "old_text": null,
          "new_text": "time(nullptr)",
          "old_line_content": "",
          "new_line_content": "    int64_t nNow = time(nullptr);",
          "content_same": false
        },
        {
          "line": 3813,
          "old_api": null,
          "new_api": "strprintf",
          "old_text": null,
          "new_text": "strprintf(\"%s%05u.dat\", prefix, pos.nFile)",
          "old_line_content": "",
          "new_line_content": "    return GetBlocksDir() / strprintf(\"%s%05u.dat\", prefix, pos.nFile);",
          "content_same": false
        },
        {
          "line": 4330,
          "old_api": null,
          "new_api": "LogPrintf",
          "old_text": null,
          "new_text": "LogPrintf(\"Initializing databases...\\n\")",
          "old_line_content": "    // Check whether we're already initialized by checking for genesis in",
          "new_line_content": "        LogPrintf(\"Initializing databases...\\n\");",
          "content_same": false
        },
        {
          "line": 3818,
          "old_api": null,
          "new_api": "AssertLockHeld",
          "old_text": null,
          "new_text": "AssertLockHeld(cs_main)",
          "old_line_content": "",
          "new_line_content": "    AssertLockHeld(cs_main);",
          "content_same": false
        },
        {
          "line": 3820,
          "old_api": null,
          "new_api": "IsNull",
          "old_text": null,
          "new_text": "hash.IsNull()",
          "old_line_content": "    CBlockIndex* pindexNew = new CBlockIndex();",
          "new_line_content": "    if (hash.IsNull())",
          "content_same": false
        },
        {
          "line": 4843,
          "old_api": null,
          "new_api": "GetBlockTime",
          "old_text": null,
          "new_text": "pindex->GetBlockTime()",
          "old_line_content": "    CMainCleanup() {}",
          "new_line_content": "        fTxTotal = pindex->nChainTx + (nNow - pindex->GetBlockTime()) * data.dTxRate;",
          "content_same": false
        },
        {
          "line": 3824,
          "old_api": null,
          "new_api": "find",
          "old_text": null,
          "new_text": "mapBlockIndex.find(hash)",
          "old_line_content": "    return pindexNew;",
          "new_line_content": "    BlockMap::iterator mi = mapBlockIndex.find(hash);",
          "content_same": false
        },
        {
          "line": 4337,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(cs_main)",
          "old_line_content": "    try {",
          "new_line_content": "    LOCK(cs_main);",
          "content_same": false
        },
        {
          "line": 3825,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "mapBlockIndex.end()",
          "old_line_content": "}",
          "new_line_content": "    if (mi != mapBlockIndex.end())",
          "content_same": false
        },
        {
          "line": 3830,
          "old_api": null,
          "new_api": "std::make_pair(hash, pindexNew)",
          "old_text": null,
          "new_text": "std::make_pair(hash, pindexNew)",
          "old_line_content": "        return false;",
          "new_line_content": "    mi = mapBlockIndex.insert(std::make_pair(hash, pindexNew)).first;",
          "content_same": false
        },
        {
          "line": 4855,
          "old_api": null,
          "new_api": "begin",
          "old_text": null,
          "new_text": "mapBlockIndex.begin()",
          "old_line_content": "",
          "new_line_content": "        BlockMap::iterator it1 = mapBlockIndex.begin();",
          "content_same": false
        },
        {
          "line": 4856,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "mapBlockIndex.end()",
          "old_line_content": "",
          "new_line_content": "        for (; it1 != mapBlockIndex.end(); it1++)",
          "content_same": false
        },
        {
          "line": 4858,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "mapBlockIndex.clear()",
          "old_line_content": "",
          "new_line_content": "        mapBlockIndex.clear();",
          "content_same": false
        },
        {
          "line": 4347,
          "old_api": null,
          "new_api": "GenesisBlock",
          "old_text": null,
          "new_text": "chainparams.GenesisBlock()",
          "old_line_content": "",
          "new_line_content": "        CBlock &block = const_cast<CBlock&>(chainparams.GenesisBlock());",
          "content_same": false
        },
        {
          "line": 4348,
          "old_api": null,
          "new_api": "SaveBlockToDisk",
          "old_text": null,
          "new_text": "SaveBlockToDisk(block, 0, chainparams, nullptr)",
          "old_line_content": "    return true;",
          "new_line_content": "        CDiskBlockPos blockPos = SaveBlockToDisk(block, 0, chainparams, nullptr);",
          "content_same": false
        },
        {
          "line": 4349,
          "old_api": null,
          "new_api": "IsNull",
          "old_text": null,
          "new_text": "blockPos.IsNull()",
          "old_line_content": "}",
          "new_line_content": "        if (blockPos.IsNull())",
          "content_same": false
        },
        {
          "line": 4350,
          "old_api": null,
          "new_api": "error",
          "old_text": null,
          "new_text": "error(\"%s: writing genesis block to disk failed\", __func__)",
          "old_line_content": "",
          "new_line_content": "            return error(\"%s: writing genesis block to disk failed\", __func__);",
          "content_same": false
        },
        {
          "line": 4351,
          "old_api": null,
          "new_api": "AddToBlockIndex",
          "old_text": null,
          "new_text": "AddToBlockIndex(block)",
          "old_line_content": "bool LoadGenesisBlock(const CChainParams& chainparams)",
          "new_line_content": "        CBlockIndex *pindex = AddToBlockIndex(block);",
          "content_same": false
        },
        {
          "line": 4352,
          "old_api": null,
          "new_api": "GetConsensus",
          "old_text": null,
          "new_text": "chainparams.GetConsensus()",
          "old_line_content": "{",
          "new_line_content": "        ReceivedBlockTransactions(block, pindex, blockPos, chainparams.GetConsensus());",
          "content_same": false
        },
        {
          "line": 3838,
          "old_api": null,
          "new_api": "InsertBlockIndex",
          "old_text": null,
          "new_text": "this->InsertBlockIndex(hash)",
          "old_line_content": "    {",
          "new_line_content": "    if (!blocktree.LoadBlockIndexGuts(consensus_params, [this](const uint256& hash) EXCLUSIVE_LOCKS_REQUIRED(cs_main) { return this->InsertBlockIndex(hash); }))",
          "content_same": false
        },
        {
          "line": 4354,
          "old_api": null,
          "new_api": "what",
          "old_text": null,
          "new_text": "e.what()",
          "old_line_content": "}",
          "new_line_content": "        return error(\"%s: failed to write genesis block: %s\", __func__, e.what());",
          "content_same": false
        },
        {
          "line": 3841,
          "old_api": null,
          "new_api": "boost::this_thread::interruption_point()",
          "old_text": null,
          "new_text": "boost::this_thread::interruption_point()",
          "old_line_content": "    }",
          "new_line_content": "    boost::this_thread::interruption_point();",
          "content_same": false
        },
        {
          "line": 3845,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "mapBlockIndex.size()",
          "old_line_content": "        CBlockIndex* pindex = item.second;",
          "new_line_content": "    vSortedByHeight.reserve(mapBlockIndex.size());",
          "content_same": false
        },
        {
          "line": 3849,
          "old_api": null,
          "new_api": "std::make_pair(pindex->nHeight, pindex)",
          "old_text": null,
          "new_text": "std::make_pair(pindex->nHeight, pindex)",
          "old_line_content": "        // Pruned nodes may have deleted the block.",
          "new_line_content": "        vSortedByHeight.push_back(std::make_pair(pindex->nHeight, pindex));",
          "content_same": false
        },
        {
          "line": 4362,
          "old_api": null,
          "new_api": "LoadGenesisBlock",
          "old_text": null,
          "new_text": "g_chainstate.LoadGenesisBlock(chainparams)",
          "old_line_content": "    int nLoaded = 0;",
          "new_line_content": "    return g_chainstate.LoadGenesisBlock(chainparams);",
          "content_same": false
        },
        {
          "line": 3851,
          "old_api": null,
          "new_api": "end",
          "old_text": null,
          "new_text": "vSortedByHeight.end()",
          "old_line_content": "            if (pindex->pprev) {",
          "new_line_content": "    sort(vSortedByHeight.begin(), vSortedByHeight.end());",
          "content_same": false
        },
        {
          "line": 3855,
          "old_api": null,
          "new_api": "GetBlockProof",
          "old_text": null,
          "new_text": "GetBlockProof(*pindex)",
          "old_line_content": "                    pindex->nChainTx = 0;",
          "new_line_content": "        pindex->nChainWork = (pindex->pprev ? pindex->pprev->nChainWork : 0) + GetBlockProof(*pindex);",
          "content_same": false
        },
        {
          "line": 4369,
          "old_api": null,
          "new_api": "GetTimeMillis",
          "old_text": null,
          "new_text": "GetTimeMillis()",
          "old_line_content": "",
          "new_line_content": "    int64_t nStart = GetTimeMillis();",
          "content_same": false
        },
        {
          "line": 4375,
          "old_api": null,
          "new_api": "GetPos",
          "old_text": null,
          "new_text": "blkdat.GetPos()",
          "old_line_content": "                // locate a header",
          "new_line_content": "        uint64_t nRewind = blkdat.GetPos();",
          "content_same": false
        },
        {
          "line": 4376,
          "old_api": null,
          "new_api": "eof",
          "old_text": null,
          "new_text": "blkdat.eof()",
          "old_line_content": "                unsigned char buf[CMessageHeader::MESSAGE_START_SIZE];",
          "new_line_content": "        while (!blkdat.eof()) {",
          "content_same": false
        },
        {
          "line": 3865,
          "old_api": null,
          "new_api": "std::make_pair(pindex->pprev, pindex)",
          "old_text": null,
          "new_text": "std::make_pair(pindex->pprev, pindex)",
          "old_line_content": "        }",
          "new_line_content": "                    mapBlocksUnlinked.insert(std::make_pair(pindex->pprev, pindex));",
          "content_same": false
        },
        {
          "line": 4379,
          "old_api": null,
          "new_api": "SetPos",
          "old_text": null,
          "new_text": "blkdat.SetPos(nRewind)",
          "old_line_content": "                blkdat >> buf;",
          "new_line_content": "            blkdat.SetPos(nRewind);",
          "content_same": false
        },
        {
          "line": 4381,
          "old_api": null,
          "new_api": "SetLimit",
          "old_text": null,
          "new_text": "blkdat.SetLimit()",
          "old_line_content": "                    continue;",
          "new_line_content": "            blkdat.SetLimit(); // remove former limit",
          "content_same": false
        },
        {
          "line": 3873,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "setDirtyBlockIndex.insert(pindex)",
          "old_line_content": "            pindexBestHeader = pindex;",
          "new_line_content": "            setDirtyBlockIndex.insert(pindex);",
          "content_same": false
        },
        {
          "line": 4386,
          "old_api": null,
          "new_api": "MessageStart",
          "old_text": null,
          "new_text": "chainparams.MessageStart()",
          "old_line_content": "            } catch (const std::exception&) {",
          "new_line_content": "                blkdat.FindByte(chainparams.MessageStart()[0]);",
          "content_same": false
        },
        {
          "line": 4387,
          "old_api": null,
          "new_api": "GetPos",
          "old_text": null,
          "new_text": "blkdat.GetPos()",
          "old_line_content": "                // no valid block header found; don't complain",
          "new_line_content": "                nRewind = blkdat.GetPos()+1;",
          "content_same": false
        },
        {
          "line": 3875,
          "old_api": null,
          "new_api": "IsValid",
          "old_text": null,
          "new_text": "pindex->IsValid(BLOCK_VALID_TRANSACTIONS)",
          "old_line_content": "",
          "new_line_content": "        if (pindex->IsValid(BLOCK_VALID_TRANSACTIONS) && (pindex->nChainTx || pindex->pprev == nullptr))",
          "content_same": false
        },
        {
          "line": 4389,
          "old_api": null,
          "new_api": "MessageStart",
          "old_text": null,
          "new_text": "chainparams.MessageStart()",
          "old_line_content": "            }",
          "new_line_content": "                if (memcmp(buf, chainparams.MessageStart(), CMessageHeader::MESSAGE_START_SIZE))",
          "content_same": false
        },
        {
          "line": 3876,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "setBlockIndexCandidates.insert(pindex)",
          "old_line_content": "    return true;",
          "new_line_content": "            setBlockIndexCandidates.insert(pindex);",
          "content_same": false
        },
        {
          "line": 3880,
          "old_api": null,
          "new_api": "BuildSkip",
          "old_text": null,
          "new_text": "pindex->BuildSkip()",
          "old_line_content": "{",
          "new_line_content": "            pindex->BuildSkip();",
          "content_same": false
        },
        {
          "line": 4401,
          "old_api": null,
          "new_api": "GetPos",
          "old_text": null,
          "new_text": "blkdat.GetPos()",
          "old_line_content": "",
          "new_line_content": "                uint64_t nBlockPos = blkdat.GetPos();",
          "content_same": false
        },
        {
          "line": 3890,
          "old_api": null,
          "new_api": "GetConsensus",
          "old_text": null,
          "new_text": "chainparams.GetConsensus()",
          "old_line_content": "    }",
          "new_line_content": "    if (!g_chainstate.LoadBlockIndex(chainparams.GetConsensus(), *pblocktree))",
          "content_same": false
        },
        {
          "line": 4405,
          "old_api": null,
          "new_api": "SetPos",
          "old_text": null,
          "new_text": "blkdat.SetPos(nBlockPos)",
          "old_line_content": "                    // detect out of order blocks, and store them for later",
          "new_line_content": "                blkdat.SetPos(nBlockPos);",
          "content_same": false
        },
        {
          "line": 3896,
          "old_api": null,
          "new_api": "LogPrintf",
          "old_text": null,
          "new_text": "LogPrintf(\"%s: last block file = %i\\n\", __func__, nLastBlockFile)",
          "old_line_content": "        } else {",
          "new_line_content": "    LogPrintf(\"%s: last block file = %i\\n\", __func__, nLastBlockFile);",
          "content_same": false
        },
        {
          "line": 4409,
          "old_api": null,
          "new_api": "GetPos",
          "old_text": null,
          "new_text": "blkdat.GetPos()",
          "old_line_content": "                        if (dbp)",
          "new_line_content": "                nRewind = blkdat.GetPos();",
          "content_same": false
        },
        {
          "line": 3898,
          "old_api": null,
          "new_api": "ReadBlockFileInfo",
          "old_text": null,
          "new_text": "pblocktree->ReadBlockFileInfo(nFile, vinfoBlockFile[nFile])",
          "old_line_content": "        }",
          "new_line_content": "        pblocktree->ReadBlockFileInfo(nFile, vinfoBlockFile[nFile]);",
          "content_same": false
        },
        {
          "line": 4411,
          "old_api": null,
          "new_api": "GetHash",
          "old_text": null,
          "new_text": "block.GetHash()",
          "old_line_content": "                        continue;",
          "new_line_content": "                uint256 hash = block.GetHash();",
          "content_same": false
        },
        {
          "line": 3900,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "vinfoBlockFile[nLastBlockFile].ToString()",
          "old_line_content": "",
          "new_line_content": "    LogPrintf(\"%s: last block file info: %s\\n\", __func__, vinfoBlockFile[nLastBlockFile].ToString());",
          "content_same": false
        },
        {
          "line": 4413,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(cs_main)",
          "old_line_content": "",
          "new_line_content": "                    LOCK(cs_main);",
          "content_same": false
        },
        {
          "line": 3903,
          "old_api": null,
          "new_api": "ReadBlockFileInfo",
          "old_text": null,
          "new_text": "pblocktree->ReadBlockFileInfo(nFile, info)",
          "old_line_content": "    std::set<int> setBlkDataFiles;",
          "new_line_content": "        if (pblocktree->ReadBlockFileInfo(nFile, info)) {",
          "content_same": false
        },
        {
          "line": 4416,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "hash.ToString()",
          "old_line_content": "                    if (!pindex || (pindex->nStatus & BLOCK_HAVE_DATA) == 0) {",
          "new_line_content": "                        LogPrint(BCLog::REINDEX, \"%s: Out of order block %s, parent %s not known\\n\", __func__, hash.ToString(),",
          "content_same": false
        },
        {
          "line": 4417,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "block.hashPrevBlock.ToString()",
          "old_line_content": "                      CValidationState state;",
          "new_line_content": "                                block.hashPrevBlock.ToString());",
          "content_same": false
        },
        {
          "line": 3904,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "vinfoBlockFile.push_back(info)",
          "old_line_content": "    for (const std::pair<const uint256, CBlockIndex*>& item : mapBlockIndex)",
          "new_line_content": "            vinfoBlockFile.push_back(info);",
          "content_same": false
        },
        {
          "line": 4419,
          "old_api": null,
          "new_api": "std::make_pair(block.hashPrevBlock, *dbp)",
          "old_text": null,
          "new_text": "std::make_pair(block.hashPrevBlock, *dbp)",
          "old_line_content": "                          nLoaded++;",
          "new_line_content": "                            mapBlocksUnknownParent.insert(std::make_pair(block.hashPrevBlock, *dbp));",
          "content_same": false
        },
        {
          "line": 4427,
          "old_api": null,
          "new_api": "AcceptBlock",
          "old_text": null,
          "new_text": "g_chainstate.AcceptBlock(pblock, state, chainparams, nullptr, true, dbp, nullptr)",
          "old_line_content": "                }",
          "new_line_content": "                      if (g_chainstate.AcceptBlock(pblock, state, chainparams, nullptr, true, dbp, nullptr)) {",
          "content_same": false
        },
        {
          "line": 3917,
          "old_api": null,
          "new_api": "insert",
          "old_text": null,
          "new_text": "setBlkDataFiles.insert(pindex->nFile)",
          "old_line_content": "    }",
          "new_line_content": "            setBlkDataFiles.insert(pindex->nFile);",
          "content_same": false
        },
        {
          "line": 4433,
          "old_api": null,
          "new_api": "GetConsensus",
          "old_text": null,
          "new_text": "chainparams.GetConsensus()",
          "old_line_content": "                        break;",
          "new_line_content": "                    } else if (hash != chainparams.GetConsensus().hashGenesisBlock && pindex->nHeight % 1000 == 0) {",
          "content_same": false
        },
        {
          "line": 4434,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "hash.ToString()",
          "old_line_content": "                    }",
          "new_line_content": "                      LogPrint(BCLog::REINDEX, \"Block Import: already had block %s at height %d\\n\", hash.ToString(), pindex->nHeight);",
          "content_same": false
        },
        {
          "line": 3923,
          "old_api": null,
          "new_api": "OpenBlockFile",
          "old_text": null,
          "new_text": "OpenBlockFile(pos, true)",
          "old_line_content": "",
          "new_line_content": "        if (CAutoFile(OpenBlockFile(pos, true), SER_DISK, CLIENT_VERSION).IsNull()) {",
          "content_same": false
        },
        {
          "line": 4439,
          "old_api": null,
          "new_api": "GetConsensus",
          "old_text": null,
          "new_text": "chainparams.GetConsensus()",
          "old_line_content": "                // Recursively process earlier encountered successors of this block",
          "new_line_content": "                if (hash == chainparams.GetConsensus().hashGenesisBlock) {",
          "content_same": false
        },
        {
          "line": 3929,
          "old_api": null,
          "new_api": "ReadFlag",
          "old_text": null,
          "new_text": "pblocktree->ReadFlag(\"prunedblockfiles\", fHavePruned)",
          "old_line_content": "    return true;",
          "new_line_content": "    pblocktree->ReadFlag(\"prunedblockfiles\", fHavePruned);",
          "content_same": false
        },
        {
          "line": 3931,
          "old_api": null,
          "new_api": "LogPrintf",
          "old_text": null,
          "new_text": "LogPrintf(\"LoadBlockIndexDB(): Block files have previously been pruned\\n\")",
          "old_line_content": "",
          "new_line_content": "        LogPrintf(\"LoadBlockIndexDB(): Block files have previously been pruned\\n\");",
          "content_same": false
        },
        {
          "line": 4446,
          "old_api": null,
          "new_api": "NotifyHeaderTip",
          "old_text": null,
          "new_text": "NotifyHeaderTip()",
          "old_line_content": "                    while (range.first != range.second) {",
          "new_line_content": "                NotifyHeaderTip();",
          "content_same": false
        },
        {
          "line": 3935,
          "old_api": null,
          "new_api": "ReadReindexing",
          "old_text": null,
          "new_text": "pblocktree->ReadReindexing(fReindexing)",
          "old_line_content": "",
          "new_line_content": "    pblocktree->ReadReindexing(fReindexing);",
          "content_same": false
        },
        {
          "line": 4450,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "queue.push_back(hash)",
          "old_line_content": "                        {",
          "new_line_content": "                queue.push_back(hash);",
          "content_same": false
        },
        {
          "line": 4454,
          "old_api": null,
          "new_api": "equal_range",
          "old_text": null,
          "new_text": "mapBlocksUnknownParent.equal_range(head)",
          "old_line_content": "                            CValidationState dummy;",
          "new_line_content": "                    std::pair<std::multimap<uint256, CDiskBlockPos>::iterator, std::multimap<uint256, CDiskBlockPos>::iterator> range = mapBlocksUnknownParent.equal_range(head);",
          "content_same": false
        },
        {
          "line": 4457,
          "old_api": null,
          "new_api": "std::make_shared<CBlock>()",
          "old_text": null,
          "new_text": "std::make_shared<CBlock>()",
          "old_line_content": "                                nLoaded++;",
          "new_line_content": "                        std::shared_ptr<CBlock> pblockrecursive = std::make_shared<CBlock>();",
          "content_same": false
        },
        {
          "line": 3945,
          "old_api": null,
          "new_api": "GetBestBlock",
          "old_text": null,
          "new_text": "pcoinsTip->GetBestBlock()",
          "old_line_content": "            return false;",
          "new_line_content": "    if (chainActive.Tip() && chainActive.Tip()->GetBlockHash() == pcoinsTip->GetBestBlock()) return true;",
          "content_same": false
        },
        {
          "line": 3947,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "mapBlockIndex.size()",
          "old_line_content": "    }",
          "new_line_content": "    if (pcoinsTip->GetBestBlock().IsNull() && mapBlockIndex.size() == 1) {",
          "content_same": false
        },
        {
          "line": 4460,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "pblockrecursive->GetHash().ToString()",
          "old_line_content": "                        }",
          "new_line_content": "                            LogPrint(BCLog::REINDEX, \"%s: Processing out of order child %s of %s\\n\", __func__, pblockrecursive->GetHash().ToString(),",
          "content_same": false
        },
        {
          "line": 4461,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "head.ToString()",
          "old_line_content": "                        range.first++;",
          "new_line_content": "                                    head.ToString());",
          "content_same": false
        },
        {
          "line": 4464,
          "old_api": null,
          "new_api": "AcceptBlock",
          "old_text": null,
          "new_text": "g_chainstate.AcceptBlock(pblockrecursive, dummy, chainparams, nullptr, true, &it->second, nullptr)",
          "old_line_content": "                    }",
          "new_line_content": "                            if (g_chainstate.AcceptBlock(pblockrecursive, dummy, chainparams, nullptr, true, &it->second, nullptr))",
          "content_same": false
        },
        {
          "line": 3952,
          "old_api": null,
          "new_api": "ActivateBestChain",
          "old_text": null,
          "new_text": "ActivateBestChain(state, chainparams)",
          "old_line_content": "        return false;",
          "new_line_content": "        if (!ActivateBestChain(state, chainparams)) {",
          "content_same": false
        },
        {
          "line": 3953,
          "old_api": null,
          "new_api": "FormatStateMessage",
          "old_text": null,
          "new_text": "FormatStateMessage(state)",
          "old_line_content": "    }",
          "new_line_content": "            LogPrintf(\"%s: failed to activate chain (%s)\\n\", __func__, FormatStateMessage(state));",
          "content_same": false
        },
        {
          "line": 4472,
          "old_api": null,
          "new_api": "NotifyHeaderTip",
          "old_text": null,
          "new_text": "NotifyHeaderTip()",
          "old_line_content": "    }",
          "new_line_content": "                        NotifyHeaderTip();",
          "content_same": false
        },
        {
          "line": 3963,
          "old_api": null,
          "new_api": "SetTip",
          "old_text": null,
          "new_text": "chainActive.SetTip(pindex)",
          "old_line_content": "}",
          "new_line_content": "    chainActive.SetTip(pindex);",
          "content_same": false
        },
        {
          "line": 4476,
          "old_api": null,
          "new_api": "what",
          "old_text": null,
          "new_text": "e.what()",
          "old_line_content": "}",
          "new_line_content": "                LogPrintf(\"%s: Deserialize or I/O error - %s\\n\", __func__, e.what());",
          "content_same": false
        },
        {
          "line": 3965,
          "old_api": null,
          "new_api": "PruneBlockIndexCandidates",
          "old_text": null,
          "new_text": "g_chainstate.PruneBlockIndexCandidates()",
          "old_line_content": "CVerifyDB::CVerifyDB()",
          "new_line_content": "    g_chainstate.PruneBlockIndexCandidates();",
          "content_same": false
        },
        {
          "line": 4480,
          "old_api": null,
          "new_api": "what",
          "old_text": null,
          "new_text": "e.what()",
          "old_line_content": "    if (!fCheckBlockIndex) {",
          "new_line_content": "        AbortNode(std::string(\"System error: \") + e.what());",
          "content_same": false
        },
        {
          "line": 3968,
          "old_api": null,
          "new_api": "Height",
          "old_text": null,
          "new_text": "chainActive.Height()",
          "old_line_content": "}",
          "new_line_content": "        chainActive.Tip()->GetBlockHash().ToString(), chainActive.Height(),",
          "content_same": false
        },
        {
          "line": 3969,
          "old_api": null,
          "new_api": "Tip",
          "old_text": null,
          "new_text": "chainActive.Tip()->GetBlockTime()",
          "old_line_content": "",
          "new_line_content": "        FormatISO8601DateTime(chainActive.Tip()->GetBlockTime()),",
          "content_same": false
        },
        {
          "line": 4483,
          "old_api": null,
          "new_api": "GetTimeMillis",
          "old_text": null,
          "new_text": "GetTimeMillis()",
          "old_line_content": "",
          "new_line_content": "        LogPrintf(\"Loaded %i blocks from external file in %dms\\n\", nLoaded, GetTimeMillis() - nStart);",
          "content_same": false
        },
        {
          "line": 3970,
          "old_api": null,
          "new_api": "Tip",
          "old_text": null,
          "new_text": "chainActive.Tip()",
          "old_line_content": "CVerifyDB::~CVerifyDB()",
          "new_line_content": "        GuessVerificationProgress(chainparams.TxData(), chainActive.Tip()));",
          "content_same": false
        },
        {
          "line": 3976,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Verifying blocks...\")",
          "old_line_content": "{",
          "new_line_content": "    uiInterface.ShowProgress(_(\"Verifying blocks...\"), 0, false);",
          "content_same": false
        },
        {
          "line": 4493,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(cs_main)",
          "old_line_content": "",
          "new_line_content": "    LOCK(cs_main);",
          "content_same": false
        },
        {
          "line": 3981,
          "old_api": null,
          "new_api": "ShowProgress",
          "old_text": null,
          "new_text": "uiInterface.ShowProgress(\"\", 100, false)",
          "old_line_content": "    // Verify blocks in the best chain",
          "new_line_content": "    uiInterface.ShowProgress(\"\", 100, false);",
          "content_same": false
        },
        {
          "line": 4498,
          "old_api": null,
          "new_api": "Height",
          "old_text": null,
          "new_text": "chainActive.Height()",
          "old_line_content": "    }",
          "new_line_content": "    if (chainActive.Height() < 0) {",
          "content_same": false
        },
        {
          "line": 4499,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "mapBlockIndex.size()",
          "old_line_content": "",
          "new_line_content": "        assert(mapBlockIndex.size() <= 1);",
          "content_same": false
        },
        {
          "line": 3986,
          "old_api": null,
          "new_api": "LOCK",
          "old_text": null,
          "new_text": "LOCK(cs_main)",
          "old_line_content": "    CCoinsViewCache coins(coinsview);",
          "new_line_content": "    LOCK(cs_main);",
          "content_same": false
        },
        {
          "line": 3987,
          "old_api": null,
          "new_api": "Tip",
          "old_text": null,
          "new_text": "chainActive.Tip()",
          "old_line_content": "    CBlockIndex* pindex;",
          "new_line_content": "    if (chainActive.Tip() == nullptr || chainActive.Tip()->pprev == nullptr)",
          "content_same": false
        },
        {
          "line": 3991,
          "old_api": null,
          "new_api": "Height",
          "old_text": null,
          "new_text": "chainActive.Height()",
          "old_line_content": "    int reportDone = 0;",
          "new_line_content": "    if (nCheckDepth <= 0 || nCheckDepth > chainActive.Height())",
          "content_same": false
        },
        {
          "line": 4506,
          "old_api": null,
          "new_api": "std::make_pair(entry.second->pprev, entry.second)",
          "old_text": null,
          "new_text": "std::make_pair(entry.second->pprev, entry.second)",
          "old_line_content": "",
          "new_line_content": "        forward.insert(std::make_pair(entry.second->pprev, entry.second));",
          "content_same": false
        },
        {
          "line": 4509,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "mapBlockIndex.size()",
          "old_line_content": "    // block being explored which are the first to have certain properties.",
          "new_line_content": "    assert(forward.size() == mapBlockIndex.size());",
          "content_same": false
        },
        {
          "line": 4511,
          "old_api": null,
          "new_api": "equal_range",
          "old_text": null,
          "new_text": "forward.equal_range(nullptr)",
          "old_line_content": "    int nHeight = 0;",
          "new_line_content": "    std::pair<std::multimap<CBlockIndex*,CBlockIndex*>::iterator,std::multimap<CBlockIndex*,CBlockIndex*>::iterator> rangeGenesis = forward.equal_range(nullptr);",
          "content_same": false
        },
        {
          "line": 4514,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(rangeGenesis.first == rangeGenesis.second)",
          "old_line_content": "    CBlockIndex* pindexFirstNeverProcessed = nullptr; // Oldest ancestor of pindex for which nTx == 0.",
          "new_line_content": "    assert(rangeGenesis.first == rangeGenesis.second); // There is only one index entry with parent nullptr.",
          "content_same": false
        },
        {
          "line": 4003,
          "old_api": null,
          "new_api": "boost::this_thread::interruption_point()",
          "old_text": null,
          "new_text": "boost::this_thread::interruption_point()",
          "old_line_content": "            break;",
          "new_line_content": "        boost::this_thread::interruption_point();",
          "content_same": false
        },
        {
          "line": 4004,
          "old_api": null,
          "new_api": "Height",
          "old_text": null,
          "new_text": "chainActive.Height()",
          "old_line_content": "        if (fPruneMode && !(pindex->nStatus & BLOCK_HAVE_DATA)) {",
          "new_line_content": "        int percentageDone = std::max(1, std::min(99, (int)(((double)(chainActive.Height() - pindex->nHeight)) / (double)nCheckDepth * (nCheckLevel >= 4 ? 50 : 100))));",
          "content_same": false
        },
        {
          "line": 4007,
          "old_api": null,
          "new_api": "LogPrintf",
          "old_text": null,
          "new_text": "LogPrintf(\"[%d%%]...\", percentageDone)",
          "old_line_content": "            break;",
          "new_line_content": "            LogPrintf(\"[%d%%]...\", percentageDone); /* Continued */",
          "content_same": false
        },
        {
          "line": 4010,
          "old_api": null,
          "new_api": "_",
          "old_text": null,
          "new_text": "_(\"Verifying blocks...\")",
          "old_line_content": "        // check level 0: read from disk",
          "new_line_content": "        uiInterface.ShowProgress(_(\"Verifying blocks...\"), percentageDone, false);",
          "content_same": false
        },
        {
          "line": 4023,
          "old_api": null,
          "new_api": "GetConsensus",
          "old_text": null,
          "new_text": "chainparams.GetConsensus()",
          "old_line_content": "                }",
          "new_line_content": "        if (nCheckLevel >= 1 && !CheckBlock(block, state, chainparams.GetConsensus()))",
          "content_same": false
        },
        {
          "line": 4024,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "error(\"%s: *** found bad block at %d, hash=%s (%s)\\n\", __func__,\n                         pindex->nHeight, pindex->GetBlockHash().ToString(), FormatStateMessage(state))",
          "old_line_content": "            }",
          "new_line_content": "            return error(\"%s: *** found bad block at %d, hash=%s (%s)\\n\", __func__,",
          "content_same": false
        },
        {
          "line": 4025,
          "old_api": null,
          "new_api": "FormatStateMessage",
          "old_text": null,
          "new_text": "FormatStateMessage(state)",
          "old_line_content": "        }",
          "new_line_content": "                         pindex->nHeight, pindex->GetBlockHash().ToString(), FormatStateMessage(state));",
          "content_same": false
        },
        {
          "line": 4542,
          "old_api": null,
          "new_api": "Genesis",
          "old_text": null,
          "new_text": "chainActive.Genesis()",
          "old_line_content": "        } else {",
          "new_line_content": "            assert(pindex == chainActive.Genesis()); // The current active chain's genesis block must be this block.",
          "content_same": false
        },
        {
          "line": 4030,
          "old_api": null,
          "new_api": "UndoReadFromDisk",
          "old_text": null,
          "new_text": "UndoReadFromDisk(undo, pindex)",
          "old_line_content": "            if (res == DISCONNECT_FAILED) {",
          "new_line_content": "                if (!UndoReadFromDisk(undo, pindex)) {",
          "content_same": false
        },
        {
          "line": 4036,
          "old_api": null,
          "new_api": "DynamicMemoryUsage",
          "old_text": null,
          "new_text": "pcoinsTip->DynamicMemoryUsage()",
          "old_line_content": "            } else {",
          "new_line_content": "        if (nCheckLevel >= 3 && (coins.DynamicMemoryUsage() + pcoinsTip->DynamicMemoryUsage()) <= nCoinCacheUsage) {",
          "content_same": false
        },
        {
          "line": 4038,
          "old_api": null,
          "new_api": "DisconnectBlock",
          "old_text": null,
          "new_text": "g_chainstate.DisconnectBlock(block, pindex, coins)",
          "old_line_content": "            }",
          "new_line_content": "            DisconnectResult res = g_chainstate.DisconnectBlock(block, pindex, coins);",
          "content_same": false
        },
        {
          "line": 4558,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert((pindexFirstNeverProcessed != nullptr) == (pindex->nChainTx == 0))",
          "old_line_content": "        if (pindexFirstInvalid == nullptr) {",
          "new_line_content": "        assert((pindexFirstNeverProcessed != nullptr) == (pindex->nChainTx == 0)); // nChainTx != 0 is used to signal that all parent blocks have been processed (but may have been pruned).",
          "content_same": false
        },
        {
          "line": 4559,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert((pindexFirstNotTransactionsValid != nullptr) == (pindex->nChainTx == 0))",
          "old_line_content": "            // Checks for not-invalid blocks.",
          "new_line_content": "        assert((pindexFirstNotTransactionsValid != nullptr) == (pindex->nChainTx == 0));",
          "content_same": false
        },
        {
          "line": 4046,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "block.vtx.size()",
          "old_line_content": "    // store block count as we move pindex at check level >= 4",
          "new_line_content": "                nGoodTransactions += block.vtx.size();",
          "content_same": false
        },
        {
          "line": 4561,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(pindex->pprev == nullptr || pindex->nChainWork >= pindex->pprev->nChainWork)",
          "old_line_content": "        }",
          "new_line_content": "        assert(pindex->pprev == nullptr || pindex->nChainWork >= pindex->pprev->nChainWork); // For every block except the genesis block, the chainwork must be larger than the parent's.",
          "content_same": false
        },
        {
          "line": 4049,
          "old_api": null,
          "new_api": "ShutdownRequested",
          "old_text": null,
          "new_text": "ShutdownRequested()",
          "old_line_content": "    // check level 4: try reconnecting blocks",
          "new_line_content": "        if (ShutdownRequested())",
          "content_same": false
        },
        {
          "line": 4563,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(pindexFirstNotTreeValid == nullptr)",
          "old_line_content": "            if (pindexFirstInvalid == nullptr) {",
          "new_line_content": "        assert(pindexFirstNotTreeValid == nullptr); // All mapBlockIndex entries must at least be TREE valid",
          "content_same": false
        },
        {
          "line": 4564,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(pindexFirstNotTreeValid == nullptr)",
          "old_line_content": "                // If this block sorts at least as good as the current tip and",
          "new_line_content": "        if ((pindex->nStatus & BLOCK_VALID_MASK) >= BLOCK_VALID_TREE) assert(pindexFirstNotTreeValid == nullptr); // TREE valid implies all parents are TREE valid",
          "content_same": false
        },
        {
          "line": 4565,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(pindexFirstNotChainValid == nullptr)",
          "old_line_content": "                // is valid and we have all data for its parents, it must be in",
          "new_line_content": "        if ((pindex->nStatus & BLOCK_VALID_MASK) >= BLOCK_VALID_CHAIN) assert(pindexFirstNotChainValid == nullptr); // CHAIN valid implies all parents are CHAIN valid",
          "content_same": false
        },
        {
          "line": 4566,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(pindexFirstNotScriptsValid == nullptr)",
          "old_line_content": "                // setBlockIndexCandidates.  chainActive.Tip() must also be there",
          "new_line_content": "        if ((pindex->nStatus & BLOCK_VALID_MASK) >= BLOCK_VALID_SCRIPTS) assert(pindexFirstNotScriptsValid == nullptr); // SCRIPTS valid implies all parents are SCRIPTS valid",
          "content_same": false
        },
        {
          "line": 4571,
          "old_api": null,
          "new_api": "Tip",
          "old_text": null,
          "new_text": "chainActive.Tip()",
          "old_line_content": "                // If some parent is missing, then it could be that this block was in",
          "new_line_content": "        if (!CBlockIndexWorkComparator()(pindex, chainActive.Tip()) && pindexFirstNeverProcessed == nullptr) {",
          "content_same": false
        },
        {
          "line": 4060,
          "old_api": null,
          "new_api": "Tip",
          "old_text": null,
          "new_text": "chainActive.Tip()",
          "old_line_content": "        }",
          "new_line_content": "        while (pindex != chainActive.Tip()) {",
          "content_same": false
        },
        {
          "line": 4061,
          "old_api": null,
          "new_api": "boost::this_thread::interruption_point()",
          "old_text": null,
          "new_text": "boost::this_thread::interruption_point()",
          "old_line_content": "    }",
          "new_line_content": "            boost::this_thread::interruption_point();",
          "content_same": false
        },
        {
          "line": 4062,
          "old_api": null,
          "new_api": "Height",
          "old_text": null,
          "new_text": "chainActive.Height()",
          "old_line_content": "",
          "new_line_content": "            uiInterface.ShowProgress(_(\"Verifying blocks...\"), std::max(1, std::min(99, 100 - (int)(((double)(chainActive.Height() - pindex->nHeight)) / (double)nCheckDepth * 50))), false);",
          "content_same": false
        },
        {
          "line": 4577,
          "old_api": null,
          "new_api": "Tip",
          "old_text": null,
          "new_text": "chainActive.Tip()",
          "old_line_content": "        }",
          "new_line_content": "                if (pindexFirstMissing == nullptr || pindex == chainActive.Tip()) {",
          "content_same": false
        },
        {
          "line": 4578,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "setBlockIndexCandidates.count(pindex)",
          "old_line_content": "        // Check whether this block is in mapBlocksUnlinked.",
          "new_line_content": "                    assert(setBlockIndexCandidates.count(pindex));",
          "content_same": false
        },
        {
          "line": 4065,
          "old_api": null,
          "new_api": "GetConsensus",
          "old_text": null,
          "new_text": "chainparams.GetConsensus()",
          "old_line_content": "",
          "new_line_content": "            if (!ReadBlockFromDisk(block, pindex, chainparams.GetConsensus()))",
          "content_same": false
        },
        {
          "line": 4066,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "pindex->GetBlockHash().ToString()",
          "old_line_content": "    return true;",
          "new_line_content": "                return error(\"VerifyDB(): *** ReadBlockFromDisk failed at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());",
          "content_same": false
        },
        {
          "line": 4067,
          "old_api": null,
          "new_api": "ConnectBlock",
          "old_text": null,
          "new_text": "g_chainstate.ConnectBlock(block, state, pindex, coins, chainparams)",
          "old_line_content": "}",
          "new_line_content": "            if (!g_chainstate.ConnectBlock(block, state, pindex, coins, chainparams))",
          "content_same": false
        },
        {
          "line": 4068,
          "old_api": null,
          "new_api": "FormatStateMessage",
          "old_text": null,
          "new_text": "FormatStateMessage(state)",
          "old_line_content": "",
          "new_line_content": "                return error(\"VerifyDB(): *** found unconnectable block at %d, hash=%s (%s)\", pindex->nHeight, pindex->GetBlockHash().ToString(), FormatStateMessage(state));",
          "content_same": false
        },
        {
          "line": 4072,
          "old_api": null,
          "new_api": "LogPrintf",
          "old_text": null,
          "new_text": "LogPrintf(\"[DONE].\\n\")",
          "old_line_content": "    // TODO: merge with ConnectBlock",
          "new_line_content": "    LogPrintf(\"[DONE].\\n\");",
          "content_same": false
        },
        {
          "line": 4585,
          "old_api": null,
          "new_api": "count",
          "old_text": null,
          "new_text": "setBlockIndexCandidates.count(pindex)",
          "old_line_content": "                break;",
          "new_line_content": "            assert(setBlockIndexCandidates.count(pindex) == 0);",
          "content_same": false
        },
        {
          "line": 4073,
          "old_api": null,
          "new_api": "LogPrintf",
          "old_text": null,
          "new_text": "LogPrintf(\"No coin database inconsistencies in last %i blocks (%i transactions)\\n\", block_count, nGoodTransactions)",
          "old_line_content": "    CBlock block;",
          "new_line_content": "    LogPrintf(\"No coin database inconsistencies in last %i blocks (%i transactions)\\n\", block_count, nGoodTransactions);",
          "content_same": false
        },
        {
          "line": 4588,
          "old_api": null,
          "new_api": "equal_range",
          "old_text": null,
          "new_text": "mapBlocksUnlinked.equal_range(pindex->pprev)",
          "old_line_content": "        }",
          "new_line_content": "        std::pair<std::multimap<CBlockIndex*,CBlockIndex*>::iterator,std::multimap<CBlockIndex*,CBlockIndex*>::iterator> rangeUnlinked = mapBlocksUnlinked.equal_range(pindex->pprev);",
          "content_same": false
        },
        {
          "line": 4083,
          "old_api": null,
          "new_api": "GetConsensus",
          "old_text": null,
          "new_text": "params.GetConsensus()",
          "old_line_content": "        }",
          "new_line_content": "    if (!ReadBlockFromDisk(block, pindex, params.GetConsensus())) {",
          "content_same": false
        },
        {
          "line": 4084,
          "old_api": null,
          "new_api": "ToString",
          "old_text": null,
          "new_text": "pindex->GetBlockHash().ToString()",
          "old_line_content": "        // Pass check = true as every addition may be an overwrite.",
          "new_line_content": "        return error(\"ReplayBlock(): ReadBlockFromDisk failed at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());",
          "content_same": false
        },
        {
          "line": 4600,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(foundInUnlinked)",
          "old_line_content": "            //    tip, and",
          "new_line_content": "            assert(foundInUnlinked);",
          "content_same": false
        },
        {
          "line": 4602,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(!foundInUnlinked)",
          "old_line_content": "            //    data for some intermediate block between chainActive and the",
          "new_line_content": "        if (!(pindex->nStatus & BLOCK_HAVE_DATA)) assert(!foundInUnlinked); // Can't be in mapBlocksUnlinked if we don't HAVE_DATA",
          "content_same": false
        },
        {
          "line": 4603,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(!foundInUnlinked)",
          "old_line_content": "            //    tip.",
          "new_line_content": "        if (pindexFirstMissing == nullptr) assert(!foundInUnlinked); // We aren't missing data for any parent -- cannot be in mapBlocksUnlinked.",
          "content_same": false
        },
        {
          "line": 4094,
          "old_api": null,
          "new_api": "AddCoins",
          "old_text": null,
          "new_text": "AddCoins(inputs, *tx, pindex->nHeight, true)",
          "old_line_content": "    CCoinsViewCache cache(view);",
          "new_line_content": "        AddCoins(inputs, *tx, pindex->nHeight, true);",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 4096,
          "old_api": "GetHeadBlocks",
          "new_api": null,
          "old_text": "view->GetHeadBlocks()",
          "new_text": null,
          "old_line_content": "    std::vector<uint256> hashHeads = view->GetHeadBlocks();",
          "new_line_content": "    return true;",
          "content_same": false
        },
        {
          "line": 4097,
          "old_api": "empty",
          "new_api": null,
          "old_text": "hashHeads.empty()",
          "new_text": null,
          "old_line_content": "    if (hashHeads.empty()) return true; // We're already in a consistent state.",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4098,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"ReplayBlocks(): unknown inconsistent state\")",
          "new_text": null,
          "old_line_content": "    if (hashHeads.size() != 2) return error(\"ReplayBlocks(): unknown inconsistent state\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4608,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(foundInUnlinked)",
          "new_text": null,
          "old_line_content": "                    assert(foundInUnlinked);",
          "new_line_content": "            //  - it has a descendant that at some point had more work than the",
          "content_same": false
        },
        {
          "line": 4100,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Replaying blocks...\")",
          "new_text": null,
          "old_line_content": "    uiInterface.ShowProgress(_(\"Replaying blocks...\"), 0, false);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 4616,
          "old_api": "equal_range",
          "new_api": null,
          "old_text": "forward.equal_range(pindex)",
          "new_text": null,
          "old_line_content": "        std::pair<std::multimap<CBlockIndex*,CBlockIndex*>::iterator,std::multimap<CBlockIndex*,CBlockIndex*>::iterator> range = forward.equal_range(pindex);",
          "new_line_content": "                if (pindexFirstInvalid == nullptr) {",
          "content_same": false
        },
        {
          "line": 4108,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"ReplayBlocks(): reorganization to unknown block requested\")",
          "new_text": null,
          "old_line_content": "        return error(\"ReplayBlocks(): reorganization to unknown block requested\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4112,
          "old_api": "IsNull",
          "new_api": null,
          "old_text": "hashHeads[1].IsNull()",
          "new_text": null,
          "old_line_content": "    if (!hashHeads[1].IsNull()) { // The old tip is allowed to be 0, indicating it's the first flush.",
          "new_line_content": "    const CBlockIndex* pindexOld = nullptr;  // Old tip during the interrupted flush.",
          "content_same": false
        },
        {
          "line": 4113,
          "old_api": "count",
          "new_api": null,
          "old_text": "mapBlockIndex.count(hashHeads[1])",
          "new_text": null,
          "old_line_content": "        if (mapBlockIndex.count(hashHeads[1]) == 0) {",
          "new_line_content": "    const CBlockIndex* pindexNew;            // New tip during the interrupted flush.",
          "content_same": false
        },
        {
          "line": 4114,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"ReplayBlocks(): reorganization from unknown block requested\")",
          "new_text": null,
          "old_line_content": "            return error(\"ReplayBlocks(): reorganization from unknown block requested\");",
          "new_line_content": "    const CBlockIndex* pindexFork = nullptr; // Latest block common to both the old and the new tip.",
          "content_same": false
        },
        {
          "line": 4118,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(pindexFork != nullptr)",
          "new_text": null,
          "old_line_content": "        assert(pindexFork != nullptr);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4125,
          "old_api": "GetConsensus",
          "new_api": null,
          "old_text": "params.GetConsensus()",
          "new_text": null,
          "old_line_content": "            if (!ReadBlockFromDisk(block, pindexOld, params.GetConsensus())) {",
          "new_line_content": "        pindexOld = mapBlockIndex[hashHeads[1]];",
          "content_same": false
        },
        {
          "line": 4638,
          "old_api": "equal_range",
          "new_api": null,
          "old_text": "forward.equal_range(pindexPar)",
          "new_text": null,
          "old_line_content": "            std::pair<std::multimap<CBlockIndex*,CBlockIndex*>::iterator,std::multimap<CBlockIndex*,CBlockIndex*>::iterator> rangePar = forward.equal_range(pindexPar);",
          "new_line_content": "            if (pindex == pindexFirstMissing) pindexFirstMissing = nullptr;",
          "content_same": false
        },
        {
          "line": 4128,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "pindexOld->GetBlockHash().ToString()",
          "new_text": null,
          "old_line_content": "            LogPrintf(\"Rolling back %s (%i)\\n\", pindexOld->GetBlockHash().ToString(), pindexOld->nHeight);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4129,
          "old_api": "DisconnectBlock",
          "new_api": null,
          "old_text": "DisconnectBlock(block, pindexOld, cache)",
          "new_text": null,
          "old_line_content": "            DisconnectResult res = DisconnectBlock(block, pindexOld, cache);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4640,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(rangePar.first != rangePar.second)",
          "new_text": null,
          "old_line_content": "                assert(rangePar.first != rangePar.second); // Our parent must have at least the node we're coming from as child.",
          "new_line_content": "            if (pindex == pindexFirstNotTreeValid) pindexFirstNotTreeValid = nullptr;",
          "content_same": false
        },
        {
          "line": 4131,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "pindexOld->GetBlockHash().ToString()",
          "new_text": null,
          "old_line_content": "                return error(\"RollbackBlock(): DisconnectBlock failed at %d, hash=%s\", pindexOld->nHeight, pindexOld->GetBlockHash().ToString());",
          "new_line_content": "    while (pindexOld != pindexFork) {",
          "content_same": false
        },
        {
          "line": 4144,
          "old_api": "GetAncestor",
          "new_api": null,
          "old_text": "pindexNew->GetAncestor(nHeight)",
          "new_text": null,
          "old_line_content": "        const CBlockIndex* pindex = pindexNew->GetAncestor(nHeight);",
          "new_line_content": "            // applied to the UTXO set. However, as both writing a UTXO and deleting a UTXO are idempotent operations,",
          "content_same": false
        },
        {
          "line": 4145,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "pindex->GetBlockHash().ToString()",
          "new_text": null,
          "old_line_content": "        LogPrintf(\"Rolling forward %s (%i)\\n\", pindex->GetBlockHash().ToString(), nHeight);",
          "new_line_content": "            // the result is still a version of the UTXO set with the effects of that block undone.",
          "content_same": false
        },
        {
          "line": 4146,
          "old_api": "RollforwardBlock",
          "new_api": null,
          "old_text": "RollforwardBlock(pindex, cache, params)",
          "new_text": null,
          "old_line_content": "        if (!RollforwardBlock(pindex, cache, params)) return false;",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4659,
          "old_api": "size",
          "new_api": null,
          "old_text": "forward.size()",
          "new_text": null,
          "old_line_content": "    assert(nNodes == forward.size());",
          "new_line_content": "                // Move up further.",
          "content_same": false
        },
        {
          "line": 4149,
          "old_api": "GetBlockHash",
          "new_api": null,
          "old_text": "pindexNew->GetBlockHash()",
          "new_text": null,
          "old_line_content": "    cache.SetBestBlock(pindexNew->GetBlockHash());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4150,
          "old_api": "Flush",
          "new_api": null,
          "old_text": "cache.Flush()",
          "new_text": null,
          "old_line_content": "    cache.Flush();",
          "new_line_content": "    // Roll forward from the forking point to the new tip.",
          "content_same": false
        },
        {
          "line": 4151,
          "old_api": "ShowProgress",
          "new_api": null,
          "old_text": "uiInterface.ShowProgress(\"\", 100, false)",
          "new_text": null,
          "old_line_content": "    uiInterface.ShowProgress(\"\", 100, false);",
          "new_line_content": "    int nForkHeight = pindexFork ? pindexFork->nHeight : 0;",
          "content_same": false
        },
        {
          "line": 4664,
          "old_api": "FormatISO8601Date",
          "new_api": null,
          "old_text": "FormatISO8601Date(nTimeLast)",
          "new_text": null,
          "old_line_content": "    return strprintf(\"CBlockFileInfo(blocks=%u, size=%u, heights=%u...%u, time=%s...%s)\", nBlocks, nSize, nHeightFirst, nHeightLast, FormatISO8601Date(nTimeFirst), FormatISO8601Date(nTimeLast));",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4156,
          "old_api": "ReplayBlocks",
          "new_api": null,
          "old_text": "g_chainstate.ReplayBlocks(params, view)",
          "new_text": null,
          "old_line_content": "    return g_chainstate.ReplayBlocks(params, view);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4669,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_LastBlockFile)",
          "new_text": null,
          "old_line_content": "    LOCK(cs_LastBlockFile);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4671,
          "old_api": "at",
          "new_api": null,
          "old_text": "vinfoBlockFile.at(n)",
          "new_text": null,
          "old_line_content": "    return &vinfoBlockFile.at(n);",
          "new_line_content": "std::string CBlockFileInfo::ToString() const",
          "content_same": false
        },
        {
          "line": 4161,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_main)",
          "new_text": null,
          "old_line_content": "    LOCK(cs_main);",
          "new_line_content": "    return true;",
          "content_same": false
        },
        {
          "line": 4676,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_main)",
          "new_text": null,
          "old_line_content": "    LOCK(cs_main);",
          "new_line_content": "CBlockFileInfo* GetBlockFileInfo(size_t n)",
          "content_same": false
        },
        {
          "line": 4677,
          "old_api": "Tip",
          "new_api": null,
          "old_text": "chainActive.Tip()",
          "new_text": null,
          "old_line_content": "    return VersionBitsState(chainActive.Tip(), params, pos, versionbitscache);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 4166,
          "old_api": "Height",
          "new_api": null,
          "old_text": "chainActive.Height()",
          "new_text": null,
          "old_line_content": "    while (nHeight <= chainActive.Height()) {",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4682,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_main)",
          "new_text": null,
          "old_line_content": "    LOCK(cs_main);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4683,
          "old_api": "Tip",
          "new_api": null,
          "old_text": "chainActive.Tip()",
          "new_text": null,
          "old_line_content": "    return VersionBitsStatistics(chainActive.Tip(), params, pos);",
          "new_line_content": "ThresholdState VersionBitsTipState(const Consensus::Params& params, Consensus::DeploymentPos pos)",
          "content_same": false
        },
        {
          "line": 4688,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_main)",
          "new_text": null,
          "old_line_content": "    LOCK(cs_main);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4689,
          "old_api": "Tip",
          "new_api": null,
          "old_text": "chainActive.Tip()",
          "new_text": null,
          "old_line_content": "    return VersionBitsStateSinceHeight(chainActive.Tip(), params, pos, versionbitscache);",
          "new_line_content": "BIP9Stats VersionBitsTipStatistics(const Consensus::Params& params, Consensus::DeploymentPos pos)",
          "content_same": false
        },
        {
          "line": 4178,
          "old_api": "Tip",
          "new_api": null,
          "old_text": "chainActive.Tip()",
          "new_text": null,
          "old_line_content": "    CBlockIndex* pindex = chainActive.Tip();",
          "new_line_content": "        // re-download/re-verify blocks from before segwit actually activated.",
          "content_same": false
        },
        {
          "line": 4180,
          "old_api": "Tip",
          "new_api": null,
          "old_text": "chainActive.Tip()",
          "new_text": null,
          "old_line_content": "        if (fPruneMode && !(chainActive.Tip()->nStatus & BLOCK_HAVE_DATA)) {",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 4696,
          "old_api": "Params",
          "new_api": null,
          "old_text": "Params()",
          "new_text": null,
          "old_line_content": "    const CChainParams& chainparams = Params();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 4700,
          "old_api": "IsNull",
          "new_api": null,
          "old_text": "file.IsNull()",
          "new_text": null,
          "old_line_content": "    if (file.IsNull()) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4701,
          "old_api": "LogPrintf",
          "new_api": null,
          "old_text": "LogPrintf(\"Failed to open mempool file from disk. Continuing anyway.\\n\")",
          "new_text": null,
          "old_line_content": "        LogPrintf(\"Failed to open mempool file from disk. Continuing anyway.\\n\");",
          "new_line_content": "static const uint64_t MEMPOOL_DUMP_VERSION = 1;",
          "content_same": false
        },
        {
          "line": 4192,
          "old_api": "FlushStateToDisk",
          "new_api": null,
          "old_text": "FlushStateToDisk(params, state, FlushStateMode::PERIODIC)",
          "new_text": null,
          "old_line_content": "        if (!FlushStateToDisk(params, state, FlushStateMode::PERIODIC)) {",
          "new_line_content": "            // no need to walk further, and trying to DisconnectTip()",
          "content_same": false
        },
        {
          "line": 4193,
          "old_api": "FormatStateMessage",
          "new_api": null,
          "old_text": "FormatStateMessage(state)",
          "new_text": null,
          "old_line_content": "            LogPrintf(\"RewindBlockIndex: unable to flush state to disk (%s)\\n\", FormatStateMessage(state));",
          "new_line_content": "            // will fail (and require a needless reindex/redownload",
          "content_same": false
        },
        {
          "line": 4209,
          "old_api": "Contains",
          "new_api": null,
          "old_text": "chainActive.Contains(pindexIter)",
          "new_text": null,
          "old_line_content": "        if (IsWitnessEnabled(pindexIter->pprev, params.GetConsensus()) && !(pindexIter->nStatus & BLOCK_OPT_WITNESS) && !chainActive.Contains(pindexIter)) {",
          "new_line_content": "    // to disk before writing the chainstate, resulting in a failure to continue if interrupted.",
          "content_same": false
        },
        {
          "line": 4211,
          "old_api": "std::min<unsigned int>(pindexIter->nStatus & BLOCK_VALID_MASK, BLOCK_VALID_TREE)",
          "new_api": null,
          "old_text": "std::min<unsigned int>(pindexIter->nStatus & BLOCK_VALID_MASK, BLOCK_VALID_TREE)",
          "new_text": null,
          "old_line_content": "            pindexIter->nStatus = std::min<unsigned int>(pindexIter->nStatus & BLOCK_VALID_MASK, BLOCK_VALID_TREE) | (pindexIter->nStatus & ~BLOCK_VALID_MASK);",
          "new_line_content": "        CBlockIndex* pindexIter = entry.second;",
          "content_same": false
        },
        {
          "line": 4729,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "tx->GetHash()",
          "new_text": null,
          "old_line_content": "                mempool.PrioritiseTransaction(tx->GetHash(), amountdelta);",
          "new_line_content": "            CTransactionRef tx;",
          "content_same": false
        },
        {
          "line": 4733,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_main)",
          "new_text": null,
          "old_line_content": "                LOCK(cs_main);",
          "new_line_content": "            file >> nTime;",
          "content_same": false
        },
        {
          "line": 4734,
          "old_api": "AcceptToMemoryPoolWithTime",
          "new_api": null,
          "old_text": "AcceptToMemoryPoolWithTime(chainparams, mempool, state, tx, nullptr /* pfMissingInputs */, nTime,\n                                           nullptr /* plTxnReplaced */, false /* bypass_limits */, 0 /* nAbsurdFee */,\n                                           false /* test_accept */)",
          "new_text": null,
          "old_line_content": "                AcceptToMemoryPoolWithTime(chainparams, mempool, state, tx, nullptr /* pfMissingInputs */, nTime,",
          "new_line_content": "            file >> nFeeDelta;",
          "content_same": false
        },
        {
          "line": 4223,
          "old_api": "insert",
          "new_api": null,
          "old_text": "setDirtyBlockIndex.insert(pindexIter)",
          "new_text": null,
          "old_line_content": "            setDirtyBlockIndex.insert(pindexIter);",
          "new_line_content": "            // Remove storage location.",
          "content_same": false
        },
        {
          "line": 4225,
          "old_api": "erase",
          "new_api": null,
          "old_text": "setBlockIndexCandidates.erase(pindexIter)",
          "new_text": null,
          "old_line_content": "            setBlockIndexCandidates.erase(pindexIter);",
          "new_line_content": "            pindexIter->nDataPos = 0;",
          "content_same": false
        },
        {
          "line": 4226,
          "old_api": "equal_range",
          "new_api": null,
          "old_text": "mapBlocksUnlinked.equal_range(pindexIter->pprev)",
          "new_text": null,
          "old_line_content": "            std::pair<std::multimap<CBlockIndex*, CBlockIndex*>::iterator, std::multimap<CBlockIndex*, CBlockIndex*>::iterator> ret = mapBlocksUnlinked.equal_range(pindexIter->pprev);",
          "new_line_content": "            pindexIter->nUndoPos = 0;",
          "content_same": false
        },
        {
          "line": 4737,
          "old_api": "IsValid",
          "new_api": null,
          "old_text": "state.IsValid()",
          "new_text": null,
          "old_line_content": "                if (state.IsValid()) {",
          "new_line_content": "            if (amountdelta) {",
          "content_same": false
        },
        {
          "line": 4229,
          "old_api": "erase",
          "new_api": null,
          "old_text": "mapBlocksUnlinked.erase(ret.first++)",
          "new_text": null,
          "old_line_content": "                    mapBlocksUnlinked.erase(ret.first++);",
          "new_line_content": "            pindexIter->nChainTx = 0;",
          "content_same": false
        },
        {
          "line": 4744,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "tx->GetHash()",
          "new_text": null,
          "old_line_content": "                    if (mempool.exists(tx->GetHash())) {",
          "new_line_content": "                                           nullptr /* plTxnReplaced */, false /* bypass_limits */, 0 /* nAbsurdFee */,",
          "content_same": false
        },
        {
          "line": 4239,
          "old_api": "Tip",
          "new_api": null,
          "old_text": "chainActive.Tip()",
          "new_text": null,
          "old_line_content": "    if (chainActive.Tip() != nullptr) {",
          "new_line_content": "                } else {",
          "content_same": false
        },
        {
          "line": 4242,
          "old_api": "PruneBlockIndexCandidates",
          "new_api": null,
          "old_text": "PruneBlockIndexCandidates()",
          "new_text": null,
          "old_line_content": "        PruneBlockIndexCandidates();",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 4760,
          "old_api": "PrioritiseTransaction",
          "new_api": null,
          "old_text": "mempool.PrioritiseTransaction(i.first, i.second)",
          "new_text": null,
          "old_line_content": "            mempool.PrioritiseTransaction(i.first, i.second);",
          "new_line_content": "                ++expired;",
          "content_same": false
        },
        {
          "line": 4763,
          "old_api": "what",
          "new_api": null,
          "old_text": "e.what()",
          "new_text": null,
          "old_line_content": "        LogPrintf(\"Failed to deserialize mempool data on disk: %s. Continuing anyway.\\n\", e.what());",
          "new_line_content": "                return false;",
          "content_same": false
        },
        {
          "line": 4255,
          "old_api": "Tip",
          "new_api": null,
          "old_text": "chainActive.Tip()",
          "new_text": null,
          "old_line_content": "    if (chainActive.Tip() != nullptr) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4767,
          "old_api": "LogPrintf",
          "new_api": null,
          "old_text": "LogPrintf(\"Imported mempool transactions from disk: %i succeeded, %i failed, %i expired, %i already there\\n\", count, failed, expired, already_there)",
          "new_text": null,
          "old_line_content": "    LogPrintf(\"Imported mempool transactions from disk: %i succeeded, %i failed, %i expired, %i already there\\n\", count, failed, expired, already_there);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3745,
          "old_api": "PruneOneBlockFile",
          "new_api": null,
          "old_text": "PruneOneBlockFile(fileNumber)",
          "new_text": null,
          "old_line_content": "            PruneOneBlockFile(fileNumber);",
          "new_line_content": "                continue;",
          "content_same": false
        },
        {
          "line": 3747,
          "old_api": "insert",
          "new_api": null,
          "old_text": "setFilesToPrune.insert(fileNumber)",
          "new_text": null,
          "old_line_content": "            setFilesToPrune.insert(fileNumber);",
          "new_line_content": "            if (nCurrentUsage + nBuffer < nPruneTarget)  // are we below our target?",
          "content_same": false
        },
        {
          "line": 4261,
          "old_api": "FormatStateMessage",
          "new_api": null,
          "old_text": "FormatStateMessage(state)",
          "new_text": null,
          "old_line_content": "            LogPrintf(\"RewindBlockIndex: unable to flush state to disk (%s)\\n\", FormatStateMessage(state));",
          "new_line_content": "        return false;",
          "content_same": false
        },
        {
          "line": 4773,
          "old_api": "GetTimeMicros",
          "new_api": null,
          "old_text": "GetTimeMicros()",
          "new_text": null,
          "old_line_content": "    int64_t start = GetTimeMicros();",
          "new_line_content": "        return false;",
          "content_same": false
        },
        {
          "line": 3753,
          "old_api": "LogPrint",
          "new_api": null,
          "old_text": "LogPrint(BCLog::PRUNE, \"Prune: target=%dMiB actual=%dMiB diff=%dMiB max_prune_height=%d removed %d blk/rev pairs\\n\",\n           nPruneTarget/1024/1024, nCurrentUsage/1024/1024,\n           ((int64_t)nPruneTarget - (int64_t)nCurrentUsage)/1024/1024,\n           nLastBlockWeCanPrune, count)",
          "new_text": null,
          "old_line_content": "    LogPrint(BCLog::PRUNE, \"Prune: target=%dMiB actual=%dMiB diff=%dMiB max_prune_height=%d removed %d blk/rev pairs\\n\",",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4779,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(mempool.cs)",
          "new_text": null,
          "old_line_content": "        LOCK(mempool.cs);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4271,
          "old_api": "clear",
          "new_api": null,
          "old_text": "m_failed_blocks.clear()",
          "new_text": null,
          "old_line_content": "    m_failed_blocks.clear();",
          "new_line_content": "            return false;",
          "content_same": false
        },
        {
          "line": 4272,
          "old_api": "clear",
          "new_api": null,
          "old_text": "setBlockIndexCandidates.clear()",
          "new_text": null,
          "old_line_content": "    setBlockIndexCandidates.clear();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4783,
          "old_api": "infoAll",
          "new_api": null,
          "old_text": "mempool.infoAll()",
          "new_text": null,
          "old_line_content": "        vinfo = mempool.infoAll();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4786,
          "old_api": "GetTimeMicros",
          "new_api": null,
          "old_text": "GetTimeMicros()",
          "new_text": null,
          "old_line_content": "    int64_t mid = GetTimeMicros();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3761,
          "old_api": "GetDataDir",
          "new_api": null,
          "old_text": "GetDataDir()",
          "new_text": null,
          "old_line_content": "    uint64_t nFreeBytesAvailable = fs::space(blocks_dir ? GetBlocksDir() : GetDataDir()).available;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4789,
          "old_api": "GetDataDir",
          "new_api": null,
          "old_text": "GetDataDir()",
          "new_text": null,
          "old_line_content": "        FILE* filestr = fsbridge::fopen(GetDataDir() / \"mempool.dat.new\", \"wb\");",
          "new_line_content": "        for (const auto &i : mempool.mapDeltas) {",
          "content_same": false
        },
        {
          "line": 3765,
          "old_api": "_",
          "new_api": null,
          "old_text": "_(\"Error: Disk space is low!\")",
          "new_text": null,
          "old_line_content": "        return AbortNode(\"Disk space is low!\", _(\"Error: Disk space is low!\"));",
          "new_line_content": "           nLastBlockWeCanPrune, count);",
          "content_same": false
        },
        {
          "line": 4284,
          "old_api": "clear",
          "new_api": null,
          "old_text": "mempool.clear()",
          "new_text": null,
          "old_line_content": "    mempool.clear();",
          "new_line_content": "// May NOT be used after any connections are up as much",
          "content_same": false
        },
        {
          "line": 4285,
          "old_api": "clear",
          "new_api": null,
          "old_text": "mapBlocksUnlinked.clear()",
          "new_text": null,
          "old_line_content": "    mapBlocksUnlinked.clear();",
          "new_line_content": "// of the peer-processing logic assumes a consistent",
          "content_same": false
        },
        {
          "line": 4286,
          "old_api": "clear",
          "new_api": null,
          "old_text": "vinfoBlockFile.clear()",
          "new_text": null,
          "old_line_content": "    vinfoBlockFile.clear();",
          "new_line_content": "// block index state",
          "content_same": false
        },
        {
          "line": 4799,
          "old_api": "size",
          "new_api": null,
          "old_text": "vinfo.size()",
          "new_text": null,
          "old_line_content": "        file << (uint64_t)vinfo.size();",
          "new_line_content": "        if (!filestr) {",
          "content_same": false
        },
        {
          "line": 4288,
          "old_api": "clear",
          "new_api": null,
          "old_text": "setDirtyBlockIndex.clear()",
          "new_text": null,
          "old_line_content": "    setDirtyBlockIndex.clear();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3772,
          "old_api": "IsNull",
          "new_api": null,
          "old_text": "pos.IsNull()",
          "new_text": null,
          "old_line_content": "    if (pos.IsNull())",
          "new_line_content": "    // Check for nMinDiskSpace bytes (currently 50MB)",
          "content_same": false
        },
        {
          "line": 3775,
          "old_api": "parent_path",
          "new_api": null,
          "old_text": "path.parent_path()",
          "new_text": null,
          "old_line_content": "    fs::create_directories(path.parent_path());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3776,
          "old_api": "fsbridge::fopen(path, fReadOnly ? \"rb\": \"rb+\")",
          "new_api": null,
          "old_text": "fsbridge::fopen(path, fReadOnly ? \"rb\": \"rb+\")",
          "new_text": null,
          "old_line_content": "    FILE* file = fsbridge::fopen(path, fReadOnly ? \"rb\": \"rb+\");",
          "new_line_content": "    return true;",
          "content_same": false
        },
        {
          "line": 4292,
          "old_api": "clear",
          "new_api": null,
          "old_text": "warningcache[b].clear()",
          "new_text": null,
          "old_line_content": "        warningcache[b].clear();",
          "new_line_content": "    pindexBestHeader = nullptr;",
          "content_same": false
        },
        {
          "line": 4804,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "i.tx->GetHash()",
          "new_text": null,
          "old_line_content": "            mapDeltas.erase(i.tx->GetHash());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3778,
          "old_api": "fsbridge::fopen(path, \"wb+\")",
          "new_api": null,
          "old_text": "fsbridge::fopen(path, \"wb+\")",
          "new_text": null,
          "old_line_content": "        file = fsbridge::fopen(path, \"wb+\");",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3780,
          "old_api": "string",
          "new_api": null,
          "old_text": "path.string()",
          "new_text": null,
          "old_line_content": "        LogPrintf(\"Unable to open file %s\\n\", path.string());",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 4809,
          "old_api": "std::runtime_error(\"FileCommit failed\")",
          "new_api": null,
          "old_text": "std::runtime_error(\"FileCommit failed\")",
          "new_text": null,
          "old_line_content": "            throw std::runtime_error(\"FileCommit failed\");",
          "new_line_content": "        for (const auto& i : vinfo) {",
          "content_same": false
        },
        {
          "line": 4810,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "file.fclose()",
          "new_text": null,
          "old_line_content": "        file.fclose();",
          "new_line_content": "            file << *(i.tx);",
          "content_same": false
        },
        {
          "line": 4811,
          "old_api": "GetDataDir",
          "new_api": null,
          "old_text": "GetDataDir()",
          "new_text": null,
          "old_line_content": "        RenameOver(GetDataDir() / \"mempool.dat.new\", GetDataDir() / \"mempool.dat\");",
          "new_line_content": "            file << (int64_t)i.nTime;",
          "content_same": false
        },
        {
          "line": 4812,
          "old_api": "GetTimeMicros",
          "new_api": null,
          "old_text": "GetTimeMicros()",
          "new_text": null,
          "old_line_content": "        int64_t last = GetTimeMicros();",
          "new_line_content": "            file << (int64_t)i.nFeeDelta;",
          "content_same": false
        },
        {
          "line": 3786,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(file)",
          "new_text": null,
          "old_line_content": "            fclose(file);",
          "new_line_content": "    if (!file && !fReadOnly)",
          "content_same": false
        },
        {
          "line": 4815,
          "old_api": "what",
          "new_api": null,
          "old_text": "e.what()",
          "new_text": null,
          "old_line_content": "        LogPrintf(\"Failed to dump mempool: %s. Continuing anyway.\\n\", e.what());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4309,
          "old_api": "LoadBlockIndexDB",
          "new_api": null,
          "old_text": "LoadBlockIndexDB(chainparams)",
          "new_text": null,
          "old_line_content": "        bool ret = LoadBlockIndexDB(chainparams);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4311,
          "old_api": "empty",
          "new_api": null,
          "old_text": "mapBlockIndex.empty()",
          "new_text": null,
          "old_line_content": "        needs_init = mapBlockIndex.empty();",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3799,
          "old_api": "OpenDiskFile",
          "new_api": null,
          "old_text": "OpenDiskFile(pos, \"rev\", fReadOnly)",
          "new_text": null,
          "old_line_content": "    return OpenDiskFile(pos, \"rev\", fReadOnly);",
          "new_line_content": "    return file;",
          "content_same": false
        },
        {
          "line": 4827,
          "old_api": "time",
          "new_api": null,
          "old_text": "time(nullptr)",
          "new_text": null,
          "old_line_content": "    int64_t nNow = time(nullptr);",
          "new_line_content": "    return true;",
          "content_same": false
        },
        {
          "line": 3804,
          "old_api": "strprintf",
          "new_api": null,
          "old_text": "strprintf(\"%s%05u.dat\", prefix, pos.nFile)",
          "new_text": null,
          "old_line_content": "    return GetBlocksDir() / strprintf(\"%s%05u.dat\", prefix, pos.nFile);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4321,
          "old_api": "LogPrintf",
          "new_api": null,
          "old_text": "LogPrintf(\"Initializing databases...\\n\")",
          "new_text": null,
          "old_line_content": "        LogPrintf(\"Initializing databases...\\n\");",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4834,
          "old_api": "GetBlockTime",
          "new_api": null,
          "old_text": "pindex->GetBlockTime()",
          "new_text": null,
          "old_line_content": "        fTxTotal = pindex->nChainTx + (nNow - pindex->GetBlockTime()) * data.dTxRate;",
          "new_line_content": "        return 0.0;",
          "content_same": false
        },
        {
          "line": 3809,
          "old_api": "AssertLockHeld",
          "new_api": null,
          "old_text": "AssertLockHeld(cs_main)",
          "new_text": null,
          "old_line_content": "    AssertLockHeld(cs_main);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3811,
          "old_api": "IsNull",
          "new_api": null,
          "old_text": "hash.IsNull()",
          "new_text": null,
          "old_line_content": "    if (hash.IsNull())",
          "new_line_content": "fs::path GetBlockPosFilename(const CDiskBlockPos &pos, const char *prefix)",
          "content_same": false
        },
        {
          "line": 3815,
          "old_api": "find",
          "new_api": null,
          "old_text": "mapBlockIndex.find(hash)",
          "new_text": null,
          "old_line_content": "    BlockMap::iterator mi = mapBlockIndex.find(hash);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4328,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_main)",
          "new_text": null,
          "old_line_content": "    LOCK(cs_main);",
          "new_line_content": "        // needs_init.",
          "content_same": false
        },
        {
          "line": 3816,
          "old_api": "end",
          "new_api": null,
          "old_text": "mapBlockIndex.end()",
          "new_text": null,
          "old_line_content": "    if (mi != mapBlockIndex.end())",
          "new_line_content": "CBlockIndex * CChainState::InsertBlockIndex(const uint256& hash)",
          "content_same": false
        },
        {
          "line": 3821,
          "old_api": "std::make_pair(hash, pindexNew)",
          "new_api": null,
          "old_text": "std::make_pair(hash, pindexNew)",
          "new_text": null,
          "old_line_content": "    mi = mapBlockIndex.insert(std::make_pair(hash, pindexNew)).first;",
          "new_line_content": "        return nullptr;",
          "content_same": false
        },
        {
          "line": 4334,
          "old_api": "GenesisBlock",
          "new_api": null,
          "old_text": "chainparams.GenesisBlock().GetHash()",
          "new_text": null,
          "old_line_content": "    if (mapBlockIndex.count(chainparams.GenesisBlock().GetHash()))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4846,
          "old_api": "begin",
          "new_api": null,
          "old_text": "mapBlockIndex.begin()",
          "new_text": null,
          "old_line_content": "        BlockMap::iterator it1 = mapBlockIndex.begin();",
          "new_line_content": "    return pindex->nChainTx / fTxTotal;",
          "content_same": false
        },
        {
          "line": 4847,
          "old_api": "end",
          "new_api": null,
          "old_text": "mapBlockIndex.end()",
          "new_text": null,
          "old_line_content": "        for (; it1 != mapBlockIndex.end(); it1++)",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4849,
          "old_api": "clear",
          "new_api": null,
          "old_text": "mapBlockIndex.clear()",
          "new_text": null,
          "old_line_content": "        mapBlockIndex.clear();",
          "new_line_content": "class CMainCleanup",
          "content_same": false
        },
        {
          "line": 4338,
          "old_api": "GenesisBlock",
          "new_api": null,
          "old_text": "chainparams.GenesisBlock()",
          "new_text": null,
          "old_line_content": "        CBlock &block = const_cast<CBlock&>(chainparams.GenesisBlock());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4339,
          "old_api": "SaveBlockToDisk",
          "new_api": null,
          "old_text": "SaveBlockToDisk(block, 0, chainparams, nullptr)",
          "new_text": null,
          "old_line_content": "        CDiskBlockPos blockPos = SaveBlockToDisk(block, 0, chainparams, nullptr);",
          "new_line_content": "    // Check whether we're already initialized by checking for genesis in",
          "content_same": false
        },
        {
          "line": 4340,
          "old_api": "IsNull",
          "new_api": null,
          "old_text": "blockPos.IsNull()",
          "new_text": null,
          "old_line_content": "        if (blockPos.IsNull())",
          "new_line_content": "    // mapBlockIndex. Note that we can't use chainActive here, since it is",
          "content_same": false
        },
        {
          "line": 4341,
          "old_api": "error",
          "new_api": null,
          "old_text": "error(\"%s: writing genesis block to disk failed\", __func__)",
          "new_text": null,
          "old_line_content": "            return error(\"%s: writing genesis block to disk failed\", __func__);",
          "new_line_content": "    // set based on the coins db, not the block index db, which is the only",
          "content_same": false
        },
        {
          "line": 4342,
          "old_api": "AddToBlockIndex",
          "new_api": null,
          "old_text": "AddToBlockIndex(block)",
          "new_text": null,
          "old_line_content": "        CBlockIndex *pindex = AddToBlockIndex(block);",
          "new_line_content": "    // thing loaded at this point.",
          "content_same": false
        },
        {
          "line": 3829,
          "old_api": "InsertBlockIndex",
          "new_api": null,
          "old_text": "this->InsertBlockIndex(hash)",
          "new_text": null,
          "old_line_content": "    if (!blocktree.LoadBlockIndexGuts(consensus_params, [this](const uint256& hash) EXCLUSIVE_LOCKS_REQUIRED(cs_main) { return this->InsertBlockIndex(hash); }))",
          "new_line_content": "    CBlockIndex* pindexNew = new CBlockIndex();",
          "content_same": false
        },
        {
          "line": 3832,
          "old_api": "boost::this_thread::interruption_point()",
          "new_api": null,
          "old_text": "boost::this_thread::interruption_point()",
          "new_text": null,
          "old_line_content": "    boost::this_thread::interruption_point();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4345,
          "old_api": "what",
          "new_api": null,
          "old_text": "e.what()",
          "new_text": null,
          "old_line_content": "        return error(\"%s: failed to write genesis block: %s\", __func__, e.what());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3836,
          "old_api": "size",
          "new_api": null,
          "old_text": "mapBlockIndex.size()",
          "new_text": null,
          "old_line_content": "    vSortedByHeight.reserve(mapBlockIndex.size());",
          "new_line_content": "bool CChainState::LoadBlockIndex(const Consensus::Params& consensus_params, CBlockTreeDB& blocktree)",
          "content_same": false
        },
        {
          "line": 3840,
          "old_api": "std::make_pair(pindex->nHeight, pindex)",
          "new_api": null,
          "old_text": "std::make_pair(pindex->nHeight, pindex)",
          "new_text": null,
          "old_line_content": "        vSortedByHeight.push_back(std::make_pair(pindex->nHeight, pindex));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4353,
          "old_api": "LoadGenesisBlock",
          "new_api": null,
          "old_text": "g_chainstate.LoadGenesisBlock(chainparams)",
          "new_text": null,
          "old_line_content": "    return g_chainstate.LoadGenesisBlock(chainparams);",
          "new_line_content": "    } catch (const std::runtime_error& e) {",
          "content_same": false
        },
        {
          "line": 3842,
          "old_api": "end",
          "new_api": null,
          "old_text": "vSortedByHeight.end()",
          "new_text": null,
          "old_line_content": "    sort(vSortedByHeight.begin(), vSortedByHeight.end());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3846,
          "old_api": "GetBlockProof",
          "new_api": null,
          "old_text": "GetBlockProof(*pindex)",
          "new_text": null,
          "old_line_content": "        pindex->nChainWork = (pindex->pprev ? pindex->pprev->nChainWork : 0) + GetBlockProof(*pindex);",
          "new_line_content": "    for (const std::pair<const uint256, CBlockIndex*>& item : mapBlockIndex)",
          "content_same": false
        },
        {
          "line": 3847,
          "old_api": "std::max(pindex->pprev->nTimeMax, pindex->nTime)",
          "new_api": null,
          "old_text": "std::max(pindex->pprev->nTimeMax, pindex->nTime)",
          "new_text": null,
          "old_line_content": "        pindex->nTimeMax = (pindex->pprev ? std::max(pindex->pprev->nTimeMax, pindex->nTime) : pindex->nTime);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 4360,
          "old_api": "GetTimeMillis",
          "new_api": null,
          "old_text": "GetTimeMillis()",
          "new_text": null,
          "old_line_content": "    int64_t nStart = GetTimeMillis();",
          "new_line_content": "bool LoadGenesisBlock(const CChainParams& chainparams)",
          "content_same": false
        },
        {
          "line": 4366,
          "old_api": "GetPos",
          "new_api": null,
          "old_text": "blkdat.GetPos()",
          "new_text": null,
          "old_line_content": "        uint64_t nRewind = blkdat.GetPos();",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 4367,
          "old_api": "eof",
          "new_api": null,
          "old_text": "blkdat.eof()",
          "new_text": null,
          "old_line_content": "        while (!blkdat.eof()) {",
          "new_line_content": "    // Map of disk positions for blocks with unknown parent (only used for reindex)",
          "content_same": false
        },
        {
          "line": 4368,
          "old_api": "boost::this_thread::interruption_point()",
          "new_api": null,
          "old_text": "boost::this_thread::interruption_point()",
          "new_text": null,
          "old_line_content": "            boost::this_thread::interruption_point();",
          "new_line_content": "    static std::multimap<uint256, CDiskBlockPos> mapBlocksUnknownParent;",
          "content_same": false
        },
        {
          "line": 4370,
          "old_api": "SetPos",
          "new_api": null,
          "old_text": "blkdat.SetPos(nRewind)",
          "new_text": null,
          "old_line_content": "            blkdat.SetPos(nRewind);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4372,
          "old_api": "SetLimit",
          "new_api": null,
          "old_text": "blkdat.SetLimit()",
          "new_text": null,
          "old_line_content": "            blkdat.SetLimit(); // remove former limit",
          "new_line_content": "    try {",
          "content_same": false
        },
        {
          "line": 3864,
          "old_api": "insert",
          "new_api": null,
          "old_text": "setDirtyBlockIndex.insert(pindex)",
          "new_text": null,
          "old_line_content": "            setDirtyBlockIndex.insert(pindex);",
          "new_line_content": "                    pindex->nChainTx = 0;",
          "content_same": false
        },
        {
          "line": 4378,
          "old_api": "GetPos",
          "new_api": null,
          "old_text": "blkdat.GetPos()",
          "new_text": null,
          "old_line_content": "                nRewind = blkdat.GetPos()+1;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3866,
          "old_api": "IsValid",
          "new_api": null,
          "old_text": "pindex->IsValid(BLOCK_VALID_TRANSACTIONS)",
          "new_text": null,
          "old_line_content": "        if (pindex->IsValid(BLOCK_VALID_TRANSACTIONS) && (pindex->nChainTx || pindex->pprev == nullptr))",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 4380,
          "old_api": "MessageStart",
          "new_api": null,
          "old_text": "chainparams.MessageStart()",
          "new_text": null,
          "old_line_content": "                if (memcmp(buf, chainparams.MessageStart(), CMessageHeader::MESSAGE_START_SIZE))",
          "new_line_content": "            nRewind++; // start one byte further next time, in case of failure",
          "content_same": false
        },
        {
          "line": 3867,
          "old_api": "insert",
          "new_api": null,
          "old_text": "setBlockIndexCandidates.insert(pindex)",
          "new_text": null,
          "old_line_content": "            setBlockIndexCandidates.insert(pindex);",
          "new_line_content": "            } else {",
          "content_same": false
        },
        {
          "line": 3871,
          "old_api": "BuildSkip",
          "new_api": null,
          "old_text": "pindex->BuildSkip()",
          "new_text": null,
          "old_line_content": "            pindex->BuildSkip();",
          "new_line_content": "        if (!(pindex->nStatus & BLOCK_FAILED_MASK) && pindex->pprev && (pindex->pprev->nStatus & BLOCK_FAILED_MASK)) {",
          "content_same": false
        },
        {
          "line": 3872,
          "old_api": "CBlockIndexWorkComparator",
          "new_api": null,
          "old_text": "CBlockIndexWorkComparator()(pindexBestHeader, pindex)",
          "new_text": null,
          "old_line_content": "        if (pindex->IsValid(BLOCK_VALID_TREE) && (pindexBestHeader == nullptr || CBlockIndexWorkComparator()(pindexBestHeader, pindex)))",
          "new_line_content": "            pindex->nStatus |= BLOCK_FAILED_CHILD;",
          "content_same": false
        },
        {
          "line": 4392,
          "old_api": "GetPos",
          "new_api": null,
          "old_text": "blkdat.GetPos()",
          "new_text": null,
          "old_line_content": "                uint64_t nBlockPos = blkdat.GetPos();",
          "new_line_content": "                blkdat >> nSize;",
          "content_same": false
        },
        {
          "line": 4395,
          "old_api": "SetLimit",
          "new_api": null,
          "old_text": "blkdat.SetLimit(nBlockPos + nSize)",
          "new_text": null,
          "old_line_content": "                blkdat.SetLimit(nBlockPos + nSize);",
          "new_line_content": "            } catch (const std::exception&) {",
          "content_same": false
        },
        {
          "line": 4396,
          "old_api": "SetPos",
          "new_api": null,
          "old_text": "blkdat.SetPos(nBlockPos)",
          "new_text": null,
          "old_line_content": "                blkdat.SetPos(nBlockPos);",
          "new_line_content": "                // no valid block header found; don't complain",
          "content_same": false
        },
        {
          "line": 4397,
          "old_api": "std::make_shared<CBlock>()",
          "new_api": null,
          "old_text": "std::make_shared<CBlock>()",
          "new_text": null,
          "old_line_content": "                std::shared_ptr<CBlock> pblock = std::make_shared<CBlock>();",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 3885,
          "old_api": "ReadLastBlockFile",
          "new_api": null,
          "old_text": "pblocktree->ReadLastBlockFile(nLastBlockFile)",
          "new_text": null,
          "old_line_content": "    pblocktree->ReadLastBlockFile(nLastBlockFile);",
          "new_line_content": "    return true;",
          "content_same": false
        },
        {
          "line": 3886,
          "old_api": "resize",
          "new_api": null,
          "old_text": "vinfoBlockFile.resize(nLastBlockFile + 1)",
          "new_text": null,
          "old_line_content": "    vinfoBlockFile.resize(nLastBlockFile + 1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4400,
          "old_api": "GetPos",
          "new_api": null,
          "old_text": "blkdat.GetPos()",
          "new_text": null,
          "old_line_content": "                nRewind = blkdat.GetPos();",
          "new_line_content": "                // read block",
          "content_same": false
        },
        {
          "line": 3887,
          "old_api": "LogPrintf",
          "new_api": null,
          "old_text": "LogPrintf(\"%s: last block file = %i\\n\", __func__, nLastBlockFile)",
          "new_text": null,
          "old_line_content": "    LogPrintf(\"%s: last block file = %i\\n\", __func__, nLastBlockFile);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4402,
          "old_api": "GetHash",
          "new_api": null,
          "old_text": "block.GetHash()",
          "new_text": null,
          "old_line_content": "                uint256 hash = block.GetHash();",
          "new_line_content": "                if (dbp)",
          "content_same": false
        },
        {
          "line": 3889,
          "old_api": "ReadBlockFileInfo",
          "new_api": null,
          "old_text": "pblocktree->ReadBlockFileInfo(nFile, vinfoBlockFile[nFile])",
          "new_text": null,
          "old_line_content": "        pblocktree->ReadBlockFileInfo(nFile, vinfoBlockFile[nFile]);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 3891,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "vinfoBlockFile[nLastBlockFile].ToString()",
          "new_text": null,
          "old_line_content": "    LogPrintf(\"%s: last block file info: %s\\n\", __func__, vinfoBlockFile[nLastBlockFile].ToString());",
          "new_line_content": "        return false;",
          "content_same": false
        },
        {
          "line": 4407,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "hash.ToString()",
          "new_text": null,
          "old_line_content": "                        LogPrint(BCLog::REINDEX, \"%s: Out of order block %s, parent %s not known\\n\", __func__, hash.ToString(),",
          "new_line_content": "                CBlock& block = *pblock;",
          "content_same": false
        },
        {
          "line": 4408,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "block.hashPrevBlock.ToString()",
          "new_text": null,
          "old_line_content": "                                block.hashPrevBlock.ToString());",
          "new_line_content": "                blkdat >> block;",
          "content_same": false
        },
        {
          "line": 4410,
          "old_api": "std::make_pair(block.hashPrevBlock, *dbp)",
          "new_api": null,
          "old_text": "std::make_pair(block.hashPrevBlock, *dbp)",
          "new_text": null,
          "old_line_content": "                            mapBlocksUnknownParent.insert(std::make_pair(block.hashPrevBlock, *dbp));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3902,
          "old_api": "LogPrintf",
          "new_api": null,
          "old_text": "LogPrintf(\"Checking all blk files are present...\\n\")",
          "new_text": null,
          "old_line_content": "    LogPrintf(\"Checking all blk files are present...\\n\");",
          "new_line_content": "        CBlockFileInfo info;",
          "content_same": false
        },
        {
          "line": 4418,
          "old_api": "AcceptBlock",
          "new_api": null,
          "old_text": "g_chainstate.AcceptBlock(pblock, state, chainparams, nullptr, true, dbp, nullptr)",
          "new_text": null,
          "old_line_content": "                      if (g_chainstate.AcceptBlock(pblock, state, chainparams, nullptr, true, dbp, nullptr)) {",
          "new_line_content": "                        if (dbp)",
          "content_same": false
        },
        {
          "line": 3908,
          "old_api": "insert",
          "new_api": null,
          "old_text": "setBlkDataFiles.insert(pindex->nFile)",
          "new_text": null,
          "old_line_content": "            setBlkDataFiles.insert(pindex->nFile);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4421,
          "old_api": "IsError",
          "new_api": null,
          "old_text": "state.IsError()",
          "new_text": null,
          "old_line_content": "                      if (state.IsError()) {",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 4425,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "hash.ToString()",
          "new_text": null,
          "old_line_content": "                      LogPrint(BCLog::REINDEX, \"Block Import: already had block %s at height %d\\n\", hash.ToString(), pindex->nHeight);",
          "new_line_content": "                    if (!pindex || (pindex->nStatus & BLOCK_HAVE_DATA) == 0) {",
          "content_same": false
        },
        {
          "line": 3914,
          "old_api": "OpenBlockFile",
          "new_api": null,
          "old_text": "OpenBlockFile(pos, true)",
          "new_text": null,
          "old_line_content": "        if (CAutoFile(OpenBlockFile(pos, true), SER_DISK, CLIENT_VERSION).IsNull()) {",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 4432,
          "old_api": "ActivateBestChain",
          "new_api": null,
          "old_text": "ActivateBestChain(state, chainparams)",
          "new_text": null,
          "old_line_content": "                    if (!ActivateBestChain(state, chainparams)) {",
          "new_line_content": "                      }",
          "content_same": false
        },
        {
          "line": 3922,
          "old_api": "LogPrintf",
          "new_api": null,
          "old_text": "LogPrintf(\"LoadBlockIndexDB(): Block files have previously been pruned\\n\")",
          "new_text": null,
          "old_line_content": "        LogPrintf(\"LoadBlockIndexDB(): Block files have previously been pruned\\n\");",
          "new_line_content": "        CDiskBlockPos pos(*it, 0);",
          "content_same": false
        },
        {
          "line": 4437,
          "old_api": "NotifyHeaderTip",
          "new_api": null,
          "old_text": "NotifyHeaderTip()",
          "new_text": null,
          "old_line_content": "                NotifyHeaderTip();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3926,
          "old_api": "ReadReindexing",
          "new_api": null,
          "old_text": "pblocktree->ReadReindexing(fReindexing)",
          "new_text": null,
          "old_line_content": "    pblocktree->ReadReindexing(fReindexing);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4442,
          "old_api": "empty",
          "new_api": null,
          "old_text": "queue.empty()",
          "new_text": null,
          "old_line_content": "                while (!queue.empty()) {",
          "new_line_content": "                        break;",
          "content_same": false
        },
        {
          "line": 4443,
          "old_api": "front",
          "new_api": null,
          "old_text": "queue.front()",
          "new_text": null,
          "old_line_content": "                    uint256 head = queue.front();",
          "new_line_content": "                    }",
          "content_same": false
        },
        {
          "line": 4444,
          "old_api": "pop_front",
          "new_api": null,
          "old_text": "queue.pop_front()",
          "new_text": null,
          "old_line_content": "                    queue.pop_front();",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 4445,
          "old_api": "equal_range",
          "new_api": null,
          "old_text": "mapBlocksUnknownParent.equal_range(head)",
          "new_text": null,
          "old_line_content": "                    std::pair<std::multimap<uint256, CDiskBlockPos>::iterator, std::multimap<uint256, CDiskBlockPos>::iterator> range = mapBlocksUnknownParent.equal_range(head);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3934,
          "old_api": "AssertLockHeld",
          "new_api": null,
          "old_text": "AssertLockHeld(cs_main)",
          "new_text": null,
          "old_line_content": "    AssertLockHeld(cs_main);",
          "new_line_content": "    bool fReindexing = false;",
          "content_same": false
        },
        {
          "line": 4448,
          "old_api": "std::make_shared<CBlock>()",
          "new_api": null,
          "old_text": "std::make_shared<CBlock>()",
          "new_text": null,
          "old_line_content": "                        std::shared_ptr<CBlock> pblockrecursive = std::make_shared<CBlock>();",
          "new_line_content": "                // Recursively process earlier encountered successors of this block",
          "content_same": false
        },
        {
          "line": 4449,
          "old_api": "GetConsensus",
          "new_api": null,
          "old_text": "chainparams.GetConsensus()",
          "new_text": null,
          "old_line_content": "                        if (ReadBlockFromDisk(*pblockrecursive, it->second, chainparams.GetConsensus()))",
          "new_line_content": "                std::deque<uint256> queue;",
          "content_same": false
        },
        {
          "line": 3936,
          "old_api": "GetBestBlock",
          "new_api": null,
          "old_text": "pcoinsTip->GetBestBlock()",
          "new_text": null,
          "old_line_content": "    if (chainActive.Tip() && chainActive.Tip()->GetBlockHash() == pcoinsTip->GetBestBlock()) return true;",
          "new_line_content": "    if(fReindexing) fReindex = true;",
          "content_same": false
        },
        {
          "line": 3938,
          "old_api": "size",
          "new_api": null,
          "old_text": "mapBlockIndex.size()",
          "new_text": null,
          "old_line_content": "    if (pcoinsTip->GetBestBlock().IsNull() && mapBlockIndex.size() == 1) {",
          "new_line_content": "    return true;",
          "content_same": false
        },
        {
          "line": 3941,
          "old_api": "LogPrintf",
          "new_api": null,
          "old_text": "LogPrintf(\"%s: Connecting genesis block...\\n\", __func__)",
          "new_text": null,
          "old_line_content": "        LogPrintf(\"%s: Connecting genesis block...\\n\", __func__);",
          "new_line_content": "bool LoadChainTip(const CChainParams& chainparams)",
          "content_same": false
        },
        {
          "line": 4455,
          "old_api": "AcceptBlock",
          "new_api": null,
          "old_text": "g_chainstate.AcceptBlock(pblockrecursive, dummy, chainparams, nullptr, true, &it->second, nullptr)",
          "new_text": null,
          "old_line_content": "                            if (g_chainstate.AcceptBlock(pblockrecursive, dummy, chainparams, nullptr, true, &it->second, nullptr))",
          "new_line_content": "                    while (range.first != range.second) {",
          "content_same": false
        },
        {
          "line": 3944,
          "old_api": "FormatStateMessage",
          "new_api": null,
          "old_text": "FormatStateMessage(state)",
          "new_text": null,
          "old_line_content": "            LogPrintf(\"%s: failed to activate chain (%s)\\n\", __func__, FormatStateMessage(state));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4463,
          "old_api": "NotifyHeaderTip",
          "new_api": null,
          "old_text": "NotifyHeaderTip()",
          "new_text": null,
          "old_line_content": "                        NotifyHeaderTip();",
          "new_line_content": "                            CValidationState dummy;",
          "content_same": false
        },
        {
          "line": 3954,
          "old_api": "SetTip",
          "new_api": null,
          "old_text": "chainActive.SetTip(pindex)",
          "new_text": null,
          "old_line_content": "    chainActive.SetTip(pindex);",
          "new_line_content": "            return false;",
          "content_same": false
        },
        {
          "line": 3956,
          "old_api": "PruneBlockIndexCandidates",
          "new_api": null,
          "old_text": "g_chainstate.PruneBlockIndexCandidates()",
          "new_text": null,
          "old_line_content": "    g_chainstate.PruneBlockIndexCandidates();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3958,
          "old_api": "Tip",
          "new_api": null,
          "old_text": "LogPrintf(\"Loaded best chain: hashBestChain=%s height=%d date=%s progress=%f\\n\",\n        chainActive.Tip()->GetBlockHash().ToString(), chainActive.Height(),\n        FormatISO8601DateTime(chainActive.Tip()->GetBlockTime()),\n        GuessVerificationProgress(chainparams.TxData(), chainActive.Tip()))",
          "new_text": null,
          "old_line_content": "    LogPrintf(\"Loaded best chain: hashBestChain=%s height=%d date=%s progress=%f\\n\",",
          "new_line_content": "    // Load pointer to end of best chain",
          "content_same": false
        },
        {
          "line": 3960,
          "old_api": "Tip",
          "new_api": null,
          "old_text": "chainActive.Tip()->GetBlockTime()",
          "new_text": null,
          "old_line_content": "        FormatISO8601DateTime(chainActive.Tip()->GetBlockTime()),",
          "new_line_content": "    if (!pindex) {",
          "content_same": false
        },
        {
          "line": 3961,
          "old_api": "Tip",
          "new_api": null,
          "old_text": "chainActive.Tip()",
          "new_text": null,
          "old_line_content": "        GuessVerificationProgress(chainparams.TxData(), chainActive.Tip()));",
          "new_line_content": "        return false;",
          "content_same": false
        },
        {
          "line": 4474,
          "old_api": "GetTimeMillis",
          "new_api": null,
          "old_text": "GetTimeMillis()",
          "new_text": null,
          "old_line_content": "        LogPrintf(\"Loaded %i blocks from external file in %dms\\n\", nLoaded, GetTimeMillis() - nStart);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 4484,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_main)",
          "new_text": null,
          "old_line_content": "    LOCK(cs_main);",
          "new_line_content": "    return nLoaded > 0;",
          "content_same": false
        },
        {
          "line": 3972,
          "old_api": "ShowProgress",
          "new_api": null,
          "old_text": "uiInterface.ShowProgress(\"\", 100, false)",
          "new_text": null,
          "old_line_content": "    uiInterface.ShowProgress(\"\", 100, false);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 4489,
          "old_api": "Height",
          "new_api": null,
          "old_text": "chainActive.Height()",
          "new_text": null,
          "old_line_content": "    if (chainActive.Height() < 0) {",
          "new_line_content": "    if (!fCheckBlockIndex) {",
          "content_same": false
        },
        {
          "line": 4490,
          "old_api": "size",
          "new_api": null,
          "old_text": "mapBlockIndex.size()",
          "new_text": null,
          "old_line_content": "        assert(mapBlockIndex.size() <= 1);",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 3977,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_main)",
          "new_text": null,
          "old_line_content": "    LOCK(cs_main);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3978,
          "old_api": "Tip",
          "new_api": null,
          "old_text": "chainActive.Tip()",
          "new_text": null,
          "old_line_content": "    if (chainActive.Tip() == nullptr || chainActive.Tip()->pprev == nullptr)",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3982,
          "old_api": "Height",
          "new_api": null,
          "old_text": "chainActive.Height()",
          "new_text": null,
          "old_line_content": "    if (nCheckDepth <= 0 || nCheckDepth > chainActive.Height())",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3983,
          "old_api": "Height",
          "new_api": null,
          "old_text": "chainActive.Height()",
          "new_text": null,
          "old_line_content": "        nCheckDepth = chainActive.Height();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3984,
          "old_api": "std::min(4, nCheckLevel)",
          "new_api": null,
          "old_text": "std::min(4, nCheckLevel)",
          "new_text": null,
          "old_line_content": "    nCheckLevel = std::max(0, std::min(4, nCheckLevel));",
          "new_line_content": "bool CVerifyDB::VerifyDB(const CChainParams& chainparams, CCoinsView *coinsview, int nCheckLevel, int nCheckDepth)",
          "content_same": false
        },
        {
          "line": 4497,
          "old_api": "std::make_pair(entry.second->pprev, entry.second)",
          "new_api": null,
          "old_text": "std::make_pair(entry.second->pprev, entry.second)",
          "new_text": null,
          "old_line_content": "        forward.insert(std::make_pair(entry.second->pprev, entry.second));",
          "new_line_content": "    // iterating the block tree require that chainActive has been initialized.)",
          "content_same": false
        },
        {
          "line": 3985,
          "old_api": "LogPrintf",
          "new_api": null,
          "old_text": "LogPrintf(\"Verifying last %i blocks at level %i\\n\", nCheckDepth, nCheckLevel)",
          "new_text": null,
          "old_line_content": "    LogPrintf(\"Verifying last %i blocks at level %i\\n\", nCheckDepth, nCheckLevel);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 4500,
          "old_api": "size",
          "new_api": null,
          "old_text": "mapBlockIndex.size()",
          "new_text": null,
          "old_line_content": "    assert(forward.size() == mapBlockIndex.size());",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 4502,
          "old_api": "equal_range",
          "new_api": null,
          "old_text": "forward.equal_range(nullptr)",
          "new_text": null,
          "old_line_content": "    std::pair<std::multimap<CBlockIndex*,CBlockIndex*>::iterator,std::multimap<CBlockIndex*,CBlockIndex*>::iterator> rangeGenesis = forward.equal_range(nullptr);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4505,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(rangeGenesis.first == rangeGenesis.second)",
          "new_text": null,
          "old_line_content": "    assert(rangeGenesis.first == rangeGenesis.second); // There is only one index entry with parent nullptr.",
          "new_line_content": "    for (auto& entry : mapBlockIndex) {",
          "content_same": false
        },
        {
          "line": 3995,
          "old_api": "Height",
          "new_api": null,
          "old_text": "chainActive.Height()",
          "new_text": null,
          "old_line_content": "        int percentageDone = std::max(1, std::min(99, (int)(((double)(chainActive.Height() - pindex->nHeight)) / (double)nCheckDepth * (nCheckLevel >= 4 ? 50 : 100))));",
          "new_line_content": "    CCoinsViewCache coins(coinsview);",
          "content_same": false
        },
        {
          "line": 3998,
          "old_api": "LogPrintf",
          "new_api": null,
          "old_text": "LogPrintf(\"[%d%%]...\", percentageDone)",
          "new_text": null,
          "old_line_content": "            LogPrintf(\"[%d%%]...\", percentageDone); /* Continued */",
          "new_line_content": "    int nGoodTransactions = 0;",
          "content_same": false
        },
        {
          "line": 4006,
          "old_api": "LogPrintf",
          "new_api": null,
          "old_text": "LogPrintf(\"VerifyDB(): block verification stopping at height %d (pruning, no data)\\n\", pindex->nHeight)",
          "new_text": null,
          "old_line_content": "            LogPrintf(\"VerifyDB(): block verification stopping at height %d (pruning, no data)\\n\", pindex->nHeight);",
          "new_line_content": "            // report every 10% step",
          "content_same": false
        },
        {
          "line": 4012,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "pindex->GetBlockHash().ToString()",
          "new_text": null,
          "old_line_content": "            return error(\"VerifyDB(): *** ReadBlockFromDisk failed at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 4014,
          "old_api": "GetConsensus",
          "new_api": null,
          "old_text": "chainparams.GetConsensus()",
          "new_text": null,
          "old_line_content": "        if (nCheckLevel >= 1 && !CheckBlock(block, state, chainparams.GetConsensus()))",
          "new_line_content": "            // If pruning, only go back as far as we have data.",
          "content_same": false
        },
        {
          "line": 4016,
          "old_api": "FormatStateMessage",
          "new_api": null,
          "old_text": "FormatStateMessage(state)",
          "new_text": null,
          "old_line_content": "                         pindex->nHeight, pindex->GetBlockHash().ToString(), FormatStateMessage(state));",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 4532,
          "old_api": "GetBlockHash",
          "new_api": null,
          "old_text": "pindex->GetBlockHash()",
          "new_text": null,
          "old_line_content": "            assert(pindex->GetBlockHash() == consensusParams.hashGenesisBlock); // Genesis block's hash must match.",
          "new_line_content": "        if (pindexFirstNeverProcessed == nullptr && pindex->nTx == 0) pindexFirstNeverProcessed = pindex;",
          "content_same": false
        },
        {
          "line": 4533,
          "old_api": "Genesis",
          "new_api": null,
          "old_text": "chainActive.Genesis()",
          "new_text": null,
          "old_line_content": "            assert(pindex == chainActive.Genesis()); // The current active chain's genesis block must be this block.",
          "new_line_content": "        if (pindex->pprev != nullptr && pindexFirstNotTreeValid == nullptr && (pindex->nStatus & BLOCK_VALID_MASK) < BLOCK_VALID_TREE) pindexFirstNotTreeValid = pindex;",
          "content_same": false
        },
        {
          "line": 4022,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "pindex->GetBlockHash().ToString()",
          "new_text": null,
          "old_line_content": "                    return error(\"VerifyDB(): *** found bad undo data at %d, hash=%s\\n\", pindex->nHeight, pindex->GetBlockHash().ToString());",
          "new_line_content": "        // check level 1: verify block validity",
          "content_same": false
        },
        {
          "line": 4535,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(pindex->nSequenceId <= 0)",
          "new_text": null,
          "old_line_content": "        if (pindex->nChainTx == 0) assert(pindex->nSequenceId <= 0);  // nSequenceId can't be set positive for blocks that aren't linked (negative is used for preciousblock)",
          "new_line_content": "        if (pindex->pprev != nullptr && pindexFirstNotChainValid == nullptr && (pindex->nStatus & BLOCK_VALID_MASK) < BLOCK_VALID_CHAIN) pindexFirstNotChainValid = pindex;",
          "content_same": false
        },
        {
          "line": 4027,
          "old_api": "DynamicMemoryUsage",
          "new_api": null,
          "old_text": "pcoinsTip->DynamicMemoryUsage()",
          "new_text": null,
          "old_line_content": "        if (nCheckLevel >= 3 && (coins.DynamicMemoryUsage() + pcoinsTip->DynamicMemoryUsage()) <= nCoinCacheUsage) {",
          "new_line_content": "        if (nCheckLevel >= 2 && pindex) {",
          "content_same": false
        },
        {
          "line": 4540,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(!(pindex->nStatus & BLOCK_HAVE_DATA) == (pindex->nTx == 0))",
          "new_text": null,
          "old_line_content": "            assert(!(pindex->nStatus & BLOCK_HAVE_DATA) == (pindex->nTx == 0));",
          "new_line_content": "            // Genesis block checks.",
          "content_same": false
        },
        {
          "line": 4028,
          "old_api": "GetBlockHash",
          "new_api": null,
          "old_text": "pindex->GetBlockHash()",
          "new_text": null,
          "old_line_content": "            assert(coins.GetBestBlock() == pindex->GetBlockHash());",
          "new_line_content": "            CBlockUndo undo;",
          "content_same": false
        },
        {
          "line": 4546,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(pindex->nStatus & BLOCK_HAVE_DATA)",
          "new_text": null,
          "old_line_content": "        if (pindex->nStatus & BLOCK_HAVE_UNDO) assert(pindex->nStatus & BLOCK_HAVE_DATA);",
          "new_line_content": "        // HAVE_DATA is only equivalent to nTx > 0 (or VALID_TRANSACTIONS) if no pruning has occurred.",
          "content_same": false
        },
        {
          "line": 4547,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(((pindex->nStatus & BLOCK_VALID_MASK) >= BLOCK_VALID_TRANSACTIONS) == (pindex->nTx > 0))",
          "new_text": null,
          "old_line_content": "        assert(((pindex->nStatus & BLOCK_VALID_MASK) >= BLOCK_VALID_TRANSACTIONS) == (pindex->nTx > 0)); // This is pruning-independent.",
          "new_line_content": "        if (!fHavePruned) {",
          "content_same": false
        },
        {
          "line": 4551,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(pindex->nHeight == nHeight)",
          "new_text": null,
          "old_line_content": "        assert(pindex->nHeight == nHeight); // nHeight must be consistent.",
          "new_line_content": "        } else {",
          "content_same": false
        },
        {
          "line": 4552,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(pindex->pprev == nullptr || pindex->nChainWork >= pindex->pprev->nChainWork)",
          "new_text": null,
          "old_line_content": "        assert(pindex->pprev == nullptr || pindex->nChainWork >= pindex->pprev->nChainWork); // For every block except the genesis block, the chainwork must be larger than the parent's.",
          "new_line_content": "            // If we have pruned, then we can only say that HAVE_DATA implies nTx > 0",
          "content_same": false
        },
        {
          "line": 4554,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(pindexFirstNotTreeValid == nullptr)",
          "new_text": null,
          "old_line_content": "        assert(pindexFirstNotTreeValid == nullptr); // All mapBlockIndex entries must at least be TREE valid",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4044,
          "old_api": "Height",
          "new_api": null,
          "old_text": "chainActive.Height()",
          "new_text": null,
          "old_line_content": "        return error(\"VerifyDB(): *** coin database inconsistencies found (last %i blocks, %i good transactions before that)\\n\", chainActive.Height() - pindexFailure->nHeight + 1, nGoodTransactions);",
          "new_line_content": "                pindexFailure = pindex;",
          "content_same": false
        },
        {
          "line": 4557,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(pindexFirstNotScriptsValid == nullptr)",
          "new_text": null,
          "old_line_content": "        if ((pindex->nStatus & BLOCK_VALID_MASK) >= BLOCK_VALID_SCRIPTS) assert(pindexFirstNotScriptsValid == nullptr); // SCRIPTS valid implies all parents are SCRIPTS valid",
          "new_line_content": "        // All parents having had data (at some point) is equivalent to all parents being VALID_TRANSACTIONS, which is equivalent to nChainTx being set.",
          "content_same": false
        },
        {
          "line": 4047,
          "old_api": "Height",
          "new_api": null,
          "old_text": "chainActive.Height()",
          "new_text": null,
          "old_line_content": "    int block_count = chainActive.Height() - pindex->nHeight;",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 4051,
          "old_api": "Tip",
          "new_api": null,
          "old_text": "chainActive.Tip()",
          "new_text": null,
          "old_line_content": "        while (pindex != chainActive.Tip()) {",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4052,
          "old_api": "boost::this_thread::interruption_point()",
          "new_api": null,
          "old_text": "boost::this_thread::interruption_point()",
          "new_text": null,
          "old_line_content": "            boost::this_thread::interruption_point();",
          "new_line_content": "    if (pindexFailure)",
          "content_same": false
        },
        {
          "line": 4054,
          "old_api": "Next",
          "new_api": null,
          "old_text": "chainActive.Next(pindex)",
          "new_text": null,
          "old_line_content": "            pindex = chainActive.Next(pindex);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4568,
          "old_api": "Tip",
          "new_api": null,
          "old_text": "chainActive.Tip()",
          "new_text": null,
          "old_line_content": "                if (pindexFirstMissing == nullptr || pindex == chainActive.Tip()) {",
          "new_line_content": "            // Checks for not-invalid blocks.",
          "content_same": false
        },
        {
          "line": 4057,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "pindex->GetBlockHash().ToString()",
          "new_text": null,
          "old_line_content": "                return error(\"VerifyDB(): *** ReadBlockFromDisk failed at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4058,
          "old_api": "ConnectBlock",
          "new_api": null,
          "old_text": "g_chainstate.ConnectBlock(block, state, pindex, coins, chainparams)",
          "new_text": null,
          "old_line_content": "            if (!g_chainstate.ConnectBlock(block, state, pindex, coins, chainparams))",
          "new_line_content": "    // check level 4: try reconnecting blocks",
          "content_same": false
        },
        {
          "line": 4059,
          "old_api": "FormatStateMessage",
          "new_api": null,
          "old_text": "FormatStateMessage(state)",
          "new_text": null,
          "old_line_content": "                return error(\"VerifyDB(): *** found unconnectable block at %d, hash=%s (%s)\", pindex->nHeight, pindex->GetBlockHash().ToString(), FormatStateMessage(state));",
          "new_line_content": "    if (nCheckLevel >= 4) {",
          "content_same": false
        },
        {
          "line": 4576,
          "old_api": "count",
          "new_api": null,
          "old_text": "setBlockIndexCandidates.count(pindex)",
          "new_text": null,
          "old_line_content": "            assert(setBlockIndexCandidates.count(pindex) == 0);",
          "new_line_content": "                // even if some data has been pruned.",
          "content_same": false
        },
        {
          "line": 4064,
          "old_api": "LogPrintf",
          "new_api": null,
          "old_text": "LogPrintf(\"No coin database inconsistencies in last %i blocks (%i transactions)\\n\", block_count, nGoodTransactions)",
          "new_text": null,
          "old_line_content": "    LogPrintf(\"No coin database inconsistencies in last %i blocks (%i transactions)\\n\", block_count, nGoodTransactions);",
          "new_line_content": "            CBlock block;",
          "content_same": false
        },
        {
          "line": 4579,
          "old_api": "equal_range",
          "new_api": null,
          "old_text": "mapBlocksUnlinked.equal_range(pindex->pprev)",
          "new_text": null,
          "old_line_content": "        std::pair<std::multimap<CBlockIndex*,CBlockIndex*>::iterator,std::multimap<CBlockIndex*,CBlockIndex*>::iterator> rangeUnlinked = mapBlocksUnlinked.equal_range(pindex->pprev);",
          "new_line_content": "                }",
          "content_same": false
        },
        {
          "line": 4582,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(rangeUnlinked.first->first == pindex->pprev)",
          "new_text": null,
          "old_line_content": "            assert(rangeUnlinked.first->first == pindex->pprev);",
          "new_line_content": "                // In this case it must be in mapBlocksUnlinked -- see test below.",
          "content_same": false
        },
        {
          "line": 4074,
          "old_api": "GetConsensus",
          "new_api": null,
          "old_text": "params.GetConsensus()",
          "new_text": null,
          "old_line_content": "    if (!ReadBlockFromDisk(block, pindex, params.GetConsensus())) {",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 4075,
          "old_api": "ToString",
          "new_api": null,
          "old_text": "pindex->GetBlockHash().ToString()",
          "new_text": null,
          "old_line_content": "        return error(\"ReplayBlock(): ReadBlockFromDisk failed at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());",
          "new_line_content": "    return true;",
          "content_same": false
        },
        {
          "line": 4079,
          "old_api": "IsCoinBase",
          "new_api": null,
          "old_text": "tx->IsCoinBase()",
          "new_text": null,
          "old_line_content": "        if (!tx->IsCoinBase()) {",
          "new_line_content": "bool CChainState::RollforwardBlock(const CBlockIndex* pindex, CCoinsViewCache& inputs, const CChainParams& params)",
          "content_same": false
        },
        {
          "line": 4593,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(!foundInUnlinked)",
          "new_text": null,
          "old_line_content": "        if (!(pindex->nStatus & BLOCK_HAVE_DATA)) assert(!foundInUnlinked); // Can't be in mapBlocksUnlinked if we don't HAVE_DATA",
          "new_line_content": "                foundInUnlinked = true;",
          "content_same": false
        },
        {
          "line": 4594,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(!foundInUnlinked)",
          "new_text": null,
          "old_line_content": "        if (pindexFirstMissing == nullptr) assert(!foundInUnlinked); // We aren't missing data for any parent -- cannot be in mapBlocksUnlinked.",
          "new_line_content": "                break;",
          "content_same": false
        },
        {
          "line": 4081,
          "old_api": "SpendCoin",
          "new_api": null,
          "old_text": "inputs.SpendCoin(txin.prevout)",
          "new_text": null,
          "old_line_content": "                inputs.SpendCoin(txin.prevout);",
          "new_line_content": "    // TODO: merge with ConnectBlock",
          "content_same": false
        },
        {
          "line": 4597,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(fHavePruned)",
          "new_text": null,
          "old_line_content": "            assert(fHavePruned); // We must have pruned.",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 4085,
          "old_api": "AddCoins",
          "new_api": null,
          "old_text": "AddCoins(inputs, *tx, pindex->nHeight, true)",
          "new_text": null,
          "old_line_content": "        AddCoins(inputs, *tx, pindex->nHeight, true);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 4092,
          "old_api": "LOCK",
          "new_api": null,
          "old_text": "LOCK(cs_main)",
          "new_text": null,
          "old_line_content": "    LOCK(cs_main);",
          "new_line_content": "        }",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 70,
      "total_additions": 234,
      "total_deletions": 233,
      "total_api_changes": 537
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 9,
        "api_related_lines": 537,
        "non_api_lines": 7,
        "non_api_line_numbers": [
          3749,
          3751,
          3735,
          3737,
          3739,
          3741,
          3743
        ]
      }
    },
    "api_calls_before": 1689,
    "api_calls_after": 1690,
    "diff_info": {
      "added_lines": 10,
      "removed_lines": 1,
      "total_diff_lines": 37
    }
  }
}