{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/opencv/modified_file/333e53eee896ee15247eea8e0c7f71ea44831eb6",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/opencv/modified_file/333e53eee896ee15247eea8e0c7f71ea44831eb6/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/opencv/modified_file/333e53eee896ee15247eea8e0c7f71ea44831eb6/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/opencv/modified_file/333e53eee896ee15247eea8e0c7f71ea44831eb6/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": true,
    "api_changes": {
      "replacements": [
        {
          "line": 330,
          "old_api": "_mm_loadu_si128",
          "new_api": "_mm_storeu_si128",
          "old_text": "_mm_loadu_si128((const __m128i*)(xmap + x))",
          "new_text": "_mm_storeu_si128((__m128i*)(xmap + x), mul_res)",
          "old_line_content": "            __m128i mul_res = _mm_loadu_si128((const __m128i*)(xmap + x));",
          "new_line_content": "            _mm_storeu_si128((__m128i*)(xmap + x), mul_res);",
          "content_same": false
        },
        {
          "line": 333,
          "old_api": "_MM_SHUFFLE (0,0,2,0)",
          "new_api": "vdupq_n_s32",
          "old_text": "_MM_SHUFFLE (0,0,2,0)",
          "new_text": "vdupq_n_s32(3)",
          "old_line_content": "            mul_res = _mm_unpacklo_epi32(_mm_shuffle_epi32(tmp1, _MM_SHUFFLE (0,0,2,0)), _mm_shuffle_epi32(tmp2, _MM_SHUFFLE (0,0,2,0)));",
          "new_line_content": "        int32x4_t ithree = vdupq_n_s32(3);",
          "content_same": false
        },
        {
          "line": 390,
          "old_api": "_mm_set_ps",
          "new_api": "_mm_mul_ps",
          "old_text": "_mm_set_ps(lut[prevPtr[x3+1]], lut[prevPtr[x2+1]], lut[prevPtr[x1+1]], lut[prevPtr[x0+1]])",
          "new_text": "_mm_mul_ps(_dy0, _dy0)",
          "old_line_content": "                                         _mm_set_ps(lut[prevPtr[x3+1]], lut[prevPtr[x2+1]], lut[prevPtr[x1+1]], lut[prevPtr[x0+1]]));",
          "new_line_content": "                __m128 _mag0 = _mm_add_ps(_mm_mul_ps(_dx0, _dx0), _mm_mul_ps(_dy0, _dy0));",
          "content_same": false
        },
        {
          "line": 391,
          "old_api": "_mm_set_ps",
          "new_api": "_mm_mul_ps",
          "old_text": "_mm_set_ps(lut[nextPtr[x3+2]], lut[nextPtr[x2+2]], lut[nextPtr[x1+2]], lut[nextPtr[x0+2]])",
          "new_text": "_mm_mul_ps(_dy1, _dy1)",
          "old_line_content": "                __m128 _dy2 = _mm_sub_ps(_mm_set_ps(lut[nextPtr[x3+2]], lut[nextPtr[x2+2]], lut[nextPtr[x1+2]], lut[nextPtr[x0+2]]),",
          "new_line_content": "                __m128 _mag1 = _mm_add_ps(_mm_mul_ps(_dx1, _dx1), _mm_mul_ps(_dy1, _dy1));",
          "content_same": false
        },
        {
          "line": 392,
          "old_api": "_mm_set_ps",
          "new_api": "_mm_mul_ps",
          "old_text": "_mm_set_ps(lut[prevPtr[x3+2]], lut[prevPtr[x2+2]], lut[prevPtr[x1+2]], lut[prevPtr[x0+2]])",
          "new_text": "_mm_mul_ps(_dy2, _dy2)",
          "old_line_content": "                                         _mm_set_ps(lut[prevPtr[x3+2]], lut[prevPtr[x2+2]], lut[prevPtr[x1+2]], lut[prevPtr[x0+2]]));",
          "new_line_content": "                __m128 _mag2 = _mm_add_ps(_mm_mul_ps(_dx2, _dx2), _mm_mul_ps(_dy2, _dy2));",
          "content_same": false
        },
        {
          "line": 394,
          "old_api": "_mm_mul_ps",
          "new_api": "_mm_cmpgt_ps",
          "old_text": "_mm_mul_ps(_dy0, _dy0)",
          "new_text": "_mm_cmpgt_ps(_mag2, _mag1)",
          "old_line_content": "                __m128 _mag0 = _mm_add_ps(_mm_mul_ps(_dx0, _dx0), _mm_mul_ps(_dy0, _dy0));",
          "new_line_content": "                __m128 mask = _mm_cmpgt_ps(_mag2, _mag1);",
          "content_same": false
        },
        {
          "line": 395,
          "old_api": "_mm_mul_ps",
          "new_api": "_mm_andnot_ps",
          "old_text": "_mm_mul_ps(_dy1, _dy1)",
          "new_text": "_mm_andnot_ps(mask, _dx1)",
          "old_line_content": "                __m128 _mag1 = _mm_add_ps(_mm_mul_ps(_dx1, _dx1), _mm_mul_ps(_dy1, _dy1));",
          "new_line_content": "                _dx2 = _mm_or_ps(_mm_and_ps(_dx2, mask), _mm_andnot_ps(mask, _dx1));",
          "content_same": false
        },
        {
          "line": 396,
          "old_api": "_mm_mul_ps",
          "new_api": "_mm_andnot_ps",
          "old_text": "_mm_mul_ps(_dy2, _dy2)",
          "new_text": "_mm_andnot_ps(mask, _dy1)",
          "old_line_content": "                __m128 _mag2 = _mm_add_ps(_mm_mul_ps(_dx2, _dx2), _mm_mul_ps(_dy2, _dy2));",
          "new_line_content": "                _dy2 = _mm_or_ps(_mm_and_ps(_dy2, mask), _mm_andnot_ps(mask, _dy1));",
          "content_same": false
        },
        {
          "line": 398,
          "old_api": "_mm_cmpgt_ps",
          "new_api": "_mm_max_ps",
          "old_text": "_mm_cmpgt_ps(_mag2, _mag1)",
          "new_text": "_mm_max_ps(_mag2, _mag1)",
          "old_line_content": "                __m128 mask = _mm_cmpgt_ps(_mag2, _mag1);",
          "new_line_content": "                mask = _mm_cmpgt_ps(_mm_max_ps(_mag2, _mag1), _mag0);",
          "content_same": false
        },
        {
          "line": 402,
          "old_api": "_mm_max_ps",
          "new_api": "_mm_storeu_ps",
          "old_text": "_mm_max_ps(_mag2, _mag1)",
          "new_text": "_mm_storeu_ps(dbuf + x, _dx2)",
          "old_line_content": "                mask = _mm_cmpgt_ps(_mm_max_ps(_mag2, _mag1), _mag0);",
          "new_line_content": "                _mm_storeu_ps(dbuf + x, _dx2);",
          "content_same": false
        },
        {
          "line": 403,
          "old_api": "_mm_andnot_ps",
          "new_api": "_mm_storeu_ps",
          "old_text": "_mm_andnot_ps(mask, _dx0)",
          "new_text": "_mm_storeu_ps(dbuf + x + width, _dy2)",
          "old_line_content": "                _dx2 = _mm_or_ps(_mm_and_ps(_dx2, mask), _mm_andnot_ps(mask, _dx0));",
          "new_line_content": "                _mm_storeu_ps(dbuf + x + width, _dy2);",
          "content_same": false
        },
        {
          "line": 429,
          "old_api": "vsetq_f32",
          "new_api": "vmulq_f32",
          "old_text": "vsetq_f32(lut[prevPtr[x0+1]], lut[prevPtr[x1+1]], lut[prevPtr[x2+1]], lut[prevPtr[x3+1]])",
          "new_text": "vmulq_f32(_dy0, _dy0)",
          "old_line_content": "                                             vsetq_f32(lut[prevPtr[x0+1]], lut[prevPtr[x1+1]], lut[prevPtr[x2+1]], lut[prevPtr[x3+1]]));",
          "new_line_content": "                float32x4_t _mag0 = vaddq_f32(vmulq_f32(_dx0, _dx0), vmulq_f32(_dy0, _dy0));",
          "content_same": false
        },
        {
          "line": 430,
          "old_api": "vsetq_f32",
          "new_api": "vmulq_f32",
          "old_text": "vsetq_f32(lut[nextPtr[x0+2]], lut[nextPtr[x1+2]], lut[nextPtr[x2+2]], lut[nextPtr[x3+2]])",
          "new_text": "vmulq_f32(_dy1, _dy1)",
          "old_line_content": "                float32x4_t _dy2 = vsubq_f32(vsetq_f32(lut[nextPtr[x0+2]], lut[nextPtr[x1+2]], lut[nextPtr[x2+2]], lut[nextPtr[x3+2]]),",
          "new_line_content": "                float32x4_t _mag1 = vaddq_f32(vmulq_f32(_dx1, _dx1), vmulq_f32(_dy1, _dy1));",
          "content_same": false
        },
        {
          "line": 431,
          "old_api": "vsetq_f32",
          "new_api": "vmulq_f32",
          "old_text": "vsetq_f32(lut[prevPtr[x0+2]], lut[prevPtr[x1+2]], lut[prevPtr[x2+2]], lut[prevPtr[x3+2]])",
          "new_text": "vmulq_f32(_dy2, _dy2)",
          "old_line_content": "                                             vsetq_f32(lut[prevPtr[x0+2]], lut[prevPtr[x1+2]], lut[prevPtr[x2+2]], lut[prevPtr[x3+2]]));",
          "new_line_content": "                float32x4_t _mag2 = vaddq_f32(vmulq_f32(_dx2, _dx2), vmulq_f32(_dy2, _dy2));",
          "content_same": false
        },
        {
          "line": 433,
          "old_api": "vmulq_f32",
          "new_api": "vcgtq_f32",
          "old_text": "vmulq_f32(_dy0, _dy0)",
          "new_text": "vcgtq_f32(_mag2, _mag1)",
          "old_line_content": "                float32x4_t _mag0 = vaddq_f32(vmulq_f32(_dx0, _dx0), vmulq_f32(_dy0, _dy0));",
          "new_line_content": "                uint32x4_t mask = vcgtq_f32(_mag2, _mag1);",
          "content_same": false
        },
        {
          "line": 434,
          "old_api": "vmulq_f32",
          "new_api": "vbslq_f32",
          "old_text": "vmulq_f32(_dy1, _dy1)",
          "new_text": "vbslq_f32(mask, _dx2, _dx1)",
          "old_line_content": "                float32x4_t _mag1 = vaddq_f32(vmulq_f32(_dx1, _dx1), vmulq_f32(_dy1, _dy1));",
          "new_line_content": "                _dx2 = vbslq_f32(mask, _dx2, _dx1);",
          "content_same": false
        },
        {
          "line": 435,
          "old_api": "vmulq_f32",
          "new_api": "vbslq_f32",
          "old_text": "vmulq_f32(_dy2, _dy2)",
          "new_text": "vbslq_f32(mask, _dy2, _dy1)",
          "old_line_content": "                float32x4_t _mag2 = vaddq_f32(vmulq_f32(_dx2, _dx2), vmulq_f32(_dy2, _dy2));",
          "new_line_content": "                _dy2 = vbslq_f32(mask, _dy2, _dy1);",
          "content_same": false
        },
        {
          "line": 437,
          "old_api": "vcgtq_f32",
          "new_api": "vmaxq_f32",
          "old_text": "vcgtq_f32(_mag2, _mag1)",
          "new_text": "vmaxq_f32(_mag2, _mag1)",
          "old_line_content": "                uint32x4_t mask = vcgtq_f32(_mag2, _mag1);",
          "new_line_content": "                mask = vcgtq_f32(vmaxq_f32(_mag2, _mag1), _mag0);",
          "content_same": false
        },
        {
          "line": 441,
          "old_api": "vmaxq_f32",
          "new_api": "vst1q_f32",
          "old_text": "vmaxq_f32(_mag2, _mag1)",
          "new_text": "vst1q_f32(dbuf + x, _dx2)",
          "old_line_content": "                mask = vcgtq_f32(vmaxq_f32(_mag2, _mag1), _mag0);",
          "new_line_content": "                vst1q_f32(dbuf + x, _dx2);",
          "content_same": false
        },
        {
          "line": 442,
          "old_api": "vbslq_f32",
          "new_api": "vst1q_f32",
          "old_text": "vbslq_f32(mask, _dx2, _dx0)",
          "new_text": "vst1q_f32(dbuf + x + width, _dy2)",
          "old_line_content": "                _dx2 = vbslq_f32(mask, _dx2, _dx0);",
          "new_line_content": "                vst1q_f32(dbuf + x + width, _dy2);",
          "content_same": false
        },
        {
          "line": 498,
          "old_api": "_mm_loadu_ps",
          "new_api": "_mm_cmplt_ps",
          "old_text": "_mm_loadu_ps(dbuf + x + (width << 1))",
          "new_text": "_mm_cmplt_ps(_angle, fzero)",
          "old_line_content": "            __m128 _mag = _mm_loadu_ps(dbuf + x + (width << 1));",
          "new_line_content": "            __m128 sign = _mm_and_ps(fone, _mm_cmplt_ps(_angle, fzero));",
          "content_same": false
        },
        {
          "line": 499,
          "old_api": "_mm_loadu_ps",
          "new_api": "_mm_cvttps_epi32",
          "old_text": "_mm_loadu_ps(dbuf + x + width * 3)",
          "new_text": "_mm_cvttps_epi32(_angle)",
          "old_line_content": "            __m128 _angle = _mm_loadu_ps(dbuf + x + width * 3);",
          "new_line_content": "            __m128i _hidx = _mm_cvttps_epi32(_angle);",
          "content_same": false
        },
        {
          "line": 500,
          "old_api": "_mm_mul_ps",
          "new_api": "_mm_cvtps_epi32",
          "old_text": "_mm_mul_ps(_angleScale, _angle)",
          "new_text": "_mm_cvtps_epi32(sign)",
          "old_line_content": "            _angle = _mm_sub_ps(_mm_mul_ps(_angleScale, _angle), fhalf);",
          "new_line_content": "            _hidx = _mm_sub_epi32(_hidx, _mm_cvtps_epi32(sign));",
          "content_same": false
        },
        {
          "line": 503,
          "old_api": "_mm_cvttps_epi32",
          "new_api": "_mm_sub_ps",
          "old_text": "_mm_cvttps_epi32(_angle)",
          "new_text": "_mm_sub_ps(fone, _angle)",
          "old_line_content": "            __m128i _hidx = _mm_cvttps_epi32(_angle);",
          "new_line_content": "            __m128 ft0 = _mm_mul_ps(_mag, _mm_sub_ps(fone, _angle));",
          "content_same": false
        },
        {
          "line": 504,
          "old_api": "_mm_cvtps_epi32",
          "new_api": "_mm_mul_ps",
          "old_text": "_mm_cvtps_epi32(sign)",
          "new_text": "_mm_mul_ps(_mag, _angle)",
          "old_line_content": "            _hidx = _mm_sub_epi32(_hidx, _mm_cvtps_epi32(sign));",
          "new_line_content": "            __m128 ft1 = _mm_mul_ps(_mag, _angle);",
          "content_same": false
        },
        {
          "line": 505,
          "old_api": "_mm_cvtepi32_ps",
          "new_api": "_mm_unpacklo_ps",
          "old_text": "_mm_cvtepi32_ps(_hidx)",
          "new_text": "_mm_unpacklo_ps(ft0, ft1)",
          "old_line_content": "            _angle = _mm_sub_ps(_angle, _mm_cvtepi32_ps(_hidx));",
          "new_line_content": "            __m128 ft2 = _mm_unpacklo_ps(ft0, ft1);",
          "content_same": false
        },
        {
          "line": 508,
          "old_api": "_mm_mul_ps",
          "new_api": "_mm_storeu_ps",
          "old_text": "_mm_mul_ps(_mag, _angle)",
          "new_text": "_mm_storeu_ps(gradPtr + x2, ft2)",
          "old_line_content": "            __m128 ft1 = _mm_mul_ps(_mag, _angle);",
          "new_line_content": "            _mm_storeu_ps(gradPtr + x2, ft2);",
          "content_same": false
        },
        {
          "line": 509,
          "old_api": "_mm_unpacklo_ps",
          "new_api": "_mm_storeu_ps",
          "old_text": "_mm_unpacklo_ps(ft0, ft1)",
          "new_text": "_mm_storeu_ps(gradPtr + x2 + 4, ft3)",
          "old_line_content": "            __m128 ft2 = _mm_unpacklo_ps(ft0, ft1);",
          "new_line_content": "            _mm_storeu_ps(gradPtr + x2 + 4, ft3);",
          "content_same": false
        },
        {
          "line": 512,
          "old_api": "_mm_storeu_ps",
          "new_api": "_mm_and_si128",
          "old_text": "_mm_storeu_ps(gradPtr + x2, ft2)",
          "new_text": "_mm_and_si128(mask0, _nbins)",
          "old_line_content": "            _mm_storeu_ps(gradPtr + x2, ft2);",
          "new_line_content": "            __m128i it0 = _mm_and_si128(mask0, _nbins);",
          "content_same": false
        },
        {
          "line": 513,
          "old_api": "_mm_storeu_ps",
          "new_api": "_mm_cmplt_epi32",
          "old_text": "_mm_storeu_ps(gradPtr + x2 + 4, ft3)",
          "new_text": "_mm_cmplt_epi32(_hidx, _nbins)",
          "old_line_content": "            _mm_storeu_ps(gradPtr + x2 + 4, ft3);",
          "new_line_content": "            mask0 = _mm_cmplt_epi32(_hidx, _nbins);",
          "content_same": false
        },
        {
          "line": 515,
          "old_api": "_mm_srli_epi32",
          "new_api": "_mm_sub_epi32",
          "old_text": "_mm_srli_epi32(_hidx, 31)",
          "new_text": "_mm_sub_epi32(it0, it1)",
          "old_line_content": "            __m128i mask0 = _mm_sub_epi32(izero, _mm_srli_epi32(_hidx, 31));",
          "new_line_content": "            _hidx = _mm_add_epi32(_hidx, _mm_sub_epi32(it0, it1));",
          "content_same": false
        },
        {
          "line": 517,
          "old_api": "_mm_cmplt_epi32",
          "new_api": "_mm_packs_epi32",
          "old_text": "_mm_cmplt_epi32(_hidx, _nbins)",
          "new_text": "_mm_packs_epi32(_hidx, izero)",
          "old_line_content": "            mask0 = _mm_cmplt_epi32(_hidx, _nbins);",
          "new_line_content": "            it0 = _mm_packus_epi16(_mm_packs_epi32(_hidx, izero), izero);",
          "content_same": false
        },
        {
          "line": 518,
          "old_api": "_mm_andnot_si128",
          "new_api": "_mm_add_epi32",
          "old_text": "_mm_andnot_si128(mask0, _nbins)",
          "new_text": "_mm_add_epi32(ione, _hidx)",
          "old_line_content": "            __m128i it1 = _mm_andnot_si128(mask0, _nbins);",
          "new_line_content": "            _hidx = _mm_add_epi32(ione, _hidx);",
          "content_same": false
        },
        {
          "line": 519,
          "old_api": "_mm_sub_epi32",
          "new_api": "_mm_cmplt_epi32",
          "old_text": "_mm_sub_epi32(it0, it1)",
          "new_text": "_mm_cmplt_epi32(_hidx, _nbins)",
          "old_line_content": "            _hidx = _mm_add_epi32(_hidx, _mm_sub_epi32(it0, it1));",
          "new_line_content": "            _hidx = _mm_and_si128(_hidx, _mm_cmplt_epi32(_hidx, _nbins));",
          "content_same": false
        },
        {
          "line": 521,
          "old_api": "_mm_packs_epi32",
          "new_api": "_mm_unpacklo_epi8",
          "old_text": "_mm_packs_epi32(_hidx, izero)",
          "new_text": "_mm_unpacklo_epi8(it0, it1)",
          "old_line_content": "            it0 = _mm_packus_epi16(_mm_packs_epi32(_hidx, izero), izero);",
          "new_line_content": "            it0 = _mm_unpacklo_epi8(it0, it1);",
          "content_same": false
        },
        {
          "line": 523,
          "old_api": "_mm_cmplt_epi32",
          "new_api": "_mm_storel_epi64",
          "old_text": "_mm_cmplt_epi32(_hidx, _nbins)",
          "new_text": "_mm_storel_epi64((__m128i*)(qanglePtr + x2), it0)",
          "old_line_content": "            _hidx = _mm_and_si128(_hidx, _mm_cmplt_epi32(_hidx, _nbins));",
          "new_line_content": "            _mm_storel_epi64((__m128i*)(qanglePtr + x2), it0);",
          "content_same": false
        },
        {
          "line": 648,
          "old_api": "create",
          "new_api": "resize",
          "old_text": "blockCache.create(cacheSize.height, cacheSize.width*blockHistogramSize)",
          "new_text": "ymaxCached.resize(cacheRows)",
          "old_line_content": "        blockCache.create(cacheSize.height, cacheSize.width*blockHistogramSize);",
          "new_line_content": "        ymaxCached.resize(cacheRows);",
          "content_same": false
        },
        {
          "line": 671,
          "old_api": "_mm_set1_epi32",
          "new_api": "_mm_cvtepi32_ps",
          "old_text": "_mm_set1_epi32(4)",
          "new_text": "_mm_cvtepi32_ps(idx)",
          "old_line_content": "        __m128i ifour = _mm_set1_epi32(4);",
          "new_line_content": "            __m128 t = _mm_sub_ps(_mm_cvtepi32_ps(idx), _bh);",
          "content_same": false
        },
        {
          "line": 678,
          "old_api": "_mm_storeu_ps",
          "new_api": "vld1q_s32",
          "old_text": "_mm_storeu_ps(_di + i, t)",
          "new_text": "vld1q_s32(a)",
          "old_line_content": "            _mm_storeu_ps(_di + i, t);",
          "new_line_content": "        int32x4_t idx = vld1q_s32(a);",
          "content_same": false
        },
        {
          "line": 684,
          "old_api": "vdupq_n_s32",
          "new_api": "vcvtq_f32_s32",
          "old_text": "vdupq_n_s32(4)",
          "new_text": "vcvtq_f32_s32(idx)",
          "old_line_content": "        int32x4_t ifour = vdupq_n_s32(4);",
          "new_line_content": "            float32x4_t t = vsubq_f32(vcvtq_f32_s32(idx), _bh);",
          "content_same": false
        },
        {
          "line": 702,
          "old_api": "_mm_loadu_si128",
          "new_api": "_mm_mul_ps",
          "old_text": "_mm_loadu_si128((__m128i*)a)",
          "new_text": "_mm_mul_ps(t, t)",
          "old_line_content": "        idx = _mm_loadu_si128((__m128i*)a);",
          "new_line_content": "            t = _mm_mul_ps(t, t);",
          "content_same": false
        },
        {
          "line": 707,
          "old_api": "_mm_add_epi32",
          "new_api": "vld1q_s32",
          "old_text": "_mm_add_epi32(idx, ifour)",
          "new_text": "vld1q_s32(a)",
          "old_line_content": "            idx = _mm_add_epi32(idx, ifour);",
          "new_line_content": "        idx = vld1q_s32(a);",
          "content_same": false
        },
        {
          "line": 711,
          "old_api": "vld1q_s32",
          "new_api": "vmulq_f32",
          "old_text": "vld1q_s32(a)",
          "new_text": "vmulq_f32(t, t)",
          "old_line_content": "        idx = vld1q_s32(a);",
          "new_line_content": "            t = vmulq_f32(t, t);",
          "content_same": false
        },
        {
          "line": 728,
          "old_api": "std::exp(-(_di[i] + _dj[j])*scale)",
          "new_api": "resize",
          "old_text": "std::exp(-(_di[i] + _dj[j])*scale)",
          "new_text": "pixData.resize(rawBlockSize*3)",
          "old_line_content": "                weights(i,j) = std::exp(-(_di[i] + _dj[j])*scale);",
          "new_line_content": "    pixData.resize(rawBlockSize*3);",
          "content_same": false
        },
        {
          "line": 893,
          "old_api": "grad.ptr<float>(pt.y)",
          "new_api": "memset",
          "old_text": "grad.ptr<float>(pt.y)",
          "new_text": "memset(blockHist, 0, sizeof(float) * blockHistogramSize)",
          "old_line_content": "    const float* gradPtr = grad.ptr<float>(pt.y) + pt.x*2;",
          "new_line_content": "    memset(blockHist, 0, sizeof(float) * blockHistogramSize);",
          "content_same": false
        },
        {
          "line": 924,
          "old_api": "_mm_set1_ps",
          "new_api": "_mm_storeu_ps",
          "old_text": "_mm_set1_ps(a[1])",
          "new_text": "_mm_storeu_ps(hist0, _t0)",
          "old_line_content": "        __m128 _a0 = _mm_set1_ps(a[0]), _a1 = _mm_set1_ps(a[1]);",
          "new_line_content": "        _mm_storeu_ps(hist0, _t0);",
          "content_same": false
        },
        {
          "line": 925,
          "old_api": "_mm_loadu_ps",
          "new_api": "_mm_storeu_ps",
          "old_text": "_mm_loadu_ps(pk.histWeights)",
          "new_text": "_mm_storeu_ps(hist1, _t1)",
          "old_line_content": "        __m128 _w = _mm_mul_ps(_mm_set1_ps(pk.gradWeight), _mm_loadu_ps(pk.histWeights));",
          "new_line_content": "        _mm_storeu_ps(hist1, _t1);",
          "content_same": false
        },
        {
          "line": 950,
          "old_api": "vdupq_n_f32",
          "new_api": "vsetq_f32",
          "old_text": "vdupq_n_f32(a[1])",
          "new_text": "vsetq_f32((blockHist + pk.histOfs[0])[h1], (blockHist + pk.histOfs[1])[h1], 0,  0)",
          "old_line_content": "        float32x4_t _a0 = vdupq_n_f32(a[0]), _a1 = vdupq_n_f32(a[1]);",
          "new_line_content": "        float32x4_t _h1 = vsetq_f32((blockHist + pk.histOfs[0])[h1], (blockHist + pk.histOfs[1])[h1], 0,  0);",
          "content_same": false
        },
        {
          "line": 953,
          "old_api": "vsetq_f32",
          "new_api": "vst1q_f32",
          "old_text": "vsetq_f32((blockHist + pk.histOfs[0])[h0], (blockHist + pk.histOfs[1])[h0], 0,  0)",
          "new_text": "vst1q_f32(hist0, _t0)",
          "old_line_content": "        float32x4_t _h0 = vsetq_f32((blockHist + pk.histOfs[0])[h0], (blockHist + pk.histOfs[1])[h0], 0,  0);",
          "new_line_content": "        vst1q_f32(hist0, _t0);",
          "content_same": false
        },
        {
          "line": 954,
          "old_api": "vsetq_f32",
          "new_api": "vst1q_f32",
          "old_text": "vsetq_f32((blockHist + pk.histOfs[0])[h1], (blockHist + pk.histOfs[1])[h1], 0,  0)",
          "new_text": "vst1q_f32(hist1, _t1)",
          "old_line_content": "        float32x4_t _h1 = vsetq_f32((blockHist + pk.histOfs[0])[h1], (blockHist + pk.histOfs[1])[h1], 0,  0);",
          "new_line_content": "        vst1q_f32(hist1, _t1);",
          "content_same": false
        },
        {
          "line": 997,
          "old_api": "_mm_set1_ps",
          "new_api": "_mm_storeu_ps",
          "old_text": "_mm_set1_ps(a[1])",
          "new_text": "_mm_storeu_ps(hist0, _t0)",
          "old_line_content": "        __m128 _a0 = _mm_set1_ps(a[0]), _a1 = _mm_set1_ps(a[1]);",
          "new_line_content": "        _mm_storeu_ps(hist0, _t0);",
          "content_same": false
        },
        {
          "line": 998,
          "old_api": "_mm_loadu_ps",
          "new_api": "_mm_storeu_ps",
          "old_text": "_mm_loadu_ps(pk.histWeights)",
          "new_text": "_mm_storeu_ps(hist1, _t1)",
          "old_line_content": "        __m128 _w = _mm_mul_ps(_mm_set1_ps(pk.gradWeight), _mm_loadu_ps(pk.histWeights));",
          "new_line_content": "        _mm_storeu_ps(hist1, _t1);",
          "content_same": false
        },
        {
          "line": 1127,
          "old_api": "_mm_mul_ps",
          "new_api": "_mm_loadu_ps",
          "old_text": "_mm_mul_ps(p0, p0)",
          "new_text": "_mm_loadu_ps(hist + i)",
          "old_line_content": "    __m128 s = _mm_mul_ps(p0, p0);",
          "new_line_content": "        p0 = _mm_loadu_ps(hist + i);",
          "content_same": false
        },
        {
          "line": 1132,
          "old_api": "_mm_mul_ps",
          "new_api": "vld1q_f32",
          "old_text": "_mm_mul_ps(p0, p0)",
          "new_text": "vld1q_f32(hist)",
          "old_line_content": "        s = _mm_add_ps(s, _mm_mul_ps(p0, p0));",
          "new_line_content": "    float32x4_t p0 = vld1q_f32(hist);",
          "content_same": false
        },
        {
          "line": 1137,
          "old_api": "vmulq_f32",
          "new_api": "vld1q_f32",
          "old_text": "vmulq_f32(p0, p0)",
          "new_text": "vld1q_f32(hist + i)",
          "old_line_content": "    float32x4_t s = vmulq_f32(p0, p0);",
          "new_line_content": "        p0 = vld1q_f32(hist + i);",
          "content_same": false
        },
        {
          "line": 1164,
          "old_api": "std::sqrt(sum)",
          "new_api": "_mm_set1_ps",
          "old_text": "std::sqrt(sum)",
          "new_text": "_mm_set1_ps(scale)",
          "old_line_content": "    float scale = 1.f/(std::sqrt(sum)+sz*0.1f), thresh = (float)descriptor->L2HysThreshold;",
          "new_line_content": "    __m128 _scale = _mm_set1_ps(scale);",
          "content_same": false
        },
        {
          "line": 1168,
          "old_api": "_mm_set1_ps",
          "new_api": "_mm_min_ps",
          "old_text": "_mm_set1_ps(scale)",
          "new_text": "_mm_min_ps(p, _threshold)",
          "old_line_content": "    __m128 _scale = _mm_set1_ps(scale);",
          "new_line_content": "    p = _mm_min_ps(p, _threshold);",
          "content_same": false
        },
        {
          "line": 1169,
          "old_api": "_mm_set1_ps",
          "new_api": "_mm_mul_ps",
          "old_text": "_mm_set1_ps(thresh)",
          "new_text": "_mm_mul_ps(p, p)",
          "old_line_content": "    static __m128 _threshold = _mm_set1_ps(thresh);",
          "new_line_content": "    s = _mm_mul_ps(p, p);",
          "content_same": false
        },
        {
          "line": 1174,
          "old_api": "_mm_storeu_ps",
          "new_api": "_mm_loadu_ps",
          "old_text": "_mm_storeu_ps(hist, p)",
          "new_text": "_mm_loadu_ps(hist + i)",
          "old_line_content": "    _mm_storeu_ps(hist, p);",
          "new_line_content": "        p = _mm_loadu_ps(hist + i);",
          "content_same": false
        },
        {
          "line": 1178,
          "old_api": "_mm_loadu_ps",
          "new_api": "_mm_storeu_ps",
          "old_text": "_mm_loadu_ps(hist + i)",
          "new_text": "_mm_storeu_ps(hist + i, p)",
          "old_line_content": "        p = _mm_loadu_ps(hist + i);",
          "new_line_content": "        _mm_storeu_ps(hist + i, p);",
          "content_same": false
        },
        {
          "line": 1181,
          "old_api": "_mm_mul_ps",
          "new_api": "_mm_storeu_ps",
          "old_text": "_mm_mul_ps(p, p)",
          "new_text": "_mm_storeu_ps(partSum, s)",
          "old_line_content": "        s = _mm_add_ps(s, _mm_mul_ps(p, p));",
          "new_line_content": "    _mm_storeu_ps(partSum, s);",
          "content_same": false
        },
        {
          "line": 1187,
          "old_api": "vdupq_n_f32",
          "new_api": "vminq_f32",
          "old_text": "vdupq_n_f32(scale)",
          "new_text": "vminq_f32(p, _threshold)",
          "old_line_content": "    float32x4_t _scale = vdupq_n_f32(scale);",
          "new_line_content": "    p = vminq_f32(p, _threshold);",
          "content_same": false
        },
        {
          "line": 1188,
          "old_api": "vdupq_n_f32",
          "new_api": "vmulq_f32",
          "old_text": "vdupq_n_f32(thresh)",
          "new_text": "vmulq_f32(p, p)",
          "old_line_content": "    static float32x4_t _threshold = vdupq_n_f32(thresh);",
          "new_line_content": "    s = vmulq_f32(p, p);",
          "content_same": false
        },
        {
          "line": 1193,
          "old_api": "vst1q_f32",
          "new_api": "vld1q_f32",
          "old_text": "vst1q_f32(hist, p)",
          "new_text": "vld1q_f32(hist + i)",
          "old_line_content": "    vst1q_f32(hist, p);",
          "new_line_content": "        p = vld1q_f32(hist + i);",
          "content_same": false
        },
        {
          "line": 1197,
          "old_api": "vld1q_f32",
          "new_api": "vst1q_f32",
          "old_text": "vld1q_f32(hist + i)",
          "new_text": "vst1q_f32(hist + i, p)",
          "old_line_content": "        p = vld1q_f32(hist + i);",
          "new_line_content": "        vst1q_f32(hist + i, p);",
          "content_same": false
        },
        {
          "line": 1200,
          "old_api": "vmulq_f32",
          "new_api": "vst1q_f32",
          "old_text": "vmulq_f32(p, p)",
          "new_text": "vst1q_f32(partSum, s)",
          "old_line_content": "        s = vaddq_f32(s, vmulq_f32(p, p));",
          "new_line_content": "    vst1q_f32(partSum, s);",
          "content_same": false
        },
        {
          "line": 1227,
          "old_api": "std::min(hist[i]*scale, thresh)",
          "new_api": "std::sqrt(sum)",
          "old_text": "std::min(hist[i]*scale, thresh)",
          "new_text": "std::sqrt(sum)",
          "old_line_content": "        hist[i] = std::min(hist[i]*scale, thresh);",
          "new_line_content": "    scale = 1.f/(std::sqrt(sum)+1e-3f), i = 0;",
          "content_same": false
        },
        {
          "line": 1233,
          "old_api": "_mm_set1_ps",
          "new_api": "_mm_storeu_ps",
          "old_text": "_mm_set1_ps(scale)",
          "new_text": "_mm_storeu_ps(hist + i, t)",
          "old_line_content": "    __m128 _scale2 = _mm_set1_ps(scale);",
          "new_line_content": "        _mm_storeu_ps(hist + i, t);",
          "content_same": false
        },
        {
          "line": 1236,
          "old_api": "_mm_loadu_ps",
          "new_api": "vdupq_n_f32",
          "old_text": "_mm_loadu_ps(hist + i)",
          "new_text": "vdupq_n_f32(scale)",
          "old_line_content": "        __m128 t = _mm_mul_ps(_scale2, _mm_loadu_ps(hist + i));",
          "new_line_content": "    float32x4_t _scale2 = vdupq_n_f32(scale);",
          "content_same": false
        },
        {
          "line": 1240,
          "old_api": "vdupq_n_f32",
          "new_api": "vst1q_f32",
          "old_text": "vdupq_n_f32(scale)",
          "new_text": "vst1q_f32(hist + i, t)",
          "old_line_content": "    float32x4_t _scale2 = vdupq_n_f32(scale);",
          "new_line_content": "        vst1q_f32(hist + i, t);",
          "content_same": false
        },
        {
          "line": 1293,
          "old_api": "type",
          "new_api": "set",
          "old_text": "qangle.type()",
          "new_text": "k.set(idx, height)",
          "old_line_content": "    int qangle_elem_size = CV_ELEM_SIZE1(qangle.type());",
          "new_line_content": "    idx = k.set(idx, height);",
          "content_same": false
        },
        {
          "line": 1298,
          "old_api": "set",
          "new_api": "ocl::KernelArg::PtrReadOnly(img)",
          "old_text": "k.set(idx, width)",
          "new_text": "ocl::KernelArg::PtrReadOnly(img)",
          "old_line_content": "    idx = k.set(idx, width);",
          "new_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrReadOnly(img));",
          "content_same": false
        },
        {
          "line": 1299,
          "old_api": "step1",
          "new_api": "ocl::KernelArg::PtrWriteOnly(grad)",
          "old_text": "img.step1()",
          "new_text": "ocl::KernelArg::PtrWriteOnly(grad)",
          "old_line_content": "    idx = k.set(idx, (int)img.step1());",
          "new_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrWriteOnly(grad));",
          "content_same": false
        },
        {
          "line": 1300,
          "old_api": "set",
          "new_api": "ocl::KernelArg::PtrWriteOnly(qangle)",
          "old_text": "k.set(idx, grad_quadstep)",
          "new_text": "ocl::KernelArg::PtrWriteOnly(qangle)",
          "old_line_content": "    idx = k.set(idx, grad_quadstep);",
          "new_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrWriteOnly(qangle));",
          "content_same": false
        },
        {
          "line": 1302,
          "old_api": "ocl::KernelArg::PtrReadOnly(img)",
          "new_api": "set",
          "old_text": "ocl::KernelArg::PtrReadOnly(img)",
          "new_text": "k.set(idx, correctGamma)",
          "old_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrReadOnly(img));",
          "new_line_content": "    idx = k.set(idx, correctGamma);",
          "content_same": false
        },
        {
          "line": 1303,
          "old_api": "ocl::KernelArg::PtrWriteOnly(grad)",
          "new_api": "set",
          "old_text": "ocl::KernelArg::PtrWriteOnly(grad)",
          "new_text": "k.set(idx, nbins)",
          "old_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrWriteOnly(grad));",
          "new_line_content": "    idx = k.set(idx, nbins);",
          "content_same": false
        },
        {
          "line": 1305,
          "old_api": "set",
          "new_api": "run",
          "old_text": "k.set(idx, angle_scale)",
          "new_text": "k.run(2, globalThreads, localThreads, false)",
          "old_line_content": "    idx = k.set(idx, angle_scale);",
          "new_line_content": "    return k.run(2, globalThreads, localThreads, false);",
          "content_same": false
        },
        {
          "line": 1364,
          "old_api": "set",
          "new_api": "ocl::KernelArg::PtrReadOnly(grad)",
          "old_text": "k.set(idx, blocks_in_group)",
          "new_text": "ocl::KernelArg::PtrReadOnly(grad)",
          "old_line_content": "    idx = k.set(idx, blocks_in_group);",
          "new_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrReadOnly(grad));",
          "content_same": false
        },
        {
          "line": 1365,
          "old_api": "set",
          "new_api": "ocl::KernelArg::PtrReadOnly(qangle)",
          "old_text": "k.set(idx, blocks_total)",
          "new_text": "ocl::KernelArg::PtrReadOnly(qangle)",
          "old_line_content": "    idx = k.set(idx, blocks_total);",
          "new_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrReadOnly(qangle));",
          "content_same": false
        },
        {
          "line": 1366,
          "old_api": "set",
          "new_api": "ocl::KernelArg::PtrReadOnly(gauss_w_lut)",
          "old_text": "k.set(idx, grad_quadstep)",
          "new_text": "ocl::KernelArg::PtrReadOnly(gauss_w_lut)",
          "old_line_content": "    idx = k.set(idx, grad_quadstep);",
          "new_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrReadOnly(gauss_w_lut));",
          "content_same": false
        },
        {
          "line": 1367,
          "old_api": "set",
          "new_api": "ocl::KernelArg::PtrWriteOnly(block_hists)",
          "old_text": "k.set(idx, qangle_step)",
          "new_text": "ocl::KernelArg::PtrWriteOnly(block_hists)",
          "old_line_content": "    idx = k.set(idx, qangle_step);",
          "new_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrWriteOnly(block_hists));",
          "content_same": false
        },
        {
          "line": 1368,
          "old_api": "ocl::KernelArg::PtrReadOnly(grad)",
          "new_api": "set",
          "old_text": "ocl::KernelArg::PtrReadOnly(grad)",
          "new_text": "k.set(idx, (void*)NULL, (size_t)smem)",
          "old_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrReadOnly(grad));",
          "new_line_content": "    idx = k.set(idx, (void*)NULL, (size_t)smem);",
          "content_same": false
        },
        {
          "line": 1370,
          "old_api": "ocl::KernelArg::PtrReadOnly(gauss_w_lut)",
          "new_api": "run",
          "old_text": "ocl::KernelArg::PtrReadOnly(gauss_w_lut)",
          "new_text": "k.run(2, globalThreads, localThreads, false)",
          "old_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrReadOnly(gauss_w_lut));",
          "new_line_content": "    return k.run(2, globalThreads, localThreads, false);",
          "content_same": false
        },
        {
          "line": 1429,
          "old_api": "create",
          "new_api": "power_2up",
          "old_text": "k.create(\"normalize_hists_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts)",
          "new_text": "power_2up(block_hist_size)",
          "old_line_content": "        k.create(\"normalize_hists_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts);",
          "new_line_content": "        nthreads = power_2up(block_hist_size);",
          "content_same": false
        },
        {
          "line": 1441,
          "old_api": "set",
          "new_api": "ocl::KernelArg::PtrReadWrite(block_hists)",
          "old_text": "k.set(idx, nthreads)",
          "new_text": "ocl::KernelArg::PtrReadWrite(block_hists)",
          "old_line_content": "        idx = k.set(idx, nthreads);",
          "new_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrReadWrite(block_hists));",
          "content_same": false
        },
        {
          "line": 1445,
          "old_api": "ocl::KernelArg::PtrReadWrite(block_hists)",
          "new_api": "run",
          "old_text": "ocl::KernelArg::PtrReadWrite(block_hists)",
          "new_text": "k.run(2, globalThreads, localThreads, false)",
          "old_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrReadWrite(block_hists));",
          "new_line_content": "    return k.run(2, globalThreads, localThreads, false);",
          "content_same": false
        },
        {
          "line": 1476,
          "old_api": "set",
          "new_api": "ocl::KernelArg::PtrReadOnly(block_hists)",
          "old_text": "k.set(idx, descr_width)",
          "new_text": "ocl::KernelArg::PtrReadOnly(block_hists)",
          "old_line_content": "    idx = k.set(idx, descr_width);",
          "new_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrReadOnly(block_hists));",
          "content_same": false
        },
        {
          "line": 1477,
          "old_api": "set",
          "new_api": "ocl::KernelArg::PtrWriteOnly(descriptors)",
          "old_text": "k.set(idx, img_block_width)",
          "new_text": "ocl::KernelArg::PtrWriteOnly(descriptors)",
          "old_line_content": "    idx = k.set(idx, img_block_width);",
          "new_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrWriteOnly(descriptors));",
          "content_same": false
        },
        {
          "line": 1479,
          "old_api": "set",
          "new_api": "run",
          "old_text": "k.set(idx, win_block_stride_y)",
          "new_text": "k.run(2, globalThreads, localThreads, false)",
          "old_line_content": "    idx = k.set(idx, win_block_stride_y);",
          "new_line_content": "    return k.run(2, globalThreads, localThreads, false);",
          "content_same": false
        },
        {
          "line": 1511,
          "old_api": "set",
          "new_api": "ocl::KernelArg::PtrReadOnly(block_hists)",
          "old_text": "k.set(idx, nblocks_win_y)",
          "new_text": "ocl::KernelArg::PtrReadOnly(block_hists)",
          "old_line_content": "    idx = k.set(idx, nblocks_win_y);",
          "new_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrReadOnly(block_hists));",
          "content_same": false
        },
        {
          "line": 1512,
          "old_api": "set",
          "new_api": "ocl::KernelArg::PtrWriteOnly(descriptors)",
          "old_text": "k.set(idx, img_block_width)",
          "new_text": "ocl::KernelArg::PtrWriteOnly(descriptors)",
          "old_line_content": "    idx = k.set(idx, img_block_width);",
          "new_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrWriteOnly(descriptors));",
          "content_same": false
        },
        {
          "line": 1514,
          "old_api": "set",
          "new_api": "run",
          "old_text": "k.set(idx, win_block_stride_y)",
          "new_text": "k.run(2, globalThreads, localThreads, false)",
          "old_line_content": "    idx = k.set(idx, win_block_stride_y);",
          "new_line_content": "    return k.run(2, globalThreads, localThreads, false);",
          "content_same": false
        },
        {
          "line": 1524,
          "old_api": "size",
          "new_api": "isIntel",
          "old_text": "_img.size()",
          "new_text": "ocl::Device::getDefault().isIntel()",
          "old_line_content": "    Size imgSize = _img.size();",
          "new_line_content": "    int qangle_type = ocl::Device::getDefault().isIntel() ? CV_32SC2 : CV_8UC2;",
          "content_same": false
        },
        {
          "line": 1528,
          "old_api": "isIntel",
          "new_api": "numPartsWithin",
          "old_text": "ocl::Device::getDefault().isIntel()",
          "new_text": "numPartsWithin(imgSize, blockSize, blockStride)",
          "old_line_content": "    int qangle_type = ocl::Device::getDefault().isIntel() ? CV_32SC2 : CV_8UC2;",
          "new_line_content": "    const Size blocks_per_img = numPartsWithin(imgSize, blockSize, blockStride);",
          "content_same": false
        },
        {
          "line": 1531,
          "old_api": "getBlockHistogramSize",
          "new_api": "numPartsWithin",
          "old_text": "getBlockHistogramSize(blockSize, cellSize, nbins)",
          "new_text": "numPartsWithin(imgSize, winSize, win_stride)",
          "old_line_content": "    const size_t block_hist_size = getBlockHistogramSize(blockSize, cellSize, nbins);",
          "new_line_content": "    Size wins_per_img = numPartsWithin(imgSize, winSize, win_stride);",
          "content_same": false
        },
        {
          "line": 1532,
          "old_api": "numPartsWithin",
          "new_api": "area",
          "old_text": "numPartsWithin(imgSize, blockSize, blockStride)",
          "new_text": "wins_per_img.area()",
          "old_line_content": "    const Size blocks_per_img = numPartsWithin(imgSize, blockSize, blockStride);",
          "new_line_content": "    UMat labels(1, wins_per_img.area(), CV_8U);",
          "content_same": false
        },
        {
          "line": 1548,
          "old_api": "ocl_computeGradient",
          "new_api": "copyTo",
          "old_text": "ocl_computeGradient(_img, grad, qangle, nbins, effect_size, gammaCorrection, signedGradient)",
          "new_text": "gaussian_lut.copyTo(gauss_w_lut)",
          "old_line_content": "    if(!ocl_computeGradient(_img, grad, qangle, nbins, effect_size, gammaCorrection, signedGradient))",
          "new_line_content": "    gaussian_lut.copyTo(gauss_w_lut);",
          "content_same": false
        },
        {
          "line": 1553,
          "old_api": "ocl_compute_hists",
          "new_api": "ocl_normalize_hists",
          "old_text": "ocl_compute_hists(nbins, blockStride.width, blockStride.height, effect_size.height,\n        effect_size.width, grad, qangle, gauss_w_lut, block_hists, block_hist_size)",
          "new_text": "ocl_normalize_hists(nbins, blockStride.width, blockStride.height, effect_size.height,\n        effect_size.width, block_hists, (float)L2HysThreshold)",
          "old_line_content": "    if(!ocl_compute_hists(nbins, blockStride.width, blockStride.height, effect_size.height,",
          "new_line_content": "    if(!ocl_normalize_hists(nbins, blockStride.width, blockStride.height, effect_size.height,",
          "content_same": false
        },
        {
          "line": 1557,
          "old_api": "ocl_normalize_hists",
          "new_api": "numPartsWithin",
          "old_text": "ocl_normalize_hists(nbins, blockStride.width, blockStride.height, effect_size.height,\n        effect_size.width, block_hists, (float)L2HysThreshold)",
          "new_text": "numPartsWithin(winSize, blockSize, blockStride)",
          "old_line_content": "    if(!ocl_normalize_hists(nbins, blockStride.width, blockStride.height, effect_size.height,",
          "new_line_content": "    Size blocks_per_win = numPartsWithin(winSize, blockSize, blockStride);",
          "content_same": false
        },
        {
          "line": 1567,
          "old_api": "area",
          "new_api": "ocl_extract_descrs_by_rows",
          "old_text": "blocks_per_win.area()",
          "new_text": "ocl_extract_descrs_by_rows(winSize.height, winSize.width,\n            blockStride.height, blockStride.width, win_stride.height, win_stride.width, effect_size.height,\n            effect_size.width, block_hists, descriptors, (int)block_hist_size, descr_size, descr_width)",
          "old_line_content": "    UMat descriptors(wins_per_img.area(), static_cast<int>(blocks_per_win.area() * block_hist_size), CV_32F);",
          "new_line_content": "        if(!ocl_extract_descrs_by_rows(winSize.height, winSize.width,",
          "content_same": false
        },
        {
          "line": 1593,
          "old_api": "CV_INSTRUMENT_REGION",
          "new_api": "gcd",
          "old_text": "CV_INSTRUMENT_REGION()",
          "new_text": "gcd(winStride.width, blockStride.width)",
          "old_line_content": "    CV_INSTRUMENT_REGION()",
          "new_line_content": "    Size cacheStride(gcd(winStride.width, blockStride.width),",
          "content_same": false
        },
        {
          "line": 1598,
          "old_api": "gcd",
          "new_api": "size",
          "old_text": "gcd(winStride.height, blockStride.height)",
          "new_text": "locations.size()",
          "old_line_content": "                     gcd(winStride.height, blockStride.height));",
          "new_line_content": "    size_t nwindows = locations.size();",
          "content_same": false
        },
        {
          "line": 1600,
          "old_api": "size",
          "new_api": "std::max(padding.height, 0)",
          "old_text": "_img.size()",
          "new_text": "std::max(padding.height, 0)",
          "old_line_content": "    Size imgSize = _img.size();",
          "new_line_content": "    padding.height = (int)alignSize(std::max(padding.height, 0), cacheStride.height);",
          "content_same": false
        },
        {
          "line": 1603,
          "old_api": "std::max(padding.width, 0)",
          "new_api": "isUMat",
          "old_text": "std::max(padding.width, 0)",
          "new_text": "_img.isUMat()",
          "old_line_content": "    padding.width = (int)alignSize(std::max(padding.width, 0), cacheStride.width);",
          "new_line_content": "    CV_OCL_RUN(_img.dims() <= 2 && _img.type() == CV_8UC1 && _img.isUMat(),",
          "content_same": false
        },
        {
          "line": 1604,
          "old_api": "std::max(padding.height, 0)",
          "new_api": "ocl_compute",
          "old_text": "std::max(padding.height, 0)",
          "new_text": "ocl_compute(_img, winStride, descriptors, DESCR_FORMAT_COL_BY_COL, blockSize,\n        cellSize, nbins, blockStride, winSize, (float)getWinSigma(), gammaCorrection, L2HysThreshold, signedGradient)",
          "old_line_content": "    padding.height = (int)alignSize(std::max(padding.height, 0), cacheStride.height);",
          "new_line_content": "        ocl_compute(_img, winStride, descriptors, DESCR_FORMAT_COL_BY_COL, blockSize,",
          "content_same": false
        },
        {
          "line": 1607,
          "old_api": "isUMat",
          "new_api": "getMat",
          "old_text": "_img.isUMat()",
          "new_text": "_img.getMat()",
          "old_line_content": "    CV_OCL_RUN(_img.dims() <= 2 && _img.type() == CV_8UC1 && _img.isUMat(),",
          "new_line_content": "    Mat img = _img.getMat();",
          "content_same": false
        },
        {
          "line": 1611,
          "old_api": "getMat",
          "new_api": "windowsInImage",
          "old_text": "_img.getMat()",
          "new_text": "cache.windowsInImage(paddedImgSize, winStride).area()",
          "old_line_content": "    Mat img = _img.getMat();",
          "new_line_content": "        nwindows = cache.windowsInImage(paddedImgSize, winStride).area();",
          "content_same": false
        },
        {
          "line": 1615,
          "old_api": "windowsInImage",
          "new_api": "area",
          "old_text": "cache.windowsInImage(paddedImgSize, winStride).area()",
          "new_text": "cache.nblocks.area()",
          "old_line_content": "        nwindows = cache.windowsInImage(paddedImgSize, winStride).area();",
          "new_line_content": "    int nblocks = cache.nblocks.area();",
          "content_same": false
        },
        {
          "line": 1660,
          "old_api": "CV_INSTRUMENT_REGION",
          "new_api": "empty",
          "old_text": "CV_INSTRUMENT_REGION()",
          "new_text": "svmDetector.empty()",
          "old_line_content": "    CV_INSTRUMENT_REGION()",
          "new_line_content": "    if( svmDetector.empty() )",
          "content_same": false
        },
        {
          "line": 1663,
          "old_api": "clear",
          "new_api": "Size",
          "old_text": "weights.clear()",
          "new_text": "Size()",
          "old_line_content": "    weights.clear();",
          "new_line_content": "    if( winStride == Size() )",
          "content_same": false
        },
        {
          "line": 1669,
          "old_api": "gcd",
          "new_api": "std::max(padding.width, 0)",
          "old_text": "gcd(winStride.width, blockStride.width)",
          "new_text": "std::max(padding.width, 0)",
          "old_line_content": "    Size cacheStride(gcd(winStride.width, blockStride.width),",
          "new_line_content": "    padding.width = (int)alignSize(std::max(padding.width, 0), cacheStride.width);",
          "content_same": false
        },
        {
          "line": 1670,
          "old_api": "gcd",
          "new_api": "std::max(padding.height, 0)",
          "old_text": "gcd(winStride.height, blockStride.height)",
          "new_text": "std::max(padding.height, 0)",
          "old_line_content": "        gcd(winStride.height, blockStride.height));",
          "new_line_content": "    padding.height = (int)alignSize(std::max(padding.height, 0), cacheStride.height);",
          "content_same": false
        },
        {
          "line": 1680,
          "old_api": "windowsInImage",
          "new_api": "area",
          "old_text": "cache.windowsInImage(paddedImgSize, winStride).area()",
          "new_text": "cache.nblocks.area()",
          "old_line_content": "        nwindows = cache.windowsInImage(paddedImgSize, winStride).area();",
          "new_line_content": "    int nblocks = cache.nblocks.area();",
          "content_same": false
        },
        {
          "line": 1684,
          "old_api": "area",
          "new_api": "size",
          "old_text": "cache.nblocks.area()",
          "new_text": "svmDetector.size()",
          "old_line_content": "    int nblocks = cache.nblocks.area();",
          "new_line_content": "    double rho = svmDetector.size() > dsize ? svmDetector[dsize] : 0;",
          "content_same": false
        },
        {
          "line": 1719,
          "old_api": "getBlock",
          "new_api": "_mm_mul_ps",
          "old_text": "cache.getBlock(pt, &blockHist[0])",
          "new_text": "_mm_mul_ps(_svmVec, _vec)",
          "old_line_content": "            const float* vec = cache.getBlock(pt, &blockHist[0]);",
          "new_line_content": "            __m128 sum = _mm_mul_ps(_svmVec, _vec);",
          "content_same": false
        },
        {
          "line": 1723,
          "old_api": "_mm_mul_ps",
          "new_api": "_mm_loadu_ps",
          "old_text": "_mm_mul_ps(_svmVec, _vec)",
          "new_text": "_mm_loadu_ps(vec + k)",
          "old_line_content": "            __m128 sum = _mm_mul_ps(_svmVec, _vec);",
          "new_line_content": "                _vec = _mm_loadu_ps(vec + k);",
          "content_same": false
        },
        {
          "line": 1740,
          "old_api": "vmulq_f32",
          "new_api": "vld1q_f32",
          "old_text": "vmulq_f32(_svmVec, _vec)",
          "new_text": "vld1q_f32(vec + k)",
          "old_line_content": "            float32x4_t sum = vmulq_f32(_svmVec, _vec);",
          "new_line_content": "                _vec = vld1q_f32(vec + k);",
          "content_same": false
        },
        {
          "line": 1813,
          "old_api": "ptr",
          "new_api": "resize",
          "old_text": "smallerImgBuf.ptr()",
          "new_text": "resize(img, smallerImg, sz, 0, 0, INTER_LINEAR_EXACT)",
          "old_line_content": "            Mat smallerImg(sz, img.type(), smallerImgBuf.ptr());",
          "new_line_content": "                resize(img, smallerImg, sz, 0, 0, INTER_LINEAR_EXACT);",
          "content_same": false
        },
        {
          "line": 1814,
          "old_api": "size",
          "new_api": "detect",
          "old_text": "img.size()",
          "new_text": "hog->detect(smallerImg, locations, hitsWeights, hitThreshold, winStride, padding)",
          "old_line_content": "            if( sz == img.size() )",
          "new_line_content": "            hog->detect(smallerImg, locations, hitsWeights, hitThreshold, winStride, padding);",
          "content_same": false
        },
        {
          "line": 1815,
          "old_api": "type",
          "new_api": "cvRound",
          "old_text": "img.type()",
          "new_text": "cvRound(hog->winSize.height*scale)",
          "old_line_content": "                smallerImg = Mat(sz, img.type(), img.data, img.step);",
          "new_line_content": "            Size scaledWinSize = Size(cvRound(hog->winSize.width*scale), cvRound(hog->winSize.height*scale));",
          "content_same": false
        },
        {
          "line": 1817,
          "old_api": "resize",
          "new_api": "lock",
          "old_text": "resize(img, smallerImg, sz, 0, 0, INTER_LINEAR_EXACT)",
          "new_text": "mtx->lock()",
          "old_line_content": "                resize(img, smallerImg, sz, 0, 0, INTER_LINEAR_EXACT);",
          "new_line_content": "            mtx->lock();",
          "content_same": false
        },
        {
          "line": 1818,
          "old_api": "detect",
          "new_api": "size",
          "old_text": "hog->detect(smallerImg, locations, hitsWeights, hitThreshold, winStride, padding)",
          "new_text": "locations.size()",
          "old_line_content": "            hog->detect(smallerImg, locations, hitsWeights, hitThreshold, winStride, padding);",
          "new_line_content": "            for( size_t j = 0; j < locations.size(); j++ )",
          "content_same": false
        },
        {
          "line": 1821,
          "old_api": "lock",
          "new_api": "cvRound",
          "old_text": "mtx->lock()",
          "new_text": "cvRound(locations[j].y*scale)",
          "old_line_content": "            mtx->lock();",
          "new_line_content": "                                    cvRound(locations[j].y*scale),",
          "content_same": false
        },
        {
          "line": 1824,
          "old_api": "cvRound",
          "new_api": "push_back",
          "old_text": "cvRound(locations[j].x*scale)",
          "new_text": "scales->push_back(scale)",
          "old_line_content": "                vec->push_back(Rect(cvRound(locations[j].x*scale),",
          "new_line_content": "                    scales->push_back(scale);",
          "content_same": false
        },
        {
          "line": 1828,
          "old_api": "push_back",
          "new_api": "empty",
          "old_text": "scales->push_back(scale)",
          "new_text": "hitsWeights.empty()",
          "old_line_content": "                    scales->push_back(scale);",
          "new_line_content": "            if (weights && (!hitsWeights.empty()))",
          "content_same": false
        },
        {
          "line": 1830,
          "old_api": "unlock",
          "new_api": "lock",
          "old_text": "mtx->unlock()",
          "new_text": "mtx->lock()",
          "old_line_content": "            mtx->unlock();",
          "new_line_content": "                mtx->lock();",
          "content_same": false
        },
        {
          "line": 1832,
          "old_api": "empty",
          "new_api": "push_back",
          "old_text": "hitsWeights.empty()",
          "new_text": "weights->push_back(hitsWeights[j])",
          "old_line_content": "            if (weights && (!hitsWeights.empty()))",
          "new_line_content": "                    weights->push_back(hitsWeights[j]);",
          "content_same": false
        },
        {
          "line": 1878,
          "old_api": "preferedWorkGroupSizeMultiple",
          "new_api": "set",
          "old_text": "k.preferedWorkGroupSizeMultiple()",
          "new_text": "k.set(idx, descr_size.width)",
          "old_line_content": "            opts = cv::format(\"-D WAVE_SIZE=%d\", k.preferedWorkGroupSizeMultiple());",
          "new_line_content": "        idx = k.set(idx, descr_size.width);",
          "content_same": false
        },
        {
          "line": 1879,
          "old_api": "create",
          "new_api": "set",
          "old_text": "k.create(\"classify_hists_180_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts)",
          "new_text": "k.set(idx, descr_size.height)",
          "old_line_content": "        k.create(\"classify_hists_180_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts);",
          "new_line_content": "        idx = k.set(idx, descr_size.height);",
          "content_same": false
        },
        {
          "line": 1894,
          "old_api": "preferedWorkGroupSizeMultiple",
          "new_api": "set",
          "old_text": "k.preferedWorkGroupSizeMultiple()",
          "new_text": "k.set(idx, descr_size.width)",
          "old_line_content": "            opts = cv::format(\"-D WAVE_SIZE=%d\", k.preferedWorkGroupSizeMultiple());",
          "new_line_content": "        idx = k.set(idx, descr_size.width);",
          "content_same": false
        },
        {
          "line": 1895,
          "old_api": "create",
          "new_api": "set",
          "old_text": "k.create(\"classify_hists_252_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts)",
          "new_text": "k.set(idx, descr_size.height)",
          "old_line_content": "        k.create(\"classify_hists_252_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts);",
          "new_line_content": "        idx = k.set(idx, descr_size.height);",
          "content_same": false
        },
        {
          "line": 1910,
          "old_api": "preferedWorkGroupSizeMultiple",
          "new_api": "area",
          "old_text": "k.preferedWorkGroupSizeMultiple()",
          "new_text": "descr_size.area()",
          "old_line_content": "            opts = cv::format(\"-D WAVE_SIZE=%d\", k.preferedWorkGroupSizeMultiple());",
          "new_line_content": "        idx = k.set(idx, descr_size.area());",
          "content_same": false
        },
        {
          "line": 1911,
          "old_api": "create",
          "new_api": "set",
          "old_text": "k.create(\"classify_hists_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts)",
          "new_text": "k.set(idx, descr_size.height)",
          "old_line_content": "        k.create(\"classify_hists_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts);",
          "new_line_content": "        idx = k.set(idx, descr_size.height);",
          "content_same": false
        },
        {
          "line": 1929,
          "old_api": "set",
          "new_api": "ocl::KernelArg::PtrReadOnly(block_hists)",
          "old_text": "k.set(idx, img_win_width)",
          "new_text": "ocl::KernelArg::PtrReadOnly(block_hists)",
          "old_line_content": "    idx = k.set(idx, img_win_width);",
          "new_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrReadOnly(block_hists));",
          "content_same": false
        },
        {
          "line": 1930,
          "old_api": "set",
          "new_api": "ocl::KernelArg::PtrReadOnly(detector)",
          "old_text": "k.set(idx, img_block_width)",
          "new_text": "ocl::KernelArg::PtrReadOnly(detector)",
          "old_line_content": "    idx = k.set(idx, img_block_width);",
          "new_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrReadOnly(detector));",
          "content_same": false
        },
        {
          "line": 1933,
          "old_api": "ocl::KernelArg::PtrReadOnly(block_hists)",
          "new_api": "ocl::KernelArg::PtrWriteOnly(labels)",
          "old_text": "ocl::KernelArg::PtrReadOnly(block_hists)",
          "new_text": "ocl::KernelArg::PtrWriteOnly(labels)",
          "old_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrReadOnly(block_hists));",
          "new_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrWriteOnly(labels));",
          "content_same": false
        },
        {
          "line": 1935,
          "old_api": "set",
          "new_api": "run",
          "old_text": "k.set(idx, free_coef)",
          "new_text": "k.run(2, globalThreads, localThreads, false)",
          "old_line_content": "    idx = k.set(idx, free_coef);",
          "new_line_content": "    return k.run(2, globalThreads, localThreads, false);",
          "content_same": false
        },
        {
          "line": 1946,
          "old_api": "clear",
          "new_api": "size",
          "old_text": "hits.clear()",
          "new_text": "img.size()",
          "old_line_content": "    hits.clear();",
          "new_line_content": "    Size imgSize = img.size();",
          "content_same": false
        },
        {
          "line": 1953,
          "old_api": "isIntel",
          "new_api": "numPartsWithin",
          "old_text": "ocl::Device::getDefault().isIntel()",
          "new_text": "numPartsWithin(imgSize, blockSize, blockStride)",
          "old_line_content": "    int qangle_type = ocl::Device::getDefault().isIntel() ? CV_32SC2 : CV_8UC2;",
          "new_line_content": "    const Size blocks_per_img = numPartsWithin(imgSize, blockSize, blockStride);",
          "content_same": false
        },
        {
          "line": 1956,
          "old_api": "getBlockHistogramSize",
          "new_api": "numPartsWithin",
          "old_text": "getBlockHistogramSize(blockSize, cellSize, nbins)",
          "new_text": "numPartsWithin(imgSize, winSize, win_stride)",
          "old_line_content": "    const size_t block_hist_size = getBlockHistogramSize(blockSize, cellSize, nbins);",
          "new_line_content": "    Size wins_per_img = numPartsWithin(imgSize, winSize, win_stride);",
          "content_same": false
        },
        {
          "line": 1957,
          "old_api": "numPartsWithin",
          "new_api": "area",
          "old_text": "numPartsWithin(imgSize, blockSize, blockStride)",
          "new_text": "wins_per_img.area()",
          "old_line_content": "    const Size blocks_per_img = numPartsWithin(imgSize, blockSize, blockStride);",
          "new_line_content": "    UMat labels(1, wins_per_img.area(), CV_8U);",
          "content_same": false
        },
        {
          "line": 1973,
          "old_api": "ocl_computeGradient",
          "new_api": "copyTo",
          "old_text": "ocl_computeGradient(img, grad, qangle, nbins, effect_size, gammaCorrection, signedGradient)",
          "new_text": "gaussian_lut.copyTo(gauss_w_lut)",
          "old_line_content": "    if(!ocl_computeGradient(img, grad, qangle, nbins, effect_size, gammaCorrection, signedGradient))",
          "new_line_content": "    gaussian_lut.copyTo(gauss_w_lut);",
          "content_same": false
        },
        {
          "line": 1978,
          "old_api": "ocl_compute_hists",
          "new_api": "ocl_normalize_hists",
          "old_text": "ocl_compute_hists(nbins, blockStride.width, blockStride.height, effect_size.height,\n        effect_size.width, grad, qangle, gauss_w_lut, block_hists, block_hist_size)",
          "new_text": "ocl_normalize_hists(nbins, blockStride.width, blockStride.height, effect_size.height,\n        effect_size.width, block_hists, (float)L2HysThreshold)",
          "old_line_content": "    if(!ocl_compute_hists(nbins, blockStride.width, blockStride.height, effect_size.height,",
          "new_line_content": "    if(!ocl_normalize_hists(nbins, blockStride.width, blockStride.height, effect_size.height,",
          "content_same": false
        },
        {
          "line": 1982,
          "old_api": "ocl_normalize_hists",
          "new_api": "numPartsWithin",
          "old_text": "ocl_normalize_hists(nbins, blockStride.width, blockStride.height, effect_size.height,\n        effect_size.width, block_hists, (float)L2HysThreshold)",
          "new_text": "numPartsWithin(winSize, blockSize, blockStride)",
          "old_line_content": "    if(!ocl_normalize_hists(nbins, blockStride.width, blockStride.height, effect_size.height,",
          "new_line_content": "    Size blocks_per_win = numPartsWithin(winSize, blockSize, blockStride);",
          "content_same": false
        },
        {
          "line": 1986,
          "old_api": "numPartsWithin",
          "new_api": "ocl_classify_hists",
          "old_text": "numPartsWithin(winSize, blockSize, blockStride)",
          "new_text": "ocl_classify_hists(winSize.height, winSize.width, blockStride.height,\n        blockStride.width, win_stride.height, win_stride.width,\n        effect_size.height, effect_size.width, block_hists, oclSvmDetector,\n        free_coef, (float)hit_threshold, labels, descr_size, (int)block_hist_size)",
          "old_line_content": "    Size blocks_per_win = numPartsWithin(winSize, blockSize, blockStride);",
          "new_line_content": "    if(!ocl_classify_hists(winSize.height, winSize.width, blockStride.height,",
          "content_same": false
        },
        {
          "line": 2035,
          "old_api": "ocl_detect",
          "new_api": "cvRound",
          "old_text": "ocl_detect(image_scale, locations, hit_threshold, win_stride, oclSvmDetector, blockSize, cellSize, nbins,\n                blockStride, winSize, gammaCorrection, L2HysThreshold, sigma, free_coef, signedGradient)",
          "new_text": "cvRound(winSize.width * scale)",
          "old_line_content": "            if(!ocl_detect(image_scale, locations, hit_threshold, win_stride, oclSvmDetector, blockSize, cellSize, nbins,",
          "new_line_content": "        Size scaled_win_size(cvRound(winSize.width * scale),",
          "content_same": false
        },
        {
          "line": 2040,
          "old_api": "cvRound",
          "new_api": "end",
          "old_text": "cvRound(winSize.height * scale)",
          "new_text": "all_candidates.end()",
          "old_line_content": "            cvRound(winSize.height * scale));",
          "new_line_content": "    found_locations.assign(all_candidates.begin(), all_candidates.end());",
          "content_same": false
        },
        {
          "line": 2041,
          "old_api": "size",
          "new_api": "groupRectangles",
          "old_text": "locations.size()",
          "new_text": "groupRectangles(found_locations, (int)group_threshold, 0.2)",
          "old_line_content": "        for (size_t j = 0; j < locations.size(); j++)",
          "new_line_content": "    groupRectangles(found_locations, (int)group_threshold, 0.2);",
          "content_same": false
        },
        {
          "line": 2042,
          "old_api": "Point2d",
          "new_api": "clipObjects",
          "old_text": "Point2d(locations[j])",
          "new_text": "clipObjects(imgSize, found_locations, 0, 0)",
          "old_line_content": "            all_candidates.push_back(Rect(Point2d(locations[j]) * scale, scaled_win_size));",
          "new_line_content": "    clipObjects(imgSize, found_locations, 0, 0);",
          "content_same": false
        },
        {
          "line": 2062,
          "old_api": "size",
          "new_api": "push_back",
          "old_text": "_img.size()",
          "new_text": "levelScale.push_back(scale)",
          "old_line_content": "    Size imgSize = _img.size();",
          "new_line_content": "        levelScale.push_back(scale);",
          "content_same": false
        },
        {
          "line": 2076,
          "old_api": "Size",
          "new_api": "isUMat",
          "old_text": "Size()",
          "new_text": "_img.isUMat()",
          "old_line_content": "    if(winStride == Size())",
          "new_line_content": "        winStride.height % blockStride.height == 0 && padding == Size(0,0) && _img.isUMat(),",
          "content_same": false
        },
        {
          "line": 2091,
          "old_api": "size",
          "new_api": "back_inserter",
          "old_text": "levelScale.size()",
          "new_text": "back_inserter(foundScales)",
          "old_line_content": "    Range range(0, (int)levelScale.size());",
          "new_line_content": "    std::copy(tempScales.begin(), tempScales.end(), back_inserter(foundScales));",
          "content_same": false
        },
        {
          "line": 2093,
          "old_api": "parallel_for_",
          "new_api": "back_inserter",
          "old_text": "parallel_for_(range, invoker)",
          "new_text": "back_inserter(foundLocations)",
          "old_line_content": "    parallel_for_(range, invoker);",
          "new_line_content": "    std::copy(allCandidates.begin(), allCandidates.end(), back_inserter(foundLocations));",
          "content_same": false
        },
        {
          "line": 2098,
          "old_api": "clear",
          "new_api": "groupRectangles_meanshift",
          "old_text": "foundWeights.clear()",
          "new_text": "groupRectangles_meanshift(foundLocations, foundWeights, foundScales, finalThreshold, winSize)",
          "old_line_content": "    foundWeights.clear();",
          "new_line_content": "        groupRectangles_meanshift(foundLocations, foundWeights, foundScales, finalThreshold, winSize);",
          "content_same": false
        },
        {
          "line": 3510,
          "old_api": "CV_INSTRUMENT_REGION",
          "new_api": "cvCeil",
          "old_text": "CV_INSTRUMENT_REGION()",
          "new_text": "cvCeil(img.rows/(*locations)[0].scale)",
          "old_line_content": "        CV_INSTRUMENT_REGION()",
          "new_line_content": "        Size maxSz(cvCeil(img.cols/(*locations)[0].scale), cvCeil(img.rows/(*locations)[0].scale));",
          "content_same": false
        },
        {
          "line": 3522,
          "old_api": "cvRound",
          "new_api": "type",
          "old_text": "cvRound(img.rows / scale)",
          "new_text": "img.type()",
          "old_line_content": "            Size sz(cvRound(img.cols / scale), cvRound(img.rows / scale));",
          "new_line_content": "                smallerImg = Mat(sz, img.type(), img.data, img.step);",
          "content_same": false
        },
        {
          "line": 3526,
          "old_api": "type",
          "new_api": "Size",
          "old_text": "img.type()",
          "new_text": "Size()",
          "old_line_content": "                smallerImg = Mat(sz, img.type(), img.data, img.step);",
          "new_line_content": "            hog->detectROI(smallerImg, (*locations)[i].locations, dets, (*locations)[i].confidences, hitThreshold, Size(), padding);",
          "content_same": false
        },
        {
          "line": 3528,
          "old_api": "resize",
          "new_api": "lock",
          "old_text": "resize(img, smallerImg, sz, 0, 0, INTER_LINEAR_EXACT)",
          "new_text": "mtx->lock()",
          "old_line_content": "                resize(img, smallerImg, sz, 0, 0, INTER_LINEAR_EXACT);",
          "new_line_content": "            mtx->lock();",
          "content_same": false
        },
        {
          "line": 3530,
          "old_api": "Size",
          "new_api": "cvRound",
          "old_text": "Size()",
          "new_text": "cvRound(dets[j].x*scale)",
          "old_line_content": "            hog->detectROI(smallerImg, (*locations)[i].locations, dets, (*locations)[i].confidences, hitThreshold, Size(), padding);",
          "new_line_content": "                vec->push_back(Rect(cvRound(dets[j].x*scale),",
          "content_same": false
        },
        {
          "line": 3533,
          "old_api": "size",
          "new_api": "unlock",
          "old_text": "dets.size()",
          "new_text": "mtx->unlock()",
          "old_line_content": "            for( size_t j = 0; j < dets.size(); j++ )",
          "new_line_content": "            mtx->unlock();",
          "content_same": false
        },
        {
          "line": 3564,
          "old_api": "gcd",
          "new_api": "std::max(padding.width, 0)",
          "old_text": "gcd(winStride.width, blockStride.width)",
          "new_text": "std::max(padding.width, 0)",
          "old_line_content": "    Size cacheStride(gcd(winStride.width, blockStride.width),",
          "new_line_content": "    padding.width = (int)alignSize(std::max(padding.width, 0), cacheStride.width);",
          "content_same": false
        },
        {
          "line": 3565,
          "old_api": "gcd",
          "new_api": "std::max(padding.height, 0)",
          "old_text": "gcd(winStride.height, blockStride.height)",
          "new_text": "std::max(padding.height, 0)",
          "old_line_content": "                     gcd(winStride.height, blockStride.height));",
          "new_line_content": "    padding.height = (int)alignSize(std::max(padding.height, 0), cacheStride.height);",
          "content_same": false
        },
        {
          "line": 3575,
          "old_api": "windowsInImage",
          "new_api": "area",
          "old_text": "cache.windowsInImage(paddedImgSize, winStride).area()",
          "new_text": "cache.nblocks.area()",
          "old_line_content": "        nwindows = cache.windowsInImage(paddedImgSize, winStride).area();",
          "new_line_content": "    int nblocks = cache.nblocks.area();",
          "content_same": false
        },
        {
          "line": 3579,
          "old_api": "area",
          "new_api": "size",
          "old_text": "cache.nblocks.area()",
          "new_text": "svmDetector.size()",
          "old_line_content": "    int nblocks = cache.nblocks.area();",
          "new_line_content": "    double rho = svmDetector.size() > dsize ? svmDetector[dsize] : 0;",
          "content_same": false
        },
        {
          "line": 3612,
          "old_api": "getBlock",
          "new_api": "_mm_mul_ps",
          "old_text": "cache.getBlock(pt, &blockHist[0])",
          "new_text": "_mm_mul_ps(_svmVec, _vec)",
          "old_line_content": "            const float* vec = cache.getBlock(pt, &blockHist[0]);",
          "new_line_content": "            __m128 sum = _mm_mul_ps(_svmVec, _vec);",
          "content_same": false
        },
        {
          "line": 3616,
          "old_api": "_mm_mul_ps",
          "new_api": "_mm_loadu_ps",
          "old_text": "_mm_mul_ps(_svmVec, _vec)",
          "new_text": "_mm_loadu_ps(vec + k)",
          "old_line_content": "            __m128 sum = _mm_mul_ps(_svmVec, _vec);",
          "new_line_content": "                _vec = _mm_loadu_ps(vec + k);",
          "content_same": false
        },
        {
          "line": 3633,
          "old_api": "vmulq_f32",
          "new_api": "vld1q_f32",
          "old_text": "vmulq_f32(_svmVec, _vec)",
          "new_text": "vld1q_f32(vec + k)",
          "old_line_content": "            float32x4_t sum = vmulq_f32(_svmVec, _vec);",
          "new_line_content": "                _vec = vld1q_f32(vec + k);",
          "content_same": false
        },
        {
          "line": 3672,
          "old_api": "Size",
          "new_api": "begin",
          "old_text": "Size(8, 8)",
          "new_text": "foundLocations.begin()",
          "old_line_content": "                  HOGConfInvoker(this, img, hitThreshold, Size(8, 8),",
          "new_line_content": "    std::copy(allCandidates.begin(), allCandidates.end(), foundLocations.begin());",
          "content_same": false
        },
        {
          "line": 3697,
          "old_api": "fclose",
          "new_api": "strcmp",
          "old_text": "fclose(modelfl)",
          "new_text": "strcmp(version_buffer,\"V6.01\")",
          "old_line_content": "        fclose(modelfl);",
          "new_line_content": "    if(strcmp(version_buffer,\"V6.01\")) {",
          "content_same": false
        },
        {
          "line": 3701,
          "old_api": "strcmp",
          "new_api": "fclose",
          "old_text": "strcmp(version_buffer,\"V6.01\")",
          "new_text": "fclose(modelfl)",
          "old_line_content": "    if(strcmp(version_buffer,\"V6.01\")) {",
          "new_line_content": "        fclose(modelfl);",
          "content_same": false
        },
        {
          "line": 3707,
          "old_api": "Exception",
          "new_api": "fread (&version,sizeof(int),1,modelfl)",
          "old_text": "Exception(Error::StsError, eerr, efile, efunc, __LINE__)",
          "new_text": "fread (&version,sizeof(int),1,modelfl)",
          "old_line_content": "        CV_THROW (Exception(Error::StsError, eerr, efile, efunc, __LINE__));",
          "new_line_content": "    if (!fread (&version,sizeof(int),1,modelfl))",
          "content_same": false
        },
        {
          "line": 3722,
          "old_api": "Exception",
          "new_api": "fread",
          "old_text": "Exception()",
          "new_text": "fread(&(kernel_type),sizeof(int),1,modelfl)",
          "old_line_content": "        CV_THROW (Exception());",
          "new_line_content": "    nread=fread(&(kernel_type),sizeof(int),1,modelfl);",
          "content_same": false
        },
        {
          "line": 3761,
          "old_api": "CV_Assert",
          "new_api": "static_cast<size_t>(length)",
          "old_text": "CV_Assert(totwords + 1 > 0 && totwords < 0xFFFF)",
          "new_text": "static_cast<size_t>(length)",
          "old_line_content": "        CV_Assert(totwords + 1 > 0 && totwords < 0xFFFF);",
          "new_line_content": "        if(nread != static_cast<size_t>(length) + 1) {",
          "content_same": false
        },
        {
          "line": 3764,
          "old_api": "fread",
          "new_api": "Exception",
          "old_text": "fread(linearwt, sizeof(double), totwords + 1, modelfl)",
          "new_text": "Exception()",
          "old_line_content": "        nread = fread(linearwt, sizeof(double), totwords + 1, modelfl);",
          "new_line_content": "            CV_THROW (Exception());",
          "content_same": false
        },
        {
          "line": 3768,
          "old_api": "Exception",
          "new_api": "push_back",
          "old_text": "Exception()",
          "new_text": "detector.push_back((float)linearwt[i])",
          "old_line_content": "            CV_THROW (Exception());",
          "new_line_content": "            detector.push_back((float)linearwt[i]);",
          "content_same": false
        },
        {
          "line": 3774,
          "old_api": "push_back",
          "new_api": "fclose",
          "old_text": "detector.push_back((float)-linearbias)",
          "new_text": "fclose(modelfl)",
          "old_line_content": "        detector.push_back((float)-linearbias);",
          "new_line_content": "        fclose(modelfl);",
          "content_same": false
        },
        {
          "line": 3775,
          "old_api": "setSVMDetector",
          "new_api": "Exception",
          "old_text": "setSVMDetector(detector)",
          "new_text": "Exception()",
          "old_line_content": "        setSVMDetector(detector);",
          "new_line_content": "        CV_THROW (Exception());",
          "content_same": false
        },
        {
          "line": 3796,
          "old_api": "SimilarRects",
          "new_api": "std::numeric_limits<double>::max()",
          "old_text": "SimilarRects(eps)",
          "new_text": "std::numeric_limits<double>::max()",
          "old_line_content": "    int nclasses = partition(rectList, labels, SimilarRects(eps));",
          "new_line_content": "    std::vector<double> foundWeights(nclasses, -std::numeric_limits<double>::max());",
          "content_same": false
        },
        {
          "line": 3821,
          "old_api": "cv::saturate_cast<double>(r.width*s)",
          "new_api": "clear",
          "old_text": "cv::saturate_cast<double>(r.width*s)",
          "new_text": "rectList.clear()",
          "old_line_content": "            cv::saturate_cast<double>(r.width*s),",
          "new_line_content": "    rectList.clear();",
          "content_same": false
        },
        {
          "line": 3822,
          "old_api": "cv::saturate_cast<double>(r.height*s)",
          "new_api": "clear",
          "old_text": "cv::saturate_cast<double>(r.height*s)",
          "new_text": "weights.clear()",
          "old_line_content": "            cv::saturate_cast<double>(r.height*s));",
          "new_line_content": "    weights.clear();",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 2053,
          "old_api": null,
          "new_api": "CV_INSTRUMENT_REGION",
          "old_text": null,
          "new_text": "CV_INSTRUMENT_REGION()",
          "old_line_content": "    InputArray _img, std::vector<Rect>& foundLocations, std::vector<double>& foundWeights,",
          "new_line_content": "    CV_INSTRUMENT_REGION()",
          "content_same": false
        },
        {
          "line": 2058,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "_img.size()",
          "old_line_content": "",
          "new_line_content": "    Size imgSize = _img.size();",
          "content_same": false
        },
        {
          "line": 2063,
          "old_api": null,
          "new_api": "cvRound",
          "old_text": null,
          "new_text": "cvRound(imgSize.width/scale)",
          "old_line_content": "    std::vector<double> levelScale;",
          "new_line_content": "        if( cvRound(imgSize.width/scale) < winSize.width ||",
          "content_same": false
        },
        {
          "line": 2064,
          "old_api": null,
          "new_api": "cvRound",
          "old_text": null,
          "new_text": "cvRound(imgSize.height/scale)",
          "old_line_content": "    for( levels = 0; levels < nlevels; levels++ )",
          "new_line_content": "            cvRound(imgSize.height/scale) < winSize.height ||",
          "content_same": false
        },
        {
          "line": 2069,
          "old_api": null,
          "new_api": "std::max(levels, 1)",
          "old_text": null,
          "new_text": "std::max(levels, 1)",
          "old_line_content": "                scale0 <= 1 )",
          "new_line_content": "    levels = std::max(levels, 1);",
          "content_same": false
        },
        {
          "line": 2070,
          "old_api": null,
          "new_api": "resize",
          "old_text": null,
          "new_text": "levelScale.resize(levels)",
          "old_line_content": "            break;",
          "new_line_content": "    levelScale.resize(levels);",
          "content_same": false
        },
        {
          "line": 2072,
          "old_api": null,
          "new_api": "Size",
          "old_text": null,
          "new_text": "Size()",
          "old_line_content": "    }",
          "new_line_content": "    if(winStride == Size())",
          "content_same": false
        },
        {
          "line": 2075,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "_img.type()",
          "old_line_content": "",
          "new_line_content": "    CV_OCL_RUN(_img.dims() <= 2 && _img.type() == CV_8UC1 && scale0 > 1 && winStride.width % blockStride.width == 0 &&",
          "content_same": false
        },
        {
          "line": 2077,
          "old_api": null,
          "new_api": "ocl_detectMultiScale",
          "old_text": null,
          "new_text": "ocl_detectMultiScale(_img, foundLocations, levelScale, hitThreshold, winStride, finalThreshold, oclSvmDetector,\n        blockSize, cellSize, nbins, blockStride, winSize, gammaCorrection, L2HysThreshold, (float)getWinSigma(), free_coef, signedGradient)",
          "old_line_content": "        winStride = blockStride;",
          "new_line_content": "        ocl_detectMultiScale(_img, foundLocations, levelScale, hitThreshold, winStride, finalThreshold, oclSvmDetector,",
          "content_same": false
        },
        {
          "line": 2078,
          "old_api": null,
          "new_api": "getWinSigma",
          "old_text": null,
          "new_text": "getWinSigma()",
          "old_line_content": "",
          "new_line_content": "        blockSize, cellSize, nbins, blockStride, winSize, gammaCorrection, L2HysThreshold, (float)getWinSigma(), free_coef, signedGradient));",
          "content_same": false
        },
        {
          "line": 2086,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "_img.getMat()",
          "old_line_content": "    std::vector<double> tempWeights;",
          "new_line_content": "    Mat img = _img.getMat();",
          "content_same": false
        },
        {
          "line": 2087,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "levelScale.size()",
          "old_line_content": "    std::vector<double> foundScales;",
          "new_line_content": "    Range range(0, (int)levelScale.size());",
          "content_same": false
        },
        {
          "line": 2089,
          "old_api": null,
          "new_api": "parallel_for_",
          "old_text": null,
          "new_text": "parallel_for_(range, invoker)",
          "old_line_content": "    Mutex mtx;",
          "new_line_content": "    parallel_for_(range, invoker);",
          "content_same": false
        },
        {
          "line": 2092,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "foundLocations.clear()",
          "old_line_content": "    HOGInvoker invoker(this, img, hitThreshold, winStride, padding, &levelScale[0], &allCandidates, &mtx, &tempWeights, &tempScales);",
          "new_line_content": "    foundLocations.clear();",
          "content_same": false
        },
        {
          "line": 2094,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "foundWeights.clear()",
          "old_line_content": "",
          "new_line_content": "    foundWeights.clear();",
          "content_same": false
        },
        {
          "line": 2100,
          "old_api": null,
          "new_api": "groupRectangles",
          "old_text": null,
          "new_text": "groupRectangles(foundLocations, foundWeights, (int)finalThreshold, 0.2)",
          "old_line_content": "",
          "new_line_content": "        groupRectangles(foundLocations, foundWeights, (int)finalThreshold, 0.2);",
          "content_same": false
        },
        {
          "line": 2101,
          "old_api": null,
          "new_api": "clipObjects",
          "old_text": null,
          "new_text": "clipObjects(imgSize, foundLocations, 0, &foundWeights)",
          "old_line_content": "    if ( useMeanshiftGrouping )",
          "new_line_content": "    clipObjects(imgSize, foundLocations, 0, &foundWeights);",
          "content_same": false
        },
        {
          "line": 2108,
          "old_api": null,
          "new_api": "CV_INSTRUMENT_REGION",
          "old_text": null,
          "new_text": "CV_INSTRUMENT_REGION()",
          "old_line_content": "void HOGDescriptor::detectMultiScale(InputArray img, std::vector<Rect>& foundLocations,",
          "new_line_content": "    CV_INSTRUMENT_REGION()",
          "content_same": false
        },
        {
          "line": 2111,
          "old_api": null,
          "new_api": "detectMultiScale",
          "old_text": null,
          "new_text": "detectMultiScale(img, foundLocations, foundWeights, hitThreshold, winStride,\n                padding, scale0, finalThreshold, useMeanshiftGrouping)",
          "old_line_content": "{",
          "new_line_content": "    detectMultiScale(img, foundLocations, foundWeights, hitThreshold, winStride,",
          "content_same": false
        },
        {
          "line": 2143,
          "old_api": null,
          "new_api": "read",
          "old_text": null,
          "new_text": "obj->read(fn)",
          "old_line_content": "    static void* read(CvFileStorage* fs, CvFileNode* n)",
          "new_line_content": "        if(obj->read(fn))",
          "content_same": false
        },
        {
          "line": 2154,
          "old_api": null,
          "new_api": "String",
          "old_text": null,
          "new_text": "String(name)",
          "old_line_content": "    {",
          "new_line_content": "            ((const _ClsName*)ptr)->write(fs, String(name));",
          "content_same": false
        },
        {
          "line": 328,
          "old_api": null,
          "new_api": "_mm_loadu_si128",
          "old_text": null,
          "new_text": "_mm_loadu_si128((const __m128i*)(xmap + x))",
          "old_line_content": "        {",
          "new_line_content": "            __m128i mul_res = _mm_loadu_si128((const __m128i*)(xmap + x));",
          "content_same": false
        },
        {
          "line": 329,
          "old_api": null,
          "new_api": "_mm_add_epi32",
          "old_text": null,
          "new_text": "_mm_add_epi32(mul_res, mul_res)",
          "old_line_content": "            //emulation of _mm_mullo_epi32",
          "new_line_content": "            mul_res = _mm_add_epi32(_mm_add_epi32(mul_res, mul_res), mul_res); // multiply by 3",
          "content_same": false
        },
        {
          "line": 335,
          "old_api": null,
          "new_api": "vld1q_s32",
          "old_text": null,
          "new_text": "vld1q_s32(xmap + x)",
          "old_line_content": "        }",
          "new_line_content": "            vst1q_s32(xmap + x, vmulq_s32(ithree, vld1q_s32(xmap + x)));",
          "content_same": false
        },
        {
          "line": 345,
          "old_api": null,
          "new_api": "ptr",
          "old_text": null,
          "new_text": "img.ptr(ymap[y])",
          "old_line_content": "",
          "new_line_content": "        const uchar* imgPtr  = img.ptr(ymap[y]);",
          "content_same": false
        },
        {
          "line": 351,
          "old_api": null,
          "new_api": "grad.ptr<float>(y)",
          "old_text": null,
          "new_text": "grad.ptr<float>(y)",
          "old_line_content": "        //(see http://code.opencv.org/issues/4149)",
          "new_line_content": "        float* gradPtr = grad.ptr<float>(y);",
          "content_same": false
        },
        {
          "line": 352,
          "old_api": null,
          "new_api": "ptr",
          "old_text": null,
          "new_text": "qangle.ptr(y)",
          "old_line_content": "        const uchar* prevPtr = img.data + img.step*ymap[y-1];",
          "new_line_content": "        uchar* qanglePtr = qangle.ptr(y);",
          "content_same": false
        },
        {
          "line": 376,
          "old_api": null,
          "new_api": "_mm_set_ps",
          "old_text": null,
          "new_text": "_mm_set_ps(lut[p32[0]], lut[p22[0]], lut[p12[0]], lut[p02[0]])",
          "old_line_content": "                T p12 = imgPtr + xmap[x+2], p10 = imgPtr + xmap[x];",
          "new_line_content": "                __m128 _dx0 = _mm_sub_ps(_mm_set_ps(lut[p32[0]], lut[p22[0]], lut[p12[0]], lut[p02[0]]),",
          "content_same": false
        },
        {
          "line": 377,
          "old_api": null,
          "new_api": "_mm_set_ps",
          "old_text": null,
          "new_text": "_mm_set_ps(lut[p30[0]], lut[p20[0]], lut[p10[0]], lut[p00[0]])",
          "old_line_content": "                T p22 = imgPtr + xmap[x+3], p20 = p02;",
          "new_line_content": "                                         _mm_set_ps(lut[p30[0]], lut[p20[0]], lut[p10[0]], lut[p00[0]]));",
          "content_same": false
        },
        {
          "line": 378,
          "old_api": null,
          "new_api": "_mm_set_ps",
          "old_text": null,
          "new_text": "_mm_set_ps(lut[p32[1]], lut[p22[1]], lut[p12[1]], lut[p02[1]])",
          "old_line_content": "                T p32 = imgPtr + xmap[x+4], p30 = p12;",
          "new_line_content": "                __m128 _dx1 = _mm_sub_ps(_mm_set_ps(lut[p32[1]], lut[p22[1]], lut[p12[1]], lut[p02[1]]),",
          "content_same": false
        },
        {
          "line": 379,
          "old_api": null,
          "new_api": "_mm_set_ps",
          "old_text": null,
          "new_text": "_mm_set_ps(lut[p30[1]], lut[p20[1]], lut[p10[1]], lut[p00[1]])",
          "old_line_content": "",
          "new_line_content": "                                         _mm_set_ps(lut[p30[1]], lut[p20[1]], lut[p10[1]], lut[p00[1]]));",
          "content_same": false
        },
        {
          "line": 386,
          "old_api": null,
          "new_api": "_mm_set_ps",
          "old_text": null,
          "new_text": "_mm_set_ps(lut[prevPtr[x3+1]], lut[prevPtr[x2+1]], lut[prevPtr[x1+1]], lut[prevPtr[x0+1]])",
          "old_line_content": "",
          "new_line_content": "                                         _mm_set_ps(lut[prevPtr[x3+1]], lut[prevPtr[x2+1]], lut[prevPtr[x1+1]], lut[prevPtr[x0+1]]));",
          "content_same": false
        },
        {
          "line": 415,
          "old_api": null,
          "new_api": "vsetq_f32",
          "old_text": null,
          "new_text": "vsetq_f32(lut[p02[0]], lut[p12[0]], lut[p22[0]], lut[p32[0]])",
          "old_line_content": "                T p12 = imgPtr + xmap[x+2], p10 = imgPtr + xmap[x];",
          "new_line_content": "                float32x4_t _dx0 = vsubq_f32(vsetq_f32(lut[p02[0]], lut[p12[0]], lut[p22[0]], lut[p32[0]]),",
          "content_same": false
        },
        {
          "line": 416,
          "old_api": null,
          "new_api": "vsetq_f32",
          "old_text": null,
          "new_text": "vsetq_f32(lut[p00[0]], lut[p10[0]], lut[p20[0]], lut[p30[0]])",
          "old_line_content": "                T p22 = imgPtr + xmap[x+3], p20 = p02;",
          "new_line_content": "                                             vsetq_f32(lut[p00[0]], lut[p10[0]], lut[p20[0]], lut[p30[0]]));",
          "content_same": false
        },
        {
          "line": 417,
          "old_api": null,
          "new_api": "vsetq_f32",
          "old_text": null,
          "new_text": "vsetq_f32(lut[p02[1]], lut[p12[1]], lut[p22[1]], lut[p32[1]])",
          "old_line_content": "                T p32 = imgPtr + xmap[x+4], p30 = p12;",
          "new_line_content": "                float32x4_t _dx1 = vsubq_f32(vsetq_f32(lut[p02[1]], lut[p12[1]], lut[p22[1]], lut[p32[1]]),",
          "content_same": false
        },
        {
          "line": 418,
          "old_api": null,
          "new_api": "vsetq_f32",
          "old_text": null,
          "new_text": "vsetq_f32(lut[p00[1]], lut[p10[1]], lut[p20[1]], lut[p30[1]])",
          "old_line_content": "",
          "new_line_content": "                                             vsetq_f32(lut[p00[1]], lut[p10[1]], lut[p20[1]], lut[p30[1]]));",
          "content_same": false
        },
        {
          "line": 425,
          "old_api": null,
          "new_api": "vsetq_f32",
          "old_text": null,
          "new_text": "vsetq_f32(lut[prevPtr[x0+1]], lut[prevPtr[x1+1]], lut[prevPtr[x2+1]], lut[prevPtr[x3+1]])",
          "old_line_content": "",
          "new_line_content": "                                             vsetq_f32(lut[prevPtr[x0+1]], lut[prevPtr[x1+1]], lut[prevPtr[x2+1]], lut[prevPtr[x3+1]]));",
          "content_same": false
        },
        {
          "line": 482,
          "old_api": null,
          "new_api": "cartToPolar",
          "old_text": null,
          "new_text": "cartToPolar( Dx, Dy, Mag, Angle, false )",
          "old_line_content": "            }",
          "new_line_content": "        cartToPolar( Dx, Dy, Mag, Angle, false );",
          "content_same": false
        },
        {
          "line": 487,
          "old_api": null,
          "new_api": "_mm_setzero_ps",
          "old_text": null,
          "new_text": "_mm_setzero_ps()",
          "old_line_content": "",
          "new_line_content": "        __m128 fhalf = _mm_set1_ps(0.5f), fzero = _mm_setzero_ps();",
          "content_same": false
        },
        {
          "line": 488,
          "old_api": null,
          "new_api": "_mm_set1_ps",
          "old_text": null,
          "new_text": "_mm_set1_ps(1.0f)",
          "old_line_content": "        // filling the result matrix",
          "new_line_content": "        __m128 _angleScale = _mm_set1_ps(angleScale), fone = _mm_set1_ps(1.0f);",
          "content_same": false
        },
        {
          "line": 489,
          "old_api": null,
          "new_api": "_mm_setzero_si128",
          "old_text": null,
          "new_text": "_mm_setzero_si128()",
          "old_line_content": "        x = 0;",
          "new_line_content": "        __m128i ione = _mm_set1_epi32(1), _nbins = _mm_set1_epi32(nbins), izero = _mm_setzero_si128();",
          "content_same": false
        },
        {
          "line": 494,
          "old_api": null,
          "new_api": "_mm_loadu_ps",
          "old_text": null,
          "new_text": "_mm_loadu_ps(dbuf + x + (width << 1))",
          "old_line_content": "",
          "new_line_content": "            __m128 _mag = _mm_loadu_ps(dbuf + x + (width << 1));",
          "content_same": false
        },
        {
          "line": 495,
          "old_api": null,
          "new_api": "_mm_loadu_ps",
          "old_text": null,
          "new_text": "_mm_loadu_ps(dbuf + x + width * 3)",
          "old_line_content": "        for ( ; x <= width - 4; x += 4)",
          "new_line_content": "            __m128 _angle = _mm_loadu_ps(dbuf + x + width * 3);",
          "content_same": false
        },
        {
          "line": 496,
          "old_api": null,
          "new_api": "_mm_mul_ps",
          "old_text": null,
          "new_text": "_mm_mul_ps(_angleScale, _angle)",
          "old_line_content": "        {",
          "new_line_content": "            _angle = _mm_sub_ps(_mm_mul_ps(_angleScale, _angle), fhalf);",
          "content_same": false
        },
        {
          "line": 501,
          "old_api": null,
          "new_api": "_mm_cvtepi32_ps",
          "old_text": null,
          "new_text": "_mm_cvtepi32_ps(_hidx)",
          "old_line_content": "",
          "new_line_content": "            _angle = _mm_sub_ps(_angle, _mm_cvtepi32_ps(_hidx));",
          "content_same": false
        },
        {
          "line": 506,
          "old_api": null,
          "new_api": "_mm_unpackhi_ps",
          "old_text": null,
          "new_text": "_mm_unpackhi_ps(ft0, ft1)",
          "old_line_content": "",
          "new_line_content": "            __m128 ft3 = _mm_unpackhi_ps(ft0, ft1);",
          "content_same": false
        },
        {
          "line": 511,
          "old_api": null,
          "new_api": "_mm_srli_epi32",
          "old_text": null,
          "new_text": "_mm_srli_epi32(_hidx, 31)",
          "old_line_content": "",
          "new_line_content": "            __m128i mask0 = _mm_sub_epi32(izero, _mm_srli_epi32(_hidx, 31));",
          "content_same": false
        },
        {
          "line": 514,
          "old_api": null,
          "new_api": "_mm_andnot_si128",
          "old_text": null,
          "new_text": "_mm_andnot_si128(mask0, _nbins)",
          "old_line_content": "",
          "new_line_content": "            __m128i it1 = _mm_andnot_si128(mask0, _nbins);",
          "content_same": false
        },
        {
          "line": 520,
          "old_api": null,
          "new_api": "_mm_packs_epi32",
          "old_text": null,
          "new_text": "_mm_packs_epi32(_hidx, izero)",
          "old_line_content": "",
          "new_line_content": "            it1 = _mm_packus_epi16(_mm_packs_epi32(_hidx, izero), izero);",
          "content_same": false
        },
        {
          "line": 529,
          "old_api": null,
          "new_api": "cvFloor",
          "old_text": null,
          "new_text": "cvFloor(angle)",
          "old_line_content": "#endif",
          "new_line_content": "            int hidx = cvFloor(angle);",
          "content_same": false
        },
        {
          "line": 539,
          "old_api": null,
          "new_api": "CV_Assert",
          "old_text": null,
          "new_text": "CV_Assert( (unsigned)hidx < (unsigned)nbins )",
          "old_line_content": "                hidx += nbins;",
          "new_line_content": "            CV_Assert( (unsigned)hidx < (unsigned)nbins );",
          "content_same": false
        },
        {
          "line": 613,
          "old_api": null,
          "new_api": "init",
          "old_text": null,
          "new_text": "init(_descriptor, _img, _paddingTL, _paddingBR, _useCache, _cacheStride)",
          "old_line_content": "HOGCache::HOGCache(const HOGDescriptor* _descriptor,",
          "new_line_content": "    init(_descriptor, _img, _paddingTL, _paddingBR, _useCache, _cacheStride);",
          "content_same": false
        },
        {
          "line": 624,
          "old_api": null,
          "new_api": "computeGradient",
          "old_text": null,
          "new_text": "descriptor->computeGradient(_img, grad, qangle, _paddingTL, _paddingBR)",
          "old_line_content": "    descriptor = _descriptor;",
          "new_line_content": "    descriptor->computeGradient(_img, grad, qangle, _paddingTL, _paddingBR);",
          "content_same": false
        },
        {
          "line": 634,
          "old_api": null,
          "new_api": "Size",
          "old_text": null,
          "new_text": "Size((winSize.width - blockSize.width)/blockStride.width + 1,\n        (winSize.height - blockSize.height)/blockStride.height + 1)",
          "old_line_content": "    Size cellSize = descriptor->cellSize;",
          "new_line_content": "    nblocks = Size((winSize.width - blockSize.width)/blockStride.width + 1,",
          "content_same": false
        },
        {
          "line": 636,
          "old_api": null,
          "new_api": "Size",
          "old_text": null,
          "new_text": "Size(blockSize.width/cellSize.width, blockSize.height/cellSize.height)",
          "old_line_content": "    int rawBlockSize = blockSize.width*blockSize.height;",
          "new_line_content": "    ncells = Size(blockSize.width/cellSize.width, blockSize.height/cellSize.height);",
          "content_same": false
        },
        {
          "line": 644,
          "old_api": null,
          "new_api": "create",
          "old_text": null,
          "new_text": "blockCache.create(cacheSize.height, cacheSize.width*blockHistogramSize)",
          "old_line_content": "    {",
          "new_line_content": "        blockCache.create(cacheSize.height, cacheSize.width*blockHistogramSize);",
          "content_same": false
        },
        {
          "line": 645,
          "old_api": null,
          "new_api": "create",
          "old_text": null,
          "new_text": "blockCacheFlags.create(cacheSize)",
          "old_line_content": "        Size cacheSize((grad.cols - blockSize.width)/cacheStride.width+1,",
          "new_line_content": "        blockCacheFlags.create(cacheSize);",
          "content_same": false
        },
        {
          "line": 654,
          "old_api": null,
          "new_api": "getWinSigma",
          "old_text": null,
          "new_text": "descriptor->getWinSigma()",
          "old_line_content": "            ymaxCached[ii] = -1;",
          "new_line_content": "    float sigma = (float)descriptor->getWinSigma();",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": null,
          "new_api": "_mm_loadu_si128",
          "old_text": null,
          "new_text": "_mm_loadu_si128((__m128i*)a)",
          "old_line_content": "",
          "new_line_content": "        __m128i idx = _mm_loadu_si128((__m128i*)a);",
          "content_same": false
        },
        {
          "line": 666,
          "old_api": null,
          "new_api": "_mm_set1_ps",
          "old_text": null,
          "new_text": "_mm_set1_ps(bh)",
          "old_line_content": "        i = 0;",
          "new_line_content": "        __m128 _bw = _mm_set1_ps(bw), _bh = _mm_set1_ps(bh);",
          "content_same": false
        },
        {
          "line": 667,
          "old_api": null,
          "new_api": "_mm_set1_epi32",
          "old_text": null,
          "new_text": "_mm_set1_epi32(4)",
          "old_line_content": "    #if CV_SSE2",
          "new_line_content": "        __m128i ifour = _mm_set1_epi32(4);",
          "content_same": false
        },
        {
          "line": 672,
          "old_api": null,
          "new_api": "_mm_mul_ps",
          "old_text": null,
          "new_text": "_mm_mul_ps(t, t)",
          "old_line_content": "",
          "new_line_content": "            t = _mm_mul_ps(t, t);",
          "content_same": false
        },
        {
          "line": 673,
          "old_api": null,
          "new_api": "_mm_add_epi32",
          "old_text": null,
          "new_text": "_mm_add_epi32(idx, ifour)",
          "old_line_content": "        for (; i <= blockSize.height - 4; i += 4)",
          "new_line_content": "            idx = _mm_add_epi32(idx, ifour);",
          "content_same": false
        },
        {
          "line": 674,
          "old_api": null,
          "new_api": "_mm_storeu_ps",
          "old_text": null,
          "new_text": "_mm_storeu_ps(_di + i, t)",
          "old_line_content": "        {",
          "new_line_content": "            _mm_storeu_ps(_di + i, t);",
          "content_same": false
        },
        {
          "line": 679,
          "old_api": null,
          "new_api": "vdupq_n_f32",
          "old_text": null,
          "new_text": "vdupq_n_f32(bh)",
          "old_line_content": "        }",
          "new_line_content": "        float32x4_t _bw = vdupq_n_f32(bw), _bh = vdupq_n_f32(bh);",
          "content_same": false
        },
        {
          "line": 680,
          "old_api": null,
          "new_api": "vdupq_n_s32",
          "old_text": null,
          "new_text": "vdupq_n_s32(4)",
          "old_line_content": "    #elif CV_NEON",
          "new_line_content": "        int32x4_t ifour = vdupq_n_s32(4);",
          "content_same": false
        },
        {
          "line": 685,
          "old_api": null,
          "new_api": "vmulq_f32",
          "old_text": null,
          "new_text": "vmulq_f32(t, t)",
          "old_line_content": "",
          "new_line_content": "            t = vmulq_f32(t, t);",
          "content_same": false
        },
        {
          "line": 686,
          "old_api": null,
          "new_api": "vaddq_s32",
          "old_text": null,
          "new_text": "vaddq_s32(idx, ifour)",
          "old_line_content": "        for (; i <= blockSize.height - 4; i += 4)",
          "new_line_content": "            idx = vaddq_s32(idx, ifour);",
          "content_same": false
        },
        {
          "line": 687,
          "old_api": null,
          "new_api": "vst1q_f32",
          "old_text": null,
          "new_text": "vst1q_f32(_di + i, t)",
          "old_line_content": "        {",
          "new_line_content": "            vst1q_f32(_di + i, t);",
          "content_same": false
        },
        {
          "line": 698,
          "old_api": null,
          "new_api": "_mm_loadu_si128",
          "old_text": null,
          "new_text": "_mm_loadu_si128((__m128i*)a)",
          "old_line_content": "        }",
          "new_line_content": "        idx = _mm_loadu_si128((__m128i*)a);",
          "content_same": false
        },
        {
          "line": 701,
          "old_api": null,
          "new_api": "_mm_cvtepi32_ps",
          "old_text": null,
          "new_text": "_mm_cvtepi32_ps(idx)",
          "old_line_content": "    #if CV_SSE2",
          "new_line_content": "            __m128 t = _mm_sub_ps(_mm_cvtepi32_ps(idx), _bw);",
          "content_same": false
        },
        {
          "line": 703,
          "old_api": null,
          "new_api": "_mm_add_epi32",
          "old_text": null,
          "new_text": "_mm_add_epi32(idx, ifour)",
          "old_line_content": "        for (; j <= blockSize.width - 4; j += 4)",
          "new_line_content": "            idx = _mm_add_epi32(idx, ifour);",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": null,
          "new_api": "_mm_storeu_ps",
          "old_text": null,
          "new_text": "_mm_storeu_ps(_dj + j, t)",
          "old_line_content": "        {",
          "new_line_content": "            _mm_storeu_ps(_dj + j, t);",
          "content_same": false
        },
        {
          "line": 710,
          "old_api": null,
          "new_api": "vcvtq_f32_s32",
          "old_text": null,
          "new_text": "vcvtq_f32_s32(idx)",
          "old_line_content": "    #elif CV_NEON",
          "new_line_content": "            float32x4_t t = vsubq_f32(vcvtq_f32_s32(idx), _bw);",
          "content_same": false
        },
        {
          "line": 712,
          "old_api": null,
          "new_api": "vaddq_s32",
          "old_text": null,
          "new_text": "vaddq_s32(idx, ifour)",
          "old_line_content": "        for (; j <= blockSize.width - 4; j += 4)",
          "new_line_content": "            idx = vaddq_s32(idx, ifour);",
          "content_same": false
        },
        {
          "line": 713,
          "old_api": null,
          "new_api": "vst1q_f32",
          "old_text": null,
          "new_text": "vst1q_f32(_dj + j, t)",
          "old_line_content": "        {",
          "new_line_content": "            vst1q_f32(_dj + j, t);",
          "content_same": false
        },
        {
          "line": 724,
          "old_api": null,
          "new_api": "std::exp(-(_di[i] + _dj[j])*scale)",
          "old_text": null,
          "new_text": "std::exp(-(_di[i] + _dj[j])*scale)",
          "old_line_content": "        }",
          "new_line_content": "                weights(i,j) = std::exp(-(_di[i] + _dj[j])*scale);",
          "content_same": false
        },
        {
          "line": 727,
          "old_api": null,
          "new_api": "resize",
          "old_text": null,
          "new_text": "blockData.resize(nblocks.width*nblocks.height)",
          "old_line_content": "            for(j = 0; j < blockSize.width; j++)",
          "new_line_content": "    blockData.resize(nblocks.width*nblocks.height);",
          "content_same": false
        },
        {
          "line": 762,
          "old_api": null,
          "new_api": "cvFloor",
          "old_text": null,
          "new_text": "cvFloor(cellX)",
          "old_line_content": "        {",
          "new_line_content": "            int icellX0 = cvFloor(cellX);",
          "content_same": false
        },
        {
          "line": 763,
          "old_api": null,
          "new_api": "cvFloor",
          "old_text": null,
          "new_text": "cvFloor(cellY)",
          "old_line_content": "            PixData* data = 0;",
          "new_line_content": "            int icellY0 = cvFloor(cellY);",
          "content_same": false
        },
        {
          "line": 835,
          "old_api": null,
          "new_api": "weights",
          "old_text": null,
          "new_text": "weights(i,j)",
          "old_line_content": "                }",
          "new_line_content": "            data->gradWeight = weights(i,j);",
          "content_same": false
        },
        {
          "line": 838,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert( count1 + count2 + count4 == rawBlockSize )",
          "old_line_content": "            data->qangleOfs = (qangle.cols*i + j)*2;",
          "new_line_content": "    assert( count1 + count2 + count4 == rawBlockSize );",
          "content_same": false
        },
        {
          "line": 853,
          "old_api": null,
          "new_api": "Point",
          "old_text": null,
          "new_text": "Point(j*blockStride.width,i*blockStride.height)",
          "old_line_content": "        for( i = 0; i < nblocks.height; i++ )",
          "new_line_content": "            data.imgOffset = Point(j*blockStride.width,i*blockStride.height);",
          "content_same": false
        },
        {
          "line": 860,
          "old_api": null,
          "new_api": "assert",
          "old_text": null,
          "new_text": "assert(descriptor != 0)",
          "old_line_content": "",
          "new_line_content": "    assert(descriptor != 0);",
          "content_same": false
        },
        {
          "line": 870,
          "old_api": null,
          "new_api": "CV_Assert",
          "old_text": null,
          "new_text": "CV_Assert( pt.x % cacheStride.width == 0 &&\n                   pt.y % cacheStride.height == 0 )",
          "old_line_content": "//        (unsigned)pt.y <= (unsigned)(grad.rows - blockSize.height) );",
          "new_line_content": "        CV_Assert( pt.x % cacheStride.width == 0 &&",
          "content_same": false
        },
        {
          "line": 876,
          "old_api": null,
          "new_api": "row",
          "old_text": null,
          "new_text": "blockCacheFlags.row(cacheIdx.y)",
          "old_line_content": "        Point cacheIdx(pt.x/cacheStride.width,",
          "new_line_content": "            Mat_<uchar> cacheRow = blockCacheFlags.row(cacheIdx.y);",
          "content_same": false
        },
        {
          "line": 882,
          "old_api": null,
          "new_api": "blockCacheFlags",
          "old_text": null,
          "new_text": "blockCacheFlags(cacheIdx.y, cacheIdx.x)",
          "old_line_content": "            ymaxCached[cacheIdx.y] = pt.y;",
          "new_line_content": "        uchar& computedFlag = blockCacheFlags(cacheIdx.y, cacheIdx.x);",
          "content_same": false
        },
        {
          "line": 889,
          "old_api": null,
          "new_api": "grad.ptr<float>(pt.y)",
          "old_text": null,
          "new_text": "grad.ptr<float>(pt.y)",
          "old_line_content": "        computedFlag = (uchar)1; // set it at once, before actual computing",
          "new_line_content": "    const float* gradPtr = grad.ptr<float>(pt.y) + pt.x*2;",
          "content_same": false
        },
        {
          "line": 890,
          "old_api": null,
          "new_api": "ptr",
          "old_text": null,
          "new_text": "qangle.ptr(pt.y)",
          "old_line_content": "    }",
          "new_line_content": "    const uchar* qanglePtr = qangle.ptr(pt.y) + pt.x*2;",
          "content_same": false
        },
        {
          "line": 920,
          "old_api": null,
          "new_api": "_mm_set1_ps",
          "old_text": null,
          "new_text": "_mm_set1_ps(a[1])",
          "old_line_content": "        const float* const a = gradPtr + pk.gradOfs;",
          "new_line_content": "        __m128 _a0 = _mm_set1_ps(a[0]), _a1 = _mm_set1_ps(a[1]);",
          "content_same": false
        },
        {
          "line": 921,
          "old_api": null,
          "new_api": "_mm_loadu_ps",
          "old_text": null,
          "new_text": "_mm_loadu_ps(pk.histWeights)",
          "old_line_content": "        const uchar* const h = qanglePtr + pk.qangleOfs;",
          "new_line_content": "        __m128 _w = _mm_mul_ps(_mm_set1_ps(pk.gradWeight), _mm_loadu_ps(pk.histWeights));",
          "content_same": false
        },
        {
          "line": 922,
          "old_api": null,
          "new_api": "_mm_mul_ps",
          "old_text": null,
          "new_text": "_mm_mul_ps(_a1, _w)",
          "old_line_content": "        int h0 = h[0], h1 = h[1];",
          "new_line_content": "        __m128 _t0 = _mm_mul_ps(_a0, _w), _t1 = _mm_mul_ps(_a1, _w);",
          "content_same": false
        },
        {
          "line": 2979,
          "old_api": null,
          "new_api": "std::vector<float>(detector, detector + sizeof(detector)/sizeof(detector[0]))",
          "old_text": null,
          "new_text": "std::vector<float>(detector, detector + sizeof(detector)/sizeof(detector[0]))",
          "old_line_content": "        -0.05826827f, 0.06254654f, 0.02895772f, -0.01664000f, -0.03620280f,",
          "new_line_content": "    return std::vector<float>(detector, detector + sizeof(detector)/sizeof(detector[0]));",
          "content_same": false
        },
        {
          "line": 946,
          "old_api": null,
          "new_api": "vdupq_n_f32",
          "old_text": null,
          "new_text": "vdupq_n_f32(a[1])",
          "old_line_content": "        const float* const a = gradPtr + pk.gradOfs;",
          "new_line_content": "        float32x4_t _a0 = vdupq_n_f32(a[0]), _a1 = vdupq_n_f32(a[1]);",
          "content_same": false
        },
        {
          "line": 947,
          "old_api": null,
          "new_api": "vld1q_f32",
          "old_text": null,
          "new_text": "vld1q_f32(pk.histWeights)",
          "old_line_content": "        const uchar* const h = qanglePtr + pk.qangleOfs;",
          "new_line_content": "        float32x4_t _w = vmulq_f32(vdupq_n_f32(pk.gradWeight), vld1q_f32(pk.histWeights));",
          "content_same": false
        },
        {
          "line": 949,
          "old_api": null,
          "new_api": "vsetq_f32",
          "old_text": null,
          "new_text": "vsetq_f32((blockHist + pk.histOfs[0])[h0], (blockHist + pk.histOfs[1])[h0], 0,  0)",
          "old_line_content": "",
          "new_line_content": "        float32x4_t _h0 = vsetq_f32((blockHist + pk.histOfs[0])[h0], (blockHist + pk.histOfs[1])[h0], 0,  0);",
          "content_same": false
        },
        {
          "line": 952,
          "old_api": null,
          "new_api": "vmlaq_f32",
          "old_text": null,
          "new_text": "vmlaq_f32(_h1, _a1, _w)",
          "old_line_content": "",
          "new_line_content": "        float32x4_t _t0 = vmlaq_f32(_h0, _a0, _w), _t1 = vmlaq_f32(_h1, _a1, _w);",
          "content_same": false
        },
        {
          "line": 993,
          "old_api": null,
          "new_api": "_mm_set1_ps",
          "old_text": null,
          "new_text": "_mm_set1_ps(a[1])",
          "old_line_content": "        const float* const a = gradPtr + pk.gradOfs;",
          "new_line_content": "        __m128 _a0 = _mm_set1_ps(a[0]), _a1 = _mm_set1_ps(a[1]);",
          "content_same": false
        },
        {
          "line": 994,
          "old_api": null,
          "new_api": "_mm_loadu_ps",
          "old_text": null,
          "new_text": "_mm_loadu_ps(pk.histWeights)",
          "old_line_content": "        const uchar* const h = qanglePtr + pk.qangleOfs;",
          "new_line_content": "        __m128 _w = _mm_mul_ps(_mm_set1_ps(pk.gradWeight), _mm_loadu_ps(pk.histWeights));",
          "content_same": false
        },
        {
          "line": 995,
          "old_api": null,
          "new_api": "_mm_mul_ps",
          "old_text": null,
          "new_text": "_mm_mul_ps(_a1, _w)",
          "old_line_content": "        int h0 = h[0], h1 = h[1];",
          "new_line_content": "        __m128 _t0 = _mm_mul_ps(_a0, _w), _t1 = _mm_mul_ps(_a1, _w);",
          "content_same": false
        },
        {
          "line": 1049,
          "old_api": null,
          "new_api": "vdupq_n_f32",
          "old_text": null,
          "new_text": "vdupq_n_f32(a[1])",
          "old_line_content": "        const float* const a = gradPtr + pk.gradOfs;",
          "new_line_content": "        float32x4_t _a0 = vdupq_n_f32(a[0]), _a1 = vdupq_n_f32(a[1]);",
          "content_same": false
        },
        {
          "line": 1050,
          "old_api": null,
          "new_api": "vld1q_f32",
          "old_text": null,
          "new_text": "vld1q_f32(pk.histWeights)",
          "old_line_content": "        const uchar* const h = qanglePtr + pk.qangleOfs;",
          "new_line_content": "        float32x4_t _w = vmulq_f32(vdupq_n_f32(pk.gradWeight), vld1q_f32(pk.histWeights));",
          "content_same": false
        },
        {
          "line": 1052,
          "old_api": null,
          "new_api": "vsetq_f32",
          "old_text": null,
          "new_text": "vsetq_f32((blockHist + pk.histOfs[0])[h0],\n                                    (blockHist + pk.histOfs[1])[h0],\n                                    (blockHist + pk.histOfs[2])[h0],\n                                    (blockHist + pk.histOfs[3])[h0])",
          "old_line_content": "",
          "new_line_content": "        float32x4_t _h0 = vsetq_f32((blockHist + pk.histOfs[0])[h0],",
          "content_same": false
        },
        {
          "line": 1062,
          "old_api": null,
          "new_api": "vmlaq_f32",
          "old_text": null,
          "new_text": "vmlaq_f32(_h1, _a1, _w)",
          "old_line_content": "                                    (blockHist + pk.histOfs[2])[h1],",
          "new_line_content": "        float32x4_t _t0 = vmlaq_f32(_h0, _a0, _w), _t1 = vmlaq_f32(_h1, _a1, _w);",
          "content_same": false
        },
        {
          "line": 1063,
          "old_api": null,
          "new_api": "vst1q_f32",
          "old_text": null,
          "new_text": "vst1q_f32(hist0, _t0)",
          "old_line_content": "                                    (blockHist + pk.histOfs[3])[h1]);",
          "new_line_content": "        vst1q_f32(hist0, _t0);",
          "content_same": false
        },
        {
          "line": 1064,
          "old_api": null,
          "new_api": "vst1q_f32",
          "old_text": null,
          "new_text": "vst1q_f32(hist1, _t1)",
          "old_line_content": "",
          "new_line_content": "        vst1q_f32(hist1, _t1);",
          "content_same": false
        },
        {
          "line": 1111,
          "old_api": null,
          "new_api": "normalizeBlockHistogram",
          "old_text": null,
          "new_text": "normalizeBlockHistogram(blockHist)",
          "old_line_content": "        hist[h0] = t0; hist[h1] = t1;",
          "new_line_content": "    normalizeBlockHistogram(blockHist);",
          "content_same": false
        },
        {
          "line": 1122,
          "old_api": null,
          "new_api": "_mm_loadu_ps",
          "old_text": null,
          "new_text": "_mm_loadu_ps(hist)",
          "old_line_content": "    float* hist = &_hist[0], sum = 0.0f, partSum[4];",
          "new_line_content": "    __m128 p0 = _mm_loadu_ps(hist);",
          "content_same": false
        },
        {
          "line": 1123,
          "old_api": null,
          "new_api": "_mm_mul_ps",
          "old_text": null,
          "new_text": "_mm_mul_ps(p0, p0)",
          "old_line_content": "    size_t i = 0, sz = blockHistogramSize;",
          "new_line_content": "    __m128 s = _mm_mul_ps(p0, p0);",
          "content_same": false
        },
        {
          "line": 1128,
          "old_api": null,
          "new_api": "_mm_mul_ps",
          "old_text": null,
          "new_text": "_mm_mul_ps(p0, p0)",
          "old_line_content": "",
          "new_line_content": "        s = _mm_add_ps(s, _mm_mul_ps(p0, p0));",
          "content_same": false
        },
        {
          "line": 1130,
          "old_api": null,
          "new_api": "_mm_storeu_ps",
          "old_text": null,
          "new_text": "_mm_storeu_ps(partSum, s)",
          "old_line_content": "    {",
          "new_line_content": "    _mm_storeu_ps(partSum, s);",
          "content_same": false
        },
        {
          "line": 1133,
          "old_api": null,
          "new_api": "vmulq_f32",
          "old_text": null,
          "new_text": "vmulq_f32(p0, p0)",
          "old_line_content": "    }",
          "new_line_content": "    float32x4_t s = vmulq_f32(p0, p0);",
          "content_same": false
        },
        {
          "line": 1138,
          "old_api": null,
          "new_api": "vmulq_f32",
          "old_text": null,
          "new_text": "vmulq_f32(p0, p0)",
          "old_line_content": "",
          "new_line_content": "        s = vaddq_f32(s, vmulq_f32(p0, p0));",
          "content_same": false
        },
        {
          "line": 1140,
          "old_api": null,
          "new_api": "vst1q_f32",
          "old_text": null,
          "new_text": "vst1q_f32(partSum, s)",
          "old_line_content": "    {",
          "new_line_content": "    vst1q_f32(partSum, s);",
          "content_same": false
        },
        {
          "line": 1160,
          "old_api": null,
          "new_api": "std::sqrt(sum)",
          "old_text": null,
          "new_text": "std::sqrt(sum)",
          "old_line_content": "    sum = t0 + t1;",
          "new_line_content": "    float scale = 1.f/(std::sqrt(sum)+sz*0.1f), thresh = (float)descriptor->L2HysThreshold;",
          "content_same": false
        },
        {
          "line": 1165,
          "old_api": null,
          "new_api": "_mm_set1_ps",
          "old_text": null,
          "new_text": "_mm_set1_ps(thresh)",
          "old_line_content": "    i = 0, sum = 0.0f;",
          "new_line_content": "    static __m128 _threshold = _mm_set1_ps(thresh);",
          "content_same": false
        },
        {
          "line": 1167,
          "old_api": null,
          "new_api": "_mm_loadu_ps",
          "old_text": null,
          "new_text": "_mm_loadu_ps(hist)",
          "old_line_content": "#if CV_SSE2",
          "new_line_content": "    __m128 p = _mm_mul_ps(_scale, _mm_loadu_ps(hist));",
          "content_same": false
        },
        {
          "line": 1170,
          "old_api": null,
          "new_api": "_mm_storeu_ps",
          "old_text": null,
          "new_text": "_mm_storeu_ps(hist, p)",
          "old_line_content": "",
          "new_line_content": "    _mm_storeu_ps(hist, p);",
          "content_same": false
        },
        {
          "line": 1175,
          "old_api": null,
          "new_api": "_mm_mul_ps",
          "old_text": null,
          "new_text": "_mm_mul_ps(p, _scale)",
          "old_line_content": "",
          "new_line_content": "        p = _mm_mul_ps(p, _scale);",
          "content_same": false
        },
        {
          "line": 1176,
          "old_api": null,
          "new_api": "_mm_min_ps",
          "old_text": null,
          "new_text": "_mm_min_ps(p, _threshold)",
          "old_line_content": "    for(i = 4 ; i <= sz - 4; i += 4)",
          "new_line_content": "        p = _mm_min_ps(p, _threshold);",
          "content_same": false
        },
        {
          "line": 1177,
          "old_api": null,
          "new_api": "_mm_mul_ps",
          "old_text": null,
          "new_text": "_mm_mul_ps(p, p)",
          "old_line_content": "    {",
          "new_line_content": "        s = _mm_add_ps(s, _mm_mul_ps(p, p));",
          "content_same": false
        },
        {
          "line": 1183,
          "old_api": null,
          "new_api": "vdupq_n_f32",
          "old_text": null,
          "new_text": "vdupq_n_f32(scale)",
          "old_line_content": "    }",
          "new_line_content": "    float32x4_t _scale = vdupq_n_f32(scale);",
          "content_same": false
        },
        {
          "line": 1184,
          "old_api": null,
          "new_api": "vdupq_n_f32",
          "old_text": null,
          "new_text": "vdupq_n_f32(thresh)",
          "old_line_content": "",
          "new_line_content": "    static float32x4_t _threshold = vdupq_n_f32(thresh);",
          "content_same": false
        },
        {
          "line": 1186,
          "old_api": null,
          "new_api": "vld1q_f32",
          "old_text": null,
          "new_text": "vld1q_f32(hist)",
          "old_line_content": "#elif CV_NEON",
          "new_line_content": "    float32x4_t p = vmulq_f32(_scale, vld1q_f32(hist));",
          "content_same": false
        },
        {
          "line": 1189,
          "old_api": null,
          "new_api": "vst1q_f32",
          "old_text": null,
          "new_text": "vst1q_f32(hist, p)",
          "old_line_content": "",
          "new_line_content": "    vst1q_f32(hist, p);",
          "content_same": false
        },
        {
          "line": 1194,
          "old_api": null,
          "new_api": "vmulq_f32",
          "old_text": null,
          "new_text": "vmulq_f32(p, _scale)",
          "old_line_content": "",
          "new_line_content": "        p = vmulq_f32(p, _scale);",
          "content_same": false
        },
        {
          "line": 1195,
          "old_api": null,
          "new_api": "vminq_f32",
          "old_text": null,
          "new_text": "vminq_f32(p, _threshold)",
          "old_line_content": "    for(i = 4 ; i <= sz - 4; i += 4)",
          "new_line_content": "        p = vminq_f32(p, _threshold);",
          "content_same": false
        },
        {
          "line": 1196,
          "old_api": null,
          "new_api": "vmulq_f32",
          "old_text": null,
          "new_text": "vmulq_f32(p, p)",
          "old_line_content": "    {",
          "new_line_content": "        s = vaddq_f32(s, vmulq_f32(p, p));",
          "content_same": false
        },
        {
          "line": 1208,
          "old_api": null,
          "new_api": "std::min(hist[i]*scale, thresh)",
          "old_text": null,
          "new_text": "std::min(hist[i]*scale, thresh)",
          "old_line_content": "    partSum[2] = 0.0f;",
          "new_line_content": "        hist[i] = std::min(hist[i]*scale, thresh);",
          "content_same": false
        },
        {
          "line": 1209,
          "old_api": null,
          "new_api": "std::min(hist[i+1]*scale, thresh)",
          "old_text": null,
          "new_text": "std::min(hist[i+1]*scale, thresh)",
          "old_line_content": "    partSum[3] = 0.0f;",
          "new_line_content": "        hist[i+1] = std::min(hist[i+1]*scale, thresh);",
          "content_same": false
        },
        {
          "line": 1210,
          "old_api": null,
          "new_api": "std::min(hist[i+2]*scale, thresh)",
          "old_text": null,
          "new_text": "std::min(hist[i+2]*scale, thresh)",
          "old_line_content": "    for( ; i <= sz - 4; i += 4)",
          "new_line_content": "        hist[i+2] = std::min(hist[i+2]*scale, thresh);",
          "content_same": false
        },
        {
          "line": 1211,
          "old_api": null,
          "new_api": "std::min(hist[i+3]*scale, thresh)",
          "old_text": null,
          "new_text": "std::min(hist[i+3]*scale, thresh)",
          "old_line_content": "    {",
          "new_line_content": "        hist[i+3] = std::min(hist[i+3]*scale, thresh);",
          "content_same": false
        },
        {
          "line": 1223,
          "old_api": null,
          "new_api": "std::min(hist[i]*scale, thresh)",
          "old_text": null,
          "new_text": "std::min(hist[i]*scale, thresh)",
          "old_line_content": "    t1 = partSum[2] + partSum[3];",
          "new_line_content": "        hist[i] = std::min(hist[i]*scale, thresh);",
          "content_same": false
        },
        {
          "line": 1229,
          "old_api": null,
          "new_api": "_mm_set1_ps",
          "old_text": null,
          "new_text": "_mm_set1_ps(scale)",
          "old_line_content": "    }",
          "new_line_content": "    __m128 _scale2 = _mm_set1_ps(scale);",
          "content_same": false
        },
        {
          "line": 1232,
          "old_api": null,
          "new_api": "_mm_loadu_ps",
          "old_text": null,
          "new_text": "_mm_loadu_ps(hist + i)",
          "old_line_content": "#if CV_SSE2",
          "new_line_content": "        __m128 t = _mm_mul_ps(_scale2, _mm_loadu_ps(hist + i));",
          "content_same": false
        },
        {
          "line": 1239,
          "old_api": null,
          "new_api": "vld1q_f32",
          "old_text": null,
          "new_text": "vld1q_f32(hist + i)",
          "old_line_content": "#elif CV_NEON",
          "new_line_content": "        float32x4_t t = vmulq_f32(_scale2, vld1q_f32(hist + i));",
          "content_same": false
        },
        {
          "line": 1249,
          "old_api": null,
          "new_api": "Size",
          "old_text": null,
          "new_text": "Size((imageSize.width - winSize.width)/winStride.width + 1,\n        (imageSize.height - winSize.height)/winStride.height + 1)",
          "old_line_content": "}",
          "new_line_content": "    return Size((imageSize.width - winSize.width)/winStride.width + 1,",
          "content_same": false
        },
        {
          "line": 1258,
          "old_api": null,
          "new_api": "Rect",
          "old_text": null,
          "new_text": "Rect( x*winStride.width, y*winStride.height, winSize.width, winSize.height )",
          "old_line_content": "{",
          "new_line_content": "    return Rect( x*winStride.width, y*winStride.height, winSize.width, winSize.height );",
          "content_same": false
        },
        {
          "line": 1264,
          "old_api": null,
          "new_api": "std::swap(a, b)",
          "old_text": null,
          "new_text": "std::swap(a, b)",
          "old_line_content": "",
          "new_line_content": "        std::swap(a, b);",
          "content_same": false
        },
        {
          "line": 1280,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "k.empty()",
          "old_line_content": "static bool ocl_compute_gradients_8UC1(int height, int width, InputArray _img, float angle_scale,",
          "new_line_content": "    if(k.empty())",
          "content_same": false
        },
        {
          "line": 1283,
          "old_api": null,
          "new_api": "getUMat",
          "old_text": null,
          "new_text": "_img.getUMat()",
          "old_line_content": "    ocl::Kernel k(\"compute_gradients_8UC1_kernel\", ocl::objdetect::objdetect_hog_oclsrc);",
          "new_line_content": "    UMat img = _img.getUMat();",
          "content_same": false
        },
        {
          "line": 1289,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "qangle.type()",
          "old_line_content": "    size_t localThreads[3] = { NTHREADS, 1, 1 };",
          "new_line_content": "    int qangle_elem_size = CV_ELEM_SIZE1(qangle.type());",
          "content_same": false
        },
        {
          "line": 1294,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "k.set(idx, width)",
          "old_line_content": "    int qangle_step = (int)qangle.step / (2 * qangle_elem_size);",
          "new_line_content": "    idx = k.set(idx, width);",
          "content_same": false
        },
        {
          "line": 1295,
          "old_api": null,
          "new_api": "step1",
          "old_text": null,
          "new_text": "img.step1()",
          "old_line_content": "",
          "new_line_content": "    idx = k.set(idx, (int)img.step1());",
          "content_same": false
        },
        {
          "line": 1296,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "k.set(idx, grad_quadstep)",
          "old_line_content": "    int idx = 0;",
          "new_line_content": "    idx = k.set(idx, grad_quadstep);",
          "content_same": false
        },
        {
          "line": 1312,
          "old_api": null,
          "new_api": "ocl_compute_gradients_8UC1",
          "old_text": null,
          "new_text": "ocl_compute_gradients_8UC1(effect_size.height, effect_size.width, img,\n         angleScale, grad, qangle, gamma_correction, nbins)",
          "old_line_content": "static bool ocl_computeGradient(InputArray img, UMat grad, UMat qangle, int nbins, Size effect_size, bool gamma_correction, bool signedGradient)",
          "new_line_content": "    return ocl_compute_gradients_8UC1(effect_size.height, effect_size.width, img,",
          "content_same": false
        },
        {
          "line": 1325,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "k.empty()",
          "old_line_content": "static bool ocl_compute_hists(int nbins, int block_stride_x, int block_stride_y, int height, int width,",
          "new_line_content": "    if(k.empty())",
          "content_same": false
        },
        {
          "line": 1327,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "cv::ocl::Device::getDefault().type()",
          "old_line_content": "{",
          "new_line_content": "    bool is_cpu = cv::ocl::Device::getDefault().type() == cv::ocl::Device::TYPE_CPU;",
          "content_same": false
        },
        {
          "line": 1332,
          "old_api": null,
          "new_api": "preferedWorkGroupSizeMultiple",
          "old_text": null,
          "new_text": "k.preferedWorkGroupSizeMultiple()",
          "old_line_content": "    cv::String opts;",
          "new_line_content": "        opts = cv::format(\"-D WAVE_SIZE=%d\", k.preferedWorkGroupSizeMultiple());",
          "content_same": false
        },
        {
          "line": 1333,
          "old_api": null,
          "new_api": "create",
          "old_text": null,
          "new_text": "k.create(\"compute_hists_lut_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts)",
          "old_line_content": "    if(is_cpu)",
          "new_line_content": "    k.create(\"compute_hists_lut_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts);",
          "content_same": false
        },
        {
          "line": 1334,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "k.empty()",
          "old_line_content": "       opts = \"-D CPU \";",
          "new_line_content": "    if(k.empty())",
          "content_same": false
        },
        {
          "line": 1341,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "qangle.type()",
          "old_line_content": "    int img_block_width = (width - CELLS_PER_BLOCK_X * CELL_WIDTH + block_stride_x)/block_stride_x;",
          "new_line_content": "    int qangle_elem_size = CV_ELEM_SIZE1(qangle.type());",
          "content_same": false
        },
        {
          "line": 1355,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "k.set(idx, block_stride_x)",
          "old_line_content": "",
          "new_line_content": "    idx = k.set(idx, block_stride_x);",
          "content_same": false
        },
        {
          "line": 1356,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "k.set(idx, block_stride_y)",
          "old_line_content": "    int smem = (hists_size + final_hists_size) * blocks_in_group;",
          "new_line_content": "    idx = k.set(idx, block_stride_y);",
          "content_same": false
        },
        {
          "line": 1357,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "k.set(idx, nbins)",
          "old_line_content": "",
          "new_line_content": "    idx = k.set(idx, nbins);",
          "content_same": false
        },
        {
          "line": 1358,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "k.set(idx, (int)block_hist_size)",
          "old_line_content": "    int idx = 0;",
          "new_line_content": "    idx = k.set(idx, (int)block_hist_size);",
          "content_same": false
        },
        {
          "line": 1394,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "cv::ocl::Device::getDefault().type()",
          "old_line_content": "    size_t globalThreads[3] = { 1, 1, 1  };",
          "new_line_content": "    bool is_cpu = cv::ocl::Device::getDefault().type() == cv::ocl::Device::TYPE_CPU;",
          "content_same": false
        },
        {
          "line": 1399,
          "old_api": null,
          "new_api": "create",
          "old_text": null,
          "new_text": "k.create(\"normalize_hists_36_kernel\", ocl::objdetect::objdetect_hog_oclsrc, \"\")",
          "old_line_content": "    cv::String opts;",
          "new_line_content": "        k.create(\"normalize_hists_36_kernel\", ocl::objdetect::objdetect_hog_oclsrc, \"\");",
          "content_same": false
        },
        {
          "line": 1400,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "k.empty()",
          "old_line_content": "    ocl::Kernel k;",
          "new_line_content": "        if(k.empty())",
          "content_same": false
        },
        {
          "line": 1405,
          "old_api": null,
          "new_api": "preferedWorkGroupSizeMultiple",
          "old_text": null,
          "new_text": "k.preferedWorkGroupSizeMultiple()",
          "old_line_content": "            return false;",
          "new_line_content": "            opts = cv::format(\"-D WAVE_SIZE=%d\", k.preferedWorkGroupSizeMultiple());",
          "content_same": false
        },
        {
          "line": 1406,
          "old_api": null,
          "new_api": "create",
          "old_text": null,
          "new_text": "k.create(\"normalize_hists_36_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts)",
          "old_line_content": "        if(is_cpu)",
          "new_line_content": "        k.create(\"normalize_hists_36_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts);",
          "content_same": false
        },
        {
          "line": 1407,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "k.empty()",
          "old_line_content": "           opts = \"-D CPU \";",
          "new_line_content": "        if(k.empty())",
          "content_same": false
        },
        {
          "line": 1418,
          "old_api": null,
          "new_api": "create",
          "old_text": null,
          "new_text": "k.create(\"normalize_hists_kernel\", ocl::objdetect::objdetect_hog_oclsrc, \"-D WAVE_SIZE=32\")",
          "old_line_content": "        localThreads[0] = nthreads;",
          "new_line_content": "        k.create(\"normalize_hists_kernel\", ocl::objdetect::objdetect_hog_oclsrc, \"-D WAVE_SIZE=32\");",
          "content_same": false
        },
        {
          "line": 1419,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "k.empty()",
          "old_line_content": "    }",
          "new_line_content": "        if(k.empty())",
          "content_same": false
        },
        {
          "line": 1424,
          "old_api": null,
          "new_api": "preferedWorkGroupSizeMultiple",
          "old_text": null,
          "new_text": "k.preferedWorkGroupSizeMultiple()",
          "old_line_content": "            return false;",
          "new_line_content": "            opts = cv::format(\"-D WAVE_SIZE=%d\", k.preferedWorkGroupSizeMultiple());",
          "content_same": false
        },
        {
          "line": 1425,
          "old_api": null,
          "new_api": "create",
          "old_text": null,
          "new_text": "k.create(\"normalize_hists_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts)",
          "old_line_content": "        if(is_cpu)",
          "new_line_content": "        k.create(\"normalize_hists_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts);",
          "content_same": false
        },
        {
          "line": 1426,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "k.empty()",
          "old_line_content": "           opts = \"-D CPU \";",
          "new_line_content": "        if(k.empty())",
          "content_same": false
        },
        {
          "line": 3483,
          "old_api": null,
          "new_api": "std::vector<float>(detector, detector + sizeof(detector)/sizeof(detector[0]))",
          "old_text": null,
          "new_text": "std::vector<float>(detector, detector + sizeof(detector)/sizeof(detector[0]))",
          "old_line_content": "        -0.119002f, 0.026722f, 0.034853f, -0.060934f,",
          "new_line_content": "    return std::vector<float>(detector, detector + sizeof(detector)/sizeof(detector[0]));",
          "content_same": false
        },
        {
          "line": 1437,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "k.set(idx, nthreads)",
          "old_line_content": "",
          "new_line_content": "        idx = k.set(idx, nthreads);",
          "content_same": false
        },
        {
          "line": 1438,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "k.set(idx, block_hist_size)",
          "old_line_content": "        if ((nthreads < 32) || (nthreads > 512) )",
          "new_line_content": "        idx = k.set(idx, block_hist_size);",
          "content_same": false
        },
        {
          "line": 1439,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "k.set(idx, img_block_width)",
          "old_line_content": "            return false;",
          "new_line_content": "        idx = k.set(idx, img_block_width);",
          "content_same": false
        },
        {
          "line": 1453,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "k.empty()",
          "old_line_content": "                                       int height, int width, UMat block_hists, UMat descriptors,",
          "new_line_content": "    if(k.empty())",
          "content_same": false
        },
        {
          "line": 3506,
          "old_api": null,
          "new_api": "CV_INSTRUMENT_REGION",
          "old_text": null,
          "new_text": "CV_INSTRUMENT_REGION()",
          "old_line_content": "    }",
          "new_line_content": "        CV_INSTRUMENT_REGION()",
          "content_same": false
        },
        {
          "line": 3511,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "img.type()",
          "old_line_content": "",
          "new_line_content": "        Mat smallerImgBuf(maxSz, img.type());",
          "content_same": false
        },
        {
          "line": 1469,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "k.set(idx, block_hist_size)",
          "old_line_content": "    size_t globalThreads[3] = { (size_t)img_win_width * NTHREADS, (size_t)img_win_height, 1 };",
          "new_line_content": "    idx = k.set(idx, block_hist_size);",
          "content_same": false
        },
        {
          "line": 1470,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "k.set(idx, descriptors_quadstep)",
          "old_line_content": "    size_t localThreads[3] = { NTHREADS, 1, 1 };",
          "new_line_content": "    idx = k.set(idx, descriptors_quadstep);",
          "content_same": false
        },
        {
          "line": 1471,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "k.set(idx, descr_size)",
          "old_line_content": "",
          "new_line_content": "    idx = k.set(idx, descr_size);",
          "content_same": false
        },
        {
          "line": 1472,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "k.set(idx, descr_width)",
          "old_line_content": "    int idx = 0;",
          "new_line_content": "    idx = k.set(idx, descr_width);",
          "content_same": false
        },
        {
          "line": 3518,
          "old_api": null,
          "new_api": "cvRound",
          "old_text": null,
          "new_text": "cvRound(img.rows / scale)",
          "old_line_content": "        for( i = i1; i < i2; i++ )",
          "new_line_content": "            Size sz(cvRound(img.cols / scale), cvRound(img.rows / scale));",
          "content_same": false
        },
        {
          "line": 3519,
          "old_api": null,
          "new_api": "ptr",
          "old_text": null,
          "new_text": "smallerImgBuf.ptr()",
          "old_line_content": "        {",
          "new_line_content": "            Mat smallerImg(sz, img.type(), smallerImgBuf.ptr());",
          "content_same": false
        },
        {
          "line": 3521,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "img.size()",
          "old_line_content": "",
          "new_line_content": "            if( sz == img.size() )",
          "content_same": false
        },
        {
          "line": 3524,
          "old_api": null,
          "new_api": "resize",
          "old_text": null,
          "new_text": "resize(img, smallerImg, sz, 0, 0, INTER_LINEAR_EXACT)",
          "old_line_content": "",
          "new_line_content": "                resize(img, smallerImg, sz, 0, 0, INTER_LINEAR_EXACT);",
          "content_same": false
        },
        {
          "line": 3527,
          "old_api": null,
          "new_api": "cvRound",
          "old_text": null,
          "new_text": "cvRound(hog->winSize.height*scale)",
          "old_line_content": "            else",
          "new_line_content": "            Size scaledWinSize = Size(cvRound(hog->winSize.width*scale), cvRound(hog->winSize.height*scale));",
          "content_same": false
        },
        {
          "line": 3529,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "dets.size()",
          "old_line_content": "",
          "new_line_content": "            for( size_t j = 0; j < dets.size(); j++ )",
          "content_same": false
        },
        {
          "line": 1487,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "k.empty()",
          "old_line_content": "                                       int height, int width, UMat block_hists, UMat descriptors,",
          "new_line_content": "    if(k.empty())",
          "content_same": false
        },
        {
          "line": 3550,
          "old_api": null,
          "new_api": "CV_INSTRUMENT_REGION",
          "old_text": null,
          "new_text": "CV_INSTRUMENT_REGION()",
          "old_line_content": "void HOGDescriptor::detectROI(const cv::Mat& img, const std::vector<cv::Point> &locations,",
          "new_line_content": "    CV_INSTRUMENT_REGION()",
          "content_same": false
        },
        {
          "line": 1503,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "k.set(idx, block_hist_size)",
          "old_line_content": "    size_t globalThreads[3] = { (size_t)img_win_width * NTHREADS, (size_t)img_win_height, 1 };",
          "new_line_content": "    idx = k.set(idx, block_hist_size);",
          "content_same": false
        },
        {
          "line": 3552,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "foundLocations.clear()",
          "old_line_content": "    double hitThreshold, cv::Size winStride, cv::Size padding) const",
          "new_line_content": "    foundLocations.clear();",
          "content_same": false
        },
        {
          "line": 1504,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "k.set(idx, descriptors_quadstep)",
          "old_line_content": "    size_t localThreads[3] = { NTHREADS, 1, 1 };",
          "new_line_content": "    idx = k.set(idx, descriptors_quadstep);",
          "content_same": false
        },
        {
          "line": 3553,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "confidences.clear()",
          "old_line_content": "{",
          "new_line_content": "    confidences.clear();",
          "content_same": false
        },
        {
          "line": 1505,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "k.set(idx, descr_size)",
          "old_line_content": "",
          "new_line_content": "    idx = k.set(idx, descr_size);",
          "content_same": false
        },
        {
          "line": 1506,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "k.set(idx, nblocks_win_x)",
          "old_line_content": "    int idx = 0;",
          "new_line_content": "    idx = k.set(idx, nblocks_win_x);",
          "content_same": false
        },
        {
          "line": 3555,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "locations.empty()",
          "old_line_content": "",
          "new_line_content": "    if( svmDetector.empty() || locations.empty())",
          "content_same": false
        },
        {
          "line": 3558,
          "old_api": null,
          "new_api": "Size",
          "old_text": null,
          "new_text": "Size()",
          "old_line_content": "",
          "new_line_content": "    if( winStride == Size() )",
          "content_same": false
        },
        {
          "line": 3560,
          "old_api": null,
          "new_api": "gcd",
          "old_text": null,
          "new_text": "gcd(winStride.width, blockStride.width)",
          "old_line_content": "        return;",
          "new_line_content": "    Size cacheStride(gcd(winStride.width, blockStride.width),",
          "content_same": false
        },
        {
          "line": 3561,
          "old_api": null,
          "new_api": "gcd",
          "old_text": null,
          "new_text": "gcd(winStride.height, blockStride.height)",
          "old_line_content": "",
          "new_line_content": "                     gcd(winStride.height, blockStride.height));",
          "content_same": false
        },
        {
          "line": 3563,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "locations.size()",
          "old_line_content": "        winStride = cellSize;",
          "new_line_content": "    size_t nwindows = locations.size();",
          "content_same": false
        },
        {
          "line": 1520,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "_img.size()",
          "old_line_content": "",
          "new_line_content": "    Size imgSize = _img.size();",
          "content_same": false
        },
        {
          "line": 3571,
          "old_api": null,
          "new_api": "windowsInImage",
          "old_text": null,
          "new_text": "cache.windowsInImage(paddedImgSize, winStride).area()",
          "old_line_content": "",
          "new_line_content": "        nwindows = cache.windowsInImage(paddedImgSize, winStride).area();",
          "content_same": false
        },
        {
          "line": 1527,
          "old_api": null,
          "new_api": "getBlockHistogramSize",
          "old_text": null,
          "new_text": "getBlockHistogramSize(blockSize, cellSize, nbins)",
          "old_line_content": "    UMat grad(imgSize, CV_32FC2);",
          "new_line_content": "    const size_t block_hist_size = getBlockHistogramSize(blockSize, cellSize, nbins);",
          "content_same": false
        },
        {
          "line": 3577,
          "old_api": null,
          "new_api": "getDescriptorSize",
          "old_text": null,
          "new_text": "getDescriptorSize()",
          "old_line_content": "    const HOGCache::BlockData* blockData = &cache.blockData[0];",
          "new_line_content": "    size_t dsize = getDescriptorSize();",
          "content_same": false
        },
        {
          "line": 1529,
          "old_api": null,
          "new_api": "area",
          "old_text": null,
          "new_text": "blocks_per_img.area()",
          "old_line_content": "    UMat qangle(imgSize, qangle_type);",
          "new_line_content": "    UMat block_hists(1, static_cast<int>(block_hist_size * blocks_per_img.area()) + 256, CV_32F);",
          "content_same": false
        },
        {
          "line": 1539,
          "old_api": null,
          "new_api": "std::exp(-(j * j + i * i) * scale)",
          "old_text": null,
          "new_text": "std::exp(-(j * j + i * i) * scale)",
          "old_line_content": "    Mat gaussian_lut(1, 512, CV_32FC1);",
          "new_line_content": "            gaussian_lut.at<float>(idx++) = std::exp(-(j * j + i * i) * scale);",
          "content_same": false
        },
        {
          "line": 1542,
          "old_api": null,
          "new_api": "fabs",
          "old_text": null,
          "new_text": "fabs(i + 0.5f)",
          "old_line_content": "        for(int j=-8; j<8; j++)",
          "new_line_content": "            gaussian_lut.at<float>(idx++) = (8.f - fabs(j + 0.5f)) * (8.f - fabs(i + 0.5f)) / 64.f;",
          "content_same": false
        },
        {
          "line": 1544,
          "old_api": null,
          "new_api": "ocl_computeGradient",
          "old_text": null,
          "new_text": "ocl_computeGradient(_img, grad, qangle, nbins, effect_size, gammaCorrection, signedGradient)",
          "old_line_content": "    for(int i=-8; i<8; i++)",
          "new_line_content": "    if(!ocl_computeGradient(_img, grad, qangle, nbins, effect_size, gammaCorrection, signedGradient))",
          "content_same": false
        },
        {
          "line": 3594,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "confidences.push_back(-10.0)",
          "old_line_content": "        if( pt0.x < -padding.width || pt0.x > img.cols + padding.width - winSize.width ||",
          "new_line_content": "            confidences.push_back(-10.0);",
          "content_same": false
        },
        {
          "line": 1549,
          "old_api": null,
          "new_api": "ocl_compute_hists",
          "old_text": null,
          "new_text": "ocl_compute_hists(nbins, blockStride.width, blockStride.height, effect_size.height,\n        effect_size.width, grad, qangle, gauss_w_lut, block_hists, block_hist_size)",
          "old_line_content": "        return false;",
          "new_line_content": "    if(!ocl_compute_hists(nbins, blockStride.width, blockStride.height, effect_size.height,",
          "content_same": false
        },
        {
          "line": 1558,
          "old_api": null,
          "new_api": "numPartsWithin",
          "old_text": null,
          "new_text": "numPartsWithin(effect_size, winSize, win_stride)",
          "old_line_content": "        effect_size.width, block_hists, (float)L2HysThreshold))",
          "new_line_content": "    wins_per_img = numPartsWithin(effect_size, winSize, win_stride);",
          "content_same": false
        },
        {
          "line": 1560,
          "old_api": null,
          "new_api": "area",
          "old_text": null,
          "new_text": "blocks_per_win.area()",
          "old_line_content": "",
          "new_line_content": "    int descr_size = blocks_per_win.area()*(int)block_hist_size;",
          "content_same": false
        },
        {
          "line": 3608,
          "old_api": null,
          "new_api": "getBlock",
          "old_text": null,
          "new_text": "cache.getBlock(pt, &blockHist[0])",
          "old_line_content": "            const HOGCache::BlockData& bj = blockData[j];",
          "new_line_content": "            const float* vec = cache.getBlock(pt, &blockHist[0]);",
          "content_same": false
        },
        {
          "line": 3610,
          "old_api": null,
          "new_api": "_mm_loadu_ps",
          "old_text": null,
          "new_text": "_mm_loadu_ps(vec)",
          "old_line_content": "",
          "new_line_content": "            __m128 _vec = _mm_loadu_ps(vec);",
          "content_same": false
        },
        {
          "line": 1563,
          "old_api": null,
          "new_api": "area",
          "old_text": null,
          "new_text": "blocks_per_win.area()",
          "old_line_content": "",
          "new_line_content": "    UMat descriptors(wins_per_img.area(), static_cast<int>(blocks_per_win.area() * block_hist_size), CV_32F);",
          "content_same": false
        },
        {
          "line": 3611,
          "old_api": null,
          "new_api": "_mm_loadu_ps",
          "old_text": null,
          "new_text": "_mm_loadu_ps(svmVec)",
          "old_line_content": "            // need to divide this into 4 parts!",
          "new_line_content": "            __m128 _svmVec = _mm_loadu_ps(svmVec);",
          "content_same": false
        },
        {
          "line": 3617,
          "old_api": null,
          "new_api": "_mm_loadu_ps",
          "old_text": null,
          "new_text": "_mm_loadu_ps(svmVec + k)",
          "old_line_content": "",
          "new_line_content": "                _svmVec = _mm_loadu_ps(svmVec + k);",
          "content_same": false
        },
        {
          "line": 3619,
          "old_api": null,
          "new_api": "_mm_mul_ps",
          "old_text": null,
          "new_text": "_mm_mul_ps(_vec, _svmVec)",
          "old_line_content": "            {",
          "new_line_content": "                sum = _mm_add_ps(sum, _mm_mul_ps(_vec, _svmVec));",
          "content_same": false
        },
        {
          "line": 1573,
          "old_api": null,
          "new_api": "ocl_extract_descrs_by_cols",
          "old_text": null,
          "new_text": "ocl_extract_descrs_by_cols(winSize.height, winSize.width,\n            blockStride.height, blockStride.width, win_stride.height, win_stride.width, effect_size.height, effect_size.width,\n            block_hists, descriptors, (int)block_hist_size, descr_size, blocks_per_win.width, blocks_per_win.height)",
          "old_line_content": "            effect_size.width, block_hists, descriptors, (int)block_hist_size, descr_size, descr_width))",
          "new_line_content": "        if(!ocl_extract_descrs_by_cols(winSize.height, winSize.width,",
          "content_same": false
        },
        {
          "line": 3622,
          "old_api": null,
          "new_api": "_mm_storeu_ps",
          "old_text": null,
          "new_text": "_mm_storeu_ps(partSum, sum)",
          "old_line_content": "",
          "new_line_content": "            _mm_storeu_ps(partSum, sum);",
          "content_same": false
        },
        {
          "line": 3627,
          "old_api": null,
          "new_api": "vld1q_f32",
          "old_text": null,
          "new_text": "vld1q_f32(vec)",
          "old_line_content": "            double t0 = partSum[0] + partSum[1];",
          "new_line_content": "            float32x4_t _vec = vld1q_f32(vec);",
          "content_same": false
        },
        {
          "line": 3628,
          "old_api": null,
          "new_api": "vld1q_f32",
          "old_text": null,
          "new_text": "vld1q_f32(svmVec)",
          "old_line_content": "            double t1 = partSum[2] + partSum[3];",
          "new_line_content": "            float32x4_t _svmVec = vld1q_f32(svmVec);",
          "content_same": false
        },
        {
          "line": 1581,
          "old_api": null,
          "new_api": "total",
          "old_text": null,
          "new_text": "descriptors.total()",
          "old_line_content": "        break;",
          "new_line_content": "    descriptors.reshape(1, (int)descriptors.total()).getMat(ACCESS_READ).copyTo(_descriptors);",
          "content_same": false
        },
        {
          "line": 3629,
          "old_api": null,
          "new_api": "vmulq_f32",
          "old_text": null,
          "new_text": "vmulq_f32(_svmVec, _vec)",
          "old_line_content": "            s += t0 + t1;",
          "new_line_content": "            float32x4_t sum = vmulq_f32(_svmVec, _vec);",
          "content_same": false
        },
        {
          "line": 3634,
          "old_api": null,
          "new_api": "vld1q_f32",
          "old_text": null,
          "new_text": "vld1q_f32(svmVec + k)",
          "old_line_content": "",
          "new_line_content": "                _svmVec = vld1q_f32(svmVec + k);",
          "content_same": false
        },
        {
          "line": 3636,
          "old_api": null,
          "new_api": "vmulq_f32",
          "old_text": null,
          "new_text": "vmulq_f32(_vec, _svmVec)",
          "old_line_content": "            {",
          "new_line_content": "                sum = vaddq_f32(sum, vmulq_f32(_vec, _svmVec));",
          "content_same": false
        },
        {
          "line": 1589,
          "old_api": null,
          "new_api": "CV_INSTRUMENT_REGION",
          "old_text": null,
          "new_text": "CV_INSTRUMENT_REGION()",
          "old_line_content": "",
          "new_line_content": "    CV_INSTRUMENT_REGION()",
          "content_same": false
        },
        {
          "line": 1591,
          "old_api": null,
          "new_api": "Size",
          "old_text": null,
          "new_text": "Size()",
          "old_line_content": "    Size winStride, Size padding, const std::vector<Point>& locations) const",
          "new_line_content": "    if( winStride == Size() )",
          "content_same": false
        },
        {
          "line": 3639,
          "old_api": null,
          "new_api": "vst1q_f32",
          "old_text": null,
          "new_text": "vst1q_f32(partSum, sum)",
          "old_line_content": "",
          "new_line_content": "            vst1q_f32(partSum, sum);",
          "content_same": false
        },
        {
          "line": 1594,
          "old_api": null,
          "new_api": "gcd",
          "old_text": null,
          "new_text": "gcd(winStride.height, blockStride.height)",
          "old_line_content": "",
          "new_line_content": "                     gcd(winStride.height, blockStride.height));",
          "content_same": false
        },
        {
          "line": 1596,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "_img.size()",
          "old_line_content": "        winStride = cellSize;",
          "new_line_content": "    Size imgSize = _img.size();",
          "content_same": false
        },
        {
          "line": 1599,
          "old_api": null,
          "new_api": "std::max(padding.width, 0)",
          "old_text": null,
          "new_text": "std::max(padding.width, 0)",
          "old_line_content": "",
          "new_line_content": "    padding.width = (int)alignSize(std::max(padding.width, 0), cacheStride.width);",
          "content_same": false
        },
        {
          "line": 3651,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "confidences.push_back(s)",
          "old_line_content": "#endif",
          "new_line_content": "        confidences.push_back(s);",
          "content_same": false
        },
        {
          "line": 1605,
          "old_api": null,
          "new_api": "getWinSigma",
          "old_text": null,
          "new_text": "getWinSigma()",
          "old_line_content": "    Size paddedImgSize(imgSize.width + padding.width*2, imgSize.height + padding.height*2);",
          "new_line_content": "        cellSize, nbins, blockStride, winSize, (float)getWinSigma(), gammaCorrection, L2HysThreshold, signedGradient))",
          "content_same": false
        },
        {
          "line": 3654,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "foundLocations.push_back(pt0)",
          "old_line_content": "        }",
          "new_line_content": "            foundLocations.push_back(pt0);",
          "content_same": false
        },
        {
          "line": 3662,
          "old_api": null,
          "new_api": "CV_INSTRUMENT_REGION",
          "old_text": null,
          "new_text": "CV_INSTRUMENT_REGION()",
          "old_line_content": "void HOGDescriptor::detectMultiScaleROI(const cv::Mat& img,",
          "new_line_content": "    CV_INSTRUMENT_REGION()",
          "content_same": false
        },
        {
          "line": 1617,
          "old_api": null,
          "new_api": "getDescriptorSize",
          "old_text": null,
          "new_text": "getDescriptorSize()",
          "old_line_content": "    const HOGCache::BlockData* blockData = &cache.blockData[0];",
          "new_line_content": "    size_t dsize = getDescriptorSize();",
          "content_same": false
        },
        {
          "line": 1618,
          "old_api": null,
          "new_api": "resize",
          "old_text": null,
          "new_text": "descriptors.resize(dsize*nwindows)",
          "old_line_content": "",
          "new_line_content": "    descriptors.resize(dsize*nwindows);",
          "content_same": false
        },
        {
          "line": 3667,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "locations.size()",
          "old_line_content": "",
          "new_line_content": "    parallel_for_(Range(0, (int)locations.size()),",
          "content_same": false
        },
        {
          "line": 3668,
          "old_api": null,
          "new_api": "Size",
          "old_text": null,
          "new_text": "Size(8, 8)",
          "old_line_content": "    std::vector<Rect> allCandidates;",
          "new_line_content": "                  HOGConfInvoker(this, img, hitThreshold, Size(8, 8),",
          "content_same": false
        },
        {
          "line": 3673,
          "old_api": null,
          "new_api": "cv::groupRectangles(foundLocations, groupThreshold, 0.2)",
          "old_text": null,
          "new_text": "cv::groupRectangles(foundLocations, groupThreshold, 0.2)",
          "old_line_content": "                                 &locations, &allCandidates, &mtx));",
          "new_line_content": "    cv::groupRectangles(foundLocations, groupThreshold, 0.2);",
          "content_same": false
        },
        {
          "line": 1626,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "locations.empty()",
          "old_line_content": "    {",
          "new_line_content": "        if( !locations.empty() )",
          "content_same": false
        },
        {
          "line": 3680,
          "old_api": null,
          "new_api": "c_str",
          "old_text": null,
          "new_text": "modelfile.c_str()",
          "old_line_content": "void HOGDescriptor::readALTModel(String modelfile)",
          "new_line_content": "    if ((modelfl = fopen(modelfile.c_str(), \"rb\")) == NULL)",
          "content_same": false
        },
        {
          "line": 1635,
          "old_api": null,
          "new_api": "Point",
          "old_text": null,
          "new_text": "Point(padding)",
          "old_line_content": "                continue;",
          "new_line_content": "            pt0 = cache.getWindow(paddedImgSize, winStride, (int)i).tl() - Point(padding);",
          "content_same": false
        },
        {
          "line": 3685,
          "old_api": null,
          "new_api": "Exception",
          "old_text": null,
          "new_text": "Exception(Error::StsError, eerr, efile, efunc, __LINE__)",
          "old_line_content": "    {",
          "new_line_content": "        CV_THROW (Exception(Error::StsError, eerr, efile, efunc, __LINE__));",
          "content_same": false
        },
        {
          "line": 3688,
          "old_api": null,
          "new_api": "fread (&version_buffer,sizeof(char),10,modelfl)",
          "old_text": null,
          "new_text": "fread (&version_buffer,sizeof(char),10,modelfl)",
          "old_line_content": "        String efunc(__FUNCTION__);",
          "new_line_content": "    if (!fread (&version_buffer,sizeof(char),10,modelfl))",
          "content_same": false
        },
        {
          "line": 1645,
          "old_api": null,
          "new_api": "getBlock",
          "old_text": null,
          "new_text": "cache.getBlock(pt, dst)",
          "old_line_content": "            const HOGCache::BlockData& bj = blockData[j];",
          "new_line_content": "            const float* src = cache.getBlock(pt, dst);",
          "content_same": false
        },
        {
          "line": 3693,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(modelfl)",
          "old_line_content": "    {",
          "new_line_content": "        fclose(modelfl);",
          "content_same": false
        },
        {
          "line": 1647,
          "old_api": null,
          "new_api": "memcpy",
          "old_text": null,
          "new_text": "memcpy(dst, src, blockHistogramSize * sizeof(float))",
          "old_line_content": "",
          "new_line_content": "                memcpy(dst, src, blockHistogramSize * sizeof(float));",
          "content_same": false
        },
        {
          "line": 3695,
          "old_api": null,
          "new_api": "Exception",
          "old_text": null,
          "new_text": "Exception(Error::StsError, eerr, efile, efunc, __LINE__)",
          "old_line_content": "        String efile(__FILE__);",
          "new_line_content": "        CV_THROW (Exception(Error::StsError, eerr, efile, efunc, __LINE__));",
          "content_same": false
        },
        {
          "line": 3703,
          "old_api": null,
          "new_api": "Exception",
          "old_text": null,
          "new_text": "Exception(Error::StsError, eerr, efile, efunc, __LINE__)",
          "old_line_content": "        String efile(__FILE__);",
          "new_line_content": "        CV_THROW (Exception(Error::StsError, eerr, efile, efunc, __LINE__));",
          "content_same": false
        },
        {
          "line": 1656,
          "old_api": null,
          "new_api": "CV_INSTRUMENT_REGION",
          "old_text": null,
          "new_text": "CV_INSTRUMENT_REGION()",
          "old_line_content": "void HOGDescriptor::detect(const Mat& img,",
          "new_line_content": "    CV_INSTRUMENT_REGION()",
          "content_same": false
        },
        {
          "line": 1658,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "hits.clear()",
          "old_line_content": "    Size winStride, Size padding, const std::vector<Point>& locations) const",
          "new_line_content": "    hits.clear();",
          "content_same": false
        },
        {
          "line": 1659,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "weights.clear()",
          "old_line_content": "{",
          "new_line_content": "    weights.clear();",
          "content_same": false
        },
        {
          "line": 3709,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(modelfl)",
          "old_line_content": "    /* read version number */",
          "new_line_content": "        fclose(modelfl);",
          "content_same": false
        },
        {
          "line": 3710,
          "old_api": null,
          "new_api": "Exception",
          "old_text": null,
          "new_text": "Exception()",
          "old_line_content": "    int version = 0;",
          "new_line_content": "        CV_THROW (Exception());",
          "content_same": false
        },
        {
          "line": 1665,
          "old_api": null,
          "new_api": "gcd",
          "old_text": null,
          "new_text": "gcd(winStride.width, blockStride.width)",
          "old_line_content": "        return;",
          "new_line_content": "    Size cacheStride(gcd(winStride.width, blockStride.width),",
          "content_same": false
        },
        {
          "line": 1666,
          "old_api": null,
          "new_api": "gcd",
          "old_text": null,
          "new_text": "gcd(winStride.height, blockStride.height)",
          "old_line_content": "",
          "new_line_content": "        gcd(winStride.height, blockStride.height));",
          "content_same": false
        },
        {
          "line": 1668,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "locations.size()",
          "old_line_content": "        winStride = cellSize;",
          "new_line_content": "    size_t nwindows = locations.size();",
          "content_same": false
        },
        {
          "line": 3717,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(modelfl)",
          "old_line_content": "    {",
          "new_line_content": "        fclose(modelfl);",
          "content_same": false
        },
        {
          "line": 3718,
          "old_api": null,
          "new_api": "Exception",
          "old_text": null,
          "new_text": "Exception()",
          "old_line_content": "        String eerr(\"version does not match\");",
          "new_line_content": "        CV_THROW (Exception());",
          "content_same": false
        },
        {
          "line": 1676,
          "old_api": null,
          "new_api": "windowsInImage",
          "old_text": null,
          "new_text": "cache.windowsInImage(paddedImgSize, winStride).area()",
          "old_line_content": "",
          "new_line_content": "        nwindows = cache.windowsInImage(paddedImgSize, winStride).area();",
          "content_same": false
        },
        {
          "line": 3729,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(&(rbf_gamma),sizeof(double), 1, modelfl)",
          "old_line_content": "        int poly_degree;",
          "new_line_content": "        nread=fread(&(rbf_gamma),sizeof(double), 1, modelfl);",
          "content_same": false
        },
        {
          "line": 1682,
          "old_api": null,
          "new_api": "getDescriptorSize",
          "old_text": null,
          "new_text": "getDescriptorSize()",
          "old_line_content": "    const HOGCache::BlockData* blockData = &cache.blockData[0];",
          "new_line_content": "    size_t dsize = getDescriptorSize();",
          "content_same": false
        },
        {
          "line": 3731,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(&(coef_lin),sizeof(double),1,modelfl)",
          "old_line_content": "",
          "new_line_content": "        nread=fread(&(coef_lin),sizeof(double),1,modelfl);",
          "content_same": false
        },
        {
          "line": 3736,
          "old_api": null,
          "new_api": "CV_Assert",
          "old_text": null,
          "new_text": "CV_Assert(l >= 0 && l < 0xFFFF)",
          "old_line_content": "        double coef_const;",
          "new_line_content": "        CV_Assert(l >= 0 && l < 0xFFFF);",
          "content_same": false
        },
        {
          "line": 3738,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(custom,sizeof(char),l,modelfl)",
          "old_line_content": "        int l;",
          "new_line_content": "        nread=fread(custom,sizeof(char),l,modelfl);",
          "content_same": false
        },
        {
          "line": 1694,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "locations.empty()",
          "old_line_content": "",
          "new_line_content": "        if( !locations.empty() )",
          "content_same": false
        },
        {
          "line": 3745,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(&(totdoc),sizeof(int),1,modelfl)",
          "old_line_content": "    int totwords;",
          "new_line_content": "        nread=fread(&(totdoc),sizeof(int),1,modelfl);",
          "content_same": false
        },
        {
          "line": 3747,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(&(sv_num), sizeof(int),1,modelfl)",
          "old_line_content": "    {// ignore these",
          "new_line_content": "        nread=fread(&(sv_num), sizeof(int),1,modelfl);",
          "content_same": false
        },
        {
          "line": 1703,
          "old_api": null,
          "new_api": "Point",
          "old_text": null,
          "new_text": "Point(padding)",
          "old_line_content": "                continue;",
          "new_line_content": "            pt0 = cache.getWindow(paddedImgSize, winStride, (int)i).tl() - Point(padding);",
          "content_same": false
        },
        {
          "line": 1704,
          "old_api": null,
          "new_api": "CV_Assert",
          "old_text": null,
          "new_text": "CV_Assert(pt0.x % cacheStride.width == 0 && pt0.y % cacheStride.height == 0)",
          "old_line_content": "        }",
          "new_line_content": "            CV_Assert(pt0.x % cacheStride.width == 0 && pt0.y % cacheStride.height == 0);",
          "content_same": false
        },
        {
          "line": 3754,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "detector.clear()",
          "old_line_content": "    double linearbias;",
          "new_line_content": "    detector.clear();",
          "content_same": false
        },
        {
          "line": 3757,
          "old_api": null,
          "new_api": "CV_Assert",
          "old_text": null,
          "new_text": "CV_Assert(totwords + 1 > 0 && totwords < 0xFFFF)",
          "old_line_content": "    std::vector<float> detector;",
          "new_line_content": "        CV_Assert(totwords + 1 > 0 && totwords < 0xFFFF);",
          "content_same": false
        },
        {
          "line": 3760,
          "old_api": null,
          "new_api": "fread",
          "old_text": null,
          "new_text": "fread(linearwt, sizeof(double), totwords + 1, modelfl)",
          "old_line_content": "        /* save linear wts also */",
          "new_line_content": "        nread = fread(linearwt, sizeof(double), totwords + 1, modelfl);",
          "content_same": false
        },
        {
          "line": 1715,
          "old_api": null,
          "new_api": "getBlock",
          "old_text": null,
          "new_text": "cache.getBlock(pt, &blockHist[0])",
          "old_line_content": "        {",
          "new_line_content": "            const float* vec = cache.getBlock(pt, &blockHist[0]);",
          "content_same": false
        },
        {
          "line": 3763,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(modelfl)",
          "old_line_content": "        int length = totwords;",
          "new_line_content": "            fclose(modelfl);",
          "content_same": false
        },
        {
          "line": 1717,
          "old_api": null,
          "new_api": "_mm_loadu_ps",
          "old_text": null,
          "new_text": "_mm_loadu_ps(vec)",
          "old_line_content": "            Point pt = pt0 + bj.imgOffset;",
          "new_line_content": "            __m128 _vec = _mm_loadu_ps(vec);",
          "content_same": false
        },
        {
          "line": 1718,
          "old_api": null,
          "new_api": "_mm_loadu_ps",
          "old_text": null,
          "new_text": "_mm_loadu_ps(svmVec)",
          "old_line_content": "",
          "new_line_content": "            __m128 _svmVec = _mm_loadu_ps(svmVec);",
          "content_same": false
        },
        {
          "line": 3770,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "detector.push_back((float)-linearbias)",
          "old_line_content": "",
          "new_line_content": "        detector.push_back((float)-linearbias);",
          "content_same": false
        },
        {
          "line": 3771,
          "old_api": null,
          "new_api": "setSVMDetector",
          "old_text": null,
          "new_text": "setSVMDetector(detector)",
          "old_line_content": "        for(int i = 0; i < length; i++)",
          "new_line_content": "        setSVMDetector(detector);",
          "content_same": false
        },
        {
          "line": 1724,
          "old_api": null,
          "new_api": "_mm_loadu_ps",
          "old_text": null,
          "new_text": "_mm_loadu_ps(svmVec + k)",
          "old_line_content": "",
          "new_line_content": "                _svmVec = _mm_loadu_ps(svmVec + k);",
          "content_same": false
        },
        {
          "line": 1726,
          "old_api": null,
          "new_api": "_mm_mul_ps",
          "old_text": null,
          "new_text": "_mm_mul_ps(_vec, _svmVec)",
          "old_line_content": "            {",
          "new_line_content": "                sum = _mm_add_ps(sum, _mm_mul_ps(_vec, _svmVec));",
          "content_same": false
        },
        {
          "line": 1729,
          "old_api": null,
          "new_api": "_mm_storeu_ps",
          "old_text": null,
          "new_text": "_mm_storeu_ps(partSum, sum)",
          "old_line_content": "",
          "new_line_content": "            _mm_storeu_ps(partSum, sum);",
          "content_same": false
        },
        {
          "line": 3777,
          "old_api": null,
          "new_api": "fclose",
          "old_text": null,
          "new_text": "fclose(modelfl)",
          "old_line_content": "    } else {",
          "new_line_content": "    fclose(modelfl);",
          "content_same": false
        },
        {
          "line": 1734,
          "old_api": null,
          "new_api": "vld1q_f32",
          "old_text": null,
          "new_text": "vld1q_f32(vec)",
          "old_line_content": "            double t0 = partSum[0] + partSum[1];",
          "new_line_content": "            float32x4_t _vec = vld1q_f32(vec);",
          "content_same": false
        },
        {
          "line": 1735,
          "old_api": null,
          "new_api": "vld1q_f32",
          "old_text": null,
          "new_text": "vld1q_f32(svmVec)",
          "old_line_content": "            double t1 = partSum[2] + partSum[3];",
          "new_line_content": "            float32x4_t _svmVec = vld1q_f32(svmVec);",
          "content_same": false
        },
        {
          "line": 1736,
          "old_api": null,
          "new_api": "vmulq_f32",
          "old_text": null,
          "new_text": "vmulq_f32(_svmVec, _vec)",
          "old_line_content": "            s += t0 + t1;",
          "new_line_content": "            float32x4_t sum = vmulq_f32(_svmVec, _vec);",
          "content_same": false
        },
        {
          "line": 3782,
          "old_api": null,
          "new_api": "CV_INSTRUMENT_REGION",
          "old_text": null,
          "new_text": "CV_INSTRUMENT_REGION()",
          "old_line_content": "}",
          "new_line_content": "    CV_INSTRUMENT_REGION()",
          "content_same": false
        },
        {
          "line": 3784,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "rectList.empty()",
          "old_line_content": "void HOGDescriptor::groupRectangles(std::vector<cv::Rect>& rectList, std::vector<double>& weights, int groupThreshold, double eps) const",
          "new_line_content": "    if( groupThreshold <= 0 || rectList.empty() )",
          "content_same": false
        },
        {
          "line": 1741,
          "old_api": null,
          "new_api": "vld1q_f32",
          "old_text": null,
          "new_text": "vld1q_f32(svmVec + k)",
          "old_line_content": "",
          "new_line_content": "                _svmVec = vld1q_f32(svmVec + k);",
          "content_same": false
        },
        {
          "line": 3789,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "weights.size()",
          "old_line_content": "    {",
          "new_line_content": "    CV_Assert(rectList.size() == weights.size());",
          "content_same": false
        },
        {
          "line": 1743,
          "old_api": null,
          "new_api": "vmulq_f32",
          "old_text": null,
          "new_text": "vmulq_f32(_vec, _svmVec)",
          "old_line_content": "            {",
          "new_line_content": "                sum = vaddq_f32(sum, vmulq_f32(_vec, _svmVec));",
          "content_same": false
        },
        {
          "line": 3792,
          "old_api": null,
          "new_api": "SimilarRects",
          "old_text": null,
          "new_text": "SimilarRects(eps)",
          "old_line_content": "",
          "new_line_content": "    int nclasses = partition(rectList, labels, SimilarRects(eps));",
          "content_same": false
        },
        {
          "line": 1746,
          "old_api": null,
          "new_api": "vst1q_f32",
          "old_text": null,
          "new_text": "vst1q_f32(partSum, sum)",
          "old_line_content": "",
          "new_line_content": "            vst1q_f32(partSum, sum);",
          "content_same": false
        },
        {
          "line": 3797,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "labels.size()",
          "old_line_content": "",
          "new_line_content": "    int i, j, nlabels = (int)labels.size();",
          "content_same": false
        },
        {
          "line": 3806,
          "old_api": null,
          "new_api": "max",
          "old_text": null,
          "new_text": "max(foundWeights[cls], weights[i])",
          "old_line_content": "        rrects[cls].x += rectList[i].x;",
          "new_line_content": "        foundWeights[cls] = max(foundWeights[cls], weights[i]);",
          "content_same": false
        },
        {
          "line": 1760,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "hits.push_back(pt0)",
          "old_line_content": "                s += vec[k]*svmVec[k];",
          "new_line_content": "            hits.push_back(pt0);",
          "content_same": false
        },
        {
          "line": 1761,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "weights.push_back(s)",
          "old_line_content": "        }",
          "new_line_content": "            weights.push_back(s);",
          "content_same": false
        },
        {
          "line": 3815,
          "old_api": null,
          "new_api": "cv::saturate_cast<double>(r.x*s)",
          "old_text": null,
          "new_text": "cv::saturate_cast<double>(r.x*s)",
          "old_line_content": "    {",
          "new_line_content": "        rrects[i] = cv::Rect_<double>(cv::saturate_cast<double>(r.x*s),",
          "content_same": false
        },
        {
          "line": 3816,
          "old_api": null,
          "new_api": "cv::saturate_cast<double>(r.y*s)",
          "old_text": null,
          "new_text": "cv::saturate_cast<double>(r.y*s)",
          "old_line_content": "        // find the average of all ROI in the cluster",
          "new_line_content": "            cv::saturate_cast<double>(r.y*s),",
          "content_same": false
        },
        {
          "line": 1769,
          "old_api": null,
          "new_api": "CV_INSTRUMENT_REGION",
          "old_text": null,
          "new_text": "CV_INSTRUMENT_REGION()",
          "old_line_content": "",
          "new_line_content": "    CV_INSTRUMENT_REGION()",
          "content_same": false
        },
        {
          "line": 3817,
          "old_api": null,
          "new_api": "cv::saturate_cast<double>(r.width*s)",
          "old_text": null,
          "new_text": "cv::saturate_cast<double>(r.width*s)",
          "old_line_content": "        cv::Rect_<double> r = rrects[i];",
          "new_line_content": "            cv::saturate_cast<double>(r.width*s),",
          "content_same": false
        },
        {
          "line": 3818,
          "old_api": null,
          "new_api": "cv::saturate_cast<double>(r.height*s)",
          "old_text": null,
          "new_text": "cv::saturate_cast<double>(r.height*s)",
          "old_line_content": "        double s = 1.0/numInClass[i];",
          "new_line_content": "            cv::saturate_cast<double>(r.height*s));",
          "content_same": false
        },
        {
          "line": 1772,
          "old_api": null,
          "new_api": "detect",
          "old_text": null,
          "new_text": "detect(img, hits, weightsV, hitThreshold, winStride, padding, locations)",
          "old_line_content": "{",
          "new_line_content": "    detect(img, hits, weightsV, hitThreshold, winStride, padding, locations);",
          "content_same": false
        },
        {
          "line": 3841,
          "old_api": null,
          "new_api": "cv::saturate_cast<int>( r2.width * eps )",
          "old_text": null,
          "new_text": "cv::saturate_cast<int>( r2.width * eps )",
          "old_line_content": "                continue;",
          "new_line_content": "            int dx = cv::saturate_cast<int>( r2.width * eps );",
          "content_same": false
        },
        {
          "line": 3842,
          "old_api": null,
          "new_api": "cv::saturate_cast<int>( r2.height * eps )",
          "old_text": null,
          "new_text": "cv::saturate_cast<int>( r2.height * eps )",
          "old_line_content": "",
          "new_line_content": "            int dy = cv::saturate_cast<int>( r2.height * eps );",
          "content_same": false
        },
        {
          "line": 1799,
          "old_api": null,
          "new_api": "std::max(img.cols, img.rows)",
          "old_text": null,
          "new_text": "std::max(img.cols, img.rows)",
          "old_line_content": "",
          "new_line_content": "        double minScale = i1 > 0 ? levelScale[i1] : i2 > 1 ? levelScale[i1+1] : std::max(img.cols, img.rows);",
          "content_same": false
        },
        {
          "line": 1800,
          "old_api": null,
          "new_api": "cvCeil",
          "old_text": null,
          "new_text": "cvCeil(img.rows/minScale)",
          "old_line_content": "    void operator()( const Range& range ) const",
          "new_line_content": "        Size maxSz(cvCeil(img.cols/minScale), cvCeil(img.rows/minScale));",
          "content_same": false
        },
        {
          "line": 1801,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "img.type()",
          "old_line_content": "    {",
          "new_line_content": "        Mat smallerImgBuf(maxSz, img.type());",
          "content_same": false
        },
        {
          "line": 3848,
          "old_api": null,
          "new_api": "std::max(3, n1)",
          "old_text": null,
          "new_text": "std::max(3, n1)",
          "old_line_content": "            if( r1.x >= r2.x - dx &&",
          "new_line_content": "                (n2 > std::max(3, n1) || n1 < 3) )",
          "content_same": false
        },
        {
          "line": 3854,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "rectList.push_back(r1)",
          "old_line_content": "        }",
          "new_line_content": "            rectList.push_back(r1);",
          "content_same": false
        },
        {
          "line": 3855,
          "old_api": null,
          "new_api": "push_back",
          "old_text": null,
          "new_text": "weights.push_back(w1)",
          "old_line_content": "",
          "new_line_content": "            weights.push_back(w1);",
          "content_same": false
        },
        {
          "line": 1808,
          "old_api": null,
          "new_api": "cvRound",
          "old_text": null,
          "new_text": "cvRound(img.rows/scale)",
          "old_line_content": "",
          "new_line_content": "            Size sz(cvRound(img.cols/scale), cvRound(img.rows/scale));",
          "content_same": false
        },
        {
          "line": 1809,
          "old_api": null,
          "new_api": "ptr",
          "old_text": null,
          "new_text": "smallerImgBuf.ptr()",
          "old_line_content": "        for( i = i1; i < i2; i++ )",
          "new_line_content": "            Mat smallerImg(sz, img.type(), smallerImgBuf.ptr());",
          "content_same": false
        },
        {
          "line": 1810,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "img.size()",
          "old_line_content": "        {",
          "new_line_content": "            if( sz == img.size() )",
          "content_same": false
        },
        {
          "line": 1811,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "img.type()",
          "old_line_content": "            double scale = levelScale[i];",
          "new_line_content": "                smallerImg = Mat(sz, img.type(), img.data, img.step);",
          "content_same": false
        },
        {
          "line": 1820,
          "old_api": null,
          "new_api": "cvRound",
          "old_text": null,
          "new_text": "cvRound(locations[j].x*scale)",
          "old_line_content": "",
          "new_line_content": "                vec->push_back(Rect(cvRound(locations[j].x*scale),",
          "content_same": false
        },
        {
          "line": 1826,
          "old_api": null,
          "new_api": "unlock",
          "old_text": null,
          "new_text": "mtx->unlock()",
          "old_line_content": "                                    scaledWinSize.width, scaledWinSize.height));",
          "new_line_content": "            mtx->unlock();",
          "content_same": false
        },
        {
          "line": 1831,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "locations.size()",
          "old_line_content": "",
          "new_line_content": "                for (size_t j = 0; j < locations.size(); j++)",
          "content_same": false
        },
        {
          "line": 1833,
          "old_api": null,
          "new_api": "unlock",
          "old_text": null,
          "new_text": "mtx->unlock()",
          "old_line_content": "            {",
          "new_line_content": "                mtx->unlock();",
          "content_same": false
        },
        {
          "line": 1859,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "cv::ocl::Device::getDefault().type()",
          "old_line_content": "                               const UMat& block_hists, UMat detector,",
          "new_line_content": "    bool is_cpu = cv::ocl::Device::getDefault().type() == cv::ocl::Device::TYPE_CPU;",
          "content_same": false
        },
        {
          "line": 1868,
          "old_api": null,
          "new_api": "create",
          "old_text": null,
          "new_text": "k.create(\"classify_hists_180_kernel\", ocl::objdetect::objdetect_hog_oclsrc, \"-D WAVE_SIZE=32\")",
          "old_line_content": "    switch (descr_size.width)",
          "new_line_content": "        k.create(\"classify_hists_180_kernel\", ocl::objdetect::objdetect_hog_oclsrc, \"-D WAVE_SIZE=32\");",
          "content_same": false
        },
        {
          "line": 1869,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "k.empty()",
          "old_line_content": "    {",
          "new_line_content": "        if(k.empty())",
          "content_same": false
        },
        {
          "line": 1874,
          "old_api": null,
          "new_api": "preferedWorkGroupSizeMultiple",
          "old_text": null,
          "new_text": "k.preferedWorkGroupSizeMultiple()",
          "old_line_content": "            return false;",
          "new_line_content": "            opts = cv::format(\"-D WAVE_SIZE=%d\", k.preferedWorkGroupSizeMultiple());",
          "content_same": false
        },
        {
          "line": 1875,
          "old_api": null,
          "new_api": "create",
          "old_text": null,
          "new_text": "k.create(\"classify_hists_180_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts)",
          "old_line_content": "        if(is_cpu)",
          "new_line_content": "        k.create(\"classify_hists_180_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts);",
          "content_same": false
        },
        {
          "line": 1876,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "k.empty()",
          "old_line_content": "           opts = \"-D CPU \";",
          "new_line_content": "        if(k.empty())",
          "content_same": false
        },
        {
          "line": 1884,
          "old_api": null,
          "new_api": "create",
          "old_text": null,
          "new_text": "k.create(\"classify_hists_252_kernel\", ocl::objdetect::objdetect_hog_oclsrc, \"-D WAVE_SIZE=32\")",
          "old_line_content": "        break;",
          "new_line_content": "        k.create(\"classify_hists_252_kernel\", ocl::objdetect::objdetect_hog_oclsrc, \"-D WAVE_SIZE=32\");",
          "content_same": false
        },
        {
          "line": 1885,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "k.empty()",
          "old_line_content": "",
          "new_line_content": "        if(k.empty())",
          "content_same": false
        },
        {
          "line": 1890,
          "old_api": null,
          "new_api": "preferedWorkGroupSizeMultiple",
          "old_text": null,
          "new_text": "k.preferedWorkGroupSizeMultiple()",
          "old_line_content": "            return false;",
          "new_line_content": "            opts = cv::format(\"-D WAVE_SIZE=%d\", k.preferedWorkGroupSizeMultiple());",
          "content_same": false
        },
        {
          "line": 1891,
          "old_api": null,
          "new_api": "create",
          "old_text": null,
          "new_text": "k.create(\"classify_hists_252_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts)",
          "old_line_content": "        if(is_cpu)",
          "new_line_content": "        k.create(\"classify_hists_252_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts);",
          "content_same": false
        },
        {
          "line": 1892,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "k.empty()",
          "old_line_content": "           opts = \"-D CPU \";",
          "new_line_content": "        if(k.empty())",
          "content_same": false
        },
        {
          "line": 1900,
          "old_api": null,
          "new_api": "create",
          "old_text": null,
          "new_text": "k.create(\"classify_hists_kernel\", ocl::objdetect::objdetect_hog_oclsrc, \"-D WAVE_SIZE=32\")",
          "old_line_content": "        break;",
          "new_line_content": "        k.create(\"classify_hists_kernel\", ocl::objdetect::objdetect_hog_oclsrc, \"-D WAVE_SIZE=32\");",
          "content_same": false
        },
        {
          "line": 1901,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "k.empty()",
          "old_line_content": "",
          "new_line_content": "        if(k.empty())",
          "content_same": false
        },
        {
          "line": 1906,
          "old_api": null,
          "new_api": "preferedWorkGroupSizeMultiple",
          "old_text": null,
          "new_text": "k.preferedWorkGroupSizeMultiple()",
          "old_line_content": "            return false;",
          "new_line_content": "            opts = cv::format(\"-D WAVE_SIZE=%d\", k.preferedWorkGroupSizeMultiple());",
          "content_same": false
        },
        {
          "line": 1907,
          "old_api": null,
          "new_api": "create",
          "old_text": null,
          "new_text": "k.create(\"classify_hists_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts)",
          "old_line_content": "        if(is_cpu)",
          "new_line_content": "        k.create(\"classify_hists_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts);",
          "content_same": false
        },
        {
          "line": 1908,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "k.empty()",
          "old_line_content": "           opts = \"-D CPU \";",
          "new_line_content": "        if(k.empty())",
          "content_same": false
        },
        {
          "line": 1924,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "k.set(idx, block_hist_size)",
          "old_line_content": "",
          "new_line_content": "    idx = k.set(idx, block_hist_size);",
          "content_same": false
        },
        {
          "line": 1925,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "k.set(idx, img_win_width)",
          "old_line_content": "    size_t globalThreads[3] = { (size_t)img_win_width * nthreads, (size_t)img_win_height, 1 };",
          "new_line_content": "    idx = k.set(idx, img_win_width);",
          "content_same": false
        },
        {
          "line": 1926,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "k.set(idx, img_block_width)",
          "old_line_content": "    size_t localThreads[3] = { (size_t)nthreads, 1, 1 };",
          "new_line_content": "    idx = k.set(idx, img_block_width);",
          "content_same": false
        },
        {
          "line": 1927,
          "old_api": null,
          "new_api": "set",
          "old_text": null,
          "new_text": "k.set(idx, win_block_stride_x)",
          "old_line_content": "",
          "new_line_content": "    idx = k.set(idx, win_block_stride_x);",
          "content_same": false
        },
        {
          "line": 1942,
          "old_api": null,
          "new_api": "clear",
          "old_text": null,
          "new_text": "hits.clear()",
          "old_line_content": "static bool ocl_detect(InputArray img, std::vector<Point> &hits, double hit_threshold, Size win_stride,",
          "new_line_content": "    hits.clear();",
          "content_same": false
        },
        {
          "line": 1943,
          "old_api": null,
          "new_api": "empty",
          "old_text": null,
          "new_text": "oclSvmDetector.empty()",
          "old_line_content": "                       const UMat& oclSvmDetector, Size blockSize, Size cellSize, int nbins, Size blockStride, Size winSize,",
          "new_line_content": "    if (oclSvmDetector.empty())",
          "content_same": false
        },
        {
          "line": 1949,
          "old_api": null,
          "new_api": "isIntel",
          "old_text": null,
          "new_text": "ocl::Device::getDefault().isIntel()",
          "old_line_content": "",
          "new_line_content": "    int qangle_type = ocl::Device::getDefault().isIntel() ? CV_32SC2 : CV_8UC2;",
          "content_same": false
        },
        {
          "line": 1952,
          "old_api": null,
          "new_api": "getBlockHistogramSize",
          "old_text": null,
          "new_text": "getBlockHistogramSize(blockSize, cellSize, nbins)",
          "old_line_content": "    UMat grad(imgSize, CV_32FC2);",
          "new_line_content": "    const size_t block_hist_size = getBlockHistogramSize(blockSize, cellSize, nbins);",
          "content_same": false
        },
        {
          "line": 1954,
          "old_api": null,
          "new_api": "area",
          "old_text": null,
          "new_text": "blocks_per_img.area()",
          "old_line_content": "    UMat qangle(imgSize, qangle_type);",
          "new_line_content": "    UMat block_hists(1, static_cast<int>(block_hist_size * blocks_per_img.area()) + 256, CV_32F);",
          "content_same": false
        },
        {
          "line": 1964,
          "old_api": null,
          "new_api": "std::exp(-(j * j + i * i) * scale)",
          "old_text": null,
          "new_text": "std::exp(-(j * j + i * i) * scale)",
          "old_line_content": "    Mat gaussian_lut(1, 512, CV_32FC1);",
          "new_line_content": "            gaussian_lut.at<float>(idx++) = std::exp(-(j * j + i * i) * scale);",
          "content_same": false
        },
        {
          "line": 1967,
          "old_api": null,
          "new_api": "fabs",
          "old_text": null,
          "new_text": "fabs(i + 0.5f)",
          "old_line_content": "        for(int j=-8; j<8; j++)",
          "new_line_content": "            gaussian_lut.at<float>(idx++) = (8.f - fabs(j + 0.5f)) * (8.f - fabs(i + 0.5f)) / 64.f;",
          "content_same": false
        },
        {
          "line": 1969,
          "old_api": null,
          "new_api": "ocl_computeGradient",
          "old_text": null,
          "new_text": "ocl_computeGradient(img, grad, qangle, nbins, effect_size, gammaCorrection, signedGradient)",
          "old_line_content": "    for(int i=-8; i<8; i++)",
          "new_line_content": "    if(!ocl_computeGradient(img, grad, qangle, nbins, effect_size, gammaCorrection, signedGradient))",
          "content_same": false
        },
        {
          "line": 1974,
          "old_api": null,
          "new_api": "ocl_compute_hists",
          "old_text": null,
          "new_text": "ocl_compute_hists(nbins, blockStride.width, blockStride.height, effect_size.height,\n        effect_size.width, grad, qangle, gauss_w_lut, block_hists, block_hist_size)",
          "old_line_content": "        return false;",
          "new_line_content": "    if(!ocl_compute_hists(nbins, blockStride.width, blockStride.height, effect_size.height,",
          "content_same": false
        },
        {
          "line": 1992,
          "old_api": null,
          "new_api": "getMat",
          "old_text": null,
          "new_text": "labels.getMat(ACCESS_READ)",
          "old_line_content": "        effect_size.height, effect_size.width, block_hists, oclSvmDetector,",
          "new_line_content": "    Mat labels_host = labels.getMat(ACCESS_READ);",
          "content_same": false
        },
        {
          "line": 1993,
          "old_api": null,
          "new_api": "ptr",
          "old_text": null,
          "new_text": "labels_host.ptr()",
          "old_line_content": "        free_coef, (float)hit_threshold, labels, descr_size, (int)block_hist_size))",
          "new_line_content": "    unsigned char *vec = labels_host.ptr();",
          "content_same": false
        },
        {
          "line": 1994,
          "old_api": null,
          "new_api": "area",
          "old_text": null,
          "new_text": "wins_per_img.area()",
          "old_line_content": "        return false;",
          "new_line_content": "    for (int i = 0; i < wins_per_img.area(); i++)",
          "content_same": false
        },
        {
          "line": 2000,
          "old_api": null,
          "new_api": "Point",
          "old_text": null,
          "new_text": "Point(x * win_stride.width, y * win_stride.height)",
          "old_line_content": "        int y = i / wins_per_img.width;",
          "new_line_content": "            hits.push_back(Point(x * win_stride.width, y * win_stride.height));",
          "content_same": false
        },
        {
          "line": 2015,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "_img.size()",
          "old_line_content": "{",
          "new_line_content": "    Size imgSize = _img.size();",
          "content_same": false
        },
        {
          "line": 2016,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "_img.type()",
          "old_line_content": "    std::vector<Rect> all_candidates;",
          "new_line_content": "    image_scale.create(imgSize, _img.type());",
          "content_same": false
        },
        {
          "line": 2018,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "level_scale.size()",
          "old_line_content": "    UMat image_scale;",
          "new_line_content": "    for (size_t i = 0; i<level_scale.size() ; i++)",
          "content_same": false
        },
        {
          "line": 2021,
          "old_api": null,
          "new_api": "cvRound",
          "old_text": null,
          "new_text": "cvRound(imgSize.height / scale)",
          "old_line_content": "",
          "new_line_content": "        Size effect_size = Size(cvRound(imgSize.width / scale), cvRound(imgSize.height / scale));",
          "content_same": false
        },
        {
          "line": 2024,
          "old_api": null,
          "new_api": "ocl_detect",
          "old_text": null,
          "new_text": "ocl_detect(_img, locations, hit_threshold, win_stride, oclSvmDetector, blockSize, cellSize, nbins,\n                blockStride, winSize, gammaCorrection, L2HysThreshold, sigma, free_coef, signedGradient)",
          "old_line_content": "        double scale = level_scale[i];",
          "new_line_content": "            if(!ocl_detect(_img, locations, hit_threshold, win_stride, oclSvmDetector, blockSize, cellSize, nbins,",
          "content_same": false
        },
        {
          "line": 2030,
          "old_api": null,
          "new_api": "resize",
          "old_text": null,
          "new_text": "resize(_img, image_scale, effect_size, 0, 0, INTER_LINEAR_EXACT)",
          "old_line_content": "                return false;",
          "new_line_content": "            resize(_img, image_scale, effect_size, 0, 0, INTER_LINEAR_EXACT);",
          "content_same": false
        },
        {
          "line": 2031,
          "old_api": null,
          "new_api": "ocl_detect",
          "old_text": null,
          "new_text": "ocl_detect(image_scale, locations, hit_threshold, win_stride, oclSvmDetector, blockSize, cellSize, nbins,\n                blockStride, winSize, gammaCorrection, L2HysThreshold, sigma, free_coef, signedGradient)",
          "old_line_content": "        }",
          "new_line_content": "            if(!ocl_detect(image_scale, locations, hit_threshold, win_stride, oclSvmDetector, blockSize, cellSize, nbins,",
          "content_same": false
        },
        {
          "line": 2036,
          "old_api": null,
          "new_api": "cvRound",
          "old_text": null,
          "new_text": "cvRound(winSize.height * scale)",
          "old_line_content": "                blockStride, winSize, gammaCorrection, L2HysThreshold, sigma, free_coef, signedGradient))",
          "new_line_content": "            cvRound(winSize.height * scale));",
          "content_same": false
        },
        {
          "line": 2037,
          "old_api": null,
          "new_api": "size",
          "old_text": null,
          "new_text": "locations.size()",
          "old_line_content": "                return false;",
          "new_line_content": "        for (size_t j = 0; j < locations.size(); j++)",
          "content_same": false
        },
        {
          "line": 2038,
          "old_api": null,
          "new_api": "Point2d",
          "old_text": null,
          "new_text": "Point2d(locations[j])",
          "old_line_content": "        }",
          "new_line_content": "            all_candidates.push_back(Rect(Point2d(locations[j]) * scale, scaled_win_size));",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 2057,
          "old_api": "CV_INSTRUMENT_REGION",
          "new_api": null,
          "old_text": "CV_INSTRUMENT_REGION()",
          "new_text": null,
          "old_line_content": "    CV_INSTRUMENT_REGION()",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2066,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "levelScale.push_back(scale)",
          "new_text": null,
          "old_line_content": "        levelScale.push_back(scale);",
          "new_line_content": "            break;",
          "content_same": false
        },
        {
          "line": 2067,
          "old_api": "cvRound",
          "new_api": null,
          "old_text": "cvRound(imgSize.width/scale)",
          "new_text": null,
          "old_line_content": "        if( cvRound(imgSize.width/scale) < winSize.width ||",
          "new_line_content": "        scale *= scale0;",
          "content_same": false
        },
        {
          "line": 2068,
          "old_api": "cvRound",
          "new_api": null,
          "old_text": "cvRound(imgSize.height/scale)",
          "new_text": null,
          "old_line_content": "            cvRound(imgSize.height/scale) < winSize.height ||",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2073,
          "old_api": "std::max(levels, 1)",
          "new_api": null,
          "old_text": "std::max(levels, 1)",
          "new_text": null,
          "old_line_content": "    levels = std::max(levels, 1);",
          "new_line_content": "        winStride = blockStride;",
          "content_same": false
        },
        {
          "line": 2074,
          "old_api": "resize",
          "new_api": null,
          "old_text": "levelScale.resize(levels)",
          "new_text": null,
          "old_line_content": "    levelScale.resize(levels);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2079,
          "old_api": "type",
          "new_api": null,
          "old_text": "_img.type()",
          "new_text": null,
          "old_line_content": "    CV_OCL_RUN(_img.dims() <= 2 && _img.type() == CV_8UC1 && scale0 > 1 && winStride.width % blockStride.width == 0 &&",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2080,
          "old_api": "isUMat",
          "new_api": null,
          "old_text": "_img.isUMat()",
          "new_text": null,
          "old_line_content": "        winStride.height % blockStride.height == 0 && padding == Size(0,0) && _img.isUMat(),",
          "new_line_content": "    std::vector<Rect> allCandidates;",
          "content_same": false
        },
        {
          "line": 2081,
          "old_api": "ocl_detectMultiScale",
          "new_api": null,
          "old_text": "ocl_detectMultiScale(_img, foundLocations, levelScale, hitThreshold, winStride, finalThreshold, oclSvmDetector,\n        blockSize, cellSize, nbins, blockStride, winSize, gammaCorrection, L2HysThreshold, (float)getWinSigma(), free_coef, signedGradient)",
          "new_text": null,
          "old_line_content": "        ocl_detectMultiScale(_img, foundLocations, levelScale, hitThreshold, winStride, finalThreshold, oclSvmDetector,",
          "new_line_content": "    std::vector<double> tempScales;",
          "content_same": false
        },
        {
          "line": 2082,
          "old_api": "getWinSigma",
          "new_api": null,
          "old_text": "getWinSigma()",
          "new_text": null,
          "old_line_content": "        blockSize, cellSize, nbins, blockStride, winSize, gammaCorrection, L2HysThreshold, (float)getWinSigma(), free_coef, signedGradient));",
          "new_line_content": "    std::vector<double> tempWeights;",
          "content_same": false
        },
        {
          "line": 2090,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "_img.getMat()",
          "new_text": null,
          "old_line_content": "    Mat img = _img.getMat();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2096,
          "old_api": "clear",
          "new_api": null,
          "old_text": "foundLocations.clear()",
          "new_text": null,
          "old_line_content": "    foundLocations.clear();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 2097,
          "old_api": "back_inserter",
          "new_api": null,
          "old_text": "back_inserter(foundLocations)",
          "new_text": null,
          "old_line_content": "    std::copy(allCandidates.begin(), allCandidates.end(), back_inserter(foundLocations));",
          "new_line_content": "    if ( useMeanshiftGrouping )",
          "content_same": false
        },
        {
          "line": 2099,
          "old_api": "back_inserter",
          "new_api": null,
          "old_text": "back_inserter(foundWeights)",
          "new_text": null,
          "old_line_content": "    std::copy(tempWeights.begin(), tempWeights.end(), back_inserter(foundWeights));",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 2102,
          "old_api": "groupRectangles_meanshift",
          "new_api": null,
          "old_text": "groupRectangles_meanshift(foundLocations, foundWeights, foundScales, finalThreshold, winSize)",
          "new_text": null,
          "old_line_content": "        groupRectangles_meanshift(foundLocations, foundWeights, foundScales, finalThreshold, winSize);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2104,
          "old_api": "groupRectangles",
          "new_api": null,
          "old_text": "groupRectangles(foundLocations, foundWeights, (int)finalThreshold, 0.2)",
          "new_text": null,
          "old_line_content": "        groupRectangles(foundLocations, foundWeights, (int)finalThreshold, 0.2);",
          "new_line_content": "void HOGDescriptor::detectMultiScale(InputArray img, std::vector<Rect>& foundLocations,",
          "content_same": false
        },
        {
          "line": 2105,
          "old_api": "clipObjects",
          "new_api": null,
          "old_text": "clipObjects(imgSize, foundLocations, 0, &foundWeights)",
          "new_text": null,
          "old_line_content": "    clipObjects(imgSize, foundLocations, 0, &foundWeights);",
          "new_line_content": "    double hitThreshold, Size winStride, Size padding,",
          "content_same": false
        },
        {
          "line": 2112,
          "old_api": "CV_INSTRUMENT_REGION",
          "new_api": null,
          "old_text": "CV_INSTRUMENT_REGION()",
          "new_text": null,
          "old_line_content": "    CV_INSTRUMENT_REGION()",
          "new_line_content": "                padding, scale0, finalThreshold, useMeanshiftGrouping);",
          "content_same": false
        },
        {
          "line": 2115,
          "old_api": "detectMultiScale",
          "new_api": null,
          "old_text": "detectMultiScale(img, foundLocations, foundWeights, hitThreshold, winStride,\n                padding, scale0, finalThreshold, useMeanshiftGrouping)",
          "new_text": null,
          "old_line_content": "    detectMultiScale(img, foundLocations, foundWeights, hitThreshold, winStride,",
          "new_line_content": "template<typename _ClsName> struct RTTIImpl",
          "content_same": false
        },
        {
          "line": 2147,
          "old_api": "read",
          "new_api": null,
          "old_text": "obj->read(fn)",
          "new_text": null,
          "old_line_content": "        if(obj->read(fn))",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2158,
          "old_api": "String",
          "new_api": null,
          "old_text": "String(name)",
          "new_text": null,
          "old_line_content": "            ((const _ClsName*)ptr)->write(fs, String(name));",
          "new_line_content": "    static void* clone(const void* ptr)",
          "content_same": false
        },
        {
          "line": 326,
          "old_api": "_mm_set1_epi32",
          "new_api": null,
          "old_text": "_mm_set1_epi32(3)",
          "new_text": null,
          "old_line_content": "        __m128i ithree = _mm_set1_epi32(3);",
          "new_line_content": "        for ( ; x <= end - 4; x += 4)",
          "content_same": false
        },
        {
          "line": 331,
          "old_api": "_mm_mul_epu32",
          "new_api": null,
          "old_text": "_mm_mul_epu32(ithree, mul_res)",
          "new_text": null,
          "old_line_content": "            __m128i tmp1 = _mm_mul_epu32(ithree, mul_res);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 332,
          "old_api": "_mm_srli_si128",
          "new_api": null,
          "old_text": "_mm_srli_si128(mul_res,4)",
          "new_text": null,
          "old_line_content": "            __m128i tmp2 = _mm_mul_epu32( _mm_srli_si128(ithree,4), _mm_srli_si128(mul_res,4));",
          "new_line_content": "#elif CV_NEON",
          "content_same": false
        },
        {
          "line": 334,
          "old_api": "_mm_storeu_si128",
          "new_api": null,
          "old_text": "_mm_storeu_si128((__m128i*)(xmap + x), mul_res)",
          "new_text": null,
          "old_line_content": "            _mm_storeu_si128((__m128i*)(xmap + x), mul_res);",
          "new_line_content": "        for ( ; x <= end - 4; x += 4)",
          "content_same": false
        },
        {
          "line": 337,
          "old_api": "vdupq_n_s32",
          "new_api": null,
          "old_text": "vdupq_n_s32(3)",
          "new_text": null,
          "old_line_content": "        int32x4_t ithree = vdupq_n_s32(3);",
          "new_line_content": "        for ( ; x < end; ++x)",
          "content_same": false
        },
        {
          "line": 339,
          "old_api": "vld1q_s32",
          "new_api": null,
          "old_text": "vld1q_s32(xmap + x)",
          "new_text": null,
          "old_line_content": "            vst1q_s32(xmap + x, vmulq_s32(ithree, vld1q_s32(xmap + x)));",
          "new_line_content": "        xmap += 1;",
          "content_same": false
        },
        {
          "line": 349,
          "old_api": "ptr",
          "new_api": null,
          "old_text": "img.ptr(ymap[y])",
          "new_text": null,
          "old_line_content": "        const uchar* imgPtr  = img.ptr(ymap[y]);",
          "new_line_content": "        const uchar* nextPtr = img.data + img.step*ymap[y+1];",
          "content_same": false
        },
        {
          "line": 355,
          "old_api": "grad.ptr<float>(y)",
          "new_api": null,
          "old_text": "grad.ptr<float>(y)",
          "new_text": null,
          "old_line_content": "        float* gradPtr = grad.ptr<float>(y);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 356,
          "old_api": "ptr",
          "new_api": null,
          "old_text": "qangle.ptr(y)",
          "new_text": null,
          "old_line_content": "        uchar* qanglePtr = qangle.ptr(y);",
          "new_line_content": "            for( x = 0; x < width; x++ )",
          "content_same": false
        },
        {
          "line": 382,
          "old_api": "_mm_set_ps",
          "new_api": null,
          "old_text": "_mm_set_ps(lut[p32[1]], lut[p22[1]], lut[p12[1]], lut[p02[1]])",
          "new_text": null,
          "old_line_content": "                __m128 _dx1 = _mm_sub_ps(_mm_set_ps(lut[p32[1]], lut[p22[1]], lut[p12[1]], lut[p02[1]]),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 389,
          "old_api": "_mm_set_ps",
          "new_api": null,
          "old_text": "_mm_set_ps(lut[nextPtr[x3+1]], lut[nextPtr[x2+1]], lut[nextPtr[x1+1]], lut[nextPtr[x0+1]])",
          "new_text": null,
          "old_line_content": "                __m128 _dy1 = _mm_sub_ps(_mm_set_ps(lut[nextPtr[x3+1]], lut[nextPtr[x2+1]], lut[nextPtr[x1+1]], lut[nextPtr[x0+1]]),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 404,
          "old_api": "_mm_andnot_ps",
          "new_api": null,
          "old_text": "_mm_andnot_ps(mask, _dy0)",
          "new_text": null,
          "old_line_content": "                _dy2 = _mm_or_ps(_mm_and_ps(_dy2, mask), _mm_andnot_ps(mask, _dy0));",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 406,
          "old_api": "_mm_storeu_ps",
          "new_api": null,
          "old_text": "_mm_storeu_ps(dbuf + x, _dx2)",
          "new_text": null,
          "old_line_content": "                _mm_storeu_ps(dbuf + x, _dx2);",
          "new_line_content": "            for( ; x <= width - 4; x += 4 )",
          "content_same": false
        },
        {
          "line": 407,
          "old_api": "_mm_storeu_ps",
          "new_api": null,
          "old_text": "_mm_storeu_ps(dbuf + x + width, _dy2)",
          "new_text": null,
          "old_line_content": "                _mm_storeu_ps(dbuf + x + width, _dy2);",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 421,
          "old_api": "vsetq_f32",
          "new_api": null,
          "old_text": "vsetq_f32(lut[p02[1]], lut[p12[1]], lut[p22[1]], lut[p32[1]])",
          "new_text": null,
          "old_line_content": "                float32x4_t _dx1 = vsubq_f32(vsetq_f32(lut[p02[1]], lut[p12[1]], lut[p22[1]], lut[p32[1]]),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 428,
          "old_api": "vsetq_f32",
          "new_api": null,
          "old_text": "vsetq_f32(lut[nextPtr[x0+1]], lut[nextPtr[x1+1]], lut[nextPtr[x2+1]], lut[nextPtr[x3+1]])",
          "new_text": null,
          "old_line_content": "                float32x4_t _dy1 = vsubq_f32(vsetq_f32(lut[nextPtr[x0+1]], lut[nextPtr[x1+1]], lut[nextPtr[x2+1]], lut[nextPtr[x3+1]]),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 443,
          "old_api": "vbslq_f32",
          "new_api": null,
          "old_text": "vbslq_f32(mask, _dy2, _dy0)",
          "new_text": null,
          "old_line_content": "                _dy2 = vbslq_f32(mask, _dy2, _dy0);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 445,
          "old_api": "vst1q_f32",
          "new_api": null,
          "old_text": "vst1q_f32(dbuf + x, _dx2)",
          "new_text": null,
          "old_line_content": "                vst1q_f32(dbuf + x, _dx2);",
          "new_line_content": "            for( ; x < width; x++ )",
          "content_same": false
        },
        {
          "line": 446,
          "old_api": "vst1q_f32",
          "new_api": null,
          "old_text": "vst1q_f32(dbuf + x + width, _dy2)",
          "new_text": null,
          "old_line_content": "                vst1q_f32(dbuf + x + width, _dy2);",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 486,
          "old_api": "cartToPolar",
          "new_api": null,
          "old_text": "cartToPolar( Dx, Dy, Mag, Angle, false )",
          "new_text": null,
          "old_line_content": "        cartToPolar( Dx, Dy, Mag, Angle, false );",
          "new_line_content": "#if CV_SSE2",
          "content_same": false
        },
        {
          "line": 491,
          "old_api": "_mm_setzero_ps",
          "new_api": null,
          "old_text": "_mm_setzero_ps()",
          "new_text": null,
          "old_line_content": "        __m128 fhalf = _mm_set1_ps(0.5f), fzero = _mm_setzero_ps();",
          "new_line_content": "        for ( ; x <= width - 4; x += 4)",
          "content_same": false
        },
        {
          "line": 492,
          "old_api": "_mm_set1_ps",
          "new_api": null,
          "old_text": "_mm_set1_ps(1.0f)",
          "new_text": null,
          "old_line_content": "        __m128 _angleScale = _mm_set1_ps(angleScale), fone = _mm_set1_ps(1.0f);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 493,
          "old_api": "_mm_setzero_si128",
          "new_api": null,
          "old_text": "_mm_setzero_si128()",
          "new_text": null,
          "old_line_content": "        __m128i ione = _mm_set1_epi32(1), _nbins = _mm_set1_epi32(nbins), izero = _mm_setzero_si128();",
          "new_line_content": "            int x2 = x << 1;",
          "content_same": false
        },
        {
          "line": 502,
          "old_api": "_mm_cmplt_ps",
          "new_api": null,
          "old_text": "_mm_cmplt_ps(_angle, fzero)",
          "new_text": null,
          "old_line_content": "            __m128 sign = _mm_and_ps(fone, _mm_cmplt_ps(_angle, fzero));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 507,
          "old_api": "_mm_sub_ps",
          "new_api": null,
          "old_text": "_mm_sub_ps(fone, _angle)",
          "new_text": null,
          "old_line_content": "            __m128 ft0 = _mm_mul_ps(_mag, _mm_sub_ps(fone, _angle));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 510,
          "old_api": "_mm_unpackhi_ps",
          "new_api": null,
          "old_text": "_mm_unpackhi_ps(ft0, ft1)",
          "new_text": null,
          "old_line_content": "            __m128 ft3 = _mm_unpackhi_ps(ft0, ft1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 516,
          "old_api": "_mm_and_si128",
          "new_api": null,
          "old_text": "_mm_and_si128(mask0, _nbins)",
          "new_text": null,
          "old_line_content": "            __m128i it0 = _mm_and_si128(mask0, _nbins);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 522,
          "old_api": "_mm_add_epi32",
          "new_api": null,
          "old_text": "_mm_add_epi32(ione, _hidx)",
          "new_text": null,
          "old_line_content": "            _hidx = _mm_add_epi32(ione, _hidx);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 524,
          "old_api": "_mm_packs_epi32",
          "new_api": null,
          "old_text": "_mm_packs_epi32(_hidx, izero)",
          "new_text": null,
          "old_line_content": "            it1 = _mm_packus_epi16(_mm_packs_epi32(_hidx, izero), izero);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 525,
          "old_api": "_mm_unpacklo_epi8",
          "new_api": null,
          "old_text": "_mm_unpacklo_epi8(it0, it1)",
          "new_text": null,
          "old_line_content": "            it0 = _mm_unpacklo_epi8(it0, it1);",
          "new_line_content": "#endif",
          "content_same": false
        },
        {
          "line": 527,
          "old_api": "_mm_storel_epi64",
          "new_api": null,
          "old_text": "_mm_storel_epi64((__m128i*)(qanglePtr + x2), it0)",
          "new_text": null,
          "old_line_content": "            _mm_storel_epi64((__m128i*)(qanglePtr + x2), it0);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 533,
          "old_api": "cvFloor",
          "new_api": null,
          "old_text": "cvFloor(angle)",
          "new_text": null,
          "old_line_content": "            int hidx = cvFloor(angle);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 543,
          "old_api": "CV_Assert",
          "new_api": null,
          "old_text": "CV_Assert( (unsigned)hidx < (unsigned)nbins )",
          "new_text": null,
          "old_line_content": "            CV_Assert( (unsigned)hidx < (unsigned)nbins );",
          "new_line_content": "            hidx &= hidx < nbins ? -1 : 0;",
          "content_same": false
        },
        {
          "line": 617,
          "old_api": "init",
          "new_api": null,
          "old_text": "init(_descriptor, _img, _paddingTL, _paddingBR, _useCache, _cacheStride)",
          "new_text": null,
          "old_line_content": "    init(_descriptor, _img, _paddingTL, _paddingBR, _useCache, _cacheStride);",
          "new_line_content": "    const Mat& _img, const Size& _paddingTL, const Size& _paddingBR,",
          "content_same": false
        },
        {
          "line": 628,
          "old_api": "computeGradient",
          "new_api": null,
          "old_text": "descriptor->computeGradient(_img, grad, qangle, _paddingTL, _paddingBR)",
          "new_text": null,
          "old_line_content": "    descriptor->computeGradient(_img, grad, qangle, _paddingTL, _paddingBR);",
          "new_line_content": "    Size blockSize = descriptor->blockSize;",
          "content_same": false
        },
        {
          "line": 638,
          "old_api": "Size",
          "new_api": null,
          "old_text": "Size((winSize.width - blockSize.width)/blockStride.width + 1,\n        (winSize.height - blockSize.height)/blockStride.height + 1)",
          "new_text": null,
          "old_line_content": "    nblocks = Size((winSize.width - blockSize.width)/blockStride.width + 1,",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 640,
          "old_api": "Size",
          "new_api": null,
          "old_text": "Size(blockSize.width/cellSize.width, blockSize.height/cellSize.height)",
          "new_text": null,
          "old_line_content": "    ncells = Size(blockSize.width/cellSize.width, blockSize.height/cellSize.height);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": "create",
          "new_api": null,
          "old_text": "blockCacheFlags.create(cacheSize)",
          "new_text": null,
          "old_line_content": "        blockCacheFlags.create(cacheSize);",
          "new_line_content": "        for(size_t ii = 0; ii < cacheRows; ii++ )",
          "content_same": false
        },
        {
          "line": 652,
          "old_api": "resize",
          "new_api": null,
          "old_text": "ymaxCached.resize(cacheRows)",
          "new_text": null,
          "old_line_content": "        ymaxCached.resize(cacheRows);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 658,
          "old_api": "getWinSigma",
          "new_api": null,
          "old_text": "descriptor->getWinSigma()",
          "new_text": null,
          "old_line_content": "    float sigma = (float)descriptor->getWinSigma();",
          "new_line_content": "        AutoBuffer<float> di(blockSize.height), dj(blockSize.width);",
          "content_same": false
        },
        {
          "line": 669,
          "old_api": "_mm_loadu_si128",
          "new_api": null,
          "old_text": "_mm_loadu_si128((__m128i*)a)",
          "new_text": null,
          "old_line_content": "        __m128i idx = _mm_loadu_si128((__m128i*)a);",
          "new_line_content": "        for (; i <= blockSize.height - 4; i += 4)",
          "content_same": false
        },
        {
          "line": 670,
          "old_api": "_mm_set1_ps",
          "new_api": null,
          "old_text": "_mm_set1_ps(bh)",
          "new_text": null,
          "old_line_content": "        __m128 _bw = _mm_set1_ps(bw), _bh = _mm_set1_ps(bh);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": "_mm_cvtepi32_ps",
          "new_api": null,
          "old_text": "_mm_cvtepi32_ps(idx)",
          "new_text": null,
          "old_line_content": "            __m128 t = _mm_sub_ps(_mm_cvtepi32_ps(idx), _bh);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 676,
          "old_api": "_mm_mul_ps",
          "new_api": null,
          "old_text": "_mm_mul_ps(t, t)",
          "new_text": null,
          "old_line_content": "            t = _mm_mul_ps(t, t);",
          "new_line_content": "    #elif CV_NEON",
          "content_same": false
        },
        {
          "line": 677,
          "old_api": "_mm_add_epi32",
          "new_api": null,
          "old_text": "_mm_add_epi32(idx, ifour)",
          "new_text": null,
          "old_line_content": "            idx = _mm_add_epi32(idx, ifour);",
          "new_line_content": "        const int a[] = { 0, 1, 2, 3 };",
          "content_same": false
        },
        {
          "line": 682,
          "old_api": "vld1q_s32",
          "new_api": null,
          "old_text": "vld1q_s32(a)",
          "new_text": null,
          "old_line_content": "        int32x4_t idx = vld1q_s32(a);",
          "new_line_content": "        for (; i <= blockSize.height - 4; i += 4)",
          "content_same": false
        },
        {
          "line": 683,
          "old_api": "vdupq_n_f32",
          "new_api": null,
          "old_text": "vdupq_n_f32(bh)",
          "new_text": null,
          "old_line_content": "        float32x4_t _bw = vdupq_n_f32(bw), _bh = vdupq_n_f32(bh);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 688,
          "old_api": "vcvtq_f32_s32",
          "new_api": null,
          "old_text": "vcvtq_f32_s32(idx)",
          "new_text": null,
          "old_line_content": "            float32x4_t t = vsubq_f32(vcvtq_f32_s32(idx), _bh);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 689,
          "old_api": "vmulq_f32",
          "new_api": null,
          "old_text": "vmulq_f32(t, t)",
          "new_text": null,
          "old_line_content": "            t = vmulq_f32(t, t);",
          "new_line_content": "    #endif",
          "content_same": false
        },
        {
          "line": 690,
          "old_api": "vaddq_s32",
          "new_api": null,
          "old_text": "vaddq_s32(idx, ifour)",
          "new_text": null,
          "old_line_content": "            idx = vaddq_s32(idx, ifour);",
          "new_line_content": "        for ( ; i < blockSize.height; ++i)",
          "content_same": false
        },
        {
          "line": 691,
          "old_api": "vst1q_f32",
          "new_api": null,
          "old_text": "vst1q_f32(_di + i, t)",
          "new_text": null,
          "old_line_content": "            vst1q_f32(_di + i, t);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": "_mm_cvtepi32_ps",
          "new_api": null,
          "old_text": "_mm_cvtepi32_ps(idx)",
          "new_text": null,
          "old_line_content": "            __m128 t = _mm_sub_ps(_mm_cvtepi32_ps(idx), _bw);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 706,
          "old_api": "_mm_mul_ps",
          "new_api": null,
          "old_text": "_mm_mul_ps(t, t)",
          "new_text": null,
          "old_line_content": "            t = _mm_mul_ps(t, t);",
          "new_line_content": "    #elif CV_NEON",
          "content_same": false
        },
        {
          "line": 708,
          "old_api": "_mm_storeu_ps",
          "new_api": null,
          "old_text": "_mm_storeu_ps(_dj + j, t)",
          "new_text": null,
          "old_line_content": "            _mm_storeu_ps(_dj + j, t);",
          "new_line_content": "        for (; j <= blockSize.width - 4; j += 4)",
          "content_same": false
        },
        {
          "line": 714,
          "old_api": "vcvtq_f32_s32",
          "new_api": null,
          "old_text": "vcvtq_f32_s32(idx)",
          "new_text": null,
          "old_line_content": "            float32x4_t t = vsubq_f32(vcvtq_f32_s32(idx), _bw);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 715,
          "old_api": "vmulq_f32",
          "new_api": null,
          "old_text": "vmulq_f32(t, t)",
          "new_text": null,
          "old_line_content": "            t = vmulq_f32(t, t);",
          "new_line_content": "    #endif",
          "content_same": false
        },
        {
          "line": 716,
          "old_api": "vaddq_s32",
          "new_api": null,
          "old_text": "vaddq_s32(idx, ifour)",
          "new_text": null,
          "old_line_content": "            idx = vaddq_s32(idx, ifour);",
          "new_line_content": "        for ( ; j < blockSize.width; ++j)",
          "content_same": false
        },
        {
          "line": 717,
          "old_api": "vst1q_f32",
          "new_api": null,
          "old_text": "vst1q_f32(_dj + j, t)",
          "new_text": null,
          "old_line_content": "            vst1q_f32(_dj + j, t);",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 731,
          "old_api": "resize",
          "new_api": null,
          "old_text": "blockData.resize(nblocks.width*nblocks.height)",
          "new_text": null,
          "old_line_content": "    blockData.resize(nblocks.width*nblocks.height);",
          "new_line_content": "    // Here is why:",
          "content_same": false
        },
        {
          "line": 732,
          "old_api": "resize",
          "new_api": null,
          "old_text": "pixData.resize(rawBlockSize*3)",
          "new_text": null,
          "old_line_content": "    pixData.resize(rawBlockSize*3);",
          "new_line_content": "    //",
          "content_same": false
        },
        {
          "line": 766,
          "old_api": "cvFloor",
          "new_api": null,
          "old_text": "cvFloor(cellX)",
          "new_text": null,
          "old_line_content": "            int icellX0 = cvFloor(cellX);",
          "new_line_content": "            cellY -= icellY0;",
          "content_same": false
        },
        {
          "line": 767,
          "old_api": "cvFloor",
          "new_api": null,
          "old_text": "cvFloor(cellY)",
          "new_text": null,
          "old_line_content": "            int icellY0 = cvFloor(cellY);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 839,
          "old_api": "weights",
          "new_api": null,
          "old_text": "weights(i,j)",
          "new_text": null,
          "old_line_content": "            data->gradWeight = weights(i,j);",
          "new_line_content": "    // defragment pixData",
          "content_same": false
        },
        {
          "line": 842,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert( count1 + count2 + count4 == rawBlockSize )",
          "new_text": null,
          "old_line_content": "    assert( count1 + count2 + count4 == rawBlockSize );",
          "new_line_content": "    for( j = 0; j < count4; j++ )",
          "content_same": false
        },
        {
          "line": 857,
          "old_api": "Point",
          "new_api": null,
          "old_text": "Point(j*blockStride.width,i*blockStride.height)",
          "new_text": null,
          "old_line_content": "            data.imgOffset = Point(j*blockStride.width,i*blockStride.height);",
          "new_line_content": "const float* HOGCache::getBlock(Point pt, float* buf)",
          "content_same": false
        },
        {
          "line": 864,
          "old_api": "assert",
          "new_api": null,
          "old_text": "assert(descriptor != 0)",
          "new_text": null,
          "old_line_content": "    assert(descriptor != 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 874,
          "old_api": "CV_Assert",
          "new_api": null,
          "old_text": "CV_Assert( pt.x % cacheStride.width == 0 &&\n                   pt.y % cacheStride.height == 0 )",
          "new_text": null,
          "old_line_content": "        CV_Assert( pt.x % cacheStride.width == 0 &&",
          "new_line_content": "        if( pt.y != ymaxCached[cacheIdx.y] )",
          "content_same": false
        },
        {
          "line": 880,
          "old_api": "row",
          "new_api": null,
          "old_text": "blockCacheFlags.row(cacheIdx.y)",
          "new_text": null,
          "old_line_content": "            Mat_<uchar> cacheRow = blockCacheFlags.row(cacheIdx.y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 886,
          "old_api": "blockCacheFlags",
          "new_api": null,
          "old_text": "blockCacheFlags(cacheIdx.y, cacheIdx.x)",
          "new_text": null,
          "old_line_content": "        uchar& computedFlag = blockCacheFlags(cacheIdx.y, cacheIdx.x);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 894,
          "old_api": "ptr",
          "new_api": null,
          "old_text": "qangle.ptr(pt.y)",
          "new_text": null,
          "old_line_content": "    const uchar* qanglePtr = qangle.ptr(pt.y) + pt.x*2;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 897,
          "old_api": "memset",
          "new_api": null,
          "old_text": "memset(blockHist, 0, sizeof(float) * blockHistogramSize)",
          "new_text": null,
          "old_line_content": "    memset(blockHist, 0, sizeof(float) * blockHistogramSize);",
          "new_line_content": "    for( k = 0; k < C1; k++ )",
          "content_same": false
        },
        {
          "line": 926,
          "old_api": "_mm_mul_ps",
          "new_api": null,
          "old_text": "_mm_mul_ps(_a1, _w)",
          "new_text": null,
          "old_line_content": "        __m128 _t0 = _mm_mul_ps(_a0, _w), _t1 = _mm_mul_ps(_a1, _w);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 928,
          "old_api": "_mm_storeu_ps",
          "new_api": null,
          "old_text": "_mm_storeu_ps(hist0, _t0)",
          "new_text": null,
          "old_line_content": "        _mm_storeu_ps(hist0, _t0);",
          "new_line_content": "        float t0 = hist[h0] + hist0[0];",
          "content_same": false
        },
        {
          "line": 929,
          "old_api": "_mm_storeu_ps",
          "new_api": null,
          "old_text": "_mm_storeu_ps(hist1, _t1)",
          "new_text": null,
          "old_line_content": "        _mm_storeu_ps(hist1, _t1);",
          "new_line_content": "        float t1 = hist[h1] + hist1[0];",
          "content_same": false
        },
        {
          "line": 2983,
          "old_api": "std::vector<float>(detector, detector + sizeof(detector)/sizeof(detector[0]))",
          "new_api": null,
          "old_text": "std::vector<float>(detector, detector + sizeof(detector)/sizeof(detector[0]))",
          "new_text": null,
          "old_line_content": "    return std::vector<float>(detector, detector + sizeof(detector)/sizeof(detector[0]));",
          "new_line_content": "// To use these coeffs the detection window size should be (48,96)",
          "content_same": false
        },
        {
          "line": 951,
          "old_api": "vld1q_f32",
          "new_api": null,
          "old_text": "vld1q_f32(pk.histWeights)",
          "new_text": null,
          "old_line_content": "        float32x4_t _w = vmulq_f32(vdupq_n_f32(pk.gradWeight), vld1q_f32(pk.histWeights));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 956,
          "old_api": "vmlaq_f32",
          "new_api": null,
          "old_text": "vmlaq_f32(_h1, _a1, _w)",
          "new_text": null,
          "old_line_content": "        float32x4_t _t0 = vmlaq_f32(_h0, _a0, _w), _t1 = vmlaq_f32(_h1, _a1, _w);",
          "new_line_content": "        (blockHist + pk.histOfs[0])[h0] = hist0[0];",
          "content_same": false
        },
        {
          "line": 957,
          "old_api": "vst1q_f32",
          "new_api": null,
          "old_text": "vst1q_f32(hist0, _t0)",
          "new_text": null,
          "old_line_content": "        vst1q_f32(hist0, _t0);",
          "new_line_content": "        (blockHist + pk.histOfs[1])[h0] = hist0[1];",
          "content_same": false
        },
        {
          "line": 958,
          "old_api": "vst1q_f32",
          "new_api": null,
          "old_text": "vst1q_f32(hist1, _t1)",
          "new_text": null,
          "old_line_content": "        vst1q_f32(hist1, _t1);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 999,
          "old_api": "_mm_mul_ps",
          "new_api": null,
          "old_text": "_mm_mul_ps(_a1, _w)",
          "new_text": null,
          "old_line_content": "        __m128 _t0 = _mm_mul_ps(_a0, _w), _t1 = _mm_mul_ps(_a1, _w);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1001,
          "old_api": "_mm_storeu_ps",
          "new_api": null,
          "old_text": "_mm_storeu_ps(hist0, _t0)",
          "new_text": null,
          "old_line_content": "        _mm_storeu_ps(hist0, _t0);",
          "new_line_content": "        float t0 = hist[h0] + hist0[0];",
          "content_same": false
        },
        {
          "line": 1002,
          "old_api": "_mm_storeu_ps",
          "new_api": null,
          "old_text": "_mm_storeu_ps(hist1, _t1)",
          "new_text": null,
          "old_line_content": "        _mm_storeu_ps(hist1, _t1);",
          "new_line_content": "        float t1 = hist[h1] + hist1[0];",
          "content_same": false
        },
        {
          "line": 1053,
          "old_api": "vdupq_n_f32",
          "new_api": null,
          "old_text": "vdupq_n_f32(a[1])",
          "new_text": null,
          "old_line_content": "        float32x4_t _a0 = vdupq_n_f32(a[0]), _a1 = vdupq_n_f32(a[1]);",
          "new_line_content": "                                    (blockHist + pk.histOfs[1])[h0],",
          "content_same": false
        },
        {
          "line": 1054,
          "old_api": "vld1q_f32",
          "new_api": null,
          "old_text": "vld1q_f32(pk.histWeights)",
          "new_text": null,
          "old_line_content": "        float32x4_t _w = vmulq_f32(vdupq_n_f32(pk.gradWeight), vld1q_f32(pk.histWeights));",
          "new_line_content": "                                    (blockHist + pk.histOfs[2])[h0],",
          "content_same": false
        },
        {
          "line": 1060,
          "old_api": "vsetq_f32",
          "new_api": null,
          "old_text": "vsetq_f32((blockHist + pk.histOfs[0])[h1],\n                                    (blockHist + pk.histOfs[1])[h1],\n                                    (blockHist + pk.histOfs[2])[h1],\n                                    (blockHist + pk.histOfs[3])[h1])",
          "new_text": null,
          "old_line_content": "        float32x4_t _h1 = vsetq_f32((blockHist + pk.histOfs[0])[h1],",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1066,
          "old_api": "vmlaq_f32",
          "new_api": null,
          "old_text": "vmlaq_f32(_h1, _a1, _w)",
          "new_text": null,
          "old_line_content": "        float32x4_t _t0 = vmlaq_f32(_h0, _a0, _w), _t1 = vmlaq_f32(_h1, _a1, _w);",
          "new_line_content": "        (blockHist + pk.histOfs[0])[h0] = hist0[0];",
          "content_same": false
        },
        {
          "line": 1067,
          "old_api": "vst1q_f32",
          "new_api": null,
          "old_text": "vst1q_f32(hist0, _t0)",
          "new_text": null,
          "old_line_content": "        vst1q_f32(hist0, _t0);",
          "new_line_content": "        (blockHist + pk.histOfs[1])[h0] = hist0[1];",
          "content_same": false
        },
        {
          "line": 1068,
          "old_api": "vst1q_f32",
          "new_api": null,
          "old_text": "vst1q_f32(hist1, _t1)",
          "new_text": null,
          "old_line_content": "        vst1q_f32(hist1, _t1);",
          "new_line_content": "        (blockHist + pk.histOfs[2])[h0] = hist0[2];",
          "content_same": false
        },
        {
          "line": 1115,
          "old_api": "normalizeBlockHistogram",
          "new_api": null,
          "old_text": "normalizeBlockHistogram(blockHist)",
          "new_text": null,
          "old_line_content": "    normalizeBlockHistogram(blockHist);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1126,
          "old_api": "_mm_loadu_ps",
          "new_api": null,
          "old_text": "_mm_loadu_ps(hist)",
          "new_text": null,
          "old_line_content": "    __m128 p0 = _mm_loadu_ps(hist);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1131,
          "old_api": "_mm_loadu_ps",
          "new_api": null,
          "old_text": "_mm_loadu_ps(hist + i)",
          "new_text": null,
          "old_line_content": "        p0 = _mm_loadu_ps(hist + i);",
          "new_line_content": "#elif CV_NEON",
          "content_same": false
        },
        {
          "line": 1134,
          "old_api": "_mm_storeu_ps",
          "new_api": null,
          "old_text": "_mm_storeu_ps(partSum, s)",
          "new_text": null,
          "old_line_content": "    _mm_storeu_ps(partSum, s);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1136,
          "old_api": "vld1q_f32",
          "new_api": null,
          "old_text": "vld1q_f32(hist)",
          "new_text": null,
          "old_line_content": "    float32x4_t p0 = vld1q_f32(hist);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1141,
          "old_api": "vld1q_f32",
          "new_api": null,
          "old_text": "vld1q_f32(hist + i)",
          "new_text": null,
          "old_line_content": "        p0 = vld1q_f32(hist + i);",
          "new_line_content": "#else",
          "content_same": false
        },
        {
          "line": 1142,
          "old_api": "vmulq_f32",
          "new_api": null,
          "old_text": "vmulq_f32(p0, p0)",
          "new_text": null,
          "old_line_content": "        s = vaddq_f32(s, vmulq_f32(p0, p0));",
          "new_line_content": "    partSum[0] = 0.0f;",
          "content_same": false
        },
        {
          "line": 1144,
          "old_api": "vst1q_f32",
          "new_api": null,
          "old_text": "vst1q_f32(partSum, s)",
          "new_text": null,
          "old_line_content": "    vst1q_f32(partSum, s);",
          "new_line_content": "    partSum[2] = 0.0f;",
          "content_same": false
        },
        {
          "line": 1171,
          "old_api": "_mm_loadu_ps",
          "new_api": null,
          "old_text": "_mm_loadu_ps(hist)",
          "new_text": null,
          "old_line_content": "    __m128 p = _mm_mul_ps(_scale, _mm_loadu_ps(hist));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1172,
          "old_api": "_mm_min_ps",
          "new_api": null,
          "old_text": "_mm_min_ps(p, _threshold)",
          "new_text": null,
          "old_line_content": "    p = _mm_min_ps(p, _threshold);",
          "new_line_content": "    for(i = 4 ; i <= sz - 4; i += 4)",
          "content_same": false
        },
        {
          "line": 1173,
          "old_api": "_mm_mul_ps",
          "new_api": null,
          "old_text": "_mm_mul_ps(p, p)",
          "new_text": null,
          "old_line_content": "    s = _mm_mul_ps(p, p);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1179,
          "old_api": "_mm_mul_ps",
          "new_api": null,
          "old_text": "_mm_mul_ps(p, _scale)",
          "new_text": null,
          "old_line_content": "        p = _mm_mul_ps(p, _scale);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1180,
          "old_api": "_mm_min_ps",
          "new_api": null,
          "old_text": "_mm_min_ps(p, _threshold)",
          "new_text": null,
          "old_line_content": "        p = _mm_min_ps(p, _threshold);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1182,
          "old_api": "_mm_storeu_ps",
          "new_api": null,
          "old_text": "_mm_storeu_ps(hist + i, p)",
          "new_text": null,
          "old_line_content": "        _mm_storeu_ps(hist + i, p);",
          "new_line_content": "#elif CV_NEON",
          "content_same": false
        },
        {
          "line": 1185,
          "old_api": "_mm_storeu_ps",
          "new_api": null,
          "old_text": "_mm_storeu_ps(partSum, s)",
          "new_text": null,
          "old_line_content": "    _mm_storeu_ps(partSum, s);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1190,
          "old_api": "vld1q_f32",
          "new_api": null,
          "old_text": "vld1q_f32(hist)",
          "new_text": null,
          "old_line_content": "    float32x4_t p = vmulq_f32(_scale, vld1q_f32(hist));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1191,
          "old_api": "vminq_f32",
          "new_api": null,
          "old_text": "vminq_f32(p, _threshold)",
          "new_text": null,
          "old_line_content": "    p = vminq_f32(p, _threshold);",
          "new_line_content": "    for(i = 4 ; i <= sz - 4; i += 4)",
          "content_same": false
        },
        {
          "line": 1192,
          "old_api": "vmulq_f32",
          "new_api": null,
          "old_text": "vmulq_f32(p, p)",
          "new_text": null,
          "old_line_content": "    s = vmulq_f32(p, p);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1198,
          "old_api": "vmulq_f32",
          "new_api": null,
          "old_text": "vmulq_f32(p, _scale)",
          "new_text": null,
          "old_line_content": "        p = vmulq_f32(p, _scale);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1199,
          "old_api": "vminq_f32",
          "new_api": null,
          "old_text": "vminq_f32(p, _threshold)",
          "new_text": null,
          "old_line_content": "        p = vminq_f32(p, _threshold);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1201,
          "old_api": "vst1q_f32",
          "new_api": null,
          "old_text": "vst1q_f32(hist + i, p)",
          "new_text": null,
          "old_line_content": "        vst1q_f32(hist + i, p);",
          "new_line_content": "#else",
          "content_same": false
        },
        {
          "line": 1204,
          "old_api": "vst1q_f32",
          "new_api": null,
          "old_text": "vst1q_f32(partSum, s)",
          "new_text": null,
          "old_line_content": "    vst1q_f32(partSum, s);",
          "new_line_content": "    partSum[2] = 0.0f;",
          "content_same": false
        },
        {
          "line": 1212,
          "old_api": "std::min(hist[i]*scale, thresh)",
          "new_api": null,
          "old_text": "std::min(hist[i]*scale, thresh)",
          "new_text": null,
          "old_line_content": "        hist[i] = std::min(hist[i]*scale, thresh);",
          "new_line_content": "        partSum[0] += hist[i]*hist[i];",
          "content_same": false
        },
        {
          "line": 1213,
          "old_api": "std::min(hist[i+1]*scale, thresh)",
          "new_api": null,
          "old_text": "std::min(hist[i+1]*scale, thresh)",
          "new_text": null,
          "old_line_content": "        hist[i+1] = std::min(hist[i+1]*scale, thresh);",
          "new_line_content": "        partSum[1] += hist[i+1]*hist[i+1];",
          "content_same": false
        },
        {
          "line": 1214,
          "old_api": "std::min(hist[i+2]*scale, thresh)",
          "new_api": null,
          "old_text": "std::min(hist[i+2]*scale, thresh)",
          "new_text": null,
          "old_line_content": "        hist[i+2] = std::min(hist[i+2]*scale, thresh);",
          "new_line_content": "        partSum[2] += hist[i+2]*hist[i+2];",
          "content_same": false
        },
        {
          "line": 1215,
          "old_api": "std::min(hist[i+3]*scale, thresh)",
          "new_api": null,
          "old_text": "std::min(hist[i+3]*scale, thresh)",
          "new_text": null,
          "old_line_content": "        hist[i+3] = std::min(hist[i+3]*scale, thresh);",
          "new_line_content": "        partSum[3] += hist[i+3]*hist[i+3];",
          "content_same": false
        },
        {
          "line": 1231,
          "old_api": "std::sqrt(sum)",
          "new_api": null,
          "old_text": "std::sqrt(sum)",
          "new_text": null,
          "old_line_content": "    scale = 1.f/(std::sqrt(sum)+1e-3f), i = 0;",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1237,
          "old_api": "_mm_storeu_ps",
          "new_api": null,
          "old_text": "_mm_storeu_ps(hist + i, t)",
          "new_text": null,
          "old_line_content": "        _mm_storeu_ps(hist + i, t);",
          "new_line_content": "    for ( ; i <= sz - 4; i += 4)",
          "content_same": false
        },
        {
          "line": 1243,
          "old_api": "vld1q_f32",
          "new_api": null,
          "old_text": "vld1q_f32(hist + i)",
          "new_text": null,
          "old_line_content": "        float32x4_t t = vmulq_f32(_scale2, vld1q_f32(hist + i));",
          "new_line_content": "    for ( ; i < sz; ++i)",
          "content_same": false
        },
        {
          "line": 1244,
          "old_api": "vst1q_f32",
          "new_api": null,
          "old_text": "vst1q_f32(hist + i, t)",
          "new_text": null,
          "old_line_content": "        vst1q_f32(hist + i, t);",
          "new_line_content": "        hist[i] *= scale;",
          "content_same": false
        },
        {
          "line": 1253,
          "old_api": "Size",
          "new_api": null,
          "old_text": "Size((imageSize.width - winSize.width)/winStride.width + 1,\n        (imageSize.height - winSize.height)/winStride.height + 1)",
          "new_text": null,
          "old_line_content": "    return Size((imageSize.width - winSize.width)/winStride.width + 1,",
          "new_line_content": "Rect HOGCache::getWindow(const Size& imageSize, const Size& winStride, int idx) const",
          "content_same": false
        },
        {
          "line": 1262,
          "old_api": "Rect",
          "new_api": null,
          "old_text": "Rect( x*winStride.width, y*winStride.height, winSize.width, winSize.height )",
          "new_text": null,
          "old_line_content": "    return Rect( x*winStride.width, y*winStride.height, winSize.width, winSize.height );",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1268,
          "old_api": "std::swap(a, b)",
          "new_api": null,
          "old_text": "std::swap(a, b)",
          "new_text": null,
          "old_line_content": "        std::swap(a, b);",
          "new_line_content": "        a = b;",
          "content_same": false
        },
        {
          "line": 1284,
          "old_api": "empty",
          "new_api": null,
          "old_text": "k.empty()",
          "new_text": null,
          "old_line_content": "    if(k.empty())",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1287,
          "old_api": "getUMat",
          "new_api": null,
          "old_text": "_img.getUMat()",
          "new_text": null,
          "old_line_content": "    UMat img = _img.getUMat();",
          "new_line_content": "    char correctGamma = (correct_gamma) ? 1 : 0;",
          "content_same": false
        },
        {
          "line": 1304,
          "old_api": "ocl::KernelArg::PtrWriteOnly(qangle)",
          "new_api": null,
          "old_text": "ocl::KernelArg::PtrWriteOnly(qangle)",
          "new_text": null,
          "old_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrWriteOnly(qangle));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1306,
          "old_api": "set",
          "new_api": null,
          "old_text": "k.set(idx, correctGamma)",
          "new_text": null,
          "old_line_content": "    idx = k.set(idx, correctGamma);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1307,
          "old_api": "set",
          "new_api": null,
          "old_text": "k.set(idx, nbins)",
          "new_text": null,
          "old_line_content": "    idx = k.set(idx, nbins);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1309,
          "old_api": "run",
          "new_api": null,
          "old_text": "k.run(2, globalThreads, localThreads, false)",
          "new_text": null,
          "old_line_content": "    return k.run(2, globalThreads, localThreads, false);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1316,
          "old_api": "ocl_compute_gradients_8UC1",
          "new_api": null,
          "old_text": "ocl_compute_gradients_8UC1(effect_size.height, effect_size.width, img,\n         angleScale, grad, qangle, gamma_correction, nbins)",
          "new_text": null,
          "old_line_content": "    return ocl_compute_gradients_8UC1(effect_size.height, effect_size.width, img,",
          "new_line_content": "#define CELL_WIDTH 8",
          "content_same": false
        },
        {
          "line": 1329,
          "old_api": "empty",
          "new_api": null,
          "old_text": "k.empty()",
          "new_text": null,
          "old_line_content": "    if(k.empty())",
          "new_line_content": "    if(is_cpu)",
          "content_same": false
        },
        {
          "line": 1331,
          "old_api": "type",
          "new_api": null,
          "old_text": "cv::ocl::Device::getDefault().type()",
          "new_text": null,
          "old_line_content": "    bool is_cpu = cv::ocl::Device::getDefault().type() == cv::ocl::Device::TYPE_CPU;",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 1336,
          "old_api": "preferedWorkGroupSizeMultiple",
          "new_api": null,
          "old_text": "k.preferedWorkGroupSizeMultiple()",
          "new_text": null,
          "old_line_content": "        opts = cv::format(\"-D WAVE_SIZE=%d\", k.preferedWorkGroupSizeMultiple());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1337,
          "old_api": "create",
          "new_api": null,
          "old_text": "k.create(\"compute_hists_lut_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts)",
          "new_text": null,
          "old_line_content": "    k.create(\"compute_hists_lut_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts);",
          "new_line_content": "    int img_block_width = (width - CELLS_PER_BLOCK_X * CELL_WIDTH + block_stride_x)/block_stride_x;",
          "content_same": false
        },
        {
          "line": 1338,
          "old_api": "empty",
          "new_api": null,
          "old_text": "k.empty()",
          "new_text": null,
          "old_line_content": "    if(k.empty())",
          "new_line_content": "    int img_block_height = (height - CELLS_PER_BLOCK_Y * CELL_HEIGHT + block_stride_y)/block_stride_y;",
          "content_same": false
        },
        {
          "line": 1345,
          "old_api": "type",
          "new_api": null,
          "old_text": "qangle.type()",
          "new_text": null,
          "old_line_content": "    int qangle_elem_size = CV_ELEM_SIZE1(qangle.type());",
          "new_line_content": "    int blocks_in_group = 4;",
          "content_same": false
        },
        {
          "line": 1369,
          "old_api": "ocl::KernelArg::PtrReadOnly(qangle)",
          "new_api": null,
          "old_text": "ocl::KernelArg::PtrReadOnly(qangle)",
          "new_text": null,
          "old_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrReadOnly(qangle));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1371,
          "old_api": "ocl::KernelArg::PtrWriteOnly(block_hists)",
          "new_api": null,
          "old_text": "ocl::KernelArg::PtrWriteOnly(block_hists)",
          "new_text": null,
          "old_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrWriteOnly(block_hists));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1372,
          "old_api": "set",
          "new_api": null,
          "old_text": "k.set(idx, (void*)NULL, (size_t)smem)",
          "new_text": null,
          "old_line_content": "    idx = k.set(idx, (void*)NULL, (size_t)smem);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1374,
          "old_api": "run",
          "new_api": null,
          "old_text": "k.run(2, globalThreads, localThreads, false)",
          "new_text": null,
          "old_line_content": "    return k.run(2, globalThreads, localThreads, false);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1398,
          "old_api": "type",
          "new_api": null,
          "old_text": "cv::ocl::Device::getDefault().type()",
          "new_text": null,
          "old_line_content": "    bool is_cpu = cv::ocl::Device::getDefault().type() == cv::ocl::Device::TYPE_CPU;",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 1403,
          "old_api": "create",
          "new_api": null,
          "old_text": "k.create(\"normalize_hists_36_kernel\", ocl::objdetect::objdetect_hog_oclsrc, \"\")",
          "new_text": null,
          "old_line_content": "        k.create(\"normalize_hists_36_kernel\", ocl::objdetect::objdetect_hog_oclsrc, \"\");",
          "new_line_content": "           opts = \"-D CPU \";",
          "content_same": false
        },
        {
          "line": 1404,
          "old_api": "empty",
          "new_api": null,
          "old_text": "k.empty()",
          "new_text": null,
          "old_line_content": "        if(k.empty())",
          "new_line_content": "        else",
          "content_same": false
        },
        {
          "line": 1409,
          "old_api": "preferedWorkGroupSizeMultiple",
          "new_api": null,
          "old_text": "k.preferedWorkGroupSizeMultiple()",
          "new_text": null,
          "old_line_content": "            opts = cv::format(\"-D WAVE_SIZE=%d\", k.preferedWorkGroupSizeMultiple());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1410,
          "old_api": "create",
          "new_api": null,
          "old_text": "k.create(\"normalize_hists_36_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts)",
          "new_text": null,
          "old_line_content": "        k.create(\"normalize_hists_36_kernel\", ocl::objdetect::objdetect_hog_oclsrc, opts);",
          "new_line_content": "        int blocks_in_group = NTHREADS / block_hist_size;",
          "content_same": false
        },
        {
          "line": 1411,
          "old_api": "empty",
          "new_api": null,
          "old_text": "k.empty()",
          "new_text": null,
          "old_line_content": "        if(k.empty())",
          "new_line_content": "        nthreads = blocks_in_group * block_hist_size;",
          "content_same": false
        },
        {
          "line": 1422,
          "old_api": "create",
          "new_api": null,
          "old_text": "k.create(\"normalize_hists_kernel\", ocl::objdetect::objdetect_hog_oclsrc, \"-D WAVE_SIZE=32\")",
          "new_text": null,
          "old_line_content": "        k.create(\"normalize_hists_kernel\", ocl::objdetect::objdetect_hog_oclsrc, \"-D WAVE_SIZE=32\");",
          "new_line_content": "           opts = \"-D CPU \";",
          "content_same": false
        },
        {
          "line": 1423,
          "old_api": "empty",
          "new_api": null,
          "old_text": "k.empty()",
          "new_text": null,
          "old_line_content": "        if(k.empty())",
          "new_line_content": "        else",
          "content_same": false
        },
        {
          "line": 1428,
          "old_api": "preferedWorkGroupSizeMultiple",
          "new_api": null,
          "old_text": "k.preferedWorkGroupSizeMultiple()",
          "new_text": null,
          "old_line_content": "            opts = cv::format(\"-D WAVE_SIZE=%d\", k.preferedWorkGroupSizeMultiple());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1430,
          "old_api": "empty",
          "new_api": null,
          "old_text": "k.empty()",
          "new_text": null,
          "old_line_content": "        if(k.empty())",
          "new_line_content": "        globalThreads[0] = img_block_width * nthreads;",
          "content_same": false
        },
        {
          "line": 1433,
          "old_api": "power_2up",
          "new_api": null,
          "old_text": "power_2up(block_hist_size)",
          "new_text": null,
          "old_line_content": "        nthreads = power_2up(block_hist_size);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3487,
          "old_api": "std::vector<float>(detector, detector + sizeof(detector)/sizeof(detector[0]))",
          "new_api": null,
          "old_text": "std::vector<float>(detector, detector + sizeof(detector)/sizeof(detector[0]))",
          "new_text": null,
          "old_line_content": "    return std::vector<float>(detector, detector + sizeof(detector)/sizeof(detector[0]));",
          "new_line_content": "    public ParallelLoopBody",
          "content_same": false
        },
        {
          "line": 1446,
          "old_api": "set",
          "new_api": null,
          "old_text": "k.set(idx, threshold)",
          "new_text": null,
          "old_line_content": "    idx = k.set(idx, threshold);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1447,
          "old_api": "set",
          "new_api": null,
          "old_text": "k.set(idx, (void*)NULL,  nthreads * sizeof(float))",
          "new_text": null,
          "old_line_content": "    idx = k.set(idx, (void*)NULL,  nthreads * sizeof(float));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1449,
          "old_api": "run",
          "new_api": null,
          "old_text": "k.run(2, globalThreads, localThreads, false)",
          "new_text": null,
          "old_line_content": "    return k.run(2, globalThreads, localThreads, false);",
          "new_line_content": "                                       int height, int width, UMat block_hists, UMat descriptors,",
          "content_same": false
        },
        {
          "line": 1457,
          "old_api": "empty",
          "new_api": null,
          "old_text": "k.empty()",
          "new_text": null,
          "old_line_content": "    if(k.empty())",
          "new_line_content": "    int win_block_stride_y = win_stride_y / block_stride_y;",
          "content_same": false
        },
        {
          "line": 3514,
          "old_api": "cvCeil",
          "new_api": null,
          "old_text": "cvCeil(img.rows/(*locations)[0].scale)",
          "new_text": null,
          "old_line_content": "        Size maxSz(cvCeil(img.cols/(*locations)[0].scale), cvCeil(img.rows/(*locations)[0].scale));",
          "new_line_content": "        for( i = i1; i < i2; i++ )",
          "content_same": false
        },
        {
          "line": 3515,
          "old_api": "type",
          "new_api": null,
          "old_text": "img.type()",
          "new_text": null,
          "old_line_content": "        Mat smallerImgBuf(maxSz, img.type());",
          "new_line_content": "        {",
          "content_same": false
        },
        {
          "line": 3523,
          "old_api": "ptr",
          "new_api": null,
          "old_text": "smallerImgBuf.ptr()",
          "new_text": null,
          "old_line_content": "            Mat smallerImg(sz, img.type(), smallerImgBuf.ptr());",
          "new_line_content": "            else",
          "content_same": false
        },
        {
          "line": 3525,
          "old_api": "size",
          "new_api": null,
          "old_text": "img.size()",
          "new_text": null,
          "old_line_content": "            if( sz == img.size() )",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1478,
          "old_api": "set",
          "new_api": null,
          "old_text": "k.set(idx, win_block_stride_x)",
          "new_text": null,
          "old_line_content": "    idx = k.set(idx, win_block_stride_x);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1480,
          "old_api": "ocl::KernelArg::PtrReadOnly(block_hists)",
          "new_api": null,
          "old_text": "ocl::KernelArg::PtrReadOnly(block_hists)",
          "new_text": null,
          "old_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrReadOnly(block_hists));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1481,
          "old_api": "ocl::KernelArg::PtrWriteOnly(descriptors)",
          "new_api": null,
          "old_text": "ocl::KernelArg::PtrWriteOnly(descriptors)",
          "new_text": null,
          "old_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrWriteOnly(descriptors));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1483,
          "old_api": "run",
          "new_api": null,
          "old_text": "k.run(2, globalThreads, localThreads, false)",
          "new_text": null,
          "old_line_content": "    return k.run(2, globalThreads, localThreads, false);",
          "new_line_content": "                                       int height, int width, UMat block_hists, UMat descriptors,",
          "content_same": false
        },
        {
          "line": 3532,
          "old_api": "lock",
          "new_api": null,
          "old_text": "mtx->lock()",
          "new_text": null,
          "old_line_content": "            mtx->lock();",
          "new_line_content": "                                    scaledWinSize.width, scaledWinSize.height));",
          "content_same": false
        },
        {
          "line": 3534,
          "old_api": "cvRound",
          "new_api": null,
          "old_text": "cvRound(dets[j].x*scale)",
          "new_text": null,
          "old_line_content": "                vec->push_back(Rect(cvRound(dets[j].x*scale),",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3535,
          "old_api": "cvRound",
          "new_api": null,
          "old_text": "cvRound(dets[j].y*scale)",
          "new_text": null,
          "old_line_content": "                                    cvRound(dets[j].y*scale),",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3537,
          "old_api": "unlock",
          "new_api": null,
          "old_text": "mtx->unlock()",
          "new_text": null,
          "old_line_content": "            mtx->unlock();",
          "new_line_content": "    const HOGDescriptor* hog;",
          "content_same": false
        },
        {
          "line": 1491,
          "old_api": "empty",
          "new_api": null,
          "old_text": "k.empty()",
          "new_text": null,
          "old_line_content": "    if(k.empty())",
          "new_line_content": "    int win_block_stride_y = win_stride_y / block_stride_y;",
          "content_same": false
        },
        {
          "line": 3554,
          "old_api": "CV_INSTRUMENT_REGION",
          "new_api": null,
          "old_text": "CV_INSTRUMENT_REGION()",
          "new_text": null,
          "old_line_content": "    CV_INSTRUMENT_REGION()",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3556,
          "old_api": "clear",
          "new_api": null,
          "old_text": "foundLocations.clear()",
          "new_text": null,
          "old_line_content": "    foundLocations.clear();",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 3557,
          "old_api": "clear",
          "new_api": null,
          "old_text": "confidences.clear()",
          "new_text": null,
          "old_line_content": "    confidences.clear();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3559,
          "old_api": "empty",
          "new_api": null,
          "old_text": "locations.empty()",
          "new_text": null,
          "old_line_content": "    if( svmDetector.empty() || locations.empty())",
          "new_line_content": "        winStride = cellSize;",
          "content_same": false
        },
        {
          "line": 1513,
          "old_api": "set",
          "new_api": null,
          "old_text": "k.set(idx, win_block_stride_x)",
          "new_text": null,
          "old_line_content": "    idx = k.set(idx, win_block_stride_x);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3562,
          "old_api": "Size",
          "new_api": null,
          "old_text": "Size()",
          "new_text": null,
          "old_line_content": "    if( winStride == Size() )",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1515,
          "old_api": "ocl::KernelArg::PtrReadOnly(block_hists)",
          "new_api": null,
          "old_text": "ocl::KernelArg::PtrReadOnly(block_hists)",
          "new_text": null,
          "old_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrReadOnly(block_hists));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1516,
          "old_api": "ocl::KernelArg::PtrWriteOnly(descriptors)",
          "new_api": null,
          "old_text": "ocl::KernelArg::PtrWriteOnly(descriptors)",
          "new_text": null,
          "old_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrWriteOnly(descriptors));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1518,
          "old_api": "run",
          "new_api": null,
          "old_text": "k.run(2, globalThreads, localThreads, false)",
          "new_text": null,
          "old_line_content": "    return k.run(2, globalThreads, localThreads, false);",
          "new_line_content": "                        Size cellSize, int nbins, Size blockStride, Size winSize, float sigma, bool gammaCorrection, double L2HysThreshold, bool signedGradient)",
          "content_same": false
        },
        {
          "line": 3567,
          "old_api": "size",
          "new_api": null,
          "old_text": "locations.size()",
          "new_text": null,
          "old_line_content": "    size_t nwindows = locations.size();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3568,
          "old_api": "std::max(padding.width, 0)",
          "new_api": null,
          "old_text": "std::max(padding.width, 0)",
          "new_text": null,
          "old_line_content": "    padding.width = (int)alignSize(std::max(padding.width, 0), cacheStride.width);",
          "new_line_content": "    // HOGCache cache(this, img, padding, padding, nwindows == 0, cacheStride);",
          "content_same": false
        },
        {
          "line": 3569,
          "old_api": "std::max(padding.height, 0)",
          "new_api": null,
          "old_text": "std::max(padding.height, 0)",
          "new_text": null,
          "old_line_content": "    padding.height = (int)alignSize(std::max(padding.height, 0), cacheStride.height);",
          "new_line_content": "    HOGCache cache(this, img, padding, padding, true, cacheStride);",
          "content_same": false
        },
        {
          "line": 3581,
          "old_api": "getDescriptorSize",
          "new_api": null,
          "old_text": "getDescriptorSize()",
          "new_text": null,
          "old_line_content": "    size_t dsize = getDescriptorSize();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1533,
          "old_api": "area",
          "new_api": null,
          "old_text": "blocks_per_img.area()",
          "new_text": null,
          "old_line_content": "    UMat block_hists(1, static_cast<int>(block_hist_size * blocks_per_img.area()) + 256, CV_32F);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3583,
          "old_api": "size",
          "new_api": null,
          "old_text": "svmDetector.size()",
          "new_text": null,
          "old_line_content": "    double rho = svmDetector.size() > dsize ? svmDetector[dsize] : 0;",
          "new_line_content": "    float partSum[4];",
          "content_same": false
        },
        {
          "line": 1536,
          "old_api": "area",
          "new_api": null,
          "old_text": "wins_per_img.area()",
          "new_text": null,
          "old_line_content": "    UMat labels(1, wins_per_img.area(), CV_8U);",
          "new_line_content": "    int idx = 0;",
          "content_same": false
        },
        {
          "line": 1535,
          "old_api": "numPartsWithin",
          "new_api": null,
          "old_text": "numPartsWithin(imgSize, winSize, win_stride)",
          "new_text": null,
          "old_line_content": "    Size wins_per_img = numPartsWithin(imgSize, winSize, win_stride);",
          "new_line_content": "    Mat gaussian_lut(1, 512, CV_32FC1);",
          "content_same": false
        },
        {
          "line": 1543,
          "old_api": "std::exp(-(j * j + i * i) * scale)",
          "new_api": null,
          "old_text": "std::exp(-(j * j + i * i) * scale)",
          "new_text": null,
          "old_line_content": "            gaussian_lut.at<float>(idx++) = std::exp(-(j * j + i * i) * scale);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1546,
          "old_api": "fabs",
          "new_api": null,
          "old_text": "fabs(i + 0.5f)",
          "new_text": null,
          "old_line_content": "            gaussian_lut.at<float>(idx++) = (8.f - fabs(j + 0.5f)) * (8.f - fabs(i + 0.5f)) / 64.f;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3598,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "confidences.push_back(-10.0)",
          "new_text": null,
          "old_line_content": "            confidences.push_back(-10.0);",
          "new_line_content": "        double s = rho;",
          "content_same": false
        },
        {
          "line": 1552,
          "old_api": "copyTo",
          "new_api": null,
          "old_text": "gaussian_lut.copyTo(gauss_w_lut)",
          "new_text": null,
          "old_line_content": "    gaussian_lut.copyTo(gauss_w_lut);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1561,
          "old_api": "numPartsWithin",
          "new_api": null,
          "old_text": "numPartsWithin(winSize, blockSize, blockStride)",
          "new_text": null,
          "old_line_content": "    Size blocks_per_win = numPartsWithin(winSize, blockSize, blockStride);",
          "new_line_content": "    int descr_width = (int)block_hist_size*blocks_per_win.width;",
          "content_same": false
        },
        {
          "line": 1562,
          "old_api": "numPartsWithin",
          "new_api": null,
          "old_text": "numPartsWithin(effect_size, winSize, win_stride)",
          "new_text": null,
          "old_line_content": "    wins_per_img = numPartsWithin(effect_size, winSize, win_stride);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1564,
          "old_api": "area",
          "new_api": null,
          "old_text": "blocks_per_win.area()",
          "new_text": null,
          "old_line_content": "    int descr_size = blocks_per_win.area()*(int)block_hist_size;",
          "new_line_content": "    switch (descr_format)",
          "content_same": false
        },
        {
          "line": 3614,
          "old_api": "_mm_loadu_ps",
          "new_api": null,
          "old_text": "_mm_loadu_ps(vec)",
          "new_text": null,
          "old_line_content": "            __m128 _vec = _mm_loadu_ps(vec);",
          "new_line_content": "            for( k = 4; k <= blockHistogramSize - 4; k += 4 )",
          "content_same": false
        },
        {
          "line": 3615,
          "old_api": "_mm_loadu_ps",
          "new_api": null,
          "old_text": "_mm_loadu_ps(svmVec)",
          "new_text": null,
          "old_line_content": "            __m128 _svmVec = _mm_loadu_ps(svmVec);",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1571,
          "old_api": "ocl_extract_descrs_by_rows",
          "new_api": null,
          "old_text": "ocl_extract_descrs_by_rows(winSize.height, winSize.width,\n            blockStride.height, blockStride.width, win_stride.height, win_stride.width, effect_size.height,\n            effect_size.width, block_hists, descriptors, (int)block_hist_size, descr_size, descr_width)",
          "new_text": null,
          "old_line_content": "        if(!ocl_extract_descrs_by_rows(winSize.height, winSize.width,",
          "new_line_content": "        break;",
          "content_same": false
        },
        {
          "line": 3620,
          "old_api": "_mm_loadu_ps",
          "new_api": null,
          "old_text": "_mm_loadu_ps(vec + k)",
          "new_text": null,
          "old_line_content": "                _vec = _mm_loadu_ps(vec + k);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 3621,
          "old_api": "_mm_loadu_ps",
          "new_api": null,
          "old_text": "_mm_loadu_ps(svmVec + k)",
          "new_text": null,
          "old_line_content": "                _svmVec = _mm_loadu_ps(svmVec + k);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3623,
          "old_api": "_mm_mul_ps",
          "new_api": null,
          "old_text": "_mm_mul_ps(_vec, _svmVec)",
          "new_text": null,
          "old_line_content": "                sum = _mm_add_ps(sum, _mm_mul_ps(_vec, _svmVec));",
          "new_line_content": "            double t0 = partSum[0] + partSum[1];",
          "content_same": false
        },
        {
          "line": 1577,
          "old_api": "ocl_extract_descrs_by_cols",
          "new_api": null,
          "old_text": "ocl_extract_descrs_by_cols(winSize.height, winSize.width,\n            blockStride.height, blockStride.width, win_stride.height, win_stride.width, effect_size.height, effect_size.width,\n            block_hists, descriptors, (int)block_hist_size, descr_size, blocks_per_win.width, blocks_per_win.height)",
          "new_text": null,
          "old_line_content": "        if(!ocl_extract_descrs_by_cols(winSize.height, winSize.width,",
          "new_line_content": "        break;",
          "content_same": false
        },
        {
          "line": 3626,
          "old_api": "_mm_storeu_ps",
          "new_api": null,
          "old_text": "_mm_storeu_ps(partSum, sum)",
          "new_text": null,
          "old_line_content": "            _mm_storeu_ps(partSum, sum);",
          "new_line_content": "#elif CV_NEON",
          "content_same": false
        },
        {
          "line": 3631,
          "old_api": "vld1q_f32",
          "new_api": null,
          "old_text": "vld1q_f32(vec)",
          "new_text": null,
          "old_line_content": "            float32x4_t _vec = vld1q_f32(vec);",
          "new_line_content": "            for( k = 4; k <= blockHistogramSize - 4; k += 4 )",
          "content_same": false
        },
        {
          "line": 3632,
          "old_api": "vld1q_f32",
          "new_api": null,
          "old_text": "vld1q_f32(svmVec)",
          "new_text": null,
          "old_line_content": "            float32x4_t _svmVec = vld1q_f32(svmVec);",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1585,
          "old_api": "total",
          "new_api": null,
          "old_text": "descriptors.total()",
          "new_text": null,
          "old_line_content": "    descriptors.reshape(1, (int)descriptors.total()).getMat(ACCESS_READ).copyTo(_descriptors);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3637,
          "old_api": "vld1q_f32",
          "new_api": null,
          "old_text": "vld1q_f32(vec + k)",
          "new_text": null,
          "old_line_content": "                _vec = vld1q_f32(vec + k);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 3638,
          "old_api": "vld1q_f32",
          "new_api": null,
          "old_text": "vld1q_f32(svmVec + k)",
          "new_text": null,
          "old_line_content": "                _svmVec = vld1q_f32(svmVec + k);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3640,
          "old_api": "vmulq_f32",
          "new_api": null,
          "old_text": "vmulq_f32(_vec, _svmVec)",
          "new_text": null,
          "old_line_content": "                sum = vaddq_f32(sum, vmulq_f32(_vec, _svmVec));",
          "new_line_content": "            double t0 = partSum[0] + partSum[1];",
          "content_same": false
        },
        {
          "line": 1595,
          "old_api": "Size",
          "new_api": null,
          "old_text": "Size()",
          "new_text": null,
          "old_line_content": "    if( winStride == Size() )",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3643,
          "old_api": "vst1q_f32",
          "new_api": null,
          "old_text": "vst1q_f32(partSum, sum)",
          "new_text": null,
          "old_line_content": "            vst1q_f32(partSum, sum);",
          "new_line_content": "#else",
          "content_same": false
        },
        {
          "line": 1597,
          "old_api": "gcd",
          "new_api": null,
          "old_text": "gcd(winStride.width, blockStride.width)",
          "new_text": null,
          "old_line_content": "    Size cacheStride(gcd(winStride.width, blockStride.width),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1602,
          "old_api": "size",
          "new_api": null,
          "old_text": "locations.size()",
          "new_text": null,
          "old_line_content": "    size_t nwindows = locations.size();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3655,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "confidences.push_back(s)",
          "new_text": null,
          "old_line_content": "        confidences.push_back(s);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1608,
          "old_api": "ocl_compute",
          "new_api": null,
          "old_text": "ocl_compute(_img, winStride, descriptors, DESCR_FORMAT_COL_BY_COL, blockSize,\n        cellSize, nbins, blockStride, winSize, (float)getWinSigma(), gammaCorrection, L2HysThreshold, signedGradient)",
          "new_text": null,
          "old_line_content": "        ocl_compute(_img, winStride, descriptors, DESCR_FORMAT_COL_BY_COL, blockSize,",
          "new_line_content": "    HOGCache cache(this, img, padding, padding, nwindows == 0, cacheStride);",
          "content_same": false
        },
        {
          "line": 1609,
          "old_api": "getWinSigma",
          "new_api": null,
          "old_text": "getWinSigma()",
          "new_text": null,
          "old_line_content": "        cellSize, nbins, blockStride, winSize, (float)getWinSigma(), gammaCorrection, L2HysThreshold, signedGradient))",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3658,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "foundLocations.push_back(pt0)",
          "new_text": null,
          "old_line_content": "            foundLocations.push_back(pt0);",
          "new_line_content": "void HOGDescriptor::detectMultiScaleROI(const cv::Mat& img,",
          "content_same": false
        },
        {
          "line": 3666,
          "old_api": "CV_INSTRUMENT_REGION",
          "new_api": null,
          "old_text": "CV_INSTRUMENT_REGION()",
          "new_text": null,
          "old_line_content": "    CV_INSTRUMENT_REGION()",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1619,
          "old_api": "area",
          "new_api": null,
          "old_text": "cache.nblocks.area()",
          "new_text": null,
          "old_line_content": "    int nblocks = cache.nblocks.area();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1621,
          "old_api": "getDescriptorSize",
          "new_api": null,
          "old_text": "getDescriptorSize()",
          "new_text": null,
          "old_line_content": "    size_t dsize = getDescriptorSize();",
          "new_line_content": "    for( size_t i = 0; i < nwindows; i++ )",
          "content_same": false
        },
        {
          "line": 1622,
          "old_api": "resize",
          "new_api": null,
          "old_text": "descriptors.resize(dsize*nwindows)",
          "new_text": null,
          "old_line_content": "    descriptors.resize(dsize*nwindows);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 3675,
          "old_api": "size",
          "new_api": null,
          "old_text": "allCandidates.size()",
          "new_text": null,
          "old_line_content": "    foundLocations.resize(allCandidates.size());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3676,
          "old_api": "begin",
          "new_api": null,
          "old_text": "foundLocations.begin()",
          "new_text": null,
          "old_line_content": "    std::copy(allCandidates.begin(), allCandidates.end(), foundLocations.begin());",
          "new_line_content": "void HOGDescriptor::readALTModel(String modelfile)",
          "content_same": false
        },
        {
          "line": 3677,
          "old_api": "cv::groupRectangles(foundLocations, groupThreshold, 0.2)",
          "new_api": null,
          "old_text": "cv::groupRectangles(foundLocations, groupThreshold, 0.2)",
          "new_text": null,
          "old_line_content": "    cv::groupRectangles(foundLocations, groupThreshold, 0.2);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1630,
          "old_api": "empty",
          "new_api": null,
          "old_text": "locations.empty()",
          "new_text": null,
          "old_line_content": "        if( !locations.empty() )",
          "new_line_content": "                pt0.y < -padding.height || pt0.y > img.rows + padding.height - winSize.height )",
          "content_same": false
        },
        {
          "line": 3684,
          "old_api": "c_str",
          "new_api": null,
          "old_text": "modelfile.c_str()",
          "new_text": null,
          "old_line_content": "    if ((modelfl = fopen(modelfile.c_str(), \"rb\")) == NULL)",
          "new_line_content": "        String efunc(__FUNCTION__);",
          "content_same": false
        },
        {
          "line": 1639,
          "old_api": "Point",
          "new_api": null,
          "old_text": "Point(padding)",
          "new_text": null,
          "old_line_content": "            pt0 = cache.getWindow(paddedImgSize, winStride, (int)i).tl() - Point(padding);",
          "new_line_content": "        for( int j = 0; j < nblocks; j++ )",
          "content_same": false
        },
        {
          "line": 3689,
          "old_api": "Exception",
          "new_api": null,
          "old_text": "Exception(Error::StsError, eerr, efile, efunc, __LINE__)",
          "new_text": null,
          "old_line_content": "        CV_THROW (Exception(Error::StsError, eerr, efile, efunc, __LINE__));",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 3692,
          "old_api": "fread (&version_buffer,sizeof(char),10,modelfl)",
          "new_api": null,
          "old_text": "fread (&version_buffer,sizeof(char),10,modelfl)",
          "new_text": null,
          "old_line_content": "    if (!fread (&version_buffer,sizeof(char),10,modelfl))",
          "new_line_content": "        String efunc(__FUNCTION__);",
          "content_same": false
        },
        {
          "line": 1649,
          "old_api": "getBlock",
          "new_api": null,
          "old_text": "cache.getBlock(pt, dst)",
          "new_text": null,
          "old_line_content": "            const float* src = cache.getBlock(pt, dst);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1651,
          "old_api": "memcpy",
          "new_api": null,
          "old_text": "memcpy(dst, src, blockHistogramSize * sizeof(float))",
          "new_text": null,
          "old_line_content": "                memcpy(dst, src, blockHistogramSize * sizeof(float));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3699,
          "old_api": "Exception",
          "new_api": null,
          "old_text": "Exception(Error::StsError, eerr, efile, efunc, __LINE__)",
          "new_text": null,
          "old_line_content": "        CV_THROW (Exception(Error::StsError, eerr, efile, efunc, __LINE__));",
          "new_line_content": "        String efile(__FILE__);",
          "content_same": false
        },
        {
          "line": 3705,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(modelfl)",
          "new_text": null,
          "old_line_content": "        fclose(modelfl);",
          "new_line_content": "    /* read version number */",
          "content_same": false
        },
        {
          "line": 1662,
          "old_api": "clear",
          "new_api": null,
          "old_text": "hits.clear()",
          "new_text": null,
          "old_line_content": "    hits.clear();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3711,
          "old_api": "fread (&version,sizeof(int),1,modelfl)",
          "new_api": null,
          "old_text": "fread (&version,sizeof(int),1,modelfl)",
          "new_text": null,
          "old_line_content": "    if (!fread (&version,sizeof(int),1,modelfl))",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1664,
          "old_api": "empty",
          "new_api": null,
          "old_text": "svmDetector.empty()",
          "new_text": null,
          "old_line_content": "    if( svmDetector.empty() )",
          "new_line_content": "        winStride = cellSize;",
          "content_same": false
        },
        {
          "line": 3713,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(modelfl)",
          "new_text": null,
          "old_line_content": "        fclose(modelfl);",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 3714,
          "old_api": "Exception",
          "new_api": null,
          "old_text": "Exception()",
          "new_text": null,
          "old_line_content": "        CV_THROW (Exception());",
          "new_line_content": "        String eerr(\"version does not match\");",
          "content_same": false
        },
        {
          "line": 1667,
          "old_api": "Size",
          "new_api": null,
          "old_text": "Size()",
          "new_text": null,
          "old_line_content": "    if( winStride == Size() )",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1672,
          "old_api": "size",
          "new_api": null,
          "old_text": "locations.size()",
          "new_text": null,
          "old_line_content": "    size_t nwindows = locations.size();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1673,
          "old_api": "std::max(padding.width, 0)",
          "new_api": null,
          "old_text": "std::max(padding.width, 0)",
          "new_text": null,
          "old_line_content": "    padding.width = (int)alignSize(std::max(padding.width, 0), cacheStride.width);",
          "new_line_content": "    HOGCache cache(this, img, padding, padding, nwindows == 0, cacheStride);",
          "content_same": false
        },
        {
          "line": 1674,
          "old_api": "std::max(padding.height, 0)",
          "new_api": null,
          "old_text": "std::max(padding.height, 0)",
          "new_text": null,
          "old_line_content": "    padding.height = (int)alignSize(std::max(padding.height, 0), cacheStride.height);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3721,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(modelfl)",
          "new_text": null,
          "old_line_content": "        fclose(modelfl);",
          "new_line_content": "    size_t nread;",
          "content_same": false
        },
        {
          "line": 3730,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread(&(poly_degree),sizeof(int),1,modelfl)",
          "new_text": null,
          "old_line_content": "        nread=fread(&(poly_degree),sizeof(int),1,modelfl);",
          "new_line_content": "        double coef_lin;",
          "content_same": false
        },
        {
          "line": 1686,
          "old_api": "getDescriptorSize",
          "new_api": null,
          "old_text": "getDescriptorSize()",
          "new_text": null,
          "old_line_content": "    size_t dsize = getDescriptorSize();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1688,
          "old_api": "size",
          "new_api": null,
          "old_text": "svmDetector.size()",
          "new_text": null,
          "old_line_content": "    double rho = svmDetector.size() > dsize ? svmDetector[dsize] : 0;",
          "new_line_content": "    float partSum[4];",
          "content_same": false
        },
        {
          "line": 3737,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread(&(coef_const),sizeof(double),1,modelfl)",
          "new_text": null,
          "old_line_content": "        nread=fread(&(coef_const),sizeof(double),1,modelfl);",
          "new_line_content": "        char* custom = new char[l];",
          "content_same": false
        },
        {
          "line": 3739,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread(&l,sizeof(int),1,modelfl)",
          "new_text": null,
          "old_line_content": "        nread=fread(&l,sizeof(int),1,modelfl);",
          "new_line_content": "        delete[] custom;",
          "content_same": false
        },
        {
          "line": 3740,
          "old_api": "CV_Assert",
          "new_api": null,
          "old_text": "CV_Assert(l >= 0 && l < 0xFFFF)",
          "new_text": null,
          "old_line_content": "        CV_Assert(l >= 0 && l < 0xFFFF);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1698,
          "old_api": "empty",
          "new_api": null,
          "old_text": "locations.empty()",
          "new_text": null,
          "old_line_content": "        if( !locations.empty() )",
          "new_line_content": "                    pt0.y < -padding.height || pt0.y > img.rows + padding.height - winSize.height )",
          "content_same": false
        },
        {
          "line": 3746,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread(&(totwords),sizeof(int),1,modelfl)",
          "new_text": null,
          "old_line_content": "    nread=fread(&(totwords),sizeof(int),1,modelfl);",
          "new_line_content": "        int sv_num;",
          "content_same": false
        },
        {
          "line": 3749,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread(&(totdoc),sizeof(int),1,modelfl)",
          "new_text": null,
          "old_line_content": "        nread=fread(&(totdoc),sizeof(int),1,modelfl);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1707,
          "old_api": "Point",
          "new_api": null,
          "old_text": "Point(padding)",
          "new_text": null,
          "old_line_content": "            pt0 = cache.getWindow(paddedImgSize, winStride, (int)i).tl() - Point(padding);",
          "new_line_content": "        const float* svmVec = &svmDetector[0];",
          "content_same": false
        },
        {
          "line": 1708,
          "old_api": "CV_Assert",
          "new_api": null,
          "old_text": "CV_Assert(pt0.x % cacheStride.width == 0 && pt0.y % cacheStride.height == 0)",
          "new_text": null,
          "old_line_content": "            CV_Assert(pt0.x % cacheStride.width == 0 && pt0.y % cacheStride.height == 0);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3755,
          "old_api": "fread",
          "new_api": null,
          "old_text": "fread(&linearbias, sizeof(double), 1, modelfl)",
          "new_text": null,
          "old_line_content": "    nread=fread(&linearbias, sizeof(double), 1, modelfl);",
          "new_line_content": "    if(kernel_type == 0) { /* linear kernel */",
          "content_same": false
        },
        {
          "line": 3758,
          "old_api": "clear",
          "new_api": null,
          "old_text": "detector.clear()",
          "new_text": null,
          "old_line_content": "    detector.clear();",
          "new_line_content": "        double *linearwt = new double[totwords+1];",
          "content_same": false
        },
        {
          "line": 3765,
          "old_api": "static_cast<size_t>(length)",
          "new_api": null,
          "old_text": "static_cast<size_t>(length)",
          "new_text": null,
          "old_line_content": "        if(nread != static_cast<size_t>(length) + 1) {",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 3767,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(modelfl)",
          "new_text": null,
          "old_line_content": "            fclose(modelfl);",
          "new_line_content": "        for(int i = 0; i < length; i++)",
          "content_same": false
        },
        {
          "line": 1721,
          "old_api": "_mm_loadu_ps",
          "new_api": null,
          "old_text": "_mm_loadu_ps(vec)",
          "new_text": null,
          "old_line_content": "            __m128 _vec = _mm_loadu_ps(vec);",
          "new_line_content": "            for( k = 4; k <= blockHistogramSize - 4; k += 4 )",
          "content_same": false
        },
        {
          "line": 1722,
          "old_api": "_mm_loadu_ps",
          "new_api": null,
          "old_text": "_mm_loadu_ps(svmVec)",
          "new_text": null,
          "old_line_content": "            __m128 _svmVec = _mm_loadu_ps(svmVec);",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 3772,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "detector.push_back((float)linearwt[i])",
          "new_text": null,
          "old_line_content": "            detector.push_back((float)linearwt[i]);",
          "new_line_content": "        delete [] linearwt;",
          "content_same": false
        },
        {
          "line": 1727,
          "old_api": "_mm_loadu_ps",
          "new_api": null,
          "old_text": "_mm_loadu_ps(vec + k)",
          "new_text": null,
          "old_line_content": "                _vec = _mm_loadu_ps(vec + k);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1728,
          "old_api": "_mm_loadu_ps",
          "new_api": null,
          "old_text": "_mm_loadu_ps(svmVec + k)",
          "new_text": null,
          "old_line_content": "                _svmVec = _mm_loadu_ps(svmVec + k);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1730,
          "old_api": "_mm_mul_ps",
          "new_api": null,
          "old_text": "_mm_mul_ps(_vec, _svmVec)",
          "new_text": null,
          "old_line_content": "                sum = _mm_add_ps(sum, _mm_mul_ps(_vec, _svmVec));",
          "new_line_content": "            double t0 = partSum[0] + partSum[1];",
          "content_same": false
        },
        {
          "line": 3778,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(modelfl)",
          "new_text": null,
          "old_line_content": "        fclose(modelfl);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3779,
          "old_api": "Exception",
          "new_api": null,
          "old_text": "Exception()",
          "new_text": null,
          "old_line_content": "        CV_THROW (Exception());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1733,
          "old_api": "_mm_storeu_ps",
          "new_api": null,
          "old_text": "_mm_storeu_ps(partSum, sum)",
          "new_text": null,
          "old_line_content": "            _mm_storeu_ps(partSum, sum);",
          "new_line_content": "#elif CV_NEON",
          "content_same": false
        },
        {
          "line": 3781,
          "old_api": "fclose",
          "new_api": null,
          "old_text": "fclose(modelfl)",
          "new_text": null,
          "old_line_content": "    fclose(modelfl);",
          "new_line_content": "{",
          "content_same": false
        },
        {
          "line": 1738,
          "old_api": "vld1q_f32",
          "new_api": null,
          "old_text": "vld1q_f32(vec)",
          "new_text": null,
          "old_line_content": "            float32x4_t _vec = vld1q_f32(vec);",
          "new_line_content": "            for( k = 4; k <= blockHistogramSize - 4; k += 4 )",
          "content_same": false
        },
        {
          "line": 1739,
          "old_api": "vld1q_f32",
          "new_api": null,
          "old_text": "vld1q_f32(svmVec)",
          "new_text": null,
          "old_line_content": "            float32x4_t _svmVec = vld1q_f32(svmVec);",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 3786,
          "old_api": "CV_INSTRUMENT_REGION",
          "new_api": null,
          "old_text": "CV_INSTRUMENT_REGION()",
          "new_text": null,
          "old_line_content": "    CV_INSTRUMENT_REGION()",
          "new_line_content": "        return;",
          "content_same": false
        },
        {
          "line": 3788,
          "old_api": "empty",
          "new_api": null,
          "old_text": "rectList.empty()",
          "new_text": null,
          "old_line_content": "    if( groupThreshold <= 0 || rectList.empty() )",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1744,
          "old_api": "vld1q_f32",
          "new_api": null,
          "old_text": "vld1q_f32(vec + k)",
          "new_text": null,
          "old_line_content": "                _vec = vld1q_f32(vec + k);",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1745,
          "old_api": "vld1q_f32",
          "new_api": null,
          "old_text": "vld1q_f32(svmVec + k)",
          "new_text": null,
          "old_line_content": "                _svmVec = vld1q_f32(svmVec + k);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3793,
          "old_api": "size",
          "new_api": null,
          "old_text": "weights.size()",
          "new_text": null,
          "old_line_content": "    CV_Assert(rectList.size() == weights.size());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1747,
          "old_api": "vmulq_f32",
          "new_api": null,
          "old_text": "vmulq_f32(_vec, _svmVec)",
          "new_text": null,
          "old_line_content": "                sum = vaddq_f32(sum, vmulq_f32(_vec, _svmVec));",
          "new_line_content": "            double t0 = partSum[0] + partSum[1];",
          "content_same": false
        },
        {
          "line": 1750,
          "old_api": "vst1q_f32",
          "new_api": null,
          "old_text": "vst1q_f32(partSum, sum)",
          "new_text": null,
          "old_line_content": "            vst1q_f32(partSum, sum);",
          "new_line_content": "#else",
          "content_same": false
        },
        {
          "line": 3800,
          "old_api": "std::numeric_limits<double>::max()",
          "new_api": null,
          "old_text": "std::numeric_limits<double>::max()",
          "new_text": null,
          "old_line_content": "    std::vector<double> foundWeights(nclasses, -std::numeric_limits<double>::max());",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 3801,
          "old_api": "size",
          "new_api": null,
          "old_text": "labels.size()",
          "new_text": null,
          "old_line_content": "    int i, j, nlabels = (int)labels.size();",
          "new_line_content": "        int cls = labels[i];",
          "content_same": false
        },
        {
          "line": 3810,
          "old_api": "max",
          "new_api": null,
          "old_text": "max(foundWeights[cls], weights[i])",
          "new_text": null,
          "old_line_content": "        foundWeights[cls] = max(foundWeights[cls], weights[i]);",
          "new_line_content": "    for( i = 0; i < nclasses; i++ )",
          "content_same": false
        },
        {
          "line": 1764,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "hits.push_back(pt0)",
          "new_text": null,
          "old_line_content": "            hits.push_back(pt0);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1765,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "weights.push_back(s)",
          "new_text": null,
          "old_line_content": "            weights.push_back(s);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 3819,
          "old_api": "cv::saturate_cast<double>(r.x*s)",
          "new_api": null,
          "old_text": "cv::saturate_cast<double>(r.x*s)",
          "new_text": null,
          "old_line_content": "        rrects[i] = cv::Rect_<double>(cv::saturate_cast<double>(r.x*s),",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 3820,
          "old_api": "cv::saturate_cast<double>(r.y*s)",
          "new_api": null,
          "old_text": "cv::saturate_cast<double>(r.y*s)",
          "new_text": null,
          "old_line_content": "            cv::saturate_cast<double>(r.y*s),",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1773,
          "old_api": "CV_INSTRUMENT_REGION",
          "new_api": null,
          "old_text": "CV_INSTRUMENT_REGION()",
          "new_text": null,
          "old_line_content": "    CV_INSTRUMENT_REGION()",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1776,
          "old_api": "detect",
          "new_api": null,
          "old_text": "detect(img, hits, weightsV, hitThreshold, winStride, padding, locations)",
          "new_text": null,
          "old_line_content": "    detect(img, hits, weightsV, hitThreshold, winStride, padding, locations);",
          "new_line_content": "    public ParallelLoopBody",
          "content_same": false
        },
        {
          "line": 3825,
          "old_api": "clear",
          "new_api": null,
          "old_text": "rectList.clear()",
          "new_text": null,
          "old_line_content": "    rectList.clear();",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 3826,
          "old_api": "clear",
          "new_api": null,
          "old_text": "weights.clear()",
          "new_text": null,
          "old_line_content": "    weights.clear();",
          "new_line_content": "        cv::Rect r1 = rrects[i];",
          "content_same": false
        },
        {
          "line": 3845,
          "old_api": "cv::saturate_cast<int>( r2.width * eps )",
          "new_api": null,
          "old_text": "cv::saturate_cast<int>( r2.width * eps )",
          "new_text": null,
          "old_line_content": "            int dx = cv::saturate_cast<int>( r2.width * eps );",
          "new_line_content": "                r1.y >= r2.y - dy &&",
          "content_same": false
        },
        {
          "line": 3846,
          "old_api": "cv::saturate_cast<int>( r2.height * eps )",
          "new_api": null,
          "old_text": "cv::saturate_cast<int>( r2.height * eps )",
          "new_text": null,
          "old_line_content": "            int dy = cv::saturate_cast<int>( r2.height * eps );",
          "new_line_content": "                r1.x + r1.width <= r2.x + r2.width + dx &&",
          "content_same": false
        },
        {
          "line": 1803,
          "old_api": "std::max(img.cols, img.rows)",
          "new_api": null,
          "old_text": "std::max(img.cols, img.rows)",
          "new_text": null,
          "old_line_content": "        double minScale = i1 > 0 ? levelScale[i1] : i2 > 1 ? levelScale[i1+1] : std::max(img.cols, img.rows);",
          "new_line_content": "        std::vector<double> hitsWeights;",
          "content_same": false
        },
        {
          "line": 1804,
          "old_api": "cvCeil",
          "new_api": null,
          "old_text": "cvCeil(img.rows/minScale)",
          "new_text": null,
          "old_line_content": "        Size maxSz(cvCeil(img.cols/minScale), cvCeil(img.rows/minScale));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1805,
          "old_api": "type",
          "new_api": null,
          "old_text": "img.type()",
          "new_text": null,
          "old_line_content": "        Mat smallerImgBuf(maxSz, img.type());",
          "new_line_content": "        for( i = i1; i < i2; i++ )",
          "content_same": false
        },
        {
          "line": 3852,
          "old_api": "std::max(3, n1)",
          "new_api": null,
          "old_text": "std::max(3, n1)",
          "new_text": null,
          "old_line_content": "                (n2 > std::max(3, n1) || n1 < 3) )",
          "new_line_content": "        if( j == nclasses )",
          "content_same": false
        },
        {
          "line": 3858,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "rectList.push_back(r1)",
          "new_text": null,
          "old_line_content": "            rectList.push_back(r1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 3859,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "weights.push_back(w1)",
          "new_text": null,
          "old_line_content": "            weights.push_back(w1);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1812,
          "old_api": "cvRound",
          "new_api": null,
          "old_text": "cvRound(img.rows/scale)",
          "new_text": null,
          "old_line_content": "            Size sz(cvRound(img.cols/scale), cvRound(img.rows/scale));",
          "new_line_content": "            else",
          "content_same": false
        },
        {
          "line": 1819,
          "old_api": "cvRound",
          "new_api": null,
          "old_text": "cvRound(hog->winSize.height*scale)",
          "new_text": null,
          "old_line_content": "            Size scaledWinSize = Size(cvRound(hog->winSize.width*scale), cvRound(hog->winSize.height*scale));",
          "new_line_content": "            {",
          "content_same": false
        },
        {
          "line": 1822,
          "old_api": "size",
          "new_api": null,
          "old_text": "locations.size()",
          "new_text": null,
          "old_line_content": "            for( size_t j = 0; j < locations.size(); j++ )",
          "new_line_content": "                                    scaledWinSize.width, scaledWinSize.height));",
          "content_same": false
        },
        {
          "line": 1825,
          "old_api": "cvRound",
          "new_api": null,
          "old_text": "cvRound(locations[j].y*scale)",
          "new_text": null,
          "old_line_content": "                                    cvRound(locations[j].y*scale),",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1834,
          "old_api": "lock",
          "new_api": null,
          "old_text": "mtx->lock()",
          "new_text": null,
          "old_line_content": "                mtx->lock();",
          "new_line_content": "            }",
          "content_same": false
        },
        {
          "line": 1835,
          "old_api": "size",
          "new_api": null,
          "old_text": "locations.size()",
          "new_text": null,
          "old_line_content": "                for (size_t j = 0; j < locations.size(); j++)",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 1836,
          "old_api": "push_back",
          "new_api": null,
          "old_text": "weights->push_back(hitsWeights[j])",
          "new_text": null,
          "old_line_content": "                    weights->push_back(hitsWeights[j]);",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1837,
          "old_api": "unlock",
          "new_api": null,
          "old_text": "mtx->unlock()",
          "new_text": null,
          "old_line_content": "                mtx->unlock();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1863,
          "old_api": "type",
          "new_api": null,
          "old_text": "cv::ocl::Device::getDefault().type()",
          "new_text": null,
          "old_line_content": "    bool is_cpu = cv::ocl::Device::getDefault().type() == cv::ocl::Device::TYPE_CPU;",
          "new_line_content": "    int idx = 0;",
          "content_same": false
        },
        {
          "line": 1872,
          "old_api": "create",
          "new_api": null,
          "old_text": "k.create(\"classify_hists_180_kernel\", ocl::objdetect::objdetect_hog_oclsrc, \"-D WAVE_SIZE=32\")",
          "new_text": null,
          "old_line_content": "        k.create(\"classify_hists_180_kernel\", ocl::objdetect::objdetect_hog_oclsrc, \"-D WAVE_SIZE=32\");",
          "new_line_content": "           opts = \"-D CPU \";",
          "content_same": false
        },
        {
          "line": 1873,
          "old_api": "empty",
          "new_api": null,
          "old_text": "k.empty()",
          "new_text": null,
          "old_line_content": "        if(k.empty())",
          "new_line_content": "        else",
          "content_same": false
        },
        {
          "line": 1880,
          "old_api": "empty",
          "new_api": null,
          "old_text": "k.empty()",
          "new_text": null,
          "old_line_content": "        if(k.empty())",
          "new_line_content": "        break;",
          "content_same": false
        },
        {
          "line": 1882,
          "old_api": "set",
          "new_api": null,
          "old_text": "k.set(idx, descr_size.width)",
          "new_text": null,
          "old_line_content": "        idx = k.set(idx, descr_size.width);",
          "new_line_content": "    case 252:",
          "content_same": false
        },
        {
          "line": 1883,
          "old_api": "set",
          "new_api": null,
          "old_text": "k.set(idx, descr_size.height)",
          "new_text": null,
          "old_line_content": "        idx = k.set(idx, descr_size.height);",
          "new_line_content": "        nthreads = 256;",
          "content_same": false
        },
        {
          "line": 1888,
          "old_api": "create",
          "new_api": null,
          "old_text": "k.create(\"classify_hists_252_kernel\", ocl::objdetect::objdetect_hog_oclsrc, \"-D WAVE_SIZE=32\")",
          "new_text": null,
          "old_line_content": "        k.create(\"classify_hists_252_kernel\", ocl::objdetect::objdetect_hog_oclsrc, \"-D WAVE_SIZE=32\");",
          "new_line_content": "           opts = \"-D CPU \";",
          "content_same": false
        },
        {
          "line": 1889,
          "old_api": "empty",
          "new_api": null,
          "old_text": "k.empty()",
          "new_text": null,
          "old_line_content": "        if(k.empty())",
          "new_line_content": "        else",
          "content_same": false
        },
        {
          "line": 1896,
          "old_api": "empty",
          "new_api": null,
          "old_text": "k.empty()",
          "new_text": null,
          "old_line_content": "        if(k.empty())",
          "new_line_content": "        break;",
          "content_same": false
        },
        {
          "line": 1898,
          "old_api": "set",
          "new_api": null,
          "old_text": "k.set(idx, descr_size.width)",
          "new_text": null,
          "old_line_content": "        idx = k.set(idx, descr_size.width);",
          "new_line_content": "    default:",
          "content_same": false
        },
        {
          "line": 1899,
          "old_api": "set",
          "new_api": null,
          "old_text": "k.set(idx, descr_size.height)",
          "new_text": null,
          "old_line_content": "        idx = k.set(idx, descr_size.height);",
          "new_line_content": "        nthreads = 256;",
          "content_same": false
        },
        {
          "line": 1904,
          "old_api": "create",
          "new_api": null,
          "old_text": "k.create(\"classify_hists_kernel\", ocl::objdetect::objdetect_hog_oclsrc, \"-D WAVE_SIZE=32\")",
          "new_text": null,
          "old_line_content": "        k.create(\"classify_hists_kernel\", ocl::objdetect::objdetect_hog_oclsrc, \"-D WAVE_SIZE=32\");",
          "new_line_content": "           opts = \"-D CPU \";",
          "content_same": false
        },
        {
          "line": 1905,
          "old_api": "empty",
          "new_api": null,
          "old_text": "k.empty()",
          "new_text": null,
          "old_line_content": "        if(k.empty())",
          "new_line_content": "        else",
          "content_same": false
        },
        {
          "line": 1912,
          "old_api": "empty",
          "new_api": null,
          "old_text": "k.empty()",
          "new_text": null,
          "old_line_content": "        if(k.empty())",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 1914,
          "old_api": "area",
          "new_api": null,
          "old_text": "descr_size.area()",
          "new_text": null,
          "old_line_content": "        idx = k.set(idx, descr_size.area());",
          "new_line_content": "    int win_block_stride_x = win_stride_x / block_stride_x;",
          "content_same": false
        },
        {
          "line": 1915,
          "old_api": "set",
          "new_api": null,
          "old_text": "k.set(idx, descr_size.height)",
          "new_text": null,
          "old_line_content": "        idx = k.set(idx, descr_size.height);",
          "new_line_content": "    int win_block_stride_y = win_stride_y / block_stride_y;",
          "content_same": false
        },
        {
          "line": 1934,
          "old_api": "ocl::KernelArg::PtrReadOnly(detector)",
          "new_api": null,
          "old_text": "ocl::KernelArg::PtrReadOnly(detector)",
          "new_text": null,
          "old_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrReadOnly(detector));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1936,
          "old_api": "set",
          "new_api": null,
          "old_text": "k.set(idx, threshold)",
          "new_text": null,
          "old_line_content": "    idx = k.set(idx, threshold);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 1937,
          "old_api": "ocl::KernelArg::PtrWriteOnly(labels)",
          "new_api": null,
          "old_text": "ocl::KernelArg::PtrWriteOnly(labels)",
          "new_text": null,
          "old_line_content": "    idx = k.set(idx, ocl::KernelArg::PtrWriteOnly(labels));",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1939,
          "old_api": "run",
          "new_api": null,
          "old_text": "k.run(2, globalThreads, localThreads, false)",
          "new_text": null,
          "old_line_content": "    return k.run(2, globalThreads, localThreads, false);",
          "new_line_content": "                       const UMat& oclSvmDetector, Size blockSize, Size cellSize, int nbins, Size blockStride, Size winSize,",
          "content_same": false
        },
        {
          "line": 1947,
          "old_api": "empty",
          "new_api": null,
          "old_text": "oclSvmDetector.empty()",
          "new_text": null,
          "old_line_content": "    if (oclSvmDetector.empty())",
          "new_line_content": "    Size effect_size = imgSize;",
          "content_same": false
        },
        {
          "line": 1950,
          "old_api": "size",
          "new_api": null,
          "old_text": "img.size()",
          "new_text": null,
          "old_line_content": "    Size imgSize = img.size();",
          "new_line_content": "    UMat qangle(imgSize, qangle_type);",
          "content_same": false
        },
        {
          "line": 1958,
          "old_api": "area",
          "new_api": null,
          "old_text": "blocks_per_img.area()",
          "new_text": null,
          "old_line_content": "    UMat block_hists(1, static_cast<int>(block_hist_size * blocks_per_img.area()) + 256, CV_32F);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1960,
          "old_api": "numPartsWithin",
          "new_api": null,
          "old_text": "numPartsWithin(imgSize, winSize, win_stride)",
          "new_text": null,
          "old_line_content": "    Size wins_per_img = numPartsWithin(imgSize, winSize, win_stride);",
          "new_line_content": "    Mat gaussian_lut(1, 512, CV_32FC1);",
          "content_same": false
        },
        {
          "line": 1961,
          "old_api": "area",
          "new_api": null,
          "old_text": "wins_per_img.area()",
          "new_text": null,
          "old_line_content": "    UMat labels(1, wins_per_img.area(), CV_8U);",
          "new_line_content": "    int idx = 0;",
          "content_same": false
        },
        {
          "line": 1968,
          "old_api": "std::exp(-(j * j + i * i) * scale)",
          "new_api": null,
          "old_text": "std::exp(-(j * j + i * i) * scale)",
          "new_text": null,
          "old_line_content": "            gaussian_lut.at<float>(idx++) = std::exp(-(j * j + i * i) * scale);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1971,
          "old_api": "fabs",
          "new_api": null,
          "old_text": "fabs(i + 0.5f)",
          "new_text": null,
          "old_line_content": "            gaussian_lut.at<float>(idx++) = (8.f - fabs(j + 0.5f)) * (8.f - fabs(i + 0.5f)) / 64.f;",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1977,
          "old_api": "copyTo",
          "new_api": null,
          "old_text": "gaussian_lut.copyTo(gauss_w_lut)",
          "new_text": null,
          "old_line_content": "    gaussian_lut.copyTo(gauss_w_lut);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 1990,
          "old_api": "ocl_classify_hists",
          "new_api": null,
          "old_text": "ocl_classify_hists(winSize.height, winSize.width, blockStride.height,\n        blockStride.width, win_stride.height, win_stride.width,\n        effect_size.height, effect_size.width, block_hists, oclSvmDetector,\n        free_coef, (float)hit_threshold, labels, descr_size, (int)block_hist_size)",
          "new_text": null,
          "old_line_content": "    if(!ocl_classify_hists(winSize.height, winSize.width, blockStride.height,",
          "new_line_content": "        return false;",
          "content_same": false
        },
        {
          "line": 1996,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "labels.getMat(ACCESS_READ)",
          "new_text": null,
          "old_line_content": "    Mat labels_host = labels.getMat(ACCESS_READ);",
          "new_line_content": "        int y = i / wins_per_img.width;",
          "content_same": false
        },
        {
          "line": 1997,
          "old_api": "ptr",
          "new_api": null,
          "old_text": "labels_host.ptr()",
          "new_text": null,
          "old_line_content": "    unsigned char *vec = labels_host.ptr();",
          "new_line_content": "        int x = i - wins_per_img.width * y;",
          "content_same": false
        },
        {
          "line": 1998,
          "old_api": "area",
          "new_api": null,
          "old_text": "wins_per_img.area()",
          "new_text": null,
          "old_line_content": "    for (int i = 0; i < wins_per_img.area(); i++)",
          "new_line_content": "        if (vec[i])",
          "content_same": false
        },
        {
          "line": 2004,
          "old_api": "Point",
          "new_api": null,
          "old_text": "Point(x * win_stride.width, y * win_stride.height)",
          "new_text": null,
          "old_line_content": "            hits.push_back(Point(x * win_stride.width, y * win_stride.height));",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2019,
          "old_api": "size",
          "new_api": null,
          "old_text": "_img.size()",
          "new_text": null,
          "old_line_content": "    Size imgSize = _img.size();",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 2020,
          "old_api": "type",
          "new_api": null,
          "old_text": "_img.type()",
          "new_text": null,
          "old_line_content": "    image_scale.create(imgSize, _img.type());",
          "new_line_content": "        double scale = level_scale[i];",
          "content_same": false
        },
        {
          "line": 2022,
          "old_api": "size",
          "new_api": null,
          "old_text": "level_scale.size()",
          "new_text": null,
          "old_line_content": "    for (size_t i = 0; i<level_scale.size() ; i++)",
          "new_line_content": "        if (effect_size == imgSize)",
          "content_same": false
        },
        {
          "line": 2025,
          "old_api": "cvRound",
          "new_api": null,
          "old_text": "cvRound(imgSize.height / scale)",
          "new_text": null,
          "old_line_content": "        Size effect_size = Size(cvRound(imgSize.width / scale), cvRound(imgSize.height / scale));",
          "new_line_content": "                blockStride, winSize, gammaCorrection, L2HysThreshold, sigma, free_coef, signedGradient))",
          "content_same": false
        },
        {
          "line": 2028,
          "old_api": "ocl_detect",
          "new_api": null,
          "old_text": "ocl_detect(_img, locations, hit_threshold, win_stride, oclSvmDetector, blockSize, cellSize, nbins,\n                blockStride, winSize, gammaCorrection, L2HysThreshold, sigma, free_coef, signedGradient)",
          "new_text": null,
          "old_line_content": "            if(!ocl_detect(_img, locations, hit_threshold, win_stride, oclSvmDetector, blockSize, cellSize, nbins,",
          "new_line_content": "        else",
          "content_same": false
        },
        {
          "line": 2034,
          "old_api": "resize",
          "new_api": null,
          "old_text": "resize(_img, image_scale, effect_size, 0, 0, INTER_LINEAR_EXACT)",
          "new_text": null,
          "old_line_content": "            resize(_img, image_scale, effect_size, 0, 0, INTER_LINEAR_EXACT);",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 2039,
          "old_api": "cvRound",
          "new_api": null,
          "old_text": "cvRound(winSize.width * scale)",
          "new_text": null,
          "old_line_content": "        Size scaled_win_size(cvRound(winSize.width * scale),",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 2044,
          "old_api": "end",
          "new_api": null,
          "old_text": "all_candidates.end()",
          "new_text": null,
          "old_line_content": "    found_locations.assign(all_candidates.begin(), all_candidates.end());",
          "new_line_content": "    return true;",
          "content_same": false
        },
        {
          "line": 2045,
          "old_api": "groupRectangles",
          "new_api": null,
          "old_text": "groupRectangles(found_locations, (int)group_threshold, 0.2)",
          "new_text": null,
          "old_line_content": "    groupRectangles(found_locations, (int)group_threshold, 0.2);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 2046,
          "old_api": "clipObjects",
          "new_api": null,
          "old_text": "clipObjects(imgSize, found_locations, 0, 0)",
          "new_text": null,
          "old_line_content": "    clipObjects(imgSize, found_locations, 0, 0);",
          "new_line_content": "#endif //HAVE_OPENCL",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 180,
      "total_additions": 361,
      "total_deletions": 364,
      "total_api_changes": 905
    },
    "non_api_changes": {
      "has_non_api_changes": false,
      "evidence": {
        "total_diff_lines": 5,
        "api_related_lines": 905,
        "non_api_lines": 0,
        "non_api_line_numbers": []
      }
    },
    "api_calls_before": 871,
    "api_calls_after": 863,
    "diff_info": {
      "added_lines": 1,
      "removed_lines": 5,
      "total_diff_lines": 21
    }
  }
}