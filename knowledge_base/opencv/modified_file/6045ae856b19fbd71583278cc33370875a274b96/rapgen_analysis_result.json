{
  "status": "completed",
  "commit_dir": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/opencv/modified_file/6045ae856b19fbd71583278cc33370875a274b96",
  "file_info": {
    "before_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/opencv/modified_file/6045ae856b19fbd71583278cc33370875a274b96/before.cpp",
    "after_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/opencv/modified_file/6045ae856b19fbd71583278cc33370875a274b96/after.cpp",
    "diff_file": "/home/zyw/llm_on_code/llm_on_code_optimization/knowledge_base/opencv/modified_file/6045ae856b19fbd71583278cc33370875a274b96/diff.txt"
  },
  "semgrep_analysis": {
    "is_api_change": false,
    "api_changes": {
      "replacements": [
        {
          "line": 641,
          "old_api": "CreateCloudWidget::create(cloud, nr_points)",
          "new_api": "channels",
          "old_text": "CreateCloudWidget::create(cloud, nr_points)",
          "new_text": "cloud.channels()",
          "old_line_content": "    vtkSmartPointer<vtkPolyData> polydata = CreateCloudWidget::create(cloud, nr_points);",
          "new_line_content": "        cloud.reshape(cloud.channels(), 1);",
          "content_same": false
        },
        {
          "line": 650,
          "old_api": "scalars->SetArray (colors_data->val, 3 * nr_points, 0)",
          "new_api": "NanFilter::copy(colors, colors_data, cloud)",
          "old_text": "scalars->SetArray (colors_data->val, 3 * nr_points, 0)",
          "new_text": "NanFilter::copy(colors, colors_data, cloud)",
          "old_line_content": "    scalars->SetArray (colors_data->val, 3 * nr_points, 0);",
          "new_line_content": "    NanFilter::copy(colors, colors_data, cloud);",
          "content_same": false
        },
        {
          "line": 653,
          "old_api": "polydata->GetPointData ()->SetScalars (scalars)",
          "new_api": "scalars->SetNumberOfComponents (3)",
          "old_text": "polydata->GetPointData ()->SetScalars (scalars)",
          "new_text": "scalars->SetNumberOfComponents (3)",
          "old_line_content": "    polydata->GetPointData ()->SetScalars (scalars);",
          "new_line_content": "    scalars->SetNumberOfComponents (3);",
          "content_same": false
        },
        {
          "line": 655,
          "old_api": "vtkSmartPointer<vtkDataSetMapper>::New ()",
          "new_api": "scalars->SetArray (colors_data->val, 3 * nr_points, 0)",
          "old_text": "vtkSmartPointer<vtkDataSetMapper>::New ()",
          "new_text": "scalars->SetArray (colors_data->val, 3 * nr_points, 0)",
          "old_line_content": "    vtkSmartPointer<vtkDataSetMapper> mapper = vtkSmartPointer<vtkDataSetMapper>::New ();",
          "new_line_content": "    scalars->SetArray (colors_data->val, 3 * nr_points, 0);",
          "content_same": false
        },
        {
          "line": 658,
          "old_api": "GetRange",
          "new_api": "polydata->GetPointData ()->SetScalars (scalars)",
          "old_text": "scalars->GetRange()",
          "new_text": "polydata->GetPointData ()->SetScalars (scalars)",
          "old_line_content": "    cv::Vec3d minmax(scalars->GetRange());",
          "new_line_content": "    polydata->GetPointData ()->SetScalars (scalars);",
          "content_same": false
        },
        {
          "line": 660,
          "old_api": "mapper->SetScalarModeToUsePointData ()",
          "new_api": "vtkSmartPointer<vtkDataSetMapper>::New ()",
          "old_text": "mapper->SetScalarModeToUsePointData ()",
          "new_text": "vtkSmartPointer<vtkDataSetMapper>::New ()",
          "old_line_content": "    mapper->SetScalarModeToUsePointData ();",
          "new_line_content": "    vtkSmartPointer<vtkDataSetMapper> mapper = vtkSmartPointer<vtkDataSetMapper>::New ();",
          "content_same": false
        },
        {
          "line": 664,
          "old_api": "mapper->SetInterpolateScalarsBeforeMapping (interpolation)",
          "new_api": "SetScalarRange",
          "old_text": "mapper->SetInterpolateScalarsBeforeMapping (interpolation)",
          "new_text": "mapper->SetScalarRange(minmax.val)",
          "old_line_content": "    mapper->SetInterpolateScalarsBeforeMapping (interpolation);",
          "new_line_content": "    mapper->SetScalarRange(minmax.val);",
          "content_same": false
        },
        {
          "line": 665,
          "old_api": "mapper->ScalarVisibilityOn ()",
          "new_api": "mapper->SetScalarModeToUsePointData ()",
          "old_text": "mapper->ScalarVisibilityOn ()",
          "new_text": "mapper->SetScalarModeToUsePointData ()",
          "old_line_content": "    mapper->ScalarVisibilityOn ();",
          "new_line_content": "    mapper->SetScalarModeToUsePointData ();",
          "content_same": false
        },
        {
          "line": 667,
          "old_api": "mapper->ImmediateModeRenderingOff ()",
          "new_api": "polydata->GetNumberOfVerts ()",
          "old_text": "mapper->ImmediateModeRenderingOff ()",
          "new_text": "polydata->GetNumberOfVerts ()",
          "old_line_content": "    mapper->ImmediateModeRenderingOff ();",
          "new_line_content": "    bool interpolation = (polydata && polydata->GetNumberOfCells () != polydata->GetNumberOfVerts ());",
          "content_same": false
        },
        {
          "line": 669,
          "old_api": "vtkSmartPointer<vtkLODActor>::New()",
          "new_api": "mapper->SetInterpolateScalarsBeforeMapping (interpolation)",
          "old_text": "vtkSmartPointer<vtkLODActor>::New()",
          "new_text": "mapper->SetInterpolateScalarsBeforeMapping (interpolation)",
          "old_line_content": "    vtkSmartPointer<vtkLODActor> actor = vtkSmartPointer<vtkLODActor>::New();",
          "new_line_content": "    mapper->SetInterpolateScalarsBeforeMapping (interpolation);",
          "content_same": false
        },
        {
          "line": 670,
          "old_api": "polydata->GetNumberOfPoints ()",
          "new_api": "mapper->ScalarVisibilityOn ()",
          "old_text": "polydata->GetNumberOfPoints ()",
          "new_text": "mapper->ScalarVisibilityOn ()",
          "old_line_content": "    actor->SetNumberOfCloudPoints (int (std::max<vtkIdType> (1, polydata->GetNumberOfPoints () / 10)));",
          "new_line_content": "    mapper->ScalarVisibilityOn ();",
          "content_same": false
        },
        {
          "line": 672,
          "old_api": "actor->GetProperty ()->BackfaceCullingOn ()",
          "new_api": "mapper->ImmediateModeRenderingOff ()",
          "old_text": "actor->GetProperty ()->BackfaceCullingOn ()",
          "new_text": "mapper->ImmediateModeRenderingOff ()",
          "old_line_content": "    actor->GetProperty ()->BackfaceCullingOn ();",
          "new_line_content": "    mapper->ImmediateModeRenderingOff ();",
          "content_same": false
        },
        {
          "line": 675,
          "old_api": "WidgetAccessor::setProp(*this, actor)",
          "new_api": "polydata->GetNumberOfPoints ()",
          "old_text": "WidgetAccessor::setProp(*this, actor)",
          "new_text": "polydata->GetNumberOfPoints ()",
          "old_line_content": "    WidgetAccessor::setProp(*this, actor);",
          "new_line_content": "    actor->SetNumberOfCloudPoints (int (std::max<vtkIdType> (1, polydata->GetNumberOfPoints () / 10)));",
          "content_same": false
        },
        {
          "line": 680,
          "old_api": "getMat",
          "new_api": "WidgetAccessor::setProp(*this, actor)",
          "old_text": "_cloud.getMat()",
          "new_text": "WidgetAccessor::setProp(*this, actor)",
          "old_line_content": "    Mat cloud = _cloud.getMat();",
          "new_line_content": "    WidgetAccessor::setProp(*this, actor);",
          "content_same": false
        },
        {
          "line": 685,
          "old_api": "CreateCloudWidget::create(cloud, nr_points)",
          "new_api": "getMat",
          "old_text": "CreateCloudWidget::create(cloud, nr_points)",
          "new_text": "_cloud.getMat()",
          "old_line_content": "    vtkSmartPointer<vtkPolyData> polydata = CreateCloudWidget::create(cloud, nr_points);",
          "new_line_content": "    Mat cloud = _cloud.getMat();",
          "content_same": false
        },
        {
          "line": 690,
          "old_api": "polydata->GetNumberOfVerts ()",
          "new_api": "CreateCloudWidget::create(cloud, nr_points)",
          "old_text": "polydata->GetNumberOfVerts ()",
          "new_text": "CreateCloudWidget::create(cloud, nr_points)",
          "old_line_content": "    bool interpolation = (polydata && polydata->GetNumberOfCells () != polydata->GetNumberOfVerts ());",
          "new_line_content": "    vtkSmartPointer<vtkPolyData> polydata = CreateCloudWidget::create(cloud, nr_points);",
          "content_same": false
        },
        {
          "line": 692,
          "old_api": "mapper->SetInterpolateScalarsBeforeMapping (interpolation)",
          "new_api": "vtkSmartPointer<vtkDataSetMapper>::New ()",
          "old_text": "mapper->SetInterpolateScalarsBeforeMapping (interpolation)",
          "new_text": "vtkSmartPointer<vtkDataSetMapper>::New ()",
          "old_line_content": "    mapper->SetInterpolateScalarsBeforeMapping (interpolation);",
          "new_line_content": "    vtkSmartPointer<vtkDataSetMapper> mapper = vtkSmartPointer<vtkDataSetMapper>::New ();",
          "content_same": false
        },
        {
          "line": 693,
          "old_api": "mapper->ScalarVisibilityOff ()",
          "new_api": "mapper->SetInput (polydata)",
          "old_text": "mapper->ScalarVisibilityOff ()",
          "new_text": "mapper->SetInput (polydata)",
          "old_line_content": "    mapper->ScalarVisibilityOff ();",
          "new_line_content": "    mapper->SetInput (polydata);",
          "content_same": false
        },
        {
          "line": 695,
          "old_api": "mapper->ImmediateModeRenderingOff ()",
          "new_api": "polydata->GetNumberOfVerts ()",
          "old_text": "mapper->ImmediateModeRenderingOff ()",
          "new_text": "polydata->GetNumberOfVerts ()",
          "old_line_content": "    mapper->ImmediateModeRenderingOff ();",
          "new_line_content": "    bool interpolation = (polydata && polydata->GetNumberOfCells () != polydata->GetNumberOfVerts ());",
          "content_same": false
        },
        {
          "line": 697,
          "old_api": "vtkSmartPointer<vtkLODActor>::New()",
          "new_api": "mapper->SetInterpolateScalarsBeforeMapping (interpolation)",
          "old_text": "vtkSmartPointer<vtkLODActor>::New()",
          "new_text": "mapper->SetInterpolateScalarsBeforeMapping (interpolation)",
          "old_line_content": "    vtkSmartPointer<vtkLODActor> actor = vtkSmartPointer<vtkLODActor>::New();",
          "new_line_content": "    mapper->SetInterpolateScalarsBeforeMapping (interpolation);",
          "content_same": false
        },
        {
          "line": 698,
          "old_api": "polydata->GetNumberOfPoints ()",
          "new_api": "mapper->ScalarVisibilityOff ()",
          "old_text": "polydata->GetNumberOfPoints ()",
          "new_text": "mapper->ScalarVisibilityOff ()",
          "old_line_content": "    actor->SetNumberOfCloudPoints (int (std::max<vtkIdType> (1, polydata->GetNumberOfPoints () / 10)));",
          "new_line_content": "    mapper->ScalarVisibilityOff ();",
          "content_same": false
        },
        {
          "line": 700,
          "old_api": "actor->GetProperty ()->BackfaceCullingOn ()",
          "new_api": "mapper->ImmediateModeRenderingOff ()",
          "old_text": "actor->GetProperty ()->BackfaceCullingOn ()",
          "new_text": "mapper->ImmediateModeRenderingOff ()",
          "old_line_content": "    actor->GetProperty ()->BackfaceCullingOn ();",
          "new_line_content": "    mapper->ImmediateModeRenderingOff ();",
          "content_same": false
        },
        {
          "line": 703,
          "old_api": "WidgetAccessor::setProp(*this, actor)",
          "new_api": "polydata->GetNumberOfPoints ()",
          "old_text": "WidgetAccessor::setProp(*this, actor)",
          "new_text": "polydata->GetNumberOfPoints ()",
          "old_line_content": "    WidgetAccessor::setProp(*this, actor);",
          "new_line_content": "    actor->SetNumberOfCloudPoints (int (std::max<vtkIdType> (1, polydata->GetNumberOfPoints () / 10)));",
          "content_same": false
        },
        {
          "line": 704,
          "old_api": "setColor",
          "new_api": "actor->GetProperty ()->SetInterpolationToFlat ()",
          "old_text": "setColor(color)",
          "new_text": "actor->GetProperty ()->SetInterpolationToFlat ()",
          "old_line_content": "    setColor(color);",
          "new_line_content": "    actor->GetProperty ()->SetInterpolationToFlat ();",
          "content_same": false
        },
        {
          "line": 709,
          "old_api": "this->cast<Widget3D>()",
          "new_api": "setColor",
          "old_text": "this->cast<Widget3D>()",
          "new_text": "setColor(color)",
          "old_line_content": "    Widget3D widget = this->cast<Widget3D>();",
          "new_line_content": "    setColor(color);",
          "content_same": false
        },
        {
          "line": 731,
          "old_api": "channels",
          "new_api": "static_cast<vtkIdType> ((cloud.rows - 1) / point_step)",
          "old_text": "cloud.channels()",
          "new_text": "static_cast<vtkIdType> ((cloud.rows - 1) / point_step)",
          "old_line_content": "            int cch = cloud.channels();",
          "new_line_content": "                    (static_cast<vtkIdType> ((cloud.rows - 1) / point_step) + 1);",
          "content_same": false
        },
        {
          "line": 736,
          "old_api": "normals.ptr<_Tp>(y)",
          "new_api": "channels",
          "old_text": "normals.ptr<_Tp>(y)",
          "new_text": "cloud.channels()",
          "old_line_content": "                const _Tp *nrow = normals.ptr<_Tp>(y);",
          "new_line_content": "            int cch = cloud.channels();",
          "content_same": false
        },
        {
          "line": 763,
          "old_api": "cloud.ptr<_Tp>()",
          "new_api": "vtkSmartPointer<vtkCellArray>::New()",
          "old_text": "cloud.ptr<_Tp>()",
          "new_text": "vtkSmartPointer<vtkCellArray>::New()",
          "old_line_content": "            const _Tp *p = cloud.ptr<_Tp>();",
          "new_line_content": "            vtkSmartPointer<vtkCellArray> lines = vtkSmartPointer<vtkCellArray>::New();",
          "content_same": false
        },
        {
          "line": 764,
          "old_api": "normals.ptr<_Tp>()",
          "new_api": "size",
          "old_text": "normals.ptr<_Tp>()",
          "new_text": "cloud.size().area()",
          "old_line_content": "            const _Tp *n = normals.ptr<_Tp>();",
          "new_line_content": "            nr_normals = (cloud.size().area() - 1) / level + 1 ;",
          "content_same": false
        },
        {
          "line": 801,
          "old_api": "vtkSmartPointer<vtkPoints>::New()",
          "new_api": "getMat",
          "old_text": "vtkSmartPointer<vtkPoints>::New()",
          "new_text": "_cloud.getMat()",
          "old_line_content": "    vtkSmartPointer<vtkPoints> points = vtkSmartPointer<vtkPoints>::New();",
          "new_line_content": "    Mat cloud = _cloud.getMat();",
          "content_same": false
        },
        {
          "line": 802,
          "old_api": "vtkSmartPointer<vtkCellArray>::New()",
          "new_api": "getMat",
          "old_text": "vtkSmartPointer<vtkCellArray>::New()",
          "new_text": "_normals.getMat()",
          "old_line_content": "    vtkSmartPointer<vtkCellArray> lines = vtkSmartPointer<vtkCellArray>::New();",
          "new_line_content": "    Mat normals = _normals.getMat();",
          "content_same": false
        },
        {
          "line": 807,
          "old_api": "SetDataTypeToFloat",
          "new_api": "vtkSmartPointer<vtkCellArray>::New()",
          "old_text": "points->SetDataTypeToFloat()",
          "new_text": "vtkSmartPointer<vtkCellArray>::New()",
          "old_line_content": "        points->SetDataTypeToFloat();",
          "new_line_content": "    vtkSmartPointer<vtkCellArray> lines = vtkSmartPointer<vtkCellArray>::New();",
          "content_same": false
        },
        {
          "line": 810,
          "old_api": "data->SetNumberOfComponents (3)",
          "new_api": "depth",
          "old_text": "data->SetNumberOfComponents (3)",
          "new_text": "cloud.depth()",
          "old_line_content": "        data->SetNumberOfComponents (3);",
          "new_line_content": "    if (cloud.depth() == CV_32F)",
          "content_same": false
        },
        {
          "line": 814,
          "old_api": "data->SetArray (&pts[0], 2 * nr_normals * 3, 0)",
          "new_api": "vtkSmartPointer<vtkFloatArray>::New ()",
          "old_text": "data->SetArray (&pts[0], 2 * nr_normals * 3, 0)",
          "new_text": "vtkSmartPointer<vtkFloatArray>::New ()",
          "old_line_content": "        data->SetArray (&pts[0], 2 * nr_normals * 3, 0);",
          "new_line_content": "        vtkSmartPointer<vtkFloatArray> data = vtkSmartPointer<vtkFloatArray>::New ();",
          "content_same": false
        },
        {
          "line": 815,
          "old_api": "points->SetData (data)",
          "new_api": "data->SetNumberOfComponents (3)",
          "old_text": "points->SetData (data)",
          "new_text": "data->SetNumberOfComponents (3)",
          "old_line_content": "        points->SetData (data);",
          "new_line_content": "        data->SetNumberOfComponents (3);",
          "content_same": false
        },
        {
          "line": 819,
          "old_api": "SetDataTypeToDouble",
          "new_api": "data->SetArray (&pts[0], 2 * nr_normals * 3, 0)",
          "old_text": "points->SetDataTypeToDouble()",
          "new_text": "data->SetArray (&pts[0], 2 * nr_normals * 3, 0)",
          "old_line_content": "        points->SetDataTypeToDouble();",
          "new_line_content": "        data->SetArray (&pts[0], 2 * nr_normals * 3, 0);",
          "content_same": false
        },
        {
          "line": 826,
          "old_api": "data->SetArray (&pts[0], 2 * nr_normals * 3, 0)",
          "new_api": "vtkSmartPointer<vtkDoubleArray>::New ()",
          "old_text": "data->SetArray (&pts[0], 2 * nr_normals * 3, 0)",
          "new_text": "vtkSmartPointer<vtkDoubleArray>::New ()",
          "old_line_content": "        data->SetArray (&pts[0], 2 * nr_normals * 3, 0);",
          "new_line_content": "        vtkSmartPointer<vtkDoubleArray> data = vtkSmartPointer<vtkDoubleArray>::New ();",
          "content_same": false
        },
        {
          "line": 827,
          "old_api": "points->SetData (data)",
          "new_api": "data->SetNumberOfComponents (3)",
          "old_text": "points->SetData (data)",
          "new_text": "data->SetNumberOfComponents (3)",
          "old_line_content": "        points->SetData (data);",
          "new_line_content": "        data->SetNumberOfComponents (3);",
          "content_same": false
        },
        {
          "line": 830,
          "old_api": "vtkSmartPointer<vtkPolyData>::New()",
          "new_api": "ApplyCloudNormals::apply(cloud, normals, level, scale, pts, nr_normals)",
          "old_text": "vtkSmartPointer<vtkPolyData>::New()",
          "new_text": "ApplyCloudNormals::apply(cloud, normals, level, scale, pts, nr_normals)",
          "old_line_content": "    vtkSmartPointer<vtkPolyData> polyData = vtkSmartPointer<vtkPolyData>::New();",
          "new_line_content": "        lines = ApplyCloudNormals::apply(cloud, normals, level, scale, pts, nr_normals);",
          "content_same": false
        },
        {
          "line": 831,
          "old_api": "polyData->SetPoints (points)",
          "new_api": "data->SetArray (&pts[0], 2 * nr_normals * 3, 0)",
          "old_text": "polyData->SetPoints (points)",
          "new_text": "data->SetArray (&pts[0], 2 * nr_normals * 3, 0)",
          "old_line_content": "    polyData->SetPoints (points);",
          "new_line_content": "        data->SetArray (&pts[0], 2 * nr_normals * 3, 0);",
          "content_same": false
        },
        {
          "line": 832,
          "old_api": "polyData->SetLines (lines)",
          "new_api": "points->SetData (data)",
          "old_text": "polyData->SetLines (lines)",
          "new_text": "points->SetData (data)",
          "old_line_content": "    polyData->SetLines (lines);",
          "new_line_content": "        points->SetData (data);",
          "content_same": false
        },
        {
          "line": 835,
          "old_api": "mapper->SetInput (polyData)",
          "new_api": "vtkSmartPointer<vtkPolyData>::New()",
          "old_text": "mapper->SetInput (polyData)",
          "new_text": "vtkSmartPointer<vtkPolyData>::New()",
          "old_line_content": "    mapper->SetInput (polyData);",
          "new_line_content": "    vtkSmartPointer<vtkPolyData> polyData = vtkSmartPointer<vtkPolyData>::New();",
          "content_same": false
        },
        {
          "line": 836,
          "old_api": "SetColorModeToMapScalars",
          "new_api": "polyData->SetPoints (points)",
          "old_text": "mapper->SetColorModeToMapScalars()",
          "new_text": "polyData->SetPoints (points)",
          "old_line_content": "    mapper->SetColorModeToMapScalars();",
          "new_line_content": "    polyData->SetPoints (points);",
          "content_same": false
        },
        {
          "line": 837,
          "old_api": "SetScalarModeToUsePointData",
          "new_api": "polyData->SetLines (lines)",
          "old_text": "mapper->SetScalarModeToUsePointData()",
          "new_text": "polyData->SetLines (lines)",
          "old_line_content": "    mapper->SetScalarModeToUsePointData();",
          "new_line_content": "    polyData->SetLines (lines);",
          "content_same": false
        },
        {
          "line": 839,
          "old_api": "vtkSmartPointer<vtkLODActor>::New()",
          "new_api": "vtkSmartPointer<vtkDataSetMapper>::New ()",
          "old_text": "vtkSmartPointer<vtkLODActor>::New()",
          "new_text": "vtkSmartPointer<vtkDataSetMapper>::New ()",
          "old_line_content": "    vtkSmartPointer<vtkLODActor> actor = vtkSmartPointer<vtkLODActor>::New();",
          "new_line_content": "    vtkSmartPointer<vtkDataSetMapper> mapper = vtkSmartPointer<vtkDataSetMapper>::New ();",
          "content_same": false
        },
        {
          "line": 840,
          "old_api": "SetMapper",
          "new_api": "mapper->SetInput (polyData)",
          "old_text": "actor->SetMapper(mapper)",
          "new_text": "mapper->SetInput (polyData)",
          "old_line_content": "    actor->SetMapper(mapper);",
          "new_line_content": "    mapper->SetInput (polyData);",
          "content_same": false
        },
        {
          "line": 841,
          "old_api": "WidgetAccessor::setProp(*this, actor)",
          "new_api": "SetColorModeToMapScalars",
          "old_text": "WidgetAccessor::setProp(*this, actor)",
          "new_text": "mapper->SetColorModeToMapScalars()",
          "old_line_content": "    WidgetAccessor::setProp(*this, actor);",
          "new_line_content": "    mapper->SetColorModeToMapScalars();",
          "content_same": false
        },
        {
          "line": 842,
          "old_api": "setColor",
          "new_api": "SetScalarModeToUsePointData",
          "old_text": "setColor(color)",
          "new_text": "mapper->SetScalarModeToUsePointData()",
          "old_line_content": "    setColor(color);",
          "new_line_content": "    mapper->SetScalarModeToUsePointData();",
          "content_same": false
        },
        {
          "line": 847,
          "old_api": "this->cast<Widget3D>()",
          "new_api": "setColor",
          "old_text": "this->cast<Widget3D>()",
          "new_text": "setColor(color)",
          "old_line_content": "    Widget3D widget = this->cast<Widget3D>();",
          "new_line_content": "    setColor(color);",
          "content_same": false
        }
      ],
      "additions": [
        {
          "line": 768,
          "old_api": null,
          "new_api": "cloud.ptr<_Tp>()",
          "old_text": null,
          "new_text": "cloud.ptr<_Tp>()",
          "old_line_content": "                pts[2 * j * 3 + 0] = p[i];",
          "new_line_content": "            const _Tp *p = cloud.ptr<_Tp>();",
          "content_same": false
        },
        {
          "line": 769,
          "old_api": null,
          "new_api": "normals.ptr<_Tp>()",
          "old_text": null,
          "new_text": "normals.ptr<_Tp>()",
          "old_line_content": "                pts[2 * j * 3 + 1] = p[i+1];",
          "new_line_content": "            const _Tp *n = normals.ptr<_Tp>();",
          "content_same": false
        },
        {
          "line": 642,
          "old_api": null,
          "new_api": "channels",
          "old_text": null,
          "new_text": "colors.channels()",
          "old_line_content": "",
          "new_line_content": "        colors.reshape(colors.channels(), 1);",
          "content_same": false
        },
        {
          "line": 646,
          "old_api": null,
          "new_api": "CreateCloudWidget::create(cloud, nr_points)",
          "old_text": null,
          "new_text": "CreateCloudWidget::create(cloud, nr_points)",
          "old_line_content": "",
          "new_line_content": "    vtkSmartPointer<vtkPolyData> polydata = CreateCloudWidget::create(cloud, nr_points);",
          "content_same": false
        },
        {
          "line": 652,
          "old_api": null,
          "new_api": "vtkSmartPointer<vtkUnsignedCharArray>::New ()",
          "old_text": null,
          "new_text": "vtkSmartPointer<vtkUnsignedCharArray>::New ()",
          "old_line_content": "    // Assign the colors",
          "new_line_content": "    vtkSmartPointer<vtkUnsignedCharArray> scalars = vtkSmartPointer<vtkUnsignedCharArray>::New ();",
          "content_same": false
        },
        {
          "line": 780,
          "old_api": null,
          "new_api": "lines->InsertNextCell (2)",
          "old_text": null,
          "new_text": "lines->InsertNextCell (2)",
          "old_line_content": "        }",
          "new_line_content": "                lines->InsertNextCell (2);",
          "content_same": false
        },
        {
          "line": 654,
          "old_api": null,
          "new_api": "scalars->SetNumberOfTuples (nr_points)",
          "old_text": null,
          "new_text": "scalars->SetNumberOfTuples (nr_points)",
          "old_line_content": "    ",
          "new_line_content": "    scalars->SetNumberOfTuples (nr_points);",
          "content_same": false
        },
        {
          "line": 781,
          "old_api": null,
          "new_api": "lines->InsertCellPoint (2 * j)",
          "old_text": null,
          "new_text": "lines->InsertCellPoint (2 * j)",
          "old_line_content": "    };",
          "new_line_content": "                lines->InsertCellPoint (2 * j);",
          "content_same": false
        },
        {
          "line": 782,
          "old_api": null,
          "new_api": "lines->InsertCellPoint (2 * j + 1)",
          "old_text": null,
          "new_text": "lines->InsertCellPoint (2 * j + 1)",
          "old_line_content": "    ",
          "new_line_content": "                lines->InsertCellPoint (2 * j + 1);",
          "content_same": false
        },
        {
          "line": 767,
          "old_api": null,
          "new_api": "channels",
          "old_text": null,
          "new_text": "cloud.channels()",
          "old_line_content": "                ",
          "new_line_content": "            int cch = cloud.channels();",
          "content_same": false
        },
        {
          "line": 661,
          "old_api": null,
          "new_api": "mapper->SetInput (polydata)",
          "old_text": null,
          "new_text": "mapper->SetInput (polydata)",
          "old_line_content": "",
          "new_line_content": "    mapper->SetInput (polydata);",
          "content_same": false
        },
        {
          "line": 663,
          "old_api": null,
          "new_api": "GetRange",
          "old_text": null,
          "new_text": "scalars->GetRange()",
          "old_line_content": "",
          "new_line_content": "    cv::Vec3d minmax(scalars->GetRange());",
          "content_same": false
        },
        {
          "line": 793,
          "old_api": null,
          "new_api": "ApplyCloudNormals::Impl<_Tp>::applyOrganized(cloud, normals, level, scale, pts, nr_normals)",
          "old_text": null,
          "new_text": "ApplyCloudNormals::Impl<_Tp>::applyOrganized(cloud, normals, level, scale, pts, nr_normals)",
          "old_line_content": "",
          "new_line_content": "            return ApplyCloudNormals::Impl<_Tp>::applyOrganized(cloud, normals, level, scale, pts, nr_normals);",
          "content_same": false
        },
        {
          "line": 795,
          "old_api": null,
          "new_api": "ApplyCloudNormals::Impl<_Tp>::applyUnorganized(cloud, normals, level, scale, pts, nr_normals)",
          "old_text": null,
          "new_text": "ApplyCloudNormals::Impl<_Tp>::applyUnorganized(cloud, normals, level, scale, pts, nr_normals)",
          "old_line_content": "{",
          "new_line_content": "            return ApplyCloudNormals::Impl<_Tp>::applyUnorganized(cloud, normals, level, scale, pts, nr_normals);",
          "content_same": false
        },
        {
          "line": 674,
          "old_api": null,
          "new_api": "vtkSmartPointer<vtkLODActor>::New()",
          "old_text": null,
          "new_text": "vtkSmartPointer<vtkLODActor>::New()",
          "old_line_content": "    ",
          "new_line_content": "    vtkSmartPointer<vtkLODActor> actor = vtkSmartPointer<vtkLODActor>::New();",
          "content_same": false
        },
        {
          "line": 803,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "cloud.type()",
          "old_line_content": "    vtkIdType nr_normals = 0;",
          "new_line_content": "    CV_Assert(cloud.type() == CV_32FC3 || cloud.type() == CV_64FC3 || cloud.type() == CV_32FC4 || cloud.type() == CV_64FC4);",
          "content_same": false
        },
        {
          "line": 676,
          "old_api": null,
          "new_api": "actor->GetProperty ()->SetInterpolationToFlat ()",
          "old_text": null,
          "new_text": "actor->GetProperty ()->SetInterpolationToFlat ()",
          "old_line_content": "}",
          "new_line_content": "    actor->GetProperty ()->SetInterpolationToFlat ();",
          "content_same": false
        },
        {
          "line": 677,
          "old_api": null,
          "new_api": "actor->GetProperty ()->BackfaceCullingOn ()",
          "old_text": null,
          "new_text": "actor->GetProperty ()->BackfaceCullingOn ()",
          "old_line_content": "",
          "new_line_content": "    actor->GetProperty ()->BackfaceCullingOn ();",
          "content_same": false
        },
        {
          "line": 678,
          "old_api": null,
          "new_api": "actor->SetMapper (mapper)",
          "old_text": null,
          "new_text": "actor->SetMapper (mapper)",
          "old_line_content": "temp_viz::CloudWidget::CloudWidget(InputArray _cloud, const Color &color)",
          "new_line_content": "    actor->SetMapper (mapper);",
          "content_same": false
        },
        {
          "line": 804,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "normals.type()",
          "old_line_content": "    ",
          "new_line_content": "    CV_Assert(cloud.size() == normals.size() && cloud.type() == normals.type());",
          "content_same": false
        },
        {
          "line": 806,
          "old_api": null,
          "new_api": "vtkSmartPointer<vtkPoints>::New()",
          "old_text": null,
          "new_text": "vtkSmartPointer<vtkPoints>::New()",
          "old_line_content": "    {",
          "new_line_content": "    vtkSmartPointer<vtkPoints> points = vtkSmartPointer<vtkPoints>::New();",
          "content_same": false
        },
        {
          "line": 812,
          "old_api": null,
          "new_api": "SetDataTypeToFloat",
          "old_text": null,
          "new_text": "points->SetDataTypeToFloat()",
          "old_line_content": "        float* pts = 0;",
          "new_line_content": "        points->SetDataTypeToFloat();",
          "content_same": false
        },
        {
          "line": 686,
          "old_api": null,
          "new_api": "type",
          "old_text": null,
          "new_text": "cloud.type()",
          "old_line_content": "    ",
          "new_line_content": "    CV_Assert(cloud.type() == CV_32FC3 || cloud.type() == CV_64FC3 || cloud.type() == CV_32FC4 || cloud.type() == CV_64FC4);",
          "content_same": false
        },
        {
          "line": 818,
          "old_api": null,
          "new_api": "ApplyCloudNormals::apply(cloud, normals, level, scale, pts, nr_normals)",
          "old_text": null,
          "new_text": "ApplyCloudNormals::apply(cloud, normals, level, scale, pts, nr_normals)",
          "old_line_content": "    {",
          "new_line_content": "        lines = ApplyCloudNormals::apply(cloud, normals, level, scale, pts, nr_normals);",
          "content_same": false
        },
        {
          "line": 820,
          "old_api": null,
          "new_api": "points->SetData (data)",
          "old_text": null,
          "new_text": "points->SetData (data)",
          "old_line_content": "    ",
          "new_line_content": "        points->SetData (data);",
          "content_same": false
        },
        {
          "line": 824,
          "old_api": null,
          "new_api": "SetDataTypeToDouble",
          "old_text": null,
          "new_text": "points->SetDataTypeToDouble()",
          "old_line_content": "        double* pts = 0;",
          "new_line_content": "        points->SetDataTypeToDouble();",
          "content_same": false
        },
        {
          "line": 702,
          "old_api": null,
          "new_api": "vtkSmartPointer<vtkLODActor>::New()",
          "old_text": null,
          "new_text": "vtkSmartPointer<vtkLODActor>::New()",
          "old_line_content": "    ",
          "new_line_content": "    vtkSmartPointer<vtkLODActor> actor = vtkSmartPointer<vtkLODActor>::New();",
          "content_same": false
        },
        {
          "line": 705,
          "old_api": null,
          "new_api": "actor->GetProperty ()->BackfaceCullingOn ()",
          "old_text": null,
          "new_text": "actor->GetProperty ()->BackfaceCullingOn ()",
          "old_line_content": "}",
          "new_line_content": "    actor->GetProperty ()->BackfaceCullingOn ();",
          "content_same": false
        },
        {
          "line": 706,
          "old_api": null,
          "new_api": "actor->SetMapper (mapper)",
          "old_text": null,
          "new_text": "actor->SetMapper (mapper)",
          "old_line_content": "",
          "new_line_content": "    actor->SetMapper (mapper);",
          "content_same": false
        },
        {
          "line": 708,
          "old_api": null,
          "new_api": "WidgetAccessor::setProp(*this, actor)",
          "old_text": null,
          "new_text": "WidgetAccessor::setProp(*this, actor)",
          "old_line_content": "{",
          "new_line_content": "    WidgetAccessor::setProp(*this, actor);",
          "content_same": false
        },
        {
          "line": 714,
          "old_api": null,
          "new_api": "this->cast<Widget3D>()",
          "old_text": null,
          "new_text": "this->cast<Widget3D>()",
          "old_line_content": "/// cloud normals widget implementation",
          "new_line_content": "    Widget3D widget = this->cast<Widget3D>();",
          "content_same": false
        },
        {
          "line": 715,
          "old_api": null,
          "new_api": "static_cast<CloudWidget&>(widget)",
          "old_text": null,
          "new_text": "static_cast<CloudWidget&>(widget)",
          "old_line_content": "",
          "new_line_content": "    return static_cast<CloudWidget&>(widget);",
          "content_same": false
        },
        {
          "line": 844,
          "old_api": null,
          "new_api": "vtkSmartPointer<vtkLODActor>::New()",
          "old_text": null,
          "new_text": "vtkSmartPointer<vtkLODActor>::New()",
          "old_line_content": "",
          "new_line_content": "    vtkSmartPointer<vtkLODActor> actor = vtkSmartPointer<vtkLODActor>::New();",
          "content_same": false
        },
        {
          "line": 845,
          "old_api": null,
          "new_api": "SetMapper",
          "old_text": null,
          "new_text": "actor->SetMapper(mapper)",
          "old_line_content": "template<> temp_viz::CloudNormalsWidget temp_viz::Widget::cast<temp_viz::CloudNormalsWidget>()",
          "new_line_content": "    actor->SetMapper(mapper);",
          "content_same": false
        },
        {
          "line": 846,
          "old_api": null,
          "new_api": "WidgetAccessor::setProp(*this, actor)",
          "old_text": null,
          "new_text": "WidgetAccessor::setProp(*this, actor)",
          "old_line_content": "{",
          "new_line_content": "    WidgetAccessor::setProp(*this, actor);",
          "content_same": false
        },
        {
          "line": 852,
          "old_api": null,
          "new_api": "this->cast<Widget3D>()",
          "old_text": null,
          "new_text": "this->cast<Widget3D>()",
          "old_line_content": "",
          "new_line_content": "    Widget3D widget = this->cast<Widget3D>();",
          "content_same": false
        },
        {
          "line": 853,
          "old_api": null,
          "new_api": "static_cast<CloudNormalsWidget&>(widget)",
          "old_text": null,
          "new_text": "static_cast<CloudNormalsWidget&>(widget)",
          "old_line_content": "",
          "new_line_content": "    return static_cast<CloudNormalsWidget&>(widget);",
          "content_same": false
        },
        {
          "line": 729,
          "old_api": null,
          "new_api": "sqrt (double (level))",
          "old_text": null,
          "new_text": "sqrt (double (level))",
          "old_line_content": "            pts = new _Tp[2 * nr_normals * 3];",
          "new_line_content": "            vtkIdType point_step = static_cast<vtkIdType> (sqrt (double (level)));",
          "content_same": false
        },
        {
          "line": 730,
          "old_api": null,
          "new_api": "static_cast<vtkIdType> ((cloud.cols - 1)/ point_step)",
          "old_text": null,
          "new_text": "static_cast<vtkIdType> ((cloud.cols - 1)/ point_step)",
          "old_line_content": "",
          "new_line_content": "            nr_normals = (static_cast<vtkIdType> ((cloud.cols - 1)/ point_step) + 1) *",
          "content_same": false
        },
        {
          "line": 732,
          "old_api": null,
          "new_api": "vtkSmartPointer<vtkCellArray>::New()",
          "old_text": null,
          "new_text": "vtkSmartPointer<vtkCellArray>::New()",
          "old_line_content": "            vtkIdType cell_count = 0;    ",
          "new_line_content": "            vtkSmartPointer<vtkCellArray> lines = vtkSmartPointer<vtkCellArray>::New();",
          "content_same": false
        },
        {
          "line": 740,
          "old_api": null,
          "new_api": "cloud.ptr<_Tp>(y)",
          "old_text": null,
          "new_text": "cloud.ptr<_Tp>(y)",
          "old_line_content": "                    pts[2 * cell_count * 3 + 1] = prow[x+1];",
          "new_line_content": "                const _Tp *prow = cloud.ptr<_Tp>(y);",
          "content_same": false
        },
        {
          "line": 741,
          "old_api": null,
          "new_api": "normals.ptr<_Tp>(y)",
          "old_text": null,
          "new_text": "normals.ptr<_Tp>(y)",
          "old_line_content": "                    pts[2 * cell_count * 3 + 2] = prow[x+2];",
          "new_line_content": "                const _Tp *nrow = normals.ptr<_Tp>(y);",
          "content_same": false
        },
        {
          "line": 751,
          "old_api": null,
          "new_api": "lines->InsertNextCell (2)",
          "old_text": null,
          "new_text": "lines->InsertNextCell (2)",
          "old_line_content": "            }",
          "new_line_content": "                    lines->InsertNextCell (2);",
          "content_same": false
        },
        {
          "line": 752,
          "old_api": null,
          "new_api": "lines->InsertCellPoint (2 * cell_count)",
          "old_text": null,
          "new_text": "lines->InsertCellPoint (2 * cell_count)",
          "old_line_content": "            return lines;",
          "new_line_content": "                    lines->InsertCellPoint (2 * cell_count);",
          "content_same": false
        },
        {
          "line": 753,
          "old_api": null,
          "new_api": "lines->InsertCellPoint (2 * cell_count + 1)",
          "old_text": null,
          "new_text": "lines->InsertCellPoint (2 * cell_count + 1)",
          "old_line_content": "        }",
          "new_line_content": "                    lines->InsertCellPoint (2 * cell_count + 1);",
          "content_same": false
        },
        {
          "line": 639,
          "old_api": null,
          "new_api": "isContinuous",
          "old_text": null,
          "new_text": "colors.isContinuous()",
          "old_line_content": "",
          "new_line_content": "    if (cloud.isContinuous() && colors.isContinuous())",
          "content_same": false
        }
      ],
      "deletions": [
        {
          "line": 645,
          "old_api": "NanFilter::copy(colors, colors_data, cloud)",
          "new_api": null,
          "old_text": "NanFilter::copy(colors, colors_data, cloud)",
          "new_text": null,
          "old_line_content": "    NanFilter::copy(colors, colors_data, cloud);",
          "new_line_content": "    vtkIdType nr_points;",
          "content_same": false
        },
        {
          "line": 647,
          "old_api": "vtkSmartPointer<vtkUnsignedCharArray>::New ()",
          "new_api": null,
          "old_text": "vtkSmartPointer<vtkUnsignedCharArray>::New ()",
          "new_text": null,
          "old_line_content": "    vtkSmartPointer<vtkUnsignedCharArray> scalars = vtkSmartPointer<vtkUnsignedCharArray>::New ();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 648,
          "old_api": "scalars->SetNumberOfComponents (3)",
          "new_api": null,
          "old_text": "scalars->SetNumberOfComponents (3)",
          "new_text": null,
          "old_line_content": "    scalars->SetNumberOfComponents (3);",
          "new_line_content": "    // Filter colors",
          "content_same": false
        },
        {
          "line": 649,
          "old_api": "scalars->SetNumberOfTuples (nr_points)",
          "new_api": null,
          "old_text": "scalars->SetNumberOfTuples (nr_points)",
          "new_text": null,
          "old_line_content": "    scalars->SetNumberOfTuples (nr_points);",
          "new_line_content": "    Vec3b* colors_data = new Vec3b[nr_points];",
          "content_same": false
        },
        {
          "line": 775,
          "old_api": "lines->InsertNextCell (2)",
          "new_api": null,
          "old_text": "lines->InsertNextCell (2)",
          "new_text": null,
          "old_line_content": "                lines->InsertNextCell (2);",
          "new_line_content": "                pts[2 * j * 3 + 2] = p[i+2];",
          "content_same": false
        },
        {
          "line": 776,
          "old_api": "lines->InsertCellPoint (2 * j)",
          "new_api": null,
          "old_text": "lines->InsertCellPoint (2 * j)",
          "new_text": null,
          "old_line_content": "                lines->InsertCellPoint (2 * j);",
          "new_line_content": "                pts[2 * j * 3 + 3] = p[i] + n[i] * scale;",
          "content_same": false
        },
        {
          "line": 777,
          "old_api": "lines->InsertCellPoint (2 * j + 1)",
          "new_api": null,
          "old_text": "lines->InsertCellPoint (2 * j + 1)",
          "new_text": null,
          "old_line_content": "                lines->InsertCellPoint (2 * j + 1);",
          "new_line_content": "                pts[2 * j * 3 + 4] = p[i+1] + n[i+1] * scale;",
          "content_same": false
        },
        {
          "line": 656,
          "old_api": "mapper->SetInput (polydata)",
          "new_api": null,
          "old_text": "mapper->SetInput (polydata)",
          "new_text": null,
          "old_line_content": "    mapper->SetInput (polydata);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 659,
          "old_api": "SetScalarRange",
          "new_api": null,
          "old_text": "mapper->SetScalarRange(minmax.val)",
          "new_text": null,
          "old_line_content": "    mapper->SetScalarRange(minmax.val);",
          "new_line_content": "    ",
          "content_same": false
        },
        {
          "line": 788,
          "old_api": "ApplyCloudNormals::Impl<_Tp>::applyOrganized(cloud, normals, level, scale, pts, nr_normals)",
          "new_api": null,
          "old_text": "ApplyCloudNormals::Impl<_Tp>::applyOrganized(cloud, normals, level, scale, pts, nr_normals)",
          "new_text": null,
          "old_line_content": "            return ApplyCloudNormals::Impl<_Tp>::applyOrganized(cloud, normals, level, scale, pts, nr_normals);",
          "new_line_content": "    template<typename _Tp>",
          "content_same": false
        },
        {
          "line": 662,
          "old_api": "polydata->GetNumberOfVerts ()",
          "new_api": null,
          "old_text": "polydata->GetNumberOfVerts ()",
          "new_text": null,
          "old_line_content": "    bool interpolation = (polydata && polydata->GetNumberOfCells () != polydata->GetNumberOfVerts ());",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 790,
          "old_api": "ApplyCloudNormals::Impl<_Tp>::applyUnorganized(cloud, normals, level, scale, pts, nr_normals)",
          "new_api": null,
          "old_text": "ApplyCloudNormals::Impl<_Tp>::applyUnorganized(cloud, normals, level, scale, pts, nr_normals)",
          "new_text": null,
          "old_line_content": "            return ApplyCloudNormals::Impl<_Tp>::applyUnorganized(cloud, normals, level, scale, pts, nr_normals);",
          "new_line_content": "                                                               int level, float scale, _Tp *&pts, vtkIdType &nr_normals)",
          "content_same": false
        },
        {
          "line": 796,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "_cloud.getMat()",
          "new_text": null,
          "old_line_content": "    Mat cloud = _cloud.getMat();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 797,
          "old_api": "getMat",
          "new_api": null,
          "old_text": "_normals.getMat()",
          "new_text": null,
          "old_line_content": "    Mat normals = _normals.getMat();",
          "new_line_content": "};",
          "content_same": false
        },
        {
          "line": 798,
          "old_api": "type",
          "new_api": null,
          "old_text": "cloud.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(cloud.type() == CV_32FC3 || cloud.type() == CV_64FC3 || cloud.type() == CV_32FC4 || cloud.type() == CV_64FC4);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 671,
          "old_api": "actor->GetProperty ()->SetInterpolationToFlat ()",
          "new_api": null,
          "old_text": "actor->GetProperty ()->SetInterpolationToFlat ()",
          "new_text": null,
          "old_line_content": "    actor->GetProperty ()->SetInterpolationToFlat ();",
          "new_line_content": "        ",
          "content_same": false
        },
        {
          "line": 799,
          "old_api": "type",
          "new_api": null,
          "old_text": "normals.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(cloud.size() == normals.size() && cloud.type() == normals.type());",
          "new_line_content": "temp_viz::CloudNormalsWidget::CloudNormalsWidget(InputArray _cloud, InputArray _normals, int level, float scale, const Color &color)",
          "content_same": false
        },
        {
          "line": 673,
          "old_api": "actor->SetMapper (mapper)",
          "new_api": null,
          "old_text": "actor->SetMapper (mapper)",
          "new_text": null,
          "old_line_content": "    actor->SetMapper (mapper);",
          "new_line_content": "    ",
          "content_same": false
        },
        {
          "line": 805,
          "old_api": "depth",
          "new_api": null,
          "old_text": "cloud.depth()",
          "new_text": null,
          "old_line_content": "    if (cloud.depth() == CV_32F)",
          "new_line_content": "  ",
          "content_same": false
        },
        {
          "line": 681,
          "old_api": "type",
          "new_api": null,
          "old_text": "cloud.type()",
          "new_text": null,
          "old_line_content": "    CV_Assert(cloud.type() == CV_32FC3 || cloud.type() == CV_64FC3 || cloud.type() == CV_32FC4 || cloud.type() == CV_64FC4);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 809,
          "old_api": "vtkSmartPointer<vtkFloatArray>::New ()",
          "new_api": null,
          "old_text": "vtkSmartPointer<vtkFloatArray>::New ()",
          "new_text": null,
          "old_line_content": "        vtkSmartPointer<vtkFloatArray> data = vtkSmartPointer<vtkFloatArray>::New ();",
          "new_line_content": "    ",
          "content_same": false
        },
        {
          "line": 813,
          "old_api": "ApplyCloudNormals::apply(cloud, normals, level, scale, pts, nr_normals)",
          "new_api": null,
          "old_text": "ApplyCloudNormals::apply(cloud, normals, level, scale, pts, nr_normals)",
          "new_text": null,
          "old_line_content": "        lines = ApplyCloudNormals::apply(cloud, normals, level, scale, pts, nr_normals);",
          "new_line_content": "    ",
          "content_same": false
        },
        {
          "line": 687,
          "old_api": "vtkSmartPointer<vtkDataSetMapper>::New ()",
          "new_api": null,
          "old_text": "vtkSmartPointer<vtkDataSetMapper>::New ()",
          "new_text": null,
          "old_line_content": "    vtkSmartPointer<vtkDataSetMapper> mapper = vtkSmartPointer<vtkDataSetMapper>::New ();",
          "new_line_content": "    ",
          "content_same": false
        },
        {
          "line": 688,
          "old_api": "mapper->SetInput (polydata)",
          "new_api": null,
          "old_text": "mapper->SetInput (polydata)",
          "new_text": null,
          "old_line_content": "    mapper->SetInput (polydata);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 821,
          "old_api": "vtkSmartPointer<vtkDoubleArray>::New ()",
          "new_api": null,
          "old_text": "vtkSmartPointer<vtkDoubleArray>::New ()",
          "new_text": null,
          "old_line_content": "        vtkSmartPointer<vtkDoubleArray> data = vtkSmartPointer<vtkDoubleArray>::New ();",
          "new_line_content": "    }",
          "content_same": false
        },
        {
          "line": 822,
          "old_api": "data->SetNumberOfComponents (3)",
          "new_api": null,
          "old_text": "data->SetNumberOfComponents (3)",
          "new_text": null,
          "old_line_content": "        data->SetNumberOfComponents (3);",
          "new_line_content": "    else",
          "content_same": false
        },
        {
          "line": 825,
          "old_api": "ApplyCloudNormals::apply(cloud, normals, level, scale, pts, nr_normals)",
          "new_api": null,
          "old_text": "ApplyCloudNormals::apply(cloud, normals, level, scale, pts, nr_normals)",
          "new_text": null,
          "old_line_content": "        lines = ApplyCloudNormals::apply(cloud, normals, level, scale, pts, nr_normals);",
          "new_line_content": "    ",
          "content_same": false
        },
        {
          "line": 699,
          "old_api": "actor->GetProperty ()->SetInterpolationToFlat ()",
          "new_api": null,
          "old_text": "actor->GetProperty ()->SetInterpolationToFlat ()",
          "new_text": null,
          "old_line_content": "    actor->GetProperty ()->SetInterpolationToFlat ();",
          "new_line_content": "        ",
          "content_same": false
        },
        {
          "line": 701,
          "old_api": "actor->SetMapper (mapper)",
          "new_api": null,
          "old_text": "actor->SetMapper (mapper)",
          "new_text": null,
          "old_line_content": "    actor->SetMapper (mapper);",
          "new_line_content": "    ",
          "content_same": false
        },
        {
          "line": 834,
          "old_api": "vtkSmartPointer<vtkDataSetMapper>::New ()",
          "new_api": null,
          "old_text": "vtkSmartPointer<vtkDataSetMapper>::New ()",
          "new_text": null,
          "old_line_content": "    vtkSmartPointer<vtkDataSetMapper> mapper = vtkSmartPointer<vtkDataSetMapper>::New ();",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 710,
          "old_api": "static_cast<CloudWidget&>(widget)",
          "new_api": null,
          "old_text": "static_cast<CloudWidget&>(widget)",
          "new_text": null,
          "old_line_content": "    return static_cast<CloudWidget&>(widget);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 848,
          "old_api": "static_cast<CloudNormalsWidget&>(widget)",
          "new_api": null,
          "old_text": "static_cast<CloudNormalsWidget&>(widget)",
          "new_text": null,
          "old_line_content": "    return static_cast<CloudNormalsWidget&>(widget);",
          "new_line_content": "}",
          "content_same": false
        },
        {
          "line": 724,
          "old_api": "sqrt (double (level))",
          "new_api": null,
          "old_text": "sqrt (double (level))",
          "new_text": null,
          "old_line_content": "            vtkIdType point_step = static_cast<vtkIdType> (sqrt (double (level)));",
          "new_line_content": "    struct Impl ",
          "content_same": false
        },
        {
          "line": 725,
          "old_api": "static_cast<vtkIdType> ((cloud.cols - 1)/ point_step)",
          "new_api": null,
          "old_text": "static_cast<vtkIdType> ((cloud.cols - 1)/ point_step)",
          "new_text": null,
          "old_line_content": "            nr_normals = (static_cast<vtkIdType> ((cloud.cols - 1)/ point_step) + 1) *",
          "new_line_content": "    {",
          "content_same": false
        },
        {
          "line": 726,
          "old_api": "static_cast<vtkIdType> ((cloud.rows - 1) / point_step)",
          "new_api": null,
          "old_text": "static_cast<vtkIdType> ((cloud.rows - 1) / point_step)",
          "new_text": null,
          "old_line_content": "                    (static_cast<vtkIdType> ((cloud.rows - 1) / point_step) + 1);",
          "new_line_content": "        static vtkSmartPointer<vtkCellArray> applyOrganized(const cv::Mat &cloud, const cv::Mat& normals, ",
          "content_same": false
        },
        {
          "line": 727,
          "old_api": "vtkSmartPointer<vtkCellArray>::New()",
          "new_api": null,
          "old_text": "vtkSmartPointer<vtkCellArray>::New()",
          "new_text": null,
          "old_line_content": "            vtkSmartPointer<vtkCellArray> lines = vtkSmartPointer<vtkCellArray>::New();",
          "new_line_content": "                                                            int level, float scale, _Tp *&pts, vtkIdType &nr_normals)",
          "content_same": false
        },
        {
          "line": 735,
          "old_api": "cloud.ptr<_Tp>(y)",
          "new_api": null,
          "old_text": "cloud.ptr<_Tp>(y)",
          "new_text": null,
          "old_line_content": "                const _Tp *prow = cloud.ptr<_Tp>(y);",
          "new_line_content": "",
          "content_same": false
        },
        {
          "line": 746,
          "old_api": "lines->InsertNextCell (2)",
          "new_api": null,
          "old_text": "lines->InsertNextCell (2)",
          "new_text": null,
          "old_line_content": "                    lines->InsertNextCell (2);",
          "new_line_content": "                    pts[2 * cell_count * 3 + 2] = prow[x+2];",
          "content_same": false
        },
        {
          "line": 747,
          "old_api": "lines->InsertCellPoint (2 * cell_count)",
          "new_api": null,
          "old_text": "lines->InsertCellPoint (2 * cell_count)",
          "new_text": null,
          "old_line_content": "                    lines->InsertCellPoint (2 * cell_count);",
          "new_line_content": "                    pts[2 * cell_count * 3 + 3] = prow[x] + nrow[x] * scale;",
          "content_same": false
        },
        {
          "line": 748,
          "old_api": "lines->InsertCellPoint (2 * cell_count + 1)",
          "new_api": null,
          "old_text": "lines->InsertCellPoint (2 * cell_count + 1)",
          "new_text": null,
          "old_line_content": "                    lines->InsertCellPoint (2 * cell_count + 1);",
          "new_line_content": "                    pts[2 * cell_count * 3 + 4] = prow[x+1] + nrow[x+1] * scale;",
          "content_same": false
        },
        {
          "line": 758,
          "old_api": "vtkSmartPointer<vtkCellArray>::New()",
          "new_api": null,
          "old_text": "vtkSmartPointer<vtkCellArray>::New()",
          "new_text": null,
          "old_line_content": "            vtkSmartPointer<vtkCellArray> lines = vtkSmartPointer<vtkCellArray>::New();",
          "new_line_content": "        }",
          "content_same": false
        },
        {
          "line": 759,
          "old_api": "size",
          "new_api": null,
          "old_text": "cloud.size().area()",
          "new_text": null,
          "old_line_content": "            nr_normals = (cloud.size().area() - 1) / level + 1 ;",
          "new_line_content": "        ",
          "content_same": false
        },
        {
          "line": 762,
          "old_api": "channels",
          "new_api": null,
          "old_text": "cloud.channels()",
          "new_text": null,
          "old_line_content": "            int cch = cloud.channels();",
          "new_line_content": "        {",
          "content_same": false
        }
      ]
    },
    "api_summary": {
      "total_replacements": 49,
      "total_additions": 46,
      "total_deletions": 43,
      "total_api_changes": 138
    },
    "non_api_changes": {
      "has_non_api_changes": true,
      "evidence": {
        "total_diff_lines": 6,
        "api_related_lines": 138,
        "non_api_lines": 3,
        "non_api_line_numbers": [
          640,
          643,
          638
        ]
      }
    },
    "api_calls_before": 461,
    "api_calls_after": 467,
    "diff_info": {
      "added_lines": 6,
      "removed_lines": 1,
      "total_diff_lines": 19
    }
  }
}